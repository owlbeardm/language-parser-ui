"use strict";var z3=Object.defineProperty,K3=Object.defineProperties,Y3=Object.getOwnPropertyDescriptors,QM=Object.getOwnPropertySymbols,X3=Object.prototype.hasOwnProperty,eF=Object.prototype.propertyIsEnumerable,zM=(it,Ce,P)=>Ce in it?z3(it,Ce,{enumerable:!0,configurable:!0,writable:!0,value:P}):it[Ce]=P,KM=(it,Ce)=>{for(var P in Ce||(Ce={}))X3.call(Ce,P)&&zM(it,P,Ce[P]);if(QM)for(var P of QM(Ce))eF.call(Ce,P)&&zM(it,P,Ce[P]);return it},YM=(it,Ce)=>K3(it,Y3(Ce));(self.webpackChunklanguage_parser_ui=self.webpackChunklanguage_parser_ui||[]).push([[179],{2011:(it,Ce,P)=>{P.d(Ce,{Dh:()=>de,GT:()=>ge,cc:()=>ke,hO:()=>qe,on:()=>J,pX:()=>le,xv:()=>me});var e=P(5e3),V=P(127),U=P(5813);it=P.hmd(it);const ie=["ngOnDestroy"],le=(pe,Xe,Ke,Ne={})=>new Proxy(pe,{get:(Ze,we)=>Ke.runOutsideAngular(()=>{var Je;if(pe[we])return!(null===(Je=null==Ne?void 0:Ne.spy)||void 0===Je)&&Je.get&&Ne.spy.get(we,pe[we]),pe[we];if(ie.indexOf(we)>-1)return()=>{};const re=Xe.toPromise().then(ue=>{const ye=ue&&ue[we];return"function"==typeof ye?ye.bind(ue):ye&&ye.then?ye.then(z=>Ke.run(()=>z)):Ke.run(()=>ye)});return new Proxy(()=>{},{get:(ue,ye)=>re[ye],apply:(ue,ye,z)=>re.then(X=>{var he;const se=X&&X(...z);return!(null===(he=null==Ne?void 0:Ne.spy)||void 0===he)&&he.apply&&Ne.spy.apply(we,z,se),se})})})}),ge=(pe,Xe)=>{Xe.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(Ne=>{Object.defineProperty(pe.prototype,Ne,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,Ne))})})};class fe{constructor(Xe){return Xe}}const de=new e.OlP("angularfire2.app.options"),me=new e.OlP("angularfire2.app.name");function J(pe,Xe,Ke){const Ze="object"==typeof Ke&&Ke||{};Ze.name=Ze.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const Je=V.Z.apps.filter(re=>re&&re.name===Ze.name)[0]||Xe.runOutsideAngular(()=>V.Z.initializeApp(pe,Ze));try{JSON.stringify(pe)!==JSON.stringify(Je.options)&&G("error",`${Je.name} Firebase App already initialized with different options${it.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(re){}return new fe(Je)}const G=(pe,...Xe)=>{(0,e.X6Q)()&&"undefined"!=typeof console&&console[pe](...Xe)},Y={provide:fe,useFactory:J,deps:[de,e.R0b,[new e.FiY,me]]};let qe=(()=>{class pe{constructor(Ke){V.Z.registerVersion("angularfire",U.q4.full,"core"),V.Z.registerVersion("angularfire",U.q4.full,"app-compat"),V.Z.registerVersion("angular",e.q4F.full,Ke.toString())}static initializeApp(Ke,Ne){return{ngModule:pe,providers:[{provide:de,useValue:Ke},{provide:me,useValue:Ne}]}}}return pe.\u0275fac=function(Ke){return new(Ke||pe)(e.LFG(e.Lbi))},pe.\u0275mod=e.oAB({type:pe}),pe.\u0275inj=e.cJS({providers:[Y]}),pe})();function ke(pe,Xe,Ke,Ne,Ze){const[,we,Je]=globalThis.\u0275AngularfireInstanceCache.find(re=>re[0]===pe)||[];if(we)return function Ae(pe,Xe){try{return pe.toString()===Xe.toString()}catch(Ke){return pe===Xe}}(Ze,Je)||(ve("error",`${Xe} was already initialized on the ${Ke} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:Ze,was:Je})),we;{const re=Ne();return globalThis.\u0275AngularfireInstanceCache.push([pe,re,Ze]),re}}const st=!!it.hot,ve=(pe,...Xe)=>{(0,e.X6Q)()&&"undefined"!=typeof console&&console[pe](...Xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(it,Ce,P)=>{P.d(Ce,{q4:()=>Ba,iC:()=>Zn,HU:()=>yl,vb:()=>_l,JM:()=>Wd});var e=P(5e3),V=P(5867),U=P(5861),ie=P(9681),le=P(2090),ge=P(4859),fe=P(1877),de=P(8766);const me="@firebase/installations",J="0.5.15",Y=`w:${J}`,qe="FIS_v2",Xe=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ke(A){return A instanceof le.ZR&&A.code.includes("request-failed")}function Ne({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function Ze(A){return{token:A.token,requestStatus:2,expiresIn:X(A.expiresIn),creationTime:Date.now()}}function we(A,I){return Je.apply(this,arguments)}function Je(){return(Je=(0,U.Z)(function*(A,I){const q=(yield I.json()).error;return Xe.create("request-failed",{requestName:A,serverCode:q.code,serverMessage:q.message,serverStatus:q.status})})).apply(this,arguments)}function re({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function ue(A,{refreshToken:I}){const Z=re(A);return Z.append("Authorization",function he(A){return`${qe} ${A}`}(I)),Z}function ye(A){return z.apply(this,arguments)}function z(){return(z=(0,U.Z)(function*(A){const I=yield A();return I.status>=500&&I.status<600?A():I})).apply(this,arguments)}function X(A){return Number(A.replace("s","000"))}function se(A,I){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,U.Z)(function*({appConfig:A,heartbeatServiceProvider:I},{fid:Z}){const q=Ne(A),K=re(A),ae=I.getImmediate({optional:!0});if(ae){const Ut=yield ae.getHeartbeatsHeader();Ut&&K.append("x-firebase-client",Ut)}const $e={method:"POST",headers:K,body:JSON.stringify({fid:Z,authVersion:qe,appId:A.appId,sdkVersion:Y})},At=yield ye(()=>fetch(q,$e));if(At.ok){const Ut=yield At.json();return{fid:Ut.fid||Z,registrationStatus:2,refreshToken:Ut.refreshToken,authToken:Ze(Ut.authToken)}}throw yield we("Create Installation",At)})).apply(this,arguments)}function Le(A){return new Promise(I=>{setTimeout(I,A)})}const un=/^[cdef][\w-]{21}$/;function We(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const Z=function mn(A){return function mt(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return un.test(Z)?Z:""}catch(A){return""}}function Sn(A){return`${A.appName}!${A.appId}`}const on=new Map;function sn(A,I){const Z=Sn(A);Pr(Z,I),function wo(A,I){const Z=function Pn(){return!$r&&"BroadcastChannel"in self&&($r=new BroadcastChannel("[Firebase] FID Change"),$r.onmessage=A=>{Pr(A.data.key,A.data.fid)}),$r}();Z&&Z.postMessage({key:A,fid:I}),function Fo(){0===on.size&&$r&&($r.close(),$r=null)}()}(Z,I)}function Pr(A,I){const Z=on.get(A);if(Z)for(const q of Z)q(I)}let $r=null;const Wn="firebase-installations-store";let qo=null;function yt(){return qo||(qo=(0,de.X3)("firebase-installations-database",1,{upgrade:(A,I)=>{0===I&&A.createObjectStore(Wn)}})),qo}function yn(A,I){return cr.apply(this,arguments)}function cr(){return(cr=(0,U.Z)(function*(A,I){const Z=Sn(A),K=(yield yt()).transaction(Wn,"readwrite"),ae=K.objectStore(Wn),xe=yield ae.get(Z);return yield ae.put(I,Z),yield K.done,(!xe||xe.fid!==I.fid)&&sn(A,I.fid),I})).apply(this,arguments)}function cn(A){return _r.apply(this,arguments)}function _r(){return(_r=(0,U.Z)(function*(A){const I=Sn(A),q=(yield yt()).transaction(Wn,"readwrite");yield q.objectStore(Wn).delete(I),yield q.done})).apply(this,arguments)}function Ir(A,I){return Er.apply(this,arguments)}function Er(){return(Er=(0,U.Z)(function*(A,I){const Z=Sn(A),K=(yield yt()).transaction(Wn,"readwrite"),ae=K.objectStore(Wn),xe=yield ae.get(Z),$e=I(xe);return void 0===$e?yield ae.delete(Z):yield ae.put($e,Z),yield K.done,$e&&(!xe||xe.fid!==$e.fid)&&sn(A,$e.fid),$e})).apply(this,arguments)}function vn(A){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,U.Z)(function*(A){let I;const Z=yield Ir(A.appConfig,q=>{const K=bn(q),ae=at(A,K);return I=ae.registrationPromise,ae.installationEntry});return""===Z.fid?{installationEntry:yield I}:{installationEntry:Z,registrationPromise:I}})).apply(this,arguments)}function bn(A){return Fn(A||{fid:We(),registrationStatus:0})}function at(A,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Xe.create("app-offline"))};const Z={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},q=function nt(A,I){return Dn.apply(this,arguments)}(A,Z);return{installationEntry:Z,registrationPromise:q}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Hr(A)}:{installationEntry:I}}function Dn(){return(Dn=(0,U.Z)(function*(A,I){try{const Z=yield se(A,I);return yn(A.appConfig,Z)}catch(Z){throw Ke(Z)&&409===Z.customData.serverCode?yield cn(A.appConfig):yield yn(A.appConfig,{fid:I.fid,registrationStatus:0}),Z}})).apply(this,arguments)}function Hr(A){return xn.apply(this,arguments)}function xn(){return(xn=(0,U.Z)(function*(A){let I=yield jt(A.appConfig);for(;1===I.registrationStatus;)yield Le(100),I=yield jt(A.appConfig);if(0===I.registrationStatus){const{installationEntry:Z,registrationPromise:q}=yield vn(A);return q||Z}return I})).apply(this,arguments)}function jt(A){return Ir(A,I=>{if(!I)throw Xe.create("installation-not-found");return Fn(I)})}function Fn(A){return function Jr(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function Lt(A,I){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,U.Z)(function*({appConfig:A,heartbeatServiceProvider:I},Z){const q=Ft(A,Z),K=ue(A,Z),ae=I.getImmediate({optional:!0});if(ae){const Ut=yield ae.getHeartbeatsHeader();Ut&&K.append("x-firebase-client",Ut)}const $e={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:Y,appId:A.appId}})},At=yield ye(()=>fetch(q,$e));if(At.ok)return Ze(yield At.json());throw yield we("Generate Auth Token",At)})).apply(this,arguments)}function Ft(A,{fid:I}){return`${Ne(A)}/${I}/authTokens:generate`}function Or(A){return jn.apply(this,arguments)}function jn(){return(jn=(0,U.Z)(function*(A,I=!1){let Z;const q=yield Ir(A.appConfig,ae=>{if(!an(ae))throw Xe.create("not-registered");const xe=ae.authToken;if(!I&&H(xe))return ae;if(1===xe.requestStatus)return Z=Ye(A,I),ae;{if(!navigator.onLine)throw Xe.create("app-offline");const $e=Q(ae);return Z=Tt(A,$e),$e}});return Z?yield Z:q.authToken})).apply(this,arguments)}function Ye(A,I){return De.apply(this,arguments)}function De(){return(De=(0,U.Z)(function*(A,I){let Z=yield et(A.appConfig);for(;1===Z.authToken.requestStatus;)yield Le(100),Z=yield et(A.appConfig);const q=Z.authToken;return 0===q.requestStatus?Or(A,I):q})).apply(this,arguments)}function et(A){return Ir(A,I=>{if(!an(I))throw Xe.create("not-registered");return function O(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Tt(A,I){return wt.apply(this,arguments)}function wt(){return(wt=(0,U.Z)(function*(A,I){try{const Z=yield Lt(A,I),q=Object.assign(Object.assign({},I),{authToken:Z});return yield yn(A.appConfig,q),Z}catch(Z){if(!Ke(Z)||401!==Z.customData.serverCode&&404!==Z.customData.serverCode){const q=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield yn(A.appConfig,q)}else yield cn(A.appConfig);throw Z}})).apply(this,arguments)}function an(A){return void 0!==A&&2===A.registrationStatus}function H(A){return 2===A.requestStatus&&!function B(A){const I=Date.now();return I<A.creationTime||A.creationTime+A.expiresIn<I+36e5}(A)}function Q(A){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:I})}function L(){return(L=(0,U.Z)(function*(A){const I=A,{installationEntry:Z,registrationPromise:q}=yield vn(I);return q?q.catch(console.error):Or(I).catch(console.error),Z.fid})).apply(this,arguments)}function Me(){return(Me=(0,U.Z)(function*(A,I=!1){const Z=A;return yield gt(Z),(yield Or(Z,I)).token})).apply(this,arguments)}function gt(A){return dt.apply(this,arguments)}function dt(){return(dt=(0,U.Z)(function*(A){const{registrationPromise:I}=yield vn(A);I&&(yield I)})).apply(this,arguments)}function Dr(A){return Xe.create("missing-app-config-values",{valueName:A})}const bi="installations",Vo=A=>{const I=A.getProvider("app").getImmediate(),Z=function An(A){if(!A||!A.options)throw Dr("App Configuration");if(!A.name)throw Dr("App Name");const I=["projectId","apiKey","appId"];for(const Z of I)if(!A.options[Z])throw Dr(Z);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(I);return{app:I,appConfig:Z,heartbeatServiceProvider:(0,ie._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Un=A=>{const I=A.getProvider("app").getImmediate(),Z=(0,ie._getProvider)(I,bi).getImmediate();return{getId:()=>function N(A){return L.apply(this,arguments)}(Z),getToken:K=>function oe(A){return Me.apply(this,arguments)}(Z,K)}};(function Ds(){(0,ie._registerComponent)(new ge.wA(bi,Vo,"PUBLIC")),(0,ie._registerComponent)(new ge.wA("installations-internal",Un,"PRIVATE"))})(),(0,ie.registerVersion)(me,J),(0,ie.registerVersion)(me,J,"esm2017");const Ai="@firebase/remote-config",qn=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ic{constructor(I,Z,q,K){this.client=I,this.storage=Z,this.storageCache=q,this.logger=K}isCachedDataFresh(I,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const q=Date.now()-Z,K=q<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${q}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${K}.`),K}fetch(I){var Z=this;return(0,U.Z)(function*(){const[q,K]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if(K&&Z.isCachedDataFresh(I.cacheMaxAgeMillis,q))return K;I.eTag=K&&K.eTag;const ae=yield Z.client.fetch(I),xe=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&xe.push(Z.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(xe),ae})()}}function tl(A=navigator){return A.languages&&A.languages[0]||A.language}class Ji{constructor(I,Z,q,K,ae,xe){this.firebaseInstallations=I,this.sdkVersion=Z,this.namespace=q,this.projectId=K,this.apiKey=ae,this.appId=xe}fetch(I){var Z=this;return(0,U.Z)(function*(){var q,K,ae;const[xe,$e]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),Ut=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,Mt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},vt={sdk_version:Z.sdkVersion,app_instance_id:xe,app_instance_id_token:$e,app_id:Z.appId,language_code:tl()},Hn={method:"POST",headers:Mt,body:JSON.stringify(vt)},sr=fetch(Ut,Hn),Mi=new Promise((gs,Xs)=>{I.signal.addEventListener(()=>{const Tl=new Error("The operation was aborted.");Tl.name="AbortError",Xs(Tl)})});let Fr;try{yield Promise.race([sr,Mi]),Fr=yield sr}catch(gs){let Xs="fetch-client-network";throw"AbortError"===(null===(q=gs)||void 0===q?void 0:q.name)&&(Xs="fetch-timeout"),qn.create(Xs,{originalErrorMessage:null===(K=gs)||void 0===K?void 0:K.message})}let zo=Fr.status;const Cl=Fr.headers.get("ETag")||void 0;let ps,Ys;if(200===Fr.status){let gs;try{gs=yield Fr.json()}catch(Xs){throw qn.create("fetch-client-parse",{originalErrorMessage:null===(ae=Xs)||void 0===ae?void 0:ae.message})}ps=gs.entries,Ys=gs.state}if("INSTANCE_STATE_UNSPECIFIED"===Ys?zo=500:"NO_CHANGE"===Ys?zo=304:("NO_TEMPLATE"===Ys||"EMPTY_CONFIG"===Ys)&&(ps={}),304!==zo&&200!==zo)throw qn.create("fetch-status",{httpStatus:zo});return{status:zo,eTag:Cl,config:ps}})()}}class ti{constructor(I,Z){this.client=I,this.storage=Z}fetch(I){var Z=this;return(0,U.Z)(function*(){const q=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch(I,q)})()}attemptFetch(I,{throttleEndTimeMillis:Z,backoffCount:q}){var K=this;return(0,U.Z)(function*(){yield function ao(A,I){return new Promise((Z,q)=>{const K=Math.max(I-Date.now(),0),ae=setTimeout(Z,K);A.addEventListener(()=>{clearTimeout(ae),q(qn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,Z);try{const ae=yield K.client.fetch(I);return yield K.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function xp(A){if(!(A instanceof le.ZR&&A.customData))return!1;const I=Number(A.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ae))throw ae;const xe={throttleEndTimeMillis:Date.now()+(0,le.$s)(q),backoffCount:q+1};return yield K.storage.setThrottleMetadata(xe),K.attemptFetch(I,xe)}})()}}class kp{constructor(I,Z,q,K,ae){this.app=I,this._client=Z,this._storageCache=q,this._storage=K,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ca(A,I){var Z;const q=A.target.error||void 0;return qn.create(I,{originalErrorMessage:q&&(null===(Z=q)||void 0===Z?void 0:Z.message)})}const ks="app_namespace_store";class nl{constructor(I,Z,q,K=function Up(){return new Promise((A,I)=>{var Z;try{const q=indexedDB.open("firebase_remote_config",1);q.onerror=K=>{I(Ca(K,"storage-open"))},q.onsuccess=K=>{A(K.target.result)},q.onupgradeneeded=K=>{0===K.oldVersion&&K.target.result.createObjectStore(ks,{keyPath:"compositeKey"})}}catch(q){I(qn.create("storage-open",{originalErrorMessage:null===(Z=q)||void 0===Z?void 0:Z.message}))}})}()){this.appId=I,this.appName=Z,this.namespace=q,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var Z=this;return(0,U.Z)(function*(){const q=yield Z.openDbPromise;return new Promise((K,ae)=>{var xe;const At=q.transaction([ks],"readonly").objectStore(ks),Ut=Z.createCompositeKey(I);try{const Mt=At.get(Ut);Mt.onerror=vt=>{ae(Ca(vt,"storage-get"))},Mt.onsuccess=vt=>{const Hn=vt.target.result;K(Hn?Hn.value:void 0)}}catch(Mt){ae(qn.create("storage-get",{originalErrorMessage:null===(xe=Mt)||void 0===xe?void 0:xe.message}))}})})()}set(I,Z){var q=this;return(0,U.Z)(function*(){const K=yield q.openDbPromise;return new Promise((ae,xe)=>{var $e;const Ut=K.transaction([ks],"readwrite").objectStore(ks),Mt=q.createCompositeKey(I);try{const vt=Ut.put({compositeKey:Mt,value:Z});vt.onerror=Hn=>{xe(Ca(Hn,"storage-set"))},vt.onsuccess=()=>{ae()}}catch(vt){xe(qn.create("storage-set",{originalErrorMessage:null===($e=vt)||void 0===$e?void 0:$e.message}))}})})()}delete(I){var Z=this;return(0,U.Z)(function*(){const q=yield Z.openDbPromise;return new Promise((K,ae)=>{var xe;const At=q.transaction([ks],"readwrite").objectStore(ks),Ut=Z.createCompositeKey(I);try{const Mt=At.delete(Ut);Mt.onerror=vt=>{ae(Ca(vt,"storage-delete"))},Mt.onsuccess=()=>{K()}}catch(Mt){ae(qn.create("storage-delete",{originalErrorMessage:null===(xe=Mt)||void 0===xe?void 0:xe.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class ni{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,U.Z)(function*(){const Z=I.storage.getLastFetchStatus(),q=I.storage.getLastSuccessfulFetchTimestampMillis(),K=I.storage.getActiveConfig(),ae=yield Z;ae&&(I.lastFetchStatus=ae);const xe=yield q;xe&&(I.lastSuccessfulFetchTimestampMillis=xe);const $e=yield K;$e&&(I.activeConfig=$e)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Us(){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,U.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(A){return!1}})).apply(this,arguments)}!function Mp(){(0,ie._registerComponent)(new ge.wA("remote-config",function A(I,{instanceIdentifier:Z}){const q=I.getProvider("app").getImmediate(),K=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw qn.create("registration-window");if(!(0,le.hl)())throw qn.create("indexed-db-unavailable");const{projectId:ae,apiKey:xe,appId:$e}=q.options;if(!ae)throw qn.create("registration-project-id");if(!xe)throw qn.create("registration-api-key");if(!$e)throw qn.create("registration-app-id");const At=new nl($e,q.name,Z=Z||"firebase"),Ut=new ni(At),Mt=new fe.Yd(Ai);Mt.logLevel=fe.in.ERROR;const vt=new Ji(K,ie.SDK_VERSION,Z,ae,xe,$e),Hn=new ti(vt,At),sr=new ic(Hn,At,Ut,Mt),Mi=new kp(q,sr,Ut,At,Mt);return function pt(A){const I=(0,le.m9)(A);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Mi),Mi},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(Ai,"0.3.14"),(0,ie.registerVersion)(Ai,"0.3.14","esm2017")}();const lo="/firebase-messaging-sw.js",Wi="/firebase-cloud-messaging-push-scope",Ms="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wa="google.c.a.c_id",rl="google.c.a.c_l",xd="google.c.a.ts",Qi="google.c.a.e";var Vn=(()=>{return(A=Vn||(Vn={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",Vn;var A})();function Eo(A){const I=new Uint8Array(A);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function uc(A){const Z=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),q=atob(Z),K=new Uint8Array(q.length);for(let ae=0;ae<q.length;++ae)K[ae]=q.charCodeAt(ae);return K}const zi="fcm_token_details_db",Kl="fcm_token_object_Store";function Qn(A){return ol.apply(this,arguments)}function ol(){return ol=(0,U.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes(zi))return null;let I=null;return(yield(0,de.X3)(zi,5,{upgrade:(q=(0,U.Z)(function*(K,ae,xe,$e){var At;if(ae<2||!K.objectStoreNames.contains(Kl))return;const Ut=$e.objectStore(Kl),Mt=yield Ut.index("fcmSenderId").get(A);if(yield Ut.clear(),Mt)if(2===ae){const vt=Mt;if(!vt.auth||!vt.p256dh||!vt.endpoint)return;I={token:vt.fcmToken,createTime:null!==(At=vt.createTime)&&void 0!==At?At:Date.now(),subscriptionOptions:{auth:vt.auth,p256dh:vt.p256dh,endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:"string"==typeof vt.vapidKey?vt.vapidKey:Eo(vt.vapidKey)}}}else if(3===ae){const vt=Mt;I={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:Eo(vt.auth),p256dh:Eo(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:Eo(vt.vapidKey)}}}else if(4===ae){const vt=Mt;I={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:Eo(vt.auth),p256dh:Eo(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:Eo(vt.vapidKey)}}}}),function(ae,xe,$e,At){return q.apply(this,arguments)})})).close(),yield(0,de.Lj)(zi),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),cc(I)?I:null;var q}),ol.apply(this,arguments)}function cc(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:I}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Ei="firebase-messaging-store";let Ki=null;function ri(){return Ki||(Ki=(0,de.X3)("firebase-messaging-database",1,{upgrade:(A,I)=>{0===I&&A.createObjectStore(Ei)}})),Ki}function dr(A){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,U.Z)(function*(A){const I=Xi(A),q=yield(yield ri()).transaction(Ei).objectStore(Ei).get(I);if(q)return q;{const K=yield Qn(A.appConfig.senderId);if(K)return yield jo(A,K),K}})).apply(this,arguments)}function jo(A,I){return Di.apply(this,arguments)}function Di(){return(Di=(0,U.Z)(function*(A,I){const Z=Xi(A),K=(yield ri()).transaction(Ei,"readwrite");return yield K.objectStore(Ei).put(I,Z),yield K.done,I})).apply(this,arguments)}function $o(A){return Si.apply(this,arguments)}function Si(){return(Si=(0,U.Z)(function*(A){const I=Xi(A),q=(yield ri()).transaction(Ei,"readwrite");yield q.objectStore(Ei).delete(I),yield q.done})).apply(this,arguments)}function Xi({appConfig:A}){return A.appId}const $n=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Zd(A,I){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,U.Z)(function*(A,I){var Z;const q=yield Ie(A),K=es(I),ae={method:"POST",headers:q,body:JSON.stringify(K)};let xe;try{xe=yield(yield fetch(il(A.appConfig),ae)).json()}catch($e){throw $n.create("token-subscribe-failed",{errorInfo:null===(Z=$e)||void 0===Z?void 0:Z.toString()})}if(xe.error)throw $n.create("token-subscribe-failed",{errorInfo:xe.error.message});if(!xe.token)throw $n.create("token-subscribe-no-token");return xe.token})).apply(this,arguments)}function dc(A,I){return xi.apply(this,arguments)}function xi(){return(xi=(0,U.Z)(function*(A,I){var Z;const q=yield Ie(A),K=es(I.subscriptionOptions),ae={method:"PATCH",headers:q,body:JSON.stringify(K)};let xe;try{xe=yield(yield fetch(`${il(A.appConfig)}/${I.token}`,ae)).json()}catch($e){throw $n.create("token-update-failed",{errorInfo:null===(Z=$e)||void 0===Z?void 0:Z.toString()})}if(xe.error)throw $n.create("token-update-failed",{errorInfo:xe.error.message});if(!xe.token)throw $n.create("token-update-no-token");return xe.token})).apply(this,arguments)}function Ps(A,I){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,U.Z)(function*(A,I){var Z;const K={method:"DELETE",headers:yield Ie(A)};try{const xe=yield(yield fetch(`${il(A.appConfig)}/${I}`,K)).json();if(xe.error)throw $n.create("token-unsubscribe-failed",{errorInfo:xe.error.message})}catch(ae){throw $n.create("token-unsubscribe-failed",{errorInfo:null===(Z=ae)||void 0===Z?void 0:Z.toString()})}})).apply(this,arguments)}function il({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function Ie(A){return $t.apply(this,arguments)}function $t(){return($t=(0,U.Z)(function*({appConfig:A,installations:I}){const Z=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${Z}`})})).apply(this,arguments)}function es({p256dh:A,auth:I,endpoint:Z,vapidKey:q}){const K={web:{endpoint:Z,auth:I,p256dh:A}};return q!==Ms&&(K.web.applicationPubKey=q),K}const ts=6048e5;function Gn(A){return ns.apply(this,arguments)}function ns(){return(ns=(0,U.Z)(function*(A){const I=yield r_(A.swRegistration,A.vapidKey),Z={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:I.endpoint,auth:Eo(I.getKey("auth")),p256dh:Eo(I.getKey("p256dh"))},q=yield dr(A.firebaseDependencies);if(q){if(hr(q.subscriptionOptions,Z))return Date.now()>=q.createTime+ts?Yl(A,{token:q.token,createTime:Date.now(),subscriptionOptions:Z}):q.token;try{yield Ps(A.firebaseDependencies,q.token)}catch(K){console.warn(K)}return Ia(A.firebaseDependencies,Z)}return Ia(A.firebaseDependencies,Z)})).apply(this,arguments)}function Os(A){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,U.Z)(function*(A){const I=yield dr(A.firebaseDependencies);I&&(yield Ps(A.firebaseDependencies,I.token),yield $o(A.firebaseDependencies));const Z=yield A.swRegistration.pushManager.getSubscription();return!Z||Z.unsubscribe()})).apply(this,arguments)}function Yl(A,I){return rs.apply(this,arguments)}function rs(){return(rs=(0,U.Z)(function*(A,I){try{const Z=yield dc(A.firebaseDependencies,I),q=Object.assign(Object.assign({},I),{token:Z,createTime:Date.now()});return yield jo(A.firebaseDependencies,q),Z}catch(Z){throw yield Os(A),Z}})).apply(this,arguments)}function Ia(A,I){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,U.Z)(function*(A,I){const q={token:yield Zd(A,I),createTime:Date.now(),subscriptionOptions:I};return yield jo(A,q),q.token})).apply(this,arguments)}function r_(A,I){return Go.apply(this,arguments)}function Go(){return(Go=(0,U.Z)(function*(A,I){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:uc(I)})})).apply(this,arguments)}function hr(A,I){return I.vapidKey===A.vapidKey&&I.endpoint===A.endpoint&&I.auth===A.auth&&I.p256dh===A.p256dh}function uo(A){const I={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function Xl(A,I){if(!I.notification)return;A.notification={};const Z=I.notification.title;Z&&(A.notification.title=Z);const q=I.notification.body;q&&(A.notification.body=q);const K=I.notification.image;K&&(A.notification.image=K)}(I,A),function os(A,I){!I.data||(A.data=I.data)}(I,A),function So(A,I){var Z,q,K,ae,xe;if(!(I.fcmOptions||null!==(Z=I.notification)&&void 0!==Z&&Z.click_action))return;A.fcmOptions={};const $e=null!==(K=null===(q=I.fcmOptions)||void 0===q?void 0:q.link)&&void 0!==K?K:null===(ae=I.notification)||void 0===ae?void 0:ae.click_action;$e&&(A.fcmOptions.link=$e);const At=null===(xe=I.fcmOptions)||void 0===xe?void 0:xe.analytics_label;At&&(A.fcmOptions.analyticsLabel=At)}(I,A),I}function kd(A){return"object"==typeof A&&!!A&&wa in A}function eu(A,I){const Z=[];for(let q=0;q<A.length;q++)Z.push(A.charAt(q)),q<I.length&&Z.push(I.charAt(q));return Z.join("")}function tu(A){return $n.create("missing-app-config-values",{valueName:A})}eu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),eu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ea{constructor(I,Z,q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function sl(A){if(!A||!A.options)throw tu("App Configuration Object");if(!A.name)throw tu("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:Z}=A;for(const q of I)if(!Z[q])throw tu(q);return{appName:A.name,projectId:Z.projectId,apiKey:Z.apiKey,appId:Z.appId,senderId:Z.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:K,installations:Z,analyticsProvider:q}}_delete(){return Promise.resolve()}}function Da(A){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,U.Z)(function*(A){var I;try{A.swRegistration=yield navigator.serviceWorker.register(lo,{scope:Wi}),A.swRegistration.update().catch(()=>{})}catch(Z){throw $n.create("failed-service-worker-registration",{browserErrorMessage:null===(I=Z)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function nu(A,I){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,U.Z)(function*(A,I){if(!I&&!A.swRegistration&&(yield Da(A)),I||!A.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw $n.create("invalid-sw-registration");A.swRegistration=I}})).apply(this,arguments)}function al(A,I){return qs.apply(this,arguments)}function qs(){return(qs=(0,U.Z)(function*(A,I){I?A.vapidKey=I:A.vapidKey||(A.vapidKey=Ms)})).apply(this,arguments)}function Vs(){return(Vs=(0,U.Z)(function*(A,I){if(!navigator)throw $n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $n.create("permission-blocked");return yield al(A,null==I?void 0:I.vapidKey),yield nu(A,null==I?void 0:I.serviceWorkerRegistration),Gn(A)})).apply(this,arguments)}function pc(A,I,Z){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,U.Z)(function*(A,I,Z){const q=ll(I);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(q,{message_id:Z[wa],message_name:Z[rl],message_time:Z[xd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ll(A){switch(A){case Vn.NOTIFICATION_CLICKED:return"notification_open";case Vn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function xa(){return(xa=(0,U.Z)(function*(A,I){const Z=I.data;if(!Z.isFirebaseMessaging)return;A.onMessageHandler&&Z.messageType===Vn.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(uo(Z)):A.onMessageHandler.next(uo(Z)));const q=Z.data;kd(q)&&"1"===q[Qi]&&(yield pc(A,Z.messageType,q))})).apply(this,arguments)}const zn="@firebase/messaging",In=A=>{const I=new Ea(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Z=>function Nd(A,I){return xa.apply(this,arguments)}(I,Z)),I},Ud=A=>{const I=A.getProvider("messaging").getImmediate();return{getToken:q=>function hc(A,I){return Vs.apply(this,arguments)}(I,q)}};function Pd(){return ru.apply(this,arguments)}function ru(){return(ru=(0,U.Z)(function*(){try{yield(0,le.eu)()}catch(A){return!1}return"undefined"!=typeof window&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Md(){(0,ie._registerComponent)(new ge.wA("messaging",In,"PUBLIC")),(0,ie._registerComponent)(new ge.wA("messaging-internal",Ud,"PRIVATE")),(0,ie.registerVersion)(zn,"0.9.19"),(0,ie.registerVersion)(zn,"0.9.19","esm2017")}();const Jo="analytics",js="firebase_id",Gs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",su="https://www.googletagmanager.com/gtag/js",pr=new fe.Yd("@firebase/analytics");function Rd(A){return Promise.all(A.map(I=>I.catch(Z=>Z)))}function i_(A,I){const Z=document.createElement("script");Z.src=`${su}?l=${A}&id=${I}`,Z.async=!0,document.head.appendChild(Z)}function ka(A,I,Z,q,K,ae){return au.apply(this,arguments)}function au(){return(au=(0,U.Z)(function*(A,I,Z,q,K,ae){const xe=q[K];try{if(xe)yield I[xe];else{const At=(yield Rd(Z)).find(Ut=>Ut.measurementId===K);At&&(yield I[At.appId])}}catch($e){pr.error($e)}A("config",K,ae)})).apply(this,arguments)}function Na(A,I,Z,q,K){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,U.Z)(function*(A,I,Z,q,K){try{let ae=[];if(K&&K.send_to){let xe=K.send_to;Array.isArray(xe)||(xe=[xe]);const $e=yield Rd(Z);for(const At of xe){const Ut=$e.find(vt=>vt.measurementId===At),Mt=Ut&&I[Ut.appId];if(!Mt){ae=[];break}ae.push(Mt)}}0===ae.length&&(ae=Object.values(I)),yield Promise.all(ae),A("event",q,K||{})}catch(ae){pr.error(ae)}})).apply(this,arguments)}function Ua(A){const I=window.document.getElementsByTagName("script");for(const Z of Object.values(I))if(Z.src&&Z.src.includes(su)&&Z.src.includes(A))return Z;return null}const rr=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),mc=new class Pp{constructor(I={},Z=1e3){this.throttleMetadata=I,this.intervalMillis=Z}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,Z){this.throttleMetadata[I]=Z}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function dn(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function zr(A){return gn.apply(this,arguments)}function gn(){return(gn=(0,U.Z)(function*(A){var I;const{appId:Z,apiKey:q}=A,K={method:"GET",headers:dn(q)},ae=Gs.replace("{app-id}",Z),xe=yield fetch(ae,K);if(200!==xe.status&&304!==xe.status){let $e="";try{const At=yield xe.json();null!==(I=At.error)&&void 0!==I&&I.message&&($e=At.error.message)}catch(At){}throw rr.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:$e})}return xe.json()})).apply(this,arguments)}function Vd(A){return oi.apply(this,arguments)}function oi(){return(oi=(0,U.Z)(function*(A,I=mc,Z){const{appId:q,apiKey:K,measurementId:ae}=A.options;if(!q)throw rr.create("no-app-id");if(!K){if(ae)return{measurementId:ae,appId:q};throw rr.create("no-api-key")}const xe=I.getThrottleMetadata(q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new as;return setTimeout((0,U.Z)(function*(){$e.abort()}),void 0!==Z?Z:6e4),cl({appId:q,apiKey:K,measurementId:ae},xe,$e,I)})).apply(this,arguments)}function cl(A,I,Z){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,U.Z)(function*(A,{throttleEndTimeMillis:I,backoffCount:Z},q,K=mc){var ae,xe;const{appId:$e,measurementId:At}=A;try{yield dl(q,I)}catch(Ut){if(At)return pr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${At} provided in the "measurementId" field in the local Firebase config. [${null===(ae=Ut)||void 0===ae?void 0:ae.message}]`),{appId:$e,measurementId:At};throw Ut}try{const Ut=yield zr(A);return K.deleteThrottleMetadata($e),Ut}catch(Ut){const Mt=Ut;if(!ss(Mt)){if(K.deleteThrottleMetadata($e),At)return pr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${At} provided in the "measurementId" field in the local Firebase config. [${null==Mt?void 0:Mt.message}]`),{appId:$e,measurementId:At};throw Ut}const vt=503===Number(null===(xe=null==Mt?void 0:Mt.customData)||void 0===xe?void 0:xe.httpStatus)?(0,le.$s)(Z,K.intervalMillis,30):(0,le.$s)(Z,K.intervalMillis),Hn={throttleEndTimeMillis:Date.now()+vt,backoffCount:Z+1};return K.setThrottleMetadata($e,Hn),pr.debug(`Calling attemptFetch again in ${vt} millis`),cl(A,Hn,q,K)}})).apply(this,arguments)}function dl(A,I){return new Promise((Z,q)=>{const K=Math.max(I-Date.now(),0),ae=setTimeout(Z,K);A.addEventListener(()=>{clearTimeout(ae),q(rr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function ss(A){if(!(A instanceof le.ZR&&A.customData))return!1;const I=Number(A.customData.httpStatus);return 429===I||500===I||503===I||504===I}class as{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Kn,Oa;function Pa(){return(Pa=(0,U.Z)(function*(A,I,Z,q,K){if(K&&K.global)A("event",Z,q);else{const ae=yield I;A("event",Z,Object.assign(Object.assign({},q),{send_to:ae}))}})).apply(this,arguments)}function uu(A){Oa=A}function hl(A){Kn=A}function Rp(){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,U.Z)(function*(){var A;if(!(0,le.hl)())return pr.warn(rr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(I){return pr.warn(rr.create("indexeddb-unavailable",{errorInfo:null===(A=I)||void 0===A?void 0:A.toString()}).message),!1}return!0})).apply(this,arguments)}function xr(){return(xr=(0,U.Z)(function*(A,I,Z,q,K,ae,xe){var $e;const At=Vd(A);At.then(sr=>{Z[sr.measurementId]=sr.appId,A.options.measurementId&&sr.measurementId!==A.options.measurementId&&pr.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${sr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(sr=>pr.error(sr)),I.push(At);const Ut=Rp().then(sr=>{if(sr)return q.getId()}),[Mt,vt]=yield Promise.all([At,Ut]);Ua(ae)||i_(ae,Mt.measurementId),Oa&&(K("consent","default",Oa),uu(void 0)),K("js",new Date);const Hn=null!==($e=null==xe?void 0:xe.config)&&void 0!==$e?$e:{};return Hn.origin="firebase",Hn.update=!0,null!=vt&&(Hn[js]=vt),K("config",Mt.measurementId,Hn),Kn&&(K("set",Kn),hl(void 0)),Mt.measurementId})).apply(this,arguments)}class us{constructor(I){this.app=I}_delete(){return delete hn[this.app.options.appId],Promise.resolve()}}let hn={},Qo=[];const La={};let du,Wt,yr="dataLayer",hu=!1;function pu(A,I,Z){!function Bd(){const A=[];if((0,le.ru)()&&A.push("This is a browser extension environment."),(0,le.zI)()||A.push("Cookies are not available."),A.length>0){const I=A.map((q,K)=>`(${K+1}) ${q}`).join(" "),Z=rr.create("invalid-analytics-context",{errorInfo:I});pr.warn(Z.message)}}();const q=A.options.appId;if(!q)throw rr.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw rr.create("no-api-key");pr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hn[q])throw rr.create("already-exists",{id:q});if(!hu){!function Od(A){let I=[];Array.isArray(window[A])?I=window[A]:window[A]=I}(yr);const{wrappedGtag:ae,gtagCore:xe}=function Fd(A,I,Z,q,K){let ae=function(...xe){window[q].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ae=window[K]),window[K]=function Ld(A,I,Z,q){function ae(){return(ae=(0,U.Z)(function*(xe,$e,At){try{"event"===xe?yield Na(A,I,Z,$e,At):"config"===xe?yield ka(A,I,Z,q,$e,At):"consent"===xe?A("consent","update",At):A("set",$e)}catch(Ut){pr.error(Ut)}})).apply(this,arguments)}return function K(xe,$e,At){return ae.apply(this,arguments)}}(ae,A,I,Z),{gtagCore:ae,wrappedGtag:window[K]}}(hn,Qo,La,yr,"gtag");Wt=ae,du=xe,hu=!0}return hn[q]=function cu(A,I,Z,q,K,ae,xe){return xr.apply(this,arguments)}(A,Qo,La,I,du,yr,Z),new us(A)}function jd(){return ki.apply(this,arguments)}function ki(){return(ki=(0,U.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(A){return!1}})).apply(this,arguments)}const ir="@firebase/analytics";!function qa(){(0,ie._registerComponent)(new ge.wA(Jo,(I,{options:Z})=>pu(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),Z),"PUBLIC")),(0,ie._registerComponent)(new ge.wA("analytics-internal",function A(I){try{const Z=I.getProvider(Jo).getImmediate();return{logEvent:(q,K,ae)=>function pl(A,I,Z,q){A=(0,le.m9)(A),function j(A,I,Z,q,K){return Pa.apply(this,arguments)}(Wt,hn[A.app.options.appId],I,Z,q).catch(K=>pr.error(K))}(Z,q,K,ae)}}catch(Z){throw rr.create("interop-component-reg-failed",{reason:Z})}},"PRIVATE")),(0,ie.registerVersion)(ir,"0.8.3"),(0,ie.registerVersion)(ir,"0.8.3","esm2017")}();var Va=P(4408),Ni=P(7565);const vc=new class gl extends Ni.v{}(class si extends Va.o{constructor(I,Z){super(I,Z),this.scheduler=I,this.work=Z}schedule(I,Z=0){return Z>0?super.schedule(I,Z):(this.delay=Z,this.state=I,this.scheduler.flush(this),this)}execute(I,Z){return Z>0||this.closed?super.execute(I,Z):this._execute(I,Z)}requestAsyncId(I,Z,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(I,Z,q):(I.flush(this),0)}});var cs=P(4986),Rn=P(8505),vr=P(9468),Tc=P(5363);const Ba=new e.GfV("7.4.1"),En="__angularfire_symbol__analyticsIsSupportedValue",ai="__angularfire_symbol__analyticsIsSupported",Ws="__angularfire_symbol__remoteConfigIsSupportedValue",Qs="__angularfire_symbol__remoteConfigIsSupported",_u="__angularfire_symbol__messagingIsSupportedValue",ds="__angularfire_symbol__messagingIsSupported";function Wd(A,I,Z){if(I){if(1===I.length)return I[0];const ae=I.filter(xe=>xe.app===Z);if(1===ae.length)return ae[0]}return Z.container.getProvider(A).getImmediate({optional:!0})}globalThis[ai]||(globalThis[ai]=jd().then(A=>globalThis[En]=A).catch(()=>globalThis[En]=!1)),globalThis[ds]||(globalThis[ds]=Pd().then(A=>globalThis[_u]=A).catch(()=>globalThis[_u]=!1)),globalThis[Qs]||(globalThis[Qs]=Us().then(A=>globalThis[Ws]=A).catch(()=>globalThis[Ws]=!1));const _l=(A,I)=>{const Z=I?[I]:(0,V.C6)(),q=[];return Z.forEach(K=>{K.container.getProvider(A).instances.forEach(xe=>{q.includes(xe)||q.push(xe)})}),q};function ko(){}class ml{constructor(I,Z=vc){this.zone=I,this.delegate=Z}now(){return this.delegate.now()}schedule(I,Z,q){const K=this.zone;return this.delegate.schedule(function(xe){K.runGuarded(()=>{I.apply(this,[xe])})},Z,q)}}class Qd{constructor(I){this.zone=I,this.task=null}call(I,Z){const q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ko,{},ko,ko)),Z.pipe((0,Rn.b)({next:q,complete:q,error:q})).subscribe(I).add(q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let yl=(()=>{class A{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new ml(Zone.current)),this.insideAngular=Z.run(()=>new ml(Zone.current,cs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(Z){return new(Z||A)(e.LFG(e.R0b))},A.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function li(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function Zn(A){return li(),function hs(A){return function(Z){return(Z=Z.lift(new Qd(A.ngZone))).pipe((0,vr.R)(A.outsideAngular),(0,Tc.Q)(A.insideAngular))}}(li())(A)}},7573:(it,Ce,P)=>{P.d(Ce,{$:()=>il,A:()=>G,B:()=>ke,G:()=>Un,H:()=>Wr,J:()=>ti,L:()=>H,M:()=>Ta,N:()=>Sd,P:()=>cs,Q:()=>wa,R:()=>fu,T:()=>rl,U:()=>Ms,V:()=>Vn,W:()=>Eo,X:()=>Qn,Y:()=>Dt,Z:()=>Zd,_:()=>dc,a:()=>Ma,a0:()=>Gn,a1:()=>Os,a2:()=>Yl,a3:()=>Ia,a4:()=>r_,a5:()=>hr,a6:()=>Xl,a7:()=>os,a8:()=>kd,a9:()=>eu,aA:()=>sr,aB:()=>At,aC:()=>Ui,aD:()=>No,aE:()=>ln,aI:()=>dn,aL:()=>Qi,aa:()=>Da,ab:()=>nu,ac:()=>al,af:()=>pc,ag:()=>ll,ah:()=>Nd,ak:()=>Ei,al:()=>ou,an:()=>su,ao:()=>au,ap:()=>Kt,aq:()=>ye,ar:()=>ut,as:()=>gt,at:()=>Ke,au:()=>Hp,av:()=>Cl,aw:()=>Ne,ax:()=>re,ay:()=>X,az:()=>B,b:()=>rr,c:()=>_u,d:()=>Jd,e:()=>mu,f:()=>hs,g:()=>q,h:()=>A,i:()=>Nn,j:()=>xe,k:()=>Yd,l:()=>Zo,m:()=>m_,o:()=>de,r:()=>Va,s:()=>Gd,u:()=>vc});var e=P(5861),V=P(2090),U=P(9681),ie=P(1877),le=P(655),ge=P(4859);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function Y(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ae=function qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pe=new ie.Yd("@firebase/auth");function Xe(v,...f){pe.logLevel<=ie.in.ERROR&&pe.error(`Auth (${U.SDK_VERSION}): ${v}`,...f)}function Ke(v,...f){throw Je(v,...f)}function Ne(v,...f){return Je(v,...f)}function Ze(v,f,_){const T=Object.assign(Object.assign({},Ae()),{[f]:_});return new V.LL("auth","Firebase",T).create(f,{appName:v.name})}function we(v,f,_){if(!(f instanceof _))throw _.name!==f.constructor.name&&Ke(v,"argument-error"),Ze(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Je(v,...f){if("string"!=typeof v){const _=f[0],T=[...f.slice(1)];return T[0]&&(T[0].appName=v.name),v._errorFactory.create(_,...T)}return st.create(v,...f)}function re(v,f,..._){if(!v)throw Je(f,..._)}function ue(v){const f="INTERNAL ASSERTION FAILED: "+v;throw Xe(f),new Error(f)}function ye(v,f){v||ue(f)}const z=new Map;function X(v){ye(v instanceof Function,"Expected a class definition");let f=z.get(v);return f?(ye(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,z.set(v,f),f)}function Oe(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Le(){return"http:"===mt()||"https:"===mt()}function mt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class We{constructor(f,_){this.shortDelay=f,this.longDelay=_,ye(_>f,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function un(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Le()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mn(v,f){ye(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return f?`${_}${f.startsWith("/")?f.slice(1):f}`:_}class Sn{static initialize(f,_,T){this.fetchImpl=f,_&&(this.headersImpl=_),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const on={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new We(3e4,6e4);function zt(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function qt(v,f,_,T){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,e.Z)(function*(v,f,_,T,S={}){return wo(v,S,(0,e.Z)(function*(){let M={},te={};T&&("GET"===f?te=T:M={body:JSON.stringify(T)});const Ee=(0,V.xO)(Object.assign({key:v.config.apiKey},te)).slice(1),rt=yield v._getAdditionalHeaders();return rt["Content-Type"]="application/json",v.languageCode&&(rt["X-Firebase-Locale"]=v.languageCode),Sn.fetch()(bo(v,v.config.apiHost,_,Ee),Object.assign({method:f,headers:rt,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function wo(v,f,_){return $r.apply(this,arguments)}function $r(){return($r=(0,e.Z)(function*(v,f,_){v._canInitEmulator=!1;const T=Object.assign(Object.assign({},on),f);try{const S=new Gr(v),M=yield Promise.race([_(),S.promise]);S.clearNetworkTimeout();const te=yield M.json();if("needConfirmation"in te)throw Wn(v,"account-exists-with-different-credential",te);if(M.ok&&!("errorMessage"in te))return te;{const Ee=M.ok?te.errorMessage:te.error.message,[rt,ft]=Ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===rt)throw Wn(v,"credential-already-in-use",te);if("EMAIL_EXISTS"===rt)throw Wn(v,"email-already-in-use",te);if("USER_DISABLED"===rt)throw Wn(v,"user-disabled",te);const Yt=T[rt]||rt.toLowerCase().replace(/[_\s]+/g,"-");if(ft)throw Ze(v,Yt,ft);Ke(v,Yt)}}catch(S){if(S instanceof V.ZR)throw S;Ke(v,"network-request-failed")}})).apply(this,arguments)}function Pn(v,f,_,T){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,e.Z)(function*(v,f,_,T,S={}){const M=yield qt(v,f,_,T,S);return"mfaPendingCredential"in M&&Ke(v,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function bo(v,f,_,T){const S=`${f}${_}?${T}`;return v.config.emulator?mn(v.config,S):`${v.config.apiScheme}://${S}`}class Gr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((_,T)=>{this.timer=setTimeout(()=>T(Ne(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wn(v,f,_){const T={appName:v.name};_.email&&(T.email=_.email),_.phoneNumber&&(T.phoneNumber=_.phoneNumber);const S=Ne(v,f,T);return S.customData._tokenResponse=_,S}function yt(){return(yt=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function yn(v,f){return cr.apply(this,arguments)}function cr(){return(cr=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function cn(v,f){return _r.apply(this,arguments)}function _r(){return(_r=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Ir(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Rr(){return(Rr=(0,e.Z)(function*(v,f=!1){const _=(0,V.m9)(v),T=yield _.getIdToken(f),S=at(T);re(S&&S.exp&&S.auth_time&&S.iat,_.auth,"internal-error");const M="object"==typeof S.firebase?S.firebase:void 0,te=null==M?void 0:M.sign_in_provider;return{claims:S,token:T,authTime:Ir(bn(S.auth_time)),issuedAtTime:Ir(bn(S.iat)),expirationTime:Ir(bn(S.exp)),signInProvider:te||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function bn(v){return 1e3*Number(v)}function at(v){var f;const[_,T,S]=v.split(".");if(void 0===_||void 0===T||void 0===S)return Xe("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,V.tV)(T);return M?JSON.parse(M):(Xe("Failed to decode base64 JWT payload"),null)}catch(M){return Xe("Caught error parsing JWT payload as JSON",null===(f=M)||void 0===f?void 0:f.toString()),null}}function Dn(v,f){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,e.Z)(function*(v,f,_=!1){if(_)return f;try{return yield f}catch(T){throw T instanceof V.ZR&&xn(T)&&v.auth.currentUser===v&&(yield v.auth.signOut()),T}})).apply(this,arguments)}function xn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class jt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var _;if(f){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const S=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var _=this;if(!this.isRunning)return;const T=this.getInterval(f);this.timerId=setTimeout((0,e.Z)(function*(){yield _.iteration()}),T)}iteration(){var f=this;return(0,e.Z)(function*(){var _;try{yield f.user.getIdToken(!0)}catch(T){return void("auth/network-request-failed"===(null===(_=T)||void 0===_?void 0:_.code)&&f.schedule(!0))}f.schedule()})()}}class Fn{constructor(f,_){this.createdAt=f,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ir(this.lastLoginAt),this.creationTime=Ir(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jr(v){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,e.Z)(function*(v){var f;const _=v.auth,T=yield v.getIdToken(),S=yield Dn(v,cn(_,{idToken:T}));re(null==S?void 0:S.users.length,_,"internal-error");const M=S.users[0];v._notifyReloadListener(M);const te=null!==(f=M.providerUserInfo)&&void 0!==f&&f.length?jn(M.providerUserInfo):[],Ee=Or(v.providerData,te),Yt=!!v.isAnonymous&&!(v.email&&M.passwordHash||null!=Ee&&Ee.length),On={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:Ee,metadata:new Fn(M.createdAt,M.lastLoginAt),isAnonymous:Yt};Object.assign(v,On)})).apply(this,arguments)}function Ft(){return(Ft=(0,e.Z)(function*(v){const f=(0,V.m9)(v);yield Jr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Or(v,f){return[...v.filter(T=>!f.some(S=>S.providerId===T.providerId)),...f]}function jn(v){return v.map(f=>{var{providerId:_}=f,T=(0,le._T)(f,["providerId"]);return{providerId:_,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function De(){return(De=(0,e.Z)(function*(v,f){const _=yield wo(v,{},(0,e.Z)(function*(){const T=(0,V.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:M}=v.config,te=bo(v,S,"/v1/token",`key=${M}`),Ee=yield v._getAdditionalHeaders();return Ee["Content-Type"]="application/x-www-form-urlencoded",Sn.fetch()(te,{method:"POST",headers:Ee,body:T})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){re(f.idToken,"internal-error"),re(void 0!==f.idToken,"internal-error"),re(void 0!==f.refreshToken,"internal-error");const _="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function nt(v){const f=at(v);return re(f,"internal-error"),re(void 0!==f.exp,"internal-error"),re(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,_)}getToken(f,_=!1){var T=this;return(0,e.Z)(function*(){return re(!T.accessToken||T.refreshToken,f,"user-token-expired"),_||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(f,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,_){var T=this;return(0,e.Z)(function*(){const{accessToken:S,refreshToken:M,expiresIn:te}=yield function Ye(v,f){return De.apply(this,arguments)}(f,_);T.updateTokensAndExpiration(S,M,Number(te))})()}updateTokensAndExpiration(f,_,T){this.refreshToken=_||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(f,_){const{refreshToken:T,accessToken:S,expirationTime:M}=_,te=new et;return T&&(re("string"==typeof T,"internal-error",{appName:f}),te.refreshToken=T),S&&(re("string"==typeof S,"internal-error",{appName:f}),te.accessToken=S),M&&(re("number"==typeof M,"internal-error",{appName:f}),te.expirationTime=M),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new et,this.toJSON())}_performRefresh(){return ue("not implemented")}}function Tt(v,f){re("string"==typeof v||void 0===v,"internal-error",{appName:f})}class wt{constructor(f){var{uid:_,auth:T,stsTokenManager:S}=f,M=(0,le._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=T,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new Fn(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(f){var _=this;return(0,e.Z)(function*(){const T=yield Dn(_,_.stsTokenManager.getToken(_.auth,f));return re(T,_.auth,"internal-error"),_.accessToken!==T&&(_.accessToken=T,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),T})()}getIdTokenResult(f){return function vn(v){return Rr.apply(this,arguments)}(this,f)}reload(){return function Ao(v){return Ft.apply(this,arguments)}(this)}_assign(f){this!==f&&(re(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(_=>Object.assign({},_)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new wt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,_=!1){var T=this;return(0,e.Z)(function*(){let S=!1;f.idToken&&f.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(f),S=!0),_&&(yield Jr(T)),yield T.auth._persistUserIfCurrent(T),S&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var f=this;return(0,e.Z)(function*(){const _=yield f.getIdToken();return yield Dn(f,function qo(v,f){return yt.apply(this,arguments)}(f.auth,{idToken:_})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,_){var T,S,M,te,Ee,rt,ft,Yt;const On=null!==(T=_.displayName)&&void 0!==T?T:void 0,Ko=null!==(S=_.email)&&void 0!==S?S:void 0,Mn=null!==(M=_.phoneNumber)&&void 0!==M?M:void 0,gr=null!==(te=_.photoURL)&&void 0!==te?te:void 0,T_=null!==(Ee=_.tenantId)&&void 0!==Ee?Ee:void 0,nh=null!==(rt=_._redirectEventId)&&void 0!==rt?rt:void 0,rh=null!==(ft=_.createdAt)&&void 0!==ft?ft:void 0,w_=null!==(Yt=_.lastLoginAt)&&void 0!==Yt?Yt:void 0,{uid:Cu,emailVerified:Kr,isAnonymous:oh,providerData:Tu,stsTokenManager:ci}=_;re(Cu&&ci,f,"internal-error");const b_=et.fromJSON(this.name,ci);re("string"==typeof Cu,f,"internal-error"),Tt(On,f.name),Tt(Ko,f.name),re("boolean"==typeof Kr,f,"internal-error"),re("boolean"==typeof oh,f,"internal-error"),Tt(Mn,f.name),Tt(gr,f.name),Tt(T_,f.name),Tt(nh,f.name),Tt(rh,f.name),Tt(w_,f.name);const wl=new wt({uid:Cu,auth:f,email:Ko,emailVerified:Kr,displayName:On,isAnonymous:oh,photoURL:gr,phoneNumber:Mn,tenantId:T_,stsTokenManager:b_,createdAt:rh,lastLoginAt:w_});return Tu&&Array.isArray(Tu)&&(wl.providerData=Tu.map(A_=>Object.assign({},A_))),nh&&(wl._redirectEventId=nh),wl}static _fromIdTokenResponse(f,_,T=!1){return(0,e.Z)(function*(){const S=new et;S.updateFromServerResponse(_);const M=new wt({uid:_.localId,auth:f,stsTokenManager:S,isAnonymous:T});return yield Jr(M),M})()}}const H=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,e.Z)(function*(){return!0})()}_set(_,T){var S=this;return(0,e.Z)(function*(){S.storage[_]=T})()}_get(_){var T=this;return(0,e.Z)(function*(){const S=T.storage[_];return void 0===S?null:S})()}_remove(_){var T=this;return(0,e.Z)(function*(){delete T.storage[_]})()}_addListener(_,T){}_removeListener(_,T){}}return v.type="NONE",v})();function B(v,f,_){return`firebase:${v}:${f}:${_}`}class Q{constructor(f,_,T){this.persistence=f,this.auth=_,this.userKey=T;const{config:S,name:M}=this.auth;this.fullUserKey=B(this.userKey,S.apiKey,M),this.fullPersistenceKey=B("persistence",S.apiKey,M),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,e.Z)(function*(){const _=yield f.persistence._get(f.fullUserKey);return _?wt._fromJSON(f.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var _=this;return(0,e.Z)(function*(){if(_.persistence===f)return;const T=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=f,T?_.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,_,T="authUser"){return(0,e.Z)(function*(){if(!_.length)return new Q(X(H),f,T);const S=(yield Promise.all(_.map(function(){var ft=(0,e.Z)(function*(Yt){if(yield Yt._isAvailable())return Yt});return function(Yt){return ft.apply(this,arguments)}}()))).filter(ft=>ft);let M=S[0]||X(H);const te=B(T,f.config.apiKey,f.name);let Ee=null;for(const ft of _)try{const Yt=yield ft._get(te);if(Yt){const On=wt._fromJSON(f,Yt);ft!==M&&(Ee=On),M=ft;break}}catch(Yt){}const rt=S.filter(ft=>ft._shouldAllowMigration);return M._shouldAllowMigration&&rt.length?(M=rt[0],Ee&&(yield M._set(te,Ee.toJSON())),yield Promise.all(_.map(function(){var ft=(0,e.Z)(function*(Yt){if(Yt!==M)try{yield Yt._remove(te)}catch(On){}});return function(Yt){return ft.apply(this,arguments)}}())),new Q(M,f,T)):new Q(M,f,T)})()}}function O(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Me(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(N(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(dt(f))return"Blackberry";if(Zt(f))return"Webos";if(L(f))return"Safari";if((f.includes("chrome/")||oe(f))&&!f.includes("edge/"))return"Chrome";if(gt(f))return"Android";{const T=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function N(v=(0,V.z$)()){return/firefox\//i.test(v)}function L(v=(0,V.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function oe(v=(0,V.z$)()){return/crios\//i.test(v)}function Me(v=(0,V.z$)()){return/iemobile/i.test(v)}function gt(v=(0,V.z$)()){return/android/i.test(v)}function dt(v=(0,V.z$)()){return/blackberry/i.test(v)}function Zt(v=(0,V.z$)()){return/webos/i.test(v)}function ut(v=(0,V.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Kt(v=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function He(v=(0,V.z$)()){return ut(v)||gt(v)||Zt(v)||dt(v)||/windows phone/i.test(v)||Me(v)}function An(v,f=[]){let _;switch(v){case"Browser":_=O((0,V.z$)());break;case"Worker":_=`${O((0,V.z$)())}-${v}`;break;default:_=v}const T=f.length?f.join(","):"FirebaseCore-web";return`${_}/JsCore/${U.SDK_VERSION}/${T}`}class Dr{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,_){const T=M=>new Promise((te,Ee)=>{try{te(f(M))}catch(rt){Ee(rt)}});T.onAbort=_,this.queue.push(T);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(f){var _=this;return(0,e.Z)(function*(){var T;if(_.auth.currentUser===f)return;const S=[];try{for(const M of _.queue)yield M(f),M.onAbort&&S.push(M.onAbort)}catch(M){S.reverse();for(const te of S)try{te()}catch(Ee){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(T=M)||void 0===T?void 0:T.message})}})()}}class bi{constructor(f,_,T){this.app=f,this.heartbeatServiceProvider=_,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vo(this),this.idTokenSubscription=new Vo(this),this.beforeStateQueue=new Dr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(f,_){var T=this;return _&&(this._popupRedirectResolver=X(_)),this._initializationPromise=this.queue((0,e.Z)(function*(){var S,M;if(!T._deleted&&(T.persistenceManager=yield Q.create(T,f),!T._deleted)){if(null!==(S=T._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch(te){}yield T.initializeCurrentUser(_),T.lastNotifiedUid=(null===(M=T.currentUser)||void 0===M?void 0:M.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,e.Z)(function*(){if(f._deleted)return;const _=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||_){if(f.currentUser&&_&&f.currentUser.uid===_.uid)return f._currentUser._assign(_),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(_,!0)}})()}initializeCurrentUser(f){var _=this;return(0,e.Z)(function*(){var T;const S=yield _.assertedPersistence.getCurrentUser();let M=S,te=!1;if(f&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Ee=null===(T=_.redirectUser)||void 0===T?void 0:T._redirectEventId,rt=null==M?void 0:M._redirectEventId,ft=yield _.tryRedirectSignIn(f);(!Ee||Ee===rt)&&(null==ft?void 0:ft.user)&&(M=ft.user,te=!0)}if(!M)return _.directlySetCurrentUser(null);if(!M._redirectEventId){if(te)try{yield _.beforeStateQueue.runMiddleware(M)}catch(Ee){M=S,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Ee))}return M?_.reloadAndSetCurrentUserOrClear(M):_.directlySetCurrentUser(null)}return re(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===M._redirectEventId?_.directlySetCurrentUser(M):_.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(f){var _=this;return(0,e.Z)(function*(){let T=null;try{T=yield _._popupRedirectResolver._completeRedirectFn(_,f,!0)}catch(S){yield _._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(f){var _=this;return(0,e.Z)(function*(){var T;try{yield Jr(f)}catch(S){if("auth/network-request-failed"!==(null===(T=S)||void 0===T?void 0:T.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Bt(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,e.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var _=this;return(0,e.Z)(function*(){const T=f?(0,V.m9)(f):null;return T&&re(T.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(T&&T._clone(_))})()}_updateCurrentUser(f,_=!1){var T=this;return(0,e.Z)(function*(){if(!T._deleted)return f&&re(T.tenantId===f.tenantId,T,"tenant-id-mismatch"),_||(yield T.beforeStateQueue.runMiddleware(f)),T.queue((0,e.Z)(function*(){yield T.directlySetCurrentUser(f),T.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,e.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var _=this;return this.queue((0,e.Z)(function*(){yield _.assertedPersistence.setPersistence(X(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new V.LL("auth","Firebase",f())}onAuthStateChanged(f,_,T){return this.registerStateListener(this.authStateSubscription,f,_,T)}beforeAuthStateChanged(f,_){return this.beforeStateQueue.pushCallback(f,_)}onIdTokenChanged(f,_,T){return this.registerStateListener(this.idTokenSubscription,f,_,T)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,_){var T=this;return(0,e.Z)(function*(){const S=yield T.getOrInitRedirectPersistenceManager(_);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var _=this;return(0,e.Z)(function*(){if(!_.redirectPersistenceManager){const T=f&&X(f)||_._popupRedirectResolver;re(T,_,"argument-error"),_.redirectPersistenceManager=yield Q.create(_,[X(T._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(f){var _=this;return(0,e.Z)(function*(){var T,S;return _._isInitialized&&(yield _.queue((0,e.Z)(function*(){}))),(null===(T=_._currentUser)||void 0===T?void 0:T._redirectEventId)===f?_._currentUser:(null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?_.redirectUser:null})()}_persistUserIfCurrent(f){var _=this;return(0,e.Z)(function*(){if(f===_.currentUser)return _.queue((0,e.Z)(function*(){return _.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(_=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,_,T,S){if(this._deleted)return()=>{};const M="function"==typeof _?_:_.next.bind(_),te=this._isInitialized?Promise.resolve():this._initializationPromise;return re(te,this,"internal-error"),te.then(()=>M(this.currentUser)),"function"==typeof _?f.addObserver(_,T,S):f.addObserver(_)}directlySetCurrentUser(f){var _=this;return(0,e.Z)(function*(){_.currentUser&&_.currentUser!==f&&_._currentUser._stopProactiveRefresh(),f&&_.isProactiveRefreshEnabled&&f._startProactiveRefresh(),_.currentUser=f,f?yield _.assertedPersistence.setCurrentUser(f):yield _.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=An(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,e.Z)(function*(){var _;const T={"X-Client-Version":f.clientVersion};f.app.options.appId&&(T["X-Firebase-gmpid"]=f.app.options.appId);const S=yield null===(_=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return S&&(T["X-Firebase-Client"]=S),T})()}}function ln(v){return(0,V.m9)(v)}class Vo{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,V.ne)(_=>this.observer=_)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Un(v,f,_){const T=ln(v);re(T._canInitEmulator,T,"emulator-config-failed"),re(/^https?:\/\//.test(f),T,"invalid-emulator-scheme");const S=!(null==_||!_.disableWarnings),M=Ds(f),{host:te,port:Ee}=function Ai(v){const f=Ds(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!_)return{host:"",port:null};const T=_[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(T);if(S){const M=S[1];return{host:M,port:Nt(T.substr(M.length+1))}}{const[M,te]=T.split(":");return{host:M,port:Nt(te)}}}(f);T.config.emulator={url:`${M}//${te}${null===Ee?"":`:${Ee}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:te,port:Ee,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Ss(){function v(){const f=document.createElement("p"),_=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Ds(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function Nt(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class Wr{constructor(f,_){this.providerId=f,this.signInMethod=_}toJSON(){return ue("not implemented")}_getIdTokenResponse(f){return ue("not implemented")}_linkToIdToken(f,_){return ue("not implemented")}_getReauthenticationResolver(f){return ue("not implemented")}}function Xa(v,f){return qn.apply(this,arguments)}function qn(){return(qn=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:resetPassword",zt(v,f))})).apply(this,arguments)}function nr(v,f){return kn.apply(this,arguments)}function kn(){return(kn=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function xs(v,f){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:update",zt(v,f))})).apply(this,arguments)}function Zs(){return(Zs=(0,e.Z)(function*(v,f){return Pn(v,"POST","/v1/accounts:signInWithPassword",zt(v,f))})).apply(this,arguments)}function ot(v,f){return el.apply(this,arguments)}function el(){return(el=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:sendOobCode",zt(v,f))})).apply(this,arguments)}function Ql(v,f){return pt.apply(this,arguments)}function pt(){return(pt=(0,e.Z)(function*(v,f){return ot(v,f)})).apply(this,arguments)}function Io(v,f){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,e.Z)(function*(v,f){return ot(v,f)})).apply(this,arguments)}function va(v,f){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,e.Z)(function*(v,f){return ot(v,f)})).apply(this,arguments)}function Bo(v,f){return rc.apply(this,arguments)}function rc(){return(rc=(0,e.Z)(function*(v,f){return ot(v,f)})).apply(this,arguments)}function zl(){return(zl=(0,e.Z)(function*(v,f){return Pn(v,"POST","/v1/accounts:signInWithEmailLink",zt(v,f))})).apply(this,arguments)}function ic(){return(ic=(0,e.Z)(function*(v,f){return Pn(v,"POST","/v1/accounts:signInWithEmailLink",zt(v,f))})).apply(this,arguments)}class tl extends Wr{constructor(f,_,T,S=null){super("password",T),this._email=f,this._password=_,this._tenantId=S}static _fromEmailAndPassword(f,_){return new tl(f,_,"password")}static _fromEmailAndCode(f,_,T=null){return new tl(f,_,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(f){var _=this;return(0,e.Z)(function*(){switch(_.signInMethod){case"password":return function Gi(v,f){return Zs.apply(this,arguments)}(f,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function oc(v,f){return zl.apply(this,arguments)}(f,{email:_._email,oobCode:_._password});default:Ke(f,"internal-error")}})()}_linkToIdToken(f,_){var T=this;return(0,e.Z)(function*(){switch(T.signInMethod){case"password":return nr(f,{idToken:_,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function Dd(v,f){return ic.apply(this,arguments)}(f,{idToken:_,email:T._email,oobCode:T._password});default:Ke(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ji(v,f){return ao.apply(this,arguments)}function ao(){return(ao=(0,e.Z)(function*(v,f){return Pn(v,"POST","/v1/accounts:signInWithIdp",zt(v,f))})).apply(this,arguments)}class ti extends Wr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const _=new ti(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(_.idToken=f.idToken),f.accessToken&&(_.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(_.nonce=f.nonce),f.pendingToken&&(_.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(_.accessToken=f.oauthToken,_.secret=f.oauthTokenSecret):Ke("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f,{providerId:T,signInMethod:S}=_,M=(0,le._T)(_,["providerId","signInMethod"]);if(!T||!S)return null;const te=new ti(T,S);return te.idToken=M.idToken||void 0,te.accessToken=M.accessToken||void 0,te.secret=M.secret,te.nonce=M.nonce,te.pendingToken=M.pendingToken||null,te}_getIdTokenResponse(f){return Ji(f,this.buildRequest())}_linkToIdToken(f,_){const T=this.buildRequest();return T.idToken=_,Ji(f,T)}_getReauthenticationResolver(f){const _=this.buildRequest();return _.autoCreate=!1,Ji(f,_)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),f.postBody=(0,V.xO)(_)}return f}}function Zp(v,f){return sc.apply(this,arguments)}function sc(){return(sc=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:sendVerificationCode",zt(v,f))})).apply(this,arguments)}function Ca(){return(Ca=(0,e.Z)(function*(v,f){return Pn(v,"POST","/v1/accounts:signInWithPhoneNumber",zt(v,f))})).apply(this,arguments)}function ac(){return(ac=(0,e.Z)(function*(v,f){const _=yield Pn(v,"POST","/v1/accounts:signInWithPhoneNumber",zt(v,f));if(_.temporaryProof)throw Wn(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Np={USER_NOT_FOUND:"user-not-found"};function nl(){return(nl=(0,e.Z)(function*(v,f){return Pn(v,"POST","/v1/accounts:signInWithPhoneNumber",zt(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Np)})).apply(this,arguments)}class ni extends Wr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,_){return new ni({verificationId:f,verificationCode:_})}static _fromTokenResponse(f,_){return new ni({phoneNumber:f,temporaryProof:_})}_getIdTokenResponse(f){return function kp(v,f){return Ca.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,_){return function ks(v,f){return ac.apply(this,arguments)}(f,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Up(v,f){return nl.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:_,verificationId:T,verificationCode:S}=this.params;return f&&_?{temporaryProof:f,phoneNumber:_}:{sessionInfo:T,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:_,verificationCode:T,phoneNumber:S,temporaryProof:M}=f;return T||_||S||M?new ni({verificationId:_,verificationCode:T,phoneNumber:S,temporaryProof:M}):null}}class Ns{constructor(f){var _,T,S,M,te,Ee;const rt=(0,V.zd)((0,V.pd)(f)),ft=null!==(_=rt.apiKey)&&void 0!==_?_:null,Yt=null!==(T=rt.oobCode)&&void 0!==T?T:null,On=function Mp(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=rt.mode)&&void 0!==S?S:null);re(ft&&Yt&&On,"argument-error"),this.apiKey=ft,this.operation=On,this.code=Yt,this.continueUrl=null!==(M=rt.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(te=rt.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(Ee=rt.tenantId)&&void 0!==Ee?Ee:null}static parseLink(f){const _=function n_(v){const f=(0,V.zd)((0,V.pd)(v)).link,_=f?(0,V.zd)((0,V.pd)(f)).deep_link_id:null,T=(0,V.zd)((0,V.pd)(v)).deep_link_id;return(T?(0,V.zd)((0,V.pd)(T)).link:null)||T||_||f||v}(f);try{return new Ns(_)}catch(T){return null}}}let Ta=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,T){return tl._fromEmailAndPassword(_,T)}static credentialWithLink(_,T){const S=Ns.parseLink(T);return re(S,"argument-error"),tl._fromEmailAndCode(_,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class lo{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Wi extends lo{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ms extends Wi{static credentialFromJSON(f){const _="string"==typeof f?JSON.parse(f):f;return re("providerId"in _&&"signInMethod"in _,"argument-error"),ti._fromParams(_)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return re(f.idToken||f.accessToken,"argument-error"),ti._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ms.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ms.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:T,oauthTokenSecret:S,pendingToken:M,nonce:te,providerId:Ee}=f;if(!T&&!S&&!_&&!M||!Ee)return null;try{return new Ms(Ee)._credential({idToken:_,accessToken:T,nonce:te,pendingToken:M})}catch(rt){return null}}}let Sd=(()=>{class v extends Wi{constructor(){super("facebook.com")}static credential(_){return ti._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(T){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),wa=(()=>{class v extends Wi{constructor(){super("google.com"),this.addScope("profile")}static credential(_,T){return ti._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:T})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:T,oauthAccessToken:S}=_;if(!T&&!S)return null;try{return v.credential(T,S)}catch(M){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),rl=(()=>{class v extends Wi{constructor(){super("github.com")}static credential(_){return ti._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(T){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Qi extends Wr{constructor(f,_){super(f,f),this.pendingToken=_}_getIdTokenResponse(f){return Ji(f,this.buildRequest())}_linkToIdToken(f,_){const T=this.buildRequest();return T.idToken=_,Ji(f,T)}_getReauthenticationResolver(f){const _=this.buildRequest();return _.autoCreate=!1,Ji(f,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f,{providerId:T,signInMethod:S,pendingToken:M}=_;return T&&S&&M&&T===S?new Qi(T,M):null}static _create(f,_){return new Qi(f,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vn extends lo{constructor(f){re(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Vn.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Vn.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const _=Qi.fromJSON(f);return re(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:_,providerId:T}=f;if(!_||!T)return null;try{return Qi._create(T,_)}catch(S){return null}}}let Eo=(()=>{class v extends Wi{constructor(){super("twitter.com")}static credential(_,T){return ti._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:T})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:T,oauthTokenSecret:S}=_;if(!T||!S)return null;try{return v.credential(T,S)}catch(M){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function uc(v,f){return zi.apply(this,arguments)}function zi(){return(zi=(0,e.Z)(function*(v,f){return Pn(v,"POST","/v1/accounts:signUp",zt(v,f))})).apply(this,arguments)}class Do{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,_,T,S=!1){return(0,e.Z)(function*(){const M=yield wt._fromIdTokenResponse(f,T,S),te=Kl(T);return new Do({user:M,providerId:te,_tokenResponse:T,operationType:_})})()}static _forOperation(f,_,T){return(0,e.Z)(function*(){yield f._updateTokensIfNecessary(T,!0);const S=Kl(T);return new Do({user:f,providerId:S,_tokenResponse:T,operationType:_})})()}}function Kl(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Qn(v){return ol.apply(this,arguments)}function ol(){return(ol=(0,e.Z)(function*(v){var f;const _=ln(v);if(yield _._initializationPromise,null!==(f=_.currentUser)&&void 0!==f&&f.isAnonymous)return new Do({user:_.currentUser,providerId:null,operationType:"signIn"});const T=yield uc(_,{returnSecureToken:!0}),S=yield Do._fromIdTokenResponse(_,"signIn",T,!0);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class cc extends V.ZR{constructor(f,_,T,S){var M;super(_.code,_.message),this.operationType=T,this.user=S,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:f.name,tenantId:null!==(M=f.tenantId)&&void 0!==M?M:void 0,_serverResponse:_.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(f,_,T,S){return new cc(f,_,T,S)}}function ba(v,f,_,T){return("reauthenticate"===f?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?cc._fromErrorAndOperation(v,M,f,T):M})}function Qr(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function Ei(v,f){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,e.Z)(function*(v,f){const _=(0,V.m9)(v);yield Yi(!0,_,f);const{providerUserInfo:T}=yield yn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[f]}),S=Qr(T||[]);return _.providerData=_.providerData.filter(M=>S.has(M.providerId)),S.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function ri(v,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,e.Z)(function*(v,f,_=!1){const T=yield Dn(v,f._linkToIdToken(v.auth,yield v.getIdToken()),_);return Do._forOperation(v,"link",T)})).apply(this,arguments)}function Yi(v,f,_){return jo.apply(this,arguments)}function jo(){return(jo=(0,e.Z)(function*(v,f,_){yield Jr(f);const S=!1===v?"provider-already-linked":"no-such-provider";re(Qr(f.providerData).has(_)===v,f.auth,S)})).apply(this,arguments)}function Di(v,f){return $o.apply(this,arguments)}function $o(){return($o=(0,e.Z)(function*(v,f,_=!1){var T;const{auth:S}=v,M="reauthenticate";try{const te=yield Dn(v,ba(S,M,f,v),_);re(te.idToken,S,"internal-error");const Ee=at(te.idToken);re(Ee,S,"internal-error");const{sub:rt}=Ee;return re(v.uid===rt,S,"user-mismatch"),Do._forOperation(v,M,te)}catch(te){throw"auth/user-not-found"===(null===(T=te)||void 0===T?void 0:T.code)&&Ke(S,"user-mismatch"),te}})).apply(this,arguments)}function Si(v,f){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,e.Z)(function*(v,f,_=!1){const T="signIn",S=yield ba(v,T,f),M=yield Do._fromIdTokenResponse(v,T,S);return _||(yield v._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Dt(v,f){return $n.apply(this,arguments)}function $n(){return($n=(0,e.Z)(function*(v,f){return Si(ln(v),f)})).apply(this,arguments)}function Zd(v,f){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,e.Z)(function*(v,f){const _=(0,V.m9)(v);return yield Yi(!1,_,f.providerId),ri(_,f)})).apply(this,arguments)}function dc(v,f){return xi.apply(this,arguments)}function xi(){return(xi=(0,e.Z)(function*(v,f){return Di((0,V.m9)(v),f)})).apply(this,arguments)}function Ps(v,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,e.Z)(function*(v,f){return Pn(v,"POST","/v1/accounts:signInWithCustomToken",zt(v,f))})).apply(this,arguments)}function il(v,f){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,e.Z)(function*(v,f){const _=ln(v),T=yield Ps(_,{token:f,returnSecureToken:!0}),S=yield Do._fromIdTokenResponse(_,"signIn",T);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class $t{constructor(f,_){this.factorId=f,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(f,_){return"phoneInfo"in _?es._fromServerResponse(f,_):Ke(f,"internal-error")}}class es extends $t{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,_){return new es(_)}}function ts(v,f,_){var T;re((null===(T=_.url)||void 0===T?void 0:T.length)>0,v,"invalid-continue-uri"),re(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=_.url,f.dynamicLinkDomain=_.dynamicLinkDomain,f.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(re(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=_.iOS.bundleId),_.android&&(re(_.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=_.android.installApp,f.androidMinimumVersionCode=_.android.minimumVersion,f.androidPackageName=_.android.packageName)}function Gn(v,f,_){return ns.apply(this,arguments)}function ns(){return(ns=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v),S={requestType:"PASSWORD_RESET",email:f};_&&ts(T,S,_),yield Io(T,S)})).apply(this,arguments)}function Os(v,f,_){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,e.Z)(function*(v,f,_){yield Xa((0,V.m9)(v),{oobCode:f,newPassword:_})})).apply(this,arguments)}function Yl(v,f){return rs.apply(this,arguments)}function rs(){return(rs=(0,e.Z)(function*(v,f){yield xs((0,V.m9)(v),{oobCode:f})})).apply(this,arguments)}function Ia(v,f){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,e.Z)(function*(v,f){const _=(0,V.m9)(v),T=yield Xa(_,{oobCode:f}),S=T.requestType;switch(re(S,_,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(T.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(T.mfaInfo,_,"internal-error");default:re(T.email,_,"internal-error")}let M=null;return T.mfaInfo&&(M=$t._fromServerResponse(ln(_),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:M},operation:S}})).apply(this,arguments)}function r_(v,f){return Go.apply(this,arguments)}function Go(){return(Go=(0,e.Z)(function*(v,f){const{data:_}=yield Ia((0,V.m9)(v),f);return _.email})).apply(this,arguments)}function hr(v,f,_){return uo.apply(this,arguments)}function uo(){return(uo=(0,e.Z)(function*(v,f,_){const T=ln(v),S=yield uc(T,{returnSecureToken:!0,email:f,password:_}),M=yield Do._fromIdTokenResponse(T,"signIn",S);return yield T._updateCurrentUser(M.user),M})).apply(this,arguments)}function Xl(v,f,_){return Dt((0,V.m9)(v),Ta.credential(f,_))}function os(v,f,_){return So.apply(this,arguments)}function So(){return(So=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v),S={requestType:"EMAIL_SIGNIN",email:f};re(_.handleCodeInApp,T,"argument-error"),_&&ts(T,S,_),yield va(T,S)})).apply(this,arguments)}function kd(v,f){const _=Ns.parseLink(f);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function eu(v,f,_){return sl.apply(this,arguments)}function sl(){return(sl=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v),S=Ta.credentialWithLink(f,_||Oe());return re(S._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Dt(T,S)})).apply(this,arguments)}function tu(v,f){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:createAuthUri",zt(v,f))})).apply(this,arguments)}function Da(v,f){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,e.Z)(function*(v,f){const T={identifier:f,continueUri:Le()?Oe():"http://localhost"},{signinMethods:S}=yield tu((0,V.m9)(v),T);return S||[]})).apply(this,arguments)}function nu(v,f){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,e.Z)(function*(v,f){const _=(0,V.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&ts(_.auth,S,f);const{email:M}=yield Ql(_.auth,S);M!==v.email&&(yield v.reload())})).apply(this,arguments)}function al(v,f,_){return qs.apply(this,arguments)}function qs(){return(qs=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};_&&ts(T.auth,M,_);const{email:te}=yield Bo(T.auth,M);te!==v.email&&(yield v.reload())})).apply(this,arguments)}function hc(v,f){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function pc(v,f){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,e.Z)(function*(v,{displayName:f,photoURL:_}){if(void 0===f&&void 0===_)return;const T=(0,V.m9)(v),M={idToken:yield T.getIdToken(),displayName:f,photoUrl:_,returnSecureToken:!0},te=yield Dn(T,hc(T.auth,M));T.displayName=te.displayName||null,T.photoURL=te.photoUrl||null;const Ee=T.providerData.find(({providerId:rt})=>"password"===rt);Ee&&(Ee.displayName=T.displayName,Ee.photoURL=T.photoURL),yield T._updateTokensIfNecessary(te)})).apply(this,arguments)}function ll(v,f){return xa((0,V.m9)(v),f,null)}function Nd(v,f){return xa((0,V.m9)(v),null,f)}function xa(v,f,_){return zn.apply(this,arguments)}function zn(){return(zn=(0,e.Z)(function*(v,f,_){const{auth:T}=v,M={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(M.email=f),_&&(M.password=_);const te=yield Dn(v,nr(T,M));yield v._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class In{constructor(f,_,T={}){this.isNewUser=f,this.providerId=_,this.profile=T}}class Ud extends In{constructor(f,_,T,S){super(f,_,T),this.username=S}}class Md extends In{constructor(f,_){super(f,"facebook.com",_)}}class Pd extends Ud{constructor(f,_){super(f,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class ru extends In{constructor(f,_){super(f,"google.com",_)}}class gc extends Ud{constructor(f,_,T){super(f,"twitter.com",_,T)}}function ou(v){const{user:f,_tokenResponse:_}=v;return f.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ho(v){var f,_;if(!v)return null;const{providerId:T}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},M=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!T&&(null==v?void 0:v.idToken)){const te=null===(_=null===(f=at(v.idToken))||void 0===f?void 0:f.firebase)||void 0===_?void 0:_.sign_in_provider;if(te)return new In(M,"anonymous"!==te&&"custom"!==te?te:null)}if(!T)return null;switch(T){case"facebook.com":return new Md(M,S);case"github.com":return new Pd(M,S);case"google.com":return new ru(M,S);case"twitter.com":return new gc(M,S,v.screenName||null);case"custom":case"anonymous":return new In(M,null);default:return new In(M,T,S)}}(_)}class $s{constructor(f,_,T){this.type=f,this.credential=_,this.auth=T}static _fromIdtoken(f,_){return new $s("enroll",f,_)}static _fromMfaPendingCredential(f){return new $s("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var _,T;if(null!=f&&f.multiFactorSession){if(null!==(_=f.multiFactorSession)&&void 0!==_&&_.pendingCredential)return $s._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(T=f.multiFactorSession)&&void 0!==T&&T.idToken)return $s._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Gs{constructor(f,_,T){this.session=f,this.hints=_,this.signInResolver=T}static _fromError(f,_){const T=ln(f),S=_.customData._serverResponse,M=(S.mfaInfo||[]).map(Ee=>$t._fromServerResponse(T,Ee));re(S.mfaPendingCredential,T,"internal-error");const te=$s._fromMfaPendingCredential(S.mfaPendingCredential);return new Gs(te,M,function(){var Ee=(0,e.Z)(function*(rt){const ft=yield rt._process(T,te);delete S.mfaInfo,delete S.mfaPendingCredential;const Yt=Object.assign(Object.assign({},S),{idToken:ft.idToken,refreshToken:ft.refreshToken});switch(_.operationType){case"signIn":const On=yield Do._fromIdTokenResponse(T,_.operationType,Yt);return yield T._updateCurrentUser(On.user),On;case"reauthenticate":return re(_.user,T,"internal-error"),Do._forOperation(_.user,_.operationType,Yt);default:Ke(T,"internal-error")}});return function(rt){return Ee.apply(this,arguments)}}())}resolveSignIn(f){var _=this;return(0,e.Z)(function*(){return _.signInResolver(f)})()}}function su(v,f){var _;const T=(0,V.m9)(v),S=f;return re(f.customData.operationType,T,"argument-error"),re(null===(_=S.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,T,"argument-error"),Gs._fromError(T,S)}function pr(v,f){return qt(v,"POST","/v2/accounts/mfaEnrollment:start",zt(v,f))}class Od{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(T=>$t._fromServerResponse(f.auth,T)))})}static _fromUser(f){return new Od(f)}getSession(){var f=this;return(0,e.Z)(function*(){return $s._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,_){var T=this;return(0,e.Z)(function*(){const S=f,M=yield T.getSession(),te=yield Dn(T.user,S._process(T.user.auth,M,_));return yield T.user._updateTokensIfNecessary(te),T.user.reload()})()}unenroll(f){var _=this;return(0,e.Z)(function*(){var T;const S="string"==typeof f?f:f.uid,M=yield _.user.getIdToken(),te=yield Dn(_.user,function i_(v,f){return qt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(v,f))}(_.user.auth,{idToken:M,mfaEnrollmentId:S}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Ee})=>Ee!==S),yield _.user._updateTokensIfNecessary(te);try{yield _.user.reload()}catch(Ee){if("auth/user-token-expired"!==(null===(T=Ee)||void 0===T?void 0:T.code))throw Ee}})()}}const ka=new WeakMap;function au(v){const f=(0,V.m9)(v);return ka.has(f)||ka.set(f,Od._fromUser(f)),ka.get(f)}const Na="__sak";class Hs{constructor(f,_){this.storageRetriever=f,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Na,"1"),this.storage.removeItem(Na),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,_){return this.storage.setItem(f,JSON.stringify(_)),Promise.resolve()}_get(f){const _=this.storage.getItem(f);return Promise.resolve(_?JSON.parse(_):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const rr=(()=>{class v extends Hs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,T)=>this.onStorageEvent(_,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ld(){const v=(0,V.z$)();return L(v)||ut(v)}()&&function kt(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=He(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const T of Object.keys(this.listeners)){const S=this.storage.getItem(T),M=this.localCache[T];S!==M&&_(T,M,S)}}onStorageEvent(_,T=!1){if(!_.key)return void this.forAllChangedKeys((Ee,rt,ft)=>{this.notifyListeners(Ee,ft)});const S=_.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ee=this.storage.getItem(S);if(_.newValue!==Ee)null!==_.newValue?this.storage.setItem(S,_.newValue):this.storage.removeItem(S);else if(this.localCache[S]===_.newValue&&!T)return}const M=()=>{const Ee=this.storage.getItem(S);!T&&this.localCache[S]===Ee||this.notifyListeners(S,Ee)},te=this.storage.getItem(S);!function Et(){return(0,V.w1)()&&10===document.documentMode}()||te===_.newValue||_.newValue===_.oldValue?M():setTimeout(M,10)}notifyListeners(_,T){this.localCache[_]=T;const S=this.listeners[_];if(S)for(const M of Array.from(S))M(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,T,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:T,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(T)}_removeListener(_,T){this.listeners[_]&&(this.listeners[_].delete(T),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,T){var S=()=>super._set,M=this;return(0,e.Z)(function*(){yield S().call(M,_,T),M.localCache[_]=JSON.stringify(T)})()}_get(_){var T=()=>super._get,S=this;return(0,e.Z)(function*(){const M=yield T().call(S,_);return S.localCache[_]=JSON.stringify(M),M})()}_remove(_){var T=()=>super._remove,S=this;return(0,e.Z)(function*(){yield T().call(S,_),delete S.localCache[_]})()}}return v.type="LOCAL",v})(),Ma=(()=>{class v extends Hs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,T){}_removeListener(_,T){}}return v.type="SESSION",v})();let mc=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const T=this.receivers.find(M=>M.isListeningto(_));if(T)return T;const S=new v(_);return this.receivers.push(S),S}isListeningto(_){return this.eventTarget===_}handleEvent(_){var T=this;return(0,e.Z)(function*(){const S=_,{eventId:M,eventType:te,data:Ee}=S.data,rt=T.handlersMap[te];if(null==rt||!rt.size)return;S.ports[0].postMessage({status:"ack",eventId:M,eventType:te});const ft=Array.from(rt).map(function(){var On=(0,e.Z)(function*(Ko){return Ko(S.origin,Ee)});return function(Ko){return On.apply(this,arguments)}}()),Yt=yield function Pp(v){return Promise.all(v.map(function(){var f=(0,e.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(T){return{fulfilled:!1,reason:T}}});return function(_){return f.apply(this,arguments)}}()))}(ft);S.ports[0].postMessage({status:"done",eventId:M,eventType:te,response:Yt})})()}_subscribe(_,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(T)}_unsubscribe(_,T){this.handlersMap[_]&&T&&this.handlersMap[_].delete(T),(!T||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function dn(v="",f=10){let _="";for(let T=0;T<f;T++)_+=Math.floor(10*Math.random());return v+_}class zr{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,_,T=50){var S=this;return(0,e.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let te,Ee;return new Promise((rt,ft)=>{const Yt=dn("",20);M.port1.start();const On=setTimeout(()=>{ft(new Error("unsupported_event"))},T);Ee={messageChannel:M,onMessage(Ko){const Mn=Ko;if(Mn.data.eventId===Yt)switch(Mn.data.status){case"ack":clearTimeout(On),te=setTimeout(()=>{ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),rt(Mn.data.response);break;default:clearTimeout(On),clearTimeout(te),ft(new Error("invalid_response"))}}},S.handlers.add(Ee),M.port1.addEventListener("message",Ee.onMessage),S.target.postMessage({eventType:f,eventId:Yt,data:_},[M.port2])}).finally(()=>{Ee&&S.removeMessageHandler(Ee)})})()}}function gn(){return window}function oi(){return void 0!==gn().WorkerGlobalScope&&"function"==typeof gn().importScripts}function Zi(){return(Zi=(0,e.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const as="firebaseLocalStorageDb",j="firebaseLocalStorage",Pa="fbase_key";class Js{constructor(f){this.request=f}toPromise(){return new Promise((f,_)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ls(v,f){return v.transaction([j],f?"readwrite":"readonly").objectStore(j)}function ii(){const v=indexedDB.open(as,1);return new Promise((f,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const T=v.result;try{T.createObjectStore(j,{keyPath:Pa})}catch(S){_(S)}}),v.addEventListener("success",(0,e.Z)(function*(){const T=v.result;T.objectStoreNames.contains(j)?f(T):(T.close(),yield function Ra(){const v=indexedDB.deleteDatabase(as);return new Js(v).toPromise()}(),f(yield ii()))}))})}function lu(v,f,_){return co.apply(this,arguments)}function co(){return(co=(0,e.Z)(function*(v,f,_){const T=ls(v,!0).put({[Pa]:f,value:_});return new Js(T).toPromise()})).apply(this,arguments)}function Wo(){return(Wo=(0,e.Z)(function*(v,f){const _=ls(v,!1).get(f),T=yield new Js(_).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Oa(v,f){const _=ls(v,!0).delete(f);return new Js(_).toPromise()}const Nn=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,e.Z)(function*(){return _.db||(_.db=yield ii()),_.db})()}_withRetries(_){var T=this;return(0,e.Z)(function*(){let S=0;for(;;)try{const M=yield T._openDb();return yield _(M)}catch(M){if(S++>3)throw M;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,e.Z)(function*(){return oi()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,e.Z)(function*(){_.receiver=mc._getInstance(function ss(){return oi()?self:null}()),_.receiver._subscribe("keyChanged",function(){var T=(0,e.Z)(function*(S,M){return{keyProcessed:(yield _._poll()).includes(M.key)}});return function(S,M){return T.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var T=(0,e.Z)(function*(S,M){return["keyChanged"]});return function(S,M){return T.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,e.Z)(function*(){var T,S;if(_.activeServiceWorker=yield function cl(){return Zi.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new zr(_.activeServiceWorker);const M=yield _.sender._send("ping",{},800);!M||(null===(T=M[0])||void 0===T?void 0:T.fulfilled)&&(null===(S=M[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var T=this;return(0,e.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function dl(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:_},T.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,e.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ii();return yield lu(_,Na,"1"),yield Oa(_,Na),!0}catch(_){}return!1})()}_withPendingWrite(_){var T=this;return(0,e.Z)(function*(){T.pendingWrites++;try{yield _()}finally{T.pendingWrites--}})()}_set(_,T){var S=this;return(0,e.Z)(function*(){return S._withPendingWrite((0,e.Z)(function*(){return yield S._withRetries(M=>lu(M,_,T)),S.localCache[_]=T,S.notifyServiceWorker(_)}))})()}_get(_){var T=this;return(0,e.Z)(function*(){const S=yield T._withRetries(M=>function xo(v,f){return Wo.apply(this,arguments)}(M,_));return T.localCache[_]=S,S})()}_remove(_){var T=this;return(0,e.Z)(function*(){return T._withPendingWrite((0,e.Z)(function*(){return yield T._withRetries(S=>Oa(S,_)),delete T.localCache[_],T.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,e.Z)(function*(){const T=yield _._withRetries(te=>{const Ee=ls(te,!1).getAll();return new Js(Ee).toPromise()});if(!T)return[];if(0!==_.pendingWrites)return[];const S=[],M=new Set;for(const{fbase_key:te,value:Ee}of T)M.add(te),JSON.stringify(_.localCache[te])!==JSON.stringify(Ee)&&(_.notifyListeners(te,Ee),S.push(te));for(const te of Object.keys(_.localCache))_.localCache[te]&&!M.has(te)&&(_.notifyListeners(te,null),S.push(te));return S})()}notifyListeners(_,T){this.localCache[_]=T;const S=this.listeners[_];if(S)for(const M of Array.from(S))M(T)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,e.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(T)}_removeListener(_,T){this.listeners[_]&&(this.listeners[_].delete(T),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function cu(v,f){return qt(v,"POST","/v2/accounts/mfaSignIn:start",zt(v,f))}function hn(){return(hn=(0,e.Z)(function*(v){return(yield qt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function La(v){return new Promise((f,_)=>{const T=document.createElement("script");T.setAttribute("src",v),T.onload=f,T.onerror=S=>{const M=Ne("internal-error");M.customData=S,_(M)},T.type="text/javascript",T.charset="UTF-8",function Qo(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(T)})}function yr(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Wt=1e12;class hu{constructor(f){this.auth=f,this.counter=Wt,this._widgets=new Map}render(f,_){const T=this.counter;return this._widgets.set(T,new Op(f,this.auth.name,_||{})),this.counter++,T}reset(f){var _;const T=f||Wt;null===(_=this._widgets.get(T))||void 0===_||_.delete(),this._widgets.delete(T)}getResponse(f){var _;return(null===(_=this._widgets.get(f||Wt))||void 0===_?void 0:_.getResponse())||""}execute(f){var _=this;return(0,e.Z)(function*(){var T;return null===(T=_._widgets.get(f||Wt))||void 0===T||T.execute(),""})()}}class Op{constructor(f,_,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;re(S,"argument-error",{appName:_}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Bd(v){const f=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<v;T++)f.push(_.charAt(Math.floor(Math.random()*_.length)));return f.join("")}(50);const{callback:f,"expired-callback":_}=this.params;if(f)try{f(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const pu=yr("rcb"),Lp=new We(3e4,6e4);class jd{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=gn().grecaptcha)||void 0===f||!f.render)}load(f,_=""){return re(function ki(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(_),f,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(gn().grecaptcha):new Promise((T,S)=>{const M=gn().setTimeout(()=>{S(Ne(f,"network-request-failed"))},Lp.get());gn()[pu]=()=>{gn().clearTimeout(M),delete gn()[pu];const Ee=gn().grecaptcha;if(!Ee)return void S(Ne(f,"internal-error"));const rt=Ee.render;Ee.render=(ft,Yt)=>{const On=rt(ft,Yt);return this.counter++,On},this.hostLanguage=_,T(Ee)},La(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:pu,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(M),S(Ne(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var _;return!(null===(_=gn().grecaptcha)||void 0===_||!_.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fp{load(f){return(0,e.Z)(function*(){return new hu(f)})()}clearedOneInstance(){}}const $d="recaptcha",or={theme:"light",type:"image"};class fu{constructor(f,_=Object.assign({},or),T){this.parameters=_,this.type=$d,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ln(T),this.isInvisible="invisible"===this.parameters.size,re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;re(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fp:new jd,this.validateStartingState()}verify(){var f=this;return(0,e.Z)(function*(){f.assertNotDestroyed();const _=yield f.render(),T=f.getAssertedRecaptcha();return T.getResponse(_)||new Promise(M=>{const te=Ee=>{!Ee||(f.tokenChangeListeners.delete(te),M(Ee))};f.tokenChangeListeners.add(te),f.isInvisible&&T.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return _=>{if(this.tokenChangeListeners.forEach(T=>T(_)),"function"==typeof f)f(_);else if("string"==typeof f){const T=gn()[f];"function"==typeof T&&T(_)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,e.Z)(function*(){if(yield f.init(),!f.widgetId){let _=f.container;if(!f.isInvisible){const T=document.createElement("div");_.appendChild(T),_=T}f.widgetId=f.getAssertedRecaptcha().render(_,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,e.Z)(function*(){re(Le()&&!oi(),f.auth,"internal-error"),yield function Fa(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const _=yield function us(v){return hn.apply(this,arguments)}(f.auth);re(_,f.auth,"internal-error"),f.parameters.sitekey=_})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class pl{constructor(f,_){this.verificationId=f,this.onConfirmation=_}confirm(f){const _=ni._fromVerification(this.verificationId,f);return this.onConfirmation(_)}}function Gd(v,f,_){return ir.apply(this,arguments)}function ir(){return(ir=(0,e.Z)(function*(v,f,_){const T=ln(v),S=yield Ni(T,f,(0,V.m9)(_));return new pl(S,M=>Dt(T,M))})).apply(this,arguments)}function Zo(v,f,_){return qa.apply(this,arguments)}function qa(){return(qa=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v);yield Yi(!1,T,"phone");const S=yield Ni(T.auth,f,(0,V.m9)(_));return new pl(S,M=>Zd(T,M))})).apply(this,arguments)}function Va(v,f,_){return si.apply(this,arguments)}function si(){return(si=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v),S=yield Ni(T.auth,f,(0,V.m9)(_));return new pl(S,M=>dc(T,M))})).apply(this,arguments)}function Ni(v,f,_){return gl.apply(this,arguments)}function gl(){return(gl=(0,e.Z)(function*(v,f,_){var T;const S=yield _.verify();try{let M;if(re("string"==typeof S,v,"argument-error"),re(_.type===$d,v,"argument-error"),M="string"==typeof f?{phoneNumber:f}:f,"session"in M){const te=M.session;if("phoneNumber"in M)return re("enroll"===te.type,v,"internal-error"),(yield pr(v,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{re("signin"===te.type,v,"internal-error");const Ee=(null===(T=M.multiFactorHint)||void 0===T?void 0:T.uid)||M.multiFactorUid;return re(Ee,v,"missing-multi-factor-info"),(yield cu(v,{mfaPendingCredential:te.credential,mfaEnrollmentId:Ee,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield Zp(v,{phoneNumber:M.phoneNumber,recaptchaToken:S});return te}}finally{_._reset()}})).apply(this,arguments)}function vc(v,f){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,e.Z)(function*(v,f){yield ri((0,V.m9)(v),f)})).apply(this,arguments)}let cs=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=ln(_)}verifyPhoneNumber(_,T){return Ni(this.auth,_,(0,V.m9)(T))}static credential(_,T){return ni._fromVerification(_,T)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:T,temporaryProof:S}=_;return T&&S?ni._fromTokenResponse(T,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Rn(v,f){return f?X(f):(re(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class vr extends Wr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ji(f,this._buildIdpRequest())}_linkToIdToken(f,_){return Ji(f,this._buildIdpRequest(_))}_getReauthenticationResolver(f){return Ji(f,this._buildIdpRequest())}_buildIdpRequest(f){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(_.idToken=f),_}}function Tc(v){return Si(v.auth,new vr(v),v.bypassAuthState)}function Ba(v){const{auth:f,user:_}=v;return re(_,f,"internal-error"),Di(_,new vr(v),v.bypassAuthState)}function En(v){return ai.apply(this,arguments)}function ai(){return(ai=(0,e.Z)(function*(v){const{auth:f,user:_}=v;return re(_,f,"internal-error"),ri(_,new vr(v),v.bypassAuthState)})).apply(this,arguments)}class Ws{constructor(f,_,T,S,M=!1){this.auth=f,this.resolver=T,this.user=S,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var f=this;return new Promise(function(){var _=(0,e.Z)(function*(T,S){f.pendingPromise={resolve:T,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(M){f.reject(M)}});return function(T,S){return _.apply(this,arguments)}}())}onAuthEvent(f){var _=this;return(0,e.Z)(function*(){const{urlResponse:T,sessionId:S,postBody:M,tenantId:te,error:Ee,type:rt}=f;if(Ee)return void _.reject(Ee);const ft={auth:_.auth,requestUri:T,sessionId:S,tenantId:te||void 0,postBody:M||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(rt)(ft))}catch(Yt){_.reject(Yt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Tc;case"linkViaPopup":case"linkViaRedirect":return En;case"reauthViaPopup":case"reauthViaRedirect":return Ba;default:Ke(this.auth,"internal-error")}}resolve(f){ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qs=new We(2e3,1e4);function _u(v,f,_){return ds.apply(this,arguments)}function ds(){return(ds=(0,e.Z)(function*(v,f,_){const T=ln(v);we(v,f,lo);const S=Rn(T,_);return new Wd(T,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function mu(v,f,_){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v);we(T.auth,f,lo);const S=Rn(T.auth,_);return new Wd(T.auth,"reauthViaPopup",f,S,T).executeNotNull()})).apply(this,arguments)}function Jd(v,f,_){return fl.apply(this,arguments)}function fl(){return(fl=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v);we(T.auth,f,lo);const S=Rn(T.auth,_);return new Wd(T.auth,"linkViaPopup",f,S,T).executeNotNull()})).apply(this,arguments)}let Wd=(()=>{class v extends Ws{constructor(_,T,S,M,te){super(_,T,M,te),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,e.Z)(function*(){const T=yield _.execute();return re(T,_.auth,"internal-error"),T})()}onExecution(){var _=this;return(0,e.Z)(function*(){ye(1===_.filter.length,"Popup operations only handle one event");const T=dn();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],T),_.authWindow.associatedEvent=T,_.resolver._originValidation(_.auth).catch(S=>{_.reject(S)}),_.resolver._isIframeWebStorageSupported(_.auth,S=>{S||_.reject(Ne(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var T,S;this.pollId=null!==(S=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Qs.get())};_()}}return v.currentPopupAction=null,v})();const ko=new Map;class ml extends Ws{constructor(f,_,T=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,T),this.eventId=null}execute(){var f=()=>super.execute,_=this;return(0,e.Z)(function*(){let T=ko.get(_.auth._key());if(!T){try{const M=(yield function Qd(v,f){return yl.apply(this,arguments)}(_.resolver,_.auth))?yield f().call(_):null;T=()=>Promise.resolve(M)}catch(S){T=()=>Promise.reject(S)}ko.set(_.auth._key(),T)}return _.bypassAuthState||ko.set(_.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(f){var _=()=>super.onAuthEvent,T=this;return(0,e.Z)(function*(){if("signInViaRedirect"===f.type)return _().call(T,f);if("unknown"!==f.type){if(f.eventId){const S=yield T.auth._redirectUserForId(f.eventId);if(S)return T.user=S,_().call(T,f);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,e.Z)(function*(){})()}cleanUp(){}}function yl(){return(yl=(0,e.Z)(function*(v,f){const _=Zn(f),T=ja(v);if(!(yield T._isAvailable()))return!1;const S="true"===(yield T._get(_));return yield T._remove(_),S})).apply(this,arguments)}function li(v,f){return vl.apply(this,arguments)}function vl(){return(vl=(0,e.Z)(function*(v,f){return ja(v)._set(Zn(f),"true")})).apply(this,arguments)}function No(){ko.clear()}function Ui(v,f){ko.set(v._key(),f)}function ja(v){return X(v._redirectPersistence)}function Zn(v){return B("pendingRedirect",v.config.apiKey,v.name)}function hs(v,f,_){return function zs(v,f,_){return Ks.apply(this,arguments)}(v,f,_)}function Ks(){return(Ks=(0,e.Z)(function*(v,f,_){const T=ln(v);we(v,f,lo);const S=Rn(T,_);return yield li(S,T),S._openRedirect(T,f,"signInViaRedirect")})).apply(this,arguments)}function A(v,f,_){return function I(v,f,_){return Z.apply(this,arguments)}(v,f,_)}function Z(){return(Z=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v);we(T.auth,f,lo);const S=Rn(T.auth,_);yield li(S,T.auth);const M=yield Mt(T);return S._openRedirect(T.auth,f,"reauthViaRedirect",M)})).apply(this,arguments)}function q(v,f,_){return function K(v,f,_){return ae.apply(this,arguments)}(v,f,_)}function ae(){return(ae=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v);we(T.auth,f,lo);const S=Rn(T.auth,_);yield Yi(!1,T,f.providerId),yield li(S,T.auth);const M=yield Mt(T);return S._openRedirect(T.auth,f,"linkViaRedirect",M)})).apply(this,arguments)}function xe(v,f){return $e.apply(this,arguments)}function $e(){return($e=(0,e.Z)(function*(v,f){return yield ln(v)._initializationPromise,At(v,f,!1)})).apply(this,arguments)}function At(v,f){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,e.Z)(function*(v,f,_=!1){const T=ln(v),S=Rn(T,f),te=yield new ml(T,S,_).execute();return te&&!_&&(delete te.user._redirectEventId,yield T._persistUserIfCurrent(te.user),yield T._setRedirectUser(null,f)),te})).apply(this,arguments)}function Mt(v){return vt.apply(this,arguments)}function vt(){return(vt=(0,e.Z)(function*(v){const f=dn(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class sr{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let _=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(f,T)&&(_=!0,this.sendToConsumer(f,T),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function zo(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fr(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=f,_=!0)),_}sendToConsumer(f,_){var T;if(f.error&&!Fr(f)){const S=(null===(T=f.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";_.onError(Ne(this.auth,S))}else _.onAuthEvent(f)}isEventForConsumer(f,_){const T=null===_.eventId||!!f.eventId&&f.eventId===_.eventId;return _.filter.includes(f.type)&&T}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mi(f))}saveEventToCache(f){this.cachedEventUids.add(Mi(f)),this.lastProcessedEventTime=Date.now()}}function Mi(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function Fr({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Cl(v){return ps.apply(this,arguments)}function ps(){return(ps=(0,e.Z)(function*(v,f={}){return qt(v,"GET","/v1/projects",f)})).apply(this,arguments)}const Ys=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gs=/^https?/;function Tl(){return(Tl=(0,e.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield Cl(v);for(const _ of f)try{if(qp(_))return}catch(T){}Ke(v,"unauthorized-domain")})).apply(this,arguments)}function qp(v){const f=Oe(),{protocol:_,hostname:T}=new URL(f);if(v.startsWith("chrome-extension://")){const te=new URL(v);return""===te.hostname&&""===T?"chrome-extension:"===_&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===_&&te.hostname===T}if(!gs.test(_))return!1;if(Ys.test(v))return T===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(T)}const a_=new We(3e4,6e4);function wc(){const v=gn().___jsl;if(null!=v&&v.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let yu=null;function l_(v){return yu=yu||function Vp(v){return new Promise((f,_)=>{var T,S,M;function te(){wc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{wc(),_(Ne(v,"network-request-failed"))},timeout:a_.get()})}if(null!==(S=null===(T=gn().gapi)||void 0===T?void 0:T.iframes)&&void 0!==S&&S.Iframe)f(gapi.iframes.getContext());else{if(null===(M=gn().gapi)||void 0===M||!M.load){const Ee=yr("iframefcb");return gn()[Ee]=()=>{gapi.load?te():_(Ne(v,"network-request-failed"))},La(`https://apis.google.com/js/api.js?onload=${Ee}`).catch(rt=>_(rt))}te()}}).catch(f=>{throw yu=null,f})}(v),yu}const Bp=new We(5e3,15e3),vu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d_(v){const f=v.config;re(f.authDomain,v,"auth-domain-config-required");const _=f.emulator?mn(f,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,T={apiKey:f.apiKey,appName:v.name,v:U.SDK_VERSION},S=c_.get(v.config.apiHost);S&&(T.eid=S);const M=v._getFrameworks();return M.length&&(T.fw=M.join(",")),`${_}?${(0,V.xO)(T).slice(1)}`}function fs(){return fs=(0,e.Z)(function*(v){const f=yield l_(v),_=gn().gapi;return re(_,v,"internal-error"),f.open({where:document.body,url:d_(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vu,dontclear:!0},T=>new Promise(function(){var S=(0,e.Z)(function*(M,te){yield T.restyle({setHideOnLeave:!1});const Ee=Ne(v,"network-request-failed"),rt=gn().setTimeout(()=>{te(Ee)},Bp.get());function ft(){gn().clearTimeout(rt),M(T)}T.ping(ft).then(ft,()=>{te(Ee)})});return function(M,te){return S.apply(this,arguments)}}()))}),fs.apply(this,arguments)}const ea={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ac{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Hp(v,f,_,T,S,M){re(v.config.authDomain,v,"auth-domain-config-required"),re(v.config.apiKey,v,"invalid-api-key");const te={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:T,v:U.SDK_VERSION,eventId:S};if(f instanceof lo){f.setDefaultLanguage(v.languageCode),te.providerId=f.providerId||"",(0,V.xb)(f.getCustomParameters())||(te.customParameters=JSON.stringify(f.getCustomParameters()));for(const[rt,ft]of Object.entries(M||{}))te[rt]=ft}if(f instanceof Wi){const rt=f.getScopes().filter(ft=>""!==ft);rt.length>0&&(te.scopes=rt.join(","))}v.tenantId&&(te.tid=v.tenantId);const Ee=te;for(const rt of Object.keys(Ee))void 0===Ee[rt]&&delete Ee[rt];return`${function f_({config:v}){return v.emulator?mn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,V.xO)(Ee).slice(1)}`}const Ic="webStorageSupport",Yd=class __{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ma,this._completeRedirectFn=At,this._overrideRedirectResult=Ui}_openPopup(f,_,T,S){var M=this;return(0,e.Z)(function*(){var te;ye(null===(te=M.eventManagers[f._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const Ee=Hp(f,_,T,Oe(),S);return function Kd(v,f,_,T=500,S=600){const M=Math.max((window.screen.availHeight-S)/2,0).toString(),te=Math.max((window.screen.availWidth-T)/2,0).toString();let Ee="";const rt=Object.assign(Object.assign({},ea),{width:T.toString(),height:S.toString(),top:M,left:te}),ft=(0,V.z$)().toLowerCase();_&&(Ee=oe(ft)?"_blank":_),N(ft)&&(f=f||"http://localhost",rt.scrollbars="yes");const Yt=Object.entries(rt).reduce((Ko,[Mn,gr])=>`${Ko}${Mn}=${gr},`,"");if(function mr(v=(0,V.z$)()){var f;return ut(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(ft)&&"_self"!==Ee)return function h_(v,f){const _=document.createElement("a");_.href=v,_.target=f;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(T)}(f||"",Ee),new Ac(null);const On=window.open(f||"",Ee,Yt);re(On,v,"popup-blocked");try{On.focus()}catch(Ko){}return new Ac(On)}(f,Ee,dn())})()}_openRedirect(f,_,T,S){var M=this;return(0,e.Z)(function*(){return yield M._originValidation(f),function Vd(v){gn().location.href=v}(Hp(f,_,T,Oe(),S)),new Promise(()=>{})})()}_initialize(f){const _=f._key();if(this.eventManagers[_]){const{manager:S,promise:M}=this.eventManagers[_];return S?Promise.resolve(S):(ye(M,"If manager is not set, promise should be"),M)}const T=this.initAndGetManager(f);return this.eventManagers[_]={promise:T},T.catch(()=>{delete this.eventManagers[_]}),T}initAndGetManager(f){var _=this;return(0,e.Z)(function*(){const T=yield function bc(v){return fs.apply(this,arguments)}(f),S=new sr(f);return T.register("authEvent",M=>(re(null==M?void 0:M.authEvent,f,"invalid-auth-event"),{status:S.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[f._key()]={manager:S},_.iframes[f._key()]=T,S})()}_isIframeWebStorageSupported(f,_){this.iframes[f._key()].send(Ic,{type:Ic},S=>{var M;const te=null===(M=null==S?void 0:S[0])||void 0===M?void 0:M[Ic];void 0!==te&&_(!!te),Ke(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const _=f._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Xs(v){return Tl.apply(this,arguments)}(f)),this.originValidationPromises[_]}get _shouldInitProactively(){return He()||L()||ut()}};class Pi extends class fn{constructor(f){this.factorId=f}_process(f,_,T){switch(_.type){case"enroll":return this._finalizeEnroll(f,_.credential,T);case"signin":return this._finalizeSignIn(f,_.credential);default:return ue("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Pi(f)}_finalizeEnroll(f,_,T){return function Rd(v,f){return qt(v,"POST","/v2/accounts/mfaEnrollment:finalize",zt(v,f))}(f,{idToken:_,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,_){return function xr(v,f){return qt(v,"POST","/v2/accounts/mfaSignIn:finalize",zt(v,f))}(f,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let m_=(()=>{class v{constructor(){}static assertion(_){return Pi._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var Jp="@firebase/auth",y_="0.20.10";class nb{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var _=this;return(0,e.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const _=this.auth.onIdTokenChanged(T=>{var S;f((null===(S=T)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,_),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const _=this.internalListeners.get(f);!_||(this.internalListeners.delete(f),_(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,V.Pz)("authIdTokenMaxAge"),function Rv(v){(0,U._registerComponent)(new ge.wA("auth",(f,{options:_})=>{const T=f.getProvider("app").getImmediate(),S=f.getProvider("heartbeat"),{apiKey:M,authDomain:te}=T.options;return((Ee,rt)=>{re(M&&!M.includes(":"),"invalid-api-key",{appName:Ee.name}),re(!(null!=te&&te.includes(":")),"argument-error",{appName:Ee.name});const ft={apiKey:M,authDomain:te,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:An(v)},Yt=new bi(Ee,rt,ft);return function se(v,f){const _=(null==f?void 0:f.persistence)||[],T=(Array.isArray(_)?_:[_]).map(X);null!=f&&f.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(T,null==f?void 0:f.popupRedirectResolver)}(Yt,_),Yt})(T,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,_,T)=>{f.getProvider("auth-internal").initialize()})),(0,U._registerComponent)(new ge.wA("auth-internal",f=>{const _=ln(f.getProvider("auth").getImmediate());return new nb(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,U.registerVersion)(Jp,y_,function v_(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,U.registerVersion)(Jp,y_,"esm2017")}("Browser")},2090:(it,Ce,P)=>{P.d(Ce,{$s:()=>et,BH:()=>Bt,G6:()=>we,L:()=>de,LL:()=>on,Pz:()=>un,Sg:()=>We,UG:()=>Ae,US:()=>ge,ZB:()=>G,ZR:()=>Sn,aH:()=>mt,b$:()=>pe,eu:()=>re,hl:()=>Je,jU:()=>st,m9:()=>an,ne:()=>Rr,pd:()=>Er,r3:()=>Gr,ru:()=>ve,tV:()=>me,uI:()=>ke,vZ:()=>yn,w1:()=>Ke,xO:()=>_r,xb:()=>qo,z$:()=>qe,zI:()=>ue,zd:()=>Ir});const ie=function(H){const B=[];let Q=0;for(let O=0;O<H.length;O++){let N=H.charCodeAt(O);N<128?B[Q++]=N:N<2048?(B[Q++]=N>>6|192,B[Q++]=63&N|128):55296==(64512&N)&&O+1<H.length&&56320==(64512&H.charCodeAt(O+1))?(N=65536+((1023&N)<<10)+(1023&H.charCodeAt(++O)),B[Q++]=N>>18|240,B[Q++]=N>>12&63|128,B[Q++]=N>>6&63|128,B[Q++]=63&N|128):(B[Q++]=N>>12|224,B[Q++]=N>>6&63|128,B[Q++]=63&N|128)}return B},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,B){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,O=[];for(let N=0;N<H.length;N+=3){const L=H[N],oe=N+1<H.length,Me=oe?H[N+1]:0,gt=N+2<H.length,dt=gt?H[N+2]:0;let Kt=(15&Me)<<2|dt>>6,mr=63&dt;gt||(mr=64,oe||(Kt=64)),O.push(Q[L>>2],Q[(3&L)<<4|Me>>4],Q[Kt],Q[mr])}return O.join("")},encodeString(H,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(H):this.encodeByteArray(ie(H),B)},decodeString(H,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(H):function(H){const B=[];let Q=0,O=0;for(;Q<H.length;){const N=H[Q++];if(N<128)B[O++]=String.fromCharCode(N);else if(N>191&&N<224){const L=H[Q++];B[O++]=String.fromCharCode((31&N)<<6|63&L)}else if(N>239&&N<365){const gt=((7&N)<<18|(63&H[Q++])<<12|(63&H[Q++])<<6|63&H[Q++])-65536;B[O++]=String.fromCharCode(55296+(gt>>10)),B[O++]=String.fromCharCode(56320+(1023&gt))}else{const L=H[Q++],oe=H[Q++];B[O++]=String.fromCharCode((15&N)<<12|(63&L)<<6|63&oe)}}return B.join("")}(this.decodeStringToByteArray(H,B))},decodeStringToByteArray(H,B){this.init_();const Q=B?this.charToByteMapWebSafe_:this.charToByteMap_,O=[];for(let N=0;N<H.length;){const L=Q[H.charAt(N++)],Me=N<H.length?Q[H.charAt(N)]:0;++N;const dt=N<H.length?Q[H.charAt(N)]:64;++N;const ut=N<H.length?Q[H.charAt(N)]:64;if(++N,null==L||null==Me||null==dt||null==ut)throw Error();O.push(L<<2|Me>>4),64!==dt&&(O.push(Me<<4&240|dt>>2),64!==ut&&O.push(dt<<6&192|ut))}return O},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},de=function(H){return function(H){const B=ie(H);return ge.encodeByteArray(B,!0)}(H).replace(/\./g,"")},me=function(H){try{return ge.decodeString(H,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function G(H,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return B}for(const Q in B)!B.hasOwnProperty(Q)||!Y(Q)||(H[Q]=G(H[Q],B[Q]));return H}function Y(H){return"__proto__"!==H}function qe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ke(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function Ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function st(){return"object"==typeof self&&self.self===self}function ve(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ke(){const H=qe();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function we(){return!Ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Je(){return"object"==typeof indexedDB}function re(){return new Promise((H,B)=>{try{let Q=!0;const O="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(O);N.onsuccess=()=>{N.result.close(),Q||self.indexedDB.deleteDatabase(O),H(!0)},N.onupgradeneeded=()=>{Q=!1},N.onerror=()=>{var L;B((null===(L=N.error)||void 0===L?void 0:L.message)||"")}}catch(Q){B(Q)}})}function ue(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const se=()=>{try{return function ye(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if("undefined"==typeof document)return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Q){return}const B=H&&me(H[1]);return B&&JSON.parse(B)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},mt=()=>{var H;return null===(H=se())||void 0===H?void 0:H.config},un=H=>{var B;return null===(B=se())||void 0===B?void 0:B[`_${H}`]};class Bt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,Q)=>{this.resolve=B,this.reject=Q})}wrapCallback(B){return(Q,O)=>{Q?this.reject(Q):this.resolve(O),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(Q):B(Q,O))}}}function We(H,B){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const O=B||"demo-project",N=H.iat||0,L=H.sub||H.user_id;if(!L)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const oe=Object.assign({iss:`https://securetoken.google.com/${O}`,aud:O,iat:N,exp:N+3600,auth_time:N,sub:L,user_id:L,firebase:{sign_in_provider:"custom",identities:{}}},H);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(oe)),""].join(".")}class Sn extends Error{constructor(B,Q,O){super(Q),this.code=B,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,Sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,on.prototype.create)}}class on{constructor(B,Q,O){this.service=B,this.serviceName=Q,this.errors=O}create(B,...Q){const O=Q[0]||{},N=`${this.service}/${B}`,L=this.errors[B],oe=L?function sn(H,B){return H.replace(zt,(Q,O)=>{const N=B[O];return null!=N?String(N):`<${O}?>`})}(L,O):"Error";return new Sn(N,`${this.serviceName}: ${oe} (${N}).`,O)}}const zt=/\{\$([^}]+)}/g;function Gr(H,B){return Object.prototype.hasOwnProperty.call(H,B)}function qo(H){for(const B in H)if(Object.prototype.hasOwnProperty.call(H,B))return!1;return!0}function yn(H,B){if(H===B)return!0;const Q=Object.keys(H),O=Object.keys(B);for(const N of Q){if(!O.includes(N))return!1;const L=H[N],oe=B[N];if(cr(L)&&cr(oe)){if(!yn(L,oe))return!1}else if(L!==oe)return!1}for(const N of O)if(!Q.includes(N))return!1;return!0}function cr(H){return null!==H&&"object"==typeof H}function _r(H){const B=[];for(const[Q,O]of Object.entries(H))Array.isArray(O)?O.forEach(N=>{B.push(encodeURIComponent(Q)+"="+encodeURIComponent(N))}):B.push(encodeURIComponent(Q)+"="+encodeURIComponent(O));return B.length?"&"+B.join("&"):""}function Ir(H){const B={};return H.replace(/^\?/,"").split("&").forEach(O=>{if(O){const[N,L]=O.split("=");B[decodeURIComponent(N)]=decodeURIComponent(L)}}),B}function Er(H){const B=H.indexOf("?");if(!B)return"";const Q=H.indexOf("#",B);return H.substring(B,Q>0?Q:void 0)}function Rr(H,B){const Q=new bn(H,B);return Q.subscribe.bind(Q)}class bn{constructor(B,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{B(this)}).catch(O=>{this.error(O)})}next(B){this.forEachObserver(Q=>{Q.next(B)})}error(B){this.forEachObserver(Q=>{Q.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,Q,O){let N;if(void 0===B&&void 0===Q&&void 0===O)throw new Error("Missing Observer.");N=function nt(H,B){if("object"!=typeof H||null===H)return!1;for(const Q of B)if(Q in H&&"function"==typeof H[Q])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:Q,complete:O},void 0===N.next&&(N.next=Dn),void 0===N.error&&(N.error=Dn),void 0===N.complete&&(N.complete=Dn);const L=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch(oe){}}),this.observers.push(N),L}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,B)}sendOne(B,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{Q(this.observers[B])}catch(O){"undefined"!=typeof console&&console.error&&console.error(O)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dn(){}function et(H,B=1e3,Q=2){const O=B*Math.pow(Q,H),N=Math.round(.5*O*(Math.random()-.5)*2);return Math.min(144e5,O+N)}function an(H){return H&&H._delegate?H._delegate:H}},8291:(it,Ce,P)=>{var e=P(5e3);let V=null;function U(){return V}const fe=new e.OlP("DocumentToken");let de=(()=>{class r{historyGo(t){throw new Error("Not implemented")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(){return function me(){return(0,e.LFG)(G)}()},providedIn:"platform"}),r})();const J=new e.OlP("Location Initialized");let G=(()=>{class r extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(t){const o=U().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=U().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,o,i){Y()?this._history.pushState(t,o,i):this.location.hash=i}replaceState(t,o,i){Y()?this._history.replaceState(t,o,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(fe))},r.\u0275prov=e.Yz7({token:r,factory:function(){return function qe(){return new G((0,e.LFG)(fe))}()},providedIn:"platform"}),r})();function Y(){return!!window.history.pushState}function ke(r,n){if(0==r.length)return n;if(0==n.length)return r;let t=0;return r.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?r+n.substring(1):1==t?r+n:r+"/"+n}function Ae(r){const n=r.match(/#|\?|$/),t=n&&n.index||r.length;return r.slice(0,t-("/"===r[t-1]?1:0))+r.slice(t)}function st(r){return r&&"?"!==r[0]?"?"+r:r}let ve=(()=>{class r{historyGo(t){throw new Error("Not implemented")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(){return(0,e.f3M)(Xe)},providedIn:"root"}),r})();const pe=new e.OlP("appBaseHref");let Xe=(()=>{class r extends ve{constructor(t,o){var i,a,d;super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=null!==(d=null!==(i=null!=o?o:this._platformLocation.getBaseHrefFromDOM())&&void 0!==i?i:null===(a=(0,e.f3M)(fe).location)||void 0===a?void 0:a.origin)&&void 0!==d?d:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+st(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${o}${i}`:o}pushState(t,o,i,a){const d=this.prepareExternalUrl(i+st(a));this._platformLocation.pushState(t,o,d)}replaceState(t,o,i,a){const d=this.prepareExternalUrl(i+st(a));this._platformLocation.replaceState(t,o,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var o,i;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(de),e.LFG(pe,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ke=(()=>{class r extends ve{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=ke(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,i,a){let d=this.prepareExternalUrl(i+st(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,o,d)}replaceState(t,o,i,a){let d=this.prepareExternalUrl(i+st(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var o,i;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(de),e.LFG(pe,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),Ne=(()=>{class r{constructor(t){this._subject=new e.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const o=this._locationStrategy.getBaseHref();this._baseHref=Ae(Je(o)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){var t;null===(t=this._urlChangeSubscription)||void 0===t||t.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+st(o))}normalize(t){return r.stripTrailingSlash(function we(r,n){return r&&n.startsWith(r)?n.substring(r.length):n}(this._baseHref,Je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,o="",i=null){this._locationStrategy.pushState(i,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+st(o)),i)}replaceState(t,o="",i=null){this._locationStrategy.replaceState(i,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+st(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){var o,i;null===(i=(o=this._locationStrategy).historyGo)||void 0===i||i.call(o,t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{var o;const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(null===(o=this._urlChangeSubscription)||void 0===o||o.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(i=>i(t,o))}subscribe(t,o,i){return this._subject.subscribe({next:t,error:o,complete:i})}}return r.normalizeQueryParams=st,r.joinWithSlash=ke,r.stripTrailingSlash=Ae,r.\u0275fac=function(t){return new(t||r)(e.LFG(ve))},r.\u0275prov=e.Yz7({token:r,factory:function(){return function Ze(){return new Ne((0,e.LFG)(ve))}()},providedIn:"root"}),r})();function Je(r){return r.replace(/\/index.html$/,"")}function nr(r,n){n=encodeURIComponent(n);for(const t of r.split(";")){const o=t.indexOf("="),[i,a]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(i.trim()===n)return decodeURIComponent(a)}return null}let kn=(()=>{class r{constructor(t,o,i,a){this._iterableDiffers=t,this._keyValueDiffers=o,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,e.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,e.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),t.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!0)):Object.keys(t).forEach(o=>this._toggleClass(o,!!t[o])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!1)):Object.keys(t).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(t,o){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{o?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),r})();class Zs{constructor(n,t,o,i){this.$implicit=n,this.ngForOf=t,this.index=o,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ot=(()=>{class r{constructor(t,o,i){this._viewContainer=t,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const o=this._viewContainer;t.forEachOperation((i,a,d)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new Zs(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)o.remove(null===a?void 0:a);else if(null!==a){const p=o.get(a);o.move(p,d),el(p,i)}});for(let i=0,a=o.length;i<a;i++){const p=o.get(i).context;p.index=i,p.count=a,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{el(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,o){return!0}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),r})();function el(r,n){r.context.$implicit=n.item}let pt=(()=>{class r{constructor(t,o){this._viewContainer=t,this._context=new Io,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ii("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ii("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.s_b),e.Y36(e.Rgc))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),r})();class Io{constructor(){this.$implicit=null,this.ngIf=null}}function Ii(r,n){if(n&&!n.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,e.AaK)(n)}'.`)}let lc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();function Kl(r){return"server"===r}let ba=(()=>{class r{}return r.\u0275prov=(0,e.Yz7)({token:r,providedIn:"root",factory:()=>new Qr((0,e.LFG)(fe),window)}),r})();class Qr{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function Ki(r,n){const t=r.getElementById(n)||r.getElementsByName(n)[0];if(t)return t;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const o=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let i=o.currentNode;for(;i;){const a=i.shadowRoot;if(a){const d=a.getElementById(n)||a.querySelector(`[name="${n}"]`);if(d)return d}i=o.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),o=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(o-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=Ei(this.window.history)||Ei(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function Ei(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class dr{}class jo extends class Yi extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function le(r){V||(V=r)}(new jo)}onAndCancel(n,t,o){return n.addEventListener(t,o,!1),()=>{n.removeEventListener(t,o,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function $o(){return Di=Di||document.querySelector("base"),Di?Di.getAttribute("href"):null}();return null==t?null:function Xi(r){Si=Si||document.createElement("a"),Si.setAttribute("href",r);const n=Si.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){Di=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return nr(document.cookie,n)}}let Si,Di=null;const Dt=new e.OlP("TRANSITION_ID"),Zd=[{provide:e.ip1,useFactory:function $n(r,n,t){return()=>{t.get(e.CZH).donePromise.then(()=>{const o=U(),i=n.querySelectorAll(`style[ng-transition="${r}"]`);for(let a=0;a<i.length;a++)o.remove(i[a])})}},deps:[Dt,fe,e.zs3],multi:!0}];let dc=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const xi=new e.OlP("EventManagerPlugins");let Ps=(()=>{class r{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,o,i){return this._findPluginFor(o).addEventListener(t,o,i)}addGlobalEventListener(t,o,i){return this._findPluginFor(o).addGlobalEventListener(t,o,i)}getZone(){return this._zone}_findPluginFor(t){const o=this._eventNameToPlugin.get(t);if(o)return o;const i=this._plugins;for(let a=0;a<i.length;a++){const d=i[a];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(xi),e.LFG(e.R0b))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Rs{constructor(n){this._doc=n}addGlobalEventListener(n,t,o){const i=U().getGlobalEventTarget(this._doc,n);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,o)}}let il=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(t){const o=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),o.add(i))}),this.onStylesAdded(o)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),Ie=(()=>{class r extends il{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,o,i){t.forEach(a=>{const d=this._doc.createElement("style");d.textContent=a,i.push(o.appendChild(d))})}addHost(t){const o=[];this._addStylesToHost(this._stylesSet,t,o),this._hostNodes.set(t,o)}removeHost(t){const o=this._hostNodes.get(t);o&&o.forEach($t),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((o,i)=>{this._addStylesToHost(t,i,o)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach($t))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(fe))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();function $t(r){U().remove(r)}const es={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ts=/%COMP%/g;function Ia(r,n,t){for(let o=0;o<n.length;o++){let i=n[o];Array.isArray(i)?Ia(r,i,t):(i=i.replace(ts,r),t.push(i))}return t}function Ls(r){return n=>{if("__ngUnwrap__"===n)return r;!1===r(n)&&(n.preventDefault(),n.returnValue=!1)}}let Go=(()=>{class r{constructor(t,o,i){this.eventManager=t,this.sharedStylesHost=o,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new hr(t)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;switch(o.encapsulation){case e.ifc.Emulated:{let i=this.rendererByCompId.get(o.id);return i||(i=new So(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,i)),i.applyToHost(t),i}case 1:case e.ifc.ShadowDom:return new kd(this.eventManager,this.sharedStylesHost,t,o);default:if(!this.rendererByCompId.has(o.id)){const i=Ia(o.id,o.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ps),e.LFG(Ie),e.LFG(e.AFp))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class hr{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(es[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){(os(n)?n.content:n).appendChild(t)}insertBefore(n,t,o){n&&(os(n)?n.content:n).insertBefore(t,o)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let o="string"==typeof n?document.querySelector(n):n;if(!o)throw new Error(`The selector "${n}" did not match any elements`);return t||(o.textContent=""),o}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,o,i){if(i){t=i+":"+t;const a=es[i];a?n.setAttributeNS(a,t,o):n.setAttribute(t,o)}else n.setAttribute(t,o)}removeAttribute(n,t,o){if(o){const i=es[o];i?n.removeAttributeNS(i,t):n.removeAttribute(`${o}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,o,i){i&(e.JOm.DashCase|e.JOm.Important)?n.style.setProperty(t,o,i&e.JOm.Important?"important":""):n.style[t]=o}removeStyle(n,t,o){o&e.JOm.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,o){n[t]=o}setValue(n,t){n.nodeValue=t}listen(n,t,o){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,Ls(o)):this.eventManager.addEventListener(n,t,Ls(o))}}function os(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class So extends hr{constructor(n,t,o,i){super(n),this.component=o;const a=Ia(i+"-"+o.id,o.styles,[]);t.addStyles(a),this.contentAttr=function Yl(r){return"_ngcontent-%COMP%".replace(ts,r)}(i+"-"+o.id),this.hostAttr=function rs(r){return"_nghost-%COMP%".replace(ts,r)}(i+"-"+o.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,t){const o=super.createElement(n,t);return super.setAttribute(o,this.contentAttr,""),o}}class kd extends hr{constructor(n,t,o,i){super(n),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ia(i.id,i.styles,[]);for(let d=0;d<a.length;d++){const p=document.createElement("style");p.textContent=a[d],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,o){return super.insertBefore(this.nodeOrShadowRoot(n),t,o)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let eu=(()=>{class r extends Rs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,i){return t.addEventListener(o,i,!1),()=>this.removeEventListener(t,o,i)}removeEventListener(t,o,i){return t.removeEventListener(o,i)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(fe))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const sl=["alt","control","meta","shift"],Ea={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Da={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Fs={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let nu=(()=>{class r extends Rs{constructor(t){super(t)}supports(t){return null!=r.parseEventName(t)}addEventListener(t,o,i){const a=r.parseEventName(o),d=r.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(t,a.domEventName,d))}static parseEventName(t){const o=t.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const a=r._normalizeKey(o.pop());let d="";if(sl.forEach(y=>{const w=o.indexOf(y);w>-1&&(o.splice(w,1),d+=y+".")}),d+=a,0!=o.length||0===a.length)return null;const p={};return p.domEventName=i,p.fullKey=d,p}static getEventFullKey(t){let o="",i=function Sa(r){let n=r.key;if(null==n){if(n=r.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===r.location&&Da.hasOwnProperty(n)&&(n=Da[n]))}return Ea[n]||n}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),sl.forEach(a=>{a!=i&&(0,Fs[a])(t)&&(o+=a+".")}),o+=i,o}static eventCallback(t,o,i){return a=>{r.getEventFullKey(a)===t&&i.runGuarded(()=>o(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(fe))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Nd=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:"browser"},{provide:e.g9A,useValue:function Vs(){jo.makeCurrent()},multi:!0},{provide:fe,useFactory:function Bs(){return(0,e.RDi)(document),document},deps:[]}]),xa=new e.OlP(""),zn=[{provide:e.rWj,useClass:class Aa{addToWindow(n){e.dqk.getAngularTestability=(o,i=!0)=>{const a=n.findTestabilityInTree(o,i);if(null==a)throw new Error("Could not find testability for element.");return a},e.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(o=>{const i=e.dqk.getAllAngularTestabilities();let a=i.length,d=!1;const p=function(y){d=d||y,a--,0==a&&o(d)};i.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(n,t,o){if(null==t)return null;const i=n.getTestability(t);return null!=i?i:o?U().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null}},deps:[]},{provide:e.lri,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]}],Ho=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function pc(){return new e.qLn},deps:[]},{provide:xi,useClass:eu,multi:!0,deps:[fe,e.R0b,e.Lbi]},{provide:xi,useClass:nu,multi:!0,deps:[fe]},{provide:Go,useClass:Go,deps:[Ps,Ie,e.AFp]},{provide:e.FYo,useExisting:Go},{provide:il,useExisting:Ie},{provide:Ie,useClass:Ie,deps:[fe]},{provide:Ps,useClass:Ps,deps:[xi,e.R0b]},{provide:dr,useClass:dc,deps:[]},[]];let In=(()=>{class r{constructor(t){}static withServerTransition(t){return{ngModule:r,providers:[{provide:e.AFp,useValue:t.appId},{provide:Dt,useExisting:e.AFp},Zd]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(xa,12))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[...Ho,...zn],imports:[lc,e.hGG]}),r})(),gc=(()=>{class r{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(fe))},r.\u0275prov=e.Yz7({token:r,factory:function(t){let o=null;return o=t?new t:function ru(){return new gc((0,e.LFG)(fe))}(),o},providedIn:"root"}),r})();"undefined"!=typeof window&&window;var dn=P(8996),zr=P(9751);const{isArray:gn}=Array,{getPrototypeOf:Vd,prototype:oi,keys:cl}=Object;function Zi(r){if(1===r.length){const n=r[0];if(gn(n))return{args:n,keys:null};if(function dl(r){return r&&"object"==typeof r&&Vd(r)===oi}(n)){const t=cl(n);return{args:t.map(o=>n[o]),keys:t}}}return{args:r,keys:null}}var ss=P(8421),as=P(3269),Kn=P(5403),j=P(4004);const{isArray:Pa}=Array;function ls(r){return(0,j.U)(n=>function Js(r,n){return Pa(n)?r(...n):r(n)}(r,n))}function Ra(r,n){return r.reduce((t,o,i)=>(t[o]=n[i],t),{})}let lu=(()=>{class r{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Qsj),e.Y36(e.SBq))},r.\u0275dir=e.lG2({type:r}),r})(),co=(()=>{class r extends lu{}return r.\u0275fac=function(){let n;return function(o){return(n||(n=e.n5z(r)))(o||r)}}(),r.\u0275dir=e.lG2({type:r,features:[e.qOj]}),r})();const xo=new e.OlP("NgValueAccessor"),uu={provide:xo,useExisting:(0,e.Gpc)(()=>Nn),multi:!0},Rp=new e.OlP("CompositionEventMode");let Nn=(()=>{class r extends lu{constructor(t,o,i){super(t,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function hl(){const r=U()?U().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(Rp,8))},r.\u0275dir=e.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){1&t&&e.NdJ("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[e._Bn([uu]),e.qOj]}),r})();function xr(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}function us(r){return null!=r&&"number"==typeof r.length}const hn=new e.OlP("NgValidators"),Qo=new e.OlP("NgAsyncValidators"),La=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class yr{static min(n){return function yc(r){return n=>{if(xr(n.value)||xr(r))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<r?{min:{min:r,actual:n.value}}:null}}(n)}static max(n){return function du(r){return n=>{if(xr(n.value)||xr(r))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>r?{max:{max:r,actual:n.value}}:null}}(n)}static required(n){return function Wt(r){return xr(r.value)?{required:!0}:null}(n)}static requiredTrue(n){return function hu(r){return!0===r.value?null:{required:!0}}(n)}static email(n){return function Op(r){return xr(r.value)||La.test(r.value)?null:{email:!0}}(n)}static minLength(n){return function Bd(r){return n=>xr(n.value)||!us(n.value)?null:n.value.length<r?{minlength:{requiredLength:r,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function pu(r){return n=>us(n.value)&&n.value.length>r?{maxlength:{requiredLength:r,actualLength:n.value.length}}:null}(n)}static pattern(n){return function Lp(r){if(!r)return gu;let n,t;return"string"==typeof r?(t="","^"!==r.charAt(0)&&(t+="^"),t+=r,"$"!==r.charAt(r.length-1)&&(t+="$"),n=new RegExp(t)):(t=r.toString(),n=r),o=>{if(xr(o.value))return null;const i=o.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return Fa(n)}static composeAsync(n){return Gd(n)}}function gu(r){return null}function jd(r){return null!=r}function ki(r){return(0,e.QGY)(r)?(0,dn.D)(r):r}function Fp(r){let n={};return r.forEach(t=>{n=null!=t?Object.assign(Object.assign({},n),t):n}),0===Object.keys(n).length?null:n}function $d(r,n){return n.map(t=>t(r))}function fu(r){return r.map(n=>function or(r){return!r.validate}(n)?n:t=>n.validate(t))}function Fa(r){if(!r)return null;const n=r.filter(jd);return 0==n.length?null:function(t){return Fp($d(t,n))}}function pl(r){return null!=r?Fa(fu(r)):null}function Gd(r){if(!r)return null;const n=r.filter(jd);return 0==n.length?null:function(t){return function ii(...r){const n=(0,as.jO)(r),{args:t,keys:o}=Zi(r),i=new zr.y(a=>{const{length:d}=t;if(!d)return void a.complete();const p=new Array(d);let y=d,w=d;for(let D=0;D<d;D++){let x=!1;(0,ss.Xf)(t[D]).subscribe((0,Kn.x)(a,F=>{x||(x=!0,w--),p[D]=F},()=>y--,void 0,()=>{(!y||!x)&&(w||a.next(o?Ra(o,p):p),a.complete())}))}});return n?i.pipe(ls(n)):i}($d(t,n).map(ki)).pipe((0,j.U)(Fp))}}function ir(r){return null!=r?Gd(fu(r)):null}function Zo(r,n){return null===r?[n]:Array.isArray(r)?[...r,n]:[r,n]}function qa(r){return r._rawValidators}function Va(r){return r._rawAsyncValidators}function si(r){return r?Array.isArray(r)?r:[r]:[]}function Ni(r,n){return Array.isArray(r)?r.includes(n):r===n}function gl(r,n){const t=si(n);return si(r).forEach(i=>{Ni(t,i)||t.push(i)}),t}function vc(r,n){return si(n).filter(t=>!Ni(r,t))}class Cc{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=pl(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=ir(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class cs extends Cc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Rn extends Cc{get formDirective(){return null}get path(){return null}}class vr{constructor(n){this._cd=n}get isTouched(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.touched)}get isUntouched(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.untouched)}get isPristine(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.pristine)}get isDirty(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.dirty)}get isValid(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.valid)}get isInvalid(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.invalid)}get isPending(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.pending)}get isSubmitted(){var n;return!(null===(n=this._cd)||void 0===n||!n.submitted)}}let En=(()=>{class r extends vr{constructor(t){super(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(cs,2))},r.\u0275dir=e.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){2&t&&e.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[e.qOj]}),r})(),ai=(()=>{class r extends vr{constructor(t){super(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Rn,10))},r.\u0275dir=e.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,o){2&t&&e.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[e.qOj]}),r})();const ja="VALID",Zn="INVALID",hs="PENDING",zs="DISABLED";function Ks(r){return(q(r)?r.validators:r)||null}function A(r){return Array.isArray(r)?pl(r):r||null}function I(r,n){return(q(n)?n.asyncValidators:r)||null}function Z(r){return Array.isArray(r)?ir(r):r||null}function q(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}function K(r,n,t){const o=r.controls;if(!(n?Object.keys(o):o).length)throw new e.vHH(1e3,"");if(!o[t])throw new e.vHH(1001,"")}function ae(r,n,t){r._forEachChild((o,i)=>{if(void 0===t[i])throw new e.vHH(1002,"")})}class xe{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=t,this._composedValidatorFn=A(this._rawValidators),this._composedAsyncValidatorFn=Z(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===ja}get invalid(){return this.status===Zn}get pending(){return this.status==hs}get disabled(){return this.status===zs}get enabled(){return this.status!==zs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=A(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=Z(n)}addValidators(n){this.setValidators(gl(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(gl(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(vc(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(vc(n,this._rawAsyncValidators))}hasValidator(n){return Ni(this._rawValidators,n)}hasAsyncValidator(n){return Ni(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=hs,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=zs,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=ja,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ja||this.status===hs)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zs:ja}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=hs,this._hasOwnPendingAsyncValidator=!0;const t=ki(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((o,i)=>o&&o._find(i),this)}getError(n,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?zs:this.errors?Zn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hs)?hs:this._anyControlsHaveStatus(Zn)?Zn:ja}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){q(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}}class $e extends xe{constructor(n,t,o){super(Ks(t),I(o,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,o={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){ae(this,0,n),Object.keys(n).forEach(o=>{K(this,!0,o),this.controls[o].setValue(n[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(o=>{const i=this.controls[o];i&&i.patchValue(n[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((o,i)=>{o.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,o)=>(n[o]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,o)=>!!o._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const o=this.controls[t];o&&n(o,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,o]of Object.entries(this.controls))if(this.contains(t)&&n(o))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,o,i)=>((o.enabled||this.disabled)&&(t[i]=o.value),t))}_reduceChildren(n,t){let o=n;return this._forEachChild((i,a)=>{o=t(o,i,a)}),o}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}function Hn(r,n){return[...n.path,r]}function sr(r,n){var t,o;Cl(r,n),n.valueAccessor.writeValue(r.value),r.disabled&&(null===(o=(t=n.valueAccessor).setDisabledState)||void 0===o||o.call(t,!0)),function Ys(r,n){n.valueAccessor.registerOnChange(t=>{r._pendingValue=t,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&Xs(r,n)})}(r,n),function Tl(r,n){const t=(o,i)=>{n.valueAccessor.writeValue(o),i&&n.viewToModelUpdate(o)};r.registerOnChange(t),n._registerOnDestroy(()=>{r._unregisterOnChange(t)})}(r,n),function gs(r,n){n.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&Xs(r,n),"submit"!==r.updateOn&&r.markAsTouched()})}(r,n),function zo(r,n){if(n.valueAccessor.setDisabledState){const t=o=>{n.valueAccessor.setDisabledState(o)};r.registerOnDisabledChange(t),n._registerOnDestroy(()=>{r._unregisterOnDisabledChange(t)})}}(r,n)}function Mi(r,n,t=!0){const o=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(o),n.valueAccessor.registerOnTouched(o)),ps(r,n),r&&(n._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function Fr(r,n){r.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function Cl(r,n){const t=qa(r);null!==n.validator?r.setValidators(Zo(t,n.validator)):"function"==typeof t&&r.setValidators([t]);const o=Va(r);null!==n.asyncValidator?r.setAsyncValidators(Zo(o,n.asyncValidator)):"function"==typeof o&&r.setAsyncValidators([o]);const i=()=>r.updateValueAndValidity();Fr(n._rawValidators,i),Fr(n._rawAsyncValidators,i)}function ps(r,n){let t=!1;if(null!==r){if(null!==n.validator){const i=qa(r);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==n.validator);a.length!==i.length&&(t=!0,r.setValidators(a))}}if(null!==n.asyncValidator){const i=Va(r);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==n.asyncValidator);a.length!==i.length&&(t=!0,r.setAsyncValidators(a))}}}const o=()=>{};return Fr(n._rawValidators,o),Fr(n._rawAsyncValidators,o),t}function Xs(r,n){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Bp(r,n){if(!r.hasOwnProperty("model"))return!1;const t=r.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}function vu(r,n){if(!n)return null;let t,o,i;return Array.isArray(n),n.forEach(a=>{a.constructor===Nn?t=a:function jp(r){return Object.getPrototypeOf(r.constructor)===co}(a)?o=a:i=a}),i||o||t||null}function $p(r,n){const t=r.indexOf(n);t>-1&&r.splice(t,1)}function Gp(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const ui=class extends xe{constructor(n=null,t,o){super(Ks(t),I(o,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),q(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Gp(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){$p(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){$p(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){Gp(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},__={provide:cs,useExisting:(0,e.Gpc)(()=>fn)},Yd=(()=>Promise.resolve(null))();let fn=(()=>{class r extends cs{constructor(t,o,i,a,d){super(),this._changeDetectorRef=d,this.control=new ui,this._registered=!1,this.update=new e.vpe,this._parent=t,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=vu(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const o=t.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Bp(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){sr(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Yd.then(()=>{var o;this.control.setValue(t,{emitViewToModelChange:!1}),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_updateDisabled(t){const o=t.isDisabled.currentValue,i=0!==o&&(0,e.D6c)(o);Yd.then(()=>{var a;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(t){return this._parent?Hn(t,this._parent):[t]}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Rn,9),e.Y36(hn,10),e.Y36(Qo,10),e.Y36(xo,10),e.Y36(e.sBO,8))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([__]),e.qOj,e.TTD]}),r})(),Pi=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=e.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})(),v_=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();const th=new e.OlP("NgModelWithFormControlWarning"),f={provide:Rn,useExisting:(0,e.Gpc)(()=>_)};let _=(()=>{class r extends Rn{constructor(t,o){super(),this.validators=t,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(t),this._setAsyncValidators(o)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ps(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const o=this.form.get(t.path);return sr(o,t),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),o}getControl(t){return this.form.get(t.path)}removeControl(t){Mi(t.control||null,t,!1),function c_(r,n){const t=r.indexOf(n);t>-1&&r.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,o){this.form.get(t.path).setValue(o)}onSubmit(t){return this.submitted=!0,function u_(r,n){r._syncPendingControls(),n.forEach(t=>{const o=t.control;"submit"===o.updateOn&&o._pendingChange&&(t.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const o=t.control,i=this.form.get(t.path);o!==i&&(Mi(o||null,t),(r=>r instanceof ui)(i)&&(sr(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const o=this.form.get(t.path);(function qp(r,n){Cl(r,n)})(o,t),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const o=this.form.get(t.path);o&&function a_(r,n){return ps(r,n)}(o,t)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cl(this.form,this),this._oldForm&&ps(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(hn,10),e.Y36(Qo,10))},r.\u0275dir=e.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(t,o){1&t&&e.NdJ("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([f]),e.qOj,e.TTD]}),r})();const rt={provide:cs,useExisting:(0,e.Gpc)(()=>ft)};let ft=(()=>{class r extends cs{constructor(t,o,i,a,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=vu(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Bp(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Hn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return r._ngModelWarningSentOnce=!1,r.\u0275fac=function(t){return new(t||r)(e.Y36(Rn,13),e.Y36(hn,10),e.Y36(Qo,10),e.Y36(xo,10),e.Y36(th,8))},r.\u0275dir=e.lG2({type:r,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([rt]),e.qOj,e.TTD]}),r})();const Yt={provide:xo,useExisting:(0,e.Gpc)(()=>Mn),multi:!0};function On(r,n){return null==r?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${r}: ${n}`.slice(0,50))}let Mn=(()=>{class r extends co{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=On(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=o=>{this.value=this._getOptionValue(o),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),t))return o;return null}_getOptionValue(t){const o=function Ko(r){return r.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o):t}}return r.\u0275fac=function(){let n;return function(o){return(n||(n=e.n5z(r)))(o||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,o){1&t&&e.NdJ("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([Yt]),e.qOj]}),r})(),gr=(()=>{class r{constructor(t,o,i){this._element=t,this._renderer=o,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(On(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(Mn,9))},r.\u0275dir=e.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();const T_={provide:xo,useExisting:(0,e.Gpc)(()=>Cu),multi:!0};function nh(r,n){return null==r?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${r}: ${n}`.slice(0,50))}let Cu=(()=>{class r extends co{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let o;if(this.value=t,Array.isArray(t)){const i=t.map(a=>this._getOptionId(a));o=(a,d)=>{a._setSelected(i.indexOf(d.toString())>-1)}}else o=(i,a)=>{i._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(t){this.onChange=o=>{const i=[],a=o.selectedOptions;if(void 0!==a){const d=a;for(let p=0;p<d.length;p++){const w=this._getOptionValue(d[p].value);i.push(w)}}else{const d=o.options;for(let p=0;p<d.length;p++){const y=d[p];if(y.selected){const w=this._getOptionValue(y.value);i.push(w)}}}this.value=i,t(i)}}_registerOption(t){const o=(this._idCounter++).toString();return this._optionMap.set(o,t),o}_getOptionId(t){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,t))return o;return null}_getOptionValue(t){const o=function rh(r){return r.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o)._value:t}}return r.\u0275fac=function(){let n;return function(o){return(n||(n=e.n5z(r)))(o||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,o){1&t&&e.NdJ("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([T_]),e.qOj]}),r})(),Kr=(()=>{class r{constructor(t,o,i){this._element=t,this._renderer=o,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(nh(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(nh(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(Cu,9))},r.\u0275dir=e.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})(),E_=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[v_]}),r})(),cb=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[E_]}),r})(),D_=(()=>{class r{static withConfig(t){return{ngModule:r,providers:[{provide:th,useValue:t.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[E_]}),r})();class S_ extends xe{constructor(n,t,o){super(Ks(t),I(o,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,o={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(n,t={}){let o=this._adjustIndex(n);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,o={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){ae(this,0,n),n.forEach((o,i)=>{K(this,!1,i),this.at(i).setValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((o,i)=>{this.at(i)&&this.at(i).patchValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((o,i)=>{o.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,o)=>!!o._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,o)=>{n(t,o)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){var t;return null!==(t=this.at(n))&&void 0!==t?t:null}}function jv(r){return!!r&&(void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn)}let x_=(()=>{class r{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new r;return t.useNonNullable=!0,t}group(t,o=null){const i=this._reduceControls(t);let a={};return jv(o)?a=o:null!==o&&(a.validators=o.validator,a.asyncValidators=o.asyncValidator),new $e(i,a)}control(t,o,i){let a={};return this.useNonNullable?(jv(o)?a=o:(a.validators=o,a.asyncValidators=i),new ui(t,Object.assign(Object.assign({},a),{nonNullable:!0}))):new ui(t,o,i)}array(t,o,i){const a=t.map(d=>this._createControl(d));return new S_(a,o,i)}_reduceControls(t){const o={};return Object.keys(t).forEach(i=>{o[i]=this._createControl(t[i])}),o}_createControl(t){return t instanceof ui||t instanceof xe?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:D_}),r})();function Ct(...r){const n=(0,as.yG)(r);return(0,dn.D)(r,n)}var Ri=P(7579);class Yr extends Ri.x{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:o}=this;if(n)throw t;return this._throwIfClosed(),o}next(n){super.next(this._value=n)}}const wu=(0,P(3888).d)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});var bl=P(4671),bu=P(9672);function Z_(...r){const n=(0,as.yG)(r),t=(0,as.jO)(r),{args:o,keys:i}=Zi(r);if(0===o.length)return(0,dn.D)([],n);const a=new zr.y(function k_(r,n,t=bl.y){return o=>{$v(n,()=>{const{length:i}=r,a=new Array(i);let d=i,p=i;for(let y=0;y<i;y++)$v(n,()=>{const w=(0,dn.D)(r[y],n);let D=!1;w.subscribe((0,Kn.x)(o,x=>{a[y]=x,D||(D=!0,p--),p||o.next(t(a.slice()))},()=>{--d||o.complete()}))},o)},o)}}(o,n,i?d=>Ra(i,d):bl.y));return t?a.pipe(ls(t)):a}function $v(r,n,t){r?(0,bu.f)(t,r,n):n()}var sh=P(8189);function Al(...r){return function Gv(){return(0,sh.J)(1)}()((0,dn.D)(r,(0,as.yG)(r)))}function Hv(r){return new zr.y(n=>{(0,ss.Xf)(r()).subscribe(n)})}var gb=P(9635),ah=P(576);function Sc(r,n){const t=(0,ah.m)(r)?r:()=>r,o=i=>i.error(t());return new zr.y(n?i=>n.schedule(o,0,i):o)}var ta=P(515),Jv=P(727),ho=P(4482);function N_(){return(0,ho.e)((r,n)=>{let t=null;r._refCount++;const o=(0,Kn.x)(n,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(t=null);const i=r._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),n.unsubscribe()});r.subscribe(o),o.closed||(t=r.connect())})}class U_ extends zr.y{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ho.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Jv.w0;const t=this.getSubject();n.add(this.source.subscribe((0,Kn.x)(t,void 0,()=>{this._teardown(),t.complete()},o=>{this._teardown(),t.error(o)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Jv.w0.EMPTY)}return n}refCount(){return N_()(this)}}function Xr(r,n){return(0,ho.e)((t,o)=>{let i=null,a=0,d=!1;const p=()=>d&&!i&&o.complete();t.subscribe((0,Kn.x)(o,y=>{null==i||i.unsubscribe();let w=0;const D=a++;(0,ss.Xf)(r(y,D)).subscribe(i=(0,Kn.x)(o,x=>o.next(n?n(y,x,D,w++):x),()=>{i=null,p()}))},()=>{d=!0,p()}))})}function xc(r){return r<=0?()=>ta.E:(0,ho.e)((n,t)=>{let o=0;n.subscribe((0,Kn.x)(t,i=>{++o<=r&&(t.next(i),r<=o&&t.complete())}))})}function Il(...r){const n=(0,as.yG)(r);return(0,ho.e)((t,o)=>{(n?Al(r,t,n):Al(r,t)).subscribe(o)})}function Pe(r,n){return(0,ho.e)((t,o)=>{let i=0;t.subscribe((0,Kn.x)(o,a=>r.call(n,a,i++)&&o.next(a)))})}var Cr=P(5577);function El(r){return(0,ho.e)((n,t)=>{let o=!1;n.subscribe((0,Kn.x)(t,i=>{o=!0,t.next(i)},()=>{o||t.next(r),t.complete()}))})}function Wv(r=l2){return(0,ho.e)((n,t)=>{let o=!1;n.subscribe((0,Kn.x)(t,i=>{o=!0,t.next(i)},()=>o?t.complete():t.error(r())))})}function l2(){return new wu}function na(r,n){const t=arguments.length>=2;return o=>o.pipe(r?Pe((i,a)=>r(i,a,o)):bl.y,xc(1),t?El(n):Wv(()=>new wu))}function Dl(r,n){return(0,ah.m)(n)?(0,Cr.z)(r,n,1):(0,Cr.z)(r,1)}var po=P(8505);function $a(r){return(0,ho.e)((n,t)=>{let a,o=null,i=!1;o=n.subscribe((0,Kn.x)(t,void 0,void 0,d=>{a=(0,ss.Xf)(r(d,$a(r)(n))),o?(o.unsubscribe(),o=null,a.subscribe(t)):i=!0})),i&&(o.unsubscribe(),o=null,a.subscribe(t))})}function Qv(r,n,t,o,i){return(a,d)=>{let p=t,y=n,w=0;a.subscribe((0,Kn.x)(d,D=>{const x=w++;y=p?r(y,D,x):(p=!0,D),o&&d.next(y)},i&&(()=>{p&&d.next(y),d.complete()})))}}function Zc(r,n){return(0,ho.e)(Qv(r,n,arguments.length>=2,!0))}function lh(r){return r<=0?()=>ta.E:(0,ho.e)((n,t)=>{let o=[];n.subscribe((0,Kn.x)(t,i=>{o.push(i),r<o.length&&o.shift()},()=>{for(const i of o)t.next(i);t.complete()},void 0,()=>{o=null}))})}function zv(r,n){const t=arguments.length>=2;return o=>o.pipe(r?Pe((i,a)=>r(i,a,o)):bl.y,lh(1),t?El(n):Wv(()=>new wu))}function Kv(r){return(0,ho.e)((n,t)=>{try{n.subscribe(t)}finally{t.add(r)}})}const tn="primary";class P_{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function uh(r){return new P_(r)}function u2(r,n,t){const o=t.path.split("/");if(o.length>r.length||"full"===t.pathMatch&&(n.hasChildren()||o.length<r.length))return null;const i={};for(let a=0;a<o.length;a++){const d=o[a],p=r[a];if(d.startsWith(":"))i[d.substring(1)]=p;else if(d!==p.path)return null}return{consumed:r.slice(0,o.length),posParams:i}}function Ga(r,n){const t=r?Object.keys(r):void 0,o=n?Object.keys(n):void 0;if(!t||!o||t.length!=o.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!_b(r[i],n[i]))return!1;return!0}function _b(r,n){if(Array.isArray(r)&&Array.isArray(n)){if(r.length!==n.length)return!1;const t=[...r].sort(),o=[...n].sort();return t.every((i,a)=>o[a]===i)}return r===n}function Yv(r){return Array.prototype.concat.apply([],r)}function R_(r){return r.length>0?r[r.length-1]:null}function qr(r,n){for(const t in r)r.hasOwnProperty(t)&&n(r[t],t)}function ra(r){return(0,e.CqO)(r)?r:(0,e.QGY)(r)?(0,dn.D)(Promise.resolve(r)):Ct(r)}const mb={exact:function e0(r,n,t){if(!Eu(r.segments,n.segments)||!zp(r.segments,n.segments,t)||r.numberOfChildren!==n.numberOfChildren)return!1;for(const o in n.children)if(!r.children[o]||!e0(r.children[o],n.children[o],t))return!1;return!0},subset:L_},Qp={exact:function yb(r,n){return Ga(r,n)},subset:function vb(r,n){return Object.keys(n).length<=Object.keys(r).length&&Object.keys(n).every(t=>_b(r[t],n[t]))},ignored:()=>!0};function kc(r,n,t){return mb[t.paths](r.root,n.root,t.matrixParams)&&Qp[t.queryParams](r.queryParams,n.queryParams)&&!("exact"===t.fragment&&r.fragment!==n.fragment)}function L_(r,n,t){return t0(r,n,n.segments,t)}function t0(r,n,t,o){if(r.segments.length>t.length){const i=r.segments.slice(0,t.length);return!(!Eu(i,t)||n.hasChildren()||!zp(i,t,o))}if(r.segments.length===t.length){if(!Eu(r.segments,t)||!zp(r.segments,t,o))return!1;for(const i in n.children)if(!r.children[i]||!L_(r.children[i],n.children[i],o))return!1;return!0}{const i=t.slice(0,r.segments.length),a=t.slice(r.segments.length);return!!(Eu(r.segments,i)&&zp(r.segments,i,o)&&r.children[tn])&&t0(r.children[tn],n,a,o)}}function zp(r,n,t){return n.every((o,i)=>Qp[t](r[i].parameters,o.parameters))}class Au{constructor(n,t,o){this.root=n,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uh(this.queryParams)),this._queryParamMap}toString(){return wb.serialize(this)}}class nn{constructor(n,t){this.segments=n,this.children=t,this.parent=null,qr(t,(o,i)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vr(this)}}class Iu{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=uh(this.parameters)),this._parameterMap}toString(){return r0(this)}}function Eu(r,n){return r.length===n.length&&r.every((t,o)=>t.path===n[o].path)}let F_=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(){return new q_},providedIn:"root"}),r})();class q_{parse(n){const t=new l0(n);return new Au(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Du(n.root,!0)}`,o=function bb(r){const n=Object.keys(r).map(t=>{const o=r[t];return Array.isArray(o)?o.map(i=>`${Nc(t)}=${Nc(i)}`).join("&"):`${Nc(t)}=${Nc(o)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${o}${"string"==typeof n.fragment?`#${function go(r){return encodeURI(r)}(n.fragment)}`:""}`}}const wb=new q_;function Vr(r){return r.segments.map(n=>r0(n)).join("/")}function Du(r,n){if(!r.hasChildren())return Vr(r);if(n){const t=r.children[tn]?Du(r.children[tn],!1):"",o=[];return qr(r.children,(i,a)=>{a!==tn&&o.push(`${a}:${Du(i,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function Tb(r,n){let t=[];return qr(r.children,(o,i)=>{i===tn&&(t=t.concat(n(o,i)))}),qr(r.children,(o,i)=>{i!==tn&&(t=t.concat(n(o,i)))}),t}(r,(o,i)=>i===tn?[Du(r.children[tn],!1)]:[`${i}:${Du(o,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[tn]?`${Vr(r)}/${t[0]}`:`${Vr(r)}/(${t.join("//")})`}}function V_(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nc(r){return V_(r).replace(/%3B/gi,";")}function Su(r){return V_(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Uc(r){return decodeURIComponent(r)}function n0(r){return Uc(r.replace(/\+/g,"%20"))}function r0(r){return`${Su(r.path)}${function o0(r){return Object.keys(r).map(n=>`;${Su(n)}=${Su(r[n])}`).join("")}(r.parameters)}`}const s0=/^[^\/()?;=#]+/;function Kp(r){const n=r.match(s0);return n?n[0]:""}const a0=/^[^=?&#]+/,Ib=/^[^&#]+/;class l0{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(o[tn]=new nn(n,t)),o}parseSegment(){const n=Kp(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(n),new Iu(Uc(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=Kp(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const i=Kp(this.remaining);i&&(o=i,this.capture(o))}n[Uc(t)]=Uc(o)}parseQueryParam(n){const t=function Ab(r){const n=r.match(a0);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const d=function Eb(r){const n=r.match(Ib);return n?n[0]:""}(this.remaining);d&&(o=d,this.capture(o))}const i=n0(t),a=n0(o);if(n.hasOwnProperty(i)){let d=n[i];Array.isArray(d)||(d=[d],n[i]=d),d.push(a)}else n[i]=a}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Kp(this.remaining),i=this.remaining[o.length];if("/"!==i&&")"!==i&&";"!==i)throw new e.vHH(4010,!1);let a;o.indexOf(":")>-1?(a=o.slice(0,o.indexOf(":")),this.capture(a),this.capture(":")):n&&(a=tn);const d=this.parseChildren();t[a]=1===Object.keys(d).length?d[tn]:new nn([],d),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new e.vHH(4011,!1)}}function B_(r){return r.segments.length>0?new nn([],{[tn]:r}):r}function Yp(r){const n={};for(const o of Object.keys(r.children)){const a=Yp(r.children[o]);(a.segments.length>0||a.hasChildren())&&(n[o]=a)}return function Mc(r){if(1===r.numberOfChildren&&r.children[tn]){const n=r.children[tn];return new nn(r.segments.concat(n.segments),n.children)}return r}(new nn(r.segments,n))}function Uo(r){return r instanceof Au}function u0(r,n,t,o,i){var a;if(0===t.length)return Sl(n.root,n.root,n.root,o,i);const p=function $_(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new c0(!0,0,r);let n=0,t=!1;const o=r.reduce((i,a,d)=>{if("object"==typeof a&&null!=a){if(a.outlets){const p={};return qr(a.outlets,(y,w)=>{p[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:p}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===d?(a.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?t=!0:".."===p?n++:""!=p&&i.push(p))}),i):[...i,a]},[]);return new c0(t,n,o)}(t);return p.toRoot()?Sl(n.root,n.root,new nn([],{}),o,i):function y(D){var x;const F=function Db(r,n,t,o){if(r.isAbsolute)return new Pc(n.root,!0,0);if(-1===o)return new Pc(t,t===n.root,0);return function G_(r,n,t){let o=r,i=n,a=t;for(;a>i;){if(a-=i,o=o.parent,!o)throw new e.vHH(4005,!1);i=o.segments.length}return new Pc(o,!1,i-a)}(t,o+(Xp(r.commands[0])?0:1),r.numberOfDoubleDots)}(p,n,null===(x=r.snapshot)||void 0===x?void 0:x._urlSegment,D),$=F.processChildren?Rc(F.segmentGroup,F.index,p.commands):dh(F.segmentGroup,F.index,p.commands);return Sl(n.root,F.segmentGroup,$,o,i)}(null===(a=r.snapshot)||void 0===a?void 0:a._lastPathIndex)}function Xp(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function Yo(r){return"object"==typeof r&&null!=r&&r.outlets}function Sl(r,n,t,o,i){let d,a={};o&&qr(o,(y,w)=>{a[w]=Array.isArray(y)?y.map(D=>`${D}`):`${y}`}),d=r===n?t:eg(r,n,t);const p=B_(Yp(d));return new Au(p,a,i)}function eg(r,n,t){const o={};return qr(r.children,(i,a)=>{o[a]=i===n?t:eg(i,n,t)}),new nn(r.segments,o)}class c0{constructor(n,t,o){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=o,n&&o.length>0&&Xp(o[0]))throw new e.vHH(4003,!1);const i=o.find(Yo);if(i&&i!==R_(o))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pc{constructor(n,t,o){this.segmentGroup=n,this.processChildren=t,this.index=o}}function dh(r,n,t){if(r||(r=new nn([],{})),0===r.segments.length&&r.hasChildren())return Rc(r,n,t);const o=function g2(r,n,t){let o=0,i=n;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<r.segments.length;){if(o>=t.length)return a;const d=r.segments[i],p=t[o];if(Yo(p))break;const y=`${p}`,w=o<t.length-1?t[o+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!d0(y,w,d))return a;o+=2}else{if(!d0(y,{},d))return a;o++}i++}return{match:!0,pathIndex:i,commandIndex:o}}(r,n,t),i=t.slice(o.commandIndex);if(o.match&&o.pathIndex<r.segments.length){const a=new nn(r.segments.slice(0,o.pathIndex),{});return a.children[tn]=new nn(r.segments.slice(o.pathIndex),r.children),Rc(a,0,i)}return o.match&&0===i.length?new nn(r.segments,{}):o.match&&!r.hasChildren()?xl(r,n,t):o.match?Rc(r,0,i):xl(r,n,t)}function Rc(r,n,t){if(0===t.length)return new nn(r.segments,{});{const o=function H_(r){return Yo(r[0])?r[0].outlets:{[tn]:r}}(t),i={};return qr(o,(a,d)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[d]=dh(r.children[d],n,a))}),qr(r.children,(a,d)=>{void 0===o[d]&&(i[d]=a)}),new nn(r.segments,i)}}function xl(r,n,t){const o=r.segments.slice(0,n);let i=0;for(;i<t.length;){const a=t[i];if(Yo(a)){const y=J_(a.outlets);return new nn(o,y)}if(0===i&&Xp(t[0])){o.push(new Iu(r.segments[n].path,W_(t[0]))),i++;continue}const d=Yo(a)?a.outlets[tn]:`${a}`,p=i<t.length-1?t[i+1]:null;d&&p&&Xp(p)?(o.push(new Iu(d,W_(p))),i+=2):(o.push(new Iu(d,{})),i++)}return new nn(o,{})}function J_(r){const n={};return qr(r,(t,o)=>{"string"==typeof t&&(t=[t]),null!==t&&(n[o]=xl(new nn([],{}),0,t))}),n}function W_(r){const n={};return qr(r,(t,o)=>n[o]=`${t}`),n}function d0(r,n,t){return r==t.path&&Ga(n,t.parameters)}class _s{constructor(n,t){this.id=n,this.url=t}}class Q_ extends _s{constructor(n,t,o="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=o,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zl extends _s{constructor(n,t,o){super(n,t),this.urlAfterRedirects=o,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tg extends _s{constructor(n,t,o,i){super(n,t),this.reason=o,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class h0 extends _s{constructor(n,t,o,i){super(n,t),this.error=o,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sb extends _s{constructor(n,t,o,i){super(n,t),this.urlAfterRedirects=o,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xb extends _s{constructor(n,t,o,i){super(n,t),this.urlAfterRedirects=o,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p0 extends _s{constructor(n,t,o,i,a){super(n,t),this.urlAfterRedirects=o,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class z_ extends _s{constructor(n,t,o,i){super(n,t),this.urlAfterRedirects=o,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class g0 extends _s{constructor(n,t,o,i){super(n,t),this.urlAfterRedirects=o,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K_{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zb{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kb{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f0{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _0{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xu{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y_{constructor(n,t,o){this.routerEvent=n,this.position=t,this.anchor=o,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class y0{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=v0(n,this._root);return t?t.children.map(o=>o.value):[]}firstChild(n){const t=v0(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Oc(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Oc(n,this._root).map(t=>t.value)}}function v0(r,n){if(r===n.value)return n;for(const t of n.children){const o=v0(r,t);if(o)return o}return null}function Oc(r,n){if(r===n.value)return[n];for(const t of n.children){const o=Oc(r,t);if(o.length)return o.unshift(n),o}return[]}class Ha{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Zu(r){const n={};return r&&r.children.forEach(t=>n[t.value.outlet]=t),n}class X_ extends y0{constructor(n,t){super(n),this.snapshot=t,og(this,n)}toString(){return this.snapshot.toString()}}function em(r,n){const t=function tm(r,n){const d=new ph([],{},{},"",{},tn,n,null,r.root,-1,{});return new rg("",new Ha(d,[]))}(r,n),o=new Yr([new Iu("",{})]),i=new Yr({}),a=new Yr({}),d=new Yr({}),p=new Yr(""),y=new oa(o,i,d,p,a,tn,n,t.root);return y.snapshot=t.root,new X_(new Ha(y,[]),t)}class oa{constructor(n,t,o,i,a,d,p,y){this.url=n,this.params=t,this.queryParams=o,this.fragment=i,this.data=a,this.outlet=d,this.component=p,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,j.U)(n=>uh(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,j.U)(n=>uh(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hh(r,n="emptyOnly"){const t=r.pathFromRoot;let o=0;if("always"!==n)for(o=t.length-1;o>=1;){const i=t[o],a=t[o-1];if(i.routeConfig&&""===i.routeConfig.path)o--;else{if(a.component)break;o--}}return function ng(r){return r.reduce((n,t)=>{var o;return{params:Object.assign(Object.assign({},n.params),t.params),data:Object.assign(Object.assign({},n.data),t.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},t.data),n.resolve),null===(o=t.routeConfig)||void 0===o?void 0:o.data),t._resolvedData)}},{params:{},data:{},resolve:{}})}(t.slice(o))}class ph{constructor(n,t,o,i,a,d,p,y,w,D,x,F){this.url=n,this.params=t,this.queryParams=o,this.fragment=i,this.data=a,this.outlet=d,this.component=p,this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=D,this._correctedLastPathIndex=null!=F?F:D,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=uh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rg extends y0{constructor(n,t){super(t),this.url=n,og(this,t)}toString(){return ig(this._root)}}function og(r,n){n.value._routerState=r,n.children.forEach(t=>og(r,t))}function ig(r){const n=r.children.length>0?` { ${r.children.map(ig).join(", ")} } `:"";return`${r.value}${n}`}function ku(r){if(r.snapshot){const n=r.snapshot,t=r._futureSnapshot;r.snapshot=t,Ga(n.queryParams,t.queryParams)||r.queryParams.next(t.queryParams),n.fragment!==t.fragment&&r.fragment.next(t.fragment),Ga(n.params,t.params)||r.params.next(t.params),function c2(r,n){if(r.length!==n.length)return!1;for(let t=0;t<r.length;++t)if(!Ga(r[t],n[t]))return!1;return!0}(n.url,t.url)||r.url.next(t.url),Ga(n.data,t.data)||r.data.next(t.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function nm(r,n){const t=Ga(r.params,n.params)&&function Cb(r,n){return Eu(r,n)&&r.every((t,o)=>Ga(t.parameters,n[o].parameters))}(r.url,n.url);return t&&!(!r.parent!=!n.parent)&&(!r.parent||nm(r.parent,n.parent))}function gh(r,n,t){if(t&&r.shouldReuseRoute(n.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=n.value;const i=function Nb(r,n,t){return n.children.map(o=>{for(const i of t.children)if(r.shouldReuseRoute(o.value,i.value.snapshot))return gh(r,o,i);return gh(r,o)})}(r,n,t);return new Ha(o,i)}{if(r.shouldAttach(n.value)){const a=r.retrieve(n.value);if(null!==a){const d=a.route;return d.value._futureSnapshot=n.value,d.children=n.children.map(p=>gh(r,p)),d}}const o=function T0(r){return new oa(new Yr(r.url),new Yr(r.params),new Yr(r.queryParams),new Yr(r.fragment),new Yr(r.data),r.outlet,r.component,r)}(n.value),i=n.children.map(a=>gh(r,a));return new Ha(o,i)}}const fh="ngNavigationCancelingError";function rm(r,n){const{redirectTo:t,navigationBehaviorOptions:o}=Uo(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=Ub(!1,0,n);return i.url=t,i.navigationBehaviorOptions=o,i}function Ub(r,n,t){const o=new Error("NavigationCancelingError: "+(r||""));return o[fh]=!0,o.cancellationCode=n,t&&(o.url=t),o}function om(r){return w0(r)&&Uo(r.url)}function w0(r){return r&&r[fh]}class b0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new _h,this.attachRef=null}}let _h=(()=>{class r{constructor(){this.contexts=new Map}onChildOutletCreated(t,o){const i=this.getOrCreateContext(t);i.outlet=o,this.contexts.set(t,i)}onChildOutletDestroyed(t){const o=this.getContext(t);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let o=this.getContext(t);return o||(o=new b0,this.contexts.set(t,o)),o}getContext(t){return this.contexts.get(t)||null}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const sg=!1;let Xo=(()=>{class r{constructor(t,o,i,a,d){this.parentContexts=t,this.location=o,this.changeDetector=a,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.name=i||tn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){var t;(null===(t=this.parentContexts.getContext(this.name))||void 0===t?void 0:t.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,sg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,sg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,sg);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new e.vHH(4013,sg);this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,y=new Mb(t,p,i.injector);if(o&&function A0(r){return!!r.resolveComponentFactory}(o)){const w=o.resolveComponentFactory(d);this.activated=i.createComponent(w,i.length,y)}else this.activated=i.createComponent(d,{index:i.length,injector:y,environmentInjector:null!=o?o:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_h),e.Y36(e.s_b),e.$8M("name"),e.Y36(e.sBO),e.Y36(e.lqb))},r.\u0275dir=e.lG2({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),r})();class Mb{constructor(n,t,o){this.route=n,this.childContexts=t,this.parent=o}get(n,t){return n===oa?this.route:n===_h?this.childContexts:this.parent.get(n,t)}}let I0=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},dependencies:[Xo],encapsulation:2}),r})();function E0(r,n){var t;return r.providers&&!r._injector&&(r._injector=(0,e.MMx)(r.providers,n,`Route: ${r.path}`)),null!==(t=r._injector)&&void 0!==t?t:n}function ag(r){const n=r.children&&r.children.map(ag),t=n?Object.assign(Object.assign({},r),{children:n}):Object.assign({},r);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==tn&&(t.component=I0),t}function di(r){return r.outlet||tn}function S0(r,n){const t=r.filter(o=>di(o)===n);return t.push(...r.filter(o=>di(o)!==n)),t}function x0(r){var n;if(!r)return null;if(null!==(n=r.routeConfig)&&void 0!==n&&n._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){const o=t.routeConfig;if(null!=o&&o._loadedInjector)return o._loadedInjector;if(null!=o&&o._injector)return o._injector}return null}class Ob{constructor(n,t,o,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=o,this.forwardEvent=i}activate(n){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,n),ku(this.futureState.root),this.activateChildRoutes(t,o,n)}deactivateChildRoutes(n,t,o){const i=Zu(t);n.children.forEach(a=>{const d=a.value.outlet;this.deactivateRoutes(a,i[d],o),delete i[d]}),qr(i,(a,d)=>{this.deactivateRouteAndItsChildren(a,o)})}deactivateRoutes(n,t,o){const i=n.value,a=t?t.value:null;if(i===a)if(i.component){const d=o.getContext(i.outlet);d&&this.deactivateChildRoutes(n,t,d.children)}else this.deactivateChildRoutes(n,t,o);else a&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const o=t.getContext(n.value.outlet),i=o&&n.value.component?o.children:t,a=Zu(n);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);if(o&&o.outlet){const d=o.outlet.detach(),p=o.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:d,route:n,contexts:p})}}deactivateRouteAndOutlet(n,t){const o=t.getContext(n.value.outlet),i=o&&n.value.component?o.children:t,a=Zu(n);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(n,t,o){const i=Zu(t);n.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],o),this.forwardEvent(new xu(a.value.snapshot))}),n.children.length&&this.forwardEvent(new f0(n.value.snapshot))}activateRoutes(n,t,o){var i;const a=n.value,d=t?t.value:null;if(ku(a),a===d)if(a.component){const p=o.getOrCreateContext(a.outlet);this.activateChildRoutes(n,t,p.children)}else this.activateChildRoutes(n,t,o);else if(a.component){const p=o.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(y.contexts),p.attachRef=y.componentRef,p.route=y.route.value,p.outlet&&p.outlet.attach(y.componentRef,y.route.value),ku(y.route.value),this.activateChildRoutes(n,null,p.children)}else{const y=x0(a.snapshot),w=null!==(i=null==y?void 0:y.get(e._Vd))&&void 0!==i?i:null;p.attachRef=null,p.route=a,p.resolver=w,p.injector=y,p.outlet&&p.outlet.activateWith(a,p.injector),this.activateChildRoutes(n,null,p.children)}}else this.activateChildRoutes(n,null,o)}}class sm{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class lg{constructor(n,t){this.component=n,this.route=t}}function Lb(r,n,t){const o=r._root;return Lc(o,n?n._root:null,t,[o.value])}function mh(r,n,t){const o=x0(n);return(null!=o?o:t).get(r)}function Lc(r,n,t,o,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Zu(n);return r.children.forEach(d=>{(function Nu(r,n,t,o,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=r.value,d=n?n.value:null,p=t?t.getContext(r.value.outlet):null;if(d&&a.routeConfig===d.routeConfig){const y=function Fb(r,n,t){if("function"==typeof t)return t(r,n);switch(t){case"pathParamsChange":return!Eu(r.url,n.url);case"pathParamsOrQueryParamsChange":return!Eu(r.url,n.url)||!Ga(r.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nm(r,n)||!Ga(r.queryParams,n.queryParams);default:return!nm(r,n)}}(d,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new sm(o)):(a.data=d.data,a._resolvedData=d._resolvedData),Lc(r,n,a.component?p?p.children:null:t,o,i),y&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new lg(p.outlet.component,d))}else d&&Uu(n,p,i),i.canActivateChecks.push(new sm(o)),Lc(r,null,a.component?p?p.children:null:t,o,i)})(d,a[d.value.outlet],t,o.concat([d.value]),i),delete a[d.value.outlet]}),qr(a,(d,p)=>Uu(d,t.getContext(p),i)),i}function Uu(r,n,t){const o=Zu(r),i=r.value;qr(o,(a,d)=>{Uu(a,i.component?n?n.children.getContext(d):null:n,t)}),t.canDeactivateChecks.push(new lg(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Mu(r){return"function"==typeof r}function kl(r){return r instanceof wu||"EmptyError"===(null==r?void 0:r.name)}const ug=Symbol("INITIAL_VALUE");function Pu(){return Xr(r=>Z_(r.map(n=>n.pipe(xc(1),Il(ug)))).pipe((0,j.U)(n=>{for(const t of n)if(!0!==t){if(t===ug)return ug;if(!1===t||t instanceof Au)return t}return!0}),Pe(n=>n!==ug),xc(1)))}function M0(r){return(0,gb.z)((0,po.b)(n=>{if(Uo(n))throw rm(0,n)}),(0,j.U)(n=>!0===n))}const dg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hg(r,n,t,o,i){const a=R0(r,n,t);return a.matched?function P0(r,n,t,o){const i=n.canMatch;return i&&0!==i.length?Ct(i.map(d=>{const p=r.get(d),y=function k0(r){return r&&Mu(r.canMatch)}(p)?p.canMatch(n,t):p(n,t);return ra(y)})).pipe(Pu(),M0()):Ct(!0)}(o=E0(n,o),n,t).pipe((0,j.U)(d=>!0===d?a:Object.assign({},dg))):Ct(a)}function R0(r,n,t){var o;if(""===n.path)return"full"===n.pathMatch&&(r.hasChildren()||t.length>0)?Object.assign({},dg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(n.matcher||u2)(t,r,n);if(!a)return Object.assign({},dg);const d={};qr(a.posParams,(y,w)=>{d[w]=y.path});const p=a.consumed.length>0?Object.assign(Object.assign({},d),a.consumed[a.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:p,positionalParamSegments:null!==(o=a.posParams)&&void 0!==o?o:{}}}function Fc(r,n,t,o,i="corrected"){if(t.length>0&&function qc(r,n,t){return t.some(o=>yh(r,n,o)&&di(o)!==tn)}(r,t,o)){const d=new nn(n,function w2(r,n,t,o){const i={};i[tn]=o,o._sourceSegment=r,o._segmentIndexShift=n.length;for(const a of t)if(""===a.path&&di(a)!==tn){const d=new nn([],{});d._sourceSegment=r,d._segmentIndexShift=n.length,i[di(a)]=d}return i}(r,n,o,new nn(t,r.children)));return d._sourceSegment=r,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function O0(r,n,t){return t.some(o=>yh(r,n,o))}(r,t,o)){const d=new nn(r.segments,function Qb(r,n,t,o,i,a){const d={};for(const p of o)if(yh(r,t,p)&&!i[di(p)]){const y=new nn([],{});y._sourceSegment=r,y._segmentIndexShift="legacy"===a?r.segments.length:n.length,d[di(p)]=y}return Object.assign(Object.assign({},i),d)}(r,n,t,o,r.children,i));return d._sourceSegment=r,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:t}}const a=new nn(r.segments,r.children);return a._sourceSegment=r,a._segmentIndexShift=n.length,{segmentGroup:a,slicedSegments:t}}function yh(r,n,t){return(!(r.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}function vh(r,n,t,o){return!!(di(r)===o||o!==tn&&yh(n,t,r))&&("**"===r.path||R0(n,r,t).matched)}function Oi(r,n,t){return 0===n.length&&!r.children[t]}const Ch=!1;class pg{constructor(n){this.segmentGroup=n||null}}class gg{constructor(n){this.urlTree=n}}function hi(r){return Sc(new pg(r))}function fg(r){return Sc(new gg(r))}class F0{constructor(n,t,o,i,a){this.injector=n,this.configLoader=t,this.urlSerializer=o,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const n=Fc(this.urlTree.root,[],[],this.config).segmentGroup,t=new nn(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,t,tn).pipe((0,j.U)(a=>this.createUrlTree(Yp(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe($a(a=>{if(a instanceof gg)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof pg?this.noMatchError(a):a}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,tn).pipe((0,j.U)(i=>this.createUrlTree(Yp(i),n.queryParams,n.fragment))).pipe($a(i=>{throw i instanceof pg?this.noMatchError(i):i}))}noMatchError(n){return new e.vHH(4002,Ch)}createUrlTree(n,t,o){const i=B_(n);return new Au(i,t,o)}expandSegmentGroup(n,t,o,i){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(n,t,o).pipe((0,j.U)(a=>new nn([],a))):this.expandSegment(n,o,t,o.segments,i,!0)}expandChildren(n,t,o){const i=[];for(const a of Object.keys(o.children))"primary"===a?i.unshift(a):i.push(a);return(0,dn.D)(i).pipe(Dl(a=>{const d=o.children[a],p=S0(t,a);return this.expandSegmentGroup(n,p,d,a).pipe((0,j.U)(y=>({segment:y,outlet:a})))}),Zc((a,d)=>(a[d.outlet]=d.segment,a),{}),zv())}expandSegment(n,t,o,i,a,d){return(0,dn.D)(o).pipe(Dl(p=>this.expandSegmentAgainstRoute(n,t,o,p,i,a,d).pipe($a(w=>{if(w instanceof pg)return Ct(null);throw w}))),na(p=>!!p),$a((p,y)=>{if(kl(p))return Oi(t,i,a)?Ct(new nn([],{})):hi(t);throw p}))}expandSegmentAgainstRoute(n,t,o,i,a,d,p){return vh(i,t,a,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,t,i,a,d):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,t,o,i,a,d):hi(t):hi(t)}expandSegmentAgainstRouteUsingRedirect(n,t,o,i,a,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,o,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,o,i,a,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,o,i){const a=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?fg(a):this.lineralizeSegments(o,a).pipe((0,Cr.z)(d=>{const p=new nn(d,{});return this.expandSegment(n,p,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,o,i,a,d){const{matched:p,consumedSegments:y,remainingSegments:w,positionalParamSegments:D}=R0(t,i,a);if(!p)return hi(t);const x=this.applyRedirectCommands(y,i.redirectTo,D);return i.redirectTo.startsWith("/")?fg(x):this.lineralizeSegments(i,x).pipe((0,Cr.z)(F=>this.expandSegment(n,t,o,F.concat(w),d,!1)))}matchSegmentAgainstRoute(n,t,o,i,a){return"**"===o.path?(n=E0(o,n),o.loadChildren?(o._loadedRoutes?Ct({routes:o._loadedRoutes,injector:o._loadedInjector}):this.configLoader.loadChildren(n,o)).pipe((0,j.U)(p=>(o._loadedRoutes=p.routes,o._loadedInjector=p.injector,new nn(i,{})))):Ct(new nn(i,{}))):hg(t,o,i,n).pipe(Xr(({matched:d,consumedSegments:p,remainingSegments:y})=>{var w;return d?(n=null!==(w=o._injector)&&void 0!==w?w:n,this.getChildConfig(n,o,i).pipe((0,Cr.z)(x=>{var F;const $=null!==(F=x.injector)&&void 0!==F?F:n,ee=x.routes,{segmentGroup:Se,slicedSegments:Be}=Fc(t,p,y,ee),ct=new nn(Se.segments,Se.children);if(0===Be.length&&ct.hasChildren())return this.expandChildren($,ee,ct).pipe((0,j.U)(Vt=>new nn(p,Vt)));if(0===ee.length&&0===Be.length)return Ct(new nn(p,{}));const Ot=di(o)===a;return this.expandSegment($,ct,ee,Be,Ot?tn:a,!0).pipe((0,j.U)(bt=>new nn(p.concat(bt.segments),bt.children)))}))):hi(t)}))}getChildConfig(n,t,o){return t.children?Ct({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?Ct({routes:t._loadedRoutes,injector:t._loadedInjector}):function U0(r,n,t,o){const i=n.canLoad;return void 0===i||0===i.length?Ct(!0):Ct(i.map(d=>{const p=r.get(d),y=function v2(r){return r&&Mu(r.canLoad)}(p)?p.canLoad(n,t):p(n,t);return ra(y)})).pipe(Pu(),M0())}(n,t,o).pipe((0,Cr.z)(i=>i?this.configLoader.loadChildren(n,t).pipe((0,po.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function am(r){return Sc(Ub(Ch,3))}())):Ct({routes:[],injector:n})}lineralizeSegments(n,t){let o=[],i=t.root;for(;;){if(o=o.concat(i.segments),0===i.numberOfChildren)return Ct(o);if(i.numberOfChildren>1||!i.children[tn])return Sc(new e.vHH(4e3,Ch));i=i.children[tn]}}applyRedirectCommands(n,t,o){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,o)}applyRedirectCreateUrlTree(n,t,o,i){const a=this.createSegmentGroup(n,t.root,o,i);return new Au(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const o={};return qr(n,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);o[a]=t[p]}else o[a]=i}),o}createSegmentGroup(n,t,o,i){const a=this.createSegments(n,t.segments,o,i);let d={};return qr(t.children,(p,y)=>{d[y]=this.createSegmentGroup(n,p,o,i)}),new nn(a,d)}createSegments(n,t,o,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(n,a,i):this.findOrReturn(a,o))}findPosParam(n,t,o){const i=o[t.path.substring(1)];if(!i)throw new e.vHH(4001,Ch);return i}findOrReturn(n,t){let o=0;for(const i of t){if(i.path===n.path)return t.splice(o),i;o++}return n}}class _g{}class cm{constructor(n,t,o,i,a,d,p,y){this.injector=n,this.rootComponentType=t,this.config=o,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=p,this.urlSerializer=y}recognize(){const n=Fc(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,tn).pipe((0,j.U)(t=>{if(null===t)return null;const o=new ph([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},tn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ha(o,t),a=new rg(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(n){const t=n.value,o=hh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,o,i){return 0===o.segments.length&&o.hasChildren()?this.processChildren(n,t,o):this.processSegment(n,t,o,o.segments,i)}processChildren(n,t,o){return(0,dn.D)(Object.keys(o.children)).pipe(Dl(i=>{const a=o.children[i],d=S0(t,i);return this.processSegmentGroup(n,d,a,i)}),Zc((i,a)=>i&&a?(i.push(...a),i):null),function fb(r,n=!1){return(0,ho.e)((t,o)=>{let i=0;t.subscribe((0,Kn.x)(o,a=>{const d=r(a,i++);(d||n)&&o.next(a),!d&&o.complete()}))})}(i=>null!==i),El(null),zv(),(0,j.U)(i=>{if(null===i)return null;const a=q0(i);return function I2(r){r.sort((n,t)=>n.value.outlet===tn?-1:t.value.outlet===tn?1:n.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(n,t,o,i,a){return(0,dn.D)(t).pipe(Dl(d=>{var p;return this.processSegmentAgainstRoute(null!==(p=d._injector)&&void 0!==p?p:n,d,o,i,a)}),na(d=>!!d),$a(d=>{if(kl(d))return Oi(o,i,a)?Ct([]):Ct(null);throw d}))}processSegmentAgainstRoute(n,t,o,i,a){var d,p;if(t.redirectTo||!vh(t,o,i,a))return Ct(null);let y;if("**"===t.path){const w=i.length>0?R_(i).parameters:{},D=Xb(o)+i.length;y=Ct({snapshot:new ph(i,w,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,eA(t),di(t),null!==(p=null!==(d=t.component)&&void 0!==d?d:t._loadedComponent)&&void 0!==p?p:null,t,dm(o),D,hm(t),D),consumedSegments:[],remainingSegments:[]})}else y=hg(o,t,i,n).pipe((0,j.U)(({matched:w,consumedSegments:D,remainingSegments:x,parameters:F})=>{var $,ee;if(!w)return null;const Se=Xb(o)+D.length;return{snapshot:new ph(D,F,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,eA(t),di(t),null!==(ee=null!==($=t.component)&&void 0!==$?$:t._loadedComponent)&&void 0!==ee?ee:null,t,dm(o),Se,hm(t),Se),consumedSegments:D,remainingSegments:x}}));return y.pipe(Xr(w=>{var D,x;if(null===w)return Ct(null);const{snapshot:F,consumedSegments:$,remainingSegments:ee}=w;n=null!==(D=t._injector)&&void 0!==D?D:n;const Se=null!==(x=t._loadedInjector)&&void 0!==x?x:n,Be=function zb(r){return r.children?r.children:r.loadChildren?r._loadedRoutes:[]}(t),{segmentGroup:ct,slicedSegments:Ot}=Fc(o,$,ee,Be.filter(bt=>void 0===bt.redirectTo),this.relativeLinkResolution);if(0===Ot.length&&ct.hasChildren())return this.processChildren(Se,Be,ct).pipe((0,j.U)(bt=>null===bt?null:[new Ha(F,bt)]));if(0===Be.length&&0===Ot.length)return Ct([new Ha(F,[])]);const Jt=di(t)===a;return this.processSegment(Se,Be,ct,Ot,Jt?tn:a).pipe((0,j.U)(bt=>null===bt?null:[new Ha(F,bt)]))}))}}function Kb(r){const n=r.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function q0(r){const n=[],t=new Set;for(const o of r){if(!Kb(o)){n.push(o);continue}const i=n.find(a=>o.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...o.children),t.add(i)):n.push(o)}for(const o of t){const i=q0(o.children);n.push(new Ha(o.value,i))}return n.filter(o=>!t.has(o))}function dm(r){let n=r;for(;n._sourceSegment;)n=n._sourceSegment;return n}function Xb(r){var n,t;let o=r,i=null!==(n=o._segmentIndexShift)&&void 0!==n?n:0;for(;o._sourceSegment;)o=o._sourceSegment,i+=null!==(t=o._segmentIndexShift)&&void 0!==t?t:0;return i-1}function eA(r){return r.data||{}}function hm(r){return r.resolve||{}}const pm=Symbol("RouteTitle");function tA(r){return"string"==typeof r.title||null===r.title}function j0(r){return Xr(n=>{const t=r(n);return t?(0,dn.D)(t).pipe((0,j.U)(()=>n)):Ct(n)})}let nA=(()=>{class r{buildTitle(t){var o;let i,a=t.root;for(;void 0!==a;)i=null!==(o=this.getResolvedTitleForRoute(a))&&void 0!==o?o:i,a=a.children.find(d=>d.outlet===tn);return i}getResolvedTitleForRoute(t){return t.data[pm]}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(){return(0,e.f3M)(rA)},providedIn:"root"}),r})(),rA=(()=>{class r extends nA{constructor(t){super(),this.title=t}updateTitle(t){const o=this.buildTitle(t);void 0!==o&&this.title.setTitle(o)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(gc))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class Z2{}class fm extends class Nl{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}{}const mg=new e.OlP("",{providedIn:"root",factory:()=>({})}),vg=new e.OlP("ROUTES");let Th=(()=>{class r{constructor(t,o){this.injector=t,this.compiler=o,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ct(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const o=ra(t.loadComponent()).pipe((0,po.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Kv(()=>{this.componentLoaders.delete(t)})),i=new U_(o,()=>new Ri.x).pipe(N_());return this.componentLoaders.set(t,i),i}loadChildren(t,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return Ct({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const a=this.loadModuleFactoryOrRoutes(o.loadChildren).pipe((0,j.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(o);let y,w,D=!1;Array.isArray(p)?w=p:(y=p.create(t).injector,w=Yv(y.get(vg,[],e.XFs.Self|e.XFs.Optional)));return{routes:w.map(ag),injector:y}}),Kv(()=>{this.childrenLoaders.delete(o)})),d=new U_(a,()=>new Ri.x).pipe(N_());return this.childrenLoaders.set(o,d),d}loadModuleFactoryOrRoutes(t){return ra(t()).pipe((0,Cr.z)(o=>o instanceof e.YKP||Array.isArray(o)?Ct(o):(0,dn.D)(this.compiler.compileModuleAsync(o))))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.zs3),e.LFG(e.Sil))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class iA{}class Ul{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,t){return n}}function sA(r){throw r}function _m(r,n,t){return n.parse("/")}const aA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function G0(){var r,n;const t=(0,e.f3M)(F_),o=(0,e.f3M)(_h),i=(0,e.f3M)(Ne),a=(0,e.f3M)(e.zs3),d=(0,e.f3M)(e.Sil),p=null!==(r=(0,e.f3M)(vg,{optional:!0}))&&void 0!==r?r:[],y=null!==(n=(0,e.f3M)(mg,{optional:!0}))&&void 0!==n?n:{},w=(0,e.f3M)(rA),D=(0,e.f3M)(nA,{optional:!0}),x=(0,e.f3M)(iA,{optional:!0}),F=(0,e.f3M)(Z2,{optional:!0}),$=new Yn(null,t,o,i,a,d,Yv(p));return x&&($.urlHandlingStrategy=x),F&&($.routeReuseStrategy=F),$.titleStrategy=null!=D?D:w,function lA(r,n){r.errorHandler&&(n.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(n.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(n.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(n.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(n.urlUpdateStrategy=r.urlUpdateStrategy),r.canceledNavigationResolution&&(n.canceledNavigationResolution=r.canceledNavigationResolution)}(y,$),$}let Yn=(()=>{class r{constructor(t,o,i,a,d,p,y){this.rootComponentType=t,this.urlSerializer=o,this.rootContexts=i,this.location=a,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ri.x,this.errorHandler=sA,this.malformedUriErrorHandler=_m,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ct(void 0),this.urlHandlingStrategy=new Ul,this.routeReuseStrategy=new fm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(Th),this.configLoader.onLoadEndListener=F=>this.triggerEvent(new Zb(F)),this.configLoader.onLoadStartListener=F=>this.triggerEvent(new K_(F)),this.ngModule=d.get(e.h0i),this.console=d.get(e.c2e);const x=d.get(e.R0b);this.isNgZoneEnabled=x instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function O_(){return new Au(new nn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=em(this.currentUrlTree,this.rootComponentType),this.transitions=new Yr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const o=this.events;return t.pipe(Pe(i=>0!==i.id),(0,j.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Xr(i=>{let a=!1,d=!1;return Ct(i).pipe((0,po.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Xr(p=>{const y=this.browserUrlTree.toString(),w=!this.navigated||p.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Cg(p.source)&&(this.browserUrlTree=p.extractedUrl),Ct(p).pipe(Xr(x=>{const F=this.transitions.getValue();return o.next(new Q_(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),F!==this.transitions.getValue()?ta.E:Promise.resolve(x)}),function A2(r,n,t,o){return Xr(i=>function b2(r,n,t,o,i){return new F0(r,n,t,o,i).apply()}(r,n,t,i.extractedUrl,o).pipe((0,j.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,po.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects}),i.urlAfterRedirects=x.urlAfterRedirects}),function B0(r,n,t,o,i,a){return(0,Cr.z)(d=>function um(r,n,t,o,i,a,d="emptyOnly",p="legacy"){return new cm(r,n,t,o,i,d,p,a).recognize().pipe(Xr(y=>null===y?function lm(r){return new zr.y(n=>n.error(r))}(new _g):Ct(y)))}(r,n,t,d.urlAfterRedirects,o.serialize(d.urlAfterRedirects),o,i,a).pipe((0,j.U)(p=>Object.assign(Object.assign({},d),{targetSnapshot:p}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,po.b)(x=>{if(i.targetSnapshot=x.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const $=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl($,x)}this.browserUrlTree=x.urlAfterRedirects}const F=new Sb(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);o.next(F)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:$,source:ee,restoredState:Se,extras:Be}=p,ct=new Q_(F,this.serializeUrl($),ee,Se);o.next(ct);const Ot=em($,this.rootComponentType).snapshot;return Ct(i=Object.assign(Object.assign({},p),{targetSnapshot:Ot,urlAfterRedirects:$,extras:Object.assign(Object.assign({},Be),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),ta.E}),(0,po.b)(p=>{const y=new xb(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),(0,j.U)(p=>i=Object.assign(Object.assign({},p),{guards:Lb(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function cg(r,n){return(0,Cr.z)(t=>{const{targetSnapshot:o,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:d}}=t;return 0===d.length&&0===a.length?Ct(Object.assign(Object.assign({},t),{guardsResult:!0})):function jb(r,n,t,o){return(0,dn.D)(r).pipe((0,Cr.z)(i=>function Wb(r,n,t,o,i){const a=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return a&&0!==a.length?Ct(a.map(p=>{const y=mh(p,n,i);return ra(function Vb(r){return r&&Mu(r.canDeactivate)}(y)?y.canDeactivate(r,n,t,o):y(r,n,t,o)).pipe(na())})).pipe(Pu()):Ct(!0)}(i.component,i.route,t,n,o)),na(i=>!0!==i,!0))}(d,o,i,r).pipe((0,Cr.z)(p=>p&&function qb(r){return"boolean"==typeof r}(p)?function N0(r,n,t,o){return(0,dn.D)(n).pipe(Dl(i=>Al(function Gb(r,n){return null!==r&&n&&n(new kb(r)),Ct(!0)}(i.route.parent,o),function $b(r,n){return null!==r&&n&&n(new _0(r)),Ct(!0)}(i.route,o),function Jb(r,n,t){const o=n[n.length-1],a=n.slice(0,n.length-1).reverse().map(d=>function y2(r){const n=r.routeConfig?r.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:r,guards:n}:null}(d)).filter(d=>null!==d).map(d=>Hv(()=>Ct(d.guards.map(y=>{const w=mh(y,d.node,t);return ra(function T2(r){return r&&Mu(r.canActivateChild)}(w)?w.canActivateChild(o,r):w(o,r)).pipe(na())})).pipe(Pu())));return Ct(a).pipe(Pu())}(r,i.path,t),function Hb(r,n,t){const o=n.routeConfig?n.routeConfig.canActivate:null;if(!o||0===o.length)return Ct(!0);const i=o.map(a=>Hv(()=>{const d=mh(a,n,t);return ra(function C2(r){return r&&Mu(r.canActivate)}(d)?d.canActivate(n,r):d(n,r)).pipe(na())}));return Ct(i).pipe(Pu())}(r,i.route,t))),na(i=>!0!==i,!0))}(o,a,r,n):Ct(p)),(0,j.U)(p=>Object.assign(Object.assign({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,po.b)(p=>{if(i.guardsResult=p.guardsResult,Uo(p.guardsResult))throw rm(0,p.guardsResult);const y=new p0(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(y)}),Pe(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",3),!1)),j0(p=>{if(p.guards.canActivateChecks.length)return Ct(p).pipe((0,po.b)(y=>{const w=new z_(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),Xr(y=>{let w=!1;return Ct(y).pipe(function gm(r,n){return(0,Cr.z)(t=>{const{targetSnapshot:o,guards:{canActivateChecks:i}}=t;if(!i.length)return Ct(t);let a=0;return(0,dn.D)(i).pipe(Dl(d=>function E2(r,n,t,o){const i=r.routeConfig,a=r._resolve;return void 0!==(null==i?void 0:i.title)&&!tA(i)&&(a[pm]=i.title),function D2(r,n,t,o){const i=function S2(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}(r);if(0===i.length)return Ct({});const a={};return(0,dn.D)(i).pipe((0,Cr.z)(d=>function x2(r,n,t,o){const i=mh(r,n,o);return ra(i.resolve?i.resolve(n,t):i(n,t))}(r[d],n,t,o).pipe(na(),(0,po.b)(p=>{a[d]=p}))),lh(1),function M_(r){return(0,j.U)(()=>r)}(a),$a(d=>kl(d)?ta.E:Sc(d)))}(a,r,n,o).pipe((0,j.U)(d=>(r._resolvedData=d,r.data=hh(r,t).resolve,i&&tA(i)&&(r.data[pm]=i.title),null)))}(d.route,o,r,n)),(0,po.b)(()=>a++),lh(1),(0,Cr.z)(d=>a===i.length?Ct(t):ta.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,po.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,po.b)(y=>{const w=new g0(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}))}),j0(p=>{const y=w=>{var D;const x=[];(null===(D=w.routeConfig)||void 0===D?void 0:D.loadComponent)&&!w.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,po.b)(F=>{w.component=F}),(0,j.U)(()=>{})));for(const F of w.children)x.push(...y(F));return x};return Z_(y(p.targetSnapshot.root)).pipe(El(),xc(1))}),j0(()=>this.afterPreactivation()),(0,j.U)(p=>{const y=function C0(r,n,t){const o=gh(r,n._root,t?t._root:void 0);return new X_(o,n)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return i=Object.assign(Object.assign({},p),{targetRouterState:y})}),(0,po.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((r,n,t)=>(0,j.U)(o=>(new Ob(n,o.targetRouterState,o.currentRouterState,t).activate(r),o)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,po.b)({next(){a=!0},complete(){a=!0}}),Kv(()=>{var p;a||d||this.cancelNavigationTransition(i,"",1),(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===i.id&&(this.currentNavigation=null)}),$a(p=>{var y;if(d=!0,w0(p)){om(p)||(this.navigated=!0,this.restoreHistory(i,!0));const w=new tg(i.id,this.serializeUrl(i.extractedUrl),p.message,p.cancellationCode);if(o.next(w),om(p)){const D=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),x={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Cg(i.source)};this.scheduleNavigation(D,"imperative",null,x,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const w=new h0(i.id,this.serializeUrl(i.extractedUrl),p,null!==(y=i.targetSnapshot)&&void 0!==y?y:void 0);o.next(w);try{i.resolve(this.errorHandler(p))}catch(D){i.reject(D)}}return ta.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o="popstate"===t.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var i;const a={replaceUrl:!0},d=null!==(i=t.state)&&void 0!==i&&i.navigationId?t.state:null;if(d){const y=Object.assign({},d);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(a.state=y)}const p=this.parseUrl(t.url);this.scheduleNavigation(p,o,d,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(ag),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,o={}){const{relativeTo:i,queryParams:a,fragment:d,queryParamsHandling:p,preserveFragment:y}=o,w=i||this.routerState.root,D=y?this.currentUrlTree.fragment:d;let x=null;switch(p){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=a||null}return null!==x&&(x=this.removeEmptyProps(x)),u0(w,this.currentUrlTree,t,x,null!=D?D:null)}navigateByUrl(t,o={skipLocationChange:!1}){const i=Uo(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,o)}navigate(t,o={skipLocationChange:!1}){return function Vc(r){for(let n=0;n<r.length;n++){if(null==r[n])throw new e.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(i){o=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return o}isActive(t,o){let i;if(i=!0===o?Object.assign({},aA):!1===o?Object.assign({},$0):o,Uo(t))return kc(this.currentUrlTree,t,i);const a=this.parseUrl(t);return kc(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((o,i)=>{const a=t[i];return null!=a&&(o[i]=a),o},{})}processNavigations(){this.navigations.subscribe(t=>{var o;this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Zl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(o=this.titleStrategy)||void 0===o||o.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,o,i,a,d){var p,y;if(this.disposed)return Promise.resolve(!1);let w,D,x;d?(w=d.resolve,D=d.reject,x=d.promise):x=new Promise((ee,Se)=>{w=ee,D=Se});const F=++this.navigationId;let $;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),$=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):$=0,this.setTransition({id:F,targetPageId:$,source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:w,reject:D,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(ee=>Promise.reject(ee))}setBrowserUrl(t,o){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,o=!1){var i,a;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,o,i){const a=new tg(t.id,this.serializeUrl(t.extractedUrl),o,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}}return r.\u0275fac=function(t){e.$Z()},r.\u0275prov=e.Yz7({token:r,factory:function(){return G0()},providedIn:"root"}),r})();function Cg(r){return"imperative"!==r}let fo=(()=>{class r{constructor(t,o,i){this.router=t,this.route=o,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Ri.x,this.subscription=t.events.subscribe(a=>{a instanceof Zl&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,o,i,a,d){if(0!==t||o||i||a||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const p={skipLocationChange:(0,e.D6c)(this.skipLocationChange),replaceUrl:(0,e.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,p),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,e.D6c)(this.preserveFragment)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Yn),e.Y36(oa),e.Y36(ve))},r.\u0275dir=e.lG2({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,o){1&t&&e.NdJ("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&e.uIk("target",o.target)("href",o.href,e.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[e.TTD]}),r})();class mm{}let Tg=(()=>{class r{constructor(t,o,i,a,d){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Pe(t=>t instanceof Zl),Dl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){var i,a,d;const p=[];for(const y of o){y.providers&&!y._injector&&(y._injector=(0,e.MMx)(y.providers,t,`Route: ${y.path}`));const w=null!==(i=y._injector)&&void 0!==i?i:t,D=null!==(a=y._loadedInjector)&&void 0!==a?a:w;y.loadChildren&&!y._loadedRoutes&&void 0===y.canLoad||y.loadComponent&&!y._loadedComponent?p.push(this.preloadConfig(w,y)):(y.children||y._loadedRoutes)&&p.push(this.processRoutes(D,null!==(d=y.children)&&void 0!==d?d:y._loadedRoutes))}return(0,dn.D)(p).pipe((0,sh.J)())}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(t,o):Ct(null);const a=i.pipe((0,Cr.z)(d=>{var p;return null===d?Ct(void 0):(o._loadedRoutes=d.routes,o._loadedInjector=d.injector,this.processRoutes(null!==(p=d.injector)&&void 0!==p?p:t,d.routes))}));if(o.loadComponent&&!o._loadedComponent){const d=this.loader.loadComponent(o);return(0,dn.D)([a,d]).pipe((0,sh.J)())}return a})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Yn),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(mm),e.LFG(Th))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const ym=new e.OlP("");let vm=(()=>{class r{constructor(t,o,i={}){this.router=t,this.viewportScroller=o,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Q_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Y_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.router.triggerEvent(new Y_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(t){e.$Z()},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const J0=new e.OlP("ROUTER_FORROOT_GUARD"),Cm=new e.OlP(""),dA=[Ne,{provide:F_,useClass:q_},{provide:Yn,useFactory:G0},_h,{provide:oa,useFactory:function W0(r){return r.routerState.root},deps:[Yn]},Th];function Q0(){return new e.PXZ("Router",Yn)}let z0=(()=>{class r{constructor(t){}static forRoot(t,o){return{ngModule:r,providers:[dA,[],Y0(t),{provide:J0,useFactory:k2,deps:[[Yn,new e.FiY,new e.tp0]]},{provide:mg,useValue:o||{}},null!=o&&o.useHash?{provide:ve,useClass:Ke}:{provide:ve,useClass:Xe},{provide:ym,useFactory:()=>{const r=(0,e.f3M)(Yn),n=(0,e.f3M)(ba),t=(0,e.f3M)(mg);return t.scrollOffset&&n.setOffset(t.scrollOffset),new vm(r,n,t)}},null!=o&&o.preloadingStrategy?_A(o.preloadingStrategy):[],{provide:e.PXZ,multi:!0,useFactory:Q0},null!=o&&o.initialNavigation?pA(o):[],[{provide:wm,useFactory:Tm},{provide:e.tb,multi:!0,useExisting:wm}]]}}static forChild(t){return{ngModule:r,providers:[Y0(t)]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(J0,8))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();function k2(r){return"guarded"}function Y0(r){return[{provide:vg,multi:!0,useValue:r}]}function Tm(){const r=(0,e.f3M)(e.zs3);return n=>{var t,o;const i=r.get(e.z2F);if(n!==i.components[0])return;const a=r.get(Yn),d=r.get(X0);1===r.get(bm)&&a.initialNavigation(),null===(t=r.get(Cm,null,e.XFs.Optional))||void 0===t||t.setUpPreloading(),null===(o=r.get(ym,null,e.XFs.Optional))||void 0===o||o.init(),a.resetRootComponentType(i.componentTypes[0]),d.next(),d.complete()}}const wm=new e.OlP("");function pA(r){return["disabled"===r.initialNavigation?[{provide:e.ip1,multi:!0,useFactory:()=>{const r=(0,e.f3M)(Yn);return()=>{r.setUpLocationChangeListener()}}},{provide:bm,useValue:2}]:[],"enabledBlocking"===r.initialNavigation?[{provide:bm,useValue:0},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:r=>{const n=r.get(J,Promise.resolve(null));let t=!1;return()=>n.then(()=>new Promise(i=>{const a=r.get(Yn),d=r.get(X0);(function o(i){r.get(Yn).events.pipe(Pe(d=>d instanceof Zl||d instanceof tg||d instanceof h0),(0,j.U)(d=>d instanceof Zl||d instanceof tg&&(0===d.code||1===d.code)&&null),Pe(d=>null!==d),xc(1)).subscribe(()=>{i()})})(()=>{i(!0),t=!0}),a.afterPreactivation=()=>(i(!0),t||d.closed?Ct(void 0):d),a.initialNavigation()}))}}]:[]]}const X0=new e.OlP("",{factory:()=>new Ri.x}),bm=new e.OlP("",{providedIn:"root",factory:()=>1});function _A(r){return[Tg,{provide:Cm,useExisting:Tg},{provide:mm,useExisting:r}]}let n1=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-laws"]],decls:10,vars:0,consts:[["routerLink","../clusters"],[1,"text-green-dull"],[1,"text-green"]],template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"Laws works!"),e.qZA(),e.TgZ(2,"a",0),e._uU(3,"clusters"),e.qZA(),e.TgZ(4,"p")(5,"a",1),e._uU(6,"[ "),e.TgZ(7,"span",2),e._uU(8,"O"),e.qZA(),e._uU(9,"nly Evolved ]"),e.qZA()())},dependencies:[fo]}),r})(),Rl=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],inputs:{selectedLanguage:"selectedLanguage"},decls:0,vars:0,template:function(t,o){},encapsulation:2}),r})();class ms{}class wg{}class ia{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(t=>{const o=t.indexOf(":");if(o>0){const i=t.slice(0,o),a=i.toLowerCase(),d=t.slice(o+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(d):this.headers.set(a,[d])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(t=>{let o=n[t];const i=t.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(i,o),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof ia?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new ia;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ia?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let o=n.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...o),this.headers.set(t,i);break;case"d":const a=n.value;if(a){let d=this.headers.get(t);if(!d)return;d=d.filter(p=>-1===a.indexOf(p)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class U2{encodeKey(n){return o1(n)}encodeValue(n){return o1(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const yA=/%(\d[a-f0-9])/gi,vA={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function o1(r){return encodeURIComponent(r).replace(yA,(n,t)=>{var o;return null!==(o=vA[t])&&void 0!==o?o:n})}function Bc(r){return`${r}`}class Ja{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new U2,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function r1(r,n){const t=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[d,p]=-1==a?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,a)),n.decodeValue(i.slice(a+1))],y=t.get(d)||[];y.push(p),t.set(d,y)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const o=n.fromObject[t],i=Array.isArray(o)?o.map(Bc):[Bc(o)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(o=>{const i=n[o];Array.isArray(i)?i.forEach(a=>{t.push({param:o,value:a,op:"a"})}):t.push({param:o,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(o=>t+"="+this.encoder.encodeValue(o)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Ja({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(Bc(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let o=this.map.get(n.param)||[];const i=o.indexOf(Bc(n.value));-1!==i&&o.splice(i,1),o.length>0?this.map.set(n.param,o):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class bg{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function i1(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function Im(r){return"undefined"!=typeof Blob&&r instanceof Blob}function Ag(r){return"undefined"!=typeof FormData&&r instanceof FormData}class Ah{constructor(n,t,o,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function Am(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==o?o:null,a=i):a=o,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new ia),this.context||(this.context=new bg),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+d}}else this.params=new Ja,this.urlWithParams=t}serializeBody(){return null===this.body?null:i1(this.body)||Im(this.body)||Ag(this.body)||function s1(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ja?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ag(this.body)?null:Im(this.body)?this.body.type||null:i1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ja?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var t;const o=n.method||this.method,i=n.url||this.url,a=n.responseType||this.responseType,d=void 0!==n.body?n.body:this.body,p=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,y=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let w=n.headers||this.headers,D=n.params||this.params;const x=null!==(t=n.context)&&void 0!==t?t:this.context;return void 0!==n.setHeaders&&(w=Object.keys(n.setHeaders).reduce((F,$)=>F.set($,n.setHeaders[$]),w)),n.setParams&&(D=Object.keys(n.setParams).reduce((F,$)=>F.set($,n.setParams[$]),D)),new Ah(o,i,d,{params:D,headers:w,context:x,reportProgress:y,responseType:a,withCredentials:p})}}var Zr=(()=>((Zr=Zr||{})[Zr.Sent=0]="Sent",Zr[Zr.UploadProgress=1]="UploadProgress",Zr[Zr.ResponseHeader=2]="ResponseHeader",Zr[Zr.DownloadProgress=3]="DownloadProgress",Zr[Zr.Response=4]="Response",Zr[Zr.User=5]="User",Zr))();class Ih{constructor(n,t=200,o="OK"){this.headers=n.headers||new ia,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||o,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class a1 extends Ih{constructor(n={}){super(n),this.type=Zr.ResponseHeader}clone(n={}){return new a1({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class je extends Ih{constructor(n={}){super(n),this.type=Zr.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new je({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Em extends Ih{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Ig(r,n){return{body:n,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let Li=(()=>{class r{constructor(t){this.handler=t}request(t,o,i={}){let a;if(t instanceof Ah)a=t;else{let y,w;y=i.headers instanceof ia?i.headers:new ia(i.headers),i.params&&(w=i.params instanceof Ja?i.params:new Ja({fromObject:i.params})),a=new Ah(t,o,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=Ct(a).pipe(Dl(y=>this.handler.handle(y)));if(t instanceof Ah||"events"===i.observe)return d;const p=d.pipe(Pe(y=>y instanceof je));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return p.pipe((0,j.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return p.pipe((0,j.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return p.pipe((0,j.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return p.pipe((0,j.U)(y=>y.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,o={}){return this.request("DELETE",t,o)}get(t,o={}){return this.request("GET",t,o)}head(t,o={}){return this.request("HEAD",t,o)}jsonp(t,o){return this.request("JSONP",t,{params:(new Ja).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,o={}){return this.request("OPTIONS",t,o)}patch(t,o,i={}){return this.request("PATCH",t,Ig(i,o))}post(t,o,i={}){return this.request("POST",t,Ig(i,o))}put(t,o,i={}){return this.request("PUT",t,Ig(i,o))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ms))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Dm{constructor(n,t){this.next=n,this.interceptor=t}handle(n){return this.interceptor.intercept(n,this.next)}}const jc=new e.OlP("HTTP_INTERCEPTORS");let Wa=(()=>{class r{intercept(t,o){return o.handle(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const TA=/^\)\]\}',?\n/;let u1=(()=>{class r{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new zr.y(o=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach(($,ee)=>i.setRequestHeader($,ee.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const $=t.detectContentTypeHeader();null!==$&&i.setRequestHeader("Content-Type",$)}if(t.responseType){const $=t.responseType.toLowerCase();i.responseType="json"!==$?$:"text"}const a=t.serializeBody();let d=null;const p=()=>{if(null!==d)return d;const $=i.statusText||"OK",ee=new ia(i.getAllResponseHeaders()),Se=function L2(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(i)||t.url;return d=new a1({headers:ee,status:i.status,statusText:$,url:Se}),d},y=()=>{let{headers:$,status:ee,statusText:Se,url:Be}=p(),ct=null;204!==ee&&(ct=void 0===i.response?i.responseText:i.response),0===ee&&(ee=ct?200:0);let Ot=ee>=200&&ee<300;if("json"===t.responseType&&"string"==typeof ct){const Jt=ct;ct=ct.replace(TA,"");try{ct=""!==ct?JSON.parse(ct):null}catch(bt){ct=Jt,Ot&&(Ot=!1,ct={error:bt,text:ct})}}Ot?(o.next(new je({body:ct,headers:$,status:ee,statusText:Se,url:Be||void 0})),o.complete()):o.error(new Em({error:ct,headers:$,status:ee,statusText:Se,url:Be||void 0}))},w=$=>{const{url:ee}=p(),Se=new Em({error:$,status:i.status||0,statusText:i.statusText||"Unknown Error",url:ee||void 0});o.error(Se)};let D=!1;const x=$=>{D||(o.next(p()),D=!0);let ee={type:Zr.DownloadProgress,loaded:$.loaded};$.lengthComputable&&(ee.total=$.total),"text"===t.responseType&&!!i.responseText&&(ee.partialText=i.responseText),o.next(ee)},F=$=>{let ee={type:Zr.UploadProgress,loaded:$.loaded};$.lengthComputable&&(ee.total=$.total),o.next(ee)};return i.addEventListener("load",y),i.addEventListener("error",w),i.addEventListener("timeout",w),i.addEventListener("abort",w),t.reportProgress&&(i.addEventListener("progress",x),null!==a&&i.upload&&i.upload.addEventListener("progress",F)),i.send(a),o.next({type:Zr.Sent}),()=>{i.removeEventListener("error",w),i.removeEventListener("abort",w),i.removeEventListener("load",y),i.removeEventListener("timeout",w),t.reportProgress&&(i.removeEventListener("progress",x),null!==a&&i.upload&&i.upload.removeEventListener("progress",F)),i.readyState!==i.DONE&&i.abort()}})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(dr))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const c1=new e.OlP("XSRF_COOKIE_NAME"),Zm=new e.OlP("XSRF_HEADER_NAME");class d1{}let wA=(()=>{class r{constructor(t,o,i){this.doc=t,this.platform=o,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=nr(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(fe),e.LFG(e.Lbi),e.LFG(c1))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),km=(()=>{class r{constructor(t,o){this.tokenService=t,this.headerName=o}intercept(t,o){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return o.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),o.handle(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d1),e.LFG(Zm))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),F2=(()=>{class r{constructor(t,o){this.backend=t,this.injector=o,this.chain=null}handle(t){if(null===this.chain){const o=this.injector.get(jc,[]);this.chain=o.reduceRight((i,a)=>new Dm(i,a),this.backend)}return this.chain.handle(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(wg),e.LFG(e.zs3))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),AA=(()=>{class r{static disable(){return{ngModule:r,providers:[{provide:km,useClass:Wa}]}}static withOptions(t={}){return{ngModule:r,providers:[t.cookieName?{provide:c1,useValue:t.cookieName}:[],t.headerName?{provide:Zm,useValue:t.headerName}:[]]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[km,{provide:jc,useExisting:km,multi:!0},{provide:d1,useClass:wA},{provide:c1,useValue:"XSRF-TOKEN"},{provide:Zm,useValue:"X-XSRF-TOKEN"}]}),r})(),Nm=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[Li,{provide:ms,useClass:F2},u1,{provide:wg,useExisting:u1}],imports:[AA.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),r})(),ys=(()=>{class r{constructor(){this.rootUrl="http://localhost:8080/"}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ol=(()=>{class r{constructor(t,o){this.config=t,this.http=o,this._rootUrl=""}get rootUrl(){return this._rootUrl||this.config.rootUrl}set rootUrl(t){this._rootUrl=t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ys),e.LFG(Li))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const EA=new class IA{encodeKey(n){return encodeURIComponent(n)}encodeValue(n){return encodeURIComponent(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};class $c{constructor(n,t,o,i,a){this.name=n,this.value=t,this.options=o,this.options=o||{},null==this.options.style&&(this.options.style=i),null==this.options.explode&&(this.options.explode=a)}serializeValue(n,t=","){if(null==n)return"";if(n instanceof Array)return n.map(o=>this.serializeValue(o).split(t).join(encodeURIComponent(t))).join(t);if("object"==typeof n){const o=[];for(const i of Object.keys(n)){let a=n[i];null!=a&&(a=this.serializeValue(a).split(t).join(encodeURIComponent(t)),this.options.explode?o.push(`${i}=${a}`):(o.push(i),o.push(a)))}return o.join(t)}return String(n)}}class Ou extends $c{constructor(n,t,o){super(n,t,o,"simple",!1)}append(n){let t=this.value;null==t&&(t="");let o="label"===this.options.style?".":"",i=this.options.explode?""===o?",":o:",",a=!1;return"matrix"===this.options.style&&(o=`;${this.name}=`,this.options.explode&&"object"==typeof t&&(o=";",t instanceof Array?(t=t.map(d=>`${this.name}=${this.serializeValue(d,";")}`),t=t.join(";"),a=!0):(t=this.serializeValue(t,";"),a=!0))),t=o+(a?t:this.serializeValue(t,i)),(n=n.replace(`{${this.name}}`,t)).replace(`{${o}${this.name}${this.options.explode?"*":""}}`,t)}serializeValue(n,t=","){var o="string"==typeof n?encodeURIComponent(n):super.serializeValue(n,t);return(o=(o=o.replace(/%3D/g,"=")).replace(/%3B/g,";")).replace(/%2C/g,",")}}class B2 extends $c{constructor(n,t,o){super(n,t,o,"form",!0)}append(n){if(this.value instanceof Array){if(!this.options.explode)return n.append(this.name,this.serializeValue(this.value,"spaceDelimited"===this.options.style?" ":"pipeDelimited"===this.options.style?"|":","));for(const t of this.value)n=n.append(this.name,this.serializeValue(t))}else if(null!==this.value&&"object"==typeof this.value)if("deepObject"===this.options.style)for(const t of Object.keys(this.value)){const o=this.value[t];null!=o&&(n=n.append(`${this.name}[${t}]`,this.serializeValue(o)))}else if(this.options.explode)for(const t of Object.keys(this.value)){const o=this.value[t];null!=o&&(n=n.append(t,this.serializeValue(o)))}else{const t=[];for(const o of Object.keys(this.value)){const i=this.value[o];null!=i&&(t.push(o),t.push(i))}n=n.append(this.name,this.serializeValue(t))}else null!=this.value&&(n=n.append(this.name,this.serializeValue(this.value)));return n}}class Eh extends $c{constructor(n,t,o){super(n,t,o,"simple",!1)}append(n){if(null!=this.value)if(this.value instanceof Array)for(const t of this.value)n=n.append(this.name,this.serializeValue(t));else n=n.append(this.name,this.serializeValue(this.value));return n}}class Ge{constructor(n,t,o){this.rootUrl=n,this.operationPath=t,this.method=o,this._path=new Map,this._query=new Map,this._header=new Map}path(n,t,o){this._path.set(n,new Ou(n,t,o||{}))}query(n,t,o){this._query.set(n,new B2(n,t,o||{}))}header(n,t,o){this._header.set(n,new Eh(n,t,o||{}))}body(n,t="application/json"){if(this._bodyContentType=n instanceof Blob?n.type:t,"application/x-www-form-urlencoded"===this._bodyContentType&&null!==n&&"object"==typeof n){const o=[];for(const i of Object.keys(n)){let a=n[i];a instanceof Array||(a=[a]);for(const d of a){const p=this.formDataValue(d);null!==p&&o.push([i,p])}}this._bodyContent=o.map(i=>`${encodeURIComponent(i[0])}=${encodeURIComponent(i[1])}`).join("&")}else if("multipart/form-data"===this._bodyContentType){const o=new FormData;if(null!=n)for(const i of Object.keys(n)){const a=n[i];if(a instanceof Array)for(const d of a){const p=this.formDataValue(d);null!==p&&o.append(i,p)}else{const d=this.formDataValue(a);null!==d&&o.set(i,d)}}this._bodyContent=o}else this._bodyContent=n}formDataValue(n){return null==n?null:n instanceof Blob?n:"object"==typeof n?JSON.stringify(n):String(n)}build(n){n=n||{};let t=this.operationPath;for(const d of this._path.values())t=d.append(t);const o=this.rootUrl+t;let i=new Ja({encoder:EA});for(const d of this._query.values())i=d.append(i);let a=new ia;n.accept&&(a=a.append("Accept",n.accept));for(const d of this._header.values())a=d.append(a);return this._bodyContentType&&!(this._bodyContent instanceof FormData)&&(a=a.set("Content-Type",this._bodyContentType)),new Ah(this.method.toUpperCase(),o,this._bodyContent,{params:i,headers:a,responseType:n.responseType,reportProgress:n.reportProgress,context:n.context})}}let vs=(()=>{class r extends Ol{constructor(t,o){super(t,o)}saveLanguage$Response(t){const o=new Ge(this.rootUrl,r.SaveLanguagePath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}saveLanguage(t){return this.saveLanguage$Response(t).pipe((0,j.U)(o=>o.body))}getAllLanguages$Response(t){const o=new Ge(this.rootUrl,r.GetAllLanguagesPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getAllLanguages(t){return this.getAllLanguages$Response(t).pipe((0,j.U)(o=>o.body))}getLanguageSoundClusters$Response(t){const o=new Ge(this.rootUrl,r.GetLanguageSoundClustersPath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getLanguageSoundClusters(t){return this.getLanguageSoundClusters$Response(t).pipe((0,j.U)(o=>o.body))}getLanguagePhonemes$Response(t){const o=new Ge(this.rootUrl,r.GetLanguagePhonemesPath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getLanguagePhonemes(t){return this.getLanguagePhonemes$Response(t).pipe((0,j.U)(o=>o.body))}saveLanguagePhoneme$Response(t){const o=new Ge(this.rootUrl,r.SaveLanguagePhonemePath,"post");return t&&(o.path("languageId",t.languageId,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}saveLanguagePhoneme(t){return this.saveLanguagePhoneme$Response(t).pipe((0,j.U)(o=>o.body))}deleteLanguagePhoneme$Response(t){const o=new Ge(this.rootUrl,r.DeleteLanguagePhonemePath,"delete");return t&&o.path("phonemeId",t.phonemeId,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}deleteLanguagePhoneme(t){return this.deleteLanguagePhoneme$Response(t).pipe((0,j.U)(o=>o.body))}getAllPartsOfSpeechByLanguage$Response(t){const o=new Ge(this.rootUrl,r.GetAllPartsOfSpeechByLanguagePath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getAllPartsOfSpeechByLanguage(t){return this.getAllPartsOfSpeechByLanguage$Response(t).pipe((0,j.U)(o=>o.body))}deleteLanguage$Response(t){const o=new Ge(this.rootUrl,r.DeleteLanguagePath,"delete");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}deleteLanguage(t){return this.deleteLanguage$Response(t).pipe((0,j.U)(o=>o.body))}canDeleteLanguage$Response(t){const o=new Ge(this.rootUrl,r.CanDeleteLanguagePath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:"true"===String(i.body)})))}canDeleteLanguage(t){return this.canDeleteLanguage$Response(t).pipe((0,j.U)(o=>o.body))}}return r.SaveLanguagePath="/api/language/",r.GetAllLanguagesPath="/api/language/all",r.GetLanguageSoundClustersPath="/api/language/clusters/{languageId}",r.GetLanguagePhonemesPath="/api/language/phoneme/{languageId}",r.SaveLanguagePhonemePath="/api/language/phoneme/{languageId}",r.DeleteLanguagePhonemePath="/api/language/phoneme/{phonemeId}",r.GetAllPartsOfSpeechByLanguagePath="/api/language/pos/{languageId}",r.DeleteLanguagePath="/api/language/{languageId}",r.CanDeleteLanguagePath="/api/language/{languageId}/candelete",r.\u0275fac=function(t){return new(t||r)(e.LFG(ys),e.LFG(Li))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Sg=(()=>{class r extends Rl{constructor(t){super(),this.languagesService=t,this.langsc={}}ngOnInit(){super.ngOnInit(),this.refresh()}ngOnChanges(t){var o;t.selectedLanguage.currentValue&&(console.log(t,t.selectedLanguage.currentValue.id,null===(o=this.selectedLanguage)||void 0===o?void 0:o.id),this.refresh())}refresh(){var t,o;null!==(t=this.selectedLanguage)&&void 0!==t&&t.id&&this.languagesService.getLanguageSoundClusters({languageId:null===(o=this.selectedLanguage)||void 0===o?void 0:o.id}).subscribe(i=>{var a,d,p,y,w,D;i.constClusters=null===(a=i.constClusters)||void 0===a?void 0:a.sort((x,F)=>F.length-x.length),i.constClustersStart=null===(d=i.constClustersStart)||void 0===d?void 0:d.sort((x,F)=>F.length-x.length),i.constClustersEnd=null===(p=i.constClustersEnd)||void 0===p?void 0:p.sort((x,F)=>F.length-x.length),i.vowelClusters=null===(y=i.vowelClusters)||void 0===y?void 0:y.sort((x,F)=>F.length-x.length),i.vowelClustersStart=null===(w=i.vowelClustersStart)||void 0===w?void 0:w.sort((x,F)=>F.length-x.length),i.vowelClustersEnd=null===(D=i.vowelClustersEnd)||void 0===D?void 0:D.sort((x,F)=>F.length-x.length),this.langsc=i})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(vs))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-clusters"]],features:[e.qOj,e.TTD],decls:24,vars:6,template:function(t,o){1&t&&(e.TgZ(0,"p")(1,"span"),e._uU(2,"All consonant clusters: "),e.qZA(),e._uU(3),e.qZA(),e.TgZ(4,"p")(5,"span"),e._uU(6,"Starting consonant clusters: "),e.qZA(),e._uU(7),e.qZA(),e.TgZ(8,"p")(9,"span"),e._uU(10,"End consonant clusters: "),e.qZA(),e._uU(11),e.qZA(),e.TgZ(12,"p")(13,"span"),e._uU(14,"All vowel clusters: "),e.qZA(),e._uU(15),e.qZA(),e.TgZ(16,"p")(17,"span"),e._uU(18,"Starting vowel clusters: "),e.qZA(),e._uU(19),e.qZA(),e.TgZ(20,"p")(21,"span"),e._uU(22,"End vowel clusters: "),e.qZA(),e._uU(23),e.qZA()),2&t&&(e.xp6(3),e.Oqu(o.langsc.constClusters),e.xp6(4),e.Oqu(o.langsc.constClustersStart),e.xp6(4),e.Oqu(o.langsc.constClustersEnd),e.xp6(4),e.Oqu(o.langsc.vowelClusters),e.xp6(4),e.Oqu(o.langsc.vowelClustersStart),e.xp6(4),e.Oqu(o.langsc.vowelClustersEnd))}}),r})();const DA=["col"],sa=["app-horizontal-dash",""];let pn=(()=>{class r{constructor(t,o){this.cdRef=t,this.router=o,this.bcol=""}ngOnInit(){}onResize(){this.resizeDash()}ngAfterViewChecked(){this.resizeDash()}resizeDash(){var t;const o=Math.max(0,Math.floor(((null===(t=this.col)||void 0===t?void 0:t.nativeElement.offsetWidth)-1)/8)),i=this.bcol;this.bcol=o?(this.symbol?this.symbol:"-").repeat(o):"",i!==this.bcol&&this.cdRef.detectChanges()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(Yn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["th","app-horizontal-dash",""]],viewQuery:function(t,o){if(1&t&&e.Gf(DA,5),2&t){let i;e.iGM(i=e.CRH())&&(o.col=i.first)}},hostBindings:function(t,o){1&t&&e.NdJ("resize",function(a){return o.onResize(a)},!1,e.Jf7)},inputs:{symbol:"symbol"},attrs:sa,decls:3,vars:1,consts:[[1,"border","th-span"],["col",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0,1),e._uU(2),e.qZA()),2&t&&(e.xp6(2),e.Oqu(o.bcol))},styles:[".th-span[_ngcontent-%COMP%]{width:100%;min-width:10px}"]}),r})();var eo=P(4986),Lu=P(3532);const Um=["row"],Gc=["app-vertical-dash",""];let gi=(()=>{class r{constructor(t,o){this.cdRef=t,this.router=o,this.brow="",this.deleted=!1,o.events.subscribe(i=>{this.brow="",this.cdRef.detectChanges(),function Fi(r=0,n,t=eo.P){let o=-1;return null!=n&&((0,Lu.K)(n)?t=n:o=n),new zr.y(i=>{let a=function xg(r){return r instanceof Date&&!isNaN(r)}(r)?+r-t.now():r;a<0&&(a=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=o?this.schedule(void 0,o):i.complete())},a)})}(10).subscribe(()=>{this.resizeDash()})})}ngOnInit(){}onResize(){this.resizeDash()}ngAfterViewChecked(){this.resizeDash()}resizeDash(){var t;const o=Math.max(0,Math.floor((null===(t=this.row)||void 0===t?void 0:t.nativeElement.parentNode.offsetHeight)/16)),i=this.brow;this.brow=o?"|\n".repeat(o):"",i!==this.brow&&this.cdRef.detectChanges()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(Yn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["th","app-vertical-dash",""]],viewQuery:function(t,o){if(1&t&&e.Gf(Um,5),2&t){let i;e.iGM(i=e.CRH())&&(o.row=i.first)}},hostBindings:function(t,o){1&t&&e.NdJ("resize",function(a){return o.onResize(a)},!1,e.Jf7)},inputs:{symbol:"symbol"},attrs:Gc,decls:3,vars:1,consts:[[1,"border","td-span"],["row",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0,1),e._uU(2),e.qZA()),2&t&&(e.xp6(2),e.Oqu(o.brow))},styles:[".td-span[_ngcontent-%COMP%]{width:100%;height:100%;min-height:10px}"]}),r})();class Fu{constructor(n){Object.assign(this,n)}}let aa=(()=>{class r{constructor(){}match(t,o=[],i){return new Fu(i||{}),new zr.y(d=>{})}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Hc(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",6),e._uU(1,"[ "),e.TgZ(2,"a",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.editComment=!0)}),e._uU(3,"Description"),e.qZA(),e._uU(4," ] "),e.qZA()}}function p1(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"Description"),e.qZA())}function g1(r,n){if(1&r&&(e.TgZ(0,"th",8),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.selectedLanguage.comment)}}function f1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",8)(1,"textarea",16),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw(2);return e.KtG(a.selectedLanguage.comment=i)}),e.qZA()()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.selectedLanguage.comment)("cols",20)("rows",5)}}function _1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"[ "),e.TgZ(2,"a",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.saveChanges())}),e._uU(3,"Save"),e.qZA(),e._uU(4," ]"),e.qZA()}}function m1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"[ Save ]"),e.qZA())}function y1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"[ "),e.TgZ(2,"a",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.deleteLanguage())}),e._uU(3,"Delete"),e.qZA(),e._uU(4," ]"),e.qZA()}}function v1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"[ Delete ]"),e.qZA())}function C1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"table",1)(1,"colgroup"),e._UZ(2,"col",2)(3,"col",3)(4,"col",4)(5,"col",5),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",6),e._uU(9,"Display Name"),e.qZA(),e.TgZ(10,"th",7),e._uU(11,"|"),e._UZ(12,"br"),e._uU(13,"|"),e.qZA(),e.TgZ(14,"th",8)(15,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedLanguage.displayName=i)}),e.qZA()(),e.TgZ(16,"th",10),e._uU(17," |"),e._UZ(18,"br"),e._uU(19,"| "),e.qZA()(),e.TgZ(20,"tr")(21,"th",6),e._uU(22,"Native Name"),e.qZA(),e.TgZ(23,"th",7),e._uU(24,"|"),e._UZ(25,"br"),e._uU(26,"|"),e.qZA(),e.TgZ(27,"th",8)(28,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedLanguage.nativeName=i)}),e.qZA()(),e.TgZ(29,"th",10),e._uU(30,"|"),e._UZ(31,"br"),e._uU(32,"|"),e.qZA()(),e.TgZ(33,"tr"),e.YNc(34,Hc,5,0,"th",11),e.YNc(35,p1,2,0,"th",11),e.TgZ(36,"th",7),e._uU(37,"|"),e._UZ(38,"br"),e._uU(39,"|"),e._UZ(40,"br"),e._uU(41,"|"),e._UZ(42,"br"),e._uU(43,"|"),e._UZ(44,"br"),e._uU(45,"|"),e._UZ(46,"br"),e._uU(47,"|"),e.qZA(),e.YNc(48,g1,2,1,"th",12),e.YNc(49,f1,2,3,"th",12),e.TgZ(50,"th",10),e._uU(51," |"),e._UZ(52,"br"),e._uU(53,"|"),e._UZ(54,"br"),e._uU(55,"|"),e._UZ(56,"br"),e._uU(57,"|"),e._UZ(58,"br"),e._uU(59,"|"),e._UZ(60,"br"),e._uU(61,"| "),e.qZA()(),e._UZ(62,"tr"),e.TgZ(63,"tr"),e._UZ(64,"th",13),e.TgZ(65,"th",7),e.YNc(66,_1,5,0,"span",14),e.YNc(67,m1,2,0,"span",14),e._uU(68,"-"),e.YNc(69,y1,5,0,"span",14),e.YNc(70,v1,2,0,"span",14),e._uU(71,"-+ "),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(15),e.Q6J("ngModel",t.selectedLanguage.displayName),e.xp6(13),e.Q6J("ngModel",t.selectedLanguage.nativeName),e.xp6(6),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("ngIf",t.editComment),e.xp6(13),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("ngIf",t.editComment),e.xp6(17),e.Q6J("ngIf",t.canUpdate),e.xp6(1),e.Q6J("ngIf",!t.canUpdate),e.xp6(2),e.Q6J("ngIf",t.canDelete),e.xp6(1),e.Q6J("ngIf",!t.canDelete)}}let Mm=(()=>{class r extends Rl{constructor(t){super(),this.languagesService=t,this.editComment=!1,this.canUpdate=!1,this.canDelete=!1,this.onDeleteLanguage=new e.vpe}ngOnInit(){super.ngOnInit(),this.refresh()}ngOnChanges(t){var o;t.selectedLanguage.currentValue&&(console.log(t,t.selectedLanguage.currentValue.id,null===(o=this.selectedLanguage)||void 0===o?void 0:o.id),this.refresh())}saveChanges(){this.selectedLanguage&&this.languagesService.saveLanguage({body:this.selectedLanguage}).subscribe(t=>{this.canUpdate=!1,this.editComment=!1})}deleteLanguage(){var t;null!==(t=this.selectedLanguage)&&void 0!==t&&t.id&&this.onDeleteLanguage.emit(this.selectedLanguage.id)}refresh(){var t,o;this.canUpdate=!1,this.editComment=!1,this.canDelete=!1,null!==(t=this.selectedLanguage)&&void 0!==t&&t.id&&this.languagesService.canDeleteLanguage({languageId:null===(o=this.selectedLanguage)||void 0===o?void 0:o.id}).subscribe(i=>{this.canDelete=i})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(vs))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-description"]],outputs:{onDeleteLanguage:"onDeleteLanguage"},features:[e.qOj,e.TTD],decls:1,vars:1,consts:[["style","width: 100%; height: 100%",4,"ngIf"],[2,"width","100%","height","100%"],["span","1",2,"width","200px","text-align","right"],["span","1",1,"border",2,"width","32px"],["span","1",2,"width","auto"],["span","1",2,"width","169px"],[2,"text-align","right"],[1,"border"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],[1,"border",2,"text-align","right"],["style","text-align: right",4,"ngIf"],["style","text-align: left",4,"ngIf"],["app-horizontal-dash","","colspan","3",1,"border"],[4,"ngIf"],[1,"text-yellow-dull",3,"click"],[2,"width","100%",3,"ngModel","cols","rows","ngModelChange"],[1,"text-green-dull",3,"click"],[1,"text-red-dull",3,"click"]],template:function(t,o){1&t&&e.YNc(0,C1,72,10,"table",0),2&t&&e.Q6J("ngIf",o.selectedLanguage&&o.selectedLanguage.id)},dependencies:[pt,Nn,En,fn,pn]}),r})(),fi=(()=>{class r extends Ol{constructor(t,o){super(t,o)}getAllPos$Response(t){const o=new Ge(this.rootUrl,r.GetAllPosPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getAllPos(t){return this.getAllPos$Response(t).pipe((0,j.U)(o=>o.body))}savePos$Response(t){const o=new Ge(this.rootUrl,r.SavePosPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:parseFloat(String(i.body))})))}savePos(t){return this.savePos$Response(t).pipe((0,j.U)(o=>o.body))}getAllPosByLanguage$Response(t){const o=new Ge(this.rootUrl,r.GetAllPosByLanguagePath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getAllPosByLanguage(t){return this.getAllPosByLanguage$Response(t).pipe((0,j.U)(o=>o.body))}saveLanguagePos$Response(t){const o=new Ge(this.rootUrl,r.SaveLanguagePosPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:parseFloat(String(i.body))})))}saveLanguagePos(t){return this.saveLanguagePos$Response(t).pipe((0,j.U)(o=>o.body))}deleteLanguagePos$Response(t){const o=new Ge(this.rootUrl,r.DeleteLanguagePosPath,"delete");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}deleteLanguagePos(t){return this.deleteLanguagePos$Response(t).pipe((0,j.U)(o=>o.body))}getPosByLanguage$Response(t){const o=new Ge(this.rootUrl,r.GetPosByLanguagePath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getPosByLanguage(t){return this.getPosByLanguage$Response(t).pipe((0,j.U)(o=>o.body))}}return r.GetAllPosPath="/api/pos",r.SavePosPath="/api/pos",r.GetAllPosByLanguagePath="/api/pos/language/{languageId}",r.SaveLanguagePosPath="/api/pos/languagepos",r.DeleteLanguagePosPath="/api/pos/languagepos/{id}",r.GetPosByLanguagePath="/api/pos/languagepos/{languageId}",r.\u0275fac=function(t){return new(t||r)(e.LFG(ys),e.LFG(Li))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function SA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._UZ(1,"br"),e._uU(2," [ "),e.TgZ(3,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.saveChanges())}),e._uU(4,"Update"),e.qZA(),e._uU(5," ] "),e.qZA()}}function xA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"table",1)(1,"colgroup"),e._UZ(2,"col",2)(3,"col",3)(4,"col",4)(5,"col",5),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",6),e._uU(9,"Name"),e.qZA(),e._UZ(10,"th",7),e.TgZ(11,"th",8)(12,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedPos.name=i)}),e.qZA()(),e._UZ(13,"th",10),e.qZA(),e.TgZ(14,"tr")(15,"th",6),e._uU(16,"Abbreviation"),e.qZA(),e._UZ(17,"th",7),e.TgZ(18,"th",8)(19,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedPos.abbreviation=i)}),e.qZA()(),e._UZ(20,"th",10),e.qZA(),e.TgZ(21,"tr"),e._UZ(22,"th",10),e.qZA(),e.TgZ(23,"tr")(24,"th",7),e.YNc(25,SA,6,0,"span",11),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(12),e.Q6J("ngModel",t.selectedPos.name),e.xp6(7),e.Q6J("ngModel",t.selectedPos.abbreviation),e.xp6(5),e.uIk("colspan",4),e.xp6(1),e.Q6J("ngIf",t.canUpdate)}}let T1=(()=>{class r extends Rl{constructor(t){super(),this.posService=t,this.editComment=!1,this.canUpdate=!1}saveChanges(){this.selectedPos&&this.posService.savePos({body:this.selectedPos}).subscribe(t=>{this.canUpdate=!1})}clickEditComment(){this.editComment=!0}clickSaveComment(){this.editComment=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(fi))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-pos-details"]],inputs:{selectedPos:"selectedPos"},features:[e.qOj],decls:1,vars:1,consts:[["style","width: 100%",4,"ngIf"],[2,"width","100%"],["span","1",2,"width","200px","text-align","right"],["span","1",1,"border",2,"width","32px"],["span","1",2,"width","auto"],["span","1",2,"width","81px"],[2,"text-align","right"],[1,"border"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],[1,"border",2,"text-align","right"],[4,"ngIf"],[1,"text-green-dull",3,"click"]],template:function(t,o){1&t&&e.YNc(0,xA,26,4,"table",0),2&t&&e.Q6J("ngIf",o.selectedPos&&o.selectedPos.id)},dependencies:[pt,Nn,En,fn]}),r})();function ZA(r,n){if(1&r&&(e.TgZ(0,"th",15),e._UZ(1,"app-pos-details",16),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("selectedLanguage",t.selectedLanguage)("selectedPos",t.selectedPos)}}function kA(r,n){1&r&&e._UZ(0,"th",17)}function Pm(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th",10)(2,"a",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.connectPosToLanguage(a))}),e._uU(3),e.qZA()(),e.TgZ(4,"th",6),e._uU(5,"|"),e.qZA(),e.TgZ(6,"th",12)(7,"a",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.selectedPos=a)}),e._uU(8),e.qZA()(),e.TgZ(9,"th",12),e._uU(10),e.qZA(),e.YNc(11,ZA,2,2,"th",13),e.YNc(12,kA,1,0,"th",14),e.qZA()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();let a,d;e.xp6(1),e.Q6J("ngClass",(null==i.selectedPos?null:i.selectedPos.id)===t.id?"selectedTh":""),e.xp6(1),e.Q6J("ngClass",null!=(a=i.getLanguagePos(t))&&a.connectedToLanguage?null!=(a=i.getLanguagePos(t))&&a.usedInLanguage?"text-green-dull":"text-yellow-dull":null!=(a=i.getLanguagePos(t))&&a.usedInLanguage?"text-red-dull":"text-grey-dull"),e.xp6(1),e.Oqu(null!=(d=i.getLanguagePos(t))&&d.connectedToLanguage?"o":"x"),e.xp6(3),e.Q6J("ngClass",(null==i.selectedPos?null:i.selectedPos.id)===t.id?"selectedTh":""),e.xp6(1),e.Q6J("ngClass",(null==i.selectedPos?null:i.selectedPos.id)===t.id?"text-main":i.getLanguagePosSymbol(t)?"text-grey":"text-grey-dull"),e.xp6(1),e.Oqu(t.name),e.xp6(1),e.Q6J("ngClass",(null==i.selectedPos?null:i.selectedPos.id)===t.id?"selectedTh":""),e.xp6(1),e.Oqu((null==i.selectedPos?null:i.selectedPos.id)===t.id?"":"|"),e.xp6(1),e.Q6J("ngIf",0==o),e.xp6(1),e.Q6J("ngIf",0==o)}}let Rm=(()=>{class r extends Rl{constructor(t){super(),this.posService=t,this.pos=[],this.lp=[]}ngOnInit(){super.ngOnInit(),this.posService.getAllPos().subscribe(t=>this.pos=t.sort((o,i)=>o.name?o.name.localeCompare(i.name?i.name:""):-1))}ngOnChanges(t){t.selectedLanguage.currentValue&&(console.log(t,t.selectedLanguage.currentValue.id),t.selectedLanguage.currentValue.id&&this.posService.getPosByLanguage({languageId:t.selectedLanguage.currentValue.id}).subscribe(o=>this.lp=o))}addNewPOS(){const t={name:"new part of speech"};this.posService.savePos({body:t}).subscribe(o=>{t.id=o,this.selectedPos=t,this.pos.push(t)})}getLanguagePosSymbol(t){return!!this.selectedLanguage&&this.lp.filter(o=>{var i;return o.languageId===(null===(i=this.selectedLanguage)||void 0===i?void 0:i.id)&&o.posId===t.id}).length>0}getLanguagePos(t){if(this.selectedLanguage)return this.lp.find(o=>{var i;return(null==o?void 0:o.languageId)===(null===(i=this.selectedLanguage)||void 0===i?void 0:i.id)&&(null==o?void 0:o.posId)===t.id})}connectPosToLanguage(t){var o,i,a,d;if(console.log("connectPosToLanguage",t),null!==(o=this.getLanguagePos(t))&&void 0!==o&&o.connectedToLanguage){if(null!==(i=this.selectedLanguage)&&void 0!==i&&i.id){const p=this.lp.find(y=>{var w;return y.languageId===(null===(w=this.selectedLanguage)||void 0===w?void 0:w.id)&&y.posId===t.id});p&&p.id&&this.posService.deleteLanguagePos({id:p.id}).subscribe(()=>{const y=this.lp.find(w=>w.id===p.id);null!=y&&y.usedInLanguage?y.connectedToLanguage=!1:this.lp=this.lp.filter(w=>w.id!==p.id)})}}else if(null!==(a=this.selectedLanguage)&&void 0!==a&&a.id){const p={languageId:null===(d=this.selectedLanguage)||void 0===d?void 0:d.id,posId:t.id};this.posService.saveLanguagePos({body:p}).subscribe(y=>{p.id=y;const w=this.lp.find(D=>{var x;return D.posId===t.id&&D.languageId===(null===(x=this.selectedLanguage)||void 0===x?void 0:x.id)});w?(console.log("found!",w),w.id=y,w.connectedToLanguage=!0):(p.connectedToLanguage=!0,this.lp.push(p))})}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(fi))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-pos"]],features:[e.qOj,e.TTD],decls:23,vars:1,consts:[["span","1",1,"border",2,"width","17px"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","calc(30% - 41px)"],["span","1",1,"border",2,"width","70%"],[4,"ngFor","ngForOf"],["app-horizontal-dash","","colspan","3"],[1,"border"],["colspan","2"],[1,"text-green-dull",3,"click"],["app-horizontal-dash","","colspan","5"],[3,"ngClass"],[3,"ngClass","click"],[1,"border",3,"ngClass"],["class","border","rowspan","0","style","vertical-align: top;",4,"ngIf"],["app-vertical-dash","","class","border","rowspan","0",4,"ngIf"],["rowspan","0",1,"border",2,"vertical-align","top"],[3,"selectedLanguage","selectedPos"],["app-vertical-dash","","rowspan","0",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",1)(6,"col",3)(7,"col",1),e.qZA(),e.TgZ(8,"tbody"),e.YNc(9,Pm,13,10,"tr",4),e.TgZ(10,"tr"),e._UZ(11,"th",5),e.TgZ(12,"th",6),e._uU(13,"+"),e.qZA()(),e.TgZ(14,"tr"),e._UZ(15,"th",7),e.TgZ(16,"th")(17,"a",8),e.NdJ("click",function(){return o.addNewPOS()}),e._uU(18,"[ + ]"),e.qZA()(),e.TgZ(19,"th",6),e._uU(20,"|"),e.qZA()(),e.TgZ(21,"tr"),e._UZ(22,"th",9),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("ngForOf",o.pos))},dependencies:[kn,ot,pt,pn,gi,T1],styles:[".selectedTh[_ngcontent-%COMP%]{background-color:#333}"]}),r})(),NA=(()=>{class r{constructor(){this.sounds=[],this.consonantVariants=["\u02b0","\u02b7","\u02b2","\u02b7\u02b0","\u02d0"]}addPhonetic(t){this.sounds.includes(t)||this.sounds.push(t)}getConsonantVariants(){return this.consonantVariants}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Zg(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",0),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.onClick.emit(a.phonetic+i))}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw().$implicit,o=e.oxw(2);e.Q6J("ngClass",o.getClass(o.phonetic+t)),e.xp6(1),e.Oqu(t)}}function kg(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Zg,2,2,"a",4),e.BQk()),2&r){const t=n.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.includesVariant(o.phonetic+t))}}function Om(r,n){if(1&r&&(e.ynx(0),e.YNc(1,kg,2,1,"ng-container",3),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.constonantVariants)}}function UA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span",5),e._uU(1," ("),e.TgZ(2,"a",0),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onClick.emit(i.phonetic+"\u02d0"))}),e._uU(3),e.qZA(),e._uU(4,")"),e.qZA()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",t.getClass(t.phonetic+"\u02d0")),e.xp6(1),e.Oqu(t.phonetic+"\u02d0")}}let qu=(()=>{class r{constructor(t){this.ipaService=t,this.vowel=!1,this.consonant=!1,this.onClick=new e.vpe,this.constonantVariants=t.getConsonantVariants()}ngOnInit(){}getClass(t){var o,i,a,d,p,y,w,D,x,F,$,ee;return(null===(i=null===(o=this.languageSounds)||void 0===o?void 0:o.selectedMainPhonemes)||void 0===i?void 0:i.filter(Se=>Se.phoneme===t).length)||(null===(d=null===(a=this.languageSounds)||void 0===a?void 0:a.selectedRestPhonemes)||void 0===d?void 0:d.filter(Se=>Se.phoneme===t).length)?(null===(y=null===(p=this.languageSounds)||void 0===p?void 0:p.usedMainPhonemes)||void 0===y?void 0:y.includes(t))||(null===(D=null===(w=this.languageSounds)||void 0===w?void 0:w.restUsedPhonemes)||void 0===D?void 0:D.includes(t))?"text-green-dull":"text-yellow-dull":(null===(F=null===(x=this.languageSounds)||void 0===x?void 0:x.usedMainPhonemes)||void 0===F?void 0:F.includes(t))||(null===(ee=null===($=this.languageSounds)||void 0===$?void 0:$.restUsedPhonemes)||void 0===ee?void 0:ee.includes(t))?"text-red-dull":"text-grey-dull"}includesVariant(t){var o,i,a,d,p,y,w,D;return!!((null===(i=null===(o=this.languageSounds)||void 0===o?void 0:o.usedMainPhonemes)||void 0===i?void 0:i.includes(t))||(null===(d=null===(a=this.languageSounds)||void 0===a?void 0:a.restUsedPhonemes)||void 0===d?void 0:d.includes(t))||(null===(y=null===(p=this.languageSounds)||void 0===p?void 0:p.selectedMainPhonemes)||void 0===y?void 0:y.filter(x=>x.phoneme===t).length)||(null===(D=null===(w=this.languageSounds)||void 0===w?void 0:w.selectedRestPhonemes)||void 0===D?void 0:D.filter(x=>x.phoneme===t).length))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(NA))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-phonetic-btn"]],inputs:{phonetic:"phonetic",vowel:"vowel",consonant:"consonant",languageSounds:"languageSounds"},outputs:{onClick:"onClick"},decls:4,vars:4,consts:[[3,"ngClass","click"],[4,"ngIf"],["class","text-grey-dull",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngClass","click",4,"ngIf"],[1,"text-grey-dull"]],template:function(t,o){1&t&&(e.TgZ(0,"a",0),e.NdJ("click",function(){return o.onClick.emit(o.phonetic)}),e._uU(1),e.qZA(),e.YNc(2,Om,2,1,"ng-container",1),e.YNc(3,UA,5,2,"span",2)),2&t&&(e.Q6J("ngClass",o.getClass(o.phonetic)),e.xp6(1),e.Oqu(o.phonetic),e.xp6(1),e.Q6J("ngIf",o.consonant),e.xp6(1),e.Q6J("ngIf",o.vowel))},dependencies:[kn,ot,pt]}),r})(),Ng=(()=>{class r{constructor(t,o){this.cdRef=t,this.languagesService=o,this.onClick=new e.vpe}ngOnInit(){}ngOnChanges(t){console.log("pulmonic consonants changes",t)}clicked(t){this.onClick.emit(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(vs))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-pulmonic-consonants"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},features:[e.TTD],decls:1294,vars:454,consts:[["span","1",2,"width","auto"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","3.16766212%"],["colspan","37"],["app-horizontal-dash",""],["app-horizontal-dash","","colspan","35"],[2,"text-align","right"],["colspan","6"],["colspan","14"],["colspan","7"],["colspan","5"],["colspan","2","app-horizontal-dash",""],[2,"text-align","left"],["colspan","2"],["title","Labio-dental"],["title","Linguo-labial"],["title","Post-alveolar"],["title","Retro-flex"],["title","Pharyngeal/Epi-glottal"],[3,"consonant","languageSounds","phonetic","onClick"],["colspan","3"],["colspan","8","app-horizontal-dash",""],["colspan","5","app-horizontal-dash",""],["colspan","8"],["colspan","11"],["app-horizontal-dash","","colspan","37"],["colspan","35",2,"text-align","left"],[3,"languageSounds","phonetic","onClick"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",2)(6,"col",1)(7,"col",2)(8,"col",2)(9,"col",1)(10,"col",2)(11,"col",2)(12,"col",1)(13,"col",2)(14,"col",2)(15,"col",1)(16,"col",2)(17,"col",2)(18,"col",1)(19,"col",2)(20,"col",2)(21,"col",1)(22,"col",2)(23,"col",2)(24,"col",1)(25,"col",2)(26,"col",2)(27,"col",1)(28,"col",2)(29,"col",2)(30,"col",1)(31,"col",2)(32,"col",2)(33,"col",1)(34,"col",2)(35,"col",2)(36,"col",1)(37,"col",2)(38,"col",2)(39,"col",1),e.qZA(),e.TgZ(40,"tbody")(41,"tr")(42,"th",3),e._uU(43," --- PLUMONIC CONSONANTS --- "),e.qZA(),e.TgZ(44,"th"),e._uU(45,"|"),e.qZA()(),e.TgZ(46,"tr"),e._UZ(47,"th",4),e.TgZ(48,"th"),e._uU(49,"+"),e.qZA(),e._UZ(50,"th",5),e.TgZ(51,"th"),e._uU(52,"+"),e.qZA()(),e.TgZ(53,"tr")(54,"th",6),e._uU(55,"Place"),e.qZA(),e.TgZ(56,"th"),e._uU(57,"|"),e.qZA(),e.TgZ(58,"th",7),e._uU(59,"Labial"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"|"),e.qZA(),e.TgZ(62,"th",8),e._uU(63,"Coronal"),e.qZA(),e.TgZ(64,"th"),e._uU(65,"|"),e.qZA(),e.TgZ(66,"th",9),e._uU(67,"Dorsal"),e.qZA(),e.TgZ(68,"th"),e._uU(69,"|"),e.qZA(),e.TgZ(70,"th",10),e._uU(71,"Laryngeal"),e.qZA(),e.TgZ(72,"th"),e._uU(73,"|"),e.qZA()(),e.TgZ(74,"tr"),e._UZ(75,"th"),e.TgZ(76,"th"),e._uU(77,"|"),e.qZA(),e._UZ(78,"th",11),e.TgZ(79,"th"),e._uU(80,"+"),e.qZA(),e._UZ(81,"th",11),e.TgZ(82,"th"),e._uU(83,"+"),e.qZA(),e._UZ(84,"th",11),e.TgZ(85,"th"),e._uU(86,"+"),e.qZA(),e._UZ(87,"th",11),e.TgZ(88,"th"),e._uU(89,"+"),e.qZA(),e._UZ(90,"th",11),e.TgZ(91,"th"),e._uU(92,"+"),e.qZA(),e._UZ(93,"th",11),e.TgZ(94,"th"),e._uU(95,"+"),e.qZA(),e._UZ(96,"th",11),e.TgZ(97,"th"),e._uU(98,"+"),e.qZA(),e._UZ(99,"th",11),e.TgZ(100,"th"),e._uU(101,"+"),e.qZA(),e._UZ(102,"th",11),e.TgZ(103,"th"),e._uU(104,"+"),e.qZA(),e._UZ(105,"th",11),e.TgZ(106,"th"),e._uU(107,"+"),e.qZA(),e._UZ(108,"th",11),e.TgZ(109,"th"),e._uU(110,"+"),e.qZA(),e._UZ(111,"th",11),e.TgZ(112,"th"),e._uU(113,"+"),e.qZA()(),e.TgZ(114,"tr")(115,"th",12),e._uU(116,"Manner"),e.qZA(),e.TgZ(117,"th"),e._uU(118,"|"),e.qZA(),e.TgZ(119,"th",13),e._uU(120,"Bilabial"),e.qZA(),e.TgZ(121,"th"),e._uU(122,"|"),e.qZA(),e.TgZ(123,"th",13)(124,"abbr",14),e._uU(125,"LD"),e.qZA()(),e.TgZ(126,"th"),e._uU(127,"|"),e.qZA(),e.TgZ(128,"th",13)(129,"abbr",15),e._uU(130,"LL"),e.qZA()(),e.TgZ(131,"th"),e._uU(132,"|"),e.qZA(),e.TgZ(133,"th",13),e._uU(134,"Dental"),e.qZA(),e.TgZ(135,"th"),e._uU(136,"|"),e.qZA(),e.TgZ(137,"th",13),e._uU(138,"Alveolar"),e.qZA(),e.TgZ(139,"th"),e._uU(140,"|"),e.qZA(),e.TgZ(141,"th",13)(142,"abbr",16),e._uU(143,"PA"),e.qZA()(),e.TgZ(144,"th"),e._uU(145,"|"),e.qZA(),e.TgZ(146,"th",13)(147,"abbr",17),e._uU(148,"RF"),e.qZA()(),e.TgZ(149,"th"),e._uU(150,"|"),e.qZA(),e.TgZ(151,"th",13),e._uU(152,"Palatal"),e.qZA(),e.TgZ(153,"th"),e._uU(154,"|"),e.qZA(),e.TgZ(155,"th",13),e._uU(156,"Velar"),e.qZA(),e.TgZ(157,"th"),e._uU(158,"|"),e.qZA(),e.TgZ(159,"th",13),e._uU(160,"Uvular"),e.qZA(),e.TgZ(161,"th"),e._uU(162,"|"),e.qZA(),e.TgZ(163,"th",13)(164,"abbr",18),e._uU(165,"P/EG"),e.qZA()(),e.TgZ(166,"th"),e._uU(167,"|"),e.qZA(),e.TgZ(168,"th",13),e._uU(169,"Glottal"),e.qZA(),e.TgZ(170,"th"),e._uU(171,"|"),e.qZA()(),e.TgZ(172,"tr"),e._UZ(173,"th",4),e.TgZ(174,"th"),e._uU(175,"+"),e.qZA(),e._UZ(176,"th",11),e.TgZ(177,"th"),e._uU(178,"+"),e.qZA(),e._UZ(179,"th",11),e.TgZ(180,"th"),e._uU(181,"+"),e.qZA(),e._UZ(182,"th",11),e.TgZ(183,"th"),e._uU(184,"+"),e.qZA(),e._UZ(185,"th",11),e.TgZ(186,"th"),e._uU(187,"+"),e.qZA(),e._UZ(188,"th",11),e.TgZ(189,"th"),e._uU(190,"+"),e.qZA(),e._UZ(191,"th",11),e.TgZ(192,"th"),e._uU(193,"+"),e.qZA(),e._UZ(194,"th",11),e.TgZ(195,"th"),e._uU(196,"+"),e.qZA(),e._UZ(197,"th",11),e.TgZ(198,"th"),e._uU(199,"+"),e.qZA(),e._UZ(200,"th",11),e.TgZ(201,"th"),e._uU(202,"+"),e.qZA(),e._UZ(203,"th",11),e.TgZ(204,"th"),e._uU(205,"+"),e.qZA(),e._UZ(206,"th",11),e.TgZ(207,"th"),e._uU(208,"+"),e.qZA(),e._UZ(209,"th",11),e.TgZ(210,"th"),e._uU(211,"+"),e.qZA()(),e.TgZ(212,"tr")(213,"th"),e._uU(214,"Nasal"),e.qZA(),e.TgZ(215,"th"),e._uU(216,"|"),e.qZA(),e.TgZ(217,"th")(218,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(219,"th")(220,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(221,"th"),e._uU(222,"|"),e.qZA(),e.TgZ(223,"th",13)(224,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(225,"th"),e._uU(226,"|"),e.qZA(),e.TgZ(227,"th",13)(228,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(229,"th"),e._uU(230,"|"),e.qZA(),e._UZ(231,"th"),e.TgZ(232,"th",20)(233,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(234,"th",20)(235,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(236,"th"),e.TgZ(237,"th"),e._uU(238,"|"),e.qZA(),e.TgZ(239,"th")(240,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(241,"th")(242,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(243,"th"),e._uU(244,"|"),e.qZA(),e.TgZ(245,"th")(246,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(247,"th")(248,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(249,"th"),e._uU(250,"|"),e.qZA(),e.TgZ(251,"th")(252,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(253,"th")(254,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(255,"th"),e._uU(256,"|"),e.qZA(),e.TgZ(257,"th",13)(258,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(259,"th"),e._uU(260,"|"),e.qZA(),e._UZ(261,"th",10),e.TgZ(262,"th"),e._uU(263,"|"),e.qZA()(),e.TgZ(264,"tr"),e._UZ(265,"th",4),e.TgZ(266,"th"),e._uU(267,"+"),e.qZA(),e._UZ(268,"th",11),e.TgZ(269,"th"),e._uU(270,"+"),e.qZA(),e._UZ(271,"th",11),e.TgZ(272,"th"),e._uU(273,"+"),e.qZA(),e._UZ(274,"th",11),e.TgZ(275,"th"),e._uU(276,"+"),e.qZA(),e._UZ(277,"th",21),e.TgZ(278,"th"),e._uU(279,"+"),e.qZA(),e._UZ(280,"th",11),e.TgZ(281,"th"),e._uU(282,"+"),e.qZA(),e._UZ(283,"th",11),e.TgZ(284,"th"),e._uU(285,"+"),e.qZA(),e._UZ(286,"th",11),e.TgZ(287,"th"),e._uU(288,"+"),e.qZA(),e._UZ(289,"th",11),e.TgZ(290,"th"),e._uU(291,"+"),e.qZA(),e._UZ(292,"th",11),e.TgZ(293,"th"),e._uU(294,"+"),e.qZA(),e._UZ(295,"th",11),e.TgZ(296,"th"),e._uU(297,"+"),e.qZA()(),e.TgZ(298,"tr")(299,"th"),e._uU(300,"Plosive"),e.qZA(),e.TgZ(301,"th"),e._uU(302,"|"),e.qZA(),e.TgZ(303,"th")(304,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(305,"th")(306,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(307,"th"),e._uU(308,"|"),e.qZA(),e.TgZ(309,"th")(310,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(311,"th")(312,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(313,"th"),e._uU(314,"|"),e.qZA(),e.TgZ(315,"th")(316,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(317,"th")(318,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(319,"th"),e._uU(320,"|"),e.qZA(),e._UZ(321,"th"),e.TgZ(322,"th",20)(323,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(324,"th",20)(325,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(326,"th"),e.TgZ(327,"th"),e._uU(328,"|"),e.qZA(),e.TgZ(329,"th")(330,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(331,"th")(332,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(333,"th"),e._uU(334,"|"),e.qZA(),e.TgZ(335,"th")(336,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(337,"th")(338,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(339,"th"),e._uU(340,"|"),e.qZA(),e.TgZ(341,"th")(342,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(343,"th")(344,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(345,"th"),e._uU(346,"|"),e.qZA(),e.TgZ(347,"th")(348,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(349,"th")(350,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(351,"th"),e._uU(352,"|"),e.qZA(),e.TgZ(353,"th",13)(354,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(355,"th"),e._uU(356,"|"),e.qZA(),e.TgZ(357,"th",13)(358,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(359,"th"),e._uU(360,"|"),e.qZA()(),e.TgZ(361,"tr"),e._UZ(362,"th",4),e.TgZ(363,"th"),e._uU(364,"+"),e.qZA(),e._UZ(365,"th",11),e.TgZ(366,"th"),e._uU(367,"+"),e.qZA(),e._UZ(368,"th",11),e.TgZ(369,"th"),e._uU(370,"+"),e.qZA(),e._UZ(371,"th",11),e.TgZ(372,"th"),e._uU(373,"+"),e.qZA(),e._UZ(374,"th",22),e.TgZ(375,"th"),e._uU(376,"+"),e.qZA(),e._UZ(377,"th",11),e.TgZ(378,"th"),e._uU(379,"+"),e.qZA(),e._UZ(380,"th",11),e.TgZ(381,"th"),e._uU(382,"+"),e.qZA(),e._UZ(383,"th",11),e.TgZ(384,"th"),e._uU(385,"+"),e.qZA(),e._UZ(386,"th",11),e.TgZ(387,"th"),e._uU(388,"+"),e.qZA(),e._UZ(389,"th",11),e.TgZ(390,"th"),e._uU(391,"+"),e.qZA(),e._UZ(392,"th",11),e.TgZ(393,"th"),e._uU(394,"+"),e.qZA(),e._UZ(395,"th",11),e.TgZ(396,"th"),e._uU(397,"+"),e.qZA()(),e.TgZ(398,"tr")(399,"th"),e._uU(400,"Sibilant fricative"),e.qZA(),e.TgZ(401,"th"),e._uU(402,"|"),e.qZA(),e._UZ(403,"th",23),e.TgZ(404,"th"),e._uU(405,"|"),e.qZA(),e.TgZ(406,"th",13)(407,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(408,"th"),e.TgZ(409,"th",13)(410,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(411,"th"),e._uU(412,"|"),e.qZA(),e.TgZ(413,"th")(414,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(415,"th")(416,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(417,"th"),e._uU(418,"|"),e.qZA(),e.TgZ(419,"th")(420,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(421,"th")(422,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(423,"th"),e._uU(424,"|"),e.qZA(),e.TgZ(425,"th")(426,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(427,"th")(428,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(429,"th"),e._uU(430,"|"),e.qZA(),e._UZ(431,"th",24),e.TgZ(432,"th"),e._uU(433,"|"),e.qZA()(),e.TgZ(434,"tr"),e._UZ(435,"th",4),e.TgZ(436,"th"),e._uU(437,"+"),e.qZA(),e._UZ(438,"th",23),e.TgZ(439,"th"),e._uU(440,"+"),e.qZA(),e._UZ(441,"th",22),e.TgZ(442,"th"),e._uU(443,"+"),e.qZA(),e._UZ(444,"th",11),e.TgZ(445,"th"),e._uU(446,"+"),e.qZA(),e._UZ(447,"th",11),e.TgZ(448,"th"),e._uU(449,"+"),e.qZA(),e._UZ(450,"th",11),e.TgZ(451,"th"),e._uU(452,"+"),e.qZA(),e._UZ(453,"th",24),e.TgZ(454,"th"),e._uU(455,"|"),e.qZA()(),e.TgZ(456,"tr")(457,"th"),e._uU(458,"Sibilant affricate"),e.qZA(),e.TgZ(459,"th"),e._uU(460,"|"),e.qZA(),e._UZ(461,"th",23),e.TgZ(462,"th"),e._uU(463,"|"),e.qZA(),e.TgZ(464,"th",13)(465,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(466,"th"),e.TgZ(467,"th",13)(468,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(469,"th"),e._uU(470,"|"),e.qZA(),e.TgZ(471,"th")(472,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(473,"th")(474,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(475,"th"),e._uU(476,"|"),e.qZA(),e.TgZ(477,"th")(478,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(479,"th")(480,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(481,"th"),e._uU(482,"|"),e.qZA(),e.TgZ(483,"th")(484,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(485,"th")(486,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(487,"th"),e._uU(488,"|"),e.qZA(),e._UZ(489,"th",24),e.TgZ(490,"th"),e._uU(491,"|"),e.qZA()(),e.TgZ(492,"tr"),e._UZ(493,"th",4),e.TgZ(494,"th"),e._uU(495,"+"),e.qZA(),e._UZ(496,"th",11),e.TgZ(497,"th"),e._uU(498,"+"),e.qZA(),e._UZ(499,"th",11),e.TgZ(500,"th"),e._uU(501,"+"),e.qZA(),e._UZ(502,"th",11),e.TgZ(503,"th"),e._uU(504,"+"),e.qZA(),e._UZ(505,"th",11),e.TgZ(506,"th"),e._uU(507,"+"),e.qZA(),e._UZ(508,"th",11),e.TgZ(509,"th"),e._uU(510,"+"),e.qZA(),e._UZ(511,"th",11),e.TgZ(512,"th"),e._uU(513,"+"),e.qZA(),e._UZ(514,"th",11),e.TgZ(515,"th"),e._uU(516,"+"),e.qZA(),e._UZ(517,"th",11),e.TgZ(518,"th"),e._uU(519,"+"),e.qZA(),e._UZ(520,"th",11),e.TgZ(521,"th"),e._uU(522,"+"),e.qZA(),e._UZ(523,"th",11),e.TgZ(524,"th"),e._uU(525,"+"),e.qZA(),e._UZ(526,"th",11),e.TgZ(527,"th"),e._uU(528,"+"),e.qZA(),e._UZ(529,"th",11),e.TgZ(530,"th"),e._uU(531,"+"),e.qZA()(),e.TgZ(532,"tr")(533,"th"),e._uU(534,"Non-sibilant fric."),e.qZA(),e.TgZ(535,"th"),e._uU(536,"|"),e.qZA(),e.TgZ(537,"th")(538,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(539,"th")(540,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(541,"th"),e._uU(542,"|"),e.qZA(),e.TgZ(543,"th")(544,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(545,"th")(546,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(547,"th"),e._uU(548,"|"),e.qZA(),e.TgZ(549,"th")(550,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(551,"th")(552,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(553,"th"),e._uU(554,"|"),e.qZA(),e.TgZ(555,"th")(556,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(557,"th")(558,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(559,"th"),e._uU(560,"|"),e.qZA(),e.TgZ(561,"th")(562,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(563,"th")(564,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(565,"th"),e._uU(566,"|"),e.qZA(),e.TgZ(567,"th")(568,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(569,"th")(570,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(571,"th"),e._uU(572,"|"),e.qZA(),e.TgZ(573,"th",13)(574,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(575,"th"),e._uU(576,"|"),e.qZA(),e.TgZ(577,"th")(578,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(579,"th")(580,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(581,"th"),e._uU(582,"|"),e.qZA(),e.TgZ(583,"th")(584,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(585,"th")(586,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(587,"th"),e._uU(588,"|"),e.qZA(),e.TgZ(589,"th")(590,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(591,"th")(592,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(593,"th"),e._uU(594,"|"),e.qZA(),e.TgZ(595,"th")(596,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(597,"th")(598,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(599,"th"),e._uU(600,"|"),e.qZA(),e.TgZ(601,"th")(602,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(603,"th")(604,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(605,"th"),e._uU(606,"|"),e.qZA()(),e.TgZ(607,"tr"),e._UZ(608,"th",4),e.TgZ(609,"th"),e._uU(610,"+"),e.qZA(),e._UZ(611,"th",11),e.TgZ(612,"th"),e._uU(613,"+"),e.qZA(),e._UZ(614,"th",11),e.TgZ(615,"th"),e._uU(616,"+"),e.qZA(),e._UZ(617,"th",11),e.TgZ(618,"th"),e._uU(619,"+"),e.qZA(),e._UZ(620,"th",11),e.TgZ(621,"th"),e._uU(622,"+"),e.qZA(),e._UZ(623,"th",11),e.TgZ(624,"th"),e._uU(625,"+"),e.qZA(),e._UZ(626,"th",11),e.TgZ(627,"th"),e._uU(628,"+"),e.qZA(),e._UZ(629,"th",11),e.TgZ(630,"th"),e._uU(631,"+"),e.qZA(),e._UZ(632,"th",11),e.TgZ(633,"th"),e._uU(634,"+"),e.qZA(),e._UZ(635,"th",11),e.TgZ(636,"th"),e._uU(637,"+"),e.qZA(),e._UZ(638,"th",11),e.TgZ(639,"th"),e._uU(640,"+"),e.qZA(),e._UZ(641,"th",11),e.TgZ(642,"th"),e._uU(643,"+"),e.qZA(),e._UZ(644,"th",11),e.TgZ(645,"th"),e._uU(646,"+"),e.qZA()(),e.TgZ(647,"tr")(648,"th"),e._uU(649,"Non-sibilant affr."),e.qZA(),e.TgZ(650,"th"),e._uU(651,"|"),e.qZA(),e.TgZ(652,"th")(653,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(654,"th")(655,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(656,"th"),e._uU(657,"|"),e.qZA(),e.TgZ(658,"th")(659,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(660,"th")(661,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(662,"th"),e._uU(663,"|"),e.qZA(),e._UZ(664,"th")(665,"th"),e.TgZ(666,"th"),e._uU(667,"|"),e.qZA(),e.TgZ(668,"th")(669,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(670,"th")(671,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(672,"th"),e._uU(673,"|"),e.qZA(),e.TgZ(674,"th")(675,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(676,"th")(677,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(678,"th"),e._uU(679,"|"),e.qZA(),e.TgZ(680,"th")(681,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(682,"th")(683,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(684,"th"),e._uU(685,"|"),e.qZA(),e._UZ(686,"th",13),e.TgZ(687,"th"),e._uU(688,"|"),e.qZA(),e.TgZ(689,"th")(690,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(691,"th")(692,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(693,"th"),e._uU(694,"|"),e.qZA(),e.TgZ(695,"th")(696,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(697,"th")(698,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(699,"th"),e._uU(700,"|"),e.qZA(),e.TgZ(701,"th")(702,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(703,"th")(704,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(705,"th"),e._uU(706,"|"),e.qZA(),e.TgZ(707,"th",13)(708,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(709,"th"),e._uU(710,"|"),e.qZA(),e.TgZ(711,"th",13)(712,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(713,"th"),e._uU(714,"|"),e.qZA()(),e.TgZ(715,"tr"),e._UZ(716,"th",4),e.TgZ(717,"th"),e._uU(718,"+"),e.qZA(),e._UZ(719,"th",11),e.TgZ(720,"th"),e._uU(721,"+"),e.qZA(),e._UZ(722,"th",11),e.TgZ(723,"th"),e._uU(724,"+"),e.qZA(),e._UZ(725,"th",13),e.TgZ(726,"th"),e._uU(727,"+"),e.qZA(),e._UZ(728,"th",11),e.TgZ(729,"th"),e._uU(730,"+"),e.qZA(),e._UZ(731,"th",11),e.TgZ(732,"th"),e._uU(733,"+"),e.qZA(),e._UZ(734,"th",11),e.TgZ(735,"th"),e._uU(736,"+"),e.qZA(),e._UZ(737,"th",11),e.TgZ(738,"th"),e._uU(739,"+"),e.qZA(),e._UZ(740,"th",11),e.TgZ(741,"th"),e._uU(742,"+"),e.qZA(),e._UZ(743,"th",11),e.TgZ(744,"th"),e._uU(745,"+"),e.qZA(),e._UZ(746,"th",11),e.TgZ(747,"th"),e._uU(748,"+"),e.qZA(),e._UZ(749,"th",11),e.TgZ(750,"th"),e._uU(751,"+"),e.qZA(),e._UZ(752,"th",11),e.TgZ(753,"th"),e._uU(754,"+"),e.qZA()(),e.TgZ(755,"tr")(756,"th"),e._uU(757,"Approximant"),e.qZA(),e.TgZ(758,"th"),e._uU(759,"|"),e.qZA(),e._UZ(760,"th",13),e.TgZ(761,"th"),e._uU(762,"|"),e.qZA(),e.TgZ(763,"th",13)(764,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(765,"th"),e._uU(766,"|"),e.qZA(),e._UZ(767,"th",13),e.TgZ(768,"th"),e._uU(769,"|"),e.qZA(),e.TgZ(770,"th",23)(771,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(772,"th"),e._uU(773,"|"),e.qZA(),e.TgZ(774,"th",13)(775,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(776,"th"),e._uU(777,"|"),e.qZA(),e.TgZ(778,"th",13)(779,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(780,"th"),e._uU(781,"|"),e.qZA(),e.TgZ(782,"th",13)(783,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(784,"th"),e._uU(785,"|"),e.qZA(),e._UZ(786,"th",10),e.TgZ(787,"th"),e._uU(788,"|"),e.qZA(),e.TgZ(789,"th",13)(790,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(791,"th"),e._uU(792,"|"),e.qZA()(),e.TgZ(793,"tr"),e._UZ(794,"th",4),e.TgZ(795,"th"),e._uU(796,"+"),e.qZA(),e._UZ(797,"th",11),e.TgZ(798,"th"),e._uU(799,"+"),e.qZA(),e._UZ(800,"th",11),e.TgZ(801,"th"),e._uU(802,"+"),e.qZA(),e._UZ(803,"th",11),e.TgZ(804,"th"),e._uU(805,"+"),e.qZA(),e._UZ(806,"th",21),e.TgZ(807,"th"),e._uU(808,"+"),e.qZA(),e._UZ(809,"th",11),e.TgZ(810,"th"),e._uU(811,"+"),e.qZA(),e._UZ(812,"th",11),e.TgZ(813,"th"),e._uU(814,"+"),e.qZA(),e._UZ(815,"th",11),e.TgZ(816,"th"),e._uU(817,"+"),e.qZA(),e._UZ(818,"th",11),e.TgZ(819,"th"),e._uU(820,"+"),e.qZA(),e._UZ(821,"th",11),e.TgZ(822,"th"),e._uU(823,"+"),e.qZA(),e._UZ(824,"th",11),e.TgZ(825,"th"),e._uU(826,"+"),e.qZA()(),e.TgZ(827,"tr")(828,"th"),e._uU(829,"Tap/flap"),e.qZA(),e.TgZ(830,"th"),e._uU(831,"|"),e.qZA(),e.TgZ(832,"th",13)(833,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(834,"th"),e._uU(835,"|"),e.qZA(),e.TgZ(836,"th",13)(837,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(838,"th"),e._uU(839,"|"),e.qZA(),e.TgZ(840,"th",13)(841,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(842,"th"),e._uU(843,"|"),e.qZA(),e._UZ(844,"th"),e.TgZ(845,"th",20)(846,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(847,"th",20)(848,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(849,"th"),e.TgZ(850,"th"),e._uU(851,"|"),e.qZA(),e.TgZ(852,"th")(853,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(854,"th")(855,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(856,"th"),e._uU(857,"|"),e.qZA(),e._UZ(858,"th",10),e.TgZ(859,"th"),e._uU(860,"|"),e.qZA(),e.TgZ(861,"th",13)(862,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(863,"th"),e._uU(864,"|"),e.qZA(),e.TgZ(865,"th",13)(866,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(867,"th"),e._uU(868,"|"),e.qZA(),e._UZ(869,"th",13),e.TgZ(870,"th"),e._uU(871,"|"),e.qZA()(),e.TgZ(872,"tr"),e._UZ(873,"th",4),e.TgZ(874,"th"),e._uU(875,"+"),e.qZA(),e._UZ(876,"th",11),e.TgZ(877,"th"),e._uU(878,"+"),e.qZA(),e._UZ(879,"th",11),e.TgZ(880,"th"),e._uU(881,"+"),e.qZA(),e._UZ(882,"th",11),e.TgZ(883,"th"),e._uU(884,"+"),e.qZA(),e._UZ(885,"th",21),e.TgZ(886,"th"),e._uU(887,"+"),e.qZA(),e._UZ(888,"th",11),e.TgZ(889,"th"),e._uU(890,"+"),e.qZA(),e._UZ(891,"th",10),e.TgZ(892,"th"),e._uU(893,"+"),e.qZA(),e._UZ(894,"th",11),e.TgZ(895,"th"),e._uU(896,"+"),e.qZA(),e._UZ(897,"th",11),e.TgZ(898,"th"),e._uU(899,"+"),e.qZA(),e._UZ(900,"th",13),e.TgZ(901,"th"),e._uU(902,"|"),e.qZA()(),e.TgZ(903,"tr")(904,"th"),e._uU(905,"Trill"),e.qZA(),e.TgZ(906,"th"),e._uU(907,"|"),e.qZA(),e.TgZ(908,"th")(909,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(910,"th")(911,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(912,"th"),e._uU(913,"|"),e.qZA(),e._UZ(914,"th",10),e.TgZ(915,"th"),e._uU(916,"|"),e.qZA(),e._UZ(917,"th"),e.TgZ(918,"th",20)(919,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(920,"th",20)(921,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(922,"th"),e.TgZ(923,"th"),e._uU(924,"|"),e.qZA(),e.TgZ(925,"th")(926,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(927,"th")(928,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(929,"th"),e._uU(930,"|"),e.qZA(),e._UZ(931,"th",10),e.TgZ(932,"th"),e._uU(933,"|"),e.qZA(),e.TgZ(934,"th")(935,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(936,"th")(937,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(938,"th"),e._uU(939,"|"),e.qZA(),e.TgZ(940,"th")(941,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(942,"th")(943,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(944,"th"),e._uU(945,"|"),e.qZA(),e._UZ(946,"th",13),e.TgZ(947,"th"),e._uU(948,"|"),e.qZA()(),e.TgZ(949,"tr"),e._UZ(950,"th",4),e.TgZ(951,"th"),e._uU(952,"+"),e.qZA(),e._UZ(953,"th",11),e.TgZ(954,"th"),e._uU(955,"+"),e.qZA(),e._UZ(956,"th",10),e.TgZ(957,"th"),e._uU(958,"+"),e.qZA(),e._UZ(959,"th",21),e.TgZ(960,"th"),e._uU(961,"+"),e.qZA(),e._UZ(962,"th",11),e.TgZ(963,"th"),e._uU(964,"+"),e.qZA(),e._UZ(965,"th",11),e.TgZ(966,"th"),e._uU(967,"+"),e.qZA(),e._UZ(968,"th",11),e.TgZ(969,"th"),e._uU(970,"+"),e.qZA(),e._UZ(971,"th",11),e.TgZ(972,"th"),e._uU(973,"+"),e.qZA(),e._UZ(974,"th",11),e.TgZ(975,"th"),e._uU(976,"+"),e.qZA(),e._UZ(977,"th",13),e.TgZ(978,"th"),e._uU(979,"|"),e.qZA()(),e.TgZ(980,"tr")(981,"th"),e._uU(982,"Lateral fricative"),e.qZA(),e.TgZ(983,"th"),e._uU(984,"|"),e.qZA(),e._UZ(985,"th",23),e.TgZ(986,"th"),e._uU(987,"|"),e.qZA(),e._UZ(988,"th"),e.TgZ(989,"th",20)(990,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(991,"th",20)(992,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(993,"th"),e.TgZ(994,"th"),e._uU(995,"|"),e.qZA(),e.TgZ(996,"th")(997,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(998,"th")(999,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1e3,"th"),e._uU(1001,"|"),e.qZA(),e.TgZ(1002,"th")(1003,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1004,"th")(1005,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1006,"th"),e._uU(1007,"|"),e.qZA(),e.TgZ(1008,"th")(1009,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1010,"th")(1011,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1012,"th"),e._uU(1013,"|"),e.qZA(),e._UZ(1014,"th",23),e.TgZ(1015,"th"),e._uU(1016,"|"),e.qZA()(),e.TgZ(1017,"tr"),e._UZ(1018,"th",4),e.TgZ(1019,"th"),e._uU(1020,"+"),e.qZA(),e._UZ(1021,"th",23),e.TgZ(1022,"th"),e._uU(1023,"+"),e.qZA(),e._UZ(1024,"th",21),e.TgZ(1025,"th"),e._uU(1026,"+"),e.qZA(),e._UZ(1027,"th",11),e.TgZ(1028,"th"),e._uU(1029,"+"),e.qZA(),e._UZ(1030,"th",11),e.TgZ(1031,"th"),e._uU(1032,"+"),e.qZA(),e._UZ(1033,"th",11),e.TgZ(1034,"th"),e._uU(1035,"+"),e.qZA(),e._UZ(1036,"th",23),e.TgZ(1037,"th"),e._uU(1038,"|"),e.qZA()(),e.TgZ(1039,"tr")(1040,"th"),e._uU(1041,"Lateral affricate"),e.qZA(),e.TgZ(1042,"th"),e._uU(1043,"|"),e.qZA(),e._UZ(1044,"th",23),e.TgZ(1045,"th"),e._uU(1046,"|"),e.qZA(),e._UZ(1047,"th"),e.TgZ(1048,"th",20)(1049,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1050,"th",20)(1051,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(1052,"th"),e.TgZ(1053,"th"),e._uU(1054,"|"),e.qZA(),e.TgZ(1055,"th")(1056,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1057,"th")(1058,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1059,"th"),e._uU(1060,"|"),e.qZA(),e.TgZ(1061,"th")(1062,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1063,"th")(1064,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1065,"th"),e._uU(1066,"|"),e.qZA(),e.TgZ(1067,"th")(1068,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1069,"th")(1070,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1071,"th"),e._uU(1072,"|"),e.qZA(),e._UZ(1073,"th",23),e.TgZ(1074,"th"),e._uU(1075,"|"),e.qZA()(),e.TgZ(1076,"tr"),e._UZ(1077,"th",4),e.TgZ(1078,"th"),e._uU(1079,"+"),e.qZA(),e._UZ(1080,"th",23),e.TgZ(1081,"th"),e._uU(1082,"+"),e.qZA(),e._UZ(1083,"th",21),e.TgZ(1084,"th"),e._uU(1085,"+"),e.qZA(),e._UZ(1086,"th",11),e.TgZ(1087,"th"),e._uU(1088,"+"),e.qZA(),e._UZ(1089,"th",11),e.TgZ(1090,"th"),e._uU(1091,"+"),e.qZA(),e._UZ(1092,"th",11),e.TgZ(1093,"th"),e._uU(1094,"+"),e.qZA(),e._UZ(1095,"th",11),e.TgZ(1096,"th"),e._uU(1097,"+"),e.qZA(),e._UZ(1098,"th",10),e.TgZ(1099,"th"),e._uU(1100,"|"),e.qZA()(),e.TgZ(1101,"tr")(1102,"th"),e._uU(1103,"Ltrl approximant"),e.qZA(),e.TgZ(1104,"th"),e._uU(1105,"|"),e.qZA(),e._UZ(1106,"th",23),e.TgZ(1107,"th"),e._uU(1108,"|"),e.qZA(),e._UZ(1109,"th"),e.TgZ(1110,"th",20)(1111,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1112,"th",20)(1113,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(1114,"th"),e.TgZ(1115,"th"),e._uU(1116,"|"),e.qZA(),e.TgZ(1117,"th",13)(1118,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1119,"th"),e._uU(1120,"|"),e.qZA(),e.TgZ(1121,"th",13)(1122,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1123,"th"),e._uU(1124,"|"),e.qZA(),e.TgZ(1125,"th",13)(1126,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1127,"th"),e._uU(1128,"|"),e.qZA(),e.TgZ(1129,"th",13)(1130,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1131,"th"),e._uU(1132,"|"),e.qZA(),e._UZ(1133,"th",10),e.TgZ(1134,"th"),e._uU(1135,"|"),e.qZA()(),e.TgZ(1136,"tr"),e._UZ(1137,"th",4),e.TgZ(1138,"th"),e._uU(1139,"+"),e.qZA(),e._UZ(1140,"th",23),e.TgZ(1141,"th"),e._uU(1142,"+"),e.qZA(),e._UZ(1143,"th",21),e.TgZ(1144,"th"),e._uU(1145,"+"),e.qZA(),e._UZ(1146,"th",11),e.TgZ(1147,"th"),e._uU(1148,"+"),e.qZA(),e._UZ(1149,"th",11),e.TgZ(1150,"th"),e._uU(1151,"+"),e.qZA(),e._UZ(1152,"th",11),e.TgZ(1153,"th"),e._uU(1154,"+"),e.qZA(),e._UZ(1155,"th",11),e.TgZ(1156,"th"),e._uU(1157,"+"),e.qZA(),e._UZ(1158,"th",10),e.TgZ(1159,"th"),e._uU(1160,"|"),e.qZA()(),e.TgZ(1161,"tr")(1162,"th"),e._uU(1163,"Lateral tap/flap"),e.qZA(),e.TgZ(1164,"th"),e._uU(1165,"|"),e.qZA(),e._UZ(1166,"th",23),e.TgZ(1167,"th"),e._uU(1168,"|"),e.qZA(),e._UZ(1169,"th"),e.TgZ(1170,"th",20)(1171,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1172,"th",20)(1173,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(1174,"th"),e.TgZ(1175,"th"),e._uU(1176,"|"),e.qZA(),e.TgZ(1177,"th")(1178,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1179,"th")(1180,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1181,"th"),e._uU(1182,"|"),e.qZA(),e.TgZ(1183,"th",13)(1184,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1185,"th"),e._uU(1186,"|"),e.qZA(),e.TgZ(1187,"th",13)(1188,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1189,"th"),e._uU(1190,"|"),e.qZA(),e._UZ(1191,"th",23),e.TgZ(1192,"th"),e._uU(1193,"|"),e.qZA()(),e.TgZ(1194,"tr"),e._UZ(1195,"th",25),e.TgZ(1196,"th"),e._uU(1197,"+"),e.qZA()(),e.TgZ(1198,"tr")(1199,"th",3),e._uU(1200," --- CO-ARTICULATED CONSONANTS --- "),e.qZA(),e.TgZ(1201,"th"),e._uU(1202,"|"),e.qZA()(),e.TgZ(1203,"tr"),e._UZ(1204,"th",4),e.TgZ(1205,"th"),e._uU(1206,"+"),e.qZA(),e._UZ(1207,"th",5),e.TgZ(1208,"th"),e._uU(1209,"+"),e.qZA()(),e.TgZ(1210,"tr")(1211,"th"),e._uU(1212,"Nasal"),e.qZA(),e.TgZ(1213,"th"),e._uU(1214,"|"),e.qZA(),e.TgZ(1215,"th",26),e._uU(1216," Labial\u2013alveolar "),e.TgZ(1217,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(1218,", Labial\u2013velar "),e.TgZ(1219,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1220,"th"),e._uU(1221,"|"),e.qZA()(),e.TgZ(1222,"tr"),e._UZ(1223,"th",4),e.TgZ(1224,"th"),e._uU(1225,"+"),e.qZA(),e._UZ(1226,"th",5),e.TgZ(1227,"th"),e._uU(1228,"+"),e.qZA()(),e.TgZ(1229,"tr")(1230,"th"),e._uU(1231,"Plosive"),e.qZA(),e.TgZ(1232,"th"),e._uU(1233,"|"),e.qZA(),e.TgZ(1234,"th",26),e._uU(1235," Labial\u2013alveolar "),e.TgZ(1236,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(1237),e.TgZ(1238,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(1239,", Labial\u2013velar "),e.TgZ(1240,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(1241),e.TgZ(1242,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(1243,", Uvular\u2013epiglottal "),e.TgZ(1244,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e._uU(1245),e.qZA()(),e.TgZ(1246,"th"),e._uU(1247,"|"),e.qZA()(),e.TgZ(1248,"tr"),e._UZ(1249,"th",4),e.TgZ(1250,"th"),e._uU(1251,"+"),e.qZA(),e._UZ(1252,"th",5),e.TgZ(1253,"th"),e._uU(1254,"+"),e.qZA()(),e.TgZ(1255,"tr")(1256,"th"),e._uU(1257,"Fricative/appr."),e.qZA(),e.TgZ(1258,"th"),e._uU(1259,"|"),e.qZA(),e.TgZ(1260,"th",26),e._uU(1261," Labial\u2013palatal "),e.TgZ(1262,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(1263),e.TgZ(1264,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(1265,", Labial\u2013velar "),e.TgZ(1266,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(1267),e.TgZ(1268,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(1269,", Sj-sound "),e.TgZ(1270,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1271,"th"),e._uU(1272,"|"),e.qZA()(),e.TgZ(1273,"tr"),e._UZ(1274,"th",4),e.TgZ(1275,"th"),e._uU(1276,"+"),e.qZA(),e._UZ(1277,"th",5),e.TgZ(1278,"th"),e._uU(1279,"+"),e.qZA()(),e.TgZ(1280,"tr")(1281,"th"),e._uU(1282,"Lateral appr."),e.qZA(),e.TgZ(1283,"th"),e._uU(1284,"|"),e.qZA(),e.TgZ(1285,"th",26),e._uU(1286,"Velarized alveolar "),e.TgZ(1287,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1288,"th"),e._uU(1289,"|"),e.qZA()(),e.TgZ(1290,"tr"),e._UZ(1291,"th",25),e.TgZ(1292,"th"),e._uU(1293,"+"),e.qZA()()()()),2&t&&(e.xp6(218),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","m\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","m"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0271"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","n\u033c"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","n\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","n"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0273\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0273"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0272\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0272"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u014b\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u014b"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0274"),e.xp6(46),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","p"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","b"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","p\u032a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","b\u032a"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u033c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u033c"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0288"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0256"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u025f"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","k"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0261"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","q"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0262"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a1"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0294"),e.xp6(49),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","s"),e.xp6(3),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","z"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0283"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0292"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0282"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0290"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0255"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0291"),e.xp6(37),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a6"),e.xp6(3),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a3"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0288\u0361\u0282"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0256\u0361\u0290"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a8"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a5"),e.xp6(52),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0278"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03b2"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","f"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","v"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03b8\u033c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\xf0\u033c"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03b8"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\xf0"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03b8\u0320"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\xf0\u0320"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0279\u0320\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0279\u0320\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027b\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\xe7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","x"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0263"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03c7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0281"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0127"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0295"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","h"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0266"),e.xp6(49),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","p\u0361\u0278"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","b\u0361\u03b2"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","p\u032a\u0361f"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","b\u032a\u0361v"),e.xp6(8),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u032a\u0361\u03b8"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u032a\u0361\xf0"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u0361\u0279\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u0361\u0279\u031d\u0320"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u0320\u0361\u0279\u0320\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u0320\u0361\u0279\u0320\u02d4"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","c\u0361\xe7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u025f\u0361\u029d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","k\u0361x"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0261\u0361\u0263"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","q\u0361\u03c7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0262\u0361\u0281"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a1\u0361\u02a2"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0294\u0361h"),e.xp6(52),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028b"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0279"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027b"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","j"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0270"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0294\u031e"),e.xp6(43),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u2c71\u031f"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u2c71"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027e\u033c"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027e\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027e"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027d"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0262\u0306"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a1\u0306"),e.xp6(43),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0299\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0299"),e.xp6(8),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","r\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","r"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027d\u030ar\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027dr"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0280\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0280"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a2"),e.xp6(47),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026e"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028e\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028e\u031d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f\u031d"),e.xp6(38),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u0361\u026c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u0361\u026e"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0288\u0361\u026d\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0256\u0361\u026d\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","c\u0361\u028e\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u025f\u0361\u028e\u031d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","k\u0361\u029f\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0261\u0361\u029f\u031d"),e.xp6(41),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","l\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","l"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028e"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f\u0320"),e.xp6(41),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027a\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027a"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d\u0325\u0306"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d\u0306"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028e\u0306\u031d\u030a"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f\u0306"),e.xp6(29),e.Q6J("languageSounds",o.languageSounds)("phonetic","n\u0361m"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u0361m"),e.xp6(17),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u0361p"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",o.languageSounds)("phonetic","d\u0361b"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u0361p"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u0361b"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u0361\u02a1"),e.xp6(1),e.Oqu(" "),e.xp6(17),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0265\u030a"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0265"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u028d"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",o.languageSounds)("phonetic","w"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0267"),e.xp6(17),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u026b"))},dependencies:[pn,qu]}),r})();function w1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"app-phonetic-btn",29),e.NdJ("onClick",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.clicked(i))}),e.qZA()()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(1),e.hij("",o>0?", ":""," "),e.xp6(1),e.Q6J("languageSounds",i.languageSounds)("phonetic",t)}}let b1=(()=>{class r{constructor(){this.onClick=new e.vpe}ngOnInit(){}clicked(t){this.onClick.emit(t)}getRestPhonemes(){var t;if(this.languageSounds&&this.languageSounds.restUsedPhonemes){const o=this.languageSounds.restUsedPhonemes.concat([]);return null===(t=this.languageSounds.selectedRestPhonemes)||void 0===t||t.forEach(i=>{i.phoneme&&o.push(i.phoneme)}),o.sort().filter(i=>""!==i.trim()).filter(i=>i.includes("\u032f")).filter((i,a,d)=>d.indexOf(i)===a)}return[]}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-vowels"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},decls:373,vars:100,consts:[["span","1",2,"width","auto"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","5%"],["span","1",1,"border",2,"width","25px"],["span","1",2,"width","15%"],["colspan","37"],["app-horizontal-dash",""],["app-horizontal-dash","","colspan","35"],[2,"text-align","right"],["colspan","5"],["colspan","3"],["colspan","12"],["colspan","1"],[3,"vowel","languageSounds","phonetic","onClick"],["colspan","5","app-horizontal-dash",""],["colspan","9","app-horizontal-dash",""],["colspan","4"],["colspan","11"],["colspan","14"],["colspan","9"],["colspan","6"],["colspan","8"],["colspan","10"],["colspan","7"],["colspan","3","app-horizontal-dash",""],["colspan","13"],["colspan","1","app-horizontal-dash",""],["colspan","35"],[4,"ngFor","ngForOf"],[3,"languageSounds","phonetic","onClick"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",3)(7,"col",3)(8,"col",3)(9,"col",3)(10,"col",3)(11,"col",3)(12,"col",3)(13,"col",3)(14,"col",3)(15,"col",3)(16,"col",3)(17,"col",3)(18,"col",3)(19,"col",3)(20,"col",3)(21,"col",3)(22,"col",3)(23,"col",3)(24,"col",3)(25,"col",3)(26,"col",3)(27,"col",3)(28,"col",3)(29,"col",3)(30,"col",3)(31,"col",3)(32,"col",3)(33,"col",3)(34,"col",3)(35,"col",3)(36,"col",3)(37,"col",3)(38,"col",4)(39,"col",1),e.qZA(),e.TgZ(40,"tbody")(41,"tr")(42,"th",5),e._uU(43," --- VOWELS --- "),e.qZA(),e.TgZ(44,"th"),e._uU(45,"|"),e.qZA()(),e.TgZ(46,"tr"),e._UZ(47,"th",6),e.TgZ(48,"th"),e._uU(49,"+"),e.qZA(),e._UZ(50,"th",7),e.TgZ(51,"th"),e._uU(52,"+"),e.qZA()(),e.TgZ(53,"tr"),e._UZ(54,"th",8),e.TgZ(55,"th"),e._uU(56,"|"),e.qZA(),e._UZ(57,"th"),e.TgZ(58,"th",9),e._uU(59,"Front"),e.qZA(),e._UZ(60,"th",10),e.TgZ(61,"th"),e._uU(62,"|"),e.qZA(),e.TgZ(63,"th",11),e._uU(64,"Central"),e.qZA(),e._UZ(65,"th",12),e.TgZ(66,"th"),e._uU(67,"|"),e.qZA(),e._UZ(68,"th",9),e.TgZ(69,"th",9),e._uU(70,"Back"),e.qZA(),e._UZ(71,"th"),e.TgZ(72,"th"),e._uU(73,"|"),e.qZA()(),e.TgZ(74,"tr"),e._UZ(75,"th",6),e.TgZ(76,"th"),e._uU(77,"+"),e.qZA(),e._UZ(78,"th",7),e.TgZ(79,"th"),e._uU(80,"+"),e.qZA()(),e.TgZ(81,"tr")(82,"th"),e._uU(83,"Close"),e.qZA(),e.TgZ(84,"th"),e._uU(85,"|"),e.qZA(),e._UZ(86,"th"),e.TgZ(87,"th",9)(88,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(89," * "),e.TgZ(90,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(91,"th")(92,"th",14)(93,"th"),e.TgZ(94,"th",9)(95,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(96," * "),e.TgZ(97,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(98,"th")(99,"th",15)(100,"th"),e.TgZ(101,"th",9)(102,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(103," * "),e.TgZ(104,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(105,"th"),e.TgZ(106,"th"),e._uU(107,"|"),e.qZA()(),e.TgZ(108,"tr"),e._UZ(109,"th",6),e.TgZ(110,"th"),e._uU(111,"+"),e.qZA(),e._UZ(112,"th",16),e.TgZ(113,"th"),e._uU(114,"\\"),e.qZA(),e._UZ(115,"th",17),e.TgZ(116,"th"),e._uU(117,"\\"),e.qZA(),e._UZ(118,"th",18),e.TgZ(119,"th"),e._uU(120,"|"),e.qZA(),e._UZ(121,"th",10),e.TgZ(122,"th"),e._uU(123,"|"),e.qZA()(),e.TgZ(124,"tr")(125,"th"),e._uU(126,"Near-close"),e.qZA(),e.TgZ(127,"th"),e._uU(128,"|"),e.qZA(),e._UZ(129,"th",9),e.TgZ(130,"th"),e._uU(131,"\\"),e.qZA(),e._UZ(132,"th"),e.TgZ(133,"th",9)(134,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(135," * "),e.TgZ(136,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(137,"th",9),e.TgZ(138,"th"),e._uU(139,"\\"),e.qZA(),e._UZ(140,"th",19),e.TgZ(141,"th",10),e._uU(142,"* "),e.TgZ(143,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(144,"th"),e.TgZ(145,"th"),e._uU(146,"|"),e.qZA(),e._UZ(147,"th",10),e.TgZ(148,"th"),e._uU(149,"|"),e.qZA()(),e.TgZ(150,"tr"),e._UZ(151,"th",6),e.TgZ(152,"th"),e._uU(153,"+"),e.qZA(),e._UZ(154,"th",20),e.TgZ(155,"th"),e._uU(156,"\\"),e.qZA(),e._UZ(157,"th",17),e.TgZ(158,"th"),e._uU(159,"\\"),e.qZA(),e._UZ(160,"th",11),e.TgZ(161,"th"),e._uU(162,"|"),e.qZA(),e._UZ(163,"th",10),e.TgZ(164,"th"),e._uU(165,"|"),e.qZA()(),e.TgZ(166,"tr")(167,"th"),e._uU(168,"Close-mid"),e.qZA(),e.TgZ(169,"th"),e._uU(170,"|"),e.qZA(),e._UZ(171,"th",9),e.TgZ(172,"th",9)(173,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(174," * "),e.TgZ(175,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(176,"th")(177,"th",14)(178,"th"),e.TgZ(179,"th",9)(180,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(181," * "),e.TgZ(182,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(183,"th")(184,"th",14)(185,"th"),e.TgZ(186,"th",9)(187,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(188," * "),e.TgZ(189,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(190,"th"),e.TgZ(191,"th"),e._uU(192,"|"),e.qZA()(),e.TgZ(193,"tr"),e._UZ(194,"th",6),e.TgZ(195,"th"),e._uU(196,"+"),e.qZA(),e._UZ(197,"th",21),e.TgZ(198,"th"),e._uU(199,"\\"),e.qZA(),e._UZ(200,"th",22),e.TgZ(201,"th"),e._uU(202,"\\"),e.qZA(),e._UZ(203,"th",17),e.TgZ(204,"th"),e._uU(205,"|"),e.qZA(),e._UZ(206,"th",10),e.TgZ(207,"th"),e._uU(208,"|"),e.qZA()(),e.TgZ(209,"tr")(210,"th"),e._uU(211,"Mid"),e.qZA(),e.TgZ(212,"th"),e._uU(213,"|"),e.qZA(),e._UZ(214,"th",23),e.TgZ(215,"th",9)(216,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(217," * "),e.TgZ(218,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(219,"th")(220,"th",20),e.TgZ(221,"th",10)(222,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(223,"th",20)(224,"th"),e.TgZ(225,"th",9)(226,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(227," * "),e.TgZ(228,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(229,"th"),e.TgZ(230,"th"),e._uU(231,"|"),e.qZA()(),e.TgZ(232,"tr"),e._UZ(233,"th",6),e.TgZ(234,"th"),e._uU(235,"+"),e.qZA(),e._UZ(236,"th",22),e.TgZ(237,"th"),e._uU(238,"\\"),e.qZA(),e._UZ(239,"th",19),e.TgZ(240,"th"),e._uU(241,"\\"),e.qZA(),e._UZ(242,"th",22),e.TgZ(243,"th"),e._uU(244,"|"),e.qZA(),e._UZ(245,"th",10),e.TgZ(246,"th"),e._uU(247,"|"),e.qZA()(),e.TgZ(248,"tr")(249,"th"),e._uU(250,"Open-mid"),e.qZA(),e.TgZ(251,"th"),e._uU(252,"|"),e.qZA(),e._UZ(253,"th",19),e.TgZ(254,"th",9)(255,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(256," * "),e.TgZ(257,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(258,"th")(259,"th",24)(260,"th"),e.TgZ(261,"th",9)(262,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(263," * "),e.TgZ(264,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(265,"th")(266,"th",24)(267,"th"),e.TgZ(268,"th",9)(269,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(270," * "),e.TgZ(271,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(272,"th"),e.TgZ(273,"th"),e._uU(274,"|"),e.qZA()(),e.TgZ(275,"tr"),e._UZ(276,"th",6),e.TgZ(277,"th"),e._uU(278,"+"),e.qZA(),e._UZ(279,"th",11),e.TgZ(280,"th"),e._uU(281,"\\"),e.qZA(),e._UZ(282,"th",21),e.TgZ(283,"th"),e._uU(284,"\\"),e.qZA(),e._UZ(285,"th",19),e.TgZ(286,"th"),e._uU(287,"|"),e.qZA(),e._UZ(288,"th",10),e.TgZ(289,"th"),e._uU(290,"|"),e.qZA()(),e.TgZ(291,"tr")(292,"th"),e._uU(293,"Near-open"),e.qZA(),e.TgZ(294,"th"),e._uU(295,"|"),e.qZA(),e._UZ(296,"th",17),e.TgZ(297,"th",10)(298,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(299," *"),e.qZA(),e._UZ(300,"th",23),e.TgZ(301,"th",10)(302,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(303,"th",23),e.TgZ(304,"th"),e._uU(305,"|"),e.qZA(),e._UZ(306,"th",10),e.TgZ(307,"th"),e._uU(308,"|"),e.qZA()(),e.TgZ(309,"tr"),e._UZ(310,"th",6),e.TgZ(311,"th"),e._uU(312,"+"),e.qZA(),e._UZ(313,"th",18),e.TgZ(314,"th"),e._uU(315,"\\"),e.qZA(),e._UZ(316,"th",23),e.TgZ(317,"th"),e._uU(318,"\\"),e.qZA(),e._UZ(319,"th",21),e.TgZ(320,"th"),e._uU(321,"|"),e.qZA(),e._UZ(322,"th",10),e.TgZ(323,"th"),e._uU(324,"|"),e.qZA()(),e.TgZ(325,"tr")(326,"th"),e._uU(327,"Open"),e.qZA(),e.TgZ(328,"th"),e._uU(329,"|"),e.qZA(),e._UZ(330,"th",25),e.TgZ(331,"th",9)(332,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(333," * "),e.TgZ(334,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(335,"th")(336,"th",26)(337,"th"),e.TgZ(338,"th",16)(339,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(340," * "),e.qZA(),e._UZ(341,"th",24)(342,"th"),e.TgZ(343,"th",9)(344,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(345," * "),e.TgZ(346,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(347,"th"),e.TgZ(348,"th"),e._uU(349,"|"),e.qZA()(),e.TgZ(350,"tr"),e._UZ(351,"th",6),e.TgZ(352,"th"),e._uU(353,"+"),e.qZA(),e._UZ(354,"th",7),e.TgZ(355,"th"),e._uU(356,"+"),e.qZA()(),e.TgZ(357,"tr")(358,"th"),e._uU(359,"Gliding"),e.qZA(),e.TgZ(360,"th"),e._uU(361,"|"),e.qZA(),e.TgZ(362,"th",27),e.YNc(363,w1,3,3,"span",28),e.qZA(),e.TgZ(364,"th"),e._uU(365,"|"),e.qZA()(),e.TgZ(366,"tr"),e._UZ(367,"th",6),e.TgZ(368,"th"),e._uU(369,"+"),e.qZA(),e._UZ(370,"th",7),e.TgZ(371,"th"),e._uU(372,"+"),e.qZA()()()()),2&t&&(e.xp6(88),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","i"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","y"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0268"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0289"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u026f"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","u"),e.xp6(30),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u026a"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u028f"),e.xp6(7),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u028a"),e.xp6(30),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","e"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\xf8"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0258"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0275"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0264"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","o"),e.xp6(27),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","e\u031e"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\xf8\u031e"),e.xp6(4),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0259"),e.xp6(4),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0264\u031e"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","o\u031e"),e.xp6(27),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u025b"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0153"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u025c"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u025e"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u028c"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0254"),e.xp6(27),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\xe6"),e.xp6(4),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0250"),e.xp6(30),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","a"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0276"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\xe4"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0251"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0252"),e.xp6(17),e.Q6J("ngForOf",o.getRestPhonemes()))},dependencies:[ot,pn,qu]}),r})();function Lm(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"app-phonetic-btn",11),e.NdJ("onClick",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.clicked(i))}),e.qZA()()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(1),e.hij("",o>0?", ":""," "),e.xp6(1),e.Q6J("languageSounds",i.languageSounds)("phonetic",t)}}function A1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addNewSound())}),e._uU(1,"[ + ]"),e.qZA()}}function I1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"[ + ]"),e.qZA())}let Fm=(()=>{class r{constructor(t){this.formBuilder=t,this.onClick=new e.vpe,this.soundForm=new $e({newSound:new ui("",yr.required)})}ngOnInit(){}clicked(t){this.onClick.emit(t)}getRestPhonemes(){var t;if(this.languageSounds&&this.languageSounds.restUsedPhonemes){const o=this.languageSounds.restUsedPhonemes.concat([]);return null===(t=this.languageSounds.selectedRestPhonemes)||void 0===t||t.forEach(i=>{i.phoneme&&o.push(i.phoneme)}),o.sort().filter(i=>""!==i.trim()).filter(i=>!i.includes("\u032f")).filter((i,a,d)=>d.indexOf(i)===a)}return[]}addNewSound(){this.onClick.emit(this.soundForm.value.newSound?this.soundForm.value.newSound:void 0),this.soundForm.reset()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(x_))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-other-phonemes"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},decls:40,vars:4,consts:[["span","1",2,"width","70px"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["colspan","3"],["app-horizontal-dash","","colspan","3"],[4,"ngFor","ngForOf"],["class","text-green-dull",3,"click",4,"ngIf"],[4,"ngIf"],[2,"text-align","left"],[3,"formGroup","ngSubmit"],["formControlName","newSound","type","text",2,"margin-left","16px"],[3,"languageSounds","phonetic","onClick"],[1,"text-green-dull",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",1),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",3),e._uU(9," --- OTHER PHONEMES --- "),e.qZA(),e.TgZ(10,"th"),e._uU(11,"|"),e.qZA()(),e.TgZ(12,"tr"),e._UZ(13,"th",4),e.TgZ(14,"th"),e._uU(15,"+"),e.qZA()(),e.TgZ(16,"tr")(17,"th",3),e.YNc(18,Lm,3,3,"span",5),e.qZA(),e.TgZ(19,"th"),e._uU(20,"|"),e.qZA()(),e.TgZ(21,"tr"),e._UZ(22,"th",4),e.TgZ(23,"th"),e._uU(24,"+"),e.qZA()(),e.TgZ(25,"tr")(26,"th"),e.YNc(27,A1,2,0,"a",6),e.YNc(28,I1,2,0,"span",7),e.qZA(),e.TgZ(29,"th"),e._uU(30,"|"),e.qZA(),e.TgZ(31,"th",8)(32,"form",9),e.NdJ("ngSubmit",function(){return o.addNewSound()}),e._UZ(33,"input",10),e.qZA()(),e.TgZ(34,"th"),e._uU(35,"|"),e.qZA()(),e.TgZ(36,"tr"),e._UZ(37,"th",4),e.TgZ(38,"th"),e._uU(39,"+"),e.qZA()()()()),2&t&&(e.xp6(18),e.Q6J("ngForOf",o.getRestPhonemes()),e.xp6(9),e.Q6J("ngIf",o.soundForm.valid),e.xp6(1),e.Q6J("ngIf",!o.soundForm.valid),e.xp6(4),e.Q6J("formGroup",o.soundForm))},dependencies:[ot,pt,Pi,Nn,En,ai,_,ft,pn,qu]}),r})(),E1=(()=>{class r{constructor(t,o){this.cdRef=t,this.languagesService=o,this.onClick=new e.vpe}ngOnInit(){}ngOnChanges(t){console.log("pulmonic consonants changes",t)}clicked(t){this.onClick.emit(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(vs))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-non-pulmonic-consonants"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},features:[e.TTD],decls:913,vars:150,consts:[["span","1",2,"width","79px"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","3.489228732%"],["colspan","33"],["app-horizontal-dash","","colspan","3"],["app-horizontal-dash","","colspan","29"],["colspan","3",2,"text-align","right"],["colspan","5"],["colspan","12"],["colspan","7"],["colspan","2"],["colspan","3"],["colspan","2","app-horizontal-dash",""],["colspan","3",2,"text-align","left"],["title","Labio-dental"],["title","Post-alveolar"],["title","Retro-flex"],["title","Pharyngeal/Epi-glottal"],["app-horizontal-dash",""],["rowspan","9"],[3,"languageSounds","phonetic","onClick"],["colspan","8"],["colspan","8","app-horizontal-dash",""],["colspan","14"],["colspan","5","app-horizontal-dash",""],["rowspan","11"],["app-horizontal-dash","","colspan","33"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",1)(6,"col",3)(7,"col",3)(8,"col",1)(9,"col",3)(10,"col",3)(11,"col",1)(12,"col",3)(13,"col",3)(14,"col",1)(15,"col",3)(16,"col",3)(17,"col",1)(18,"col",3)(19,"col",3)(20,"col",1)(21,"col",3)(22,"col",3)(23,"col",1)(24,"col",3)(25,"col",3)(26,"col",1)(27,"col",3)(28,"col",3)(29,"col",1)(30,"col",3)(31,"col",3)(32,"col",1)(33,"col",3)(34,"col",3)(35,"col",1),e.qZA(),e.TgZ(36,"tbody")(37,"tr")(38,"th",4),e._uU(39," --- NON-PLUMONIC CONSONANTS --- "),e.qZA(),e.TgZ(40,"th"),e._uU(41,"|"),e.qZA()(),e.TgZ(42,"tr"),e._UZ(43,"th",5),e.TgZ(44,"th"),e._uU(45,"+"),e.qZA(),e._UZ(46,"th",6),e.TgZ(47,"th"),e._uU(48,"+"),e.qZA()(),e.TgZ(49,"tr")(50,"th",7),e._uU(51,"Place"),e.qZA(),e.TgZ(52,"th"),e._uU(53,"|"),e.qZA(),e.TgZ(54,"th",8),e._uU(55,"Labial"),e.qZA(),e.TgZ(56,"th"),e._uU(57,"|"),e.qZA(),e.TgZ(58,"th",9),e._uU(59,"Coronal"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"|"),e.qZA(),e.TgZ(62,"th",10),e._uU(63,"Dorsal"),e.qZA(),e.TgZ(64,"th"),e._uU(65,"|"),e.qZA(),e.TgZ(66,"th",11),e._uU(67,"Laryngeal"),e.qZA(),e.TgZ(68,"th"),e._uU(69,"|"),e.qZA()(),e.TgZ(70,"tr"),e._UZ(71,"th",12),e.TgZ(72,"th"),e._uU(73,"|"),e.qZA(),e._UZ(74,"th",13),e.TgZ(75,"th"),e._uU(76,"+"),e.qZA(),e._UZ(77,"th",13),e.TgZ(78,"th"),e._uU(79,"+"),e.qZA(),e._UZ(80,"th",13),e.TgZ(81,"th"),e._uU(82,"+"),e.qZA(),e._UZ(83,"th",13),e.TgZ(84,"th"),e._uU(85,"+"),e.qZA(),e._UZ(86,"th",13),e.TgZ(87,"th"),e._uU(88,"+"),e.qZA(),e._UZ(89,"th",13),e.TgZ(90,"th"),e._uU(91,"+"),e.qZA(),e._UZ(92,"th",13),e.TgZ(93,"th"),e._uU(94,"+"),e.qZA(),e._UZ(95,"th",13),e.TgZ(96,"th"),e._uU(97,"+"),e.qZA(),e._UZ(98,"th",13),e.TgZ(99,"th"),e._uU(100,"+"),e.qZA(),e._UZ(101,"th",13),e.TgZ(102,"th"),e._uU(103,"+"),e.qZA()(),e.TgZ(104,"tr")(105,"th",14),e._uU(106,"Manner"),e.qZA(),e.TgZ(107,"th"),e._uU(108,"|"),e.qZA(),e.TgZ(109,"th",11),e._uU(110,"Bilabial"),e.qZA(),e.TgZ(111,"th"),e._uU(112,"|"),e.qZA(),e.TgZ(113,"th",11)(114,"abbr",15),e._uU(115,"LD"),e.qZA()(),e.TgZ(116,"th"),e._uU(117,"|"),e.qZA(),e.TgZ(118,"th",11),e._uU(119,"Dental"),e.qZA(),e.TgZ(120,"th"),e._uU(121,"|"),e.qZA(),e.TgZ(122,"th",11),e._uU(123,"Alveolar"),e.qZA(),e.TgZ(124,"th"),e._uU(125,"|"),e.qZA(),e.TgZ(126,"th",11)(127,"abbr",16),e._uU(128,"PA"),e.qZA()(),e.TgZ(129,"th"),e._uU(130,"|"),e.qZA(),e.TgZ(131,"th",11)(132,"abbr",17),e._uU(133,"RF"),e.qZA()(),e.TgZ(134,"th"),e._uU(135,"|"),e.qZA(),e.TgZ(136,"th",11),e._uU(137,"Palatal"),e.qZA(),e.TgZ(138,"th"),e._uU(139,"|"),e.qZA(),e.TgZ(140,"th",11),e._uU(141,"Velar"),e.qZA(),e.TgZ(142,"th"),e._uU(143,"|"),e.qZA(),e.TgZ(144,"th",11),e._uU(145,"Uvular"),e.qZA(),e.TgZ(146,"th"),e._uU(147,"|"),e.qZA(),e.TgZ(148,"th",11)(149,"abbr",18),e._uU(150,"P/EG"),e.qZA()(),e.TgZ(151,"th"),e._uU(152,"|"),e.qZA()(),e.TgZ(153,"tr"),e._UZ(154,"th",19),e.TgZ(155,"th"),e._uU(156,"+"),e.qZA(),e._UZ(157,"th",19),e.TgZ(158,"th"),e._uU(159,"+"),e.qZA(),e._UZ(160,"th",13),e.TgZ(161,"th"),e._uU(162,"+"),e.qZA(),e._UZ(163,"th",13),e.TgZ(164,"th"),e._uU(165,"+"),e.qZA(),e._UZ(166,"th",13),e.TgZ(167,"th"),e._uU(168,"+"),e.qZA(),e._UZ(169,"th",13),e.TgZ(170,"th"),e._uU(171,"+"),e.qZA(),e._UZ(172,"th",13),e.TgZ(173,"th"),e._uU(174,"+"),e.qZA(),e._UZ(175,"th",13),e.TgZ(176,"th"),e._uU(177,"+"),e.qZA(),e._UZ(178,"th",13),e.TgZ(179,"th"),e._uU(180,"+"),e.qZA(),e._UZ(181,"th",13),e.TgZ(182,"th"),e._uU(183,"+"),e.qZA(),e._UZ(184,"th",13),e.TgZ(185,"th"),e._uU(186,"+"),e.qZA(),e._UZ(187,"th",13),e.TgZ(188,"th"),e._uU(189,"+"),e.qZA()(),e.TgZ(190,"tr")(191,"th",20),e._uU(192,"Ejective"),e.qZA(),e.TgZ(193,"th",20),e._uU(194,"|"),e._UZ(195,"br"),e._uU(196,"|"),e._UZ(197,"br"),e._uU(198,"|"),e._UZ(199,"br"),e._uU(200,"|"),e._UZ(201,"br"),e._uU(202,"|"),e._UZ(203,"br"),e._uU(204,"|"),e._UZ(205,"br"),e._uU(206,"|"),e._UZ(207,"br"),e._uU(208,"|"),e._UZ(209,"br"),e._uU(210,"|"),e._UZ(211,"br"),e._uU(212,"|"),e._UZ(213,"br"),e._uU(214,"|"),e.qZA(),e.TgZ(215,"th"),e._uU(216,"Plosive"),e.qZA(),e.TgZ(217,"th"),e._uU(218,"|"),e.qZA(),e.TgZ(219,"th",11)(220,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(221,"th"),e._uU(222,"|"),e.qZA(),e._UZ(223,"th",11),e.TgZ(224,"th"),e._uU(225,"|"),e.qZA(),e.TgZ(226,"th",22)(227,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(228,"th"),e._uU(229,"|"),e.qZA(),e.TgZ(230,"th",11)(231,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(232,"th"),e._uU(233,"|"),e.qZA(),e.TgZ(234,"th",11)(235,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(236,"th"),e._uU(237,"|"),e.qZA(),e.TgZ(238,"th",11)(239,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(240,"th"),e._uU(241,"|"),e.qZA(),e.TgZ(242,"th",11)(243,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(244,"th"),e._uU(245,"|"),e.qZA(),e.TgZ(246,"th",11)(247,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(248,"th"),e._uU(249,"|"),e.qZA()(),e.TgZ(250,"tr"),e._UZ(251,"th",19),e.TgZ(252,"th"),e._uU(253,"+"),e.qZA(),e._UZ(254,"th",13),e.TgZ(255,"th"),e._uU(256,"+"),e.qZA(),e._UZ(257,"th",11),e.TgZ(258,"th"),e._uU(259,"+"),e.qZA(),e._UZ(260,"th",13),e.TgZ(261,"th"),e._uU(262,"+"),e.qZA(),e._UZ(263,"th",13),e.TgZ(264,"th"),e._uU(265,"+"),e.qZA(),e._UZ(266,"th",13),e.TgZ(267,"th"),e._uU(268,"+"),e.qZA(),e._UZ(269,"th",13),e.TgZ(270,"th"),e._uU(271,"+"),e.qZA(),e._UZ(272,"th",13),e.TgZ(273,"th"),e._uU(274,"+"),e.qZA(),e._UZ(275,"th",13),e.TgZ(276,"th"),e._uU(277,"+"),e.qZA(),e._UZ(278,"th",13),e.TgZ(279,"th"),e._uU(280,"+"),e.qZA(),e._UZ(281,"th",13),e.TgZ(282,"th"),e._uU(283,"+"),e.qZA()(),e.TgZ(284,"tr")(285,"th"),e._uU(286,"Affricate"),e.qZA(),e.TgZ(287,"th"),e._uU(288,"|"),e.qZA(),e._UZ(289,"th",8),e.TgZ(290,"th"),e._uU(291,"|"),e.qZA(),e.TgZ(292,"th",11)(293,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(294,"th"),e._uU(295,"|"),e.qZA(),e.TgZ(296,"th",11)(297,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(298,"th"),e._uU(299,"|"),e.qZA(),e.TgZ(300,"th",11)(301,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(302,"th"),e._uU(303,"|"),e.qZA(),e.TgZ(304,"th",11)(305,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(306,"th"),e._uU(307,"|"),e.qZA(),e._UZ(308,"th",11),e.TgZ(309,"th"),e._uU(310,"|"),e.qZA(),e.TgZ(311,"th",11)(312,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(313,"th"),e._uU(314,"|"),e.qZA(),e.TgZ(315,"th",11)(316,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(317,"th"),e._uU(318,"|"),e.qZA(),e._UZ(319,"th",11),e.TgZ(320,"th"),e._uU(321,"|"),e.qZA()(),e.TgZ(322,"tr"),e._UZ(323,"th",19),e.TgZ(324,"th"),e._uU(325,"+"),e.qZA(),e._UZ(326,"th",13),e.TgZ(327,"th"),e._uU(328,"+"),e.qZA(),e._UZ(329,"th",13),e.TgZ(330,"th"),e._uU(331,"+"),e.qZA(),e._UZ(332,"th",13),e.TgZ(333,"th"),e._uU(334,"+"),e.qZA(),e._UZ(335,"th",13),e.TgZ(336,"th"),e._uU(337,"+"),e.qZA(),e._UZ(338,"th",13),e.TgZ(339,"th"),e._uU(340,"+"),e.qZA(),e._UZ(341,"th",13),e.TgZ(342,"th"),e._uU(343,"+"),e.qZA(),e._UZ(344,"th",13),e.TgZ(345,"th"),e._uU(346,"+"),e.qZA(),e._UZ(347,"th",13),e.TgZ(348,"th"),e._uU(349,"+"),e.qZA(),e._UZ(350,"th",13),e.TgZ(351,"th"),e._uU(352,"+"),e.qZA(),e._UZ(353,"th",11),e.TgZ(354,"th"),e._uU(355,"|"),e.qZA()(),e.TgZ(356,"tr")(357,"th"),e._uU(358,"Fricative"),e.qZA(),e.TgZ(359,"th"),e._uU(360,"|"),e.qZA(),e.TgZ(361,"th",11)(362,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(363,"th"),e._uU(364,"|"),e.qZA(),e.TgZ(365,"th",11)(366,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(367,"th"),e._uU(368,"|"),e.qZA(),e.TgZ(369,"th",11)(370,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(371,"th"),e._uU(372,"|"),e.qZA(),e.TgZ(373,"th",11)(374,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(375,"th"),e._uU(376,"|"),e.qZA(),e.TgZ(377,"th",11)(378,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(379,"th"),e._uU(380,"|"),e.qZA(),e.TgZ(381,"th",11)(382,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(383,"th"),e._uU(384,"|"),e.qZA(),e.TgZ(385,"th",11)(386,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(387,"th"),e._uU(388,"|"),e.qZA(),e.TgZ(389,"th",11)(390,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(391,"th"),e._uU(392,"|"),e.qZA(),e.TgZ(393,"th",11)(394,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(395,"th"),e._uU(396,"|"),e.qZA(),e._UZ(397,"th",11),e.TgZ(398,"th"),e._uU(399,"|"),e.qZA()(),e.TgZ(400,"tr"),e._UZ(401,"th",19),e.TgZ(402,"th"),e._uU(403,"+"),e.qZA(),e._UZ(404,"th",13),e.TgZ(405,"th"),e._uU(406,"+"),e.qZA(),e._UZ(407,"th",13),e.TgZ(408,"th"),e._uU(409,"+"),e.qZA(),e._UZ(410,"th",13),e.TgZ(411,"th"),e._uU(412,"+"),e.qZA(),e._UZ(413,"th",13),e.TgZ(414,"th"),e._uU(415,"+"),e.qZA(),e._UZ(416,"th",13),e.TgZ(417,"th"),e._uU(418,"+"),e.qZA(),e._UZ(419,"th",13),e.TgZ(420,"th"),e._uU(421,"+"),e.qZA(),e._UZ(422,"th",13),e.TgZ(423,"th"),e._uU(424,"+"),e.qZA(),e._UZ(425,"th",13),e.TgZ(426,"th"),e._uU(427,"+"),e.qZA(),e._UZ(428,"th",13),e.TgZ(429,"th"),e._uU(430,"+"),e.qZA(),e._UZ(431,"th",11),e.TgZ(432,"th"),e._uU(433,"|"),e.qZA()(),e.TgZ(434,"tr")(435,"th"),e._uU(436,"Lateral affr."),e.qZA(),e.TgZ(437,"th"),e._uU(438,"|"),e.qZA(),e._UZ(439,"th",8),e.TgZ(440,"th"),e._uU(441,"|"),e.qZA(),e.TgZ(442,"th",22)(443,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(444,"th"),e._uU(445,"|"),e.qZA(),e._UZ(446,"th",11),e.TgZ(447,"th"),e._uU(448,"|"),e.qZA(),e.TgZ(449,"th",11)(450,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(451,"th"),e._uU(452,"|"),e.qZA(),e.TgZ(453,"th",11)(454,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(455,"th"),e._uU(456,"|"),e.qZA(),e._UZ(457,"th",8),e.TgZ(458,"th"),e._uU(459,"|"),e.qZA()(),e.TgZ(460,"tr"),e._UZ(461,"th",19),e.TgZ(462,"th"),e._uU(463,"+"),e.qZA(),e._UZ(464,"th",8),e.TgZ(465,"th"),e._uU(466,"+"),e.qZA(),e._UZ(467,"th",23),e.TgZ(468,"th"),e._uU(469,"+"),e.qZA(),e._UZ(470,"th",11),e.TgZ(471,"th"),e._uU(472,"+"),e.qZA(),e._UZ(473,"th",13),e.TgZ(474,"th"),e._uU(475,"+"),e.qZA(),e._UZ(476,"th",13),e.TgZ(477,"th"),e._uU(478,"+"),e.qZA(),e._UZ(479,"th",8),e.TgZ(480,"th"),e._uU(481,"|"),e.qZA()(),e.TgZ(482,"tr")(483,"th"),e._uU(484,"Lateral fric."),e.qZA(),e.TgZ(485,"th"),e._uU(486,"|"),e.qZA(),e._UZ(487,"th",8),e.TgZ(488,"th"),e._uU(489,"|"),e.qZA(),e.TgZ(490,"th",22)(491,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(492,"th"),e._uU(493,"|"),e.qZA(),e._UZ(494,"th",24),e.TgZ(495,"th"),e._uU(496,"|"),e.qZA()(),e.TgZ(497,"tr"),e._UZ(498,"th",19),e.TgZ(499,"th"),e._uU(500,"+"),e.qZA(),e._UZ(501,"th",19),e.TgZ(502,"th"),e._uU(503,"+"),e.qZA(),e._UZ(504,"th",25),e.TgZ(505,"th"),e._uU(506,"+"),e.qZA(),e._UZ(507,"th",13),e.TgZ(508,"th"),e._uU(509,"+"),e.qZA(),e._UZ(510,"th",25),e.TgZ(511,"th"),e._uU(512,"+"),e.qZA(),e._UZ(513,"th",13),e.TgZ(514,"th"),e._uU(515,"+"),e.qZA(),e._UZ(516,"th",13),e.TgZ(517,"th"),e._uU(518,"+"),e.qZA(),e._UZ(519,"th",22),e.TgZ(520,"th"),e._uU(521,"|"),e.qZA()(),e.TgZ(522,"tr")(523,"th",26),e._uU(524,"Click"),e.qZA(),e.TgZ(525,"th",26),e._uU(526,"|"),e._UZ(527,"br"),e._uU(528,"|"),e._UZ(529,"br"),e._uU(530,"|"),e._UZ(531,"br"),e._uU(532,"|"),e._UZ(533,"br"),e._uU(534,"|"),e._UZ(535,"br"),e._uU(536,"|"),e._UZ(537,"br"),e._uU(538,"|"),e._UZ(539,"br"),e._uU(540,"|"),e._UZ(541,"br"),e._uU(542,"|"),e._UZ(543,"br"),e._uU(544,"|"),e._UZ(545,"br"),e._uU(546,"|"),e._UZ(547,"br"),e._uU(548,"|"),e._UZ(549,"br"),e._uU(550,"|"),e.qZA(),e.TgZ(551,"th"),e._uU(552,"Tenuis"),e.qZA(),e.TgZ(553,"th"),e._uU(554,"|"),e.qZA(),e.TgZ(555,"th",11)(556,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(557,"th"),e.TgZ(558,"th",11)(559,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(560,"th"),e._uU(561,"|"),e.qZA(),e.TgZ(562,"th")(563,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(564,"th")(565,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(566,"th"),e._uU(567,"|"),e.qZA(),e.TgZ(568,"th",11)(569,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(570,"th"),e.TgZ(571,"th",11)(572,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(573,"th"),e._uU(574,"|"),e.qZA(),e.TgZ(575,"th")(576,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(577,"th")(578,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(579,"th"),e._uU(580,"|"),e.qZA(),e.TgZ(581,"th")(582,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(583,"th")(584,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(585,"th"),e._uU(586,"|"),e.qZA(),e._UZ(587,"th",22),e.TgZ(588,"th"),e._uU(589,"|"),e.qZA()(),e.TgZ(590,"tr"),e._UZ(591,"th",19),e.TgZ(592,"th"),e._uU(593,"+"),e.qZA(),e._UZ(594,"th",25),e.TgZ(595,"th"),e._uU(596,"+"),e.qZA(),e._UZ(597,"th",13),e.TgZ(598,"th"),e._uU(599,"+"),e.qZA(),e._UZ(600,"th",25),e.TgZ(601,"th"),e._uU(602,"+"),e.qZA(),e._UZ(603,"th",13),e.TgZ(604,"th"),e._uU(605,"+"),e.qZA(),e._UZ(606,"th",13),e.TgZ(607,"th"),e._uU(608,"+"),e.qZA(),e._UZ(609,"th",22),e.TgZ(610,"th"),e._uU(611,"|"),e.qZA()(),e.TgZ(612,"tr")(613,"th"),e._uU(614,"Voiced"),e.qZA(),e.TgZ(615,"th"),e._uU(616,"|"),e.qZA(),e.TgZ(617,"th",11)(618,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(619,"th"),e.TgZ(620,"th",11)(621,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(622,"th"),e._uU(623,"|"),e.qZA(),e.TgZ(624,"th")(625,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(626,"th")(627,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(628,"th"),e._uU(629,"|"),e.qZA(),e.TgZ(630,"th",11)(631,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(632,"th"),e.TgZ(633,"th",11)(634,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(635,"th"),e._uU(636,"|"),e.qZA(),e.TgZ(637,"th")(638,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(639,"th")(640,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(641,"th"),e._uU(642,"|"),e.qZA(),e.TgZ(643,"th")(644,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(645,"th")(646,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(647,"th"),e._uU(648,"|"),e.qZA(),e._UZ(649,"th",22),e.TgZ(650,"th"),e._uU(651,"|"),e.qZA()(),e.TgZ(652,"tr"),e._UZ(653,"th",19),e.TgZ(654,"th"),e._uU(655,"+"),e.qZA(),e._UZ(656,"th",25),e.TgZ(657,"th"),e._uU(658,"+"),e.qZA(),e._UZ(659,"th",13),e.TgZ(660,"th"),e._uU(661,"+"),e.qZA(),e._UZ(662,"th",25),e.TgZ(663,"th"),e._uU(664,"+"),e.qZA(),e._UZ(665,"th",13),e.TgZ(666,"th"),e._uU(667,"+"),e.qZA(),e._UZ(668,"th",13),e.TgZ(669,"th"),e._uU(670,"+"),e.qZA(),e._UZ(671,"th",13),e.TgZ(672,"th"),e._uU(673,"+"),e.qZA(),e._UZ(674,"th",8),e.TgZ(675,"th"),e._uU(676,"|"),e.qZA()(),e.TgZ(677,"tr")(678,"th"),e._uU(679,"Nasal"),e.qZA(),e.TgZ(680,"th"),e._uU(681,"|"),e.qZA(),e.TgZ(682,"th",11)(683,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(684,"th"),e.TgZ(685,"th",11)(686,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(687,"th"),e._uU(688,"|"),e.qZA(),e.TgZ(689,"th")(690,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(691,"th")(692,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(693,"th"),e._uU(694,"|"),e.qZA(),e.TgZ(695,"th",11)(696,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(697,"th"),e.TgZ(698,"th",11)(699,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(700,"th"),e._uU(701,"|"),e.qZA(),e.TgZ(702,"th")(703,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(704,"th")(705,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(706,"th"),e._uU(707,"|"),e.qZA(),e.TgZ(708,"th")(709,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(710,"th")(711,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(712,"th"),e._uU(713,"|"),e.qZA(),e.TgZ(714,"th",11)(715,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(716,"th"),e._uU(717,"|"),e.qZA(),e._UZ(718,"th",8),e.TgZ(719,"th"),e._uU(720,"|"),e.qZA()(),e.TgZ(721,"tr"),e._UZ(722,"th",19),e.TgZ(723,"th"),e._uU(724,"+"),e.qZA(),e._UZ(725,"th",25),e.TgZ(726,"th"),e._uU(727,"+"),e.qZA(),e._UZ(728,"th",13),e.TgZ(729,"th"),e._uU(730,"+"),e.qZA(),e._UZ(731,"th",25),e.TgZ(732,"th"),e._uU(733,"+"),e.qZA(),e._UZ(734,"th",13),e.TgZ(735,"th"),e._uU(736,"+"),e.qZA(),e._UZ(737,"th",13),e.TgZ(738,"th"),e._uU(739,"+"),e.qZA(),e._UZ(740,"th",13),e.TgZ(741,"th"),e._uU(742,"+"),e.qZA(),e._UZ(743,"th",8),e.TgZ(744,"th"),e._uU(745,"|"),e.qZA()(),e.TgZ(746,"tr")(747,"th"),e._uU(748,"Tenuis ltrl"),e.qZA(),e.TgZ(749,"th"),e._uU(750,"|"),e.qZA(),e._UZ(751,"th",8),e.TgZ(752,"th"),e._uU(753,"|"),e.qZA(),e._UZ(754,"th"),e.TgZ(755,"th",12)(756,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(757,"th",12)(758,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(759,"th"),e.TgZ(760,"th"),e._uU(761,"|"),e.qZA(),e._UZ(762,"th",24),e.TgZ(763,"th"),e._uU(764,"|"),e.qZA()(),e.TgZ(765,"tr"),e._UZ(766,"th",19),e.TgZ(767,"th"),e._uU(768,"+"),e.qZA(),e._UZ(769,"th",8),e.TgZ(770,"th"),e._uU(771,"+"),e.qZA(),e._UZ(772,"th",23),e.TgZ(773,"th"),e._uU(774,"+"),e.qZA(),e._UZ(775,"th",24),e.TgZ(776,"th"),e._uU(777,"|"),e.qZA()(),e.TgZ(778,"tr")(779,"th"),e._uU(780,"Voiced ltrl"),e.qZA(),e.TgZ(781,"th"),e._uU(782,"|"),e.qZA(),e._UZ(783,"th",8),e.TgZ(784,"th"),e._uU(785,"|"),e.qZA(),e._UZ(786,"th"),e.TgZ(787,"th",12)(788,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(789,"th",12)(790,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(791,"th"),e.TgZ(792,"th"),e._uU(793,"|"),e.qZA(),e._UZ(794,"th",24),e.TgZ(795,"th"),e._uU(796,"|"),e.qZA()(),e.TgZ(797,"tr"),e._UZ(798,"th",19),e.TgZ(799,"th"),e._uU(800,"+"),e.qZA(),e._UZ(801,"th",8),e.TgZ(802,"th"),e._uU(803,"+"),e.qZA(),e._UZ(804,"th",23),e.TgZ(805,"th"),e._uU(806,"+"),e.qZA(),e._UZ(807,"th",24),e.TgZ(808,"th"),e._uU(809,"|"),e.qZA()(),e.TgZ(810,"tr")(811,"th"),e._uU(812,"Nasal ltrl"),e.qZA(),e.TgZ(813,"th"),e._uU(814,"|"),e.qZA(),e._UZ(815,"th",8),e.TgZ(816,"th"),e._uU(817,"|"),e.qZA(),e._UZ(818,"th"),e.TgZ(819,"th",12)(820,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(821,"th",12)(822,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(823,"th"),e.TgZ(824,"th"),e._uU(825,"|"),e.qZA(),e._UZ(826,"th",24),e.TgZ(827,"th"),e._uU(828,"|"),e.qZA()(),e.TgZ(829,"tr"),e._UZ(830,"th",19),e.TgZ(831,"th"),e._uU(832,"+"),e.qZA(),e._UZ(833,"th",19),e.TgZ(834,"th"),e._uU(835,"+"),e.qZA(),e._UZ(836,"th",13),e.TgZ(837,"th"),e._uU(838,"+"),e.qZA(),e._UZ(839,"th",11),e.TgZ(840,"th"),e._uU(841,"+"),e.qZA(),e._UZ(842,"th",23),e.TgZ(843,"th"),e._uU(844,"+"),e.qZA(),e._UZ(845,"th",13),e.TgZ(846,"th"),e._uU(847,"+"),e.qZA(),e._UZ(848,"th",13),e.TgZ(849,"th"),e._uU(850,"+"),e.qZA(),e._UZ(851,"th",13),e.TgZ(852,"th"),e._uU(853,"+"),e.qZA(),e._UZ(854,"th",13),e.TgZ(855,"th"),e._uU(856,"+"),e.qZA(),e._UZ(857,"th",11),e.TgZ(858,"th"),e._uU(859,"|"),e.qZA()(),e.TgZ(860,"tr")(861,"th",12),e._uU(862,"Implosive"),e.qZA(),e.TgZ(863,"th"),e._uU(864,"|"),e.qZA(),e.TgZ(865,"th")(866,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(867,"th")(868,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(869,"th"),e._uU(870,"|"),e.qZA(),e._UZ(871,"th",11),e.TgZ(872,"th"),e._uU(873,"|"),e.qZA(),e._UZ(874,"th"),e.TgZ(875,"th",12)(876,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(877,"th",12)(878,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(879,"th"),e.TgZ(880,"th"),e._uU(881,"|"),e.qZA(),e.TgZ(882,"th")(883,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(884,"th")(885,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(886,"th"),e._uU(887,"|"),e.qZA(),e.TgZ(888,"th")(889,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(890,"th")(891,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(892,"th"),e._uU(893,"|"),e.qZA(),e.TgZ(894,"th")(895,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(896,"th")(897,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(898,"th"),e._uU(899,"|"),e.qZA(),e.TgZ(900,"th")(901,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(902,"th")(903,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(904,"th"),e._uU(905,"|"),e.qZA(),e._UZ(906,"th",11),e.TgZ(907,"th"),e._uU(908,"|"),e.qZA()(),e.TgZ(909,"tr"),e._UZ(910,"th",27),e.TgZ(911,"th"),e._uU(912,"+"),e.qZA()()()()),2&t&&(e.xp6(220),e.Q6J("languageSounds",o.languageSounds)("phonetic","p\u02bc"),e.xp6(7),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0288\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","c\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u02a1\u02bc"),e.xp6(46),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u032a\u0361\u03b8\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u0361s\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u0320\u0361\u0283\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0288\u0361\u0282\u02bc"),e.xp6(7),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u0361x\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u0361\u03c7\u02bc"),e.xp6(46),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0278\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","f\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u03b8\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","s\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0283\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0282\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0255\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","x\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u03c7\u02bc"),e.xp6(49),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u0361\u026c\u02bc"),e.xp6(7),e.Q6J("languageSounds",o.languageSounds)("phonetic","c\u0361\u028e\u031d\u030a\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u0361\u029f\u031d\u030a\u02bc"),e.xp6(37),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u026c\u02bc"),e.xp6(65),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u0298"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u0298"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u01c0"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u01c0"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u01c3"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u01c3"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u203c"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u203c"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u01c2"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u01c2"),e.xp6(34),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u0298"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u0298"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u01c0"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u01c0"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u01c3"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u01c3"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u203c"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u203c"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u01c2"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u01c2"),e.xp6(37),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u0298"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u0298"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u01c0"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u01c0"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u01c3"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u01c3"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u203c"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u203c"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u01c2"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u01c2"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u029e"),e.xp6(41),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u01c1"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u01c1"),e.xp6(30),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u01c1"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u01c1"),e.xp6(30),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u01c1"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u01c1"),e.xp6(44),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0253\u0325"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0253"),e.xp6(8),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0257\u0325\u0325"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0257"),e.xp6(5),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u1d91\u030a"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u1d91"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0284\u030a"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0284"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0260\u030a"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0260"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u029b\u0325"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u029b"))},dependencies:[pn,qu]}),r})(),MA=(()=>{class r{constructor(t){this.languagesService=t}ngOnInit(){this.reloadLanguage()}ngOnChanges(t){t.selectedLanguage&&t.selectedLanguage.currentValue&&this.reloadLanguage()}clicked(t){var o,i,a,d;if(console.log("clicked",t),this.languageSounds&&this.languageSounds.langId){const p=null===(i=null===(o=this.languageSounds)||void 0===o?void 0:o.selectedMainPhonemes)||void 0===i?void 0:i.find(y=>y.phoneme===t);if(p&&p.id)this.languagesService.deleteLanguagePhoneme({phonemeId:p.id}).subscribe(()=>{var y,w;this.languageSounds&&(this.languageSounds.selectedMainPhonemes=null===(w=null===(y=this.languageSounds)||void 0===y?void 0:y.selectedMainPhonemes)||void 0===w?void 0:w.filter(D=>D.id!==p.id))});else{const y=null===(d=null===(a=this.languageSounds)||void 0===a?void 0:a.selectedRestPhonemes)||void 0===d?void 0:d.find(w=>w.phoneme===t);y&&y.id?this.languagesService.deleteLanguagePhoneme({phonemeId:y.id}).subscribe(()=>{var w,D;this.languageSounds&&(this.languageSounds.selectedRestPhonemes=null===(D=null===(w=this.languageSounds)||void 0===w?void 0:w.selectedRestPhonemes)||void 0===D?void 0:D.filter(x=>x.id!==y.id))}):this.languagesService.saveLanguagePhoneme({body:t,languageId:this.languageSounds.langId}).subscribe(w=>{var D,x;null===(x=null===(D=this.languageSounds)||void 0===D?void 0:D.selectedMainPhonemes)||void 0===x||x.push(w)})}}}reloadLanguage(){var t;this.languageSounds=void 0,this.selectedLanguage&&this.selectedLanguage.id&&this.languagesService.getLanguagePhonemes({languageId:null===(t=this.selectedLanguage)||void 0===t?void 0:t.id}).subscribe(o=>{this.languageSounds=o})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(vs))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-phonetics"]],inputs:{selectedLanguage:"selectedLanguage"},features:[e.TTD],decls:4,vars:4,consts:[[3,"languageSounds","onClick"]],template:function(t,o){1&t&&(e.TgZ(0,"app-pulmonic-consonants",0),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e.TgZ(1,"app-vowels",0),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e.TgZ(2,"app-non-pulmonic-consonants",0),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e.TgZ(3,"app-other-phonemes",0),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()),2&t&&(e.Q6J("languageSounds",o.languageSounds),e.xp6(1),e.Q6J("languageSounds",o.languageSounds),e.xp6(1),e.Q6J("languageSounds",o.languageSounds),e.xp6(1),e.Q6J("languageSounds",o.languageSounds))},dependencies:[Ng,b1,Fm,E1]}),r})();var Ll=(()=>{return(r=Ll||(Ll={})).SoundChange="SOUND_CHANGE",r.WritingSystem="WRITING_SYSTEM",r.Declension="DECLENSION",Ll;var r})();let Ug=(()=>{class r{constructor(t){this.editMode=!1,this.soundChangesRaw="",this.soundChanges=[],this.soundChangePurpose=t,this.refresh()}ngOnInit(){this.refresh()}soundChangesChanges(t){this.soundChanges=t}soundChangesRawChange(){}cancelSoundChanges(){this.editMode=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ll))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],features:[e.TTD],decls:0,vars:0,template:function(t,o){},encapsulation:2}),r})(),_i=(()=>{class r extends Ol{constructor(t,o){super(t,o)}getAllLanguagesFrom$Response(t){const o=new Ge(this.rootUrl,r.GetAllLanguagesFromPath,"get");return t&&o.path("fromId",t.fromId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getAllLanguagesFrom(t){return this.getAllLanguagesFrom$Response(t).pipe((0,j.U)(o=>o.body))}getConnections$Response(t){const o=new Ge(this.rootUrl,r.GetConnectionsPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getConnections(t){return this.getConnections$Response(t).pipe((0,j.U)(o=>o.body))}getConnectionFromLang$Response(t){const o=new Ge(this.rootUrl,r.GetConnectionFromLangPath,"get");return t&&o.path("fromLangId",t.fromLangId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getConnectionFromLang(t){return this.getConnectionFromLang$Response(t).pipe((0,j.U)(o=>o.body))}getConnectionToLang$Response(t){const o=new Ge(this.rootUrl,r.GetConnectionToLangPath,"get");return t&&o.path("toLangId",t.toLangId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getConnectionToLang(t){return this.getConnectionToLang$Response(t).pipe((0,j.U)(o=>o.body))}getConnectionByLangs$Response(t){const o=new Ge(this.rootUrl,r.GetConnectionByLangsPath,"get");return t&&(o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{})),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getConnectionByLangs(t){return this.getConnectionByLangs$Response(t).pipe((0,j.U)(o=>o.body))}updateConnectionByLangs$Response(t){const o=new Ge(this.rootUrl,r.UpdateConnectionByLangsPath,"post");return t&&(o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}updateConnectionByLangs(t){return this.updateConnectionByLangs$Response(t).pipe((0,j.U)(o=>o.body))}deleteConnectionByLangs$Response(t){const o=new Ge(this.rootUrl,r.DeleteConnectionByLangsPath,"delete");return t&&(o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{})),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}deleteConnectionByLangs(t){return this.deleteConnectionByLangs$Response(t).pipe((0,j.U)(o=>o.body))}saveGrammaticalValueEvolution$Response(t){const o=new Ge(this.rootUrl,r.SaveGrammaticalValueEvolutionPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:parseFloat(String(i.body))})))}saveGrammaticalValueEvolution(t){return this.saveGrammaticalValueEvolution$Response(t).pipe((0,j.U)(o=>o.body))}removeGrammaticalValueEvolution$Response(t){const o=new Ge(this.rootUrl,r.RemoveGrammaticalValueEvolutionPath,"delete");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}removeGrammaticalValueEvolution(t){return this.removeGrammaticalValueEvolution$Response(t).pipe((0,j.U)(o=>o.body))}getGrammaticalValueEvolution$Response(t){const o=new Ge(this.rootUrl,r.GetGrammaticalValueEvolutionPath,"get");return t&&(o.path("langFromId",t.langFromId,{}),o.path("langToId",t.langToId,{}),o.path("posId",t.posId,{}),o.path("valueFromId",t.valueFromId,{})),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getGrammaticalValueEvolution(t){return this.getGrammaticalValueEvolution$Response(t).pipe((0,j.U)(o=>o.body))}getLanguageGraph$Response(t){const o=new Ge(this.rootUrl,r.GetLanguageGraphPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getLanguageGraph(t){return this.getLanguageGraph$Response(t).pipe((0,j.U)(o=>o.body))}getAllRoutes$Response(t){const o=new Ge(this.rootUrl,r.GetAllRoutesPath,"get");return t&&(o.path("fromId",t.fromId,{}),o.path("toId",t.toId,{})),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getAllRoutes(t){return this.getAllRoutes$Response(t).pipe((0,j.U)(o=>o.body))}getSoundChangesByLang$Response(t){const o=new Ge(this.rootUrl,r.GetSoundChangesByLangPath,"get");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{})),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getSoundChangesByLang(t){return this.getSoundChangesByLang$Response(t).pipe((0,j.U)(o=>o.body))}getSoundChangesByLangs$Response(t){const o=new Ge(this.rootUrl,r.GetSoundChangesByLangsPath,"get");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{})),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getSoundChangesByLangs(t){return this.getSoundChangesByLangs$Response(t).pipe((0,j.U)(o=>o.body))}getSoundChangesRawLinesByLang$Response(t){const o=new Ge(this.rootUrl,r.GetSoundChangesRawLinesByLangPath,"get");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{})),this.http.request(o.build({responseType:"text",accept:"text/plain",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getSoundChangesRawLinesByLang(t){return this.getSoundChangesRawLinesByLang$Response(t).pipe((0,j.U)(o=>o.body))}saveSoundChangesRawLinesByLang$Response(t){const o=new Ge(this.rootUrl,r.SaveSoundChangesRawLinesByLangPath,"post");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}saveSoundChangesRawLinesByLang(t){return this.saveSoundChangesRawLinesByLang$Response(t).pipe((0,j.U)(o=>o.body))}getSoundChangesRawLinesByLangs$Response(t){const o=new Ge(this.rootUrl,r.GetSoundChangesRawLinesByLangsPath,"get");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{})),this.http.request(o.build({responseType:"text",accept:"text/plain",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getSoundChangesRawLinesByLangs(t){return this.getSoundChangesRawLinesByLangs$Response(t).pipe((0,j.U)(o=>o.body))}saveSoundChangesRawLinesByLangs$Response(t){const o=new Ge(this.rootUrl,r.SaveSoundChangesRawLinesByLangsPath,"post");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}saveSoundChangesRawLinesByLangs(t){return this.saveSoundChangesRawLinesByLangs$Response(t).pipe((0,j.U)(o=>o.body))}getSoundChangesRawLinesByRule$Response(t){const o=new Ge(this.rootUrl,r.GetSoundChangesRawLinesByRulePath,"get");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("declensionId",t.declensionId,{})),this.http.request(o.build({responseType:"text",accept:"text/plain",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getSoundChangesRawLinesByRule(t){return this.getSoundChangesRawLinesByRule$Response(t).pipe((0,j.U)(o=>o.body))}saveSoundChangesRawLinesByRule$Response(t){const o=new Ge(this.rootUrl,r.SaveSoundChangesRawLinesByRulePath,"post");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("declensionId",t.declensionId,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}saveSoundChangesRawLinesByRule(t){return this.saveSoundChangesRawLinesByRule$Response(t).pipe((0,j.U)(o=>o.body))}getSoundChangeRaw$Response(t){const o=new Ge(this.rootUrl,r.GetSoundChangeRawPath,"get");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"text/plain",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getSoundChangeRaw(t){return this.getSoundChangeRaw$Response(t).pipe((0,j.U)(o=>o.body))}updateSoundChange$Response(t){const o=new Ge(this.rootUrl,r.UpdateSoundChangePath,"post");return t&&(o.path("id",t.id,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}updateSoundChange(t){return this.updateSoundChange$Response(t).pipe((0,j.U)(o=>o.body))}getSoundChangesByRule$Response(t){const o=new Ge(this.rootUrl,r.GetSoundChangesByRulePath,"get");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("ruleId",t.ruleId,{})),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getSoundChangesByRule(t){return this.getSoundChangesByRule$Response(t).pipe((0,j.U)(o=>o.body))}getSoundChange$Response(t){const o=new Ge(this.rootUrl,r.GetSoundChangePath,"get");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getSoundChange(t){return this.getSoundChange$Response(t).pipe((0,j.U)(o=>o.body))}deleteSoundChange$Response(t){const o=new Ge(this.rootUrl,r.DeleteSoundChangePath,"delete");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}deleteSoundChange(t){return this.deleteSoundChange$Response(t).pipe((0,j.U)(o=>o.body))}trace$Response(t){const o=new Ge(this.rootUrl,r.TracePath,"post");return t&&(o.path("word",t.word,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}trace(t){return this.trace$Response(t).pipe((0,j.U)(o=>o.body))}getAllWordsWithEvolutions$Response(t){const o=new Ge(this.rootUrl,r.GetAllWordsWithEvolutionsPath,"get");return t&&o.query("filter",t.filter,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getAllWordsWithEvolutions(t){return this.getAllWordsWithEvolutions$Response(t).pipe((0,j.U)(o=>o.body))}addBorrowedWord$Response(t){const o=new Ge(this.rootUrl,r.AddBorrowedWordPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}addBorrowedWord(t){return this.addBorrowedWord$Response(t).pipe((0,j.U)(o=>o.body))}getAllWords1$Response(t){const o=new Ge(this.rootUrl,r.GetAllWords1Path,"get");return t&&o.query("filter",t.filter,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getAllWords1(t){return this.getAllWords1$Response(t).pipe((0,j.U)(o=>o.body))}addEvolvedWord$Response(t){const o=new Ge(this.rootUrl,r.AddEvolvedWordPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}addEvolvedWord(t){return this.addEvolvedWord$Response(t).pipe((0,j.U)(o=>o.body))}addEvolvedWord1$Response(t){const o=new Ge(this.rootUrl,r.AddEvolvedWord1Path,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}addEvolvedWord1(t){return this.addEvolvedWord1$Response(t).pipe((0,j.U)(o=>o.body))}}return r.GetAllLanguagesFromPath="/api/evolve/allfrom/{fromId}",r.GetConnectionsPath="/api/evolve/connection/all",r.GetConnectionFromLangPath="/api/evolve/connection/from/{fromLangId}",r.GetConnectionToLangPath="/api/evolve/connection/to/{toLangId}",r.GetConnectionByLangsPath="/api/evolve/connection/{fromLangId}/{toLangId}",r.UpdateConnectionByLangsPath="/api/evolve/connection/{fromLangId}/{toLangId}",r.DeleteConnectionByLangsPath="/api/evolve/connection/{fromLangId}/{toLangId}",r.SaveGrammaticalValueEvolutionPath="/api/evolve/grammaticalvalue",r.RemoveGrammaticalValueEvolutionPath="/api/evolve/grammaticalvalue/{id}",r.GetGrammaticalValueEvolutionPath="/api/evolve/grammaticalvalue/{langFromId}/{langToId}/{posId}/{valueFromId}",r.GetLanguageGraphPath="/api/evolve/graph",r.GetAllRoutesPath="/api/evolve/routes/{fromId}/{toId}",r.GetSoundChangesByLangPath="/api/evolve/sc/lang/{soundChangePurpose}/{fromLangId}",r.GetSoundChangesByLangsPath="/api/evolve/sc/lang/{soundChangePurpose}/{fromLangId}/{toLangId}",r.GetSoundChangesRawLinesByLangPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}",r.SaveSoundChangesRawLinesByLangPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}",r.GetSoundChangesRawLinesByLangsPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}/{toLangId}",r.SaveSoundChangesRawLinesByLangsPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}/{toLangId}",r.GetSoundChangesRawLinesByRulePath="/api/evolve/sc/raw/rule/{soundChangePurpose}/{declensionId}",r.SaveSoundChangesRawLinesByRulePath="/api/evolve/sc/raw/rule/{soundChangePurpose}/{declensionId}",r.GetSoundChangeRawPath="/api/evolve/sc/raw/{id}",r.UpdateSoundChangePath="/api/evolve/sc/raw/{id}",r.GetSoundChangesByRulePath="/api/evolve/sc/rule/{soundChangePurpose}/{ruleId}",r.GetSoundChangePath="/api/evolve/sc/{id}",r.DeleteSoundChangePath="/api/evolve/sc/{id}",r.TracePath="/api/evolve/trace/{word}",r.GetAllWordsWithEvolutionsPath="/api/evolve/words",r.AddBorrowedWordPath="/api/evolve/words/borrow",r.GetAllWords1Path="/api/evolve/words/borrowed",r.AddEvolvedWordPath="/api/evolve/words/evolve",r.AddEvolvedWord1Path="/api/evolve/words/evolve/all",r.\u0275fac=function(t){return new(t||r)(e.LFG(ys),e.LFG(Li))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const D1=["app-sound-changes-table-row",""];function PA(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,">"),e.qZA())}function RA(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"\xbb"),e.qZA())}function OA(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"\xab"),e.qZA())}function S1(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th",2),e._uU(2),e.qZA(),e.TgZ(3,"th",0),e.YNc(4,PA,2,0,"span",1),e.YNc(5,RA,2,0,"span",1),e.YNc(6,OA,2,0,"span",1),e.qZA(),e.TgZ(7,"th",2),e._uU(8),e.qZA(),e.TgZ(9,"th",0),e._uU(10),e.qZA(),e.TgZ(11,"th",3),e._uU(12),e.qZA(),e.TgZ(13,"th",0),e._uU(14),e.qZA(),e.TgZ(15,"th",4),e._uU(16),e.qZA(),e.TgZ(17,"th",0),e._uU(18,"|"),e.qZA(),e.TgZ(19,"th",0)(20,"a",5),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editSoundChange())}),e._uU(21,"e"),e.qZA()(),e.TgZ(22,"th",0),e._uU(23,"|"),e.qZA(),e.TgZ(24,"th",0)(25,"a",6),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteSoundChanges())}),e._uU(26,"x"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(2),e.Oqu(t.soundChange.soundFrom),e.xp6(2),e.Q6J("ngIf","REPLACE_ALL"==t.soundChange.type),e.xp6(1),e.Q6J("ngIf","REPLACE_FIRST"==t.soundChange.type),e.xp6(1),e.Q6J("ngIf","REPLACE_LAST"==t.soundChange.type),e.xp6(2),e.Oqu(t.soundChange.soundTo),e.xp6(2),e.Oqu(t.soundChange.environmentAfter||t.soundChange.environmentBefore?"/":""),e.xp6(2),e.Oqu(t.soundChange.environmentBefore),e.xp6(2),e.Oqu(t.soundChange.environmentAfter||t.soundChange.environmentBefore?"_":""),e.xp6(2),e.Oqu(t.soundChange.environmentAfter)}}function qm(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th",7)(2,"input",8),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.soundChangeRaw=i)}),e.qZA()(),e.TgZ(3,"th",0),e._uU(4,"|"),e.qZA(),e.TgZ(5,"th",0)(6,"a",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveSoundChange())}),e._uU(7,"s"),e.qZA()(),e.TgZ(8,"th",0),e._uU(9,"|"),e.qZA(),e.TgZ(10,"th",0)(11,"a",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelSoundChanges())}),e._uU(12,"x"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.soundChangeRaw)}}let x1=(()=>{class r{constructor(t){this.languagesEvolutionService=t,this.soundChangeDeleted=new e.vpe,this.editMode=!1}ngOnInit(){}editSoundChange(){console.log(this.soundChange),this.soundChange.id&&this.languagesEvolutionService.getSoundChangeRaw({id:this.soundChange.id}).subscribe(t=>{this.soundChangeRaw=t,this.editMode=!0})}deleteSoundChanges(){console.log(this.soundChange),this.soundChange.id&&this.languagesEvolutionService.deleteSoundChange({id:this.soundChange.id}).subscribe(()=>{console.log("deleted"),this.soundChangeDeleted.emit(this.soundChange)})}saveSoundChange(){if(this.soundChange.id&&this.soundChangeRaw){const t=this.soundChange.id;this.languagesEvolutionService.updateSoundChange({id:t,body:this.soundChangeRaw}).subscribe(()=>{console.log("saved"),this.languagesEvolutionService.getSoundChange({id:t}).subscribe(o=>{this.soundChange=o,this.editMode=!1})})}}cancelSoundChanges(){this.editMode=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_i))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tr","app-sound-changes-table-row",""]],inputs:{soundChange:"soundChange"},outputs:{soundChangeDeleted:"soundChangeDeleted"},attrs:D1,decls:6,vars:2,consts:[[1,"border"],[4,"ngIf"],[1,"text-white","sound-change-text"],[1,"text-white","sound-change-before"],[1,"text-white","sound-change-after"],[1,"text-yellow-dull",3,"click"],[1,"text-red-dull",3,"click"],["colspan","7"],[3,"ngModel","ngModelChange"],[1,"text-green-dull",3,"click"],[1,"text-grey-dull",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"th",0),e._uU(1,"|"),e.qZA(),e.YNc(2,S1,27,9,"ng-container",1),e.YNc(3,qm,13,1,"ng-container",1),e.TgZ(4,"th",0),e._uU(5,"|"),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",!o.editMode),e.xp6(1),e.Q6J("ngIf",o.editMode))},dependencies:[pt,Nn,En,fn],styles:["input[_ngcontent-%COMP%]{width:calc(100% - 20px);border:none}.sound-change-text[_ngcontent-%COMP%]{width:1%;white-space:nowrap;padding-left:8px;padding-right:8px}.sound-change-before[_ngcontent-%COMP%]{width:1%;white-space:nowrap;padding-left:8px;text-align:right}.sound-change-after[_ngcontent-%COMP%]{text-align:left}"]}),r})();function Z1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr",6),e.NdJ("soundChangeDeleted",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteSoundChange(i))}),e.qZA()}2&r&&e.Q6J("soundChange",n.$implicit)}function k1(r,n){1&r&&(e.TgZ(0,"tr")(1,"th",7),e._uU(2,"+"),e.qZA(),e._UZ(3,"th",8),e.TgZ(4,"th",7),e._uU(5,"+"),e.qZA(),e._UZ(6,"th",9),e.TgZ(7,"th",7),e._uU(8,"+"),e.qZA(),e._UZ(9,"th",9),e.TgZ(10,"th",7),e._uU(11,"+"),e.qZA()())}let Mg=(()=>{class r{constructor(){this.soundChangesChanges=new e.vpe}ngOnInit(){}deleteSoundChange(t){console.log("deleteSoundChange",t),this.soundChanges=this.soundChanges.filter(o=>o.id!==t.id),this.soundChangesChanges.emit(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-sound-changes-table"]],inputs:{soundChanges:"soundChanges"},outputs:{soundChangesChanges:"soundChangesChanges"},decls:18,vars:2,consts:[["span","1",1,"border",2,"width","8px"],["span","1"],["span","1",2,"width","auto"],["span","1",2,"width","16px"],["class","table-content","app-sound-changes-table-row","",3,"soundChange","soundChangeDeleted",4,"ngFor","ngForOf"],[4,"ngIf"],["app-sound-changes-table-row","",1,"table-content",3,"soundChange","soundChangeDeleted"],[1,"border"],["app-horizontal-dash","","colspan","7",1,"border"],["app-horizontal-dash","",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0)(5,"col",1)(6,"col",0)(7,"col",1)(8,"col",0)(9,"col",2)(10,"col",0)(11,"col",3)(12,"col",0)(13,"col",3)(14,"col",0),e.qZA(),e.TgZ(15,"tbody"),e.YNc(16,Z1,1,1,"tr",4),e.YNc(17,k1,12,0,"tr",5),e.qZA()()),2&t&&(e.xp6(16),e.Q6J("ngForOf",o.soundChanges),e.xp6(1),e.Q6J("ngIf",o.soundChanges.length))},dependencies:[ot,pt,pn,x1]}),r})(),Pg=(()=>{class r{constructor(){this.soundChangesRawChange=new e.vpe,this.math=Math}ngOnInit(){}print(){console.log(this.soundChangesRaw)}soundChangesRawChangeFn(){this.soundChangesRawChange.emit(this.soundChangesRaw)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-sound-changes-edit"]],inputs:{soundChangesRaw:"soundChangesRaw"},outputs:{soundChangesRawChange:"soundChangesRawChange"},decls:18,vars:2,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["app-vertical-dash","",1,"border"],[2,"text-align","left"],[3,"rows","ngModel","ngModelChange"],[1,"border"],["app-horizontal-dash","",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0),e.qZA(),e.TgZ(5,"tbody")(6,"tr"),e._UZ(7,"th",2),e.TgZ(8,"th",3)(9,"textarea",4),e.NdJ("ngModelChange",function(a){return o.soundChangesRaw=a})("ngModelChange",function(){return o.soundChangesRawChangeFn()}),e.qZA()(),e.TgZ(10,"th",2),e._uU(11,"|"),e.qZA()(),e.TgZ(12,"tr")(13,"th",5),e._uU(14,"+"),e.qZA(),e._UZ(15,"th",6),e.TgZ(16,"th",5),e._uU(17,"+"),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("rows",o.math.min(30,110))("ngModel",o.soundChangesRaw))},dependencies:[Nn,En,fn,pn,gi],styles:["textarea[_ngcontent-%COMP%]{margin-top:8px;width:calc(100% - 16px)}"]}),r})();function N1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-table",8),e.NdJ("soundChangesChanges",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.soundChangesChanges)}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChanges",t.soundChanges)}}function U1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-edit",9),e.NdJ("soundChangesRawChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.soundChangesRaw=i)})("soundChangesRawChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.soundChangesRawChange())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChangesRaw",t.soundChangesRaw)}}function M1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",7),e._uU(1,"[ "),e.TgZ(2,"a",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"E"),e.qZA(),e._uU(5,"dit"),e.qZA(),e._uU(6," ]-"),e.qZA()}}function j2(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",7),e._uU(1,"[ "),e.TgZ(2,"a",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"S"),e.qZA(),e._uU(5,"ave"),e.qZA(),e._uU(6," ]-["),e.TgZ(7,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelSoundChanges())}),e._uU(8," x "),e.qZA(),e._uU(9,"]-"),e.qZA()}}let LA=(()=>{class r extends Ug{constructor(t){super(Ll.WritingSystem),this.languagesEvolutionService=t}ngOnChanges(t){t.selectedLanguage&&this.refresh()}refresh(){this.selectedLanguage&&this.selectedLanguage.id&&this.languagesEvolutionService.getSoundChangesByLang({fromLangId:this.selectedLanguage.id,soundChangePurpose:this.soundChangePurpose}).subscribe(t=>{this.soundChanges=t})}editSoundChanges(){this.selectedLanguage&&this.selectedLanguage.id&&this.languagesEvolutionService.getSoundChangesRawLinesByLang({fromLangId:this.selectedLanguage.id,soundChangePurpose:this.soundChangePurpose}).subscribe(t=>{this.soundChangesRaw=t,console.log("editSoundChanges soundChangesRaw",this.soundChangesRaw),this.editMode=!0})}saveSoundChanges(){this.selectedLanguage&&this.selectedLanguage.id&&this.languagesEvolutionService.saveSoundChangesRawLinesByLang({fromLangId:this.selectedLanguage.id,body:this.soundChangesRaw,soundChangePurpose:this.soundChangePurpose}).subscribe(()=>{this.editMode=!1,this.refresh()})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_i))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-writing"]],inputs:{selectedLanguage:"selectedLanguage"},features:[e.qOj,e.TTD],decls:14,vars:4,consts:[[3,"soundChanges","soundChangesChanges",4,"ngIf"],[3,"soundChangesRaw","soundChangesRawChange",4,"ngIf"],["span","1",2,"width","auto"],["span","1",1,"border",2,"width","max-content"],["span","1",1,"border",2,"width","8px"],["app-horizontal-dash","",1,"border"],["class","border",4,"ngIf"],[1,"border"],[3,"soundChanges","soundChangesChanges"],[3,"soundChangesRaw","soundChangesRawChange"],[1,"text-yellow-dull",3,"click"],[1,"text-green-dull",3,"click"],[1,"text-red-dull",3,"click"]],template:function(t,o){1&t&&(e.YNc(0,N1,1,1,"app-sound-changes-table",0),e.YNc(1,U1,1,1,"app-sound-changes-edit",1),e.TgZ(2,"table")(3,"colgroup"),e._UZ(4,"col",2)(5,"col",3)(6,"col",4),e.qZA(),e.TgZ(7,"tbody")(8,"tr"),e._UZ(9,"th",5),e.YNc(10,M1,7,0,"th",6),e.YNc(11,j2,10,0,"th",6),e.TgZ(12,"th",7),e._uU(13,"+"),e.qZA()()()()),2&t&&(e.Q6J("ngIf",!o.editMode&&o.selectedLanguage&&o.selectedLanguage.id),e.xp6(1),e.Q6J("ngIf",o.editMode&&o.selectedLanguage&&o.selectedLanguage.id),e.xp6(9),e.Q6J("ngIf",!o.editMode),e.xp6(1),e.Q6J("ngIf",o.editMode))},dependencies:[pt,pn,Mg,Pg]}),r})(),la=(()=>{class r extends Ol{constructor(t,o){super(t,o)}getAllCategories$Response(t){const o=new Ge(this.rootUrl,r.GetAllCategoriesPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getAllCategories(t){return this.getAllCategories$Response(t).pipe((0,j.U)(o=>o.body))}saveGrammaticalCategory$Response(t){const o=new Ge(this.rootUrl,r.SaveGrammaticalCategoryPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:parseFloat(String(i.body))})))}saveGrammaticalCategory(t){return this.saveGrammaticalCategory$Response(t).pipe((0,j.U)(o=>o.body))}saveGrammaticalCategoryConnection$Response(t){const o=new Ge(this.rootUrl,r.SaveGrammaticalCategoryConnectionPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:parseFloat(String(i.body))})))}saveGrammaticalCategoryConnection(t){return this.saveGrammaticalCategoryConnection$Response(t).pipe((0,j.U)(o=>o.body))}deleteGrammaticalCategoryConnection$Response(t){const o=new Ge(this.rootUrl,r.DeleteGrammaticalCategoryConnectionPath,"delete");return t&&o.path("connectionId",t.connectionId,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}deleteGrammaticalCategoryConnection(t){return this.deleteGrammaticalCategoryConnection$Response(t).pipe((0,j.U)(o=>o.body))}saveGrammaticalCategoryValue$Response(t){const o=new Ge(this.rootUrl,r.SaveGrammaticalCategoryValuePath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:parseFloat(String(i.body))})))}saveGrammaticalCategoryValue(t){return this.saveGrammaticalCategoryValue$Response(t).pipe((0,j.U)(o=>o.body))}replaceGrammaticalValuesByWord$Response(t){const o=new Ge(this.rootUrl,r.ReplaceGrammaticalValuesByWordPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}replaceGrammaticalValuesByWord(t){return this.replaceGrammaticalValuesByWord$Response(t).pipe((0,j.U)(o=>o.body))}removeGrammaticalValuesByWord$Response(t){const o=new Ge(this.rootUrl,r.RemoveGrammaticalValuesByWordPath,"delete");return t&&(o.path("wordId",t.wordId,{}),o.path("categoryId",t.categoryId,{})),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}removeGrammaticalValuesByWord(t){return this.removeGrammaticalValuesByWord$Response(t).pipe((0,j.U)(o=>o.body))}saveGrammaticalCategoryValueConnection$Response(t){const o=new Ge(this.rootUrl,r.SaveGrammaticalCategoryValueConnectionPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:parseFloat(String(i.body))})))}saveGrammaticalCategoryValueConnection(t){return this.saveGrammaticalCategoryValueConnection$Response(t).pipe((0,j.U)(o=>o.body))}removeGrammaticalCategoryValueConnection$Response(t){const o=new Ge(this.rootUrl,r.RemoveGrammaticalCategoryValueConnectionPath,"delete");return t&&o.path("gcvcId",t.gcvcId,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}removeGrammaticalCategoryValueConnection(t){return this.removeGrammaticalCategoryValueConnection$Response(t).pipe((0,j.U)(o=>o.body))}getCategoryValuesByCategory$Response(t){const o=new Ge(this.rootUrl,r.GetCategoryValuesByCategoryPath,"get");return t&&o.path("categoryId",t.categoryId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getCategoryValuesByCategory(t){return this.getCategoryValuesByCategory$Response(t).pipe((0,j.U)(o=>o.body))}getCategoryValuesByCategoryAndLang$Response(t){const o=new Ge(this.rootUrl,r.GetCategoryValuesByCategoryAndLangPath,"get");return t&&(o.path("categoryId",t.categoryId,{}),o.path("langId",t.langId,{})),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getCategoryValuesByCategoryAndLang(t){return this.getCategoryValuesByCategoryAndLang$Response(t).pipe((0,j.U)(o=>o.body))}getGrammaticalCategoryConnectionsForLang$Response(t){const o=new Ge(this.rootUrl,r.GetGrammaticalCategoryConnectionsForLangPath,"get");return t&&(o.path("categoryId",t.categoryId,{}),o.path("languageId",t.languageId,{})),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getGrammaticalCategoryConnectionsForLang(t){return this.getGrammaticalCategoryConnectionsForLang$Response(t).pipe((0,j.U)(o=>o.body))}getGrammaticalValuesConnectionByLang$Response(t){const o=new Ge(this.rootUrl,r.GetGrammaticalValuesConnectionByLangPath,"get");return t&&o.path("langId",t.langId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getGrammaticalValuesConnectionByLang(t){return this.getGrammaticalValuesConnectionByLang$Response(t).pipe((0,j.U)(o=>o.body))}getGrammaticalCategoryConnectionsForLangAndPos$Response(t){const o=new Ge(this.rootUrl,r.GetGrammaticalCategoryConnectionsForLangAndPosPath,"get");return t&&(o.path("posId",t.posId,{}),o.path("languageId",t.languageId,{})),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getGrammaticalCategoryConnectionsForLangAndPos(t){return this.getGrammaticalCategoryConnectionsForLangAndPos$Response(t).pipe((0,j.U)(o=>o.body))}getGrammaticalValuesByWord$Response(t){const o=new Ge(this.rootUrl,r.GetGrammaticalValuesByWordPath,"get");return t&&o.path("wordId",t.wordId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getGrammaticalValuesByWord(t){return this.getGrammaticalValuesByWord$Response(t).pipe((0,j.U)(o=>o.body))}}return r.GetAllCategoriesPath="/api/category",r.SaveGrammaticalCategoryPath="/api/category",r.SaveGrammaticalCategoryConnectionPath="/api/category/connection",r.DeleteGrammaticalCategoryConnectionPath="/api/category/connection/{connectionId}",r.SaveGrammaticalCategoryValuePath="/api/category/value",r.ReplaceGrammaticalValuesByWordPath="/api/category/valuebyword/replace",r.RemoveGrammaticalValuesByWordPath="/api/category/valuebyword/{wordId}/{categoryId}",r.SaveGrammaticalCategoryValueConnectionPath="/api/category/valuelangconnection",r.RemoveGrammaticalCategoryValueConnectionPath="/api/category/valuelangconnection/{gcvcId}",r.GetCategoryValuesByCategoryPath="/api/category/{categoryId}/values",r.GetCategoryValuesByCategoryAndLangPath="/api/category/{categoryId}/{langId}/values",r.GetGrammaticalCategoryConnectionsForLangPath="/api/category/{categoryId}/{languageId}/connections",r.GetGrammaticalValuesConnectionByLangPath="/api/category/{langId}/valuelangconnection",r.GetGrammaticalCategoryConnectionsForLangAndPosPath="/api/category/{posId}/{languageId}/connectionspos",r.GetGrammaticalValuesByWordPath="/api/category/{wordId}/valuebyword",r.\u0275fac=function(t){return new(t||r)(e.LFG(ys),e.LFG(Li))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function P1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1," [ "),e.TgZ(2,"a",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.saveChanges())}),e._uU(3,"Update"),e.qZA(),e._uU(4," ] "),e.qZA()}}function FA(r,n){1&r&&(e.TgZ(0,"span",17),e._uU(1,"[ ]"),e.qZA())}function kr(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.connect(i))}),e._uU(1,"[x]"),e.qZA()}}function R1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.removeConnection(i))}),e._uU(1,"["),e.TgZ(2,"span",19),e._uU(3,"o"),e.qZA(),e._uU(4,"]"),e.qZA()}}function qA(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",6),e._uU(2),e.qZA(),e._UZ(3,"th",7),e.TgZ(4,"th",8),e.YNc(5,FA,2,0,"span",14),e.YNc(6,kr,2,0,"a",15),e.YNc(7,R1,5,0,"a",15),e.TgZ(8,"span",16),e._uU(9),e.qZA()(),e._UZ(10,"th",11),e.qZA()),2&r){const t=n.$implicit,o=n.index,i=e.oxw(2);let a;e.xp6(2),e.Oqu(0==o?"Classes":""),e.xp6(3),e.Q6J("ngIf",!(null!=i.selectedLanguage&&i.selectedLanguage.id)),e.xp6(1),e.Q6J("ngIf",!i.isConnected(t.id)&&(null==i.selectedLanguage?null:i.selectedLanguage.id)),e.xp6(1),e.Q6J("ngIf",i.isConnected(t.id)&&(null==i.selectedLanguage?null:i.selectedLanguage.id)),e.xp6(1),e.Q6J("ngClass",null!=(a=i.getLanguagePos(t))&&a.connectedToLanguage?"text-white":null!=(a=i.getLanguagePos(t))&&a.usedInLanguage?"text-yellow-dull":"text-grey-dull"),e.xp6(1),e.hij(" ",t.name,"")}}function VA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"table",1)(1,"colgroup"),e._UZ(2,"col",2)(3,"col",3)(4,"col",4)(5,"col",5),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",6),e._uU(9,"Name"),e.qZA(),e._UZ(10,"th",7),e.TgZ(11,"th",8)(12,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedCategory.name=i)}),e.qZA(),e.YNc(13,P1,5,0,"span",10),e.qZA(),e._UZ(14,"th",11),e.qZA(),e.YNc(15,qA,11,6,"tr",12),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(12),e.Q6J("ngModel",t.selectedCategory.name),e.xp6(1),e.Q6J("ngIf",t.canUpdate),e.xp6(2),e.Q6J("ngForOf",t.pos)}}let O1=(()=>{class r extends Rl{constructor(t,o){super(),this.categoryService=t,this.posService=o,this.gcc=[],this.pos=[],this.lp=[],this.editComment=!1,this.canUpdate=!1}ngOnInit(){var t,o;super.ngOnInit(),this.posService.getAllPos().subscribe(i=>this.pos=i.sort((a,d)=>a.name?a.name.localeCompare(d.name?d.name:""):-1)),this.selectedLanguage&&this.selectedLanguage.id&&this.reloadPos(this.selectedLanguage.id),this.reloadConnections(null===(t=this.selectedCategory)||void 0===t?void 0:t.id,null===(o=this.selectedLanguage)||void 0===o?void 0:o.id)}ngOnChanges(t){var o,i,a,d,p,y,w;null!==(o=t.selectedLanguage)&&void 0!==o&&o.currentValue&&(console.log(t,null===(i=t.selectedLanguage)||void 0===i?void 0:i.currentValue.id),null!==(a=t.selectedLanguage)&&void 0!==a&&a.currentValue.id&&this.reloadPos(t.selectedLanguage.currentValue.id),this.reloadConnections(null===(d=this.selectedCategory)||void 0===d?void 0:d.id,t.selectedLanguage.currentValue.id)),null!==(p=t.selectedCategory)&&void 0!==p&&p.currentValue&&(console.log(t,null===(y=t.selectedCategory)||void 0===y?void 0:y.currentValue.id),this.reloadConnections(t.selectedCategory.currentValue.id,null===(w=this.selectedLanguage)||void 0===w?void 0:w.id))}saveChanges(){this.selectedCategory&&this.categoryService.saveGrammaticalCategory({body:this.selectedCategory}).subscribe(t=>{this.canUpdate=!1})}clickEditComment(){this.editComment=!0}clickSaveComment(){this.editComment=!1}getLanguagePos(t){if(this.selectedLanguage)return this.lp.find(o=>{var i;return(null==o?void 0:o.languageId)===(null===(i=this.selectedLanguage)||void 0===i?void 0:i.id)&&(null==o?void 0:o.posId)===t.id})}isConnected(t){return!!t&&!!this.gcc.find(o=>{var i;return(null===(i=o.pos)||void 0===i?void 0:i.id)===t})}connect(t){const o={grammaticalCategory:this.selectedCategory,language:this.selectedLanguage,pos:t};this.categoryService.saveGrammaticalCategoryConnection({body:o}).subscribe(i=>{o.id=i,this.gcc.push(o)})}removeConnection(t){const o=this.gcc.find(i=>{var a;return(null===(a=i.pos)||void 0===a?void 0:a.id)===t.id});null!=o&&o.id&&this.categoryService.deleteGrammaticalCategoryConnection({connectionId:o.id}).subscribe(()=>{this.gcc=this.gcc.filter(i=>{var a;return(null===(a=i.pos)||void 0===a?void 0:a.id)!==t.id})})}reloadPos(t){this.posService.getPosByLanguage({languageId:t}).subscribe(o=>this.lp=o)}reloadConnections(t,o){t&&o&&this.categoryService.getGrammaticalCategoryConnectionsForLang({categoryId:t,languageId:o}).subscribe(i=>{this.gcc=i})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(la),e.Y36(fi))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-category-details"]],inputs:{selectedCategory:"selectedCategory"},features:[e.qOj,e.TTD],decls:1,vars:1,consts:[["style","width: 100%",4,"ngIf"],[2,"width","100%"],["span","1",2,"width","200px","text-align","right"],["span","1",1,"border",2,"width","32px"],["span","1",2,"width","auto"],["span","1",2,"width","81px"],[2,"text-align","right"],[1,"border"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"border",2,"text-align","right"],[4,"ngFor","ngForOf"],[1,"text-green-dull",3,"click"],["class","text-grey-dull",4,"ngIf"],["class","text-grey-dull",3,"click",4,"ngIf"],[3,"ngClass"],[1,"text-grey-dull"],[1,"text-grey-dull",3,"click"],[1,"text-green-dull"]],template:function(t,o){1&t&&e.YNc(0,VA,16,3,"table",0),2&t&&e.Q6J("ngIf",o.selectedCategory&&o.selectedCategory.id)},dependencies:[kn,ot,pt,Nn,En,fn]}),r})();function BA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1," [ "),e.TgZ(2,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.saveChanges())}),e._uU(3,"Update"),e.qZA(),e._uU(4," ] "),e.qZA()}}function L1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"table",1)(1,"colgroup"),e._UZ(2,"col",2)(3,"col",3)(4,"col",4)(5,"col",5),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",6),e._uU(9,"Name"),e.qZA(),e._UZ(10,"th",7),e.TgZ(11,"th",8)(12,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedValue.name=i)}),e.qZA(),e.YNc(13,BA,5,0,"span",10),e.qZA(),e._UZ(14,"th",11),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(12),e.Q6J("ngModel",t.selectedValue.name),e.xp6(1),e.Q6J("ngIf",t.canUpdate)}}let F1=(()=>{class r{constructor(t){this.categoryService=t,this.canUpdate=!1}ngOnInit(){}saveChanges(){this.selectedValue&&this.categoryService.saveGrammaticalCategoryValue({body:this.selectedValue}).subscribe(t=>{this.canUpdate=!1})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(la))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-category-value-details"]],inputs:{selectedValue:"selectedValue"},decls:1,vars:1,consts:[["style","width: 100%",4,"ngIf"],[2,"width","100%"],["span","1",2,"width","200px","text-align","right"],["span","1",1,"border",2,"width","32px"],["span","1",2,"width","auto"],["span","1",2,"width","81px"],[2,"text-align","right"],[1,"border"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"border",2,"text-align","right"],[1,"text-green-dull",3,"click"]],template:function(t,o){1&t&&e.YNc(0,L1,15,2,"table",0),2&t&&e.Q6J("ngIf",o.selectedValue&&o.selectedValue.id)},dependencies:[pt,Nn,En,fn]}),r})();function Jc(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th",9),e._uU(2,"x "),e.qZA(),e.TgZ(3,"th",10),e._uU(4,"|"),e.qZA(),e.TgZ(5,"th",11)(6,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.changeCategory(a.categories[i]))}),e._uU(7),e.qZA()(),e.TgZ(8,"th",11),e._uU(9),e.qZA(),e.BQk()}if(2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngClass",(null==o.selectedCategory?null:o.selectedCategory.id)===o.categories[t].id?"selectedTh":""),e.xp6(4),e.Q6J("ngClass",(null==o.selectedCategory?null:o.selectedCategory.id)===o.categories[t].id?"selectedTh":""),e.xp6(1),e.Q6J("ngClass",(null==o.selectedCategory?null:o.selectedCategory.id)===o.categories[t].id?"text-main":"text-grey"),e.xp6(1),e.Oqu(o.categories[t].name),e.xp6(1),e.Q6J("ngClass",(null==o.selectedCategory?null:o.selectedCategory.id)===o.categories[t].id?"selectedTh":""),e.xp6(1),e.Oqu((null==o.selectedCategory?null:o.selectedCategory.id)===o.categories[t].id?"":"|")}}function jA(r,n){1&r&&(e.ynx(0),e._UZ(1,"th",13),e.TgZ(2,"th"),e._uU(3,"+"),e.qZA(),e.BQk())}function $A(r,n){if(1&r){const t=e.EpF();e.ynx(0),e._UZ(1,"th",14),e.TgZ(2,"th")(3,"a",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.addNewCategory())}),e._uU(4,"[ + ]"),e.qZA()(),e.TgZ(5,"th",10),e._uU(6,"|"),e.qZA(),e.BQk()}}function q1(r,n){1&r&&(e.ynx(0),e._UZ(1,"th",16),e.TgZ(2,"th",10),e._uU(3,"|"),e.qZA(),e.BQk())}function GA(r,n){if(1&r&&(e.ynx(0),e.YNc(1,jA,4,0,"ng-container",6),e.YNc(2,$A,7,0,"ng-container",6),e.YNc(3,q1,4,0,"ng-container",6),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.categories.length===t),e.xp6(1),e.Q6J("ngIf",o.categories.length+1===t),e.xp6(1),e.Q6J("ngIf",o.categories.length+1<t)}}function V1(r,n){if(1&r&&(e.TgZ(0,"th",17),e._UZ(1,"app-language-category-details",18),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("selectedCategory",t.selectedCategory)("selectedLanguage",t.selectedLanguage)}}function $2(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.connectValue(a.values[i]))}),e._uU(1,"x"),e.qZA()}}function B1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.disconnectValue(a.values[i]))}),e._uU(1,"o"),e.qZA()}}function Vm(r,n){if(1&r){const t=e.EpF();e.ynx(0),e._UZ(1,"th",10),e.TgZ(2,"th",11),e.YNc(3,$2,2,0,"a",19),e.YNc(4,B1,2,0,"a",20),e.qZA(),e.TgZ(5,"th",10),e._uU(6,"|"),e.qZA(),e.TgZ(7,"th",11)(8,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.changeValue(a.values[i]))}),e._uU(9),e.qZA()(),e.TgZ(10,"th",11),e._uU(11),e.qZA(),e.BQk()}if(2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngClass",(null==o.selectedValue?null:o.selectedValue.id)===o.values[t].id?"selectedTh":""),e.xp6(1),e.Q6J("ngIf",!o.isValueConnected(o.values[t])),e.xp6(1),e.Q6J("ngIf",o.isValueConnected(o.values[t])),e.xp6(3),e.Q6J("ngClass",(null==o.selectedValue?null:o.selectedValue.id)===o.values[t].id?"selectedTh":""),e.xp6(1),e.Q6J("ngClass",(null==o.selectedValue?null:o.selectedValue.id)===o.values[t].id?"text-main":"text-grey"),e.xp6(1),e.Oqu(o.values[t].name),e.xp6(1),e.Q6J("ngClass",(null==o.selectedValue?null:o.selectedValue.id)===o.values[t].id?"selectedTh":""),e.xp6(1),e.Oqu((null==o.selectedValue?null:o.selectedValue.id)===o.values[t].id?"":"|")}}function ua(r,n){1&r&&(e.ynx(0),e.TgZ(1,"th",10),e._uU(2,"+"),e.qZA(),e._UZ(3,"th",23),e.TgZ(4,"th"),e._uU(5,"+"),e.qZA(),e.BQk())}function HA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",16)(1,"a",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4);return e.KtG(i.addNewCategoryValue())}),e._uU(2,"[ + ]"),e.qZA()()}}function JA(r,n){1&r&&e._UZ(0,"th")}function ca(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"th",10),e._uU(2,"|"),e.qZA(),e.YNc(3,HA,3,0,"th",24),e.YNc(4,JA,1,0,"th",6),e.TgZ(5,"th",10),e._uU(6,"|"),e.qZA(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(3),e.Q6J("ngIf",t.selectedCategory),e.xp6(1),e.Q6J("ngIf",!t.selectedCategory)}}function Cs(r,n){1&r&&(e.ynx(0),e.TgZ(1,"th",10),e._uU(2,"|"),e.qZA(),e._UZ(3,"th",16),e.TgZ(4,"th",10),e._uU(5,"|"),e.qZA(),e.BQk())}function Ts(r,n){if(1&r&&(e.ynx(0),e.YNc(1,ua,6,0,"ng-container",6),e.YNc(2,ca,7,2,"ng-container",6),e.YNc(3,Cs,6,0,"ng-container",6),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.values.length===t),e.xp6(1),e.Q6J("ngIf",o.values.length+1===t),e.xp6(1),e.Q6J("ngIf",o.values.length+1<t)}}function j1(r,n){if(1&r&&(e.TgZ(0,"th",17),e._UZ(1,"app-language-category-value-details",25),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("selectedValue",t.selectedValue)}}function $1(r,n){1&r&&e._UZ(0,"th",26)}function WA(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,Jc,10,6,"ng-container",6),e.YNc(2,GA,4,3,"ng-container",6),e.YNc(3,V1,2,2,"th",7),e.YNc(4,Vm,12,8,"ng-container",6),e.YNc(5,Ts,4,3,"ng-container",6),e.YNc(6,j1,2,1,"th",7),e.YNc(7,$1,1,0,"th",8),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.categories[t]),e.xp6(1),e.Q6J("ngIf",!o.categories[t]),e.xp6(1),e.Q6J("ngIf",0==t),e.xp6(1),e.Q6J("ngIf",o.values[t]),e.xp6(1),e.Q6J("ngIf",!o.values[t]),e.xp6(1),e.Q6J("ngIf",0==t),e.xp6(1),e.Q6J("ngIf",0==t)}}let QA=(()=>{class r extends Rl{constructor(t,o){super(),this.categoryService=t,this.posService=o,this.categories=[],this.pos=[],this.values=[],this.valuesConnectios=[]}get array(){return[...Array(Math.max(this.categories.length,this.values.length,this.pos.length)+2).keys()]}ngOnInit(){var t;super.ngOnInit(),this.categoryService.getAllCategories().subscribe(o=>this.categories=o.sort((i,a)=>i.name?i.name.localeCompare(a.name?a.name:""):-1)),this.posService.getAllPos().subscribe(o=>this.pos=o),null!==(t=this.selectedLanguage)&&void 0!==t&&t.id&&this.reloadConnectedValues(this.selectedLanguage.id)}ngOnChanges(t){var o,i,a;null!==(o=t.selectedLanguage)&&void 0!==o&&o.currentValue&&(console.log("ngOnChanges",t,null===(i=t.selectedLanguage)||void 0===i?void 0:i.currentValue.id),null!==(a=t.selectedLanguage)&&void 0!==a&&a.currentValue.id)&&this.reloadConnectedValues(t.selectedLanguage.currentValue.id)}connectCategoryToLanguage(t){}getLanguageCategory(t){}addNewCategory(){const t={name:"new category"};this.categoryService.saveGrammaticalCategory({body:t}).subscribe(o=>{t.id=o,this.selectedCategory=t,this.categories.push(t)})}addNewCategoryValue(){if(!this.selectedCategory)return;const t={name:"new value",category:this.selectedCategory};this.categoryService.saveGrammaticalCategoryValue({body:t}).subscribe(o=>{t.id=o,this.selectedValue=t,this.values.push(t)})}changeCategory(t){this.selectedCategory=t,t.id&&this.reloadCategoryValues(t.id)}changeValue(t){this.selectedValue=t}isValueConnected(t){return!!t&&!!this.valuesConnectios.find(o=>{var i;return(null===(i=o.value)||void 0===i?void 0:i.id)===t.id})}connectValue(t){const o={value:t,language:this.selectedLanguage};this.categoryService.saveGrammaticalCategoryValueConnection({body:o}).subscribe(i=>{o.id=i,this.valuesConnectios.push(o)})}disconnectValue(t){const o=this.valuesConnectios.find(i=>{var a;return(null===(a=i.value)||void 0===a?void 0:a.id)===t.id});null!=o&&o.id&&this.categoryService.removeGrammaticalCategoryValueConnection({gcvcId:o.id}).subscribe(()=>{this.valuesConnectios=this.valuesConnectios.filter(i=>{var a;return(null===(a=i.value)||void 0===a?void 0:a.id)!==t.id})})}reloadCategoryValues(t){console.log("reloadCategoryValues",t),this.categoryService.getCategoryValuesByCategory({categoryId:t}).subscribe(o=>this.values=o.sort((i,a)=>i.name?i.name.localeCompare(a.name?a.name:""):-1))}reloadConnectedValues(t){this.categoryService.getGrammaticalValuesConnectionByLang({langId:t}).subscribe(o=>{this.valuesConnectios=o})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(la),e.Y36(fi))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-category"]],features:[e.qOj,e.TTD],decls:16,vars:1,consts:[["span","1",1,"border",2,"width","17px","white-space","nowrap"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","21%"],["span","1",1,"border",2,"width","29%"],["span","1",1,"border",2,"width","25%"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","border","rowspan","0","style","vertical-align: top;",4,"ngIf"],["app-vertical-dash","","class","border","rowspan","0",4,"ngIf"],[2,"white-space","nowrap",3,"ngClass"],[1,"border"],[1,"border",3,"ngClass"],[3,"ngClass","click"],["app-horizontal-dash","","colspan","3"],["colspan","2"],[1,"text-green-dull",3,"click"],["colspan","3"],["rowspan","0",1,"border",2,"vertical-align","top"],[3,"selectedCategory","selectedLanguage"],["class","link-btn text-grey-dull",3,"click",4,"ngIf"],["class","link-btn text-green-dull",3,"click",4,"ngIf"],[1,"link-btn","text-grey-dull",3,"click"],[1,"link-btn","text-green-dull",3,"click"],["colspan","3","app-horizontal-dash",""],["colspan","3",4,"ngIf"],[3,"selectedValue"],["app-vertical-dash","","rowspan","0",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",1)(6,"col",3)(7,"col",1)(8,"col",1)(9,"col",1)(10,"col",2)(11,"col",1)(12,"col",4)(13,"col",1),e.qZA(),e.TgZ(14,"tbody"),e.YNc(15,WA,8,7,"tr",5),e.qZA()()),2&t&&(e.xp6(15),e.Q6J("ngForOf",o.array))},dependencies:[kn,ot,pt,pn,gi,O1,F1],styles:[".selectedTh[_ngcontent-%COMP%]{background-color:#333}"]}),r})(),Rg=(()=>{class r extends Ol{constructor(t,o){super(t,o)}saveDeclensionConnection$Response(t){const o=new Ge(this.rootUrl,r.SaveDeclensionConnectionPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:parseFloat(String(i.body))})))}saveDeclensionConnection(t){return this.saveDeclensionConnection$Response(t).pipe((0,j.U)(o=>o.body))}deleteDeclensionConnection$Response(t){const o=new Ge(this.rootUrl,r.DeleteDeclensionConnectionPath,"delete");return t&&o.path("connectionId",t.connectionId,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}deleteDeclensionConnection(t){return this.deleteDeclensionConnection$Response(t).pipe((0,j.U)(o=>o.body))}getDeclensionConnectionWithLangAndPos$Response(t){const o=new Ge(this.rootUrl,r.GetDeclensionConnectionWithLangAndPosPath,"get");return t&&(o.path("languageId",t.languageId,{}),o.path("posId",t.posId,{})),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getDeclensionConnectionWithLangAndPos(t){return this.getDeclensionConnectionWithLangAndPos$Response(t).pipe((0,j.U)(o=>o.body))}saveDeclension$Response(t){const o=new Ge(this.rootUrl,r.SaveDeclensionPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}saveDeclension(t){return this.saveDeclension$Response(t).pipe((0,j.U)(o=>o.body))}deleteDeclension$Response(t){const o=new Ge(this.rootUrl,r.DeleteDeclensionPath,"delete");return t&&o.path("declensionId",t.declensionId,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}deleteDeclension(t){return this.deleteDeclension$Response(t).pipe((0,j.U)(o=>o.body))}getDeclensionsByLangAndPos$Response(t){const o=new Ge(this.rootUrl,r.GetDeclensionsByLangAndPosPath,"get");return t&&(o.path("languageId",t.languageId,{}),o.path("posId",t.posId,{})),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getDeclensionsByLangAndPos(t){return this.getDeclensionsByLangAndPos$Response(t).pipe((0,j.U)(o=>o.body))}isMainDelcension$Response(t){const o=new Ge(this.rootUrl,r.IsMainDelcensionPath,"get");return t&&o.path("declensionId",t.declensionId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:"true"===String(i.body)})))}isMainDelcension(t){return this.isMainDelcension$Response(t).pipe((0,j.U)(o=>o.body))}removeFromMainDeclension$Response(t){const o=new Ge(this.rootUrl,r.RemoveFromMainDeclensionPath,"post");return t&&o.path("declensionId",t.declensionId,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}removeFromMainDeclension(t){return this.removeFromMainDeclension$Response(t).pipe((0,j.U)(o=>o.body))}saveDeclensionRule$Response(t){const o=new Ge(this.rootUrl,r.SaveDeclensionRulePath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}saveDeclensionRule(t){return this.saveDeclensionRule$Response(t).pipe((0,j.U)(o=>o.body))}deleteDeclensionRule$Response(t){const o=new Ge(this.rootUrl,r.DeleteDeclensionRulePath,"delete");return t&&o.path("declensionRuleId",t.declensionRuleId,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}deleteDeclensionRule(t){return this.deleteDeclensionRule$Response(t).pipe((0,j.U)(o=>o.body))}getDeclensionRules$Response(t){const o=new Ge(this.rootUrl,r.GetDeclensionRulesPath,"get");return t&&o.path("declensionId",t.declensionId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getDeclensionRules(t){return this.getDeclensionRules$Response(t).pipe((0,j.U)(o=>o.body))}setAsMainDeclension$Response(t){const o=new Ge(this.rootUrl,r.SetAsMainDeclensionPath,"post");return t&&o.path("declensionId",t.declensionId,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}setAsMainDeclension(t){return this.setAsMainDeclension$Response(t).pipe((0,j.U)(o=>o.body))}getDeclineWord$Response(t){const o=new Ge(this.rootUrl,r.GetDeclineWordPath,"get");return t&&o.path("wordId",t.wordId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getDeclineWord(t){return this.getDeclineWord$Response(t).pipe((0,j.U)(o=>o.body))}}return r.SaveDeclensionConnectionPath="/api/declension/connections",r.DeleteDeclensionConnectionPath="/api/declension/connections/{connectionId}",r.GetDeclensionConnectionWithLangAndPosPath="/api/declension/connections/{languageId}/{posId}",r.SaveDeclensionPath="/api/declension/declension",r.DeleteDeclensionPath="/api/declension/declension/{declensionId}",r.GetDeclensionsByLangAndPosPath="/api/declension/declensions/{languageId}/{posId}",r.IsMainDelcensionPath="/api/declension/ismain/{declensionId}",r.RemoveFromMainDeclensionPath="/api/declension/removemain/{declensionId}",r.SaveDeclensionRulePath="/api/declension/rule",r.DeleteDeclensionRulePath="/api/declension/rule/{declensionRuleId}",r.GetDeclensionRulesPath="/api/declension/rules/{declensionId}",r.SetAsMainDeclensionPath="/api/declension/setmain/{declensionId}",r.GetDeclineWordPath="/api/declension/word/{wordId}",r.\u0275fac=function(t){return new(t||r)(e.LFG(ys),e.LFG(Li))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function zA(r,n){if(1&r&&(e.TgZ(0,"option",3),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}let Bm=(()=>{class r{constructor(t){this.categoryService=t,this.changed=new e.vpe}ngOnInit(){var t;console.log("ngOnInit value",this.value),this.value=null===(t=this.categoryValues)||void 0===t?void 0:t.find(o=>{var i;return o.id==(null===(i=this.value)||void 0===i?void 0:i.id)})}valueChanged(t){var o,i,a;console.log("Value changed",t),t.value&&(null===(o=t.value.category)||void 0===o?void 0:o.id)&&(this.rule.values=null===(i=this.rule.values)||void 0===i?void 0:i.filter(d=>{var p,y,w;return(null===(p=d.category)||void 0===p?void 0:p.id)!==(null===(w=null===(y=t.value)||void 0===y?void 0:y.category)||void 0===w?void 0:w.id)}),null===(a=this.rule.values)||void 0===a||a.push(t.value)),this.changed.emit()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(la))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-rule-values"]],inputs:{category:"category",categoryValues:"categoryValues",value:"value",connected:"connected",rule:"rule"},outputs:{changed:"changed"},decls:7,vars:5,consts:[[3,"ngClass"],[1,"input-group",2,"margin-right","12px"],["id","newWordTypeSelector",1,"posSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"span",0),e._uU(1),e.qZA(),e._uU(2,":\n"),e.TgZ(3,"span",1)(4,"select",2),e.NdJ("ngModelChange",function(a){return o.valueChanged({value:a})})("ngModelChange",function(a){return o.value=a}),e._UZ(5,"option",3),e.YNc(6,zA,2,2,"option",4),e.qZA()()),2&t&&(e.Q6J("ngClass",o.connected?"":"text-red-dull"),e.xp6(1),e.Oqu(o.category.name),e.xp6(3),e.Q6J("ngModel",o.value),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(1),e.Q6J("ngForOf",o.categoryValues))},dependencies:[kn,ot,gr,Kr,Mn,En,fn]}),r})();function kh(r,n){1&r&&(e.TgZ(0,"tr")(1,"th",11),e._uU(2,"+"),e.qZA(),e._UZ(3,"th",12),e.TgZ(4,"th",11),e._uU(5,"+"),e.qZA(),e._UZ(6,"th",5),e.TgZ(7,"th",11),e._uU(8,"+"),e.qZA(),e._UZ(9,"th",5),e.TgZ(10,"th",11),e._uU(11,"+"),e.qZA()())}function KA(r,n){if(1&r&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",7)(3,"col",8)(4,"col",7)(5,"col",8)(6,"col",7)(7,"col",8)(8,"col",7)(9,"col",9)(10,"col",7)(11,"col",10)(12,"col",7)(13,"col",10)(14,"col",7),e.qZA(),e.TgZ(15,"tbody"),e.YNc(16,kh,12,0,"tr",0),e.qZA()()),2&r){const t=e.oxw();e.xp6(16),e.Q6J("ngIf",t.soundChanges.length)}}function G1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-table",13),e.NdJ("soundChangesChanges",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.soundChangesChanges)}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChanges",t.soundChanges)}}function YA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-edit",14),e.NdJ("soundChangesRawChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.soundChangesRawChange())})("soundChangesRawChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.soundChangesRaw=i)}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChangesRaw",t.soundChangesRaw)}}function H1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",11),e._uU(1,"[ "),e.TgZ(2,"a",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"E"),e.qZA(),e._uU(5,"dit"),e.qZA(),e._uU(6," ]- "),e.qZA()}}function J1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",11),e._uU(1,"[ "),e.TgZ(2,"a",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"S"),e.qZA(),e._uU(5,"ave"),e.qZA(),e._uU(6," ]-["),e.TgZ(7,"a",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelSoundChanges())}),e._uU(8," x "),e.qZA(),e._uU(9,"]- "),e.qZA()}}let Og=(()=>{class r extends Ug{constructor(t){super(Ll.Declension),this.languagesEvolutionService=t}ngOnChanges(t){(t.selectedLanguage||t.rule)&&this.refresh()}refresh(){this.rule&&this.rule.id&&this.languagesEvolutionService.getSoundChangesByRule({ruleId:this.rule.id,soundChangePurpose:this.soundChangePurpose}).subscribe(t=>{this.soundChanges=t})}editSoundChanges(){this.rule&&this.rule.id&&this.languagesEvolutionService.getSoundChangesRawLinesByRule({declensionId:this.rule.id,soundChangePurpose:this.soundChangePurpose}).subscribe(t=>{this.soundChangesRaw=t,console.log("editSoundChanges soundChangesRaw",this.soundChangesRaw),this.editMode=!0})}saveSoundChanges(){this.rule&&this.rule.id&&this.languagesEvolutionService.saveSoundChangesRawLinesByRule({declensionId:this.rule.id,body:this.soundChangesRaw,soundChangePurpose:this.soundChangePurpose}).subscribe(()=>{this.editMode=!1,this.refresh()})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_i))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-rule-sound-changes"]],inputs:{rule:"rule"},features:[e.qOj,e.TTD],decls:12,vars:5,consts:[[4,"ngIf"],[3,"soundChanges","soundChangesChanges",4,"ngIf"],[3,"soundChangesRaw","soundChangesRawChange",4,"ngIf"],["span","1",2,"width","auto"],["span","1",1,"border",2,"width","max-content"],["app-horizontal-dash","",1,"border"],["class","border",4,"ngIf"],["span","1",1,"border",2,"width","8px"],["span","1"],["span","1",2,"width","100%"],["span","1",2,"width","16px"],[1,"border"],["app-horizontal-dash","","colspan","7",1,"border"],[3,"soundChanges","soundChangesChanges"],[3,"soundChangesRaw","soundChangesRawChange"],[1,"text-yellow-dull",3,"click"],[1,"text-green-dull",3,"click"],[1,"text-red-dull",3,"click"]],template:function(t,o){1&t&&(e.YNc(0,KA,17,1,"table",0),e.YNc(1,G1,1,1,"app-sound-changes-table",1),e.YNc(2,YA,1,1,"app-sound-changes-edit",2),e.TgZ(3,"table")(4,"colgroup"),e._UZ(5,"col",3)(6,"col",4),e.qZA(),e.TgZ(7,"tbody")(8,"tr"),e._UZ(9,"th",5),e.YNc(10,H1,7,0,"th",6),e.YNc(11,J1,10,0,"th",6),e.qZA()()()),2&t&&(e.Q6J("ngIf",o.soundChanges.length),e.xp6(1),e.Q6J("ngIf",!o.editMode),e.xp6(1),e.Q6J("ngIf",o.editMode),e.xp6(8),e.Q6J("ngIf",!o.editMode),e.xp6(1),e.Q6J("ngIf",o.editMode))},dependencies:[pt,pn,Mg,Pg]}),r})();function XA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",2)(1,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.save())}),e._uU(2,"[ SAVE ]"),e.qZA()()}}function W1(r,n){1&r&&(e.TgZ(0,"span",17),e._uU(1,"Any"),e.qZA())}function Q1(r,n){if(1&r&&(e.TgZ(0,"span",18),e._uU(1),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.hij("",0==o?"":", "," "),e.xp6(2),e.Oqu(t.name)}}function jm(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span",13),e.YNc(1,W1,2,0,"span",14),e.YNc(2,Q1,4,2,"span",15),e.TgZ(3,"a",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.isEditCategories=!0)}),e._uU(4," [edit categories]"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!(null!=t.declensionRule.values&&t.declensionRule.values.length)),e.xp6(1),e.Q6J("ngForOf",t.declensionRule.values)}}function Lg(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-rule-values",21),e.NdJ("changed",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.changed=!0)}),e.qZA()}if(2&r){const t=e.oxw().$implicit,o=e.oxw(2);e.Q6J("categoryValues",o.categoryValues.get(t))("category",t)("connected",o.isCategoryConnected(t))("rule",o.declensionRule)("value",o.getRuleCategoryValue(t))}}function $m(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,Lg,1,5,"app-rule-values",20),e.qZA()),2&r){const t=n.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.isCategoryConnected(t)||o.getRuleCategoryValue(t))}}function Gm(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span",13),e.YNc(1,$m,2,1,"span",19),e.TgZ(2,"a",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.isEditCategories=!1)}),e._uU(3," [close]"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.categories)}}let z1=(()=>{class r{constructor(t){this.categoryService=t,this.onSave=new e.vpe,this.categoryValues=new Map,this.categoryConnections=new Map,this.changed=!1,this.isEditCategories=!1}get categories(){return[...this.categoryValues.keys()].sort((t,o)=>t.name?t.name.localeCompare(o.name?o.name:""):-1)}ngOnInit(){this.reloadValues(this.declensionRule)}ngOnChanges(t){var o,i,a;null!==(o=t.declensionRule)&&void 0!==o&&o.currentValue&&(console.log("ngOnChanges",t,null===(i=t.declension)||void 0===i?void 0:i.currentValue.id),this.reloadValues(null===(a=t.declensionRule)||void 0===a?void 0:a.currentValue))}change(t){this.changed=!0}changeEnabled(){this.declensionRule.enabled=!this.declensionRule.enabled,this.changed=!0}save(){this.onSave.emit(),this.changed=!1}reloadValues(t){this.categoryValues.clear(),this.categoryService.getAllCategories().subscribe(o=>{o.forEach(i=>{var a,d,p,y,w,D;if(null!==(a=this.declensionRule.declension)&&void 0!==a&&a.values){const x=null===(d=this.declensionRule.declension)||void 0===d?void 0:d.values;if((null==x?void 0:x.filter(F=>{var $;return(null===($=F.category)||void 0===$?void 0:$.id)===i.id}).length)>0)return}this.categoryValues.set(i,[]),i.id&&(null===(y=null===(p=this.declensionRule.declension)||void 0===p?void 0:p.language)||void 0===y?void 0:y.id)&&this.categoryService.getCategoryValuesByCategoryAndLang({categoryId:i.id,langId:this.declensionRule.declension.language.id}).subscribe(x=>{this.categoryValues.set(i,x)}),(null===(D=null===(w=this.declensionRule.declension)||void 0===w?void 0:w.language)||void 0===D?void 0:D.id)&&i.id&&this.categoryService.getGrammaticalCategoryConnectionsForLang({categoryId:i.id,languageId:this.declensionRule.declension.language.id}).subscribe(x=>{i.id&&this.categoryConnections.set(i.id,!!x.find(F=>{var $,ee,Se;return(null===($=null==F?void 0:F.pos)||void 0===$?void 0:$.id)===(null===(Se=null===(ee=this.declensionRule.declension)||void 0===ee?void 0:ee.pos)||void 0===Se?void 0:Se.id)}))})})})}getRuleCategoryValue(t){var o;const i=null===(o=this.declensionRule.values)||void 0===o?void 0:o.find(a=>{var d;return(null===(d=null==a?void 0:a.category)||void 0===d?void 0:d.id)==t.id});return null==i?void 0:i}isCategoryConnected(t){return!(null==t||!t.id||!this.categoryConnections.get(t.id))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(la))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-declension-rule"]],inputs:{declensionRule:"declensionRule"},outputs:{onSave:"onSave"},features:[e.TTD],decls:21,vars:8,consts:[["class","selector",4,"ngIf"],[1,"rule-container"],[1,"selector"],["for","ruleName",1,"label"],[1,"input-group"],["id","ruleName","name","ruleName","type","text",1,"input",3,"ngModel","ngModelChange"],[1,"selector","link-btn",3,"ngClass","click"],["for","rulePattern",1,"label"],["id","rulePattern","name","rulePattern","type","text",1,"input",3,"ngModel","ngModelChange"],[1,"label"],["style","margin-left: 8px;",4,"ngIf"],[3,"rule"],[1,"link-btn","text-green-dull",3,"click"],[2,"margin-left","8px"],["class","text-green-dull",4,"ngIf"],["class","text-white",4,"ngFor","ngForOf"],[1,"text-grey-dull","link-btn",3,"click"],[1,"text-green-dull"],[1,"text-white"],[4,"ngFor","ngForOf"],[3,"categoryValues","category","connected","rule","value","changed",4,"ngIf"],[3,"categoryValues","category","connected","rule","value","changed"]],template:function(t,o){1&t&&(e.YNc(0,XA,3,0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"label",3),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"div",4)(6,"input",5),e.NdJ("ngModelChange",function(a){return o.change(a)})("ngModelChange",function(a){return o.declensionRule.name=a}),e.qZA(),e.TgZ(7,"a",6),e.NdJ("click",function(){return o.changeEnabled()}),e._uU(8),e.qZA()()(),e.TgZ(9,"div",2)(10,"label",7),e._uU(11,"Word pattern"),e.qZA(),e.TgZ(12,"div",4)(13,"input",8),e.NdJ("ngModelChange",function(a){return o.change(a)})("ngModelChange",function(a){return o.declensionRule.wordPattern=a}),e.qZA()()(),e.TgZ(14,"div",2)(15,"label",9),e._uU(16,"For grammatical categories:"),e.qZA(),e.TgZ(17,"div",4),e.YNc(18,jm,5,2,"span",10),e.YNc(19,Gm,4,1,"span",10),e.qZA()()(),e._UZ(20,"app-rule-sound-changes",11)),2&t&&(e.Q6J("ngIf",o.changed),e.xp6(6),e.Q6J("ngModel",o.declensionRule.name),e.xp6(1),e.Q6J("ngClass",o.declensionRule.enabled?"text-green-dull":"text-grey-dull"),e.xp6(1),e.hij("[ ",o.declensionRule.enabled?"ENABLED":"DISABLED"," ]"),e.xp6(5),e.Q6J("ngModel",o.declensionRule.wordPattern),e.xp6(5),e.Q6J("ngIf",!o.isEditCategories),e.xp6(1),e.Q6J("ngIf",o.isEditCategories),e.xp6(1),e.Q6J("rule",o.declensionRule))},dependencies:[kn,ot,pt,Nn,En,fn,Bm,Og],styles:[".rule-container[_ngcontent-%COMP%]{text-align:left}.label[_ngcontent-%COMP%]{padding-left:4px;padding-bottom:8px}.selector[_ngcontent-%COMP%]{margin:8px 8px 12px}"]}),r})();function K1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-declension-rule",13),e.NdJ("onSave",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.save())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("declensionRule",t.ruleSelected)}}function Y1(r,n){1&r&&(e.TgZ(0,"tr"),e._UZ(1,"th",11),e.TgZ(2,"th"),e._uU(3,"+"),e.qZA()())}function X1(r,n){1&r&&(e.TgZ(0,"tr"),e._UZ(1,"th",11),e.TgZ(2,"th"),e._uU(3,"+"),e.qZA()())}function eC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th",14)(2,"a",5),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.ruleSelected=a)}),e._uU(3),e.qZA()(),e.TgZ(4,"th"),e._uU(5),e.qZA()()}if(2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngClass",null!=t&&t.id&&(null==o.ruleSelected?null:o.ruleSelected.id)===(null==t?null:t.id)?"selectedTh":""),e.xp6(1),e.Q6J("ngClass",null!=t&&t.id&&(null==o.ruleSelected?null:o.ruleSelected.id)===(null==t?null:t.id)?"text-main":null!=t&&t.enabled?"text-white":"text-grey"),e.xp6(1),e.Oqu(t.name),e.xp6(2),e.Oqu(null!=t&&t.id&&(null==o.ruleSelected?null:o.ruleSelected.id)===(null==t?null:t.id)?"":"|")}}let tC=(()=>{class r{constructor(t){this.declensionService=t,this.rules=[],this.isMainDeclension=!1}get name(){var t;return null===(t=this.declension.values)||void 0===t?void 0:t.map(o=>o.name).join(" ")}reloadIsMainDeclension(){var t;null!==(t=this.declension)&&void 0!==t&&t.id&&this.declensionService.isMainDelcension({declensionId:this.declension.id}).subscribe(o=>this.isMainDeclension=o)}ngOnChanges(t){var o,i,a,d;null!==(o=t.declension)&&void 0!==o&&o.currentValue&&(console.log("ngOnChanges",t,null===(i=t.declension)||void 0===i?void 0:i.currentValue.id),this.ruleSelected=void 0,this.reloadIsMainDeclension(),null!==(a=t.declension)&&void 0!==a&&a.currentValue.id&&this.reloadRules(null===(d=t.declension)||void 0===d?void 0:d.currentValue.id))}ngOnInit(){var t,o;!(null===(t=this.declension)||void 0===t)&&t.id&&this.reloadRules(null===(o=this.declension)||void 0===o?void 0:o.id),this.reloadIsMainDeclension()}addNewRule(){this.declensionService.saveDeclensionRule({body:{name:"New Rule",declension:this.declension,enabled:!0}}).subscribe(o=>{this.rules.push(o),this.ruleSelected=o})}save(){this.ruleSelected&&this.declensionService.saveDeclensionRule({body:this.ruleSelected}).subscribe(t=>{this.rules=this.rules.filter(o=>o.id!==t.id),this.rules.push(t),this.ruleSelected=t})}changeIsMainDeclension(){var t;null!==(t=this.declension)&&void 0!==t&&t.id&&(this.isMainDeclension?this.declensionService.removeFromMainDeclension({declensionId:this.declension.id}).subscribe(()=>{this.reloadIsMainDeclension()}):this.declensionService.setAsMainDeclension({declensionId:this.declension.id}).subscribe(()=>{this.reloadIsMainDeclension()}))}reloadRules(t){this.declensionService.getDeclensionRules({declensionId:t}).subscribe(o=>this.rules=o)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Rg))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-declension-rules"]],inputs:{declension:"declension"},features:[e.TTD],decls:50,vars:6,consts:[["span","1",1,"border",2,"width","25%","white-space","nowrap"],["span","1",1,"border",2,"width","8px"],["span","1",1,"border",2,"width","75%"],["app-horizontal-dash","","colspan","3"],["colspan","3",1,"uppercase"],[1,"link-btn",3,"ngClass","click"],["rowspan","0"],[3,"declensionRule","onSave",4,"ngIf"],["app-vertical-dash","","rowspan","0"],[4,"ngIf"],[4,"ngFor","ngForOf"],["app-horizontal-dash",""],[1,"text-green-dull","link-btn",3,"click"],[3,"declensionRule","onSave"],[3,"ngClass"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",1),e.qZA(),e.TgZ(6,"tbody")(7,"tr"),e._UZ(8,"th",3),e.TgZ(9,"th"),e._uU(10,"+"),e.qZA()(),e.TgZ(11,"tr")(12,"th",4),e._uU(13),e.qZA(),e.TgZ(14,"th"),e._uU(15,"|"),e.qZA()(),e.TgZ(16,"tr"),e._UZ(17,"th",3),e.TgZ(18,"th"),e._uU(19,"+"),e.qZA()(),e.TgZ(20,"tr")(21,"th")(22,"a",5),e.NdJ("click",function(){return o.changeIsMainDeclension()}),e._uU(23,"[ MAIN DECLENSION ]"),e.qZA()(),e.TgZ(24,"th"),e._uU(25,"|"),e.qZA(),e.TgZ(26,"th",6),e.YNc(27,K1,1,1,"app-declension-rule",7),e.qZA(),e._UZ(28,"th",8),e.qZA(),e.YNc(29,Y1,4,0,"tr",9),e.TgZ(30,"tr")(31,"th"),e._uU(32,"RULES"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"|"),e.qZA()(),e.YNc(35,X1,4,0,"tr",9),e.YNc(36,eC,6,4,"tr",10),e.TgZ(37,"tr"),e._UZ(38,"th",11),e.TgZ(39,"th"),e._uU(40,"+"),e.qZA()(),e.TgZ(41,"tr")(42,"th")(43,"a",12),e.NdJ("click",function(){return o.addNewRule()}),e._uU(44,"[ + ]"),e.qZA()(),e.TgZ(45,"th"),e._uU(46,"|"),e.qZA()(),e.TgZ(47,"tr"),e._UZ(48,"th",6)(49,"th",8),e.qZA()()()),2&t&&(e.xp6(13),e.Oqu(o.name),e.xp6(9),e.Q6J("ngClass",o.isMainDeclension?"text-green-dull":"text-grey-dull"),e.xp6(5),e.Q6J("ngIf",o.ruleSelected),e.xp6(2),e.Q6J("ngIf",o.rules.length),e.xp6(6),e.Q6J("ngIf",o.rules.length),e.xp6(1),e.Q6J("ngForOf",o.rules))},dependencies:[kn,ot,pt,pn,gi,z1],styles:[".uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.selectedTh[_ngcontent-%COMP%]{background-color:#333}"]}),r})();function eI(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th",8)(2,"a",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.changePos(a.pos[i]))}),e._uU(3),e.qZA()(),e.TgZ(4,"th",10),e._uU(5),e.qZA(),e.BQk()}if(2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngClass",(null==o.selectedPos?null:o.selectedPos.id)===(null==o.pos[t]?null:o.pos[t].id)?"selectedTh":""),e.xp6(1),e.Q6J("ngClass",(null==o.selectedPos?null:o.selectedPos.id)===(null==o.pos[t]?null:o.pos[t].id)?"text-main":"text-grey"),e.xp6(1),e.Oqu(null==o.pos[t]?null:o.pos[t].name),e.xp6(2),e.hij(" ",(null==o.selectedPos?null:o.selectedPos.id)===(null==o.pos[t]?null:o.pos[t].id)?"":t===o.categories.length?"+":"|"," ")}}function tI(r,n){1&r&&(e.ynx(0),e._UZ(1,"th",11),e.TgZ(2,"th"),e._uU(3,"+"),e.qZA(),e.BQk())}function nI(r,n){1&r&&(e.ynx(0),e._UZ(1,"th"),e.TgZ(2,"th",12),e._uU(3,"|"),e.qZA(),e.BQk())}function rI(r,n){if(1&r&&(e.ynx(0),e.YNc(1,tI,4,0,"ng-container",7),e.YNc(2,nI,4,0,"ng-container",7),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.pos.length===t&&t+1!==o.arraySize),e.xp6(1),e.Q6J("ngIf",o.pos.length!=t||t+1===o.arraySize)}}function oI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3).$implicit,a=e.oxw();return e.KtG(a.connectCategory(a.categories[i]))}),e._uU(1,"x"),e.qZA()}}function iI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3).$implicit,a=e.oxw();return e.KtG(a.disconnectCategory(a.categories[i]))}),e._uU(1,"o"),e.qZA()}}function sI(r,n){if(1&r&&(e.TgZ(0,"th",12),e.YNc(1,oI,2,0,"a",15),e.YNc(2,iI,2,0,"a",16),e.qZA()),2&r){const t=e.oxw(2).$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",!o.isCategoryConnected(o.categories[t])),e.xp6(1),e.Q6J("ngIf",o.isCategoryConnected(o.categories[t]))}}function aI(r,n){1&r&&e._UZ(0,"th",12)}function lI(r,n){if(1&r&&(e.ynx(0),e.YNc(1,sI,3,2,"th",13),e.YNc(2,aI,1,0,"th",13),e.TgZ(3,"th",14),e._uU(4),e.qZA(),e.TgZ(5,"th",12),e._uU(6,"|"),e.qZA(),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.isCategoryWithPos(o.categories[t])),e.xp6(1),e.Q6J("ngIf",!o.isCategoryWithPos(o.categories[t])),e.xp6(1),e.Q6J("ngClass",o.isCategoryWithPos(o.categories[t])?"text-white":"text-grey"),e.xp6(1),e.hij(" ",null==o.categories[t]?null:o.categories[t].name," ")}}function uI(r,n){1&r&&(e.ynx(0),e._UZ(1,"th",19),e.TgZ(2,"th"),e._uU(3,"+"),e.qZA(),e.BQk())}function cI(r,n){1&r&&(e.ynx(0),e._UZ(1,"th",20),e.TgZ(2,"th",12),e._uU(3,"|"),e.qZA(),e.BQk())}function dI(r,n){if(1&r&&(e.ynx(0),e.YNc(1,uI,4,0,"ng-container",7),e.YNc(2,cI,4,0,"ng-container",7),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.categories.length===t&&t+1!==o.arraySize),e.xp6(1),e.Q6J("ngIf",o.categories.length!=t||t+1===o.arraySize)}}function hI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",25),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.deleteDeclension(a.matrix[i],i))}),e._uU(1,"o"),e.qZA()}}function pI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.addDeclension(a.matrix[i],i))}),e._uU(1,"x"),e.qZA()}}function gI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",27),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.deleteDeclension(a.matrix[i],i))}),e._uU(1,"x"),e.qZA()}}function fI(r,n){if(1&r&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2).$implicit,o=e.oxw();e.xp6(1),e.Oqu(o.declensionName(o.matrix[t]))}}function _I(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",14)(1,"a",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.selectedDeclension=a.matrix[i])}),e._uU(2),e.qZA()()}if(2&r){const t=e.oxw(2).$implicit,o=e.oxw();e.Q6J("ngClass",o.matrix[t].id&&(null==o.selectedDeclension?null:o.selectedDeclension.id)===o.matrix[t].id?"selectedTh":""),e.xp6(1),e.Q6J("ngClass",o.matrix[t].id&&(null==o.selectedDeclension?null:o.selectedDeclension.id)===o.matrix[t].id?"text-main":"text-grey"),e.xp6(1),e.Oqu(o.declensionName(o.matrix[t]))}}function mI(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"th",14),e.YNc(2,hI,2,0,"a",21),e.YNc(3,pI,2,0,"a",22),e.YNc(4,gI,2,0,"a",23),e.qZA(),e.YNc(5,fI,2,1,"th",7),e.YNc(6,_I,3,3,"th",24),e.TgZ(7,"th"),e._uU(8,"|"),e.qZA(),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngClass",o.matrix[t].id&&(null==o.selectedDeclension?null:o.selectedDeclension.id)===o.matrix[t].id?"selectedTh":""),e.xp6(1),e.Q6J("ngIf",!o.matrix[t].deprecated&&o.matrix[t].exist),e.xp6(1),e.Q6J("ngIf",!o.matrix[t].deprecated&&!o.matrix[t].exist),e.xp6(1),e.Q6J("ngIf",o.matrix[t].deprecated&&o.matrix[t].exist),e.xp6(1),e.Q6J("ngIf",!o.matrix[t].exist),e.xp6(1),e.Q6J("ngIf",o.matrix[t].exist)}}function nC(r,n){1&r&&(e.ynx(0),e._UZ(1,"th",19),e.TgZ(2,"th"),e._uU(3,"|"),e.qZA(),e.BQk())}function rC(r,n){1&r&&(e.ynx(0),e._UZ(1,"th",20),e.TgZ(2,"th",12),e._uU(3,"|"),e.qZA(),e.BQk())}function oC(r,n){if(1&r&&(e.ynx(0),e.YNc(1,nC,4,0,"ng-container",7),e.YNc(2,rC,4,0,"ng-container",7),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.matrix.length===t&&t+1!==o.arraySize),e.xp6(1),e.Q6J("ngIf",o.matrix.length!=t||t+1===o.arraySize)}}function iC(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,eI,6,4,"ng-container",7),e.YNc(2,rI,3,2,"ng-container",7),e.YNc(3,lI,7,4,"ng-container",7),e.YNc(4,dI,3,2,"ng-container",7),e.YNc(5,mI,9,6,"ng-container",7),e.YNc(6,oC,3,2,"ng-container",7),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.pos[t]),e.xp6(1),e.Q6J("ngIf",!o.pos[t]),e.xp6(1),e.Q6J("ngIf",o.categories[t]),e.xp6(1),e.Q6J("ngIf",!o.categories[t]),e.xp6(1),e.Q6J("ngIf",o.matrix[t]),e.xp6(1),e.Q6J("ngIf",!o.matrix[t])}}function sC(r,n){if(1&r&&e._UZ(0,"app-language-declension-rules",29),2&r){const t=e.oxw();e.Q6J("declension",t.selectedDeclension)}}let aC=(()=>{class r extends Rl{constructor(t,o,i){super(),this.categoryService=t,this.posService=o,this.declensionService=i,this.categories=[],this.pos=[],this.categoriesWithPos=new Set,this.connectedCategories=new Map,this.languageValues=new Map,this.matrix=[]}get array(){return[...Array(this.arraySize).keys()]}get arraySize(){return Math.max(this.categories.length,this.pos.length,this.matrix.length)}ngOnChanges(t){var o,i,a,d,p;null!==(o=t.selectedLanguage)&&void 0!==o&&o.currentValue&&(console.log("ngOnChanges",t,null===(i=t.selectedLanguage)||void 0===i?void 0:i.currentValue.id),null!==(a=t.selectedLanguage)&&void 0!==a&&a.currentValue&&(this.reloadValues(null===(d=t.selectedLanguage)||void 0===d?void 0:d.currentValue,this.categories),this.selectedPos&&this.reloadCategoriesConnections(this.selectedPos,null===(p=t.selectedLanguage)||void 0===p?void 0:p.currentValue)))}ngOnInit(){this.categoryService.getAllCategories().subscribe(t=>{const o=t.sort((i,a)=>i.name?i.name.localeCompare(a.name?a.name:""):-1);this.categories=o,this.selectedLanguage&&this.reloadValues(this.selectedLanguage,o)}),this.posService.getAllPos().subscribe(t=>this.pos=t.sort((o,i)=>o.name?o.name.localeCompare(i.name?i.name:""):-1))}changePos(t){this.selectedPos=t,this.selectedLanguage&&this.reloadCategoriesConnections(t,this.selectedLanguage)}isCategoryConnected(t){return!(!this.selectedPos||!t.id)&&this.connectedCategories.has(t.id)}connectCategory(t){const o=t.id;if(o){const i={grammaticalCategory:t,language:this.selectedLanguage,pos:this.selectedPos};this.declensionService.saveDeclensionConnection({body:i}).subscribe(a=>{var d,p;i.id=a,this.connectedCategories.set(o,i),(null===(d=this.selectedLanguage)||void 0===d?void 0:d.id)&&(null===(p=this.selectedPos)||void 0===p?void 0:p.id)&&this.recalculateMatrix(this.selectedLanguage.id,this.selectedPos.id)})}}disconnectCategory(t){var o;const i=t.id;if(i&&this.connectedCategories.has(i)){const a=null===(o=this.connectedCategories.get(i))||void 0===o?void 0:o.id;a&&this.declensionService.deleteDeclensionConnection({connectionId:a}).subscribe(()=>{var d,p;this.connectedCategories.delete(i),(null===(d=this.selectedLanguage)||void 0===d?void 0:d.id)&&(null===(p=this.selectedPos)||void 0===p?void 0:p.id)&&this.recalculateMatrix(this.selectedLanguage.id,this.selectedPos.id)})}}isCategoryWithPos(t){return!(!this.selectedPos||!t.id)&&this.categoriesWithPos.has(t.id)}declensionName(t){var o;return null===(o=t.values)||void 0===o?void 0:o.map(i=>i.name).join(" ")}deleteDeclension(t,o){t.id&&this.declensionService.deleteDeclension({declensionId:t.id}).subscribe(()=>{this.matrix.splice(o,1)})}addDeclension(t,o){this.declensionService.saveDeclension({body:t}).subscribe(i=>this.matrix[o]=i)}reloadCategoriesConnections(t,o){this.categoriesWithPos.clear(),this.connectedCategories.clear(),t.id&&(null==o?void 0:o.id)&&this.categoryService.getGrammaticalCategoryConnectionsForLangAndPos({posId:t.id,languageId:o.id}).subscribe(i=>{i.forEach(a=>{var d;null!==(d=null==a?void 0:a.grammaticalCategory)&&void 0!==d&&d.id&&this.categoriesWithPos.add(a.grammaticalCategory.id)}),this.reloadDeclenstionConnections(o,t),console.log(this.categoriesWithPos)})}reloadDeclenstionConnections(t,o){console.log("reloadDeclenstionConnections",t,o),this.connectedCategories.clear(),t.id&&o.id&&this.declensionService.getDeclensionConnectionWithLangAndPos({languageId:t.id,posId:o.id}).subscribe(i=>{i.forEach(a=>{var d;null!==(d=null==a?void 0:a.grammaticalCategory)&&void 0!==d&&d.id&&this.connectedCategories.set(a.grammaticalCategory.id,a)}),t.id&&o.id&&this.recalculateMatrix(t.id,o.id)})}reloadValues(t,o){this.languageValues.clear(),o.forEach(i=>{console.log("reloadValues",i),this.reloadValuesForCategory(t,i)})}reloadValuesForCategory(t,o){const i=o.id;t.id&&i&&this.categoryService.getCategoryValuesByCategoryAndLang({langId:t.id,categoryId:i}).subscribe(a=>{this.languageValues.set(i,a),console.log(this.languageValues)})}recalculateMatrix(t,o){this.declensionService.getDeclensionsByLangAndPos({languageId:t,posId:o}).subscribe(i=>{this.matrix=i})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(la),e.Y36(fi),e.Y36(Rg))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-declension"]],features:[e.qOj,e.TTD],decls:13,vars:2,consts:[["span","1",1,"border",2,"width","21%","white-space","nowrap"],["span","1",1,"border",2,"width","8px"],["span","1",1,"border",2,"width","17px","white-space","nowrap"],["span","1",2,"width","21%"],["span","1",1,"border",2,"width","58%"],[4,"ngFor","ngForOf"],[3,"declension",4,"ngIf"],[4,"ngIf"],[2,"white-space","nowrap",3,"ngClass"],[3,"ngClass","click"],[2,"white-space","nowrap"],["app-horizontal-dash",""],[1,"border"],["class","border",4,"ngIf"],[3,"ngClass"],["class","link-btn text-grey-dull",3,"click",4,"ngIf"],["class","link-btn text-green-dull",3,"click",4,"ngIf"],[1,"link-btn","text-grey-dull",3,"click"],[1,"link-btn","text-green-dull",3,"click"],["app-horizontal-dash","","colspan","2"],["colspan","2"],["class","text-green-dull link-btn",3,"click",4,"ngIf"],["class","text-grey link-btn",3,"click",4,"ngIf"],["class","text-red-dull link-btn",3,"click",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"text-green-dull","link-btn",3,"click"],[1,"text-grey","link-btn",3,"click"],[1,"text-red-dull","link-btn",3,"click"],[1,"link-btn",3,"ngClass","click"],[3,"declension"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",1)(7,"col",2)(8,"col",4)(9,"col",1),e.qZA(),e.TgZ(10,"tbody"),e.YNc(11,iC,7,6,"tr",5),e.qZA()(),e.YNc(12,sC,1,1,"app-language-declension-rules",6)),2&t&&(e.xp6(11),e.Q6J("ngForOf",o.array),e.xp6(1),e.Q6J("ngIf",o.selectedDeclension))},dependencies:[kn,ot,pt,pn,tC],styles:[".selectedTh[_ngcontent-%COMP%]{background-color:#333}"]}),r})();function lC(r,n){1&r&&e._UZ(0,"col",5)}function uC(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"col",13)(2,"col",5),e.BQk()),2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(1),e.uIk("style","width: "+(o==i.selectedIndex?8*(t.name.length+4)+1:65)+"px;",e.Ckj)}}function cC(r,n){if(1&r&&(e.TgZ(0,"th",7),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(0==t.selectedIndex?"+":"")}}function dC(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"th",14),e.TgZ(2,"th",7),e._uU(3),e.qZA(),e.BQk()),2&r){const t=n.index,o=e.oxw();e.xp6(1),e.Q6J("symbol",t==o.selectedIndex?"-":"_"),e.xp6(2),e.Oqu(t==o.selectedIndex||t+1==o.selectedIndex?"+":"")}}function hC(r,n){1&r&&(e.TgZ(0,"th",7),e._uU(1,"|"),e.qZA())}function Vu(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th")(2,"a",15),e.NdJ("click",function(){const a=e.CHM(t).index,d=e.oxw();return e.KtG(d.select(a))}),e._uU(3),e.qZA()(),e.TgZ(4,"th",7),e._uU(5,"|"),e.qZA(),e.BQk()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(2),e.Q6J("ngClass",o==i.selectedIndex?"":"text-grey-dull"),e.uIk("disabled",!!t.enabled||null),e.xp6(1),e.Oqu(o==i.selectedIndex?t.name:t.shortName?t.shortName:t.name.substr(0,3)+".")}}function yI(r,n){if(1&r&&e._UZ(0,"th",9),2&r){const t=e.oxw();e.uIk("colspan",2*t.selectedIndex-(t.selectedIndex>0&&t.removeBorder?1:0))}}function vI(r,n){1&r&&(e.TgZ(0,"th",7),e._uU(1,"+"),e.qZA())}function Wc(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-language-description",16),e.NdJ("onDeleteLanguage",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onDeleteLanguage.emit(i))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function G2(r,n){if(1&r&&e._UZ(0,"app-language-phonetics",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function Hm(r,n){if(1&r&&e._UZ(0,"app-language-writing",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function H2(r,n){if(1&r&&e._UZ(0,"app-clusters",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function pC(r,n){if(1&r&&e._UZ(0,"app-language-pos",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function gC(r,n){if(1&r&&e._UZ(0,"app-language-category",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function J2(r,n){if(1&r&&e._UZ(0,"app-language-declension",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}let xt=(()=>{class r{constructor(t){this.keybind=t,this.tabs=[{name:"Description",enabled:!0,shortName:"Descr."},{name:"Phonetics",enabled:!0,shortName:"[p\u02b0]"},{name:"Orthography",enabled:!0,shortName:"Aa..."},{name:"Phonotactics",enabled:!0,shortName:"CV(C)"},{name:"Word Classes",enabled:!0,shortName:"pos"},{name:"Grammatical Categories",enabled:!0,shortName:"m/n/f"},{name:"Declensions",enabled:!0,shortName:"-us/\u016bs"}],this.removeBorder=!0,this.onDeleteLanguage=new e.vpe,this.selectedIndex=6}ngOnInit(){this.correctIndex(),this.tabs[2].enabled=!!this.selectedLanguage}correctIndex(){}select(t){this.selectedIndex=t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(aa))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-tabs"]],inputs:{selectedLanguage:"selectedLanguage"},outputs:{onDeleteLanguage:"onDeleteLanguage"},decls:38,vars:17,consts:[[1,"tab-routes-wrapper"],[1,"tab-routes"],["class","border","span","1",4,"ngIf"],[4,"ngFor","ngForOf"],["span","1",2,"width","max-content"],["span","1",1,"border"],["class","border",4,"ngIf"],[1,"border"],["app-horizontal-dash","","class","border",4,"ngIf"],["app-horizontal-dash","",1,"border"],[1,"break-word","text-grey"],[3,"selectedLanguage","onDeleteLanguage",4,"ngIf"],[3,"selectedLanguage",4,"ngIf"],["span","1"],["app-horizontal-dash","",1,"border",3,"symbol"],[1,"link-btn",3,"ngClass","click"],[3,"selectedLanguage","onDeleteLanguage"],[3,"selectedLanguage"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table")(3,"colgroup"),e.YNc(4,lC,1,0,"col",2),e.YNc(5,uC,3,1,"ng-container",3),e._UZ(6,"col",4)(7,"col",5),e.qZA(),e.TgZ(8,"tbody")(9,"tr"),e.YNc(10,cC,2,1,"th",6),e.YNc(11,dC,4,2,"ng-container",3),e._UZ(12,"th",7)(13,"th",7),e.qZA(),e.TgZ(14,"tr"),e.YNc(15,hC,2,0,"th",6),e.YNc(16,Vu,6,3,"ng-container",3),e._UZ(17,"th",7)(18,"th",7),e.qZA(),e.TgZ(19,"tr"),e.YNc(20,yI,1,1,"th",8),e.YNc(21,vI,2,0,"th",6),e._UZ(22,"th",7),e.TgZ(23,"th",7),e._uU(24,"+"),e.qZA(),e._UZ(25,"th",9),e.TgZ(26,"th",7),e._uU(27,"+"),e.qZA()()(),e.TgZ(28,"tbody")(29,"tr")(30,"td",10),e.YNc(31,Wc,1,1,"app-language-description",11),e.YNc(32,G2,1,1,"app-language-phonetics",12),e.YNc(33,Hm,1,1,"app-language-writing",12),e.YNc(34,H2,1,1,"app-clusters",12),e.YNc(35,pC,1,1,"app-language-pos",12),e.YNc(36,gC,1,1,"app-language-category",12),e.YNc(37,J2,1,1,"app-language-declension",12),e.qZA()()()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(5),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(4),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(4),e.Q6J("ngIf",0<o.selectedIndex),e.xp6(1),e.Q6J("ngIf",!o.removeBorder||0!=o.selectedIndex),e.xp6(4),e.uIk("colspan",2*(o.tabs.length-o.selectedIndex-1)+1),e.xp6(5),e.uIk("colspan",2*(o.tabs.length+1)+(o.removeBorder?0:1)),e.xp6(1),e.Q6J("ngIf",0==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",1==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",2==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",3==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",4==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",5==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",6==o.selectedIndex))},dependencies:[kn,ot,pt,pn,Sg,Mm,Rm,MA,LA,QA,aC]}),r})();function CI(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"|"),e.qZA())}function TI(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr"),e._UZ(2,"th",4),e.TgZ(3,"th",4),e._uU(4),e.qZA(),e.TgZ(5,"th",4),e._uU(6),e.qZA(),e.TgZ(7,"th")(8,"a",13),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.selectLanguage(a))}),e._uU(9),e.qZA()(),e.TgZ(10,"th",4),e.YNc(11,CI,2,0,"span",14),e.qZA()(),e.TgZ(12,"tr"),e._UZ(13,"th",4),e.TgZ(14,"th",4),e._uU(15),e.qZA(),e.TgZ(16,"th",4),e._uU(17),e.qZA(),e._UZ(18,"th",15),e.TgZ(19,"th",4),e._uU(20),e.qZA()(),e.BQk()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(4),e.Oqu(t.id==i.selectedLanguage.id?"|":""),e.xp6(2),e.Oqu(t.id==i.selectedLanguage.id?"":"|"),e.xp6(2),e.Q6J("ngClass",t.id==i.selectedLanguage.id?"text-main":"text-grey-dull"),e.xp6(1),e.Oqu(t.displayName),e.xp6(2),e.Q6J("ngIf",t.id!=i.selectedLanguage.id),e.xp6(4),e.Oqu(t.id==i.selectedLanguage.id||(i.allLanguages[o+1]&&i.allLanguages[o+1].id)==i.selectedLanguage.id&&i.selectedLanguage.id?"+":""),e.xp6(2),e.Oqu(t.id==i.selectedLanguage.id||(i.allLanguages[o+1]&&i.allLanguages[o+1].id)==i.selectedLanguage.id&&i.selectedLanguage.id?"-":""),e.xp6(3),e.Oqu(t.id==i.selectedLanguage.id||(i.allLanguages[o+1]&&i.allLanguages[o+1].id)==i.selectedLanguage.id&&i.selectedLanguage.id?"+":"|")}}let wI=(()=>{class r{constructor(t){this.languagesService=t,this.allLanguages=[],this.selectedLanguage={displayName:""},this.selectLanguage({displayName:""})}ngOnInit(){this.refreshLanguages()}refreshAll(){}changeLang(){}selectLanguage(t){this.selectedLanguage=t}addNewLanguage(){this.languagesService.saveLanguage({body:{displayName:"New Language"}}).subscribe(o=>{this.allLanguages.push(o),this.allLanguages=this.allLanguages.sort((i,a)=>i.displayName.localeCompare(a.displayName)),this.selectLanguage(o)})}deleteLanguage(t){this.languagesService.deleteLanguage({languageId:t}).subscribe(()=>{this.refreshLanguages()})}refreshLanguages(){this.selectLanguage({displayName:""}),this.languagesService.getAllLanguages().subscribe(t=>{this.allLanguages=t.sort((o,i)=>o.displayName.localeCompare(i.displayName))})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(vs))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-languages"]],decls:36,vars:2,consts:[[1,"table-container"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","max-content"],["span","1",2,"width","auto"],[1,"border"],["app-horizontal-dash","","colspan","3"],["rowspan","0",2,"vertical-align","baseline","horiz-align","left"],[3,"selectedLanguage","onDeleteLanguage"],["colspan","3"],[1,"text-green-dull",3,"click"],[4,"ngFor","ngForOf"],["colspan","4","rowspan","0",1,"border"],["app-vertical-dash","","rowspan","0",1,"border"],[1,"link-btn",3,"ngClass","click"],[4,"ngIf"],["app-horizontal-dash","",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"table")(2,"colgroup"),e._UZ(3,"col",1)(4,"col",1)(5,"col",1)(6,"col",2)(7,"col",1)(8,"col",3),e.qZA(),e.TgZ(9,"tbody")(10,"tr")(11,"th",4),e._uU(12,"+"),e.qZA(),e._UZ(13,"th",5),e.TgZ(14,"th",4),e._uU(15,"+"),e.qZA(),e.TgZ(16,"th",6)(17,"app-language-tabs",7),e.NdJ("onDeleteLanguage",function(a){return o.deleteLanguage(a)}),e.qZA()()(),e.TgZ(18,"tr")(19,"th",4),e._uU(20,"|"),e.qZA(),e.TgZ(21,"th",8)(22,"a",9),e.NdJ("click",function(){return o.addNewLanguage()}),e._uU(23,"[ + ]"),e.qZA()(),e.TgZ(24,"th",4),e._uU(25,"|"),e.qZA()(),e.TgZ(26,"tr")(27,"th",4),e._uU(28,"+"),e.qZA(),e._UZ(29,"th",5),e.TgZ(30,"th",4),e._uU(31,"+"),e.qZA()(),e.YNc(32,TI,21,8,"ng-container",10),e.TgZ(33,"tr"),e._UZ(34,"th",11)(35,"th",12),e.qZA()()()()),2&t&&(e.xp6(17),e.Q6J("selectedLanguage",o.selectedLanguage),e.xp6(15),e.Q6J("ngForOf",o.allLanguages))},dependencies:[kn,ot,pt,pn,gi,xt]}),r})();function Qc(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" -> ",t.displayName,"")}}function bI(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,Qc,2,1,"span",3),e.qZA()),2&r){const t=n.index;e.xp6(1),e.Q6J("ngIf",0!=t)}}function Fg(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,bI,2,1,"span",4),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function qg(r,n){if(1&r&&(e.TgZ(0,"label",10),e._uU(1),e.qZA()),2&r){const t=e.oxw(2).index,o=e.oxw();e.xp6(1),e.Oqu(0==t?o.languages[0]?o.languages[0].displayName:"Language from:":"Language:")}}function ar(r,n){if(1&r&&(e.TgZ(0,"option",11),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.displayName)}}function W2(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,Fg,2,1,"div",4),e.TgZ(2,"span"),e.YNc(3,qg,2,1,"label",5),e.TgZ(4,"div",6)(5,"select",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw().index,d=e.oxw();return e.KtG(d.changeLanguage(a,i))})("ngModelChange",function(i){e.CHM(t);const a=e.oxw().index,d=e.oxw();return e.KtG(d.languages[a]=i)}),e.TgZ(6,"option",8),e._uU(7,"-Select Language-"),e.qZA(),e.YNc(8,ar,2,2,"option",9),e.qZA()()()()}if(2&r){const t=e.oxw(),o=t.index,i=t.$implicit,a=e.oxw();e.xp6(1),e.Q6J("ngForOf",a.languagesRoutes[o]),e.xp6(2),e.Q6J("ngIf",!a.languages[o]||0==o),e.xp6(2),e.Q6J("ngModel",a.languages[o]),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",i)}}function fC(r,n){if(1&r&&(e.TgZ(0,"div",2),e.YNc(1,W2,9,5,"div",3),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf",t.length)}}let _C=(()=>{class r{constructor(t,o){this.languagesService=t,this.languagesEvolutionService=o,this.languages=[],this.languagesRoutes=[],this.availableLanguagesTo=[],this.routeChanged=new e.vpe}ngOnInit(){this.availableLanguagesTo=[],this.languagesService.getAllLanguages().subscribe(t=>{this.availableLanguagesTo.push(t.sort((o,i)=>o.displayName.localeCompare(i.displayName)))})}changeLanguage(t,o){console.log("changeLanguage",t,o,this.availableLanguagesTo),this.availableLanguagesTo.splice(t+1,this.availableLanguagesTo.length-t-1),this.languages.splice(t+1,this.availableLanguagesTo.length-t-1),this.languagesRoutes.splice(t+1,this.availableLanguagesTo.length-t-1),console.log("changeLanguage",t,o,this.availableLanguagesTo),o.id&&this.languagesEvolutionService.getAllLanguagesFrom({fromId:o.id}).subscribe(a=>{this.availableLanguagesTo[t+1]=a});const i=this.languages[t-1].id;t>0&&o.id&&i&&this.languagesEvolutionService.getAllRoutes({fromId:i,toId:o.id}).subscribe(a=>{console.log("changeLanguage",a),this.languagesRoutes[t]=a;const d=this.languagesRoutes.reduce((p,y,w)=>w>t?p:p.concat(y[0].slice(1)),[this.languages[0]]);this.routeChanged.emit(d)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(vs),e.Y36(_i))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-trace-language-recursive"]],outputs:{routeChanged:"routeChanged"},decls:2,vars:1,consts:[[1,"row"],["class","selector",4,"ngFor","ngForOf"],[1,"selector"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","languageSelectorLabel","for","languageSelector",4,"ngIf"],[1,"input-group"],["id","languageSelector","name","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","languageSelector",1,"languageSelectorLabel"],[3,"ngValue"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,fC,2,1,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.availableLanguagesTo))},dependencies:[ot,pt,gr,Kr,Mn,En,fn],styles:[".row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.languageSelector[_ngcontent-%COMP%]{margin-top:4px}.languageSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})(),AI=(()=>{class r{constructor(){this.dataStore={selectedLanguage:void 0}}changeSelectedLanguage(t){this.dataStore.selectedLanguage=t}ngOnInit(){console.log("LangService onInit")}ngOnDestroy(){console.log("LangService onDestroy")}shortPOS(t){return"Adjective"==t?"adj.":"Adverb"==t?"adv.":"Conjunction"==t?"cnj.":"Determiner"==t?"det.":"Noun"==t?"n.":"Numeral"==t?"num.":"Preposition"==t?"prep.":"Pronoun"==t?"pn.":"Verb"==t?"v.":"Prefix"==t?"prefix":"Suffix"==t?"suffix":t}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Nh=(()=>{class r{constructor(t){this.keybind=t,this._errors=new Yr([]),this.dataStore={errors:[]},this.errors=this._errors.asObservable(),this.keybind.match(["ESCAPE"],[]).subscribe(()=>{this.clearErrors()})}addError(t){this.dataStore.errors.push(t),this._errors.next(Object.assign({},this.dataStore).errors)}clearErrors(){!this.dataStore.errors.length||(this.dataStore.errors=[],this._errors.next(Object.assign({},this.dataStore).errors))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(aa))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const mC=["wordSelector"];function yC(r,n){if(1&r&&(e.TgZ(0,"div"),e._uU(1,'More info about word "'),e.TgZ(2,"span",15),e._uU(3),e.qZA(),e._uU(4),e.qZA()),2&r){const t=e.oxw();e.xp6(3),e.Oqu(t.wordsTraced[t.wordSelected]),e.xp6(1),e.hij('" from ',t.fullRoute[t.wordSelected].displayName," language. ")}}function vC(r,n){1&r&&(e.ynx(0),e._UZ(1,"br"),e._uU(2,"|"),e._UZ(3,"br"),e._uU(4,"|"),e.BQk())}function II(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"|"),e.qZA())}function EI(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr"),e._UZ(2,"th",3),e.TgZ(3,"th",3),e._uU(4),e.qZA(),e.TgZ(5,"th",3),e._uU(6),e.qZA(),e.TgZ(7,"th")(8,"a",16),e.NdJ("click",function(){const a=e.CHM(t).index,d=e.oxw();return e.KtG(d.selectWord(a))}),e._uU(9),e.qZA()(),e.TgZ(10,"th",3),e.YNc(11,II,2,0,"span",9),e.qZA()(),e.TgZ(12,"tr"),e._UZ(13,"th",3),e.TgZ(14,"th",3),e._uU(15),e.qZA(),e.TgZ(16,"th",3),e._uU(17),e.qZA(),e._UZ(18,"th",14),e.TgZ(19,"th",3),e._uU(20),e.qZA()(),e.BQk()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(4),e.Oqu(o==i.wordSelected?"|":""),e.xp6(2),e.Oqu(o==i.wordSelected?"":"|"),e.xp6(2),e.Q6J("ngClass",o==i.wordSelected?"text-main":"text-grey-dull"),e.xp6(1),e.Oqu(t),e.xp6(2),e.Q6J("ngIf",o!=i.wordSelected),e.xp6(4),e.Oqu(o==i.wordSelected||o==i.wordSelected-1?"+":""),e.xp6(2),e.Oqu(o==i.wordSelected||o==i.wordSelected-1?"-":""),e.xp6(3),e.Oqu(o==i.wordSelected||o==i.wordSelected-1?"+":"|")}}let DI=(()=>{class r{constructor(t,o,i,a,d){this.languagesEvolutionService=t,this.langService=o,this.errorService=i,this.keybind=a,this.router=d,this.fullRoute=[],this.word="",this.wordsTraced=[],this.wordSelected=0,this.keybind.match(["T"],["altKey"]).subscribe(()=>{var y;null===(y=this.wordSelector)||void 0===y||y.nativeElement.focus()})}routeChanged(){this.changeWord(this.word)}ngOnChanges(t){t.fullRoute&&this.routeChanged()}changeWord(t){console.log("changeWord",t),this.word=t,this.word.trim().length&&!(this.fullRoute.length<2)&&this.languagesEvolutionService.trace({word:this.word.trim(),body:this.fullRoute}).subscribe(o=>{this.wordsTraced=[],o.forEach(i=>{this.wordsTraced.push(null!=i&&i.word?null==i?void 0:i.word:"")}),this.wordSelected=this.wordsTraced.length>0?this.wordsTraced.length-1:0})}selectWord(t){console.log("selectWord",t),this.wordSelected=t}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_i),e.Y36(AI),e.Y36(Nh),e.Y36(aa),e.Y36(Yn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-trace-result"]],viewQuery:function(t,o){if(1&t&&e.Gf(mC,5),2&t){let i;e.iGM(i=e.CRH())&&(o.wordSelector=i.first)}},inputs:{fullRoute:"fullRoute"},features:[e.TTD],decls:66,vars:6,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","max-content"],[1,"border"],["colspan","3",2,"text-align","left"],[1,"selector"],["for","wordSelector",1,"wordSelectorLabel"],[1,"input-group"],["id","wordSelector","name","wordSelector","type","text",1,"wordSelector",3,"ngModel","ngModelChange"],[4,"ngIf"],["app-vertical-dash","",1,"border"],[4,"ngFor","ngForOf"],["app-horizontal-dash","","colspan","3",1,"border"],["colspan","4",1,"border"],["app-horizontal-dash","",1,"border"],[1,"text-white"],[1,"link-btn",3,"ngClass","click"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",0)(4,"col",0)(5,"col",1)(6,"col",0)(7,"col",2)(8,"col",0),e.qZA(),e.TgZ(9,"tbody")(10,"tr")(11,"th",3),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e._UZ(15,"br"),e._uU(16,"|"),e._UZ(17,"br"),e._uU(18,"|"),e.qZA(),e.TgZ(19,"th",4)(20,"div",5)(21,"label",6),e._uU(22,"Select Word:"),e.qZA(),e.TgZ(23,"div",7)(24,"input",8),e.NdJ("ngModelChange",function(a){return o.changeWord(a)})("ngModelChange",function(a){return o.word=a}),e.qZA()()()(),e.TgZ(25,"th",3),e._uU(26,"|"),e._UZ(27,"br"),e._uU(28,"|"),e._UZ(29,"br"),e._uU(30,"|"),e._UZ(31,"br"),e._uU(32,"|"),e.qZA(),e.TgZ(33,"th",3),e.YNc(34,yC,5,2,"div",9),e.qZA(),e.TgZ(35,"th",10),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e._UZ(39,"br"),e._uU(40,"|"),e._UZ(41,"br"),e._uU(42,"|"),e._UZ(43,"br"),e._uU(44,"|"),e._UZ(45,"br"),e._uU(46,"| "),e.YNc(47,vC,5,0,"ng-container",11),e.qZA()(),e.TgZ(48,"tr")(49,"th",3),e._uU(50,"+"),e.qZA(),e._UZ(51,"th",12),e.TgZ(52,"th",3),e._uU(53,"+"),e.qZA()(),e.YNc(54,EI,21,8,"ng-container",11),e.TgZ(55,"tr"),e._UZ(56,"th",13),e.TgZ(57,"th",3),e._uU(58,"|"),e.qZA()(),e.TgZ(59,"tr"),e._UZ(60,"th",13),e.TgZ(61,"th",3),e._uU(62,"+"),e.qZA(),e._UZ(63,"th",14),e.TgZ(64,"th",3),e._uU(65,"+"),e.qZA()()()()),2&t&&(e.xp6(24),e.Q6J("ngModel",o.word),e.xp6(9),e.uIk("rowspan",3+2*o.wordsTraced.length),e.xp6(1),e.Q6J("ngIf",o.wordsTraced[o.wordSelected]),e.xp6(1),e.uIk("rowspan",3+2*o.wordsTraced.length),e.xp6(12),e.Q6J("ngForOf",o.wordsTraced),e.xp6(7),e.Q6J("ngForOf",o.wordsTraced))},dependencies:[kn,ot,pt,Nn,En,fn,pn,gi]}),r})();const Uh=["wordInput"];function SI(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," -> "),e.qZA())}function xI(r,n){if(1&r&&(e.TgZ(0,"span",10),e.YNc(1,SI,2,0,"span",8),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Q6J("ngIf",o>0),e.xp6(2),e.Oqu(t.displayName)}}function ZI(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," No Route "),e.qZA())}let Vg=(()=>{class r{constructor(){this.fullRoute=[],this.wordText="",this.word="",this.wordsTraced=[]}routeChanged(t){this.fullRoute=t}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-trace"]],viewQuery:function(t,o){if(1&t&&e.Gf(Uh,5),2&t){let i;e.iGM(i=e.CRH())&&(o.wordInput=i.first)}},decls:51,vars:3,consts:[[1,"table-container"],["span","1",1,"border"],["span","1",2,"width","auto"],[1,"border"],["app-horizontal-dash","",1,"border"],[3,"routeChanged"],[1,"full-route"],["class","text-yellow-dull",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"fullRoute"],[1,"text-yellow-dull"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"table")(2,"colgroup"),e._UZ(3,"col",1)(4,"col",2)(5,"col",1),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",3),e._uU(9,"+"),e.qZA(),e._UZ(10,"th",4),e.TgZ(11,"th",3),e._uU(12,"+"),e.qZA()(),e.TgZ(13,"tr")(14,"th",3),e._uU(15,"|"),e._UZ(16,"br"),e._uU(17,"|"),e._UZ(18,"br"),e._uU(19,"|"),e._UZ(20,"br"),e._uU(21,"|"),e._UZ(22,"br"),e._uU(23,"|"),e._UZ(24,"br"),e._uU(25,"|"),e.qZA(),e.TgZ(26,"th",3)(27,"div")(28,"app-trace-language-recursive",5),e.NdJ("routeChanged",function(a){return o.routeChanged(a)}),e.qZA(),e.TgZ(29,"div",6),e.YNc(30,xI,4,2,"span",7),e.YNc(31,ZI,2,0,"span",8),e.qZA()()(),e.TgZ(32,"th",3),e._uU(33,"|"),e._UZ(34,"br"),e._uU(35,"|"),e._UZ(36,"br"),e._uU(37,"|"),e._UZ(38,"br"),e._uU(39,"|"),e._UZ(40,"br"),e._uU(41,"|"),e._UZ(42,"br"),e._uU(43,"|"),e.qZA()(),e.TgZ(44,"tr")(45,"th",3),e._uU(46,"+"),e.qZA(),e._UZ(47,"th",4),e.TgZ(48,"th",3),e._uU(49,"+"),e.qZA()()()(),e._UZ(50,"app-trace-result",9),e.qZA()),2&t&&(e.xp6(30),e.Q6J("ngForOf",o.fullRoute),e.xp6(1),e.Q6J("ngIf",!o.fullRoute.length),e.xp6(19),e.Q6J("fullRoute",o.fullRoute))},dependencies:[ot,pt,pn,_C,DI],styles:[".full-route[_ngcontent-%COMP%]{margin:8px}.half-width[_ngcontent-%COMP%]{width:50%}.wordSelector[_ngcontent-%COMP%]{margin-top:4px}.wordSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})();function CC(r,n){1&r&&e._UZ(0,"col",10)}function TC(r,n){1&r&&(e.ynx(0),e._UZ(1,"col",11)(2,"col",10),e.BQk())}function wC(r,n){1&r&&e._UZ(0,"col",10)}function kI(r,n){if(1&r&&(e.TgZ(0,"th",6),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(0==t.selectedIndex?"+":"")}}function Mh(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"th",12),e.TgZ(2,"th",6),e._uU(3),e.qZA(),e.BQk()),2&r){const t=n.index,o=e.oxw();e.xp6(1),e.Q6J("symbol",t==o.selectedIndex?"-":"_"),e.xp6(2),e.Oqu(t==o.selectedIndex||t+1==o.selectedIndex?"+":"")}}function Ph(r,n){1&r&&e._UZ(0,"th",6)}function NI(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"|"),e.qZA())}function UI(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th")(2,"a",13),e.NdJ("click",function(){const a=e.CHM(t).index,d=e.oxw();return e.KtG(d.select(a))}),e._uU(3),e.qZA()(),e.TgZ(4,"th",6),e._uU(5,"|"),e.qZA(),e.BQk()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(2),e.Q6J("ngClass",o==i.selectedIndex?"":"text-grey-dull")("routerLink",t.route)("queryParams",i.queryParams),e.uIk("disabled",!!t.enabled||null),e.xp6(1),e.Oqu(t.name)}}function MI(r,n){1&r&&e._UZ(0,"th",6)}function bC(r,n){if(1&r&&e._UZ(0,"th",8),2&r){const t=e.oxw();e.uIk("colspan",2*t.selectedIndex-(t.selectedIndex>0&&t.removeBorder?1:0))}}function AC(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"+"),e.qZA())}function IC(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"+"),e.qZA())}let EC=(()=>{class r{constructor(t,o,i){this.activeRoute=t,this.router=o,this.keybind=i,this.removeBorder=!1,this.selectedIndex=0}ngOnInit(){console.log("TabRoutesComponent","ngOnInit"),this.correctIndex(),this.router.events.subscribe(t=>{t instanceof Zl&&this.correctIndex()})}correctIndex(){var t;const o=null===(t=this.activeRoute.snapshot.children[0].routeConfig)||void 0===t?void 0:t.path;console.log("TabRoutesComponent","correctIndex",o,this.activeRoute.snapshot.children[0]),this.selectedIndex=this.tabs.reduce((i,a,d)=>a.route==o?d:i,this.selectedIndex)}select(t){console.log("TabRoutesComponent","select"),this.selectedIndex=t}navigateIndex(t){console.log("TabRoutesComponent","navigateIndex");const o=this.activeRoute.snapshot.queryParamMap.get("lang");this.router.navigate([this.tabs[t].route],{relativeTo:this.activeRoute,queryParams:{lang:o}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(oa),e.Y36(Yn),e.Y36(aa))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-tab-routes"]],inputs:{tabs:"tabs",queryParams:"queryParams",removeBorder:"removeBorder"},decls:31,vars:14,consts:[[1,"tab-routes-wrapper"],[1,"tab-routes"],["span","1","class","border",4,"ngIf"],[4,"ngFor","ngForOf"],["span","1",2,"width","max-content"],["class","border",4,"ngIf"],[1,"border"],["app-horizontal-dash","","class","border",4,"ngIf"],["app-horizontal-dash","",1,"border"],[1,"break-word","text-grey"],["span","1",1,"border"],["span","1",2,"width","200px"],["app-horizontal-dash","",1,"border",3,"symbol"],[1,"link-btn",3,"ngClass","routerLink","queryParams","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table")(3,"colgroup"),e.YNc(4,CC,1,0,"col",2),e.YNc(5,TC,3,0,"ng-container",3),e._UZ(6,"col",4),e.YNc(7,wC,1,0,"col",2),e.qZA(),e.TgZ(8,"tbody")(9,"tr"),e.YNc(10,kI,2,1,"th",5),e.YNc(11,Mh,4,2,"ng-container",3),e._UZ(12,"th",6),e.YNc(13,Ph,1,0,"th",5),e.qZA(),e.TgZ(14,"tr"),e.YNc(15,NI,2,0,"th",5),e.YNc(16,UI,6,5,"ng-container",3),e._UZ(17,"th",6),e.YNc(18,MI,1,0,"th",5),e.qZA(),e.TgZ(19,"tr"),e.YNc(20,bC,1,1,"th",7),e.YNc(21,AC,2,0,"th",5),e._UZ(22,"th",6),e.TgZ(23,"th",6),e._uU(24,"+"),e.qZA(),e._UZ(25,"th",8),e.YNc(26,IC,2,0,"th",5),e.qZA()(),e.TgZ(27,"tbody")(28,"tr")(29,"td",9),e._UZ(30,"router-outlet"),e.qZA()()()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(2),e.Q6J("ngIf",!o.removeBorder),e.xp6(3),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(2),e.Q6J("ngIf",!o.removeBorder),e.xp6(2),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(2),e.Q6J("ngIf",!o.removeBorder),e.xp6(2),e.Q6J("ngIf",0<o.selectedIndex),e.xp6(1),e.Q6J("ngIf",!o.removeBorder||0!=o.selectedIndex),e.xp6(4),e.uIk("colspan",2*(o.tabs.length-o.selectedIndex-1)+1),e.xp6(1),e.Q6J("ngIf",!o.removeBorder),e.xp6(3),e.uIk("colspan",2*(o.tabs.length+1)+(o.removeBorder?0:1)))},dependencies:[kn,ot,pt,Xo,fo,pn]}),r})(),DC=(()=>{class r extends Rl{constructor(){super(...arguments),this.tabs=[{name:"Add New",route:"new",enabled:!0},{name:"List",route:"list",enabled:!0},{name:"Translations",route:"translations",enabled:!0},{name:"Details",route:"word/:word",enabled:!1}]}ngOnInit(){super.ngOnInit()}refreshAll(){}changeLang(){}}return r.\u0275fac=function(){let n;return function(o){return(n||(n=e.n5z(r)))(o||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["app-words"]],features:[e.qOj],decls:2,vars:1,consts:[[1,"table-container"],[3,"tabs"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-tab-routes",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("tabs",o.tabs))},dependencies:[EC]}),r})(),Fl=(()=>{class r extends Ol{constructor(t,o){super(t,o)}addWord$Response(t){const o=new Ge(this.rootUrl,r.AddWordPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}addWord(t){return this.addWord$Response(t).pipe((0,j.U)(o=>o.body))}getAllWords$Response(t){const o=new Ge(this.rootUrl,r.GetAllWordsPath,"get");return t&&o.query("filter",t.filter,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getAllWords(t){return this.getAllWords$Response(t).pipe((0,j.U)(o=>o.body))}getAllWordsFromLang$Response(t){const o=new Ge(this.rootUrl,r.GetAllWordsFromLangPath,"get");return t&&o.path("from",t.from,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getAllWordsFromLang(t){return this.getAllWordsFromLang$Response(t).pipe((0,j.U)(o=>o.body))}cleanIpaWords$Response(t){const o=new Ge(this.rootUrl,r.CleanIpaWordsPath,"post");return this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}cleanIpaWords(t){return this.cleanIpaWords$Response(t).pipe((0,j.U)(o=>o.body))}addDerivedWord$Response(t){const o=new Ge(this.rootUrl,r.AddDerivedWordPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}addDerivedWord(t){return this.addDerivedWord$Response(t).pipe((0,j.U)(o=>o.body))}getAllWordsWithTranslationsFromLang$Response(t){const o=new Ge(this.rootUrl,r.GetAllWordsWithTranslationsFromLangPath,"get");return t&&o.path("from",t.from,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getAllWordsWithTranslationsFromLang(t){return this.getAllWordsWithTranslationsFromLang$Response(t).pipe((0,j.U)(o=>o.body))}deleteWord$Response(t){const o=new Ge(this.rootUrl,r.DeleteWordPath,"delete");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}deleteWord(t){return this.deleteWord$Response(t).pipe((0,j.U)(o=>o.body))}canDeleteWord$Response(t){const o=new Ge(this.rootUrl,r.CanDeleteWordPath,"get");return t&&o.path("wordId",t.wordId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:"true"===String(i.body)})))}canDeleteWord(t){return this.canDeleteWord$Response(t).pipe((0,j.U)(o=>o.body))}getDetailedWordsByPhonetics$Response(t){const o=new Ge(this.rootUrl,r.GetDetailedWordsByPhoneticsPath,"get");return t&&o.path("word",t.word,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getDetailedWordsByPhonetics(t){return this.getDetailedWordsByPhonetics$Response(t).pipe((0,j.U)(o=>o.body))}}return r.AddWordPath="/api/words/add",r.GetAllWordsPath="/api/words/all",r.GetAllWordsFromLangPath="/api/words/all/{from}",r.CleanIpaWordsPath="/api/words/clean",r.AddDerivedWordPath="/api/words/derive",r.GetAllWordsWithTranslationsFromLangPath="/api/words/page/{from}",r.DeleteWordPath="/api/words/{id}",r.CanDeleteWordPath="/api/words/{wordId}/candelete",r.GetDetailedWordsByPhoneticsPath="/api/words/{word}",r.\u0275fac=function(t){return new(t||r)(e.LFG(ys),e.LFG(Li))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function PI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.changePage(i))}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t+1,"")}}function Q2(r,n){if(1&r&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t+1,"")}}function z2(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,","),e.qZA())}function K2(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," ... "),e.qZA())}function Y2(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,PI,2,1,"a",8),e.YNc(2,Q2,2,1,"span",9),e.YNc(3,z2,2,0,"span",10),e.YNc(4,K2,2,0,"span",10),e.qZA()),2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t!=i.page),e.xp6(1),e.Q6J("ngIf",t==i.page),e.xp6(1),e.Q6J("ngIf",o<i.pageBttns.length-1&&t+1==i.pageBttns[o+1]),e.xp6(1),e.Q6J("ngIf",t+1!=i.pageBttns[o+1]&&o<i.pageBttns.length-1)}}let Bg=(()=>{class r{constructor(){this.pageBttns=[],this.totalPages=0,this.total=0,this.page=0,this.size=30,this.load=new e.vpe}ngOnInit(){this.load.emit({page:this.page,size:this.size})}ngOnChanges(t){this.redrawPageBttns()}redrawPageBttns(){if(this.totalPages){this.pageBttns=[];for(let t=0;t<3;t++)this.pageBttns.push(t),this.pageBttns.push(this.totalPages-1-t),this.pageBttns.push(this.page+t),this.pageBttns.push(this.page-t);this.pageBttns=this.pageBttns.filter((t,o,i)=>i.indexOf(t)===o&&t>=0&&this.totalPages&&t<this.totalPages).sort((t,o)=>t-o)}}changePage(t){if(this.totalPages&&void 0!==t){const o=Math.min(Math.max(0,t),this.totalPages-1);o!==this.page&&(this.page=o,this.load.emit({page:this.page,size:this.size}))}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-paginator"]],inputs:{totalPages:"totalPages",total:"total",page:"page",size:"size"},outputs:{load:"load"},features:[e.TTD],decls:59,vars:4,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","240px"],["span","1",2,"width","17px"],["span","1",2,"width","auto"],[1,"border"],["app-horizontal-dash","","colspan","11",1,"border"],[3,"click"],[4,"ngFor","ngForOf"],["class","text-grey-dull",3,"click",4,"ngIf"],["class","text-main",4,"ngIf"],[4,"ngIf"],[1,"text-grey-dull",3,"click"],[1,"text-main"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0)(5,"col",2)(6,"col",0)(7,"col",2)(8,"col",0)(9,"col",3)(10,"col",0)(11,"col",2)(12,"col",0)(13,"col",2)(14,"col",0),e.qZA(),e.TgZ(15,"tbody")(16,"tr")(17,"th",4),e._uU(18,"+"),e.qZA(),e._UZ(19,"th",5),e.TgZ(20,"th",4),e._uU(21,"+"),e.qZA()(),e.TgZ(22,"tr")(23,"th",4),e._uU(24,"|"),e.qZA(),e.TgZ(25,"th",4),e._uU(26),e.qZA(),e.TgZ(27,"th",4),e._uU(28,"|"),e.qZA(),e.TgZ(29,"th",4)(30,"a",6),e.NdJ("click",function(){return o.changePage(0)}),e._uU(31," \xab "),e.qZA()(),e.TgZ(32,"th",4),e._uU(33,"|"),e.qZA(),e.TgZ(34,"th",4)(35,"a",6),e.NdJ("click",function(){return o.changePage(o.page-1)}),e._uU(36," < "),e.qZA()(),e.TgZ(37,"th",4),e._uU(38,"|"),e.qZA(),e.TgZ(39,"th",4),e.YNc(40,Y2,5,4,"span",7),e.qZA(),e.TgZ(41,"th",4),e._uU(42,"|"),e.qZA(),e.TgZ(43,"th",4)(44,"a",6),e.NdJ("click",function(){return o.changePage(o.page+1)}),e._uU(45," > "),e.qZA()(),e.TgZ(46,"th",4),e._uU(47,"|"),e.qZA(),e.TgZ(48,"th",4)(49,"a",6),e.NdJ("click",function(){return o.changePage(o.totalPages)}),e._uU(50," \xbb "),e.qZA()(),e.TgZ(51,"th",4),e._uU(52,"|"),e.qZA()(),e.TgZ(53,"tr")(54,"th",4),e._uU(55,"+"),e.qZA(),e._UZ(56,"th",5),e.TgZ(57,"th",4),e._uU(58,"+"),e.qZA()()()()),2&t&&(e.xp6(26),e.lnq(" Page ",o.page+1," of ",o.totalPages," (",o.total," words) "),e.xp6(14),e.Q6J("ngForOf",o.pageBttns))},dependencies:[ot,pt,pn]}),r})(),da=(()=>{class r{transform(t,...o){return t&&t.replace(/\u0261/g,"g").replace(/\ua7ac/g,"G")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275pipe=e.Yjl({name:"writtenWord",type:r,pure:!0}),r})();function RI(r,n){if(1&r&&(e.TgZ(0,"option",9),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.displayName)}}function OI(r,n){if(1&r&&(e.TgZ(0,"option",9),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function SC(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.AsE("",0==o?"":", ","",t.name,"")}}function Rh(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.deleteWord(i))}),e._uU(1,"x"),e.qZA()}}const LI=function(r){return["/words/word",r]};function FI(r,n){if(1&r&&(e.TgZ(0,"tr",14)(1,"th",4),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",20)(4,"span",21),e._uU(5),e.ALo(6,"writtenWord"),e.qZA()(),e.TgZ(7,"th",4),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",22)(10,"a",23),e._uU(11),e.qZA()(),e.TgZ(12,"th",4),e._uU(13,"|"),e.qZA(),e.TgZ(14,"th",4),e._uU(15),e.qZA(),e.TgZ(16,"th",4),e._uU(17,"|"),e.qZA(),e.TgZ(18,"th",5),e._UZ(19,"span",7),e.YNc(20,SC,2,2,"span",24),e.TgZ(21,"span"),e._uU(22),e.qZA()(),e.TgZ(23,"th",4)(24,"span"),e._uU(25,"|"),e.qZA()(),e.TgZ(26,"th",4),e.YNc(27,Rh,2,0,"a",25),e.qZA(),e.TgZ(28,"th",4),e._uU(29,"|"),e.qZA()()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,8,t.writtenWord)),e.xp6(5),e.Q6J("fragment",null==t.language?null:t.language.displayName)("routerLink",e.VKq(10,LI,t.word)),e.xp6(1),e.hij("/ ",t.word," / "),e.xp6(4),e.Oqu(null==t.partOfSpeech?null:t.partOfSpeech.abbreviation),e.xp6(5),e.Q6J("ngForOf",t.grammaticalValues),e.xp6(2),e.hij(" from ",null==t.language?null:t.language.displayName,""),e.xp6(5),e.Q6J("ngIf",o.canDeleteWord(t))}}let qI=(()=>{class r{constructor(t,o,i){this.wordService=t,this.languageService=o,this.posService=i,this.words={},this.languages=[],this.poses=[],this.pageSize=30,this.canDelete=new Map}ngOnInit(){this.languageService.getAllLanguages().subscribe(t=>{this.languages=t.sort((o,i)=>o.displayName?o.displayName.localeCompare(i.displayName?i.displayName:""):-1)}),this.posService.getAllPos().subscribe(t=>{this.poses=t.sort((o,i)=>o.name?o.name.localeCompare(i.name?i.name:""):-1)})}load(t){this.wordService.getAllWords({filter:t}).subscribe(o=>{o.data&&(this.words=o,o.data.forEach(i=>{if(i.id){const a=i.id;this.wordService.canDeleteWord({wordId:a}).subscribe(d=>{this.canDelete.set(a,d)})}}))})}loadDefault(t){var o,i;console.log("loadDefault",t,this.pos,this.language,this.wordSearch),t||(t={}),t={page:t.page?t.page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,languageId:t.languageId?t.languageId:null===t.languageId||null===(o=this.language)||void 0===o?void 0:o.id,posId:t.posId?t.posId:null===t.posId||null===(i=this.pos)||void 0===i?void 0:i.id},this.load(t)}deleteWord(t){t.id&&this.wordService.deleteWord({id:t.id}).subscribe(()=>{var o;this.words.data=null===(o=this.words.data)||void 0===o?void 0:o.filter(i=>i.id!==t.id)})}addNewWord(t){this.wordService.addWord({body:t}).subscribe(o=>{var i;null===(i=this.words.data)||void 0===i||i.push(o)})}resetFilter(){this.language=void 0,this.pos=void 0,this.wordSearch=void 0,this.loadDefault({})}canDeleteWord(t){return!!t.id&&!!this.canDelete.get(t.id)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Fl),e.Y36(vs),e.Y36(fi))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-words-list"]],decls:58,vars:12,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","9px"],["span","1",2,"width","70px"],[1,"border"],[1,"border",2,"text-align","left"],["type","text",2,"height","16px","margin-left","16px",3,"ngModel","ngModelChange"],[2,"margin-left","8px"],["id","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["id","posSelector",1,"posSelector",3,"ngModel","ngModelChange"],[1,"text-red-dull",3,"click"],["app-horizontal-dash","","colspan","3",1,"border"],[1,"table-content"],["span","1",2,"width","1%"],["span","1",2,"width","40px"],["span","1",2,"width","17px"],["class","table-content",4,"ngFor","ngForOf"],[3,"page","size","totalPages","total","load"],[2,"text-align","left","padding-left","8px","padding-right","8px"],[1,"text-green-dull","text-line",2,"white-space","nowrap","text-transform","capitalize"],[2,"padding-left","8px","padding-right","8px"],[1,"text-main","link-btn",3,"fragment","routerLink"],[4,"ngFor","ngForOf"],["class","text-red-dull",3,"click",4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",0),e.qZA(),e.TgZ(7,"tbody")(8,"tr")(9,"th",4),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e.qZA(),e.TgZ(13,"th",5)(14,"input",6),e.NdJ("ngModelChange",function(a){return o.loadDefault({word:a})})("ngModelChange",function(a){return o.wordSearch=a}),e.qZA(),e.TgZ(15,"span",7)(16,"select",8),e.NdJ("ngModelChange",function(a){return o.loadDefault({languageId:null==a?null:a.id})})("ngModelChange",function(a){return o.language=a}),e.TgZ(17,"option",9),e._uU(18,"All languages"),e.qZA(),e.YNc(19,RI,2,2,"option",10),e.qZA()(),e.TgZ(20,"span",7)(21,"select",11),e.NdJ("ngModelChange",function(a){return o.loadDefault({posId:null==a?null:a.id})})("ngModelChange",function(a){return o.pos=a}),e.TgZ(22,"option",9),e._uU(23,"Any part of speech"),e.qZA(),e.YNc(24,OI,2,2,"option",10),e.qZA()()(),e.TgZ(25,"th",4),e._uU(26,"|"),e._UZ(27,"br"),e._uU(28,"|"),e.qZA(),e.TgZ(29,"th")(30,"a",12),e.NdJ("click",function(){return o.resetFilter()}),e._uU(31,"[ x ]"),e.qZA()(),e.TgZ(32,"th",4),e._uU(33,"|"),e._UZ(34,"br"),e._uU(35,"|"),e.qZA()(),e.TgZ(36,"tr")(37,"th",4),e._uU(38,"+"),e.qZA(),e._UZ(39,"th",13),e.TgZ(40,"th",4),e._uU(41,"+"),e.qZA()()()(),e.TgZ(42,"table",14)(43,"colgroup"),e._UZ(44,"col",0)(45,"col",15)(46,"col",0)(47,"col",15)(48,"col",0)(49,"col",16)(50,"col",0)(51,"col",1)(52,"col",0)(53,"col",17)(54,"col",0),e.qZA(),e.TgZ(55,"tbody",14),e.YNc(56,FI,30,12,"tr",18),e.qZA()(),e.TgZ(57,"app-list-paginator",19),e.NdJ("load",function(a){return o.loadDefault(a)}),e.qZA()),2&t&&(e.xp6(14),e.Q6J("ngModel",o.wordSearch),e.xp6(2),e.Q6J("ngModel",o.language),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.languages),e.xp6(2),e.Q6J("ngModel",o.pos),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.poses),e.xp6(32),e.Q6J("ngForOf",o.words.data),e.xp6(1),e.Q6J("page",o.words.page?o.words.page:0)("size",o.pageSize)("totalPages",o.words.totalPages?o.words.totalPages:0)("total",o.words.total?o.words.total:0))},dependencies:[ot,pt,fo,gr,Kr,Nn,Mn,En,fn,pn,Bg,da]}),r})();var Bu=(()=>((Bu||(Bu={})).General="GENERAL",Bu))();function VI(r,n){if(1&r&&(e.TgZ(0,"span")(1,"span",4),e._uU(2),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.hij(" /",t.translation.wordTo.word,"/")}}const xC=function(r){return["/words/word",r]};function BI(r,n){if(1&r&&(e.TgZ(0,"a",2),e._uU(1),e.ALo(2,"writtenWord"),e.YNc(3,VI,3,1,"span",3),e.qZA()),2&r){const t=e.oxw();e.Q6J("routerLink",e.VKq(5,xC,t.translation.wordTo.word)),e.xp6(1),e.Oqu(e.lcZ(2,3,t.translation.wordTo.writtenWord)),e.xp6(2),e.Q6J("ngIf",t.translation.wordTo.writtenWord!==t.translation.wordTo.word)}}function jI(r,n){if(1&r&&(e.TgZ(0,"a",5),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.translation.phraseTo)}}let ql=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-translation-word"]],inputs:{translation:"translation"},decls:2,vars:2,consts:[["class","text-blue-dull link-btn",3,"routerLink",4,"ngIf"],["class","text-blue-dull link-btn",4,"ngIf"],[1,"text-blue-dull","link-btn",3,"routerLink"],[4,"ngIf"],[1,"text-grey"],[1,"text-blue-dull","link-btn"]],template:function(t,o){1&t&&(e.YNc(0,BI,4,7,"a",0),e.YNc(1,jI,2,1,"a",1)),2&t&&(e.Q6J("ngIf",o.translation.wordTo),e.xp6(1),e.Q6J("ngIf",!o.translation.wordTo))},dependencies:[pt,fo,da]}),r})(),ZC=(()=>{class r{transform(t,...o){return t===Bu.General?"gen.":t}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275pipe=e.Yjl({name:"translationType",type:r,pure:!0}),r})();function kC(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"app-translation-word",1),e.qZA()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Oqu(0==o?"":"; "),e.xp6(1),e.Q6J("translation",t)}}function $I(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"dt"),e._uU(2),e.ALo(3,"translationType"),e.qZA(),e.TgZ(4,"dd"),e.YNc(5,kC,3,2,"span",0),e.qZA(),e.BQk()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.AsE("",o," ",e.lcZ(3,3,t),""),e.xp6(3),e.Q6J("ngForOf",i.getTranslationForWordAndType(t,!0,o))}}function NC(r,n){if(1&r&&(e.TgZ(0,"li"),e._UZ(1,"app-translation-word",1),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("translation",t)}}function GI(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"dt"),e._uU(2),e.ALo(3,"translationType"),e.qZA(),e.TgZ(4,"dd")(5,"ol"),e.YNc(6,NC,2,1,"li",0),e.qZA()(),e.BQk()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.AsE("",o," ",e.lcZ(3,3,t),""),e.xp6(4),e.Q6J("ngForOf",i.getTranslationForWordAndType(t,!1,o))}}function UC(r,n){if(1&r&&(e.ynx(0),e.YNc(1,$I,6,5,"ng-container",0),e.YNc(2,GI,7,5,"ng-container",0),e.BQk()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.getWordTranslationsTypes(t)),e.xp6(1),e.Q6J("ngForOf",o.getPhraseTranslationsTypes(t))}}let HI=(()=>{class r{constructor(){}get getTranslationLangs(){var t;const o=null===(t=this.translations)||void 0===t?void 0:t.map(a=>{var d,p,y;return null!==(d=a.wordTo)&&void 0!==d&&d.language?null===(p=a.wordTo)||void 0===p?void 0:p.language:null===(y=a.phraseTo)||void 0===y?void 0:y.language}).map(a=>a?a.displayName:"Unknown");return[...new Set(o)]||[]}getWordTranslationsTypes(t){return this.getTranslationTypes(!0,t)}getPhraseTranslationsTypes(t){return this.getTranslationTypes(!1,t)}getTranslationTypes(t,o){var i;const a=null===(i=this.translations)||void 0===i?void 0:i.filter(p=>{var y,w;return t?p.wordTo&&(null===(y=p.wordTo.language)||void 0===y?void 0:y.displayName)===o:p.phraseTo&&(null===(w=p.phraseTo.language)||void 0===w?void 0:w.displayName)===o}).map(p=>p.type).map(p=>p||Bu.General);return[...new Set(a)]||[]}getTranslationForWordAndType(t,o,i){var a;return(null===(a=this.translations)||void 0===a?void 0:a.filter(p=>{var y,w;return(o?p.wordTo&&(null===(y=p.wordTo.language)||void 0===y?void 0:y.displayName)===i:p.phraseTo&&(null===(w=p.phraseTo.language)||void 0===w?void 0:w.displayName)===i)&&p.type===t}))||[]}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-detail-translations"]],inputs:{translations:"translations"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"translation"]],template:function(t,o){1&t&&(e.TgZ(0,"dl"),e.YNc(1,UC,3,2,"ng-container",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.getTranslationLangs))},dependencies:[ot,ql,ZC]}),r})();function Jm(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" /",t.wordWithTranslations.word,"/")}}function JI(r,n){if(1&r&&(e.ynx(0),e._uU(1),e._UZ(2,"app-translation-word",3),e.BQk()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Oqu(o>0?", ":""),e.xp6(1),e.Q6J("translation",t)}}function MC(r,n){if(1&r&&(e.TgZ(0,"span")(1,"span"),e._uU(2," ("),e.qZA(),e.YNc(3,JI,3,2,"ng-container",2),e._uU(4,")"),e.qZA()),2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.wordWithTranslations.translations)}}const PC=function(r){return["/words/word",r]};let RC=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-written-with-translations"]],inputs:{wordWithTranslations:"wordWithTranslations"},decls:5,vars:8,consts:[[1,"text-main","link-btn",3,"routerLink"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"translation"]],template:function(t,o){1&t&&(e.TgZ(0,"a",0),e._uU(1),e.ALo(2,"writtenWord"),e.qZA(),e.YNc(3,Jm,2,1,"span",1),e.YNc(4,MC,5,1,"span",1)),2&t&&(e.Q6J("routerLink",e.VKq(6,PC,o.wordWithTranslations.word)),e.xp6(1),e.Oqu(e.lcZ(2,4,o.wordWithTranslations.writtenWord)),e.xp6(2),e.Q6J("ngIf",o.wordWithTranslations.word!==o.wordWithTranslations.writtenWord),e.xp6(1),e.Q6J("ngIf",null==o.wordWithTranslations.translations?null:o.wordWithTranslations.translations.length))},dependencies:[ot,pt,fo,ql,da]}),r})();function WI(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"a",1)(3,"i"),e._uU(4),e.qZA()(),e._uU(5," *"),e._UZ(6,"app-word-written-with-translations",2),e.qZA()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Oqu(0==o?"":", "),e.xp6(3),e.Oqu(null==t.language?null:t.language.displayName),e.xp6(2),e.Q6J("wordWithTranslations",t)}}let QI=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-detail-list"]],inputs:{wordsWithTranslations:"wordsWithTranslations"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"text-grey"],[3,"wordWithTranslations"]],template:function(t,o){1&t&&e.YNc(0,WI,7,3,"span",0),2&t&&e.Q6J("ngForOf",o.wordsWithTranslations)},dependencies:[ot,RC]}),r})();const Wm=["app-word-detail-descendants",""];function zI(r,n){if(1&r&&e._UZ(0,"app-word-written-with-translations",2),2&r){const t=e.oxw();e.Q6J("wordWithTranslations",t.descendant.word)}}function OC(r,n){1&r&&e._UZ(0,"li",3),2&r&&e.Q6J("descendant",n.$implicit)}let KI=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["li","app-word-detail-descendants",""]],inputs:{descendant:"descendant"},attrs:Wm,decls:5,vars:3,consts:[[3,"wordWithTranslations",4,"ngIf"],["app-word-detail-descendants","",3,"descendant",4,"ngFor","ngForOf"],[3,"wordWithTranslations"],["app-word-detail-descendants","",3,"descendant"]],template:function(t,o){1&t&&(e._uU(0),e.YNc(1,zI,1,1,"app-word-written-with-translations",0),e._uU(2,".\n"),e.TgZ(3,"ul"),e.YNc(4,OC,1,1,"li",1),e.qZA()),2&t&&(e.hij("",null==o.descendant.word||null==o.descendant.word.language?null:o.descendant.word.language.displayName,": "),e.xp6(1),e.Q6J("ngIf",o.descendant.word),e.xp6(3),e.Q6J("ngForOf",o.descendant.descendants))},dependencies:[ot,pt,RC,r]}),r})();function YI(r,n){if(1&r&&(e.TgZ(0,"option",3),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}let XI=(()=>{class r{constructor(t){this.categoryService=t}ngOnInit(){var t;console.log("ngOnInit value",this.value),this.value=null===(t=this.categoryValues)||void 0===t?void 0:t.find(o=>{var i;return o.id==(null===(i=this.value)||void 0===i?void 0:i.id)})}valueChanged(t){console.log("Value changed",t),t.value?this.categoryService.replaceGrammaticalValuesByWord({body:{value:t.value,word:this.word}}).subscribe(()=>console.log("Saved value")):this.word.id&&this.category.id&&this.categoryService.removeGrammaticalValuesByWord({wordId:this.word.id,categoryId:this.category.id}).subscribe(()=>console.log("Removed value"))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(la))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-grammar-category"]],inputs:{category:"category",categoryValues:"categoryValues",value:"value",connected:"connected",word:"word"},decls:7,vars:5,consts:[[3,"ngClass"],[1,"input-group",2,"margin-right","12px"],["id","newWordTypeSelector",1,"posSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"span",0),e._uU(1),e.qZA(),e._uU(2,":\n"),e.TgZ(3,"span",1)(4,"select",2),e.NdJ("ngModelChange",function(a){return o.valueChanged({value:a})})("ngModelChange",function(a){return o.value=a}),e._UZ(5,"option",3),e.YNc(6,YI,2,2,"option",4),e.qZA()()),2&t&&(e.Q6J("ngClass",o.connected?"":"text-red-dull"),e.xp6(1),e.Oqu(o.category.name),e.xp6(3),e.Q6J("ngModel",o.value),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(1),e.Q6J("ngForOf",o.categoryValues))},dependencies:[kn,ot,gr,Kr,Mn,En,fn]}),r})();const eE=["app-word-declension-table",""];function tE(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"th",3),e._uU(2),e.qZA(),e.TgZ(3,"th",2),e._uU(4,"|"),e.qZA(),e.BQk()),2&r){const t=n.$implicit;e.xp6(2),e.Oqu(t.name)}}function nE(r,n){if(1&r&&(e.TgZ(0,"tr"),e._UZ(1,"th"),e.TgZ(2,"th",2),e._uU(3,"|"),e.qZA(),e._UZ(4,"th",2),e.TgZ(5,"th",2),e._uU(6,"|"),e.qZA(),e.YNc(7,tE,5,1,"ng-container",1),e.qZA()),2&r){const t=e.oxw();e.xp6(7),e.Q6J("ngForOf",t.horisontalValues)}}function rE(r,n){1&r&&(e.ynx(0),e._UZ(1,"th",4),e.TgZ(2,"th",2),e._uU(3,"+"),e.qZA(),e.BQk())}function oE(r,n){if(1&r&&(e.TgZ(0,"tr"),e._UZ(1,"th"),e.TgZ(2,"th",2),e._uU(3,"+"),e.qZA(),e._UZ(4,"th",4),e.TgZ(5,"th",2),e._uU(6,"+"),e.qZA(),e.YNc(7,rE,4,0,"ng-container",1),e.qZA()),2&r){const t=e.oxw();e.xp6(7),e.Q6J("ngForOf",t.horisontalValues)}}function LC(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij("",t," ")}}const FC=function(r,n){return[r,n]};function iE(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"th",5),e.YNc(2,LC,2,1,"span",1),e.qZA(),e.TgZ(3,"th",2),e._uU(4,"|"),e.qZA(),e.BQk()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngForOf",i.findWordsForValues(e.WLB(1,FC,t,o)))}}function sE(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij("",t," ")}}const qC=function(r){return[r]};function aE(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"th",6),e.YNc(2,sE,2,1,"span",1),e.qZA(),e.TgZ(3,"th",2),e._uU(4,"|"),e.qZA(),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngForOf",o.findWordsForValues(e.VKq(1,qC,t)))}}function lE(r,n){1&r&&(e.ynx(0),e._UZ(1,"th",4),e.TgZ(2,"th",2),e._uU(3,"+"),e.qZA(),e.BQk())}function uE(r,n){1&r&&(e.ynx(0),e._UZ(1,"th",7),e.TgZ(2,"th",2),e._uU(3,"+"),e.qZA(),e.BQk())}function Qm(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr"),e._UZ(2,"th"),e.TgZ(3,"th",2),e._uU(4,"|"),e.qZA(),e.TgZ(5,"th",3),e._uU(6),e.qZA(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA(),e.YNc(9,iE,5,4,"ng-container",1),e.YNc(10,aE,5,3,"ng-container",0),e.qZA(),e.TgZ(11,"tr"),e._UZ(12,"th"),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA(),e._UZ(15,"th",4),e.TgZ(16,"th",2),e._uU(17,"+"),e.qZA(),e.YNc(18,lE,4,0,"ng-container",1),e.YNc(19,uE,4,0,"ng-container",0),e.qZA(),e.BQk()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(6),e.Oqu(t.name),e.xp6(3),e.Q6J("ngForOf",o.horisontalValues),e.xp6(1),e.Q6J("ngIf",!(null!=o.horisontalValues&&o.horisontalValues.length)),e.xp6(8),e.Q6J("ngForOf",o.horisontalValues),e.xp6(1),e.Q6J("ngIf",!(null!=o.horisontalValues&&o.horisontalValues.length))}}let zm=(()=>{class r{constructor(){}get array(){return[...Array(this.columnSize).keys()]}ngOnInit(){}findWordsForValues(t){var o;let i=null===(o=this.declinedWord)||void 0===o?void 0:o.declensionList;for(const d of t.concat(this.wordSearchValues))i=null==i?void 0:i.filter(p=>{var y,w;return!(null===(w=null===(y=p.declension)||void 0===y?void 0:y.values)||void 0===w||!w.filter(D=>D.id===d.id).length)});return(null==i?void 0:i.map(d=>d.wordDeclensions).reduce((d,p)=>d?p?d.concat(p):d:p||[],[]))||[]}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["tbody","app-word-declension-table",""]],inputs:{columnSize:"columnSize",declinedWord:"declinedWord",horisontalValues:"horisontalValues",verticalValues:"verticalValues",wordSearchValues:"wordSearchValues"},attrs:eE,decls:3,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-border"],[1,"text","title"],["app-horizontal-dash","",1,"text-border"],[1,"text","text-yellow-dull"],["colspan","1",1,"text","text-yellow-dull"],["app-horizontal-dash","","colspan","1",1,"text-border"]],template:function(t,o){1&t&&(e.YNc(0,nE,8,1,"tr",0),e.YNc(1,oE,8,1,"tr",0),e.YNc(2,Qm,20,5,"ng-container",1)),2&t&&(e.Q6J("ngIf",null==o.horisontalValues?null:o.horisontalValues.length),e.xp6(1),e.Q6J("ngIf",null==o.horisontalValues?null:o.horisontalValues.length),e.xp6(1),e.Q6J("ngForOf",o.verticalValues))},dependencies:[ot,pt,pn],styles:[".text[_ngcontent-%COMP%]{width:1%;white-space:nowrap;padding-left:8px;padding-right:8px;text-align:center}.title[_ngcontent-%COMP%]{text-transform:capitalize}.text-border[_ngcontent-%COMP%]{width:1%;white-space:nowrap;text-align:center}"]}),r})();function VC(r,n){1&r&&(e.ynx(0),e._UZ(1,"col",3)(2,"col",2),e.BQk())}function Km(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij("",t.name," ")}}function cE(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tbody")(2,"tr"),e._UZ(3,"th"),e.TgZ(4,"th",5),e._uU(5,"|"),e.qZA(),e.TgZ(6,"th",7),e.YNc(7,Km,2,1,"span",4),e.qZA(),e.TgZ(8,"th",5),e._uU(9,"|"),e.qZA()(),e.TgZ(10,"tr"),e._UZ(11,"th"),e.TgZ(12,"th",5),e._uU(13,"+"),e.qZA(),e._UZ(14,"th",6),e.TgZ(15,"th",5),e._uU(16,"+"),e.qZA()()(),e._UZ(17,"tbody",8),e.BQk()),2&r){const t=n.$implicit,o=e.oxw(3);e.xp6(6),e.Q6J("colSpan",2*o.columnSize+1),e.xp6(1),e.Q6J("ngForOf",t),e.xp6(7),e.Q6J("colSpan",2*o.columnSize+1),e.xp6(3),e.Q6J("columnSize",o.columnSize)("declinedWord",o.declinedWord)("horisontalValues",o.valuesArray[o.valuesArray.length-2])("verticalValues",o.valuesArray[o.valuesArray.length-1])("wordSearchValues",t)}}function dE(r,n){if(1&r&&(e.ynx(0),e.YNc(1,cE,18,8,"ng-container",4),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.restValues)}}const jg=function(){return[]};function hE(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"tbody",8),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("columnSize",t.columnSize)("declinedWord",t.declinedWord)("horisontalValues",t.valuesArray[0])("verticalValues",t.valuesArray[1])("wordSearchValues",e.DdM(5,jg))}}function BC(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"tbody",9),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("columnSize",t.columnSize)("declinedWord",t.declinedWord)("verticalValues",t.valuesArray[0])("wordSearchValues",e.DdM(4,jg))}}function zc(r,n){if(1&r&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",1)(3,"col",2)(4,"col",3)(5,"col",2),e.YNc(6,VC,3,0,"ng-container",4),e.qZA(),e.TgZ(7,"tbody")(8,"tr"),e._UZ(9,"th"),e.TgZ(10,"th",5),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",6),e.TgZ(13,"th",5),e._uU(14,"+"),e.qZA()()(),e.YNc(15,dE,2,1,"ng-container",0),e.YNc(16,hE,2,6,"ng-container",0),e.YNc(17,BC,2,5,"ng-container",0),e.qZA()),2&r){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.array),e.xp6(6),e.Q6J("colSpan",2*t.columnSize+1),e.xp6(3),e.Q6J("ngIf",t.valuesArray.length>2),e.xp6(1),e.Q6J("ngIf",2==t.valuesArray.length),e.xp6(1),e.Q6J("ngIf",1==t.valuesArray.length)}}let jC=(()=>{class r{constructor(t){this.declensionService=t,this.valuesMap=new Map,this.valuesArray=[],this.restValues=[]}get columnSize(){return this.valuesArray.length?1===this.valuesArray.length?1:this.valuesArray[this.valuesArray.length-2].length:0}get arrayCircle(){const t=this.valuesArray.map(o=>o.length).reduce((o,i)=>Math.max(o,i),0);return[...Array(t).keys()]}get arrayOfValues(){return[...Array(this.valuesArray.length).keys()]}get array(){return[...Array(this.columnSize).keys()]}ngOnInit(){this.word.id&&this.declensionService.getDeclineWord({wordId:this.word.id}).subscribe(t=>{var o,i;this.declinedWord=t,null===(i=null===(o=this.declinedWord)||void 0===o?void 0:o.declensionList)||void 0===i||i.forEach(a=>{var d,p;null===(p=null===(d=a.declension)||void 0===d?void 0:d.values)||void 0===p||p.forEach(y=>{var w,D,x;const F=null===(w=y.category)||void 0===w?void 0:w.id;F&&(this.valuesMap.has(F)||this.valuesMap.set(F,[]),null!==(D=this.valuesMap.get(F))&&void 0!==D&&D.filter($=>$.id===y.id).length||null===(x=this.valuesMap.get(F))||void 0===x||x.push(y))})}),this.valuesArray=Array.from(this.valuesMap.values()).sort((a,d)=>a.length-d.length),this.calculateRestValues(),console.log(this.valuesArray)})}calculateRestValues(){this.restValues=[],this.restValues.push([]);for(let t=0;t<this.valuesArray.length-2;t++){const o=[];this.restValues.forEach(i=>{this.valuesArray[t].forEach(a=>{o.push([...i,a])})}),this.restValues=o}console.log("rest values",this.restValues)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Rg))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-declensions"]],inputs:{word:"word"},decls:1,vars:1,consts:[[4,"ngIf"],["span","1",2,"width","100%"],["span","1",2,"width","8px"],["span","1",2,"width","1%","text-align","right"],[4,"ngFor","ngForOf"],[1,"text-border"],["app-horizontal-dash","",1,"text-border",3,"colSpan"],[1,"text","title",3,"colSpan"],["app-word-declension-table","",3,"columnSize","declinedWord","horisontalValues","verticalValues","wordSearchValues"],["app-word-declension-table","",3,"columnSize","declinedWord","verticalValues","wordSearchValues"]],template:function(t,o){1&t&&e.YNc(0,zc,18,5,"table",0),2&t&&e.Q6J("ngIf",o.columnSize)},dependencies:[ot,pt,pn,zm],styles:[".text[_ngcontent-%COMP%]{width:1%;white-space:nowrap;padding-left:8px;padding-right:8px;text-align:center}.title[_ngcontent-%COMP%]{text-transform:capitalize}.text-border[_ngcontent-%COMP%]{width:1%;white-space:nowrap;text-align:center}"]}),r})();function pE(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"span",9),e._uU(3),e.qZA()()),2&r){const t=n.$implicit,o=n.index,i=e.oxw(2);e.xp6(1),e.Oqu(0==o?"":", "),e.xp6(1),e.Q6J("ngClass",i.isValueConnected(t)?"":"text-red-dull"),e.xp6(1),e.Oqu(null==t.value?null:t.value.name)}}function X2(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span",6),e.YNc(1,pE,4,3,"span",7),e.TgZ(2,"a",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.isEditCategories=!0)}),e._uU(3," [e]"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.wordValues)}}function $C(r,n){if(1&r&&e._UZ(0,"app-word-grammar-category",11),2&r){const t=e.oxw().$implicit,o=e.oxw(2);e.Q6J("categoryValues",o.categoryValues.get(t))("category",t)("connected",o.isCategoryConnected(t))("value",o.getWordCategoryValue(t))("word",o.word)}}function Ym(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,$C,1,5,"app-word-grammar-category",10),e.qZA()),2&r){const t=n.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.isCategoryConnected(t)||o.getWordCategoryValue(t))}}function gE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span",6),e.YNc(1,Ym,2,1,"span",7),e.TgZ(2,"a",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.save())}),e._uU(3," [close]"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.categories)}}let Xm=(()=>{class r{constructor(t){this.categoryService=t,this.categoryValues=new Map,this.categoryConnections=new Map,this.wordValues=[],this.isEditCategories=!1}get categories(){return[...this.categoryValues.keys()].sort((t,o)=>t.name?t.name.localeCompare(o.name?o.name:""):-1)}ngOnInit(){this.categoryService.getAllCategories().subscribe(t=>{t.forEach(o=>{var i,a;this.categoryValues.set(o,[]),o.id&&(null===(i=this.word.language)||void 0===i?void 0:i.id)&&this.categoryService.getCategoryValuesByCategoryAndLang({categoryId:o.id,langId:this.word.language.id}).subscribe(d=>{this.categoryValues.set(o,d)}),(null===(a=this.word.language)||void 0===a?void 0:a.id)&&o.id&&this.categoryService.getGrammaticalCategoryConnectionsForLang({categoryId:o.id,languageId:this.word.language.id}).subscribe(d=>{o.id&&this.categoryConnections.set(o.id,!!d.find(p=>{var y,w;return(null===(y=null==p?void 0:p.pos)||void 0===y?void 0:y.id)===(null===(w=this.word.partOfSpeech)||void 0===w?void 0:w.id)}))})})}),this.reloadWordValues()}save(){this.reloadWordValues(),this.isEditCategories=!1}getWordCategoryValue(t){var o,i;const a=null===(i=null===(o=this.wordValues)||void 0===o?void 0:o.find(d=>{var p,y;return(null===(y=null===(p=d.value)||void 0===p?void 0:p.category)||void 0===y?void 0:y.id)==t.id}))||void 0===i?void 0:i.value;return null==a?void 0:a}isValueConnected(t){var o;return this.isCategoryConnected(null===(o=null==t?void 0:t.value)||void 0===o?void 0:o.category)}isCategoryConnected(t){return!(null==t||!t.id||!this.categoryConnections.get(t.id))}reloadWordValues(){this.word.id&&this.categoryService.getGrammaticalValuesByWord({wordId:this.word.id}).subscribe(t=>{this.wordValues=t})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(la))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-grammar"]],inputs:{word:"word"},decls:12,vars:7,consts:[[1,"grammar-container"],[1,"word-grammar"],[1,"text-green-dull","text-line",2,"text-transform","capitalize"],["style","margin-left: 8px;",4,"ngIf"],[1,"declension"],[3,"word"],[2,"margin-left","8px"],[4,"ngFor","ngForOf"],[1,"text-grey-dull","link-btn",3,"click"],[3,"ngClass"],[3,"categoryValues","category","connected","value","word",4,"ngIf"],[3,"categoryValues","category","connected","value","word"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2)(3,"i"),e._uU(4),e.ALo(5,"writtenWord"),e.qZA()(),e.TgZ(6,"span"),e._uU(7),e.qZA(),e.YNc(8,X2,4,1,"span",3),e.YNc(9,gE,4,1,"span",3),e.qZA(),e.TgZ(10,"div",4),e._UZ(11,"app-word-declensions",5),e.qZA()()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,5,o.word.writtenWord)),e.xp6(3),e.hij(" ",null==o.word.partOfSpeech||null==o.word.partOfSpeech.name?null:o.word.partOfSpeech.name.toLowerCase(),";"),e.xp6(1),e.Q6J("ngIf",!o.isEditCategories),e.xp6(1),e.Q6J("ngIf",o.isEditCategories),e.xp6(2),e.Q6J("word",o.word))},dependencies:[kn,ot,pt,XI,jC,da],styles:[".grammar-container[_ngcontent-%COMP%]{display:flex}.word-grammar[_ngcontent-%COMP%]{min-width:40%}.declension[_ngcontent-%COMP%]{text-align:right;width:100%}"]}),r})();function fE(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," - "),e.qZA())}function _E(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,fE,2,0,"span",6),e.TgZ(2,"a",7),e._uU(3),e.qZA()()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Q6J("ngIf",o>0),e.xp6(1),e.Q6J("fragment",t.displayName)("routerLink","."),e.xp6(1),e.Oqu(t.displayName)}}function ey(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"span",3),e._uU(2),e.qZA(),e.TgZ(3,"a",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.editComment())}),e._uU(4," [e]"),e.qZA()()}if(2&r){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",null==t.word?null:t.word.comment,"")}}function GC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"input",18),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw(2).$implicit,d=e.oxw(2);return e.KtG(d.changeComment(i,a.word))})("ngModelChange",function(i){e.CHM(t);const a=e.oxw(2).$implicit;return e.KtG(a.word.comment=i)}),e.qZA()}if(2&r){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.word.comment)}}function HC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e.YNc(1,GC,1,1,"input",15),e.TgZ(2,"a",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.saveComment(i.word))}),e._uU(3," [s]"),e.qZA(),e.TgZ(4,"a",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.editComment())}),e._uU(5," [c]"),e.qZA()()}if(2&r){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.word)}}const ty=function(r){return["/words",r]};function JC(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",2),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",11)(4,"a",12),e._uU(5),e.ALo(6,"writtenWord"),e.qZA(),e._uU(7),e.TgZ(8,"a",13),e._uU(9),e.qZA(),e.YNc(10,ey,5,1,"span",6),e.YNc(11,HC,6,1,"span",6),e.qZA(),e.TgZ(12,"th",2),e._uU(13,"|"),e.qZA()()),2&r){const t=n.$implicit,o=e.oxw(2);e.xp6(4),e.Q6J("routerLink",e.VKq(9,ty,null==t.word?null:t.word.word)),e.xp6(1),e.Oqu(e.lcZ(6,7,null==t.word?null:t.word.writtenWord)),e.xp6(2),e.hij(" ",null==t.word||null==t.word.partOfSpeech?null:t.word.partOfSpeech.abbreviation," "),e.xp6(1),e.Q6J("routerLink",e.VKq(11,ty,null==t.word?null:t.word.word)),e.xp6(1),e.hij("/ ",null==t.word?null:t.word.word," /"),e.xp6(1),e.Q6J("ngIf",!o.isEditComment),e.xp6(1),e.Q6J("ngIf",o.isEditComment)}}function mE(r,n){if(1&r&&e._UZ(0,"app-word-grammar",24),2&r){const t=e.oxw().$implicit;e.Q6J("word",t.word)}}function yE(r,n){if(1&r&&(e.TgZ(0,"p"),e._uU(1," From "),e._UZ(2,"app-word-detail-list",25),e._uU(3," . "),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("wordsWithTranslations",null==t.etymology?null:t.etymology.from)}}function vE(r,n){1&r&&(e.TgZ(0,"p"),e._uU(1,"New word."),e.qZA())}function CE(r,n){if(1&r&&(e.TgZ(0,"p"),e._uU(1," Cognate with "),e._UZ(2,"app-word-detail-list",25),e._uU(3," . "),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("wordsWithTranslations",null==t.etymology?null:t.etymology.cognate)}}function WC(r,n){if(1&r&&(e.TgZ(0,"div",27),e._UZ(1,"app-word-detail-translations",28),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("translations",t.translations)}}function eZ(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",19),e._uU(6,"Translations"),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr"),e._UZ(16,"th",20),e.TgZ(17,"th",21),e.YNc(18,WC,2,1,"div",26),e.qZA(),e._UZ(19,"th",20),e.qZA(),e.TgZ(20,"tr")(21,"th",2),e._uU(22,"+"),e.qZA(),e._UZ(23,"th",5),e.TgZ(24,"th",2),e._uU(25,"+"),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(18),e.Q6J("ngIf",t.translations)}}function QC(r,n){if(1&r&&(e.TgZ(0,"p"),e._uU(1," Derived to "),e._UZ(2,"app-word-detail-list",25),e._uU(3," . "),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("wordsWithTranslations",t.derived)}}function TE(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",19),e._uU(6,"Derived"),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr"),e._UZ(16,"th",20),e.TgZ(17,"th",21)(18,"div",22),e.YNc(19,QC,4,1,"p",6),e.qZA()(),e._UZ(20,"th",20),e.qZA(),e.TgZ(21,"tr")(22,"th",2),e._uU(23,"+"),e.qZA(),e._UZ(24,"th",5),e.TgZ(25,"th",2),e._uU(26,"+"),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(19),e.Q6J("ngIf",t.derived)}}function wE(r,n){1&r&&e._UZ(0,"li",30),2&r&&e.Q6J("descendant",n.$implicit)}function tZ(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",19),e._uU(6,"Descendants"),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr"),e._UZ(16,"th",20),e.TgZ(17,"th",21)(18,"div",27)(19,"ul"),e.YNc(20,wE,1,1,"li",29),e.qZA()()(),e._UZ(21,"th",20),e.qZA(),e.TgZ(22,"tr")(23,"th",2),e._uU(24,"+"),e.qZA(),e._UZ(25,"th",5),e.TgZ(26,"th",2),e._uU(27,"+"),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(20),e.Q6J("ngForOf",t.descendants.descendants)}}function nZ(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",19),e._uU(6,"Grammar"),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr"),e._UZ(16,"th",20),e.TgZ(17,"th",21)(18,"div",22),e.YNc(19,mE,1,1,"app-word-grammar",23),e.qZA()(),e._UZ(20,"th",20),e.qZA(),e.TgZ(21,"tr")(22,"th",2),e._uU(23,"+"),e.qZA(),e._UZ(24,"th",5),e.TgZ(25,"th",2),e._uU(26,"+"),e.qZA()(),e.TgZ(27,"tr")(28,"th",2),e._uU(29,"|"),e.qZA(),e.TgZ(30,"th",2)(31,"span",19),e._uU(32,"Etymology "),e.TgZ(33,"span"),e._uU(34),e.qZA()()(),e.TgZ(35,"th",2),e._uU(36,"|"),e.qZA()(),e.TgZ(37,"tr")(38,"th",2),e._uU(39,"+"),e.qZA(),e._UZ(40,"th",5),e.TgZ(41,"th",2),e._uU(42,"+"),e.qZA()(),e.TgZ(43,"tr"),e._UZ(44,"th",20),e.TgZ(45,"th",21)(46,"div",22),e.YNc(47,yE,4,1,"p",6),e.YNc(48,vE,2,0,"p",6),e.YNc(49,CE,4,1,"p",6),e.qZA()(),e._UZ(50,"th",20),e.qZA(),e.TgZ(51,"tr")(52,"th",2),e._uU(53,"+"),e.qZA(),e._UZ(54,"th",5),e.TgZ(55,"th",2),e._uU(56,"+"),e.qZA()(),e.YNc(57,eZ,26,1,"ng-container",6),e.YNc(58,TE,27,1,"ng-container",6),e.YNc(59,tZ,28,1,"ng-container",6),e.BQk()),2&r){const t=n.$implicit,o=n.index;e.xp6(19),e.Q6J("ngIf",t.word),e.xp6(15),e.Oqu(o+1),e.xp6(13),e.Q6J("ngIf",null==t.etymology||null==t.etymology.from?null:t.etymology.from.length),e.xp6(1),e.Q6J("ngIf",!(null!=t.etymology&&null!=t.etymology.from&&t.etymology.from.length)),e.xp6(1),e.Q6J("ngIf",null==t.etymology||null==t.etymology.cognate?null:t.etymology.cognate.length),e.xp6(8),e.Q6J("ngIf",t.translations&&t.translations.length),e.xp6(1),e.Q6J("ngIf",t.derived&&t.derived.length),e.xp6(1),e.Q6J("ngIf",t.descendants&&(null==t.descendants||null==t.descendants.descendants?null:t.descendants.descendants.length))}}function bE(r,n){if(1&r&&(e.TgZ(0,"tbody")(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",8)(5,"a",9),e._uU(6),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.YNc(15,JC,14,13,"tr",4),e.TgZ(16,"tr")(17,"th",2),e._uU(18,"+"),e.qZA(),e._UZ(19,"th",10),e.TgZ(20,"th",2),e._uU(21,"+"),e.qZA()(),e.YNc(22,nZ,60,8,"ng-container",4),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(5),e.Q6J("fragment",t.displayName)("id",t.displayName)("routerLink","."),e.xp6(1),e.Oqu(t.displayName),e.xp6(9),e.Q6J("ngForOf",o.detailedWords.get(t)),e.xp6(7),e.Q6J("ngForOf",o.detailedWords.get(t))}}let AE=(()=>{class r{constructor(t,o){this.activatedRoute=t,this.wordsService=o,this.detailedWords=new Map,this.languages=[],this.isEditComment=!1}get detailedWordsKeys(){return this.languages}ngOnInit(){this.activatedRoute.data.subscribe(t=>{if(t&&t.wordDetails){const o=t.wordDetails;console.log("WordsDetailComponent ngOnInit",o);const i={displayName:""};this.languages=o.filter(a=>{var d;return null===(d=a.word)||void 0===d?void 0:d.language}).map(a=>{var d;return null!==(d=a.word)&&void 0!==d&&d.language?a.word.language:i}),o.forEach(a=>{var d;if(null!==(d=a.word)&&void 0!==d&&d.language){const p=this.detailedWords.get(a.word.language);p?p.push(a):this.detailedWords.set(a.word.language,[a])}})}})}ngOnDestroy(){console.log("WordsDetailComponent ngOnDestroy")}editComment(){this.isEditComment=!this.isEditComment}saveComment(t){console.log(t),t&&this.wordsService.addWord({body:t}).subscribe(o=>{t.comment=o.comment,this.isEditComment=!1})}changeComment(t,o){o.comment=t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(oa),e.Y36(Fl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-words"]],decls:20,vars:2,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],[1,"border"],[1,"text-grey"],[4,"ngFor","ngForOf"],["app-horizontal-dash","",1,"border"],[4,"ngIf"],[1,"text-main","link-btn",3,"fragment","routerLink"],[1,"text-white"],[1,"text-white","link-btn",2,"text-transform","uppercase",3,"fragment","id","routerLink"],["app-horizontal-dash","",1,"border-dull"],[1,"border",2,"text-align","left"],[1,"text-green-dull","text-line","link-btn",3,"routerLink"],[1,"text-main","link-btn",3,"routerLink"],[1,"text-grey-dull","link-btn",3,"click"],["type","text","style","height: 16px; margin-left: 8px; margin-right: 0px;",3,"ngModel","ngModelChange",4,"ngIf"],[1,"text-green-dull","link-btn",3,"click"],[1,"text-red-dull","link-btn",3,"click"],["type","text",2,"height","16px","margin-left","8px","margin-right","0px",3,"ngModel","ngModelChange"],[2,"text-transform","capitalize"],["app-vertical-dash","",1,"border"],[2,"text-align","left"],[1,"cell-content","text-cell-content"],[3,"word",4,"ngIf"],[3,"word"],[3,"wordsWithTranslations"],["class","cell-content",4,"ngIf"],[1,"cell-content"],[3,"translations"],["app-word-detail-descendants","",3,"descendant",4,"ngFor","ngForOf"],["app-word-detail-descendants","",3,"descendant"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0),e.qZA(),e.TgZ(5,"tbody")(6,"tr")(7,"th",2),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",3),e.YNc(10,_E,4,4,"span",4),e.qZA(),e.TgZ(11,"th",2),e._uU(12,"|"),e.qZA()(),e.TgZ(13,"tr")(14,"th",2),e._uU(15,"+"),e.qZA(),e._UZ(16,"th",5),e.TgZ(17,"th",2),e._uU(18,"+"),e.qZA()()(),e.YNc(19,bE,23,6,"tbody",4),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngForOf",o.detailedWordsKeys),e.xp6(9),e.Q6J("ngForOf",o.detailedWordsKeys))},dependencies:[ot,pt,fo,Nn,En,fn,pn,gi,HI,QI,KI,Xm,da],styles:[".text-line[_ngcontent-%COMP%]{margin-left:32px;text-transform:capitalize}.cell-content[_ngcontent-%COMP%]{margin:16px}.text-cell-content[_ngcontent-%COMP%]{text-indent:16px}.word-description[_ngcontent-%COMP%]{margin-block-start:.5em;padding-inline-start:40px}.border-dull[_ngcontent-%COMP%]{color:#3d3d3d!important}"]}),r})(),zC=(()=>{class r{constructor(){this.tabs=[{name:"Connections",route:"connections",enabled:!0},{name:"Category evolution",route:"category",enabled:!0},{name:"List evolve",route:"list",enabled:!0}]}ngOnInit(){}refreshAll(){}changeLang(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-evolution"]],decls:2,vars:1,consts:[[1,"table-container"],[3,"tabs"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-tab-routes",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("tabs",o.tabs))},dependencies:[EC]}),r})(),$g=(()=>{class r extends Ol{constructor(t,o){super(t,o)}addTranslation$Response(t){const o=new Ge(this.rootUrl,r.AddTranslationPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:parseFloat(String(i.body))})))}addTranslation(t){return this.addTranslation$Response(t).pipe((0,j.U)(o=>o.body))}getAllWordsWithTranslationsFromLang1$Response(t){const o=new Ge(this.rootUrl,r.GetAllWordsWithTranslationsFromLang1Path,"get");return t&&o.query("filter",t.filter,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getAllWordsWithTranslationsFromLang1(t){return this.getAllWordsWithTranslationsFromLang1$Response(t).pipe((0,j.U)(o=>o.body))}getTranslationsForWord$Response(t){const o=new Ge(this.rootUrl,r.GetTranslationsForWordPath,"get");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}getTranslationsForWord(t){return this.getTranslationsForWord$Response(t).pipe((0,j.U)(o=>o.body))}deleteTranslation$Response(t){const o=new Ge(this.rootUrl,r.DeleteTranslationPath,"delete");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}deleteTranslation(t){return this.deleteTranslation$Response(t).pipe((0,j.U)(o=>o.body))}}return r.AddTranslationPath="/api/translation/",r.GetAllWordsWithTranslationsFromLang1Path="/api/translation/page",r.GetTranslationsForWordPath="/api/translation/tranlationsfor/{id}",r.DeleteTranslationPath="/api/translation/{id}",r.\u0275fac=function(t){return new(t||r)(e.LFG(ys),e.LFG(Li))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function KC(r,n){if(1&r&&(e.TgZ(0,"option",4),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.displayName)}}let Oh=(()=>{class r{constructor(t){this.languagesService=t,this.selectedLanguageChange=new e.vpe,this.allLanguages=[]}ngOnInit(){console.log("AllLanguagesComponent"),console.log(this.label),this.languagesService.getAllLanguages().subscribe(t=>{this.allLanguages=t.sort((o,i)=>o.displayName.localeCompare(i.displayName)),this.selectedLanguage&&this.allLanguages.forEach(o=>{var i;(null===(i=this.selectedLanguage)||void 0===i?void 0:i.id)===o.id&&(this.selectedLanguage=o,this.changeLanguage())})})}changeLanguage(){console.log("changeLanguage",this.selectedLanguage),this.selectedLanguageChange.emit(this.selectedLanguage)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(vs))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-all-languages"]],inputs:{label:"label",selectedLanguage:"selectedLanguage"},outputs:{selectedLanguageChange:"selectedLanguageChange"},decls:8,vars:4,consts:[[1,"selector"],["for","languageSelector",1,"languageSelectorLabel"],[1,"input-group"],["id","languageSelector","name","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange","change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"select",3),e.NdJ("ngModelChange",function(a){return o.selectedLanguage=a})("change",function(){return o.changeLanguage()}),e.TgZ(5,"option",4),e._uU(6," --- Select Language --- "),e.qZA(),e.YNc(7,KC,2,2,"option",5),e.qZA()()()),2&t&&(e.xp6(2),e.Oqu(o.label),e.xp6(2),e.Q6J("ngModel",o.selectedLanguage),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.allLanguages))},dependencies:[ot,gr,Kr,Mn,En,fn],styles:[".languageSelector[_ngcontent-%COMP%]{margin-top:4px}.languageSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})();const IE=["app-translation-line",""];function EE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.startAddTranslation())}),e._uU(1,"[Edit]"),e.qZA()}}function DE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelTranslation())}),e._uU(1,"[Cancel]"),e.qZA()}}function SE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"["),e.TgZ(2,"a",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.deleteTranslation(i))}),e._uU(3,"x"),e.qZA(),e._uU(4,"]"),e.qZA()}}function xE(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"app-translation-word",15),e.YNc(3,SE,5,0,"span",10),e.qZA()),2&r){const t=n.$implicit,o=n.index,i=e.oxw(3);e.xp6(1),e.hij("",0==o?"":"; "," "),e.xp6(1),e.Q6J("translation",t),e.xp6(1),e.Q6J("ngIf",i.editMode)}}function ZE(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",12)(4,"span",3),e._uU(5),e.qZA()(),e.TgZ(6,"th",13)(7,"span",3),e._uU(8),e.ALo(9,"translationType"),e.qZA()(),e.TgZ(10,"th",14),e.YNc(11,xE,4,3,"span",9),e.qZA(),e._UZ(12,"th",0),e.TgZ(13,"th",0),e._uU(14,"|"),e.qZA()()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(3),e.Q6J("rowSpan",i.getLanguageRowspans(o)),e.xp6(2),e.Oqu(o),e.xp6(3),e.Oqu(e.lcZ(9,4,t)),e.xp6(3),e.Q6J("ngForOf",i.getTranslationForWordAndType(t,!0,o))}}function Lh(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"["),e.TgZ(2,"a",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.deleteTranslation(i))}),e._uU(3,"x"),e.qZA(),e._uU(4,"]"),e.qZA()}}function YC(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"span",17),e._UZ(3,"app-translation-word",15),e.YNc(4,Lh,5,0,"span",10),e.qZA()()),2&r){const t=n.$implicit,o=n.index,i=e.oxw(3);e.xp6(1),e.hij("",0==o?"":"; "," "),e.xp6(2),e.Q6J("translation",t),e.xp6(1),e.Q6J("ngIf",i.editMode)}}function XC(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",13)(4,"span",3),e._uU(5),e.ALo(6,"translationType"),e.qZA()(),e.TgZ(7,"th",14),e.YNc(8,YC,5,3,"span",9),e.qZA(),e._UZ(9,"th",0),e.TgZ(10,"th",0),e._uU(11,"|"),e.qZA()()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,2,t)),e.xp6(3),e.Q6J("ngForOf",i.getTranslationForWordAndType(t,!1,o))}}function eT(r,n){if(1&r&&(e.ynx(0),e.YNc(1,ZE,15,6,"tr",9),e.YNc(2,XC,12,4,"tr",9),e.BQk()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.getTranslationTypes(!0,t)),e.xp6(1),e.Q6J("ngForOf",o.getTranslationTypes(!1,t))}}function tT(r,n){if(1&r&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function nT(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr"),e._UZ(1,"th",18),e.TgZ(2,"th",19)(3,"div",20)(4,"app-all-languages",21),e.NdJ("selectedLanguageChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.changeLanguage(i))})("selectedLanguageChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.language=i)}),e.qZA(),e.TgZ(5,"input",22),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.changedWordTranslation(i))})("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.wordTranslation=i)}),e.qZA(),e.TgZ(6,"span",23)(7,"select",24),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.changePos(i))})("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.pos=i)}),e.TgZ(8,"option",25),e._uU(9,"--- Part of Speech ---"),e.qZA(),e.YNc(10,tT,2,2,"option",26),e.qZA()(),e.TgZ(11,"a",27),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addAsPhrase=!i.addAsPhrase)}),e._uU(12,"[ Phrase ]"),e.qZA()()(),e.TgZ(13,"th",28)(14,"a",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addNewTranslation())}),e._uU(15,"[Add New]"),e.qZA()(),e._UZ(16,"th",18),e.qZA()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("selectedLanguage",t.language)("label","To"),e.xp6(1),e.Q6J("ngModel",t.wordTranslation),e.xp6(2),e.Q6J("ngModel",t.pos),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",t.poses),e.xp6(1),e.Q6J("ngClass",t.addAsPhrase?"text-blue-dull":"text-grey-dull")}}const ny=function(r){return["/words/word",r]};function kE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th")(4,"a",31),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.addTranslationWord(a))}),e._uU(5,"[+]"),e.qZA()(),e.TgZ(6,"th",2)(7,"a",32),e._uU(8),e.ALo(9,"writtenWord"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"th",0),e._uU(12,"|"),e.qZA()()}if(2&r){const t=n.$implicit;e.xp6(7),e.Q6J("fragment",null==t.language?null:t.language.displayName)("routerLink",e.VKq(8,ny,t.word)),e.xp6(1),e.Oqu(e.lcZ(9,6,t.writtenWord)),e.xp6(2),e.lnq(" / ",t.word," / ",null==t.partOfSpeech?null:t.partOfSpeech.abbreviation," ",null==t.language?null:t.language.displayName," ")}}function rZ(r,n){if(1&r&&(e.ynx(0),e.YNc(1,kE,13,10,"tr",9),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.wordsForTranslation.data)}}let rT=(()=>{class r{constructor(t,o,i){this.posService=t,this.wordsService=o,this.translationService=i,this.poses=[],this.wordsForTranslation={},this.editMode=!1,this.addAsPhrase=!1}ngOnInit(){}getTranslationTypes(t,o){var i;const a=null===(i=this.word.translations)||void 0===i?void 0:i.filter(p=>{var y,w;return t?p.wordTo&&(null===(y=p.wordTo.language)||void 0===y?void 0:y.displayName)===o:p.phraseTo&&(null===(w=p.phraseTo.language)||void 0===w?void 0:w.displayName)===o}).map(p=>p.type).map(p=>p||Bu.General);return[...new Set(a)]||[]}getLanguageRowspans(t){return this.getTranslationTypes(!0,t).length+this.getTranslationTypes(!1,t).length}getTranslationLangs(){var t;const o=null===(t=this.word.translations)||void 0===t?void 0:t.map(a=>{var d,p,y;return null!==(d=a.wordTo)&&void 0!==d&&d.language?null===(p=a.wordTo)||void 0===p?void 0:p.language:null===(y=a.phraseTo)||void 0===y?void 0:y.language}).map(a=>a?a.displayName:"Unknown");return[...new Set(o)]||[]}getTranslationForWordAndType(t,o,i){var a;return(null===(a=this.word.translations)||void 0===a?void 0:a.filter(p=>{var y,w;return(o?p.wordTo&&(null===(y=p.wordTo.language)||void 0===y?void 0:y.displayName)===i:p.phraseTo&&(null===(w=p.phraseTo.language)||void 0===w?void 0:w.displayName)===i)&&p.type===t}))||[]}changeLanguage(t){console.log(t),this.pos=void 0,null!=t&&t.id&&this.posService.getAllPosByLanguage({languageId:null==t?void 0:t.id}).subscribe(o=>{var i;this.poses=o.sort((a,d)=>a.name?a.name.localeCompare(d.name?d.name:""):-1),null!==(i=this.word.partOfSpeech)&&void 0!==i&&i.id&&o.forEach(a=>{var d;(null===(d=this.word.partOfSpeech)||void 0===d?void 0:d.id)===a.id&&(this.pos=a,this.changePos(a,t))})})}changePos(t,o=this.language){console.log("changePos",t,"lang",o),o&&this.loadWordsTranslations(t,o)}startAddTranslation(){this.editMode=!0,this.languageToFilter&&(this.language=this.languageToFilter,console.log("start add translation",this.language))}loadWordsTranslations(t=this.pos,o=this.language,i=this.wordTranslation){console.log("loadWordsTranslations",t,"lang",o,"wordTranslation",i),o&&i&&this.wordsService.getAllWords({filter:{word:i,languageId:null==o?void 0:o.id,posId:null==t?void 0:t.id}}).subscribe(a=>{this.wordsForTranslation=a})}changedWordTranslation(t){this.loadWordsTranslations(this.pos,this.language,t)}addTranslationWord(t){this.addTranslation({type:Bu.General,wordTo:t,wordFrom:this.word})}addNewTranslation(){this.refreshEdit()}deleteTranslation(t){t.id&&this.translationService.deleteTranslation({id:t.id}).subscribe(()=>{var o;this.word.translations=null===(o=this.word.translations)||void 0===o?void 0:o.filter(i=>i.id!==t.id),this.refreshEdit()})}cancelTranslation(){this.refreshEdit()}addTranslation(t){this.translationService.addTranslation({body:t}).subscribe(()=>{this.word.id?this.translationService.getTranslationsForWord({id:this.word.id}).subscribe(o=>{this.word.translations=o,this.refreshEdit()}):this.refreshEdit()})}refreshEdit(){this.language=void 0,this.pos=void 0,this.wordTranslation=void 0,this.editMode=!1,this.wordsForTranslation={}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(fi),e.Y36(Fl),e.Y36($g))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tbody","app-translation-line",""]],inputs:{word:"word",languageToFilter:"languageToFilter"},attrs:IE,decls:28,vars:16,consts:[[1,"border"],["app-horizontal-dash","","colspan","4",1,"border"],["colspan","3",2,"padding-left","8px","padding-right","8px","white-space","nowrap","text-align","left"],[2,"white-space","nowrap"],[1,"text-green-dull","link-btn",3,"fragment","routerLink"],[2,"text-transform","capitalize"],[1,"text-main","link-btn"],[1,"text-grey-dull"],["class","text-grey-dull",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-grey-dull",3,"click"],[1,"border",2,"padding-left","4px","padding-right","8px","text-align","left",3,"rowSpan"],[1,"border",2,"padding-left","4px","padding-right","8px","text-align","left"],[2,"padding-left","8px","padding-right","8px","white-space","nowrap","text-align","left"],[3,"translation"],[1,"text-red-dull",3,"click"],[1,"text-blue-dull","link-btn"],["app-vertical-dash","",1,"border"],["colspan","3"],[2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],["type","text",2,"height","16px","margin-left","8px","margin-top","30px","margin-right","0px",3,"ngModel","ngModelChange"],[2,"margin-left","8px","text-align","end"],["id","posSelector",1,"posSelector",2,"margin-top","28px",3,"ngModel","ngModelChange"],["disabled","",1,"text-grey-dull",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[2,"margin-left","16px","vertical-align","text-bottom","margin-top","32px",3,"ngClass","click"],[1,"border",2,"padding-top","22px"],[1,"text-green-dull",2,"vertical-align","text-bottom",3,"click"],[3,"ngValue"],[1,"text-green-dull","link-btn",3,"click"],[1,"text-blue-dull","link-btn",3,"fragment","routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"+"),e.qZA(),e._UZ(3,"th",1),e.TgZ(4,"th",0),e._uU(5,"+"),e.qZA()(),e.TgZ(6,"tr")(7,"th",0),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",2)(10,"span",3)(11,"a",4)(12,"span",5),e._uU(13),e.ALo(14,"writtenWord"),e.qZA(),e.TgZ(15,"span",6),e._uU(16),e.qZA()()(),e._uU(17),e.TgZ(18,"span",7),e._uU(19),e.qZA()(),e.TgZ(20,"th",0),e.YNc(21,EE,2,0,"a",8),e.YNc(22,DE,2,0,"a",8),e.qZA(),e.TgZ(23,"th",0),e._uU(24,"|"),e.qZA()(),e.YNc(25,eT,3,2,"ng-container",9),e.YNc(26,nT,17,7,"tr",10),e.YNc(27,rZ,2,1,"ng-container",10)),2&t&&(e.xp6(11),e.Q6J("fragment",null==o.word.language?null:o.word.language.displayName)("routerLink",e.VKq(14,ny,o.word.word)),e.xp6(2),e.Oqu(e.lcZ(14,12,o.word.writtenWord)),e.xp6(3),e.hij(" / ",o.word.word," /"),e.xp6(1),e.hij(" ",o.word.comment," "),e.xp6(2),e.AsE(" ",null==o.word.partOfSpeech?null:o.word.partOfSpeech.abbreviation," ",null==o.word.language?null:o.word.language.displayName,""),e.xp6(2),e.Q6J("ngIf",!o.editMode),e.xp6(1),e.Q6J("ngIf",o.editMode),e.xp6(3),e.Q6J("ngForOf",o.getTranslationLangs()),e.xp6(1),e.Q6J("ngIf",o.editMode),e.xp6(1),e.Q6J("ngIf",o.editMode))},dependencies:[kn,ot,pt,fo,gr,Kr,Nn,Mn,En,fn,pn,gi,Oh,ql,ZC,da]}),r})();function NE(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"tbody",15),e.BQk()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("word",t)("languageToFilter",o.languageTo)}}let UE=(()=>{class r{constructor(t,o){this.translationService=t,this.languageService=o,this.words={},this.pageSize=20}ngOnInit(){}load(t){this.translationService.getAllWordsWithTranslationsFromLang1({filter:t}).subscribe(o=>{o.data&&(this.words=o)})}loadDefault(t){var o,i;console.log("loadDefault",t,this.languageFrom,this.languageTo,this.wordSearch,this.translationSearch),t||(t={}),t={page:t.page?t.page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,translation:t.translation?t.translation:""===t.translation?void 0:this.translationSearch,languageFromId:t.languageFromId?t.languageFromId:null===t.languageFromId||null===(o=this.languageFrom)||void 0===o?void 0:o.id,languageToId:t.languageToId?t.languageToId:null===t.languageToId||null===(i=this.languageTo)||void 0===i?void 0:i.id},this.load(t)}resetFilter(){this.languageFrom=void 0,this.languageTo=void 0,this.wordSearch=void 0,this.translationSearch=void 0,this.loadDefault({})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($g),e.Y36(vs))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-translations"]],decls:51,vars:11,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","9px"],["span","1",2,"width","70px"],[1,"border"],[1,"border",2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],["type","text",2,"height","16px","margin-left","8px","margin-top","30px","margin-right","0px",3,"ngModel","ngModelChange"],[1,"text-red-dull",3,"click"],[1,"table-content"],["span","1",2,"width","1%"],["span","1",2,"width","20px"],["span","1",2,"width","72px"],[4,"ngFor","ngForOf"],[3,"page","size","totalPages","total","load"],["app-translation-line","",3,"word","languageToFilter"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",0),e.qZA(),e.TgZ(7,"tbody")(8,"tr")(9,"th",4),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e._UZ(15,"br"),e._uU(16,"|"),e.qZA(),e.TgZ(17,"th",5)(18,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(a){return o.loadDefault({languageFromId:a.id})})("selectedLanguageChange",function(a){return o.languageFrom=a}),e.qZA(),e.TgZ(19,"input",7),e.NdJ("ngModelChange",function(a){return o.loadDefault({word:a})})("ngModelChange",function(a){return o.wordSearch=a}),e.qZA(),e.TgZ(20,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(a){return o.loadDefault({languageToId:a.id})})("selectedLanguageChange",function(a){return o.languageTo=a}),e.qZA(),e.TgZ(21,"input",7),e.NdJ("ngModelChange",function(a){return o.loadDefault({translation:a})})("ngModelChange",function(a){return o.translationSearch=a}),e.qZA()(),e.TgZ(22,"th",4),e._uU(23,"|"),e._UZ(24,"br"),e._uU(25,"|"),e._UZ(26,"br"),e._uU(27,"|"),e._UZ(28,"br"),e._uU(29,"|"),e.qZA(),e.TgZ(30,"th")(31,"a",8),e.NdJ("click",function(){return o.resetFilter()}),e._uU(32,"[ x ]"),e.qZA()(),e.TgZ(33,"th",4),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e._UZ(39,"br"),e._uU(40,"|"),e.qZA()()()(),e.TgZ(41,"table",9)(42,"colgroup"),e._UZ(43,"col",0)(44,"col",10)(45,"col",11)(46,"col",1)(47,"col",12)(48,"col",0),e.qZA(),e.YNc(49,NE,2,2,"ng-container",13),e.qZA(),e.TgZ(50,"app-list-paginator",14),e.NdJ("load",function(a){return o.loadDefault(a)}),e.qZA()),2&t&&(e.xp6(18),e.Q6J("selectedLanguage",o.languageFrom)("label","From"),e.xp6(1),e.Q6J("ngModel",o.wordSearch),e.xp6(1),e.Q6J("selectedLanguage",o.languageTo)("label","To"),e.xp6(1),e.Q6J("ngModel",o.translationSearch),e.xp6(28),e.Q6J("ngForOf",o.words.data),e.xp6(1),e.Q6J("page",o.words.page?o.words.page:0)("size",o.pageSize)("totalPages",o.words.totalPages?o.words.totalPages:0)("total",o.words.total?o.words.total:0))},dependencies:[ot,Nn,En,fn,Oh,Bg,rT]}),r})();var ha=(()=>{return(r=ha||(ha={})).Evolving="EVOLVING",r.Borrowing="BORROWING",r.Derivation="DERIVATION",ha;var r})();function ME(r,n){if(1&r&&(e.TgZ(0,"option",4),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t)}}let Fh=(()=>{class r{constructor(){this.selectedLanguageConnectionChange=new e.vpe,this.allConnectionTypes=[ha.Evolving,ha.Borrowing]}ngOnInit(){}changeConnection(){console.log("changeLanguage",this.selectedLanguageConnection),this.selectedLanguageConnectionChange.emit(this.selectedLanguageConnection)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-connection"]],inputs:{label:"label",selectedLanguageConnection:"selectedLanguageConnection"},outputs:{selectedLanguageConnectionChange:"selectedLanguageConnectionChange"},decls:8,vars:4,consts:[[1,"selector"],["for","languageConnectionSelector",1,"languageConnectionSelectorLabel"],[1,"input-group"],["id","languageConnectionSelector","name","languageConnectionSelector",1,"languageConnectionSelector",3,"ngModel","ngModelChange","change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"select",3),e.NdJ("ngModelChange",function(a){return o.selectedLanguageConnection=a})("change",function(){return o.changeConnection()}),e.TgZ(5,"option",4),e._uU(6,"No connection"),e.qZA(),e.YNc(7,ME,2,2,"option",5),e.qZA()()()),2&t&&(e.xp6(2),e.Oqu(o.label),e.xp6(2),e.Q6J("ngModel",o.selectedLanguageConnection),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.allConnectionTypes))},dependencies:[ot,gr,Kr,Mn,En,fn],styles:[".languageConnectionSelector[_ngcontent-%COMP%]{margin-top:4px}.languageConnectionSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})();function PE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"app-language-connection",12),e.NdJ("selectedLanguageConnectionChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.languagesConnectionTypeChanged(i))}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("label","Type")("selectedLanguageConnection",t.connectionType)}}function ry(r,n){1&r&&e._UZ(0,"th",7)}function pa(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",3),e._uU(1,"[ "),e.TgZ(2,"a",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"E"),e.qZA(),e._uU(5,"dit"),e.qZA(),e._uU(6," ]-"),e.qZA()}}function RE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",3),e._uU(1,"[ "),e.TgZ(2,"a",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"S"),e.qZA(),e._uU(5,"ave"),e.qZA(),e._uU(6," ]-["),e.TgZ(7,"a",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelSoundChanges())}),e._uU(8," x "),e.qZA(),e._uU(9,"]-"),e.qZA()}}function oy(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-table",16),e.NdJ("soundChangesChanges",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.soundChangesChanges)}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChanges",t.soundChanges)}}function qh(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-edit",17),e.NdJ("soundChangesRawChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.soundChangesRaw=i)})("soundChangesRawChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.soundChangesRawChange())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChangesRaw",t.soundChangesRaw)}}let OE=(()=>{class r extends Ug{constructor(t){super(Ll.SoundChange),this.languagesEvolutionService=t}ngOnChanges(t){}editSoundChanges(){var t;console.log("hello",null===(t=this.languageFrom)||void 0===t?void 0:t.displayName),this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.getSoundChangesRawLinesByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,soundChangePurpose:this.soundChangePurpose}).subscribe(o=>{this.soundChangesRaw=o,console.log("editSoundChanges soundChangesRaw",this.soundChangesRaw),this.editMode=!0})}saveSoundChanges(){this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.saveSoundChangesRawLinesByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,body:this.soundChangesRaw,soundChangePurpose:this.soundChangePurpose}).subscribe(()=>{this.editMode=!1,this.refresh()})}refresh(){this.connectionType=void 0,this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.getSoundChangesByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,soundChangePurpose:this.soundChangePurpose}).subscribe(t=>{this.soundChanges=t,this.refreshConnectionType()})}languageChanged(){this.editMode=!1,this.refresh()}languageFromChanged(t){this.languageFrom=t,this.languageChanged()}languageToChanged(t){this.languageTo=t,this.languageChanged()}languagesConnectionTypeChanged(t){console.log("languagesConnectionTypeChanged",t),this.connectionType=t,this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&(this.connectionType?this.languagesEvolutionService.updateConnectionByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,body:{languageConnectionType:this.connectionType}}).subscribe(()=>{this.refresh()}):this.languagesEvolutionService.deleteConnectionByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id}).subscribe(()=>{this.refresh()}))}refreshConnectionType(){this.connectionType=void 0,this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.getConnectionByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id}).subscribe(t=>{this.connectionType=t.connectionType})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_i))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-connections"]],features:[e.qOj,e.TTD],decls:42,vars:10,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",1,"border",2,"width","max-content"],[1,"border"],[2,"text-align","left","display","flex"],[3,"label","selectedLanguage","selectedLanguageChange"],[4,"ngIf"],["app-horizontal-dash","",1,"border"],["app-horizontal-dash","","class","border",4,"ngIf"],["class","border",4,"ngIf"],[3,"soundChanges","soundChangesChanges",4,"ngIf"],[3,"soundChangesRaw","soundChangesRawChange",4,"ngIf"],[3,"label","selectedLanguageConnection","selectedLanguageConnectionChange"],[1,"text-yellow-dull",3,"click"],[1,"text-green-dull",3,"click"],[1,"text-red-dull",3,"click"],[3,"soundChanges","soundChangesChanges"],[3,"soundChangesRaw","soundChangesRawChange"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",0),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",3),e._uU(9,"|"),e._UZ(10,"br"),e._uU(11,"|"),e._UZ(12,"br"),e._uU(13,"|"),e._UZ(14,"br"),e._uU(15,"|"),e.qZA(),e.TgZ(16,"th",4)(17,"span")(18,"app-all-languages",5),e.NdJ("selectedLanguageChange",function(a){return o.languageFromChanged(a)}),e.qZA()(),e.TgZ(19,"span")(20,"app-all-languages",5),e.NdJ("selectedLanguageChange",function(a){return o.languageToChanged(a)}),e.qZA()(),e.YNc(21,PE,2,2,"span",6),e.qZA(),e._UZ(22,"th",3),e.TgZ(23,"th",3),e._uU(24,"|"),e._UZ(25,"br"),e._uU(26,"|"),e._UZ(27,"br"),e._uU(28,"|"),e._UZ(29,"br"),e._uU(30,"|"),e.qZA()(),e.TgZ(31,"tr")(32,"th",3),e._uU(33,"+"),e.qZA(),e._UZ(34,"th",7),e.YNc(35,ry,1,0,"th",8),e.YNc(36,pa,7,0,"th",9),e.YNc(37,RE,10,0,"th",9),e.TgZ(38,"th",3),e._uU(39,"+"),e.qZA()()()(),e.YNc(40,oy,1,1,"app-sound-changes-table",10),e.YNc(41,qh,1,1,"app-sound-changes-edit",11)),2&t&&(e.xp6(18),e.Q6J("label","From")("selectedLanguage",o.languageFrom),e.xp6(2),e.Q6J("label","To")("selectedLanguage",o.languageTo),e.xp6(1),e.Q6J("ngIf",o.languageFrom&&o.languageTo&&!o.editMode),e.xp6(14),e.Q6J("ngIf",!o.connectionType),e.xp6(1),e.Q6J("ngIf",!o.editMode&&o.connectionType),e.xp6(1),e.Q6J("ngIf",o.editMode&&o.connectionType),e.xp6(3),e.Q6J("ngIf",!o.editMode&&o.connectionType),e.xp6(1),e.Q6J("ngIf",o.editMode&&o.connectionType))},dependencies:[pt,pn,Oh,Mg,Pg,Fh]}),r})();function LE(r,n){if(1&r&&(e.TgZ(0,"span",28),e._uU(1),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.calculatedEvolution)}}function FE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"span",29),e._uU(2),e.qZA(),e._uU(3," ("),e.TgZ(4,"a",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.evolveSingleWord(i))}),e._uU(5),e.qZA(),e._uU(6,")"),e.qZA()}if(2&r){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(null==t.wordEvolved?null:t.wordEvolved.word),e.xp6(3),e.Oqu(t.calculatedEvolution)}}function Gg(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"a",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.evolveSingleWord(i))}),e._uU(2),e.qZA()()}if(2&r){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(t.calculatedEvolution)}}function Hg(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"th"),e.YNc(2,LE,2,1,"span",26),e.YNc(3,FE,7,2,"span",23),e.YNc(4,Gg,3,1,"span",23),e.qZA(),e.TgZ(5,"th",4),e._uU(6,"|"),e.qZA(),e.TgZ(7,"th",27),e._uU(8),e.TgZ(9,"i"),e._uU(10),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",!!t.calculatedEvolution&&t.calculatedEvolution===(null==t.wordEvolved?null:t.wordEvolved.word)),e.xp6(1),e.Q6J("ngIf",!(null==t.wordEvolved||!t.wordEvolved.word)&&t.calculatedEvolution!=(null==t.wordEvolved?null:t.wordEvolved.word)),e.xp6(1),e.Q6J("ngIf",!(null!=t.wordEvolved&&t.wordEvolved.word)),e.xp6(4),e.hij(" ",null==t.wordEvolved||null==t.wordEvolved.partOfSpeech?null:t.wordEvolved.partOfSpeech.abbreviation," "),e.xp6(2),e.Oqu(null==t.languageConnection||null==t.languageConnection.langTo?null:t.languageConnection.langTo.displayName)}}function qE(r,n){1&r&&(e.ynx(0),e._UZ(1,"th",31),e.BQk())}function VE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.forget(i.word))}),e._uU(1,"unforget"),e.qZA()}}function oT(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.forget(i.word))}),e._uU(1,"forget"),e.qZA()}}const iT=function(r){return["/words/word",r]};function iy(r,n){if(1&r&&(e.TgZ(0,"tr",12)(1,"th",4),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",21),e._uU(4),e.TgZ(5,"i"),e._uU(6),e.qZA()(),e.TgZ(7,"th",4),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th")(10,"a",22),e._uU(11),e.qZA()(),e.TgZ(12,"th",4),e._uU(13,"|"),e.qZA(),e.YNc(14,Hg,11,5,"ng-container",23),e.YNc(15,qE,2,0,"ng-container",23),e.TgZ(16,"th",4),e._uU(17,"|"),e.qZA(),e.TgZ(18,"th",4),e.YNc(19,VE,2,0,"a",24),e.YNc(20,oT,2,0,"a",25),e.qZA(),e.TgZ(21,"th",4),e._uU(22,"|"),e.qZA()()),2&r){const t=n.$implicit;e.xp6(3),e.Q6J("ngClass",null!=t&&null!=t.word&&t.word.forgotten?"text-grey-dull":"text-grey"),e.xp6(1),e.hij(" ",null==t.word||null==t.word.partOfSpeech?null:t.word.partOfSpeech.abbreviation," "),e.xp6(2),e.Oqu(null==t.word||null==t.word.language?null:t.word.language.displayName),e.xp6(4),e.Q6J("ngClass",null!=t&&null!=t.word&&t.word.forgotten?"text-grey":"text-main")("routerLink",e.VKq(10,iT,null==t.word?null:t.word.word)),e.xp6(1),e.Oqu(null==t.word?null:t.word.word),e.xp6(3),e.Q6J("ngIf",!(null!=t&&null!=t.word&&t.word.forgotten)),e.xp6(1),e.Q6J("ngIf",null==t||null==t.word?null:t.word.forgotten),e.xp6(4),e.Q6J("ngIf",null==t||null==t.word?null:t.word.forgotten),e.xp6(1),e.Q6J("ngIf",!(null!=t&&null!=t.word&&t.word.forgotten))}}let sT=(()=>{class r{constructor(t,o){this.languagesEvolutionService=t,this.wordsService=o,this.words={},this.pageSize=250,this.withoutForgotten=!0,this.onlyUnevolved=!1}static wordWEtoWTE(t){return{languageConnection:t.languageConnection,word:t.word}}ngOnInit(){}load(t){this.languagesEvolutionService.getAllWordsWithEvolutions({filter:t}).subscribe(o=>{this.words=o})}loadDefault(t){var o,i;t||(t={}),t={page:t.page?t.page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,languageFromId:t.languageFromId?t.languageFromId:null===t.languageFromId||null===(o=this.languageFrom)||void 0===o?void 0:o.id,languageToId:t.languageToId?t.languageToId:null===t.languageToId||null===(i=this.languageTo)||void 0===i?void 0:i.id,canBeForgotten:!this.withoutForgotten},this.load(t)}resetFilter(){this.languageFrom=void 0,this.languageTo=void 0,this.wordSearch=void 0,this.loadDefault({})}forget(t){t&&(t.forgotten=!t.forgotten,console.log("forget word",t.forgotten,t),this.wordsService.addWord({body:t}).subscribe(o=>{var i;this.withoutForgotten?this.loadDefault(void 0):null===(i=this.words.data)||void 0===i||i.forEach(a=>{const d=a.word;d&&d.id===o.id&&(d.forgotten=o.forgotten,d.id=o.id,d.word=o.word,d.language=o.language,d.partOfSpeech=o.partOfSpeech,d.version=o.version)})}))}evolveSingleWord(t){const o=r.wordWEtoWTE(t);this.languagesEvolutionService.addEvolvedWord({body:o}).subscribe(i=>{t.word=i.word,t.wordEvolved=i.wordEvolved,t.calculatedEvolution=i.calculatedEvolution,t.wordEvolvedType=i.wordEvolvedType,t.languageConnection=i.languageConnection})}filterWithoutForgotten(){this.withoutForgotten=!this.withoutForgotten,this.loadDefault(void 0)}filterOnlyUnevolved(){this.onlyUnevolved=!this.onlyUnevolved}evolvePage(){if(this.words.data){const t=this.words.data.filter(o=>{var i;return!(null!==(i=o.word)&&void 0!==i&&i.forgotten||o.wordEvolved&&o.wordEvolved.word===o.calculatedEvolution)}).map(o=>r.wordWEtoWTE(o));console.log(t),this.languagesEvolutionService.addEvolvedWord1({body:t}).subscribe(()=>{this.loadDefault(void 0)})}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_i),e.Y36(Fl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-evolution"]],decls:98,vars:14,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","9px"],["span","1",2,"width","70px"],[1,"border"],[1,"border",2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],["type","text",2,"height","16px","margin-left","8px","margin-top","30px","margin-right","0px",3,"ngModel","ngModelChange"],[2,"height","16px","margin-left","16px","margin-top","34px",3,"ngClass","click"],[3,"ngClass"],[1,"text-red-dull",3,"click"],["app-horizontal-dash","","colspan","3",1,"border"],[1,"table-content"],["span","1",2,"width","15%"],["span","1",2,"width","max-content"],["span","1",2,"width","65px"],["class","table-content",4,"ngFor","ngForOf"],[3,"page","size","totalPages","total","load"],[1,"text-green-dull",3,"click"],[1,"text-green-dull",2,"margin-left","16px"],["app-horizontal-dash","",1,"border"],[2,"text-align","left",3,"ngClass"],[1,"link-btn",3,"ngClass","routerLink"],[4,"ngIf"],["class","text-green-dull",3,"click",4,"ngIf"],["class","text-yellow-dull",3,"click",4,"ngIf"],["class","text-green-dull",4,"ngIf"],[1,"border",2,"text-align","left"],[1,"text-green-dull"],[1,"text-red-dull"],[1,"text-yellow-dull",3,"click"],["colspan","3",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",0),e.qZA(),e.TgZ(7,"tbody")(8,"tr")(9,"th",4),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e._UZ(15,"br"),e._uU(16,"|"),e.qZA(),e.TgZ(17,"th",5)(18,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(a){return o.loadDefault({languageFromId:a.id})})("selectedLanguageChange",function(a){return o.languageFrom=a}),e.qZA(),e.TgZ(19,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(a){return o.loadDefault({languageToId:a.id})})("selectedLanguageChange",function(a){return o.languageTo=a}),e.qZA(),e.TgZ(20,"input",7),e.NdJ("ngModelChange",function(a){return o.loadDefault({word:a})})("ngModelChange",function(a){return o.wordSearch=a}),e.qZA(),e.TgZ(21,"a",8),e.NdJ("click",function(){return o.filterWithoutForgotten()}),e._uU(22,"[ "),e.TgZ(23,"span",9),e._uU(24,"W"),e.qZA(),e._uU(25,"ithout Forgotten ]"),e.qZA(),e.TgZ(26,"a",8),e.NdJ("click",function(){return o.filterOnlyUnevolved()}),e._uU(27,"[ "),e.TgZ(28,"span",9),e._uU(29,"O"),e.qZA(),e._uU(30,"nly Unevolved ]"),e.qZA()(),e.TgZ(31,"th",4),e._uU(32,"|"),e._UZ(33,"br"),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e.qZA(),e.TgZ(39,"th")(40,"a",10),e.NdJ("click",function(){return o.resetFilter()}),e._uU(41,"[ x ]"),e.qZA()(),e.TgZ(42,"th",4),e._uU(43,"|"),e._UZ(44,"br"),e._uU(45,"|"),e._UZ(46,"br"),e._uU(47,"|"),e._UZ(48,"br"),e._uU(49,"|"),e.qZA()(),e.TgZ(50,"tr")(51,"th",4),e._uU(52,"+"),e.qZA(),e._UZ(53,"th",11),e.TgZ(54,"th",4),e._uU(55,"+"),e.qZA()()()(),e.TgZ(56,"table",12)(57,"colgroup"),e._UZ(58,"col",0)(59,"col",13)(60,"col",0)(61,"col",14)(62,"col",0)(63,"col",14)(64,"col",0)(65,"col",1)(66,"col",0)(67,"col",15)(68,"col",0),e.qZA(),e.TgZ(69,"tbody",12),e.YNc(70,iy,23,12,"tr",16),e.qZA()(),e.TgZ(71,"app-list-paginator",17),e.NdJ("load",function(a){return o.loadDefault(a)}),e.qZA(),e.TgZ(72,"table")(73,"colgroup"),e._UZ(74,"col",0)(75,"col",1)(76,"col",0),e.qZA(),e.TgZ(77,"tbody")(78,"tr")(79,"th",4),e._uU(80,"|"),e._UZ(81,"br"),e._uU(82,"|"),e.qZA(),e.TgZ(83,"th",4)(84,"a",18),e.NdJ("click",function(){return o.evolvePage()}),e._uU(85,"[ Evolve Page ]"),e.qZA(),e.TgZ(86,"a",19),e._uU(87,"[ Evolve All Words ]"),e.qZA()(),e.TgZ(88,"th",4),e._uU(89,"|"),e._UZ(90,"br"),e._uU(91,"|"),e.qZA()(),e.TgZ(92,"tr")(93,"th",4),e._uU(94,"+"),e.qZA(),e._UZ(95,"th",20),e.TgZ(96,"th",4),e._uU(97,"+"),e.qZA()()()()),2&t&&(e.xp6(18),e.Q6J("selectedLanguage",o.languageFrom)("label","From"),e.xp6(1),e.Q6J("selectedLanguage",o.languageTo)("label","To"),e.xp6(1),e.Q6J("ngModel",o.wordSearch),e.xp6(1),e.Q6J("ngClass",o.withoutForgotten?"text-green-dull":"text-grey-dull"),e.xp6(2),e.Q6J("ngClass",o.withoutForgotten?"text-green":"text-grey"),e.xp6(3),e.Q6J("ngClass",o.onlyUnevolved?"text-green-dull":"text-grey-dull"),e.xp6(2),e.Q6J("ngClass",o.onlyUnevolved?"text-green":"text-grey"),e.xp6(42),e.Q6J("ngForOf",o.words.data),e.xp6(1),e.Q6J("page",o.words.page?o.words.page:0)("size",o.pageSize)("totalPages",o.words.totalPages?o.words.totalPages:0)("total",o.words.total?o.words.total:0))},dependencies:[kn,ot,pt,fo,Nn,En,fn,pn,Oh,Bg]}),r})();var ju=(()=>{return(r=ju||(ju={})).New="NEW",r.Borrowed="BORROWED",r.Derived="DERIVED",r.Evolved="EVOLVED",ju;var r})();let sy=(()=>{class r{constructor(t){this.posService=t,this.poses=[]}ngOnInit(){this.loadPos(this.getLanguage.id)}ngOnChanges(t){t.language&&t.language.currentValue&&(console.log("WordNewDetailed",t,t.language.currentValue),this.loadPos(t.language.currentValue.id))}loadPos(t){t?this.posService.getAllPosByLanguage({languageId:t}).subscribe(o=>{this.poses=o.sort((i,a)=>i.name?i.name.localeCompare(a.name?a.name:""):-1)}):(console.log("Can't load pos for null language"),this.poses=[])}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(fi))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],features:[e.TTD],decls:0,vars:0,template:function(t,o){},encapsulation:2}),r})();const oZ=["app-new",""];function ay(r,n){if(1&r&&(e.TgZ(0,"option",14),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}let ly=(()=>{class r extends sy{constructor(t,o){super(o),this.wordService=t,this.posService=o,this.newWord=new $e({word:new ui("",yr.required),comment:new ui("",yr.required),pos:new ui({},yr.required)})}get getLanguage(){return this.language}addNewWord(){this.wordService.addWord({body:{word:this.newWord.value.word?this.newWord.value.word:"",comment:this.newWord.value.comment?this.newWord.value.comment:"",language:this.language,partOfSpeech:this.newWord.value.pos?this.newWord.value.pos:void 0,forgotten:!1,sourceType:ju.New}}).subscribe(o=>{this.clear()})}clear(){var t,o;null===(t=this.newWord.get("word"))||void 0===t||t.reset(),null===(o=this.newWord.get("comment"))||void 0===o||o.reset()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Fl),e.Y36(fi))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tbody","app-new",""]],inputs:{language:"language"},features:[e.qOj],attrs:oZ,decls:39,vars:3,consts:[[1,"border"],[3,"formGroup","ngSubmit"],[2,"text-align","left","display","flex"],[1,"selector"],["for","wordInput",1,"languageSelectorLabel"],[1,"input-group",2,"margin-top","4px"],["formControlName","word","id","wordInput","name","wordInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],["for","posSelector",1,"languageSelectorLabel"],["formControlName","pos","id","posSelector","name","posSelector",1,"posSelector",3,"value"],[3,"ngValue",4,"ngFor","ngForOf"],["for","commentInput",1,"languageSelectorLabel",2,"height","16px","margin-left","8px"],["formControlName","comment","id","commentInput","name","commentInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],[1,"selector",2,"padding-top","22px"],[1,"text-green-dull",3,"click"],[3,"ngValue"]],template:function(t,o){1&t&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e._UZ(3,"br"),e._uU(4,"|"),e._UZ(5,"br"),e._uU(6,"|"),e._UZ(7,"br"),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",0)(10,"form",1),e.NdJ("ngSubmit",function(){return o.addNewWord()}),e.TgZ(11,"div",2)(12,"div",3)(13,"label",4),e._uU(14,"Word"),e.qZA(),e.TgZ(15,"div",5)(16,"input",6),e.NdJ("submit",function(){return o.addNewWord()}),e.qZA()()(),e.TgZ(17,"div",3)(18,"label",7),e._uU(19,"Category"),e.qZA(),e.TgZ(20,"div",5)(21,"select",8),e.YNc(22,ay,2,2,"option",9),e.qZA()()(),e.TgZ(23,"div",3)(24,"label",10),e._uU(25,"Comment"),e.qZA(),e.TgZ(26,"div",5)(27,"input",11),e.NdJ("submit",function(){return o.addNewWord()}),e.qZA()()(),e.TgZ(28,"div",12)(29,"a",13),e.NdJ("click",function(){return o.addNewWord()}),e._uU(30,"[ Add new word ]"),e.qZA()()()()(),e.TgZ(31,"th",0),e._uU(32,"|"),e._UZ(33,"br"),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e.qZA()()),2&t&&(e.xp6(10),e.Q6J("formGroup",o.newWord),e.xp6(11),e.Q6J("value",void 0),e.xp6(1),e.Q6J("ngForOf",o.poses))},dependencies:[ot,Pi,gr,Kr,Nn,Mn,En,ai,_,ft]}),r})();const aT=["app-derived",""];function uy(r,n){if(1&r&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function cy(r,n){1&r&&(e.TgZ(0,"span",27),e._uU(1," + "),e.qZA())}function BE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span",24),e.YNc(1,cy,2,0,"span",25),e.TgZ(2,"a",26),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.removeWord(a))}),e._uU(3),e.qZA()()}if(2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Q6J("ngIf",o>0),e.xp6(2),e.hij("/ ",t.word," /")}}function jE(r,n){if(1&r&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function $E(r,n){1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e._UZ(3,"th",16),e.TgZ(4,"th",0),e._uU(5,"|"),e.qZA()())}function GE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.selectWord(i))}),e._uU(1,"[ ]"),e.qZA()}}function lT(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.removeWord(i))}),e._uU(1,"[x]"),e.qZA()}}function dy(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",17)(4,"span",19),e.YNc(5,GE,2,0,"a",28),e.YNc(6,lT,2,0,"a",29),e.qZA(),e.TgZ(7,"span",30),e._uU(8),e.ALo(9,"writtenWord"),e.qZA(),e.TgZ(10,"span",31),e._uU(11),e.qZA(),e.TgZ(12,"span",30),e._uU(13),e.qZA(),e.TgZ(14,"span",19),e._uU(15),e.qZA()(),e.TgZ(16,"th",0),e._uU(17,"|"),e.qZA()()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(5),e.Q6J("ngIf",o.indexOfSelectedWord(t)<0),e.xp6(1),e.Q6J("ngIf",o.indexOfSelectedWord(t)>=0),e.xp6(2),e.Oqu(e.lcZ(9,6,t.writtenWord)),e.xp6(3),e.hij("/ ",t.word," /"),e.xp6(2),e.Oqu(null==t.partOfSpeech?null:t.partOfSpeech.abbreviation),e.xp6(2),e.Oqu(t.comment)}}let uT=(()=>{class r extends sy{constructor(t,o){super(o),this.wordService=t,this.posService=o,this.pageSize=10,this.wordsList={},this.selectedWords=[],this.newWord=new $e({word:new ui("",yr.required),comment:new ui("",yr.required),pos:new ui({},yr.required)})}get getLanguage(){return this.language}ngOnInit(){super.ngOnInit(),this.reloadWordList(this.language.id)}ngOnChanges(t){super.ngOnChanges(t),t.language&&t.language.currentValue&&(console.log("DerivedComponent",t,t.language.currentValue),this.reloadWordList(t.language.currentValue.id),this.selectedWords=[])}reloadWordList(t){t?this.loadDefault({languageId:t}):this.wordsList={}}loadDefault(t){var o,i;console.log("loadDefault",t,this.listPosSelector,this.language,this.wordSearch),t||(t={}),t={page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,languageId:t.languageId?t.languageId:null===t.languageId||null===(o=this.language)||void 0===o?void 0:o.id,posId:t.posId?t.posId:null===t.posId||null===(i=this.listPosSelector)||void 0===i?void 0:i.id},this.load(t)}load(t){this.wordService.getAllWords({filter:t}).subscribe(o=>{o.data&&(this.wordsList=o)})}selectWord(t){this.indexOfSelectedWord(t)<0&&this.selectedWords.push(t)}removeWord(t){const o=this.indexOfSelectedWord(t);o>=0&&this.selectedWords.splice(o,1)}indexOfSelectedWord(t){return this.selectedWords.findIndex((o,i,a)=>t.id===o.id)}addDerivedWord(){this.wordService.addDerivedWord({body:{word:this.newWord.value.word?this.newWord.value.word:void 0,comment:this.newWord.value.comment?this.newWord.value.comment:void 0,language:this.language,partOfSpeech:this.newWord.value.pos?this.newWord.value.pos:void 0,forgotten:!1,wordOriginType:ju.Derived,derivedFrom:this.selectedWords}}).subscribe(o=>{this.clear()})}clear(){var t,o;null===(t=this.newWord.get("word"))||void 0===t||t.reset(),null===(o=this.newWord.get("comment"))||void 0===o||o.reset(),this.wordSearch=void 0,this.listPosSelector=void 0,this.selectedWords=[],this.reloadWordList(this.language.id)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Fl),e.Y36(fi))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tbody","app-derived",""]],inputs:{language:"language"},features:[e.qOj,e.TTD],attrs:aT,decls:78,vars:10,consts:[[1,"border"],[3,"formGroup","ngSubmit"],[2,"text-align","left","display","flex"],[1,"selector"],["for","wordInput",1,"languageSelectorLabel"],[1,"input-group",2,"margin-top","4px"],["formControlName","word","id","wordInput","name","wordInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],["for","posSelector",1,"languageSelectorLabel"],["formControlName","pos","id","posSelector","name","posSelector",1,"posSelector",3,"value"],[3,"ngValue",4,"ngFor","ngForOf"],["for","commentInput",1,"languageSelectorLabel",2,"height","16px","margin-left","8px"],["formControlName","comment","id","commentInput","name","commentInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],[1,"selector",2,"padding-top","22px"],[1,"text-green-dull",3,"click"],[1,"languageSelectorLabel",2,"margin-right","4px"],["class","text-main",4,"ngFor","ngForOf"],["app-horizontal-dash","",1,"border"],[1,"border",2,"text-align","left"],["type","text",2,"height","16px","margin-left","16px",3,"ngModel","ngModelChange"],[2,"margin-left","8px"],["id","listPosSelector",1,"listPosSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-main"],["class","text-grey",4,"ngIf"],[1,"text-main","link-selected-word",3,"click"],[1,"text-grey"],["class","text-grey-dull",3,"click",4,"ngIf"],["class","text-green-dull",3,"click",4,"ngIf"],[1,"text-grey",2,"margin-left","8px"],[1,"text-main",2,"margin-left","8px"],[1,"text-grey-dull",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e._UZ(3,"br"),e._uU(4,"|"),e._UZ(5,"br"),e._uU(6,"|"),e._UZ(7,"br"),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",0)(10,"form",1),e.NdJ("ngSubmit",function(){return o.addDerivedWord()}),e.TgZ(11,"div",2)(12,"div",3)(13,"label",4),e._uU(14,"Word"),e.qZA(),e.TgZ(15,"div",5)(16,"input",6),e.NdJ("submit",function(){return o.addDerivedWord()}),e.qZA()()(),e.TgZ(17,"div",3)(18,"label",7),e._uU(19,"Category"),e.qZA(),e.TgZ(20,"div",5)(21,"select",8),e.YNc(22,uy,2,2,"option",9),e.qZA()()(),e.TgZ(23,"div",3)(24,"label",10),e._uU(25,"Comment"),e.qZA(),e.TgZ(26,"div",5)(27,"input",11),e.NdJ("submit",function(){return o.addDerivedWord()}),e.qZA()()(),e.TgZ(28,"div",12)(29,"a",13),e.NdJ("click",function(){return o.addDerivedWord()}),e._uU(30,"[ Add derived word ]"),e.qZA()()()()(),e.TgZ(31,"th",0),e._uU(32,"|"),e._UZ(33,"br"),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e.qZA()(),e.TgZ(39,"tr")(40,"th",0),e._uU(41,"|"),e._UZ(42,"br"),e._uU(43,"|"),e.qZA(),e.TgZ(44,"th",0)(45,"div",2)(46,"div",3)(47,"label",14),e._uU(48,"From words:"),e.qZA(),e.YNc(49,BE,4,2,"span",15),e.qZA()()(),e.TgZ(50,"th",0),e._uU(51,"|"),e._UZ(52,"br"),e._uU(53,"|"),e.qZA()(),e.TgZ(54,"tr")(55,"th",0),e._uU(56,"|"),e.qZA(),e._UZ(57,"th",16),e.TgZ(58,"th",0),e._uU(59,"|"),e.qZA()(),e.TgZ(60,"tr")(61,"th",0),e._uU(62,"|"),e._UZ(63,"br"),e._uU(64,"|"),e.qZA(),e.TgZ(65,"th",17)(66,"input",18),e.NdJ("ngModelChange",function(a){return o.loadDefault({word:a})})("ngModelChange",function(a){return o.wordSearch=a}),e.qZA(),e.TgZ(67,"span",19)(68,"select",20),e.NdJ("ngModelChange",function(a){return o.loadDefault({posId:null==a?null:a.id})})("ngModelChange",function(a){return o.listPosSelector=a}),e.TgZ(69,"option",21),e._uU(70,"Any part of speech"),e.qZA(),e.YNc(71,jE,2,2,"option",9),e.qZA()()(),e.TgZ(72,"th",0),e._uU(73,"|"),e._UZ(74,"br"),e._uU(75,"|"),e.qZA()(),e.YNc(76,$E,6,0,"tr",22),e.YNc(77,dy,18,8,"tr",23)),2&t&&(e.xp6(10),e.Q6J("formGroup",o.newWord),e.xp6(11),e.Q6J("value",void 0),e.xp6(1),e.Q6J("ngForOf",o.poses),e.xp6(27),e.Q6J("ngForOf",o.selectedWords),e.xp6(17),e.Q6J("ngModel",o.wordSearch),e.xp6(2),e.Q6J("ngModel",o.listPosSelector),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.poses),e.xp6(5),e.Q6J("ngIf",o.wordsList.data&&o.wordsList.data.length),e.xp6(1),e.Q6J("ngForOf",o.wordsList.data))},dependencies:[ot,pt,Pi,gr,Kr,Nn,Mn,En,ai,fn,_,ft,pn,da],styles:[".link-selected-word[_ngcontent-%COMP%]:hover{color:#ee2d2d}"]}),r})();const cT=["app-borroved",""];function dT(r,n){if(1&r&&(e.TgZ(0,"option",6),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function hT(r,n){if(1&r&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.calculatedEvolution)}}function HE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"span",21),e._uU(2),e.qZA(),e._uU(3," ("),e.TgZ(4,"a",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.evolveSingleWord(i))}),e._uU(5),e.qZA(),e._uU(6,")"),e.qZA()}if(2&r){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(null==t.wordEvolved||null==t.wordEvolved.word?null:t.wordEvolved.word.word),e.xp6(3),e.Oqu(t.calculatedEvolution)}}function pT(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"a",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.evolveSingleWord(i))}),e._uU(2),e.qZA()()}if(2&r){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.calculatedEvolution)}}const gT=function(r){return["/words/word",r]};function JE(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",2)(4,"span",14)(5,"i"),e._uU(6),e.qZA()()(),e.TgZ(7,"th",2)(8,"span",14)(9,"i"),e._uU(10),e.qZA()()(),e.TgZ(11,"th",2)(12,"span",15)(13,"a",16),e._uU(14),e.qZA()()(),e.TgZ(15,"th",0),e._uU(16,"|"),e.qZA(),e.TgZ(17,"th",2)(18,"span",17),e.YNc(19,hT,2,1,"span",18),e.YNc(20,HE,7,2,"span",19),e.YNc(21,pT,3,1,"span",19),e.qZA()(),e.TgZ(22,"th",0),e._uU(23,"|"),e.qZA()()),2&r){const t=n.$implicit;e.xp6(6),e.Oqu(null==t.word||null==t.word.language?null:t.word.language.displayName),e.xp6(4),e.Oqu(null==t.word||null==t.word.partOfSpeech?null:t.word.partOfSpeech.abbreviation),e.xp6(3),e.Q6J("ngClass",null!=t&&null!=t.word&&t.word.forgotten?"text-grey":"text-main")("routerLink",e.VKq(8,gT,null==t.word?null:t.word.word)),e.xp6(1),e.Oqu(null==t.word?null:t.word.word),e.xp6(5),e.Q6J("ngIf",!!t.calculatedEvolution&&t.calculatedEvolution===(null==t.wordEvolved||null==t.wordEvolved.word?null:t.wordEvolved.word.word)),e.xp6(1),e.Q6J("ngIf",!(null==t.wordEvolved||null==t.wordEvolved.word||!t.wordEvolved.word.word)&&t.calculatedEvolution!=(null==t.wordEvolved||null==t.wordEvolved.word?null:t.wordEvolved.word.word)),e.xp6(1),e.Q6J("ngIf",!(null!=t.wordEvolved&&null!=t.wordEvolved.word&&t.wordEvolved.word.word))}}let fT=(()=>{class r extends sy{constructor(t,o){super(o),this.languagesEvolutionService=t,this.posService=o,this.pageSize=30,this.wordsBorrowed=[]}get getLanguage(){return this.language}ngOnInit(){super.ngOnInit(),this.reloadWordList(this.languageFrom.id)}ngOnChanges(t){super.ngOnChanges(t),t.languageFrom&&t.languageFrom.currentValue&&(console.log("DerivedComponent",t,t.languageFrom.currentValue),this.reloadWordList(t.languageFrom.currentValue.id),this.wordsBorrowed=[])}reloadWordList(t){t&&this.loadDefault({languageId:t})}loadDefault(t){var o,i;console.log("loadDefault",t,this.listPosSelector,this.language,this.wordSearch),t||(t={}),t={page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,languageId:t.languageId?t.languageId:null===t.languageId||null===(o=this.languageFrom)||void 0===o?void 0:o.id,languageToId:this.language.id,posId:t.posId?t.posId:null===t.posId||null===(i=this.listPosSelector)||void 0===i?void 0:i.id},this.load(t)}load(t){this.languagesEvolutionService.getAllWords1({filter:t}).subscribe(o=>{o.data&&(this.wordsBorrowed=o.data)})}evolveSingleWord(t){console.log("EVOLVE WORD",t),this.languagesEvolutionService.addBorrowedWord({body:{language:this.language,word:t.word}}).subscribe(o=>{t.word=o.word,t.wordEvolved=o.wordEvolved,t.calculatedEvolution=o.calculatedEvolution})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_i),e.Y36(fi))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tbody","app-borroved",""]],inputs:{language:"language",languageFrom:"languageFrom"},features:[e.qOj,e.TTD],attrs:cT,decls:41,vars:5,consts:[[1,"border"],["app-horizontal-dash","",1,"border"],[1,"border",2,"text-align","left"],["type","text",2,"height","16px","margin-left","16px",3,"ngModel","ngModelChange"],[2,"margin-left","8px"],["id","listPosSelector",1,"listPosSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["colspan","3"],[1,"table-content"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","1%"],["span","1",2,"width","max-content"],[4,"ngFor","ngForOf"],[1,"nowrap",2,"margin-left","8px"],[1,"text-grey",2,"margin-left","8px","word-break","keep-all"],[1,"link-btn",3,"ngClass","routerLink"],[1,"text-grey",2,"margin-left","8px"],["class","text-green-dull",4,"ngIf"],[4,"ngIf"],[1,"text-green-dull"],[1,"text-red-dull"],[1,"text-yellow-dull",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e._UZ(3,"th",1),e.TgZ(4,"th",0),e._uU(5,"|"),e.qZA()(),e.TgZ(6,"tr")(7,"th",0),e._uU(8,"|"),e._UZ(9,"br"),e._uU(10,"|"),e.qZA(),e.TgZ(11,"th",2)(12,"input",3),e.NdJ("ngModelChange",function(a){return o.loadDefault({word:a})})("ngModelChange",function(a){return o.wordSearch=a}),e.qZA(),e.TgZ(13,"span",4)(14,"select",5),e.NdJ("ngModelChange",function(a){return o.loadDefault({posId:null==a?null:a.id})})("ngModelChange",function(a){return o.listPosSelector=a}),e.TgZ(15,"option",6),e._uU(16,"Any part of speech"),e.qZA(),e.YNc(17,dT,2,2,"option",7),e.qZA()()(),e.TgZ(18,"th",0),e._uU(19,"|"),e._UZ(20,"br"),e._uU(21,"|"),e.qZA()(),e.TgZ(22,"tr")(23,"th",0),e._uU(24,"|"),e.qZA(),e._UZ(25,"th",1),e.TgZ(26,"th",0),e._uU(27,"|"),e.qZA()(),e.TgZ(28,"tr")(29,"th",8)(30,"table",9)(31,"colgroup"),e._UZ(32,"col",10)(33,"col",11)(34,"col",11)(35,"col",11)(36,"col",10)(37,"col",12)(38,"col",10),e.qZA(),e.TgZ(39,"tbody",9),e.YNc(40,JE,24,10,"tr",13),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngModel",o.wordSearch),e.xp6(2),e.Q6J("ngModel",o.listPosSelector),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.poses),e.xp6(23),e.Q6J("ngForOf",o.wordsBorrowed))},dependencies:[kn,ot,pt,fo,gr,Kr,Nn,Mn,En,fn,pn]}),r})();function WE(r,n){if(1&r&&(e.TgZ(0,"option",15),e._uU(1),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.Q6J("selected",t===o.type)("ngValue",t),e.xp6(1),e.Oqu(t)}}function Mo(r,n){if(1&r&&(e.TgZ(0,"option",15),e._uU(1),e.qZA()),2&r){const t=n.$implicit,o=e.oxw(2);e.Q6J("selected",o.languageFrom===t)("ngValue",t),e.xp6(1),e.Oqu(t.displayName)}}function Kc(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",5)(1,"label",6),e._uU(2,"From"),e.qZA(),e.TgZ(3,"div",7)(4,"select",16),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.langFromChanged(i))})("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.languageFrom=i)}),e.YNc(5,Mo,2,3,"option",9),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.languageFrom),e.xp6(1),e.Q6J("ngForOf",t.languagesFrom)}}function QE(r,n){if(1&r&&e._UZ(0,"tbody",17),2&r){const t=e.oxw();e.Q6J("language",t.language)}}function zE(r,n){if(1&r&&e._UZ(0,"tbody",18),2&r){const t=e.oxw();e.Q6J("language",t.language)}}function iZ(r,n){if(1&r&&e._UZ(0,"tbody",19),2&r){const t=e.oxw();e.Q6J("language",t.language)("languageFrom",t.languageFrom)}}let sZ=(()=>{class r{constructor(t){this.languagesEvolutionService=t,this.languageFrom={displayName:"empty"},this.languagesFrom=[],this.wordOriginType=ju,this.typeKeys=Object.keys(ju),this.type=this.typeKeys[0]}ngOnInit(){console.log(this.type),console.log(this.wordOriginType),console.log(this.typeKeys)}changeLanguageTo(t,o){t&&this.languagesEvolutionService.getConnectionToLang({toLangId:t}).subscribe(i=>{this.languagesFrom=i.filter(a=>a.connectionType===ha.Evolving&&"Evolved"===o||a.connectionType===ha.Borrowing&&"Borrowed"===o).map(a=>a.langFrom).filter(a=>!!a).map(a=>a||{displayName:"empty"})})}changeLanguage(t){t.langId&&this.changeLanguageTo(t.langId,this.type)}typeChanged(t){var o;console.log(t.type),this.changeLanguageTo(null===(o=this.language)||void 0===o?void 0:o.id,t.type)}langFromChanged(t){console.log(JSON.stringify(t))}getstr(t){return JSON.stringify(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_i))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-new"]],decls:42,vars:8,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],[1,"border"],[1,"border",2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],[1,"selector"],["for","newWordTypeSelector",1,"languageSelectorLabel"],[1,"input-group",2,"margin-top","4px"],["id","newWordTypeSelector",1,"posSelector",3,"ngModel","ngModelChange"],[3,"selected","ngValue",4,"ngFor","ngForOf"],["class","selector",4,"ngIf"],["app-new","",3,"language",4,"ngIf"],["app-derived","",3,"language",4,"ngIf"],["app-borroved","",3,"language","languageFrom",4,"ngIf"],["app-horizontal-dash","",1,"border"],[3,"selected","ngValue"],["id","langToSelector",1,"langToSelector",3,"ngModel","ngModelChange"],["app-new","",3,"language"],["app-derived","",3,"language"],["app-borroved","",3,"language","languageFrom"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0),e.qZA(),e.TgZ(5,"tbody")(6,"tr")(7,"th",2),e._uU(8,"|"),e._UZ(9,"br"),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e.qZA(),e.TgZ(15,"th",3)(16,"app-all-languages",4),e.NdJ("selectedLanguageChange",function(a){return o.changeLanguage({langId:a.id})})("selectedLanguageChange",function(a){return o.language=a}),e.qZA(),e.TgZ(17,"div",5)(18,"label",6),e._uU(19,"Type"),e.qZA(),e.TgZ(20,"div",7)(21,"select",8),e.NdJ("ngModelChange",function(a){return o.typeChanged({type:a})})("ngModelChange",function(a){return o.type=a}),e.YNc(22,WE,2,3,"option",9),e.qZA()()(),e.YNc(23,Kc,6,2,"div",10),e.qZA(),e.TgZ(24,"th",2),e._uU(25,"|"),e._UZ(26,"br"),e._uU(27,"|"),e._UZ(28,"br"),e._uU(29,"|"),e._UZ(30,"br"),e._uU(31,"|"),e.qZA()()(),e.YNc(32,QE,1,1,"tbody",11),e.YNc(33,zE,1,1,"tbody",12),e.YNc(34,iZ,1,2,"tbody",13),e.TgZ(35,"tbody")(36,"tr")(37,"th",2),e._uU(38,"+"),e.qZA(),e._UZ(39,"th",14),e.TgZ(40,"th",2),e._uU(41,"+"),e.qZA()()()()),2&t&&(e.xp6(16),e.Q6J("selectedLanguage",o.language)("label","Language"),e.xp6(5),e.Q6J("ngModel",o.type),e.xp6(1),e.Q6J("ngForOf",o.typeKeys),e.xp6(1),e.Q6J("ngIf","Borrowed"===o.type||"Evolved"===o.type),e.xp6(9),e.Q6J("ngIf",void 0!==o.language&&"New"===o.type),e.xp6(1),e.Q6J("ngIf",void 0!==o.language&&"Derived"===o.type),e.xp6(1),e.Q6J("ngIf",void 0!==o.language&&void 0!==o.languageFrom&&"Borrowed"===o.type))},dependencies:[ot,pt,gr,Kr,Mn,En,fn,pn,Oh,ly,uT,fT]}),r})();function hy(r,n){return n.params[r]||(n.parent?hy(r,n.parent):null)}let Vh=(()=>{class r{constructor(t){this.wordService=t}resolve(t,o){const i=hy("word",t);return console.log("WorldDetailsResolver resolve",i),i?this.wordService.getDetailedWordsByPhonetics({word:i}):ta.E}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Fl))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function KE(r,n){if(1&r&&(e.TgZ(0,"option",2),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function py(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"select",1),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.changeValueTo({value:i}))})("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.valueToModel=i)}),e.TgZ(2,"option",2),e._uU(3,"---nothing---"),e.qZA(),e.YNc(4,KE,2,2,"option",3),e.qZA(),e.TgZ(5,"a",4),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.save())}),e._uU(6,"[s]"),e.qZA(),e.TgZ(7,"a",5),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.edit=!1)}),e._uU(8,"[c]"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.valueToModel),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",t.valuesTo)}}function YE(r,n){if(1&r&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.valueTo.name)}}function mT(r,n){1&r&&(e.TgZ(0,"span",9),e._uU(1,"no evolution"),e.qZA())}function XE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e.YNc(1,YE,2,1,"span",6),e.YNc(2,mT,2,0,"span",7),e.TgZ(3,"a",5),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.startEdit())}),e._uU(4,"[e]"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.valueTo),e.xp6(1),e.Q6J("ngIf",!t.valueTo)}}let eD=(()=>{class r{constructor(t){this.languagesEvolutionService=t,this.edit=!1}ngOnInit(){this.reloadValueTo()}reloadValueTo(){var t,o,i,a,d,p,y,w;(null===(t=this.langFrom)||void 0===t?void 0:t.id)&&(null===(o=this.langTo)||void 0===o?void 0:o.id)&&(null===(i=this.pos)||void 0===i?void 0:i.id)&&(null===(a=this.valueFrom)||void 0===a?void 0:a.id)&&this.languagesEvolutionService.getGrammaticalValueEvolution({langFromId:null===(d=this.langFrom)||void 0===d?void 0:d.id,langToId:null===(p=this.langTo)||void 0===p?void 0:p.id,posId:null===(y=this.pos)||void 0===y?void 0:y.id,valueFromId:null===(w=this.valueFrom)||void 0===w?void 0:w.id}).subscribe(D=>{this.valueTo=null==D?void 0:D.valueTo,this.connectionId=null==D?void 0:D.id})}changeValueTo(t){}startEdit(){if(this.valueTo){this.valuesTo||(this.valuesTo=[]);const t=this.valuesTo.find(o=>{var i;return o.name=null===(i=this.valueTo)||void 0===i?void 0:i.name});t?this.valueToModel=t:(this.valuesTo.push(this.valueTo),this.valueToModel=this.valueTo)}else this.valueToModel=void 0;this.edit=!0}save(){if(!this.valueToModel&&this.connectionId)this.languagesEvolutionService.removeGrammaticalValueEvolution({id:this.connectionId}).subscribe(()=>{this.edit=!1,this.reloadValueTo()});else{if(!this.valueToModel&&!this.connectionId)return;this.languagesEvolutionService.saveGrammaticalValueEvolution({body:{valueTo:this.valueToModel,valueFrom:this.valueFrom,languageFrom:this.langFrom,languageTo:this.langTo,pos:this.pos}}).subscribe(o=>{this.connectionId=o,this.edit=!1,this.reloadValueTo()})}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_i))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-category-evolution-input"]],inputs:{langFrom:"langFrom",langTo:"langTo",pos:"pos",valueFrom:"valueFrom",valuesTo:"valuesTo"},decls:2,vars:2,consts:[[4,"ngIf"],["id","languageSelector","name","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"text-green-dull","link-btn",2,"margin-left","8px",3,"click"],[1,"text-grey-dull","link-btn",2,"margin-left","4px",3,"click"],["class","text-green-dull",4,"ngIf"],["class","text-red-dull",4,"ngIf"],[1,"text-green-dull"],[1,"text-red-dull"]],template:function(t,o){1&t&&(e.YNc(0,py,9,3,"span",0),e.YNc(1,XE,5,2,"span",0)),2&t&&(e.Q6J("ngIf",o.edit),e.xp6(1),e.Q6J("ngIf",!o.edit))},dependencies:[ot,pt,gr,Kr,Mn,En,fn]}),r})();function Yc(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",4),e._uU(3,"|"),e.qZA(),e._UZ(4,"th"),e.TgZ(5,"th",4),e._uU(6,"|"),e.qZA(),e._UZ(7,"th"),e.TgZ(8,"th",4),e._uU(9,"+"),e.qZA(),e._UZ(10,"th",8),e.TgZ(11,"th",4),e._uU(12,"+"),e.qZA()(),e.TgZ(13,"tr")(14,"th",4),e._uU(15,"|"),e.qZA(),e._UZ(16,"th"),e.TgZ(17,"th",4),e._uU(18,"|"),e.qZA(),e._UZ(19,"th"),e.TgZ(20,"th",4),e._uU(21,"|"),e.qZA(),e.TgZ(22,"th",14),e._uU(23),e.qZA(),e.TgZ(24,"th",4),e._uU(25,">"),e.qZA(),e.TgZ(26,"th",4),e._UZ(27,"app-category-evolution-input",15),e.qZA(),e.TgZ(28,"th",4),e._uU(29,"|"),e.qZA()(),e.BQk()),2&r){const t=n.$implicit,o=e.oxw(2).$implicit,i=e.oxw().$implicit,a=e.oxw();e.xp6(23),e.Oqu(t.name),e.xp6(4),e.Q6J("langFrom",a.langFrom)("langTo",a.langTo)("pos",i)("valueFrom",t)("valuesTo",a.getValuesTo(o))}}function tD(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Yc,30,6,"ng-container",3),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",o.getValuesFrom(t))}}function gy(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",4),e._uU(3,"|"),e.qZA(),e._UZ(4,"th"),e.TgZ(5,"th",4),e._uU(6,"+"),e.qZA(),e._UZ(7,"th",8),e.TgZ(8,"th",4),e._uU(9,"+"),e.qZA(),e._UZ(10,"th",9),e.TgZ(11,"th",4),e._uU(12,"+"),e.qZA()(),e.TgZ(13,"tr")(14,"th",4),e._uU(15,"|"),e.qZA(),e._UZ(16,"th"),e.TgZ(17,"th",4),e._uU(18,"|"),e.qZA(),e.TgZ(19,"th",10),e._uU(20),e.qZA(),e._UZ(21,"th",11),e.TgZ(22,"th",4),e._uU(23),e.qZA(),e.TgZ(24,"th",12),e._uU(25),e.qZA(),e.TgZ(26,"th",4),e._uU(27,"|"),e.qZA()(),e.YNc(28,tD,2,1,"ng-container",13),e.BQk()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(20),e.Oqu(t.name),e.xp6(3),e.Oqu(i.getCategoryTo(o,t)?"":"|"),e.xp6(2),e.Oqu(i.getCategoryTo(o,t)?"":"No grammatical category"),e.xp6(3),e.Q6J("ngIf",i.getCategoryTo(o,t))}}function yT(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",4),e._uU(3,"+"),e.qZA(),e._UZ(4,"th",5),e.TgZ(5,"th",4),e._uU(6,"+"),e.qZA()(),e.TgZ(7,"tr")(8,"th",4),e._uU(9,"|"),e.qZA(),e.TgZ(10,"th",6),e._uU(11),e.qZA(),e._UZ(12,"th",7),e.TgZ(13,"th",4),e._uU(14,"|"),e.qZA()(),e.YNc(15,gy,29,4,"ng-container",3),e.BQk()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(11),e.Oqu(t.name),e.xp6(4),e.Q6J("ngForOf",o.getCategoriesFrom(t))}}let vT=(()=>{class r{constructor(t,o){this.posService=t,this.categoryService=o,this.poses=[],this.categoriesFrom=new Map,this.categoriesTo=new Map,this.valuesFrom=new Map,this.valuesTo=new Map}ngOnInit(){var t,o;(null===(t=this.langFrom)||void 0===t?void 0:t.id)&&(null===(o=this.langTo)||void 0===o?void 0:o.id)&&this.reload(this.langFrom.id,this.langTo.id)}ngOnChanges(t){var o,i,a,d,p,y,w,D;if((null===(o=t.langFrom)||void 0===o?void 0:o.currentValue)||(null===(i=t.langTo)||void 0===i?void 0:i.currentValue)){let x,F;console.log("ngOnChanges",t),x=null!==(a=t.langFrom)&&void 0!==a&&a.currentValue.id?t.langFrom.currentValue.id:null!==(d=this.langFrom)&&void 0!==d&&d.id?null===(p=this.langFrom)||void 0===p?void 0:p.id:0,F=null!==(y=t.langTo)&&void 0!==y&&y.currentValue.id?t.langTo.currentValue.id:null!==(w=this.langTo)&&void 0!==w&&w.id?null===(D=this.langTo)||void 0===D?void 0:D.id:0,x&&F&&this.reload(x,F)}}reload(t,o){this.posService.getAllPosByLanguage({languageId:t}).subscribe(i=>{this.poses=i.sort((a,d)=>a.name?a.name.localeCompare(d.name?d.name:""):-1),this.poses.forEach(a=>this.reloadCategory(a,t,o))}),this.categoryService.getAllCategories().subscribe(i=>{this.valuesFrom.clear(),this.valuesTo.clear(),i.forEach(a=>{const d=a.id;d&&(this.categoryService.getCategoryValuesByCategoryAndLang({categoryId:d,langId:t}).subscribe(p=>this.valuesFrom.set(d,p)),this.categoryService.getCategoryValuesByCategoryAndLang({categoryId:d,langId:o}).subscribe(p=>this.valuesTo.set(d,p)))})})}reloadCategory(t,o,i){this.categoriesFrom.clear(),this.categoriesTo.clear(),t.id&&(this.categoryService.getGrammaticalCategoryConnectionsForLangAndPos({posId:t.id,languageId:o}).subscribe(a=>{t.id&&this.categoriesFrom.set(t.id,a.map(d=>d.grammaticalCategory?d.grammaticalCategory:{}))}),this.categoryService.getGrammaticalCategoryConnectionsForLangAndPos({posId:t.id,languageId:i}).subscribe(a=>{t.id&&this.categoriesTo.set(t.id,a.map(d=>d.grammaticalCategory?d.grammaticalCategory:{}))}))}getCategoriesFrom(t){return t.id?this.categoriesFrom.get(t.id):[]}getValuesFrom(t){return t.id?this.valuesFrom.get(t.id):[]}getValuesTo(t){return t.id?this.valuesTo.get(t.id):[]}getCategoryTo(t,o){var i;if(t.id&&o.id)return null===(i=this.categoriesTo.get(t.id))||void 0===i?void 0:i.find(a=>a.id===o.id)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(fi),e.Y36(la))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-category-evolution-table"]],inputs:{langFrom:"langFrom",langTo:"langTo"},features:[e.TTD],decls:19,vars:1,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","calc(25% - 40px)"],["span","1",2,"width","25%"],[4,"ngFor","ngForOf"],[1,"border"],["app-horizontal-dash","","colspan","7",1,"border"],[1,"text-grey"],["colspan","6",1,"border"],["app-horizontal-dash","","colspan","3",1,"border"],["app-horizontal-dash","","colspan","1",1,"border"],[1,"text-white"],["colspan","2",1,"border"],[1,"text-yellow-dull"],[4,"ngIf"],[1,"text-main"],[3,"langFrom","langTo","pos","valueFrom","valuesTo"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0)(5,"col",2)(6,"col",0)(7,"col",2)(8,"col",0)(9,"col",2)(10,"col",0),e.qZA(),e.TgZ(11,"tbody"),e.YNc(12,yT,16,2,"ng-container",3),e.TgZ(13,"tr")(14,"th",4),e._uU(15,"+"),e.qZA(),e._UZ(16,"th",5),e.TgZ(17,"th",4),e._uU(18,"+"),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngForOf",o.poses))},dependencies:[ot,pt,pn,eD]}),r})();function Jg(r,n){if(1&r&&(e.TgZ(0,"option",9),e._uU(1),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.Q6J("ngValue",t),e.xp6(1),e.Oqu(o.getConnectionText(t))}}let fy=(()=>{class r{constructor(t){this.languagesEvolutionService=t,this.connections=[]}ngOnInit(){this.languagesEvolutionService.getConnections().subscribe(t=>{this.connections=t.sort((o,i)=>{var a,d,p,y,w,D;let x=0;return(null===(a=o.langFrom)||void 0===a?void 0:a.displayName)&&(null===(d=i.langFrom)||void 0===d?void 0:d.displayName)&&(x=null===(p=o.langFrom)||void 0===p?void 0:p.displayName.localeCompare(i.langFrom.displayName)),!x&&(null===(y=o.langTo)||void 0===y?void 0:y.displayName)&&(null===(w=i.langTo)||void 0===w?void 0:w.displayName)&&(x=null===(D=o.langTo)||void 0===D?void 0:D.displayName.localeCompare(i.langTo.displayName)),x})})}getConnectionText(t){var o,i;return`${null===(o=t.langFrom)||void 0===o?void 0:o.displayName} -> ${null===(i=t.langTo)||void 0===i?void 0:i.displayName} (${this.getConnectionTypeText(t.connectionType)})`}getConnectionTypeText(t){switch(t){case ha.Borrowing:return"Borrowing";case ha.Evolving:return"Evolving";case ha.Derivation:return"Derivation";default:return"Unknown connection"}}changeConnection(t){console.log("changeConnection",t.connection)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_i))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-category-evolution"]],decls:35,vars:5,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",1,"border",2,"width","max-content"],[1,"border"],[2,"text-align","left","display","flex"],[1,"selector"],["for","languageSelector",1,"languageSelectorLabel"],[1,"input-group"],["id","languageSelector","name","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"langFrom","langTo"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",0),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",3),e._uU(9,"|"),e._UZ(10,"br"),e._uU(11,"|"),e._UZ(12,"br"),e._uU(13,"|"),e._UZ(14,"br"),e._uU(15,"|"),e.qZA(),e.TgZ(16,"th",4)(17,"div",5)(18,"label",6),e._uU(19,"Languages connection"),e.qZA(),e.TgZ(20,"div",7)(21,"select",8),e.NdJ("ngModelChange",function(a){return o.changeConnection({connection:a})})("ngModelChange",function(a){return o.connection=a}),e.TgZ(22,"option",9),e._uU(23," --- Select Connection ---"),e.qZA(),e.YNc(24,Jg,2,2,"option",10),e.qZA()()()(),e._UZ(25,"th",3),e.TgZ(26,"th",3),e._uU(27,"|"),e._UZ(28,"br"),e._uU(29,"|"),e._UZ(30,"br"),e._uU(31,"|"),e._UZ(32,"br"),e._uU(33,"|"),e.qZA()()()(),e._UZ(34,"app-category-evolution-table",11)),2&t&&(e.xp6(21),e.Q6J("ngModel",o.connection),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.connections),e.xp6(10),e.Q6J("langFrom",null==o.connection?null:o.connection.langFrom)("langTo",null==o.connection?null:o.connection.langTo))},dependencies:[ot,gr,Kr,Mn,En,fn,vT],styles:[".languageSelector[_ngcontent-%COMP%]{margin-top:4px}.languageSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})();const aZ={scrollPositionRestoration:"enabled",anchorScrolling:"enabled"},CT=[{path:"trace",component:Vg},{path:"words",component:DC,children:[{path:"new",component:sZ},{path:"list",component:qI},{path:"translations",component:UE},{path:"word/:word",component:AE,pathMatch:"full",resolve:{wordDetails:Vh}}]},{path:"evolutions",component:zC,children:[{path:"connections",component:OE},{path:"category",component:fy},{path:"list",component:sT}]},{path:"language",component:wI,children:[{path:"description",component:Mm},{path:"clusters",component:Sg},{path:"laws",component:n1}]}];let nD=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[z0.forRoot(CT,aZ),z0]}),r})();const Xc=["col"];function rD(r,n){if(1&r&&(e.TgZ(0,"tr"),e._UZ(1,"td",16),e.TgZ(2,"td",15)(3,"span",17),e._uU(4),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e._UZ(7,"td",16),e.qZA()),2&r){const t=n.$implicit;e.xp6(4),e.hij("",t.message,". "),e.xp6(2),e.Oqu(t.details)}}function wT(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"table")(3,"colgroup"),e._UZ(4,"col",3)(5,"col",4)(6,"col",5)(7,"col",6)(8,"col",3)(9,"col",7)(10,"col",3),e.qZA(),e.TgZ(11,"tbody")(12,"tr")(13,"th",8),e._uU(14,"+"),e.qZA(),e.TgZ(15,"th",8),e._uU(16,"--"),e.qZA(),e.TgZ(17,"th",8),e._uU(18,"[ "),e.TgZ(19,"div",9),e._uU(20,"Esc"),e.qZA(),e._uU(21," ] Close "),e.qZA(),e._UZ(22,"th",10),e.TgZ(23,"th",8),e._uU(24,"+"),e.qZA(),e.TgZ(25,"th",8),e._uU(26,"--"),e.qZA(),e.TgZ(27,"th",8),e._uU(28,"+"),e.qZA()(),e.TgZ(29,"tr")(30,"th",8),e._uU(31,"|"),e.qZA(),e.TgZ(32,"th",11),e._uU(33," WARNING "),e.qZA(),e.TgZ(34,"th",8),e._uU(35,"|"),e.qZA(),e.TgZ(36,"th")(37,"a",12),e.NdJ("click",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.clear(i))}),e._uU(38,"x"),e.qZA()(),e.TgZ(39,"th",8),e._uU(40,"|"),e.qZA()(),e.TgZ(41,"tr")(42,"th",8),e._uU(43,"+"),e.qZA(),e._UZ(44,"th",13),e.TgZ(45,"th",8),e._uU(46,"+"),e.qZA(),e.TgZ(47,"th",8),e._uU(48,"--"),e.qZA(),e.TgZ(49,"th",8),e._uU(50,"+"),e.qZA()()(),e.TgZ(51,"tbody"),e.YNc(52,rD,8,2,"tr",14),e.TgZ(53,"tr")(54,"td",8),e._uU(55,"|"),e.qZA(),e._UZ(56,"td",15),e.TgZ(57,"td",8),e._uU(58,"|"),e.qZA()()()()()()}if(2&r){const t=e.oxw();e.xp6(52),e.Q6J("ngForOf",t.errors)}}let _y=(()=>{class r{constructor(t,o){this.cdRef=t,this.errorService=o,this.bcol="",this.errors=[]}ngOnInit(){this.errorService.errors.subscribe(t=>{this.errors=t})}onResize(){this.resizeTable()}ngAfterViewChecked(){this.resizeTable()}resizeTable(){var t;const i=Math.floor(((null===(t=this.col)||void 0===t?void 0:t.nativeElement.offsetWidth)-2)/8),a=this.bcol;this.bcol="--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------".substr(0,i),a!=this.bcol&&this.cdRef.detectChanges()}clear(t){t.stopPropagation(),this.errorService.clearErrors()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(Nh))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-footer"]],viewQuery:function(t,o){if(1&t&&e.Gf(Xc,5),2&t){let i;e.iGM(i=e.CRH())&&(o.col=i.first)}},hostBindings:function(t,o){1&t&&e.NdJ("resize",function(a){return o.onResize(a)},!1,e.Jf7)},decls:1,vars:1,consts:[["class","footer-wrapper",4,"ngIf"],[1,"footer-wrapper"],[1,"footer"],["span","1",1,"border"],["span","1",2,"width","16px"],["span","1",2,"width","112px"],["span","1",2,"width","auto"],["span","1",2,"width","18px"],[1,"border"],[1,"text-yellow-dull",2,"display","inline"],["app-horizontal-dash","",1,"border"],["colspan","3",1,"text-grey"],[1,"text-red-dull","link-btn",3,"click"],["app-horizontal-dash","","colspan","3",1,"border"],[4,"ngFor","ngForOf"],["colspan","5",1,"break-word","text-grey"],["app-vertical-dash","",1,"border"],[1,"text-red-dull"]],template:function(t,o){1&t&&e.YNc(0,wT,59,1,"div",0),2&t&&e.Q6J("ngIf",o.errors.length>0)},dependencies:[ot,pt,pn],styles:[".footer-wrapper[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;height:-moz-fit-content;height:fit-content}.footer[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;z-index:100;background-color:#252525}"]}),r})(),lZ=(()=>{class r{transform(t,...o){switch(t){case"ZERO":return"0";case"ONE":return"1";case"TWO":return"2";case"THREE":return"3";case"FOUR":return"4";case"FIVE":return"5";default:return t}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275pipe=e.Yjl({name:"keySymbols",type:r,pure:!0}),r})();function oD(r,n){if(1&r&&(e.TgZ(0,"span",3),e._uU(1),e.ALo(2,"keySymbols"),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" [",e.lcZ(2,1,t.key)," ]")}}let uZ=(()=>{class r{constructor(t,o,i){this.activeRoute=t,this.router=o,this.keybind=i}ngOnInit(){this.key&&this.keybind.match([this.key],["altKey"]).subscribe(o=>{o.preventDefault();const i=this.activeRoute.snapshot.queryParamMap.get("lang");this.router.navigate([this.route],{queryParams:{lang:i}})})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(oa),e.Y36(Yn),e.Y36(aa))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-header-nav-link"]],inputs:{route:"route",name:"name",key:"key"},decls:4,vars:3,consts:[[1,"nav-link"],[1,"link-btn",3,"routerLink"],["class","text-grey-dull",4,"ngIf"],[1,"text-grey-dull"]],template:function(t,o){1&t&&(e.TgZ(0,"span",0)(1,"a",1),e._uU(2),e.YNc(3,oD,3,3,"span",2),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("routerLink",o.route),e.xp6(1),e.Oqu(o.name),e.xp6(1),e.Q6J("ngIf",o.key))},dependencies:[pt,fo,lZ],styles:[".nav-link[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}"]}),r})();var Wg=P(655),iD=P(7573),Cn=P(2090),Vl=P(9681),Qa=P(1877),Qg=P(4859),Br=P(5813);function zg(){return(0,ho.e)((r,n)=>{let t,o=!1;r.subscribe((0,Kn.x)(n,i=>{const a=t;t=i,o&&n.next([a,i]),o=!0}))})}function aD(r,n){return r===n}var _t,qi=P(2011),bT=(P(5881),P(3942)),Te=P(5861),AT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ga={},my=my||{},Ht=AT||self;function Bh(){}function yy(r){var n=typeof r;return"array"==(n="object"!=n?n:r?Array.isArray(r)?"array":n:"null")||"object"==n&&"number"==typeof r.length}function Kg(r){var n=typeof r;return"object"==n&&null!=r||"function"==n}var IT="closure_uid_"+(1e9*Math.random()>>>0),hZ=0;function pZ(r,n,t){return r.call.apply(r.bind,arguments)}function gZ(r,n,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,o),r.apply(n,i)}}return function(){return r.apply(n,arguments)}}function Po(r,n,t){return(Po=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pZ:gZ).apply(null,arguments)}function $u(r,n){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function _o(r,n){function t(){}t.prototype=n.prototype,r.X=n.prototype,r.prototype=new t,r.prototype.constructor=r,r.Wb=function(o,i,a){for(var d=Array(arguments.length-2),p=2;p<arguments.length;p++)d[p-2]=arguments[p];return n.prototype[i].apply(o,d)}}function za(){this.s=this.s,this.o=this.o}var ET={};za.prototype.s=!1,za.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function dZ(r){return Object.prototype.hasOwnProperty.call(r,IT)&&r[IT]||(r[IT]=++hZ)}(this);delete ET[r]}},za.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vy=Array.prototype.indexOf?function(r,n){return Array.prototype.indexOf.call(r,n,void 0)}:function(r,n){if("string"==typeof r)return"string"!=typeof n||1!=n.length?-1:r.indexOf(n,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===n)return t;return-1};function DT(r){const n=r.length;if(0<n){const t=Array(n);for(let o=0;o<n;o++)t[o]=r[o];return t}return[]}function Xg(r,n){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(yy(o)){const i=r.length||0,a=o.length||0;r.length=i+a;for(let d=0;d<a;d++)r[i+d]=o[d]}else r.push(o)}}function to(r,n){this.type=r,this.g=this.target=n,this.defaultPrevented=!1}to.prototype.h=function(){this.defaultPrevented=!0};var lD=function(){if(!Ht.addEventListener||!Object.defineProperty)return!1;var r=!1,n=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Ht.addEventListener("test",Bh,n),Ht.removeEventListener("test",Bh,n)}catch(t){}return r}();function jh(r){return/^[\s\xa0]*$/.test(r)}var uD=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function ST(r,n){return r<n?-1:r>n?1:0}function ef(){var r=Ht.navigator;return r&&(r=r.userAgent)?r:""}function fa(r){return-1!=ef().indexOf(r)}function ed(r){return ed[" "](r),r}ed[" "]=Bh;var tf,r,fZ=fa("Opera"),$h=fa("Trident")||fa("MSIE"),dD=fa("Edge"),Cy=dD||$h,xT=fa("Gecko")&&!(-1!=ef().toLowerCase().indexOf("webkit")&&!fa("Edge"))&&!(fa("Trident")||fa("MSIE"))&&!fa("Edge"),hD=-1!=ef().toLowerCase().indexOf("webkit")&&!fa("Edge");function pD(){var r=Ht.document;return r?r.documentMode:void 0}e:{var nf="",rf=(r=ef(),xT?/rv:([^\);]+)(\)|;)/.exec(r):dD?/Edge\/([\d\.]+)/.exec(r):$h?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):hD?/WebKit\/(\S+)/.exec(r):fZ?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(rf&&(nf=rf?rf[1]:""),$h){var ZT=pD();if(null!=ZT&&ZT>parseFloat(nf)){tf=String(ZT);break e}}tf=nf}var ws={};var mi=Ht.document&&$h&&(pD()||parseInt(tf,10))||void 0;function Hh(r,n){if(to.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=n,n=r.relatedTarget){if(xT){e:{try{ed(n.nodeName);var i=!0;break e}catch(a){}i=!1}i||(n=null)}}else"mouseover"==t?n=r.fromElement:"mouseout"==t&&(n=r.toElement);this.relatedTarget=n,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Ty[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Hh.X.h.call(this)}}_o(Hh,to);var Ty={2:"touch",3:"pen",4:"mouse"};Hh.prototype.h=function(){Hh.X.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Jh="closure_listenable_"+(1e6*Math.random()|0),fD=0;function wy(r,n,t,o,i){this.listener=r,this.proxy=null,this.src=n,this.type=t,this.capture=!!o,this.ha=i,this.key=++fD,this.ba=this.ea=!1}function Wh(r){r.ba=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function sf(r,n,t){for(const o in r)n.call(t,r[o],o,r)}function NT(r){const n={};for(const t in r)n[t]=r[t];return n}const by="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ay(r,n){let t,o;for(let i=1;i<arguments.length;i++){for(t in o=arguments[i],o)r[t]=o[t];for(let a=0;a<by.length;a++)t=by[a],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function af(r){this.src=r,this.g={},this.h=0}function lf(r,n){var t=n.type;if(t in r.g){var a,o=r.g[t],i=vy(o,n);(a=0<=i)&&Array.prototype.splice.call(o,i,1),a&&(Wh(n),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Iy(r,n,t,o){for(var i=0;i<r.length;++i){var a=r[i];if(!a.ba&&a.listener==n&&a.capture==!!t&&a.ha==o)return i}return-1}af.prototype.add=function(r,n,t,o,i){var a=r.toString();(r=this.g[a])||(r=this.g[a]=[],this.h++);var d=Iy(r,n,o,i);return-1<d?(n=r[d],t||(n.ea=!1)):((n=new wy(n,this.src,a,!!o,i)).ea=t,r.push(n)),n};var Gu="closure_lm_"+(1e6*Math.random()|0),Vi={};function Ey(r,n,t,o,i){if(o&&o.once)return UT(r,n,t,o,i);if(Array.isArray(n)){for(var a=0;a<n.length;a++)Ey(r,n[a],t,o,i);return null}return t=PT(t),r&&r[Jh]?r.N(n,t,Kg(o)?!!o.capture:!!o,i):uf(r,n,t,!1,o,i)}function uf(r,n,t,o,i,a){if(!n)throw Error("Invalid event type");var d=Kg(i)?!!i.capture:!!i,p=Sy(r);if(p||(r[Gu]=p=new af(r)),(t=p.add(n,t,o,d,a)).proxy)return t;if(o=function Ka(){const n=mD;return function r(t){return n.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)lD||(i=d),void 0===i&&(i=!1),r.addEventListener(n.toString(),o,i);else if(r.attachEvent)r.attachEvent(MT(n.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function UT(r,n,t,o,i){if(Array.isArray(n)){for(var a=0;a<n.length;a++)UT(r,n[a],t,o,i);return null}return t=PT(t),r&&r[Jh]?r.O(n,t,Kg(o)?!!o.capture:!!o,i):uf(r,n,t,!0,o,i)}function _D(r,n,t,o,i){if(Array.isArray(n))for(var a=0;a<n.length;a++)_D(r,n[a],t,o,i);else o=Kg(o)?!!o.capture:!!o,t=PT(t),r&&r[Jh]?(r=r.i,(n=String(n).toString())in r.g&&-1<(t=Iy(a=r.g[n],t,o,i))&&(Wh(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete r.g[n],r.h--))):r&&(r=Sy(r))&&(n=r.g[n.toString()],r=-1,n&&(r=Iy(n,t,o,i)),(t=-1<r?n[r]:null)&&Dy(t))}function Dy(r){if("number"!=typeof r&&r&&!r.ba){var n=r.src;if(n&&n[Jh])lf(n.i,r);else{var t=r.type,o=r.proxy;n.removeEventListener?n.removeEventListener(t,o,r.capture):n.detachEvent?n.detachEvent(MT(t),o):n.addListener&&n.removeListener&&n.removeListener(o),(t=Sy(n))?(lf(t,r),0==t.h&&(t.src=null,n[Gu]=null)):Wh(r)}}}function MT(r){return r in Vi?Vi[r]:Vi[r]="on"+r}function mD(r,n){if(r.ba)r=!0;else{n=new Hh(n,this);var t=r.listener,o=r.ha||r.src;r.ea&&Dy(r),r=t.call(o,n)}return r}function Sy(r){return(r=r[Gu])instanceof af?r:null}var cf="__closure_events_fn_"+(1e9*Math.random()>>>0);function PT(r){return"function"==typeof r?r:(r[cf]||(r[cf]=function(n){return r.handleEvent(n)}),r[cf])}function Nr(){za.call(this),this.i=new af(this),this.P=this,this.I=null}function no(r,n){var t,o=r.I;if(o)for(t=[];o;o=o.I)t.push(o);if(r=r.P,o=n.type||n,"string"==typeof n)n=new to(n,r);else if(n instanceof to)n.target=n.target||r;else{var i=n;Ay(n=new to(o,r),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var d=n.g=t[a];i=Qh(d,o,!0,n)&&i}if(i=Qh(d=n.g=r,o,!0,n)&&i,i=Qh(d,o,!1,n)&&i,t)for(a=0;a<t.length;a++)i=Qh(d=n.g=t[a],o,!1,n)&&i}function Qh(r,n,t,o){if(!(n=r.i.g[String(n)]))return!0;n=n.concat();for(var i=!0,a=0;a<n.length;++a){var d=n[a];if(d&&!d.ba&&d.capture==t){var p=d.listener,y=d.ha||d.src;d.ea&&lf(r.i,d),i=!1!==p.call(y,o)&&i}}return i&&!o.defaultPrevented}_o(Nr,za),Nr.prototype[Jh]=!0,Nr.prototype.removeEventListener=function(r,n,t,o){_D(this,r,n,t,o)},Nr.prototype.M=function(){if(Nr.X.M.call(this),this.i){var n,r=this.i;for(n in r.g){for(var t=r.g[n],o=0;o<t.length;o++)Wh(t[o]);delete r.g[n],r.h--}}this.I=null},Nr.prototype.N=function(r,n,t,o){return this.i.add(String(r),n,!1,t,o)},Nr.prototype.O=function(r,n,t,o){return this.i.add(String(r),n,!0,t,o)};var RT=Ht.JSON.stringify;function xy(){var r=FT;let n=null;return r.g&&(n=r.g,r.g=r.g.next,r.g||(r.h=null),n.next=null),n}var td,Zy=new class{constructor(r,n){this.i=r,this.j=n,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new yD,r=>r.reset());class yD{constructor(){this.next=this.g=this.h=null}set(n,t){this.h=n,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function LT(r){Ht.setTimeout(()=>{throw r},0)}function ky(r,n){td||function df(){var r=Ht.Promise.resolve(void 0);td=function(){r.then(qT)}}(),hf||(td(),hf=!0),FT.add(r,n)}var hf=!1,FT=new class OT{constructor(){this.h=this.g=null}add(n,t){const o=Zy.get();o.set(n,t),this.h?this.h.next=o:this.g=o,this.h=o}};function qT(){for(var r;r=xy();){try{r.h.call(r.g)}catch(t){LT(t)}var n=Zy;n.j(r),100>n.h&&(n.h++,r.next=n.g,n.g=r)}hf=!1}function zh(r,n){Nr.call(this),this.h=r||1,this.g=n||Ht,this.j=Po(this.lb,this),this.l=Date.now()}function Ny(r){r.ca=!1,r.R&&(r.g.clearTimeout(r.R),r.R=null)}function Uy(r,n,t){if("function"==typeof r)t&&(r=Po(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Po(r.handleEvent,r)}return 2147483647<Number(n)?-1:Ht.setTimeout(r,n||0)}function vD(r){r.g=Uy(()=>{r.g=null,r.i&&(r.i=!1,vD(r))},r.j);const n=r.h;r.h=null,r.m.apply(null,n)}_o(zh,Nr),(_t=zh.prototype).ca=!1,_t.R=null,_t.lb=function(){if(this.ca){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-r):(this.R&&(this.g.clearTimeout(this.R),this.R=null),no(this,"tick"),this.ca&&(Ny(this),this.start()))}},_t.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_t.M=function(){zh.X.M.call(this),Ny(this),delete this.g};class _Z extends za{constructor(n,t){super(),this.m=n,this.j=t,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:vD(this)}M(){super.M(),this.g&&(Ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nd(r){za.call(this),this.h=r,this.g={}}_o(nd,za);var VT=[];function BT(r,n,t,o){Array.isArray(t)||(t&&(VT[0]=t.toString()),t=VT);for(var i=0;i<t.length;i++){var a=Ey(n,t[i],o||r.handleEvent,!1,r.h||r);if(!a)break;r.g[a.key]=a}}function jT(r){sf(r.g,function(n,t){this.g.hasOwnProperty(t)&&Dy(n)},r),r.g={}}function My(){this.g=!0}function Kh(r,n,t,o){r.info(function(){return"XMLHTTP TEXT ("+n+"): "+function CD(r,n){if(!r.g)return n;if(!n)return null;try{var t=JSON.parse(n);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var i=o[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var d=1;d<i.length;d++)i[d]=""}}}return RT(t)}catch(p){return n}}(r,t)+(o?" "+o:"")})}nd.prototype.M=function(){nd.X.M.call(this),jT(this)},nd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},My.prototype.Aa=function(){this.g=!1},My.prototype.info=function(){};var _a={},$T=null;function pf(){return $T=$T||new Nr}function Py(r){to.call(this,_a.Pa,r)}function bs(r){const n=pf();no(n,new Py(n,r))}function Ry(r,n){to.call(this,_a.STAT_EVENT,r),this.stat=n}function ro(r){const n=pf();no(n,new Ry(n,r))}function gf(r,n){to.call(this,_a.Qa,r),this.size=n}function Yh(r,n){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Ht.setTimeout(function(){r()},n)}_a.Pa="serverreachability",_o(Py,to),_a.STAT_EVENT="statevent",_o(Ry,to),_a.Qa="timingevent",_o(gf,to);var rd={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ff={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function od(){}function wD(){}od.prototype.h=null;var Oy,_f={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function GT(){to.call(this,"d")}function mf(){to.call(this,"c")}function yf(){}function Xh(r,n,t,o){this.l=r,this.j=n,this.m=t,this.U=o||1,this.S=new nd(this),this.O=JT,this.T=new zh(r=Cy?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new HT}function HT(){this.i=null,this.g="",this.h=!1}_o(GT,to),_o(mf,to),_o(yf,od),yf.prototype.g=function(){return new XMLHttpRequest},yf.prototype.i=function(){return{}},Oy=new yf;var JT=45e3,vf={},ep={};function Ly(r,n,t){r.K=1,r.v=Vy(Bl(n)),r.s=t,r.P=!0,WT(r,null)}function WT(r,n){r.F=Date.now(),id(r),r.A=Bl(r.v);var t=r.A,o=r.U;Array.isArray(o)||(o=[String(o)]),E(t.i,"t",o),r.C=0,t=r.l.H,r.h=new HT,r.g=qZ(r.l,t?n:null,!r.s),0<r.N&&(r.L=new _Z(Po(r.La,r,r.g),r.N)),BT(r.S,r.g,"readystatechange",r.ib),n=r.H?NT(r.H):{},r.s?(r.u||(r.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",r.g.da(r.A,r.u,r.s,n)):(r.u="GET",r.g.da(r.A,r.u,null,n)),bs(1),function mZ(r,n,t,o,i,a){r.info(function(){if(r.g)if(a)for(var d="",p=a.split("&"),y=0;y<p.length;y++){var w=p[y].split("=");if(1<w.length){var D=w[0];w=w[1];var x=D.split("_");d=2<=x.length&&"type"==x[1]?d+(D+"=")+w+"&":d+(D+"=redacted&")}}else d=null;else d=a;return"XMLHTTP REQ ("+o+") [attempt "+i+"]: "+n+"\n"+t+"\n"+d})}(r.j,r.u,r.A,r.m,r.U,r.s)}function Fy(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Da}function Cf(r,n,t){let i,o=!0;for(;!r.I&&r.C<t.length;){if(i=CZ(r,t),i==ep){4==n&&(r.o=4,ro(14),o=!1),Kh(r.j,r.m,null,"[Incomplete Response]");break}if(i==vf){r.o=4,ro(15),Kh(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}Kh(r.j,r.m,i,null),QT(r,i)}Fy(r)&&i!=ep&&i!=vf&&(r.h.g="",r.C=0),4!=n||0!=t.length||r.h.h||(r.o=1,ro(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.$&&(r.$=!0,(n=r.l).g==r&&n.$&&!n.K&&(n.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),ZD(n),n.K=!0,ro(11))):(Kh(r.j,r.m,t,"[Invalid Chunked Response]"),sd(r),tp(r))}function CZ(r,n){var t=r.C,o=n.indexOf("\n",t);return-1==o?ep:(t=Number(n.substring(t,o)),isNaN(t)?vf:(o+=1)+t>n.length?ep:(n=n.substr(o,t),r.C=o+t,n))}function id(r){r.V=Date.now()+r.O,Tf(r,r.O)}function Tf(r,n){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Yh(Po(r.gb,r),n)}function wf(r){r.B&&(Ht.clearTimeout(r.B),r.B=null)}function tp(r){0==r.l.G||r.I||RZ(r.l,r)}function sd(r){wf(r);var n=r.L;n&&"function"==typeof n.na&&n.na(),r.L=null,Ny(r.T),jT(r.S),r.g&&(n=r.g,r.g=null,n.abort(),n.na())}function QT(r,n){try{var t=r.l;if(0!=t.G&&(t.g==r||lt(t.h,r)))if(!r.J&&lt(t.h,r)&&3==t.G){try{var o=t.Fa.g.parse(n)}catch(w){o=null}if(Array.isArray(o)&&3==o.length){var i=o;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<r.F))break e;ew(t),YT(t)}xD(t),ro(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Yh(Po(t.cb,t),6e3));if(1>=Qe(t.h)&&t.ja){try{t.ja()}catch(w){}t.ja=void 0}}else rp(t,11)}else if((r.J||t.g==r)&&ew(t),!jh(n))for(i=t.Fa.g.parse(n),n=0;n<i.length;n++){let w=i[n];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const D=w[3];null!=D&&(t.ma=D,t.j.info("VER="+t.ma));const x=w[4];null!=x&&(t.Ca=x,t.j.info("SVER="+t.Ca));const F=w[5];null!=F&&"number"==typeof F&&0<F&&(t.J=o=1.5*F,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const $=r.g;if($){const ee=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ee){var a=o.h;a.g||-1==ee.indexOf("spdy")&&-1==ee.indexOf("quic")&&-1==ee.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(St(a,a.h),a.h=null))}if(o.D){const Se=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;Se&&(o.za=Se,Xn(o.F,o.D,Se))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-r.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=r;if((o=t).sa=FZ(o,o.H?o.ka:null,o.V),d.J){Ue(o.h,d);var p=d,y=o.J;y&&p.setTimeout(y),p.B&&(wf(p),id(p)),o.g=d}else MZ(o);0<t.i.length&&XT(t)}else"stop"!=w[0]&&"close"!=w[0]||rp(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?rp(t,7):SD(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}bs(4)}catch(w){}}function zT(r,n){if(r.forEach&&"function"==typeof r.forEach)r.forEach(n,void 0);else if(yy(r)||"string"==typeof r)Array.prototype.forEach.call(r,n,void 0);else for(var t=function AD(r){if(r.oa&&"function"==typeof r.oa)return r.oa();if(!r.W||"function"!=typeof r.W){if("undefined"!=typeof Map&&r instanceof Map)return Array.from(r.keys());if(!("undefined"!=typeof Set&&r instanceof Set)){if(yy(r)||"string"==typeof r){var n=[];r=r.length;for(var t=0;t<r;t++)n.push(t);return n}n=[],t=0;for(const o in r)n[t++]=o;return n}}}(r),o=function bD(r){if(r.W&&"function"==typeof r.W)return r.W();if("undefined"!=typeof Map&&r instanceof Map||"undefined"!=typeof Set&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(yy(r)){for(var n=[],t=r.length,o=0;o<t;o++)n.push(r[o]);return n}for(o in n=[],t=0,r)n[t++]=r[o];return n}(r),i=o.length,a=0;a<i;a++)n.call(void 0,o[a],t&&t[a],r)}(_t=Xh.prototype).setTimeout=function(r){this.O=r},_t.ib=function(r){r=r.target;const n=this.L;n&&3==zu(r)?n.l():this.La(r)},_t.La=function(r){try{if(r==this.g)e:{const D=zu(this.g);var n=this.g.Ea();const x=this.g.aa();if(!(3>D)&&(3!=D||Cy||this.g&&(this.h.h||this.g.fa()||SZ(this.g)))){this.I||4!=D||7==n||bs(8==n||0>=x?3:2),wf(this);var t=this.g.aa();this.Y=t;t:if(Fy(this)){var o=SZ(this.g);r="";var i=o.length,a=4==zu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){sd(this),tp(this);var d="";break t}this.h.i=new Ht.TextDecoder}for(n=0;n<i;n++)this.h.h=!0,r+=this.h.i.decode(o[n],{stream:a&&n==i-1});o.splice(0,i),this.h.g+=r,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function yZ(r,n,t,o,i,a,d){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+i+"]: "+n+"\n"+t+"\n"+a+" "+d})}(this.j,this.u,this.A,this.m,this.U,D,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jh(p)){var w=p;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,ro(12),sd(this),tp(this);break e}Kh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,QT(this,t)}this.P?(Cf(this,D,d),Cy&&this.i&&3==D&&(BT(this.S,this.T,"tick",this.hb),this.T.start())):(Kh(this.j,this.m,d,null),QT(this,d)),4==D&&sd(this),this.i&&!this.I&&(4==D?RZ(this.l,this):(this.i=!1,id(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,ro(12)):(this.o=0,ro(13)),sd(this),tp(this)}}}catch(D){}},_t.hb=function(){if(this.g){var r=zu(this.g),n=this.g.fa();this.C<n.length&&(wf(this),Cf(this,r,n),this.i&&4!=r&&id(this))}},_t.cancel=function(){this.I=!0,sd(this)},_t.gb=function(){this.B=null;const r=Date.now();0<=r-this.V?(function vZ(r,n){r.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(bs(3),ro(17)),sd(this),this.o=2,tp(this)):Tf(this,this.V-r)};var ID=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ad(r,n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof ad){this.h=void 0!==n?n:r.h,qy(this,r.j),this.s=r.s,this.g=r.g,bf(this,r.m),this.l=r.l,n=r.i;var t=new g;t.i=n.i,n.g&&(t.g=new Map(n.g),t.h=n.h),ED(this,t),this.o=r.o}else r&&(t=String(r).match(ID))?(this.h=!!n,qy(this,t[1]||"",!0),this.s=Af(t[2]||""),this.g=Af(t[3]||"",!0),bf(this,t[4]),this.l=Af(t[5]||"",!0),ED(this,t[6]||"",!0),this.o=Af(t[7]||"")):(this.h=!!n,this.i=new g(null,this.h))}function Bl(r){return new ad(r)}function qy(r,n,t){r.j=t?Af(n,!0):n,r.j&&(r.j=r.j.replace(/:$/,""))}function bf(r,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);r.m=n}else r.m=null}function ED(r,n,t){n instanceof g?(r.i=n,function R(r,n){n&&!r.j&&(m(r),r.i=null,r.g.forEach(function(t,o){var i=o.toLowerCase();o!=i&&(C(this,o),E(this,i,t))},r)),r.j=n}(r.i,r.h)):(t||(n=If(n,c)),r.i=new g(n,r.h))}function Xn(r,n,t){r.i.set(n,t)}function Vy(r){return Xn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Af(r,n){return r?n?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function If(r,n,t){return"string"==typeof r?(r=encodeURI(r).replace(n,wZ),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function wZ(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}ad.prototype.toString=function(){var r=[],n=this.j;n&&r.push(If(n,s,!0),":");var t=this.g;return(t||"file"==n)&&(r.push("//"),(n=this.s)&&r.push(If(n,s,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(If(t,"/"==t.charAt(0)?u:l,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",If(t,h)),r.join("")};var s=/[#\/\?@]/g,l=/[#\?:]/g,u=/[#\?]/g,c=/[#\?@]/g,h=/#/g;function g(r,n){this.h=this.g=null,this.i=r||null,this.j=!!n}function m(r){r.g||(r.g=new Map,r.h=0,r.i&&function TZ(r,n){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),i=null;if(0<=o){var a=r[t].substring(0,o);i=r[t].substring(o+1)}else a=r[t];n(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(r.i,function(n,t){r.add(decodeURIComponent(n.replace(/\+/g," ")),t)}))}function C(r,n){m(r),n=k(r,n),r.g.has(n)&&(r.i=null,r.h-=r.g.get(n).length,r.g.delete(n))}function b(r,n){return m(r),n=k(r,n),r.g.has(n)}function E(r,n,t){C(r,n),0<t.length&&(r.i=null,r.g.set(k(r,n),DT(t)),r.h+=t.length)}function k(r,n){return n=String(n),r.j&&(n=n.toLowerCase()),n}function ne(r){this.l=r||be,r=Ht.PerformanceNavigationTiming?0<(r=Ht.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Ht.g&&Ht.g.Ga&&Ht.g.Ga()&&Ht.g.Ga().$b),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_t=g.prototype).add=function(r,n){m(this),this.i=null,r=k(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(n),this.h+=1,this},_t.forEach=function(r,n){m(this),this.g.forEach(function(t,o){t.forEach(function(i){r.call(n,i,o,this)},this)},this)},_t.oa=function(){m(this);const r=Array.from(this.g.values()),n=Array.from(this.g.keys()),t=[];for(let o=0;o<n.length;o++){const i=r[o];for(let a=0;a<i.length;a++)t.push(n[o])}return t},_t.W=function(r){m(this);let n=[];if("string"==typeof r)b(this,r)&&(n=n.concat(this.g.get(k(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)n=n.concat(r[t])}return n},_t.set=function(r,n){return m(this),this.i=null,b(this,r=k(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[n]),this.h+=1,this},_t.get=function(r,n){return r&&0<(r=this.W(r)).length?String(r[0]):n},_t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],n=Array.from(this.g.keys());for(var t=0;t<n.length;t++){var o=n[t];const a=encodeURIComponent(String(o)),d=this.W(o);for(o=0;o<d.length;o++){var i=a;""!==d[o]&&(i+="="+encodeURIComponent(String(d[o]))),r.push(i)}}return this.i=r.join("&")};var be=10;function Fe(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Qe(r){return r.h?1:r.g?r.g.size:0}function lt(r,n){return r.h?r.h==n:!!r.g&&r.g.has(n)}function St(r,n){r.g?r.g.add(n):r.h=n}function Ue(r,n){r.h&&r.h==n?r.h=null:r.g&&r.g.has(n)&&r.g.delete(n)}function It(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let n=r.i;for(const t of r.g.values())n=n.concat(t.D);return n}return DT(r.i)}function Xt(){}function Bn(){this.g=new Xt}function Hu(r,n,t){const o=t||"";try{zT(r,function(i,a){let d=i;Kg(i)&&(d=RT(i)),n.push(o+a+"="+encodeURIComponent(d))})}catch(i){throw n.push(o+"type="+encodeURIComponent("_badmap")),i}}function ld(r,n,t,o,i){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,i(o)}catch(a){}}function Ju(r){this.l=r.ac||null,this.j=r.jb||!1}function ud(r,n){Nr.call(this),this.D=r,this.u=n,this.m=void 0,this.readyState=np,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ne.prototype.cancel=function(){if(this.i=It(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},Xt.prototype.stringify=function(r){return Ht.JSON.stringify(r,void 0)},Xt.prototype.parse=function(r){return Ht.JSON.parse(r,void 0)},_o(Ju,od),Ju.prototype.g=function(){return new ud(this.l,this.j)},Ju.prototype.i=function(r){return function(){return r}}({}),_o(ud,Nr);var np=0;function Ef(r){r.j.read().then(r.Ta.bind(r)).catch(r.ga.bind(r))}function Wu(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Qu(r)}function Qu(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(_t=ud.prototype).open=function(r,n){if(this.readyState!=np)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=n,this.readyState=1,Qu(this)},_t.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(n.body=r),(this.D||Ht).fetch(new Request(this.B,n)).then(this.Wa.bind(this),this.ga.bind(this))},_t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wu(this)),this.readyState=np},_t.Wa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Qu(this)),this.g&&(this.readyState=3,Qu(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==Ht.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ef(this)}else r.text().then(this.Va.bind(this),this.ga.bind(this))},_t.Ta=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var n=r.value?r.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!r.done}))&&(this.response=this.responseText+=n)}r.done?Wu(this):Qu(this),3==this.readyState&&Ef(this)}},_t.Va=function(r){this.g&&(this.response=this.responseText=r,Wu(this))},_t.Ua=function(r){this.g&&(this.response=r,Wu(this))},_t.ga=function(){this.g&&Wu(this)},_t.setRequestHeader=function(r,n){this.v.append(r,n)},_t.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},_t.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],n=this.h.entries();for(var t=n.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=n.next();return r.join("\r\n")},Object.defineProperty(ud.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var jy=Ht.JSON.parse;function Tr(r){Nr.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bZ,this.K=this.L=!1}_o(Tr,Nr);var bZ="",rP=/^https?$/i,oP=["POST","PUT"];function AZ(r,n){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=n,r.m=5,IZ(r),KT(r)}function IZ(r){r.D||(r.D=!0,no(r,"complete"),no(r,"error"))}function EZ(r){if(r.h&&void 0!==my&&(!r.C[1]||4!=zu(r)||2!=r.aa()))if(r.v&&4==zu(r))Uy(r.Ha,0,r);else if(no(r,"readystatechange"),4==zu(r)){r.h=!1;try{const p=r.aa();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var t;if(!(t=n)){var o;if(o=0===p){var i=String(r.H).match(ID)[1]||null;if(!i&&Ht.self&&Ht.self.location){var a=Ht.self.location.protocol;i=a.substr(0,a.length-1)}o=!rP.test(i?i.toLowerCase():"")}t=o}if(t)no(r,"complete"),no(r,"success");else{r.m=6;try{var d=2<zu(r)?r.g.statusText:""}catch(y){d=""}r.j=d+" ["+r.aa()+"]",IZ(r)}}finally{KT(r)}}}function KT(r,n){if(r.g){DZ(r);const t=r.g,o=r.C[0]?Bh:null;r.g=null,r.C=null,n||no(r,"ready");try{t.onreadystatechange=o}catch(i){}}}function DZ(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(Ht.clearTimeout(r.A),r.A=null)}function zu(r){return r.g?r.g.readyState:0}function SZ(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case bZ:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(n){return null}}function xZ(r){let n="";return sf(r,function(t,o){n+=o,n+=":",n+=t,n+="\r\n"}),n}function DD(r,n,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=xZ(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Xn(r,n,t))}function $y(r,n,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||n}function ZZ(r){this.Ca=0,this.i=[],this.j=new My,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=$y("failFast",!1,r),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=$y("baseRetryDelayMs",5e3,r),this.bb=$y("retryDelaySeedMs",1e4,r),this.$a=$y("forwardChannelMaxRetries",2,r),this.ta=$y("forwardChannelRequestTimeoutMs",2e4,r),this.ra=r&&r.xmlHttpFactory||void 0,this.Da=r&&r.Zb||!1,this.J=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.I="",this.h=new ne(r&&r.concurrentRequestLimit),this.Fa=new Bn,this.O=r&&r.fastHandshake||!1,this.N=r&&r.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=r&&r.Xb||!1,r&&r.Aa&&this.j.Aa(),r&&r.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&r&&r.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function SD(r){if(kZ(r),3==r.G){var n=r.U++,t=Bl(r.F);Xn(t,"SID",r.I),Xn(t,"RID",n),Xn(t,"TYPE","terminate"),Gy(r,t),(n=new Xh(r,r.j,n,void 0)).K=2,n.v=Vy(Bl(t)),t=!1,Ht.navigator&&Ht.navigator.sendBeacon&&(t=Ht.navigator.sendBeacon(n.v.toString(),"")),!t&&Ht.Image&&((new Image).src=n.v,t=!0),t||(n.g=qZ(n.l,null),n.g.da(n.v)),n.F=Date.now(),id(n)}LZ(r)}function YT(r){r.g&&(ZD(r),r.g.cancel(),r.g=null)}function kZ(r){YT(r),r.u&&(Ht.clearTimeout(r.u),r.u=null),ew(r),r.h.cancel(),r.m&&("number"==typeof r.m&&Ht.clearTimeout(r.m),r.m=null)}function XT(r){Fe(r.h)||r.m||(r.m=!0,ky(r.Ja,r),r.C=0)}function NZ(r,n){var t;t=n?n.m:r.U++;const o=Bl(r.F);Xn(o,"SID",r.I),Xn(o,"RID",t),Xn(o,"AID",r.T),Gy(r,o),r.o&&r.s&&DD(o,r.o,r.s),t=new Xh(r,r.j,t,r.C+1),null===r.o&&(t.H=r.s),n&&(r.i=n.D.concat(r.i)),n=UZ(r,t,1e3),t.setTimeout(Math.round(.5*r.ta)+Math.round(.5*r.ta*Math.random())),St(r.h,t),Ly(t,o,n)}function Gy(r,n){r.ia&&sf(r.ia,function(t,o){Xn(n,o,t)}),r.l&&zT({},function(t,o){Xn(n,o,t)})}function UZ(r,n,t){t=Math.min(r.i.length,t);var o=r.l?Po(r.l.Ra,r.l,r):null;e:{var i=r.i;let a=-1;for(;;){const d=["count="+t];-1==a?0<t?(a=i[0].h,d.push("ofs="+a)):a=0:d.push("ofs="+a);let p=!0;for(let y=0;y<t;y++){let w=i[y].h;const D=i[y].g;if(w-=a,0>w)a=Math.max(0,i[y].h-100),p=!1;else try{Hu(D,d,"req"+w+"_")}catch(x){o&&o(D)}}if(p){o=d.join("&");break e}}}return r=r.i.splice(0,t),n.D=r,o}function MZ(r){r.g||r.u||(r.Z=1,ky(r.Ia,r),r.A=0)}function xD(r){return!(r.g||r.u||3<=r.A||(r.Z++,r.u=Yh(Po(r.Ia,r),OZ(r,r.A)),r.A++,0))}function ZD(r){null!=r.B&&(Ht.clearTimeout(r.B),r.B=null)}function PZ(r){r.g=new Xh(r,r.j,"rpc",r.Z),null===r.o&&(r.g.H=r.s),r.g.N=0;var n=Bl(r.sa);Xn(n,"RID","rpc"),Xn(n,"SID",r.I),Xn(n,"CI",r.L?"0":"1"),Xn(n,"AID",r.T),Xn(n,"TYPE","xmlhttp"),Gy(r,n),r.o&&r.s&&DD(n,r.o,r.s),r.J&&r.g.setTimeout(r.J);var t=r.g;r=r.ka,t.K=1,t.v=Vy(Bl(n)),t.s=null,t.P=!0,WT(t,r)}function ew(r){null!=r.v&&(Ht.clearTimeout(r.v),r.v=null)}function RZ(r,n){var t=null;if(r.g==n){ew(r),ZD(r),r.g=null;var o=2}else{if(!lt(r.h,n))return;t=n.D,Ue(r.h,n),o=1}if(0!=r.G)if(r.pa=n.Y,n.i)if(1==o){t=n.s?n.s.length:0,n=Date.now()-n.F;var i=r.C;no(o=pf(),new gf(o,t,n,i)),XT(r)}else MZ(r);else if(3==(i=n.o)||0==i&&0<r.pa||!(1==o&&function sP(r,n){return!(Qe(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=n.D.concat(r.i),0):1==r.G||2==r.G||r.C>=(r.Za?0:r.$a)||(r.m=Yh(Po(r.Ja,r,n),OZ(r,r.C)),r.C++,0)))}(r,n)||2==o&&xD(r)))switch(t&&0<t.length&&(n=r.h,n.i=n.i.concat(t)),i){case 1:rp(r,5);break;case 4:rp(r,10);break;case 3:rp(r,6);break;default:rp(r,2)}}function OZ(r,n){let t=r.Xa+Math.floor(Math.random()*r.bb);return r.l||(t*=2),t*n}function rp(r,n){if(r.j.info("Error code "+n),2==n){var t=null;r.l&&(t=null);var o=Po(r.kb,r);t||(t=new ad("//www.google.com/images/cleardot.gif"),Ht.location&&"http"==Ht.location.protocol||qy(t,"https"),Vy(t)),function By(r,n){const t=new My;if(Ht.Image){const o=new Image;o.onload=$u(ld,t,o,"TestLoadImage: loaded",!0,n),o.onerror=$u(ld,t,o,"TestLoadImage: error",!1,n),o.onabort=$u(ld,t,o,"TestLoadImage: abort",!1,n),o.ontimeout=$u(ld,t,o,"TestLoadImage: timeout",!1,n),Ht.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else n(!1)}(t.toString(),o)}else ro(2);r.G=0,r.l&&r.l.va(n),LZ(r),kZ(r)}function LZ(r){if(r.G=0,r.la=[],r.l){const n=It(r.h);(0!=n.length||0!=r.i.length)&&(Xg(r.la,n),Xg(r.la,r.i),r.h.i.length=0,DT(r.i),r.i.length=0),r.l.ua()}}function FZ(r,n,t){var o=t instanceof ad?Bl(t):new ad(t,void 0);if(""!=o.g)n&&(o.g=n+"."+o.g),bf(o,o.m);else{var i=Ht.location;o=i.protocol,n=n?n+"."+i.hostname:i.hostname,i=+i.port;var a=new ad(null,void 0);o&&qy(a,o),n&&(a.g=n),i&&bf(a,i),t&&(a.l=t),o=a}return n=r.za,(t=r.D)&&n&&Xn(o,t,n),Xn(o,"VER",r.ma),Gy(r,o),o}function qZ(r,n,t){if(n&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new Tr(t&&r.Da&&!r.ra?new Ju({jb:!0}):r.ra)).Ka(r.H),n}function VZ(){}function tw(){if($h&&!(10<=Number(mi)))throw Error("Environmental error: no available transport.")}function As(r,n){Nr.call(this),this.g=new ZZ(n),this.l=r,this.h=n&&n.messageUrlParams||null,r=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(r?r["X-WebChannel-Content-Type"]=n.messageContentType:r={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(r?r["X-WebChannel-Client-Profile"]=n.ya:r={"X-WebChannel-Client-Profile":n.ya}),this.g.S=r,(r=n&&n.Yb)&&!jh(r)&&(this.g.o=r),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!jh(n)&&(this.g.D=n,null!==(r=this.h)&&n in r&&n in(r=this.h)&&delete r[n]),this.j=new Df(this)}function BZ(r){GT.call(this);var n=r.__sm__;if(n){e:{for(const t in n){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,n=null!==n&&r in n?n[r]:void 0),this.data=n}else this.data=r}function jZ(){mf.call(this),this.status=1}function Df(r){this.g=r}(_t=Tr.prototype).Ka=function(r){this.L=r},_t.da=function(r,n,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);n=n?n.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Oy.g(),this.C=function TD(r){return r.h||(r.h=r.i())}(this.u?this.u:Oy),this.g.onreadystatechange=Po(this.Ha,this);try{this.F=!0,this.g.open(n,String(r),!0),this.F=!1}catch(a){return void AZ(this,a)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var i in o)t.set(i,o[i]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const a of o.keys())t.set(a,o.get(a))}o=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Ht.FormData&&r instanceof Ht.FormData,!(0<=vy(oP,n))||o||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,d]of t)this.g.setRequestHeader(a,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{DZ(this),0<this.B&&((this.K=function iP(r){return $h&&function gD(){return function cD(r){var n=ws;return Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=r(9)}(function(){let r=0;const n=uD(String(tf)).split("."),t=uD("9").split("."),o=Math.max(n.length,t.length);for(let d=0;0==r&&d<o;d++){var i=n[d]||"",a=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;r=ST(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||ST(0==i[2].length,0==a[2].length)||ST(i[2],a[2]),i=i[3],a=a[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Po(this.qa,this)):this.A=Uy(this.qa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(a){AZ(this,a)}},_t.qa=function(){void 0!==my&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,no(this,"timeout"),this.abort(8))},_t.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,no(this,"complete"),no(this,"abort"),KT(this))},_t.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),KT(this,!0)),Tr.X.M.call(this)},_t.Ha=function(){this.s||(this.F||this.v||this.l?EZ(this):this.fb())},_t.fb=function(){EZ(this)},_t.aa=function(){try{return 2<zu(this)?this.g.status:-1}catch(r){return-1}},_t.fa=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},_t.Sa=function(r){if(this.g){var n=this.g.responseText;return r&&0==n.indexOf(r)&&(n=n.substring(r.length)),jy(n)}},_t.Ea=function(){return this.m},_t.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_t=ZZ.prototype).ma=8,_t.G=1,_t.Ja=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;const i=new Xh(this,this.j,r,void 0);let a=this.s;if(this.S&&(a?(a=NT(a),Ay(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var n=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(n+=o)){n=t;break e}if(4096===n||t===this.i.length-1){n=t+1;break e}}n=1e3}else n=1e3;n=UZ(this,i,n),Xn(t=Bl(this.F),"RID",r),Xn(t,"CVER",22),this.D&&Xn(t,"X-HTTP-Session-Id",this.D),Gy(this,t),a&&(this.N?n="headers="+encodeURIComponent(String(xZ(a)))+"&"+n:this.o&&DD(t,this.o,a)),St(this.h,i),this.Ya&&Xn(t,"TYPE","init"),this.O?(Xn(t,"$req",n),Xn(t,"SID","null"),i.Z=!0,Ly(i,t,null)):Ly(i,t,n),this.G=2}}else 3==this.G&&(r?NZ(this,r):0==this.i.length||Fe(this.h)||NZ(this))},_t.Ia=function(){if(this.u=null,PZ(this),this.$&&!(this.K||null==this.g||0>=this.P)){var r=2*this.P;this.j.info("BP detection timer enabled: "+r),this.B=Yh(Po(this.eb,this),r)}},_t.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ro(10),YT(this),PZ(this))},_t.cb=function(){null!=this.v&&(this.v=null,YT(this),xD(this),ro(19))},_t.kb=function(r){r?(this.j.info("Successfully pinged google.com"),ro(2)):(this.j.info("Failed to ping google.com"),ro(1))},(_t=VZ.prototype).xa=function(){},_t.wa=function(){},_t.va=function(){},_t.ua=function(){},_t.Ra=function(){},tw.prototype.g=function(r,n){return new As(r,n)},_o(As,Nr),As.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var r=this.g,n=this.l,t=this.h||void 0;ro(0),r.V=n,r.ia=t||{},r.L=r.Y,r.F=FZ(r,null,r.V),XT(r)},As.prototype.close=function(){SD(this.g)},As.prototype.u=function(r){var n=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=RT(r),r=t);n.i.push(new class{constructor(r,n){this.h=r,this.g=n}}(n.ab++,r)),3==n.G&&XT(n)},As.prototype.M=function(){this.g.l=null,delete this.j,SD(this.g),delete this.g,As.X.M.call(this)},_o(BZ,GT),_o(jZ,mf),_o(Df,VZ),Df.prototype.xa=function(){no(this.g,"a")},Df.prototype.wa=function(r){no(this.g,new BZ(r))},Df.prototype.va=function(r){no(this.g,new jZ(r))},Df.prototype.ua=function(){no(this.g,"b")},tw.prototype.createWebChannel=tw.prototype.g,As.prototype.send=As.prototype.u,As.prototype.open=As.prototype.m,As.prototype.close=As.prototype.close,rd.NO_ERROR=0,rd.TIMEOUT=8,rd.HTTP_ERROR=6,ff.COMPLETE="complete",wD.EventType=_f,_f.OPEN="a",_f.CLOSE="b",_f.ERROR="c",_f.MESSAGE="d",Nr.prototype.listen=Nr.prototype.N,Tr.prototype.listenOnce=Tr.prototype.O,Tr.prototype.getLastError=Tr.prototype.Oa,Tr.prototype.getLastErrorCode=Tr.prototype.Ea,Tr.prototype.getStatus=Tr.prototype.aa,Tr.prototype.getResponseJson=Tr.prototype.Sa,Tr.prototype.getResponseText=Tr.prototype.fa,Tr.prototype.send=Tr.prototype.da,Tr.prototype.setWithCredentials=Tr.prototype.Ka;var aP=ga.createWebChannelTransport=function(){return new tw},lP=ga.getStatEventTarget=function(){return pf()},kD=ga.ErrorCode=rd,uP=ga.EventType=ff,cP=ga.Event=_a,$Z=ga.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},dP=ga.FetchXmlHttpFactory=Ju,nw=ga.WebChannel=wD,hP=ga.XhrIo=Tr;const GZ="@firebase/firestore";class mo{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}mo.UNAUTHENTICATED=new mo(null),mo.GOOGLE_CREDENTIALS=new mo("google-credentials-uid"),mo.FIRST_PARTY=new mo("first-party-uid"),mo.MOCK_USER=new mo("mock-user");let Sf="9.12.1";const cd=new Qa.Yd("@firebase/firestore");function ND(){return cd.logLevel}function Ve(r,...n){if(cd.logLevel<=Qa.in.DEBUG){const t=n.map(UD);cd.debug(`Firestore (${Sf}): ${r}`,...t)}}function Ur(r,...n){if(cd.logLevel<=Qa.in.ERROR){const t=n.map(UD);cd.error(`Firestore (${Sf}): ${r}`,...t)}}function op(r,...n){if(cd.logLevel<=Qa.in.WARN){const t=n.map(UD);cd.warn(`Firestore (${Sf}): ${r}`,...t)}}function UD(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(t){return r}}function ht(r="Unexpected state"){const n=`FIRESTORE (${Sf}) INTERNAL ASSERTION FAILED: `+r;throw Ur(n),new Error(n)}function Pt(r,n){r||ht()}function tt(r,n){return r}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Cn.ZR{constructor(n,t){super(n,t),this.code=n,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class oo{constructor(){this.promise=new Promise((n,t)=>{this.resolve=n,this.reject=t})}}class HZ{constructor(n,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class fP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,t){n.enqueueRetryable(()=>t(mo.UNAUTHENTICATED))}shutdown(){}}class _P{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,t){this.changeListener=t,n.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mP{constructor(n){this.t=n,this.currentUser=mo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,t){var o=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new oo;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new oo,n.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const w=d;n.enqueueRetryable((0,Te.Z)(function*(){yield w.promise,yield a(o.currentUser)}))},y=w=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new oo)}},0),p()}getToken(){const n=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==n?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Pt("string"==typeof o.accessToken),new HZ(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return Pt(null===n||"string"==typeof n),new mo(n)}}class yP{constructor(n,t,o,i){this.h=n,this.l=t,this.m=o,this.g=i,this.type="FirstParty",this.user=mo.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Pt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const n=this.I();return n&&this.p.set("Authorization",n),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class vP{constructor(n,t,o,i){this.h=n,this.l=t,this.m=o,this.g=i}getToken(){return Promise.resolve(new yP(this.h,this.l,this.m,this.g))}start(n,t){n.enqueueRetryable(()=>t(mo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JZ{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CP{constructor(n){this.T=n,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(n,t){const o=a=>{null!=a.error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const d=a.token!==this.A;return this.A=a.token,Ve("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(a.token):Promise.resolve()};this.o=a=>{n.enqueueRetryable(()=>o(a))};const i=a=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(t=>t?(Pt("string"==typeof t.token),this.A=t.token,new JZ(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function TP(r){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class WZ{static R(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/n.length)*n.length;let o="";for(;o.length<20;){const i=TP(40);for(let a=0;a<i.length;++a)o.length<20&&i[a]<t&&(o+=n.charAt(i[a]%n.length))}return o}}function Qt(r,n){return r<n?-1:r>n?1:0}function xf(r,n,t){return r.length===n.length&&r.every((o,i)=>t(o,n[i]))}function QZ(r){return r+"\0"}class lr{constructor(n,t){if(this.seconds=n,this.nanoseconds=t,t<0)throw new Re(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(n<-62135596800)throw new Re(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Re(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return lr.fromMillis(Date.now())}static fromDate(n){return lr.fromMillis(n.getTime())}static fromMillis(n){const t=Math.floor(n/1e3),o=Math.floor(1e6*(n-1e3*t));return new lr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Qt(this.nanoseconds,n.nanoseconds):Qt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(n){this.timestamp=n}static fromTimestamp(n){return new Rt(n)}static min(){return new Rt(new lr(0,0))}static max(){return new Rt(new lr(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Hy{constructor(n,t,o){void 0===t?t=0:t>n.length&&ht(),void 0===o?o=n.length-t:o>n.length-t&&ht(),this.segments=n,this.offset=t,this.len=o}get length(){return this.len}isEqual(n){return 0===Hy.comparator(this,n)}child(n){const t=this.segments.slice(this.offset,this.limit());return n instanceof Hy?n.forEach(o=>{t.push(o)}):t.push(n),this.construct(t)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==n.get(t))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==n.get(t))return!1;return!0}forEach(n){for(let t=this.offset,o=this.limit();t<o;t++)n(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,t){const o=Math.min(n.length,t.length);for(let i=0;i<o;i++){const a=n.get(i),d=t.get(i);if(a<d)return-1;if(a>d)return 1}return n.length<t.length?-1:n.length>t.length?1:0}}class Tn extends Hy{construct(n,t,o){return new Tn(n,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const t=[];for(const o of n){if(o.indexOf("//")>=0)throw new Re(_e.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(i=>i.length>0))}return new Tn(t)}static emptyPath(){return new Tn([])}}const wP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends Hy{construct(n,t,o){return new wr(n,t,o)}static isValidIdentifier(n){return wP.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wr(["__name__"])}static fromServerFormat(n){const t=[];let o="",i=0;const a=()=>{if(0===o.length)throw new Re(_e.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let d=!1;for(;i<n.length;){const p=n[i];if("\\"===p){if(i+1===n.length)throw new Re(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const y=n[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Re(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=y,i+=2}else"`"===p?(d=!d,i++):"."!==p||d?(o+=p,i++):(a(),i++)}if(a(),d)throw new Re(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new wr(t)}static emptyPath(){return new wr([])}}class ze{constructor(n){this.path=n}static fromPath(n){return new ze(Tn.fromString(n))}static fromName(n){return new ze(Tn.fromString(n).popFirst(5))}static empty(){return new ze(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===Tn.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,t){return Tn.comparator(n.path,t.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new ze(new Tn(n.slice()))}}class rw{constructor(n,t,o,i){this.indexId=n,this.collectionGroup=t,this.fields=o,this.indexState=i}}function MD(r){return r.fields.find(n=>2===n.kind)}function ip(r){return r.fields.filter(n=>2!==n.kind)}rw.UNKNOWN_ID=-1;class ow{constructor(n,t){this.fieldPath=n,this.kind=t}}class Jy{constructor(n,t){this.sequenceNumber=n,this.offset=t}static empty(){return new Jy(0,Is.min())}}function zZ(r,n){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,i=Rt.fromTimestamp(1e9===o?new lr(t+1,0):new lr(t,o));return new Is(i,ze.empty(),n)}function KZ(r){return new Is(r.readTime,r.key,-1)}class Is{constructor(n,t,o){this.readTime=n,this.documentKey=t,this.largestBatchId=o}static min(){return new Is(Rt.min(),ze.empty(),-1)}static max(){return new Is(Rt.max(),ze.empty(),-1)}}function PD(r,n){let t=r.readTime.compareTo(n.readTime);return 0!==t?t:(t=ze.comparator(r.documentKey,n.documentKey),0!==t?t:Qt(r.largestBatchId,n.largestBatchId))}const YZ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function dd(r){return RD.apply(this,arguments)}function RD(){return RD=(0,Te.Z)(function*(r){if(r.code!==_e.FAILED_PRECONDITION||r.message!==YZ)throw r;Ve("LocalStore","Unexpectedly lost primary lease")}),RD.apply(this,arguments)}class ce{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(n){return this.next(void 0,n)}next(n,t){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(n,this.result):new ce((o,i)=>{this.nextCallback=a=>{this.wrapSuccess(n,a).next(o,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(o,i)}})}toPromise(){return new Promise((n,t)=>{this.next(n,t)})}wrapUserFunction(n){try{const t=n();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(n,t){return n?this.wrapUserFunction(()=>n(t)):ce.resolve(t)}wrapFailure(n,t){return n?this.wrapUserFunction(()=>n(t)):ce.reject(t)}static resolve(n){return new ce((t,o)=>{t(n)})}static reject(n){return new ce((t,o)=>{o(n)})}static waitFor(n){return new ce((t,o)=>{let i=0,a=0,d=!1;n.forEach(p=>{++i,p.next(()=>{++a,d&&a===i&&t()},y=>o(y))}),d=!0,a===i&&t()})}static or(n){let t=ce.resolve(!1);for(const o of n)t=t.next(i=>i?ce.resolve(i):o());return t}static forEach(n,t){const o=[];return n.forEach((i,a)=>{o.push(t.call(this,i,a))}),this.waitFor(o)}static mapArray(n,t){return new ce((o,i)=>{const a=n.length,d=new Array(a);let p=0;for(let y=0;y<a;y++){const w=y;t(n[w]).next(D=>{d[w]=D,++p,p===a&&o(d)},D=>i(D))}})}static doWhile(n,t){return new ce((o,i)=>{const a=()=>{!0===n()?t().next(()=>{a()},i):o()};a()})}}class iw{constructor(n,t){this.action=n,this.transaction=t,this.aborted=!1,this.P=new oo,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Wy(n,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const i=OD(o.target.error);this.P.reject(new Wy(n,i))}}static open(n,t,o,i){try{return new iw(t,n.transaction(i,o))}catch(a){throw new Wy(t,a)}}get v(){return this.P.promise}abort(n){n&&this.P.reject(n),this.aborted||(Ve("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const t=this.transaction.objectStore(n);return new EP(t)}}class Ya{constructor(n,t,o){this.name=n,this.version=t,this.S=o,12.2===Ya.D((0,Cn.z$)())&&Ur("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Ve("SimpleDb","Removing database:",n),sp(window.indexedDB.deleteDatabase(n)).toPromise()}static C(){if(!(0,Cn.hl)())return!1;if(Ya.N())return!0;const n=(0,Cn.z$)(),t=Ya.D(n),o=0<t&&t<10,i=Ya.k(n),a=0<i&&i<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||o||a)}static N(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.O)}static M(n,t){return n.store(t)}static D(n){const t=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(n){const t=n.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(n){var t=this;return(0,Te.Z)(function*(){return t.db||(Ve("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=d=>{o(d.target.result)},a.onblocked=()=>{i(new Wy(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=d=>{const p=d.target.error;i("VersionError"===p.name?new Re(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Re(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Wy(n,p))},a.onupgradeneeded=d=>{Ve("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,a.transaction,d.oldVersion,t.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(n){this.B=n,this.db&&(this.db.onversionchange=t=>n(t))}runTransaction(n,t,o,i){var a=this;return(0,Te.Z)(function*(){const d="readonly"===t;let p=0;for(;;){++p;try{a.db=yield a.F(n);const y=iw.open(a.db,n,d?"readonly":"readwrite",o),w=i(y).next(D=>(y.V(),D)).catch(D=>(y.abort(D),ce.reject(D))).toPromise();return w.catch(()=>{}),yield y.v,w}catch(y){const w=y,D="FirebaseError"!==w.name&&p<3;if(Ve("SimpleDb","Transaction failed with error:",w.message,"Retrying:",D),a.close(),!D)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class IP{constructor(n){this.U=n,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(n){this.U=n}done(){this.q=!0}j(n){this.K=n}delete(){return sp(this.U.delete())}}class Wy extends Re{constructor(n,t){super(_e.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function hd(r){return"IndexedDbTransactionError"===r.name}class EP{constructor(n){this.store=n}put(n,t){let o;return void 0!==t?(Ve("SimpleDb","PUT",this.store.name,n,t),o=this.store.put(t,n)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",n),o=this.store.put(n)),sp(o)}add(n){return Ve("SimpleDb","ADD",this.store.name,n,n),sp(this.store.add(n))}get(n){return sp(this.store.get(n)).next(t=>(void 0===t&&(t=null),Ve("SimpleDb","GET",this.store.name,n,t),t))}delete(n){return Ve("SimpleDb","DELETE",this.store.name,n),sp(this.store.delete(n))}count(){return Ve("SimpleDb","COUNT",this.store.name),sp(this.store.count())}W(n,t){const o=this.options(n,t);if(o.index||"function"!=typeof this.store.getAll){const i=this.cursor(o),a=[];return this.H(i,(d,p)=>{a.push(p)}).next(()=>a)}{const i=this.store.getAll(o.range);return new ce((a,d)=>{i.onerror=p=>{d(p.target.error)},i.onsuccess=p=>{a(p.target.result)}})}}J(n,t){const o=this.store.getAll(n,null===t?void 0:t);return new ce((i,a)=>{o.onerror=d=>{a(d.target.error)},o.onsuccess=d=>{i(d.target.result)}})}Y(n,t){Ve("SimpleDb","DELETE ALL",this.store.name);const o=this.options(n,t);o.X=!1;const i=this.cursor(o);return this.H(i,(a,d,p)=>p.delete())}Z(n,t){let o;t?o=n:(o={},t=n);const i=this.cursor(o);return this.H(i,t)}tt(n){const t=this.cursor({});return new ce((o,i)=>{t.onerror=a=>{const d=OD(a.target.error);i(d)},t.onsuccess=a=>{const d=a.target.result;d?n(d.primaryKey,d.value).next(p=>{p?d.continue():o()}):o()}})}H(n,t){const o=[];return new ce((i,a)=>{n.onerror=d=>{a(d.target.error)},n.onsuccess=d=>{const p=d.target.result;if(!p)return void i();const y=new IP(p),w=t(p.primaryKey,p.value,y);if(w instanceof ce){const D=w.catch(x=>(y.done(),ce.reject(x)));o.push(D)}y.isDone?i():null===y.G?p.continue():p.continue(y.G)}}).next(()=>ce.waitFor(o))}options(n,t){let o;return void 0!==n&&("string"==typeof n?o=n:t=n),{index:o,range:t}}cursor(n){let t="next";if(n.reverse&&(t="prev"),n.index){const o=this.store.index(n.index);return n.X?o.openKeyCursor(n.range,t):o.openCursor(n.range,t)}return this.store.openCursor(n.range,t)}}function sp(r){return new ce((n,t)=>{r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{const i=OD(o.target.error);t(i)}})}let ek=!1;function OD(r){const n=Ya.D((0,Cn.z$)());if(n>=12.2&&n<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ek||(ek=!0,setTimeout(()=>{throw o},0)),o}}return r}class DP{constructor(n,t){this.asyncQueue=n,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(n){var t=this;Ve("IndexBackiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,Te.Z)(function*(){t.task=null;try{Ve("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){hd(o)?Ve("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield dd(o)}yield t.nt(6e4)}))}}class SP{constructor(n,t){this.localStore=n,this.persistence=t}st(n=50){var t=this;return(0,Te.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,n))})()}it(n,t){const o=new Set;let i=t,a=!0;return ce.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(d=>{if(null!==d&&!o.has(d))return Ve("IndexBackiller",`Processing collection: ${d}`),this.rt(n,d,i).next(p=>{i-=p,o.add(d)});a=!1})).next(()=>t-i)}rt(n,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,t).next(i=>this.localStore.localDocuments.getNextDocuments(n,t,i,o).next(a=>{const d=a.changes;return this.localStore.indexManager.updateIndexEntries(n,d).next(()=>this.ot(i,a)).next(p=>(Ve("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(n,t,p))).next(()=>d.size)}))}ot(n,t){let o=n;return t.changes.forEach((i,a)=>{const d=KZ(a);PD(d,o)>0&&(o=d)}),new Is(o.readTime,o.documentKey,Math.max(t.batchId,n.largestBatchId))}}class Bi{constructor(n,t){this.previousValue=n,t&&(t.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>t.writeSequenceNumber(o))}ut(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ct&&this.ct(n),n}}function tk(r){let n=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&n++;return n}function ap(r,n){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&n(t,r[t])}function nk(r){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n))return!1;return!0}Bi.at=-1;class br{constructor(n,t){this.comparator=n,this.root=t||Ro.EMPTY}insert(n,t){return new br(this.comparator,this.root.insert(n,t,this.comparator).copy(null,null,Ro.BLACK,null,null))}remove(n){return new br(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Ro.BLACK,null,null))}get(n){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(n,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(n){let t=0,o=this.root;for(;!o.isEmpty();){const i=this.comparator(n,o.key);if(0===i)return t+o.left.size;i<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((t,o)=>(n(t,o),!1))}toString(){const n=[];return this.inorderTraversal((t,o)=>(n.push(`${t}:${o}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new sw(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new sw(this.root,n,this.comparator,!1)}getReverseIterator(){return new sw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new sw(this.root,n,this.comparator,!0)}}class sw{constructor(n,t,o,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!n.isEmpty();)if(a=t?o(n.key,t):1,t&&i&&(a*=-1),a<0)n=this.isReverse?n.left:n.right;else{if(0===a){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const t={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Ro{constructor(n,t,o,i,a){this.key=n,this.value=t,this.color=null!=o?o:Ro.RED,this.left=null!=i?i:Ro.EMPTY,this.right=null!=a?a:Ro.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,t,o,i,a){return new Ro(null!=n?n:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,t,o){let i=this;const a=o(n,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(n,t,o),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(n,t,o)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ro.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,t){let o,i=this;if(t(n,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(n,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(n,i.key)){if(i.right.isEmpty())return Ro.EMPTY;o=i.right.min(),i=i.copy(o.key,o.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(n,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Ro.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Ro.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,t)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const n=this.left.check();if(n!==this.right.check())throw ht();return n+(this.isRed()?0:1)}}Ro.EMPTY=null,Ro.RED=!0,Ro.BLACK=!1,Ro.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(r,n,t,o,i){return this}insert(r,n,t){return new Ro(r,n)}remove(r,n){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ln{constructor(n){this.comparator=n,this.data=new br(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((t,o)=>(n(t),!1))}forEachInRange(n,t){const o=this.data.getIteratorFrom(n[0]);for(;o.hasNext();){const i=o.getNext();if(this.comparator(i.key,n[1])>=0)return;t(i.key)}}forEachWhile(n,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!n(o.getNext().key))return}firstAfterOrEqual(n){const t=this.data.getIteratorFrom(n);return t.hasNext()?t.getNext().key:null}getIterator(){return new rk(this.data.getIterator())}getIteratorFrom(n){return new rk(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let t=this;return t.size<n.size&&(t=n,n=this),n.forEach(o=>{t=t.add(o)}),t}isEqual(n){if(!(n instanceof Ln)||this.size!==n.size)return!1;const t=this.data.getIterator(),o=n.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=o.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const n=[];return this.forEach(t=>{n.push(t)}),n}toString(){const n=[];return this.forEach(t=>n.push(t)),"SortedSet("+n.toString()+")"}copy(n){const t=new Ln(this.comparator);return t.data=n,t}}class rk{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Zf(r){return r.hasNext()?r.getNext():void 0}class Es{constructor(n){this.fields=n,n.sort(wr.comparator)}static empty(){return new Es([])}unionWith(n){let t=new Ln(wr.comparator);for(const o of this.fields)t=t.add(o);for(const o of n)t=t.add(o);return new Es(t.toArray())}covers(n){for(const t of this.fields)if(t.isPrefixOf(n))return!0;return!1}isEqual(n){return xf(this.fields,n.fields,(t,o)=>t.isEqual(o))}}class io{constructor(n){this.binaryString=n}static fromBase64String(n){const t=atob(n);return new io(t)}static fromUint8Array(n){const t=function(o){let i="";for(let a=0;a<o.length;++a)i+=String.fromCharCode(o[a]);return i}(n);return new io(t)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const t=new Uint8Array(n.length);for(let o=0;o<n.length;o++)t[o]=n.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Qt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}io.EMPTY_BYTE_STRING=new io("");const ZP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pd(r){if(Pt(!!r),"string"==typeof r){let n=0;const t=ZP.exec(r);if(Pt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),n=Number(i)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:n}}return{seconds:Ar(r.seconds),nanos:Ar(r.nanos)}}function Ar(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function lp(r){return"string"==typeof r?io.fromBase64String(r):io.fromUint8Array(r)}function LD(r){var n,t;return"server_timestamp"===(null===(t=((null===(n=null==r?void 0:r.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ok(r){const n=r.mapValue.fields.__previous_value__;return LD(n)?ok(n):n}function Qy(r){const n=pd(r.mapValue.fields.__local_write_time__.timestampValue);return new lr(n.seconds,n.nanos)}class kP{constructor(n,t,o,i,a,d,p,y){this.databaseId=n,this.appId=t,this.persistenceKey=o,this.host=i,this.ssl=a,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.useFetchStreams=y}}class gd{constructor(n,t){this.projectId=n,this.database=t||"(default)"}static empty(){return new gd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof gd&&n.projectId===this.projectId&&n.database===this.database}}function zy(r){return null==r}function Ky(r){return 0===r&&1/r==-1/0}function ik(r){return"number"==typeof r&&Number.isInteger(r)&&!Ky(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const fd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},aw={nullValue:"NULL_VALUE"};function up(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?LD(r)?4:uk(r)?9007199254740991:10:ht()}function jl(r,n){if(r===n)return!0;const t=up(r);if(t!==up(n))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===n.booleanValue;case 4:return Qy(r).isEqual(Qy(n));case 3:return function(o,i){if("string"==typeof o.timestampValue&&"string"==typeof i.timestampValue&&o.timestampValue.length===i.timestampValue.length)return o.timestampValue===i.timestampValue;const a=pd(o.timestampValue),d=pd(i.timestampValue);return a.seconds===d.seconds&&a.nanos===d.nanos}(r,n);case 5:return r.stringValue===n.stringValue;case 6:return i=n,lp(r.bytesValue).isEqual(lp(i.bytesValue));case 7:return r.referenceValue===n.referenceValue;case 8:return function(o,i){return Ar(o.geoPointValue.latitude)===Ar(i.geoPointValue.latitude)&&Ar(o.geoPointValue.longitude)===Ar(i.geoPointValue.longitude)}(r,n);case 2:return function(o,i){if("integerValue"in o&&"integerValue"in i)return Ar(o.integerValue)===Ar(i.integerValue);if("doubleValue"in o&&"doubleValue"in i){const a=Ar(o.doubleValue),d=Ar(i.doubleValue);return a===d?Ky(a)===Ky(d):isNaN(a)&&isNaN(d)}return!1}(r,n);case 9:return xf(r.arrayValue.values||[],n.arrayValue.values||[],jl);case 10:return function(o,i){const a=o.mapValue.fields||{},d=i.mapValue.fields||{};if(tk(a)!==tk(d))return!1;for(const p in a)if(a.hasOwnProperty(p)&&(void 0===d[p]||!jl(a[p],d[p])))return!1;return!0}(r,n);default:return ht()}var i}function Yy(r,n){return void 0!==(r.values||[]).find(t=>jl(t,n))}function _d(r,n){if(r===n)return 0;const t=up(r),o=up(n);if(t!==o)return Qt(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qt(r.booleanValue,n.booleanValue);case 2:return function(i,a){const d=Ar(i.integerValue||i.doubleValue),p=Ar(a.integerValue||a.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,n);case 3:return sk(r.timestampValue,n.timestampValue);case 4:return sk(Qy(r),Qy(n));case 5:return Qt(r.stringValue,n.stringValue);case 6:return function(i,a){const d=lp(i),p=lp(a);return d.compareTo(p)}(r.bytesValue,n.bytesValue);case 7:return function(i,a){const d=i.split("/"),p=a.split("/");for(let y=0;y<d.length&&y<p.length;y++){const w=Qt(d[y],p[y]);if(0!==w)return w}return Qt(d.length,p.length)}(r.referenceValue,n.referenceValue);case 8:return function(i,a){const d=Qt(Ar(i.latitude),Ar(a.latitude));return 0!==d?d:Qt(Ar(i.longitude),Ar(a.longitude))}(r.geoPointValue,n.geoPointValue);case 9:return function(i,a){const d=i.values||[],p=a.values||[];for(let y=0;y<d.length&&y<p.length;++y){const w=_d(d[y],p[y]);if(w)return w}return Qt(d.length,p.length)}(r.arrayValue,n.arrayValue);case 10:return function(i,a){if(i===fd.mapValue&&a===fd.mapValue)return 0;if(i===fd.mapValue)return 1;if(a===fd.mapValue)return-1;const d=i.fields||{},p=Object.keys(d),y=a.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let D=0;D<p.length&&D<w.length;++D){const x=Qt(p[D],w[D]);if(0!==x)return x;const F=_d(d[p[D]],y[w[D]]);if(0!==F)return F}return Qt(p.length,w.length)}(r.mapValue,n.mapValue);default:throw ht()}}function sk(r,n){if("string"==typeof r&&"string"==typeof n&&r.length===n.length)return Qt(r,n);const t=pd(r),o=pd(n),i=Qt(t.seconds,o.seconds);return 0!==i?i:Qt(t.nanos,o.nanos)}function kf(r){return FD(r)}function FD(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const i=pd(o);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?lp(r.bytesValue).toBase64():"referenceValue"in r?ze.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(n=r.geoPointValue).latitude},${n.longitude})`:"arrayValue"in r?function(o){let i="[",a=!0;for(const d of o.values||[])a?a=!1:i+=",",i+=FD(d);return i+"]"}(r.arrayValue):"mapValue"in r?function(o){const i=Object.keys(o.fields||{}).sort();let a="{",d=!0;for(const p of i)d?d=!1:a+=",",a+=`${p}:${FD(o.fields[p])}`;return a+"}"}(r.mapValue):ht();var n}function cp(r,n){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${n.path.canonicalString()}`}}function qD(r){return!!r&&"integerValue"in r}function Xy(r){return!!r&&"arrayValue"in r}function ak(r){return!!r&&"nullValue"in r}function lk(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function lw(r){return!!r&&"mapValue"in r}function ev(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const n={mapValue:{fields:{}}};return ap(r.mapValue.fields,(t,o)=>n.mapValue.fields[t]=ev(o)),n}if(r.arrayValue){const n={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)n.arrayValue.values[t]=ev(r.arrayValue.values[t]);return n}return Object.assign({},r)}function uk(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function NP(r){return"nullValue"in r?aw:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?cp(gd.empty(),ze.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:ht()}function UP(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?cp(gd.empty(),ze.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?fd:ht()}function ck(r,n){const t=_d(r.value,n.value);return 0!==t?t:r.inclusive&&!n.inclusive?-1:!r.inclusive&&n.inclusive?1:0}function dk(r,n){const t=_d(r.value,n.value);return 0!==t?t:r.inclusive&&!n.inclusive?1:!r.inclusive&&n.inclusive?-1:0}class Oo{constructor(n){this.value=n}static empty(){return new Oo({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let t=this.value;for(let o=0;o<n.length-1;++o)if(t=(t.mapValue.fields||{})[n.get(o)],!lw(t))return null;return t=(t.mapValue.fields||{})[n.lastSegment()],t||null}}set(n,t){this.getFieldsMap(n.popLast())[n.lastSegment()]=ev(t)}setAll(n){let t=wr.emptyPath(),o={},i=[];n.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,o,i),o={},i=[],t=p.popLast()}d?o[p.lastSegment()]=ev(d):i.push(p.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,o,i)}delete(n){const t=this.field(n.popLast());lw(t)&&t.mapValue.fields&&delete t.mapValue.fields[n.lastSegment()]}isEqual(n){return jl(this.value,n.value)}getFieldsMap(n){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<n.length;++o){let i=t.mapValue.fields[n.get(o)];lw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[n.get(o)]=i),t=i}return t.mapValue.fields}applyChanges(n,t,o){ap(t,(i,a)=>n[i]=a);for(const i of o)delete n[i]}clone(){return new Oo(ev(this.value))}}function hk(r){const n=[];return ap(r.fields,(t,o)=>{const i=new wr([t]);if(lw(o)){const a=hk(o.mapValue).fields;if(0===a.length)n.push(i);else for(const d of a)n.push(i.child(d))}else n.push(i)}),new Es(n)}class Jn{constructor(n,t,o,i,a,d){this.key=n,this.documentType=t,this.version=o,this.readTime=i,this.data=a,this.documentState=d}static newInvalidDocument(n){return new Jn(n,0,Rt.min(),Rt.min(),Oo.empty(),0)}static newFoundDocument(n,t,o){return new Jn(n,1,t,Rt.min(),o,0)}static newNoDocument(n,t){return new Jn(n,2,t,Rt.min(),Oo.empty(),0)}static newUnknownDocument(n,t){return new Jn(n,3,t,Rt.min(),Oo.empty(),2)}convertToFoundDocument(n,t){return this.version=n,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Oo.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Jn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Jn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class MP{constructor(n,t=null,o=[],i=[],a=null,d=null,p=null){this.path=n,this.collectionGroup=t,this.orderBy=o,this.filters=i,this.limit=a,this.startAt=d,this.endAt=p,this.ht=null}}function pk(r,n=null,t=[],o=[],i=null,a=null,d=null){return new MP(r,n,t,o,i,a,d)}function dp(r){const n=tt(r);if(null===n.ht){let t=n.path.canonicalString();null!==n.collectionGroup&&(t+="|cg:"+n.collectionGroup),t+="|f:",t+=n.filters.map(o=>{return(i=o).field.canonicalString()+i.op.toString()+kf(i.value);var i}).join(","),t+="|ob:",t+=n.orderBy.map(o=>{return(i=o).field.canonicalString()+i.dir;var i}).join(","),zy(n.limit)||(t+="|l:",t+=n.limit),n.startAt&&(t+="|lb:",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(o=>kf(o)).join(",")),n.endAt&&(t+="|ub:",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(o=>kf(o)).join(",")),n.ht=t}return n.ht}function tv(r,n){if(r.limit!==n.limit||r.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!jP(r.orderBy[i],n.orderBy[i]))return!1;if(r.filters.length!==n.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if((t=r.filters[i]).op!==(o=n.filters[i]).op||!t.field.isEqual(o.field)||!jl(t.value,o.value))return!1;var t,o;return r.collectionGroup===n.collectionGroup&&!!r.path.isEqual(n.path)&&!!yk(r.startAt,n.startAt)&&yk(r.endAt,n.endAt)}function uw(r){return ze.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function cw(r,n){return r.filters.filter(t=>t instanceof Lo&&t.field.isEqual(n))}function gk(r,n,t){let o=aw,i=!0;for(const a of cw(r,n)){let d=aw,p=!0;switch(a.op){case"<":case"<=":d=NP(a.value);break;case"==":case"in":case">=":d=a.value;break;case">":d=a.value,p=!1;break;case"!=":case"not-in":d=aw}ck({value:o,inclusive:i},{value:d,inclusive:p})<0&&(o=d,i=p)}if(null!==t)for(let a=0;a<r.orderBy.length;++a)if(r.orderBy[a].field.isEqual(n)){const d=t.position[a];ck({value:o,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(o=d,i=t.inclusive);break}return{value:o,inclusive:i}}function fk(r,n,t){let o=fd,i=!0;for(const a of cw(r,n)){let d=fd,p=!0;switch(a.op){case">=":case">":d=UP(a.value),p=!1;break;case"==":case"in":case"<=":d=a.value;break;case"<":d=a.value,p=!1;break;case"!=":case"not-in":d=fd}dk({value:o,inclusive:i},{value:d,inclusive:p})>0&&(o=d,i=p)}if(null!==t)for(let a=0;a<r.orderBy.length;++a)if(r.orderBy[a].field.isEqual(n)){const d=t.position[a];dk({value:o,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(o=d,i=t.inclusive);break}return{value:o,inclusive:i}}class Lo extends class{}{constructor(n,t,o){super(),this.field=n,this.op=t,this.value=o}static create(n,t,o){return n.isKeyField()?"in"===t||"not-in"===t?this.lt(n,t,o):new RP(n,t,o):"array-contains"===t?new FP(n,o):"in"===t?new qP(n,o):"not-in"===t?new VP(n,o):"array-contains-any"===t?new BP(n,o):new Lo(n,t,o)}static lt(n,t,o){return"in"===t?new OP(n,o):new LP(n,o)}matches(n){const t=n.data.field(this.field);return"!="===this.op?null!==t&&this.ft(_d(t,this.value)):null!==t&&up(this.value)===up(t)&&this.ft(_d(t,this.value))}ft(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return ht()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class RP extends Lo{constructor(n,t,o){super(n,t,o),this.key=ze.fromName(o.referenceValue)}matches(n){const t=ze.comparator(n.key,this.key);return this.ft(t)}}class OP extends Lo{constructor(n,t){super(n,"in",t),this.keys=_k(0,t)}matches(n){return this.keys.some(t=>t.isEqual(n.key))}}class LP extends Lo{constructor(n,t){super(n,"not-in",t),this.keys=_k(0,t)}matches(n){return!this.keys.some(t=>t.isEqual(n.key))}}function _k(r,n){var t;return((null===(t=n.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>ze.fromName(o.referenceValue))}class FP extends Lo{constructor(n,t){super(n,"array-contains",t)}matches(n){const t=n.data.field(this.field);return Xy(t)&&Yy(t.arrayValue,this.value)}}class qP extends Lo{constructor(n,t){super(n,"in",t)}matches(n){const t=n.data.field(this.field);return null!==t&&Yy(this.value.arrayValue,t)}}class VP extends Lo{constructor(n,t){super(n,"not-in",t)}matches(n){if(Yy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=n.data.field(this.field);return null!==t&&!Yy(this.value.arrayValue,t)}}class BP extends Lo{constructor(n,t){super(n,"array-contains-any",t)}matches(n){const t=n.data.field(this.field);return!(!Xy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Yy(this.value.arrayValue,o))}}class md{constructor(n,t){this.position=n,this.inclusive=t}}class Nf{constructor(n,t="asc"){this.field=n,this.dir=t}}function jP(r,n){return r.dir===n.dir&&r.field.isEqual(n.field)}function mk(r,n,t){let o=0;for(let i=0;i<r.position.length;i++){const a=n[i],d=r.position[i];if(o=a.field.isKeyField()?ze.comparator(ze.fromName(d.referenceValue),t.key):_d(d,t.data.field(a.field)),"desc"===a.dir&&(o*=-1),0!==o)break}return o}function yk(r,n){if(null===r)return null===n;if(null===n||r.inclusive!==n.inclusive||r.position.length!==n.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!jl(r.position[t],n.position[t]))return!1;return!0}class Ku{constructor(n,t=null,o=[],i=[],a=null,d="F",p=null,y=null){this.path=n,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=i,this.limit=a,this.limitType=d,this.startAt=p,this.endAt=y,this._t=null,this.wt=null}}function vk(r,n,t,o,i,a,d,p){return new Ku(r,n,t,o,i,a,d,p)}function Uf(r){return new Ku(r)}function Ck(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function VD(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function BD(r){for(const n of r.filters)if(n.dt())return n.field;return null}function jD(r){return null!==r.collectionGroup}function Mf(r){const n=tt(r);if(null===n._t){n._t=[];const t=BD(n),o=VD(n);if(null!==t&&null===o)t.isKeyField()||n._t.push(new Nf(t)),n._t.push(new Nf(wr.keyField(),"asc"));else{let i=!1;for(const a of n.explicitOrderBy)n._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n._t.push(new Nf(wr.keyField(),a))}}}return n._t}function yi(r){const n=tt(r);if(!n.wt)if("F"===n.limitType)n.wt=pk(n.path,n.collectionGroup,Mf(n),n.filters,n.limit,n.startAt,n.endAt);else{const t=[];for(const a of Mf(n))t.push(new Nf(a.field,"desc"===a.dir?"asc":"desc"));const o=n.endAt?new md(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new md(n.startAt.position,n.startAt.inclusive):null;n.wt=pk(n.path,n.collectionGroup,t,n.filters,n.limit,o,i)}return n.wt}function dw(r,n,t){return new Ku(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),n,t,r.startAt,r.endAt)}function nv(r,n){return tv(yi(r),yi(n))&&r.limitType===n.limitType}function Tk(r){return`${dp(yi(r))}|lt:${r.limitType}`}function $D(r){return`Query(target=${function PP(r){let n=r.path.canonicalString();return null!==r.collectionGroup&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${kf(o.value)}`;var o}).join(", ")}]`),zy(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(t=>kf(t)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(t=>kf(t)).join(",")),`Target(${n})`}(yi(r))}; limitType=${r.limitType})`}function GD(r,n){return n.isFoundDocument()&&function(t,o){const i=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):ze.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(r,n)&&function(t,o){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===o.data.field(i.field))return!1;return!0}(r,n)&&function(t,o){for(const i of t.filters)if(!i.matches(o))return!1;return!0}(r,n)&&(o=n,!((t=r).startAt&&!function(i,a,d){const p=mk(i,a,d);return i.inclusive?p<=0:p<0}(t.startAt,Mf(t),o)||t.endAt&&!function(i,a,d){const p=mk(i,a,d);return i.inclusive?p>=0:p>0}(t.endAt,Mf(t),o)));var t,o}function wk(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function bk(r){return(n,t)=>{let o=!1;for(const i of Mf(r)){const a=$P(i,n,t);if(0!==a)return a;o=o||i.field.isKeyField()}return 0}}function $P(r,n,t){const o=r.field.isKeyField()?ze.comparator(n.key,t.key):function(i,a,d){const p=a.data.field(i),y=d.data.field(i);return null!==p&&null!==y?_d(p,y):ht()}(r.field,n,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return ht()}}function Ak(r,n){if(r.gt){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ky(n)?"-0":n}}function Ik(r){return{integerValue:""+r}}function Ek(r,n){return ik(n)?Ik(n):Ak(r,n)}class hw{constructor(){this._=void 0}}function GP(r,n,t){return r instanceof Pf?function(o,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,n):r instanceof hp?Sk(r,n):r instanceof pp?xk(r,n):function(o,i){const a=Dk(o,i),d=Zk(a)+Zk(o.yt);return qD(a)&&qD(o.yt)?Ik(d):Ak(o.It,d)}(r,n)}function HP(r,n,t){return r instanceof hp?Sk(r,n):r instanceof pp?xk(r,n):t}function Dk(r,n){return r instanceof Rf?qD(t=n)||(o=t)&&"doubleValue"in o?n:{integerValue:0}:null;var o,t}class Pf extends hw{}class hp extends hw{constructor(n){super(),this.elements=n}}function Sk(r,n){const t=kk(n);for(const o of r.elements)t.some(i=>jl(i,o))||t.push(o);return{arrayValue:{values:t}}}class pp extends hw{constructor(n){super(),this.elements=n}}function xk(r,n){let t=kk(n);for(const o of r.elements)t=t.filter(i=>!jl(i,o));return{arrayValue:{values:t}}}class Rf extends hw{constructor(n,t){super(),this.It=n,this.yt=t}}function Zk(r){return Ar(r.integerValue||r.doubleValue)}function kk(r){return Xy(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class rv{constructor(n,t){this.field=n,this.transform=t}}class WP{constructor(n,t){this.version=n,this.transformResults=t}}class ur{constructor(n,t){this.updateTime=n,this.exists=t}static none(){return new ur}static exists(n){return new ur(void 0,n)}static updateTime(n){return new ur(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function pw(r,n){return void 0!==r.updateTime?n.isFoundDocument()&&n.version.isEqual(r.updateTime):void 0===r.exists||r.exists===n.isFoundDocument()}class gw{}function Nk(r,n){if(!r.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return r.isNoDocument()?new Lf(r.key,ur.none()):new Of(r.key,r.data,ur.none());{const t=r.data,o=Oo.empty();let i=new Ln(wr.comparator);for(let a of n.fields)if(!i.has(a)){let d=t.field(a);null===d&&a.length>1&&(a=a.popLast(),d=t.field(a)),null===d?o.delete(a):o.set(a,d),i=i.add(a)}return new Yu(r.key,o,new Es(i.toArray()),ur.none())}}function QP(r,n,t){r instanceof Of?function(o,i,a){const d=o.value.clone(),p=Pk(o.fieldTransforms,i,a.transformResults);d.setAll(p),i.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(r,n,t):r instanceof Yu?function(o,i,a){if(!pw(o.precondition,i))return void i.convertToUnknownDocument(a.version);const d=Pk(o.fieldTransforms,i,a.transformResults),p=i.data;p.setAll(Mk(o)),p.setAll(d),i.convertToFoundDocument(a.version,p).setHasCommittedMutations()}(r,n,t):n.convertToNoDocument(t.version).setHasCommittedMutations()}function ov(r,n,t,o){return r instanceof Of?function(i,a,d,p){if(!pw(i.precondition,a))return d;const y=i.value.clone(),w=Rk(i.fieldTransforms,p,a);return y.setAll(w),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(r,n,t,o):r instanceof Yu?function(i,a,d,p){if(!pw(i.precondition,a))return d;const y=Rk(i.fieldTransforms,p,a),w=a.data;return w.setAll(Mk(i)),w.setAll(y),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(r,n,t,o):(d=t,pw(r.precondition,a=n)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):d);var a,d}function zP(r,n){let t=null;for(const o of r.fieldTransforms){const i=n.data.field(o.field),a=Dk(o.transform,i||null);null!=a&&(null===t&&(t=Oo.empty()),t.set(o.field,a))}return t||null}function Uk(r,n){return r.type===n.type&&!!r.key.isEqual(n.key)&&!!r.precondition.isEqual(n.precondition)&&(o=n.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&xf(t,o,(i,a)=>function JP(r,n){return r.field.isEqual(n.field)&&(o=n.transform,(t=r.transform)instanceof hp&&o instanceof hp||t instanceof pp&&o instanceof pp?xf(t.elements,o.elements,jl):t instanceof Rf&&o instanceof Rf?jl(t.yt,o.yt):t instanceof Pf&&o instanceof Pf);var t,o}(i,a))))&&(0===r.type?r.value.isEqual(n.value):1!==r.type||r.data.isEqual(n.data)&&r.fieldMask.isEqual(n.fieldMask));var t,o}class Of extends gw{constructor(n,t,o,i=[]){super(),this.key=n,this.value=t,this.precondition=o,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yu extends gw{constructor(n,t,o,i,a=[]){super(),this.key=n,this.data=t,this.fieldMask=o,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Mk(r){const n=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);n.set(t,o)}}),n}function Pk(r,n,t){const o=new Map;Pt(r.length===t.length);for(let i=0;i<t.length;i++){const a=r[i],d=a.transform,p=n.data.field(a.field);o.set(a.field,HP(d,p,t[i]))}return o}function Rk(r,n,t){const o=new Map;for(const i of r){const a=i.transform,d=t.data.field(i.field);o.set(i.field,GP(a,d,n))}return o}class Lf extends gw{constructor(n,t){super(),this.key=n,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HD extends gw{constructor(n,t){super(),this.key=n,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KP{constructor(n){this.count=n}}var jr,wn;function Ok(r){switch(r){default:return ht();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function Lk(r){if(void 0===r)return Ur("GRPC error has no .code"),_e.UNKNOWN;switch(r){case jr.OK:return _e.OK;case jr.CANCELLED:return _e.CANCELLED;case jr.UNKNOWN:return _e.UNKNOWN;case jr.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case jr.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case jr.INTERNAL:return _e.INTERNAL;case jr.UNAVAILABLE:return _e.UNAVAILABLE;case jr.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case jr.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case jr.NOT_FOUND:return _e.NOT_FOUND;case jr.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case jr.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case jr.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case jr.ABORTED:return _e.ABORTED;case jr.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case jr.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case jr.DATA_LOSS:return _e.DATA_LOSS;default:return ht()}}(wn=jr||(jr={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";class yd{constructor(n,t){this.mapKeyFn=n,this.equalsFn=t,this.inner={},this.innerSize=0}get(n){const t=this.mapKeyFn(n),o=this.inner[t];if(void 0!==o)for(const[i,a]of o)if(this.equalsFn(i,n))return a}has(n){return void 0!==this.get(n)}set(n,t){const o=this.mapKeyFn(n),i=this.inner[o];if(void 0===i)return this.inner[o]=[[n,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],n))return void(i[a]=[n,t]);i.push([n,t]),this.innerSize++}delete(n){const t=this.mapKeyFn(n),o=this.inner[t];if(void 0===o)return!1;for(let i=0;i<o.length;i++)if(this.equalsFn(o[i][0],n))return 1===o.length?delete this.inner[t]:o.splice(i,1),this.innerSize--,!0;return!1}forEach(n){ap(this.inner,(t,o)=>{for(const[i,a]of o)n(i,a)})}isEmpty(){return nk(this.inner)}size(){return this.innerSize}}const YP=new br(ze.comparator);function ji(){return YP}const Fk=new br(ze.comparator);function iv(...r){let n=Fk;for(const t of r)n=n.insert(t.key,t);return n}function qk(r){let n=Fk;return r.forEach((t,o)=>n=n.insert(t,o.overlayedDocument)),n}function $l(){return sv()}function Vk(){return sv()}function sv(){return new yd(r=>r.toString(),(r,n)=>r.isEqual(n))}const XP=new br(ze.comparator),eR=new Ln(ze.comparator);function en(...r){let n=eR;for(const t of r)n=n.add(t);return n}const tR=new Ln(Qt);function fw(){return tR}class av{constructor(n,t,o,i,a){this.snapshotVersion=n,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(n,t,o){const i=new Map;return i.set(n,lv.createSynthesizedTargetChangeForCurrentChange(n,t,o)),new av(Rt.min(),i,fw(),ji(),en())}}class lv{constructor(n,t,o,i,a){this.resumeToken=n,this.current=t,this.addedDocuments=o,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(n,t,o){return new lv(o,t,en(),en(),en())}}class _w{constructor(n,t,o,i){this.Tt=n,this.removedTargetIds=t,this.key=o,this.Et=i}}class Bk{constructor(n,t){this.targetId=n,this.At=t}}class jk{constructor(n,t,o=io.EMPTY_BYTE_STRING,i=null){this.state=n,this.targetIds=t,this.resumeToken=o,this.cause=i}}class $k{constructor(){this.Rt=0,this.bt=Hk(),this.Pt=io.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(n){n.approximateByteSize()>0&&(this.Vt=!0,this.Pt=n)}xt(){let n=en(),t=en(),o=en();return this.bt.forEach((i,a)=>{switch(a){case 0:n=n.add(i);break;case 2:t=t.add(i);break;case 1:o=o.add(i);break;default:ht()}}),new lv(this.Pt,this.vt,n,t,o)}Nt(){this.Vt=!1,this.bt=Hk()}kt(n,t){this.Vt=!0,this.bt=this.bt.insert(n,t)}Ot(n){this.Vt=!0,this.bt=this.bt.remove(n)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class nR{constructor(n){this.Bt=n,this.Lt=new Map,this.Ut=ji(),this.qt=Gk(),this.Kt=new Ln(Qt)}Gt(n){for(const t of n.Tt)n.Et&&n.Et.isFoundDocument()?this.Qt(t,n.Et):this.jt(t,n.key,n.Et);for(const t of n.removedTargetIds)this.jt(t,n.key,n.Et)}Wt(n){this.forEachTarget(n,t=>{const o=this.zt(t);switch(n.state){case 0:this.Ht(t)&&o.Ct(n.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(n.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(o.$t(),o.Ct(n.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),o.Ct(n.resumeToken));break;default:ht()}})}forEachTarget(n,t){n.targetIds.length>0?n.targetIds.forEach(t):this.Lt.forEach((o,i)=>{this.Ht(i)&&t(i)})}Yt(n){const t=n.targetId,o=n.At.count,i=this.Xt(t);if(i){const a=i.target;if(uw(a))if(0===o){const d=new ze(a.path);this.jt(t,d,Jn.newNoDocument(d,Rt.min()))}else Pt(1===o);else this.Zt(t)!==o&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(n){const t=new Map;this.Lt.forEach((a,d)=>{const p=this.Xt(d);if(p){if(a.current&&uw(p.target)){const y=new ze(p.target.path);null!==this.Ut.get(y)||this.ee(d,y)||this.jt(d,y,Jn.newNoDocument(y,n))}a.Dt&&(t.set(d,a.xt()),a.Nt())}});let o=en();this.qt.forEach((a,d)=>{let p=!0;d.forEachWhile(y=>{const w=this.Xt(y);return!w||2===w.purpose||(p=!1,!1)}),p&&(o=o.add(a))}),this.Ut.forEach((a,d)=>d.setReadTime(n));const i=new av(n,t,this.Kt,this.Ut,o);return this.Ut=ji(),this.qt=Gk(),this.Kt=new Ln(Qt),i}Qt(n,t){if(!this.Ht(n))return;const o=this.ee(n,t.key)?2:0;this.zt(n).kt(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(n))}jt(n,t,o){if(!this.Ht(n))return;const i=this.zt(n);this.ee(n,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(n)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(n){this.Lt.delete(n)}Zt(n){const t=this.zt(n).xt();return this.Bt.getRemoteKeysForTarget(n).size+t.addedDocuments.size-t.removedDocuments.size}Mt(n){this.zt(n).Mt()}zt(n){let t=this.Lt.get(n);return t||(t=new $k,this.Lt.set(n,t)),t}ne(n){let t=this.qt.get(n);return t||(t=new Ln(Qt),this.qt=this.qt.insert(n,t)),t}Ht(n){const t=null!==this.Xt(n);return t||Ve("WatchChangeAggregator","Detected inactive target",n),t}Xt(n){const t=this.Lt.get(n);return t&&t.St?null:this.Bt.se(n)}Jt(n){this.Lt.set(n,new $k),this.Bt.getRemoteKeysForTarget(n).forEach(t=>{this.jt(n,t,null)})}ee(n,t){return this.Bt.getRemoteKeysForTarget(n).has(t)}}function Gk(){return new br(ze.comparator)}function Hk(){return new br(ze.comparator)}const rR={asc:"ASCENDING",desc:"DESCENDING"},oR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class iR{constructor(n,t){this.databaseId=n,this.gt=t}}function uv(r,n){return r.gt?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Jk(r,n){return r.gt?n.toBase64():n.toUint8Array()}function sR(r,n){return uv(r,n.toTimestamp())}function yo(r){return Pt(!!r),Rt.fromTimestamp(function(n){const t=pd(n);return new lr(t.seconds,t.nanos)}(r))}function JD(r,n){return(t=r,new Tn(["projects",t.projectId,"databases",t.database])).child("documents").child(n).canonicalString();var t}function Wk(r){const n=Tn.fromString(r);return Pt(nN(n)),n}function cv(r,n){return JD(r.databaseId,n.path)}function Gl(r,n){const t=Wk(n);if(t.get(1)!==r.databaseId.projectId)throw new Re(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Re(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ze(zk(t))}function WD(r,n){return JD(r.databaseId,n)}function Qk(r){const n=Wk(r);return 4===n.length?Tn.emptyPath():zk(n)}function dv(r){return new Tn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function zk(r){return Pt(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Kk(r,n,t){return{name:cv(r,n),fields:t.value.mapValue.fields}}function Yk(r,n,t){const o=Gl(r,n.name),i=yo(n.updateTime),a=new Oo({mapValue:{fields:n.fields}}),d=Jn.newFoundDocument(o,i,a);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function hv(r,n){let t;if(n instanceof Of)t={update:Kk(r,n.key,n.value)};else if(n instanceof Lf)t={delete:cv(r,n.key)};else if(n instanceof Yu)t={update:Kk(r,n.key,n.data),updateMask:fR(n.fieldMask)};else{if(!(n instanceof HD))return ht();t={verify:cv(r,n.key)}}return n.fieldTransforms.length>0&&(t.updateTransforms=n.fieldTransforms.map(o=>function(i,a){const d=a.transform;if(d instanceof Pf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof hp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof pp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Rf)return{fieldPath:a.field.canonicalString(),increment:d.yt};throw ht()}(0,o))),n.precondition.isNone||(t.currentDocument=void 0!==(i=n.precondition).updateTime?{updateTime:sR(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ht()),t;var i}function QD(r,n){const t=n.currentDocument?void 0!==(i=n.currentDocument).updateTime?ur.updateTime(yo(i.updateTime)):void 0!==i.exists?ur.exists(i.exists):ur.none():ur.none(),o=n.updateTransforms?n.updateTransforms.map(i=>function(a,d){let p=null;"setToServerValue"in d?(Pt("REQUEST_TIME"===d.setToServerValue),p=new Pf):"appendMissingElements"in d?p=new hp(d.appendMissingElements.values||[]):"removeAllFromArray"in d?p=new pp(d.removeAllFromArray.values||[]):"increment"in d?p=new Rf(a,d.increment):ht();const y=wr.fromServerFormat(d.fieldPath);return new rv(y,p)}(r,i)):[];var i;if(n.update){const i=Gl(r,n.update.name),a=new Oo({mapValue:{fields:n.update.fields}});if(n.updateMask){const d=new Es((n.updateMask.fieldPaths||[]).map(w=>wr.fromServerFormat(w)));return new Yu(i,a,d,t,o)}return new Of(i,a,t,o)}if(n.delete){const i=Gl(r,n.delete);return new Lf(i,t)}if(n.verify){const i=Gl(r,n.verify);return new HD(i,t)}return ht()}function Xk(r,n){return{documents:[WD(r,n.path)]}}function zD(r,n){const t={structuredQuery:{}},o=n.path;null!==n.collectionGroup?(t.parent=WD(r,o),t.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(t.parent=WD(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const i=function(y){if(0===y.length)return;const w=y.map(D=>function(x){if("=="===x.op){if(lk(x.value))return{unaryFilter:{field:Ff(x.field),op:"IS_NAN"}};if(ak(x.value))return{unaryFilter:{field:Ff(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(lk(x.value))return{unaryFilter:{field:Ff(x.field),op:"IS_NOT_NAN"}};if(ak(x.value))return{unaryFilter:{field:Ff(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ff(x.field),op:hR(x.op),value:x.value}}}(D));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(n.filters);i&&(t.structuredQuery.where=i);const a=function(y){if(0!==y.length)return y.map(w=>{return{field:Ff((D=w).field),direction:dR(D.dir)};var D})}(n.orderBy);a&&(t.structuredQuery.orderBy=a);const d=(w=n.limit,r.gt||zy(w)?w:{value:w});var w,p,y;return null!==d&&(t.structuredQuery.limit=d),n.startAt&&(t.structuredQuery.startAt={before:(p=n.startAt).inclusive,values:p.position}),n.endAt&&(t.structuredQuery.endAt={before:!(y=n.endAt).inclusive,values:y.position}),t}function eN(r){let n=Qk(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let i=null;if(o>0){Pt(1===o);const D=t.from[0];D.allDescendants?i=D.collectionId:n=n.child(D.collectionId)}let a=[];t.where&&(a=tN(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(D=>{return new Nf(qf((x=D).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let p=null;t.limit&&(p=function(D){let x;return x="object"==typeof D?D.value:D,zy(x)?null:x}(t.limit));let y=null;var D;t.startAt&&(y=new md((D=t.startAt).values||[],!!D.before));let w=null;return t.endAt&&(w=function(D){return new md(D.values||[],!D.before)}(t.endAt)),vk(n,i,d,a,p,"F",y,w)}function tN(r){return r?void 0!==r.unaryFilter?[gR(r)]:void 0!==r.fieldFilter?[pR(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(n=>tN(n)).reduce((n,t)=>n.concat(t)):ht():[]}function dR(r){return rR[r]}function hR(r){return oR[r]}function Ff(r){return{fieldPath:r.canonicalString()}}function qf(r){return wr.fromServerFormat(r.fieldPath)}function pR(r){return Lo.create(qf(r.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}}(r.fieldFilter.op),r.fieldFilter.value)}function gR(r){switch(r.unaryFilter.op){case"IS_NAN":const n=qf(r.unaryFilter.field);return Lo.create(n,"==",{doubleValue:NaN});case"IS_NULL":const t=qf(r.unaryFilter.field);return Lo.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qf(r.unaryFilter.field);return Lo.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=qf(r.unaryFilter.field);return Lo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ht()}}function fR(r){const n=[];return r.fields.forEach(t=>n.push(t.canonicalString())),{fieldPaths:n}}function nN(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function vi(r){let n="";for(let t=0;t<r.length;t++)n.length>0&&(n=rN(n)),n=_R(r.get(t),n);return rN(n)}function _R(r,n){let t=n;const o=r.length;for(let i=0;i<o;i++){const a=r.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function rN(r){return r+"\x01\x01"}function Hl(r){const n=r.length;if(Pt(n>=2),2===n)return Pt("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Tn.emptyPath();const t=n-2,o=[];let i="";for(let a=0;a<n;){const d=r.indexOf("\x01",a);switch((d<0||d>t)&&ht(),r.charAt(d+1)){case"\x01":const p=r.substring(a,d);let y;0===i.length?y=p:(i+=p,y=i,i=""),o.push(y);break;case"\x10":i+=r.substring(a,d),i+="\0";break;case"\x11":i+=r.substring(a,d+1);break;default:ht()}a=d+2}return new Tn(o)}const oN=["userId","batchId"];function mw(r,n){return[r,vi(n)]}function iN(r,n,t){return[r,vi(n),t]}const mR={},yR=["prefixPath","collectionGroup","readTime","documentId"],vR=["prefixPath","collectionGroup","documentId"],CR=["collectionGroup","readTime","prefixPath","documentId"],TR=["canonicalId","targetId"],wR=["targetId","path"],bR=["path","targetId"],AR=["collectionId","parent"],IR=["indexId","uid"],ER=["uid","sequenceNumber"],DR=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],SR=["indexId","uid","orderedDocumentKey"],xR=["userId","collectionPath","documentId"],ZR=["userId","collectionPath","largestBatchId"],kR=["userId","collectionGroup","largestBatchId"],sN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],NR=[...sN,"documentOverlays"],aN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lN=aN,UR=[...lN,"indexConfiguration","indexState","indexEntries"];class KD extends XZ{constructor(n,t){super(),this.ie=n,this.currentSequenceNumber=t}}function vo(r,n){const t=tt(r);return Ya.M(t.ie,n)}class YD{constructor(n,t,o,i){this.batchId=n,this.localWriteTime=t,this.baseMutations=o,this.mutations=i}applyToRemoteDocument(n,t){const o=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(n.key)&&QP(a,n,o[i])}}applyToLocalView(n,t){for(const o of this.baseMutations)o.key.isEqual(n.key)&&(t=ov(o,n,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(n.key)&&(t=ov(o,n,t,this.localWriteTime));return t}applyToLocalDocumentSet(n,t){const o=Vk();return this.mutations.forEach(i=>{const a=n.get(i.key),d=a.overlayedDocument;let p=this.applyToLocalView(d,a.mutatedFields);p=t.has(i.key)?null:p;const y=Nk(d,p);null!==y&&o.set(i.key,y),d.isValidDocument()||d.convertToNoDocument(Rt.min())}),o}keys(){return this.mutations.reduce((n,t)=>n.add(t.key),en())}isEqual(n){return this.batchId===n.batchId&&xf(this.mutations,n.mutations,(t,o)=>Uk(t,o))&&xf(this.baseMutations,n.baseMutations,(t,o)=>Uk(t,o))}}class XD{constructor(n,t,o,i){this.batch=n,this.commitVersion=t,this.mutationResults=o,this.docVersions=i}static from(n,t,o){Pt(n.mutations.length===o.length);let i=XP;const a=n.mutations;for(let d=0;d<a.length;d++)i=i.insert(a[d].key,o[d].version);return new XD(n,t,o,i)}}class eS{constructor(n,t){this.largestBatchId=n,this.mutation=t}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vd{constructor(n,t,o,i,a=Rt.min(),d=Rt.min(),p=io.EMPTY_BYTE_STRING){this.target=n,this.targetId=t,this.purpose=o,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p}withSequenceNumber(n){return new vd(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,t){return new vd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new vd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class uN{constructor(n){this.re=n}}function cN(r,n){const t=n.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:yw(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())o.document={name:cv(i=r.re,(a=n).key),fields:a.data.value.mapValue.fields,updateTime:uv(i,a.version.toTimestamp())};else if(n.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:gp(n.version)};else{if(!n.isUnknownDocument())return ht();o.unknownDocument={path:t.path.toArray(),version:gp(n.version)}}var i,a;return o}function yw(r){const n=r.toTimestamp();return[n.seconds,n.nanoseconds]}function gp(r){const n=r.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function fp(r){const n=new lr(r.seconds,r.nanoseconds);return Rt.fromTimestamp(n)}function _p(r,n){const t=(n.baseMutations||[]).map(a=>QD(r.re,a));for(let a=0;a<n.mutations.length-1;++a){const d=n.mutations[a];a+1<n.mutations.length&&void 0!==n.mutations[a+1].transform&&(d.updateTransforms=n.mutations[a+1].transform.fieldTransforms,n.mutations.splice(a+1,1),++a)}const o=n.mutations.map(a=>QD(r.re,a)),i=lr.fromMillis(n.localWriteTimeMs);return new YD(n.batchId,i,t,o)}function pv(r){const n=fp(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?fp(r.lastLimboFreeSnapshotVersion):Rt.min();let o;var i;return void 0!==r.query.documents?(Pt(1===(i=r.query).documents.length),o=yi(Uf(Qk(i.documents[0])))):o=yi(eN(r.query)),new vd(o,r.targetId,0,r.lastListenSequenceNumber,n,t,io.fromBase64String(r.resumeToken))}function dN(r,n){const t=gp(n.snapshotVersion),o=gp(n.lastLimboFreeSnapshotVersion);let i;i=uw(n.target)?Xk(r.re,n.target):zD(r.re,n.target);const a=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:dp(n.target),readTime:t,resumeToken:a,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:i}}function tS(r){const n=eN({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?dw(n,n.limit,"L"):n}function nS(r,n){return new eS(n.largestBatchId,QD(r.re,n.overlayMutation))}function hN(r,n){const t=n.path.lastSegment();return[r,vi(n.path.popLast()),t]}function pN(r,n,t,o){return{indexId:r,uid:n.uid||"",sequenceNumber:t,readTime:gp(o.readTime),documentKey:vi(o.documentKey.path),largestBatchId:o.largestBatchId}}class PR{getBundleMetadata(n,t){return gN(n).get(t).next(o=>{if(o)return{id:(i=o).bundleId,createTime:fp(i.createTime),version:i.version};var i})}saveBundleMetadata(n,t){return gN(n).put({bundleId:(o=t).id,createTime:gp(yo(o.createTime)),version:o.version});var o}getNamedQuery(n,t){return fN(n).get(t).next(o=>{if(o)return{name:(i=o).name,query:tS(i.bundledQuery),readTime:fp(i.readTime)};var i})}saveNamedQuery(n,t){return fN(n).put({name:(o=t).name,readTime:gp(yo(o.readTime)),bundledQuery:o.bundledQuery});var o}}function gN(r){return vo(r,"bundles")}function fN(r){return vo(r,"namedQueries")}class vw{constructor(n,t){this.It=n,this.userId=t}static oe(n,t){return new vw(n,t.uid||"")}getOverlay(n,t){return gv(n).get(hN(this.userId,t)).next(o=>o?nS(this.It,o):null)}getOverlays(n,t){const o=$l();return ce.forEach(t,i=>this.getOverlay(n,i).next(a=>{null!==a&&o.set(i,a)})).next(()=>o)}saveOverlays(n,t,o){const i=[];return o.forEach((a,d)=>{const p=new eS(t,d);i.push(this.ue(n,p))}),ce.waitFor(i)}removeOverlaysForBatchId(n,t,o){const i=new Set;t.forEach(d=>i.add(vi(d.getCollectionPath())));const a=[];return i.forEach(d=>{const p=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,o+1],!1,!0);a.push(gv(n).Y("collectionPathOverlayIndex",p))}),ce.waitFor(a)}getOverlaysForCollection(n,t,o){const i=$l(),a=vi(t),d=IDBKeyRange.bound([this.userId,a,o],[this.userId,a,Number.POSITIVE_INFINITY],!0);return gv(n).W("collectionPathOverlayIndex",d).next(p=>{for(const y of p){const w=nS(this.It,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(n,t,o,i){const a=$l();let d;const p=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gv(n).Z({index:"collectionGroupOverlayIndex",range:p},(y,w,D)=>{const x=nS(this.It,w);a.size()<i||x.largestBatchId===d?(a.set(x.getKey(),x),d=x.largestBatchId):D.done()}).next(()=>a)}ue(n,t){return gv(n).put(function(o,i,a){const[d,p,y]=hN(i,a.mutation.key);return{userId:i,collectionPath:p,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:hv(o.re,a.mutation)}}(this.It,this.userId,t))}}function gv(r){return vo(r,"documentOverlays")}class mp{constructor(){}ce(n,t){this.ae(n,t),t.he()}ae(n,t){if("nullValue"in n)this.le(t,5);else if("booleanValue"in n)this.le(t,10),t.fe(n.booleanValue?1:0);else if("integerValue"in n)this.le(t,15),t.fe(Ar(n.integerValue));else if("doubleValue"in n){const o=Ar(n.doubleValue);isNaN(o)?this.le(t,13):(this.le(t,15),Ky(o)?t.fe(0):t.fe(o))}else if("timestampValue"in n){const o=n.timestampValue;this.le(t,20),"string"==typeof o?t.de(o):(t.de(`${o.seconds||""}`),t.fe(o.nanos||0))}else if("stringValue"in n)this._e(n.stringValue,t),this.we(t);else if("bytesValue"in n)this.le(t,30),t.me(lp(n.bytesValue)),this.we(t);else if("referenceValue"in n)this.ge(n.referenceValue,t);else if("geoPointValue"in n){const o=n.geoPointValue;this.le(t,45),t.fe(o.latitude||0),t.fe(o.longitude||0)}else"mapValue"in n?uk(n)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(n.mapValue,t),this.we(t)):"arrayValue"in n?(this.pe(n.arrayValue,t),this.we(t)):ht()}_e(n,t){this.le(t,25),this.Ie(n,t)}Ie(n,t){t.de(n)}ye(n,t){const o=n.fields||{};this.le(t,55);for(const i of Object.keys(o))this._e(i,t),this.ae(o[i],t)}pe(n,t){const o=n.values||[];this.le(t,50);for(const i of o)this.ae(i,t)}ge(n,t){this.le(t,37),ze.fromName(n).path.forEach(o=>{this.le(t,60),this.Ie(o,t)})}le(n,t){n.fe(t)}we(n){n.fe(2)}}function RR(r){if(0===r)return 8;let n=0;return r>>4==0&&(n+=4,r<<=4),r>>6==0&&(n+=2,r<<=2),r>>7==0&&(n+=1),n}function _N(r){const n=64-function(t){let o=0;for(let i=0;i<8;++i){const a=RR(255&t[i]);if(o+=a,8!==a)break}return o}(r);return Math.ceil(n/8)}mp.Te=new mp;class OR{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(n){const t=n[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(n){const t=n[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Pe(o.value),o=t.next();this.ve()}Ve(n){for(const t of n){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(n){for(const t of n){const o=t.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(n){const t=this.Ce(n),o=_N(t);this.xe(1+o),this.buffer[this.position++]=255&o;for(let i=t.length-o;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(n){const t=this.Ce(n),o=_N(t);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let i=t.length-o;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(n){this.xe(n.length),this.buffer.set(n,this.position),this.position+=n.length}$e(){return this.buffer.slice(0,this.position)}Ce(n){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(n),o=0!=(128&t[0]);t[0]^=o?255:128;for(let i=1;i<t.length;++i)t[i]^=o?255:0;return t}Ae(n){const t=255&n;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(n){const t=255&n;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(n)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(n){this.xe(1),this.buffer[this.position++]=n}Fe(n){this.xe(1),this.buffer[this.position++]=~n}xe(n){const t=n+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const i=new Uint8Array(o);i.set(this.buffer),this.buffer=i}}class LR{constructor(n){this.Be=n}me(n){this.Be.Ee(n)}de(n){this.Be.Ve(n)}fe(n){this.Be.De(n)}he(){this.Be.ke()}}class FR{constructor(n){this.Be=n}me(n){this.Be.be(n)}de(n){this.Be.Se(n)}fe(n){this.Be.Ne(n)}he(){this.Be.Me()}}class fv{constructor(){this.Be=new OR,this.Le=new LR(this.Be),this.Ue=new FR(this.Be)}seed(n){this.Be.seed(n)}qe(n){return 0===n?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class yp{constructor(n,t,o,i){this.indexId=n,this.documentKey=t,this.arrayValue=o,this.directionalValue=i}Ke(){const n=this.directionalValue.length,t=0===n||255===this.directionalValue[n-1]?n+1:n,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==n?o.set([0],this.directionalValue.length):++o[o.length-1],new yp(this.indexId,this.documentKey,this.arrayValue,o)}}function vp(r,n){let t=r.indexId-n.indexId;return 0!==t?t:(t=mN(r.arrayValue,n.arrayValue),0!==t?t:(t=mN(r.directionalValue,n.directionalValue),0!==t?t:ze.comparator(r.documentKey,n.documentKey)))}function mN(r,n){for(let t=0;t<r.length&&t<n.length;++t){const o=r[t]-n[t];if(0!==o)return o}return r.length-n.length}class qR{constructor(n){this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.Ge=n.orderBy,this.Qe=[];for(const t of n.filters){const o=t;o.dt()?this.je=o:this.Qe.push(o)}}We(n){const t=MD(n);if(void 0!==t&&!this.ze(t))return!1;const o=ip(n);let i=0,a=0;for(;i<o.length&&this.ze(o[i]);++i);if(i===o.length)return!0;if(void 0!==this.je){const d=o[i];if(!this.He(this.je,d)||!this.Je(this.Ge[a++],d))return!1;++i}for(;i<o.length;++i){const d=o[i];if(a>=this.Ge.length||!this.Je(this.Ge[a++],d))return!1}return!0}ze(n){for(const t of this.Qe)if(this.He(t,n))return!0;return!1}He(n,t){return!(void 0===n||!n.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===n.op||"array-contains-any"===n.op)}Je(n,t){return!!n.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===n.dir||1===t.kind&&"desc"===n.dir)}}class VR{constructor(){this.Ye=new rS}addToCollectionParentIndex(n,t){return this.Ye.add(t),ce.resolve()}getCollectionParents(n,t){return ce.resolve(this.Ye.getEntries(t))}addFieldIndex(n,t){return ce.resolve()}deleteFieldIndex(n,t){return ce.resolve()}getDocumentsMatchingTarget(n,t){return ce.resolve(null)}getIndexType(n,t){return ce.resolve(0)}getFieldIndexes(n,t){return ce.resolve([])}getNextCollectionGroupToUpdate(n){return ce.resolve(null)}getMinOffset(n,t){return ce.resolve(Is.min())}getMinOffsetFromCollectionGroup(n,t){return ce.resolve(Is.min())}updateCollectionGroup(n,t,o){return ce.resolve()}updateIndexEntries(n,t){return ce.resolve()}}class rS{constructor(){this.index={}}add(n){const t=n.lastSegment(),o=n.popLast(),i=this.index[t]||new Ln(Tn.comparator),a=!i.has(o);return this.index[t]=i.add(o),a}has(n){const t=n.lastSegment(),o=n.popLast(),i=this.index[t];return i&&i.has(o)}getEntries(n){return(this.index[n]||new Ln(Tn.comparator)).toArray()}}const Cw=new Uint8Array(0);class BR{constructor(n,t){this.user=n,this.databaseId=t,this.Xe=new rS,this.Ze=new yd(o=>dp(o),(o,i)=>tv(o,i)),this.uid=n.uid||""}addToCollectionParentIndex(n,t){if(!this.Xe.has(t)){const o=t.lastSegment(),i=t.popLast();n.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:o,parent:vi(i)};return yN(n).put(a)}return ce.resolve()}getCollectionParents(n,t){const o=[],i=IDBKeyRange.bound([t,""],[QZ(t),""],!1,!0);return yN(n).W(i).next(a=>{for(const d of a){if(d.collectionId!==t)break;o.push(Hl(d.parent))}return o})}addFieldIndex(n,t){const o=Tw(n),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var d;delete i.indexId;const a=o.add(i);if(t.indexState){const d=mv(n);return a.next(p=>{d.put(pN(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(n,t){const o=Tw(n),i=mv(n),a=_v(n);return o.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(n,t){const o=_v(n);let i=!0;const a=new Map;return ce.forEach(this.tn(t),d=>this.en(n,d).next(p=>{i&&(i=!!p),a.set(d,p)})).next(()=>{if(i){let d=en();const p=[];return ce.forEach(a,(y,w)=>{var D;Ve("IndexedDbIndexManager",`Using index ${D=y,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Jt=>`${Jt.fieldPath}:${Jt.kind}`).join(",")}`} to execute ${dp(t)}`);const x=function(Jt,bt){const Vt=MD(bt);if(void 0===Vt)return null;for(const rn of cw(Jt,Vt.fieldPath))switch(rn.op){case"array-contains-any":return rn.value.arrayValue.values||[];case"array-contains":return[rn.value]}return null}(w,y),F=function(Jt,bt){const Vt=new Map;for(const rn of ip(bt))for(const so of cw(Jt,rn.fieldPath))switch(so.op){case"==":case"in":Vt.set(rn.fieldPath.canonicalString(),so.value);break;case"not-in":case"!=":return Vt.set(rn.fieldPath.canonicalString(),so.value),Array.from(Vt.values())}return null}(w,y),$=function(Jt,bt){const Vt=[];let rn=!0;for(const so of ip(bt)){const Pv=0===so.kind?gk(Jt,so.fieldPath,Jt.startAt):fk(Jt,so.fieldPath,Jt.startAt);Vt.push(Pv.value),rn&&(rn=Pv.inclusive)}return new md(Vt,rn)}(w,y),ee=function(Jt,bt){const Vt=[];let rn=!0;for(const so of ip(bt)){const Pv=0===so.kind?fk(Jt,so.fieldPath,Jt.endAt):gk(Jt,so.fieldPath,Jt.endAt);Vt.push(Pv.value),rn&&(rn=Pv.inclusive)}return new md(Vt,rn)}(w,y),Se=this.nn(y,w,$),Be=this.nn(y,w,ee),ct=this.sn(y,w,F),Ot=this.rn(y.indexId,x,Se,$.inclusive,Be,ee.inclusive,ct);return ce.forEach(Ot,Jt=>o.J(Jt,t.limit).next(bt=>{bt.forEach(Vt=>{const rn=ze.fromSegments(Vt.documentKey);d.has(rn)||(d=d.add(rn),p.push(rn))})}))}).next(()=>p)}return ce.resolve(null)})}tn(n){let t=this.Ze.get(n);return t||(t=[n],this.Ze.set(n,t),t)}rn(n,t,o,i,a,d,p){const y=(null!=t?t.length:1)*Math.max(o.length,a.length),w=y/(null!=t?t.length:1),D=[];for(let x=0;x<y;++x){const F=t?this.on(t[x/w]):Cw,$=this.un(n,F,o[x%w],i),ee=this.cn(n,F,a[x%w],d),Se=p.map(Be=>this.un(n,F,Be,!0));D.push(...this.createRange($,ee,Se))}return D}un(n,t,o,i){const a=new yp(n,ze.empty(),t,o);return i?a:a.Ke()}cn(n,t,o,i){const a=new yp(n,ze.empty(),t,o);return i?a.Ke():a}en(n,t){const o=new qR(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(n,i).next(a=>{let d=null;for(const p of a)o.We(p)&&(!d||p.fields.length>d.fields.length)&&(d=p);return d})}getIndexType(n,t){let o=2;return ce.forEach(this.tn(t),i=>this.en(n,i).next(a=>{a?0!==o&&a.fields.length<function(d){let p=new Ln(wr.comparator),y=!1;for(const w of d.filters){const D=w;D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?y=!0:p=p.add(D.field))}for(const w of d.orderBy)w.field.isKeyField()||(p=p.add(w.field));return p.size+(y?1:0)}(i)&&(o=1):o=0})).next(()=>o)}an(n,t){const o=new fv;for(const i of ip(n)){const a=t.data.field(i.fieldPath);if(null==a)return null;const d=o.qe(i.kind);mp.Te.ce(a,d)}return o.$e()}on(n){const t=new fv;return mp.Te.ce(n,t.qe(0)),t.$e()}hn(n,t){const o=new fv;return mp.Te.ce(cp(this.databaseId,t),o.qe(function(i){const a=ip(i);return 0===a.length?0:a[a.length-1].kind}(n))),o.$e()}sn(n,t,o){if(null===o)return[];let i=[];i.push(new fv);let a=0;for(const d of ip(n)){const p=o[a++];for(const y of i)if(this.ln(t,d.fieldPath)&&Xy(p))i=this.fn(i,d,p);else{const w=y.qe(d.kind);mp.Te.ce(p,w)}}return this.dn(i)}nn(n,t,o){return this.sn(n,t,o.position)}dn(n){const t=[];for(let o=0;o<n.length;++o)t[o]=n[o].$e();return t}fn(n,t,o){const i=[...n],a=[];for(const d of o.arrayValue.values||[])for(const p of i){const y=new fv;y.seed(p.$e()),mp.Te.ce(d,y.qe(t.kind)),a.push(y)}return a}ln(n,t){return!!n.filters.find(o=>o instanceof Lo&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(n,t){const o=Tw(n),i=mv(n);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(a=>{const d=[];return ce.forEach(a,p=>i.get([p.indexId,this.uid]).next(y=>{d.push(function(w,D){const x=D?new Jy(D.sequenceNumber,new Is(fp(D.readTime),new ze(Hl(D.documentKey)),D.largestBatchId)):Jy.empty(),F=w.fields.map(([$,ee])=>new ow(wr.fromServerFormat($),ee));return new rw(w.indexId,w.collectionGroup,F,x)}(p,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(t=>0===t.length?null:(t.sort((o,i)=>{const a=o.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Qt(o.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(n,t,o){const i=Tw(n),a=mv(n);return this._n(n).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>ce.forEach(p,y=>a.put(pN(y.indexId,this.user,d,o)))))}updateIndexEntries(n,t){const o=new Map;return ce.forEach(t,(i,a)=>{const d=o.get(i.collectionGroup);return(d?ce.resolve(d):this.getFieldIndexes(n,i.collectionGroup)).next(p=>(o.set(i.collectionGroup,p),ce.forEach(p,y=>this.wn(n,i,y).next(w=>{const D=this.mn(a,y);return w.isEqual(D)?ce.resolve():this.gn(n,a,y,w,D)}))))})}yn(n,t,o,i){return _v(n).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(o,t.key),documentKey:t.key.path.toArray()})}pn(n,t,o,i){return _v(n).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(o,t.key),t.key.path.toArray()])}wn(n,t,o){const i=_v(n);let a=new Ln(vp);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,t)])},(d,p)=>{a=a.add(new yp(o.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>a)}mn(n,t){let o=new Ln(vp);const i=this.an(t,n);if(null==i)return o;const a=MD(t);if(null!=a){const d=n.data.field(a.fieldPath);if(Xy(d))for(const p of d.arrayValue.values||[])o=o.add(new yp(t.indexId,n.key,this.on(p),i))}else o=o.add(new yp(t.indexId,n.key,Cw,i));return o}gn(n,t,o,i,a){Ve("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(p,y,w,D,x){const F=p.getIterator(),$=y.getIterator();let ee=Zf(F),Se=Zf($);for(;ee||Se;){let Be=!1,ct=!1;if(ee&&Se){const Ot=w(ee,Se);Ot<0?ct=!0:Ot>0&&(Be=!0)}else null!=ee?ct=!0:Be=!0;Be?(D(Se),Se=Zf($)):ct?(x(ee),ee=Zf(F)):(ee=Zf(F),Se=Zf($))}}(i,a,vp,p=>{d.push(this.yn(n,t,o,p))},p=>{d.push(this.pn(n,t,o,p))}),ce.waitFor(d)}_n(n){let t=1;return mv(n).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(n,t,o){o=o.sort((d,p)=>vp(d,p)).filter((d,p,y)=>!p||0!==vp(d,y[p-1]));const i=[];i.push(n);for(const d of o){const p=vp(d,n),y=vp(d,t);if(0===p)i[0]=n.Ke();else if(p>0&&y<0)i.push(d),i.push(d.Ke());else if(y>0)break}i.push(t);const a=[];for(let d=0;d<i.length;d+=2)a.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,Cw,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,Cw,[]]));return a}getMinOffsetFromCollectionGroup(n,t){return this.getFieldIndexes(n,t).next(vN)}getMinOffset(n,t){return ce.mapArray(this.tn(t),o=>this.en(n,o).next(i=>i||ht())).next(vN)}}function yN(r){return vo(r,"collectionParents")}function _v(r){return vo(r,"indexEntries")}function Tw(r){return vo(r,"indexConfiguration")}function mv(r){return vo(r,"indexState")}function vN(r){Pt(0!==r.length);let n=r[0].indexState.offset,t=n.largestBatchId;for(let o=1;o<r.length;o++){const i=r[o].indexState.offset;PD(i,n)<0&&(n=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Is(n.readTime,n.documentKey,t)}const CN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $i{constructor(n,t,o){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(n){return new $i(n,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function TN(r,n,t){const o=r.store("mutations"),i=r.store("documentMutations"),a=[],d=IDBKeyRange.only(t.batchId);let p=0;const y=o.Z({range:d},(D,x,F)=>(p++,F.delete()));a.push(y.next(()=>{Pt(1===p)}));const w=[];for(const D of t.mutations){const x=iN(n,D.key.path,t.batchId);a.push(i.delete(x)),w.push(D.key)}return ce.waitFor(a).next(()=>w)}function ww(r){if(!r)return 0;let n;if(r.document)n=r.document;else if(r.unknownDocument)n=r.unknownDocument;else{if(!r.noDocument)throw ht();n=r.noDocument}return JSON.stringify(n).length}$i.DEFAULT_COLLECTION_PERCENTILE=10,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$i.DEFAULT=new $i(41943040,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$i.DISABLED=new $i(-1,0,0);class bw{constructor(n,t,o,i){this.userId=n,this.It=t,this.indexManager=o,this.referenceDelegate=i,this.In={}}static oe(n,t,o,i){Pt(""!==n.uid);const a=n.isAuthenticated()?n.uid:"";return new bw(a,t,o,i)}checkEmpty(n){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cd(n).Z({index:"userMutationsIndex",range:o},(i,a,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(n,t,o,i){const a=Vf(n),d=Cd(n);return d.add({}).next(p=>{Pt("number"==typeof p);const y=new YD(p,t,o,i),w=function(F,$,ee){const Se=ee.baseMutations.map(ct=>hv(F.re,ct)),Be=ee.mutations.map(ct=>hv(F.re,ct));return{userId:$,batchId:ee.batchId,localWriteTimeMs:ee.localWriteTime.toMillis(),baseMutations:Se,mutations:Be}}(this.It,this.userId,y),D=[];let x=new Ln((F,$)=>Qt(F.canonicalString(),$.canonicalString()));for(const F of i){const $=iN(this.userId,F.key.path,p);x=x.add(F.key.path.popLast()),D.push(d.put(w)),D.push(a.put($,mR))}return x.forEach(F=>{D.push(this.indexManager.addToCollectionParentIndex(n,F))}),n.addOnCommittedListener(()=>{this.In[p]=y.keys()}),ce.waitFor(D).next(()=>y)})}lookupMutationBatch(n,t){return Cd(n).get(t).next(o=>o?(Pt(o.userId===this.userId),_p(this.It,o)):null)}Tn(n,t){return this.In[t]?ce.resolve(this.In[t]):this.lookupMutationBatch(n,t).next(o=>{if(o){const i=o.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(n,t){const o=t+1,i=IDBKeyRange.lowerBound([this.userId,o]);let a=null;return Cd(n).Z({index:"userMutationsIndex",range:i},(d,p,y)=>{p.userId===this.userId&&(Pt(p.batchId>=o),a=_p(this.It,p)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(n){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Cd(n).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,d)=>{o=a.batchId,d.done()}).next(()=>o)}getAllMutationBatches(n){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cd(n).W("userMutationsIndex",t).next(o=>o.map(i=>_p(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(n,t){const o=mw(this.userId,t.path),i=IDBKeyRange.lowerBound(o),a=[];return Vf(n).Z({range:i},(d,p,y)=>{const[w,D,x]=d,F=Hl(D);if(w===this.userId&&t.path.isEqual(F))return Cd(n).get(x).next($=>{if(!$)throw ht();Pt($.userId===this.userId),a.push(_p(this.It,$))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(n,t){let o=new Ln(Qt);const i=[];return t.forEach(a=>{const d=mw(this.userId,a.path),p=IDBKeyRange.lowerBound(d),y=Vf(n).Z({range:p},(w,D,x)=>{const[F,$,ee]=w,Se=Hl($);F===this.userId&&a.path.isEqual(Se)?o=o.add(ee):x.done()});i.push(y)}),ce.waitFor(i).next(()=>this.En(n,o))}getAllMutationBatchesAffectingQuery(n,t){const o=t.path,i=o.length+1,a=mw(this.userId,o),d=IDBKeyRange.lowerBound(a);let p=new Ln(Qt);return Vf(n).Z({range:d},(y,w,D)=>{const[x,F,$]=y,ee=Hl(F);x===this.userId&&o.isPrefixOf(ee)?ee.length===i&&(p=p.add($)):D.done()}).next(()=>this.En(n,p))}En(n,t){const o=[],i=[];return t.forEach(a=>{i.push(Cd(n).get(a).next(d=>{if(null===d)throw ht();Pt(d.userId===this.userId),o.push(_p(this.It,d))}))}),ce.waitFor(i).next(()=>o)}removeMutationBatch(n,t){return TN(n.ie,this.userId,t).next(o=>(n.addOnCommittedListener(()=>{this.An(t.batchId)}),ce.forEach(o,i=>this.referenceDelegate.markPotentiallyOrphaned(n,i))))}An(n){delete this.In[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(t=>{if(!t)return ce.resolve();const o=IDBKeyRange.lowerBound([this.userId]),i=[];return Vf(n).Z({range:o},(a,d,p)=>{if(a[0]===this.userId){const y=Hl(a[1]);i.push(y)}else p.done()}).next(()=>{Pt(0===i.length)})})}containsKey(n,t){return wN(n,this.userId,t)}Rn(n){return bN(n).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function wN(r,n,t){const o=mw(n,t.path),i=o[1],a=IDBKeyRange.lowerBound(o);let d=!1;return Vf(r).Z({range:a,X:!0},(p,y,w)=>{const[D,x,F]=p;D===n&&x===i&&(d=!0),w.done()}).next(()=>d)}function Cd(r){return vo(r,"mutations")}function Vf(r){return vo(r,"documentMutations")}function bN(r){return vo(r,"mutationQueues")}class Cp{constructor(n){this.bn=n}next(){return this.bn+=2,this.bn}static Pn(){return new Cp(0)}static vn(){return new Cp(-1)}}class jR{constructor(n,t){this.referenceDelegate=n,this.It=t}allocateTargetId(n){return this.Vn(n).next(t=>{const o=new Cp(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(n,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.Vn(n).next(t=>Rt.fromTimestamp(new lr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.Vn(n).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(n,t,o){return this.Vn(n).next(i=>(i.highestListenSequenceNumber=t,o&&(i.lastRemoteSnapshotVersion=o.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(n,i)))}addTargetData(n,t){return this.Dn(n,t).next(()=>this.Vn(n).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(n,o))))}updateTargetData(n,t){return this.Dn(n,t)}removeTargetData(n,t){return this.removeMatchingKeysForTargetId(n,t.targetId).next(()=>Bf(n).delete(t.targetId)).next(()=>this.Vn(n)).next(o=>(Pt(o.targetCount>0),o.targetCount-=1,this.Sn(n,o)))}removeTargets(n,t,o){let i=0;const a=[];return Bf(n).Z((d,p)=>{const y=pv(p);y.sequenceNumber<=t&&null===o.get(y.targetId)&&(i++,a.push(this.removeTargetData(n,y)))}).next(()=>ce.waitFor(a)).next(()=>i)}forEachTarget(n,t){return Bf(n).Z((o,i)=>{const a=pv(i);t(a)})}Vn(n){return AN(n).get("targetGlobalKey").next(t=>(Pt(null!==t),t))}Sn(n,t){return AN(n).put("targetGlobalKey",t)}Dn(n,t){return Bf(n).put(dN(this.It,t))}Cn(n,t){let o=!1;return n.targetId>t.highestTargetId&&(t.highestTargetId=n.targetId,o=!0),n.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=n.sequenceNumber,o=!0),o}getTargetCount(n){return this.Vn(n).next(t=>t.targetCount)}getTargetData(n,t){const o=dp(t),i=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let a=null;return Bf(n).Z({range:i,index:"queryTargetsIndex"},(d,p,y)=>{const w=pv(p);tv(t,w.target)&&(a=w,y.done())}).next(()=>a)}addMatchingKeys(n,t,o){const i=[],a=Td(n);return t.forEach(d=>{const p=vi(d.path);i.push(a.put({targetId:o,path:p})),i.push(this.referenceDelegate.addReference(n,o,d))}),ce.waitFor(i)}removeMatchingKeys(n,t,o){const i=Td(n);return ce.forEach(t,a=>{const d=vi(a.path);return ce.waitFor([i.delete([o,d]),this.referenceDelegate.removeReference(n,o,a)])})}removeMatchingKeysForTargetId(n,t){const o=Td(n),i=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(i)}getMatchingKeysForTargetId(n,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),i=Td(n);let a=en();return i.Z({range:o,X:!0},(d,p,y)=>{const w=Hl(d[1]),D=new ze(w);a=a.add(D)}).next(()=>a)}containsKey(n,t){const o=vi(t.path),i=IDBKeyRange.bound([o],[QZ(o)],!1,!0);let a=0;return Td(n).Z({index:"documentTargetsIndex",X:!0,range:i},([d,p],y,w)=>{0!==d&&(a++,w.done())}).next(()=>a>0)}se(n,t){return Bf(n).get(t).next(o=>o?pv(o):null)}}function Bf(r){return vo(r,"targets")}function AN(r){return vo(r,"targetGlobal")}function Td(r){return vo(r,"targetDocuments")}function IN([r,n],[t,o]){const i=Qt(r,t);return 0===i?Qt(n,o):i}class $R{constructor(n){this.xn=n,this.buffer=new Ln(IN),this.Nn=0}kn(){return++this.Nn}On(n){const t=[n,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();IN(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class GR{constructor(n,t,o){this.garbageCollector=n,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(n){var t=this;Ve("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Te.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){hd(o)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield dd(o)}yield t.Fn(3e5)}))}}class HR{constructor(n,t){this.$n=n,this.params=t}calculateTargetCount(n,t){return this.$n.Bn(n).next(o=>Math.floor(t/100*o))}nthSequenceNumber(n,t){if(0===t)return ce.resolve(Bi.at);const o=new $R(t);return this.$n.forEachTarget(n,i=>o.On(i.sequenceNumber)).next(()=>this.$n.Ln(n,i=>o.On(i))).next(()=>o.maxValue)}removeTargets(n,t,o){return this.$n.removeTargets(n,t,o)}removeOrphanedDocuments(n,t){return this.$n.removeOrphanedDocuments(n,t)}collect(n,t){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(CN)):this.getCacheSize(n).next(o=>o<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CN):this.Un(n,t))}getCacheSize(n){return this.$n.getCacheSize(n)}Un(n,t){let o,i,a,d,p,y,w;const D=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,d=Date.now(),this.nthSequenceNumber(n,i))).next(x=>(o=x,p=Date.now(),this.removeTargets(n,o,t))).next(x=>(a=x,y=Date.now(),this.removeOrphanedDocuments(n,o))).next(x=>(w=Date.now(),ND()<=Qa.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-D}ms\n\tDetermined least recently used ${i} in `+(p-d)+`ms\n\tRemoved ${a} targets in `+(y-p)+`ms\n\tRemoved ${x} documents in `+(w-y)+`ms\nTotal Duration: ${w-D}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x})))}}class JR{constructor(n,t){this.db=n,this.garbageCollector=new HR(this,t)}Bn(n){const t=this.qn(n);return this.db.getTargetCache().getTargetCount(n).next(o=>t.next(i=>o+i))}qn(n){let t=0;return this.Ln(n,o=>{t++}).next(()=>t)}forEachTarget(n,t){return this.db.getTargetCache().forEachTarget(n,t)}Ln(n,t){return this.Kn(n,(o,i)=>t(i))}addReference(n,t,o){return Aw(n,o)}removeReference(n,t,o){return Aw(n,o)}removeTargets(n,t,o){return this.db.getTargetCache().removeTargets(n,t,o)}markPotentiallyOrphaned(n,t){return Aw(n,t)}Gn(n,t){return function(o,i){let a=!1;return bN(o).tt(d=>wN(o,d,i).next(p=>(p&&(a=!0),ce.resolve(!p)))).next(()=>a)}(n,t)}removeOrphanedDocuments(n,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(n,(d,p)=>{if(p<=t){const y=this.Gn(n,d).next(w=>{if(!w)return a++,o.getEntry(n,d).next(()=>(o.removeEntry(d,Rt.min()),Td(n).delete([0,vi(d.path)])))});i.push(y)}}).next(()=>ce.waitFor(i)).next(()=>o.apply(n)).next(()=>a)}removeTarget(n,t){const o=t.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,o)}updateLimboDocument(n,t){return Aw(n,t)}Kn(n,t){const o=Td(n);let i,a=Bi.at;return o.Z({index:"documentTargetsIndex"},([d,p],{path:y,sequenceNumber:w})=>{0===d?(a!==Bi.at&&t(new ze(Hl(i)),a),a=w,i=y):a=Bi.at}).next(()=>{a!==Bi.at&&t(new ze(Hl(i)),a)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function Aw(r,n){return Td(r).put((o=r.currentSequenceNumber,{targetId:0,path:vi(n.path),sequenceNumber:o}));var o}class EN{constructor(){this.changes=new yd(n=>n.toString(),(n,t)=>n.isEqual(t)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,t){this.assertNotApplied(),this.changes.set(n,Jn.newInvalidDocument(n).setReadTime(t))}getEntry(n,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?ce.resolve(o):this.getFromCache(n,t)}getEntries(n,t){return this.getAllFromCache(n,t)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class WR{constructor(n){this.It=n}setIndexManager(n){this.indexManager=n}addEntry(n,t,o){return Tp(n).put(o)}removeEntry(n,t,o){return Tp(n).delete(function(i,a){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],yw(a),d[d.length-1]]}(t,o))}updateMetadata(n,t){return this.getMetadata(n).next(o=>(o.byteSize+=t,this.Qn(n,o)))}getEntry(n,t){let o=Jn.newInvalidDocument(t);return Tp(n).Z({index:"documentKeyIndex",range:IDBKeyRange.only(yv(t))},(i,a)=>{o=this.jn(t,a)}).next(()=>o)}Wn(n,t){let o={size:0,document:Jn.newInvalidDocument(t)};return Tp(n).Z({index:"documentKeyIndex",range:IDBKeyRange.only(yv(t))},(i,a)=>{o={document:this.jn(t,a),size:ww(a)}}).next(()=>o)}getEntries(n,t){let o=ji();return this.zn(n,t,(i,a)=>{const d=this.jn(i,a);o=o.insert(i,d)}).next(()=>o)}Hn(n,t){let o=ji(),i=new br(ze.comparator);return this.zn(n,t,(a,d)=>{const p=this.jn(a,d);o=o.insert(a,p),i=i.insert(a,ww(d))}).next(()=>({documents:o,Jn:i}))}zn(n,t,o){if(t.isEmpty())return ce.resolve();let i=new Ln(ZN);t.forEach(y=>i=i.add(y));const a=IDBKeyRange.bound(yv(i.first()),yv(i.last())),d=i.getIterator();let p=d.getNext();return Tp(n).Z({index:"documentKeyIndex",range:a},(y,w,D)=>{const x=ze.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;p&&ZN(p,x)<0;)o(p,null),p=d.getNext();p&&p.isEqual(x)&&(o(p,w),p=d.hasNext()?d.getNext():null),p?D.j(yv(p)):D.done()}).next(()=>{for(;p;)o(p,null),p=d.hasNext()?d.getNext():null})}getAllFromCollection(n,t,o){const i=[t.popLast().toArray(),t.lastSegment(),yw(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Tp(n).W(IDBKeyRange.bound(i,a,!0)).next(d=>{let p=ji();for(const y of d){const w=this.jn(ze.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);p=p.insert(w.key,w)}return p})}getAllFromCollectionGroup(n,t,o,i){let a=ji();const d=xN(t,o),p=xN(t,Is.max());return Tp(n).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,p,!0)},(y,w,D)=>{const x=this.jn(ze.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(x.key,x),a.size===i&&D.done()}).next(()=>a)}newChangeBuffer(n){return new QR(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(t=>t.byteSize)}getMetadata(n){return SN(n).get("remoteDocumentGlobalKey").next(t=>(Pt(!!t),t))}Qn(n,t){return SN(n).put("remoteDocumentGlobalKey",t)}jn(n,t){if(t){const o=function MR(r,n){let t;if(n.document)t=Yk(r.re,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const o=ze.fromSegments(n.noDocument.path),i=fp(n.noDocument.readTime);t=Jn.newNoDocument(o,i),n.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!n.unknownDocument)return ht();{const o=ze.fromSegments(n.unknownDocument.path),i=fp(n.unknownDocument.version);t=Jn.newUnknownDocument(o,i)}}return n.readTime&&t.setReadTime(function(o){const i=new lr(o[0],o[1]);return Rt.fromTimestamp(i)}(n.readTime)),t}(this.It,t);if(!o.isNoDocument()||!o.version.isEqual(Rt.min()))return o}return Jn.newInvalidDocument(n)}}function DN(r){return new WR(r)}class QR extends EN{constructor(n,t){super(),this.Yn=n,this.trackRemovals=t,this.Xn=new yd(o=>o.toString(),(o,i)=>o.isEqual(i))}applyChanges(n){const t=[];let o=0,i=new Ln((a,d)=>Qt(a.canonicalString(),d.canonicalString()));return this.changes.forEach((a,d)=>{const p=this.Xn.get(a);if(t.push(this.Yn.removeEntry(n,a,p.readTime)),d.isValidDocument()){const y=cN(this.Yn.It,d);i=i.add(a.path.popLast()),o+=ww(y)-p.size,t.push(this.Yn.addEntry(n,a,y))}else if(o-=p.size,this.trackRemovals){const y=cN(this.Yn.It,d.convertToNoDocument(Rt.min()));t.push(this.Yn.addEntry(n,a,y))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(n,a))}),t.push(this.Yn.updateMetadata(n,o)),ce.waitFor(t)}getFromCache(n,t){return this.Yn.Wn(n,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(n,t){return this.Yn.Hn(n,t).next(({documents:o,Jn:i})=>(i.forEach((a,d)=>{this.Xn.set(a,{size:d,readTime:o.get(a).readTime})}),o))}}function SN(r){return vo(r,"remoteDocumentGlobal")}function Tp(r){return vo(r,"remoteDocumentsV14")}function yv(r){const n=r.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function xN(r,n){const t=n.documentKey.path.toArray();return[r,yw(n.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ZN(r,n){const t=r.path.toArray(),o=n.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<o.length-2;++a)if(i=Qt(t[a],o[a]),i)return i;return i=Qt(t.length,o.length),i||(i=Qt(t[t.length-2],o[o.length-2]),i||Qt(t[t.length-1],o[o.length-1]))}class zR{constructor(n,t){this.overlayedDocument=n,this.mutatedFields=t}}class kN{constructor(n,t,o,i){this.remoteDocumentCache=n,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=i}getDocument(n,t){let o=null;return this.documentOverlayCache.getOverlay(n,t).next(i=>(o=i,this.getBaseDocument(n,t,o))).next(i=>(null!==o&&ov(o.mutation,i,Es.empty(),lr.now()),i))}getDocuments(n,t){return this.remoteDocumentCache.getEntries(n,t).next(o=>this.getLocalViewOfDocuments(n,o,en()).next(()=>o))}getLocalViewOfDocuments(n,t,o=en()){const i=$l();return this.populateOverlays(n,i,t).next(()=>this.computeViews(n,t,i,o).next(a=>{let d=iv();return a.forEach((p,y)=>{d=d.insert(p,y.overlayedDocument)}),d}))}getOverlayedDocuments(n,t){const o=$l();return this.populateOverlays(n,o,t).next(()=>this.computeViews(n,t,o,en()))}populateOverlays(n,t,o){const i=[];return o.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(n,i).next(a=>{a.forEach((d,p)=>{t.set(d,p)})})}computeViews(n,t,o,i){let a=ji();const d=sv(),p=sv();return t.forEach((y,w)=>{const D=o.get(w.key);i.has(w.key)&&(void 0===D||D.mutation instanceof Yu)?a=a.insert(w.key,w):void 0!==D&&(d.set(w.key,D.mutation.getFieldMask()),ov(D.mutation,w,D.mutation.getFieldMask(),lr.now()))}),this.recalculateAndSaveOverlays(n,a).next(y=>(y.forEach((w,D)=>d.set(w,D)),t.forEach((w,D)=>{var x;return p.set(w,new zR(D,null!==(x=d.get(w))&&void 0!==x?x:null))}),p))}recalculateAndSaveOverlays(n,t){const o=sv();let i=new br((d,p)=>d-p),a=en();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,t).next(d=>{for(const p of d)p.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let D=o.get(y)||Es.empty();D=p.applyToLocalView(w,D),o.set(y,D);const x=(i.get(p.batchId)||en()).add(y);i=i.insert(p.batchId,x)})}).next(()=>{const d=[],p=i.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),w=y.key,D=y.value,x=Vk();D.forEach(F=>{if(!a.has(F)){const $=Nk(t.get(F),o.get(F));null!==$&&x.set(F,$),a=a.add(F)}}),d.push(this.documentOverlayCache.saveOverlays(n,w,x))}return ce.waitFor(d)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(n,t){return this.remoteDocumentCache.getEntries(n,t).next(o=>this.recalculateAndSaveOverlays(n,o))}getDocumentsMatchingQuery(n,t,o){return ze.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(n,t.path):jD(t)?this.getDocumentsMatchingCollectionGroupQuery(n,t,o):this.getDocumentsMatchingCollectionQuery(n,t,o);var i}getNextDocuments(n,t,o,i){return this.remoteDocumentCache.getAllFromCollectionGroup(n,t,o,i).next(a=>{const d=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,t,o.largestBatchId,i-a.size):ce.resolve($l());let p=-1,y=a;return d.next(w=>ce.forEach(w,(D,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),a.get(D)?ce.resolve():this.getBaseDocument(n,D,x).next(F=>{y=y.insert(D,F)}))).next(()=>this.populateOverlays(n,w,a)).next(()=>this.computeViews(n,y,w,en())).next(D=>({batchId:p,changes:qk(D)})))})}getDocumentsMatchingDocumentQuery(n,t){return this.getDocument(n,new ze(t)).next(o=>{let i=iv();return o.isFoundDocument()&&(i=i.insert(o.key,o)),i})}getDocumentsMatchingCollectionGroupQuery(n,t,o){const i=t.collectionGroup;let a=iv();return this.indexManager.getCollectionParents(n,i).next(d=>ce.forEach(d,p=>{const y=(w=t,D=p.child(i),new Ku(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,D;return this.getDocumentsMatchingCollectionQuery(n,y,o).next(w=>{w.forEach((D,x)=>{a=a.insert(D,x)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(n,t,o){let i;return this.remoteDocumentCache.getAllFromCollection(n,t.path,o).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(n,t.path,o.largestBatchId))).next(a=>{a.forEach((p,y)=>{const w=y.getKey();null===i.get(w)&&(i=i.insert(w,Jn.newInvalidDocument(w)))});let d=iv();return i.forEach((p,y)=>{const w=a.get(p);void 0!==w&&ov(w.mutation,y,Es.empty(),lr.now()),GD(t,y)&&(d=d.insert(p,y))}),d})}getBaseDocument(n,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(n,t):ce.resolve(Jn.newInvalidDocument(t))}}class KR{constructor(n){this.It=n,this.Zn=new Map,this.ts=new Map}getBundleMetadata(n,t){return ce.resolve(this.Zn.get(t))}saveBundleMetadata(n,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:yo(o.createTime)}),ce.resolve()}getNamedQuery(n,t){return ce.resolve(this.ts.get(t))}saveNamedQuery(n,t){return this.ts.set(t.name,{name:(o=t).name,query:tS(o.bundledQuery),readTime:yo(o.readTime)}),ce.resolve();var o}}class YR{constructor(){this.overlays=new br(ze.comparator),this.es=new Map}getOverlay(n,t){return ce.resolve(this.overlays.get(t))}getOverlays(n,t){const o=$l();return ce.forEach(t,i=>this.getOverlay(n,i).next(a=>{null!==a&&o.set(i,a)})).next(()=>o)}saveOverlays(n,t,o){return o.forEach((i,a)=>{this.ue(n,t,a)}),ce.resolve()}removeOverlaysForBatchId(n,t,o){const i=this.es.get(o);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(o)),ce.resolve()}getOverlaysForCollection(n,t,o){const i=$l(),a=t.length+1,d=new ze(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&y.largestBatchId>o&&i.set(y.getKey(),y)}return ce.resolve(i)}getOverlaysForCollectionGroup(n,t,o,i){let a=new br((w,D)=>w-D);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>o){let D=a.get(w.largestBatchId);null===D&&(D=$l(),a=a.insert(w.largestBatchId,D)),D.set(w.getKey(),w)}}const p=$l(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,D)=>p.set(w,D)),!(p.size()>=i)););return ce.resolve(p)}ue(n,t,o){const i=this.overlays.get(o.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(o.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(o.key,new eS(t,o));let a=this.es.get(t);void 0===a&&(a=en(),this.es.set(t,a)),this.es.set(t,a.add(o.key))}}class oS{constructor(){this.ns=new Ln(Co.ss),this.rs=new Ln(Co.os)}isEmpty(){return this.ns.isEmpty()}addReference(n,t){const o=new Co(n,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(n,t){n.forEach(o=>this.addReference(o,t))}removeReference(n,t){this.cs(new Co(n,t))}hs(n,t){n.forEach(o=>this.removeReference(o,t))}ls(n){const t=new ze(new Tn([])),o=new Co(t,n),i=new Co(t,n+1),a=[];return this.rs.forEachInRange([o,i],d=>{this.cs(d),a.push(d.key)}),a}fs(){this.ns.forEach(n=>this.cs(n))}cs(n){this.ns=this.ns.delete(n),this.rs=this.rs.delete(n)}ds(n){const t=new ze(new Tn([])),o=new Co(t,n),i=new Co(t,n+1);let a=en();return this.rs.forEachInRange([o,i],d=>{a=a.add(d.key)}),a}containsKey(n){const t=new Co(n,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&n.isEqual(o.key)}}class Co{constructor(n,t){this.key=n,this._s=t}static ss(n,t){return ze.comparator(n.key,t.key)||Qt(n._s,t._s)}static os(n,t){return Qt(n._s,t._s)||ze.comparator(n.key,t.key)}}class XR{constructor(n,t){this.indexManager=n,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Ln(Co.ss)}checkEmpty(n){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(n,t,o,i){const a=this.ws;this.ws++;const d=new YD(a,t,o,i);this.mutationQueue.push(d);for(const p of i)this.gs=this.gs.add(new Co(p.key,a)),this.indexManager.addToCollectionParentIndex(n,p.key.path.popLast());return ce.resolve(d)}lookupMutationBatch(n,t){return ce.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(n,t){const i=this.ps(t+1),a=i<0?0:i;return ce.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(n){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,t){const o=new Co(t,0),i=new Co(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([o,i],d=>{const p=this.ys(d._s);a.push(p)}),ce.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(n,t){let o=new Ln(Qt);return t.forEach(i=>{const a=new Co(i,0),d=new Co(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,d],p=>{o=o.add(p._s)})}),ce.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(n,t){const o=t.path,i=o.length+1;let a=o;ze.isDocumentKey(a)||(a=a.child(""));const d=new Co(new ze(a),0);let p=new Ln(Qt);return this.gs.forEachWhile(y=>{const w=y.key.path;return!!o.isPrefixOf(w)&&(w.length===i&&(p=p.add(y._s)),!0)},d),ce.resolve(this.Is(p))}Is(n){const t=[];return n.forEach(o=>{const i=this.ys(o);null!==i&&t.push(i)}),t}removeMutationBatch(n,t){Pt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return ce.forEach(t.mutations,i=>{const a=new Co(i.key,t.batchId);return o=o.delete(a),this.referenceDelegate.markPotentiallyOrphaned(n,i.key)}).next(()=>{this.gs=o})}An(n){}containsKey(n,t){const o=new Co(t,0),i=this.gs.firstAfterOrEqual(o);return ce.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(n){return ce.resolve()}Ts(n,t){return this.ps(n)}ps(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}ys(n){const t=this.ps(n);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class eO{constructor(n){this.Es=n,this.docs=new br(ze.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,t){const o=t.key,i=this.docs.get(o),a=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:d}),this.size+=d-a,this.indexManager.addToCollectionParentIndex(n,o.path.popLast())}removeEntry(n){const t=this.docs.get(n);t&&(this.docs=this.docs.remove(n),this.size-=t.size)}getEntry(n,t){const o=this.docs.get(t);return ce.resolve(o?o.document.mutableCopy():Jn.newInvalidDocument(t))}getEntries(n,t){let o=ji();return t.forEach(i=>{const a=this.docs.get(i);o=o.insert(i,a?a.document.mutableCopy():Jn.newInvalidDocument(i))}),ce.resolve(o)}getAllFromCollection(n,t,o){let i=ji();const a=new ze(t.child("")),d=this.docs.getIteratorFrom(a);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||PD(KZ(y),o)<=0||(i=i.insert(y.key,y.mutableCopy()))}return ce.resolve(i)}getAllFromCollectionGroup(n,t,o,i){ht()}As(n,t){return ce.forEach(this.docs,o=>t(o))}newChangeBuffer(n){return new tO(this)}getSize(n){return ce.resolve(this.size)}}class tO extends EN{constructor(n){super(),this.Yn=n}applyChanges(n){const t=[];return this.changes.forEach((o,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(n,i)):this.Yn.removeEntry(o)}),ce.waitFor(t)}getFromCache(n,t){return this.Yn.getEntry(n,t)}getAllFromCache(n,t){return this.Yn.getEntries(n,t)}}class nO{constructor(n){this.persistence=n,this.Rs=new yd(t=>dp(t),tv),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new oS,this.targetCount=0,this.vs=Cp.Pn()}forEachTarget(n,t){return this.Rs.forEach((o,i)=>t(i)),ce.resolve()}getLastRemoteSnapshotVersion(n){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return ce.resolve(this.bs)}allocateTargetId(n){return this.highestTargetId=this.vs.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(n,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),ce.resolve()}Dn(n){this.Rs.set(n.target,n);const t=n.targetId;t>this.highestTargetId&&(this.vs=new Cp(t),this.highestTargetId=t),n.sequenceNumber>this.bs&&(this.bs=n.sequenceNumber)}addTargetData(n,t){return this.Dn(t),this.targetCount+=1,ce.resolve()}updateTargetData(n,t){return this.Dn(t),ce.resolve()}removeTargetData(n,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(n,t,o){let i=0;const a=[];return this.Rs.forEach((d,p)=>{p.sequenceNumber<=t&&null===o.get(p.targetId)&&(this.Rs.delete(d),a.push(this.removeMatchingKeysForTargetId(n,p.targetId)),i++)}),ce.waitFor(a).next(()=>i)}getTargetCount(n){return ce.resolve(this.targetCount)}getTargetData(n,t){const o=this.Rs.get(t)||null;return ce.resolve(o)}addMatchingKeys(n,t,o){return this.Ps.us(t,o),ce.resolve()}removeMatchingKeys(n,t,o){this.Ps.hs(t,o);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(d=>{a.push(i.markPotentiallyOrphaned(n,d))}),ce.waitFor(a)}removeMatchingKeysForTargetId(n,t){return this.Ps.ls(t),ce.resolve()}getMatchingKeysForTargetId(n,t){const o=this.Ps.ds(t);return ce.resolve(o)}containsKey(n,t){return ce.resolve(this.Ps.containsKey(t))}}class NN{constructor(n,t){this.Vs={},this.overlays={},this.Ss=new Bi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=n(this),this.Cs=new nO(this),this.indexManager=new VR,this.remoteDocumentCache=new eO(o=>this.referenceDelegate.xs(o)),this.It=new uN(t),this.Ns=new KR(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let t=this.overlays[n.toKey()];return t||(t=new YR,this.overlays[n.toKey()]=t),t}getMutationQueue(n,t){let o=this.Vs[n.toKey()];return o||(o=new XR(t,this.referenceDelegate),this.Vs[n.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(n,t,o){Ve("MemoryPersistence","Starting transaction:",n);const i=new rO(this.Ss.next());return this.referenceDelegate.ks(),o(i).next(a=>this.referenceDelegate.Os(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ms(n,t){return ce.or(Object.values(this.Vs).map(o=>()=>o.containsKey(n,t)))}}class rO extends XZ{constructor(n){super(),this.currentSequenceNumber=n}}class Iw{constructor(n){this.persistence=n,this.Fs=new oS,this.$s=null}static Bs(n){return new Iw(n)}get Ls(){if(this.$s)return this.$s;throw ht()}addReference(n,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),ce.resolve()}removeReference(n,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),ce.resolve()}markPotentiallyOrphaned(n,t){return this.Ls.add(t.toString()),ce.resolve()}removeTarget(n,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(n,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>o.removeTargetData(n,t))}ks(){this.$s=new Set}Os(n){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ls,o=>{const i=ze.fromPath(o);return this.Us(n,i).next(a=>{a||t.removeEntry(i,Rt.min())})}).next(()=>(this.$s=null,t.apply(n)))}updateLimboDocument(n,t){return this.Us(n,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(n){return 0}Us(n,t){return ce.or([()=>ce.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(n,t),()=>this.persistence.Ms(n,t)])}}class oO{constructor(n){this.It=n}$(n,t,o,i){const a=new iw("createOrUpgrade",t);var p;o<1&&i>=1&&(n.createObjectStore("owner"),(p=n).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",oN,{unique:!0}),p.createObjectStore("documentMutations"),UN(n),function(p){p.createObjectStore("remoteDocuments")}(n));let d=ce.resolve();return o<3&&i>=3&&(0!==o&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(n),UN(n)),d=d.next(()=>function(p){const y=p.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(a))),o<4&&i>=4&&(0!==o&&(d=d.next(()=>function(p,y){return y.store("mutations").W().next(w=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",oN,{unique:!0});const D=y.store("mutations"),x=w.map(F=>D.put(F));return ce.waitFor(x)})}(n,a))),d=d.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),o<5&&i>=5&&(d=d.next(()=>this.qs(a))),o<6&&i>=6&&(d=d.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(n),this.Ks(a)))),o<7&&i>=7&&(d=d.next(()=>this.Gs(a))),o<8&&i>=8&&(d=d.next(()=>this.Qs(n,a))),o<9&&i>=9&&(d=d.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(n)})),o<10&&i>=10&&(d=d.next(()=>this.js(a))),o<11&&i>=11&&(d=d.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),o<12&&i>=12&&(d=d.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:xR});y.createIndex("collectionPathOverlayIndex",ZR,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",kR,{unique:!1})}(n)})),o<13&&i>=13&&(d=d.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:yR});y.createIndex("documentKeyIndex",vR),y.createIndex("collectionGroupIndex",CR)}(n)).next(()=>this.Ws(n,a)).next(()=>n.deleteObjectStore("remoteDocuments"))),o<14&&i>=14&&(d=d.next(()=>this.zs(n,a))),o<15&&i>=15&&(d=d.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:IR}).createIndex("sequenceNumberIndex",ER,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:DR}).createIndex("documentKeyIndex",SR,{unique:!1})}(n))),d}Ks(n){let t=0;return n.store("remoteDocuments").Z((o,i)=>{t+=ww(i)}).next(()=>{const o={byteSize:t};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(n){const t=n.store("mutationQueues"),o=n.store("mutations");return t.W().next(i=>ce.forEach(i,a=>{const d=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",d).next(p=>ce.forEach(p,y=>{Pt(y.userId===a.userId);const w=_p(this.It,y);return TN(n,a.userId,w).next(()=>{})}))}))}Gs(n){const t=n.store("targetDocuments"),o=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return o.Z((d,p)=>{const y=new Tn(d),w=[0,vi(y)];a.push(t.get(w).next(D=>D?ce.resolve():t.put({targetId:0,path:vi(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ce.waitFor(a))})}Qs(n,t){n.createObjectStore("collectionParents",{keyPath:AR});const o=t.store("collectionParents"),i=new rS,a=d=>{if(i.add(d)){const p=d.lastSegment(),y=d.popLast();return o.put({collectionId:p,parent:vi(y)})}};return t.store("remoteDocuments").Z({X:!0},(d,p)=>{const y=new Tn(d);return a(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,p,y],w)=>{const D=Hl(p);return a(D.popLast())}))}js(n){const t=n.store("targets");return t.Z((o,i)=>{const a=pv(i),d=dN(this.It,a);return t.put(d)})}Ws(n,t){const o=t.store("remoteDocuments"),i=[];return o.Z((a,d)=>{const p=t.store("remoteDocumentsV14"),y=(w=d,w.document?new ze(Tn.fromString(w.document.name).popFirst(5)):w.noDocument?ze.fromSegments(w.noDocument.path):w.unknownDocument?ze.fromSegments(w.unknownDocument.path):ht()).path.toArray();var w;const D={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(p.put(D))}).next(()=>ce.waitFor(i))}zs(n,t){const o=t.store("mutations"),i=DN(this.It),a=new NN(Iw.Bs,this.It.re);return o.W().next(d=>{const p=new Map;return d.forEach(y=>{var w;let D=null!==(w=p.get(y.userId))&&void 0!==w?w:en();_p(this.It,y).keys().forEach(x=>D=D.add(x)),p.set(y.userId,D)}),ce.forEach(p,(y,w)=>{const D=new mo(w),x=vw.oe(this.It,D),F=a.getIndexManager(D),$=bw.oe(D,this.It,F,a.referenceDelegate);return new kN(i,$,x,F).recalculateAndSaveOverlaysForDocumentKeys(new KD(t,Bi.at),y).next()})})}}function UN(r){r.createObjectStore("targetDocuments",{keyPath:wR}).createIndex("documentTargetsIndex",bR,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",TR,{unique:!0}),r.createObjectStore("targetGlobal")}const iS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sS{constructor(n,t,o,i,a,d,p,y,w,D,x=15){if(this.allowTabSynchronization=n,this.persistenceKey=t,this.clientId=o,this.Hs=a,this.window=d,this.document=p,this.Js=w,this.Ys=D,this.Xs=x,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=F=>Promise.resolve(),!sS.C())throw new Re(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new JR(this,i),this.ii=t+"main",this.It=new uN(y),this.ri=new Ya(this.ii,this.Xs,new oO(this.It)),this.Cs=new jR(this.referenceDelegate,this.It),this.remoteDocumentCache=DN(this.It),this.Ns=new PR,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===D&&Ur("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(_e.FAILED_PRECONDITION,iS);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Cs.getHighestSequenceNumber(n))}).then(n=>{this.Ss=new Bi(n,this.Js)}).then(()=>{this.Ds=!0}).catch(n=>(this.ri&&this.ri.close(),Promise.reject(n)))}li(n){var t=this;return this.si=function(){var o=(0,Te.Z)(function*(i){if(t.started)return n(i)});return function(i){return o.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.ri.L(function(){var t=(0,Te.Z)(function*(o){null===o.newVersion&&(yield n())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(n){var t=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Hs.enqueueAndForget((0,Te.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>Ew(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(n).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(n)).next(t=>this.isPrimary&&!t?this._i(n).next(()=>!1):!!t&&this.wi(n).next(()=>!0))).catch(n=>{if(hd(n))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Hs.enqueueRetryable(()=>this.si(n)),this.isPrimary=n})}fi(n){return vv(n).get("owner").next(t=>ce.resolve(this.mi(t)))}gi(n){return Ew(n).delete(this.clientId)}yi(){var n=this;return(0,Te.Z)(function*(){if(n.isPrimary&&!n.pi(n.ni,18e5)){n.ni=Date.now();const t=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const i=vo(o,"clientMetadata");return i.W().next(a=>{const d=n.Ii(a,18e5),p=a.filter(y=>-1===d.indexOf(y));return ce.forEach(p,y=>i.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(n.oi)for(const o of t)n.oi.removeItem(n.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(n){return!!n&&n.ownerId===this.clientId}di(n){return this.Ys?ce.resolve(!0):vv(n).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Re(_e.FAILED_PRECONDITION,iS);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ew(n).W().next(o=>void 0===this.Ii(o,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ve("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var n=this;return(0,Te.Z)(function*(){n.Ds=!1,n.Ai(),n.ei&&(n.ei.cancel(),n.ei=null),n.Ri(),n.bi(),yield n.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new KD(t,Bi.at);return n._i(o).next(()=>n.gi(o))}),n.ri.close(),n.Pi()})()}Ii(n,t){return n.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",n=>Ew(n).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(n,t){return bw.oe(n,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new BR(n,this.It.re.databaseId)}getDocumentOverlayCache(n){return vw.oe(this.It,n)}getBundleCache(){return this.Ns}runTransaction(n,t,o){Ve("IndexedDbPersistence","Starting transaction:",n);const i="readonly"===t?"readonly":"readwrite",a=15===(d=this.Xs)?UR:14===d?lN:13===d?aN:12===d?NR:11===d?sN:void ht();var d;let p;return this.ri.runTransaction(n,i,a,y=>(p=new KD(y,this.Ss?this.Ss.next():Bi.at),"readwrite-primary"===t?this.fi(p).next(w=>!!w||this.di(p)).next(w=>{if(!w)throw Ur(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Re(_e.FAILED_PRECONDITION,YZ);return o(p)}).next(w=>this.wi(p).next(()=>w)):this.Vi(p).next(()=>o(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}Vi(n){return vv(n).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(_e.FAILED_PRECONDITION,iS)})}wi(n){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vv(n).put("owner",t)}static C(){return Ya.C()}_i(n){const t=vv(n);return t.get("owner").next(o=>this.mi(o)?(Ve("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ce.resolve())}pi(n,t){const o=Date.now();return!(n<o-t||n>o&&(Ur(`Detected an update time that is in the future: ${n} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Cn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(n){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(n)));return Ve("IndexedDbPersistence",`Client '${n}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Ur("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(n){Ur("Failed to set zombie client id.",n)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(n){}}Ti(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function vv(r){return vo(r,"owner")}function Ew(r){return vo(r,"clientMetadata")}function aS(r,n){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+n+"/"+t+"/"}class lS{constructor(n,t,o,i){this.targetId=n,this.fromCache=t,this.Si=o,this.Di=i}static Ci(n,t){let o=en(),i=en();for(const a of t.docChanges)switch(a.type){case 0:o=o.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new lS(n,t.fromCache,o,i)}}class MN{constructor(){this.xi=!1}initialize(n,t){this.Ni=n,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(n,t,o,i){return this.ki(n,t).next(a=>a||this.Oi(n,t,i,o)).next(a=>a||this.Mi(n,t))}ki(n,t){if(Ck(t))return ce.resolve(null);let o=yi(t);return this.indexManager.getIndexType(n,o).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=dw(t,null,"F"),o=yi(t)),this.indexManager.getDocumentsMatchingTarget(n,o).next(a=>{const d=en(...a);return this.Ni.getDocuments(n,d).next(p=>this.indexManager.getMinOffset(n,o).next(y=>{const w=this.Fi(t,p);return this.$i(t,w,d,y.readTime)?this.ki(n,dw(t,null,"F")):this.Bi(n,w,t,y)}))})))}Oi(n,t,o,i){return Ck(t)||i.isEqual(Rt.min())?this.Mi(n,t):this.Ni.getDocuments(n,o).next(a=>{const d=this.Fi(t,a);return this.$i(t,d,o,i)?this.Mi(n,t):(ND()<=Qa.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$D(t)),this.Bi(n,d,t,zZ(i,-1)))})}Fi(n,t){let o=new Ln(bk(n));return t.forEach((i,a)=>{GD(n,a)&&(o=o.add(a))}),o}$i(n,t,o,i){if(null===n.limit)return!1;if(o.size!==t.size)return!0;const a="F"===n.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Mi(n,t){return ND()<=Qa.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",$D(t)),this.Ni.getDocumentsMatchingQuery(n,t,Is.min())}Bi(n,t,o,i){return this.Ni.getDocumentsMatchingQuery(n,o,i).next(a=>(t.forEach(d=>{a=a.insert(d.key,d)}),a))}}class iO{constructor(n,t,o,i){this.persistence=n,this.Li=t,this.It=i,this.Ui=new br(Qt),this.qi=new yd(a=>dp(a),tv),this.Ki=new Map,this.Gi=n.getRemoteDocumentCache(),this.Cs=n.getTargetCache(),this.Ns=n.getBundleCache(),this.Qi(o)}Qi(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new kN(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>n.collect(t,this.Ui))}}function PN(r,n,t,o){return new iO(r,n,t,o)}function RN(r,n){return uS.apply(this,arguments)}function uS(){return uS=(0,Te.Z)(function*(r,n){const t=tt(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let i;return t.mutationQueue.getAllMutationBatches(o).next(a=>(i=a,t.Qi(n),t.mutationQueue.getAllMutationBatches(o))).next(a=>{const d=[],p=[];let y=en();for(const w of i){d.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}for(const w of a){p.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}return t.localDocuments.getDocuments(o,y).next(w=>({ji:w,removedBatchIds:d,addedBatchIds:p}))})})}),uS.apply(this,arguments)}function sO(r,n){const t=tt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const i=n.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,p,y,w){const D=y.batch,x=D.keys();let F=ce.resolve();return x.forEach($=>{F=F.next(()=>w.getEntry(p,$)).next(ee=>{const Se=y.docVersions.get($);Pt(null!==Se),ee.version.compareTo(Se)<0&&(D.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),w.addEntry(ee)))})}),F.next(()=>d.mutationQueue.removeMutationBatch(p,D))}(t,o,n,a).next(()=>a.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,i,n.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(d){let p=en();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(n))).next(()=>t.localDocuments.getDocuments(o,i))})}function ON(r){const n=tt(r);return n.persistence.runTransaction("Get last remote snapshot version","readonly",t=>n.Cs.getLastRemoteSnapshotVersion(t))}function aO(r,n){const t=tt(r),o=n.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const p=[];n.targetChanges.forEach((D,x)=>{const F=i.get(x);if(!F)return;p.push(t.Cs.removeMatchingKeys(a,D.removedDocuments,x).next(()=>t.Cs.addMatchingKeys(a,D.addedDocuments,x)));let $=F.withSequenceNumber(a.currentSequenceNumber);var ee,Se,Be;n.targetMismatches.has(x)?$=$.withResumeToken(io.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):D.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(D.resumeToken,o)),i=i.insert(x,$),Se=$,Be=D,(0===(ee=F).resumeToken.approximateByteSize()||Se.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||Be.addedDocuments.size+Be.modifiedDocuments.size+Be.removedDocuments.size>0)&&p.push(t.Cs.updateTargetData(a,$))});let y=ji(),w=en();if(n.documentUpdates.forEach(D=>{n.resolvedLimboDocuments.has(D)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(a,D))}),p.push(LN(a,d,n.documentUpdates).next(D=>{y=D.Wi,w=D.zi})),!o.isEqual(Rt.min())){const D=t.Cs.getLastRemoteSnapshotVersion(a).next(x=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,o));p.push(D)}return ce.waitFor(p).next(()=>d.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,w)).next(()=>y)}).then(a=>(t.Ui=i,a))}function LN(r,n,t){let o=en(),i=en();return t.forEach(a=>o=o.add(a)),n.getEntries(r,o).next(a=>{let d=ji();return t.forEach((p,y)=>{const w=a.get(p);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(p)),y.isNoDocument()&&y.version.isEqual(Rt.min())?(n.removeEntry(p,y.readTime),d=d.insert(p,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(n.addEntry(y),d=d.insert(p,y)):Ve("LocalStore","Ignoring outdated watch update for ",p,". Current version:",w.version," Watch version:",y.version)}),{Wi:d,zi:i}})}function lO(r,n){const t=tt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===n&&(n=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,n)))}function jf(r,n){const t=tt(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let i;return t.Cs.getTargetData(o,n).next(a=>a?(i=a,ce.resolve(i)):t.Cs.allocateTargetId(o).next(d=>(i=new vd(n,d,0,o.currentSequenceNumber),t.Cs.addTargetData(o,i).next(()=>i))))}).then(o=>{const i=t.Ui.get(o.targetId);return(null===i||o.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(o.targetId,o),t.qi.set(n,o.targetId)),o})}function $f(r,n,t){return cS.apply(this,arguments)}function cS(){return cS=(0,Te.Z)(function*(r,n,t){const o=tt(r),i=o.Ui.get(n),a=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",a,d=>o.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!hd(d))throw d;Ve("LocalStore",`Failed to update sequence numbers for target ${n}: ${d}`)}o.Ui=o.Ui.remove(n),o.qi.delete(i.target)}),cS.apply(this,arguments)}function Dw(r,n,t){const o=tt(r);let i=Rt.min(),a=en();return o.persistence.runTransaction("Execute query","readonly",d=>function(p,y,w){const D=tt(p),x=D.qi.get(w);return void 0!==x?ce.resolve(D.Ui.get(x)):D.Cs.getTargetData(y,w)}(o,d,yi(n)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(d,p.targetId).next(y=>{a=y})}).next(()=>o.Li.getDocumentsMatchingQuery(d,n,t?i:Rt.min(),t?a:en())).next(p=>(VN(o,wk(n),p),{documents:p,Hi:a})))}function FN(r,n){const t=tt(r),o=tt(t.Cs),i=t.Ui.get(n);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>o.se(a,n).next(d=>d?d.target:null))}function qN(r,n){const t=tt(r),o=t.Ki.get(n)||Rt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,n,zZ(o,-1),Number.MAX_SAFE_INTEGER)).then(i=>(VN(t,n,i),i))}function VN(r,n,t){let o=r.Ki.get(n)||Rt.min();t.forEach((i,a)=>{a.readTime.compareTo(o)>0&&(o=a.readTime)}),r.Ki.set(n,o)}function dS(){return dS=(0,Te.Z)(function*(r,n,t,o){const i=tt(r);let a=en(),d=ji();for(const w of t){const D=n.Ji(w.metadata.name);w.document&&(a=a.add(D));const x=n.Yi(w);x.setReadTime(n.Xi(w.metadata.readTime)),d=d.insert(D,x)}const p=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield jf(i,(w=o,yi(Uf(Tn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>LN(w,p,d).next(D=>(p.apply(w),D)).next(D=>i.Cs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.Cs.addMatchingKeys(w,a,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,D.Wi,D.zi)).next(()=>D.Wi)))}),dS.apply(this,arguments)}function cO(r,n){return hS.apply(this,arguments)}function hS(){return hS=(0,Te.Z)(function*(r,n,t=en()){const o=yield jf(r,yi(tS(n.bundledQuery))),i=tt(r);return i.persistence.runTransaction("Save named query","readwrite",a=>{const d=yo(n.readTime);if(o.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(a,n);const p=o.withResumeToken(io.EMPTY_BYTE_STRING,d);return i.Ui=i.Ui.insert(p.targetId,p),i.Cs.updateTargetData(a,p).next(()=>i.Cs.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,o.targetId)).next(()=>i.Ns.saveNamedQuery(a,n))})}),hS.apply(this,arguments)}function BN(r,n){return`firestore_clients_${r}_${n}`}function jN(r,n,t){let o=`firestore_mutations_${r}_${t}`;return n.isAuthenticated()&&(o+=`_${n.uid}`),o}function pS(r,n){return`firestore_targets_${r}_${n}`}class Sw{constructor(n,t,o,i){this.user=n,this.batchId=t,this.state=o,this.error=i}static Zi(n,t,o){const i=JSON.parse(o);let a,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(a=new Re(i.error.code,i.error.message))),d?new Sw(n,t,i.state,a):(Ur("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}tr(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Cv{constructor(n,t,o){this.targetId=n,this.state=t,this.error=o}static Zi(n,t){const o=JSON.parse(t);let i,a="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code,a&&(i=new Re(o.error.code,o.error.message))),a?new Cv(n,o.state,i):(Ur("SharedClientState",`Failed to parse target state for ID '${n}': ${t}`),null)}tr(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class xw{constructor(n,t){this.clientId=n,this.activeTargetIds=t}static Zi(n,t){const o=JSON.parse(t);let i="object"==typeof o&&o.activeTargetIds instanceof Array,a=fw();for(let d=0;i&&d<o.activeTargetIds.length;++d)i=ik(o.activeTargetIds[d]),a=a.add(o.activeTargetIds[d]);return i?new xw(n,a):(Ur("SharedClientState",`Failed to parse client data for instance '${n}': ${t}`),null)}}class gS{constructor(n,t){this.clientId=n,this.onlineState=t}static Zi(n){const t=JSON.parse(n);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gS(t.clientId,t.onlineState):(Ur("SharedClientState",`Failed to parse online state: ${n}`),null)}}class fS{constructor(){this.activeTargetIds=fw()}er(n){this.activeTargetIds=this.activeTargetIds.add(n)}nr(n){this.activeTargetIds=this.activeTargetIds.delete(n)}tr(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class _S{constructor(n,t,o,i,a){this.window=n,this.Hs=t,this.persistenceKey=o,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new br(Qt),this.started=!1,this.cr=[];const d=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=BN(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new fS),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,Te.Z)(function*(){const t=yield n.syncEngine.vi();for(const i of t){if(i===n.sr)continue;const a=n.getItem(BN(n.persistenceKey,i));if(a){const d=xw.Zi(i,a);d&&(n.ur=n.ur.insert(d.clientId,d))}}n.gr();const o=n.storage.getItem(n.wr);if(o){const i=n.yr(o);i&&n.pr(i)}for(const i of n.cr)n.rr(i);n.cr=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.hr,JSON.stringify(n))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(n){let t=!1;return this.ur.forEach((o,i)=>{i.activeTargetIds.has(n)&&(t=!0)}),t}addPendingMutation(n){this.Tr(n,"pending")}updateMutationState(n,t,o){this.Tr(n,t,o),this.Er(n)}addLocalQueryTarget(n){let t="not-current";if(this.isActiveQueryTarget(n)){const o=this.storage.getItem(pS(this.persistenceKey,n));if(o){const i=Cv.Zi(n,o);i&&(t=i.state)}}return this.Ar.er(n),this.gr(),t}removeLocalQueryTarget(n){this.Ar.nr(n),this.gr()}isLocalQueryTarget(n){return this.Ar.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(pS(this.persistenceKey,n))}updateQueryState(n,t,o){this.Rr(n,t,o)}handleUserChange(n,t,o){t.forEach(i=>{this.Er(i)}),this.currentUser=n,o.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(n){this.br(n)}notifyBundleLoaded(n){this.Pr(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(n){const t=this.storage.getItem(n);return Ve("SharedClientState","READ",n,t),t}setItem(n,t){Ve("SharedClientState","SET",n,t),this.storage.setItem(n,t)}removeItem(n){Ve("SharedClientState","REMOVE",n),this.storage.removeItem(n)}rr(n){var t=this;const o=n;if(o.storageArea===this.storage){if(Ve("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void Ur("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Te.Z)(function*(){if(t.started){if(null!==o.key)if(t.lr.test(o.key)){if(null==o.newValue){const i=t.vr(o.key);return t.Vr(i,null)}{const i=t.Sr(o.key,o.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const i=t.Dr(o.key,o.newValue);if(i)return t.Cr(i)}}else if(t._r.test(o.key)){if(null!==o.newValue){const i=t.Nr(o.key,o.newValue);if(i)return t.kr(i)}}else if(o.key===t.wr){if(null!==o.newValue){const i=t.yr(o.newValue);if(i)return t.pr(i)}}else if(o.key===t.hr){const i=function(a){let d=Bi.at;if(null!=a)try{const p=JSON.parse(a);Pt("number"==typeof p),d=p}catch(p){Ur("SharedClientState","Failed to read sequence number from WebStorage",p)}return d}(o.newValue);i!==Bi.at&&t.sequenceNumberHandler(i)}else if(o.key===t.mr){const i=t.Or(o.newValue);yield Promise.all(i.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(n,t,o){const i=new Sw(this.currentUser,n,t,o),a=jN(this.persistenceKey,this.currentUser,n);this.setItem(a,i.tr())}Er(n){const t=jN(this.persistenceKey,this.currentUser,n);this.removeItem(t)}br(n){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:n}))}Rr(n,t,o){const i=pS(this.persistenceKey,n),a=new Cv(n,t,o);this.setItem(i,a.tr())}Pr(n){const t=JSON.stringify(Array.from(n));this.setItem(this.mr,t)}vr(n){const t=this.lr.exec(n);return t?t[1]:null}Sr(n,t){const o=this.vr(n);return xw.Zi(o,t)}Dr(n,t){const o=this.dr.exec(n),i=Number(o[1]);return Sw.Zi(new mo(void 0!==o[2]?o[2]:null),i,t)}Nr(n,t){const o=this._r.exec(n),i=Number(o[1]);return Cv.Zi(i,t)}yr(n){return gS.Zi(n)}Or(n){return JSON.parse(n)}Cr(n){var t=this;return(0,Te.Z)(function*(){if(n.user.uid===t.currentUser.uid)return t.syncEngine.Fr(n.batchId,n.state,n.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}kr(n){return this.syncEngine.$r(n.targetId,n.state,n.error)}Vr(n,t){const o=t?this.ur.insert(n,t):this.ur.remove(n),i=this.Ir(this.ur),a=this.Ir(o),d=[],p=[];return a.forEach(y=>{i.has(y)||d.push(y)}),i.forEach(y=>{a.has(y)||p.push(y)}),this.syncEngine.Br(d,p).then(()=>{this.ur=o})}pr(n){this.ur.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}Ir(n){let t=fw();return n.forEach((o,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class $N{constructor(){this.Lr=new fS,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,t,o){}addLocalQueryTarget(n){return this.Lr.er(n),this.Ur[n]||"not-current"}updateQueryState(n,t,o){this.Ur[n]=t}removeLocalQueryTarget(n){this.Lr.nr(n)}isLocalQueryTarget(n){return this.Lr.activeTargetIds.has(n)}clearQueryState(n){delete this.Ur[n]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(n){return this.Lr.activeTargetIds.has(n)}start(){return this.Lr=new fS,Promise.resolve()}handleUserChange(n,t,o){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class dO{qr(n){}shutdown(){}}class GN{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(n){this.Wr.push(n)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.Wr)n(0)}jr(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.Wr)n(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const hO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pO{constructor(n){this.Hr=n.Hr,this.Jr=n.Jr}Yr(n){this.Xr=n}Zr(n){this.eo=n}onMessage(n){this.no=n}close(){this.Jr()}send(n){this.Hr(n)}so(){this.Xr()}io(n){this.eo(n)}ro(n){this.no(n)}}class gO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.oo=(n.ssl?"https":"http")+"://"+n.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(n,t,o,i,a){const d=this.ho(n,t);Ve("RestConnection","Sending: ",d,o);const p={};return this.lo(p,i,a),this.fo(n,d,p,o).then(y=>(Ve("RestConnection","Received: ",y),y),y=>{throw op("RestConnection",`${n} failed with error: `,y,"url: ",d,"request:",o),y})}_o(n,t,o,i,a,d){return this.ao(n,t,o,i,a)}lo(n,t,o){n["X-Goog-Api-Client"]="gl-js/ fire/"+Sf,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>n[a]=i),o&&o.headers.forEach((i,a)=>n[a]=i)}ho(n,t){return`${this.oo}/v1/${t}:${hO[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}fo(n,t,o,i){return new Promise((a,d)=>{const p=new hP;p.setWithCredentials(!0),p.listenOnce(uP.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case kD.NO_ERROR:const w=p.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(w)),a(w);break;case kD.TIMEOUT:Ve("Connection",'RPC "'+n+'" timed out'),d(new Re(_e.DEADLINE_EXCEEDED,"Request time out"));break;case kD.HTTP_ERROR:const D=p.getStatus();if(Ve("Connection",'RPC "'+n+'" failed with status:',D,"response text:",p.getResponseText()),D>0){const x=p.getResponseJson().error;if(x&&x.status&&x.message){const F=function($){const ee=$.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(ee)>=0?ee:_e.UNKNOWN}(x.status);d(new Re(F,x.message))}else d(new Re(_e.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Re(_e.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{Ve("Connection",'RPC "'+n+'" completed.')}});const y=JSON.stringify(i);p.send(t,"POST",y,o,15)})}wo(n,t,o){const i=[this.oo,"/","google.firestore.v1.Firestore","/",n,"/channel"],a=aP(),d=lP(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new dP({})),this.lo(p.initMessageHeaders,t,o),p.encodeInitMessageHeaders=!0;const y=i.join("");Ve("Connection","Creating WebChannel: "+y,p);const w=a.createWebChannel(y,p);let D=!1,x=!1;const F=new pO({Hr:ee=>{x?Ve("Connection","Not sending because WebChannel is closed:",ee):(D||(Ve("Connection","Opening WebChannel transport."),w.open(),D=!0),Ve("Connection","WebChannel sending:",ee),w.send(ee))},Jr:()=>w.close()}),$=(ee,Se,Be)=>{ee.listen(Se,ct=>{try{Be(ct)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return $(w,nw.EventType.OPEN,()=>{x||Ve("Connection","WebChannel transport opened.")}),$(w,nw.EventType.CLOSE,()=>{x||(x=!0,Ve("Connection","WebChannel transport closed"),F.io())}),$(w,nw.EventType.ERROR,ee=>{x||(x=!0,op("Connection","WebChannel transport errored:",ee),F.io(new Re(_e.UNAVAILABLE,"The operation could not be completed")))}),$(w,nw.EventType.MESSAGE,ee=>{var Se;if(!x){const Be=ee.data[0];Pt(!!Be);const ct=Be,Ot=ct.error||(null===(Se=ct[0])||void 0===Se?void 0:Se.error);if(Ot){Ve("Connection","WebChannel received error:",Ot);const Jt=Ot.status;let bt=function(rn){const so=jr[rn];if(void 0!==so)return Lk(so)}(Jt),Vt=Ot.message;void 0===bt&&(bt=_e.INTERNAL,Vt="Unknown error status: "+Jt+" with message "+Ot.message),x=!0,F.io(new Re(bt,Vt)),w.close()}else Ve("Connection","WebChannel received:",Be),F.ro(Be)}}),$(d,cP.STAT_EVENT,ee=>{ee.stat===$Z.PROXY?Ve("Connection","Detected buffering proxy"):ee.stat===$Z.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.so()},0),F}}function HN(){return"undefined"!=typeof window?window:null}function Zw(){return"undefined"!=typeof document?document:null}function Tv(r){return new iR(r,!0)}class mS{constructor(n,t,o=1e3,i=1.5,a=6e4){this.Hs=n,this.timerId=t,this.mo=o,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(n){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-o);i>0&&Ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),n())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class JN{constructor(n,t,o,i,a,d,p,y){this.Hs=n,this.vo=o,this.Vo=i,this.So=a,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new mS(n,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var n=this;return(0,Te.Z)(function*(){n.ko()&&(yield n.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(n){this.Uo(),this.stream.send(n)}Bo(){var n=this;return(0,Te.Z)(function*(){if(n.Oo())return n.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(n,t){var o=this;return(0,Te.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==n?o.No.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(Ur(t.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):t&&t.code===_e.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=n,yield o.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const n=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,i])=>{this.Do===t&&this.Qo(o,i)},o=>{n(()=>{const i=new Re(_e.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(i)})})}Qo(n,t){const o=this.Go(this.Do);this.stream=this.Wo(n,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{o(()=>this.jo(i))}),this.stream.onMessage(i=>{o(()=>this.onMessage(i))})}Mo(){var n=this;this.state=5,this.No.Ro((0,Te.Z)(function*(){n.state=0,n.start()}))}jo(n){return Ve("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}Go(n){return t=>{this.Hs.enqueueAndForget(()=>this.Do===n?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fO extends JN{constructor(n,t,o,i,a,d){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,i,d),this.It=a}Wo(n,t){return this.So.wo("Listen",n,t)}onMessage(n){this.No.reset();const t=function lR(r,n){let t;if("targetChange"in n){const o="NO_CHANGE"===(y=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:ht(),i=n.targetChange.targetIds||[],a=function(y,w){return y.gt?(Pt(void 0===w||"string"==typeof w),io.fromBase64String(w||"")):(Pt(void 0===w||w instanceof Uint8Array),io.fromUint8Array(w||new Uint8Array))}(r,n.targetChange.resumeToken),d=n.targetChange.cause,p=d&&function(y){const w=void 0===y.code?_e.UNKNOWN:Lk(y.code);return new Re(w,y.message||"")}(d);t=new jk(o,i,a,p||null)}else if("documentChange"in n){const o=n.documentChange,i=Gl(r,o.document.name),a=yo(o.document.updateTime),d=new Oo({mapValue:{fields:o.document.fields}}),p=Jn.newFoundDocument(i,a,d);t=new _w(o.targetIds||[],o.removedTargetIds||[],p.key,p)}else if("documentDelete"in n){const o=n.documentDelete,i=Gl(r,o.document),a=o.readTime?yo(o.readTime):Rt.min(),d=Jn.newNoDocument(i,a);t=new _w([],o.removedTargetIds||[],d.key,d)}else if("documentRemove"in n){const o=n.documentRemove,i=Gl(r,o.document);t=new _w([],o.removedTargetIds||[],i,null)}else{if(!("filter"in n))return ht();{const o=n.filter,a=new KP(o.count||0);t=new Bk(o.targetId,a)}}var y;return t}(this.It,n),o=function(i){if(!("targetChange"in i))return Rt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Rt.min():a.readTime?yo(a.readTime):Rt.min()}(n);return this.listener.zo(t,o)}Ho(n){const t={};t.database=dv(this.It),t.addTarget=function(i,a){let d;const p=a.target;return d=uw(p)?{documents:Xk(i,p)}:{query:zD(i,p)},d.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?d.resumeToken=Jk(i,a.resumeToken):a.snapshotVersion.compareTo(Rt.min())>0&&(d.readTime=uv(i,a.snapshotVersion.toTimestamp())),d}(this.It,n);const o=function cR(r,n){const t=function(o,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ht()}}(0,n.purpose);return null==t?null:{"goog-listen-tags":t}}(0,n);o&&(t.labels=o),this.Lo(t)}Jo(n){const t={};t.database=dv(this.It),t.removeTarget=n,this.Lo(t)}}class _O extends JN{constructor(n,t,o,i,a,d){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,i,d),this.It=a,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(n,t){return this.So.wo("Write",n,t)}onMessage(n){if(Pt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Yo){this.No.reset();const t=function uR(r,n){return r&&r.length>0?(Pt(void 0!==n),r.map(t=>function(o,i){let a=yo(o.updateTime?o.updateTime:i);return a.isEqual(Rt.min())&&(a=yo(i)),new WP(a,o.transformResults||[])}(t,n))):[]}(n.writeResults,n.commitTime),o=yo(n.commitTime);return this.listener.tu(o,t)}return Pt(!n.writeResults||0===n.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const n={};n.database=dv(this.It),this.Lo(n)}Zo(n){const t={streamToken:this.lastStreamToken,writes:n.map(o=>hv(this.It,o))};this.Lo(t)}}class mO extends class{}{constructor(n,t,o,i){super(),this.authCredentials=n,this.appCheckCredentials=t,this.So=o,this.It=i,this.su=!1}iu(){if(this.su)throw new Re(_e.FAILED_PRECONDITION,"The client has already been terminated.")}ao(n,t,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.So.ao(n,t,o,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(_e.UNKNOWN,i.toString())})}_o(n,t,o,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.So._o(n,t,o,a,d,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(_e.UNKNOWN,a.toString())})}terminate(){this.su=!0}}class vO{constructor(n,t){this.asyncQueue=n,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(n){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.au("Offline")))}set(n){this.fu(),this.ru=0,"Online"===n&&(this.uu=!1),this.au(n)}au(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}hu(n){const t=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Ur(t),this.uu=!1):Ve("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class CO{constructor(n,t,o,i,a){var d=this;this.localStore=n,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.qr(p=>{o.enqueueAndForget((0,Te.Z)(function*(){var y;Xu(d)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Te.Z)(function*(w){const D=tt(w);D.wu.add(4),yield Gf(D),D.yu.set("Unknown"),D.wu.delete(4),yield wv(D)}),function(w){return y.apply(this,arguments)})(d))}))}),this.yu=new vO(o,i)}}function wv(r){return vS.apply(this,arguments)}function vS(){return vS=(0,Te.Z)(function*(r){if(Xu(r))for(const n of r.mu)yield n(!0)}),vS.apply(this,arguments)}function Gf(r){return CS.apply(this,arguments)}function CS(){return CS=(0,Te.Z)(function*(r){for(const n of r.mu)yield n(!1)}),CS.apply(this,arguments)}function kw(r,n){const t=tt(r);t._u.has(n.targetId)||(t._u.set(n.targetId,n),bS(t)?wS(t):Jf(t).Oo()&&TS(t,n))}function bv(r,n){const t=tt(r),o=Jf(t);t._u.delete(n),o.Oo()&&WN(t,n),0===t._u.size&&(o.Oo()?o.$o():Xu(t)&&t.yu.set("Unknown"))}function TS(r,n){r.pu.Mt(n.targetId),Jf(r).Ho(n)}function WN(r,n){r.pu.Mt(n),Jf(r).Jo(n)}function wS(r){r.pu=new nR({getRemoteKeysForTarget:n=>r.remoteSyncer.getRemoteKeysForTarget(n),se:n=>r._u.get(n)||null}),Jf(r).start(),r.yu.cu()}function bS(r){return Xu(r)&&!Jf(r).ko()&&r._u.size>0}function Xu(r){return 0===tt(r).wu.size}function QN(r){r.pu=void 0}function TO(r){return AS.apply(this,arguments)}function AS(){return AS=(0,Te.Z)(function*(r){r._u.forEach((n,t)=>{TS(r,n)})}),AS.apply(this,arguments)}function wO(r,n){return IS.apply(this,arguments)}function IS(){return IS=(0,Te.Z)(function*(r,n){QN(r),bS(r)?(r.yu.lu(n),wS(r)):r.yu.set("Unknown")}),IS.apply(this,arguments)}function bO(r,n,t){return ES.apply(this,arguments)}function ES(){return ES=(0,Te.Z)(function*(r,n,t){if(r.yu.set("Online"),n instanceof jk&&2===n.state&&n.cause)try{yield(o=(0,Te.Z)(function*(i,a){const d=a.cause;for(const p of a.targetIds)i._u.has(p)&&(yield i.remoteSyncer.rejectListen(p,d),i._u.delete(p),i.pu.removeTarget(p))}),function(i,a){return o.apply(this,arguments)})(r,n)}catch(o){Ve("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),o),yield Nw(r,o)}else if(n instanceof _w?r.pu.Gt(n):n instanceof Bk?r.pu.Yt(n):r.pu.Wt(n),!t.isEqual(Rt.min()))try{const o=yield ON(r.localStore);t.compareTo(o)>=0&&(yield function(i,a){const d=i.pu.te(a);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=i._u.get(y);w&&i._u.set(y,w.withResumeToken(p.resumeToken,a))}}),d.targetMismatches.forEach(p=>{const y=i._u.get(p);if(!y)return;i._u.set(p,y.withResumeToken(io.EMPTY_BYTE_STRING,y.snapshotVersion)),WN(i,p);const w=new vd(y.target,p,1,y.sequenceNumber);TS(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(r,t))}catch(o){Ve("RemoteStore","Failed to raise snapshot:",o),yield Nw(r,o)}var o}),ES.apply(this,arguments)}function Nw(r,n,t){return DS.apply(this,arguments)}function DS(){return DS=(0,Te.Z)(function*(r,n,t){if(!hd(n))throw n;r.wu.add(1),yield Gf(r),r.yu.set("Offline"),t||(t=()=>ON(r.localStore)),r.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),r.wu.delete(1),yield wv(r)}))}),DS.apply(this,arguments)}function zN(r,n){return n().catch(t=>Nw(r,t,n))}function Hf(r){return SS.apply(this,arguments)}function SS(){return SS=(0,Te.Z)(function*(r){const n=tt(r),t=wd(n);let o=n.du.length>0?n.du[n.du.length-1].batchId:-1;for(;AO(n);)try{const i=yield lO(n.localStore,o);if(null===i){0===n.du.length&&t.$o();break}o=i.batchId,IO(n,i)}catch(i){yield Nw(n,i)}KN(n)&&YN(n)}),SS.apply(this,arguments)}function AO(r){return Xu(r)&&r.du.length<10}function IO(r,n){r.du.push(n);const t=wd(r);t.Oo()&&t.Xo&&t.Zo(n.mutations)}function KN(r){return Xu(r)&&!wd(r).ko()&&r.du.length>0}function YN(r){wd(r).start()}function EO(r){return xS.apply(this,arguments)}function xS(){return xS=(0,Te.Z)(function*(r){wd(r).nu()}),xS.apply(this,arguments)}function DO(r){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,Te.Z)(function*(r){const n=wd(r);for(const t of r.du)n.Zo(t.mutations)}),ZS.apply(this,arguments)}function SO(r,n,t){return kS.apply(this,arguments)}function kS(){return kS=(0,Te.Z)(function*(r,n,t){const o=r.du.shift(),i=XD.from(o,n,t);yield zN(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),yield Hf(r)}),kS.apply(this,arguments)}function xO(r,n){return NS.apply(this,arguments)}function NS(){return NS=(0,Te.Z)(function*(r,n){var t;n&&wd(r).Xo&&(yield(t=(0,Te.Z)(function*(o,i){if(Ok(a=i.code)&&a!==_e.ABORTED){const d=o.du.shift();wd(o).Fo(),yield zN(o,()=>o.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield Hf(o)}var a}),function(o,i){return t.apply(this,arguments)})(r,n)),KN(r)&&YN(r)}),NS.apply(this,arguments)}function XN(r,n){return US.apply(this,arguments)}function US(){return US=(0,Te.Z)(function*(r,n){const t=tt(r);t.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const o=Xu(t);t.wu.add(3),yield Gf(t),o&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(n),t.wu.delete(3),yield wv(t)}),US.apply(this,arguments)}function MS(r,n){return PS.apply(this,arguments)}function PS(){return PS=(0,Te.Z)(function*(r,n){const t=tt(r);n?(t.wu.delete(2),yield wv(t)):n||(t.wu.add(2),yield Gf(t),t.yu.set("Unknown"))}),PS.apply(this,arguments)}function Jf(r){return r.Iu||(r.Iu=function(n,t,o){const i=tt(n);return i.iu(),new fO(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,o)}(r.datastore,r.asyncQueue,{Yr:TO.bind(null,r),Zr:wO.bind(null,r),zo:bO.bind(null,r)}),r.mu.push(function(){var n=(0,Te.Z)(function*(t){t?(r.Iu.Fo(),bS(r)?wS(r):r.yu.set("Unknown")):(yield r.Iu.stop(),QN(r))});return function(t){return n.apply(this,arguments)}}())),r.Iu}function wd(r){return r.Tu||(r.Tu=function(n,t,o){const i=tt(n);return i.iu(),new _O(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,o)}(r.datastore,r.asyncQueue,{Yr:EO.bind(null,r),Zr:xO.bind(null,r),eu:DO.bind(null,r),tu:SO.bind(null,r)}),r.mu.push(function(){var n=(0,Te.Z)(function*(t){t?(r.Tu.Fo(),yield Hf(r)):(yield r.Tu.stop(),r.du.length>0&&(Ve("RemoteStore",`Stopping write stream with ${r.du.length} pending writes`),r.du=[]))});return function(t){return n.apply(this,arguments)}}())),r.Tu}class RS{constructor(n,t,o,i,a){this.asyncQueue=n,this.timerId=t,this.targetTimeMs=o,this.op=i,this.removalCallback=a,this.deferred=new oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(n,t,o,i,a){const d=Date.now()+o,p=new RS(n,t,d,i,a);return p.start(o),p}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(_e.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wf(r,n){if(Ur("AsyncQueue",`${n}: ${r}`),hd(r))return new Re(_e.UNAVAILABLE,`${n}: ${r}`);throw r}class Qf{constructor(n){this.comparator=n?(t,o)=>n(t,o)||ze.comparator(t.key,o.key):(t,o)=>ze.comparator(t.key,o.key),this.keyedMap=iv(),this.sortedSet=new br(this.comparator)}static emptySet(n){return new Qf(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const t=this.keyedMap.get(n);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((t,o)=>(n(t),!1))}add(n){const t=this.delete(n.key);return t.copy(t.keyedMap.insert(n.key,n),t.sortedSet.insert(n,null))}delete(n){const t=this.get(n);return t?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(t)):this}isEqual(n){if(!(n instanceof Qf)||this.size!==n.size)return!1;const t=this.sortedSet.getIterator(),o=n.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=o.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const n=[];return this.forEach(t=>{n.push(t.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,t){const o=new Qf;return o.comparator=this.comparator,o.keyedMap=n,o.sortedSet=t,o}}class eU{constructor(){this.Eu=new br(ze.comparator)}track(n){const t=n.doc.key,o=this.Eu.get(t);o?0!==n.type&&3===o.type?this.Eu=this.Eu.insert(t,n):3===n.type&&1!==o.type?this.Eu=this.Eu.insert(t,{type:o.type,doc:n.doc}):2===n.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:n.doc}):2===n.type&&0===o.type?this.Eu=this.Eu.insert(t,{type:0,doc:n.doc}):1===n.type&&0===o.type?this.Eu=this.Eu.remove(t):1===n.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:1,doc:o.doc}):0===n.type&&1===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:n.doc}):ht():this.Eu=this.Eu.insert(t,n)}Au(){const n=[];return this.Eu.inorderTraversal((t,o)=>{n.push(o)}),n}}class zf{constructor(n,t,o,i,a,d,p,y,w){this.query=n,this.docs=t,this.oldDocs=o,this.docChanges=i,this.mutatedKeys=a,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=w}static fromInitialDocuments(n,t,o,i,a){const d=[];return t.forEach(p=>{d.push({type:0,doc:p})}),new zf(n,t,Qf.emptySet(t),d,o,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&nv(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const t=this.docChanges,o=n.docChanges;if(t.length!==o.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==o[i].type||!t[i].doc.isEqual(o[i].doc))return!1;return!0}}class ZO{constructor(){this.Ru=void 0,this.listeners=[]}}class kO{constructor(){this.queries=new yd(n=>Tk(n),nv),this.onlineState="Unknown",this.bu=new Set}}function OS(r,n){return LS.apply(this,arguments)}function LS(){return LS=(0,Te.Z)(function*(r,n){const t=tt(r),o=n.query;let i=!1,a=t.queries.get(o);if(a||(i=!0,a=new ZO),i)try{a.Ru=yield t.onListen(o)}catch(d){const p=Wf(d,`Initialization of query '${$D(n.query)}' failed`);return void n.onError(p)}t.queries.set(o,a),a.listeners.push(n),n.Pu(t.onlineState),a.Ru&&n.vu(a.Ru)&&VS(t)}),LS.apply(this,arguments)}function FS(r,n){return qS.apply(this,arguments)}function qS(){return qS=(0,Te.Z)(function*(r,n){const t=tt(r),o=n.query;let i=!1;const a=t.queries.get(o);if(a){const d=a.listeners.indexOf(n);d>=0&&(a.listeners.splice(d,1),i=0===a.listeners.length)}if(i)return t.queries.delete(o),t.onUnlisten(o)}),qS.apply(this,arguments)}function NO(r,n){const t=tt(r);let o=!1;for(const i of n){const d=t.queries.get(i.query);if(d){for(const p of d.listeners)p.vu(i)&&(o=!0);d.Ru=i}}o&&VS(t)}function UO(r,n,t){const o=tt(r),i=o.queries.get(n);if(i)for(const a of i.listeners)a.onError(t);o.queries.delete(n)}function VS(r){r.bu.forEach(n=>{n.next()})}class BS{constructor(n,t,o){this.query=n,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}vu(n){if(!this.options.includeMetadataChanges){const o=[];for(const i of n.docChanges)3!==i.type&&o.push(i);n=new zf(n.query,n.docs,n.oldDocs,o,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let t=!1;return this.Su?this.Cu(n)&&(this.Vu.next(n),t=!0):this.xu(n,this.onlineState)&&(this.Nu(n),t=!0),this.Du=n,t}onError(n){this.Vu.error(n)}Pu(n){this.onlineState=n;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,n)&&(this.Nu(this.Du),t=!0),t}xu(n,t){return!n.fromCache||(!this.options.ku||!("Offline"!==t))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===t)}Cu(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(n){n=zf.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Su=!0,this.Vu.next(n)}}class MO{constructor(n,t){this.payload=n,this.byteLength=t}Ou(){return"metadata"in this.payload}}class tU{constructor(n){this.It=n}Ji(n){return Gl(this.It,n)}Yi(n){return n.metadata.exists?Yk(this.It,n.document,!1):Jn.newNoDocument(this.Ji(n.metadata.name),this.Xi(n.metadata.readTime))}Xi(n){return yo(n)}}class PO{constructor(n,t,o){this.Mu=n,this.localStore=t,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nU(n)}Fu(n){this.progress.bytesLoaded+=n.byteLength;let t=this.progress.documentsLoaded;if(n.payload.namedQuery)this.queries.push(n.payload.namedQuery);else if(n.payload.documentMetadata){this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++t;const o=Tn.fromString(n.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(n){const t=new Map,o=new tU(this.It);for(const i of n)if(i.metadata.queries){const a=o.Ji(i.metadata.name);for(const d of i.metadata.queries){const p=(t.get(d)||en()).add(a);t.set(d,p)}}return t}complete(){var n=this;return(0,Te.Z)(function*(){const t=yield function uO(r,n,t,o){return dS.apply(this,arguments)}(n.localStore,new tU(n.It),n.documents,n.Mu.id),o=n.$u(n.documents);for(const i of n.queries)yield cO(n.localStore,i,o.get(i.name));return n.progress.taskState="Success",{progress:n.progress,Bu:n.collectionGroups,Lu:t}})()}}function nU(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class rU{constructor(n){this.key=n}}class oU{constructor(n){this.key=n}}class iU{constructor(n,t){this.query=n,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=en(),this.mutatedKeys=en(),this.Gu=bk(n),this.Qu=new Qf(this.Gu)}get ju(){return this.Uu}Wu(n,t){const o=t?t.zu:new eU,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,d=i,p=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(n.inorderTraversal((D,x)=>{const F=i.get(D),$=GD(this.query,x)?x:null,ee=!!F&&this.mutatedKeys.has(F.key),Se=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let Be=!1;F&&$?F.data.isEqual($.data)?ee!==Se&&(o.track({type:3,doc:$}),Be=!0):this.Hu(F,$)||(o.track({type:2,doc:$}),Be=!0,(y&&this.Gu($,y)>0||w&&this.Gu($,w)<0)&&(p=!0)):!F&&$?(o.track({type:0,doc:$}),Be=!0):F&&!$&&(o.track({type:1,doc:F}),Be=!0,(y||w)&&(p=!0)),Be&&($?(d=d.add($),a=Se?a.add(D):a.delete(D)):(d=d.delete(D),a=a.delete(D)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const D="F"===this.query.limitType?d.last():d.first();d=d.delete(D.key),a=a.delete(D.key),o.track({type:1,doc:D})}return{Qu:d,zu:o,$i:p,mutatedKeys:a}}Hu(n,t){return n.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(n,t,o){const i=this.Qu;this.Qu=n.Qu,this.mutatedKeys=n.mutatedKeys;const a=n.zu.Au();a.sort((w,D)=>function(x,F){const $=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return $(x)-$(F)}(w.type,D.type)||this.Gu(w.doc,D.doc)),this.Ju(o);const d=t?this.Yu():[],p=0===this.Ku.size&&this.current?1:0,y=p!==this.qu;return this.qu=p,0!==a.length||y?{snapshot:new zf(this.query,n.Qu,i,a,n.mutatedKeys,0===p,y,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}Pu(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new eU,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(n){return!this.Uu.has(n)&&!!this.Qu.has(n)&&!this.Qu.get(n).hasLocalMutations}Ju(n){n&&(n.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),n.modifiedDocuments.forEach(t=>{}),n.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=n.current)}Yu(){if(!this.current)return[];const n=this.Ku;this.Ku=en(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return n.forEach(o=>{this.Ku.has(o)||t.push(new oU(o))}),this.Ku.forEach(o=>{n.has(o)||t.push(new rU(o))}),t}tc(n){this.Uu=n.Hi,this.Ku=en();const t=this.Wu(n.documents);return this.applyChanges(t,!0)}ec(){return zf.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class RO{constructor(n,t,o){this.query=n,this.targetId=t,this.view=o}}class OO{constructor(n){this.key=n,this.nc=!1}}class LO{constructor(n,t,o,i,a,d){this.localStore=n,this.remoteStore=t,this.eventManager=o,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new yd(p=>Tk(p),nv),this.rc=new Map,this.oc=new Set,this.uc=new br(ze.comparator),this.cc=new Map,this.ac=new oS,this.hc={},this.lc=new Map,this.fc=Cp.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function FO(r,n){return jS.apply(this,arguments)}function jS(){return jS=(0,Te.Z)(function*(r,n){const t=hx(r);let o,i;const a=t.ic.get(n);if(a)o=a.targetId,t.sharedClientState.addLocalQueryTarget(o),i=a.view.ec();else{const d=yield jf(t.localStore,yi(n));t.isPrimaryClient&&kw(t.remoteStore,d);const p=t.sharedClientState.addLocalQueryTarget(d.targetId);o=d.targetId,i=yield $S(t,n,o,"current"===p,d.resumeToken)}return i}),jS.apply(this,arguments)}function $S(r,n,t,o,i){return GS.apply(this,arguments)}function GS(){return GS=(0,Te.Z)(function*(r,n,t,o,i){r._c=(x,F,$)=>{return(ee=(0,Te.Z)(function*(Se,Be,ct,Ot){let Jt=Be.view.Wu(ct);Jt.$i&&(Jt=yield Dw(Se.localStore,Be.query,!1).then(({documents:rn})=>Be.view.Wu(rn,Jt)));const bt=Ot&&Ot.targetChanges.get(Be.targetId),Vt=Be.view.applyChanges(Jt,Se.isPrimaryClient,bt);return tx(Se,Be.targetId,Vt.Xu),Vt.snapshot}),function(Se,Be,ct,Ot){return ee.apply(this,arguments)})(r,x,F,$);var ee};const a=yield Dw(r.localStore,n,!0),d=new iU(n,a.Hi),p=d.Wu(a.documents),y=lv.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,i),w=d.applyChanges(p,r.isPrimaryClient,y);tx(r,t,w.Xu);const D=new RO(n,t,d);return r.ic.set(n,D),r.rc.has(t)?r.rc.get(t).push(n):r.rc.set(t,[n]),w.snapshot}),GS.apply(this,arguments)}function qO(r,n){return HS.apply(this,arguments)}function HS(){return HS=(0,Te.Z)(function*(r,n){const t=tt(r),o=t.ic.get(n),i=t.rc.get(o.targetId);if(i.length>1)return t.rc.set(o.targetId,i.filter(a=>!nv(a,n))),void t.ic.delete(n);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield $f(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),bv(t.remoteStore,o.targetId),Kf(t,o.targetId)}).catch(dd))):(Kf(t,o.targetId),yield $f(t.localStore,o.targetId,!0))}),HS.apply(this,arguments)}function JS(){return JS=(0,Te.Z)(function*(r,n,t){const o=px(r);try{const i=yield function(a,d){const p=tt(a),y=lr.now(),w=d.reduce((F,$)=>F.add($.key),en());let D,x;return p.persistence.runTransaction("Locally write mutations","readwrite",F=>{let $=ji(),ee=en();return p.Gi.getEntries(F,w).next(Se=>{$=Se,$.forEach((Be,ct)=>{ct.isValidDocument()||(ee=ee.add(Be))})}).next(()=>p.localDocuments.getOverlayedDocuments(F,$)).next(Se=>{D=Se;const Be=[];for(const ct of d){const Ot=zP(ct,D.get(ct.key).overlayedDocument);null!=Ot&&Be.push(new Yu(ct.key,Ot,hk(Ot.value.mapValue),ur.exists(!0)))}return p.mutationQueue.addMutationBatch(F,y,Be,d)}).next(Se=>{x=Se;const Be=Se.applyToLocalDocumentSet(D,ee);return p.documentOverlayCache.saveOverlays(F,Se.batchId,Be)})}).then(()=>({batchId:x.batchId,changes:qk(D)}))}(o.localStore,n);o.sharedClientState.addPendingMutation(i.batchId),function(a,d,p){let y=a.hc[a.currentUser.toKey()];y||(y=new br(Qt)),y=y.insert(d,p),a.hc[a.currentUser.toKey()]=y}(o,i.batchId,t),yield ec(o,i.changes),yield Hf(o.remoteStore)}catch(i){const a=Wf(i,"Failed to persist write");t.reject(a)}}),JS.apply(this,arguments)}function sU(r,n){return WS.apply(this,arguments)}function WS(){return WS=(0,Te.Z)(function*(r,n){const t=tt(r);try{const o=yield aO(t.localStore,n);n.targetChanges.forEach((i,a)=>{const d=t.cc.get(a);d&&(Pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.nc=!0:i.modifiedDocuments.size>0?Pt(d.nc):i.removedDocuments.size>0&&(Pt(d.nc),d.nc=!1))}),yield ec(t,o,n)}catch(o){yield dd(o)}}),WS.apply(this,arguments)}function aU(r,n,t){const o=tt(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const i=[];o.ic.forEach((a,d)=>{const p=d.view.Pu(n);p.snapshot&&i.push(p.snapshot)}),function(a,d){const p=tt(a);p.onlineState=d;let y=!1;p.queries.forEach((w,D)=>{for(const x of D.listeners)x.Pu(d)&&(y=!0)}),y&&VS(p)}(o.eventManager,n),i.length&&o.sc.zo(i),o.onlineState=n,o.isPrimaryClient&&o.sharedClientState.setOnlineState(n)}}function BO(r,n,t){return QS.apply(this,arguments)}function QS(){return QS=(0,Te.Z)(function*(r,n,t){const o=tt(r);o.sharedClientState.updateQueryState(n,"rejected",t);const i=o.cc.get(n),a=i&&i.key;if(a){let d=new br(ze.comparator);d=d.insert(a,Jn.newNoDocument(a,Rt.min()));const p=en().add(a),y=new av(Rt.min(),new Map,new Ln(Qt),d,p);yield sU(o,y),o.uc=o.uc.remove(a),o.cc.delete(n),nx(o)}else yield $f(o.localStore,n,!1).then(()=>Kf(o,n,t)).catch(dd)}),QS.apply(this,arguments)}function jO(r,n){return zS.apply(this,arguments)}function zS(){return zS=(0,Te.Z)(function*(r,n){const t=tt(r),o=n.batch.batchId;try{const i=yield sO(t.localStore,n);ex(t,o,null),XS(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield ec(t,i)}catch(i){yield dd(i)}}),zS.apply(this,arguments)}function $O(r,n,t){return KS.apply(this,arguments)}function KS(){return KS=(0,Te.Z)(function*(r,n,t){const o=tt(r);try{const i=yield function(a,d){const p=tt(a);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return p.mutationQueue.lookupMutationBatch(y,d).next(D=>(Pt(null!==D),w=D.keys(),p.mutationQueue.removeMutationBatch(y,D))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>p.localDocuments.getDocuments(y,w))})}(o.localStore,n);ex(o,n,t),XS(o,n),o.sharedClientState.updateMutationState(n,"rejected",t),yield ec(o,i)}catch(i){yield dd(i)}}),KS.apply(this,arguments)}function YS(){return YS=(0,Te.Z)(function*(r,n){const t=tt(r);Xu(t.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(a){const d=tt(a);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>d.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===o)return void n.resolve();const i=t.lc.get(o)||[];i.push(n),t.lc.set(o,i)}catch(o){const i=Wf(o,"Initialization of waitForPendingWrites() operation failed");n.reject(i)}}),YS.apply(this,arguments)}function XS(r,n){(r.lc.get(n)||[]).forEach(t=>{t.resolve()}),r.lc.delete(n)}function ex(r,n,t){const o=tt(r);let i=o.hc[o.currentUser.toKey()];if(i){const a=i.get(n);a&&(t?a.reject(t):a.resolve(),i=i.remove(n)),o.hc[o.currentUser.toKey()]=i}}function Kf(r,n,t=null){r.sharedClientState.removeLocalQueryTarget(n);for(const o of r.rc.get(n))r.ic.delete(o),t&&r.sc.wc(o,t);r.rc.delete(n),r.isPrimaryClient&&r.ac.ls(n).forEach(o=>{r.ac.containsKey(o)||lU(r,o)})}function lU(r,n){r.oc.delete(n.path.canonicalString());const t=r.uc.get(n);null!==t&&(bv(r.remoteStore,t),r.uc=r.uc.remove(n),r.cc.delete(t),nx(r))}function tx(r,n,t){for(const o of t)o instanceof rU?(r.ac.addReference(o.key,n),HO(r,o)):o instanceof oU?(Ve("SyncEngine","Document no longer in limbo: "+o.key),r.ac.removeReference(o.key,n),r.ac.containsKey(o.key)||lU(r,o.key)):ht()}function HO(r,n){const t=n.key,o=t.path.canonicalString();r.uc.get(t)||r.oc.has(o)||(Ve("SyncEngine","New document in limbo: "+t),r.oc.add(o),nx(r))}function nx(r){for(;r.oc.size>0&&r.uc.size<r.maxConcurrentLimboResolutions;){const n=r.oc.values().next().value;r.oc.delete(n);const t=new ze(Tn.fromString(n)),o=r.fc.next();r.cc.set(o,new OO(t)),r.uc=r.uc.insert(t,o),kw(r.remoteStore,new vd(yi(Uf(t.path)),o,2,Bi.at))}}function ec(r,n,t){return rx.apply(this,arguments)}function rx(){return rx=(0,Te.Z)(function*(r,n,t){const o=tt(r),i=[],a=[],d=[];var p;o.ic.isEmpty()||(o.ic.forEach((p,y)=>{d.push(o._c(y,n,t).then(w=>{if((w||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(y.targetId,null!=w&&w.fromCache?"not-current":"current"),w){i.push(w);const D=lS.Ci(y.targetId,w);a.push(D)}}))}),yield Promise.all(d),o.sc.zo(i),yield(p=(0,Te.Z)(function*(y,w){const D=tt(y);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ce.forEach(w,F=>ce.forEach(F.Si,$=>D.persistence.referenceDelegate.addReference(x,F.targetId,$)).next(()=>ce.forEach(F.Di,$=>D.persistence.referenceDelegate.removeReference(x,F.targetId,$)))))}catch(x){if(!hd(x))throw x;Ve("LocalStore","Failed to update sequence numbers: "+x)}for(const x of w){const F=x.targetId;if(!x.fromCache){const $=D.Ui.get(F),Se=$.withLastLimboFreeSnapshotVersion($.snapshotVersion);D.Ui=D.Ui.insert(F,Se)}}}),function(y,w){return p.apply(this,arguments)})(o.localStore,a))}),rx.apply(this,arguments)}function JO(r,n){return ox.apply(this,arguments)}function ox(){return ox=(0,Te.Z)(function*(r,n){const t=tt(r);if(!t.currentUser.isEqual(n)){Ve("SyncEngine","User change. New user:",n.toKey());const o=yield RN(t.localStore,n);t.currentUser=n,(i=t).lc.forEach(d=>{d.forEach(p=>{p.reject(new Re(_e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(n,o.removedBatchIds,o.addedBatchIds),yield ec(t,o.ji)}var i}),ox.apply(this,arguments)}function WO(r,n){const t=tt(r),o=t.cc.get(n);if(o&&o.nc)return en().add(o.key);{let i=en();const a=t.rc.get(n);if(!a)return i;for(const d of a){const p=t.ic.get(d);i=i.unionWith(p.view.ju)}return i}}function QO(r,n){return ix.apply(this,arguments)}function ix(){return ix=(0,Te.Z)(function*(r,n){const t=tt(r),o=yield Dw(t.localStore,n.query,!0),i=n.view.tc(o);return t.isPrimaryClient&&tx(t,n.targetId,i.Xu),i}),ix.apply(this,arguments)}function zO(r,n){return sx.apply(this,arguments)}function sx(){return sx=(0,Te.Z)(function*(r,n){const t=tt(r);return qN(t.localStore,n).then(o=>ec(t,o))}),sx.apply(this,arguments)}function KO(r,n,t,o){return ax.apply(this,arguments)}function ax(){return ax=(0,Te.Z)(function*(r,n,t,o){const i=tt(r),a=yield function(d,p){const y=tt(d),w=tt(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",D=>w.Tn(D,p).next(x=>x?y.localDocuments.getDocuments(D,x):ce.resolve(null)))}(i.localStore,n);var p;null!==a?("pending"===t?yield Hf(i.remoteStore):"acknowledged"===t||"rejected"===t?(ex(i,n,o||null),XS(i,n),p=n,tt(tt(i.localStore).mutationQueue).An(p)):ht(),yield ec(i,a)):Ve("SyncEngine","Cannot apply mutation batch with id: "+n)}),ax.apply(this,arguments)}function lx(){return lx=(0,Te.Z)(function*(r,n){const t=tt(r);if(hx(t),px(t),!0===n&&!0!==t.dc){const o=t.sharedClientState.getAllActiveQueryTargets(),i=yield uU(t,o.toArray());t.dc=!0,yield MS(t.remoteStore,!0);for(const a of i)kw(t.remoteStore,a)}else if(!1===n&&!1!==t.dc){const o=[];let i=Promise.resolve();t.rc.forEach((a,d)=>{t.sharedClientState.isLocalQueryTarget(d)?o.push(d):i=i.then(()=>(Kf(t,d),$f(t.localStore,d,!0))),bv(t.remoteStore,d)}),yield i,yield uU(t,o),function(a){const d=tt(a);d.cc.forEach((p,y)=>{bv(d.remoteStore,y)}),d.ac.fs(),d.cc=new Map,d.uc=new br(ze.comparator)}(t),t.dc=!1,yield MS(t.remoteStore,!1)}}),lx.apply(this,arguments)}function uU(r,n,t){return ux.apply(this,arguments)}function ux(){return ux=(0,Te.Z)(function*(r,n,t){const o=tt(r),i=[],a=[];for(const d of n){let p;const y=o.rc.get(d);if(y&&0!==y.length){p=yield jf(o.localStore,yi(y[0]));for(const w of y){const D=o.ic.get(w),x=yield QO(o,D);x.snapshot&&a.push(x.snapshot)}}else{const w=yield FN(o.localStore,d);p=yield jf(o.localStore,w),yield $S(o,cU(w),d,!1,p.resumeToken)}i.push(p)}return o.sc.zo(a),i}),ux.apply(this,arguments)}function cU(r){return vk(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function XO(r){const n=tt(r);return tt(tt(n.localStore).persistence).vi()}function e6(r,n,t,o){return cx.apply(this,arguments)}function cx(){return cx=(0,Te.Z)(function*(r,n,t,o){const i=tt(r);if(i.dc)return void Ve("SyncEngine","Ignoring unexpected query state notification.");const a=i.rc.get(n);if(a&&a.length>0)switch(t){case"current":case"not-current":{const d=yield qN(i.localStore,wk(a[0])),p=av.createSynthesizedRemoteEventForCurrentChange(n,"current"===t,io.EMPTY_BYTE_STRING);yield ec(i,d,p);break}case"rejected":yield $f(i.localStore,n,!0),Kf(i,n,o);break;default:ht()}}),cx.apply(this,arguments)}function t6(r,n,t){return dx.apply(this,arguments)}function dx(){return dx=(0,Te.Z)(function*(r,n,t){const o=hx(r);if(o.dc){for(const i of n){if(o.rc.has(i)){Ve("SyncEngine","Adding an already active target "+i);continue}const a=yield FN(o.localStore,i),d=yield jf(o.localStore,a);yield $S(o,cU(a),d.targetId,!1,d.resumeToken),kw(o.remoteStore,d)}for(const i of t)o.rc.has(i)&&(yield $f(o.localStore,i,!1).then(()=>{bv(o.remoteStore,i),Kf(o,i)}).catch(dd))}}),dx.apply(this,arguments)}function hx(r){const n=tt(r);return n.remoteStore.remoteSyncer.applyRemoteEvent=sU.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=WO.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=BO.bind(null,n),n.sc.zo=NO.bind(null,n.eventManager),n.sc.wc=UO.bind(null,n.eventManager),n}function px(r){const n=tt(r);return n.remoteStore.remoteSyncer.applySuccessfulWrite=jO.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=$O.bind(null,n),n}class dU{constructor(){this.synchronizeTabs=!1}initialize(n){var t=this;return(0,Te.Z)(function*(){t.It=Tv(n.databaseInfo.databaseId),t.sharedClientState=t.gc(n),t.persistence=t.yc(n),yield t.persistence.start(),t.localStore=t.Ic(n),t.gcScheduler=t.Tc(n,t.localStore),t.indexBackfillerScheduler=t.Ec(n,t.localStore)})()}Tc(n,t){return null}Ec(n,t){return null}Ic(n){return PN(this.persistence,new MN,n.initialUser,this.It)}yc(n){return new NN(Iw.Bs,this.It)}gc(n){return new $N}terminate(){var n=this;return(0,Te.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class hU extends dU{constructor(n,t,o){super(),this.Ac=n,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(n){var t=()=>super.initialize,o=this;return(0,Te.Z)(function*(){yield t().call(o,n),yield o.Ac.initialize(o,n),yield px(o.Ac.syncEngine),yield Hf(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(n){return PN(this.persistence,new MN,n.initialUser,this.It)}Tc(n,t){return new GR(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,t)}Ec(n,t){const o=new SP(t,this.persistence);return new DP(n.asyncQueue,o)}yc(n){const t=aS(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?$i.withCacheSize(this.cacheSizeBytes):$i.DEFAULT;return new sS(this.synchronizeTabs,t,n.clientId,o,n.asyncQueue,HN(),Zw(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(n){return new $N}}class r6 extends hU{constructor(n,t){super(n,t,!1),this.Ac=n,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(n){var t=()=>super.initialize,o=this;return(0,Te.Z)(function*(){yield t().call(o,n);const i=o.Ac.syncEngine;o.sharedClientState instanceof _S&&(o.sharedClientState.syncEngine={Fr:KO.bind(null,i),$r:e6.bind(null,i),Br:t6.bind(null,i),vi:XO.bind(null,i),Mr:zO.bind(null,i)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var a=(0,Te.Z)(function*(d){yield function YO(r,n){return lx.apply(this,arguments)}(o.Ac.syncEngine,d),o.gcScheduler&&(d&&!o.gcScheduler.started?o.gcScheduler.start():d||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(d&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():d||o.indexBackfillerScheduler.stop())});return function(d){return a.apply(this,arguments)}}())})()}gc(n){const t=HN();if(!_S.C(t))throw new Re(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=aS(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new _S(t,n.asyncQueue,o,n.clientId,n.initialUser)}}class gx{initialize(n,t){var o=this;return(0,Te.Z)(function*(){o.localStore||(o.localStore=n.localStore,o.sharedClientState=n.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!n.synchronizeTabs),o.sharedClientState.onlineStateHandler=i=>aU(o.syncEngine,i,1),o.remoteStore.remoteSyncer.handleCredentialChange=JO.bind(null,o.syncEngine),yield MS(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(n){return new kO}createDatastore(n){const t=Tv(n.databaseInfo.databaseId),o=new gO(n.databaseInfo);return new mO(n.authCredentials,n.appCheckCredentials,o,t)}createRemoteStore(n){return t=this.localStore,o=this.datastore,i=n.asyncQueue,a=p=>aU(this.syncEngine,p,0),d=GN.C()?new GN:new dO,new CO(t,o,i,a,d);var t,o,i,a,d}createSyncEngine(n,t){return function(o,i,a,d,p,y,w){const D=new LO(o,i,a,d,p,y);return w&&(D.dc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,t)}terminate(){return(n=(0,Te.Z)(function*(t){const o=tt(t);Ve("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield Gf(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(t){return n.apply(this,arguments)})(this.remoteStore);var n}}function fx(r,n,t){if(!t)throw new Re(_e.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${n}.`)}function pU(r,n,t,o){if(!0===n&&!0===o)throw new Re(_e.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function gU(r){if(!ze.isDocumentKey(r))throw new Re(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fU(r){if(ze.isDocumentKey(r))throw new Re(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Uw(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const n=(t=r).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof r?"a function":ht()}function _n(r,n){if("_delegate"in r&&(r=r._delegate),!(r instanceof n)){if(n.name===r.constructor.name)throw new Re(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uw(r);throw new Re(_e.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${t}`)}}return r}function _U(r,n){if(n<=0)throw new Re(_e.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${n}.`)}const mU=new Map;class yU{constructor(n){var t;if(void 0===n.host){if(void 0!==n.ssl)throw new Re(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(t=n.ssl)||void 0===t||t;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Re(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,pU("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Av{constructor(n,t,o,i){this._authCredentials=n,this._appCheckCredentials=t,this._databaseId=o,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Re(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yU(n),void 0!==n.credentials&&(this._authCredentials=function(t){if(!t)return new fP;switch(t.type){case"gapi":return new vP(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const t=mU.get(n);t&&(Ve("ComponentProvider","Removing Datastore"),mU.delete(n),t.terminate())}(this),Promise.resolve()}}class er{constructor(n,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new er(this.firestore,n,this._key)}}class ei{constructor(n,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=n}withConverter(n){return new ei(this.firestore,n,this._query)}}class Jl extends ei{constructor(n,t,o){super(n,t,Uf(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new er(this.firestore,null,new ze(n))}withConverter(n){return new Jl(this.firestore,n,this._path)}}function CU(r,n,...t){if(r=(0,Cn.m9)(r),fx("collection","path",n),r instanceof Av){const o=Tn.fromString(n,...t);return fU(o),new Jl(r,null,o)}{if(!(r instanceof er||r instanceof Jl))throw new Re(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Tn.fromString(n,...t));return fU(o),new Jl(r.firestore,null,o)}}function Mw(r,n,...t){if(r=(0,Cn.m9)(r),1===arguments.length&&(n=WZ.R()),fx("doc","path",n),r instanceof Av){const o=Tn.fromString(n,...t);return gU(o),new er(r,null,new ze(o))}{if(!(r instanceof er||r instanceof Jl))throw new Re(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Tn.fromString(n,...t));return gU(o),new er(r.firestore,r instanceof Jl?r.converter:null,new ze(o))}}function TU(r,n){return r=(0,Cn.m9)(r),n=(0,Cn.m9)(n),(r instanceof er||r instanceof Jl)&&(n instanceof er||n instanceof Jl)&&r.firestore===n.firestore&&r.path===n.path&&r.converter===n.converter}function _x(r,n){return r=(0,Cn.m9)(r),n=(0,Cn.m9)(n),r instanceof ei&&n instanceof ei&&r.firestore===n.firestore&&nv(r._query,n._query)&&r.converter===n.converter}function wU(r,n=10240){let t=0;return{read:()=>(0,Te.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+n),done:!1};return t+=n,o}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Pw{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Rc(this.observer.next,n)}error(n){this.observer.error?this.Rc(this.observer.error,n):Ur("Uncaught Error in snapshot listener:",n)}bc(){this.muted=!0}Rc(n,t){this.muted||setTimeout(()=>{this.muted||n(t)},0)}}class i6{constructor(n,t){this.Pc=n,this.It=t,this.metadata=new oo,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(o=>{o&&o.Ou()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Pc.cancel()}getMetadata(){var n=this;return(0,Te.Z)(function*(){return n.metadata.promise})()}mc(){var n=this;return(0,Te.Z)(function*(){return yield n.getMetadata(),n.Vc()})()}Vc(){var n=this;return(0,Te.Z)(function*(){const t=yield n.Sc();if(null===t)return null;const o=n.vc.decode(t),i=Number(o);isNaN(i)&&n.Dc(`length string (${o}) is not valid number`);const a=yield n.Cc(i);return new MO(JSON.parse(a),t.length+i)})()}xc(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}Sc(){var n=this;return(0,Te.Z)(function*(){for(;n.xc()<0&&!(yield n.Nc()););if(0===n.buffer.length)return null;const t=n.xc();t<0&&n.Dc("Reached the end of bundle when a length string is expected.");const o=n.buffer.slice(0,t);return n.buffer=n.buffer.slice(t),o})()}Cc(n){var t=this;return(0,Te.Z)(function*(){for(;t.buffer.length<n;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const o=t.vc.decode(t.buffer.slice(0,n));return t.buffer=t.buffer.slice(n),o})()}Dc(n){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${n}`)}Nc(){var n=this;return(0,Te.Z)(function*(){const t=yield n.Pc.read();if(!t.done){const o=new Uint8Array(n.buffer.length+t.value.length);o.set(n.buffer),o.set(t.value,n.buffer.length),n.buffer=o}return t.done})()}}class l6{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var t=this;return(0,Te.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(i=(0,Te.Z)(function*(a,d){const p=tt(a),y=dv(p.It)+"/documents",w={documents:d.map($=>cv(p.It,$))},D=yield p._o("BatchGetDocuments",y,w,d.length),x=new Map;D.forEach($=>{const ee=function aR(r,n){return"found"in n?function(t,o){Pt(!!o.found);const i=Gl(t,o.found.name),a=yo(o.found.updateTime),d=new Oo({mapValue:{fields:o.found.fields}});return Jn.newFoundDocument(i,a,d)}(r,n):"missing"in n?function(t,o){Pt(!!o.missing),Pt(!!o.readTime);const i=Gl(t,o.missing),a=yo(o.readTime);return Jn.newNoDocument(i,a)}(r,n):ht()}(p.It,$);x.set(ee.key.toString(),ee)});const F=[];return d.forEach($=>{const ee=x.get($.toString());Pt(!!ee),F.push(ee)}),F}),function(a,d){return i.apply(this,arguments)})(t.datastore,n);var i;return o.forEach(i=>t.recordVersion(i)),o})()}set(n,t){this.write(t.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,t){try{this.write(t.toMutation(n,this.preconditionForUpdate(n)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(n.toString())}delete(n){this.write(new Lf(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,Te.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const t=n.readVersions;var o;n.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,i)=>{const a=ze.fromPath(i);n.mutations.push(new HD(a,n.precondition(a)))}),yield(o=(0,Te.Z)(function*(i,a){const d=tt(i),p=dv(d.It)+"/documents",y={writes:a.map(w=>hv(d.It,w))};yield d.ao("Commit",p,y)}),function(i,a){return o.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let t;if(n.isFoundDocument())t=n.version;else{if(!n.isNoDocument())throw ht();t=Rt.min()}const o=this.readVersions.get(n.key.toString());if(o){if(!t.isEqual(o))throw new Re(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),t)}precondition(n){const t=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&t?t.isEqual(Rt.min())?ur.exists(!1):ur.updateTime(t):ur.none()}preconditionForUpdate(n){const t=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&t){if(t.isEqual(Rt.min()))throw new Re(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ur.updateTime(t)}return ur.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class u6{constructor(n,t,o,i,a){this.asyncQueue=n,this.datastore=t,this.options=o,this.updateFunction=i,this.deferred=a,this.kc=o.maxAttempts,this.No=new mS(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var n=this;this.No.Ro((0,Te.Z)(function*(){const t=new l6(n.datastore),o=n.Mc(t);o&&o.then(i=>{n.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{n.deferred.resolve(i)}).catch(a=>{n.Fc(a)}))}).catch(i=>{n.Fc(i)})}))}Mc(n){try{const t=this.updateFunction(n);return!zy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(n){this.kc>0&&this.$c(n)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(n)}$c(n){if("FirebaseError"===n.name){const t=n.code;return"aborted"===t||"failed-precondition"===t||!Ok(t)}return!1}}class c6{constructor(n,t,o,i){var a=this;this.authCredentials=n,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=i,this.user=mo.UNAUTHENTICATED,this.clientId=WZ.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var d=(0,Te.Z)(function*(p){Ve("FirestoreClient","Received user=",p.uid),yield a.authCredentialListener(p),a.user=p});return function(p){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(o,d=>(Ve("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var n=this;return(0,Te.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,authCredentials:n.authCredentials,appCheckCredentials:n.appCheckCredentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const t=new oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),t.resolve()}catch(o){const i=Wf(o,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function bU(r,n){return mx.apply(this,arguments)}function mx(){return mx=(0,Te.Z)(function*(r,n){r.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield n.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var i=(0,Te.Z)(function*(a){o.isEqual(a)||(yield RN(n.localStore,a),o=a)});return function(a){return i.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=n}),mx.apply(this,arguments)}function AU(r,n){return yx.apply(this,arguments)}function yx(){return yx=(0,Te.Z)(function*(r,n){r.asyncQueue.verifyOperationInProgress();const t=yield vx(r);Ve("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield n.initialize(t,o),r.setCredentialChangeListener(i=>XN(n.remoteStore,i)),r.setAppCheckTokenChangeListener((i,a)=>XN(n.remoteStore,a)),r.onlineComponents=n}),yx.apply(this,arguments)}function vx(r){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,Te.Z)(function*(r){return r.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield bU(r,new dU)),r.offlineComponents}),Cx.apply(this,arguments)}function Rw(r){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,Te.Z)(function*(r){return r.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield AU(r,new gx)),r.onlineComponents}),Tx.apply(this,arguments)}function IU(r){return vx(r).then(n=>n.persistence)}function Ow(r){return vx(r).then(n=>n.localStore)}function wx(r){return Rw(r).then(n=>n.remoteStore)}function bx(r){return Rw(r).then(n=>n.syncEngine)}function Yf(r){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,Te.Z)(function*(r){const n=yield Rw(r),t=n.eventManager;return t.onListen=FO.bind(null,n.syncEngine),t.onUnlisten=qO.bind(null,n.syncEngine),t}),Ax.apply(this,arguments)}function DU(r,n,t={}){const o=new oo;return r.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,a,d,p,y){const w=new Pw({next:x=>{a.enqueueAndForget(()=>FS(i,D));const F=x.docs.has(d);!F&&x.fromCache?y.reject(new Re(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&x.fromCache&&p&&"server"===p.source?y.reject(new Re(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),D=new BS(Uf(d.path),w,{includeMetadataChanges:!0,ku:!0});return OS(i,D)}(yield Yf(r),r.asyncQueue,n,t,o)})),o.promise}function SU(r,n,t={}){const o=new oo;return r.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,a,d,p,y){const w=new Pw({next:x=>{a.enqueueAndForget(()=>FS(i,D)),x.fromCache&&"server"===p.source?y.reject(new Re(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),D=new BS(d,w,{includeMetadataChanges:!0,ku:!0});return OS(i,D)}(yield Yf(r),r.asyncQueue,n,t,o)})),o.promise}class y6{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new mS(this,"async_queue_retry"),this.Wc=()=>{const t=Zw();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const n=Zw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.zc(),this.Hc(n)}enterRestrictedMode(n){if(!this.Uc){this.Uc=!0,this.Qc=n||!1;const t=Zw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(n){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new oo;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(n().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Lc.push(n),this.Jc()))}Jc(){var n=this;return(0,Te.Z)(function*(){if(0!==n.Lc.length){try{yield n.Lc[0](),n.Lc.shift(),n.No.reset()}catch(t){if(!hd(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}n.Lc.length>0&&n.No.Ro(()=>n.Jc())}})()}Hc(n){const t=this.Bc.then(()=>(this.Gc=!0,n().catch(o=>{throw this.Kc=o,this.Gc=!1,Ur("INTERNAL UNHANDLED ERROR: ",function(a){let d=a.message||"";return a.stack&&(d=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),d}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(n,t,o){this.zc(),this.jc.indexOf(n)>-1&&(t=0);const i=RS.createAndSchedule(this,n,t,o,a=>this.Yc(a));return this.qc.push(i),i}zc(){this.Kc&&ht()}verifyOperationInProgress(){}Xc(){var n=this;return(0,Te.Z)(function*(){let t;do{t=n.Bc,yield t}while(t!==n.Bc)})()}Zc(n){for(const t of this.qc)if(t.timerId===n)return!0;return!1}ta(n){return this.Xc().then(()=>{this.qc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==n&&t.timerId===n)break;return this.Xc()})}ea(n){this.jc.push(n)}Yc(n){const t=this.qc.indexOf(n);this.qc.splice(t,1)}}function Ix(r){return function(n,t){if("object"!=typeof n||null===n)return!1;const o=n;for(const i of["next","error","complete"])if(i in o&&"function"==typeof o[i])return!0;return!1}(r)}class v6{constructor(){this._progressObserver={},this._taskCompletionResolver=new oo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,t,o){this._progressObserver={next:n,error:t,complete:o}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,t){return this._taskCompletionResolver.promise.then(n,t)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class tr extends Av{constructor(n,t,o,i){super(n,t,o,i),this.type="firestore",this._queue=new y6,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xU(this),this._firestoreClient.terminate()}}function Mr(r){return r._firestoreClient||xU(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function xU(r){var n;const t=r._freezeSettings(),o=(a=(null===(n=r._app)||void 0===n?void 0:n.options.appId)||"",new kP(r._databaseId,a,r._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var a,p;r._firestoreClient=new c6(r._authCredentials,r._appCheckCredentials,r._queue,o)}function ZU(r,n,t){const o=new oo;return r.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield bU(r,t),yield AU(r,n),o.resolve()}catch(i){const a=i;if(!("FirebaseError"===(d=a).name?d.code===_e.FAILED_PRECONDITION||d.code===_e.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw a;op("Error enabling offline persistence. Falling back to persistence disabled: "+a),o.reject(a)}var d})).then(()=>o.promise)}function kU(r){if(r._initialized||r._terminated)throw new Re(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wl{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Wl(io.fromBase64String(n))}catch(t){throw new Re(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(n){return new Wl(io.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class tc{constructor(...n){for(let t=0;t<n.length;++t)if(0===n[t].length)throw new Re(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class wp{constructor(n){this._methodName=n}}class Lw{constructor(n,t){if(!isFinite(n)||n<-90||n>90)throw new Re(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(t)||t<-180||t>180)throw new Re(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=n,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Qt(this._lat,n._lat)||Qt(this._long,n._long)}}const x6=/^__.*__$/;class Z6{constructor(n,t,o){this.data=n,this.fieldMask=t,this.fieldTransforms=o}toMutation(n,t){return null!==this.fieldMask?new Yu(n,this.data,this.fieldMask,t,this.fieldTransforms):new Of(n,this.data,t,this.fieldTransforms)}}class NU{constructor(n,t,o){this.data=n,this.fieldMask=t,this.fieldTransforms=o}toMutation(n,t){return new Yu(n,this.data,this.fieldMask,t,this.fieldTransforms)}}function UU(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class Fw{constructor(n,t,o,i,a,d){this.settings=n,this.databaseId=t,this.It=o,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(n){return new Fw(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(n){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(n),i=this.ia({path:o,oa:!1});return i.ua(n),i}ca(n){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(n),i=this.ia({path:o,oa:!1});return i.na(),i}aa(n){return this.ia({path:void 0,oa:!0})}ha(n){return Bw(n,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(n){return void 0!==this.fieldMask.find(t=>n.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>n.isPrefixOf(t.field))}na(){if(this.path)for(let n=0;n<this.path.length;n++)this.ua(this.path.get(n))}ua(n){if(0===n.length)throw this.ha("Document fields must not be empty");if(UU(this.sa)&&x6.test(n))throw this.ha('Document fields cannot begin and end with "__"')}}class k6{constructor(n,t,o){this.databaseId=n,this.ignoreUndefinedProperties=t,this.It=o||Tv(n)}da(n,t,o,i=!1){return new Fw({sa:n,methodName:t,fa:o,path:wr.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function bp(r){const n=r._freezeSettings(),t=Tv(r._databaseId);return new k6(r._databaseId,!!n.ignoreUndefinedProperties,t)}function qw(r,n,t,o,i,a={}){const d=r.da(a.merge||a.mergeFields?2:0,n,t,i);xx("Data must be an object, but it was:",d,o);const p=RU(o,d);let y,w;if(a.merge)y=new Es(d.fieldMask),w=d.fieldTransforms;else if(a.mergeFields){const D=[];for(const x of a.mergeFields){const F=Zx(n,x,t);if(!d.contains(F))throw new Re(_e.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);LU(D,F)||D.push(F)}y=new Es(D),w=d.fieldTransforms.filter(x=>y.covers(x.field))}else y=null,w=d.fieldTransforms;return new Z6(new Oo(p),y,w)}class Iv extends wp{_toFieldTransform(n){if(2!==n.sa)throw n.ha(1===n.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Iv}}function MU(r,n,t){return new Fw({sa:3,fa:n.settings.fa,methodName:r._methodName,oa:t},n.databaseId,n.It,n.ignoreUndefinedProperties)}class Ex extends wp{_toFieldTransform(n){return new rv(n.path,new Pf)}isEqual(n){return n instanceof Ex}}class N6 extends wp{constructor(n,t){super(n),this._a=t}_toFieldTransform(n){const t=MU(this,n,!0),o=this._a.map(a=>Ap(a,t)),i=new hp(o);return new rv(n.path,i)}isEqual(n){return this===n}}class U6 extends wp{constructor(n,t){super(n),this._a=t}_toFieldTransform(n){const t=MU(this,n,!0),o=this._a.map(a=>Ap(a,t)),i=new pp(o);return new rv(n.path,i)}isEqual(n){return this===n}}class M6 extends wp{constructor(n,t){super(n),this.wa=t}_toFieldTransform(n){const t=new Rf(n.It,Ek(n.It,this.wa));return new rv(n.path,t)}isEqual(n){return this===n}}function Dx(r,n,t,o){const i=r.da(1,n,t);xx("Data must be an object, but it was:",i,o);const a=[],d=Oo.empty();ap(o,(y,w)=>{const D=Vw(n,y,t);w=(0,Cn.m9)(w);const x=i.ca(D);if(w instanceof Iv)a.push(D);else{const F=Ap(w,x);null!=F&&(a.push(D),d.set(D,F))}});const p=new Es(a);return new NU(d,p,i.fieldTransforms)}function Sx(r,n,t,o,i,a){const d=r.da(1,n,t),p=[Zx(n,o,t)],y=[i];if(a.length%2!=0)throw new Re(_e.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<a.length;F+=2)p.push(Zx(n,a[F])),y.push(a[F+1]);const w=[],D=Oo.empty();for(let F=p.length-1;F>=0;--F)if(!LU(w,p[F])){const $=p[F];let ee=y[F];ee=(0,Cn.m9)(ee);const Se=d.ca($);if(ee instanceof Iv)w.push($);else{const Be=Ap(ee,Se);null!=Be&&(w.push($),D.set($,Be))}}const x=new Es(w);return new NU(D,x,d.fieldTransforms)}function PU(r,n,t,o=!1){return Ap(t,r.da(o?4:3,n))}function Ap(r,n){if(OU(r=(0,Cn.m9)(r)))return xx("Unsupported field value:",n,r),RU(r,n);if(r instanceof wp)return function(t,o){if(!UU(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(o);i&&o.fieldTransforms.push(i)}(r,n),null;if(void 0===r&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),r instanceof Array){if(n.settings.oa&&4!==n.sa)throw n.ha("Nested arrays are not supported");return function(t,o){const i=[];let a=0;for(const d of t){let p=Ap(d,o.aa(a));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),a++}return{arrayValue:{values:i}}}(r,n)}return function(t,o){if(null===(t=(0,Cn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ek(o.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=lr.fromDate(t);return{timestampValue:uv(o.It,i)}}if(t instanceof lr){const i=new lr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:uv(o.It,i)}}if(t instanceof Lw)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wl)return{bytesValue:Jk(o.It,t._byteString)};if(t instanceof er){const i=o.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw o.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:JD(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${Uw(t)}`)}(r,n)}function RU(r,n){const t={};return nk(r)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):ap(r,(o,i)=>{const a=Ap(i,n.ra(o));null!=a&&(t[o]=a)}),{mapValue:{fields:t}}}function OU(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof lr||r instanceof Lw||r instanceof Wl||r instanceof er||r instanceof wp)}function xx(r,n,t){if(!OU(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Uw(t);throw n.ha("an object"===o?r+" a custom object":r+" "+o)}var o}function Zx(r,n,t){if((n=(0,Cn.m9)(n))instanceof tc)return n._internalPath;if("string"==typeof n)return Vw(r,n);throw Bw("Field path arguments must be of type string or ",r,!1,void 0,t)}const P6=new RegExp("[~\\*/\\[\\]]");function Vw(r,n,t){if(n.search(P6)>=0)throw Bw(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new tc(...n.split("."))._internalPath}catch(o){throw Bw(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Bw(r,n,t,o,i){const a=o&&!o.isEmpty(),d=void 0!==i;let p=`Function ${n}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(a||d)&&(y+=" (found",a&&(y+=` in field ${o}`),d&&(y+=` in document ${i}`),y+=")"),new Re(_e.INVALID_ARGUMENT,p+r+y)}function LU(r,n){return r.some(t=>t.isEqual(n))}class Ev{constructor(n,t,o,i,a){this._firestore=n,this._userDataWriter=t,this._key=o,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new R6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const t=this._document.data.field(jw("DocumentSnapshot.get",n));if(null!==t)return this._userDataWriter.convertValue(t)}}}class R6 extends Ev{data(){return super.data()}}function jw(r,n){return"string"==typeof n?Vw(r,n):n instanceof tc?n._internalPath:n._delegate._internalPath}function FU(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Re(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dv{}function bd(r,...n){for(const t of n)r=t._apply(r);return r}class O6 extends Dv{constructor(n,t,o){super(),this.ma=n,this.ga=t,this.ya=o,this.type="where"}_apply(n){const t=bp(n.firestore),o=function(i,a,d,p,y,w,D){let x;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Re(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){GU(D,w);const $=[];for(const ee of D)$.push($U(p,i,ee));x={arrayValue:{values:$}}}else x=$U(p,i,D)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||GU(D,w),x=PU(d,"where",D,"in"===w||"not-in"===w);const F=Lo.create(y,w,x);return function($,ee){if(ee.dt()){const Be=BD($);if(null!==Be&&!Be.isEqual(ee.field))throw new Re(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Be.toString()}' and '${ee.field.toString()}'`);const ct=VD($);null!==ct&&HU(0,ee.field,ct)}const Se=function(Be,ct){for(const Ot of Be.filters)if(ct.indexOf(Ot.op)>=0)return Ot.op;return null}($,function(Be){switch(Be){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ee.op));if(null!==Se)throw new Re(_e.INVALID_ARGUMENT,Se===ee.op?`Invalid query. You cannot use more than one '${ee.op.toString()}' filter.`:`Invalid query. You cannot use '${ee.op.toString()}' filters with '${Se.toString()}' filters.`)}(i,F),F}(n._query,0,t,n.firestore._databaseId,this.ma,this.ga,this.ya);return new ei(n.firestore,n.converter,function(i,a){const d=i.filters.concat([a]);return new Ku(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(n._query,o))}}class F6 extends Dv{constructor(n,t){super(),this.ma=n,this.pa=t,this.type="orderBy"}_apply(n){const t=function(o,i,a){if(null!==o.startAt)throw new Re(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Re(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Nf(i,a);return function(p,y){if(null===VD(p)){const w=BD(p);null!==w&&HU(0,w,y.field)}}(o,d),d}(n._query,this.ma,this.pa);return new ei(n.firestore,n.converter,function(o,i){const a=o.explicitOrderBy.concat([i]);return new Ku(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,t))}}class qU extends Dv{constructor(n,t,o){super(),this.type=n,this.Ia=t,this.Ta=o}_apply(n){return new ei(n.firestore,n.converter,dw(n._query,this.Ia,this.Ta))}}class VU extends Dv{constructor(n,t,o){super(),this.type=n,this.Ea=t,this.Aa=o}_apply(n){const t=jU(n,this.type,this.Ea,this.Aa);return new ei(n.firestore,n.converter,(i=t,new Ku((o=n._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,i,o.endAt)));var o,i}}class BU extends Dv{constructor(n,t,o){super(),this.type=n,this.Ea=t,this.Aa=o}_apply(n){const t=jU(n,this.type,this.Ea,this.Aa);return new ei(n.firestore,n.converter,(i=t,new Ku((o=n._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,i)));var o,i}}function jU(r,n,t,o){if(t[0]=(0,Cn.m9)(t[0]),t[0]instanceof Ev)return function(i,a,d,p,y){if(!p)throw new Re(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const D of Mf(i))if(D.field.isKeyField())w.push(cp(a,p.key));else{const x=p.data.field(D.field);if(LD(x))throw new Re(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const F=D.field.canonicalString();throw new Re(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}w.push(x)}return new md(w,y)}(r._query,r.firestore._databaseId,n,t[0]._document,o);{const i=bp(r.firestore);return function(a,d,p,y,w,D){const x=a.explicitOrderBy;if(w.length>x.length)throw new Re(_e.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let $=0;$<w.length;$++){const ee=w[$];if(x[$].field.isKeyField()){if("string"!=typeof ee)throw new Re(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof ee}`);if(!jD(a)&&-1!==ee.indexOf("/"))throw new Re(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${ee}' contains a slash.`);const Se=a.path.child(Tn.fromString(ee));if(!ze.isDocumentKey(Se))throw new Re(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${Se}' is not because it contains an odd number of segments.`);const Be=new ze(Se);F.push(cp(d,Be))}else{const Se=PU(p,y,ee);F.push(Se)}}return new md(F,D)}(r._query,r.firestore._databaseId,i,n,t,o)}}function $U(r,n,t){if("string"==typeof(t=(0,Cn.m9)(t))){if(""===t)throw new Re(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jD(n)&&-1!==t.indexOf("/"))throw new Re(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=n.path.child(Tn.fromString(t));if(!ze.isDocumentKey(o))throw new Re(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return cp(r,new ze(o))}if(t instanceof er)return cp(r,t._key);throw new Re(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uw(t)}.`)}function GU(r,n){if(!Array.isArray(r)||0===r.length)throw new Re(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(r.length>10)throw new Re(_e.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function HU(r,n,t){if(!t.isEqual(n))throw new Re(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class kx{convertValue(n,t="none"){switch(up(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Ar(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,t);case 5:return n.stringValue;case 6:return this.convertBytes(lp(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,t);case 10:return this.convertObject(n.mapValue,t);default:throw ht()}}convertObject(n,t){const o={};return ap(n.fields,(i,a)=>{o[i]=this.convertValue(a,t)}),o}convertGeoPoint(n){return new Lw(Ar(n.latitude),Ar(n.longitude))}convertArray(n,t){return(n.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(n,t){switch(t){case"previous":const o=ok(n);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Qy(n));default:return null}}convertTimestamp(n){const t=pd(n);return new lr(t.seconds,t.nanos)}convertDocumentKey(n,t){const o=Tn.fromString(n);Pt(nN(o));const i=new gd(o.get(1),o.get(3)),a=new ze(o.popFirst(5));return i.isEqual(t)||Ur(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function $w(r,n,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(n,t):r.toFirestore(n):n,o}class J6 extends kx{constructor(n){super(),this.firestore=n}convertBytes(n){return new Wl(n)}convertReference(n){const t=this.convertDocumentKey(n,this.firestore._databaseId);return new er(this.firestore,null,t)}}class Ip{constructor(n,t){this.hasPendingWrites=n,this.fromCache=t}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class nc extends Ev{constructor(n,t,o,i,a,d){super(n,t,o,i,d),this._firestore=n,this._firestoreImpl=n,this.metadata=a}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const t=new Sv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,t={}){if(this._document){const o=this._document.data.field(jw("DocumentSnapshot.get",n));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Sv extends nc{data(n={}){return super.data(n)}}class Ad{constructor(n,t,o,i){this._firestore=n,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ip(i.hasPendingWrites,i.fromCache),this.query=o}get docs(){const n=[];return this.forEach(t=>n.push(t)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,t){this._snapshot.docs.forEach(o=>{n.call(t,new Sv(this._firestore,this._userDataWriter,o.key,o,new Ip(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const t=!!n.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,i){if(o._snapshot.oldDocs.isEmpty()){let a=0;return o._snapshot.docChanges.map(d=>({type:"added",doc:new Sv(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ip(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:a++}))}{let a=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const p=new Sv(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ip(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return 0!==d.type&&(y=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),1!==d.type&&(a=a.add(d.doc),w=a.indexOf(d.doc.key)),{type:W6(d.type),doc:p,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function W6(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}function JU(r,n){return r instanceof nc&&n instanceof nc?r._firestore===n._firestore&&r._key.isEqual(n._key)&&(null===r._document?null===n._document:r._document.isEqual(n._document))&&r._converter===n._converter:r instanceof Ad&&n instanceof Ad&&r._firestore===n._firestore&&_x(r.query,n.query)&&r.metadata.isEqual(n.metadata)&&r._snapshot.isEqual(n._snapshot)}class Id extends kx{constructor(n){super(),this.firestore=n}convertBytes(n){return new Wl(n)}convertReference(n){const t=this.convertDocumentKey(n,this.firestore._databaseId);return new er(this.firestore,null,t)}}function WU(r,n,t){r=_n(r,er);const o=_n(r.firestore,tr),i=$w(r.converter,n,t);return Xf(o,[qw(bp(o),"setDoc",r._key,i,null!==r.converter,t).toMutation(r._key,ur.none())])}function QU(r,n,t,...o){r=_n(r,er);const i=_n(r.firestore,tr),a=bp(i);let d;return d="string"==typeof(n=(0,Cn.m9)(n))||n instanceof tc?Sx(a,"updateDoc",r._key,n,t,o):Dx(a,"updateDoc",r._key,n),Xf(i,[d.toMutation(r._key,ur.exists(!0))])}function zU(r,...n){var t,o,i;r=(0,Cn.m9)(r);let a={includeMetadataChanges:!1},d=0;"object"!=typeof n[d]||Ix(n[d])||(a=n[d],d++);const p={includeMetadataChanges:a.includeMetadataChanges};if(Ix(n[d])){const x=n[d];n[d]=null===(t=x.next)||void 0===t?void 0:t.bind(x),n[d+1]=null===(o=x.error)||void 0===o?void 0:o.bind(x),n[d+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let y,w,D;if(r instanceof er)w=_n(r.firestore,tr),D=Uf(r._key.path),y={next:x=>{n[d]&&n[d](Nx(w,r,x))},error:n[d+1],complete:n[d+2]};else{const x=_n(r,ei);w=_n(x.firestore,tr),D=x._query;const F=new Id(w);y={next:$=>{n[d]&&n[d](new Ad(w,F,x,$))},error:n[d+1],complete:n[d+2]},FU(r._query)}return function(x,F,$,ee){const Se=new Pw(ee),Be=new BS(F,Se,$);return x.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return OS(yield Yf(x),Be)})),()=>{Se.bc(),x.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return FS(yield Yf(x),Be)}))}}(Mr(w),D,p,y)}function Xf(r,n){return function(t,o){const i=new oo;return t.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function VO(r,n,t){return JS.apply(this,arguments)}(yield bx(t),o,i)})),i.promise}(Mr(r),n)}function Nx(r,n,t){const o=t.docs.get(n._key),i=new Id(r);return new nc(r,i,n._key,o,new Ip(t.hasPendingWrites,t.fromCache),n.converter)}const oL={maxAttempts:5};class KU{constructor(n,t){this._firestore=n,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bp(n)}set(n,t,o){this._verifyNotCommitted();const i=Ed(n,this._firestore),a=$w(i.converter,t,o),d=qw(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,o);return this._mutations.push(d.toMutation(i._key,ur.none())),this}update(n,t,o,...i){this._verifyNotCommitted();const a=Ed(n,this._firestore);let d;return d="string"==typeof(t=(0,Cn.m9)(t))||t instanceof tc?Sx(this._dataReader,"WriteBatch.update",a._key,t,o,i):Dx(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(d.toMutation(a._key,ur.exists(!0))),this}delete(n){this._verifyNotCommitted();const t=Ed(n,this._firestore);return this._mutations=this._mutations.concat(new Lf(t._key,ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ed(r,n){if((r=(0,Cn.m9)(r)).firestore!==n)throw new Re(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class iL extends class{constructor(n,t){this._firestore=n,this._transaction=t,this._dataReader=bp(n)}get(n){const t=Ed(n,this._firestore),o=new J6(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ht();const a=i[0];if(a.isFoundDocument())return new Ev(this._firestore,o,a.key,a,t.converter);if(a.isNoDocument())return new Ev(this._firestore,o,t._key,null,t.converter);throw ht()})}set(n,t,o){const i=Ed(n,this._firestore),a=$w(i.converter,t,o),d=qw(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,o);return this._transaction.set(i._key,d),this}update(n,t,o,...i){const a=Ed(n,this._firestore);let d;return d="string"==typeof(t=(0,Cn.m9)(t))||t instanceof tc?Sx(this._dataReader,"Transaction.update",a._key,t,o,i):Dx(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,d),this}delete(n){const t=Ed(n,this._firestore);return this._transaction.delete(t._key),this}}{constructor(n,t){super(n,t),this._firestore=n}get(n){const t=Ed(n,this._firestore),o=new Id(this._firestore);return super.get(n).then(i=>new nc(this._firestore,o,t._key,i._document,new Ip(!1,!1),t.converter))}}function Ux(r,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Re("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return n}function XU(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function eM(){if(!function xP(){return"undefined"!=typeof atob}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,n=!0){Sf=Vl.SDK_VERSION,(0,Vl._registerComponent)(new Qg.wA("firestore",(t,{instanceIdentifier:o,options:i})=>{const a=t.getProvider("app").getImmediate(),d=new tr(new mP(t.getProvider("auth-internal")),new CP(t.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Re(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gd(p.options.projectId,y)}(a,o),a);return i=Object.assign({useFetchStreams:n},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,Vl.registerVersion)(GZ,"3.7.1",r),(0,Vl.registerVersion)(GZ,"3.7.1","esm2017")}();class xv{constructor(n){this._delegate=n}static fromBase64String(n){return eM(),new xv(Wl.fromBase64String(n))}static fromUint8Array(n){return XU(),new xv(Wl.fromUint8Array(n))}toBase64(){return eM(),this._delegate.toBase64()}toUint8Array(){return XU(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Mx(r){return function gL(r,n){if("object"!=typeof r||null===r)return!1;const t=r;for(const o of n)if(o in t&&"function"==typeof t[o])return!0;return!1}(r,["next","error","complete"])}class fL{enableIndexedDbPersistence(n,t){return function T6(r,n){kU(r=_n(r,tr));const t=Mr(r),o=r._freezeSettings(),i=new gx;return ZU(t,i,new hU(i,o.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(n){return function w6(r){kU(r=_n(r,tr));const n=Mr(r),t=r._freezeSettings(),o=new gx;return ZU(n,o,new r6(o,t.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function b6(r){if(r._initialized&&!r._terminated)throw new Re(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new oo;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(t=(0,Te.Z)(function*(o){if(!Ya.C())return Promise.resolve();const i=o+"main";yield Ya.delete(i)}),function(o){return t.apply(this,arguments)})(aS(r._databaseId,r._persistenceKey)),n.resolve()}catch(t){n.reject(t)}var t})),n.promise}(n._delegate)}}class tM{constructor(n,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},n instanceof gd||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const t=this._delegate._getSettings();!n.merge&&t.host!==n.host&&op("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},t),n)).merge,this._delegate._setSettings(n)}useEmulator(n,t,o={}){!function vU(r,n,t,o={}){var i;const a=(r=_n(r,Av))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==n&&op("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},a),{host:`${n}:${t}`,ssl:!1})),o.mockUserToken){let d,p;if("string"==typeof o.mockUserToken)d=o.mockUserToken,p=mo.MOCK_USER;else{d=(0,Cn.Sg)(o.mockUserToken,null===(i=r._app)||void 0===i?void 0:i.options.projectId);const y=o.mockUserToken.sub||o.mockUserToken.user_id;if(!y)throw new Re(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new mo(y)}r._authCredentials=new _P(new HZ(d,p))}}(this._delegate,n,t,o)}enableNetwork(){return function I6(r){return function d6(r){return r.asyncQueue.enqueue((0,Te.Z)(function*(){const n=yield IU(r),t=yield wx(r);return n.setNetworkEnabled(!0),function(o){const i=tt(o);return i.wu.delete(0),wv(i)}(t)}))}(Mr(r=_n(r,tr)))}(this._delegate)}disableNetwork(){return function E6(r){return function h6(r){return r.asyncQueue.enqueue((0,Te.Z)(function*(){const n=yield IU(r),t=yield wx(r);return n.setNetworkEnabled(!1),(o=(0,Te.Z)(function*(i){const a=tt(i);a.wu.add(0),yield Gf(a),a.yu.set("Offline")}),function(i){return o.apply(this,arguments)})(t);var o}))}(Mr(r=_n(r,tr)))}(this._delegate)}enablePersistence(n){let t=!1,o=!1;return n&&(t=!!n.synchronizeTabs,o=!!n.experimentalForceOwningTab,pU("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function A6(r){return function(n){const t=new oo;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function GO(r,n){return YS.apply(this,arguments)}(yield bx(n),t)})),t.promise}(Mr(r=_n(r,tr)))}(this._delegate)}onSnapshotsInSync(n){return function rL(r,n){return function f6(r,n){const t=new Pw(n);return r.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return o=yield Yf(r),i=t,tt(o).bu.add(i),void i.next();var o,i})),()=>{t.bc(),r.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return o=yield Yf(r),i=t,void tt(o).bu.delete(i);var o,i}))}}(Mr(r=_n(r,tr)),Ix(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new e_(this,CU(this._delegate,n))}catch(t){throw Ci(t,"collection()","Firestore.collection()")}}doc(n){try{return new ma(this,Mw(this._delegate,n))}catch(t){throw Ci(t,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Ti(this,function o6(r,n){if(r=_n(r,Av),fx("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Re(_e.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ei(r,null,(t=n,new Ku(Tn.emptyPath(),t)));var t}(this._delegate,n))}catch(t){throw Ci(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function sL(r,n,t){r=_n(r,tr);const o=Object.assign(Object.assign({},oL),t);return function(i){if(i.maxAttempts<1)throw new Re(_e.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(i,a,d){const p=new oo;return i.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const y=yield function EU(r){return Rw(r).then(n=>n.datastore)}(i);new u6(i.asyncQueue,y,d,a,p).run()})),p.promise}(Mr(r),i=>n(new iL(r,i)),o)}(this._delegate,t=>n(new nM(this,t)))}batch(){return Mr(this._delegate),new rM(new KU(this._delegate,n=>Xf(this._delegate,n)))}loadBundle(n){return function D6(r,n){const t=Mr(r=_n(r,tr)),o=new v6;return function _6(r,n,t,o){const i=function(a,d){let p;return p="string"==typeof a?(new TextEncoder).encode(a):a,y=function(y,w){if(y instanceof Uint8Array)return wU(y,w);if(y instanceof ArrayBuffer)return wU(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new i6(y,d);var y}(t,Tv(n));r.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function n6(r,n,t){const o=tt(r);var i;(i=(0,Te.Z)(function*(a,d,p){try{const y=yield d.getMetadata();if(yield function(F,$){const ee=tt(F),Se=yo($.createTime);return ee.persistence.runTransaction("hasNewerBundle","readonly",Be=>ee.Ns.getBundleMetadata(Be,$.id)).then(Be=>!!Be&&Be.createTime.compareTo(Se)>=0)}(a.localStore,y))return yield d.close(),p._completeWith({taskState:"Success",documentsLoaded:(F=y).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);p._updateProgress(nU(y));const w=new PO(y,a.localStore,d.It);let D=yield d.mc();for(;D;){const F=yield w.Fu(D);F&&p._updateProgress(F),D=yield d.mc()}const x=yield w.complete();return yield ec(a,x.Lu,void 0),yield function(F,$){const ee=tt(F);return ee.persistence.runTransaction("Save bundle","readwrite",Se=>ee.Ns.saveBundleMetadata(Se,$))}(a.localStore,y),p._completeWith(x.progress),Promise.resolve(x.Bu)}catch(y){return op("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var F}),function(a,d,p){return i.apply(this,arguments)})(o,n,t).then(i=>{o.sharedClientState.notifyBundleLoaded(i)})}(yield bx(r),i,o)}))}(t,r._databaseId,n,o),o}(this._delegate,n)}namedQuery(n){return function S6(r,n){return function m6(r,n){return r.asyncQueue.enqueue((0,Te.Z)(function*(){return function(t,o){const i=tt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,o))}(yield Ow(r),n)}))}(Mr(r=_n(r,tr)),n).then(t=>t?new ei(r,null,t.query):null)}(this._delegate,n).then(t=>t?new Ti(this,t):null)}}class Gw extends kx{constructor(n){super(),this.firestore=n}convertBytes(n){return new xv(new Wl(n))}convertReference(n){const t=this.convertDocumentKey(n,this.firestore._databaseId);return ma.forKey(t,this.firestore,null)}}class nM{constructor(n,t){this._firestore=n,this._delegate=t,this._userDataWriter=new Gw(n)}get(n){const t=Dp(n);return this._delegate.get(t).then(o=>new Zv(this._firestore,new nc(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(n,t,o){const i=Dp(n);return o?(Ux("Transaction.set",o),this._delegate.set(i,t,o)):this._delegate.set(i,t),this}update(n,t,o,...i){const a=Dp(n);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,o,...i),this}delete(n){const t=Dp(n);return this._delegate.delete(t),this}}class rM{constructor(n){this._delegate=n}set(n,t,o){const i=Dp(n);return o?(Ux("WriteBatch.set",o),this._delegate.set(i,t,o)):this._delegate.set(i,t),this}update(n,t,o,...i){const a=Dp(n);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,o,...i),this}delete(n){const t=Dp(n);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ep{constructor(n,t,o){this._firestore=n,this._userDataWriter=t,this._delegate=o}fromFirestore(n,t){const o=new Sv(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new kv(this._firestore,o),null!=t?t:{})}toFirestore(n,t){return t?this._delegate.toFirestore(n,t):this._delegate.toFirestore(n)}static getInstance(n,t){const o=Ep.INSTANCES;let i=o.get(n);i||(i=new WeakMap,o.set(n,i));let a=i.get(t);return a||(a=new Ep(n,new Gw(n),t),i.set(t,a)),a}}Ep.INSTANCES=new WeakMap;class ma{constructor(n,t){this.firestore=n,this._delegate=t,this._userDataWriter=new Gw(n)}static forPath(n,t,o){if(n.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new ma(t,new er(t._delegate,o,new ze(n)))}static forKey(n,t,o){return new ma(t,new er(t._delegate,o,n))}get id(){return this._delegate.id}get parent(){return new e_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new e_(this.firestore,CU(this._delegate,n))}catch(t){throw Ci(t,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,Cn.m9)(n))instanceof er&&TU(this._delegate,n)}set(n,t){t=Ux("DocumentReference.set",t);try{return t?WU(this._delegate,n,t):WU(this._delegate,n)}catch(o){throw Ci(o,"setDoc()","DocumentReference.set()")}}update(n,t,...o){try{return 1===arguments.length?QU(this._delegate,n):QU(this._delegate,n,t,...o)}catch(i){throw Ci(i,"updateDoc()","DocumentReference.update()")}}delete(){return function tL(r){return Xf(_n(r.firestore,tr),[new Lf(r._key,ur.none())])}(this._delegate)}onSnapshot(...n){const t=oM(n),o=iM(n,i=>new Zv(this.firestore,new nc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return zU(this._delegate,t,o)}get(n){let t;return t="cache"===(null==n?void 0:n.source)?function z6(r){r=_n(r,er);const n=_n(r.firestore,tr),t=Mr(n),o=new Id(n);return function p6(r,n){const t=new oo;return r.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(o=(0,Te.Z)(function*(i,a,d){try{const p=yield function(y,w){const D=tt(y);return D.persistence.runTransaction("read document","readonly",x=>D.localDocuments.getDocument(x,w))}(i,a);p.isFoundDocument()?d.resolve(p):p.isNoDocument()?d.resolve(null):d.reject(new Re(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=Wf(p,`Failed to get document '${a} from cache`);d.reject(y)}}),function(i,a,d){return o.apply(this,arguments)})(yield Ow(r),n,t);var o})),t.promise}(t,r._key).then(i=>new nc(n,o,r._key,i,new Ip(null!==i&&i.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function K6(r){r=_n(r,er);const n=_n(r.firestore,tr);return DU(Mr(n),r._key,{source:"server"}).then(t=>Nx(n,r,t))}(this._delegate):function Q6(r){r=_n(r,er);const n=_n(r.firestore,tr);return DU(Mr(n),r._key).then(t=>Nx(n,r,t))}(this._delegate),t.then(o=>new Zv(this.firestore,new nc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(n){return new ma(this.firestore,this._delegate.withConverter(n?Ep.getInstance(this.firestore,n):null))}}function Ci(r,n,t){return r.message=r.message.replace(n,t),r}function oM(r){for(const n of r)if("object"==typeof n&&!Mx(n))return n;return{}}function iM(r,n){var t,o;let i;return i=Mx(r[0])?r[0]:Mx(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:a=>{i.next&&i.next(n(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(o=i.complete)||void 0===o?void 0:o.bind(i)}}class Zv{constructor(n,t){this._firestore=n,this._delegate=t}get ref(){return new ma(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,t){return this._delegate.get(n,t)}isEqual(n){return JU(this._delegate,n._delegate)}}class kv extends Zv{data(n){const t=this._delegate.data(n);return function gP(r,n){r||ht()}(void 0!==t),t}}class Ti{constructor(n,t){this.firestore=n,this._delegate=t,this._userDataWriter=new Gw(n)}where(n,t,o){try{return new Ti(this.firestore,bd(this._delegate,function L6(r,n,t){const o=n,i=jw("where",r);return new O6(i,o,t)}(n,t,o)))}catch(i){throw Ci(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,t){try{return new Ti(this.firestore,bd(this._delegate,function q6(r,n="asc"){const t=n,o=jw("orderBy",r);return new F6(o,t)}(n,t)))}catch(o){throw Ci(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Ti(this.firestore,bd(this._delegate,function V6(r){return _U("limit",r),new qU("limit",r,"F")}(n)))}catch(t){throw Ci(t,"limit()","Query.limit()")}}limitToLast(n){try{return new Ti(this.firestore,bd(this._delegate,function B6(r){return _U("limitToLast",r),new qU("limitToLast",r,"L")}(n)))}catch(t){throw Ci(t,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Ti(this.firestore,bd(this._delegate,function j6(...r){return new VU("startAt",r,!0)}(...n)))}catch(t){throw Ci(t,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Ti(this.firestore,bd(this._delegate,function $6(...r){return new VU("startAfter",r,!1)}(...n)))}catch(t){throw Ci(t,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Ti(this.firestore,bd(this._delegate,function G6(...r){return new BU("endBefore",r,!1)}(...n)))}catch(t){throw Ci(t,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Ti(this.firestore,bd(this._delegate,function H6(...r){return new BU("endAt",r,!0)}(...n)))}catch(t){throw Ci(t,"endAt()","Query.endAt()")}}isEqual(n){return _x(this._delegate,n._delegate)}get(n){let t;return t="cache"===(null==n?void 0:n.source)?function X6(r){r=_n(r,ei);const n=_n(r.firestore,tr),t=Mr(n),o=new Id(n);return function g6(r,n){const t=new oo;return r.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(o=(0,Te.Z)(function*(i,a,d){try{const p=yield Dw(i,a,!0),y=new iU(a,p.Hi),w=y.Wu(p.documents),D=y.applyChanges(w,!1);d.resolve(D.snapshot)}catch(p){const y=Wf(p,`Failed to execute query '${a} against cache`);d.reject(y)}}),function(i,a,d){return o.apply(this,arguments)})(yield Ow(r),n,t);var o})),t.promise}(t,r._query).then(i=>new Ad(n,o,r,i))}(this._delegate):"server"===(null==n?void 0:n.source)?function eL(r){r=_n(r,ei);const n=_n(r.firestore,tr),t=Mr(n),o=new Id(n);return SU(t,r._query,{source:"server"}).then(i=>new Ad(n,o,r,i))}(this._delegate):function Y6(r){r=_n(r,ei);const n=_n(r.firestore,tr),t=Mr(n),o=new Id(n);return FU(r._query),SU(t,r._query).then(i=>new Ad(n,o,r,i))}(this._delegate),t.then(o=>new Px(this.firestore,new Ad(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...n){const t=oM(n),o=iM(n,i=>new Px(this.firestore,new Ad(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return zU(this._delegate,t,o)}withConverter(n){return new Ti(this.firestore,this._delegate.withConverter(n?Ep.getInstance(this.firestore,n):null))}}class mL{constructor(n,t){this._firestore=n,this._delegate=t}get type(){return this._delegate.type}get doc(){return new kv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Px{constructor(n,t){this._firestore=n,this._delegate=t}get query(){return new Ti(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new kv(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(t=>new mL(this._firestore,t))}forEach(n,t){this._delegate.forEach(o=>{n.call(t,new kv(this._firestore,o))})}isEqual(n){return JU(this._delegate,n._delegate)}}class e_ extends Ti{constructor(n,t){super(n,t),this.firestore=n,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new ma(this.firestore,n):null}doc(n){try{return new ma(this.firestore,void 0===n?Mw(this._delegate):Mw(this._delegate,n))}catch(t){throw Ci(t,"doc()","CollectionReference.doc()")}}add(n){return function nL(r,n){const t=_n(r.firestore,tr),o=Mw(r),i=$w(r.converter,n);return Xf(t,[qw(bp(r.firestore),"addDoc",o._key,i,null!==r.converter,{}).toMutation(o._key,ur.exists(!1))]).then(()=>o)}(this._delegate,n).then(t=>new ma(this.firestore,t))}isEqual(n){return TU(this._delegate,n._delegate)}withConverter(n){return new e_(this.firestore,this._delegate.withConverter(n?Ep.getInstance(this.firestore,n):null))}}function Dp(r){return _n(r,er)}class Rx{constructor(...n){this._delegate=new tc(...n)}static documentId(){return new Rx(wr.keyField().canonicalString())}isEqual(n){return(n=(0,Cn.m9)(n))instanceof tc&&this._delegate._internalPath.isEqual(n._internalPath)}}class Sp{constructor(n){this._delegate=n}static serverTimestamp(){const n=function lL(){return new Ex("serverTimestamp")}();return n._methodName="FieldValue.serverTimestamp",new Sp(n)}static delete(){const n=function aL(){return new Iv("deleteField")}();return n._methodName="FieldValue.delete",new Sp(n)}static arrayUnion(...n){const t=function uL(...r){return new N6("arrayUnion",r)}(...n);return t._methodName="FieldValue.arrayUnion",new Sp(t)}static arrayRemove(...n){const t=function cL(...r){return new U6("arrayRemove",r)}(...n);return t._methodName="FieldValue.arrayRemove",new Sp(t)}static increment(n){const t=function dL(r){return new M6("increment",r)}(n);return t._methodName="FieldValue.increment",new Sp(t)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const yL={Firestore:tM,GeoPoint:Lw,Timestamp:lr,Blob:xv,Transaction:nM,WriteBatch:rM,DocumentReference:ma,DocumentSnapshot:Zv,Query:Ti,QueryDocumentSnapshot:kv,QuerySnapshot:Px,CollectionReference:e_,FieldPath:Rx,FieldValue:Sp,setLogLevel:function _L(r){!function pP(r){cd.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function CL(r){(function vL(r,n){r.INTERNAL.registerComponent(new Qg.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return n(o,i)},"PUBLIC").setServiceProps(Object.assign({},yL)))})(r,(n,t)=>new tM(n,t,new fL)),r.registerVersion("@firebase/firestore-compat","0.2.1")}(bT.Z);var TL=P(6451),Hw=P(5363),wL=P(6063);class sM extends Ri.x{constructor(n=1/0,t=1/0,o=wL.l){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){const{isStopped:t,_buffer:o,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:d}=this;t||(o.push(n),!i&&o.push(a.now()+d)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(n),{_infiniteTimeWindow:o,_buffer:i}=this,a=i.slice();for(let d=0;d<a.length&&!n.closed;d+=o?1:2)n.next(a[d]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){const{_bufferSize:n,_timestampProvider:t,_buffer:o,_infiniteTimeWindow:i}=this,a=(i?1:2)*n;if(n<1/0&&a<o.length&&o.splice(0,o.length-a),!i){const d=t.now();let p=0;for(let y=1;y<o.length&&o[y]<=d;y+=2)p=y;p&&o.splice(0,p+1)}}}var bL=P(3099);function aM(r,n,t){let o,i=!1;return r&&"object"==typeof r?({bufferSize:o=1/0,windowTime:n=1/0,refCount:i=!1,scheduler:t}=r):o=null!=r?r:1/0,(0,bL.B)({connector:()=>new sM(o,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function lM(r,n){return(0,ah.m)(n)?Xr(()=>r,n):Xr(()=>r)}var Ox=P(9468);P(5867);const cM=new Map,SL={activated:!1,tokenObservers:[]},xL={initialized:!1,enabled:!1};function To(r){return cM.get(r)||SL}function ya(r,n){cM.set(r,n)}function Ww(){return xL}class ML{constructor(n,t,o,i,a){if(this.operation=n,this.retryPolicy=t,this.getWaitDuration=o,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var t=this;return(0,Te.Z)(function*(){t.stop();try{t.pending=new Cn.BH,yield function PL(r){return new Promise(n=>{setTimeout(n,r)})}(t.getNextRun(n)),t.pending.resolve(),yield t.pending.promise,t.pending=new Cn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(o){t.retryPolicy(o)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const wi=new Cn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function hM(r){if(!To(r).activated)throw wi.create("use-before-activation",{appName:r.name})}function Vx(r,n){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,Te.Z)(function*({url:r,body:n},t){var o,i;const a={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const $=yield d.getHeartbeatsHeader();$&&(a["X-Firebase-Client"]=$)}const p={method:"POST",body:JSON.stringify(n),headers:a};let y,w;try{y=yield fetch(r,p)}catch($){throw wi.create("fetch-network-error",{originalErrorMessage:null===(o=$)||void 0===o?void 0:o.message})}if(200!==y.status)throw wi.create("fetch-status-error",{httpStatus:y.status});try{w=yield y.json()}catch($){throw wi.create("fetch-parse-error",{originalErrorMessage:null===(i=$)||void 0===i?void 0:i.message})}const D=w.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw wi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const x=1e3*Number(D[1]),F=Date.now();return{token:w.token,expireTimeMillis:F+x,issuedAtTimeMillis:F}}),Bx.apply(this,arguments)}function FL(r,n){const{projectId:t,appId:o,apiKey:i}=r.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${o}:exchangeDebugToken?key=${i}`,body:{debug_token:n}}}const Nv="firebase-app-check-store";let Kw=null;function gM(){return Kw||(Kw=new Promise((r,n)=>{var t;try{const o=indexedDB.open("firebase-app-check-database",1);o.onsuccess=i=>{r(i.target.result)},o.onerror=i=>{var a;n(wi.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},o.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Nv,{keyPath:"compositeKey"})}}catch(o){n(wi.create("storage-open",{originalErrorMessage:null===(t=o)||void 0===t?void 0:t.message}))}}),Kw)}function jx(){return jx=(0,Te.Z)(function*(r,n){const o=(yield gM()).transaction(Nv,"readwrite"),a=o.objectStore(Nv).put({compositeKey:r,value:n});return new Promise((d,p)=>{a.onsuccess=y=>{d()},o.onerror=y=>{var w;p(wi.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})}),jx.apply(this,arguments)}const Uv=new Qa.Yd("@firebase/app-check");function Hx(r,n){return(0,Cn.hl)()?function jL(r,n){return function fM(r,n){return jx.apply(this,arguments)}(function mM(r){return`${r.options.appId}-${r.name}`}(r),n)}(r,n).catch(t=>{Uv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function yM(){return Ww().enabled}function vM(){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,Te.Z)(function*(){const r=Ww();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Wx.apply(this,arguments)}const QL={error:"UNKNOWN_ERROR"};function zL(r){return Cn.US.encodeString(JSON.stringify(r),!1)}function Yw(r){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,Te.Z)(function*(r,n=!1){const t=r.app;hM(t);const o=To(t);let a,i=o.token;if(i&&!t_(i)&&(ya(t,Object.assign(Object.assign({},o),{token:void 0})),i=void 0),!i){const y=yield o.cachedTokenPromise;y&&(t_(y)?i=y:yield Hx(t,void 0))}if(!n&&i&&t_(i))return{token:i.token};let p,d=!1;if(yM()){o.exchangeTokenPromise||(o.exchangeTokenPromise=Vx(FL(t,yield vM()),r.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),d=!0);const y=yield o.exchangeTokenPromise;return yield Hx(t,y),ya(t,Object.assign(Object.assign({},o),{token:y})),{token:y.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),d=!0),i=yield o.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Uv.warn(y.message):Uv.error(y),a=y}return i?a?p=t_(i)?{token:i.token,internalError:a}:wM(a):(p={token:i.token},ya(t,Object.assign(Object.assign({},o),{token:i})),yield Hx(t,i)):p=wM(a),d&&TM(t,p),p}),Qx.apply(this,arguments)}function Kx(r,n){const t=To(r),o=t.tokenObservers.filter(i=>i.next!==n);0===o.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ya(r,Object.assign(Object.assign({},t),{tokenObservers:o}))}function CM(r){const{app:n}=r,t=To(n);let o=t.tokenRefresher;o||(o=function KL(r){const{app:n}=r;return new ML((0,Te.Z)(function*(){let o;if(o=To(n).token?yield Yw(r,!0):yield Yw(r),o.error)throw o.error;if(o.internalError)throw o.internalError}),()=>!0,()=>{const t=To(n);if(t.token){let o=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,t.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(r),ya(n,Object.assign(Object.assign({},t),{tokenRefresher:o}))),!o.isRunning()&&t.isTokenAutoRefreshEnabled&&o.start()}function TM(r,n){const t=To(r).tokenObservers;for(const o of t)try{"EXTERNAL"===o.type&&null!=n.error?o.error(n.error):o.next(n)}catch(i){}}function t_(r){return r.expireTimeMillis-Date.now()>0}function wM(r){return{token:zL(QL),error:r}}class YL{constructor(n,t){this.app=n,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:n}=To(this.app);for(const t of n)Kx(this.app,t.next);return Promise.resolve()}}const ZM="app-check-internal";!function h3(){(0,Vl._registerComponent)(new Qg.wA("app-check",r=>function XL(r,n){return new YL(r,n)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,n,t)=>{r.getProvider(ZM).initialize()})),(0,Vl._registerComponent)(new Qg.wA(ZM,r=>function e3(r){return{getToken:n=>Yw(r,n),addTokenListener:n=>function zx(r,n,t,o){const{app:i}=r,a=To(i),d={next:t,error:o,type:n};if(ya(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,d]})),a.token&&t_(a.token)){const p=a.token;Promise.resolve().then(()=>{t({token:p.token}),CM(r)}).catch(()=>{})}a.cachedTokenPromise.then(()=>CM(r))}(r,"INTERNAL",n),removeTokenListener:n=>Kx(r.app,n)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Vl.registerVersion)("@firebase/app-check","0.5.15")}();class t2{constructor(){return(0,Br.vb)("app-check")}}"undefined"!=typeof window&&window;var m3=P(127);const NM=new e.OlP("angularfire2.auth.use-emulator"),UM=new e.OlP("angularfire2.auth.settings"),MM=new e.OlP("angularfire2.auth.tenant-id"),PM=new e.OlP("angularfire2.auth.langugage-code"),RM=new e.OlP("angularfire2.auth.use-device-language"),OM=new e.OlP("angularfire.auth.persistence"),LM=(r,n,t,o,i,a,d,p)=>(0,qi.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const y=n.runOutsideAngular(()=>r.auth());if(t&&y.useEmulator(...t),o&&(y.tenantId=o),y.languageCode=i,a&&y.useDeviceLanguage(),d)for(const[w,D]of Object.entries(d))y.settings[w]=D;return p&&y.setPersistence(p),y},[t,o,i,a,d,p]);let eb=(()=>{class r{constructor(t,o,i,a,d,p,y,w,D,x,F,$){const ee=new Ri.x,Se=Ct(void 0).pipe((0,Hw.Q)(d.outsideAngular),Xr(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5881)))),(0,j.U)(()=>(0,qi.on)(t,a,o)),(0,j.U)(Be=>LM(Be,a,p,w,D,x,y,F)),aM({bufferSize:1,refCount:!1}));if(Kl(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ct(null);else{Se.pipe(na()).subscribe();const ct=Se.pipe(Xr(bt=>bt.getRedirectResult().then(Vt=>Vt,()=>null)),Br.iC,aM({bufferSize:1,refCount:!1})),Ot=Se.pipe(Xr(bt=>new zr.y(Vt=>({unsubscribe:a.runOutsideAngular(()=>bt.onAuthStateChanged(rn=>Vt.next(rn),rn=>Vt.error(rn),()=>Vt.complete()))})))),Jt=Se.pipe(Xr(bt=>new zr.y(Vt=>({unsubscribe:a.runOutsideAngular(()=>bt.onIdTokenChanged(rn=>Vt.next(rn),rn=>Vt.error(rn),()=>Vt.complete()))}))));this.authState=ct.pipe(lM(Ot),(0,Ox.R)(d.outsideAngular),(0,Hw.Q)(d.insideAngular)),this.user=ct.pipe(lM(Jt),(0,Ox.R)(d.outsideAngular),(0,Hw.Q)(d.insideAngular)),this.idToken=this.user.pipe(Xr(bt=>bt?(0,dn.D)(bt.getIdToken()):Ct(null))),this.idTokenResult=this.user.pipe(Xr(bt=>bt?(0,dn.D)(bt.getIdTokenResult()):Ct(null))),this.credential=(0,TL.T)(ct,ee,this.authState.pipe(Pe(bt=>!bt))).pipe((0,j.U)(bt=>null!=bt&&bt.user?bt:null),(0,Ox.R)(d.outsideAngular),(0,Hw.Q)(d.insideAngular))}return(0,qi.pX)(this,Se,a,{spy:{apply:(Be,ct,Ot)=>{(Be.startsWith("signIn")||Be.startsWith("createUser"))&&Ot.then(Jt=>ee.next(Jt))}}})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(qi.Dh),e.LFG(qi.xv,8),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(Br.HU),e.LFG(NM,8),e.LFG(UM,8),e.LFG(MM,8),e.LFG(PM,8),e.LFG(RM,8),e.LFG(OM,8),e.LFG(t2,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),v3=(()=>{class r{constructor(){m3.Z.registerVersion("angularfire",Br.q4.full,"auth-compat")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[eb]}),r})();function FM(r,n){return function C3(r,n=eo.z){return new zr.y(t=>{let o;return null!=n?n.schedule(()=>{o=r.onSnapshot({includeMetadataChanges:!0},t)}):o=r.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(r,n)}function r2(r,n){return FM(r,n).pipe((0,j.U)(t=>({payload:t,type:"query"})))}function tb(r,n){return r2(r,n).pipe(Il(void 0),zg(),(0,j.U)(([t,o])=>{const i=o.payload.docChanges(),a=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((d,p)=>{const y=i.find(D=>D.doc.ref.isEqual(d.ref)),w=null==t?void 0:t.payload.docs.find(D=>D.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||a.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:d}})}),a}))}function qM(r,n,t){return tb(r,t).pipe(Zc((o,i)=>function w3(r,n,t){return n.forEach(o=>{t.indexOf(o.type)>-1&&(r=function b3(r,n){switch(n.type){case"added":if(!r[n.newIndex]||!r[n.newIndex].doc.ref.isEqual(n.doc.ref))return o2(r,n.newIndex,0,n);break;case"modified":if(null==r[n.oldIndex]||r[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const t=r.slice();return t.splice(n.oldIndex,1),t.splice(n.newIndex,0,n),t}return o2(r,n.newIndex,1,n)}break;case"removed":if(r[n.oldIndex]&&r[n.oldIndex].doc.ref.isEqual(n.doc.ref))return o2(r,n.oldIndex,1)}return r}(r,o))}),r}(o,i.map(a=>a.payload),n),[]),function sD(r,n=bl.y){return r=null!=r?r:aD,(0,ho.e)((t,o)=>{let i,a=!0;t.subscribe((0,Kn.x)(o,d=>{const p=n(d);(a||!r(i,p))&&(a=!1,i=p,o.next(d))}))})}(),(0,j.U)(o=>o.map(i=>({type:i.type,payload:i}))))}function o2(r,n,t,...o){const i=r.slice();return i.splice(n,t,...o),i}function VM(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class BM{constructor(n,t,o){this.ref=n,this.query=t,this.afs=o}stateChanges(n){let t=tb(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(t=t.pipe((0,j.U)(o=>o.filter(i=>n.indexOf(i.type)>-1)))),t.pipe(Il(void 0),zg(),Pe(([o,i])=>i.length>0||!o),(0,j.U)(([o,i])=>i),Br.iC)}auditTrail(n){return this.stateChanges(n).pipe(Zc((t,o)=>[...t,...o],[]))}snapshotChanges(n){const t=VM(n);return qM(this.query,t,this.afs.schedulers.outsideAngular).pipe(Br.iC)}valueChanges(n={}){return r2(this.query,this.afs.schedulers.outsideAngular).pipe((0,j.U)(t=>t.payload.docs.map(o=>n.idField?Object.assign(Object.assign({},o.data()),{[n.idField]:o.id}):o.data())),Br.iC)}get(n){return(0,dn.D)(this.query.get(n)).pipe(Br.iC)}add(n){return this.ref.add(n)}doc(n){return new jM(this.ref.doc(n),this.afs)}}class jM{constructor(n,t){this.ref=n,this.afs=t}set(n,t){return this.ref.set(n,t)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,t){const o=this.ref.collection(n),{ref:i,query:a}=$M(o,t);return new BM(i,a,this.afs)}snapshotChanges(){return function T3(r,n){return FM(r,n).pipe(Il(void 0),zg(),(0,j.U)(([t,o])=>o.exists?null!=t&&t.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Br.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,j.U)(({payload:t})=>n.idField?Object.assign(Object.assign({},t.data()),{[n.idField]:t.id}):t.data()))}get(n){return(0,dn.D)(this.ref.get(n)).pipe(Br.iC)}}class A3{constructor(n,t){this.query=n,this.afs=t}stateChanges(n){return n&&0!==n.length?tb(this.query,this.afs.schedulers.outsideAngular).pipe((0,j.U)(t=>t.filter(o=>n.indexOf(o.type)>-1)),Pe(t=>t.length>0),Br.iC):tb(this.query,this.afs.schedulers.outsideAngular).pipe(Br.iC)}auditTrail(n){return this.stateChanges(n).pipe(Zc((t,o)=>[...t,...o],[]))}snapshotChanges(n){const t=VM(n);return qM(this.query,t,this.afs.schedulers.outsideAngular).pipe(Br.iC)}valueChanges(n={}){return r2(this.query,this.afs.schedulers.outsideAngular).pipe((0,j.U)(o=>o.payload.docs.map(i=>n.idField?Object.assign({[n.idField]:i.id},i.data()):i.data())),Br.iC)}get(n){return(0,dn.D)(this.query.get(n)).pipe(Br.iC)}}const I3=new e.OlP("angularfire2.enableFirestorePersistence"),E3=new e.OlP("angularfire2.firestore.persistenceSettings"),D3=new e.OlP("angularfire2.firestore.settings"),S3=new e.OlP("angularfire2.firestore.use-emulator");function $M(r,n=(t=>t)){return{query:n(r),ref:r}}let x3=(()=>{class r{constructor(t,o,i,a,d,p,y,w,D,x,F,$,ee,Se,Be,ct,Ot){this.schedulers=y;const Jt=(0,qi.on)(t,p,o),bt=D;x&&LM(Jt,p,F,ee,Se,Be,$,ct),[this.firestore,this.persistenceEnabled$]=(0,qi.cc)(`${Jt.name}.firestore`,"AngularFirestore",Jt.name,()=>{const Vt=p.runOutsideAngular(()=>Jt.firestore());if(a&&Vt.settings(a),bt&&Vt.useEmulator(...bt),i&&!Kl(d)){const rn=()=>{try{return(0,dn.D)(Vt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(so){return"undefined"!=typeof console&&console.warn(so),Ct(!1)}};return[Vt,p.runOutsideAngular(rn)]}return[Vt,Ct(!1)]},[a,bt,i])}collection(t,o){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:d}=$M(i,o),p=this.schedulers.ngZone.run(()=>a);return new BM(p,d,this)}collectionGroup(t,o){const i=o||(d=>d),a=this.firestore.collectionGroup(t);return new A3(i(a),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>o);return new jM(i,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(qi.Dh),e.LFG(qi.xv,8),e.LFG(I3,8),e.LFG(D3,8),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(Br.HU),e.LFG(E3,8),e.LFG(S3,8),e.LFG(eb,8),e.LFG(NM,8),e.LFG(UM,8),e.LFG(MM,8),e.LFG(PM,8),e.LFG(RM,8),e.LFG(OM,8),e.LFG(t2,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),i2=(()=>{class r{constructor(t,o){this.afs=t,this.afAuth=o,this.afAuth.authState.subscribe(i=>{i?(this.userData=i,localStorage.setItem("fire.user",JSON.stringify(this.userData))):localStorage.setItem("fire.user","null")})}get isLoggedIn(){const t=localStorage.getItem("fire.user"),o=JSON.parse(t||"null");return null!==o&&!1!==o.emailVerified}GoogleAuth(){return this.AuthLogin(new iD.Q).then(t=>{})}getToken(){return(0,Wg.mG)(this,void 0,void 0,function*(){var t=yield this.afAuth.currentUser;return yield null==t?void 0:t.getIdToken(!1)})}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(o=>{this.SetUserData(o.user)}).catch(o=>{window.alert(o)})}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("fire.user")})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(x3),e.LFG(eb))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Z3(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",2),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.logOut())}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.hij("[",t.userName,"]")}}function k3(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",3),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.GoogleAuth())}),e._uU(1,"[LOGIN]"),e.qZA()}}let N3=(()=>{class r{constructor(t){this.fireAuthService=t}get loggedIn(){return this.fireAuthService.isLoggedIn}get userName(){var t,o;return(null===(o=null===(t=this.fireAuthService)||void 0===t?void 0:t.userData)||void 0===o?void 0:o.displayName)||"Logged In"}ngOnInit(){}GoogleAuth(){this.fireAuthService.GoogleAuth()}logOut(){this.fireAuthService.SignOut()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(i2))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-login"]],decls:2,vars:2,consts:[["class","text-grey link-btn",3,"click",4,"ngIf"],["class","text-main link-btn",3,"click",4,"ngIf"],[1,"text-grey","link-btn",3,"click"],[1,"text-main","link-btn",3,"click"]],template:function(t,o){1&t&&(e.YNc(0,Z3,2,1,"a",0),e.YNc(1,k3,2,0,"a",1)),2&t&&(e.Q6J("ngIf",o.loggedIn),e.xp6(1),e.Q6J("ngIf",!o.loggedIn))},dependencies:[pt]}),r})(),U3=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-header"]],decls:11,vars:8,consts:[[1,"nav","text-grey-dull"],[3,"name","route"],[1,"nav-login"]],template:function(t,o){1&t&&(e.TgZ(0,"nav")(1,"div",0),e._UZ(2,"app-header-nav-link",1),e._uU(3," - "),e._UZ(4,"app-header-nav-link",1),e._uU(5," - "),e._UZ(6,"app-header-nav-link",1),e._uU(7," - "),e._UZ(8,"app-header-nav-link",1),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"app-login"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("name","[ Languages ]")("route","language"),e.xp6(2),e.Q6J("name","[ Evolutions ]")("route","evolutions/connections"),e.xp6(2),e.Q6J("name","[ Words ]")("route","words/list"),e.xp6(2),e.Q6J("name","[ Trace ]")("route","trace"))},dependencies:[uZ,N3],styles:[".nav[_ngcontent-%COMP%]{width:100%;display:flex;margin-left:0;margin-right:auto}.nav-login[_ngcontent-%COMP%]{margin-left:auto;margin-right:0;padding-right:8px}nav[_ngcontent-%COMP%]{display:flex;margin-top:4px}"]}),r})(),GM=(()=>{class r extends Ol{constructor(t,o){super(t,o)}ping$Response(t){const o=new Ge(this.rootUrl,r.PingPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}ping(t){return this.ping$Response(t).pipe((0,j.U)(o=>o.body))}setUserClaims$Response(t){const o=new Ge(this.rootUrl,r.SetUserClaimsPath,"post");return t&&(o.path("uid",t.uid,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i.clone({body:void 0})))}setUserClaims(t){return this.setUserClaims$Response(t).pipe((0,j.U)(o=>o.body))}version$Response(t){const o=new Ge(this.rootUrl,r.VersionPath,"get");return this.http.request(o.build({responseType:"text",accept:"text/plain",context:null==t?void 0:t.context})).pipe(Pe(i=>i instanceof je),(0,j.U)(i=>i))}version(t){return this.version$Response(t).pipe((0,j.U)(o=>o.body))}}return r.PingPath="/api/ping",r.SetUserClaimsPath="/api/ping/user-claims/{uid}",r.VersionPath="/api/ping/version",r.\u0275fac=function(t){return new(t||r)(e.LFG(ys),e.LFG(Li))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function M3(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function P3(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"span"),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.apiVersion)}}function R3(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"span"),e.YNc(3,M3,2,0,"span",9),e.YNc(4,P3,3,1,"span",9),e.qZA()()),2&r){const t=e.oxw();e.xp6(1),e.hij(", ",t.version,""),e.xp6(2),e.Q6J("ngIf",t.version&&t.apiVersion),e.xp6(1),e.Q6J("ngIf",t.apiVersion)}}let O3=(()=>{class r{constructor(t){this.pingService=t}ngOnInit(){const t=(new Date).getFullYear();this.year=2022!==t?`2022\u2013${t}`:`${t}`,this.pingService.version().subscribe(o=>this.apiVersion=o)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(GM))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-version-footer"]],inputs:{version:"version"},decls:21,vars:2,consts:[[1,"left","text-grey-dull"],["href","https://github.com/owlbeardm/language-parser-ui",1,"text-grey","link-btn"],["href","https://twitter.com/OwlbearDm",1,"text-grey","link-btn"],["href","mailto:owlbeardm@gmail.com?subject=Kedom Language: ",1,"text-grey","link-btn"],["href","https://c7d5a6.com/",1,"text-grey","link-btn"],[1,"right","text-grey-dull"],[1,"copyright","float-md-right"],[1,"col-md","pl-0"],["href","https://owlbeardm.com/","rel","noreferrer","target","_blank",1,"text-grey","link-btn"],[4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"span",0)(1,"a",1),e._uU(2,"[ GITHUB ]"),e.qZA(),e._uU(3," - "),e.TgZ(4,"a",2),e._uU(5,"[ TWITTER ]"),e.qZA(),e._uU(6," - "),e.TgZ(7,"a",3),e._uU(8,"[ EMAIL ]"),e.qZA(),e._uU(9," - "),e.TgZ(10,"a",4),e._uU(11," [ CONTACTS ]"),e.qZA()(),e.TgZ(12,"span",5)(13,"span",6)(14,"span"),e._uU(15),e.TgZ(16,"span")(17,"span",7)(18,"a",8),e._uU(19,"OwlbearDM"),e.qZA(),e.YNc(20,R3,5,3,"span",9),e.qZA()()()()()),2&t&&(e.xp6(15),e.hij("",o.year," \xa9 Mikita Kukavenka, "),e.xp6(5),e.Q6J("ngIf",o.version))},dependencies:[pt],styles:[".left[_ngcontent-%COMP%]{margin-left:4px;margin-right:auto}.right[_ngcontent-%COMP%]{margin-left:auto;margin-right:4px}"]}),r})(),L3=(()=>{class r{constructor(){this.title="language-parser-ui",this.version="0.5.1"}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-root"]],decls:7,vars:1,consts:[["align","center",1,"main"],[1,"content-wrapper"],["align","left",1,"content"],[1,"app-footer",3,"version"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-header"),e.TgZ(2,"div",1)(3,"div",2),e._UZ(4,"router-outlet")(5,"app-footer"),e.qZA()(),e._UZ(6,"app-version-footer",3),e.qZA()),2&t&&(e.xp6(6),e.Q6J("version",o.version))},dependencies:[Xo,_y,U3,O3],styles:[".main[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]{width:100%;display:block}.content[_ngcontent-%COMP%]{max-width:1320px}.selectedTh[_ngcontent-%COMP%]{background-color:#333}.app-footer[_ngcontent-%COMP%]{width:100%;display:flex;background:#212121;height:-moz-fit-content;height:fit-content;margin-top:auto;margin-bottom:0}"]}),r})(),F3=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[lc]}),r})(),q3=(()=>{class r{constructor(t){this.errorService=t}intercept(t,o){return o.handle(t).pipe($a(i=>(i.error instanceof ErrorEvent?this.errorService.addError({message:i.error.message}):this.errorService.addError({message:i.message,details:i.error}),Sc(i))))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Nh))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),V3=(()=>{class r{constructor(t,o){if(t)throw new Error("ApiModule is already loaded. Import in your base AppModule only.");if(!o)throw new Error("You need to import the HttpClientModule in your AppModule! \nSee also https://github.com/angular/angular/issues/20575")}static forRoot(t){return{ngModule:r,providers:[{provide:ys,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(r,12),e.LFG(Li,8))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[la,Rg,_i,vs,GM,fi,$g,Fl,ys]}),r})();function HM(r){return Pe((n,t)=>r<=t)}class B3 extends Ri.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(n){const{hasError:t,_hasValue:o,_value:i,thrownError:a,isStopped:d,_isComplete:p}=this;t?n.error(a):(d||p)&&(o&&n.next(i),n.complete())}next(n){this.isStopped||(this._value=n,this._hasValue=!0)}complete(){const{_hasValue:n,_value:t,_isComplete:o}=this;o||(this._isComplete=!0,n&&super.next(t),super.complete())}}class G3{}const H3={oneTapEnabled:!0};let Mv=(()=>{class r extends class $3{constructor(){}loadScript(n,t,o,i=null){if("undefined"!=typeof document&&!document.getElementById(n)){let a=document.createElement("script");a.async=!0,a.src=t,a.onload=o,i||(i=document.head),i.appendChild(a)}}}{constructor(t,o){super(),this.clientId=t,this.initOptions=o,this.changeUser=new e.vpe,this._socialUser=new Yr(null),this._accessToken=new Yr(null),this._receivedAccessToken=new e.vpe,this.initOptions=Object.assign(Object.assign({},H3),this.initOptions),this._socialUser.pipe(HM(1)).subscribe(this.changeUser),this._accessToken.pipe(HM(1)).subscribe(this._receivedAccessToken)}initialize(t){return new Promise((o,i)=>{try{this.loadScript(r.PROVIDER_ID,"https://accounts.google.com/gsi/client",()=>{var a;if(google.accounts.id.initialize({client_id:this.clientId,auto_select:t,callback:({credential:d})=>{const p=this.createSocialUser(d);this._socialUser.next(p)},prompt_parent_id:null===(a=this.initOptions)||void 0===a?void 0:a.prompt_parent_id,itp_support:this.initOptions.oneTapEnabled}),this.initOptions.oneTapEnabled&&this._socialUser.pipe(Pe(d=>null===d)).subscribe(()=>google.accounts.id.prompt(console.debug)),this.initOptions.scopes){const d=this.initOptions.scopes instanceof Array?this.initOptions.scopes.filter(p=>p).join(" "):this.initOptions.scopes;this._tokenClient=google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:d,prompt:this.initOptions.prompt,callback:p=>{p.error?this._accessToken.error({code:p.error,description:p.error_description,uri:p.error_uri}):this._accessToken.next(p.access_token)}})}o()})}catch(a){i(a)}})}getLoginStatus(){return new Promise((t,o)=>{this._socialUser.value?t(this._socialUser.value):o(`No user is currently logged in with ${r.PROVIDER_ID}`)})}refreshToken(){return new Promise((t,o)=>{google.accounts.id.revoke(this._socialUser.value.id,i=>{i.error?o(i.error):t(this._socialUser.value)})})}getAccessToken(){return new Promise((t,o)=>{var i;this._tokenClient?(this._tokenClient.requestAccessToken({hint:null===(i=this._socialUser.value)||void 0===i?void 0:i.email}),this._receivedAccessToken.pipe(xc(1)).subscribe(t)):o(this._socialUser.value?"No token client was instantiated, you should specify some scopes.":"You should be logged-in first.")})}revokeAccessToken(){return new Promise((t,o)=>{this._tokenClient?this._accessToken.value?google.accounts.oauth2.revoke(this._accessToken.value,()=>{this._accessToken.next(null),t()}):o("No access token to revoke"):o("No token client was instantiated, you should specify some scopes.")})}signIn(){return Promise.reject('You should not call this method directly for Google, use "<asl-google-signin-button>" wrapper or generate the button yourself with "google.accounts.id.renderButton()" (https://developers.google.com/identity/gsi/web/guides/display-button#javascript)')}signOut(){return(0,Wg.mG)(this,void 0,void 0,function*(){google.accounts.id.disableAutoSelect(),this._socialUser.next(null)})}createSocialUser(t){const o=new G3;o.idToken=t;const i=this.decodeJwt(t);return o.id=i.sub,o.name=i.name,o.email=i.email,o.photoUrl=i.picture,o.firstName=i.given_name,o.lastName=i.family_name,o}decodeJwt(t){const i=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(window.atob(i).split("").map(function(d){return"%"+("00"+d.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(a)}}return r.PROVIDER_ID="GOOGLE",r})(),JM=(()=>{class r{constructor(t,o,i){this._ngZone=o,this._injector=i,this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new sM(1),this.initialized=!1,this._initState=new B3,t instanceof Promise?t.then(a=>{this.initialize(a)}):this.initialize(t)}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}initialize(t){this.autoLogin=void 0!==t.autoLogin&&t.autoLogin;const{onError:o=console.error}=t;t.providers.forEach(i=>{this.providers.set(i.id,"prototype"in i.provider?this._injector.get(i.provider):i.provider)}),Promise.all(Array.from(this.providers.values()).map(i=>i.initialize(this.autoLogin))).then(()=>{if(this.autoLogin){const i=[];let a=!1;this.providers.forEach((d,p)=>{const y=d.getLoginStatus();i.push(y),y.then(w=>{this.setUser(w,p),a=!0}).catch(console.debug)}),Promise.all(i).catch(()=>{a||(this._user=null,this._authState.next(null))})}this.providers.forEach((i,a)=>{(function j3(r){return!!r&&(r instanceof zr.y||(0,ah.m)(r.lift)&&(0,ah.m)(r.subscribe))})(i.changeUser)&&i.changeUser.subscribe(d=>{this._ngZone.run(()=>{this.setUser(d,a)})})})}).catch(i=>{o(i)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}getAccessToken(t){return(0,Wg.mG)(this,void 0,void 0,function*(){const o=this.providers.get(t);if(!this.initialized)throw r.ERR_NOT_INITIALIZED;if(!o)throw r.ERR_LOGIN_PROVIDER_NOT_FOUND;if(!(o instanceof Mv))throw r.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN;return yield o.getAccessToken()})}refreshAuthToken(t){return new Promise((o,i)=>{if(this.initialized){const a=this.providers.get(t);a?"function"!=typeof a.refreshToken?i(r.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN):a.refreshToken().then(d=>{this.setUser(d,t),o()}).catch(d=>{i(d)}):i(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(r.ERR_NOT_INITIALIZED)})}refreshAccessToken(t){return new Promise((o,i)=>{if(this.initialized)if(t!==Mv.PROVIDER_ID)i(r.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const a=this.providers.get(t);a instanceof Mv?a.revokeAccessToken().then(o).catch(i):i(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(r.ERR_NOT_INITIALIZED)})}signIn(t,o){return new Promise((i,a)=>{if(this.initialized){let d=this.providers.get(t);d?d.signIn(o).then(p=>{this.setUser(p,t),i(p)}).catch(p=>{a(p)}):a(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else a(r.ERR_NOT_INITIALIZED)})}signOut(t=!1){return new Promise((o,i)=>{if(this.initialized)if(this._user){let d=this.providers.get(this._user.provider);d?d.signOut(t).then(()=>{o(),this.setUser(null)}).catch(p=>{i(p)}):i(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(r.ERR_NOT_LOGGED_IN);else i(r.ERR_NOT_INITIALIZED)})}setUser(t,o){t&&o&&(t.provider=o),this._user=t,this._authState.next(t)}}return r.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",r.ERR_NOT_LOGGED_IN="Not logged in",r.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",r.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",r.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN="Chosen login provider is not supported for getting an access token",r.\u0275fac=function(t){return new(t||r)(e.LFG("SocialAuthServiceConfig"),e.LFG(e.R0b),e.LFG(e.zs3))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),J3=(()=>{class r{constructor(t){if(t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}static initialize(t){return{ngModule:r,providers:[JM,{provide:"SocialAuthServiceConfig",useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(r,12))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[JM],imports:[lc]}),r})();const s2_firebase={apiKey:"AIzaSyCXYvy7VEEXvSUDGnRzB_0kJhcs6k6mFeQ",authDomain:"language-parser-358314.firebaseapp.com",projectId:"language-parser-358314",storageBucket:"language-parser-358314.appspot.com",messagingSenderId:"457941235931",appId:"1:457941235931:web:3d318384aff9c40965b4fe",measurementId:"G-S1PTJS0DPB"};function WM(r,n){const t="object"==typeof n;return new Promise((o,i)=>{let d,a=!1;r.subscribe({next:p=>{d=p,a=!0},error:i,complete:()=>{a?o(d):t?o(n.defaultValue):i(new wu)}})})}let W3=(()=>{class r{constructor(t){this.fireAuthService=t}intercept(t,o){return(0,dn.D)(this.handle(t,o))}handle(t,o){return(0,Wg.mG)(this,void 0,void 0,function*(){const i=yield this.fireAuthService.getToken();if(!i)return yield WM(o.handle(t));const a=t.clone({headers:t.headers.set("Authorization",`Bearer ${i}`)});return yield WM(o.handle(a))})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(i2))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Q3=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r,bootstrap:[L3]}),r.\u0275inj=e.cJS({providers:[i2,{provide:jc,useClass:W3,multi:!0},{provide:jc,useClass:q3,multi:!0},{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:Mv.PROVIDER_ID,provider:new Mv("457941235931-ta7f430pcvim9inavtg97ngqav65394i.apps.googleusercontent.com")}],onError:n=>{console.error(n)}}},Nh],imports:[qi.hO.initializeApp(s2_firebase),v3,In,Nm,nD,cb,D_,J3,F3,V3.forRoot({rootUrl:"https://api.language.owlbeardm.com"})]}),r})();(0,e.G48)(),Nd().bootstrapModule(Q3).catch(r=>console.error(r))},5867:(it,Ce,P)=>{P.d(Ce,{C6:()=>e.getApps,Mq:()=>e.getApp});var e=P(9681);(0,e.registerVersion)("firebase","9.12.1","app")},127:(it,Ce,P)=>{P.d(Ce,{Z:()=>e.Z});var e=P(3942);e.Z.registerVersion("firebase","9.12.1","app-compat")},5881:(it,Ce,P)=>{P.r(Ce);var e=P(5861),V=P(3942),U=P(7573),ie=P(2090),fe=(P(9681),P(1877),P(4859));function de(){return window}function G(){return(G=(0,e.Z)(function*(O,N,L){var oe;const{BuildInfo:Me}=de();(0,U.aq)(N.sessionId,"AuthEvent did not contain a session ID");const gt=yield pe(N.sessionId),dt={};return(0,U.ar)()?dt.ibi=Me.packageName:(0,U.as)()?dt.apn=Me.packageName:(0,U.at)(O,"operation-not-supported-in-this-environment"),Me.displayName&&(dt.appDisplayName=Me.displayName),dt.sessionId=gt,(0,U.au)(O,L,N.type,void 0,null!==(oe=N.eventId)&&void 0!==oe?oe:void 0,dt)})).apply(this,arguments)}function qe(){return(qe=(0,e.Z)(function*(O){const{BuildInfo:N}=de(),L={};(0,U.ar)()?L.iosBundleId=N.packageName:(0,U.as)()?L.androidPackageName=N.packageName:(0,U.at)(O,"operation-not-supported-in-this-environment"),yield(0,U.av)(O,L)})).apply(this,arguments)}function st(){return(st=(0,e.Z)(function*(O,N,L){const{cordova:oe}=de();let Me=()=>{};try{yield new Promise((gt,dt)=>{let Zt=null;function ut(){var Et;gt();const He=null===(Et=oe.plugins.browsertab)||void 0===Et?void 0:Et.close;"function"==typeof He&&He(),"function"==typeof(null==L?void 0:L.close)&&L.close()}function Kt(){Zt||(Zt=window.setTimeout(()=>{dt((0,U.aw)(O,"redirect-cancelled-by-user"))},2e3))}function mr(){"visible"===(null==document?void 0:document.visibilityState)&&Kt()}N.addPassiveListener(ut),document.addEventListener("resume",Kt,!1),(0,U.as)()&&document.addEventListener("visibilitychange",mr,!1),Me=()=>{N.removePassiveListener(ut),document.removeEventListener("resume",Kt,!1),document.removeEventListener("visibilitychange",mr,!1),Zt&&window.clearTimeout(Zt)}})}finally{Me()}})).apply(this,arguments)}function pe(O){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,e.Z)(function*(O){const N=Ke(O),L=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array(L)).map(Me=>Me.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ke(O){if((0,U.aq)(/[0-9a-zA-Z]+/.test(O),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(O);const N=new ArrayBuffer(O.length),L=new Uint8Array(N);for(let oe=0;oe<O.length;oe++)L[oe]=O.charCodeAt(oe);return L}class Ze extends U.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach(L=>L(N)),super.onEvent(N)}initialized(){var N=this;return(0,e.Z)(function*(){yield N.initPromise})()}}function re(O){return ue.apply(this,arguments)}function ue(){return(ue=(0,e.Z)(function*(O){const N=yield X()._get(he(O));return N&&(yield X()._remove(he(O))),N})).apply(this,arguments)}function z(){const O=[],N="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let L=0;L<20;L++){const oe=Math.floor(Math.random()*N.length);O.push(N.charAt(oe))}return O.join("")}function X(){return(0,U.ay)(U.b)}function he(O){return(0,U.az)("authEvent",O.config.apiKey,O.name)}function Le(O){if(null==O||!O.includes("?"))return{};const[N,...L]=O.split("?");return(0,ie.zd)(L.join("?"))}function We(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.aw)("no-auth-event")}}function zt(){var O;return(null===(O=null==self?void 0:self.location)||void 0===O?void 0:O.protocol)||null}function Pr(O=(0,ie.z$)()){return!("file:"!==zt()&&"ionic:"!==zt()&&"capacitor:"!==zt()||!O.toLowerCase().match(/iphone|ipad|ipod|android/))}function bo(){try{const O=self.localStorage,N=U.aI();if(O)return O.setItem(N,"1"),O.removeItem(N),!function Fo(O=(0,ie.z$)()){return function $r(){return(0,ie.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Pn(O=(0,ie.z$)()){return/Edge\/\d+/.test(O)}(O)}()||(0,ie.hl)()}catch(O){return Gr()&&(0,ie.hl)()}return!1}function Gr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wn(){return(function qt(){return"http:"===zt()||"https:"===zt()}()||(0,ie.ru)()||Pr())&&!function wo(){return(0,ie.b$)()||(0,ie.UG)()}()&&bo()&&!Gr()}function qo(){return Pr()&&"undefined"!=typeof document}function yn(){return(yn=(0,e.Z)(function*(){return!!qo()&&new Promise(O=>{const N=setTimeout(()=>{O(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(N),O(!0)})})})).apply(this,arguments)}const cn={LOCAL:"local",NONE:"none",SESSION:"session"},_r=U.ax,Ir="persistence";function vn(O){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,e.Z)(function*(O){yield O._initializationPromise;const N=at(),L=U.az(Ir,O.config.apiKey,O.name);N&&N.setItem(L,O._getPersistence())})).apply(this,arguments)}function at(){var O;try{return(null===(O=function cr(){return"undefined"!=typeof window?window:null}())||void 0===O?void 0:O.sessionStorage)||null}catch(N){return null}}const nt=U.ax;class Dn{constructor(){this.browserResolver=U.ay(U.k),this.cordovaResolver=U.ay(class un{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aB,this._overrideRedirectResult=U.aC}_initialize(N){var L=this;return(0,e.Z)(function*(){const oe=N._key();let Me=L.eventManagers.get(oe);return Me||(Me=new Ze(N),L.eventManagers.set(oe,Me),L.attachCallbackListeners(N,Me)),Me})()}_openPopup(N){(0,U.at)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,L,oe,Me){var gt=this;return(0,e.Z)(function*(){!function ve(O){var N,L,oe,Me,gt,dt,Zt,ut,Kt,mr;const Et=de();(0,U.ax)("function"==typeof(null===(N=null==Et?void 0:Et.universalLinks)||void 0===N?void 0:N.subscribe),O,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.ax)(void 0!==(null===(L=null==Et?void 0:Et.BuildInfo)||void 0===L?void 0:L.packageName),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.ax)("function"==typeof(null===(gt=null===(Me=null===(oe=null==Et?void 0:Et.cordova)||void 0===oe?void 0:oe.plugins)||void 0===Me?void 0:Me.browsertab)||void 0===gt?void 0:gt.openUrl),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.ax)("function"==typeof(null===(ut=null===(Zt=null===(dt=null==Et?void 0:Et.cordova)||void 0===dt?void 0:dt.plugins)||void 0===Zt?void 0:Zt.browsertab)||void 0===ut?void 0:ut.isAvailable),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.ax)("function"==typeof(null===(mr=null===(Kt=null==Et?void 0:Et.cordova)||void 0===Kt?void 0:Kt.InAppBrowser)||void 0===mr?void 0:mr.open),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const dt=yield gt._initialize(N);yield dt.initialized(),dt.resetRedirect(),(0,U.aD)(),yield gt._originValidation(N);const Zt=function we(O,N,L=null){return{type:N,eventId:L,urlResponse:null,sessionId:z(),postBody:null,tenantId:O.tenantId,error:(0,U.aw)(O,"no-auth-event")}}(N,oe,Me);yield function Je(O,N){return X()._set(he(O),N)}(N,Zt);const ut=yield function J(O,N,L){return G.apply(this,arguments)}(N,Zt,L),Kt=yield function ke(O){const{cordova:N}=de();return new Promise(L=>{N.plugins.browsertab.isAvailable(oe=>{let Me=null;oe?N.plugins.browsertab.openUrl(O):Me=N.InAppBrowser.open(O,(0,U.ap)()?"_blank":"_system","location=yes"),L(Me)})})}(ut);return function Ae(O,N,L){return st.apply(this,arguments)}(N,dt,Kt)})()}_isIframeWebStorageSupported(N,L){throw new Error("Method not implemented.")}_originValidation(N){const L=N._key();return this.originValidationPromises[L]||(this.originValidationPromises[L]=function Y(O){return qe.apply(this,arguments)}(N)),this.originValidationPromises[L]}attachCallbackListeners(N,L){const{universalLinks:oe,handleOpenURL:Me,BuildInfo:gt}=de(),dt=setTimeout((0,e.Z)(function*(){yield re(N),L.onEvent(We())}),500),Zt=function(){var mr=(0,e.Z)(function*(Et){clearTimeout(dt);const He=yield re(N);let kt=null;He&&(null==Et?void 0:Et.url)&&(kt=function ye(O,N){var L,oe;const Me=function Oe(O){const N=Le(O),L=N.link?decodeURIComponent(N.link):void 0,oe=Le(L).link,Me=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return Le(Me).link||Me||oe||L||O}(N);if(Me.includes("/__/auth/callback")){const gt=Le(Me),dt=gt.firebaseError?function se(O){try{return JSON.parse(O)}catch(N){return null}}(decodeURIComponent(gt.firebaseError)):null,Zt=null===(oe=null===(L=null==dt?void 0:dt.code)||void 0===L?void 0:L.split("auth/"))||void 0===oe?void 0:oe[1],ut=Zt?(0,U.aw)(Zt):null;return ut?{type:O.type,eventId:O.eventId,tenantId:O.tenantId,error:ut,urlResponse:null,sessionId:null,postBody:null}:{type:O.type,eventId:O.eventId,tenantId:O.tenantId,sessionId:O.sessionId,urlResponse:Me,postBody:null}}return null}(He,Et.url)),L.onEvent(kt||We())});return function(He){return mr.apply(this,arguments)}}();void 0!==oe&&"function"==typeof oe.subscribe&&oe.subscribe(null,Zt);const ut=Me,Kt=`${gt.packageName.toLowerCase()}://`;de().handleOpenURL=function(){var mr=(0,e.Z)(function*(Et){if(Et.toLowerCase().startsWith(Kt)&&Zt({url:Et}),"function"==typeof ut)try{ut(Et)}catch(He){console.error(He)}});return function(Et){return mr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aB,this._overrideRedirectResult=U.aC}_initialize(N){var L=this;return(0,e.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,L,oe,Me){var gt=this;return(0,e.Z)(function*(){return yield gt.selectUnderlyingResolver(),gt.assertedUnderlyingResolver._openPopup(N,L,oe,Me)})()}_openRedirect(N,L,oe,Me){var gt=this;return(0,e.Z)(function*(){return yield gt.selectUnderlyingResolver(),gt.assertedUnderlyingResolver._openRedirect(N,L,oe,Me)})()}_isIframeWebStorageSupported(N,L){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,L)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return qo()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return nt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,e.Z)(function*(){if(N.underlyingResolver)return;const L=yield function yt(){return yn.apply(this,arguments)}();N.underlyingResolver=L?N.cordovaResolver:N.browserResolver})()}}function Hr(O){return O.unwrap()}function jt(O){return Jr(O)}function Jr(O){const{_tokenResponse:N}=O instanceof ie.ZR?O.customData:O;if(!N)return null;if(!(O instanceof ie.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return U.P.credentialFromResult(O);const L=N.providerId;if(!L||L===U.o.PASSWORD)return null;let oe;switch(L){case U.o.GOOGLE:oe=U.Q;break;case U.o.FACEBOOK:oe=U.N;break;case U.o.GITHUB:oe=U.T;break;case U.o.TWITTER:oe=U.W;break;default:const{oauthIdToken:Me,oauthAccessToken:gt,oauthTokenSecret:dt,pendingToken:Zt,nonce:ut}=N;return gt||dt||Me||Zt?Zt?L.startsWith("saml.")?U.aL._create(L,Zt):U.J._fromParams({providerId:L,signInMethod:L,pendingToken:Zt,idToken:Me,accessToken:gt}):new U.U(L).credential({idToken:Me,accessToken:gt,rawNonce:ut}):null}return O instanceof ie.ZR?oe.credentialFromError(O):oe.credentialFromResult(O)}function Lt(O,N){return N.catch(L=>{throw L instanceof ie.ZR&&function Fn(O,N){var L,oe;const Me=null===(L=N.customData)||void 0===L?void 0:L._tokenResponse;if("auth/multi-factor-auth-required"===(null===(oe=N)||void 0===oe?void 0:oe.code))N.resolver=new Or(O,U.an(O,N));else if(Me){const gt=Jr(N),dt=N;gt&&(dt.credential=gt,dt.tenantId=Me.tenantId||void 0,dt.email=Me.email||void 0,dt.phoneNumber=Me.phoneNumber||void 0)}}(O,L),L}).then(L=>{const Me=L.user;return{operationType:L.operationType,credential:jt(L),additionalUserInfo:U.al(L),user:jn.getOrCreate(Me)}})}function Ao(O,N){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,e.Z)(function*(O,N){const L=yield N;return{verificationId:L.verificationId,confirm:oe=>Lt(O,L.confirm(oe))}})).apply(this,arguments)}class Or{constructor(N,L){this.resolver=L,this.auth=function xn(O){return O.wrapped()}(N)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return Lt(Hr(this.auth),this.resolver.resolveSignIn(N))}}class jn{constructor(N){this._delegate=N,this.multiFactor=U.ao(N)}static getOrCreate(N){return jn.USER_MAP.has(N)||jn.USER_MAP.set(N,new jn(N)),jn.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var L=this;return(0,e.Z)(function*(){return Lt(L.auth,U.Z(L._delegate,N))})()}linkWithPhoneNumber(N,L){var oe=this;return(0,e.Z)(function*(){return Ao(oe.auth,U.l(oe._delegate,N,L))})()}linkWithPopup(N){var L=this;return(0,e.Z)(function*(){return Lt(L.auth,U.d(L._delegate,N,Dn))})()}linkWithRedirect(N){var L=this;return(0,e.Z)(function*(){return yield vn(U.aE(L.auth)),U.g(L._delegate,N,Dn)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var L=this;return(0,e.Z)(function*(){return Lt(L.auth,U._(L._delegate,N))})()}reauthenticateWithPhoneNumber(N,L){return Ao(this.auth,U.r(this._delegate,N,L))}reauthenticateWithPopup(N){return Lt(this.auth,U.e(this._delegate,N,Dn))}reauthenticateWithRedirect(N){var L=this;return(0,e.Z)(function*(){return yield vn(U.aE(L.auth)),U.h(L._delegate,N,Dn)})()}sendEmailVerification(N){return U.ab(this._delegate,N)}unlink(N){var L=this;return(0,e.Z)(function*(){return yield U.ak(L._delegate,N),L})()}updateEmail(N){return U.ag(this._delegate,N)}updatePassword(N){return U.ah(this._delegate,N)}updatePhoneNumber(N){return U.u(this._delegate,N)}updateProfile(N){return U.af(this._delegate,N)}verifyBeforeUpdateEmail(N,L){return U.ac(this._delegate,N,L)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}jn.USER_MAP=new WeakMap;const Ye=U.ax;let De=(()=>{class O{constructor(L,oe){if(this.app=L,oe.isInitialized())return this._delegate=oe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Me}=L.options;Ye(Me,"invalid-api-key",{appName:L.name}),Ye(Me,"invalid-api-key",{appName:L.name});const gt="undefined"!=typeof window?Dn:void 0;this._delegate=oe.initialize({options:{persistence:Tt(Me,L.name),popupRedirectResolver:gt}}),this._delegate._updateErrorMap(U.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?jn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(L){this._delegate.languageCode=L}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(L){this._delegate.tenantId=L}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(L,oe){U.G(this._delegate,L,oe)}applyActionCode(L){return U.a2(this._delegate,L)}checkActionCode(L){return U.a3(this._delegate,L)}confirmPasswordReset(L,oe){return U.a1(this._delegate,L,oe)}createUserWithEmailAndPassword(L,oe){var Me=this;return(0,e.Z)(function*(){return Lt(Me._delegate,U.a5(Me._delegate,L,oe))})()}fetchProvidersForEmail(L){return this.fetchSignInMethodsForEmail(L)}fetchSignInMethodsForEmail(L){return U.aa(this._delegate,L)}isSignInWithEmailLink(L){return U.a8(this._delegate,L)}getRedirectResult(){var L=this;return(0,e.Z)(function*(){Ye(Wn(),L._delegate,"operation-not-supported-in-this-environment");const oe=yield U.j(L._delegate,Dn);return oe?Lt(L._delegate,Promise.resolve(oe)):{credential:null,user:null}})()}addFrameworkForLogging(L){!function mn(O,N){(0,U.aE)(O)._logFramework(N)}(this._delegate,L)}onAuthStateChanged(L,oe,Me){const{next:gt,error:dt,complete:Zt}=et(L,oe,Me);return this._delegate.onAuthStateChanged(gt,dt,Zt)}onIdTokenChanged(L,oe,Me){const{next:gt,error:dt,complete:Zt}=et(L,oe,Me);return this._delegate.onIdTokenChanged(gt,dt,Zt)}sendSignInLinkToEmail(L,oe){return U.a7(this._delegate,L,oe)}sendPasswordResetEmail(L,oe){return U.a0(this._delegate,L,oe||void 0)}setPersistence(L){var oe=this;return(0,e.Z)(function*(){let Me;switch(function Er(O,N){_r(Object.values(cn).includes(N),O,"invalid-persistence-type"),(0,ie.b$)()?_r(N!==cn.SESSION,O,"unsupported-persistence-type"):(0,ie.UG)()?_r(N===cn.NONE,O,"unsupported-persistence-type"):Gr()?_r(N===cn.NONE||N===cn.LOCAL&&(0,ie.hl)(),O,"unsupported-persistence-type"):_r(N===cn.NONE||bo(),O,"unsupported-persistence-type")}(oe._delegate,L),L){case cn.SESSION:Me=U.a;break;case cn.LOCAL:Me=(yield U.ay(U.i)._isAvailable())?U.i:U.b;break;case cn.NONE:Me=U.L;break;default:return U.at("argument-error",{appName:oe._delegate.name})}return oe._delegate.setPersistence(Me)})()}signInAndRetrieveDataWithCredential(L){return this.signInWithCredential(L)}signInAnonymously(){return Lt(this._delegate,U.X(this._delegate))}signInWithCredential(L){return Lt(this._delegate,U.Y(this._delegate,L))}signInWithCustomToken(L){return Lt(this._delegate,U.$(this._delegate,L))}signInWithEmailAndPassword(L,oe){return Lt(this._delegate,U.a6(this._delegate,L,oe))}signInWithEmailLink(L,oe){return Lt(this._delegate,U.a9(this._delegate,L,oe))}signInWithPhoneNumber(L,oe){return Ao(this._delegate,U.s(this._delegate,L,oe))}signInWithPopup(L){var oe=this;return(0,e.Z)(function*(){return Ye(Wn(),oe._delegate,"operation-not-supported-in-this-environment"),Lt(oe._delegate,U.c(oe._delegate,L,Dn))})()}signInWithRedirect(L){var oe=this;return(0,e.Z)(function*(){return Ye(Wn(),oe._delegate,"operation-not-supported-in-this-environment"),yield vn(oe._delegate),U.f(oe._delegate,L,Dn)})()}updateCurrentUser(L){return this._delegate.updateCurrentUser(L)}verifyPasswordResetCode(L){return U.a4(this._delegate,L)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return O.Persistence=cn,O})();function et(O,N,L){let oe=O;"function"!=typeof O&&({next:oe,error:N,complete:L}=O);const Me=oe;return{next:dt=>Me(dt&&jn.getOrCreate(dt)),error:N,complete:L}}function Tt(O,N){const L=function bn(O,N){const L=at();if(!L)return[];const oe=U.az(Ir,O,N);switch(L.getItem(oe)){case cn.NONE:return[U.L];case cn.LOCAL:return[U.i,U.a];case cn.SESSION:return[U.a];default:return[]}}(O,N);if("undefined"!=typeof self&&!L.includes(U.i)&&L.push(U.i),"undefined"!=typeof window)for(const oe of[U.b,U.a])L.includes(oe)||L.push(oe);return L.includes(U.L)||L.push(U.L),L}class wt{constructor(){this.providerId="phone",this._delegate=new U.P(Hr(V.Z.auth()))}static credential(N,L){return U.P.credential(N,L)}verifyPhoneNumber(N,L){return this._delegate.verifyPhoneNumber(N,L)}unwrap(){return this._delegate}}wt.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,wt.PROVIDER_ID=U.P.PROVIDER_ID;const an=U.ax;class H{constructor(N,L,oe=V.Z.app()){var Me;an(null===(Me=oe.options)||void 0===Me?void 0:Me.apiKey,"invalid-api-key",{appName:oe.name}),this._delegate=new U.R(N,L,oe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Q(O){O.INTERNAL.registerComponent(new fe.wA("auth-compat",N=>{const L=N.getProvider("app-compat").getImmediate(),oe=N.getProvider("auth");return new De(L,oe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.M,FacebookAuthProvider:U.N,GithubAuthProvider:U.T,GoogleAuthProvider:U.Q,OAuthProvider:U.U,SAMLAuthProvider:U.V,PhoneAuthProvider:wt,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:H,TwitterAuthProvider:U.W,Auth:De,AuthCredential:U.H,Error:ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),O.registerVersion("@firebase/auth-compat","0.2.23")}(V.Z)},9751:(it,Ce,P)=>{P.d(Ce,{y:()=>de});var e=P(2961),V=P(727),U=P(8822),ie=P(9635),le=P(2416),ge=P(576),fe=P(2806);let de=(()=>{class Y{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const Ae=new Y;return Ae.source=this,Ae.operator=ke,Ae}subscribe(ke,Ae,st){const ve=function G(Y){return Y&&Y instanceof e.Lv||function J(Y){return Y&&(0,ge.m)(Y.next)&&(0,ge.m)(Y.error)&&(0,ge.m)(Y.complete)}(Y)&&(0,V.Nn)(Y)}(ke)?ke:new e.Hp(ke,Ae,st);return(0,fe.x)(()=>{const{operator:pe,source:Xe}=this;ve.add(pe?pe.call(ve,Xe):Xe?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Ae){ke.error(Ae)}}forEach(ke,Ae){return new(Ae=me(Ae))((st,ve)=>{const pe=new e.Hp({next:Xe=>{try{ke(Xe)}catch(Ke){ve(Ke),pe.unsubscribe()}},error:ve,complete:st});this.subscribe(pe)})}_subscribe(ke){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(ke)}[U.L](){return this}pipe(...ke){return(0,ie.U)(ke)(this)}toPromise(ke){return new(ke=me(ke))((Ae,st)=>{let ve;this.subscribe(pe=>ve=pe,pe=>st(pe),()=>Ae(ve))})}}return Y.create=qe=>new Y(qe),Y})();function me(Y){var qe;return null!==(qe=null!=Y?Y:le.v.Promise)&&void 0!==qe?qe:Promise}},7579:(it,Ce,P)=>{P.d(Ce,{x:()=>fe});var e=P(9751),V=P(727);const ie=(0,P(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=P(8737),ge=P(2806);let fe=(()=>{class me extends e.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Y=new de(this,this);return Y.operator=G,Y}_throwIfClosed(){if(this.closed)throw new ie}next(G){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(G)}})}error(G){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Y}=this;for(;Y.length;)Y.shift().error(G)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Y,isStopped:qe,observers:ke}=this;return Y||qe?V.Lc:(this.currentObservers=null,ke.push(G),new V.w0(()=>{this.currentObservers=null,(0,le.P)(ke,G)}))}_checkFinalizedStatuses(G){const{hasError:Y,thrownError:qe,isStopped:ke}=this;Y?G.error(qe):ke&&G.complete()}asObservable(){const G=new e.y;return G.source=this,G}}return me.create=(J,G)=>new de(J,G),me})();class de extends fe{constructor(J,G){super(),this.destination=J,this.source=G}next(J){var G,Y;null===(Y=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Y||Y.call(G,J)}error(J){var G,Y;null===(Y=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Y||Y.call(G,J)}complete(){var J,G;null===(G=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===G||G.call(J)}_subscribe(J){var G,Y;return null!==(Y=null===(G=this.source)||void 0===G?void 0:G.subscribe(J))&&void 0!==Y?Y:V.Lc}}},2961:(it,Ce,P)=>{P.d(Ce,{Hp:()=>st,Lv:()=>Y});var e=P(576),V=P(727),U=P(2416),ie=P(7849);function le(){}const ge=me("C",void 0,void 0);function me(Ne,Ze,we){return{kind:Ne,value:Ze,error:we}}var J=P(3410),G=P(2806);class Y extends V.w0{constructor(Ze){super(),this.isStopped=!1,Ze?(this.destination=Ze,(0,V.Nn)(Ze)&&Ze.add(this)):this.destination=Ke}static create(Ze,we,Je){return new st(Ze,we,Je)}next(Ze){this.isStopped?Xe(function de(Ne){return me("N",Ne,void 0)}(Ze),this):this._next(Ze)}error(Ze){this.isStopped?Xe(function fe(Ne){return me("E",void 0,Ne)}(Ze),this):(this.isStopped=!0,this._error(Ze))}complete(){this.isStopped?Xe(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ze){this.destination.next(Ze)}_error(Ze){try{this.destination.error(Ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function ke(Ne,Ze){return qe.call(Ne,Ze)}class Ae{constructor(Ze){this.partialObserver=Ze}next(Ze){const{partialObserver:we}=this;if(we.next)try{we.next(Ze)}catch(Je){ve(Je)}}error(Ze){const{partialObserver:we}=this;if(we.error)try{we.error(Ze)}catch(Je){ve(Je)}else ve(Ze)}complete(){const{partialObserver:Ze}=this;if(Ze.complete)try{Ze.complete()}catch(we){ve(we)}}}class st extends Y{constructor(Ze,we,Je){let re;if(super(),(0,e.m)(Ze)||!Ze)re={next:null!=Ze?Ze:void 0,error:null!=we?we:void 0,complete:null!=Je?Je:void 0};else{let ue;this&&U.v.useDeprecatedNextContext?(ue=Object.create(Ze),ue.unsubscribe=()=>this.unsubscribe(),re={next:Ze.next&&ke(Ze.next,ue),error:Ze.error&&ke(Ze.error,ue),complete:Ze.complete&&ke(Ze.complete,ue)}):re=Ze}this.destination=new Ae(re)}}function ve(Ne){U.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Ne):(0,ie.h)(Ne)}function Xe(Ne,Ze){const{onStoppedNotification:we}=U.v;we&&J.z.setTimeout(()=>we(Ne,Ze))}const Ke={closed:!0,next:le,error:function pe(Ne){throw Ne},complete:le}},727:(it,Ce,P)=>{P.d(Ce,{Lc:()=>ge,w0:()=>le,Nn:()=>fe});var e=P(576);const U=(0,P(3888).d)(me=>function(G){me(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Y,qe)=>`${qe+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ie=P(8737);class le{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const ke of G)ke.remove(this);else G.remove(this);const{initialTeardown:Y}=this;if((0,e.m)(Y))try{Y()}catch(ke){J=ke instanceof U?ke.errors:[ke]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const ke of qe)try{de(ke)}catch(Ae){J=null!=J?J:[],Ae instanceof U?J=[...J,...Ae.errors]:J.push(Ae)}}if(J)throw new U(J)}}add(J){var G;if(J&&J!==this)if(this.closed)de(J);else{if(J instanceof le){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(J)}}_hasParent(J){const{_parentage:G}=this;return G===J||Array.isArray(G)&&G.includes(J)}_addParent(J){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(J),G):G?[G,J]:J}_removeParent(J){const{_parentage:G}=this;G===J?this._parentage=null:Array.isArray(G)&&(0,ie.P)(G,J)}remove(J){const{_finalizers:G}=this;G&&(0,ie.P)(G,J),J instanceof le&&J._removeParent(this)}}le.EMPTY=(()=>{const me=new le;return me.closed=!0,me})();const ge=le.EMPTY;function fe(me){return me instanceof le||me&&"closed"in me&&(0,e.m)(me.remove)&&(0,e.m)(me.add)&&(0,e.m)(me.unsubscribe)}function de(me){(0,e.m)(me)?me():me.unsubscribe()}},2416:(it,Ce,P)=>{P.d(Ce,{v:()=>e});const e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(it,Ce,P)=>{P.d(Ce,{E:()=>V});const V=new(P(9751).y)(le=>le.complete())},8996:(it,Ce,P)=>{P.d(Ce,{D:()=>Ze});var e=P(8421),V=P(5363),U=P(9468),ge=P(9751),de=P(2202),me=P(576),J=P(9672);function Y(we,Je){if(!we)throw new Error("Iterable cannot be null");return new ge.y(re=>{(0,J.f)(re,Je,()=>{const ue=we[Symbol.asyncIterator]();(0,J.f)(re,Je,()=>{ue.next().then(ye=>{ye.done?re.complete():re.next(ye.value)})},0,!0)})})}var qe=P(3670),ke=P(8239),Ae=P(1144),st=P(6495),ve=P(2206),pe=P(4532),Xe=P(3260);function Ze(we,Je){return Je?function Ne(we,Je){if(null!=we){if((0,qe.c)(we))return function ie(we,Je){return(0,e.Xf)(we).pipe((0,U.R)(Je),(0,V.Q)(Je))}(we,Je);if((0,Ae.z)(we))return function fe(we,Je){return new ge.y(re=>{let ue=0;return Je.schedule(function(){ue===we.length?re.complete():(re.next(we[ue++]),re.closed||this.schedule())})})}(we,Je);if((0,ke.t)(we))return function le(we,Je){return(0,e.Xf)(we).pipe((0,U.R)(Je),(0,V.Q)(Je))}(we,Je);if((0,ve.D)(we))return Y(we,Je);if((0,st.T)(we))return function G(we,Je){return new ge.y(re=>{let ue;return(0,J.f)(re,Je,()=>{ue=we[de.h](),(0,J.f)(re,Je,()=>{let ye,z;try{({value:ye,done:z}=ue.next())}catch(X){return void re.error(X)}z?re.complete():re.next(ye)},0,!0)}),()=>(0,me.m)(null==ue?void 0:ue.return)&&ue.return()})}(we,Je);if((0,Xe.L)(we))return function Ke(we,Je){return Y((0,Xe.Q)(we),Je)}(we,Je)}throw(0,pe.z)(we)}(we,Je):(0,e.Xf)(we)}},8421:(it,Ce,P)=>{P.d(Ce,{Xf:()=>qe});var e=P(655),V=P(1144),U=P(8239),ie=P(9751),le=P(3670),ge=P(2206),fe=P(4532),de=P(6495),me=P(3260),J=P(576),G=P(7849),Y=P(8822);function qe(Ne){if(Ne instanceof ie.y)return Ne;if(null!=Ne){if((0,le.c)(Ne))return function ke(Ne){return new ie.y(Ze=>{const we=Ne[Y.L]();if((0,J.m)(we.subscribe))return we.subscribe(Ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,V.z)(Ne))return function Ae(Ne){return new ie.y(Ze=>{for(let we=0;we<Ne.length&&!Ze.closed;we++)Ze.next(Ne[we]);Ze.complete()})}(Ne);if((0,U.t)(Ne))return function st(Ne){return new ie.y(Ze=>{Ne.then(we=>{Ze.closed||(Ze.next(we),Ze.complete())},we=>Ze.error(we)).then(null,G.h)})}(Ne);if((0,ge.D)(Ne))return pe(Ne);if((0,de.T)(Ne))return function ve(Ne){return new ie.y(Ze=>{for(const we of Ne)if(Ze.next(we),Ze.closed)return;Ze.complete()})}(Ne);if((0,me.L)(Ne))return function Xe(Ne){return pe((0,me.Q)(Ne))}(Ne)}throw(0,fe.z)(Ne)}function pe(Ne){return new ie.y(Ze=>{(function Ke(Ne,Ze){var we,Je,re,ue;return(0,e.mG)(this,void 0,void 0,function*(){try{for(we=(0,e.KL)(Ne);!(Je=yield we.next()).done;)if(Ze.next(Je.value),Ze.closed)return}catch(ye){re={error:ye}}finally{try{Je&&!Je.done&&(ue=we.return)&&(yield ue.call(we))}finally{if(re)throw re.error}}Ze.complete()})})(Ne,Ze).catch(we=>Ze.error(we))})}},6451:(it,Ce,P)=>{P.d(Ce,{T:()=>ge});var e=P(8189),V=P(8421),U=P(515),ie=P(3269),le=P(8996);function ge(...fe){const de=(0,ie.yG)(fe),me=(0,ie._6)(fe,1/0),J=fe;return J.length?1===J.length?(0,V.Xf)(J[0]):(0,e.J)(me)((0,le.D)(J,de)):U.E}},5403:(it,Ce,P)=>{P.d(Ce,{x:()=>V});var e=P(2961);function V(ie,le,ge,fe,de){return new U(ie,le,ge,fe,de)}class U extends e.Lv{constructor(le,ge,fe,de,me,J){super(le),this.onFinalize=me,this.shouldUnsubscribe=J,this._next=ge?function(G){try{ge(G)}catch(Y){le.error(Y)}}:super._next,this._error=de?function(G){try{de(G)}catch(Y){le.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(G){le.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},4004:(it,Ce,P)=>{P.d(Ce,{U:()=>U});var e=P(4482),V=P(5403);function U(ie,le){return(0,e.e)((ge,fe)=>{let de=0;ge.subscribe((0,V.x)(fe,me=>{fe.next(ie.call(le,me,de++))}))})}},8189:(it,Ce,P)=>{P.d(Ce,{J:()=>U});var e=P(5577),V=P(4671);function U(ie=1/0){return(0,e.z)(V.y,ie)}},5577:(it,Ce,P)=>{P.d(Ce,{z:()=>de});var e=P(4004),V=P(8421),U=P(4482),ie=P(9672),le=P(5403),fe=P(576);function de(me,J,G=1/0){return(0,fe.m)(J)?de((Y,qe)=>(0,e.U)((ke,Ae)=>J(Y,ke,qe,Ae))((0,V.Xf)(me(Y,qe))),G):("number"==typeof J&&(G=J),(0,U.e)((Y,qe)=>function ge(me,J,G,Y,qe,ke,Ae,st){const ve=[];let pe=0,Xe=0,Ke=!1;const Ne=()=>{Ke&&!ve.length&&!pe&&J.complete()},Ze=Je=>pe<Y?we(Je):ve.push(Je),we=Je=>{ke&&J.next(Je),pe++;let re=!1;(0,V.Xf)(G(Je,Xe++)).subscribe((0,le.x)(J,ue=>{null==qe||qe(ue),ke?Ze(ue):J.next(ue)},()=>{re=!0},void 0,()=>{if(re)try{for(pe--;ve.length&&pe<Y;){const ue=ve.shift();Ae?(0,ie.f)(J,Ae,()=>we(ue)):we(ue)}Ne()}catch(ue){J.error(ue)}}))};return me.subscribe((0,le.x)(J,Ze,()=>{Ke=!0,Ne()})),()=>{null==st||st()}}(Y,qe,me,G)))}},5363:(it,Ce,P)=>{P.d(Ce,{Q:()=>ie});var e=P(9672),V=P(4482),U=P(5403);function ie(le,ge=0){return(0,V.e)((fe,de)=>{fe.subscribe((0,U.x)(de,me=>(0,e.f)(de,le,()=>de.next(me),ge),()=>(0,e.f)(de,le,()=>de.complete(),ge),me=>(0,e.f)(de,le,()=>de.error(me),ge)))})}},3099:(it,Ce,P)=>{P.d(Ce,{B:()=>le});var e=P(8421),V=P(7579),U=P(2961),ie=P(4482);function le(fe={}){const{connector:de=(()=>new V.x),resetOnError:me=!0,resetOnComplete:J=!0,resetOnRefCountZero:G=!0}=fe;return Y=>{let qe,ke,Ae,st=0,ve=!1,pe=!1;const Xe=()=>{null==ke||ke.unsubscribe(),ke=void 0},Ke=()=>{Xe(),qe=Ae=void 0,ve=pe=!1},Ne=()=>{const Ze=qe;Ke(),null==Ze||Ze.unsubscribe()};return(0,ie.e)((Ze,we)=>{st++,!pe&&!ve&&Xe();const Je=Ae=null!=Ae?Ae:de();we.add(()=>{st--,0===st&&!pe&&!ve&&(ke=ge(Ne,G))}),Je.subscribe(we),!qe&&st>0&&(qe=new U.Hp({next:re=>Je.next(re),error:re=>{pe=!0,Xe(),ke=ge(Ke,me,re),Je.error(re)},complete:()=>{ve=!0,Xe(),ke=ge(Ke,J),Je.complete()}}),(0,e.Xf)(Ze).subscribe(qe))})(Y)}}function ge(fe,de,...me){if(!0===de)return void fe();if(!1===de)return;const J=new U.Hp({next:()=>{J.unsubscribe(),fe()}});return de(...me).subscribe(J)}},9468:(it,Ce,P)=>{P.d(Ce,{R:()=>V});var e=P(4482);function V(U,ie=0){return(0,e.e)((le,ge)=>{ge.add(U.schedule(()=>le.subscribe(ge),ie))})}},8505:(it,Ce,P)=>{P.d(Ce,{b:()=>le});var e=P(576),V=P(4482),U=P(5403),ie=P(4671);function le(ge,fe,de){const me=(0,e.m)(ge)||fe||de?{next:ge,error:fe,complete:de}:ge;return me?(0,V.e)((J,G)=>{var Y;null===(Y=me.subscribe)||void 0===Y||Y.call(me);let qe=!0;J.subscribe((0,U.x)(G,ke=>{var Ae;null===(Ae=me.next)||void 0===Ae||Ae.call(me,ke),G.next(ke)},()=>{var ke;qe=!1,null===(ke=me.complete)||void 0===ke||ke.call(me),G.complete()},ke=>{var Ae;qe=!1,null===(Ae=me.error)||void 0===Ae||Ae.call(me,ke),G.error(ke)},()=>{var ke,Ae;qe&&(null===(ke=me.unsubscribe)||void 0===ke||ke.call(me)),null===(Ae=me.finalize)||void 0===Ae||Ae.call(me)}))}):ie.y}},4408:(it,Ce,P)=>{P.d(Ce,{o:()=>le});var e=P(727);class V extends e.w0{constructor(fe,de){super()}schedule(fe,de=0){return this}}const U={setInterval(ge,fe,...de){const{delegate:me}=U;return null!=me&&me.setInterval?me.setInterval(ge,fe,...de):setInterval(ge,fe,...de)},clearInterval(ge){const{delegate:fe}=U;return((null==fe?void 0:fe.clearInterval)||clearInterval)(ge)},delegate:void 0};var ie=P(8737);class le extends V{constructor(fe,de){super(fe,de),this.scheduler=fe,this.work=de,this.pending=!1}schedule(fe,de=0){var me;if(this.closed)return this;this.state=fe;const J=this.id,G=this.scheduler;return null!=J&&(this.id=this.recycleAsyncId(G,J,de)),this.pending=!0,this.delay=de,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId(G,this.id,de),this}requestAsyncId(fe,de,me=0){return U.setInterval(fe.flush.bind(fe,this),me)}recycleAsyncId(fe,de,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return de;null!=de&&U.clearInterval(de)}execute(fe,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(fe,de);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,de){let J,me=!1;try{this.work(fe)}catch(G){me=!0,J=G||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:fe,scheduler:de}=this,{actions:me}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(me,this),null!=fe&&(this.id=this.recycleAsyncId(de,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(it,Ce,P)=>{P.d(Ce,{v:()=>U});var e=P(6063);class V{constructor(le,ge=V.now){this.schedulerActionCtor=le,this.now=ge}schedule(le,ge=0,fe){return new this.schedulerActionCtor(this,le).schedule(fe,ge)}}V.now=e.l.now;class U extends V{constructor(le,ge=V.now){super(le,ge),this.actions=[],this._active=!1}flush(le){const{actions:ge}=this;if(this._active)return void ge.push(le);let fe;this._active=!0;do{if(fe=le.execute(le.state,le.delay))break}while(le=ge.shift());if(this._active=!1,fe){for(;le=ge.shift();)le.unsubscribe();throw fe}}}},4986:(it,Ce,P)=>{P.d(Ce,{P:()=>ie,z:()=>U});var e=P(4408);const U=new(P(7565).v)(e.o),ie=U},6063:(it,Ce,P)=>{P.d(Ce,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},3410:(it,Ce,P)=>{P.d(Ce,{z:()=>e});const e={setTimeout(V,U,...ie){const{delegate:le}=e;return null!=le&&le.setTimeout?le.setTimeout(V,U,...ie):setTimeout(V,U,...ie)},clearTimeout(V){const{delegate:U}=e;return((null==U?void 0:U.clearTimeout)||clearTimeout)(V)},delegate:void 0}},2202:(it,Ce,P)=>{P.d(Ce,{h:()=>V});const V=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(it,Ce,P)=>{P.d(Ce,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(it,Ce,P)=>{P.d(Ce,{_6:()=>ge,jO:()=>ie,yG:()=>le});var e=P(576),V=P(3532);function U(fe){return fe[fe.length-1]}function ie(fe){return(0,e.m)(U(fe))?fe.pop():void 0}function le(fe){return(0,V.K)(U(fe))?fe.pop():void 0}function ge(fe,de){return"number"==typeof U(fe)?fe.pop():de}},8737:(it,Ce,P)=>{function e(V,U){if(V){const ie=V.indexOf(U);0<=ie&&V.splice(ie,1)}}P.d(Ce,{P:()=>e})},3888:(it,Ce,P)=>{function e(V){const ie=V(le=>{Error.call(le),le.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}P.d(Ce,{d:()=>e})},2806:(it,Ce,P)=>{P.d(Ce,{O:()=>ie,x:()=>U});var e=P(2416);let V=null;function U(le){if(e.v.useDeprecatedSynchronousErrorHandling){const ge=!V;if(ge&&(V={errorThrown:!1,error:null}),le(),ge){const{errorThrown:fe,error:de}=V;if(V=null,fe)throw de}}else le()}function ie(le){e.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=le)}},9672:(it,Ce,P)=>{function e(V,U,ie,le=0,ge=!1){const fe=U.schedule(function(){ie(),ge?V.add(this.schedule(null,le)):this.unsubscribe()},le);if(V.add(fe),!ge)return fe}P.d(Ce,{f:()=>e})},4671:(it,Ce,P)=>{function e(V){return V}P.d(Ce,{y:()=>e})},1144:(it,Ce,P)=>{P.d(Ce,{z:()=>e});const e=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(it,Ce,P)=>{P.d(Ce,{D:()=>V});var e=P(576);function V(U){return Symbol.asyncIterator&&(0,e.m)(null==U?void 0:U[Symbol.asyncIterator])}},576:(it,Ce,P)=>{function e(V){return"function"==typeof V}P.d(Ce,{m:()=>e})},3670:(it,Ce,P)=>{P.d(Ce,{c:()=>U});var e=P(8822),V=P(576);function U(ie){return(0,V.m)(ie[e.L])}},6495:(it,Ce,P)=>{P.d(Ce,{T:()=>U});var e=P(2202),V=P(576);function U(ie){return(0,V.m)(null==ie?void 0:ie[e.h])}},8239:(it,Ce,P)=>{P.d(Ce,{t:()=>V});var e=P(576);function V(U){return(0,e.m)(null==U?void 0:U.then)}},3260:(it,Ce,P)=>{P.d(Ce,{L:()=>ie,Q:()=>U});var e=P(655),V=P(576);function U(le){return(0,e.FC)(this,arguments,function*(){const fe=le.getReader();try{for(;;){const{value:de,done:me}=yield(0,e.qq)(fe.read());if(me)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(de)}}finally{fe.releaseLock()}})}function ie(le){return(0,V.m)(null==le?void 0:le.getReader)}},3532:(it,Ce,P)=>{P.d(Ce,{K:()=>V});var e=P(576);function V(U){return U&&(0,e.m)(U.schedule)}},4482:(it,Ce,P)=>{P.d(Ce,{A:()=>V,e:()=>U});var e=P(576);function V(ie){return(0,e.m)(null==ie?void 0:ie.lift)}function U(ie){return le=>{if(V(le))return le.lift(function(ge){try{return ie(ge,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(it,Ce,P)=>{P.d(Ce,{U:()=>U,z:()=>V});var e=P(4671);function V(...ie){return U(ie)}function U(ie){return 0===ie.length?e.y:1===ie.length?ie[0]:function(ge){return ie.reduce((fe,de)=>de(fe),ge)}}},7849:(it,Ce,P)=>{P.d(Ce,{h:()=>U});var e=P(2416),V=P(3410);function U(ie){V.z.setTimeout(()=>{const{onUnhandledError:le}=e.v;if(!le)throw ie;le(ie)})}},4532:(it,Ce,P)=>{function e(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ce,{z:()=>e})},655:(it,Ce,P)=>{function ie(z,X){var he={};for(var se in z)Object.prototype.hasOwnProperty.call(z,se)&&X.indexOf(se)<0&&(he[se]=z[se]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(se=Object.getOwnPropertySymbols(z);Oe<se.length;Oe++)X.indexOf(se[Oe])<0&&Object.prototype.propertyIsEnumerable.call(z,se[Oe])&&(he[se[Oe]]=z[se[Oe]])}return he}function de(z,X,he,se){return new(he||(he=Promise))(function(Le,mt){function un(mn){try{We(se.next(mn))}catch(Sn){mt(Sn)}}function Bt(mn){try{We(se.throw(mn))}catch(Sn){mt(Sn)}}function We(mn){mn.done?Le(mn.value):function Oe(Le){return Le instanceof he?Le:new he(function(mt){mt(Le)})}(mn.value).then(un,Bt)}We((se=se.apply(z,X||[])).next())})}function ve(z){return this instanceof ve?(this.v=z,this):new ve(z)}function pe(z,X,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,se=he.apply(z,X||[]),Le=[];return Oe={},mt("next"),mt("throw"),mt("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function mt(on){se[on]&&(Oe[on]=function(sn){return new Promise(function(zt,qt){Le.push([on,sn,zt,qt])>1||un(on,sn)})})}function un(on,sn){try{!function Bt(on){on.value instanceof ve?Promise.resolve(on.value.v).then(We,mn):Sn(Le[0][2],on)}(se[on](sn))}catch(zt){Sn(Le[0][3],zt)}}function We(on){un("next",on)}function mn(on){un("throw",on)}function Sn(on,sn){on(sn),Le.shift(),Le.length&&un(Le[0][0],Le[0][1])}}function Ke(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,X=z[Symbol.asyncIterator];return X?X.call(z):(z=function Y(z){var X="function"==typeof Symbol&&Symbol.iterator,he=X&&z[X],se=0;if(he)return he.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&se>=z.length&&(z=void 0),{value:z&&z[se++],done:!z}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),he={},se("next"),se("throw"),se("return"),he[Symbol.asyncIterator]=function(){return this},he);function se(Le){he[Le]=z[Le]&&function(mt){return new Promise(function(un,Bt){!function Oe(Le,mt,un,Bt){Promise.resolve(Bt).then(function(We){Le({value:We,done:un})},mt)}(un,Bt,(mt=z[Le](mt)).done,mt.value)})}}}P.d(Ce,{FC:()=>pe,KL:()=>Ke,_T:()=>ie,mG:()=>de,qq:()=>ve})},5e3:(it,Ce,P)=>{P.d(Ce,{$8M:()=>cu,$Z:()=>O0,AFp:()=>ET,ALo:()=>ny,AaK:()=>de,AsE:()=>$m,BQk:()=>Ng,CHM:()=>es,CRH:()=>hT,CZH:()=>Yg,Ckj:()=>Lv,CqO:()=>I1,D6c:()=>zT,DdM:()=>zC,EJc:()=>cD,EpF:()=>b1,F4k:()=>A1,FYo:()=>na,FiY:()=>ae,G48:()=>Uy,Gf:()=>cT,GfV:()=>Qv,Gpc:()=>G,JOm:()=>Yo,Jf7:()=>l0,KtG:()=>ts,LFG:()=>Zn,LSH:()=>ih,Lbi:()=>lD,Lck:()=>pE,MMx:()=>Xm,NdJ:()=>Fm,OlP:()=>Wt,Oqu:()=>jm,PXZ:()=>MT,Q6J:()=>Pm,QGY:()=>Lm,QP$:()=>Yc,Qsj:()=>Dl,R0b:()=>mi,RDi:()=>c_,Rgc:()=>qh,SBq:()=>El,Sil:()=>xT,Suo:()=>dT,TTD:()=>lo,TgZ:()=>Zg,VKq:()=>$g,WLB:()=>KC,X6Q:()=>Ny,XFs:()=>yt,Xpm:()=>Ye,Xts:()=>Vv,Y36:()=>qc,YKP:()=>jC,YNc:()=>T1,Yjl:()=>Q,Yz7:()=>sn,ZZ4:()=>Cf,_Bn:()=>BC,_UZ:()=>Om,_Vd:()=>Il,_c5:()=>bD,_uU:()=>Q1,aQg:()=>Tf,c2e:()=>ef,cJS:()=>qt,cg1:()=>Hm,dDg:()=>af,dqk:()=>nt,eFA:()=>Nr,ekj:()=>Vm,eoX:()=>lf,f3M:()=>zs,g9A:()=>to,h0i:()=>zc,hGG:()=>AD,hij:()=>Lg,iGM:()=>uT,ifc:()=>at,ip1:()=>za,kL8:()=>pC,lG2:()=>B,lcZ:()=>rT,lnq:()=>Gm,lqb:()=>bu,lri:()=>by,n5z:()=>uu,oAB:()=>wt,oxw:()=>D1,q4F:()=>Zc,qLn:()=>kc,qOj:()=>h1,qZA:()=>kg,rWj:()=>Ay,sBO:()=>VT,sIi:()=>Eh,s_b:()=>Hg,soG:()=>ed,tb:()=>jh,tp0:()=>$e,uIk:()=>Um,vHH:()=>Ae,vpe:()=>pa,wAp:()=>xt,xp6:()=>D0,ynx:()=>qu,z2F:()=>td,zSh:()=>Ri,zs3:()=>Nu});var e=P(7579),V=P(727),U=P(9751),ie=P(6451),le=P(3099);function ge(s){for(let l in s)if(s[l]===ge)return l;throw Error("Could not find renamed property on target object.")}function fe(s,l){for(const u in l)l.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=l[u])}function de(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(de).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const l=s.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function me(s,l){return null==s||""===s?null===l?"":l:null==l||""===l?s:s+" "+l}const J=ge({__forward_ref__:ge});function G(s){return s.__forward_ref__=G,s.toString=function(){return de(this())},s}function Y(s){return qe(s)?s():s}function qe(s){return"function"==typeof s&&s.hasOwnProperty(J)&&s.__forward_ref__===G}class Ae extends Error{constructor(l,u){super(function st(s,l){return`NG0${Math.abs(s)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function ve(s){return"string"==typeof s?s:null==s?"":String(s)}function Ze(s,l){throw new Ae(-201,!1)}function Bt(s,l){null==s&&function We(s,l,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${l} <=Actual]`))}(l,s,null,"!=")}function sn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function qt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Pr(s){return wo(s,bo)||wo(s,Wn)}function wo(s,l){return s.hasOwnProperty(l)?s[l]:null}function Fo(s){return s&&(s.hasOwnProperty(Gr)||s.hasOwnProperty(qo))?s[Gr]:null}const bo=ge({\u0275prov:ge}),Gr=ge({\u0275inj:ge}),Wn=ge({ngInjectableDef:ge}),qo=ge({ngInjectorDef:ge});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let yn;function cn(s){const l=yn;return yn=s,l}function _r(s,l,u){const c=Pr(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&yt.Optional?null:void 0!==l?l:void Ze(de(s))}function Er(s){return{toString:s}.toString()}var vn=(()=>((vn=vn||{})[vn.OnPush=0]="OnPush",vn[vn.Default=1]="Default",vn))(),at=(()=>{return(s=at||(at={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",at;var s})();const nt=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),xn={},jt=[],Fn=ge({\u0275cmp:ge}),Jr=ge({\u0275dir:ge}),Lt=ge({\u0275pipe:ge}),Ao=ge({\u0275mod:ge}),Ft=ge({\u0275fac:ge}),Or=ge({__NG_ELEMENT_ID__:ge});let jn=0;function Ye(s){return Er(()=>{const u=!0===s.standalone,c={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===vn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||jt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||at.Emulated,id:"c"+jn++,styles:s.styles||jt,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,m=s.features;return h.inputs=H(s.inputs,c),h.outputs=H(s.outputs),m&&m.forEach(C=>C(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(et).filter(Tt):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(L).filter(Tt):null,h})}function et(s){return O(s)||N(s)}function Tt(s){return null!==s}function wt(s){return Er(()=>({type:s.type,bootstrap:s.bootstrap||jt,declarations:s.declarations||jt,imports:s.imports||jt,exports:s.exports||jt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function H(s,l){if(null==s)return xn;const u={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),u[h]=c,l&&(l[h]=g)}return u}const B=Ye;function Q(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function O(s){return s[Fn]||null}function N(s){return s[Jr]||null}function L(s){return s[Lt]||null}function oe(s,l){const u=s[Ao]||null;if(!u&&!0===l)throw new Error(`Type ${de(s)} does not have '\u0275mod' property.`);return u}function pt(s){return Array.isArray(s)&&"object"==typeof s[1]}function Io(s){return Array.isArray(s)&&!0===s[1]}function Ii(s){return 0!=(8&s.flags)}function va(s){return 2==(2&s.flags)}function Hi(s){return 1==(1&s.flags)}function Bo(s){return null!==s.template}function rc(s){return 0!=(256&s[2])}function Us(s,l){return s.hasOwnProperty(Ft)?s[Ft]:null}class Ta{constructor(l,u,c){this.previousValue=l,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function lo(){return Wi}function Wi(s){return s.type.prototype.ngOnChanges&&(s.setInput=Sd),Ms}function Ms(){const s=rl(this),l=null==s?void 0:s.current;if(l){const u=s.previous;if(u===xn)s.previous=l;else for(let c in l)u[c]=l[c];s.current=null,this.ngOnChanges(l)}}function Sd(s,l,u,c){const h=rl(s)||function xd(s,l){return s[wa]=l}(s,{previous:xn,current:null}),g=h.current||(h.current={}),m=h.previous,C=this.declaredInputs[u],b=m[C];g[C]=new Ta(b&&b.currentValue,l,m===xn),s[c]=l}lo.ngInherit=!0;const wa="__ngSimpleChanges__";function rl(s){return s[wa]||null}function Qn(s){for(;Array.isArray(s);)s=s[0];return s}function ba(s,l){return Qn(l[s])}function Qr(s,l){return Qn(l[s.index])}function Ki(s,l){return s.data[l]}function dr(s,l){const u=l[s];return pt(u)?u:u[0]}function Yi(s){return 4==(4&s[2])}function jo(s){return 64==(64&s[2])}function $o(s,l){return null==l?null:s[l]}function Si(s){s[18]=0}function Xi(s,l){s[5]+=l;let u=s,c=s[3];for(;null!==c&&(1===l&&1===u[5]||-1===l&&0===u[5]);)c[5]+=l,u=c,c=c[3]}const Dt={lFrame:Vs(null),bindingsEnabled:!0};function Ps(){return Dt.bindingsEnabled}function Ie(){return Dt.lFrame.lView}function $t(){return Dt.lFrame.tView}function es(s){return Dt.lFrame.contextLView=s,s[8]}function ts(s){return Dt.lFrame.contextLView=null,s}function Gn(){let s=ns();for(;null!==s&&64===s.type;)s=s.parent;return s}function ns(){return Dt.lFrame.currentTNode}function Lr(s,l){const u=Dt.lFrame;u.currentTNode=s,u.isParent=l}function Yl(){return Dt.lFrame.isParent}function rs(){Dt.lFrame.isParent=!1}function hr(){const s=Dt.lFrame;let l=s.bindingRootIndex;return-1===l&&(l=s.bindingRootIndex=s.tView.bindingStartIndex),l}function uo(){return Dt.lFrame.bindingIndex}function os(){return Dt.lFrame.bindingIndex++}function So(s){const l=Dt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+s,u}function sl(s,l){const u=Dt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Ea(l)}function Ea(s){Dt.lFrame.currentDirectiveIndex=s}function Fs(){return Dt.lFrame.currentQueryIndex}function nu(s){Dt.lFrame.currentQueryIndex=s}function Sa(s){const l=s[1];return 2===l.type?l.declTNode:1===l.type?s[6]:null}function al(s,l,u){if(u&yt.SkipSelf){let h=l,g=s;for(;!(h=h.parent,null!==h||u&yt.Host||(h=Sa(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;l=h,s=g}const c=Dt.lFrame=hc();return c.currentTNode=l,c.lView=s,!0}function qs(s){const l=hc(),u=s[1];Dt.lFrame=l,l.currentTNode=u.firstChild,l.lView=s,l.tView=u,l.contextLView=s,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function hc(){const s=Dt.lFrame,l=null===s?null:s.child;return null===l?Vs(s):l}function Vs(s){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=l),l}function pc(){const s=Dt.lFrame;return Dt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Bs=pc;function ll(){const s=pc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function zn(){return Dt.lFrame.selectedIndex}function Ho(s){Dt.lFrame.selectedIndex=s}function In(){const s=Dt.lFrame;return Ki(s.tView,s.selectedIndex)}function iu(s,l){for(let u=l.directiveStart,c=l.directiveEnd;u<c;u++){const g=s.data[u].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:C,ngAfterViewInit:b,ngAfterViewChecked:E,ngOnDestroy:k}=g;m&&(s.contentHooks||(s.contentHooks=[])).push(-u,m),C&&((s.contentHooks||(s.contentHooks=[])).push(u,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,C)),b&&(s.viewHooks||(s.viewHooks=[])).push(-u,b),E&&((s.viewHooks||(s.viewHooks=[])).push(u,E),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,E)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(u,k)}}function fc(s,l,u){is(s,l,3,u)}function _c(s,l,u,c){(3&s[2])===u&&is(s,l,u,c)}function Za(s,l){let u=s[2];(3&u)===l&&(u&=2047,u+=1,s[2]=u)}function is(s,l,u,c){const g=null!=c?c:-1,m=l.length-1;let C=0;for(let b=void 0!==c?65535&s[18]:0;b<m;b++)if("number"==typeof l[b+1]){if(C=l[b],null!=c&&C>=c)break}else l[b]<0&&(s[18]+=65536),(C<g||-1==g)&&(o_(s,u,l,b),s[18]=(4294901760&s[18])+b+2),b++}function o_(s,l,u,c){const h=u[c]<0,g=u[c+1],C=s[h?-u[c]:u[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===l){s[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class js{constructor(l,u,c){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function ka(s,l,u){let c=0;for(;c<u.length;){const h=u[c];if("number"==typeof h){if(0!==h)break;c++;const g=u[c++],m=u[c++],C=u[c++];s.setAttribute(l,m,C,g)}else{const g=h,m=u[++c];Na(g)?s.setProperty(l,g,m):s.setAttribute(l,g,m),c++}}return c}function au(s){return 3===s||4===s||6===s}function Na(s){return 64===s.charCodeAt(0)}function Hs(s,l){if(null!==l&&0!==l.length)if(null===s||0===s.length)s=l.slice();else{let u=-1;for(let c=0;c<l.length;c++){const h=l[c];"number"==typeof h?u=h:0===u||Ld(s,u,h,null,-1===u||2===u?l[++c]:null)}}return s}function Ld(s,l,u,c,h){let g=0,m=s.length;if(-1===l)m=-1;else for(;g<s.length;){const C=s[g++];if("number"==typeof C){if(C===l){m=-1;break}if(C>l){m=g-1;break}}}for(;g<s.length;){const C=s[g];if("number"==typeof C)break;if(C===u){if(null===c)return void(null!==h&&(s[g+1]=h));if(c===s[g+1])return void(s[g+2]=h)}g++,null!==c&&g++,null!==h&&g++}-1!==m&&(s.splice(m,0,l),g=m+1),s.splice(g++,0,u),null!==c&&s.splice(g++,0,c),null!==h&&s.splice(g++,0,h)}function Fd(s){return-1!==s}function Ua(s){return 32767&s}function rr(s,l){let u=function s_(s){return s>>16}(s),c=l;for(;u>0;)c=c[15],u--;return c}let qd=!0;function Ma(s){const l=qd;return qd=s,l}let zr=0;const gn={};function oi(s,l){const u=Zi(s,l);if(-1!==u)return u;const c=l[1];c.firstCreatePass&&(s.injectorIndex=l.length,cl(c.data,s),cl(l,null),cl(c.blueprint,null));const h=dl(s,l),g=s.injectorIndex;if(Fd(h)){const m=Ua(h),C=rr(h,l),b=C[1].data;for(let E=0;E<8;E++)l[g+E]=C[m+E]|b[m+E]}return l[g+8]=h,g}function cl(s,l){s.push(0,0,0,0,0,0,0,0,l)}function Zi(s,l){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===l[s.injectorIndex+8]?-1:s.injectorIndex}function dl(s,l){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,h=l;for(;null!==h;){if(c=Nn(h),null===c)return-1;if(u++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function ss(s,l,u){!function Vd(s,l,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(Or)&&(c=u[Or]),null==c&&(c=u[Or]=zr++);const h=255&c;l.data[s+(h>>5)]|=1<<h}(s,l,u)}function Kn(s,l,u){if(u&yt.Optional)return s;Ze()}function j(s,l,u,c){if(u&yt.Optional&&void 0===c&&(c=null),0==(u&(yt.Self|yt.Host))){const h=s[9],g=cn(void 0);try{return h?h.get(l,c,u&yt.Optional):_r(l,c,u&yt.Optional)}finally{cn(g)}}return Kn(c,0,u)}function Pa(s,l,u,c=yt.Default,h){if(null!==s){if(1024&l[2]){const m=function Rp(s,l,u,c,h){let g=s,m=l;for(;null!==g&&null!==m&&1024&m[2]&&!(256&m[2]);){const C=Js(g,m,u,c|yt.Self,gn);if(C!==gn)return C;let b=g.parent;if(!b){const E=m[21];if(E){const k=E.get(u,gn,c);if(k!==gn)return k}b=Nn(m),m=m[15]}g=b}return h}(s,l,u,c,gn);if(m!==gn)return m}const g=Js(s,l,u,c,gn);if(g!==gn)return g}return j(l,u,c,h)}function Js(s,l,u,c,h){const g=function lu(s){if("string"==typeof s)return s.charCodeAt(0)||0;const l=s.hasOwnProperty(Or)?s[Or]:void 0;return"number"==typeof l?l>=0?255&l:Oa:l}(u);if("function"==typeof g){if(!al(l,s,c))return c&yt.Host?Kn(h,0,c):j(l,u,c,h);try{const m=g(c);if(null!=m||c&yt.Optional)return m;Ze()}finally{Bs()}}else if("number"==typeof g){let m=null,C=Zi(s,l),b=-1,E=c&yt.Host?l[16][6]:null;for((-1===C||c&yt.SkipSelf)&&(b=-1===C?dl(s,l):l[C+8],-1!==b&&xo(c,!1)?(m=l[1],C=Ua(b),l=rr(b,l)):C=-1);-1!==C;){const k=l[1];if(co(g,C,k.data)){const R=ls(C,l,u,m,c,E);if(R!==gn)return R}b=l[C+8],-1!==b&&xo(c,l[1].data[C+8]===E)&&co(g,C,l)?(m=k,C=Ua(b),l=rr(b,l)):C=-1}}return h}function ls(s,l,u,c,h,g){const m=l[1],C=m.data[s+8],k=Ra(C,m,u,null==c?va(C)&&qd:c!=m&&0!=(3&C.type),h&yt.Host&&g===C);return null!==k?ii(l,m,k,C):gn}function Ra(s,l,u,c,h){const g=s.providerIndexes,m=l.data,C=1048575&g,b=s.directiveStart,k=g>>20,W=h?C+k:s.directiveEnd;for(let ne=c?C:C+k;ne<W;ne++){const be=m[ne];if(ne<b&&u===be||ne>=b&&be.type===u)return ne}if(h){const ne=m[b];if(ne&&Bo(ne)&&ne.type===u)return b}return null}function ii(s,l,u,c){let h=s[u];const g=l.data;if(function ul(s){return s instanceof js}(h)){const m=h;m.resolving&&function Xe(s,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${s}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${s}${u}`)}(function pe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ve(s)}(g[u]));const C=Ma(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?cn(m.injectImpl):null;al(s,c,yt.Default);try{h=s[u]=m.factory(void 0,g,s,c),l.firstCreatePass&&u>=c.directiveStart&&function ou(s,l,u){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:g}=l.type.prototype;if(c){const m=Wi(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,m)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,g))}(u,g[u],l)}finally{null!==b&&cn(b),Ma(C),m.resolving=!1,Bs()}}return h}function co(s,l,u){return!!(u[l+(s>>5)]&1<<s)}function xo(s,l){return!(s&yt.Self||s&yt.Host&&l)}class Wo{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,c){return Pa(this._tNode,this._lView,l,c,u)}}function Oa(){return new Wo(Gn(),Ie())}function uu(s){return Er(()=>{const l=s.prototype.constructor,u=l[Ft]||hl(l),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const g=h[Ft]||hl(h);if(g&&g!==u)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function hl(s){return qe(s)?()=>{const l=hl(Y(s));return l&&l()}:Us(s)}function Nn(s){const l=s[1],u=l.type;return 2===u?l.declTNode:1===u?s[6]:null}function cu(s){return function as(s,l){if("class"===l)return s.classes;if("style"===l)return s.styles;const u=s.attrs;if(u){const c=u.length;let h=0;for(;h<c;){const g=u[h];if(au(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<c&&"string"==typeof u[h];)h++;else{if(g===l)return u[h+1];h+=2}}}return null}(Gn(),s)}const us="__parameters__";function yr(s,l,u){return Er(()=>{const c=function La(s){return function(...u){if(s){const c=s(...u);for(const h in c)this[h]=c[h]}}}(l);function h(...g){if(this instanceof h)return c.apply(this,g),this;const m=new h(...g);return C.annotation=m,C;function C(b,E,k){const R=b.hasOwnProperty(us)?b[us]:Object.defineProperty(b,us,{value:[]})[us];for(;R.length<=k;)R.push(null);return(R[k]=R[k]||[]).push(m),b}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Wt{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=sn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ir(s,l){void 0===l&&(l=s);for(let u=0;u<s.length;u++){let c=s[u];Array.isArray(c)?(l===s&&(l=s.slice(0,u)),ir(c,l)):l!==s&&l.push(c)}return l}function Zo(s,l){s.forEach(u=>Array.isArray(u)?Zo(u,l):l(u))}function qa(s,l,u){l>=s.length?s.push(u):s.splice(l,0,u)}function Va(s,l){return l>=s.length-1?s.pop():s.splice(l,1)[0]}function vr(s,l,u){let c=Ba(s,l);return c>=0?s[1|c]=u:(c=~c,function vc(s,l,u,c){let h=s.length;if(h==l)s.push(u,c);else if(1===h)s.push(c,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>l;)s[h]=s[h-2],h--;s[l]=u,s[l+1]=c}}(s,c,l,u)),c}function Tc(s,l){const u=Ba(s,l);if(u>=0)return s[1|u]}function Ba(s,l){return function ai(s,l,u){let c=0,h=s.length>>u;for(;h!==c;){const g=c+(h-c>>1),m=s[g<<u];if(l===m)return g<<u;m>l?h=g:c=g+1}return~(h<<u)}(s,l,1)}const _l={},ko="__NG_DI_FLAG__",ml="ngTempTokenPath",yl=/\n/gm,vl="__source";let No;function Ui(s){const l=No;return No=s,l}function ja(s,l=yt.Default){if(void 0===No)throw new Ae(-203,!1);return null===No?_r(s,void 0,l):No.get(s,l&yt.Optional?null:void 0,l)}function Zn(s,l=yt.Default){return(function cr(){return yn}()||ja)(Y(s),l)}function zs(s,l=yt.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),Zn(s,l)}function Ks(s){const l=[];for(let u=0;u<s.length;u++){const c=Y(s[u]);if(Array.isArray(c)){if(0===c.length)throw new Ae(900,!1);let h,g=yt.Default;for(let m=0;m<c.length;m++){const C=c[m],b=I(C);"number"==typeof b?-1===b?h=C.token:g|=b:h=C}l.push(Zn(h,g))}else l.push(Zn(c))}return l}function A(s,l){return s[ko]=l,s.prototype[ko]=l,s}function I(s){return s[ko]}const ae=A(yr("Optional"),8),$e=A(yr("SkipSelf"),4);let vu;function c_(s){vu=s}class g_{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function fn(s){return s instanceof g_?s.changingThisBreaksApplicationSecurity:s}function Pi(s,l){const u=function m_(s){return s instanceof g_&&s.getTypeName()||null}(s);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}const Ov=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,f=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var fr=(()=>((fr=fr||{})[fr.NONE=0]="NONE",fr[fr.HTML=1]="HTML",fr[fr.STYLE=2]="STYLE",fr[fr.SCRIPT=3]="SCRIPT",fr[fr.URL=4]="URL",fr[fr.RESOURCE_URL=5]="RESOURCE_URL",fr))();function Lv(s){const l=Ec();return l?l.sanitize(fr.STYLE,s)||"":Pi(s,"Style")?fn(s):ve(s)}function ih(s){const l=Ec();return l?l.sanitize(fr.URL,s)||"":Pi(s,"URL")?fn(s):function _(s){return(s=String(s)).match(Ov)||s.match(f)?s:"unsafe:"+s}(ve(s))}function Ec(){const s=Ie();return s&&s[12]}const Vv=new Wt("ENVIRONMENT_INITIALIZER"),lb=new Wt("INJECTOR",-1),ub=new Wt("INJECTOR_DEF_TYPES");class E_{get(l,u=_l){if(u===_l){const c=new Error(`NullInjectorError: No provider for ${de(l)}!`);throw c.name="NullInjectorError",c}return u}}function cb(...s){return{\u0275providers:D_(0,s)}}function D_(s,...l){const u=[],c=new Set;let h;return Zo(l,g=>{const m=g;Bv(m,u,[],c)&&(h||(h=[]),h.push(m))}),void 0!==h&&S_(h,u),u}function S_(s,l){for(let u=0;u<s.length;u++){const{providers:h}=s[u];Zo(h,g=>{l.push(g)})}}function Bv(s,l,u,c){if(!(s=Y(s)))return!1;let h=null,g=Fo(s);const m=!g&&O(s);if(g||m){if(m&&!m.standalone)return!1;h=s}else{const b=s.ngModule;if(g=Fo(b),!g)return!1;h=b}const C=c.has(h);if(m){if(C)return!1;if(c.add(h),m.dependencies){const b="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const E of b)Bv(E,l,u,c)}}else{if(!g)return!1;{if(null!=g.imports&&!C){let E;c.add(h);try{Zo(g.imports,k=>{Bv(k,l,u,c)&&(E||(E=[]),E.push(k))})}finally{}void 0!==E&&S_(E,l)}if(!C){const E=Us(h)||(()=>new h);l.push({provide:h,useFactory:E,deps:jt},{provide:ub,useValue:h,multi:!0},{provide:Vv,useValue:()=>Zn(h),multi:!0})}const b=g.providers;null==b||C||Zo(b,k=>{l.push(k)})}}return h!==s&&void 0!==s.providers}const jv=ge({provide:String,useValue:ge});function x_(s){return null!==s&&"object"==typeof s&&jv in s}function Dc(s){return"function"==typeof s}const Ri=new Wt("Set Injector scope."),Yr={},pb={};let wu;function bl(){return void 0===wu&&(wu=new E_),wu}class bu{}class Z_ extends bu{constructor(l,u,c,h){super(),this.parent=u,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ta(l,m=>this.processProvider(m)),this.records.set(lb,Al(void 0,this)),h.has("environment")&&this.records.set(bu,Al(void 0,this));const g=this.records.get(Ri);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(ub.multi,jt,yt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=Ui(this),c=cn(void 0);try{return l()}finally{Ui(u),cn(c)}}get(l,u=_l,c=yt.Default){this.assertNotDestroyed();const h=Ui(this),g=cn(void 0);try{if(!(c&yt.SkipSelf)){let C=this.records.get(l);if(void 0===C){const b=function ah(s){return"function"==typeof s||"object"==typeof s&&s instanceof Wt}(l)&&Pr(l);C=b&&this.injectableDefInScope(b)?Al(k_(l),Yr):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(c&yt.Self?bl():this.parent).get(l,u=c&yt.Optional&&u===_l?null:u)}catch(m){if("NullInjectorError"===m.name){if((m[ml]=m[ml]||[]).unshift(de(l)),h)throw m;return function Z(s,l,u,c){const h=s[ml];throw l[vl]&&h.unshift(l[vl]),s.message=function q(s,l,u,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=de(l);if(Array.isArray(l))h=l.map(de).join(" -> ");else if("object"==typeof l){let g=[];for(let m in l)if(l.hasOwnProperty(m)){let C=l[m];g.push(m+":"+("string"==typeof C?JSON.stringify(C):de(C)))}h=`{${g.join(", ")}}`}return`${u}${c?"("+c+")":""}[${h}]: ${s.replace(yl,"\n  ")}`}("\n"+s.message,h,u,c),s.ngTokenPath=h,s[ml]=null,s}(m,l,"R3InjectorError",this.source)}throw m}finally{cn(g),Ui(h)}}resolveInjectorInitializers(){const l=Ui(this),u=cn(void 0);try{const c=this.get(Vv.multi,jt,yt.Self);for(const h of c)h()}finally{Ui(l),cn(u)}}toString(){const l=[],u=this.records;for(const c of u.keys())l.push(de(c));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(l){let u=Dc(l=Y(l))?l:Y(l&&l.provide);const c=function sh(s){return x_(s)?Al(void 0,s.useValue):Al(Gv(s),Yr)}(l);if(Dc(l)||!0!==l.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=Al(void 0,Yr,!0),h.factory=()=>Ks(h.multi),this.records.set(u,h)),u=l,h.multi.push(l)}this.records.set(u,c)}hydrate(l,u){return u.value===Yr&&(u.value=pb,u.value=u.factory()),"object"==typeof u.value&&u.value&&function gb(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=Y(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function k_(s){const l=Pr(s),u=null!==l?l.factory:Us(s);if(null!==u)return u;if(s instanceof Wt)throw new Ae(204,!1);if(s instanceof Function)return function $v(s){const l=s.length;if(l>0)throw function si(s,l){const u=[];for(let c=0;c<s;c++)u.push(l);return u}(l,"?"),new Ae(204,!1);const u=function $r(s){const l=s&&(s[bo]||s[Wn]);if(l){const u=function Pn(s){if(s.hasOwnProperty("name"))return s.name;const l=(""+s).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Ae(204,!1)}function Gv(s,l,u){let c;if(Dc(s)){const h=Y(s);return Us(h)||k_(h)}if(x_(s))c=()=>Y(s.useValue);else if(function hb(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...Ks(s.deps||[]));else if(function db(s){return!(!s||!s.useExisting)}(s))c=()=>Zn(Y(s.useExisting));else{const h=Y(s&&(s.useClass||s.provide));if(!function Hv(s){return!!s.deps}(s))return Us(h)||k_(h);c=()=>new h(...Ks(s.deps))}return c}function Al(s,l,u=!1){return{factory:s,value:l,multi:u?[]:void 0}}function Sc(s){return!!s.\u0275providers}function ta(s,l){for(const u of s)Array.isArray(u)?ta(u,l):Sc(u)?ta(u.\u0275providers,l):l(u)}class ho{}class xc{resolveComponentFactory(l){throw function N_(s){const l=Error(`No component factory found for ${de(s)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=s,l}(l)}}let Il=(()=>{class s{}return s.NULL=new xc,s})();function Pe(){return Cr(Gn(),Ie())}function Cr(s,l){return new El(Qr(s,l))}let El=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=Pe,s})();function Wv(s){return s instanceof El?s.nativeElement:s}class na{}let Dl=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function po(){const s=Ie(),u=dr(Gn().index,s);return(pt(u)?u:s)[11]}(),s})(),$a=(()=>{class s{}return s.\u0275prov=sn({token:s,providedIn:"root",factory:()=>null}),s})();class Qv{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Zc=new Qv("14.1.3"),lh={};function Qp(s){return s.ngOriginalError}class kc{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Qp(l);for(;u&&Qp(u);)u=Qp(u);return u||null}}const Iu=new Map;let Cb=0;const Nc="__ngContext__";function go(s,l){pt(l)?(s[Nc]=l[20],function Tb(s){Iu.set(s[20],s)}(l)):s[Nc]=l}function Su(s){const l=s[Nc];return"number"==typeof l?function F_(s){return Iu.get(s)||null}(l):l||null}function Uc(s){const l=Su(s);return l?pt(l)?l:l.lView:null}const Eb=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(nt))();function l0(s){return s.ownerDocument.defaultView}function Uo(s){return s instanceof Function?s():s}var Yo=(()=>((Yo=Yo||{})[Yo.Important=1]="Important",Yo[Yo.DashCase=2]="DashCase",Yo))();function eg(s,l){return undefined(s,l)}function ch(s){const l=s[3];return Io(l)?l[3]:l}function H_(s){return Rc(s[13])}function dh(s){return Rc(s[4])}function Rc(s){for(;null!==s&&!Io(s);)s=s[4];return s}function xl(s,l,u,c,h){if(null!=c){let g,m=!1;Io(c)?g=c:pt(c)&&(m=!0,c=c[0]);const C=Qn(c);0===s&&null!==u?null==h?Y_(l,u,C):xu(l,u,C,h||null,!0):1===s&&null!==u?xu(l,u,C,h||null,!0):2===s?function og(s,l,u){const c=Oc(s,l);c&&function y0(s,l,u,c){s.removeChild(l,u,c)}(s,c,l,u)}(l,C,m):3===s&&l.destroyNode(C),null!=g&&function gh(s,l,u,c,h){const g=u[7];g!==Qn(u)&&xl(l,s,c,g,h);for(let C=10;C<u.length;C++){const b=u[C];ku(b[1],b,s,l,c,g)}}(l,s,g,u,h)}}function _s(s,l,u){return s.createElement(l,u)}function p0(s,l){const u=s[9],c=u.indexOf(l),h=l[3];512&l[2]&&(l[2]&=-513,Xi(h,-1)),u.splice(c,1)}function z_(s,l){if(s.length<=10)return;const u=10+l,c=s[u];if(c){const h=c[17];null!==h&&h!==s&&p0(h,c),l>0&&(s[u-1][4]=c[4]);const g=Va(s,10+l);!function Q_(s,l){ku(s,l,l[11],2,null,null),l[0]=null,l[6]=null}(c[1],c);const m=g[19];null!==m&&m.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function g0(s,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&ku(s,l,u,3,null,null),function h0(s){let l=s[13];if(!l)return K_(s[1],s);for(;l;){let u=null;if(pt(l))u=l[13];else{const c=l[10];c&&(u=c)}if(!u){for(;l&&!l[4]&&l!==s;)pt(l)&&K_(l[1],l),l=l[3];null===l&&(l=s),pt(l)&&K_(l[1],l),u=l&&l[4]}l=u}}(l)}}function K_(s,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function kb(s,l){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const h=l[u[c]];if(!(h instanceof js)){const g=u[c+1];if(Array.isArray(g))for(let m=0;m<g.length;m+=2){const C=h[g[m]],b=g[m+1];try{b.call(C)}finally{}}else try{g.call(h)}finally{}}}}(s,l),function Zb(s,l){const u=s.cleanup,c=l[7];let h=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const m=u[g+1],C="function"==typeof m?m(l):Qn(l[m]),b=c[h=u[g+2]],E=u[g+3];"boolean"==typeof E?C.removeEventListener(u[g],b,E):E>=0?c[h=E]():c[h=-E].unsubscribe(),g+=2}else{const m=c[h=u[g+1]];u[g].call(m)}if(null!==c){for(let g=h+1;g<c.length;g++)(0,c[g])();l[7]=null}}(s,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&Io(l[3])){u!==l[3]&&p0(u,l);const c=l[19];null!==c&&c.detachView(s)}!function q_(s){Iu.delete(s[20])}(l)}}function f0(s,l,u){return function _0(s,l,u){let c=l;for(;null!==c&&40&c.type;)c=(l=c).parent;if(null===c)return u[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===at.None||h===at.Emulated)return null}return Qr(c,u)}(s,l.parent,u)}function xu(s,l,u,c,h){s.insertBefore(l,u,c,h)}function Y_(s,l,u){s.appendChild(l,u)}function m0(s,l,u,c,h){null!==c?xu(s,l,u,c,h):Y_(s,l,u)}function Oc(s,l){return s.parentNode(l)}let em=function X_(s,l,u){return 40&s.type?Qr(s,u):null};function hh(s,l,u,c){const h=f0(s,c,l),g=l[11],C=function Zu(s,l,u){return em(s,l,u)}(c.parent||l[6],c,l);if(null!=h)if(Array.isArray(u))for(let b=0;b<u.length;b++)m0(g,h,u[b],C,!1);else m0(g,h,u,C,!1)}function ng(s,l){if(null!==l){const u=l.type;if(3&u)return Qr(l,s);if(4&u)return rg(-1,s[l.index]);if(8&u){const c=l.child;if(null!==c)return ng(s,c);{const h=s[l.index];return Io(h)?rg(-1,h):Qn(h)}}if(32&u)return eg(l,s)()||Qn(s[l.index]);{const c=ph(s,l);return null!==c?Array.isArray(c)?c[0]:ng(ch(s[16]),c):ng(s,l.next)}}return null}function ph(s,l){return null!==l?s[16][6].projection[l.projection]:null}function rg(s,l){const u=10+s+1;if(u<l.length){const c=l[u],h=c[1].firstChild;if(null!==h)return ng(c,h)}return l[7]}function ig(s,l,u,c,h,g,m){for(;null!=u;){const C=c[u.index],b=u.type;if(m&&0===l&&(C&&go(Qn(C),c),u.flags|=4),64!=(64&u.flags))if(8&b)ig(s,l,u.child,c,h,g,!1),xl(l,s,h,C,g);else if(32&b){const E=eg(u,c);let k;for(;k=E();)xl(l,s,h,k,g);xl(l,s,h,C,g)}else 16&b?C0(s,l,c,u,h,g):xl(l,s,h,C,g);u=m?u.projectionNext:u.next}}function ku(s,l,u,c,h,g){ig(u,c,s.firstChild,l,h,g,!1)}function C0(s,l,u,c,h,g){const m=u[16],b=m[6].projection[c.projection];if(Array.isArray(b))for(let E=0;E<b.length;E++)xl(l,s,h,b[E],g);else ig(s,l,b,m[3],h,g,!0)}function T0(s,l,u){s.setAttribute(l,"style",u)}function fh(s,l,u){""===u?s.removeAttribute(l,"class"):s.setAttribute(l,"class",u)}function rm(s,l,u){let c=s.length;for(;;){const h=s.indexOf(l,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=l.length;if(h+g===c||s.charCodeAt(h+g)<=32)return h}u=h+1}}const om="ng-template";function w0(s,l,u){let c=0;for(;c<s.length;){let h=s[c++];if(u&&"class"===h){if(h=s[c],-1!==rm(h.toLowerCase(),l,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===l)return!0;return!1}}return!1}function b0(s){return 4===s.type&&s.value!==om}function _h(s,l,u){return l===(4!==s.type||u?s.value:om)}function sg(s,l,u){let c=4;const h=s.attrs||[],g=function E0(s){for(let l=0;l<s.length;l++)if(au(s[l]))return l;return s.length}(h);let m=!1;for(let C=0;C<l.length;C++){const b=l[C];if("number"!=typeof b){if(!m)if(4&c){if(c=2|1&c,""!==b&&!_h(s,b,u)||""===b&&1===l.length){if(Xo(c))return!1;m=!0}}else{const E=8&c?b:l[++C];if(8&c&&null!==s.attrs){if(!w0(s.attrs,E,u)){if(Xo(c))return!1;m=!0}continue}const R=Mb(8&c?"class":b,h,b0(s),u);if(-1===R){if(Xo(c))return!1;m=!0;continue}if(""!==E){let W;W=R>g?"":h[R+1].toLowerCase();const ne=8&c?W:null;if(ne&&-1!==rm(ne,E,0)||2&c&&E!==W){if(Xo(c))return!1;m=!0}}}}else{if(!m&&!Xo(c)&&!Xo(b))return!1;if(m&&Xo(b))continue;m=!1,c=b|1&c}}return Xo(c)||m}function Xo(s){return 0==(1&s)}function Mb(s,l,u,c){if(null===l)return-1;let h=0;if(c||!u){let g=!1;for(;h<l.length;){const m=l[h];if(m===s)return h;if(3===m||6===m)g=!0;else{if(1===m||2===m){let C=l[++h];for(;"string"==typeof C;)C=l[++h];continue}if(4===m)break;if(0===m){h+=4;continue}}h+=g?1:2}return-1}return function f2(s,l){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===l)return u;u++}return-1}(l,s)}function A0(s,l,u=!1){for(let c=0;c<l.length;c++)if(sg(s,l[c],u))return!0;return!1}function Pb(s,l){return s?":not("+l.trim()+")":l}function m2(s){let l=s[0],u=1,c=2,h="",g=!1;for(;u<s.length;){let m=s[u];if("string"==typeof m)if(2&c){const C=s[++u];h+="["+m+(C.length>0?'="'+C+'"':"")+"]"}else 8&c?h+="."+m:4&c&&(h+=" "+m);else""!==h&&!Xo(m)&&(l+=Pb(g,h),h=""),c=m,g=g||!Xo(c);u++}return""!==h&&(l+=Pb(g,h)),l}const Gt={};function D0(s){ag($t(),Ie(),zn()+s,!1)}function ag(s,l,u,c){if(!c)if(3==(3&l[2])){const g=s.preOrderCheckHooks;null!==g&&fc(l,g,u)}else{const g=s.preOrderHooks;null!==g&&_c(l,g,0,u)}Ho(u)}function mh(s,l=null,u=null,c){const h=Lc(s,l,u,c);return h.resolveInjectorInitializers(),h}function Lc(s,l=null,u=null,c,h=new Set){const g=[u||jt,cb(s)];return c=c||("object"==typeof s?void 0:de(s)),new Z_(g,l||bl(),c||null,h)}let Nu=(()=>{class s{static create(u,c){var h;if(Array.isArray(u))return mh({name:""},c,u,"");{const g=null!==(h=u.name)&&void 0!==h?h:"";return mh({name:g},u.parent,u.providers,g)}}}return s.THROW_IF_NOT_FOUND=_l,s.NULL=new E_,s.\u0275prov=sn({token:s,providedIn:"any",factory:()=>Zn(lb)}),s.__NG_ELEMENT_ID__=-1,s})();function qc(s,l=yt.Default){const u=Ie();return null===u?Zn(s,l):Pa(Gn(),u,Y(s),l)}function O0(){throw new Error("invalid")}function vh(s,l){return s<<17|l<<2}function Oi(s){return s>>17&32767}function gg(s){return 2|s}function hi(s){return(131068&s)>>2}function fg(s,l){return-131069&s|l<<2}function am(s){return 1|s}function $0(s,l){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const h=u[c],g=u[c+1];if(-1!==g){const m=s.data[g];nu(h),m.contentQueries(2,l[g],g)}}}function Yn(s,l,u,c,h,g,m,C,b,E,k){const R=l.blueprint.slice();return R[0]=h,R[2]=76|c,(null!==k||s&&1024&s[2])&&(R[2]|=1024),Si(R),R[3]=R[15]=s,R[8]=u,R[10]=m||s&&s[10],R[11]=C||s&&s[11],R[12]=b||s&&s[12]||null,R[9]=E||s&&s[9]||null,R[6]=g,R[20]=function Eu(){return Cb++}(),R[21]=k,R[16]=2==l.type?s[16]:R,R}function Vc(s,l,u,c,h){let g=s.data[l];if(null===g)g=function Cg(s,l,u,c,h){const g=ns(),m=Yl(),b=s.data[l]=function dA(s,l,u,c,h,g){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?g:g&&g.parent,u,l,c,h);return null===s.firstChild&&(s.firstChild=b),null!==g&&(m?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b)),b}(s,l,u,c,h),function kd(){return Dt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=c,g.attrs=h;const m=function Os(){const s=Dt.lFrame,l=s.currentTNode;return s.isParent?l:l.parent}();g.injectorIndex=null===m?-1:m.injectorIndex}return Lr(g,!0),g}function Ml(s,l,u,c){if(0===u)return-1;const h=l.length;for(let g=0;g<u;g++)l.push(c),s.blueprint.push(c),s.data.push(null);return h}function fo(s,l,u){qs(l);try{const c=s.viewQuery;null!==c&&Ih(1,c,u);const h=s.template;null!==h&&mm(s,l,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&$0(s,l),s.staticViewQueries&&Ih(2,s.viewQuery,u);const g=s.components;null!==g&&function G0(s,l){for(let u=0;u<l.length;u++)Ja(s,l[u])}(l,g)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{l[2]&=-5,ll()}}function bh(s,l,u,c){const h=l[2];if(128!=(128&h)){qs(l);try{Si(l),function Xl(s){return Dt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&mm(s,l,u,2,c);const m=3==(3&h);if(m){const E=s.preOrderCheckHooks;null!==E&&fc(l,E,null)}else{const E=s.preOrderHooks;null!==E&&_c(l,E,0,null),Za(l,0)}if(function vA(s){for(let l=H_(s);null!==l;l=dh(l)){if(!l[2])continue;const u=l[9];for(let c=0;c<u.length;c++){const h=u[c],g=h[3];0==(512&h[2])&&Xi(g,1),h[2]|=512}}}(l),function yA(s){for(let l=H_(s);null!==l;l=dh(l))for(let u=10;u<l.length;u++){const c=l[u],h=c[1];jo(c)&&bh(h,c,h.template,c[8])}}(l),null!==s.contentQueries&&$0(s,l),m){const E=s.contentCheckHooks;null!==E&&fc(l,E)}else{const E=s.contentHooks;null!==E&&_c(l,E,1),Za(l,1)}!function aA(s,l){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const h=u[c];if(h<0)Ho(~h);else{const g=h,m=u[++c],C=u[++c];sl(m,g),C(2,l[g])}}}finally{Ho(-1)}}(s,l);const C=s.components;null!==C&&function lA(s,l){for(let u=0;u<l.length;u++)o1(s,l[u])}(l,C);const b=s.viewQuery;if(null!==b&&Ih(2,b,c),m){const E=s.viewCheckHooks;null!==E&&fc(l,E)}else{const E=s.viewHooks;null!==E&&_c(l,E,2),Za(l,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Xi(l[3],-1))}finally{ll()}}}function uA(s,l,u,c){const h=l[10],m=Yi(l);try{!m&&h.begin&&h.begin(),m&&fo(s,l,c),bh(s,l,u,c)}finally{!m&&h.end&&h.end()}}function mm(s,l,u,c,h){const g=zn(),m=2&c;try{Ho(-1),m&&l.length>22&&ag(s,l,22,!1),u(c,h)}finally{Ho(g)}}function cA(s,l,u){if(Ii(l)){const h=l.directiveEnd;for(let g=l.directiveStart;g<h;g++){const m=s.data[g];m.contentQueries&&m.contentQueries(1,u[g],g)}}}function H0(s,l,u){!Ps()||(function gA(s,l,u,c){const h=u.directiveStart,g=u.directiveEnd;s.firstCreatePass||oi(u,l),go(c,l);const m=u.initialInputs;for(let C=h;C<g;C++){const b=s.data[C],E=Bo(b);E&&Rl(l,u,b);const k=ii(l,s,C,u);go(k,l),null!==m&&ia(0,C-h,k,b,0,m),E&&(dr(u.index,l)[8]=k)}}(s,l,u,Qr(u,l)),128==(128&u.flags)&&function X0(s,l,u){const c=u.directiveStart,h=u.directiveEnd,g=u.index,m=function tu(){return Dt.lFrame.currentDirectiveIndex}();try{Ho(g);for(let C=c;C<h;C++){const b=s.data[C],E=l[C];Ea(C),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&e1(b,E)}}finally{Ho(-1),Ea(m)}}(s,l,u))}function Tg(s,l,u=Qr){const c=l.localNames;if(null!==c){let h=l.index+1;for(let g=0;g<c.length;g+=2){const m=c[g+1],C=-1===m?u(l,s):s[m];s[h++]=C}}}function ym(s){const l=s.tView;return null===l||l.incompleteFirstPass?s.tView=vm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):l}function vm(s,l,u,c,h,g,m,C,b,E){const k=22+c,R=k+h,W=function Pl(s,l){const u=[];for(let c=0;c<l;c++)u.push(c<s?null:Gt);return u}(k,R),ne="function"==typeof E?E():E;return W[1]={type:s,blueprint:W,template:u,queries:null,viewQuery:C,declTNode:l,data:W.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:ne,incompleteFirstPass:!1}}function Cm(s,l,u,c){const h=Em(l);null===u?h.push(c):(h.push(u),s.firstCreatePass&&Ig(s).push(c,h.length-1))}function W0(s,l,u){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(l,h):u[c]=[l,h]}return u}function Q0(s,l){const c=l.directiveEnd,h=s.data,g=l.attrs,m=[];let C=null,b=null;for(let E=l.directiveStart;E<c;E++){const k=h[E],R=k.inputs,W=null===g||b0(l)?null:N2(R,g);m.push(W),C=W0(R,E,C),b=W0(k.outputs,E,b)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=m,l.inputs=C,l.outputs=b}function K0(s,l){const u=dr(l,s);16&u[2]||(u[2]|=32)}function Tm(s,l,u,c){let h=!1;if(Ps()){const g=function bm(s,l,u){const c=s.directiveRegistry;let h=null;if(c)for(let g=0;g<c.length;g++){const m=c[g];A0(u,m.selectors,!1)&&(h||(h=[]),ss(oi(u,l),s,m.type),Bo(m)?(t1(s,u),h.unshift(m)):h.push(m))}return h}(s,l,u),m=null===c?null:{"":-1};if(null!==g){h=!0,mA(u,s.data.length,g.length);for(let k=0;k<g.length;k++){const R=g[k];R.providersResolver&&R.providersResolver(R)}let C=!1,b=!1,E=Ml(s,l,g.length,null);for(let k=0;k<g.length;k++){const R=g[k];u.mergedAttrs=Hs(u.mergedAttrs,R.hostAttrs),n1(s,u,l,E,R),_A(E,R,m),null!==R.contentQueries&&(u.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(u.flags|=128);const W=R.type.prototype;!C&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),C=!0),!b&&(W.ngOnChanges||W.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),b=!0),E++}Q0(s,u)}m&&function fA(s,l,u){if(l){const c=s.localNames=[];for(let h=0;h<l.length;h+=2){const g=u[l[h+1]];if(null==g)throw new Ae(-301,!1);c.push(l[h],g)}}}(u,c,m)}return u.mergedAttrs=Hs(u.mergedAttrs,u.attrs),h}function wm(s,l,u,c,h,g){const m=g.hostBindings;if(m){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const b=~l.index;(function pA(s){let l=s.length;for(;l>0;){const u=s[--l];if("number"==typeof u&&u<0)return u}return 0})(C)!=b&&C.push(b),C.push(c,h,m)}}function e1(s,l){null!==s.hostBindings&&s.hostBindings(1,l)}function t1(s,l){l.flags|=2,(s.components||(s.components=[])).push(l.index)}function _A(s,l,u){if(u){if(l.exportAs)for(let c=0;c<l.exportAs.length;c++)u[l.exportAs[c]]=s;Bo(l)&&(u[""]=s)}}function mA(s,l,u){s.flags|=1,s.directiveStart=l,s.directiveEnd=l+u,s.providerIndexes=l}function n1(s,l,u,c,h){s.data[c]=h;const g=h.factory||(h.factory=Us(h.type)),m=new js(g,Bo(h),qc);s.blueprint[c]=m,u[c]=m,wm(s,l,0,c,Ml(s,u,h.hostVars,Gt),h)}function Rl(s,l,u){const c=Qr(l,s),h=ym(u),g=s[10],m=bg(s,Yn(s,h,null,u.onPush?32:16,c,l,g,g.createRenderer(c,u),null,null,null));s[l.index]=m}function ms(s,l,u,c,h,g){const m=Qr(s,l);!function wg(s,l,u,c,h,g,m){if(null==g)s.removeAttribute(l,h,u);else{const C=null==m?ve(g):m(g,c||"",h);s.setAttribute(l,h,C,u)}}(l[11],m,g,s.value,u,c,h)}function ia(s,l,u,c,h,g){const m=g[l];if(null!==m){const C=c.setInput;for(let b=0;b<m.length;){const E=m[b++],k=m[b++],R=m[b++];null!==C?c.setInput(u,R,E,k):u[k]=R}}}function N2(s,l){let u=null,c=0;for(;c<l.length;){const h=l[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,s[h],l[c+1])),c+=2}else c+=2;else c+=4}return u}function r1(s,l,u,c){return new Array(s,!0,!1,l,null,0,c,u,null,null)}function o1(s,l){const u=dr(l,s);if(jo(u)){const c=u[1];48&u[2]?bh(c,u,c.template,u[8]):u[5]>0&&Bc(u)}}function Bc(s){for(let c=H_(s);null!==c;c=dh(c))for(let h=10;h<c.length;h++){const g=c[h];if(jo(g))if(512&g[2]){const m=g[1];bh(m,g,m.template,g[8])}else g[5]>0&&Bc(g)}const u=s[1].components;if(null!==u)for(let c=0;c<u.length;c++){const h=dr(u[c],s);jo(h)&&h[5]>0&&Bc(h)}}function Ja(s,l){const u=dr(l,s),c=u[1];(function M2(s,l){for(let u=l.length;u<s.blueprint.length;u++)l.push(s.blueprint[u])})(c,u),fo(c,u,u[8])}function bg(s,l){return s[13]?s[14][4]=l:s[13]=l,s[14]=l,l}function Am(s){for(;s;){s[2]|=32;const l=ch(s);if(rc(s)&&!l)return s;s=l}return null}function s1(s){!function Im(s){for(let l=0;l<s.components.length;l++){const u=s.components[l],c=Uc(u);if(null!==c){const h=c[1];uA(h,c,h.template,u)}}}(s[8])}function Ih(s,l,u){nu(0),l(s,u)}const je=(()=>Promise.resolve(null))();function Em(s){return s[7]||(s[7]=[])}function Ig(s){return s.cleanup||(s.cleanup=[])}function Dm(s,l){const u=s[9],c=u?u.get(kc,null):null;c&&c.handleError(l)}function jc(s,l,u,c,h){for(let g=0;g<u.length;){const m=u[g++],C=u[g++],b=l[m],E=s.data[m];null!==E.setInput?E.setInput(b,h,c,C):b[C]=h}}function Wa(s,l,u){const c=ba(l,s);!function W_(s,l,u){s.setValue(l,u)}(s[11],c,u)}function Sm(s,l,u){let c=u?s.styles:null,h=u?s.classes:null,g=0;if(null!==l)for(let m=0;m<l.length;m++){const C=l[m];"number"==typeof C?g=C:1==g?h=me(h,C):2==g&&(c=me(c,C+": "+l[++m]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=h:s.classesWithoutHost=h}function xm(s,l,u,c,h=!1){for(;null!==u;){const g=l[u.index];if(null!==g&&c.push(Qn(g)),Io(g))for(let C=10;C<g.length;C++){const b=g[C],E=b[1].firstChild;null!==E&&xm(b[1],b,E,c)}const m=u.type;if(8&m)xm(s,l,u.child,c);else if(32&m){const C=eg(u,l);let b;for(;b=C();)c.push(b)}else if(16&m){const C=ph(l,u);if(Array.isArray(C))c.push(...C);else{const b=ch(l[16]);xm(b[1],b,C,c,!0)}}u=h?u.projectionNext:u.next}return c}class Eg{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return xm(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Io(l)){const u=l[8],c=u?u.indexOf(this):-1;c>-1&&(z_(l,c),Va(u,c))}this._attachedToViewContainer=!1}g0(this._lView[1],this._lView)}onDestroy(l){Cm(this._lView[1],this._lView,null,l)}markForCheck(){Am(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Ag(s,l,u){const c=l[10];c.begin&&c.begin();try{bh(s,l,s.template,u)}catch(h){throw Dm(l,h),h}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function tg(s,l){ku(s,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=l}}class P2 extends Eg{constructor(l){super(l),this._view=l}detectChanges(){s1(this._view)}checkNoChanges(){}get context(){return null}}class l1 extends Il{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=O(l);return new Dg(u,this.ngModule)}}function CA(s){const l=[];for(let u in s)s.hasOwnProperty(u)&&l.push({propName:s[u],templateName:u});return l}class O2{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,c){const h=this.injector.get(l,lh,c);return h!==lh||u===lh?h:this.parentInjector.get(l,u,c)}}class Dg extends ho{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function im(s){return s.map(m2).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return CA(this.componentDef.inputs)}get outputs(){return CA(this.componentDef.outputs)}create(l,u,c,h){let g=(h=h||this.ngModule)instanceof bu?h:null==h?void 0:h.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const m=g?new O2(l,g):l,C=m.get(na,null);if(null===C)throw new Ae(407,!1);const b=m.get($a,null),E=C.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",R=c?function J0(s,l,u){return s.selectRootElement(l,u===at.ShadowDom)}(E,c,this.componentDef.encapsulation):_s(C.createRenderer(null,this.componentDef),k,function R2(s){const l=s.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(k)),W=this.componentDef.onPush?288:272,ne=function wA(s,l){return{components:[],scheduler:s||Eb,clean:je,playerHandler:l||null,flags:0}}(),be=vm(0,null,null,1,0,null,null,null,null,null),Fe=Yn(null,be,ne,W,null,null,C,E,b,m,null);let Qe,lt;qs(Fe);try{const St=function Zm(s,l,u,c,h,g){const m=u[1];u[22]=s;const b=Vc(m,22,2,"#host",null),E=b.mergedAttrs=l.hostAttrs;null!==E&&(Sm(b,E,!0),null!==s&&(ka(h,s,E),null!==b.classes&&fh(h,s,b.classes),null!==b.styles&&T0(h,s,b.styles)));const k=c.createRenderer(s,l),R=Yn(u,ym(l),null,l.onPush?32:16,u[22],b,c,k,g||null,null,null);return m.firstCreatePass&&(ss(oi(b,u),m,l.type),t1(m,b),mA(b,u.length,1)),bg(u,R),u[22]=R}(R,this.componentDef,Fe,C,E);if(R)if(c)ka(E,R,["ng-version",Zc.full]);else{const{attrs:Ue,classes:It}=function Rb(s){const l=[],u=[];let c=1,h=2;for(;c<s.length;){let g=s[c];if("string"==typeof g)2===h?""!==g&&l.push(g,s[++c]):8===h&&u.push(g);else{if(!Xo(h))break;h=g}c++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Ue&&ka(E,R,Ue),It&&It.length>0&&fh(E,R,It.join(" "))}if(lt=Ki(be,22),void 0!==u){const Ue=lt.projection=[];for(let It=0;It<this.ngContentSelectors.length;It++){const Xt=u[It];Ue.push(null!=Xt?Array.from(Xt):null)}}Qe=function d1(s,l,u,c,h){const g=u[1],m=function Y0(s,l,u){const c=Gn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),n1(s,c,l,Ml(s,l,1,null),u),Q0(s,c));const h=ii(l,s,c.directiveStart,c);go(h,l);const g=Qr(c,l);return g&&go(g,l),h}(g,u,l);if(c.components.push(m),s[8]=m,null!==h)for(const b of h)b(m,l);if(l.contentQueries){const b=Gn();l.contentQueries(1,m,b.directiveStart)}const C=Gn();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Ho(C.index),wm(u[1],C,0,C.directiveStart,C.directiveEnd,l),e1(l,m)),m}(St,this.componentDef,Fe,ne,[km]),fo(be,Fe,null)}finally{ll()}return new u1(this.componentType,Qe,Cr(lt,Fe),Fe,lt)}}class u1 extends class Jv{}{constructor(l,u,c,h,g){super(),this.location=c,this._rootLView=h,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new P2(h),this.componentType=l}setInput(l,u){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[l])){const g=this._rootLView;jc(g[1],g,h,l,u),K0(g,this._tNode.index)}}get injector(){return new Wo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function km(){const s=Gn();iu(Ie()[1],s)}function h1(s){let l=function bA(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;l;){let h;if(Bo(s))h=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ae(903,!1);h=l.\u0275dir}if(h){if(u){c.push(h);const m=s;m.inputs=Nm(s.inputs),m.declaredInputs=Nm(s.declaredInputs),m.outputs=Nm(s.outputs);const C=h.hostBindings;C&&ys(s,C);const b=h.viewQuery,E=h.contentQueries;if(b&&q2(s,b),E&&V2(s,E),fe(s.inputs,h.inputs),fe(s.declaredInputs,h.declaredInputs),fe(s.outputs,h.outputs),Bo(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let m=0;m<g.length;m++){const C=g[m];C&&C.ngInherit&&C(s),C===h1&&(u=!1)}}l=Object.getPrototypeOf(l)}!function AA(s){let l=0,u=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=l+=h.hostVars,h.hostAttrs=Hs(h.hostAttrs,u=Hs(u,h.hostAttrs))}}(c)}function Nm(s){return s===xn?{}:s===jt?[]:s}function q2(s,l){const u=s.viewQuery;s.viewQuery=u?(c,h)=>{l(c,h),u(c,h)}:l}function V2(s,l){const u=s.contentQueries;s.contentQueries=u?(c,h,g)=>{l(c,h,g),u(c,h,g)}:l}function ys(s,l){const u=s.hostBindings;s.hostBindings=u?(c,h)=>{l(c,h),u(c,h)}:l}let $c=null;function Ou(){if(!$c){const s=nt.Symbol;if(s&&s.iterator)$c=s.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const c=l[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&($c=c)}}}return $c}function Eh(s){return!!Sg(s)&&(Array.isArray(s)||!(s instanceof Map)&&Ou()in s)}function Sg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function sa(s,l,u){return s[l]=u}function eo(s,l,u){return!Object.is(s[l],u)&&(s[l]=u,!0)}function Lu(s,l,u,c){const h=eo(s,l,u);return eo(s,l+1,c)||h}function Um(s,l,u,c){const h=Ie();return eo(h,os(),l)&&($t(),ms(In(),h,s,l,u,c)),Um}function Sh(s,l,u,c,h,g,m,C){const E=function xg(s,l,u,c,h){const g=Lu(s,l,u,c);return eo(s,l+2,h)||g}(s,uo(),u,h,m);return So(3),E?l+ve(u)+c+ve(h)+g+ve(m)+C:Gt}function T1(s,l,u,c,h,g,m,C){const b=Ie(),E=$t(),k=s+22,R=E.firstCreatePass?function xA(s,l,u,c,h,g,m,C,b){const E=l.consts,k=Vc(l,s,4,m||null,$o(E,C));Tm(l,u,k,$o(E,b)),iu(l,k);const R=k.tViews=vm(2,k,c,h,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,E);return null!==l.queries&&(l.queries.template(l,k),R.queries=l.queries.embeddedTView(k)),k}(k,E,b,l,u,c,h,g,m):E.data[k];Lr(R,!1);const W=b[11].createComment("");hh(E,b,W,R),go(W,b),bg(b,b[k]=r1(W,b,W,R)),Hi(R)&&H0(E,b,R),null!=m&&Tg(b,R,C)}function Pm(s,l,u){const c=Ie();return eo(c,os(),l)&&function pi(s,l,u,c,h,g,m,C){const b=Qr(l,u);let k,E=l.inputs;!C&&null!=E&&(k=E[c])?(jc(s,u,k,c,h),va(l)&&K0(u,l.index)):3&l.type&&(c=function z0(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=m?m(h,l.value||"",c):h,g.setProperty(b,c,h))}($t(),In(),c,s,l,c[11],u,!1),Pm}function Rm(s,l,u,c,h){const m=h?"class":"style";jc(s,u,l.inputs[m],m,c)}function Zg(s,l,u,c){const h=Ie(),g=$t(),m=22+s,C=h[11],b=h[m]=_s(C,l,function gc(){return Dt.lFrame.currentNamespace}()),E=g.firstCreatePass?function NA(s,l,u,c,h,g,m){const C=l.consts,E=Vc(l,s,2,h,$o(C,g));return Tm(l,u,E,$o(C,m)),null!==E.attrs&&Sm(E,E.attrs,!1),null!==E.mergedAttrs&&Sm(E,E.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,E),E}(m,g,h,0,l,u,c):g.data[m];Lr(E,!0);const k=E.mergedAttrs;null!==k&&ka(C,b,k);const R=E.classes;null!==R&&fh(C,b,R);const W=E.styles;return null!==W&&T0(C,b,W),64!=(64&E.flags)&&hh(g,h,b,E),0===function Aa(){return Dt.lFrame.elementDepthCount}()&&go(b,h),function dc(){Dt.lFrame.elementDepthCount++}(),Hi(E)&&(H0(g,h,E),cA(g,E,h)),null!==c&&Tg(h,E),Zg}function kg(){let s=Gn();Yl()?rs():(s=s.parent,Lr(s,!1));const l=s;!function xi(){Dt.lFrame.elementDepthCount--}();const u=$t();return u.firstCreatePass&&(iu(u,s),Ii(s)&&u.queries.elementEnd(s)),null!=l.classesWithoutHost&&function pr(s){return 0!=(16&s.flags)}(l)&&Rm(u,l,Ie(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Rd(s){return 0!=(32&s.flags)}(l)&&Rm(u,l,Ie(),l.stylesWithoutHost,!1),kg}function Om(s,l,u,c){return Zg(s,l,u,c),kg(),Om}function qu(s,l,u){const c=Ie(),h=$t(),g=s+22,m=h.firstCreatePass?function UA(s,l,u,c,h){const g=l.consts,m=$o(g,c),C=Vc(l,s,8,"ng-container",m);return null!==m&&Sm(C,m,!0),Tm(l,u,C,$o(g,h)),null!==l.queries&&l.queries.elementStart(l,C),C}(g,h,c,l,u):h.data[g];Lr(m,!0);const C=c[g]=c[11].createComment("");return hh(h,c,C,m),go(C,c),Hi(m)&&(H0(h,c,m),cA(h,m,c)),null!=u&&Tg(c,m),qu}function Ng(){let s=Gn();const l=$t();return Yl()?rs():(s=s.parent,Lr(s,!1)),l.firstCreatePass&&(iu(l,s),Ii(s)&&l.queries.elementEnd(s)),Ng}function b1(){return Ie()}function Lm(s){return!!s&&"function"==typeof s.then}function A1(s){return!!s&&"function"==typeof s.subscribe}const I1=A1;function Fm(s,l,u,c){const h=Ie(),g=$t(),m=Gn();return function Ll(s,l,u,c,h,g,m,C){const b=Hi(c),k=s.firstCreatePass&&Ig(s),R=l[8],W=Em(l);let ne=!0;if(3&c.type||C){const Qe=Qr(c,l),lt=C?C(Qe):Qe,St=W.length,Ue=C?Xt=>C(Qn(Xt[c.index])):c.index;let It=null;if(!C&&b&&(It=function MA(s,l,u,c){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const m=h[g];if(m===u&&h[g+1]===c){const C=l[7],b=h[g+2];return C.length>b?C[b]:null}"string"==typeof m&&(g+=2)}return null}(s,l,h,c.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=g,It.__ngLastListenerFn__=g,ne=!1;else{g=_i(c,l,R,g,!1);const Xt=u.listen(lt,h,g);W.push(g,Xt),k&&k.push(h,Ue,St,St+1)}}else g=_i(c,l,R,g,!1);const be=c.outputs;let Fe;if(ne&&null!==be&&(Fe=be[h])){const Qe=Fe.length;if(Qe)for(let lt=0;lt<Qe;lt+=2){const Bn=l[Fe[lt]][Fe[lt+1]].subscribe(g),Hu=W.length;W.push(g,Bn),k&&k.push(h,c.index,Hu,-(Hu+1))}}}(g,h,h[11],m,s,l,0,c),Fm}function Ug(s,l,u,c){try{return!1!==u(c)}catch(h){return Dm(s,h),!1}}function _i(s,l,u,c,h){return function g(m){if(m===Function)return c;Am(2&s.flags?dr(s.index,l):l);let b=Ug(l,0,c,m),E=g.__ngNextListenerFn__;for(;E;)b=Ug(l,0,E,m)&&b,E=E.__ngNextListenerFn__;return h&&!1===b&&(m.preventDefault(),m.returnValue=!1),b}}function D1(s=1){return function Nd(s){return(Dt.lFrame.contextLView=function xa(s,l){for(;s>0;)l=l[15],s--;return l}(s,Dt.lFrame.contextLView))[8]}(s)}function P1(s,l,u,c,h){const g=s[u+1],m=null===l;let C=c?Oi(g):hi(g),b=!1;for(;0!==C&&(!1===b||m);){const k=s[C+1];FA(s[C],l)&&(b=!0,s[C+1]=c?am(k):gg(k)),C=c?Oi(k):hi(k)}b&&(s[u+1]=c?gg(g):am(g))}function FA(s,l){return null===s||null==l||(Array.isArray(s)?s[1]:s)===l||!(!Array.isArray(s)||"string"!=typeof l)&&Ba(s,l)>=0}function Vm(s,l){return function Cs(s,l,u,c){const h=Ie(),g=$t(),m=So(2);g.firstUpdatePass&&function $1(s,l,u,c){const h=s.data;if(null===h[u+1]){const g=h[zn()],m=function j1(s,l){return l>=s.expandoStartIndex}(s,u);(function W1(s,l){return 0!=(s.flags&(l?16:32))})(g,c)&&null===l&&!m&&(l=!1),l=function WA(s,l,u,c){const h=function Da(s){const l=Dt.lFrame.currentDirectiveIndex;return-1===l?null:s[l]}(s);let g=c?l.residualClasses:l.residualStyles;if(null===h)0===(c?l.classBindings:l.styleBindings)&&(u=kh(u=Bm(null,s,l,u,c),l.attrs,c),g=null);else{const m=l.directiveStylingLast;if(-1===m||s[m]!==h)if(u=Bm(h,s,l,u,c),null===g){let b=function QA(s,l,u){const c=u?l.classBindings:l.styleBindings;if(0!==hi(c))return s[Oi(c)]}(s,l,c);void 0!==b&&Array.isArray(b)&&(b=Bm(null,s,l,b[1],c),b=kh(b,l.attrs,c),function Rg(s,l,u,c){s[Oi(u?l.classBindings:l.styleBindings)]=c}(s,l,c,b))}else g=function zA(s,l,u){let c;const h=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<h;g++)c=kh(c,s[g].hostAttrs,u);return kh(c,l.attrs,u)}(s,l,c)}return void 0!==g&&(c?l.residualClasses=g:l.residualStyles=g),u}(h,g,l,c),function LA(s,l,u,c,h,g){let m=g?l.classBindings:l.styleBindings,C=Oi(m),b=hi(m);s[c]=u;let k,E=!1;if(Array.isArray(u)){const R=u;k=R[1],(null===k||Ba(R,k)>0)&&(E=!0)}else k=u;if(h)if(0!==b){const W=Oi(s[C+1]);s[c+1]=vh(W,C),0!==W&&(s[W+1]=fg(s[W+1],c)),s[C+1]=function pg(s,l){return 131071&s|l<<17}(s[C+1],c)}else s[c+1]=vh(C,0),0!==C&&(s[C+1]=fg(s[C+1],c)),C=c;else s[c+1]=vh(b,0),0===C?C=c:s[b+1]=fg(s[b+1],c),b=c;E&&(s[c+1]=gg(s[c+1])),P1(s,k,c,!0),P1(s,k,c,!1),function la(s,l,u,c,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof l&&Ba(g,l)>=0&&(u[c+1]=am(u[c+1]))}(l,k,s,c,g),m=vh(C,b),g?l.classBindings=m:l.styleBindings=m}(h,g,l,u,m,c)}}(g,s,m,c),l!==Gt&&eo(h,m,l)&&function H1(s,l,u,c,h,g,m,C){if(!(3&l.type))return;const b=s.data,E=b[C+1];Og(function L0(s){return 1==(1&s)}(E)?J1(b,l,u,h,hi(E),m):void 0)||(Og(g)||function Ch(s){return 2==(2&s)}(E)&&(g=J1(b,null,u,h,C,m)),function Nb(s,l,u,c,h){if(l)h?s.addClass(u,c):s.removeClass(u,c);else{let g=-1===c.indexOf("-")?void 0:Yo.DashCase;null==h?s.removeStyle(u,c,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Yo.Important),s.setStyle(u,c,h,g))}}(c,m,ba(zn(),u),h,g))}(g,g.data[zn()],h,h[11],s,h[m+1]=function XA(s,l){return null==s||("string"==typeof l?s+=l:"object"==typeof s&&(s=de(fn(s)))),s}(l,u),c,m)}(s,l,null,!0),Vm}function Bm(s,l,u,c,h){let g=null;const m=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<m&&(g=l[C],c=kh(c,g.hostAttrs,h),g!==s);)C++;return null!==s&&(u.directiveStylingLast=C),c}function kh(s,l,u){const c=u?1:2;let h=-1;if(null!==l)for(let g=0;g<l.length;g++){const m=l[g];"number"==typeof m?h=m:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),vr(s,m,!!u||l[++g]))}return void 0===s?null:s}function J1(s,l,u,c,h,g){const m=null===l;let C;for(;h>0;){const b=s[h],E=Array.isArray(b),k=E?b[1]:b,R=null===k;let W=u[h+1];W===Gt&&(W=R?jt:void 0);let ne=R?Tc(W,c):k===c?W:void 0;if(E&&!Og(ne)&&(ne=Tc(b,c)),Og(ne)&&(C=ne,m))return C;const be=s[h+1];h=m?Oi(be):hi(be)}if(null!==l){let b=g?l.residualClasses:l.residualStyles;null!=b&&(C=Tc(b,c))}return C}function Og(s){return void 0!==s}function Q1(s,l=""){const u=Ie(),c=$t(),h=s+22,g=c.firstCreatePass?Vc(c,h,1,l,null):c.data[h],m=u[h]=function J_(s,l){return s.createText(l)}(u[11],l);hh(c,u,m,g),Lr(g,!1)}function jm(s){return Lg("",s,""),jm}function Lg(s,l,u){const c=Ie(),h=function gi(s,l,u,c){return eo(s,os(),u)?l+ve(u)+c:Gt}(c,s,l,u);return h!==Gt&&Wa(c,zn(),h),Lg}function $m(s,l,u,c,h){const g=Ie(),m=function Dh(s,l,u,c,h,g){const C=Lu(s,uo(),u,h);return So(2),C?l+ve(u)+c+ve(h)+g:Gt}(g,s,l,u,c,h);return m!==Gt&&Wa(g,zn(),m),$m}function Gm(s,l,u,c,h,g,m){const C=Ie(),b=Sh(C,s,l,u,c,h,g,m);return b!==Gt&&Wa(C,zn(),b),Gm}const Vu=void 0;var vI=["en",[["a","p"],["AM","PM"],Vu],[["AM","PM"],Vu,Vu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vu,"{1} 'at' {0}",Vu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yI(s){const u=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];let Wc={};function Hm(s){const l=function CI(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=gC(l);if(u)return u;const c=l.split("-")[0];if(u=gC(c),u)return u;if("en"===c)return vI;throw new Ae(701,!1)}function pC(s){return Hm(s)[xt.PluralCase]}function gC(s){return s in Wc||(Wc[s]=nt.ng&&nt.ng.common&&nt.ng.common.locales&&nt.ng.common.locales[s]),Wc[s]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const Qc="en-US";let fC=Qc;function Qm(s,l,u,c,h){if(s=Y(s),Array.isArray(s))for(let g=0;g<s.length;g++)Qm(s[g],l,u,c,h);else{const g=$t(),m=Ie();let C=Dc(s)?s:Y(s.provide),b=Gv(s);const E=Gn(),k=1048575&E.providerIndexes,R=E.directiveStart,W=E.providerIndexes>>20;if(Dc(s)||!s.multi){const ne=new js(b,h,qc),be=Km(C,l,h?k:k+W,R);-1===be?(ss(oi(E,m),g,C),zm(g,s,l.length),l.push(C),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),u.push(ne),m.push(ne)):(u[be]=ne,m[be]=ne)}else{const ne=Km(C,l,k+W,R),be=Km(C,l,k,k+W),Fe=ne>=0&&u[ne],Qe=be>=0&&u[be];if(h&&!Qe||!h&&!Fe){ss(oi(E,m),g,C);const lt=function hE(s,l,u,c,h){const g=new js(s,u,qc);return g.multi=[],g.index=l,g.componentProviders=0,VC(g,h,c&&!u),g}(h?dE:cE,u.length,h,c,b);!h&&Qe&&(u[be].providerFactory=lt),zm(g,s,l.length,0),l.push(C),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),u.push(lt),m.push(lt)}else zm(g,s,ne>-1?ne:be,VC(u[h?be:ne],b,!h&&c));!h&&c&&Qe&&u[be].componentProviders++}}}function zm(s,l,u,c){const h=Dc(l),g=function Ct(s){return!!s.useClass}(l);if(h||g){const b=(g?Y(l.useClass):l).prototype.ngOnDestroy;if(b){const E=s.destroyHooks||(s.destroyHooks=[]);if(!h&&l.multi){const k=E.indexOf(u);-1===k?E.push(u,[c,b]):E[k+1].push(c,b)}else E.push(u,b)}}}function VC(s,l,u){return u&&s.componentProviders++,s.multi.push(l)-1}function Km(s,l,u,c){for(let h=u;h<c;h++)if(l[h]===s)return h;return-1}function cE(s,l,u,c){return jg(this.multi,[])}function dE(s,l,u,c){const h=this.multi;let g;if(this.providerFactory){const m=this.providerFactory.componentProviders,C=ii(u,u[1],this.providerFactory.index,c);g=C.slice(0,m),jg(h,g);for(let b=m;b<C.length;b++)g.push(C[b])}else g=[],jg(h,g);return g}function jg(s,l){for(let u=0;u<s.length;u++)l.push((0,s[u])());return l}function BC(s,l=[]){return u=>{u.providersResolver=(c,h)=>function uE(s,l,u){const c=$t();if(c.firstCreatePass){const h=Bo(s);Qm(u,c.data,c.blueprint,h,!0),Qm(l,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,l)}}class zc{}class jC{}function pE(s,l){return new $C(s,null!=l?l:null)}class $C extends zc{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new l1(this);const c=oe(l);this._bootstrapComponents=Uo(c.bootstrap),this._r3Injector=Lc(l,u,[{provide:zc,useValue:this},{provide:Il,useValue:this.componentFactoryResolver}],de(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Ym extends jC{constructor(l){super(),this.moduleType=l}create(l){return new $C(this.moduleType,l)}}class gE extends zc{constructor(l,u,c){super(),this.componentFactoryResolver=new l1(this),this.instance=null;const h=new Z_([...l,{provide:zc,useValue:this},{provide:Il,useValue:this.componentFactoryResolver}],u||bl(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Xm(s,l,u=null){return new gE(s,l,u).injector}function zC(s,l,u){const c=hr()+s,h=Ie();return h[c]===Gt?sa(h,c,u?l.call(u):l()):function pn(s,l){return s[l]}(h,c)}function $g(s,l,u,c){return YC(Ie(),hr(),s,l,u,c)}function KC(s,l,u,c,h){return function XC(s,l,u,c,h,g,m){const C=l+u;return Lu(s,C,h,g)?sa(s,C+2,m?c.call(m,h,g):c(h,g)):Lh(s,C+2)}(Ie(),hr(),s,l,u,c,h)}function Lh(s,l){const u=s[l];return u===Gt?void 0:u}function YC(s,l,u,c,h,g){const m=l+u;return eo(s,m,h)?sa(s,m+1,g?c.call(g,h):c(h)):Lh(s,m+1)}function ny(s,l){const u=$t();let c;const h=s+22;u.firstCreatePass?(c=function kE(s,l){if(l)for(let u=l.length-1;u>=0;u--){const c=l[u];if(s===c.name)return c}}(l,u.pipeRegistry),u.data[h]=c,c.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,c.onDestroy)):c=u.data[h];const g=c.factory||(c.factory=Us(c.type)),m=cn(qc);try{const C=Ma(!1),b=g();return Ma(C),function ZA(s,l,u,c){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),l[u]=c}(u,Ie(),h,b),b}finally{cn(m)}}function rT(s,l,u){const c=s+22,h=Ie(),g=function ri(s,l){return s[l]}(h,c);return function Fh(s,l){return s[1].data[l].pure}(h,c)?YC(h,hr(),l,g.transform,u,g):g.transform(u)}function ry(s){return l=>{setTimeout(s,void 0,l)}}const pa=class PE extends e.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,c){var h,g,m;let C=l,b=u||(()=>null),E=c;if(l&&"object"==typeof l){const R=l;C=null===(h=R.next)||void 0===h?void 0:h.bind(R),b=null===(g=R.error)||void 0===g?void 0:g.bind(R),E=null===(m=R.complete)||void 0===m?void 0:m.bind(R)}this.__isAsync&&(b=ry(b),C&&(C=ry(C)),E&&(E=ry(E)));const k=super.subscribe({next:C,error:b,complete:E});return l instanceof V.w0&&l.add(k),k}};function RE(){return this._results[Ou()]()}class oy{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ou(),c=oy.prototype;c[u]||(c[u]=RE)}get changes(){return this._changes||(this._changes=new pa)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const c=this;c.dirty=!1;const h=ir(l);(this._changesDetected=!function Gd(s,l,u){if(s.length!==l.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],g=l[c];if(u&&(h=u(h),g=u(g)),g!==h)return!1}return!0}(c._results,h,u))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let qh=(()=>{class s{}return s.__NG_ELEMENT_ID__=FE,s})();const OE=qh,LE=class extends OE{constructor(l,u,c){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(l,u){const c=this._declarationTContainer.tViews,h=Yn(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null,u||null);h[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(h[19]=m.createEmbeddedView(c)),fo(c,h,l),new Eg(h)}};function FE(){return Gg(Gn(),Ie())}function Gg(s,l){return 4&s.type?new LE(l,s,Cr(s,l)):null}let Hg=(()=>{class s{}return s.__NG_ELEMENT_ID__=qE,s})();function qE(){return sT(Gn(),Ie())}const VE=Hg,oT=class extends VE{constructor(l,u,c){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=c}get element(){return Cr(this._hostTNode,this._hostLView)}get injector(){return new Wo(this._hostTNode,this._hostLView)}get parentInjector(){const l=dl(this._hostTNode,this._hostLView);if(Fd(l)){const u=rr(l,this._hostLView),c=Ua(l);return new Wo(u[1].data[c+8],u)}return new Wo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=iT(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,c){let h,g;"number"==typeof c?h=c:null!=c&&(h=c.index,g=c.injector);const m=l.createEmbeddedView(u||{},g);return this.insert(m,h),m}createComponent(l,u,c,h,g){const m=l&&!function Fa(s){return"function"==typeof s}(l);let C;if(m)C=u;else{const R=u||{};C=R.index,c=R.injector,h=R.projectableNodes,g=R.environmentInjector||R.ngModuleRef}const b=m?l:new Dg(O(l)),E=c||this.parentInjector;if(!g&&null==b.ngModule){const W=(m?E:this.parentInjector).get(bu,null);W&&(g=W)}const k=b.create(E,h,void 0,g);return this.insert(k.hostView,C),k}insert(l,u){const c=l._lView,h=c[1];if(function Di(s){return Io(s[3])}(c)){const k=this.indexOf(l);if(-1!==k)this.detach(k);else{const R=c[3],W=new oT(R,R[6],R[3]);W.detach(W.indexOf(l))}}const g=this._adjustIndex(u),m=this._lContainer;!function Sb(s,l,u,c){const h=10+c,g=u.length;c>0&&(u[h-1][4]=l),c<g-10?(l[4]=u[h],qa(u,10+c,l)):(u.push(l),l[4]=null),l[3]=u;const m=l[17];null!==m&&u!==m&&function xb(s,l){const u=s[9];l[16]!==l[3][3][16]&&(s[2]=!0),null===u?s[9]=[l]:u.push(l)}(m,l);const C=l[19];null!==C&&C.insertView(s),l[2]|=64}(h,c,m,g);const C=rg(g,m),b=c[11],E=Oc(b,m[7]);return null!==E&&function Zl(s,l,u,c,h,g){c[0]=h,c[6]=l,ku(s,c,u,1,h,g)}(h,m[6],b,c,E,C),l.attachToViewContainerRef(),qa(iy(m),g,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=iT(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),c=z_(this._lContainer,u);c&&(Va(iy(this._lContainer),u),g0(c[1],c))}detach(l){const u=this._adjustIndex(l,-1),c=z_(this._lContainer,u);return c&&null!=Va(iy(this._lContainer),u)?new Eg(c):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function iT(s){return s[8]}function iy(s){return s[8]||(s[8]=[])}function sT(s,l){let u;const c=l[s.index];if(Io(c))u=c;else{let h;if(8&s.type)h=Qn(c);else{const g=l[11];h=g.createComment("");const m=Qr(s,l);xu(g,Oc(g,m),h,function Ha(s,l){return s.nextSibling(l)}(g,m),!1)}l[s.index]=u=r1(c,l,h,s),bg(l,u)}return new oT(u,s,l)}class ay{constructor(l){this.queryList=l,this.matches=null}clone(){return new ay(this.queryList)}setDirty(){this.queryList.setDirty()}}class ly{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const c=null!==l.contentQueries?l.contentQueries[0]:u.length,h=[];for(let g=0;g<c;g++){const m=u.getByIndex(g);h.push(this.queries[m.indexInDeclarationView].clone())}return new ly(h)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==fT(l,u).matches&&this.queries[u].setDirty()}}class aT{constructor(l,u,c=null){this.predicate=l,this.flags=u,this.read=c}}class uy{constructor(l=[]){this.queries=l}elementStart(l,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let c=0;c<this.length;c++){const h=null!==u?u.length:0,g=this.getByIndex(c).embeddedTView(l,h);g&&(g.indexInDeclarationView=c,null!==u?u.push(g):u=[g])}return null!==u?new uy(u):null}template(l,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class cy{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new cy(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=l.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const g=c[h];this.matchTNodeWithReadOption(l,u,BE(u,g)),this.matchTNodeWithReadOption(l,u,Ra(u,l,g,!1,!1))}else c===qh?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Ra(u,l,c,!1,!1))}matchTNodeWithReadOption(l,u,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===El||h===Hg||h===qh&&4&u.type)this.addMatch(u.index,-2);else{const g=Ra(u,l,h,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,c)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function BE(s,l){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===l)return u[c+1];return null}function $E(s,l,u,c){return-1===u?function jE(s,l){return 11&s.type?Cr(s,l):4&s.type?Gg(s,l):null}(l,s):-2===u?function GE(s,l,u){return u===El?Cr(l,s):u===qh?Gg(l,s):u===Hg?sT(l,s):void 0}(s,l,c):ii(s,s[1],u,l)}function lT(s,l,u,c){const h=l[19].queries[c];if(null===h.matches){const g=s.data,m=u.matches,C=[];for(let b=0;b<m.length;b+=2){const E=m[b];C.push(E<0?null:$E(l,g[E],m[b+1],u.metadata.read))}h.matches=C}return h.matches}function dy(s,l,u,c){const h=s.queries.getByIndex(u),g=h.matches;if(null!==g){const m=lT(s,l,h,u);for(let C=0;C<g.length;C+=2){const b=g[C];if(b>0)c.push(m[C/2]);else{const E=g[C+1],k=l[-b];for(let R=10;R<k.length;R++){const W=k[R];W[17]===W[3]&&dy(W[1],W,E,c)}if(null!==k[9]){const R=k[9];for(let W=0;W<R.length;W++){const ne=R[W];dy(ne[1],ne,E,c)}}}}}return c}function uT(s){const l=Ie(),u=$t(),c=Fs();nu(c+1);const h=fT(u,c);if(s.dirty&&Yi(l)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?dy(u,l,c,[]):lT(u,l,h,c);s.reset(g,Wv),s.notifyOnChanges()}return!0}return!1}function cT(s,l,u){const c=$t();c.firstCreatePass&&(gT(c,new aT(s,l,u),-1),2==(2&l)&&(c.staticViewQueries=!0)),pT(c,Ie(),l)}function dT(s,l,u,c){const h=$t();if(h.firstCreatePass){const g=Gn();gT(h,new aT(l,u,c),g.index),function JE(s,l){const u=s.contentQueries||(s.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,l)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}pT(h,Ie(),u)}function hT(){return function HE(s,l){return s[19].queries[l].queryList}(Ie(),Fs())}function pT(s,l,u){const c=new oy(4==(4&u));Cm(s,l,c,c.destroy),null===l[19]&&(l[19]=new ly),l[19].queries.push(new ay(c))}function gT(s,l,u){null===s.queries&&(s.queries=new uy),s.queries.track(new cy(l,u))}function fT(s,l){return s.queries.getByIndex(l)}function Yc(s){const l=O(s)||N(s)||L(s);return null!==l&&l.standalone}function $u(...s){}const za=new Wt("Application Initializer");let Yg=(()=>{class s{constructor(u){this.appInits=u,this.resolve=$u,this.reject=$u,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Lm(g))u.push(g);else if(I1(g)){const m=new Promise((C,b)=>{g.subscribe({complete:C,error:b})});u.push(m)}}Promise.all(u).then(()=>{c()}).catch(h=>{this.reject(h)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Zn(za,8))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ET=new Wt("AppId",{providedIn:"root",factory:function vy(){return`${Xg()}${Xg()}${Xg()}`}});function Xg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const to=new Wt("Platform Initializer"),lD=new Wt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jh=new Wt("appBootstrapListener");let ef=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const ed=new Wt("LocaleId",{providedIn:"root",factory:()=>zs(ed,yt.Optional|yt.SkipSelf)||function fa(){return"undefined"!=typeof $localize&&$localize.locale||Qc}()}),cD=new Wt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Cy{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let xT=(()=>{class s{compileModuleSync(u){return new Ym(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const c=this.compileModuleSync(u),g=Uo(oe(u).declarations).reduce((m,C)=>{const b=O(C);return b&&m.push(new Dg(b)),m},[]);return new Cy(c,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const gD=(()=>Promise.resolve(0))();function Gh(s){"undefined"==typeof Zone?gD.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class mi{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pa(!1),this.onMicrotaskEmpty=new pa(!1),this.onStable=new pa(!1),this.onError=new pa(!1),"undefined"==typeof Zone)throw new Ae(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&u,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function kT(){let s=nt.requestAnimationFrame,l=nt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&l){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=l[Zone.__symbol__("OriginalDelegate")];c&&(l=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function fD(s){const l=()=>{!function Jh(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(nt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,wy(s),s.isCheckStableRunning=!0,Ty(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),wy(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,h,g,m,C)=>{try{return Wh(s),u.invokeTask(h,g,m,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&l(),sf(s)}},onInvoke:(u,c,h,g,m,C,b)=>{try{return Wh(s),u.invoke(h,g,m,C,b)}finally{s.shouldCoalesceRunChangeDetection&&l(),sf(s)}},onHasTask:(u,c,h,g)=>{u.hasTask(h,g),c===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,wy(s),Ty(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,c,h,g)=>(u.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mi.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(mi.isInAngularZone())throw new Ae(909,!1)}run(l,u,c){return this._inner.run(l,u,c)}runTask(l,u,c,h){const g=this._inner,m=g.scheduleEventTask("NgZoneEvent: "+h,l,Hh,$u,$u);try{return g.runTask(m,u,c)}finally{g.cancelTask(m)}}runGuarded(l,u,c){return this._inner.runGuarded(l,u,c)}runOutsideAngular(l){return this._outer.run(l)}}const Hh={};function Ty(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function wy(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Wh(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function sf(s){s._nesting--,Ty(s)}class NT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pa,this.onMicrotaskEmpty=new pa,this.onStable=new pa,this.onError=new pa}run(l,u,c){return l.apply(u,c)}runGuarded(l,u,c){return l.apply(u,c)}runOutsideAngular(l){return l()}runTask(l,u,c,h){return l.apply(u,c)}}const by=new Wt(""),Ay=new Wt("");let Gu,af=(()=>{class s{constructor(u,c,h){this._ngZone=u,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Gu||(function Iy(s){Gu=s}(h),h.addToWindow(c)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mi.assertNotInAngularZone(),Gh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gh(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,h){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==g),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:h})}whenStable(u,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,c,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(Zn(mi),Zn(lf),Zn(Ay))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})(),lf=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){var h;return null!==(h=null==Gu?void 0:Gu.findTestabilityInTree(this,u,c))&&void 0!==h?h:null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Vi=null;const Ey=new Wt("AllowMultipleToken"),uf=new Wt("PlatformDestroyListeners");class MT{constructor(l,u){this.name=l,this.token=u}}function Nr(s,l,u=[]){const c=`Platform: ${l}`,h=new Wt(c);return(g=[])=>{let m=xy();if(!m||m.injector.get(Ey,!1)){const C=[...u,...g,{provide:h,useValue:!0}];s?s(C):function mD(s){if(Vi&&!Vi.get(Ey,!1))throw new Ae(400,!1);Vi=s;const l=s.get(OT);(function cf(s){const l=s.get(to,null);l&&l.forEach(u=>u())})(s)}(function Qh(s=[],l){return Nu.create({name:l,providers:[{provide:Ri,useValue:"platform"},{provide:uf,useValue:new Set([()=>Vi=null])},...s]})}(C,c))}return function no(s){const l=xy();if(!l)throw new Ae(401,!1);return l}()}}function xy(){var s;return null!==(s=null==Vi?void 0:Vi.get(OT))&&void 0!==s?s:null}let OT=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const h=function yD(s,l){let u;return u="noop"===s?new NT:("zone.js"===s?void 0:s)||new mi(l),u}(null==c?void 0:c.ngZone,function Zy(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),g=[{provide:mi,useValue:h}];return h.run(()=>{const m=Nu.create({providers:g,parent:this.injector,name:u.moduleType.name}),C=u.create(m),b=C.injector.get(kc,null);if(!b)throw new Ae(402,!1);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:k=>{b.handleError(k)}});C.onDestroy(()=>{df(this._modules,C),E.unsubscribe()})}),function LT(s,l,u){try{const c=u();return Lm(c)?c.catch(h=>{throw l.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw l.runOutsideAngular(()=>s.handleError(c)),c}}(b,h,()=>{const E=C.injector.get(Yg);return E.runInitializers(),E.donePromise.then(()=>(function _C(s){Bt(s,"Expected localeId to be defined"),"string"==typeof s&&(fC=s.toLowerCase().replace(/_/g,"-"))}(C.injector.get(ed,Qc)||Qc),this._moduleDoBootstrap(C),C))})})}bootstrapModule(u,c=[]){const h=ky({},c);return function UT(s,l,u){const c=new Ym(u);return Promise.resolve(c)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(u){const c=u.injector.get(td);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new Ae(403,!1);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const u=this._injector.get(uf,null);u&&(u.forEach(c=>c()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Zn(Nu))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function ky(s,l){return Array.isArray(l)?l.reduce(ky,s):Object.assign(Object.assign({},s),l)}let td=(()=>{class s{constructor(u,c,h){this._zone=u,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new U.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),m=new U.y(C=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{mi.assertNotInAngularZone(),Gh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const E=this._zone.onUnstable.subscribe(()=>{mi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{b.unsubscribe(),E.unsubscribe()}});this.isStable=(0,ie.T)(g,m.pipe((0,le.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,c){const h=u instanceof ho;if(!this._injector.get(Yg).done)throw!h&&Yc(u),new Ae(405,false);let m;m=h?u:this._injector.get(Il).resolveComponentFactory(u),this.componentTypes.push(m.componentType);const C=function Dy(s){return s.isBoundToModule}(m)?void 0:this._injector.get(zc),E=m.create(Nu.NULL,[],c||m.selector,C),k=E.location.nativeElement,R=E.injector.get(by,null);return null==R||R.registerApplication(k),E.onDestroy(()=>{this.detachView(E.hostView),df(this.components,E),null==R||R.unregisterApplication(k)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;df(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(jh,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>df(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Ae(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(Zn(mi),Zn(bu),Zn(kc))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function df(s,l){const u=s.indexOf(l);u>-1&&s.splice(u,1)}let qT=!0,zh=!1;function Ny(){return zh=!0,qT}function Uy(){if(zh)throw new Error("Cannot enable prod mode after platform setup.");qT=!1}let VT=(()=>{class s{}return s.__NG_ELEMENT_ID__=BT,s})();function BT(s){return function jT(s,l,u){if(va(s)&&!u){const c=dr(s.index,l);return new Eg(c,c)}return 47&s.type?new Eg(l[16],l):null}(Gn(),Ie(),16==(16&s))}class mf{constructor(){}supports(l){return Eh(l)}create(l){return new yf(l)}}const Oy=(s,l)=>l;class yf{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||Oy}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,c=this._removalsHead,h=0,g=null;for(;u||c;){const m=!c||u&&u.currentIndex<vf(c,h,g)?u:c,C=vf(m,h,g),b=m.currentIndex;if(m===c)h--,c=c._nextRemoved;else if(u=u._next,null==m.previousIndex)h++;else{g||(g=[]);const E=C-h,k=b-h;if(E!=k){for(let W=0;W<E;W++){const ne=W<g.length?g[W]:g[W]=0,be=ne+W;k<=be&&be<E&&(g[W]=ne+1)}g[m.previousIndex]=k-E}}C!==b&&l(m,C,b)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Eh(l))throw new Ae(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let h,g,m,u=this._itHead,c=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)g=l[C],m=this._trackByFn(C,g),null!==u&&Object.is(u.trackById,m)?(c&&(u=this._verifyReinsertion(u,g,m,C)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,m,C),c=!0),u=u._next}else h=0,function vs(s,l){if(Array.isArray(s))for(let u=0;u<s.length;u++)l(s[u]);else{const u=s[Ou()]();let c;for(;!(c=u.next()).done;)l(c.value)}}(l,C=>{m=this._trackByFn(h,C),null!==u&&Object.is(u.trackById,m)?(c&&(u=this._verifyReinsertion(u,C,m,h)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,m,h),c=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,c,h){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,g,h)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,g,h)):l=this._addAfter(new Xh(u,c),g,h),l}_verifyReinsertion(l,u,c,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?l=this._reinsertAfter(g,l._prev,h):l.currentIndex!=h&&(l.currentIndex=h,this._addToMoves(l,h)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const h=l._prevRemoved,g=l._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(l,u,c),this._addToMoves(l,c),l}_moveAfter(l,u,c){return this._unlink(l),this._insertAfter(l,u,c),this._addToMoves(l,c),l}_addAfter(l,u,c){return this._insertAfter(l,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,c){const h=null===u?this._itHead:u._next;return l._next=h,l._prev=u,null===h?this._itTail=l:h._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new JT),this._linkedRecords.put(l),l.currentIndex=c,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,c=l._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new JT),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class Xh{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HT{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,l))return c;return null}remove(l){const u=l._prevDup,c=l._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class JT{constructor(){this.map=new Map}put(l){const u=l.trackById;let c=this.map.get(u);c||(c=new HT,this.map.set(u,c)),c.add(l)}get(l,u){const h=this.map.get(l);return h?h.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vf(s,l,u){const c=s.previousIndex;if(null===c)return c;let h=0;return u&&c<u.length&&(h=u[c]),c+l+h}class ep{constructor(){}supports(l){return l instanceof Map||Sg(l)}create(){return new Ly}}class Ly{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||Sg(l)))throw new Ae(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(c,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(h,c);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const c=l._prev;return u._next=l,u._prev=c,l._prev=u,c&&(c._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const h=this._records.get(l);this._maybeAddToChanges(h,u);const g=h._prev,m=h._next;return g&&(g._next=m),m&&(m._prev=g),h._next=null,h._prev=null,h}const c=new WT(l);return this._records.set(l,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(c=>u(l[c],c))}}class WT{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fy(){return new Cf([new mf])}let Cf=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const h=c.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||Fy()),deps:[[s,new $e,new ae]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(null!=c)return c;throw new Ae(901,!1)}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:Fy}),s})();function id(){return new Tf([new ep])}let Tf=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const h=c.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||id()),deps:[[s,new $e,new ae]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(c)return c;throw new Ae(901,!1)}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:id}),s})();const bD=Nr(null,"core",[]);let AD=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Zn(td))},s.\u0275mod=wt({type:s}),s.\u0275inj=qt({}),s})();function zT(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(it,Ce,P)=>{P.d(Ce,{Z:()=>Ae});var e=P(2090),V=P(4859),U=P(9681),ie=P(1877);class le{constructor(ve,pe){this._delegate=ve,this.firebase=pe,(0,U._addComponent)(ve,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(ve,pe=U._DEFAULT_ENTRY_NAME){var Xe;this._delegate.checkDestroyed();const Ke=this._delegate.container.getProvider(ve);return!Ke.isInitialized()&&"EXPLICIT"===(null===(Xe=Ke.getComponent())||void 0===Xe?void 0:Xe.instantiationMode)&&Ke.initialize(),Ke.getImmediate({identifier:pe})}_removeServiceInstance(ve,pe=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(pe)}_addComponent(ve){(0,U._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,U._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new e.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function me(){const st=function de(st){const ve={},pe={__esModule:!0,initializeApp:function Ne(re,ue={}){const ye=U.initializeApp(re,ue);if((0,e.r3)(ve,ye.name))return ve[ye.name];const z=new st(ye,pe);return ve[ye.name]=z,z},app:Ke,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function we(re){const ue=re.name,ye=ue.replace("-compat","");if(U._registerComponent(re)&&"PUBLIC"===re.type){const z=(X=Ke())=>{if("function"!=typeof X[ye])throw fe.create("invalid-app-argument",{appName:ue});return X[ye]()};void 0!==re.serviceProps&&(0,e.ZB)(z,re.serviceProps),pe[ye]=z,st.prototype[ye]=function(...X){return this._getService.bind(this,ue).apply(this,re.multipleInstances?X:[])}}return"PUBLIC"===re.type?pe[ye]:null},removeApp:function Xe(re){delete ve[re]},useAsService:function Je(re,ue){return"serverAuth"===ue?null:ue},modularAPIs:U}};function Ke(re){if(!(0,e.r3)(ve,re=re||U._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:re});return ve[re]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function Ze(){return Object.keys(ve).map(re=>ve[re])}}),Ke.App=st,pe}(le);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function ve(pe){(0,e.ZB)(st,pe)},createSubscribe:e.ne,ErrorFactory:e.LL,deepExtend:e.ZB}),st}(),G=new ie.Yd("@firebase/app-compat");if((0,e.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=J;!function ke(st){(0,U.registerVersion)("@firebase/app-compat","0.1.37",st)}()},9681:(it,Ce,P)=>{P.r(Ce),P.d(Ce,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>bo,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>on,_addOrOverwriteComponent:()=>sn,_apps:()=>mn,_clearComponents:()=>wo,_components:()=>Sn,_getProvider:()=>qt,_registerComponent:()=>zt,_removeServiceInstance:()=>Pr,deleteApp:()=>yt,getApp:()=>Wn,getApps:()=>qo,initializeApp:()=>Gr,onLog:()=>cn,registerVersion:()=>cr,setLogLevel:()=>_r});var e=P(5861),V=P(4859),U=P(1877),ie=P(2090),le=P(8766);class ge{constructor(De){this.container=De}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function fe(Ye){const De=Ye.getComponent();return"VERSION"===(null==De?void 0:De.type)}(et)){const Tt=et.getImmediate();return`${Tt.library}/${Tt.version}`}return null}).filter(et=>et).join(" ")}}const de="@firebase/app",J=new U.Yd("@firebase/app"),Bt="[DEFAULT]",We={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mn=new Map,Sn=new Map;function on(Ye,De){try{Ye.container.addComponent(De)}catch(et){J.debug(`Component ${De.name} failed to register with FirebaseApp ${Ye.name}`,et)}}function sn(Ye,De){Ye.container.addOrOverwriteComponent(De)}function zt(Ye){const De=Ye.name;if(Sn.has(De))return J.debug(`There were multiple attempts to register component ${De}.`),!1;Sn.set(De,Ye);for(const et of mn.values())on(et,Ye);return!0}function qt(Ye,De){const et=Ye.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),Ye.container.getProvider(De)}function Pr(Ye,De,et=Bt){qt(Ye,De).clearInstance(et)}function wo(){Sn.clear()}const Pn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Fo{constructor(De,et,Tt){this._isDeleted=!1,this._options=Object.assign({},De),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=Tt,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this.checkDestroyed(),this._automaticDataCollectionEnabled=De}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(De){this._isDeleted=De}checkDestroyed(){if(this.isDeleted)throw Pn.create("app-deleted",{appName:this._name})}}const bo="9.12.1";function Gr(Ye,De={}){let et=Ye;"object"!=typeof De&&(De={name:De});const Tt=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},De),wt=Tt.name;if("string"!=typeof wt||!wt)throw Pn.create("bad-app-name",{appName:String(wt)});if(et||(et=(0,ie.aH)()),!et)throw Pn.create("no-options");const an=mn.get(wt);if(an){if((0,ie.vZ)(et,an.options)&&(0,ie.vZ)(Tt,an.config))return an;throw Pn.create("duplicate-app",{appName:wt})}const H=new V.H0(wt);for(const Q of Sn.values())H.addComponent(Q);const B=new Fo(et,Tt,H);return mn.set(wt,B),B}function Wn(Ye=Bt){const De=mn.get(Ye);if(!De&&Ye===Bt)return Gr();if(!De)throw Pn.create("no-app",{appName:Ye});return De}function qo(){return Array.from(mn.values())}function yt(Ye){return yn.apply(this,arguments)}function yn(){return(yn=(0,e.Z)(function*(Ye){const De=Ye.name;mn.has(De)&&(mn.delete(De),yield Promise.all(Ye.container.getProviders().map(et=>et.delete())),Ye.isDeleted=!0)})).apply(this,arguments)}function cr(Ye,De,et){var Tt;let wt=null!==(Tt=We[Ye])&&void 0!==Tt?Tt:Ye;et&&(wt+=`-${et}`);const an=wt.match(/\s|\//),H=De.match(/\s|\//);if(an||H){const B=[`Unable to register library "${wt}" with version "${De}":`];return an&&B.push(`library name "${wt}" contains illegal characters (whitespace or "/")`),an&&H&&B.push("and"),H&&B.push(`version name "${De}" contains illegal characters (whitespace or "/")`),void J.warn(B.join(" "))}zt(new V.wA(`${wt}-version`,()=>({library:wt,version:De}),"VERSION"))}function cn(Ye,De){if(null!==Ye&&"function"!=typeof Ye)throw Pn.create("invalid-log-argument");(0,U.Am)(Ye,De)}function _r(Ye){(0,U.Ub)(Ye)}const vn="firebase-heartbeat-store";let Rr=null;function bn(){return Rr||(Rr=(0,le.X3)("firebase-heartbeat-database",1,{upgrade:(Ye,De)=>{0===De&&Ye.createObjectStore(vn)}}).catch(Ye=>{throw Pn.create("idb-open",{originalErrorMessage:Ye.message})})),Rr}function nt(){return(nt=(0,e.Z)(function*(Ye){var De;try{return(yield bn()).transaction(vn).objectStore(vn).get(xn(Ye))}catch(et){if(et instanceof ie.ZR)J.warn(et.message);else{const Tt=Pn.create("idb-get",{originalErrorMessage:null===(De=et)||void 0===De?void 0:De.message});J.warn(Tt.message)}}})).apply(this,arguments)}function Dn(Ye,De){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,e.Z)(function*(Ye,De){var et;try{const wt=(yield bn()).transaction(vn,"readwrite");return yield wt.objectStore(vn).put(De,xn(Ye)),wt.done}catch(Tt){if(Tt instanceof ie.ZR)J.warn(Tt.message);else{const wt=Pn.create("idb-set",{originalErrorMessage:null===(et=Tt)||void 0===et?void 0:et.message});J.warn(wt.message)}}})).apply(this,arguments)}function xn(Ye){return`${Ye.name}!${Ye.options.appId}`}class Jr{constructor(De){this.container=De,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new Ft(et),this._heartbeatsCachePromise=this._storage.read().then(Tt=>(this._heartbeatsCache=Tt,Tt))}triggerHeartbeat(){var De=this;return(0,e.Z)(function*(){const Tt=De.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wt=Lt();if(null===De._heartbeatsCache&&(De._heartbeatsCache=yield De._heartbeatsCachePromise),De._heartbeatsCache.lastSentHeartbeatDate!==wt&&!De._heartbeatsCache.heartbeats.some(an=>an.date===wt))return De._heartbeatsCache.heartbeats.push({date:wt,agent:Tt}),De._heartbeatsCache.heartbeats=De._heartbeatsCache.heartbeats.filter(an=>{const H=new Date(an.date).valueOf();return Date.now()-H<=2592e6}),De._storage.overwrite(De._heartbeatsCache)})()}getHeartbeatsHeader(){var De=this;return(0,e.Z)(function*(){if(null===De._heartbeatsCache&&(yield De._heartbeatsCachePromise),null===De._heartbeatsCache||0===De._heartbeatsCache.heartbeats.length)return"";const et=Lt(),{heartbeatsToSend:Tt,unsentEntries:wt}=function Ao(Ye,De=1024){const et=[];let Tt=Ye.slice();for(const wt of Ye){const an=et.find(H=>H.agent===wt.agent);if(an){if(an.dates.push(wt.date),Or(et)>De){an.dates.pop();break}}else if(et.push({agent:wt.agent,dates:[wt.date]}),Or(et)>De){et.pop();break}Tt=Tt.slice(1)}return{heartbeatsToSend:et,unsentEntries:Tt}}(De._heartbeatsCache.heartbeats),an=(0,ie.L)(JSON.stringify({version:2,heartbeats:Tt}));return De._heartbeatsCache.lastSentHeartbeatDate=et,wt.length>0?(De._heartbeatsCache.heartbeats=wt,yield De._storage.overwrite(De._heartbeatsCache)):(De._heartbeatsCache.heartbeats=[],De._storage.overwrite(De._heartbeatsCache)),an})()}}function Lt(){return(new Date).toISOString().substring(0,10)}class Ft{constructor(De){this.app=De,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,e.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var De=this;return(0,e.Z)(function*(){return(yield De._canUseIndexedDBPromise)&&(yield function at(Ye){return nt.apply(this,arguments)}(De.app))||{heartbeats:[]}})()}overwrite(De){var et=this;return(0,e.Z)(function*(){var Tt;if(yield et._canUseIndexedDBPromise){const an=yield et.read();return Dn(et.app,{lastSentHeartbeatDate:null!==(Tt=De.lastSentHeartbeatDate)&&void 0!==Tt?Tt:an.lastSentHeartbeatDate,heartbeats:De.heartbeats})}})()}add(De){var et=this;return(0,e.Z)(function*(){var Tt;if(yield et._canUseIndexedDBPromise){const an=yield et.read();return Dn(et.app,{lastSentHeartbeatDate:null!==(Tt=De.lastSentHeartbeatDate)&&void 0!==Tt?Tt:an.lastSentHeartbeatDate,heartbeats:[...an.heartbeats,...De.heartbeats]})}})()}}function Or(Ye){return(0,ie.L)(JSON.stringify({version:2,heartbeats:Ye})).length}!function jn(Ye){zt(new V.wA("platform-logger",De=>new ge(De),"PRIVATE")),zt(new V.wA("heartbeat",De=>new Jr(De),"PRIVATE")),cr(de,"0.8.2",Ye),cr(de,"0.8.2","esm2017"),cr("fire-js","")}("")},4859:(it,Ce,P)=>{P.d(Ce,{H0:()=>de,wA:()=>U});var e=P(5861),V=P(2090);class U{constructor(J,G,Y){this.name=J,this.instanceFactory=G,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const ie="[DEFAULT]";class le{constructor(J,G){this.name=J,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const G=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(G)){const Y=new V.BH;if(this.instancesDeferred.set(G,Y),this.isInitialized(G)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:G});qe&&Y.resolve(qe)}catch(qe){}}return this.instancesDeferred.get(G).promise}getImmediate(J){var G;const Y=this.normalizeInstanceIdentifier(null==J?void 0:J.identifier),qe=null!==(G=null==J?void 0:J.optional)&&void 0!==G&&G;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(ke){if(qe)return null;throw ke}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function fe(me){return"EAGER"===me.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(G){}for(const[G,Y]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(G);try{const ke=this.getOrInitializeService({instanceIdentifier:qe});Y.resolve(ke)}catch(ke){}}}}clearInstance(J=ie){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,e.Z)(function*(){const G=Array.from(J.instances.values());yield Promise.all([...G.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...G.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=ie){return this.instances.has(J)}getOptions(J=ie){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:G={}}=J,Y=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:Y,options:G});for(const[ke,Ae]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(ke)&&Ae.resolve(qe);return qe}onInit(J,G){var Y;const qe=this.normalizeInstanceIdentifier(G),ke=null!==(Y=this.onInitCallbacks.get(qe))&&void 0!==Y?Y:new Set;ke.add(J),this.onInitCallbacks.set(qe,ke);const Ae=this.instances.get(qe);return Ae&&J(Ae,qe),()=>{ke.delete(J)}}invokeOnInitCallbacks(J,G){const Y=this.onInitCallbacks.get(G);if(Y)for(const qe of Y)try{qe(J,G)}catch(ke){}}getOrInitializeService({instanceIdentifier:J,options:G={}}){let Y=this.instances.get(J);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(me=J,me===ie?void 0:me),options:G}),this.instances.set(J,Y),this.instancesOptions.set(J,G),this.invokeOnInitCallbacks(Y,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,Y)}catch(qe){}var me;return Y||null}normalizeInstanceIdentifier(J=ie){return this.component?this.component.multipleInstances?J:ie:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const G=this.getProvider(J.name);if(G.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);G.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const G=new le(J,this);return this.providers.set(J,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(it,Ce,P)=>{P.d(Ce,{Am:()=>me,Ub:()=>de,Yd:()=>fe,in:()=>V});const e=[];var V=(()=>{return(J=V||(V={}))[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",V;var J})();const U={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},ie=V.INFO,le={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},ge=(J,G,...Y)=>{if(G<J.logLevel)return;const qe=(new Date).toISOString(),ke=le[G];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[ke](`[${qe}]  ${J.name}:`,...Y)};class fe{constructor(G){this.name=G,this._logLevel=ie,this._logHandler=ge,this._userLogHandler=null,e.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in V))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?U[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...G),this._logHandler(this,V.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...G),this._logHandler(this,V.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,V.INFO,...G),this._logHandler(this,V.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,V.WARN,...G),this._logHandler(this,V.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...G),this._logHandler(this,V.ERROR,...G)}}function de(J){e.forEach(G=>{G.setLogLevel(J)})}function me(J,G){for(const Y of e){let qe=null;G&&G.level&&(qe=U[G.level]),Y.userLogHandler=null===J?null:(ke,Ae,...st)=>{const ve=st.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch(Xe){return null}}).filter(pe=>pe).join(" ");Ae>=(null!=qe?qe:ke.logLevel)&&J({level:V[Ae].toLowerCase(),message:ve,args:st,type:ke.name})}}}},8766:(it,Ce,P)=>{P.d(Ce,{Lj:()=>Ne,X3:()=>Ke});var e=P(5861);let U,ie;const fe=new WeakMap,de=new WeakMap,me=new WeakMap,J=new WeakMap,G=new WeakMap;let ke={get(ue,ye,z){if(ue instanceof IDBTransaction){if("done"===ye)return de.get(ue);if("objectStoreNames"===ye)return ue.objectStoreNames||me.get(ue);if("store"===ye)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return pe(ue[ye])},set:(ue,ye,z)=>(ue[ye]=z,!0),has:(ue,ye)=>ue instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in ue};function ve(ue){return"function"==typeof ue?function st(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...ye){return ue.apply(Xe(this),ye),pe(fe.get(this))}:function(...ye){return pe(ue.apply(Xe(this),ye))}:function(ye,...z){const X=ue.call(Xe(this),ye,...z);return me.set(X,ye.sort?ye.sort():[ye]),pe(X)}}(ue):(ue instanceof IDBTransaction&&function qe(ue){if(de.has(ue))return;const ye=new Promise((z,X)=>{const he=()=>{ue.removeEventListener("complete",se),ue.removeEventListener("error",Oe),ue.removeEventListener("abort",Oe)},se=()=>{z(),he()},Oe=()=>{X(ue.error||new DOMException("AbortError","AbortError")),he()};ue.addEventListener("complete",se),ue.addEventListener("error",Oe),ue.addEventListener("abort",Oe)});de.set(ue,ye)}(ue),((ue,ye)=>ye.some(z=>ue instanceof z))(ue,function le(){return U||(U=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,ke):ue)}function pe(ue){if(ue instanceof IDBRequest)return function Y(ue){const ye=new Promise((z,X)=>{const he=()=>{ue.removeEventListener("success",se),ue.removeEventListener("error",Oe)},se=()=>{z(pe(ue.result)),he()},Oe=()=>{X(ue.error),he()};ue.addEventListener("success",se),ue.addEventListener("error",Oe)});return ye.then(z=>{z instanceof IDBCursor&&fe.set(z,ue)}).catch(()=>{}),G.set(ye,ue),ye}(ue);if(J.has(ue))return J.get(ue);const ye=ve(ue);return ye!==ue&&(J.set(ue,ye),G.set(ye,ue)),ye}const Xe=ue=>G.get(ue);function Ke(ue,ye,{blocked:z,upgrade:X,blocking:he,terminated:se}={}){const Oe=indexedDB.open(ue,ye),Le=pe(Oe);return X&&Oe.addEventListener("upgradeneeded",mt=>{X(pe(Oe.result),mt.oldVersion,mt.newVersion,pe(Oe.transaction))}),z&&Oe.addEventListener("blocked",()=>z()),Le.then(mt=>{se&&mt.addEventListener("close",()=>se()),he&&mt.addEventListener("versionchange",()=>he())}).catch(()=>{}),Le}function Ne(ue,{blocked:ye}={}){const z=indexedDB.deleteDatabase(ue);return ye&&z.addEventListener("blocked",()=>ye()),pe(z).then(()=>{})}const Ze=["get","getKey","getAll","getAllKeys","count"],we=["put","add","delete","clear"],Je=new Map;function re(ue,ye){if(!(ue instanceof IDBDatabase)||ye in ue||"string"!=typeof ye)return;if(Je.get(ye))return Je.get(ye);const z=ye.replace(/FromIndex$/,""),X=ye!==z,he=we.includes(z);if(!(z in(X?IDBIndex:IDBObjectStore).prototype)||!he&&!Ze.includes(z))return;const se=function(){var Oe=(0,e.Z)(function*(Le,...mt){const un=this.transaction(Le,he?"readwrite":"readonly");let Bt=un.store;return X&&(Bt=Bt.index(mt.shift())),(yield Promise.all([Bt[z](...mt),he&&un.done]))[0]});return function(mt){return Oe.apply(this,arguments)}}();return Je.set(ye,se),se}!function Ae(ue){ke=ue(ke)}(ue=>YM(KM({},ue),{get:(ye,z,X)=>re(ye,z)||ue.get(ye,z,X),has:(ye,z)=>!!re(ye,z)||ue.has(ye,z)}))},5861:(it,Ce,P)=>{function e(U,ie,le,ge,fe,de,me){try{var J=U[de](me),G=J.value}catch(Y){return void le(Y)}J.done?ie(G):Promise.resolve(G).then(ge,fe)}function V(U){return function(){var ie=this,le=arguments;return new Promise(function(ge,fe){var de=U.apply(ie,le);function me(G){e(de,ge,fe,me,J,"next",G)}function J(G){e(de,ge,fe,me,J,"throw",G)}me(void 0)})}}P.d(Ce,{Z:()=>V})}},it=>{it(it.s=8291)}]);