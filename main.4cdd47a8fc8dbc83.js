"use strict";var cF=Object.defineProperty,dF=Object.defineProperties,hF=Object.getOwnPropertyDescriptors,gM=Object.getOwnPropertySymbols,pF=Object.prototype.hasOwnProperty,fF=Object.prototype.propertyIsEnumerable,mM=(it,we,M)=>we in it?cF(it,we,{enumerable:!0,configurable:!0,writable:!0,value:M}):it[we]=M,_M=(it,we)=>{for(var M in we||(we={}))pF.call(we,M)&&mM(it,M,we[M]);if(gM)for(var M of gM(we))fF.call(we,M)&&mM(it,M,we[M]);return it},yM=(it,we)=>dF(it,hF(we));(self.webpackChunklanguage_parser_ui=self.webpackChunklanguage_parser_ui||[]).push([[179],{2011:(it,we,M)=>{M.d(we,{Dh:()=>de,GT:()=>pe,cc:()=>Ue,hO:()=>Be,on:()=>J,pX:()=>ue,xv:()=>ye});var e=M(5e3),L=M(127),U=M(5813);it=M.hmd(it);const oe=["ngOnDestroy"],ue=(ge,st,ft,je={})=>new Proxy(ge,{get:(Ze,Ee)=>ft.runOutsideAngular(()=>{var Qe;if(ge[Ee])return!(null===(Qe=null==je?void 0:je.spy)||void 0===Qe)&&Qe.get&&je.spy.get(Ee,ge[Ee]),ge[Ee];if(oe.indexOf(Ee)>-1)return()=>{};const Ge=st.toPromise().then(Te=>{const De=Te&&Te[Ee];return"function"==typeof De?De.bind(Te):De&&De.then?De.then(X=>ft.run(()=>X)):ft.run(()=>De)});return new Proxy(()=>{},{get:(Te,De)=>Ge[De],apply:(Te,De,X)=>Ge.then(se=>{var ie;const _e=se&&se(...X);return!(null===(ie=null==je?void 0:je.spy)||void 0===ie)&&ie.apply&&je.spy.apply(Ee,X,_e),_e})})})}),pe=(ge,st)=>{st.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(je=>{Object.defineProperty(ge.prototype,je,Object.getOwnPropertyDescriptor(ft.prototype||ft,je))})})};class he{constructor(st){return st}}const de=new e.OlP("angularfire2.app.options"),ye=new e.OlP("angularfire2.app.name");function J(ge,st,ft){const Ze="object"==typeof ft&&ft||{};Ze.name=Ze.name||"string"==typeof ft&&ft||"[DEFAULT]";const Qe=L.Z.apps.filter(Ge=>Ge&&Ge.name===Ze.name)[0]||st.runOutsideAngular(()=>L.Z.initializeApp(ge,Ze));try{JSON.stringify(ge)!==JSON.stringify(Qe.options)&&G("error",`${Qe.name} Firebase App already initialized with different options${it.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ge){}return new he(Qe)}const G=(ge,...st)=>{(0,e.X6Q)()&&"undefined"!=typeof console&&console[ge](...st)},ee={provide:he,useFactory:J,deps:[de,e.R0b,[new e.FiY,ye]]};let Be=(()=>{class ge{constructor(ft){L.Z.registerVersion("angularfire",U.q4.full,"core"),L.Z.registerVersion("angularfire",U.q4.full,"app-compat"),L.Z.registerVersion("angular",e.q4F.full,ft.toString())}static initializeApp(ft,je){return{ngModule:ge,providers:[{provide:de,useValue:ft},{provide:ye,useValue:je}]}}}return ge.\u0275fac=function(ft){return new(ft||ge)(e.LFG(e.Lbi))},ge.\u0275mod=e.oAB({type:ge}),ge.\u0275inj=e.cJS({providers:[ee]}),ge})();function Ue(ge,st,ft,je,Ze){const[,Ee,Qe]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===ge)||[];if(Ee)return function be(ge,st){try{return ge.toString()===st.toString()}catch(ft){return ge===st}}(Ze,Qe)||(Ce("error",`${st} was already initialized on the ${ft} Firebase App with different settings.${at?" You may need to reload as Firebase is not HMR aware.":""}`),Ce("warn",{is:Ze,was:Qe})),Ee;{const Ge=je();return globalThis.\u0275AngularfireInstanceCache.push([ge,Ge,Ze]),Ge}}const at=!!it.hot,Ce=(ge,...st)=>{(0,e.X6Q)()&&"undefined"!=typeof console&&console[ge](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(it,we,M)=>{M.d(we,{q4:()=>Sc,iC:()=>Xs,HU:()=>rh,vb:()=>gm,JM:()=>La});var e=M(5e3),L=M(5867),U=M(5861),oe=M(9681),ue=M(2090),pe=M(4859),he=M(1877),de=M(8766);const ye="@firebase/installations",J="0.5.12",ee=`w:${J}`,Be="FIS_v2",st=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ft(A){return A instanceof ue.ZR&&A.code.includes("request-failed")}function je({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function Ze(A){return{token:A.token,requestStatus:2,expiresIn:se(A.expiresIn),creationTime:Date.now()}}function Ee(A,I){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,U.Z)(function*(A,I){const R=(yield I.json()).error;return st.create("request-failed",{requestName:A,serverCode:R.code,serverMessage:R.message,serverStatus:R.status})})).apply(this,arguments)}function Ge({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function Te(A,{refreshToken:I}){const k=Ge(A);return k.append("Authorization",function ie(A){return`${Be} ${A}`}(I)),k}function De(A){return X.apply(this,arguments)}function X(){return(X=(0,U.Z)(function*(A){const I=yield A();return I.status>=500&&I.status<600?A():I})).apply(this,arguments)}function se(A){return Number(A.replace("s","000"))}function _e(A,I){return le.apply(this,arguments)}function le(){return(le=(0,U.Z)(function*({appConfig:A,heartbeatServiceProvider:I},{fid:k}){const R=je(A),Y=Ge(A),ae=I.getImmediate({optional:!0});if(ae){const Ot=yield ae.getHeartbeatsHeader();Ot&&Y.append("x-firebase-client",Ot)}const Je={method:"POST",headers:Y,body:JSON.stringify({fid:k,authVersion:Be,appId:A.appId,sdkVersion:ee})},ht=yield De(()=>fetch(R,Je));if(ht.ok){const Ot=yield ht.json();return{fid:Ot.fid||k,registrationStatus:2,refreshToken:Ot.refreshToken,authToken:Ze(Ot.authToken)}}throw yield Ee("Create Installation",ht)})).apply(this,arguments)}function Fe(A){return new Promise(I=>{setTimeout(I,A)})}const tn=/^[cdef][\w-]{21}$/;function Ke(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const k=function bn(A){return function Tt(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return tn.test(k)?k:""}catch(A){return""}}function Hn(A){return`${A.appName}!${A.appId}`}const Cn=new Map;function nn(A,I){const k=Hn(A);Rn(k,I),function go(A,I){const k=function mn(){return!Tn&&"BroadcastChannel"in self&&(Tn=new BroadcastChannel("[Firebase] FID Change"),Tn.onmessage=A=>{Rn(A.data.key,A.data.fid)}),Tn}();k&&k.postMessage({key:A,fid:I}),function Ni(){0===Cn.size&&Tn&&(Tn.close(),Tn=null)}()}(k,I)}function Rn(A,I){const k=Cn.get(A);if(k)for(const R of k)R(I)}let Tn=null;const Pe="firebase-installations-store";let sr=null;function lt(){return sr||(sr=(0,de.X3)("firebase-installations-database",1,{upgrade:(A,I)=>{0===I&&A.createObjectStore(Pe)}})),sr}function Tr(A,I){return rn.apply(this,arguments)}function rn(){return(rn=(0,U.Z)(function*(A,I){const k=Hn(A),Y=(yield lt()).transaction(Pe,"readwrite"),ae=Y.objectStore(Pe),xe=yield ae.get(k);return yield ae.put(I,k),yield Y.done,(!xe||xe.fid!==I.fid)&&nn(A,I.fid),I})).apply(this,arguments)}function zt(A){return wr.apply(this,arguments)}function wr(){return(wr=(0,U.Z)(function*(A){const I=Hn(A),R=(yield lt()).transaction(Pe,"readwrite");yield R.objectStore(Pe).delete(I),yield R.done})).apply(this,arguments)}function qr(A,I){return zn.apply(this,arguments)}function zn(){return(zn=(0,U.Z)(function*(A,I){const k=Hn(A),Y=(yield lt()).transaction(Pe,"readwrite"),ae=Y.objectStore(Pe),xe=yield ae.get(k),Je=I(xe);return void 0===Je?yield ae.delete(k):yield ae.put(Je,k),yield Y.done,Je&&(!xe||xe.fid!==Je.fid)&&nn(A,Je.fid),Je})).apply(this,arguments)}function Dn(A){return xr.apply(this,arguments)}function xr(){return(xr=(0,U.Z)(function*(A){let I;const k=yield qr(A.appConfig,R=>{const Y=ks(R),ae=Bt(A,Y);return I=ae.registrationPromise,ae.installationEntry});return""===k.fid?{installationEntry:yield I}:{installationEntry:k,registrationPromise:I}})).apply(this,arguments)}function ks(A){return on(A||{fid:Ke(),registrationStatus:0})}function Bt(A,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(st.create("app-offline"))};const k={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},R=function ze(A,I){return vt.apply(this,arguments)}(A,k);return{installationEntry:k,registrationPromise:R}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:hi(A)}:{installationEntry:I}}function vt(){return(vt=(0,U.Z)(function*(A,I){try{const k=yield _e(A,I);return Tr(A.appConfig,k)}catch(k){throw ft(k)&&409===k.customData.serverCode?yield zt(A.appConfig):yield Tr(A.appConfig,{fid:I.fid,registrationStatus:0}),k}})).apply(this,arguments)}function hi(A){return ar.apply(this,arguments)}function ar(){return(ar=(0,U.Z)(function*(A){let I=yield ct(A.appConfig);for(;1===I.registrationStatus;)yield Fe(100),I=yield ct(A.appConfig);if(0===I.registrationStatus){const{installationEntry:k,registrationPromise:R}=yield Dn(A);return R||k}return I})).apply(this,arguments)}function ct(A){return qr(A,I=>{if(!I)throw st.create("installation-not-found");return on(I)})}function on(A){return function Bn(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function Ln(A,I){return en.apply(this,arguments)}function en(){return(en=(0,U.Z)(function*({appConfig:A,heartbeatServiceProvider:I},k){const R=Sn(A,k),Y=Te(A,k),ae=I.getImmediate({optional:!0});if(ae){const Ot=yield ae.getHeartbeatsHeader();Ot&&Y.append("x-firebase-client",Ot)}const Je={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:ee,appId:A.appId}})},ht=yield De(()=>fetch(R,Je));if(ht.ok)return Ze(yield ht.json());throw yield Ee("Generate Auth Token",ht)})).apply(this,arguments)}function Sn(A,{fid:I}){return`${je(A)}/${I}/authTokens:generate`}function B(A){return j.apply(this,arguments)}function j(){return(j=(0,U.Z)(function*(A,I=!1){let k;const R=yield qr(A.appConfig,ae=>{if(!Ct(ae))throw st.create("not-registered");const xe=ae.authToken;if(!I&&dn(xe))return ae;if(1===xe.requestStatus)return k=F(A,I),ae;{if(!navigator.onLine)throw st.create("app-offline");const Je=pr(ae);return k=ke(A,Je),Je}});return k?yield k:R.authToken})).apply(this,arguments)}function F(A,I){return W.apply(this,arguments)}function W(){return(W=(0,U.Z)(function*(A,I){let k=yield Q(A.appConfig);for(;1===k.authToken.requestStatus;)yield Fe(100),k=yield Q(A.appConfig);const R=k.authToken;return 0===R.requestStatus?B(A,I):R})).apply(this,arguments)}function Q(A){return qr(A,I=>{if(!Ct(I))throw st.create("not-registered");return function te(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function ke(A,I){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,U.Z)(function*(A,I){try{const k=yield Ln(A,I),R=Object.assign(Object.assign({},I),{authToken:k});return yield Tr(A.appConfig,R),k}catch(k){if(!ft(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const R=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Tr(A.appConfig,R)}else yield zt(A.appConfig);throw k}})).apply(this,arguments)}function Ct(A){return void 0!==A&&2===A.registrationStatus}function dn(A){return 2===A.requestStatus&&!function sn(A){const I=Date.now();return I<A.creationTime||A.creationTime+A.expiresIn<I+36e5}(A)}function pr(A){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:I})}function V(){return(V=(0,U.Z)(function*(A){const I=A,{installationEntry:k,registrationPromise:R}=yield Dn(I);return R?R.catch(console.error):B(I).catch(console.error),k.fid})).apply(this,arguments)}function Ve(){return(Ve=(0,U.Z)(function*(A,I=!1){const k=A;return yield Zt(k),(yield B(k,I)).token})).apply(this,arguments)}function Zt(A){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,U.Z)(function*(A){const{registrationPromise:I}=yield Dn(A);I&&(yield I)})).apply(this,arguments)}function _n(A){return st.create("missing-app-config-values",{valueName:A})}const Vr="installations",Qn=A=>{const I=A.getProvider("app").getImmediate(),k=function kt(A){if(!A||!A.options)throw _n("App Configuration");if(!A.name)throw _n("App Name");const I=["projectId","apiKey","appId"];for(const k of I)if(!A.options[k])throw _n(k);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(I);return{app:I,appConfig:k,heartbeatServiceProvider:(0,oe._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},ro=A=>{const I=A.getProvider("app").getImmediate(),k=(0,oe._getProvider)(I,Vr).getImmediate();return{getId:()=>function q(A){return V.apply(this,arguments)}(k),getToken:Y=>function ve(A){return Ve.apply(this,arguments)}(k,Y)}};(function hn(){(0,oe._registerComponent)(new pe.wA(Vr,Qn,"PUBLIC")),(0,oe._registerComponent)(new pe.wA("installations-internal",ro,"PRIVATE"))})(),(0,oe.registerVersion)(ye,J),(0,oe.registerVersion)(ye,J,"esm2017");const oo="@firebase/remote-config",fr=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ac{constructor(I,k,R,Y){this.client=I,this.storage=k,this.storageCache=R,this.logger=Y}isCachedDataFresh(I,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const R=Date.now()-k,Y=R<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${R}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Y}.`),Y}fetch(I){var k=this;return(0,U.Z)(function*(){const[R,Y]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(Y&&k.isCachedDataFresh(I.cacheMaxAgeMillis,R))return Y;I.eTag=Y&&Y.eTag;const ae=yield k.client.fetch(I),xe=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&xe.push(k.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(xe),ae})()}}function Bp(A=navigator){return A.languages&&A.languages[0]||A.language}class Vd{constructor(I,k,R,Y,ae,xe){this.firebaseInstallations=I,this.sdkVersion=k,this.namespace=R,this.projectId=Y,this.apiKey=ae,this.appId=xe}fetch(I){var k=this;return(0,U.Z)(function*(){var R,Y,ae;const[xe,Je]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Ot=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Rt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},yt={sdk_version:k.sdkVersion,app_instance_id:xe,app_instance_id_token:Je,app_id:k.appId,language_code:Bp()},lr={method:"POST",headers:Rt,body:JSON.stringify(yt)},Wn=fetch(Ot,lr),Hi=new Promise((wi,vs)=>{I.signal.addEventListener(()=>{const fl=new Error("The operation was aborted.");fl.name="AbortError",vs(fl)})});let Ji;try{yield Promise.race([Wn,Hi]),Ji=yield Wn}catch(wi){let vs="fetch-client-network";throw"AbortError"===(null===(R=wi)||void 0===R?void 0:R.name)&&(vs="fetch-timeout"),fr.create(vs,{originalErrorMessage:null===(Y=wi)||void 0===Y?void 0:Y.message})}let Ir=Ji.status;const ms=Ji.headers.get("ETag")||void 0;let _s,ys;if(200===Ji.status){let wi;try{wi=yield Ji.json()}catch(vs){throw fr.create("fetch-client-parse",{originalErrorMessage:null===(ae=vs)||void 0===ae?void 0:ae.message})}_s=wi.entries,ys=wi.state}if("INSTANCE_STATE_UNSPECIFIED"===ys?Ir=500:"NO_CHANGE"===ys?Ir=304:("NO_TEMPLATE"===ys||"EMPTY_CONFIG"===ys)&&(_s={}),304!==Ir&&200!==Ir)throw fr.create("fetch-status",{httpStatus:Ir});return{status:Ir,eTag:ms,config:_s}})()}}class Bd{constructor(I,k){this.client=I,this.storage=k}fetch(I){var k=this;return(0,U.Z)(function*(){const R=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(I,R)})()}attemptFetch(I,{throttleEndTimeMillis:k,backoffCount:R}){var Y=this;return(0,U.Z)(function*(){yield function dm(A,I){return new Promise((k,R)=>{const Y=Math.max(I-Date.now(),0),ae=setTimeout(k,Y);A.addEventListener(()=>{clearTimeout(ae),R(fr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,k);try{const ae=yield Y.client.fetch(I);return yield Y.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function Zr(A){if(!(A instanceof ue.ZR&&A.customData))return!1;const I=Number(A.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ae))throw ae;const xe={throttleEndTimeMillis:Date.now()+(0,ue.$s)(R),backoffCount:R+1};return yield Y.storage.setThrottleMetadata(xe),Y.attemptFetch(I,xe)}})()}}class lc{constructor(I,k,R,Y,ae){this.app=I,this._client=k,this._storageCache=R,this._storage=Y,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Hu(A,I){var k;const R=A.target.error||void 0;return fr.create(I,{originalErrorMessage:R&&(null===(k=R)||void 0===k?void 0:k.message)})}const Mi="app_namespace_store";class dc{constructor(I,k,R,Y=function Ju(){return new Promise((A,I)=>{var k;try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=Y=>{I(Hu(Y,"storage-open"))},R.onsuccess=Y=>{A(Y.target.result)},R.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(Mi,{keyPath:"compositeKey"})}}catch(R){I(fr.create("storage-open",{originalErrorMessage:null===(k=R)||void 0===k?void 0:k.message}))}})}()){this.appId=I,this.appName=k,this.namespace=R,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var k=this;return(0,U.Z)(function*(){const R=yield k.openDbPromise;return new Promise((Y,ae)=>{var xe;const ht=R.transaction([Mi],"readonly").objectStore(Mi),Ot=k.createCompositeKey(I);try{const Rt=ht.get(Ot);Rt.onerror=yt=>{ae(Hu(yt,"storage-get"))},Rt.onsuccess=yt=>{const lr=yt.target.result;Y(lr?lr.value:void 0)}}catch(Rt){ae(fr.create("storage-get",{originalErrorMessage:null===(xe=Rt)||void 0===xe?void 0:xe.message}))}})})()}set(I,k){var R=this;return(0,U.Z)(function*(){const Y=yield R.openDbPromise;return new Promise((ae,xe)=>{var Je;const Ot=Y.transaction([Mi],"readwrite").objectStore(Mi),Rt=R.createCompositeKey(I);try{const yt=Ot.put({compositeKey:Rt,value:k});yt.onerror=lr=>{xe(Hu(lr,"storage-set"))},yt.onsuccess=()=>{ae()}}catch(yt){xe(fr.create("storage-set",{originalErrorMessage:null===(Je=yt)||void 0===Je?void 0:Je.message}))}})})()}delete(I){var k=this;return(0,U.Z)(function*(){const R=yield k.openDbPromise;return new Promise((Y,ae)=>{var xe;const ht=R.transaction([Mi],"readwrite").objectStore(Mi),Ot=k.createCompositeKey(I);try{const Rt=ht.delete(Ot);Rt.onerror=yt=>{ae(Hu(yt,"storage-delete"))},Rt.onsuccess=()=>{Y()}}catch(Rt){ae(fr.create("storage-delete",{originalErrorMessage:null===(xe=Rt)||void 0===xe?void 0:xe.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class hc{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,U.Z)(function*(){const k=I.storage.getLastFetchStatus(),R=I.storage.getLastSuccessfulFetchTimestampMillis(),Y=I.storage.getActiveConfig(),ae=yield k;ae&&(I.lastFetchStatus=ae);const xe=yield R;xe&&(I.lastSuccessfulFetchTimestampMillis=xe);const Je=yield Y;Je&&(I.activeConfig=Je)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function $p(){return No.apply(this,arguments)}function No(){return(No=(0,U.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(A){return!1}})).apply(this,arguments)}!function Ta(){(0,oe._registerComponent)(new pe.wA("remote-config",function A(I,{instanceIdentifier:k}){const R=I.getProvider("app").getImmediate(),Y=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw fr.create("registration-window");if(!(0,ue.hl)())throw fr.create("indexed-db-unavailable");const{projectId:ae,apiKey:xe,appId:Je}=R.options;if(!ae)throw fr.create("registration-project-id");if(!xe)throw fr.create("registration-api-key");if(!Je)throw fr.create("registration-app-id");const ht=new dc(Je,R.name,k=k||"firebase"),Ot=new hc(ht),Rt=new he.Yd(oo);Rt.logLevel=he.in.ERROR;const yt=new Vd(Y,oe.SDK_VERSION,k,ae,xe,Je),lr=new Bd(yt,ht),Wn=new ac(lr,ht,Ot,Rt),Hi=new lc(R,Wn,Ot,ht,Rt);return function qd(A){const I=(0,ue.m9)(A);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Hi),Hi},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(oo,"0.3.11"),(0,oe.registerVersion)(oo,"0.3.11","esm2017")}();const $d="/firebase-messaging-sw.js",Ms="/firebase-cloud-messaging-push-scope",Wu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",pc="google.c.a.c_id",Ps="google.c.a.c_l",Pi="google.c.a.ts",pi="google.c.a.e";var Oi=(()=>{return(A=Oi||(Oi={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",Oi;var A})();function ln(A){const I=new Uint8Array(A);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ku(A){const k=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),R=atob(k),Y=new Uint8Array(R.length);for(let ae=0;ae<R.length;++ae)Y[ae]=R.charCodeAt(ae);return Y}const wa="fcm_token_details_db",Xu="fcm_token_object_Store";function Gd(A){return qn.apply(this,arguments)}function qn(){return qn=(0,U.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes(wa))return null;let I=null;return(yield(0,de.X3)(wa,5,{upgrade:(R=(0,U.Z)(function*(Y,ae,xe,Je){var ht;if(ae<2||!Y.objectStoreNames.contains(Xu))return;const Ot=Je.objectStore(Xu),Rt=yield Ot.index("fcmSenderId").get(A);if(yield Ot.clear(),Rt)if(2===ae){const yt=Rt;if(!yt.auth||!yt.p256dh||!yt.endpoint)return;I={token:yt.fcmToken,createTime:null!==(ht=yt.createTime)&&void 0!==ht?ht:Date.now(),subscriptionOptions:{auth:yt.auth,p256dh:yt.p256dh,endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:"string"==typeof yt.vapidKey?yt.vapidKey:ln(yt.vapidKey)}}}else if(3===ae){const yt=Rt;I={token:yt.fcmToken,createTime:yt.createTime,subscriptionOptions:{auth:ln(yt.auth),p256dh:ln(yt.p256dh),endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:ln(yt.vapidKey)}}}else if(4===ae){const yt=Rt;I={token:yt.fcmToken,createTime:yt.createTime,subscriptionOptions:{auth:ln(yt.auth),p256dh:ln(yt.p256dh),endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:ln(yt.vapidKey)}}}}),function(ae,xe,Je,ht){return R.apply(this,arguments)})})).close(),yield(0,de.Lj)(wa),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),Gp(I)?I:null;var R}),qn.apply(this,arguments)}function Gp(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:I}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Nn="firebase-messaging-store";let iu=null;function ba(){return iu||(iu=(0,de.X3)("firebase-messaging-database",1,{upgrade:(A,I)=>{0===I&&A.createObjectStore(Nn)}})),iu}function Ho(A){return kr.apply(this,arguments)}function kr(){return(kr=(0,U.Z)(function*(A){const I=ns(A),R=yield(yield ba()).transaction(Nn).objectStore(Nn).get(I);if(R)return R;{const Y=yield Gd(A.appConfig.senderId);if(Y)return yield Rs(A,Y),Y}})).apply(this,arguments)}function Rs(A,I){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,U.Z)(function*(A,I){const k=ns(A),Y=(yield ba()).transaction(Nn,"readwrite");return yield Y.objectStore(Nn).put(I,k),yield Y.done,I})).apply(this,arguments)}function Jo(A){return $r.apply(this,arguments)}function $r(){return($r=(0,U.Z)(function*(A){const I=ns(A),R=(yield ba()).transaction(Nn,"readwrite");yield R.objectStore(Nn).delete(I),yield R.done})).apply(this,arguments)}function ns({appConfig:A}){return A.appId}const gt=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fc(A,I){return rs.apply(this,arguments)}function rs(){return(rs=(0,U.Z)(function*(A,I){var k;const R=yield Ur(A),Y=$t(I),ae={method:"POST",headers:R,body:JSON.stringify(Y)};let xe;try{xe=yield(yield fetch(Fs(A.appConfig),ae)).json()}catch(Je){throw gt.create("token-subscribe-failed",{errorInfo:null===(k=Je)||void 0===k?void 0:k.toString()})}if(xe.error)throw gt.create("token-subscribe-failed",{errorInfo:xe.error.message});if(!xe.token)throw gt.create("token-subscribe-no-token");return xe.token})).apply(this,arguments)}function Hd(A,I){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,U.Z)(function*(A,I){var k;const R=yield Ur(A),Y=$t(I.subscriptionOptions),ae={method:"PATCH",headers:R,body:JSON.stringify(Y)};let xe;try{xe=yield(yield fetch(`${Fs(A.appConfig)}/${I.token}`,ae)).json()}catch(Je){throw gt.create("token-update-failed",{errorInfo:null===(k=Je)||void 0===k?void 0:k.toString()})}if(xe.error)throw gt.create("token-update-failed",{errorInfo:xe.error.message});if(!xe.token)throw gt.create("token-update-no-token");return xe.token})).apply(this,arguments)}function Aa(A,I){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,U.Z)(function*(A,I){var k;const Y={method:"DELETE",headers:yield Ur(A)};try{const xe=yield(yield fetch(`${Fs(A.appConfig)}/${I}`,Y)).json();if(xe.error)throw gt.create("token-unsubscribe-failed",{errorInfo:xe.error.message})}catch(ae){throw gt.create("token-unsubscribe-failed",{errorInfo:null===(k=ae)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function Fs({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function Ur(A){return Se.apply(this,arguments)}function Se(){return(Se=(0,U.Z)(function*({appConfig:A,installations:I}){const k=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function $t({p256dh:A,auth:I,endpoint:k,vapidKey:R}){const Y={web:{endpoint:k,auth:I,p256dh:A}};return R!==Wu&&(Y.web.applicationPubKey=R),Y}const qs=6048e5;function os(A){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,U.Z)(function*(A){const I=yield su(A.swRegistration,A.vapidKey),k={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:I.endpoint,auth:ln(I.getKey("auth")),p256dh:ln(I.getKey("p256dh"))},R=yield Ho(A.firebaseDependencies);if(R){if(Fi(R.subscriptionOptions,k))return Date.now()>=R.createTime+qs?_o(A,{token:R.token,createTime:Date.now(),subscriptionOptions:k}):R.token;try{yield Aa(A.firebaseDependencies,R.token)}catch(Y){console.warn(Y)}return Vs(A.firebaseDependencies,k)}return Vs(A.firebaseDependencies,k)})).apply(this,arguments)}function Ia(A){return is.apply(this,arguments)}function is(){return(is=(0,U.Z)(function*(A){const I=yield Ho(A.firebaseDependencies);I&&(yield Aa(A.firebaseDependencies,I.token),yield Jo(A.firebaseDependencies));const k=yield A.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function _o(A,I){return ss.apply(this,arguments)}function ss(){return(ss=(0,U.Z)(function*(A,I){try{const k=yield Hd(A.firebaseDependencies,I),R=Object.assign(Object.assign({},I),{token:k,createTime:Date.now()});return yield Rs(A.firebaseDependencies,R),k}catch(k){throw yield Ia(A),k}})).apply(this,arguments)}function Vs(A,I){return Li.apply(this,arguments)}function Li(){return(Li=(0,U.Z)(function*(A,I){const R={token:yield fc(A,I),createTime:Date.now(),subscriptionOptions:I};return yield Rs(A,R),R.token})).apply(this,arguments)}function su(A,I){return gc.apply(this,arguments)}function gc(){return(gc=(0,U.Z)(function*(A,I){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ku(I)})})).apply(this,arguments)}function Fi(A,I){return I.vapidKey===A.vapidKey&&I.endpoint===A.endpoint&&I.auth===A.auth&&I.p256dh===A.p256dh}function nr(A){const I={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function Uo(A,I){if(!I.notification)return;A.notification={};const k=I.notification.title;k&&(A.notification.title=k);const R=I.notification.body;R&&(A.notification.body=R);const Y=I.notification.image;Y&&(A.notification.image=Y)}(I,A),function Bs(A,I){!I.data||(A.data=I.data)}(I,A),function fi(A,I){var k,R,Y,ae,xe;if(!(I.fcmOptions||null!==(k=I.notification)&&void 0!==k&&k.click_action))return;A.fcmOptions={};const Je=null!==(Y=null===(R=I.fcmOptions)||void 0===R?void 0:R.link)&&void 0!==Y?Y:null===(ae=I.notification)||void 0===ae?void 0:ae.click_action;Je&&(A.fcmOptions.link=Je);const ht=null===(xe=I.fcmOptions)||void 0===xe?void 0:xe.analytics_label;ht&&(A.fcmOptions.analyticsLabel=ht)}(I,A),I}function Wo(A){return"object"==typeof A&&!!A&&pc in A}function au(A,I){const k=[];for(let R=0;R<A.length;R++)k.push(A.charAt(R)),R<I.length&&k.push(I.charAt(R));return k.join("")}function js(A){return gt.create("missing-app-config-values",{valueName:A})}au("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),au("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Jd{constructor(I,k,R){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function tl(A){if(!A||!A.options)throw js("App Configuration Object");if(!A.name)throw js("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:k}=A;for(const R of I)if(!k[R])throw js(R);return{appName:A.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Y,installations:k,analyticsProvider:R}}_delete(){return Promise.resolve()}}function $s(A){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,U.Z)(function*(A){var I;try{A.swRegistration=yield navigator.serviceWorker.register($d,{scope:Ms}),A.swRegistration.update().catch(()=>{})}catch(k){throw gt.create("failed-service-worker-registration",{browserErrorMessage:null===(I=k)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function uu(A,I){return qi.apply(this,arguments)}function qi(){return(qi=(0,U.Z)(function*(A,I){if(!I&&!A.swRegistration&&(yield $s(A)),I||!A.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw gt.create("invalid-sw-registration");A.swRegistration=I}})).apply(this,arguments)}function nl(A,I){return gi.apply(this,arguments)}function gi(){return(gi=(0,U.Z)(function*(A,I){I?A.vapidKey=I:A.vapidKey||(A.vapidKey=Wu)})).apply(this,arguments)}function Ea(){return(Ea=(0,U.Z)(function*(A,I){if(!navigator)throw gt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gt.create("permission-blocked");return yield nl(A,null==I?void 0:I.vapidKey),yield uu(A,null==I?void 0:I.serviceWorkerRegistration),os(A)})).apply(this,arguments)}function mc(A,I,k){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,U.Z)(function*(A,I,k){const R=_c(I);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(R,{message_id:k[pc],message_name:k[Ps],message_time:k[Pi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _c(A){switch(A){case Oi.NOTIFICATION_CLICKED:return"notification_open";case Oi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function lu(){return(lu=(0,U.Z)(function*(A,I){const k=I.data;if(!k.isFirebaseMessaging)return;A.onMessageHandler&&k.messageType===Oi.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(nr(k)):A.onMessageHandler.next(nr(k)));const R=k.data;Wo(R)&&"1"===R[pi]&&(yield mc(A,k.messageType,R))})).apply(this,arguments)}const Da="@firebase/messaging",Mo=A=>{const I=new Jd(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Js(A,I){return lu.apply(this,arguments)}(I,k)),I},jn=A=>{const I=A.getProvider("messaging").getImmediate();return{getToken:R=>function rl(A,I){return Ea.apply(this,arguments)}(I,R)}};function vc(){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,U.Z)(function*(){try{yield(0,ue.eu)()}catch(A){return!1}return"undefined"!=typeof window&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function yc(){(0,oe._registerComponent)(new pe.wA("messaging",Mo,"PUBLIC")),(0,oe._registerComponent)(new pe.wA("messaging-internal",jn,"PRIVATE")),(0,oe.registerVersion)(Da,"0.9.16"),(0,oe.registerVersion)(Da,"0.9.16","esm2017")}();const du="analytics",Qo="firebase_id",Hp="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ls="https://www.googletagmanager.com/gtag/js",ur=new he.Yd("@firebase/analytics");function pu(A){return Promise.all(A.map(I=>I.catch(k=>k)))}function Jp(A,I){const k=document.createElement("script");k.src=`${ls}?l=${A}&id=${I}`,k.async=!0,document.head.appendChild(k)}function zp(A,I,k,R,Y,ae){return cs.apply(this,arguments)}function cs(){return(cs=(0,U.Z)(function*(A,I,k,R,Y,ae){const xe=R[Y];try{if(xe)yield I[xe];else{const ht=(yield pu(k)).find(Ot=>Ot.measurementId===Y);ht&&(yield I[ht.appId])}}catch(Je){ur.error(Je)}A("config",Y,ae)})).apply(this,arguments)}function zd(A,I,k,R,Y){return mi.apply(this,arguments)}function mi(){return(mi=(0,U.Z)(function*(A,I,k,R,Y){try{let ae=[];if(Y&&Y.send_to){let xe=Y.send_to;Array.isArray(xe)||(xe=[xe]);const Je=yield pu(k);for(const ht of xe){const Ot=Je.find(yt=>yt.measurementId===ht),Rt=Ot&&I[Ot.appId];if(!Rt){ae=[];break}ae.push(Rt)}}0===ae.length&&(ae=Object.values(I)),yield Promise.all(ae),A("event",R,Y||{})}catch(ae){ur.error(ae)}})).apply(this,arguments)}function Kd(){const A=window.document.getElementsByTagName("script");for(const I of Object.values(A))if(I.src&&I.src.includes(ls))return I;return null}const yo=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Qp=new class wc{constructor(I={},k=1e3){this.throttleMetadata=I,this.intervalMillis=k}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,k){this.throttleMetadata[I]=k}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Kp(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function In(A){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,U.Z)(function*(A){var I;const{appId:k,apiKey:R}=A,Y={method:"GET",headers:Kp(R)},ae=Hp.replace("{app-id}",k),xe=yield fetch(ae,Y);if(200!==xe.status&&304!==xe.status){let Je="";try{const ht=yield xe.json();null!==(I=ht.error)&&void 0!==I&&I.message&&(Je=ht.error.message)}catch(ht){}throw yo.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:Je})}return xe.json()})).apply(this,arguments)}function _i(A){return bc.apply(this,arguments)}function bc(){return(bc=(0,U.Z)(function*(A,I=Qp,k){const{appId:R,apiKey:Y,measurementId:ae}=A.options;if(!R)throw yo.create("no-app-id");if(!Y){if(ae)return{measurementId:ae,appId:R};throw yo.create("no-api-key")}const xe=I.getThrottleMetadata(R)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Je=new ds;return setTimeout((0,U.Z)(function*(){Je.abort()}),void 0!==k?k:6e4),Vi({appId:R,apiKey:Y,measurementId:ae},xe,Je,I)})).apply(this,arguments)}function Vi(A,I,k){return Po.apply(this,arguments)}function Po(){return(Po=(0,U.Z)(function*(A,{throttleEndTimeMillis:I,backoffCount:k},R,Y=Qp){var ae,xe;const{appId:Je,measurementId:ht}=A;try{yield Ws(R,I)}catch(Ot){if(ht)return ur.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ht} provided in the "measurementId" field in the local Firebase config. [${null===(ae=Ot)||void 0===ae?void 0:ae.message}]`),{appId:Je,measurementId:ht};throw Ot}try{const Ot=yield In(A);return Y.deleteThrottleMetadata(Je),Ot}catch(Ot){const Rt=Ot;if(!gu(Rt)){if(Y.deleteThrottleMetadata(Je),ht)return ur.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ht} provided in the "measurementId" field in the local Firebase config. [${null==Rt?void 0:Rt.message}]`),{appId:Je,measurementId:ht};throw Ot}const yt=503===Number(null===(xe=null==Rt?void 0:Rt.customData)||void 0===xe?void 0:xe.httpStatus)?(0,ue.$s)(k,Y.intervalMillis,30):(0,ue.$s)(k,Y.intervalMillis),lr={throttleEndTimeMillis:Date.now()+yt,backoffCount:k+1};return Y.setThrottleMetadata(Je,lr),ur.debug(`Calling attemptFetch again in ${yt} millis`),Vi(A,lr,R,Y)}})).apply(this,arguments)}function Ws(A,I){return new Promise((k,R)=>{const Y=Math.max(I-Date.now(),0),ae=setTimeout(k,Y);A.addEventListener(()=>{clearTimeout(ae),R(yo.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function gu(A){if(!(A instanceof ue.ZR&&A.customData))return!1;const I=Number(A.customData.httpStatus);return 429===I||500===I||503===I||504===I}class ds{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Bi,yi;function K(){return(K=(0,U.Z)(function*(A,I,k,R,Y){if(Y&&Y.global)A("event",k,R);else{const ae=yield I;A("event",k,Object.assign(Object.assign({},R),{send_to:ae}))}})).apply(this,arguments)}function Ac(A){yi=A}function Ua(A){Bi=A}function sl(){return al.apply(this,arguments)}function al(){return(al=(0,U.Z)(function*(){var A;if(!(0,ue.hl)())return ur.warn(yo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(I){return ur.warn(yo.create("indexeddb-unavailable",{errorInfo:null===(A=I)||void 0===A?void 0:A.toString()}).message),!1}return!0})).apply(this,arguments)}function Ma(){return(Ma=(0,U.Z)(function*(A,I,k,R,Y,ae,xe){var Je;const ht=_i(A);ht.then(Wn=>{k[Wn.measurementId]=Wn.appId,A.options.measurementId&&Wn.measurementId!==A.options.measurementId&&ur.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${Wn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Wn=>ur.error(Wn)),I.push(ht);const Ot=sl().then(Wn=>{if(Wn)return R.getId()}),[Rt,yt]=yield Promise.all([ht,Ot]);Kd()||Jp(ae,Rt.measurementId),yi&&(Y("consent","default",yi),Ac(void 0)),Y("js",new Date);const lr=null!==(Je=null==xe?void 0:xe.config)&&void 0!==Je?Je:{};return lr.origin="firebase",lr.update=!0,null!=yt&&(lr[Qo]=yt),Y("config",Rt.measurementId,lr),Bi&&(Y("set",Bi),Ua(void 0)),Rt.measurementId})).apply(this,arguments)}class an{constructor(I){this.app=I}_delete(){return delete Mr[this.app.options.appId],Promise.resolve()}}let Mr={},Mn=[];const Ko={};let Ic,Oo,Gi="dataLayer",cn=!1;function Pa(A,I,k){!function Ec(){const A=[];if((0,ue.ru)()&&A.push("This is a browser extension environment."),(0,ue.zI)()||A.push("Cookies are not available."),A.length>0){const I=A.map((R,Y)=>`(${Y+1}) ${R}`).join(" "),k=yo.create("invalid-analytics-context",{errorInfo:I});ur.warn(k.message)}}();const R=A.options.appId;if(!R)throw yo.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw yo.create("no-api-key");ur.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Mr[R])throw yo.create("already-exists",{id:R});if(!cn){!function Wp(A){let I=[];Array.isArray(window[A])?I=window[A]:window[A]=I}(Gi);const{wrappedGtag:ae,gtagCore:xe}=function Qd(A,I,k,R,Y){let ae=function(...xe){window[R].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ae=window[Y]),window[Y]=function fu(A,I,k,R){function ae(){return(ae=(0,U.Z)(function*(xe,Je,ht){try{"event"===xe?yield zd(A,I,k,Je,ht):"config"===xe?yield zp(A,I,k,R,Je,ht):"consent"===xe?A("consent","update",ht):A("set",Je)}catch(Ot){ur.error(Ot)}})).apply(this,arguments)}return function Y(xe,Je,ht){return ae.apply(this,arguments)}}(ae,A,I,k),{gtagCore:ae,wrappedGtag:window[Y]}}(Mr,Mn,Ko,Gi,"gtag");Oo=ae,Ic=xe,cn=!0}return Mr[R]=function Un(A,I,k,R,Y,ae,xe){return Ma.apply(this,arguments)}(A,Mn,Ko,I,Ic,Gi,k),new an(A)}function Oa(){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,U.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(A){return!1}})).apply(this,arguments)}const Tu="@firebase/analytics";!function Yo(){(0,oe._registerComponent)(new pe.wA(du,(I,{options:k})=>Pa(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,oe._registerComponent)(new pe.wA("analytics-internal",function A(I){try{const k=I.getProvider(du).getImmediate();return{logEvent:(R,Y,ae)=>function zs(A,I,k,R){A=(0,ue.m9)(A),function mr(A,I,k,R,Y){return K.apply(this,arguments)}(Oo,Mr[A.app.options.appId],I,k,R).catch(Y=>ur.error(Y))}(k,R,Y,ae)}}catch(k){throw yo.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,oe.registerVersion)(Tu,"0.8.0"),(0,oe.registerVersion)(Tu,"0.8.0","esm2017")}();var cl=M(4408),fs=M(7565);const dl=new class Qs extends fs.v{}(class ps extends cl.o{constructor(I,k){super(I,k),this.scheduler=I,this.work=k}schedule(I,k=0){return k>0?super.schedule(I,k):(this.delay=k,this.state=I,this.scheduler.flush(this),this)}execute(I,k){return k>0||this.closed?super.execute(I,k):this._execute(I,k)}requestAsyncId(I,k,R=0){return null!=R&&R>0||null==R&&this.delay>0?super.requestAsyncId(I,k,R):I.flush(this)}});var th=M(4986),Xo=M(8505),Ar=M(9468),Hr=M(5363);const Sc=new e.GfV("7.4.1"),vi="__angularfire_symbol__analyticsIsSupportedValue",xn="__angularfire_symbol__analyticsIsSupported",gs="__angularfire_symbol__remoteConfigIsSupportedValue",Ra="__angularfire_symbol__remoteConfigIsSupported",Ks="__angularfire_symbol__messagingIsSupportedValue",hl="__angularfire_symbol__messagingIsSupported";function La(A,I,k){if(I){if(1===I.length)return I[0];const ae=I.filter(xe=>xe.app===k);if(1===ae.length)return ae[0]}return k.container.getProvider(A).getImmediate({optional:!0})}globalThis[xn]||(globalThis[xn]=Oa().then(A=>globalThis[vi]=A).catch(()=>globalThis[vi]=!1)),globalThis[hl]||(globalThis[hl]=vc().then(A=>globalThis[Ks]=A).catch(()=>globalThis[Ks]=!1)),globalThis[Ra]||(globalThis[Ra]=$p().then(A=>globalThis[gs]=A).catch(()=>globalThis[gs]=!1));const gm=(A,I)=>{const k=I?[I]:(0,L.C6)(),R=[];return k.forEach(Y=>{Y.container.getProvider(A).instances.forEach(xe=>{R.includes(xe)||R.push(xe)})}),R};function Ro(){}class pl{constructor(I,k=dl){this.zone=I,this.delegate=k}now(){return this.delegate.now()}schedule(I,k,R){const Y=this.zone;return this.delegate.schedule(function(xe){Y.runGuarded(()=>{I.apply(this,[xe])})},k,R)}}class Fa{constructor(I){this.zone=I,this.task=null}call(I,k){const R=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ro,{},Ro,Ro)),k.pipe((0,Xo.b)({next:R,complete:R,error:R})).subscribe(I).add(R)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let rh=(()=>{class A{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new pl(Zone.current)),this.insideAngular=k.run(()=>new pl(Zone.current,th.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(k){return new(k||A)(e.LFG(e.R0b))},A.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function ei(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function Xs(A){return ei(),function pn(A){return function(k){return(k=k.lift(new Fa(A.ngZone))).pipe((0,Ar.R)(A.outsideAngular),(0,Hr.Q)(A.insideAngular))}}(ei())(A)}},2227:(it,we,M)=>{M.d(we,{$:()=>Gs,A:()=>Ke,B:()=>Cn,G:()=>sc,H:()=>Zr,J:()=>ln,L:()=>Nt,M:()=>Rs,N:()=>ns,P:()=>Xs,Q:()=>el,R:()=>fm,T:()=>gt,U:()=>$r,V:()=>Ls,W:()=>Aa,X:()=>$t,Y:()=>Bs,Z:()=>Wo,_:()=>tl,a:()=>Ua,a0:()=>rl,a1:()=>mc,a2:()=>_c,a3:()=>lu,a4:()=>gr,a5:()=>jn,a6:()=>vc,a7:()=>Cc,a8:()=>cu,a9:()=>Wd,aA:()=>uh,aB:()=>sh,aC:()=>wi,aD:()=>ys,aE:()=>tr,aI:()=>Un,aL:()=>rs,aa:()=>il,ab:()=>du,ac:()=>us,af:()=>ur,ag:()=>Jp,ah:()=>Wp,ak:()=>is,al:()=>Za,an:()=>gu,ao:()=>_u,ap:()=>ru,aq:()=>lt,ar:()=>ut,as:()=>Br,at:()=>Tn,au:()=>yl,av:()=>kc,aw:()=>mn,ax:()=>Pe,ay:()=>rn,az:()=>ko,b:()=>yi,c:()=>ae,d:()=>Ot,e:()=>Je,f:()=>mm,g:()=>_m,h:()=>ih,i:()=>Tu,j:()=>ym,k:()=>pf,l:()=>pl,m:()=>so,o:()=>Tt,r:()=>rh,s:()=>gm,u:()=>bu});var e=M(5861),L=M(2090),U=M(9681);function he(v,p){var m={};for(var C in v)Object.prototype.hasOwnProperty.call(v,C)&&p.indexOf(C)<0&&(m[C]=v[C]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(C=Object.getOwnPropertySymbols(v);S<C.length;S++)p.indexOf(C[S])<0&&Object.prototype.propertyIsEnumerable.call(v,C[S])&&(m[C[S]]=v[C[S]])}return m}var _e=M(1877),le=M(4859);const Tt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ke={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Cn=function bn(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},nn=function Hn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Jn=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Rn=new _e.Yd("@firebase/auth");function go(v,...p){Rn.logLevel<=_e.in.ERROR&&Rn.error(`Auth (${U.SDK_VERSION}): ${v}`,...p)}function Tn(v,...p){throw no(v,...p)}function mn(v,...p){return no(v,...p)}function Ni(v,p,m){const C=Object.assign(Object.assign({},nn()),{[p]:m});return new L.LL("auth","Firebase",C).create(p,{appName:v.name})}function Cr(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Tn(v,"argument-error"),Ni(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function no(v,...p){if("string"!=typeof v){const m=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(m,...C)}return Jn.create(v,...p)}function Pe(v,p,...m){if(!v)throw no(p,...m)}function sr(v){const p="INTERNAL ASSERTION FAILED: "+v;throw go(p),new Error(p)}function lt(v,p){v||sr(p)}const Tr=new Map;function rn(v){lt(v instanceof Function,"Expected a class definition");let p=Tr.get(v);return p?(lt(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Tr.set(v,p),p)}function qr(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function zn(){return"http:"===Dn()||"https:"===Dn()}function Dn(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Bt{constructor(p,m){this.shortDelay=p,this.longDelay=m,lt(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function xr(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zn()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ze(v,p){lt(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class vt{static initialize(p,m,C){this.fetchImpl=p,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ar=new Bt(3e4,6e4);function ct(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function on(v,p,m,C){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,e.Z)(function*(v,p,m,C,S={}){return Ln(v,S,(0,e.Z)(function*(){let Z={},$={};C&&("GET"===p?$=C:Z={body:JSON.stringify(C)});const fe=(0,L.xO)(Object.assign({key:v.config.apiKey},$)).slice(1),We=yield v._getAdditionalHeaders();return We["Content-Type"]="application/json",v.languageCode&&(We["X-Firebase-Locale"]=v.languageCode),vt.fetch()(j(v,v.config.apiHost,m,fe),Object.assign({method:p,headers:We,referrerPolicy:"no-referrer"},Z))}))})).apply(this,arguments)}function Ln(v,p,m){return en.apply(this,arguments)}function en(){return(en=(0,e.Z)(function*(v,p,m){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},hi),p);try{const S=new F(v),Z=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const $=yield Z.json();if("needConfirmation"in $)throw W(v,"account-exists-with-different-credential",$);if(Z.ok&&!("errorMessage"in $))return $;{const fe=Z.ok?$.errorMessage:$.error.message,[We,Re]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===We)throw W(v,"credential-already-in-use",$);if("EMAIL_EXISTS"===We)throw W(v,"email-already-in-use",$);if("USER_DISABLED"===We)throw W(v,"user-disabled",$);const wt=C[We]||We.toLowerCase().replace(/[_\s]+/g,"-");if(Re)throw Ni(v,wt,Re);Tn(v,wt)}}catch(S){if(S instanceof L.ZR)throw S;Tn(v,"network-request-failed")}})).apply(this,arguments)}function Sn(v,p,m,C){return B.apply(this,arguments)}function B(){return(B=(0,e.Z)(function*(v,p,m,C,S={}){const Z=yield on(v,p,m,C,S);return"mfaPendingCredential"in Z&&Tn(v,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function j(v,p,m,C){const S=`${p}${m}?${C}`;return v.config.emulator?ze(v.config,S):`${v.config.apiScheme}://${S}`}class F{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(mn(this.auth,"network-request-failed")),ar.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function W(v,p,m){const C={appName:v.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const S=mn(v,p,C);return S.customData._tokenResponse=m,S}function ke(){return(ke=(0,e.Z)(function*(v,p){return on(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ye(v,p){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,e.Z)(function*(v,p){return on(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function dn(v,p){return sn.apply(this,arguments)}function sn(){return(sn=(0,e.Z)(function*(v,p){return on(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function pr(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function V(){return(V=(0,e.Z)(function*(v,p=!1){const m=(0,L.m9)(v),C=yield m.getIdToken(p),S=Ve(C);Pe(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const Z="object"==typeof S.firebase?S.firebase:void 0,$=null==Z?void 0:Z.sign_in_provider;return{claims:S,token:C,authTime:pr(ve(S.auth_time)),issuedAtTime:pr(ve(S.iat)),expirationTime:pr(ve(S.exp)),signInProvider:$||null,signInSecondFactor:(null==Z?void 0:Z.sign_in_second_factor)||null}})).apply(this,arguments)}function ve(v){return 1e3*Number(v)}function Ve(v){var p;const[m,C,S]=v.split(".");if(void 0===m||void 0===C||void 0===S)return go("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,L.tV)(C);return Z?JSON.parse(Z):(go("Failed to decode base64 JWT payload"),null)}catch(Z){return go("Caught error parsing JWT payload as JSON",null===(p=Z)||void 0===p?void 0:p.toString()),null}}function Dt(v,p){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,e.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(C){throw C instanceof L.ZR&&An(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function An({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Fn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,e.Z)(function*(){yield m.iteration()}),C)}iteration(){var p=this;return(0,e.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(m=C)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class wn{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=pr(this.lastLoginAt),this.creationTime=pr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vt(v){return kn.apply(this,arguments)}function kn(){return(kn=(0,e.Z)(function*(v){var p;const m=v.auth,C=yield v.getIdToken(),S=yield Dt(v,dn(m,{idToken:C}));Pe(null==S?void 0:S.users.length,m,"internal-error");const Z=S.users[0];v._notifyReloadListener(Z);const $=null!==(p=Z.providerUserInfo)&&void 0!==p&&p.length?Vr(Z.providerUserInfo):[],fe=_n(v.providerData,$),wt=!!v.isAnonymous&&!(v.email&&Z.passwordHash||null!=fe&&fe.length),fn={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:fe,metadata:new wn(Z.createdAt,Z.lastLoginAt),isAnonymous:wt};Object.assign(v,fn)})).apply(this,arguments)}function kt(){return(kt=(0,e.Z)(function*(v){const p=(0,L.m9)(v);yield Vt(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function _n(v,p){return[...v.filter(C=>!p.some(S=>S.providerId===C.providerId)),...p]}function Vr(v){return v.map(p=>{var{providerId:m}=p,C=he(p,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Qn(){return(Qn=(0,e.Z)(function*(v,p){const m=yield Ln(v,{},(0,e.Z)(function*(){const C=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:Z}=v.config,$=j(v,S,"/v1/token",`key=${Z}`),fe=yield v._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",vt.fetch()($,{method:"POST",headers:fe,body:C})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Pe(p.idToken,"internal-error"),Pe(void 0!==p.idToken,"internal-error"),Pe(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function Zt(v){const p=Ve(v);return Pe(p,"internal-error"),Pe(void 0!==p.exp,"internal-error"),Pe(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var C=this;return(0,e.Z)(function*(){return Pe(!C.accessToken||C.refreshToken,p,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var C=this;return(0,e.Z)(function*(){const{accessToken:S,refreshToken:Z,expiresIn:$}=yield function es(v,p){return Qn.apply(this,arguments)}(p,m);C.updateTokensAndExpiration(S,Z,Number($))})()}updateTokensAndExpiration(p,m,C){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,m){const{refreshToken:C,accessToken:S,expirationTime:Z}=m,$=new ro;return C&&(Pe("string"==typeof C,"internal-error",{appName:p}),$.refreshToken=C),S&&(Pe("string"==typeof S,"internal-error",{appName:p}),$.accessToken=S),Z&&(Pe("number"==typeof Z,"internal-error",{appName:p}),$.expirationTime=Z),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return sr("not implemented")}}function hn(v,p){Pe("string"==typeof v||void 0===v,"internal-error",{appName:p})}class oo{constructor(p){var{uid:m,auth:C,stsTokenManager:S}=p,Z=he(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.providerData=Z.providerData?[...Z.providerData]:[],this.metadata=new wn(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,e.Z)(function*(){const C=yield Dt(m,m.stsTokenManager.getToken(m.auth,p));return Pe(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(p){return function q(v){return V.apply(this,arguments)}(this,p)}reload(){return function Xe(v){return kt.apply(this,arguments)}(this)}_assign(p){this!==p&&(Pe(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new oo(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var C=this;return(0,e.Z)(function*(){let S=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield Vt(C)),yield C.auth._persistUserIfCurrent(C),S&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,e.Z)(function*(){const m=yield p.getIdToken();return yield Dt(p,function Q(v,p){return ke.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var C,S,Z,$,fe,We,Re,wt;const fn=null!==(C=m.displayName)&&void 0!==C?C:void 0,En=null!==(S=m.email)&&void 0!==S?S:void 0,ao=null!==(Z=m.phoneNumber)&&void 0!==Z?Z:void 0,Ts=null!==($=m.photoURL)&&void 0!==$?$:void 0,Uc=null!==(fe=m.tenantId)&&void 0!==fe?fe:void 0,mh=null!==(We=m._redirectEventId)&&void 0!==We?We:void 0,Zm=null!==(Re=m.createdAt)&&void 0!==Re?Re:void 0,Ba=null!==(wt=m.lastLoginAt)&&void 0!==wt?wt:void 0,{uid:Mc,emailVerified:mf,isAnonymous:_f,providerData:vl,stsTokenManager:yf}=m;Pe(Mc&&yf,p,"internal-error");const _h=ro.fromJSON(this.name,yf);Pe("string"==typeof Mc,p,"internal-error"),hn(fn,p.name),hn(En,p.name),Pe("boolean"==typeof mf,p,"internal-error"),Pe("boolean"==typeof _f,p,"internal-error"),hn(ao,p.name),hn(Ts,p.name),hn(Uc,p.name),hn(mh,p.name),hn(Zm,p.name),hn(Ba,p.name);const Cl=new oo({uid:Mc,auth:p,email:En,emailVerified:mf,displayName:fn,isAnonymous:_f,photoURL:Ts,phoneNumber:ao,tenantId:Uc,stsTokenManager:_h,createdAt:Zm,lastLoginAt:Ba});return vl&&Array.isArray(vl)&&(Cl.providerData=vl.map(vf=>Object.assign({},vf))),mh&&(Cl._redirectEventId=mh),Cl}static _fromIdTokenResponse(p,m,C=!1){return(0,e.Z)(function*(){const S=new ro;S.updateFromServerResponse(m);const Z=new oo({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:C});return yield Vt(Z),Z})()}}const Nt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,e.Z)(function*(){return!0})()}_set(m,C){var S=this;return(0,e.Z)(function*(){S.storage[m]=C})()}_get(m){var C=this;return(0,e.Z)(function*(){const S=C.storage[m];return void 0===S?null:S})()}_remove(m){var C=this;return(0,e.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return v.type="NONE",v})();function ko(v,p,m){return`firebase:${v}:${p}:${m}`}class mo{constructor(p,m,C){this.persistence=p,this.auth=m,this.userKey=C;const{config:S,name:Z}=this.auth;this.fullUserKey=ko(this.userKey,S.apiKey,Z),this.fullPersistenceKey=ko("persistence",S.apiKey,Z),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,e.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?oo._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,e.Z)(function*(){if(m.persistence===p)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,C="authUser"){return(0,e.Z)(function*(){if(!m.length)return new mo(rn(Nt),p,C);const S=(yield Promise.all(m.map(function(){var Re=(0,e.Z)(function*(wt){if(yield wt._isAvailable())return wt});return function(wt){return Re.apply(this,arguments)}}()))).filter(Re=>Re);let Z=S[0]||rn(Nt);const $=ko(C,p.config.apiKey,p.name);let fe=null;for(const Re of m)try{const wt=yield Re._get($);if(wt){const fn=oo._fromJSON(p,wt);Re!==Z&&(fe=fn),Z=Re;break}}catch(wt){}const We=S.filter(Re=>Re._shouldAllowMigration);return Z._shouldAllowMigration&&We.length?(Z=We[0],fe&&(yield Z._set($,fe.toJSON())),yield Promise.all(m.map(function(){var Re=(0,e.Z)(function*(wt){if(wt!==Z)try{yield wt._remove($)}catch(fn){}});return function(wt){return Re.apply(this,arguments)}}())),new mo(Z,p,C)):new mo(Z,p,C)})()}}function fr(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Ui(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(ts(p))return"Firefox";if(p.includes("silk/"))return"Silk";if($o(p))return"Blackberry";if(ic(p))return"Webos";if(Xn(p))return"Safari";if((p.includes("chrome/")||er(p))&&!p.includes("edge/"))return"Chrome";if(Br(p))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function ts(v=(0,L.z$)()){return/firefox\//i.test(v)}function Xn(v=(0,L.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function er(v=(0,L.z$)()){return/crios\//i.test(v)}function Ui(v=(0,L.z$)()){return/iemobile/i.test(v)}function Br(v=(0,L.z$)()){return/android/i.test(v)}function $o(v=(0,L.z$)()){return/blackberry/i.test(v)}function ic(v=(0,L.z$)()){return/webos/i.test(v)}function ut(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function ru(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function jr(v=(0,L.z$)()){return ut(v)||Br(v)||ic(v)||$o(v)||/windows phone/i.test(v)||Ui(v)}function Us(v,p=[]){let m;switch(v){case"Browser":m=fr((0,L.z$)());break;case"Worker":m=`${fr((0,L.z$)())}-${v}`;break;default:m=v}const C=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${U.SDK_VERSION}/${C}`}class Ca{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const C=Z=>new Promise(($,fe)=>{try{$(p(Z))}catch(We){fe(We)}});C.onAbort=m,this.queue.push(C);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,e.Z)(function*(){var C;if(m.auth.currentUser===p)return;const S=[];try{for(const Z of m.queue)yield Z(p),Z.onAbort&&S.push(Z.onAbort)}catch(Z){S.reverse();for(const $ of S)try{$()}catch(fe){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=Z)||void 0===C?void 0:C.message})}})()}}class Go{constructor(p,m,C){this.app=p,this.heartbeatServiceProvider=m,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cm(this),this.idTokenSubscription=new cm(this),this.beforeStateQueue=new Ca(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(p,m){var C=this;return m&&(this._popupRedirectResolver=rn(m)),this._initializationPromise=this.queue((0,e.Z)(function*(){var S,Z;if(!C._deleted&&(C.persistenceManager=yield mo.create(C,p),!C._deleted)){if(null!==(S=C._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch($){}yield C.initializeCurrentUser(m),C.lastNotifiedUid=(null===(Z=C.currentUser)||void 0===Z?void 0:Z.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,e.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,e.Z)(function*(){var C;const S=yield m.assertedPersistence.getCurrentUser();let Z=S,$=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const fe=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,We=null==Z?void 0:Z._redirectEventId,Re=yield m.tryRedirectSignIn(p);(!fe||fe===We)&&(null==Re?void 0:Re.user)&&(Z=Re.user,$=!0)}if(!Z)return m.directlySetCurrentUser(null);if(!Z._redirectEventId){if($)try{yield m.beforeStateQueue.runMiddleware(Z)}catch(fe){Z=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(fe))}return Z?m.reloadAndSetCurrentUserOrClear(Z):m.directlySetCurrentUser(null)}return Pe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===Z._redirectEventId?m.directlySetCurrentUser(Z):m.reloadAndSetCurrentUserOrClear(Z)})()}tryRedirectSignIn(p){var m=this;return(0,e.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(S){yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,e.Z)(function*(){var C;try{yield Vt(p)}catch(S){if("auth/network-request-failed"!==(null===(C=S)||void 0===C?void 0:C.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ks(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,e.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,e.Z)(function*(){const C=p?(0,L.m9)(p):null;return C&&Pe(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(p,m=!1){var C=this;return(0,e.Z)(function*(){if(!C._deleted)return p&&Pe(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),m||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,e.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,e.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,e.Z)(function*(){yield m.assertedPersistence.setPersistence(rn(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,m,C){return this.registerStateListener(this.authStateSubscription,p,m,C)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,C){return this.registerStateListener(this.idTokenSubscription,p,m,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var C=this;return(0,e.Z)(function*(){const S=yield C.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,e.Z)(function*(){if(!m.redirectPersistenceManager){const C=p&&rn(p)||m._popupRedirectResolver;Pe(C,m,"argument-error"),m.redirectPersistenceManager=yield mo.create(m,[rn(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,e.Z)(function*(){var C,S;return m._isInitialized&&(yield m.queue((0,e.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,e.Z)(function*(){if(p===m.currentUser)return m.queue((0,e.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,C,S){if(this._deleted)return()=>{};const Z="function"==typeof m?m:m.next.bind(m),$=this._isInitialized?Promise.resolve():this._initializationPromise;return Pe($,this,"internal-error"),$.then(()=>Z(this.currentUser)),"function"==typeof m?p.addObserver(m,C,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,e.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Us(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,e.Z)(function*(){var m;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return S&&(C["X-Firebase-Client"]=S),C})()}}function tr(v){return(0,L.m9)(v)}class cm{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function sc(v,p,m){const C=tr(v);Pe(C._canInitEmulator,C,"emulator-config-failed"),Pe(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const S=!(null==m||!m.disableWarnings),Z=ac(p),{host:$,port:fe}=function Bp(v){const p=ac(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(C);if(S){const Z=S[1];return{host:Z,port:Vd(C.substr(Z.length+1))}}{const[Z,$]=C.split(":");return{host:Z,port:Vd($)}}}(p);C.config.emulator={url:`${Z}//${$}${null===fe?"":`:${fe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:$,port:fe,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function dm(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function ac(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Vd(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Zr{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return sr("not implemented")}_getIdTokenResponse(p){return sr("not implemented")}_linkToIdToken(p,m){return sr("not implemented")}_getReauthenticationResolver(p){return sr("not implemented")}}function Bd(v,p){return uc.apply(this,arguments)}function uc(){return(uc=(0,e.Z)(function*(v,p){return on(v,"POST","/v1/accounts:resetPassword",ct(v,p))})).apply(this,arguments)}function jd(v,p){return lc.apply(this,arguments)}function lc(){return(lc=(0,e.Z)(function*(v,p){return on(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Hu(v,p){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,e.Z)(function*(v,p){return on(v,"POST","/v1/accounts:update",ct(v,p))})).apply(this,arguments)}function cc(){return(cc=(0,e.Z)(function*(v,p){return Sn(v,"POST","/v1/accounts:signInWithPassword",ct(v,p))})).apply(this,arguments)}function Ju(v,p){return dc.apply(this,arguments)}function dc(){return(dc=(0,e.Z)(function*(v,p){return on(v,"POST","/v1/accounts:sendOobCode",ct(v,p))})).apply(this,arguments)}function hc(v,p){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,e.Z)(function*(v,p){return Ju(v,p)})).apply(this,arguments)}function hm(v,p){return ou.apply(this,arguments)}function ou(){return(ou=(0,e.Z)(function*(v,p){return Ju(v,p)})).apply(this,arguments)}function $p(v,p){return No.apply(this,arguments)}function No(){return(No=(0,e.Z)(function*(v,p){return Ju(v,p)})).apply(this,arguments)}function $d(v,p){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,e.Z)(function*(v,p){return Ju(v,p)})).apply(this,arguments)}function zu(){return(zu=(0,e.Z)(function*(v,p){return Sn(v,"POST","/v1/accounts:signInWithEmailLink",ct(v,p))})).apply(this,arguments)}function Ps(){return(Ps=(0,e.Z)(function*(v,p){return Sn(v,"POST","/v1/accounts:signInWithEmailLink",ct(v,p))})).apply(this,arguments)}class Pi extends Zr{constructor(p,m,C,S=null){super("password",C),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new Pi(p,m,"password")}static _fromEmailAndCode(p,m,C=null){return new Pi(p,m,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,e.Z)(function*(){switch(m.signInMethod){case"password":return function jp(v,p){return cc.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Wu(v,p){return zu.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Tn(p,"internal-error")}})()}_linkToIdToken(p,m){var C=this;return(0,e.Z)(function*(){switch(C.signInMethod){case"password":return jd(p,{idToken:m,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function pc(v,p){return Ps.apply(this,arguments)}(p,{idToken:m,email:C._email,oobCode:C._password});default:Tn(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function pi(v,p){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,e.Z)(function*(v,p){return Sn(v,"POST","/v1/accounts:signInWithIdp",ct(v,p))})).apply(this,arguments)}class ln extends Zr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new ln(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Tn("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:S}=m,Z=he(m,["providerId","signInMethod"]);if(!C||!S)return null;const $=new ln(C,S);return $.idToken=Z.idToken||void 0,$.accessToken=Z.accessToken||void 0,$.secret=Z.secret,$.nonce=Z.nonce,$.pendingToken=Z.pendingToken||null,$}_getIdTokenResponse(p){return pi(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,pi(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,pi(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,L.xO)(m)}return p}}function Ku(v,p){return wa.apply(this,arguments)}function wa(){return(wa=(0,e.Z)(function*(v,p){return on(v,"POST","/v1/accounts:sendVerificationCode",ct(v,p))})).apply(this,arguments)}function Xu(){return(Xu=(0,e.Z)(function*(v,p){return Sn(v,"POST","/v1/accounts:signInWithPhoneNumber",ct(v,p))})).apply(this,arguments)}function qn(){return(qn=(0,e.Z)(function*(v,p){const m=yield Sn(v,"POST","/v1/accounts:signInWithPhoneNumber",ct(v,p));if(m.temporaryProof)throw W(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Gp={USER_NOT_FOUND:"user-not-found"};function Os(){return(Os=(0,e.Z)(function*(v,p){return Sn(v,"POST","/v1/accounts:signInWithPhoneNumber",ct(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Gp)})).apply(this,arguments)}class Nn extends Zr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Nn({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Nn({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Yu(v,p){return Xu.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Gd(v,p){return qn.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function pm(v,p){return Os.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:C,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:C,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:C,phoneNumber:S,temporaryProof:Z}=p;return C||m||S||Z?new Nn({verificationId:m,verificationCode:C,phoneNumber:S,temporaryProof:Z}):null}}class Ho{constructor(p){var m,C,S,Z,$,fe;const We=(0,L.zd)((0,L.pd)(p)),Re=null!==(m=We.apiKey)&&void 0!==m?m:null,wt=null!==(C=We.oobCode)&&void 0!==C?C:null,fn=function iu(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=We.mode)&&void 0!==S?S:null);Pe(Re&&wt&&fn,"argument-error"),this.apiKey=Re,this.operation=fn,this.code=wt,this.continueUrl=null!==(Z=We.continueUrl)&&void 0!==Z?Z:null,this.languageCode=null!==($=We.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(fe=We.tenantId)&&void 0!==fe?fe:null}static parseLink(p){const m=function ba(v){const p=(0,L.zd)((0,L.pd)(v)).link,m=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,C=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(C?(0,L.zd)((0,L.pd)(C)).link:null)||C||m||p||v}(p);try{return new Ho(m)}catch(C){return null}}}let Rs=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,C){return Pi._fromEmailAndPassword(m,C)}static credentialWithLink(m,C){const S=Ho.parseLink(C);return Pe(S,"argument-error"),Pi._fromEmailAndCode(m,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Nr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Jo extends Nr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class $r extends Jo{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Pe("providerId"in m&&"signInMethod"in m,"argument-error"),ln._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Pe(p.idToken||p.accessToken,"argument-error"),ln._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return $r.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return $r.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:S,pendingToken:Z,nonce:$,providerId:fe}=p;if(!C&&!S&&!m&&!Z||!fe)return null;try{return new $r(fe)._credential({idToken:m,accessToken:C,nonce:$,pendingToken:Z})}catch(We){return null}}}let ns=(()=>{class v extends Jo{constructor(){super("facebook.com")}static credential(m){return ln._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(C){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),el=(()=>{class v extends Jo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return ln._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:S}=m;if(!C&&!S)return null;try{return v.credential(C,S)}catch(Z){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),gt=(()=>{class v extends Jo{constructor(){super("github.com")}static credential(m){return ln._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(C){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class rs extends Zr{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return pi(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,pi(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,pi(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:S,pendingToken:Z}=m;return C&&S&&Z&&C===S?new rs(C,Z):null}static _create(p,m){return new rs(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ls extends Nr{constructor(p){Pe(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ls.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ls.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=rs.fromJSON(p);return Pe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:C}=p;if(!m||!C)return null;try{return rs._create(C,m)}catch(S){return null}}}let Aa=(()=>{class v extends Jo{constructor(){super("twitter.com")}static credential(m,C){return ln._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:S}=m;if(!C||!S)return null;try{return v.credential(C,S)}catch(Z){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ri(v,p){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,e.Z)(function*(v,p){return Sn(v,"POST","/v1/accounts:signUp",ct(v,p))})).apply(this,arguments)}class Ur{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,C,S=!1){return(0,e.Z)(function*(){const Z=yield oo._fromIdTokenResponse(p,C,S),$=Se(C);return new Ur({user:Z,providerId:$,_tokenResponse:C,operationType:m})})()}static _forOperation(p,m,C){return(0,e.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const S=Se(C);return new Ur({user:p,providerId:S,_tokenResponse:C,operationType:m})})()}}function Se(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function $t(v){return qs.apply(this,arguments)}function qs(){return(qs=(0,e.Z)(function*(v){var p;const m=tr(v);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Ur({user:m.currentUser,providerId:null,operationType:"signIn"});const C=yield Ri(m,{returnSecureToken:!0}),S=yield Ur._fromIdTokenResponse(m,"signIn",C,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class os extends L.ZR{constructor(p,m,C,S){var Z;super(m.code,m.message),this.operationType=C,this.user=S,Object.setPrototypeOf(this,os.prototype),this.customData={appName:p.name,tenantId:null!==(Z=p.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,m,C,S){return new os(p,m,C,S)}}function Vn(v,p,m,C){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?os._fromErrorAndOperation(v,Z,p,C):Z})}function Ia(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function is(v,p){return _o.apply(this,arguments)}function _o(){return(_o=(0,e.Z)(function*(v,p){const m=(0,L.m9)(v);yield Li(!0,m,p);const{providerUserInfo:C}=yield Ye(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=Ia(C||[]);return m.providerData=m.providerData.filter(Z=>S.has(Z.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function ss(v,p){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,e.Z)(function*(v,p,m=!1){const C=yield Dt(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return Ur._forOperation(v,"link",C)})).apply(this,arguments)}function Li(v,p,m){return su.apply(this,arguments)}function su(){return(su=(0,e.Z)(function*(v,p,m){yield Vt(p);const S=!1===v?"provider-already-linked":"no-such-provider";Pe(Ia(p.providerData).has(m)===v,p.auth,S)})).apply(this,arguments)}function gc(v,p){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,e.Z)(function*(v,p,m=!1){var C;const{auth:S}=v,Z="reauthenticate";try{const $=yield Dt(v,Vn(S,Z,p,v),m);Pe($.idToken,S,"internal-error");const fe=Ve($.idToken);Pe(fe,S,"internal-error");const{sub:We}=fe;return Pe(v.uid===We,S,"user-mismatch"),Ur._forOperation(v,Z,$)}catch($){throw"auth/user-not-found"===(null===(C=$)||void 0===C?void 0:C.code)&&Tn(S,"user-mismatch"),$}})).apply(this,arguments)}function nr(v,p){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,e.Z)(function*(v,p,m=!1){const C="signIn",S=yield Vn(v,C,p),Z=yield Ur._fromIdTokenResponse(v,C,S);return m||(yield v._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function Bs(v,p){return fi.apply(this,arguments)}function fi(){return(fi=(0,e.Z)(function*(v,p){return nr(tr(v),p)})).apply(this,arguments)}function Wo(v,p){return au.apply(this,arguments)}function au(){return(au=(0,e.Z)(function*(v,p){const m=(0,L.m9)(v);return yield Li(!1,m,p.providerId),ss(m,p)})).apply(this,arguments)}function tl(v,p){return js.apply(this,arguments)}function js(){return(js=(0,e.Z)(function*(v,p){return gc((0,L.m9)(v),p)})).apply(this,arguments)}function Jd(v,p){return $s.apply(this,arguments)}function $s(){return($s=(0,e.Z)(function*(v,p){return Sn(v,"POST","/v1/accounts:signInWithCustomToken",ct(v,p))})).apply(this,arguments)}function Gs(v,p){return uu.apply(this,arguments)}function uu(){return(uu=(0,e.Z)(function*(v,p){const m=tr(v),C=yield Jd(m,{token:p,returnSecureToken:!0}),S=yield Ur._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class qi{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?nl._fromServerResponse(p,m):Tn(p,"internal-error")}}class nl extends qi{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new nl(m)}}function gi(v,p,m){var C;Pe((null===(C=m.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),Pe(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Pe(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Pe(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function rl(v,p,m){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,e.Z)(function*(v,p,m){const C=(0,L.m9)(v),S={requestType:"PASSWORD_RESET",email:p};m&&gi(C,S,m),yield hm(C,S)})).apply(this,arguments)}function mc(v,p,m){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,e.Z)(function*(v,p,m){yield Bd((0,L.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function _c(v,p){return Js.apply(this,arguments)}function Js(){return(Js=(0,e.Z)(function*(v,p){yield Hu((0,L.m9)(v),{oobCode:p})})).apply(this,arguments)}function lu(v,p){return Da.apply(this,arguments)}function Da(){return(Da=(0,e.Z)(function*(v,p){const m=(0,L.m9)(v),C=yield Bd(m,{oobCode:p}),S=C.requestType;switch(Pe(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Pe(C.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Pe(C.mfaInfo,m,"internal-error");default:Pe(C.email,m,"internal-error")}let Z=null;return C.mfaInfo&&(Z=qi._fromServerResponse(tr(m),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:Z},operation:S}})).apply(this,arguments)}function gr(v,p){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,e.Z)(function*(v,p){const{data:m}=yield lu((0,L.m9)(v),p);return m.email})).apply(this,arguments)}function jn(v,p,m){return yc.apply(this,arguments)}function yc(){return(yc=(0,e.Z)(function*(v,p,m){const C=tr(v),S=yield Ri(C,{returnSecureToken:!0,email:p,password:m}),Z=yield Ur._fromIdTokenResponse(C,"signIn",S);return yield C._updateCurrentUser(Z.user),Z})).apply(this,arguments)}function vc(v,p,m){return Bs((0,L.m9)(v),Rs.credential(p,m))}function Cc(v,p,m){return ol.apply(this,arguments)}function ol(){return(ol=(0,e.Z)(function*(v,p,m){const C=(0,L.m9)(v),S={requestType:"EMAIL_SIGNIN",email:p};Pe(m.handleCodeInApp,C,"argument-error"),m&&gi(C,S,m),yield $p(C,S)})).apply(this,arguments)}function cu(v,p){const m=Ho.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function Wd(v,p,m){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,e.Z)(function*(v,p,m){const C=(0,L.m9)(v),S=Rs.credentialWithLink(p,m||qr());return Pe(S._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Bs(C,S)})).apply(this,arguments)}function Tc(v,p){return as.apply(this,arguments)}function as(){return(as=(0,e.Z)(function*(v,p){return on(v,"POST","/v1/accounts:createAuthUri",ct(v,p))})).apply(this,arguments)}function il(v,p){return zo.apply(this,arguments)}function zo(){return(zo=(0,e.Z)(function*(v,p){const C={identifier:p,continueUri:zn()?qr():"http://localhost"},{signinMethods:S}=yield Tc((0,L.m9)(v),C);return S||[]})).apply(this,arguments)}function du(v,p){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,e.Z)(function*(v,p){const m=(0,L.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&gi(m.auth,S,p);const{email:Z}=yield hc(m.auth,S);Z!==v.email&&(yield v.reload())})).apply(this,arguments)}function us(v,p,m){return hu.apply(this,arguments)}function hu(){return(hu=(0,e.Z)(function*(v,p,m){const C=(0,L.m9)(v),Z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&gi(C.auth,Z,m);const{email:$}=yield $d(C.auth,Z);$!==v.email&&(yield v.reload())})).apply(this,arguments)}function Hp(v,p){return ls.apply(this,arguments)}function ls(){return(ls=(0,e.Z)(function*(v,p){return on(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ur(v,p){return pu.apply(this,arguments)}function pu(){return(pu=(0,e.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const C=(0,L.m9)(v),Z={idToken:yield C.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},$=yield Dt(C,Hp(C.auth,Z));C.displayName=$.displayName||null,C.photoURL=$.photoUrl||null;const fe=C.providerData.find(({providerId:We})=>"password"===We);fe&&(fe.displayName=C.displayName,fe.photoURL=C.photoURL),yield C._updateTokensIfNecessary($)})).apply(this,arguments)}function Jp(v,p){return zp((0,L.m9)(v),p,null)}function Wp(v,p){return zp((0,L.m9)(v),null,p)}function zp(v,p,m){return cs.apply(this,arguments)}function cs(){return(cs=(0,e.Z)(function*(v,p,m){const{auth:C}=v,Z={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(Z.email=p),m&&(Z.password=m);const $=yield Dt(v,jd(C,Z));yield v._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class mi{constructor(p,m,C={}){this.isNewUser=p,this.providerId=m,this.profile=C}}class fu extends mi{constructor(p,m,C,S){super(p,m,C),this.username=S}}class Qd extends mi{constructor(p,m){super(p,"facebook.com",m)}}class Kd extends fu{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class xa extends mi{constructor(p,m){super(p,"google.com",m)}}class yo extends fu{constructor(p,m,C){super(p,"twitter.com",m,C)}}function Za(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function zd(v){var p,m;if(!v)return null;const{providerId:C}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},Z=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&(null==v?void 0:v.idToken)){const $=null===(m=null===(p=Ve(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if($)return new mi(Z,"anonymous"!==$&&"custom"!==$?$:null)}if(!C)return null;switch(C){case"facebook.com":return new Qd(Z,S);case"github.com":return new Kd(Z,S);case"google.com":return new xa(Z,S);case"twitter.com":return new yo(Z,S,v.screenName||null);case"custom":case"anonymous":return new mi(Z,null);default:return new mi(Z,C,S)}}(m)}class Po{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Po("enroll",p)}static _fromMfaPendingCredential(p){return new Po("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,C;if(null!=p&&p.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Po._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return Po._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ws{constructor(p,m,C){this.session=p,this.hints=m,this.signInResolver=C}static _fromError(p,m){const C=tr(p),S=m.customData._serverResponse,Z=(S.mfaInfo||[]).map(fe=>qi._fromServerResponse(C,fe));Pe(S.mfaPendingCredential,C,"internal-error");const $=Po._fromMfaPendingCredential(S.mfaPendingCredential);return new Ws($,Z,function(){var fe=(0,e.Z)(function*(We){const Re=yield We._process(C,$);delete S.mfaInfo,delete S.mfaPendingCredential;const wt=Object.assign(Object.assign({},S),{idToken:Re.idToken,refreshToken:Re.refreshToken});switch(m.operationType){case"signIn":const fn=yield Ur._fromIdTokenResponse(C,m.operationType,wt);return yield C._updateCurrentUser(fn.user),fn;case"reauthenticate":return Pe(m.user,C,"internal-error"),Ur._forOperation(m.user,m.operationType,wt);default:Tn(C,"internal-error")}});return function(We){return fe.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,e.Z)(function*(){return m.signInResolver(p)})()}}function gu(v,p){var m;const C=(0,L.m9)(v),S=p;return Pe(p.customData.operationType,C,"argument-error"),Pe(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),Ws._fromError(C,S)}function ds(v,p){return on(v,"POST","/v2/accounts/mfaEnrollment:start",ct(v,p))}class K{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>qi._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new K(p)}getSession(){var p=this;return(0,e.Z)(function*(){return Po._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var C=this;return(0,e.Z)(function*(){const S=p,Z=yield C.getSession(),$=yield Dt(C.user,S._process(C.user.auth,Z,m));return yield C.user._updateTokensIfNecessary($),C.user.reload()})()}unenroll(p){var m=this;return(0,e.Z)(function*(){var C;const S="string"==typeof p?p:p.uid,Z=yield m.user.getIdToken(),$=yield Dt(m.user,function mr(v,p){return on(v,"POST","/v2/accounts/mfaEnrollment:withdraw",ct(v,p))}(m.user.auth,{idToken:Z,mfaEnrollmentId:S}));m.enrolledFactors=m.enrolledFactors.filter(({uid:fe})=>fe!==S),yield m.user._updateTokensIfNecessary($);try{yield m.user.reload()}catch(fe){if("auth/user-token-expired"!==(null===(C=fe)||void 0===C?void 0:C.code))throw fe}})()}}const mu=new WeakMap;function _u(v){const p=(0,L.m9)(v);return mu.has(p)||mu.set(p,K._fromUser(p)),mu.get(p)}const ka="__sak";class ji{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ka,"1"),this.storage.removeItem(ka),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const yi=(()=>{class v extends ji{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,C)=>this.onStorageEvent(m,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Na(){const v=(0,L.z$)();return Xn(v)||ut(v)}()&&function Gu(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=jr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const S=this.storage.getItem(C),Z=this.localCache[C];S!==Z&&m(C,Z,S)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((fe,We,Re)=>{this.notifyListeners(fe,Re)});const S=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(S);if(m.newValue!==fe)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!C)return}const Z=()=>{const fe=this.storage.getItem(S);!C&&this.localCache[S]===fe||this.notifyListeners(S,fe)},$=this.storage.getItem(S);!function St(){return(0,L.w1)()&&10===document.documentMode}()||$===m.newValue||m.newValue===m.oldValue?Z():setTimeout(Z,10)}notifyListeners(m,C){this.localCache[m]=C;const S=this.listeners[m];if(S)for(const Z of Array.from(S))Z(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var S=()=>super._set,Z=this;return(0,e.Z)(function*(){yield S().call(Z,m,C),Z.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,S=this;return(0,e.Z)(function*(){const Z=yield C().call(S,m);return S.localCache[m]=JSON.stringify(Z),Z})()}_remove(m){var C=()=>super._remove,S=this;return(0,e.Z)(function*(){yield C().call(S,m),delete S.localCache[m]})()}}return v.type="LOCAL",v})(),Ua=(()=>{class v extends ji{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return v.type="SESSION",v})();let al=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(Z=>Z.isListeningto(m));if(C)return C;const S=new v(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,e.Z)(function*(){const S=m,{eventId:Z,eventType:$,data:fe}=S.data,We=C.handlersMap[$];if(null==We||!We.size)return;S.ports[0].postMessage({status:"ack",eventId:Z,eventType:$});const Re=Array.from(We).map(function(){var fn=(0,e.Z)(function*(En){return En(S.origin,fe)});return function(En){return fn.apply(this,arguments)}}()),wt=yield function sl(v){return Promise.all(v.map(function(){var p=(0,e.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return p.apply(this,arguments)}}()))}(Re);S.ports[0].postMessage({status:"done",eventId:Z,eventType:$,response:wt})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Un(v="",p=10){let m="";for(let C=0;C<p;C++)m+=Math.floor(10*Math.random());return v+m}class Ma{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,C=50){var S=this;return(0,e.Z)(function*(){const Z="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Z)throw new Error("connection_unavailable");let $,fe;return new Promise((We,Re)=>{const wt=Un("",20);Z.port1.start();const fn=setTimeout(()=>{Re(new Error("unsupported_event"))},C);fe={messageChannel:Z,onMessage(En){const ao=En;if(ao.data.eventId===wt)switch(ao.data.status){case"ack":clearTimeout(fn),$=setTimeout(()=>{Re(new Error("timeout"))},3e3);break;case"done":clearTimeout($),We(ao.data.response);break;default:clearTimeout(fn),clearTimeout($),Re(new Error("invalid_response"))}}},S.handlers.add(fe),Z.port1.addEventListener("message",fe.onMessage),S.target.postMessage({eventType:p,eventId:wt,data:m},[Z.port2])}).finally(()=>{fe&&S.removeMessageHandler(fe)})})()}}function an(){return window}function Mn(){return void 0!==an().WorkerGlobalScope&&"function"==typeof an().importScripts}function Gi(){return(Gi=(0,e.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Oo="firebaseLocalStorageDb",vu="firebaseLocalStorage",Ec="fbase_key";class Pa{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ul(v,p){return v.transaction([vu],p?"readwrite":"readonly").objectStore(vu)}function Oa(){const v=indexedDB.open(Oo,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(vu,{keyPath:Ec})}catch(S){m(S)}}),v.addEventListener("success",(0,e.Z)(function*(){const C=v.result;C.objectStoreNames.contains(vu)?p(C):(C.close(),yield function Xd(){const v=indexedDB.deleteDatabase(Oo);return new Pa(v).toPromise()}(),p(yield Oa()))}))})}function Cu(v,p,m){return hs.apply(this,arguments)}function hs(){return(hs=(0,e.Z)(function*(v,p,m){const C=ul(v,!0).put({[Ec]:p,value:m});return new Pa(C).toPromise()})).apply(this,arguments)}function Dc(){return(Dc=(0,e.Z)(function*(v,p){const m=ul(v,!1).get(p),C=yield new Pa(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function rr(v,p){const m=ul(v,!0).delete(p);return new Pa(m).toPromise()}const Tu=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,e.Z)(function*(){return m.db||(m.db=yield Oa()),m.db})()}_withRetries(m){var C=this;return(0,e.Z)(function*(){let S=0;for(;;)try{const Z=yield C._openDb();return yield m(Z)}catch(Z){if(S++>3)throw Z;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,e.Z)(function*(){return Mn()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,e.Z)(function*(){m.receiver=al._getInstance(function Ic(){return Mn()?self:null}()),m.receiver._subscribe("keyChanged",function(){var C=(0,e.Z)(function*(S,Z){return{keyProcessed:(yield m._poll()).includes(Z.key)}});return function(S,Z){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,e.Z)(function*(S,Z){return["keyChanged"]});return function(S,Z){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,e.Z)(function*(){var C,S;if(m.activeServiceWorker=yield function Ko(){return Gi.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ma(m.activeServiceWorker);const Z=yield m.sender._send("ping",{},800);!Z||(null===(C=Z[0])||void 0===C?void 0:C.fulfilled)&&(null===(S=Z[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,e.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function io(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,e.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Oa();return yield Cu(m,ka,"1"),yield rr(m,ka),!0}catch(m){}return!1})()}_withPendingWrite(m){var C=this;return(0,e.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var S=this;return(0,e.Z)(function*(){return S._withPendingWrite((0,e.Z)(function*(){return yield S._withRetries(Z=>Cu(Z,m,C)),S.localCache[m]=C,S.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,e.Z)(function*(){const S=yield C._withRetries(Z=>function Yp(v,p){return Dc.apply(this,arguments)}(Z,m));return C.localCache[m]=S,S})()}_remove(m){var C=this;return(0,e.Z)(function*(){return C._withPendingWrite((0,e.Z)(function*(){return yield C._withRetries(S=>rr(S,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,e.Z)(function*(){const C=yield m._withRetries($=>{const fe=ul($,!1).getAll();return new Pa(fe).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const S=[],Z=new Set;for(const{fbase_key:$,value:fe}of C)Z.add($),JSON.stringify(m.localCache[$])!==JSON.stringify(fe)&&(m.notifyListeners($,fe),S.push($));for(const $ of Object.keys(m.localCache))m.localCache[$]&&!Z.has($)&&(m.notifyListeners($,null),S.push($));return S})()}notifyListeners(m,C){this.localCache[m]=C;const S=this.listeners[m];if(S)for(const Z of Array.from(S))Z(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,e.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function br(v,p){return on(v,"POST","/v2/accounts/mfaSignIn:start",ct(v,p))}function ps(){return(ps=(0,e.Z)(function*(v){return(yield on(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Qs(v){return new Promise((p,m)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=p,C.onerror=S=>{const Z=mn("internal-error");Z.customData=S,m(Z)},C.type="text/javascript",C.charset="UTF-8",function fs(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(C)})}function dl(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Xo=1e12;class Ar{constructor(p){this.auth=p,this.counter=Xo,this._widgets=new Map}render(p,m){const C=this.counter;return this._widgets.set(C,new Hr(p,this.auth.name,m||{})),this.counter++,C}reset(p){var m;const C=p||Xo;null===(m=this._widgets.get(C))||void 0===m||m.delete(),this._widgets.delete(C)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Xo))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,e.Z)(function*(){var C;return null===(C=m._widgets.get(p||Xo))||void 0===C||C.execute(),""})()}}class Hr{constructor(p,m,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;Pe(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Sc(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<v;C++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const vi=dl("rcb"),xn=new Bt(3e4,6e4);class Ra{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=an().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return Pe(function Ks(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(an().grecaptcha):new Promise((C,S)=>{const Z=an().setTimeout(()=>{S(mn(p,"network-request-failed"))},xn.get());an()[vi]=()=>{an().clearTimeout(Z),delete an()[vi];const fe=an().grecaptcha;if(!fe)return void S(mn(p,"internal-error"));const We=fe.render;fe.render=(Re,wt)=>{const fn=We(Re,wt);return this.counter++,fn},this.hostLanguage=m,C(fe)},Qs(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:vi,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(Z),S(mn(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=an().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class hl{load(p){return(0,e.Z)(function*(){return new Ar(p)})()}clearedOneInstance(){}}const Ys="recaptcha",ef={theme:"light",type:"image"};class fm{constructor(p,m=Object.assign({},ef),C){this.parameters=m,this.type=Ys,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tr(C),this.isInvisible="invisible"===this.parameters.size,Pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;Pe(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hl:new Ra,this.validateStartingState()}verify(){var p=this;return(0,e.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(m)||new Promise(Z=>{const $=fe=>{!fe||(p.tokenChangeListeners.delete($),Z(fe))};p.tokenChangeListeners.add($),p.isInvisible&&C.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Pe(!this.parameters.sitekey,this.auth,"argument-error"),Pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Pe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(C=>C(m)),"function"==typeof p)p(m);else if("string"==typeof p){const C=an()[p];"function"==typeof C&&C(m)}}}assertNotDestroyed(){Pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,e.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const C=document.createElement("div");m.appendChild(C),m=C}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,e.Z)(function*(){Pe(zn()&&!Mn(),p.auth,"internal-error"),yield function nh(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function cl(v){return ps.apply(this,arguments)}(p.auth);Pe(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class La{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Nn._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function gm(v,p,m){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,e.Z)(function*(v,p,m){const C=tr(v),S=yield wu(C,p,(0,L.m9)(m));return new La(S,Z=>Bs(C,Z))})).apply(this,arguments)}function pl(v,p,m){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,e.Z)(function*(v,p,m){const C=(0,L.m9)(v);yield Li(!1,C,"phone");const S=yield wu(C.auth,p,(0,L.m9)(m));return new La(S,Z=>Wo(C,Z))})).apply(this,arguments)}function rh(v,p,m){return ei.apply(this,arguments)}function ei(){return(ei=(0,e.Z)(function*(v,p,m){const C=(0,L.m9)(v),S=yield wu(C.auth,p,(0,L.m9)(m));return new La(S,Z=>tl(C,Z))})).apply(this,arguments)}function wu(v,p,m){return ti.apply(this,arguments)}function ti(){return(ti=(0,e.Z)(function*(v,p,m){var C;const S=yield m.verify();try{let Z;if(Pe("string"==typeof S,v,"argument-error"),Pe(m.type===Ys,v,"argument-error"),Z="string"==typeof p?{phoneNumber:p}:p,"session"in Z){const $=Z.session;if("phoneNumber"in Z)return Pe("enroll"===$.type,v,"internal-error"),(yield ds(v,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:Z.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Pe("signin"===$.type,v,"internal-error");const fe=(null===(C=Z.multiFactorHint)||void 0===C?void 0:C.uid)||Z.multiFactorUid;return Pe(fe,v,"missing-multi-factor-info"),(yield br(v,{mfaPendingCredential:$.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield Ku(v,{phoneNumber:Z.phoneNumber,recaptchaToken:S});return $}}finally{m._reset()}})).apply(this,arguments)}function bu(v,p){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,e.Z)(function*(v,p){yield ss((0,L.m9)(v),p)})).apply(this,arguments)}let Xs=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=tr(m)}verifyPhoneNumber(m,C){return wu(this.auth,m,(0,L.m9)(C))}static credential(m,C){return Nn._fromVerification(m,C)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:S}=m;return C&&S?Nn._fromTokenResponse(C,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function pn(v,p){return p?rn(p):(Pe(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ti extends Zr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return pi(p,this._buildIdpRequest())}_linkToIdToken(p,m){return pi(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return pi(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function qa(v){return nr(v.auth,new Ti(v),v.bypassAuthState)}function A(v){const{auth:p,user:m}=v;return Pe(m,p,"internal-error"),gc(m,new Ti(v),v.bypassAuthState)}function I(v){return k.apply(this,arguments)}function k(){return(k=(0,e.Z)(function*(v){const{auth:p,user:m}=v;return Pe(m,p,"internal-error"),ss(m,new Ti(v),v.bypassAuthState)})).apply(this,arguments)}class R{constructor(p,m,C,S,Z=!1){this.auth=p,this.resolver=C,this.user=S,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,e.Z)(function*(C,S){p.pendingPromise={resolve:C,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(Z){p.reject(Z)}});return function(C,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,e.Z)(function*(){const{urlResponse:C,sessionId:S,postBody:Z,tenantId:$,error:fe,type:We}=p;if(fe)return void m.reject(fe);const Re={auth:m.auth,requestUri:C,sessionId:S,tenantId:$||void 0,postBody:Z||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(We)(Re))}catch(wt){m.reject(wt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return qa;case"linkViaPopup":case"linkViaRedirect":return I;case"reauthViaPopup":case"reauthViaRedirect":return A;default:Tn(this.auth,"internal-error")}}resolve(p){lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Y=new Bt(2e3,1e4);function ae(v,p,m){return xe.apply(this,arguments)}function xe(){return(xe=(0,e.Z)(function*(v,p,m){const C=tr(v);Cr(v,p,Nr);const S=pn(C,m);return new yt(C,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function Je(v,p,m){return ht.apply(this,arguments)}function ht(){return(ht=(0,e.Z)(function*(v,p,m){const C=(0,L.m9)(v);Cr(C.auth,p,Nr);const S=pn(C.auth,m);return new yt(C.auth,"reauthViaPopup",p,S,C).executeNotNull()})).apply(this,arguments)}function Ot(v,p,m){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,e.Z)(function*(v,p,m){const C=(0,L.m9)(v);Cr(C.auth,p,Nr);const S=pn(C.auth,m);return new yt(C.auth,"linkViaPopup",p,S,C).executeNotNull()})).apply(this,arguments)}let yt=(()=>{class v extends R{constructor(m,C,S,Z,$){super(m,C,Z,$),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,e.Z)(function*(){const C=yield m.execute();return Pe(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,e.Z)(function*(){lt(1===m.filter.length,"Popup operations only handle one event");const C=Un();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(mn(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,S;this.pollId=null!==(S=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(mn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Y.get())};m()}}return v.currentPopupAction=null,v})();const Wn=new Map;class Hi extends R{constructor(p,m,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,e.Z)(function*(){let C=Wn.get(m.auth._key());if(!C){try{const Z=(yield function Ji(v,p){return Ir.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;C=()=>Promise.resolve(Z)}catch(S){C=()=>Promise.reject(S)}Wn.set(m.auth._key(),C)}return m.bypassAuthState||Wn.set(m.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,C=this;return(0,e.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(C,p);if("unknown"!==p.type){if(p.eventId){const S=yield C.auth._redirectUserForId(p.eventId);if(S)return C.user=S,m().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,e.Z)(function*(){})()}cleanUp(){}}function Ir(){return(Ir=(0,e.Z)(function*(v,p){const m=fl(p),C=vs(v);if(!(yield C._isAvailable()))return!1;const S="true"===(yield C._get(m));return yield C._remove(m),S})).apply(this,arguments)}function ms(v,p){return _s.apply(this,arguments)}function _s(){return(_s=(0,e.Z)(function*(v,p){return vs(v)._set(fl(p),"true")})).apply(this,arguments)}function ys(){Wn.clear()}function wi(v,p){Wn.set(v._key(),p)}function vs(v){return rn(v._redirectPersistence)}function fl(v){return ko("pendingRedirect",v.config.apiKey,v.name)}function mm(v,p,m){return function tf(v,p,m){return oh.apply(this,arguments)}(v,p,m)}function oh(){return(oh=(0,e.Z)(function*(v,p,m){const C=tr(v);Cr(v,p,Nr);const S=pn(C,m);return yield ms(S,C),S._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function ih(v,p,m){return function nf(v,p,m){return xc.apply(this,arguments)}(v,p,m)}function xc(){return(xc=(0,e.Z)(function*(v,p,m){const C=(0,L.m9)(v);Cr(C.auth,p,Nr);const S=pn(C.auth,m);yield ms(S,C.auth);const Z=yield gl(C);return S._openRedirect(C.auth,p,"reauthViaRedirect",Z)})).apply(this,arguments)}function _m(v,p,m){return function rf(v,p,m){return Zc.apply(this,arguments)}(v,p,m)}function Zc(){return(Zc=(0,e.Z)(function*(v,p,m){const C=(0,L.m9)(v);Cr(C.auth,p,Nr);const S=pn(C.auth,m);yield Li(!1,C,p.providerId),yield ms(S,C.auth);const Z=yield gl(C);return S._openRedirect(C.auth,p,"linkViaRedirect",Z)})).apply(this,arguments)}function ym(v,p){return Va.apply(this,arguments)}function Va(){return(Va=(0,e.Z)(function*(v,p){return yield tr(v)._initializationPromise,sh(v,p,!1)})).apply(this,arguments)}function sh(v,p){return ah.apply(this,arguments)}function ah(){return(ah=(0,e.Z)(function*(v,p,m=!1){const C=tr(v),S=pn(C,p),$=yield new Hi(C,S,m).execute();return $&&!m&&(delete $.user._redirectEventId,yield C._persistUserIfCurrent($.user),yield C._setRedirectUser(null,p)),$})).apply(this,arguments)}function gl(v){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,e.Z)(function*(v){const p=Un(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class uh{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(m=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function ch(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ni(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var C;if(p.error&&!ni(p)){const S=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(mn(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const C=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lh(p))}saveEventToCache(p){this.cachedEventUids.add(lh(p)),this.lastProcessedEventTime=Date.now()}}function lh(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function ni({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function kc(v){return ml.apply(this,arguments)}function ml(){return(ml=(0,e.Z)(function*(v,p={}){return on(v,"GET","/v1/projects",p)})).apply(this,arguments)}const vm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cm=/^https?/;function sf(){return(sf=(0,e.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield kc(v);for(const m of p)try{if(wm(m))return}catch(C){}Tn(v,"unauthorized-domain")})).apply(this,arguments)}function wm(v){const p=qr(),{protocol:m,hostname:C}=new URL(p);if(v.startsWith("chrome-extension://")){const $=new URL(v);return""===$.hostname&&""===C?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&$.hostname===C}if(!Cm.test(m))return!1;if(vm.test(v))return C===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(C)}const af=new Bt(3e4,6e4);function uf(){const v=an().___jsl;if(null!=v&&v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let un=null;function ta(v){return un=un||function lf(v){return new Promise((p,m)=>{var C,S,Z;function $(){uf(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{uf(),m(mn(v,"network-request-failed"))},timeout:af.get()})}if(null!==(S=null===(C=an().gapi)||void 0===C?void 0:C.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(Z=an().gapi)||void 0===Z||!Z.load){const fe=dl("iframefcb");return an()[fe]=()=>{gapi.load?$():m(mn(v,"network-request-failed"))},Qs(`https://apis.google.com/js/api.js?onload=${fe}`).catch(We=>m(We))}$()}}).catch(p=>{throw un=null,p})}(v),un}const bm=new Bt(5e3,15e3),rb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Im=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t0(v){const p=v.config;Pe(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?ze(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:v.name,v:U.SDK_VERSION},S=Im.get(v.config.apiHost);S&&(C.eid=S);const Z=v._getFrameworks();return Z.length&&(C.fw=Z.join(",")),`${m}?${(0,L.xO)(C).slice(1)}`}function hh(){return hh=(0,e.Z)(function*(v){const p=yield ta(v),m=an().gapi;return Pe(m,v,"internal-error"),p.open({where:document.body,url:t0(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rb,dontclear:!0},C=>new Promise(function(){var S=(0,e.Z)(function*(Z,$){yield C.restyle({setHideOnLeave:!1});const fe=mn(v,"network-request-failed"),We=an().setTimeout(()=>{$(fe)},bm.get());function Re(){an().clearTimeout(We),Z(C)}C.ping(Re).then(Re,()=>{$(fe)})});return function(Z,$){return S.apply(this,arguments)}}()))}),hh.apply(this,arguments)}const cf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wi{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function yl(v,p,m,C,S,Z){Pe(v.config.authDomain,v,"auth-domain-config-required"),Pe(v.config.apiKey,v,"invalid-api-key");const $={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:C,v:U.SDK_VERSION,eventId:S};if(p instanceof Nr){p.setDefaultLanguage(v.languageCode),$.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||($.customParameters=JSON.stringify(p.getCustomParameters()));for(const[We,Re]of Object.entries(Z||{}))$[We]=Re}if(p instanceof Jo){const We=p.getScopes().filter(Re=>""!==Re);We.length>0&&($.scopes=We.join(","))}v.tenantId&&($.tid=v.tenantId);const fe=$;for(const We of Object.keys(fe))void 0===fe[We]&&delete fe[We];return`${function hf({config:v}){return v.emulator?ze(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,L.xO)(fe).slice(1)}`}const Au="webStorageSupport",pf=class n0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ua,this._completeRedirectFn=sh,this._overrideRedirectResult=wi}_openPopup(p,m,C,S){var Z=this;return(0,e.Z)(function*(){var $;lt(null===($=Z.eventManagers[p._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const fe=yl(p,m,C,qr(),S);return function df(v,p,m,C=500,S=600){const Z=Math.max((window.screen.availHeight-S)/2,0).toString(),$=Math.max((window.screen.availWidth-C)/2,0).toString();let fe="";const We=Object.assign(Object.assign({},cf),{width:C.toString(),height:S.toString(),top:Z,left:$}),Re=(0,L.z$)().toLowerCase();m&&(fe=er(Re)?"_blank":m),ts(Re)&&(p=p||"http://localhost",We.scrollbars="yes");const wt=Object.entries(We).reduce((En,[ao,Ts])=>`${En}${ao}=${Ts},`,"");if(function qd(v=(0,L.z$)()){var p;return ut(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Re)&&"_self"!==fe)return function ri(v,p){const m=document.createElement("a");m.href=v,m.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(p||"",fe),new Wi(null);const fn=window.open(p||"",fe,wt);Pe(fn,v,"popup-blocked");try{fn.focus()}catch(En){}return new Wi(fn)}(p,fe,Un())})()}_openRedirect(p,m,C,S){var Z=this;return(0,e.Z)(function*(){return yield Z._originValidation(p),function Mr(v){an().location.href=v}(yl(p,m,C,qr(),S)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:Z}=this.eventManagers[m];return S?Promise.resolve(S):(lt(Z,"If manager is not set, promise should be"),Z)}const C=this.initAndGetManager(p);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}initAndGetManager(p){var m=this;return(0,e.Z)(function*(){const C=yield function dh(v){return hh.apply(this,arguments)}(p),S=new uh(p);return C.register("authEvent",Z=>(Pe(null==Z?void 0:Z.authEvent,p,"invalid-auth-event"),{status:S.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=C,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Au,{type:Au},S=>{var Z;const $=null===(Z=null==S?void 0:S[0])||void 0===Z?void 0:Z[Au];void 0!==$&&m(!!$),Tn(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Tm(v){return sf.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return jr()||Xn()||ut()}};class _r extends class fh{constructor(p){this.factorId=p}_process(p,m,C){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,C);case"signin":return this._finalizeSignIn(p,m.credential);default:return sr("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new _r(p)}_finalizeEnroll(p,m,C){return function Bi(v,p){return on(v,"POST","/v2/accounts/mfaEnrollment:finalize",ct(v,p))}(p,{idToken:m,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Yo(v,p){return on(v,"POST","/v2/accounts/mfaSignIn:finalize",ct(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let so=(()=>{class v{constructor(){}static assertion(m){return _r._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var xm="@firebase/auth";class gf{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,e.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(C=>{var S;p((null===(S=C)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function gh(v){(0,U._registerComponent)(new le.wA("auth",(p,{options:m})=>{const C=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:Z,authDomain:$}=C.options;return((fe,We)=>{Pe(Z&&!Z.includes(":"),"invalid-api-key",{appName:fe.name}),Pe(!(null!=$&&$.includes(":")),"argument-error",{appName:fe.name});const Re={apiKey:Z,authDomain:$,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Us(v)},wt=new Go(fe,We,Re);return function wr(v,p){const m=(null==p?void 0:p.persistence)||[],C=(Array.isArray(m)?m:[m]).map(rn);null!=p&&p.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(C,null==p?void 0:p.popupRedirectResolver)}(wt,m),wt})(C,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,C)=>{p.getProvider("auth-internal").initialize()})),(0,U._registerComponent)(new le.wA("auth-internal",p=>{const m=tr(p.getProvider("auth").getImmediate());return new gf(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,U.registerVersion)(xm,"0.20.5",function r0(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,U.registerVersion)(xm,"0.20.5","esm2017")}("Browser")},2090:(it,we,M)=>{M.d(we,{$s:()=>Bn,BH:()=>Be,G6:()=>Ge,L:()=>de,LL:()=>le,Mn:()=>Ee,Sg:()=>Ue,UG:()=>Ce,US:()=>pe,ZB:()=>G,ZR:()=>_e,b$:()=>ft,d:()=>je,eu:()=>De,hl:()=>Te,jU:()=>ge,m9:()=>Sn,ne:()=>lt,pd:()=>Pe,r3:()=>Jn,ru:()=>st,tV:()=>ye,uI:()=>at,vZ:()=>Tn,w1:()=>Ze,xO:()=>Cr,xb:()=>Rn,z$:()=>be,zI:()=>X,zd:()=>no});const oe=function(B){const j=[];let F=0;for(let W=0;W<B.length;W++){let Q=B.charCodeAt(W);Q<128?j[F++]=Q:Q<2048?(j[F++]=Q>>6|192,j[F++]=63&Q|128):55296==(64512&Q)&&W+1<B.length&&56320==(64512&B.charCodeAt(W+1))?(Q=65536+((1023&Q)<<10)+(1023&B.charCodeAt(++W)),j[F++]=Q>>18|240,j[F++]=Q>>12&63|128,j[F++]=Q>>6&63|128,j[F++]=63&Q|128):(j[F++]=Q>>12|224,j[F++]=Q>>6&63|128,j[F++]=63&Q|128)}return j},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,j){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let Q=0;Q<B.length;Q+=3){const ke=B[Q],Ye=Q+1<B.length,Ct=Ye?B[Q+1]:0,dn=Q+2<B.length,sn=dn?B[Q+2]:0;let q=(15&Ct)<<2|sn>>6,V=63&sn;dn||(V=64,Ye||(q=64)),W.push(F[ke>>2],F[(3&ke)<<4|Ct>>4],F[q],F[V])}return W.join("")},encodeString(B,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(B):this.encodeByteArray(oe(B),j)},decodeString(B,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(B):function(B){const j=[];let F=0,W=0;for(;F<B.length;){const Q=B[F++];if(Q<128)j[W++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const ke=B[F++];j[W++]=String.fromCharCode((31&Q)<<6|63&ke)}else if(Q>239&&Q<365){const dn=((7&Q)<<18|(63&B[F++])<<12|(63&B[F++])<<6|63&B[F++])-65536;j[W++]=String.fromCharCode(55296+(dn>>10)),j[W++]=String.fromCharCode(56320+(1023&dn))}else{const ke=B[F++],Ye=B[F++];j[W++]=String.fromCharCode((15&Q)<<12|(63&ke)<<6|63&Ye)}}return j.join("")}(this.decodeStringToByteArray(B,j))},decodeStringToByteArray(B,j){this.init_();const F=j?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let Q=0;Q<B.length;){const ke=F[B.charAt(Q++)],Ct=Q<B.length?F[B.charAt(Q)]:0;++Q;const sn=Q<B.length?F[B.charAt(Q)]:64;++Q;const te=Q<B.length?F[B.charAt(Q)]:64;if(++Q,null==ke||null==Ct||null==sn||null==te)throw Error();W.push(ke<<2|Ct>>4),64!==sn&&(W.push(Ct<<4&240|sn>>2),64!==te&&W.push(sn<<6&192|te))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},de=function(B){return function(B){const j=oe(B);return pe.encodeByteArray(j,!0)}(B).replace(/\./g,"")},ye=function(B){try{return pe.decodeString(B,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function G(B,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return j}for(const F in j)!j.hasOwnProperty(F)||!ee(F)||(B[F]=G(B[F],j[F]));return B}function ee(B){return"__proto__"!==B}class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,F)=>{this.resolve=j,this.reject=F})}wrapCallback(j){return(F,W)=>{F?this.reject(F):this.resolve(W),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(F):j(F,W))}}}function Ue(B,j){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=j||"demo-project",Q=B.iat||0,ke=B.sub||B.user_id;if(!ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ye=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:Q,exp:Q+3600,auth_time:Q,sub:ke,user_id:ke,firebase:{sign_in_provider:"custom",identities:{}}},B);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Ye)),""].join(".")}function be(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function at(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function Ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function ge(){return"object"==typeof self&&self.self===self}function st(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function ft(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function je(){return be().indexOf("Electron/")>=0}function Ze(){const B=be();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Ee(){return be().indexOf("MSAppHost/")>=0}function Ge(){return!Ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Te(){return"object"==typeof indexedDB}function De(){return new Promise((B,j)=>{try{let F=!0;const W="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(W);Q.onsuccess=()=>{Q.result.close(),F||self.indexedDB.deleteDatabase(W),B(!0)},Q.onupgradeneeded=()=>{F=!1},Q.onerror=()=>{var ke;j((null===(ke=Q.error)||void 0===ke?void 0:ke.message)||"")}}catch(F){j(F)}})}function X(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class _e extends Error{constructor(j,F,W){super(F),this.code=j,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,_e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,le.prototype.create)}}class le{constructor(j,F,W){this.service=j,this.serviceName=F,this.errors=W}create(j,...F){const W=F[0]||{},Q=`${this.service}/${j}`,ke=this.errors[j],Ye=ke?function Fe(B,j){return B.replace(Tt,(F,W)=>{const Q=j[W];return null!=Q?String(Q):`<${W}?>`})}(ke,W):"Error";return new _e(Q,`${this.serviceName}: ${Ye} (${Q}).`,W)}}const Tt=/\{\$([^}]+)}/g;function Jn(B,j){return Object.prototype.hasOwnProperty.call(B,j)}function Rn(B){for(const j in B)if(Object.prototype.hasOwnProperty.call(B,j))return!1;return!0}function Tn(B,j){if(B===j)return!0;const F=Object.keys(B),W=Object.keys(j);for(const Q of F){if(!W.includes(Q))return!1;const ke=B[Q],Ye=j[Q];if(mn(ke)&&mn(Ye)){if(!Tn(ke,Ye))return!1}else if(ke!==Ye)return!1}for(const Q of W)if(!F.includes(Q))return!1;return!0}function mn(B){return null!==B&&"object"==typeof B}function Cr(B){const j=[];for(const[F,W]of Object.entries(B))Array.isArray(W)?W.forEach(Q=>{j.push(encodeURIComponent(F)+"="+encodeURIComponent(Q))}):j.push(encodeURIComponent(F)+"="+encodeURIComponent(W));return j.length?"&"+j.join("&"):""}function no(B){const j={};return B.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[Q,ke]=W.split("=");j[decodeURIComponent(Q)]=decodeURIComponent(ke)}}),j}function Pe(B){const j=B.indexOf("?");if(!j)return"";const F=B.indexOf("#",j);return B.substring(j,F>0?F:void 0)}function lt(B,j){const F=new Tr(B,j);return F.subscribe.bind(F)}class Tr{constructor(j,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{j(this)}).catch(W=>{this.error(W)})}next(j){this.forEachObserver(F=>{F.next(j)})}error(j){this.forEachObserver(F=>{F.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,F,W){let Q;if(void 0===j&&void 0===F&&void 0===W)throw new Error("Missing Observer.");Q=function zt(B,j){if("object"!=typeof B||null===B)return!1;for(const F of j)if(F in B&&"function"==typeof B[F])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:F,complete:W},void 0===Q.next&&(Q.next=wr),void 0===Q.error&&(Q.error=wr),void 0===Q.complete&&(Q.complete=wr);const ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(Ye){}}),this.observers.push(Q),ke}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,j)}sendOne(j,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{F(this.observers[j])}catch(W){"undefined"!=typeof console&&console.error&&console.error(W)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wr(){}function Bn(B,j=1e3,F=2){const W=j*Math.pow(F,B),Q=Math.round(.5*W*(Math.random()-.5)*2);return Math.min(144e5,W+Q)}function Sn(B){return B&&B._delegate?B._delegate:B}},8597:(it,we,M)=>{var e=M(5e3);let L=null;function U(){return L}const he=new e.OlP("DocumentToken");let de=(()=>{class r{historyGo(t){throw new Error("Not implemented")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(){return function ye(){return(0,e.LFG)(G)}()},providedIn:"platform"}),r})();const J=new e.OlP("Location Initialized");let G=(()=>{class r extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(t){const o=U().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=U().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,o,i){ee()?this._history.pushState(t,o,i):this.location.hash=i}replaceState(t,o,i){ee()?this._history.replaceState(t,o,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(he))},r.\u0275prov=e.Yz7({token:r,factory:function(){return function Be(){return new G((0,e.LFG)(he))}()},providedIn:"platform"}),r})();function ee(){return!!window.history.pushState}function Ue(r,n){if(0==r.length)return n;if(0==n.length)return r;let t=0;return r.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?r+n.substring(1):1==t?r+n:r+"/"+n}function be(r){const n=r.match(/#|\?|$/),t=n&&n.index||r.length;return r.slice(0,t-("/"===r[t-1]?1:0))+r.slice(t)}function at(r){return r&&"?"!==r[0]?"?"+r:r}let Ce=(()=>{class r{historyGo(t){throw new Error("Not implemented")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(){return function ge(){const r=(0,e.LFG)(he).location;return new ft((0,e.LFG)(de),r&&r.origin||"")}()},providedIn:"root"}),r})();const st=new e.OlP("appBaseHref");let ft=(()=>{class r extends Ce{constructor(t,o){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ue(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+at(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${o}${i}`:o}pushState(t,o,i,a){const d=this.prepareExternalUrl(i+at(a));this._platformLocation.pushState(t,o,d)}replaceState(t,o,i,a){const d=this.prepareExternalUrl(i+at(a));this._platformLocation.replaceState(t,o,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var o,i;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(de),e.LFG(st,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),je=(()=>{class r extends Ce{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=Ue(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,i,a){let d=this.prepareExternalUrl(i+at(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,o,d)}replaceState(t,o,i,a){let d=this.prepareExternalUrl(i+at(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var o,i;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(de),e.LFG(st,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),Ze=(()=>{class r{constructor(t){this._subject=new e.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const o=this._locationStrategy.getBaseHref();this._baseHref=be(Ge(o)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){var t;null===(t=this._urlChangeSubscription)||void 0===t||t.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+at(o))}normalize(t){return r.stripTrailingSlash(function Qe(r,n){return r&&n.startsWith(r)?n.substring(r.length):n}(this._baseHref,Ge(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,o="",i=null){this._locationStrategy.pushState(i,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+at(o)),i)}replaceState(t,o="",i=null){this._locationStrategy.replaceState(i,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+at(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){var o,i;null===(i=(o=this._locationStrategy).historyGo)||void 0===i||i.call(o,t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{var o;const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(null===(o=this._urlChangeSubscription)||void 0===o||o.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(i=>i(t,o))}subscribe(t,o,i){return this._subject.subscribe({next:t,error:o,complete:i})}}return r.normalizeQueryParams=at,r.joinWithSlash=Ue,r.stripTrailingSlash=be,r.\u0275fac=function(t){return new(t||r)(e.LFG(Ce))},r.\u0275prov=e.Yz7({token:r,factory:function(){return function Ee(){return new Ze((0,e.LFG)(Ce))}()},providedIn:"root"}),r})();function Ge(r){return r.replace(/\/index.html$/,"")}function Xn(r,n){n=encodeURIComponent(n);for(const t of r.split(";")){const o=t.indexOf("="),[i,a]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(i.trim()===n)return decodeURIComponent(a)}return null}let er=(()=>{class r{constructor(t,o,i,a){this._iterableDiffers=t,this._keyValueDiffers=o,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,e.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,e.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),t.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!0)):Object.keys(t).forEach(o=>this._toggleClass(o,!!t[o])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!1)):Object.keys(t).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(t,o){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{o?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),r})();class ic{constructor(n,t,o,i){this.$implicit=n,this.ngForOf=t,this.index=o,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ut=(()=>{class r{constructor(t,o,i){this._viewContainer=t,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const o=this._viewContainer;t.forEachOperation((i,a,d)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new ic(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)o.remove(null===a?void 0:a);else if(null!==a){const f=o.get(a);o.move(f,d),ru(f,i)}});for(let i=0,a=o.length;i<a;i++){const f=o.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{ru(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,o){return!0}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),r})();function ru(r,n){r.context.$implicit=n.item}let St=(()=>{class r{constructor(t,o){this._viewContainer=t,this._context=new jr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Gu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Gu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.s_b),e.Y36(e.Rgc))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),r})();class jr{constructor(){this.$implicit=null,this.ngIf=null}}function Gu(r,n){if(n&&!n.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,e.AaK)(n)}'.`)}let Oi=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();function Gd(r){return"server"===r}let Os=(()=>{class r{}return r.\u0275prov=(0,e.Yz7)({token:r,providedIn:"root",factory:()=>new Nn((0,e.LFG)(he),window)}),r})();class Nn{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function ba(r,n){const t=r.getElementById(n)||r.getElementsByName(n)[0];if(t)return t;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const o=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let i=o.currentNode;for(;i;){const a=i.shadowRoot;if(a){const d=a.getElementById(n)||a.querySelector(`[name="${n}"]`);if(d)return d}i=o.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),o=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(o-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=iu(this.window.history)||iu(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function iu(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class kr{}class Nr extends class Rs extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ue(r){L||(L=r)}(new Nr)}onAndCancel(n,t,o){return n.addEventListener(t,o,!1),()=>{n.removeEventListener(t,o,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function $r(){return Jo=Jo||document.querySelector("base"),Jo?Jo.getAttribute("href"):null}();return null==t?null:function el(r){ns=ns||document.createElement("a"),ns.setAttribute("href",r);const n=ns.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){Jo=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Xn(document.cookie,n)}}let ns,Jo=null;const gt=new e.OlP("TRANSITION_ID"),rs=[{provide:e.ip1,useFactory:function fc(r,n,t){return()=>{t.get(e.CZH).donePromise.then(()=>{const o=U(),i=n.querySelectorAll(`style[ng-transition="${r}"]`);for(let a=0;a<i.length;a++)o.remove(i[a])})}},deps:[gt,he,e.zs3],multi:!0}];let Ls=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Aa=new e.OlP("EventManagerPlugins");let Ri=(()=>{class r{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,o,i){return this._findPluginFor(o).addEventListener(t,o,i)}addGlobalEventListener(t,o,i){return this._findPluginFor(o).addGlobalEventListener(t,o,i)}getZone(){return this._zone}_findPluginFor(t){const o=this._eventNameToPlugin.get(t);if(o)return o;const i=this._plugins;for(let a=0;a<i.length;a++){const d=i[a];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Aa),e.LFG(e.R0b))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Fs{constructor(n){this._doc=n}addGlobalEventListener(n,t,o){const i=U().getGlobalEventTarget(this._doc,n);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,o)}}let Ur=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(t){const o=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),o.add(i))}),this.onStylesAdded(o)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),Se=(()=>{class r extends Ur{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,o,i){t.forEach(a=>{const d=this._doc.createElement("style");d.textContent=a,i.push(o.appendChild(d))})}addHost(t){const o=[];this._addStylesToHost(this._stylesSet,t,o),this._hostNodes.set(t,o)}removeHost(t){const o=this._hostNodes.get(t);o&&o.forEach($t),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((o,i)=>{this._addStylesToHost(t,i,o)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach($t))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(he))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();function $t(r){U().remove(r)}const qs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},os=/%COMP%/g;function Li(r,n,t){for(let o=0;o<n.length;o++){let i=n[o];Array.isArray(i)?Li(r,i,t):(i=i.replace(os,r),t.push(i))}return t}function su(r){return n=>{if("__ngUnwrap__"===n)return r;!1===r(n)&&(n.preventDefault(),n.returnValue=!1)}}let Fi=(()=>{class r{constructor(t,o,i){this.eventManager=t,this.sharedStylesHost=o,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new nr(t)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;switch(o.encapsulation){case e.ifc.Emulated:{let i=this.rendererByCompId.get(o.id);return i||(i=new Wo(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,i)),i.applyToHost(t),i}case 1:case e.ifc.ShadowDom:return new au(this.eventManager,this.sharedStylesHost,t,o);default:if(!this.rendererByCompId.has(o.id)){const i=Li(o.id,o.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ri),e.LFG(Se),e.LFG(e.AFp))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class nr{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(qs[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){(fi(n)?n.content:n).appendChild(t)}insertBefore(n,t,o){n&&(fi(n)?n.content:n).insertBefore(t,o)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let o="string"==typeof n?document.querySelector(n):n;if(!o)throw new Error(`The selector "${n}" did not match any elements`);return t||(o.textContent=""),o}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,o,i){if(i){t=i+":"+t;const a=qs[i];a?n.setAttributeNS(a,t,o):n.setAttribute(t,o)}else n.setAttribute(t,o)}removeAttribute(n,t,o){if(o){const i=qs[o];i?n.removeAttributeNS(i,t):n.removeAttribute(`${o}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,o,i){i&(e.JOm.DashCase|e.JOm.Important)?n.style.setProperty(t,o,i&e.JOm.Important?"important":""):n.style[t]=o}removeStyle(n,t,o){o&e.JOm.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,o){n[t]=o}setValue(n,t){n.nodeValue=t}listen(n,t,o){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,su(o)):this.eventManager.addEventListener(n,t,su(o))}}function fi(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class Wo extends nr{constructor(n,t,o,i){super(n),this.component=o;const a=Li(i+"-"+o.id,o.styles,[]);t.addStyles(a),this.contentAttr=function ss(r){return"_ngcontent-%COMP%".replace(os,r)}(i+"-"+o.id),this.hostAttr=function Vs(r){return"_nghost-%COMP%".replace(os,r)}(i+"-"+o.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,t){const o=super.createElement(n,t);return super.setAttribute(o,this.contentAttr,""),o}}class au extends nr{constructor(n,t,o,i){super(n),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Li(i.id,i.styles,[]);for(let d=0;d<a.length;d++){const f=document.createElement("style");f.textContent=a[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,o){return super.insertBefore(this.nodeOrShadowRoot(n),t,o)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let tl=(()=>{class r extends Fs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,i){return t.addEventListener(o,i,!1),()=>this.removeEventListener(t,o,i)}removeEventListener(t,o,i){return t.removeEventListener(o,i)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(he))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const js=["alt","control","meta","shift"],$s={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gs={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},uu={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let qi=(()=>{class r extends Fs{constructor(t){super(t)}supports(t){return null!=r.parseEventName(t)}addEventListener(t,o,i){const a=r.parseEventName(o),d=r.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(t,a.domEventName,d))}static parseEventName(t){const o=t.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const a=r._normalizeKey(o.pop());let d="";if(js.forEach(y=>{const w=o.indexOf(y);w>-1&&(o.splice(w,1),d+=y+".")}),d+=a,0!=o.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=d,f}static getEventFullKey(t){let o="",i=function nl(r){let n=r.key;if(null==n){if(n=r.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===r.location&&Gs.hasOwnProperty(n)&&(n=Gs[n]))}return $s[n]||n}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),js.forEach(a=>{a!=i&&(0,uu[a])(t)&&(o+=a+".")}),o+=i,o}static eventCallback(t,o,i){return a=>{r.getEventFullKey(a)===t&&i.runGuarded(()=>o(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(he))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const lu=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:"browser"},{provide:e.g9A,useValue:function mc(){Nr.makeCurrent()},multi:!0},{provide:he,useFactory:function _c(){return(0,e.RDi)(document),document},deps:[]}]),Da=new e.OlP(""),gr=[{provide:e.rWj,useClass:class Hd{addToWindow(n){e.dqk.getAngularTestability=(o,i=!0)=>{const a=n.findTestabilityInTree(o,i);if(null==a)throw new Error("Could not find testability for element.");return a},e.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(o=>{const i=e.dqk.getAllAngularTestabilities();let a=i.length,d=!1;const f=function(y){d=d||y,a--,0==a&&o(d)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(n,t,o){if(null==t)return null;const i=n.getTestability(t);return null!=i?i:o?U().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null}},deps:[]},{provide:e.lri,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]}],Mo=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function Hs(){return new e.qLn},deps:[]},{provide:Aa,useClass:tl,multi:!0,deps:[he,e.R0b,e.Lbi]},{provide:Aa,useClass:qi,multi:!0,deps:[he]},{provide:Fi,useClass:Fi,deps:[Ri,Se,e.AFp]},{provide:e.FYo,useExisting:Fi},{provide:Ur,useExisting:Se},{provide:Se,useClass:Se,deps:[he]},{provide:Ri,useClass:Ri,deps:[Aa,e.R0b]},{provide:kr,useClass:Ls,deps:[]},[]];let jn=(()=>{class r{constructor(t){}static withServerTransition(t){return{ngModule:r,providers:[{provide:e.AFp,useValue:t.appId},{provide:gt,useExisting:e.AFp},rs]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Da,12))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[...Mo,...gr],imports:[Oi,e.hGG]}),r})(),cu=(()=>{class r{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(he))},r.\u0275prov=e.Yz7({token:r,factory:function(t){let o=null;return o=t?new t:function ol(){return new cu((0,e.LFG)(he))}(),o},providedIn:"root"}),r})();"undefined"!=typeof window&&window;var In=M(8996),Gr=M(9751);const{isArray:_i}=Array,{getPrototypeOf:bc,prototype:Vi,keys:Po}=Object;function Ws(r){if(1===r.length){const n=r[0];if(_i(n))return{args:n,keys:null};if(function gu(r){return r&&"object"==typeof r&&bc(r)===Vi}(n)){const t=Po(n);return{args:t.map(o=>n[o]),keys:t}}}return{args:r,keys:null}}var ds=M(8421),Bi=M(3269),mr=M(5403),K=M(4004);const{isArray:mu}=Array;function ka(r){return(0,K.U)(n=>function _u(r,n){return mu(n)?r(...n):r(n)}(r,n))}function ji(r,n){return r.reduce((t,o,i)=>(t[o]=n[i],t),{})}let yu=(()=>{class r{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Qsj),e.Y36(e.SBq))},r.\u0275dir=e.lG2({type:r}),r})(),$i=(()=>{class r extends yu{}return r.\u0275fac=function(){let n;return function(o){return(n||(n=e.n5z(r)))(o||r)}}(),r.\u0275dir=e.lG2({type:r,features:[e.qOj]}),r})();const vo=new e.OlP("NgValueAccessor"),Ua={provide:vo,useExisting:(0,e.Gpc)(()=>Un),multi:!0},al=new e.OlP("CompositionEventMode");let Un=(()=>{class r extends yu{constructor(t,o,i){super(t,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sl(){const r=U()?U().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(al,8))},r.\u0275dir=e.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){1&t&&e.NdJ("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[e._Bn([Ua]),e.qOj]}),r})();function an(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}function Mr(r){return null!=r&&"number"==typeof r.length}const Mn=new e.OlP("NgValidators"),Ko=new e.OlP("NgAsyncValidators"),Gi=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class io{static min(n){return function Ic(r){return n=>{if(an(n.value)||an(r))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<r?{min:{min:r,actual:n.value}}:null}}(n)}static max(n){return function Oo(r){return n=>{if(an(n.value)||an(r))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>r?{max:{max:r,actual:n.value}}:null}}(n)}static required(n){return function cn(r){return an(r.value)?{required:!0}:null}(n)}static requiredTrue(n){return function vu(r){return!0===r.value?null:{required:!0}}(n)}static email(n){return function Ec(r){return an(r.value)||Gi.test(r.value)?null:{email:!0}}(n)}static minLength(n){return function Pa(r){return n=>an(n.value)||!Mr(n.value)?null:n.value.length<r?{minlength:{requiredLength:r,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function ul(r){return n=>Mr(n.value)&&n.value.length>r?{maxlength:{requiredLength:r,actualLength:n.value.length}}:null}(n)}static pattern(n){return function Xd(r){if(!r)return Oa;let n,t;return"string"==typeof r?(t="","^"!==r.charAt(0)&&(t+="^"),t+=r,"$"!==r.charAt(r.length-1)&&(t+="$"),n=new RegExp(t)):(t=r.toString(),n=r),o=>{if(an(o.value))return null;const i=o.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return zs(n)}static composeAsync(n){return Tu(n)}}function Oa(r){return null}function Cu(r){return null!=r}function hs(r){return(0,e.QGY)(r)?(0,In.D)(r):r}function Yp(r){let n={};return r.forEach(t=>{n=null!=t?Object.assign(Object.assign({},n),t):n}),0===Object.keys(n).length?null:n}function Dc(r,n){return n.map(t=>t(r))}function ll(r){return r.map(n=>function rr(r){return!r.validate}(n)?n:t=>n.validate(t))}function zs(r){if(!r)return null;const n=r.filter(Cu);return 0==n.length?null:function(t){return Yp(Dc(t,n))}}function Xp(r){return null!=r?zs(ll(r)):null}function Tu(r){if(!r)return null;const n=r.filter(Cu);return 0==n.length?null:function(t){return function Na(...r){const n=(0,Bi.jO)(r),{args:t,keys:o}=Ws(r),i=new Gr.y(a=>{const{length:d}=t;if(!d)return void a.complete();const f=new Array(d);let y=d,w=d;for(let D=0;D<d;D++){let x=!1;(0,ds.Xf)(t[D]).subscribe((0,mr.x)(a,O=>{x||(x=!0,w--),f[D]=O},()=>y--,void 0,()=>{(!y||!x)&&(w||a.next(o?ji(o,f):f),a.complete())}))}});return n?i.pipe(ka(n)):i}(Dc(t,n).map(hs)).pipe((0,K.U)(Yp))}}function br(r){return null!=r?Tu(ll(r)):null}function Yo(r,n){return null===r?[n]:Array.isArray(r)?[...r,n]:[r,n]}function cl(r){return r._rawValidators}function ps(r){return r._rawAsyncValidators}function fs(r){return r?Array.isArray(r)?r:[r]:[]}function Qs(r,n){return Array.isArray(r)?r.includes(n):r===n}function dl(r,n){const t=fs(n);return fs(r).forEach(i=>{Qs(t,i)||t.push(i)}),t}function eh(r,n){return fs(n).filter(t=>!Qs(r,t))}class th{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Xp(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=br(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Xo extends th{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ar extends th{get formDirective(){return null}get path(){return null}}class Hr{constructor(n){this._cd=n}get isTouched(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.touched)}get isUntouched(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.untouched)}get isPristine(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.pristine)}get isDirty(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.dirty)}get isValid(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.valid)}get isInvalid(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.invalid)}get isPending(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.pending)}get isSubmitted(){var n;return!(null===(n=this._cd)||void 0===n||!n.submitted)}}let xn=(()=>{class r extends Hr{constructor(t){super(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Xo,2))},r.\u0275dir=e.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){2&t&&e.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[e.qOj]}),r})(),gs=(()=>{class r extends Hr{constructor(t){super(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ar,10))},r.\u0275dir=e.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,o){2&t&&e.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[e.qOj]}),r})();const Xs="VALID",pn="INVALID",Ti="PENDING",qa="DISABLED";function A(r){return(Y(r)?r.validators:r)||null}function I(r){return Array.isArray(r)?Xp(r):r||null}function k(r,n){return(Y(n)?n.asyncValidators:r)||null}function R(r){return Array.isArray(r)?br(r):r||null}function Y(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}function ae(r,n,t){const o=r.controls;if(!(n?Object.keys(o):o).length)throw new e.vHH(1e3,"");if(!o[t])throw new e.vHH(1001,"")}function xe(r,n,t){r._forEachChild((o,i)=>{if(void 0===t[i])throw new e.vHH(1002,"")})}class Je{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=t,this._composedValidatorFn=I(this._rawValidators),this._composedAsyncValidatorFn=R(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Xs}get invalid(){return this.status===pn}get pending(){return this.status==Ti}get disabled(){return this.status===qa}get enabled(){return this.status!==qa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=I(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=R(n)}addValidators(n){this.setValidators(dl(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(dl(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(eh(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(eh(n,this._rawAsyncValidators))}hasValidator(n){return Qs(this._rawValidators,n)}hasAsyncValidator(n){return Qs(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Ti,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=qa,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Xs,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xs||this.status===Ti)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qa:Xs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Ti,this._hasOwnPendingAsyncValidator=!0;const t=hs(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((o,i)=>o&&o._find(i),this)}getError(n,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?qa:this.errors?pn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ti)?Ti:this._anyControlsHaveStatus(pn)?pn:Xs}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Y(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}}class ht extends Je{constructor(n,t,o){super(A(t),k(o,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,o={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){xe(this,0,n),Object.keys(n).forEach(o=>{ae(this,!0,o),this.controls[o].setValue(n[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(o=>{const i=this.controls[o];i&&i.patchValue(n[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((o,i)=>{o.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,o)=>(n[o]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,o)=>!!o._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const o=this.controls[t];o&&n(o,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,o]of Object.entries(this.controls))if(this.contains(t)&&n(o))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,o,i)=>((o.enabled||this.disabled)&&(t[i]=o.value),t))}_reduceChildren(n,t){let o=n;return this._forEachChild((i,a)=>{o=t(o,i,a)}),o}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}function Wn(r,n){return[...n.path,r]}function Hi(r,n){var t,o;_s(r,n),n.valueAccessor.writeValue(r.value),r.disabled&&(null===(o=(t=n.valueAccessor).setDisabledState)||void 0===o||o.call(t,!0)),function wi(r,n){n.valueAccessor.registerOnChange(t=>{r._pendingValue=t,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&fl(r,n)})}(r,n),function mm(r,n){const t=(o,i)=>{n.valueAccessor.writeValue(o),i&&n.viewToModelUpdate(o)};r.registerOnChange(t),n._registerOnDestroy(()=>{r._unregisterOnChange(t)})}(r,n),function vs(r,n){n.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&fl(r,n),"submit"!==r.updateOn&&r.markAsTouched()})}(r,n),function ms(r,n){if(n.valueAccessor.setDisabledState){const t=o=>{n.valueAccessor.setDisabledState(o)};r.registerOnDisabledChange(t),n._registerOnDestroy(()=>{r._unregisterOnDisabledChange(t)})}}(r,n)}function Ji(r,n,t=!0){const o=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(o),n.valueAccessor.registerOnTouched(o)),ys(r,n),r&&(n._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function Ir(r,n){r.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function _s(r,n){const t=cl(r);null!==n.validator?r.setValidators(Yo(t,n.validator)):"function"==typeof t&&r.setValidators([t]);const o=ps(r);null!==n.asyncValidator?r.setAsyncValidators(Yo(o,n.asyncValidator)):"function"==typeof o&&r.setAsyncValidators([o]);const i=()=>r.updateValueAndValidity();Ir(n._rawValidators,i),Ir(n._rawAsyncValidators,i)}function ys(r,n){let t=!1;if(null!==r){if(null!==n.validator){const i=cl(r);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==n.validator);a.length!==i.length&&(t=!0,r.setValidators(a))}}if(null!==n.asyncValidator){const i=ps(r);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==n.asyncValidator);a.length!==i.length&&(t=!0,r.setAsyncValidators(a))}}}const o=()=>{};return Ir(n._rawValidators,o),Ir(n._rawAsyncValidators,o),t}function fl(r,n){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function rf(r,n){if(!r.hasOwnProperty("model"))return!1;const t=r.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}function Va(r,n){if(!n)return null;let t,o,i;return Array.isArray(n),n.forEach(a=>{a.constructor===Un?t=a:function Zc(r){return Object.getPrototypeOf(r.constructor)===$i}(a)?o=a:i=a}),i||o||t||null}function uh(r,n){const t=r.indexOf(n);t>-1&&r.splice(t,1)}function lh(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const ni=class extends Je{constructor(n=null,t,o){super(A(t),k(o,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Y(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=lh(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){uh(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){uh(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){lh(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},uf={provide:Xo,useExisting:(0,e.Gpc)(()=>un)},lf=(()=>Promise.resolve(null))();let un=(()=>{class r extends Xo{constructor(t,o,i,a,d){super(),this._changeDetectorRef=d,this.control=new ni,this._registered=!1,this.update=new e.vpe,this._parent=t,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=Va(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const o=t.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),rf(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Hi(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){lf.then(()=>{var o;this.control.setValue(t,{emitViewToModelChange:!1}),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_updateDisabled(t){const o=t.isDisabled.currentValue,i=0!==o&&(0,e.D6c)(o);lf.then(()=>{var a;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(t){return this._parent?Wn(t,this._parent):[t]}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ar,9),e.Y36(Mn,10),e.Y36(Ko,10),e.Y36(vo,10),e.Y36(e.sBO,8))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([uf]),e.qOj,e.TTD]}),r})(),ta=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=e.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})(),Im=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();const ph=new e.OlP("NgModelWithFormControlWarning"),Sm={provide:Ar,useExisting:(0,e.Gpc)(()=>Wi)};let Wi=(()=>{class r extends Ar{constructor(t,o){super(),this.validators=t,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(t),this._setAsyncValidators(o)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ys(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const o=this.form.get(t.path);return Hi(o,t),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),o}getControl(t){return this.form.get(t.path)}removeControl(t){Ji(t.control||null,t,!1),function sh(r,n){const t=r.indexOf(n);t>-1&&r.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,o){this.form.get(t.path).setValue(o)}onSubmit(t){return this.submitted=!0,function ym(r,n){r._syncPendingControls(),n.forEach(t=>{const o=t.control;"submit"===o.updateOn&&o._pendingChange&&(t.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const o=t.control,i=this.form.get(t.path);o!==i&&(Ji(o||null,t),(r=>r instanceof ni)(i)&&(Hi(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const o=this.form.get(t.path);(function tf(r,n){_s(r,n)})(o,t),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const o=this.form.get(t.path);o&&function oh(r,n){return ys(r,n)}(o,t)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_s(this.form,this),this._oldForm&&ys(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Mn,10),e.Y36(Ko,10))},r.\u0275dir=e.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(t,o){1&t&&e.NdJ("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([Sm]),e.qOj,e.TTD]}),r})();const hf={provide:Xo,useExisting:(0,e.Gpc)(()=>Au)};let Au=(()=>{class r extends Xo{constructor(t,o,i,a,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=Va(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),rf(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Wn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return r._ngModelWarningSentOnce=!1,r.\u0275fac=function(t){return new(t||r)(e.Y36(Ar,13),e.Y36(Mn,10),e.Y36(Ko,10),e.Y36(vo,10),e.Y36(ph,8))},r.\u0275dir=e.lG2({type:r,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([hf]),e.qOj,e.TTD]}),r})();const n0={provide:vo,useExisting:(0,e.Gpc)(()=>_r),multi:!0};function pf(r,n){return null==r?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${r}: ${n}`.slice(0,50))}let _r=(()=>{class r extends $i{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=pf(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=o=>{this.value=this._getOptionValue(o),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),t))return o;return null}_getOptionValue(t){const o=function fh(r){return r.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o):t}}return r.\u0275fac=function(){let n;return function(o){return(n||(n=e.n5z(r)))(o||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,o){1&t&&e.NdJ("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([n0]),e.qOj]}),r})(),so=(()=>{class r{constructor(t,o,i){this._element=t,this._renderer=o,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(pf(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(_r,9))},r.\u0275dir=e.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();const xm={provide:vo,useExisting:(0,e.Gpc)(()=>gh),multi:!0};function ff(r,n){return null==r?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${r}: ${n}`.slice(0,50))}let gh=(()=>{class r extends $i{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let o;if(this.value=t,Array.isArray(t)){const i=t.map(a=>this._getOptionId(a));o=(a,d)=>{a._setSelected(i.indexOf(d.toString())>-1)}}else o=(i,a)=>{i._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(t){this.onChange=o=>{const i=[],a=o.selectedOptions;if(void 0!==a){const d=a;for(let f=0;f<d.length;f++){const w=this._getOptionValue(d[f].value);i.push(w)}}else{const d=o.options;for(let f=0;f<d.length;f++){const y=d[f];if(y.selected){const w=this._getOptionValue(y.value);i.push(w)}}}this.value=i,t(i)}}_registerOption(t){const o=(this._idCounter++).toString();return this._optionMap.set(o,t),o}_getOptionId(t){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,t))return o;return null}_getOptionValue(t){const o=function gf(r){return r.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o)._value:t}}return r.\u0275fac=function(){let n;return function(o){return(n||(n=e.n5z(r)))(o||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,o){1&t&&e.NdJ("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([xm]),e.qOj]}),r})(),oi=(()=>{class r{constructor(t,o,i){this._element=t,this._renderer=o,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ff(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ff(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(gh,9))},r.\u0275dir=e.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})(),vl=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Im]}),r})(),yf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[vl]}),r})(),_h=(()=>{class r{static withConfig(t){return{ngModule:r,providers:[{provide:ph,useValue:t.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[vl]}),r})();class Cl extends Je{constructor(n,t,o){super(A(t),k(o,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,o={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(n,t={}){let o=this._adjustIndex(n);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,o={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){xe(this,0,n),n.forEach((o,i)=>{ae(this,!1,i),this.at(i).setValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((o,i)=>{this.at(i)&&this.at(i).patchValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((o,i)=>{o.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,o)=>!!o._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,o)=>{n(t,o)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){var t;return null!==(t=this.at(n))&&void 0!==t?t:null}}function o0(r){return!!r&&(void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn)}let km=(()=>{class r{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new r;return t.useNonNullable=!0,t}group(t,o=null){const i=this._reduceControls(t);let a={};return o0(o)?a=o:null!==o&&(a.validators=o.validator,a.asyncValidators=o.asyncValidator),new ht(i,a)}control(t,o,i){let a={};return this.useNonNullable?(o0(o)?a=o:(a.validators=o,a.asyncValidators=i),new ni(t,Object.assign(Object.assign({},a),{nonNullable:!0}))):new ni(t,o,i)}array(t,o,i){const a=t.map(d=>this._createControl(d));return new Cl(a,o,i)}_reduceControls(t){const o={};return Object.keys(t).forEach(i=>{o[i]=this._createControl(t[i])}),o}_createControl(t){return t instanceof ni||t instanceof Je?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:_h}),r})();function bt(...r){const n=(0,Bi.yG)(r);return(0,In.D)(r,n)}var zi=M(7579);class uo extends zi.x{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:o}=this;if(n)throw t;return this._throwIfClosed(),o}next(n){super.next(this._value=n)}}var yh=M(4671),Nm=M(9672);function vh(...r){const n=(0,Bi.yG)(r),t=(0,Bi.jO)(r),{args:o,keys:i}=Ws(r);if(0===o.length)return(0,In.D)([],n);const a=new Gr.y(function Tl(r,n,t=yh.y){return o=>{Um(n,()=>{const{length:i}=r,a=new Array(i);let d=i,f=i;for(let y=0;y<i;y++)Um(n,()=>{const w=(0,In.D)(r[y],n);let D=!1;w.subscribe((0,mr.x)(o,x=>{a[y]=x,D||(D=!0,f--),f||o.next(t(a.slice()))},()=>{--d||o.complete()}))},o)},o)}}(o,n,i?d=>ji(i,d):yh.y));return t?a.pipe(ka(t)):a}function Um(r,n,t){r?(0,Nm.f)(t,r,n):n()}var wl=M(8189);function Mm(...r){return function sb(){return(0,wl.J)(1)}()((0,In.D)(r,(0,Bi.yG)(r)))}function Pm(r){return new Gr.y(n=>{(0,ds.Xf)(r()).subscribe(n)})}var Oc=M(9635),Ch=M(576);function Rc(r,n){const t=(0,Ch.m)(r)?r:()=>r,o=i=>i.error(t());return new Gr.y(n?i=>n.schedule(o,0,i):o)}const bl=(0,M(3888).d)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});var na=M(515),s0=M(727),Co=M(4482);function Om(){return(0,Co.e)((r,n)=>{let t=null;r._refCount++;const o=(0,mr.x)(n,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(t=null);const i=r._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),n.unsubscribe()});r.subscribe(o),o.closed||(t=r.connect())})}class Rm extends Gr.y{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Co.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new s0.w0;const t=this.getSubject();n.add(this.source.subscribe((0,mr.x)(t,void 0,()=>{this._teardown(),t.complete()},o=>{this._teardown(),t.error(o)},()=>this._teardown()))),n.closed&&(this._connection=null,n=s0.w0.EMPTY)}return n}refCount(){return Om()(this)}}function lo(r,n){return(0,Co.e)((t,o)=>{let i=null,a=0,d=!1;const f=()=>d&&!i&&o.complete();t.subscribe((0,mr.x)(o,y=>{null==i||i.unsubscribe();let w=0;const D=a++;(0,ds.Xf)(r(y,D)).subscribe(i=(0,mr.x)(o,x=>o.next(n?n(y,x,D,w++):x),()=>{i=null,f()}))},()=>{d=!0,f()}))})}function Lc(r){return r<=0?()=>na.E:(0,Co.e)((n,t)=>{let o=0;n.subscribe((0,mr.x)(t,i=>{++o<=r&&(t.next(i),r<=o&&t.complete())}))})}function Iu(...r){const n=(0,Bi.yG)(r);return(0,Co.e)((t,o)=>{(n?Mm(r,t,n):Mm(r,t)).subscribe(o)})}function He(r,n){return(0,Co.e)((t,o)=>{let i=0;t.subscribe((0,mr.x)(o,a=>r.call(n,a,i++)&&o.next(a)))})}var Er=M(5577);function Eu(r){return(0,Co.e)((n,t)=>{let o=!1;n.subscribe((0,mr.x)(t,i=>{o=!0,t.next(i)},()=>{o||t.next(r),t.complete()}))})}function a0(r=K2){return(0,Co.e)((n,t)=>{let o=!1;n.subscribe((0,mr.x)(t,i=>{o=!0,t.next(i)},()=>o?t.complete():t.error(r())))})}function K2(){return new bl}function ra(r,n){const t=arguments.length>=2;return o=>o.pipe(r?He((i,a)=>r(i,a,o)):yh.y,Lc(1),t?Eu(n):a0(()=>new bl))}function Du(r,n){return(0,Ch.m)(n)?(0,Er.z)(r,n,1):(0,Er.z)(r,1)}var To=M(8505);function ja(r){return(0,Co.e)((n,t)=>{let a,o=null,i=!1;o=n.subscribe((0,mr.x)(t,void 0,void 0,d=>{a=(0,ds.Xf)(r(d,ja(r)(n))),o?(o.unsubscribe(),o=null,a.subscribe(t)):i=!0})),i&&(o.unsubscribe(),o=null,a.subscribe(t))})}function u0(r,n,t,o,i){return(a,d)=>{let f=t,y=n,w=0;a.subscribe((0,mr.x)(d,D=>{const x=w++;y=f?r(y,D,x):(f=!0,D),o&&d.next(y)},i&&(()=>{f&&d.next(y),d.complete()})))}}function Fc(r,n){return(0,Co.e)(u0(r,n,arguments.length>=2,!0))}function Th(r){return r<=0?()=>na.E:(0,Co.e)((n,t)=>{let o=[];n.subscribe((0,mr.x)(t,i=>{o.push(i),r<o.length&&o.shift()},()=>{for(const i of o)t.next(i);t.complete()},void 0,()=>{o=null}))})}function l0(r,n){const t=arguments.length>=2;return o=>o.pipe(r?He((i,a)=>r(i,a,o)):yh.y,Th(1),t?Eu(n):a0(()=>new bl))}function c0(r){return(0,Co.e)((n,t)=>{try{n.subscribe(t)}finally{t.add(r)}})}const Qt="primary";class Fm{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function wh(r){return new Fm(r)}function Y2(r,n,t){const o=t.path.split("/");if(o.length>r.length||"full"===t.pathMatch&&(n.hasChildren()||o.length<r.length))return null;const i={};for(let a=0;a<o.length;a++){const d=o[a],f=r[a];if(d.startsWith(":"))i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:r.slice(0,o.length),posParams:i}}function $a(r,n){const t=r?Object.keys(r):void 0,o=n?Object.keys(n):void 0;if(!t||!o||t.length!=o.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!lb(r[i],n[i]))return!1;return!0}function lb(r,n){if(Array.isArray(r)&&Array.isArray(n)){if(r.length!==n.length)return!1;const t=[...r].sort(),o=[...n].sort();return t.every((i,a)=>o[a]===i)}return r===n}function d0(r){return Array.prototype.concat.apply([],r)}function qm(r){return r.length>0?r[r.length-1]:null}function Jr(r,n){for(const t in r)r.hasOwnProperty(t)&&n(r[t],t)}function Ga(r){return(0,e.CqO)(r)?r:(0,e.QGY)(r)?(0,In.D)(Promise.resolve(r)):bt(r)}const cb={exact:function p0(r,n,t){if(!El(r.segments,n.segments)||!wf(r.segments,n.segments,t)||r.numberOfChildren!==n.numberOfChildren)return!1;for(const o in n.children)if(!r.children[o]||!p0(r.children[o],n.children[o],t))return!1;return!0},subset:Bm},Tf={exact:function db(r,n){return $a(r,n)},subset:function hb(r,n){return Object.keys(n).length<=Object.keys(r).length&&Object.keys(n).every(t=>lb(r[t],n[t]))},ignored:()=>!0};function qc(r,n,t){return cb[t.paths](r.root,n.root,t.matrixParams)&&Tf[t.queryParams](r.queryParams,n.queryParams)&&!("exact"===t.fragment&&r.fragment!==n.fragment)}function Bm(r,n,t){return f0(r,n,n.segments,t)}function f0(r,n,t,o){if(r.segments.length>t.length){const i=r.segments.slice(0,t.length);return!(!El(i,t)||n.hasChildren()||!wf(i,t,o))}if(r.segments.length===t.length){if(!El(r.segments,t)||!wf(r.segments,t,o))return!1;for(const i in n.children)if(!r.children[i]||!Bm(r.children[i],n.children[i],o))return!1;return!0}{const i=t.slice(0,r.segments.length),a=t.slice(r.segments.length);return!!(El(r.segments,i)&&wf(r.segments,i,o)&&r.children[Qt])&&f0(r.children[Qt],n,a,o)}}function wf(r,n,t){return n.every((o,i)=>Tf[t](r[i].parameters,o.parameters))}class Al{constructor(n,t,o){this.root=n,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wh(this.queryParams)),this._queryParamMap}toString(){return gb.serialize(this)}}class Kt{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Jr(t,(o,i)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wr(this)}}class Il{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=wh(this.parameters)),this._parameterMap}toString(){return _0(this)}}function El(r,n){return r.length===n.length&&r.every((t,o)=>t.path===n[o].path)}class jm{}class g0{parse(n){const t=new T0(n);return new Al(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Dl(n.root,!0)}`,o=function mb(r){const n=Object.keys(r).map(t=>{const o=r[t];return Array.isArray(o)?o.map(i=>`${Vc(t)}=${Vc(i)}`).join("&"):`${Vc(t)}=${Vc(o)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${o}${"string"==typeof n.fragment?`#${function wo(r){return encodeURI(r)}(n.fragment)}`:""}`}}const gb=new g0;function Wr(r){return r.segments.map(n=>_0(n)).join("/")}function Dl(r,n){if(!r.hasChildren())return Wr(r);if(n){const t=r.children[Qt]?Dl(r.children[Qt],!1):"",o=[];return Jr(r.children,(i,a)=>{a!==Qt&&o.push(`${a}:${Dl(i,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function fb(r,n){let t=[];return Jr(r.children,(o,i)=>{i===Qt&&(t=t.concat(n(o,i)))}),Jr(r.children,(o,i)=>{i!==Qt&&(t=t.concat(n(o,i)))}),t}(r,(o,i)=>i===Qt?[Dl(r.children[Qt],!1)]:[`${i}:${Dl(o,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[Qt]?`${Wr(r)}/${t[0]}`:`${Wr(r)}/(${t.join("//")})`}}function $m(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vc(r){return $m(r).replace(/%3B/gi,";")}function Sl(r){return $m(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bc(r){return decodeURIComponent(r)}function m0(r){return Bc(r.replace(/\+/g,"%20"))}function _0(r){return`${Sl(r.path)}${function y0(r){return Object.keys(r).map(n=>`;${Sl(n)}=${Sl(r[n])}`).join("")}(r.parameters)}`}const v0=/^[^\/()?;=#]+/;function bf(r){const n=r.match(v0);return n?n[0]:""}const C0=/^[^=?&#]+/,yb=/^[^&#]+/;class T0{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kt([],{}):new Kt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(o[Qt]=new Kt(n,t)),o}parseSegment(){const n=bf(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(n),new Il(Bc(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=bf(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const i=bf(this.remaining);i&&(o=i,this.capture(o))}n[Bc(t)]=Bc(o)}parseQueryParam(n){const t=function _b(r){const n=r.match(C0);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const d=function vb(r){const n=r.match(yb);return n?n[0]:""}(this.remaining);d&&(o=d,this.capture(o))}const i=m0(t),a=m0(o);if(n.hasOwnProperty(i)){let d=n[i];Array.isArray(d)||(d=[d],n[i]=d),d.push(a)}else n[i]=a}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=bf(this.remaining),i=this.remaining[o.length];if("/"!==i&&")"!==i&&";"!==i)throw new e.vHH(4010,!1);let a;o.indexOf(":")>-1?(a=o.slice(0,o.indexOf(":")),this.capture(a),this.capture(":")):n&&(a=Qt);const d=this.parseChildren();t[a]=1===Object.keys(d).length?d[Qt]:new Kt([],d),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new e.vHH(4011,!1)}}function Gm(r){return r.segments.length>0?new Kt([],{[Qt]:r}):r}function Af(r){const n={};for(const o of Object.keys(r.children)){const a=Af(r.children[o]);(a.segments.length>0||a.hasChildren())&&(n[o]=a)}return function jc(r){if(1===r.numberOfChildren&&r.children[Qt]){const n=r.children[Qt];return new Kt(r.segments.concat(n.segments),n.children)}return r}(new Kt(r.segments,n))}function Lo(r){return r instanceof Al}function w0(r,n,t,o,i){var a;if(0===t.length)return Su(n.root,n.root,n.root,o,i);const f=function Jm(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new b0(!0,0,r);let n=0,t=!1;const o=r.reduce((i,a,d)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Jr(a.outlets,(y,w)=>{f[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===d?(a.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?n++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new b0(t,n,o)}(t);return f.toRoot()?Su(n.root,n.root,new Kt([],{}),o,i):function y(D){var x;const O=function Cb(r,n,t,o){if(r.isAbsolute)return new $c(n.root,!0,0);if(-1===o)return new $c(t,t===n.root,0);return function Wm(r,n,t){let o=r,i=n,a=t;for(;a>i;){if(a-=i,o=o.parent,!o)throw new e.vHH(4005,!1);i=o.segments.length}return new $c(o,!1,i-a)}(t,o+(If(r.commands[0])?0:1),r.numberOfDoubleDots)}(f,n,null===(x=r.snapshot)||void 0===x?void 0:x._urlSegment,D),H=O.processChildren?Gc(O.segmentGroup,O.index,f.commands):Ah(O.segmentGroup,O.index,f.commands);return Su(n.root,O.segmentGroup,H,o,i)}(null===(a=r.snapshot)||void 0===a?void 0:a._lastPathIndex)}function If(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function ii(r){return"object"==typeof r&&null!=r&&r.outlets}function Su(r,n,t,o,i){let d,a={};o&&Jr(o,(y,w)=>{a[w]=Array.isArray(y)?y.map(D=>`${D}`):`${y}`}),d=r===n?t:Ef(r,n,t);const f=Gm(Af(d));return new Al(f,a,i)}function Ef(r,n,t){const o={};return Jr(r.children,(i,a)=>{o[a]=i===n?t:Ef(i,n,t)}),new Kt(r.segments,o)}class b0{constructor(n,t,o){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=o,n&&o.length>0&&If(o[0]))throw new e.vHH(4003,!1);const i=o.find(ii);if(i&&i!==qm(o))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $c{constructor(n,t,o){this.segmentGroup=n,this.processChildren=t,this.index=o}}function Ah(r,n,t){if(r||(r=new Kt([],{})),0===r.segments.length&&r.hasChildren())return Gc(r,n,t);const o=function rx(r,n,t){let o=0,i=n;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<r.segments.length;){if(o>=t.length)return a;const d=r.segments[i],f=t[o];if(ii(f))break;const y=`${f}`,w=o<t.length-1?t[o+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!A0(y,w,d))return a;o+=2}else{if(!A0(y,{},d))return a;o++}i++}return{match:!0,pathIndex:i,commandIndex:o}}(r,n,t),i=t.slice(o.commandIndex);if(o.match&&o.pathIndex<r.segments.length){const a=new Kt(r.segments.slice(0,o.pathIndex),{});return a.children[Qt]=new Kt(r.segments.slice(o.pathIndex),r.children),Gc(a,0,i)}return o.match&&0===i.length?new Kt(r.segments,{}):o.match&&!r.hasChildren()?xu(r,n,t):o.match?Gc(r,0,i):xu(r,n,t)}function Gc(r,n,t){if(0===t.length)return new Kt(r.segments,{});{const o=function zm(r){return ii(r[0])?r[0].outlets:{[Qt]:r}}(t),i={};return Jr(o,(a,d)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[d]=Ah(r.children[d],n,a))}),Jr(r.children,(a,d)=>{void 0===o[d]&&(i[d]=a)}),new Kt(r.segments,i)}}function xu(r,n,t){const o=r.segments.slice(0,n);let i=0;for(;i<t.length;){const a=t[i];if(ii(a)){const y=Qm(a.outlets);return new Kt(o,y)}if(0===i&&If(t[0])){o.push(new Il(r.segments[n].path,Km(t[0]))),i++;continue}const d=ii(a)?a.outlets[Qt]:`${a}`,f=i<t.length-1?t[i+1]:null;d&&f&&If(f)?(o.push(new Il(d,Km(f))),i+=2):(o.push(new Il(d,{})),i++)}return new Kt(o,{})}function Qm(r){const n={};return Jr(r,(t,o)=>{"string"==typeof t&&(t=[t]),null!==t&&(n[o]=xu(new Kt([],{}),0,t))}),n}function Km(r){const n={};return Jr(r,(t,o)=>n[o]=`${t}`),n}function A0(r,n,t){return r==t.path&&$a(n,t.parameters)}class ws{constructor(n,t){this.id=n,this.url=t}}class Ym extends ws{constructor(n,t,o="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=o,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zu extends ws{constructor(n,t,o){super(n,t),this.urlAfterRedirects=o,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Df extends ws{constructor(n,t,o,i){super(n,t),this.reason=o,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class I0 extends ws{constructor(n,t,o,i){super(n,t),this.error=o,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Tb extends ws{constructor(n,t,o,i){super(n,t),this.urlAfterRedirects=o,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wb extends ws{constructor(n,t,o,i){super(n,t),this.urlAfterRedirects=o,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E0 extends ws{constructor(n,t,o,i,a){super(n,t),this.urlAfterRedirects=o,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xm extends ws{constructor(n,t,o,i){super(n,t),this.urlAfterRedirects=o,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D0 extends ws{constructor(n,t,o,i){super(n,t),this.urlAfterRedirects=o,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class e_{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bb{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ab{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class S0{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class x0{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xl{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t_{constructor(n,t,o){this.routerEvent=n,this.position=t,this.anchor=o,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class k0{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=N0(n,this._root);return t?t.children.map(o=>o.value):[]}firstChild(n){const t=N0(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Hc(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Hc(n,this._root).map(t=>t.value)}}function N0(r,n){if(r===n.value)return n;for(const t of n.children){const o=N0(r,t);if(o)return o}return null}function Hc(r,n){if(r===n.value)return[n];for(const t of n.children){const o=Hc(r,t);if(o.length)return o.unshift(n),o}return[]}class Ha{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Zl(r){const n={};return r&&r.children.forEach(t=>n[t.value.outlet]=t),n}class n_ extends k0{constructor(n,t){super(n),this.snapshot=t,Zf(this,n)}toString(){return this.snapshot.toString()}}function r_(r,n){const t=function o_(r,n){const d=new Eh([],{},{},"",{},Qt,n,null,r.root,-1,{});return new xf("",new Ha(d,[]))}(r,n),o=new uo([new Il("",{})]),i=new uo({}),a=new uo({}),d=new uo({}),f=new uo(""),y=new oa(o,i,d,f,a,Qt,n,t.root);return y.snapshot=t.root,new n_(new Ha(y,[]),t)}class oa{constructor(n,t,o,i,a,d,f,y){this.url=n,this.params=t,this.queryParams=o,this.fragment=i,this.data=a,this.outlet=d,this.component=f,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,K.U)(n=>wh(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,K.U)(n=>wh(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ih(r,n="emptyOnly"){const t=r.pathFromRoot;let o=0;if("always"!==n)for(o=t.length-1;o>=1;){const i=t[o],a=t[o-1];if(i.routeConfig&&""===i.routeConfig.path)o--;else{if(a.component)break;o--}}return function Sf(r){return r.reduce((n,t)=>{var o;return{params:Object.assign(Object.assign({},n.params),t.params),data:Object.assign(Object.assign({},n.data),t.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},t.data),n.resolve),null===(o=t.routeConfig)||void 0===o?void 0:o.data),t._resolvedData)}},{params:{},data:{},resolve:{}})}(t.slice(o))}class Eh{constructor(n,t,o,i,a,d,f,y,w,D,x,O){this.url=n,this.params=t,this.queryParams=o,this.fragment=i,this.data=a,this.outlet=d,this.component=f,this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=D,this._correctedLastPathIndex=null!=O?O:D,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xf extends k0{constructor(n,t){super(t),this.url=n,Zf(this,t)}toString(){return kf(this._root)}}function Zf(r,n){n.value._routerState=r,n.children.forEach(t=>Zf(r,t))}function kf(r){const n=r.children.length>0?` { ${r.children.map(kf).join(", ")} } `:"";return`${r.value}${n}`}function kl(r){if(r.snapshot){const n=r.snapshot,t=r._futureSnapshot;r.snapshot=t,$a(n.queryParams,t.queryParams)||r.queryParams.next(t.queryParams),n.fragment!==t.fragment&&r.fragment.next(t.fragment),$a(n.params,t.params)||r.params.next(t.params),function X2(r,n){if(r.length!==n.length)return!1;for(let t=0;t<r.length;++t)if(!$a(r[t],n[t]))return!1;return!0}(n.url,t.url)||r.url.next(t.url),$a(n.data,t.data)||r.data.next(t.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function i_(r,n){const t=$a(r.params,n.params)&&function pb(r,n){return El(r,n)&&r.every((t,o)=>$a(t.parameters,n[o].parameters))}(r.url,n.url);return t&&!(!r.parent!=!n.parent)&&(!r.parent||i_(r.parent,n.parent))}function Dh(r,n,t){if(t&&r.shouldReuseRoute(n.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=n.value;const i=function Ib(r,n,t){return n.children.map(o=>{for(const i of t.children)if(r.shouldReuseRoute(o.value,i.value.snapshot))return Dh(r,o,i);return Dh(r,o)})}(r,n,t);return new Ha(o,i)}{if(r.shouldAttach(n.value)){const a=r.retrieve(n.value);if(null!==a){const d=a.route;return d.value._futureSnapshot=n.value,d.children=n.children.map(f=>Dh(r,f)),d}}const o=function M0(r){return new oa(new uo(r.url),new uo(r.params),new uo(r.queryParams),new uo(r.fragment),new uo(r.data),r.outlet,r.component,r)}(n.value),i=n.children.map(a=>Dh(r,a));return new Ha(o,i)}}const Sh="ngNavigationCancelingError";function s_(r,n){const{redirectTo:t,navigationBehaviorOptions:o}=Lo(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=Eb(!1,0,n);return i.url=t,i.navigationBehaviorOptions=o,i}function Eb(r,n,t){const o=new Error("NavigationCancelingError: "+(r||""));return o[Sh]=!0,o.cancellationCode=n,t&&(o.url=t),o}function a_(r){return P0(r)&&Lo(r.url)}function P0(r){return r&&r[Sh]}class O0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new xh,this.attachRef=null}}class xh{constructor(){this.contexts=new Map}onChildOutletCreated(n,t){const o=this.getOrCreateContext(n);o.outlet=t,this.contexts.set(n,o)}onChildOutletDestroyed(n){const t=this.getContext(n);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let t=this.getContext(n);return t||(t=new O0,this.contexts.set(n,t)),t}getContext(n){return this.contexts.get(n)||null}}const Nf=!1;let si=(()=>{class r{constructor(t,o,i,a,d){this.parentContexts=t,this.location=o,this.changeDetector=a,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.name=i||Qt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){var t;(null===(t=this.parentContexts.getContext(this.name))||void 0===t?void 0:t.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,Nf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,Nf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,Nf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new e.vHH(4013,Nf);this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new Db(t,f,i.injector);if(o&&function R0(r){return!!r.resolveComponentFactory}(o)){const w=o.resolveComponentFactory(d);this.activated=i.createComponent(w,i.length,y)}else this.activated=i.createComponent(d,{index:i.length,injector:y,environmentInjector:null!=o?o:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(xh),e.Y36(e.s_b),e.$8M("name"),e.Y36(e.sBO),e.Y36(e.lqb))},r.\u0275dir=e.lG2({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),r})();class Db{constructor(n,t,o){this.route=n,this.childContexts=t,this.parent=o}get(n,t){return n===oa?this.route:n===xh?this.childContexts:this.parent.get(n,t)}}let L0=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},dependencies:[si],encapsulation:2}),r})();function F0(r,n){var t;return r.providers&&!r._injector&&(r._injector=(0,e.MMx)(r.providers,n,`Route: ${r.path}`)),null!==(t=r._injector)&&void 0!==t?t:n}function Uf(r){const n=r.children&&r.children.map(Uf),t=n?Object.assign(Object.assign({},r),{children:n}):Object.assign({},r);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Qt&&(t.component=L0),t}function bi(r){return r.outlet||Qt}function V0(r,n){const t=r.filter(o=>bi(o)===n);return t.push(...r.filter(o=>bi(o)!==n)),t}function B0(r){var n;if(!r)return null;if(null!==(n=r.routeConfig)&&void 0!==n&&n._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){const o=t.routeConfig;if(null!=o&&o._loadedInjector)return o._loadedInjector;if(null!=o&&o._injector)return o._injector}return null}class Zb{constructor(n,t,o,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=o,this.forwardEvent=i}activate(n){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,n),kl(this.futureState.root),this.activateChildRoutes(t,o,n)}deactivateChildRoutes(n,t,o){const i=Zl(t);n.children.forEach(a=>{const d=a.value.outlet;this.deactivateRoutes(a,i[d],o),delete i[d]}),Jr(i,(a,d)=>{this.deactivateRouteAndItsChildren(a,o)})}deactivateRoutes(n,t,o){const i=n.value,a=t?t.value:null;if(i===a)if(i.component){const d=o.getContext(i.outlet);d&&this.deactivateChildRoutes(n,t,d.children)}else this.deactivateChildRoutes(n,t,o);else a&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const o=t.getContext(n.value.outlet),i=o&&n.value.component?o.children:t,a=Zl(n);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);if(o&&o.outlet){const d=o.outlet.detach(),f=o.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:d,route:n,contexts:f})}}deactivateRouteAndOutlet(n,t){const o=t.getContext(n.value.outlet),i=o&&n.value.component?o.children:t,a=Zl(n);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(n,t,o){const i=Zl(t);n.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],o),this.forwardEvent(new xl(a.value.snapshot))}),n.children.length&&this.forwardEvent(new S0(n.value.snapshot))}activateRoutes(n,t,o){var i;const a=n.value,d=t?t.value:null;if(kl(a),a===d)if(a.component){const f=o.getOrCreateContext(a.outlet);this.activateChildRoutes(n,t,f.children)}else this.activateChildRoutes(n,t,o);else if(a.component){const f=o.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(y.contexts),f.attachRef=y.componentRef,f.route=y.route.value,f.outlet&&f.outlet.attach(y.componentRef,y.route.value),kl(y.route.value),this.activateChildRoutes(n,null,f.children)}else{const y=B0(a.snapshot),w=null!==(i=null==y?void 0:y.get(e._Vd))&&void 0!==i?i:null;f.attachRef=null,f.route=a,f.resolver=w,f.injector=y,f.outlet&&f.outlet.activateWith(a,f.injector),this.activateChildRoutes(n,null,f.children)}}else this.activateChildRoutes(n,null,o)}}class l_{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Mf{constructor(n,t){this.component=n,this.route=t}}function kb(r,n,t){const o=r._root;return Jc(o,n?n._root:null,t,[o.value])}function Zh(r,n,t){const o=B0(n);return(null!=o?o:t).get(r)}function Jc(r,n,t,o,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Zl(n);return r.children.forEach(d=>{(function Nl(r,n,t,o,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=r.value,d=n?n.value:null,f=t?t.getContext(r.value.outlet):null;if(d&&a.routeConfig===d.routeConfig){const y=function Nb(r,n,t){if("function"==typeof t)return t(r,n);switch(t){case"pathParamsChange":return!El(r.url,n.url);case"pathParamsOrQueryParamsChange":return!El(r.url,n.url)||!$a(r.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!i_(r,n)||!$a(r.queryParams,n.queryParams);default:return!i_(r,n)}}(d,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new l_(o)):(a.data=d.data,a._resolvedData=d._resolvedData),Jc(r,n,a.component?f?f.children:null:t,o,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Mf(f.outlet.component,d))}else d&&Ul(n,f,i),i.canActivateChecks.push(new l_(o)),Jc(r,null,a.component?f?f.children:null:t,o,i)})(d,a[d.value.outlet],t,o.concat([d.value]),i),delete a[d.value.outlet]}),Jr(a,(d,f)=>Ul(d,t.getContext(f),i)),i}function Ul(r,n,t){const o=Zl(r),i=r.value;Jr(o,(a,d)=>{Ul(a,i.component?n?n.children.getContext(d):null:n,t)}),t.canDeactivateChecks.push(new Mf(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Ml(r){return"function"==typeof r}const Ja=Symbol("INITIAL_VALUE");function Wc(){return lo(r=>vh(r.map(n=>n.pipe(Lc(1),Iu(Ja)))).pipe((0,K.U)(n=>{for(const t of n)if(!0!==t){if(t===Ja)return Ja;if(!1===t||t instanceof Al)return t}return!0}),He(n=>n!==Ja),Lc(1)))}function c_(r){return(0,Oc.z)((0,To.b)(n=>{if(Lo(n))throw s_(0,n)}),(0,K.U)(n=>!0===n))}const Of={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function d_(r,n,t,o,i){const a=kh(r,n,t);return a.matched?function Bb(r,n,t,o){const i=n.canMatch;return i&&0!==i.length?bt(i.map(d=>{const f=r.get(d),y=function $0(r){return r&&Ml(r.canMatch)}(f)?f.canMatch(n,t):f(n,t);return Ga(y)})).pipe(Wc(),c_()):bt(!0)}(o=F0(n,o),n,t).pipe((0,K.U)(d=>!0===d?a:Object.assign({},Of))):bt(a)}function kh(r,n,t){var o;if(""===n.path)return"full"===n.pathMatch&&(r.hasChildren()||t.length>0)?Object.assign({},Of):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(n.matcher||Y2)(t,r,n);if(!a)return Object.assign({},Of);const d={};Jr(a.posParams,(y,w)=>{d[w]=y.path});const f=a.consumed.length>0?Object.assign(Object.assign({},d),a.consumed[a.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(o=a.posParams)&&void 0!==o?o:{}}}function h_(r,n,t,o,i="corrected"){if(t.length>0&&function dx(r,n,t){return t.some(o=>Nh(r,n,o)&&bi(o)!==Qt)}(r,t,o)){const d=new Kt(n,function jb(r,n,t,o){const i={};i[Qt]=o,o._sourceSegment=r,o._segmentIndexShift=n.length;for(const a of t)if(""===a.path&&bi(a)!==Qt){const d=new Kt([],{});d._sourceSegment=r,d._segmentIndexShift=n.length,i[bi(a)]=d}return i}(r,n,o,new Kt(t,r.children)));return d._sourceSegment=r,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function zc(r,n,t){return t.some(o=>Nh(r,n,o))}(r,t,o)){const d=new Kt(r.segments,function p_(r,n,t,o,i,a){const d={};for(const f of o)if(Nh(r,t,f)&&!i[bi(f)]){const y=new Kt([],{});y._sourceSegment=r,y._segmentIndexShift="legacy"===a?r.segments.length:n.length,d[bi(f)]=y}return Object.assign(Object.assign({},i),d)}(r,n,t,o,r.children,i));return d._sourceSegment=r,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:t}}const a=new Kt(r.segments,r.children);return a._sourceSegment=r,a._segmentIndexShift=n.length,{segmentGroup:a,slicedSegments:t}}function Nh(r,n,t){return(!(r.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}function f_(r,n,t,o){return!!(bi(r)===o||o!==Qt&&Nh(n,t,r))&&("**"===r.path||kh(n,r,t).matched)}function Uh(r,n,t){return 0===n.length&&!r.children[t]}const ai=!1;class Mh{constructor(n){this.segmentGroup=n||null}}class J0{constructor(n){this.urlTree=n}}function Pl(r){return Rc(new Mh(r))}function ia(r){return Rc(new J0(r))}class hx{constructor(n,t,o,i,a){this.injector=n,this.configLoader=t,this.urlSerializer=o,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const n=h_(this.urlTree.root,[],[],this.config).segmentGroup,t=new Kt(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,t,Qt).pipe((0,K.U)(a=>this.createUrlTree(Af(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ja(a=>{if(a instanceof J0)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Mh?this.noMatchError(a):a}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,Qt).pipe((0,K.U)(i=>this.createUrlTree(Af(i),n.queryParams,n.fragment))).pipe(ja(i=>{throw i instanceof Mh?this.noMatchError(i):i}))}noMatchError(n){return new e.vHH(4002,ai)}createUrlTree(n,t,o){const i=Gm(n);return new Al(i,t,o)}expandSegmentGroup(n,t,o,i){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(n,t,o).pipe((0,K.U)(a=>new Kt([],a))):this.expandSegment(n,o,t,o.segments,i,!0)}expandChildren(n,t,o){const i=[];for(const a of Object.keys(o.children))"primary"===a?i.unshift(a):i.push(a);return(0,In.D)(i).pipe(Du(a=>{const d=o.children[a],f=V0(t,a);return this.expandSegmentGroup(n,f,d,a).pipe((0,K.U)(y=>({segment:y,outlet:a})))}),Fc((a,d)=>(a[d.outlet]=d.segment,a),{}),l0())}expandSegment(n,t,o,i,a,d){return(0,In.D)(o).pipe(Du(f=>this.expandSegmentAgainstRoute(n,t,o,f,i,a,d).pipe(ja(w=>{if(w instanceof Mh)return bt(null);throw w}))),ra(f=>!!f),ja((f,y)=>{if(f instanceof bl||"EmptyError"===f.name)return Uh(t,i,a)?bt(new Kt([],{})):Pl(t);throw f}))}expandSegmentAgainstRoute(n,t,o,i,a,d,f){return f_(i,t,a,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,t,i,a,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,t,o,i,a,d):Pl(t):Pl(t)}expandSegmentAgainstRouteUsingRedirect(n,t,o,i,a,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,o,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,o,i,a,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,o,i){const a=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?ia(a):this.lineralizeSegments(o,a).pipe((0,Er.z)(d=>{const f=new Kt(d,{});return this.expandSegment(n,f,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,o,i,a,d){const{matched:f,consumedSegments:y,remainingSegments:w,positionalParamSegments:D}=kh(t,i,a);if(!f)return Pl(t);const x=this.applyRedirectCommands(y,i.redirectTo,D);return i.redirectTo.startsWith("/")?ia(x):this.lineralizeSegments(i,x).pipe((0,Er.z)(O=>this.expandSegment(n,t,o,O.concat(w),d,!1)))}matchSegmentAgainstRoute(n,t,o,i,a){return"**"===o.path?(n=F0(o,n),o.loadChildren?(o._loadedRoutes?bt({routes:o._loadedRoutes,injector:o._loadedInjector}):this.configLoader.loadChildren(n,o)).pipe((0,K.U)(f=>(o._loadedRoutes=f.routes,o._loadedInjector=f.injector,new Kt(i,{})))):bt(new Kt(i,{}))):d_(t,o,i,n).pipe(lo(({matched:d,consumedSegments:f,remainingSegments:y})=>{var w;return d?(n=null!==(w=o._injector)&&void 0!==w?w:n,this.getChildConfig(n,o,i).pipe((0,Er.z)(x=>{var O;const H=null!==(O=x.injector)&&void 0!==O?O:n,ne=x.routes,{segmentGroup:Ne,slicedSegments:$e}=h_(t,f,y,ne),mt=new Kt(Ne.segments,Ne.children);if(0===$e.length&&mt.hasChildren())return this.expandChildren(H,ne,mt).pipe((0,K.U)(Xt=>new Kt(f,Xt)));if(0===ne.length&&0===$e.length)return bt(new Kt(f,{}));const Pt=bi(o)===a;return this.expandSegment(H,mt,ne,$e,Pt?Qt:a,!0).pipe((0,K.U)(It=>new Kt(f.concat(It.segments),It.children)))}))):Pl(t)}))}getChildConfig(n,t,o){return t.children?bt({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?bt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Vb(r,n,t,o){const i=n.canLoad;return void 0===i||0===i.length?bt(!0):bt(i.map(d=>{const f=r.get(d),y=function ux(r){return r&&Ml(r.canLoad)}(f)?f.canLoad(n,t):f(n,t);return Ga(y)})).pipe(Wc(),c_())}(n,t,o).pipe((0,Er.z)(i=>i?this.configLoader.loadChildren(n,t).pipe((0,To.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function W0(r){return Rc(Eb(ai,3))}())):bt({routes:[],injector:n})}lineralizeSegments(n,t){let o=[],i=t.root;for(;;){if(o=o.concat(i.segments),0===i.numberOfChildren)return bt(o);if(i.numberOfChildren>1||!i.children[Qt])return Rc(new e.vHH(4e3,ai));i=i.children[Qt]}}applyRedirectCommands(n,t,o){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,o)}applyRedirectCreateUrlTree(n,t,o,i){const a=this.createSegmentGroup(n,t.root,o,i);return new Al(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const o={};return Jr(n,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);o[a]=t[f]}else o[a]=i}),o}createSegmentGroup(n,t,o,i){const a=this.createSegments(n,t.segments,o,i);let d={};return Jr(t.children,(f,y)=>{d[y]=this.createSegmentGroup(n,f,o,i)}),new Kt(a,d)}createSegments(n,t,o,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(n,a,i):this.findOrReturn(a,o))}findPosParam(n,t,o){const i=o[t.path.substring(1)];if(!i)throw new e.vHH(4001,ai);return i}findOrReturn(n,t){let o=0;for(const i of t){if(i.path===n.path)return t.splice(o),i;o++}return n}}class Rf{}class v_{constructor(n,t,o,i,a,d,f,y){this.injector=n,this.rootComponentType=t,this.config=o,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=f,this.urlSerializer=y}recognize(){const n=h_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Qt).pipe((0,K.U)(t=>{if(null===t)return null;const o=new Eh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ha(o,t),a=new xf(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(n){const t=n.value,o=Ih(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,o,i){return 0===o.segments.length&&o.hasChildren()?this.processChildren(n,t,o):this.processSegment(n,t,o,o.segments,i)}processChildren(n,t,o){return(0,In.D)(Object.keys(o.children)).pipe(Du(i=>{const a=o.children[i],d=V0(t,i);return this.processSegmentGroup(n,d,a,i)}),Fc((i,a)=>i&&a?(i.push(...a),i):null),function ub(r,n=!1){return(0,Co.e)((t,o)=>{let i=0;t.subscribe((0,mr.x)(o,a=>{const d=r(a,i++);(d||n)&&o.next(a),!d&&o.complete()}))})}(i=>null!==i),Eu(null),l0(),(0,K.U)(i=>{if(null===i)return null;const a=Q0(i);return function C_(r){r.sort((n,t)=>n.value.outlet===Qt?-1:t.value.outlet===Qt?1:n.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(n,t,o,i,a){return(0,In.D)(t).pipe(Du(d=>{var f;return this.processSegmentAgainstRoute(null!==(f=d._injector)&&void 0!==f?f:n,d,o,i,a)}),ra(d=>!!d),ja(d=>{if(d instanceof bl)return Uh(o,i,a)?bt([]):bt(null);throw d}))}processSegmentAgainstRoute(n,t,o,i,a){var d,f;if(t.redirectTo||!f_(t,o,i,a))return bt(null);let y;if("**"===t.path){const w=i.length>0?qm(i).parameters:{},D=T_(o)+i.length;y=bt({snapshot:new Eh(i,w,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Y0(t),bi(t),null!==(f=null!==(d=t.component)&&void 0!==d?d:t._loadedComponent)&&void 0!==f?f:null,t,K0(o),D,Jb(t),D),consumedSegments:[],remainingSegments:[]})}else y=d_(o,t,i,n).pipe((0,K.U)(({matched:w,consumedSegments:D,remainingSegments:x,parameters:O})=>{var H,ne;if(!w)return null;const Ne=T_(o)+D.length;return{snapshot:new Eh(D,O,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Y0(t),bi(t),null!==(ne=null!==(H=t.component)&&void 0!==H?H:t._loadedComponent)&&void 0!==ne?ne:null,t,K0(o),Ne,Jb(t),Ne),consumedSegments:D,remainingSegments:x}}));return y.pipe(lo(w=>{var D,x;if(null===w)return bt(null);const{snapshot:O,consumedSegments:H,remainingSegments:ne}=w;n=null!==(D=t._injector)&&void 0!==D?D:n;const Ne=null!==(x=t._loadedInjector)&&void 0!==x?x:n,$e=function px(r){return r.children?r.children:r.loadChildren?r._loadedRoutes:[]}(t),{segmentGroup:mt,slicedSegments:Pt}=h_(o,H,ne,$e.filter(It=>void 0===It.redirectTo),this.relativeLinkResolution);if(0===Pt.length&&mt.hasChildren())return this.processChildren(Ne,$e,mt).pipe((0,K.U)(It=>null===It?null:[new Ha(O,It)]));if(0===$e.length&&0===Pt.length)return bt([new Ha(O,[])]);const Yt=bi(t)===a;return this.processSegment(Ne,$e,mt,Pt,Yt?Qt:a).pipe((0,K.U)(It=>null===It?null:[new Ha(O,It)]))}))}}function $b(r){const n=r.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function Q0(r){const n=[],t=new Set;for(const o of r){if(!$b(o)){n.push(o);continue}const i=n.find(a=>o.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...o.children),t.add(i)):n.push(o)}for(const o of t){const i=Q0(o.children);n.push(new Ha(o.value,i))}return n.filter(o=>!t.has(o))}function K0(r){let n=r;for(;n._sourceSegment;)n=n._sourceSegment;return n}function T_(r){var n,t;let o=r,i=null!==(n=o._segmentIndexShift)&&void 0!==n?n:0;for(;o._sourceSegment;)o=o._sourceSegment,i+=null!==(t=o._segmentIndexShift)&&void 0!==t?t:0;return i-1}function Y0(r){return r.data||{}}function Jb(r){return r.resolve||{}}const Ff=Symbol("RouteTitle");function zb(r){return"string"==typeof r.title||null===r.title}function e1(r){return lo(n=>{const t=r(n);return t?(0,In.D)(t).pipe((0,K.U)(()=>n)):bt(n)})}class vx extends class yx{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}{}const t1=new e.OlP("ROUTES");let sa=(()=>{class r{constructor(t,o){this.injector=t,this.compiler=o,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return bt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const o=Ga(t.loadComponent()).pipe((0,To.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),c0(()=>{this.componentLoaders.delete(t)})),i=new Rm(o,()=>new zi.x).pipe(Om());return this.componentLoaders.set(t,i),i}loadChildren(t,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return bt({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const a=this.loadModuleFactoryOrRoutes(o.loadChildren).pipe((0,K.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(o);let y,w,D=!1;Array.isArray(f)?w=f:(y=f.create(t).injector,w=d0(y.get(t1,[],e.XFs.Self|e.XFs.Optional)));return{routes:w.map(Uf),injector:y}}),c0(()=>{this.childrenLoaders.delete(o)})),d=new Rm(a,()=>new zi.x).pipe(Om());return this.childrenLoaders.set(o,d),d}loadModuleFactoryOrRoutes(t){return Ga(t()).pipe((0,Er.z)(o=>o instanceof e.YKP||Array.isArray(o)?bt(o):(0,In.D)(this.compiler.compileModuleAsync(o))))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.zs3),e.LFG(e.Sil))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Kb{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,t){return n}}function A_(r){throw r}function n1(r,n,t){return n.parse("/")}const I_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Yb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pn=(()=>{class r{constructor(t,o,i,a,d,f,y){this.rootComponentType=t,this.urlSerializer=o,this.rootContexts=i,this.location=a,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new zi.x,this.errorHandler=A_,this.malformedUriErrorHandler=n1,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>bt(void 0),this.urlHandlingStrategy=new Kb,this.routeReuseStrategy=new vx,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(sa),this.configLoader.onLoadEndListener=O=>this.triggerEvent(new bb(O)),this.configLoader.onLoadStartListener=O=>this.triggerEvent(new e_(O)),this.ngModule=d.get(e.h0i),this.console=d.get(e.c2e);const x=d.get(e.R0b);this.isNgZoneEnabled=x instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function Vm(){return new Al(new Kt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=r_(this.currentUrlTree,this.rootComponentType),this.transitions=new uo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const o=this.events;return t.pipe(He(i=>0!==i.id),(0,K.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),lo(i=>{let a=!1,d=!1;return bt(i).pipe((0,To.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),lo(f=>{const y=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return o1(f.source)&&(this.browserUrlTree=f.extractedUrl),bt(f).pipe(lo(x=>{const O=this.transitions.getValue();return o.next(new Ym(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),O!==this.transitions.getValue()?na.E:Promise.resolve(x)}),function z0(r,n,t,o){return lo(i=>function m_(r,n,t,o,i){return new hx(r,n,t,o,i).apply()}(r,n,t,i.extractedUrl,o).pipe((0,K.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,To.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects}),i.urlAfterRedirects=x.urlAfterRedirects}),function X0(r,n,t,o,i,a){return(0,Er.z)(d=>function y_(r,n,t,o,i,a,d="emptyOnly",f="legacy"){return new v_(r,n,t,o,i,d,f,a).recognize().pipe(lo(y=>null===y?function Lf(r){return new Gr.y(n=>n.error(r))}(new Rf):bt(y)))}(r,n,t,d.urlAfterRedirects,o.serialize(d.urlAfterRedirects),o,i,a).pipe((0,K.U)(f=>Object.assign(Object.assign({},d),{targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,To.b)(x=>{if(i.targetSnapshot=x.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(H,x)}this.browserUrlTree=x.urlAfterRedirects}const O=new Tb(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);o.next(O)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:H,source:ne,restoredState:Ne,extras:$e}=f,mt=new Ym(O,this.serializeUrl(H),ne,Ne);o.next(mt);const Pt=r_(H,this.rootComponentType).snapshot;return bt(i=Object.assign(Object.assign({},f),{targetSnapshot:Pt,urlAfterRedirects:H,extras:Object.assign(Object.assign({},$e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),na.E}),(0,To.b)(f=>{const y=new wb(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),(0,K.U)(f=>i=Object.assign(Object.assign({},f),{guards:kb(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function G0(r,n){return(0,Er.z)(t=>{const{targetSnapshot:o,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:d}}=t;return 0===d.length&&0===a.length?bt(Object.assign(Object.assign({},t),{guardsResult:!0})):function Pf(r,n,t,o){return(0,In.D)(r).pipe((0,Er.z)(i=>function qb(r,n,t,o,i){const a=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return a&&0!==a.length?bt(a.map(f=>{const y=Zh(f,n,i);return Ga(function Mb(r){return r&&Ml(r.canDeactivate)}(y)?y.canDeactivate(r,n,t,o):y(r,n,t,o)).pipe(ra())})).pipe(Wc()):bt(!0)}(i.component,i.route,t,n,o)),ra(i=>!0!==i,!0))}(d,o,i,r).pipe((0,Er.z)(f=>f&&function Ub(r){return"boolean"==typeof r}(f)?function Ob(r,n,t,o){return(0,In.D)(n).pipe(Du(i=>Mm(function Rb(r,n){return null!==r&&n&&n(new Ab(r)),bt(!0)}(i.route.parent,o),function H0(r,n){return null!==r&&n&&n(new x0(r)),bt(!0)}(i.route,o),function Fb(r,n,t){const o=n[n.length-1],a=n.slice(0,n.length-1).reverse().map(d=>function ax(r){const n=r.routeConfig?r.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:r,guards:n}:null}(d)).filter(d=>null!==d).map(d=>Pm(()=>bt(d.guards.map(y=>{const w=Zh(y,d.node,t);return Ga(function cx(r){return r&&Ml(r.canActivateChild)}(w)?w.canActivateChild(o,r):w(o,r)).pipe(ra())})).pipe(Wc())));return bt(a).pipe(Wc())}(r,i.path,t),function Lb(r,n,t){const o=n.routeConfig?n.routeConfig.canActivate:null;if(!o||0===o.length)return bt(!0);const i=o.map(a=>Pm(()=>{const d=Zh(a,n,t);return Ga(function lx(r){return r&&Ml(r.canActivate)}(d)?d.canActivate(n,r):d(n,r)).pipe(ra())}));return bt(i).pipe(Wc())}(r,i.route,t))),ra(i=>!0!==i,!0))}(o,a,r,n):bt(f)),(0,K.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,To.b)(f=>{if(i.guardsResult=f.guardsResult,Lo(f.guardsResult))throw s_(0,f.guardsResult);const y=new E0(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(y)}),He(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),e1(f=>{if(f.guards.canActivateChecks.length)return bt(f).pipe((0,To.b)(y=>{const w=new Xm(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),lo(y=>{let w=!1;return bt(y).pipe(function Wb(r,n){return(0,Er.z)(t=>{const{targetSnapshot:o,guards:{canActivateChecks:i}}=t;if(!i.length)return bt(t);let a=0;return(0,In.D)(i).pipe(Du(d=>function w_(r,n,t,o){const i=r.routeConfig,a=r._resolve;return void 0!==(null==i?void 0:i.title)&&!zb(i)&&(a[Ff]=i.title),function fx(r,n,t,o){const i=function gx(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}(r);if(0===i.length)return bt({});const a={};return(0,In.D)(i).pipe((0,Er.z)(d=>function mx(r,n,t,o){const i=Zh(r,n,o);return Ga(i.resolve?i.resolve(n,t):i(n,t))}(r[d],n,t,o).pipe(ra(),(0,To.b)(f=>{a[d]=f}))),Th(1),function Lm(r){return(0,K.U)(()=>r)}(a),ja(d=>d instanceof bl?na.E:Rc(d)))}(a,r,n,o).pipe((0,K.U)(d=>(r._resolvedData=d,r.data=Ih(r,t).resolve,i&&zb(i)&&(r.data[Ff]=i.title),null)))}(d.route,o,r,n)),(0,To.b)(()=>a++),Th(1),(0,Er.z)(d=>a===i.length?bt(t):na.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,To.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,To.b)(y=>{const w=new D0(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}))}),e1(f=>{const y=w=>{var D;const x=[];(null===(D=w.routeConfig)||void 0===D?void 0:D.loadComponent)&&!w.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,To.b)(O=>{w.component=O}),(0,K.U)(()=>{})));for(const O of w.children)x.push(...y(O));return x};return vh(y(f.targetSnapshot.root)).pipe(Eu(),Lc(1))}),e1(()=>this.afterPreactivation()),(0,K.U)(f=>{const y=function U0(r,n,t){const o=Dh(r,n._root,t?t._root:void 0);return new n_(o,n)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i=Object.assign(Object.assign({},f),{targetRouterState:y})}),(0,To.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((r,n,t)=>(0,K.U)(o=>(new Zb(n,o.targetRouterState,o.currentRouterState,t).activate(r),o)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,To.b)({next(){a=!0},complete(){a=!0}}),c0(()=>{var f;a||d||this.cancelNavigationTransition(i,"",1),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),ja(f=>{var y;if(d=!0,P0(f)){a_(f)||(this.navigated=!0,this.restoreHistory(i,!0));const w=new Df(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(o.next(w),a_(f)){const D=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),x={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||o1(i.source)};this.scheduleNavigation(D,"imperative",null,x,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const w=new I0(i.id,this.serializeUrl(i.extractedUrl),f,null!==(y=i.targetSnapshot)&&void 0!==y?y:void 0);o.next(w);try{i.resolve(this.errorHandler(f))}catch(D){i.reject(D)}}return na.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o="popstate"===t.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var i;const a={replaceUrl:!0},d=null!==(i=t.state)&&void 0!==i&&i.navigationId?t.state:null;if(d){const y=Object.assign({},d);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(a.state=y)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,o,d,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Uf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,o={}){const{relativeTo:i,queryParams:a,fragment:d,queryParamsHandling:f,preserveFragment:y}=o,w=i||this.routerState.root,D=y?this.currentUrlTree.fragment:d;let x=null;switch(f){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=a||null}return null!==x&&(x=this.removeEmptyProps(x)),w0(w,this.currentUrlTree,t,x,null!=D?D:null)}navigateByUrl(t,o={skipLocationChange:!1}){const i=Lo(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,o)}navigate(t,o={skipLocationChange:!1}){return function r1(r){for(let n=0;n<r.length;n++){if(null==r[n])throw new e.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(i){o=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return o}isActive(t,o){let i;if(i=!0===o?Object.assign({},I_):!1===o?Object.assign({},Yb):o,Lo(t))return qc(this.currentUrlTree,t,i);const a=this.parseUrl(t);return qc(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((o,i)=>{const a=t[i];return null!=a&&(o[i]=a),o},{})}processNavigations(){this.navigations.subscribe(t=>{var o;this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Zu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(o=this.titleStrategy)||void 0===o||o.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,o,i,a,d){var f,y;if(this.disposed)return Promise.resolve(!1);let w,D,x;d?(w=d.resolve,D=d.reject,x=d.promise):x=new Promise((ne,Ne)=>{w=ne,D=Ne});const O=++this.navigationId;let H;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),H=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):H=0,this.setTransition({id:O,targetPageId:H,source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:w,reject:D,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(ne=>Promise.reject(ne))}setBrowserUrl(t,o){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,o=!1){var i,a;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,o,i){const a=new Df(t.id,this.serializeUrl(t.extractedUrl),o,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}}return r.\u0275fac=function(t){e.$Z()},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();function o1(r){return"imperative"!==r}let Ai=(()=>{class r{constructor(t,o,i){this.router=t,this.route=o,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new zi.x,this.subscription=t.events.subscribe(a=>{a instanceof Zu&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,o,i,a,d){if(0!==t||o||i||a||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:(0,e.D6c)(this.skipLocationChange),replaceUrl:(0,e.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,e.D6c)(this.preserveFragment)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Pn),e.Y36(oa),e.Y36(Ce))},r.\u0275dir=e.lG2({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,o){1&t&&e.NdJ("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&e.uIk("target",o.target)("href",o.href,e.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[e.TTD]}),r})(),s1=(()=>{class r{buildTitle(t){var o;let i,a=t.root;for(;void 0!==a;)i=null!==(o=this.getResolvedTitleForRoute(a))&&void 0!==o?o:i,a=a.children.find(d=>d.outlet===Qt);return i}getResolvedTitleForRoute(t){return t.data[Ff]}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(){return(0,e.f3M)(qf)},providedIn:"root"}),r})(),qf=(()=>{class r extends s1{constructor(t){super(),this.title=t}updateTitle(t){const o=this.buildTitle(t);void 0!==o&&this.title.setTitle(o)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(cu))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class Ol{}let Lh=(()=>{class r{constructor(t,o,i,a,d){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(He(t=>t instanceof Zu),Du(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){var i,a,d;const f=[];for(const y of o){y.providers&&!y._injector&&(y._injector=(0,e.MMx)(y.providers,t,`Route: ${y.path}`));const w=null!==(i=y._injector)&&void 0!==i?i:t,D=null!==(a=y._loadedInjector)&&void 0!==a?a:w;y.loadChildren&&!y._loadedRoutes||y.loadComponent&&!y._loadedComponent?f.push(this.preloadConfig(w,y)):(y.children||y._loadedRoutes)&&f.push(this.processRoutes(D,null!==(d=y.children)&&void 0!==d?d:y._loadedRoutes))}return(0,In.D)(f).pipe((0,wl.J)())}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(t,o):bt(null);const a=i.pipe((0,Er.z)(d=>{var f;return null===d?bt(void 0):(o._loadedRoutes=d.routes,o._loadedInjector=d.injector,this.processRoutes(null!==(f=d.injector)&&void 0!==f?f:t,d.routes))}));if(o.loadComponent&&!o._loadedComponent){const d=this.loader.loadComponent(o);return(0,In.D)([a,d]).pipe((0,wl.J)())}return a})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Pn),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(Ol),e.LFG(sa))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Qc=new e.OlP("");let eA=(()=>{class r{constructor(t,o,i={}){this.router=t,this.viewportScroller=o,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ym?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof t_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.router.triggerEvent(new t_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(t){e.$Z()},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Fh=new e.OlP("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),Vf=new e.OlP("ROUTER_FORROOT_GUARD"),E_=new e.OlP(""),D_=[Ze,{provide:jm,useClass:g0},{provide:Pn,useFactory:function sA(r,n,t,o,i,a,d,f={},y,w){const D=new Pn(null,r,n,t,o,i,d0(a));return y&&(D.urlHandlingStrategy=y),w&&(D.routeReuseStrategy=w),D.titleStrategy=d,function Ii(r,n){r.errorHandler&&(n.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(n.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(n.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(n.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(n.urlUpdateStrategy=r.urlUpdateStrategy),r.canceledNavigationResolution&&(n.canceledNavigationResolution=r.canceledNavigationResolution)}(f,D),D},deps:[jm,xh,Ze,e.zs3,e.Sil,t1,s1,Fh,[class b_{},new e.FiY],[class _x{},new e.FiY]]},xh,{provide:oa,useFactory:function c1(r){return r.routerState.root},deps:[Pn]},sa];function nA(){return new e.PXZ("Router",Pn)}let rA=(()=>{class r{constructor(t,o){}static forRoot(t,o){return{ngModule:r,providers:[D_,[],S_(t),{provide:Vf,useFactory:l1,deps:[[Pn,new e.FiY,new e.tp0]]},{provide:Fh,useValue:o||{}},null!=o&&o.useHash?{provide:Ce,useClass:je}:{provide:Ce,useClass:ft},{provide:Qc,useFactory:()=>{const r=(0,e.f3M)(Pn),n=(0,e.f3M)(Os),t=(0,e.f3M)(Fh);return t.scrollOffset&&n.setOffset(t.scrollOffset),new eA(r,n,t)}},null!=o&&o.preloadingStrategy?hA(o.preloadingStrategy):[],{provide:e.PXZ,multi:!0,useFactory:nA},null!=o&&o.initialNavigation?lA(o):[],[{provide:uA,useFactory:aA},{provide:e.tb,multi:!0,useExisting:uA}]]}}static forChild(t){return{ngModule:r,providers:[S_(t)]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Vf,8),e.LFG(Pn,8))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();function l1(r){return"guarded"}function S_(r){return[{provide:e.deG,multi:!0,useValue:r},{provide:t1,multi:!0,useValue:r}]}function aA(){const r=(0,e.f3M)(e.zs3);return n=>{var t,o;const i=r.get(e.z2F);if(n!==i.components[0])return;const a=r.get(Pn),d=r.get(Z_);null===r.get(k_,null,e.XFs.Optional)&&a.initialNavigation(),null===(t=r.get(E_,null,e.XFs.Optional))||void 0===t||t.setUpPreloading(),null===(o=r.get(Qc,null,e.XFs.Optional))||void 0===o||o.init(),a.resetRootComponentType(i.componentTypes[0]),d.next(),d.complete()}}const uA=new e.OlP("");function lA(r){return["disabled"===r.initialNavigation?[{provide:e.ip1,multi:!0,useFactory:()=>{const r=(0,e.f3M)(Pn);return()=>{r.setUpLocationChangeListener()}}},{provide:k_,useValue:"disabled"}]:[],"enabledBlocking"===r.initialNavigation?[{provide:k_,useValue:"enabledBlocking"},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:r=>{const n=r.get(J,Promise.resolve(null));let t=!1;return()=>n.then(()=>new Promise(i=>{const a=r.get(Pn),d=r.get(Z_);(function o(i){r.get(Pn).events.pipe(He(d=>d instanceof Zu||d instanceof Df||d instanceof I0),(0,K.U)(d=>d instanceof Zu||d instanceof Df&&(0===d.code||1===d.code)&&null),He(d=>null!==d),Lc(1)).subscribe(()=>{i()})})(()=>{i(!0),t=!0}),a.afterPreactivation=()=>(i(!0),t||d.closed?bt(void 0):d),a.initialNavigation()}))}}]:[]]}const Z_=new e.OlP("",{factory:()=>new zi.x}),k_=new e.OlP("");function hA(r){return[Lh,{provide:E_,useExisting:Lh},{provide:Ol,useExisting:r}]}let fA=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-laws"]],decls:10,vars:0,consts:[["routerLink","../clusters"],[1,"text-green-dull"],[1,"text-green"]],template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"Laws works!"),e.qZA(),e.TgZ(2,"a",0),e._uU(3,"clusters"),e.qZA(),e.TgZ(4,"p")(5,"a",1),e._uU(6,"[ "),e.TgZ(7,"span",2),e._uU(8,"O"),e.qZA(),e._uU(9,"nly Evolved ]"),e.qZA()())},dependencies:[Ai]}),r})(),Rl=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],inputs:{selectedLanguage:"selectedLanguage"},decls:0,vars:0,template:function(t,o){},encapsulation:2}),r})();class N_{}class U_{}class ua{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(t=>{const o=t.indexOf(":");if(o>0){const i=t.slice(0,o),a=i.toLowerCase(),d=t.slice(o+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(d):this.headers.set(a,[d])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(t=>{let o=n[t];const i=t.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(i,o),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof ua?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new ua;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ua?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let o=n.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...o),this.headers.set(t,i);break;case"d":const a=n.value;if(a){let d=this.headers.get(t);if(!d)return;d=d.filter(f=>-1===a.indexOf(f)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class M_{encodeKey(n){return P_(n)}encodeValue(n){return P_(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const mA=/%(\d[a-f0-9])/gi,Cx={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function P_(r){return encodeURIComponent(r).replace(mA,(n,t)=>{var o;return null!==(o=Cx[t])&&void 0!==o?o:n})}function Bf(r){return`${r}`}class za{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new M_,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function gA(r,n){const t=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[d,f]=-1==a?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,a)),n.decodeValue(i.slice(a+1))],y=t.get(d)||[];y.push(f),t.set(d,y)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const o=n.fromObject[t],i=Array.isArray(o)?o.map(Bf):[Bf(o)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(o=>{const i=n[o];Array.isArray(i)?i.forEach(a=>{t.push({param:o,value:a,op:"a"})}):t.push({param:o,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(o=>t+"="+this.encoder.encodeValue(o)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new za({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(Bf(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let o=this.map.get(n.param)||[];const i=o.indexOf(Bf(n.value));-1!==i&&o.splice(i,1),o.length>0?this.map.set(n.param,o):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class O_{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function h1(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function qh(r){return"undefined"!=typeof Blob&&r instanceof Blob}function jf(r){return"undefined"!=typeof FormData&&r instanceof FormData}class Ll{constructor(n,t,o,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function _A(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==o?o:null,a=i):a=o,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new ua),this.context||(this.context=new O_),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+d}}else this.params=new za,this.urlWithParams=t}serializeBody(){return null===this.body?null:h1(this.body)||qh(this.body)||jf(this.body)||function yA(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof za?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||jf(this.body)?null:qh(this.body)?this.body.type||null:h1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof za?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var t;const o=n.method||this.method,i=n.url||this.url,a=n.responseType||this.responseType,d=void 0!==n.body?n.body:this.body,f=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,y=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let w=n.headers||this.headers,D=n.params||this.params;const x=null!==(t=n.context)&&void 0!==t?t:this.context;return void 0!==n.setHeaders&&(w=Object.keys(n.setHeaders).reduce((O,H)=>O.set(H,n.setHeaders[H]),w)),n.setParams&&(D=Object.keys(n.setParams).reduce((O,H)=>O.set(H,n.setParams[H]),D)),new Ll(o,i,d,{params:D,headers:w,context:x,reportProgress:y,responseType:a,withCredentials:f})}}var cr=(()=>((cr=cr||{})[cr.Sent=0]="Sent",cr[cr.UploadProgress=1]="UploadProgress",cr[cr.ResponseHeader=2]="ResponseHeader",cr[cr.DownloadProgress=3]="DownloadProgress",cr[cr.Response=4]="Response",cr[cr.User=5]="User",cr))();class $f{constructor(n,t=200,o="OK"){this.headers=n.headers||new ua,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||o,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class p1 extends $f{constructor(n={}){super(n),this.type=cr.ResponseHeader}clone(n={}){return new p1({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class rt extends $f{constructor(n={}){super(n),this.type=cr.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new rt({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Gf extends $f{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function f1(r,n){return{body:n,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let la=(()=>{class r{constructor(t){this.handler=t}request(t,o,i={}){let a;if(t instanceof Ll)a=t;else{let y,w;y=i.headers instanceof ua?i.headers:new ua(i.headers),i.params&&(w=i.params instanceof za?i.params:new za({fromObject:i.params})),a=new Ll(t,o,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=bt(a).pipe(Du(y=>this.handler.handle(y)));if(t instanceof Ll||"events"===i.observe)return d;const f=d.pipe(He(y=>y instanceof rt));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,K.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return f.pipe((0,K.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return f.pipe((0,K.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return f.pipe((0,K.U)(y=>y.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,o={}){return this.request("DELETE",t,o)}get(t,o={}){return this.request("GET",t,o)}head(t,o={}){return this.request("HEAD",t,o)}jsonp(t,o){return this.request("JSONP",t,{params:(new za).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,o={}){return this.request("OPTIONS",t,o)}patch(t,o,i={}){return this.request("PATCH",t,f1(i,o))}post(t,o,i={}){return this.request("POST",t,f1(i,o))}put(t,o,i={}){return this.request("PUT",t,f1(i,o))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(N_))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class R_{constructor(n,t){this.next=n,this.interceptor=t}handle(n){return this.interceptor.intercept(n,this.next)}}const Vh=new e.OlP("HTTP_INTERCEPTORS");let g1=(()=>{class r{intercept(t,o){return o.handle(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const TA=/^\)\]\}',?\n/;let Kc=(()=>{class r{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Gr.y(o=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((H,ne)=>i.setRequestHeader(H,ne.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const H=t.detectContentTypeHeader();null!==H&&i.setRequestHeader("Content-Type",H)}if(t.responseType){const H=t.responseType.toLowerCase();i.responseType="json"!==H?H:"text"}const a=t.serializeBody();let d=null;const f=()=>{if(null!==d)return d;const H=i.statusText||"OK",ne=new ua(i.getAllResponseHeaders()),Ne=function wA(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(i)||t.url;return d=new p1({headers:ne,status:i.status,statusText:H,url:Ne}),d},y=()=>{let{headers:H,status:ne,statusText:Ne,url:$e}=f(),mt=null;204!==ne&&(mt=void 0===i.response?i.responseText:i.response),0===ne&&(ne=mt?200:0);let Pt=ne>=200&&ne<300;if("json"===t.responseType&&"string"==typeof mt){const Yt=mt;mt=mt.replace(TA,"");try{mt=""!==mt?JSON.parse(mt):null}catch(It){mt=Yt,Pt&&(Pt=!1,mt={error:It,text:mt})}}Pt?(o.next(new rt({body:mt,headers:H,status:ne,statusText:Ne,url:$e||void 0})),o.complete()):o.error(new Gf({error:mt,headers:H,status:ne,statusText:Ne,url:$e||void 0}))},w=H=>{const{url:ne}=f(),Ne=new Gf({error:H,status:i.status||0,statusText:i.statusText||"Unknown Error",url:ne||void 0});o.error(Ne)};let D=!1;const x=H=>{D||(o.next(f()),D=!0);let ne={type:cr.DownloadProgress,loaded:H.loaded};H.lengthComputable&&(ne.total=H.total),"text"===t.responseType&&!!i.responseText&&(ne.partialText=i.responseText),o.next(ne)},O=H=>{let ne={type:cr.UploadProgress,loaded:H.loaded};H.lengthComputable&&(ne.total=H.total),o.next(ne)};return i.addEventListener("load",y),i.addEventListener("error",w),i.addEventListener("timeout",w),i.addEventListener("abort",w),t.reportProgress&&(i.addEventListener("progress",x),null!==a&&i.upload&&i.upload.addEventListener("progress",O)),i.send(a),o.next({type:cr.Sent}),()=>{i.removeEventListener("error",w),i.removeEventListener("abort",w),i.removeEventListener("load",y),i.removeEventListener("timeout",w),t.reportProgress&&(i.removeEventListener("progress",x),null!==a&&i.upload&&i.upload.removeEventListener("progress",O)),i.readyState!==i.DONE&&i.abort()}})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(kr))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const q_=new e.OlP("XSRF_COOKIE_NAME"),y1=new e.OlP("XSRF_HEADER_NAME");class v1{}let bx=(()=>{class r{constructor(t,o,i){this.doc=t,this.platform=o,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xn(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(he),e.LFG(e.Lbi),e.LFG(q_))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),V_=(()=>{class r{constructor(t,o){this.tokenService=t,this.headerName=o}intercept(t,o){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return o.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),o.handle(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(v1),e.LFG(y1))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),bA=(()=>{class r{constructor(t,o){this.backend=t,this.injector=o,this.chain=null}handle(t){if(null===this.chain){const o=this.injector.get(Vh,[]);this.chain=o.reduceRight((i,a)=>new R_(i,a),this.backend)}return this.chain.handle(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(U_),e.LFG(e.zs3))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),Ex=(()=>{class r{static disable(){return{ngModule:r,providers:[{provide:V_,useClass:g1}]}}static withOptions(t={}){return{ngModule:r,providers:[t.cookieName?{provide:q_,useValue:t.cookieName}:[],t.headerName?{provide:y1,useValue:t.headerName}:[]]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[V_,{provide:Vh,useExisting:V_,multi:!0},{provide:v1,useClass:bx},{provide:q_,useValue:"XSRF-TOKEN"},{provide:y1,useValue:"X-XSRF-TOKEN"}]}),r})(),C1=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[la,{provide:N_,useClass:bA},Kc,{provide:U_,useExisting:Kc}],imports:[Ex.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),r})(),Qi=(()=>{class r{constructor(){this.rootUrl="http://localhost:8080/"}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Fl=(()=>{class r{constructor(t,o){this.config=t,this.http=o,this._rootUrl=""}get rootUrl(){return this._rootUrl||this.config.rootUrl}set rootUrl(t){this._rootUrl=t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Qi),e.LFG(la))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const IA=new class AA{encodeKey(n){return encodeURIComponent(n)}encodeValue(n){return encodeURIComponent(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};class B_{constructor(n,t,o,i,a){this.name=n,this.value=t,this.options=o,this.options=o||{},null==this.options.style&&(this.options.style=i),null==this.options.explode&&(this.options.explode=a)}serializeValue(n,t=","){if(null==n)return"";if(n instanceof Array)return n.map(o=>this.serializeValue(o).split(t).join(encodeURIComponent(t))).join(t);if("object"==typeof n){const o=[];for(const i of Object.keys(n)){let a=n[i];null!=a&&(a=this.serializeValue(a).split(t).join(encodeURIComponent(t)),this.options.explode?o.push(`${i}=${a}`):(o.push(i),o.push(a)))}return o.join(t)}return String(n)}}class EA extends B_{constructor(n,t,o){super(n,t,o,"simple",!1)}append(n){let t=this.value;null==t&&(t="");let o="label"===this.options.style?".":"",i=this.options.explode?""===o?",":o:",",a=!1;return"matrix"===this.options.style&&(o=`;${this.name}=`,this.options.explode&&"object"==typeof t&&(o=";",t instanceof Array?(t=t.map(d=>`${this.name}=${this.serializeValue(d,";")}`),t=t.join(";"),a=!0):(t=this.serializeValue(t,";"),a=!0))),t=o+(a?t:this.serializeValue(t,i)),(n=n.replace(`{${this.name}}`,t)).replace(`{${o}${this.name}${this.options.explode?"*":""}}`,t)}serializeValue(n,t=","){var o="string"==typeof n?encodeURIComponent(n):super.serializeValue(n,t);return(o=(o=o.replace("%3D","=")).replace("%3B",";")).replace("%2C",",")}}class DA extends B_{constructor(n,t,o){super(n,t,o,"form",!0)}append(n){if(this.value instanceof Array){if(!this.options.explode)return n.append(this.name,this.serializeValue(this.value,"spaceDelimited"===this.options.style?" ":"pipeDelimited"===this.options.style?"|":","));for(const t of this.value)n=n.append(this.name,this.serializeValue(t))}else if(null!==this.value&&"object"==typeof this.value)if("deepObject"===this.options.style)for(const t of Object.keys(this.value)){const o=this.value[t];null!=o&&(n=n.append(`${this.name}[${t}]`,this.serializeValue(o)))}else if(this.options.explode)for(const t of Object.keys(this.value)){const o=this.value[t];null!=o&&(n=n.append(t,this.serializeValue(o)))}else{const t=[];for(const o of Object.keys(this.value)){const i=this.value[o];null!=i&&(t.push(o),t.push(i))}n=n.append(this.name,this.serializeValue(t))}else null!=this.value&&(n=n.append(this.name,this.serializeValue(this.value)));return n}}class Jf extends B_{constructor(n,t,o){super(n,t,o,"simple",!1)}append(n){if(null!=this.value)if(this.value instanceof Array)for(const t of this.value)n=n.append(this.name,this.serializeValue(t));else n=n.append(this.name,this.serializeValue(this.value));return n}}class tt{constructor(n,t,o){this.rootUrl=n,this.operationPath=t,this.method=o,this._path=new Map,this._query=new Map,this._header=new Map}path(n,t,o){this._path.set(n,new EA(n,t,o||{}))}query(n,t,o){this._query.set(n,new DA(n,t,o||{}))}header(n,t,o){this._header.set(n,new Jf(n,t,o||{}))}body(n,t="application/json"){if(this._bodyContentType=n instanceof Blob?n.type:t,"application/x-www-form-urlencoded"===this._bodyContentType&&null!==n&&"object"==typeof n){const o=[];for(const i of Object.keys(n)){let a=n[i];a instanceof Array||(a=[a]);for(const d of a){const f=this.formDataValue(d);null!==f&&o.push([i,f])}}this._bodyContent=o.map(i=>`${encodeURIComponent(i[0])}=${encodeURIComponent(i[1])}`).join("&")}else if("multipart/form-data"===this._bodyContentType){const o=new FormData;if(null!=n)for(const i of Object.keys(n)){const a=n[i];if(a instanceof Array)for(const d of a){const f=this.formDataValue(d);null!==f&&o.append(i,f)}else{const d=this.formDataValue(a);null!==d&&o.set(i,d)}}this._bodyContent=o}else this._bodyContent=n}formDataValue(n){return null==n?null:n instanceof Blob?n:"object"==typeof n?JSON.stringify(n):String(n)}build(n){n=n||{};let t=this.operationPath;for(const d of this._path.values())t=d.append(t);const o=this.rootUrl+t;let i=new za({encoder:IA});for(const d of this._query.values())i=d.append(i);let a=new ua;n.accept&&(a=a.append("Accept",n.accept));for(const d of this._header.values())a=d.append(a);return this._bodyContentType&&!(this._bodyContent instanceof FormData)&&(a=a.set("Content-Type",this._bodyContentType)),new Ll(this.method.toUpperCase(),o,this._bodyContent,{params:i,headers:a,responseType:n.responseType,reportProgress:n.reportProgress})}}let ca=(()=>{class r extends Fl{constructor(t,o){super(t,o)}saveLanguage$Response(t){const o=new tt(this.rootUrl,r.SaveLanguagePath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}saveLanguage(t){return this.saveLanguage$Response(t).pipe((0,K.U)(o=>o.body))}getAllLanguages$Response(t){const o=new tt(this.rootUrl,r.GetAllLanguagesPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getAllLanguages(t){return this.getAllLanguages$Response(t).pipe((0,K.U)(o=>o.body))}getLanguageSoundClusters$Response(t){const o=new tt(this.rootUrl,r.GetLanguageSoundClustersPath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getLanguageSoundClusters(t){return this.getLanguageSoundClusters$Response(t).pipe((0,K.U)(o=>o.body))}getLanguagePhonemes$Response(t){const o=new tt(this.rootUrl,r.GetLanguagePhonemesPath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getLanguagePhonemes(t){return this.getLanguagePhonemes$Response(t).pipe((0,K.U)(o=>o.body))}saveLanguagePhoneme$Response(t){const o=new tt(this.rootUrl,r.SaveLanguagePhonemePath,"post");return t&&(o.path("languageId",t.languageId,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}saveLanguagePhoneme(t){return this.saveLanguagePhoneme$Response(t).pipe((0,K.U)(o=>o.body))}deleteLanguagePhoneme$Response(t){const o=new tt(this.rootUrl,r.DeleteLanguagePhonemePath,"delete");return t&&o.path("phonemeId",t.phonemeId,{}),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:void 0})))}deleteLanguagePhoneme(t){return this.deleteLanguagePhoneme$Response(t).pipe((0,K.U)(o=>o.body))}getAllPartsOfSpeechByLanguage$Response(t){const o=new tt(this.rootUrl,r.GetAllPartsOfSpeechByLanguagePath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getAllPartsOfSpeechByLanguage(t){return this.getAllPartsOfSpeechByLanguage$Response(t).pipe((0,K.U)(o=>o.body))}deleteLanguage$Response(t){const o=new tt(this.rootUrl,r.DeleteLanguagePath,"delete");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:void 0})))}deleteLanguage(t){return this.deleteLanguage$Response(t).pipe((0,K.U)(o=>o.body))}canDeleteLanguage$Response(t){const o=new tt(this.rootUrl,r.CanDeleteLanguagePath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:"true"===String(i.body)})))}canDeleteLanguage(t){return this.canDeleteLanguage$Response(t).pipe((0,K.U)(o=>o.body))}}return r.SaveLanguagePath="/api/language/",r.GetAllLanguagesPath="/api/language/all",r.GetLanguageSoundClustersPath="/api/language/clusters/{languageId}",r.GetLanguagePhonemesPath="/api/language/phoneme/{languageId}",r.SaveLanguagePhonemePath="/api/language/phoneme/{languageId}",r.DeleteLanguagePhonemePath="/api/language/phoneme/{phonemeId}",r.GetAllPartsOfSpeechByLanguagePath="/api/language/pos/{languageId}",r.DeleteLanguagePath="/api/language/{languageId}",r.CanDeleteLanguagePath="/api/language/{languageId}/candelete",r.\u0275fac=function(t){return new(t||r)(e.LFG(Qi),e.LFG(la))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Yc=(()=>{class r extends Rl{constructor(t){super(),this.languagesService=t,this.langsc={}}ngOnInit(){super.ngOnInit(),this.refresh()}ngOnChanges(t){var o;t.selectedLanguage.currentValue&&(console.log(t,t.selectedLanguage.currentValue.id,null===(o=this.selectedLanguage)||void 0===o?void 0:o.id),this.refresh())}refresh(){var t,o;null!==(t=this.selectedLanguage)&&void 0!==t&&t.id&&this.languagesService.getLanguageSoundClusters({languageId:null===(o=this.selectedLanguage)||void 0===o?void 0:o.id}).subscribe(i=>{var a,d,f,y,w,D;i.constClusters=null===(a=i.constClusters)||void 0===a?void 0:a.sort((x,O)=>O.length-x.length),i.constClustersStart=null===(d=i.constClustersStart)||void 0===d?void 0:d.sort((x,O)=>O.length-x.length),i.constClustersEnd=null===(f=i.constClustersEnd)||void 0===f?void 0:f.sort((x,O)=>O.length-x.length),i.vowelClusters=null===(y=i.vowelClusters)||void 0===y?void 0:y.sort((x,O)=>O.length-x.length),i.vowelClustersStart=null===(w=i.vowelClustersStart)||void 0===w?void 0:w.sort((x,O)=>O.length-x.length),i.vowelClustersEnd=null===(D=i.vowelClustersEnd)||void 0===D?void 0:D.sort((x,O)=>O.length-x.length),this.langsc=i})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ca))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-clusters"]],features:[e.qOj,e.TTD],decls:24,vars:6,template:function(t,o){1&t&&(e.TgZ(0,"p")(1,"span"),e._uU(2,"All consonant clusters: "),e.qZA(),e._uU(3),e.qZA(),e.TgZ(4,"p")(5,"span"),e._uU(6,"Starting consonant clusters: "),e.qZA(),e._uU(7),e.qZA(),e.TgZ(8,"p")(9,"span"),e._uU(10,"End consonant clusters: "),e.qZA(),e._uU(11),e.qZA(),e.TgZ(12,"p")(13,"span"),e._uU(14,"All vowel clusters: "),e.qZA(),e._uU(15),e.qZA(),e.TgZ(16,"p")(17,"span"),e._uU(18,"Starting vowel clusters: "),e.qZA(),e._uU(19),e.qZA(),e.TgZ(20,"p")(21,"span"),e._uU(22,"End vowel clusters: "),e.qZA(),e._uU(23),e.qZA()),2&t&&(e.xp6(3),e.Oqu(o.langsc.constClusters),e.xp6(4),e.Oqu(o.langsc.constClustersStart),e.xp6(4),e.Oqu(o.langsc.constClustersEnd),e.xp6(4),e.Oqu(o.langsc.vowelClusters),e.xp6(4),e.Oqu(o.langsc.vowelClustersStart),e.xp6(4),e.Oqu(o.langsc.vowelClustersEnd))}}),r})();const SA=["col"],xA=["app-horizontal-dash",""];let On=(()=>{class r{constructor(t,o){this.cdRef=t,this.router=o,this.bcol=""}ngOnInit(){}onResize(){this.resizeDash()}ngAfterViewChecked(){this.resizeDash()}resizeDash(){var t;const o=Math.max(0,Math.floor(((null===(t=this.col)||void 0===t?void 0:t.nativeElement.offsetWidth)-1)/8)),i=this.bcol;this.bcol=o?(this.symbol?this.symbol:"-").repeat(o):"",i!==this.bcol&&this.cdRef.detectChanges()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(Pn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["th","app-horizontal-dash",""]],viewQuery:function(t,o){if(1&t&&e.Gf(SA,5),2&t){let i;e.iGM(i=e.CRH())&&(o.col=i.first)}},hostBindings:function(t,o){1&t&&e.NdJ("resize",function(a){return o.onResize(a)},!1,e.Jf7)},inputs:{symbol:"symbol"},attrs:xA,decls:3,vars:1,consts:[[1,"border","th-span"],["col",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0,1),e._uU(2),e.qZA()),2&t&&(e.xp6(2),e.Oqu(o.bcol))},styles:[".th-span[_ngcontent-%COMP%]{width:100%;min-width:10px}"]}),r})();var w1=M(4986),da=M(3532);const ql=["row"],Wf=["app-vertical-dash",""];let zr=(()=>{class r{constructor(t,o){this.cdRef=t,this.router=o,this.brow="",this.deleted=!1,o.events.subscribe(i=>{this.brow="",this.cdRef.detectChanges(),function bo(r=0,n,t=w1.P){let o=-1;return null!=n&&((0,da.K)(n)?t=n:o=n),new Gr.y(i=>{let a=function Bh(r){return r instanceof Date&&!isNaN(r)}(r)?+r-t.now():r;a<0&&(a=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=o?this.schedule(void 0,o):i.complete())},a)})}(10).subscribe(()=>{this.resizeDash()})})}ngOnInit(){}onResize(){this.resizeDash()}ngAfterViewChecked(){this.resizeDash()}resizeDash(){var t;const o=Math.max(0,Math.floor((null===(t=this.row)||void 0===t?void 0:t.nativeElement.parentNode.offsetHeight)/16)),i=this.brow;this.brow=o?"|\n".repeat(o):"",i!==this.brow&&this.cdRef.detectChanges()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(Pn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["th","app-vertical-dash",""]],viewQuery:function(t,o){if(1&t&&e.Gf(ql,5),2&t){let i;e.iGM(i=e.CRH())&&(o.row=i.first)}},hostBindings:function(t,o){1&t&&e.NdJ("resize",function(a){return o.onResize(a)},!1,e.Jf7)},inputs:{symbol:"symbol"},attrs:Wf,decls:3,vars:1,consts:[[1,"border","td-span"],["row",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0,1),e._uU(2),e.qZA()),2&t&&(e.xp6(2),e.Oqu(o.brow))},styles:[".td-span[_ngcontent-%COMP%]{width:100%;height:100%;min-height:10px}"]}),r})();class Vl{constructor(n){Object.assign(this,n)}}let ha=(()=>{class r{constructor(){}match(t,o=[],i){return new Vl(i||{}),new Gr.y(d=>{})}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Xc(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",6),e._uU(1,"[ "),e.TgZ(2,"a",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.editComment=!0)}),e._uU(3,"Description"),e.qZA(),e._uU(4," ] "),e.qZA()}}function ed(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"Description"),e.qZA())}function td(r,n){if(1&r&&(e.TgZ(0,"th",8),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.selectedLanguage.comment)}}function nd(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",8)(1,"textarea",16),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw(2);return e.KtG(a.selectedLanguage.comment=i)}),e.qZA()()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.selectedLanguage.comment)("cols",20)("rows",5)}}function A1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"[ "),e.TgZ(2,"a",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.saveChanges())}),e._uU(3,"Save"),e.qZA(),e._uU(4," ]"),e.qZA()}}function I1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"[ Save ]"),e.qZA())}function E1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"[ "),e.TgZ(2,"a",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.deleteLanguage())}),e._uU(3,"Delete"),e.qZA(),e._uU(4," ]"),e.qZA()}}function D1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"[ Delete ]"),e.qZA())}function S1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"table",1)(1,"colgroup"),e._UZ(2,"col",2)(3,"col",3)(4,"col",4)(5,"col",5),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",6),e._uU(9,"Display Name"),e.qZA(),e.TgZ(10,"th",7),e._uU(11,"|"),e._UZ(12,"br"),e._uU(13,"|"),e.qZA(),e.TgZ(14,"th",8)(15,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedLanguage.displayName=i)}),e.qZA()(),e.TgZ(16,"th",10),e._uU(17," |"),e._UZ(18,"br"),e._uU(19,"| "),e.qZA()(),e.TgZ(20,"tr")(21,"th",6),e._uU(22,"Native Name"),e.qZA(),e.TgZ(23,"th",7),e._uU(24,"|"),e._UZ(25,"br"),e._uU(26,"|"),e.qZA(),e.TgZ(27,"th",8)(28,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedLanguage.nativeName=i)}),e.qZA()(),e.TgZ(29,"th",10),e._uU(30,"|"),e._UZ(31,"br"),e._uU(32,"|"),e.qZA()(),e.TgZ(33,"tr"),e.YNc(34,Xc,5,0,"th",11),e.YNc(35,ed,2,0,"th",11),e.TgZ(36,"th",7),e._uU(37,"|"),e._UZ(38,"br"),e._uU(39,"|"),e._UZ(40,"br"),e._uU(41,"|"),e._UZ(42,"br"),e._uU(43,"|"),e._UZ(44,"br"),e._uU(45,"|"),e._UZ(46,"br"),e._uU(47,"|"),e.qZA(),e.YNc(48,td,2,1,"th",12),e.YNc(49,nd,2,3,"th",12),e.TgZ(50,"th",10),e._uU(51," |"),e._UZ(52,"br"),e._uU(53,"|"),e._UZ(54,"br"),e._uU(55,"|"),e._UZ(56,"br"),e._uU(57,"|"),e._UZ(58,"br"),e._uU(59,"|"),e._UZ(60,"br"),e._uU(61,"| "),e.qZA()(),e._UZ(62,"tr"),e.TgZ(63,"tr"),e._UZ(64,"th",13),e.TgZ(65,"th",7),e.YNc(66,A1,5,0,"span",14),e.YNc(67,I1,2,0,"span",14),e._uU(68,"-"),e.YNc(69,E1,5,0,"span",14),e.YNc(70,D1,2,0,"span",14),e._uU(71,"-+ "),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(15),e.Q6J("ngModel",t.selectedLanguage.displayName),e.xp6(13),e.Q6J("ngModel",t.selectedLanguage.nativeName),e.xp6(6),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("ngIf",t.editComment),e.xp6(13),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("ngIf",t.editComment),e.xp6(17),e.Q6J("ngIf",t.canUpdate),e.xp6(1),e.Q6J("ngIf",!t.canUpdate),e.xp6(2),e.Q6J("ngIf",t.canDelete),e.xp6(1),e.Q6J("ngIf",!t.canDelete)}}let j_=(()=>{class r extends Rl{constructor(t){super(),this.languagesService=t,this.editComment=!1,this.canUpdate=!1,this.canDelete=!1,this.onDeleteLanguage=new e.vpe}ngOnInit(){super.ngOnInit(),this.refresh()}ngOnChanges(t){var o;t.selectedLanguage.currentValue&&(console.log(t,t.selectedLanguage.currentValue.id,null===(o=this.selectedLanguage)||void 0===o?void 0:o.id),this.refresh())}saveChanges(){this.selectedLanguage&&this.languagesService.saveLanguage({body:this.selectedLanguage}).subscribe(t=>{this.canUpdate=!1,this.editComment=!1})}deleteLanguage(){var t;null!==(t=this.selectedLanguage)&&void 0!==t&&t.id&&this.onDeleteLanguage.emit(this.selectedLanguage.id)}refresh(){var t,o;this.canUpdate=!1,this.editComment=!1,this.canDelete=!1,null!==(t=this.selectedLanguage)&&void 0!==t&&t.id&&this.languagesService.canDeleteLanguage({languageId:null===(o=this.selectedLanguage)||void 0===o?void 0:o.id}).subscribe(i=>{this.canDelete=i})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ca))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-description"]],outputs:{onDeleteLanguage:"onDeleteLanguage"},features:[e.qOj,e.TTD],decls:1,vars:1,consts:[["style","width: 100%; height: 100%",4,"ngIf"],[2,"width","100%","height","100%"],["span","1",2,"width","200px","text-align","right"],["span","1",1,"border",2,"width","32px"],["span","1",2,"width","auto"],["span","1",2,"width","169px"],[2,"text-align","right"],[1,"border"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],[1,"border",2,"text-align","right"],["style","text-align: right",4,"ngIf"],["style","text-align: left",4,"ngIf"],["app-horizontal-dash","","colspan","3",1,"border"],[4,"ngIf"],[1,"text-yellow-dull",3,"click"],[2,"width","100%",3,"ngModel","cols","rows","ngModelChange"],[1,"text-green-dull",3,"click"],[1,"text-red-dull",3,"click"]],template:function(t,o){1&t&&e.YNc(0,S1,72,10,"table",0),2&t&&e.Q6J("ngIf",o.selectedLanguage&&o.selectedLanguage.id)},dependencies:[St,Un,xn,un,On]}),r})(),Ei=(()=>{class r extends Fl{constructor(t,o){super(t,o)}getAllPos$Response(t){const o=new tt(this.rootUrl,r.GetAllPosPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getAllPos(t){return this.getAllPos$Response(t).pipe((0,K.U)(o=>o.body))}savePos$Response(t){const o=new tt(this.rootUrl,r.SavePosPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:parseFloat(String(i.body))})))}savePos(t){return this.savePos$Response(t).pipe((0,K.U)(o=>o.body))}getAllPosByLanguage$Response(t){const o=new tt(this.rootUrl,r.GetAllPosByLanguagePath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getAllPosByLanguage(t){return this.getAllPosByLanguage$Response(t).pipe((0,K.U)(o=>o.body))}saveLanguagePos$Response(t){const o=new tt(this.rootUrl,r.SaveLanguagePosPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:parseFloat(String(i.body))})))}saveLanguagePos(t){return this.saveLanguagePos$Response(t).pipe((0,K.U)(o=>o.body))}deleteLanguagePos$Response(t){const o=new tt(this.rootUrl,r.DeleteLanguagePosPath,"delete");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:void 0})))}deleteLanguagePos(t){return this.deleteLanguagePos$Response(t).pipe((0,K.U)(o=>o.body))}getPosByLanguage$Response(t){const o=new tt(this.rootUrl,r.GetPosByLanguagePath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getPosByLanguage(t){return this.getPosByLanguage$Response(t).pipe((0,K.U)(o=>o.body))}}return r.GetAllPosPath="/api/pos",r.SavePosPath="/api/pos",r.GetAllPosByLanguagePath="/api/pos/language/{languageId}",r.SaveLanguagePosPath="/api/pos/languagepos",r.DeleteLanguagePosPath="/api/pos/languagepos/{id}",r.GetPosByLanguagePath="/api/pos/languagepos/{languageId}",r.\u0275fac=function(t){return new(t||r)(e.LFG(Qi),e.LFG(la))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function x1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._UZ(1,"br"),e._uU(2," [ "),e.TgZ(3,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.saveChanges())}),e._uU(4,"Update"),e.qZA(),e._uU(5," ] "),e.qZA()}}function Z1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"table",1)(1,"colgroup"),e._UZ(2,"col",2)(3,"col",3)(4,"col",4)(5,"col",5),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",6),e._uU(9,"Name"),e.qZA(),e._UZ(10,"th",7),e.TgZ(11,"th",8)(12,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedPos.name=i)}),e.qZA()(),e._UZ(13,"th",10),e.qZA(),e.TgZ(14,"tr")(15,"th",6),e._uU(16,"Abbreviation"),e.qZA(),e._UZ(17,"th",7),e.TgZ(18,"th",8)(19,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedPos.abbreviation=i)}),e.qZA()(),e._UZ(20,"th",10),e.qZA(),e.TgZ(21,"tr"),e._UZ(22,"th",10),e.qZA(),e.TgZ(23,"tr")(24,"th",7),e.YNc(25,x1,6,0,"span",11),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(12),e.Q6J("ngModel",t.selectedPos.name),e.xp6(7),e.Q6J("ngModel",t.selectedPos.abbreviation),e.xp6(5),e.uIk("colspan",4),e.xp6(1),e.Q6J("ngIf",t.canUpdate)}}let ZA=(()=>{class r extends Rl{constructor(t){super(),this.posService=t,this.editComment=!1,this.canUpdate=!1}saveChanges(){this.selectedPos&&this.posService.savePos({body:this.selectedPos}).subscribe(t=>{this.canUpdate=!1})}clickEditComment(){this.editComment=!0}clickSaveComment(){this.editComment=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ei))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-pos-details"]],inputs:{selectedPos:"selectedPos"},features:[e.qOj],decls:1,vars:1,consts:[["style","width: 100%",4,"ngIf"],[2,"width","100%"],["span","1",2,"width","200px","text-align","right"],["span","1",1,"border",2,"width","32px"],["span","1",2,"width","auto"],["span","1",2,"width","81px"],[2,"text-align","right"],[1,"border"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],[1,"border",2,"text-align","right"],[4,"ngIf"],[1,"text-green-dull",3,"click"]],template:function(t,o){1&t&&e.YNc(0,Z1,26,4,"table",0),2&t&&e.Q6J("ngIf",o.selectedPos&&o.selectedPos.id)},dependencies:[St,Un,xn,un]}),r})();function kA(r,n){if(1&r&&(e.TgZ(0,"th",15),e._UZ(1,"app-pos-details",16),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("selectedLanguage",t.selectedLanguage)("selectedPos",t.selectedPos)}}function NA(r,n){1&r&&e._UZ(0,"th",17)}function k1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th",10)(2,"a",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.connectPosToLanguage(a))}),e._uU(3),e.qZA()(),e.TgZ(4,"th",6),e._uU(5,"|"),e.qZA(),e.TgZ(6,"th",12)(7,"a",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.selectedPos=a)}),e._uU(8),e.qZA()(),e.TgZ(9,"th",12),e._uU(10),e.qZA(),e.YNc(11,kA,2,2,"th",13),e.YNc(12,NA,1,0,"th",14),e.qZA()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();let a,d;e.xp6(1),e.Q6J("ngClass",(null==i.selectedPos?null:i.selectedPos.id)===t.id?"selectedTh":""),e.xp6(1),e.Q6J("ngClass",null!=(a=i.getLanguagePos(t))&&a.connectedToLanguage?null!=(a=i.getLanguagePos(t))&&a.usedInLanguage?"text-green-dull":"text-yellow-dull":null!=(a=i.getLanguagePos(t))&&a.usedInLanguage?"text-red-dull":"text-grey-dull"),e.xp6(1),e.Oqu(null!=(d=i.getLanguagePos(t))&&d.connectedToLanguage?"o":"x"),e.xp6(3),e.Q6J("ngClass",(null==i.selectedPos?null:i.selectedPos.id)===t.id?"selectedTh":""),e.xp6(1),e.Q6J("ngClass",(null==i.selectedPos?null:i.selectedPos.id)===t.id?"text-main":i.getLanguagePosSymbol(t)?"text-grey":"text-grey-dull"),e.xp6(1),e.Oqu(t.name),e.xp6(1),e.Q6J("ngClass",(null==i.selectedPos?null:i.selectedPos.id)===t.id?"selectedTh":""),e.xp6(1),e.Oqu((null==i.selectedPos?null:i.selectedPos.id)===t.id?"":"|"),e.xp6(1),e.Q6J("ngIf",0==o),e.xp6(1),e.Q6J("ngIf",0==o)}}let UA=(()=>{class r extends Rl{constructor(t){super(),this.posService=t,this.pos=[],this.lp=[]}ngOnInit(){super.ngOnInit(),this.posService.getAllPos().subscribe(t=>this.pos=t.sort((o,i)=>o.name?o.name.localeCompare(i.name?i.name:""):-1))}ngOnChanges(t){t.selectedLanguage.currentValue&&(console.log(t,t.selectedLanguage.currentValue.id),t.selectedLanguage.currentValue.id&&this.posService.getPosByLanguage({languageId:t.selectedLanguage.currentValue.id}).subscribe(o=>this.lp=o))}addNewPOS(){const t={name:"new part of speech"};this.posService.savePos({body:t}).subscribe(o=>{t.id=o,this.selectedPos=t,this.pos.push(t)})}getLanguagePosSymbol(t){return!!this.selectedLanguage&&this.lp.filter(o=>{var i;return o.languageId===(null===(i=this.selectedLanguage)||void 0===i?void 0:i.id)&&o.posId===t.id}).length>0}getLanguagePos(t){if(this.selectedLanguage)return this.lp.find(o=>{var i;return(null==o?void 0:o.languageId)===(null===(i=this.selectedLanguage)||void 0===i?void 0:i.id)&&(null==o?void 0:o.posId)===t.id})}connectPosToLanguage(t){var o,i,a,d;if(console.log("connectPosToLanguage",t),null!==(o=this.getLanguagePos(t))&&void 0!==o&&o.connectedToLanguage){if(null!==(i=this.selectedLanguage)&&void 0!==i&&i.id){const f=this.lp.find(y=>{var w;return y.languageId===(null===(w=this.selectedLanguage)||void 0===w?void 0:w.id)&&y.posId===t.id});f&&f.id&&this.posService.deleteLanguagePos({id:f.id}).subscribe(()=>{const y=this.lp.find(w=>w.id===f.id);null!=y&&y.usedInLanguage?y.connectedToLanguage=!1:this.lp=this.lp.filter(w=>w.id!==f.id)})}}else if(null!==(a=this.selectedLanguage)&&void 0!==a&&a.id){const f={languageId:null===(d=this.selectedLanguage)||void 0===d?void 0:d.id,posId:t.id};this.posService.saveLanguagePos({body:f}).subscribe(y=>{f.id=y;const w=this.lp.find(D=>{var x;return D.posId===t.id&&D.languageId===(null===(x=this.selectedLanguage)||void 0===x?void 0:x.id)});w?(console.log("found!",w),w.id=y,w.connectedToLanguage=!0):(f.connectedToLanguage=!0,this.lp.push(f))})}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ei))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-pos"]],features:[e.qOj,e.TTD],decls:23,vars:1,consts:[["span","1",1,"border",2,"width","17px"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","calc(30% - 41px)"],["span","1",1,"border",2,"width","70%"],[4,"ngFor","ngForOf"],["app-horizontal-dash","","colspan","3"],[1,"border"],["colspan","2"],[1,"text-green-dull",3,"click"],["app-horizontal-dash","","colspan","5"],[3,"ngClass"],[3,"ngClass","click"],[1,"border",3,"ngClass"],["class","border","rowspan","0","style","vertical-align: top;",4,"ngIf"],["app-vertical-dash","","class","border","rowspan","0",4,"ngIf"],["rowspan","0",1,"border",2,"vertical-align","top"],[3,"selectedLanguage","selectedPos"],["app-vertical-dash","","rowspan","0",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",1)(6,"col",3)(7,"col",1),e.qZA(),e.TgZ(8,"tbody"),e.YNc(9,k1,13,10,"tr",4),e.TgZ(10,"tr"),e._UZ(11,"th",5),e.TgZ(12,"th",6),e._uU(13,"+"),e.qZA()(),e.TgZ(14,"tr"),e._UZ(15,"th",7),e.TgZ(16,"th")(17,"a",8),e.NdJ("click",function(){return o.addNewPOS()}),e._uU(18,"[ + ]"),e.qZA()(),e.TgZ(19,"th",6),e._uU(20,"|"),e.qZA()(),e.TgZ(21,"tr"),e._UZ(22,"th",9),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("ngForOf",o.pos))},dependencies:[er,ut,St,On,zr,ZA],styles:[".selectedTh[_ngcontent-%COMP%]{background-color:#333}"]}),r})(),MA=(()=>{class r{constructor(){this.sounds=[],this.consonantVariants=["\u02b0","\u02b7","\u02b2","\u02b7\u02b0","\u02d0"]}addPhonetic(t){this.sounds.includes(t)||this.sounds.push(t)}getConsonantVariants(){return this.consonantVariants}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function $_(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",0),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.onClick.emit(a.phonetic+i))}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw().$implicit,o=e.oxw(2);e.Q6J("ngClass",o.getClass(o.phonetic+t)),e.xp6(1),e.Oqu(t)}}function G_(r,n){if(1&r&&(e.ynx(0),e.YNc(1,$_,2,2,"a",4),e.BQk()),2&r){const t=n.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.includesVariant(o.phonetic+t))}}function PA(r,n){if(1&r&&(e.ynx(0),e.YNc(1,G_,2,1,"ng-container",3),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.constonantVariants)}}function zf(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span",5),e._uU(1," ("),e.TgZ(2,"a",0),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onClick.emit(i.phonetic+"\u02d0"))}),e._uU(3),e.qZA(),e._uU(4,")"),e.qZA()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",t.getClass(t.phonetic+"\u02d0")),e.xp6(1),e.Oqu(t.phonetic+"\u02d0")}}let Bl=(()=>{class r{constructor(t){this.ipaService=t,this.vowel=!1,this.consonant=!1,this.onClick=new e.vpe,this.constonantVariants=t.getConsonantVariants()}ngOnInit(){}getClass(t){var o,i,a,d,f,y,w,D,x,O,H,ne;return(null===(i=null===(o=this.languageSounds)||void 0===o?void 0:o.selectedMainPhonemes)||void 0===i?void 0:i.filter(Ne=>Ne.phoneme===t).length)||(null===(d=null===(a=this.languageSounds)||void 0===a?void 0:a.selectedRestPhonemes)||void 0===d?void 0:d.filter(Ne=>Ne.phoneme===t).length)?(null===(y=null===(f=this.languageSounds)||void 0===f?void 0:f.usedMainPhonemes)||void 0===y?void 0:y.includes(t))||(null===(D=null===(w=this.languageSounds)||void 0===w?void 0:w.restUsedPhonemes)||void 0===D?void 0:D.includes(t))?"text-green-dull":"text-yellow-dull":(null===(O=null===(x=this.languageSounds)||void 0===x?void 0:x.usedMainPhonemes)||void 0===O?void 0:O.includes(t))||(null===(ne=null===(H=this.languageSounds)||void 0===H?void 0:H.restUsedPhonemes)||void 0===ne?void 0:ne.includes(t))?"text-red-dull":"text-grey-dull"}includesVariant(t){var o,i,a,d,f,y,w,D;return!!((null===(i=null===(o=this.languageSounds)||void 0===o?void 0:o.usedMainPhonemes)||void 0===i?void 0:i.includes(t))||(null===(d=null===(a=this.languageSounds)||void 0===a?void 0:a.restUsedPhonemes)||void 0===d?void 0:d.includes(t))||(null===(y=null===(f=this.languageSounds)||void 0===f?void 0:f.selectedMainPhonemes)||void 0===y?void 0:y.filter(x=>x.phoneme===t).length)||(null===(D=null===(w=this.languageSounds)||void 0===w?void 0:w.selectedRestPhonemes)||void 0===D?void 0:D.filter(x=>x.phoneme===t).length))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(MA))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-phonetic-btn"]],inputs:{phonetic:"phonetic",vowel:"vowel",consonant:"consonant",languageSounds:"languageSounds"},outputs:{onClick:"onClick"},decls:4,vars:4,consts:[[3,"ngClass","click"],[4,"ngIf"],["class","text-grey-dull",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngClass","click",4,"ngIf"],[1,"text-grey-dull"]],template:function(t,o){1&t&&(e.TgZ(0,"a",0),e.NdJ("click",function(){return o.onClick.emit(o.phonetic)}),e._uU(1),e.qZA(),e.YNc(2,PA,2,1,"ng-container",1),e.YNc(3,zf,5,2,"span",2)),2&t&&(e.Q6J("ngClass",o.getClass(o.phonetic)),e.xp6(1),e.Oqu(o.phonetic),e.xp6(1),e.Q6J("ngIf",o.consonant),e.xp6(1),e.Q6J("ngIf",o.vowel))},dependencies:[er,ut,St]}),r})(),H_=(()=>{class r{constructor(t,o){this.cdRef=t,this.languagesService=o,this.onClick=new e.vpe}ngOnInit(){}ngOnChanges(t){console.log("pulmonic consonants changes",t)}clicked(t){this.onClick.emit(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(ca))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-pulmonic-consonants"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},features:[e.TTD],decls:1294,vars:454,consts:[["span","1",2,"width","auto"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","3.16766212%"],["colspan","37"],["app-horizontal-dash",""],["app-horizontal-dash","","colspan","35"],[2,"text-align","right"],["colspan","6"],["colspan","14"],["colspan","7"],["colspan","5"],["colspan","2","app-horizontal-dash",""],[2,"text-align","left"],["colspan","2"],["title","Labio-dental"],["title","Linguo-labial"],["title","Post-alveolar"],["title","Retro-flex"],["title","Pharyngeal/Epi-glottal"],[3,"consonant","languageSounds","phonetic","onClick"],["colspan","3"],["colspan","8","app-horizontal-dash",""],["colspan","5","app-horizontal-dash",""],["colspan","8"],["colspan","11"],["app-horizontal-dash","","colspan","37"],["colspan","35",2,"text-align","left"],[3,"languageSounds","phonetic","onClick"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",2)(6,"col",1)(7,"col",2)(8,"col",2)(9,"col",1)(10,"col",2)(11,"col",2)(12,"col",1)(13,"col",2)(14,"col",2)(15,"col",1)(16,"col",2)(17,"col",2)(18,"col",1)(19,"col",2)(20,"col",2)(21,"col",1)(22,"col",2)(23,"col",2)(24,"col",1)(25,"col",2)(26,"col",2)(27,"col",1)(28,"col",2)(29,"col",2)(30,"col",1)(31,"col",2)(32,"col",2)(33,"col",1)(34,"col",2)(35,"col",2)(36,"col",1)(37,"col",2)(38,"col",2)(39,"col",1),e.qZA(),e.TgZ(40,"tbody")(41,"tr")(42,"th",3),e._uU(43," --- PLUMONIC CONSONANTS --- "),e.qZA(),e.TgZ(44,"th"),e._uU(45,"|"),e.qZA()(),e.TgZ(46,"tr"),e._UZ(47,"th",4),e.TgZ(48,"th"),e._uU(49,"+"),e.qZA(),e._UZ(50,"th",5),e.TgZ(51,"th"),e._uU(52,"+"),e.qZA()(),e.TgZ(53,"tr")(54,"th",6),e._uU(55,"Place"),e.qZA(),e.TgZ(56,"th"),e._uU(57,"|"),e.qZA(),e.TgZ(58,"th",7),e._uU(59,"Labial"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"|"),e.qZA(),e.TgZ(62,"th",8),e._uU(63,"Coronal"),e.qZA(),e.TgZ(64,"th"),e._uU(65,"|"),e.qZA(),e.TgZ(66,"th",9),e._uU(67,"Dorsal"),e.qZA(),e.TgZ(68,"th"),e._uU(69,"|"),e.qZA(),e.TgZ(70,"th",10),e._uU(71,"Laryngeal"),e.qZA(),e.TgZ(72,"th"),e._uU(73,"|"),e.qZA()(),e.TgZ(74,"tr"),e._UZ(75,"th"),e.TgZ(76,"th"),e._uU(77,"|"),e.qZA(),e._UZ(78,"th",11),e.TgZ(79,"th"),e._uU(80,"+"),e.qZA(),e._UZ(81,"th",11),e.TgZ(82,"th"),e._uU(83,"+"),e.qZA(),e._UZ(84,"th",11),e.TgZ(85,"th"),e._uU(86,"+"),e.qZA(),e._UZ(87,"th",11),e.TgZ(88,"th"),e._uU(89,"+"),e.qZA(),e._UZ(90,"th",11),e.TgZ(91,"th"),e._uU(92,"+"),e.qZA(),e._UZ(93,"th",11),e.TgZ(94,"th"),e._uU(95,"+"),e.qZA(),e._UZ(96,"th",11),e.TgZ(97,"th"),e._uU(98,"+"),e.qZA(),e._UZ(99,"th",11),e.TgZ(100,"th"),e._uU(101,"+"),e.qZA(),e._UZ(102,"th",11),e.TgZ(103,"th"),e._uU(104,"+"),e.qZA(),e._UZ(105,"th",11),e.TgZ(106,"th"),e._uU(107,"+"),e.qZA(),e._UZ(108,"th",11),e.TgZ(109,"th"),e._uU(110,"+"),e.qZA(),e._UZ(111,"th",11),e.TgZ(112,"th"),e._uU(113,"+"),e.qZA()(),e.TgZ(114,"tr")(115,"th",12),e._uU(116,"Manner"),e.qZA(),e.TgZ(117,"th"),e._uU(118,"|"),e.qZA(),e.TgZ(119,"th",13),e._uU(120,"Bilabial"),e.qZA(),e.TgZ(121,"th"),e._uU(122,"|"),e.qZA(),e.TgZ(123,"th",13)(124,"abbr",14),e._uU(125,"LD"),e.qZA()(),e.TgZ(126,"th"),e._uU(127,"|"),e.qZA(),e.TgZ(128,"th",13)(129,"abbr",15),e._uU(130,"LL"),e.qZA()(),e.TgZ(131,"th"),e._uU(132,"|"),e.qZA(),e.TgZ(133,"th",13),e._uU(134,"Dental"),e.qZA(),e.TgZ(135,"th"),e._uU(136,"|"),e.qZA(),e.TgZ(137,"th",13),e._uU(138,"Alveolar"),e.qZA(),e.TgZ(139,"th"),e._uU(140,"|"),e.qZA(),e.TgZ(141,"th",13)(142,"abbr",16),e._uU(143,"PA"),e.qZA()(),e.TgZ(144,"th"),e._uU(145,"|"),e.qZA(),e.TgZ(146,"th",13)(147,"abbr",17),e._uU(148,"RF"),e.qZA()(),e.TgZ(149,"th"),e._uU(150,"|"),e.qZA(),e.TgZ(151,"th",13),e._uU(152,"Palatal"),e.qZA(),e.TgZ(153,"th"),e._uU(154,"|"),e.qZA(),e.TgZ(155,"th",13),e._uU(156,"Velar"),e.qZA(),e.TgZ(157,"th"),e._uU(158,"|"),e.qZA(),e.TgZ(159,"th",13),e._uU(160,"Uvular"),e.qZA(),e.TgZ(161,"th"),e._uU(162,"|"),e.qZA(),e.TgZ(163,"th",13)(164,"abbr",18),e._uU(165,"P/EG"),e.qZA()(),e.TgZ(166,"th"),e._uU(167,"|"),e.qZA(),e.TgZ(168,"th",13),e._uU(169,"Glottal"),e.qZA(),e.TgZ(170,"th"),e._uU(171,"|"),e.qZA()(),e.TgZ(172,"tr"),e._UZ(173,"th",4),e.TgZ(174,"th"),e._uU(175,"+"),e.qZA(),e._UZ(176,"th",11),e.TgZ(177,"th"),e._uU(178,"+"),e.qZA(),e._UZ(179,"th",11),e.TgZ(180,"th"),e._uU(181,"+"),e.qZA(),e._UZ(182,"th",11),e.TgZ(183,"th"),e._uU(184,"+"),e.qZA(),e._UZ(185,"th",11),e.TgZ(186,"th"),e._uU(187,"+"),e.qZA(),e._UZ(188,"th",11),e.TgZ(189,"th"),e._uU(190,"+"),e.qZA(),e._UZ(191,"th",11),e.TgZ(192,"th"),e._uU(193,"+"),e.qZA(),e._UZ(194,"th",11),e.TgZ(195,"th"),e._uU(196,"+"),e.qZA(),e._UZ(197,"th",11),e.TgZ(198,"th"),e._uU(199,"+"),e.qZA(),e._UZ(200,"th",11),e.TgZ(201,"th"),e._uU(202,"+"),e.qZA(),e._UZ(203,"th",11),e.TgZ(204,"th"),e._uU(205,"+"),e.qZA(),e._UZ(206,"th",11),e.TgZ(207,"th"),e._uU(208,"+"),e.qZA(),e._UZ(209,"th",11),e.TgZ(210,"th"),e._uU(211,"+"),e.qZA()(),e.TgZ(212,"tr")(213,"th"),e._uU(214,"Nasal"),e.qZA(),e.TgZ(215,"th"),e._uU(216,"|"),e.qZA(),e.TgZ(217,"th")(218,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(219,"th")(220,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(221,"th"),e._uU(222,"|"),e.qZA(),e.TgZ(223,"th",13)(224,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(225,"th"),e._uU(226,"|"),e.qZA(),e.TgZ(227,"th",13)(228,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(229,"th"),e._uU(230,"|"),e.qZA(),e._UZ(231,"th"),e.TgZ(232,"th",20)(233,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(234,"th",20)(235,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(236,"th"),e.TgZ(237,"th"),e._uU(238,"|"),e.qZA(),e.TgZ(239,"th")(240,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(241,"th")(242,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(243,"th"),e._uU(244,"|"),e.qZA(),e.TgZ(245,"th")(246,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(247,"th")(248,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(249,"th"),e._uU(250,"|"),e.qZA(),e.TgZ(251,"th")(252,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(253,"th")(254,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(255,"th"),e._uU(256,"|"),e.qZA(),e.TgZ(257,"th",13)(258,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(259,"th"),e._uU(260,"|"),e.qZA(),e._UZ(261,"th",10),e.TgZ(262,"th"),e._uU(263,"|"),e.qZA()(),e.TgZ(264,"tr"),e._UZ(265,"th",4),e.TgZ(266,"th"),e._uU(267,"+"),e.qZA(),e._UZ(268,"th",11),e.TgZ(269,"th"),e._uU(270,"+"),e.qZA(),e._UZ(271,"th",11),e.TgZ(272,"th"),e._uU(273,"+"),e.qZA(),e._UZ(274,"th",11),e.TgZ(275,"th"),e._uU(276,"+"),e.qZA(),e._UZ(277,"th",21),e.TgZ(278,"th"),e._uU(279,"+"),e.qZA(),e._UZ(280,"th",11),e.TgZ(281,"th"),e._uU(282,"+"),e.qZA(),e._UZ(283,"th",11),e.TgZ(284,"th"),e._uU(285,"+"),e.qZA(),e._UZ(286,"th",11),e.TgZ(287,"th"),e._uU(288,"+"),e.qZA(),e._UZ(289,"th",11),e.TgZ(290,"th"),e._uU(291,"+"),e.qZA(),e._UZ(292,"th",11),e.TgZ(293,"th"),e._uU(294,"+"),e.qZA(),e._UZ(295,"th",11),e.TgZ(296,"th"),e._uU(297,"+"),e.qZA()(),e.TgZ(298,"tr")(299,"th"),e._uU(300,"Plosive"),e.qZA(),e.TgZ(301,"th"),e._uU(302,"|"),e.qZA(),e.TgZ(303,"th")(304,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(305,"th")(306,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(307,"th"),e._uU(308,"|"),e.qZA(),e.TgZ(309,"th")(310,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(311,"th")(312,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(313,"th"),e._uU(314,"|"),e.qZA(),e.TgZ(315,"th")(316,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(317,"th")(318,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(319,"th"),e._uU(320,"|"),e.qZA(),e._UZ(321,"th"),e.TgZ(322,"th",20)(323,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(324,"th",20)(325,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(326,"th"),e.TgZ(327,"th"),e._uU(328,"|"),e.qZA(),e.TgZ(329,"th")(330,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(331,"th")(332,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(333,"th"),e._uU(334,"|"),e.qZA(),e.TgZ(335,"th")(336,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(337,"th")(338,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(339,"th"),e._uU(340,"|"),e.qZA(),e.TgZ(341,"th")(342,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(343,"th")(344,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(345,"th"),e._uU(346,"|"),e.qZA(),e.TgZ(347,"th")(348,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(349,"th")(350,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(351,"th"),e._uU(352,"|"),e.qZA(),e.TgZ(353,"th",13)(354,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(355,"th"),e._uU(356,"|"),e.qZA(),e.TgZ(357,"th",13)(358,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(359,"th"),e._uU(360,"|"),e.qZA()(),e.TgZ(361,"tr"),e._UZ(362,"th",4),e.TgZ(363,"th"),e._uU(364,"+"),e.qZA(),e._UZ(365,"th",11),e.TgZ(366,"th"),e._uU(367,"+"),e.qZA(),e._UZ(368,"th",11),e.TgZ(369,"th"),e._uU(370,"+"),e.qZA(),e._UZ(371,"th",11),e.TgZ(372,"th"),e._uU(373,"+"),e.qZA(),e._UZ(374,"th",22),e.TgZ(375,"th"),e._uU(376,"+"),e.qZA(),e._UZ(377,"th",11),e.TgZ(378,"th"),e._uU(379,"+"),e.qZA(),e._UZ(380,"th",11),e.TgZ(381,"th"),e._uU(382,"+"),e.qZA(),e._UZ(383,"th",11),e.TgZ(384,"th"),e._uU(385,"+"),e.qZA(),e._UZ(386,"th",11),e.TgZ(387,"th"),e._uU(388,"+"),e.qZA(),e._UZ(389,"th",11),e.TgZ(390,"th"),e._uU(391,"+"),e.qZA(),e._UZ(392,"th",11),e.TgZ(393,"th"),e._uU(394,"+"),e.qZA(),e._UZ(395,"th",11),e.TgZ(396,"th"),e._uU(397,"+"),e.qZA()(),e.TgZ(398,"tr")(399,"th"),e._uU(400,"Sibilant fricative"),e.qZA(),e.TgZ(401,"th"),e._uU(402,"|"),e.qZA(),e._UZ(403,"th",23),e.TgZ(404,"th"),e._uU(405,"|"),e.qZA(),e.TgZ(406,"th",13)(407,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(408,"th"),e.TgZ(409,"th",13)(410,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(411,"th"),e._uU(412,"|"),e.qZA(),e.TgZ(413,"th")(414,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(415,"th")(416,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(417,"th"),e._uU(418,"|"),e.qZA(),e.TgZ(419,"th")(420,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(421,"th")(422,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(423,"th"),e._uU(424,"|"),e.qZA(),e.TgZ(425,"th")(426,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(427,"th")(428,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(429,"th"),e._uU(430,"|"),e.qZA(),e._UZ(431,"th",24),e.TgZ(432,"th"),e._uU(433,"|"),e.qZA()(),e.TgZ(434,"tr"),e._UZ(435,"th",4),e.TgZ(436,"th"),e._uU(437,"+"),e.qZA(),e._UZ(438,"th",23),e.TgZ(439,"th"),e._uU(440,"+"),e.qZA(),e._UZ(441,"th",22),e.TgZ(442,"th"),e._uU(443,"+"),e.qZA(),e._UZ(444,"th",11),e.TgZ(445,"th"),e._uU(446,"+"),e.qZA(),e._UZ(447,"th",11),e.TgZ(448,"th"),e._uU(449,"+"),e.qZA(),e._UZ(450,"th",11),e.TgZ(451,"th"),e._uU(452,"+"),e.qZA(),e._UZ(453,"th",24),e.TgZ(454,"th"),e._uU(455,"|"),e.qZA()(),e.TgZ(456,"tr")(457,"th"),e._uU(458,"Sibilant affricate"),e.qZA(),e.TgZ(459,"th"),e._uU(460,"|"),e.qZA(),e._UZ(461,"th",23),e.TgZ(462,"th"),e._uU(463,"|"),e.qZA(),e.TgZ(464,"th",13)(465,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(466,"th"),e.TgZ(467,"th",13)(468,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(469,"th"),e._uU(470,"|"),e.qZA(),e.TgZ(471,"th")(472,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(473,"th")(474,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(475,"th"),e._uU(476,"|"),e.qZA(),e.TgZ(477,"th")(478,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(479,"th")(480,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(481,"th"),e._uU(482,"|"),e.qZA(),e.TgZ(483,"th")(484,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(485,"th")(486,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(487,"th"),e._uU(488,"|"),e.qZA(),e._UZ(489,"th",24),e.TgZ(490,"th"),e._uU(491,"|"),e.qZA()(),e.TgZ(492,"tr"),e._UZ(493,"th",4),e.TgZ(494,"th"),e._uU(495,"+"),e.qZA(),e._UZ(496,"th",11),e.TgZ(497,"th"),e._uU(498,"+"),e.qZA(),e._UZ(499,"th",11),e.TgZ(500,"th"),e._uU(501,"+"),e.qZA(),e._UZ(502,"th",11),e.TgZ(503,"th"),e._uU(504,"+"),e.qZA(),e._UZ(505,"th",11),e.TgZ(506,"th"),e._uU(507,"+"),e.qZA(),e._UZ(508,"th",11),e.TgZ(509,"th"),e._uU(510,"+"),e.qZA(),e._UZ(511,"th",11),e.TgZ(512,"th"),e._uU(513,"+"),e.qZA(),e._UZ(514,"th",11),e.TgZ(515,"th"),e._uU(516,"+"),e.qZA(),e._UZ(517,"th",11),e.TgZ(518,"th"),e._uU(519,"+"),e.qZA(),e._UZ(520,"th",11),e.TgZ(521,"th"),e._uU(522,"+"),e.qZA(),e._UZ(523,"th",11),e.TgZ(524,"th"),e._uU(525,"+"),e.qZA(),e._UZ(526,"th",11),e.TgZ(527,"th"),e._uU(528,"+"),e.qZA(),e._UZ(529,"th",11),e.TgZ(530,"th"),e._uU(531,"+"),e.qZA()(),e.TgZ(532,"tr")(533,"th"),e._uU(534,"Non-sibilant fric."),e.qZA(),e.TgZ(535,"th"),e._uU(536,"|"),e.qZA(),e.TgZ(537,"th")(538,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(539,"th")(540,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(541,"th"),e._uU(542,"|"),e.qZA(),e.TgZ(543,"th")(544,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(545,"th")(546,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(547,"th"),e._uU(548,"|"),e.qZA(),e.TgZ(549,"th")(550,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(551,"th")(552,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(553,"th"),e._uU(554,"|"),e.qZA(),e.TgZ(555,"th")(556,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(557,"th")(558,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(559,"th"),e._uU(560,"|"),e.qZA(),e.TgZ(561,"th")(562,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(563,"th")(564,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(565,"th"),e._uU(566,"|"),e.qZA(),e.TgZ(567,"th")(568,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(569,"th")(570,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(571,"th"),e._uU(572,"|"),e.qZA(),e.TgZ(573,"th",13)(574,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(575,"th"),e._uU(576,"|"),e.qZA(),e.TgZ(577,"th")(578,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(579,"th")(580,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(581,"th"),e._uU(582,"|"),e.qZA(),e.TgZ(583,"th")(584,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(585,"th")(586,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(587,"th"),e._uU(588,"|"),e.qZA(),e.TgZ(589,"th")(590,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(591,"th")(592,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(593,"th"),e._uU(594,"|"),e.qZA(),e.TgZ(595,"th")(596,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(597,"th")(598,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(599,"th"),e._uU(600,"|"),e.qZA(),e.TgZ(601,"th")(602,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(603,"th")(604,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(605,"th"),e._uU(606,"|"),e.qZA()(),e.TgZ(607,"tr"),e._UZ(608,"th",4),e.TgZ(609,"th"),e._uU(610,"+"),e.qZA(),e._UZ(611,"th",11),e.TgZ(612,"th"),e._uU(613,"+"),e.qZA(),e._UZ(614,"th",11),e.TgZ(615,"th"),e._uU(616,"+"),e.qZA(),e._UZ(617,"th",11),e.TgZ(618,"th"),e._uU(619,"+"),e.qZA(),e._UZ(620,"th",11),e.TgZ(621,"th"),e._uU(622,"+"),e.qZA(),e._UZ(623,"th",11),e.TgZ(624,"th"),e._uU(625,"+"),e.qZA(),e._UZ(626,"th",11),e.TgZ(627,"th"),e._uU(628,"+"),e.qZA(),e._UZ(629,"th",11),e.TgZ(630,"th"),e._uU(631,"+"),e.qZA(),e._UZ(632,"th",11),e.TgZ(633,"th"),e._uU(634,"+"),e.qZA(),e._UZ(635,"th",11),e.TgZ(636,"th"),e._uU(637,"+"),e.qZA(),e._UZ(638,"th",11),e.TgZ(639,"th"),e._uU(640,"+"),e.qZA(),e._UZ(641,"th",11),e.TgZ(642,"th"),e._uU(643,"+"),e.qZA(),e._UZ(644,"th",11),e.TgZ(645,"th"),e._uU(646,"+"),e.qZA()(),e.TgZ(647,"tr")(648,"th"),e._uU(649,"Non-sibilant affr."),e.qZA(),e.TgZ(650,"th"),e._uU(651,"|"),e.qZA(),e.TgZ(652,"th")(653,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(654,"th")(655,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(656,"th"),e._uU(657,"|"),e.qZA(),e.TgZ(658,"th")(659,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(660,"th")(661,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(662,"th"),e._uU(663,"|"),e.qZA(),e._UZ(664,"th")(665,"th"),e.TgZ(666,"th"),e._uU(667,"|"),e.qZA(),e.TgZ(668,"th")(669,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(670,"th")(671,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(672,"th"),e._uU(673,"|"),e.qZA(),e.TgZ(674,"th")(675,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(676,"th")(677,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(678,"th"),e._uU(679,"|"),e.qZA(),e.TgZ(680,"th")(681,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(682,"th")(683,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(684,"th"),e._uU(685,"|"),e.qZA(),e._UZ(686,"th",13),e.TgZ(687,"th"),e._uU(688,"|"),e.qZA(),e.TgZ(689,"th")(690,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(691,"th")(692,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(693,"th"),e._uU(694,"|"),e.qZA(),e.TgZ(695,"th")(696,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(697,"th")(698,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(699,"th"),e._uU(700,"|"),e.qZA(),e.TgZ(701,"th")(702,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(703,"th")(704,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(705,"th"),e._uU(706,"|"),e.qZA(),e.TgZ(707,"th",13)(708,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(709,"th"),e._uU(710,"|"),e.qZA(),e.TgZ(711,"th",13)(712,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(713,"th"),e._uU(714,"|"),e.qZA()(),e.TgZ(715,"tr"),e._UZ(716,"th",4),e.TgZ(717,"th"),e._uU(718,"+"),e.qZA(),e._UZ(719,"th",11),e.TgZ(720,"th"),e._uU(721,"+"),e.qZA(),e._UZ(722,"th",11),e.TgZ(723,"th"),e._uU(724,"+"),e.qZA(),e._UZ(725,"th",13),e.TgZ(726,"th"),e._uU(727,"+"),e.qZA(),e._UZ(728,"th",11),e.TgZ(729,"th"),e._uU(730,"+"),e.qZA(),e._UZ(731,"th",11),e.TgZ(732,"th"),e._uU(733,"+"),e.qZA(),e._UZ(734,"th",11),e.TgZ(735,"th"),e._uU(736,"+"),e.qZA(),e._UZ(737,"th",11),e.TgZ(738,"th"),e._uU(739,"+"),e.qZA(),e._UZ(740,"th",11),e.TgZ(741,"th"),e._uU(742,"+"),e.qZA(),e._UZ(743,"th",11),e.TgZ(744,"th"),e._uU(745,"+"),e.qZA(),e._UZ(746,"th",11),e.TgZ(747,"th"),e._uU(748,"+"),e.qZA(),e._UZ(749,"th",11),e.TgZ(750,"th"),e._uU(751,"+"),e.qZA(),e._UZ(752,"th",11),e.TgZ(753,"th"),e._uU(754,"+"),e.qZA()(),e.TgZ(755,"tr")(756,"th"),e._uU(757,"Approximant"),e.qZA(),e.TgZ(758,"th"),e._uU(759,"|"),e.qZA(),e._UZ(760,"th",13),e.TgZ(761,"th"),e._uU(762,"|"),e.qZA(),e.TgZ(763,"th",13)(764,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(765,"th"),e._uU(766,"|"),e.qZA(),e._UZ(767,"th",13),e.TgZ(768,"th"),e._uU(769,"|"),e.qZA(),e.TgZ(770,"th",23)(771,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(772,"th"),e._uU(773,"|"),e.qZA(),e.TgZ(774,"th",13)(775,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(776,"th"),e._uU(777,"|"),e.qZA(),e.TgZ(778,"th",13)(779,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(780,"th"),e._uU(781,"|"),e.qZA(),e.TgZ(782,"th",13)(783,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(784,"th"),e._uU(785,"|"),e.qZA(),e._UZ(786,"th",10),e.TgZ(787,"th"),e._uU(788,"|"),e.qZA(),e.TgZ(789,"th",13)(790,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(791,"th"),e._uU(792,"|"),e.qZA()(),e.TgZ(793,"tr"),e._UZ(794,"th",4),e.TgZ(795,"th"),e._uU(796,"+"),e.qZA(),e._UZ(797,"th",11),e.TgZ(798,"th"),e._uU(799,"+"),e.qZA(),e._UZ(800,"th",11),e.TgZ(801,"th"),e._uU(802,"+"),e.qZA(),e._UZ(803,"th",11),e.TgZ(804,"th"),e._uU(805,"+"),e.qZA(),e._UZ(806,"th",21),e.TgZ(807,"th"),e._uU(808,"+"),e.qZA(),e._UZ(809,"th",11),e.TgZ(810,"th"),e._uU(811,"+"),e.qZA(),e._UZ(812,"th",11),e.TgZ(813,"th"),e._uU(814,"+"),e.qZA(),e._UZ(815,"th",11),e.TgZ(816,"th"),e._uU(817,"+"),e.qZA(),e._UZ(818,"th",11),e.TgZ(819,"th"),e._uU(820,"+"),e.qZA(),e._UZ(821,"th",11),e.TgZ(822,"th"),e._uU(823,"+"),e.qZA(),e._UZ(824,"th",11),e.TgZ(825,"th"),e._uU(826,"+"),e.qZA()(),e.TgZ(827,"tr")(828,"th"),e._uU(829,"Tap/flap"),e.qZA(),e.TgZ(830,"th"),e._uU(831,"|"),e.qZA(),e.TgZ(832,"th",13)(833,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(834,"th"),e._uU(835,"|"),e.qZA(),e.TgZ(836,"th",13)(837,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(838,"th"),e._uU(839,"|"),e.qZA(),e.TgZ(840,"th",13)(841,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(842,"th"),e._uU(843,"|"),e.qZA(),e._UZ(844,"th"),e.TgZ(845,"th",20)(846,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(847,"th",20)(848,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(849,"th"),e.TgZ(850,"th"),e._uU(851,"|"),e.qZA(),e.TgZ(852,"th")(853,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(854,"th")(855,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(856,"th"),e._uU(857,"|"),e.qZA(),e._UZ(858,"th",10),e.TgZ(859,"th"),e._uU(860,"|"),e.qZA(),e.TgZ(861,"th",13)(862,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(863,"th"),e._uU(864,"|"),e.qZA(),e.TgZ(865,"th",13)(866,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(867,"th"),e._uU(868,"|"),e.qZA(),e._UZ(869,"th",13),e.TgZ(870,"th"),e._uU(871,"|"),e.qZA()(),e.TgZ(872,"tr"),e._UZ(873,"th",4),e.TgZ(874,"th"),e._uU(875,"+"),e.qZA(),e._UZ(876,"th",11),e.TgZ(877,"th"),e._uU(878,"+"),e.qZA(),e._UZ(879,"th",11),e.TgZ(880,"th"),e._uU(881,"+"),e.qZA(),e._UZ(882,"th",11),e.TgZ(883,"th"),e._uU(884,"+"),e.qZA(),e._UZ(885,"th",21),e.TgZ(886,"th"),e._uU(887,"+"),e.qZA(),e._UZ(888,"th",11),e.TgZ(889,"th"),e._uU(890,"+"),e.qZA(),e._UZ(891,"th",10),e.TgZ(892,"th"),e._uU(893,"+"),e.qZA(),e._UZ(894,"th",11),e.TgZ(895,"th"),e._uU(896,"+"),e.qZA(),e._UZ(897,"th",11),e.TgZ(898,"th"),e._uU(899,"+"),e.qZA(),e._UZ(900,"th",13),e.TgZ(901,"th"),e._uU(902,"|"),e.qZA()(),e.TgZ(903,"tr")(904,"th"),e._uU(905,"Trill"),e.qZA(),e.TgZ(906,"th"),e._uU(907,"|"),e.qZA(),e.TgZ(908,"th")(909,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(910,"th")(911,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(912,"th"),e._uU(913,"|"),e.qZA(),e._UZ(914,"th",10),e.TgZ(915,"th"),e._uU(916,"|"),e.qZA(),e._UZ(917,"th"),e.TgZ(918,"th",20)(919,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(920,"th",20)(921,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(922,"th"),e.TgZ(923,"th"),e._uU(924,"|"),e.qZA(),e.TgZ(925,"th")(926,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(927,"th")(928,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(929,"th"),e._uU(930,"|"),e.qZA(),e._UZ(931,"th",10),e.TgZ(932,"th"),e._uU(933,"|"),e.qZA(),e.TgZ(934,"th")(935,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(936,"th")(937,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(938,"th"),e._uU(939,"|"),e.qZA(),e.TgZ(940,"th")(941,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(942,"th")(943,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(944,"th"),e._uU(945,"|"),e.qZA(),e._UZ(946,"th",13),e.TgZ(947,"th"),e._uU(948,"|"),e.qZA()(),e.TgZ(949,"tr"),e._UZ(950,"th",4),e.TgZ(951,"th"),e._uU(952,"+"),e.qZA(),e._UZ(953,"th",11),e.TgZ(954,"th"),e._uU(955,"+"),e.qZA(),e._UZ(956,"th",10),e.TgZ(957,"th"),e._uU(958,"+"),e.qZA(),e._UZ(959,"th",21),e.TgZ(960,"th"),e._uU(961,"+"),e.qZA(),e._UZ(962,"th",11),e.TgZ(963,"th"),e._uU(964,"+"),e.qZA(),e._UZ(965,"th",11),e.TgZ(966,"th"),e._uU(967,"+"),e.qZA(),e._UZ(968,"th",11),e.TgZ(969,"th"),e._uU(970,"+"),e.qZA(),e._UZ(971,"th",11),e.TgZ(972,"th"),e._uU(973,"+"),e.qZA(),e._UZ(974,"th",11),e.TgZ(975,"th"),e._uU(976,"+"),e.qZA(),e._UZ(977,"th",13),e.TgZ(978,"th"),e._uU(979,"|"),e.qZA()(),e.TgZ(980,"tr")(981,"th"),e._uU(982,"Lateral fricative"),e.qZA(),e.TgZ(983,"th"),e._uU(984,"|"),e.qZA(),e._UZ(985,"th",23),e.TgZ(986,"th"),e._uU(987,"|"),e.qZA(),e._UZ(988,"th"),e.TgZ(989,"th",20)(990,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(991,"th",20)(992,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(993,"th"),e.TgZ(994,"th"),e._uU(995,"|"),e.qZA(),e.TgZ(996,"th")(997,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(998,"th")(999,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1e3,"th"),e._uU(1001,"|"),e.qZA(),e.TgZ(1002,"th")(1003,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1004,"th")(1005,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1006,"th"),e._uU(1007,"|"),e.qZA(),e.TgZ(1008,"th")(1009,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1010,"th")(1011,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1012,"th"),e._uU(1013,"|"),e.qZA(),e._UZ(1014,"th",23),e.TgZ(1015,"th"),e._uU(1016,"|"),e.qZA()(),e.TgZ(1017,"tr"),e._UZ(1018,"th",4),e.TgZ(1019,"th"),e._uU(1020,"+"),e.qZA(),e._UZ(1021,"th",23),e.TgZ(1022,"th"),e._uU(1023,"+"),e.qZA(),e._UZ(1024,"th",21),e.TgZ(1025,"th"),e._uU(1026,"+"),e.qZA(),e._UZ(1027,"th",11),e.TgZ(1028,"th"),e._uU(1029,"+"),e.qZA(),e._UZ(1030,"th",11),e.TgZ(1031,"th"),e._uU(1032,"+"),e.qZA(),e._UZ(1033,"th",11),e.TgZ(1034,"th"),e._uU(1035,"+"),e.qZA(),e._UZ(1036,"th",23),e.TgZ(1037,"th"),e._uU(1038,"|"),e.qZA()(),e.TgZ(1039,"tr")(1040,"th"),e._uU(1041,"Lateral affricate"),e.qZA(),e.TgZ(1042,"th"),e._uU(1043,"|"),e.qZA(),e._UZ(1044,"th",23),e.TgZ(1045,"th"),e._uU(1046,"|"),e.qZA(),e._UZ(1047,"th"),e.TgZ(1048,"th",20)(1049,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1050,"th",20)(1051,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(1052,"th"),e.TgZ(1053,"th"),e._uU(1054,"|"),e.qZA(),e.TgZ(1055,"th")(1056,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1057,"th")(1058,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1059,"th"),e._uU(1060,"|"),e.qZA(),e.TgZ(1061,"th")(1062,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1063,"th")(1064,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1065,"th"),e._uU(1066,"|"),e.qZA(),e.TgZ(1067,"th")(1068,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1069,"th")(1070,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1071,"th"),e._uU(1072,"|"),e.qZA(),e._UZ(1073,"th",23),e.TgZ(1074,"th"),e._uU(1075,"|"),e.qZA()(),e.TgZ(1076,"tr"),e._UZ(1077,"th",4),e.TgZ(1078,"th"),e._uU(1079,"+"),e.qZA(),e._UZ(1080,"th",23),e.TgZ(1081,"th"),e._uU(1082,"+"),e.qZA(),e._UZ(1083,"th",21),e.TgZ(1084,"th"),e._uU(1085,"+"),e.qZA(),e._UZ(1086,"th",11),e.TgZ(1087,"th"),e._uU(1088,"+"),e.qZA(),e._UZ(1089,"th",11),e.TgZ(1090,"th"),e._uU(1091,"+"),e.qZA(),e._UZ(1092,"th",11),e.TgZ(1093,"th"),e._uU(1094,"+"),e.qZA(),e._UZ(1095,"th",11),e.TgZ(1096,"th"),e._uU(1097,"+"),e.qZA(),e._UZ(1098,"th",10),e.TgZ(1099,"th"),e._uU(1100,"|"),e.qZA()(),e.TgZ(1101,"tr")(1102,"th"),e._uU(1103,"Ltrl approximant"),e.qZA(),e.TgZ(1104,"th"),e._uU(1105,"|"),e.qZA(),e._UZ(1106,"th",23),e.TgZ(1107,"th"),e._uU(1108,"|"),e.qZA(),e._UZ(1109,"th"),e.TgZ(1110,"th",20)(1111,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1112,"th",20)(1113,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(1114,"th"),e.TgZ(1115,"th"),e._uU(1116,"|"),e.qZA(),e.TgZ(1117,"th",13)(1118,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1119,"th"),e._uU(1120,"|"),e.qZA(),e.TgZ(1121,"th",13)(1122,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1123,"th"),e._uU(1124,"|"),e.qZA(),e.TgZ(1125,"th",13)(1126,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1127,"th"),e._uU(1128,"|"),e.qZA(),e.TgZ(1129,"th",13)(1130,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1131,"th"),e._uU(1132,"|"),e.qZA(),e._UZ(1133,"th",10),e.TgZ(1134,"th"),e._uU(1135,"|"),e.qZA()(),e.TgZ(1136,"tr"),e._UZ(1137,"th",4),e.TgZ(1138,"th"),e._uU(1139,"+"),e.qZA(),e._UZ(1140,"th",23),e.TgZ(1141,"th"),e._uU(1142,"+"),e.qZA(),e._UZ(1143,"th",21),e.TgZ(1144,"th"),e._uU(1145,"+"),e.qZA(),e._UZ(1146,"th",11),e.TgZ(1147,"th"),e._uU(1148,"+"),e.qZA(),e._UZ(1149,"th",11),e.TgZ(1150,"th"),e._uU(1151,"+"),e.qZA(),e._UZ(1152,"th",11),e.TgZ(1153,"th"),e._uU(1154,"+"),e.qZA(),e._UZ(1155,"th",11),e.TgZ(1156,"th"),e._uU(1157,"+"),e.qZA(),e._UZ(1158,"th",10),e.TgZ(1159,"th"),e._uU(1160,"|"),e.qZA()(),e.TgZ(1161,"tr")(1162,"th"),e._uU(1163,"Lateral tap/flap"),e.qZA(),e.TgZ(1164,"th"),e._uU(1165,"|"),e.qZA(),e._UZ(1166,"th",23),e.TgZ(1167,"th"),e._uU(1168,"|"),e.qZA(),e._UZ(1169,"th"),e.TgZ(1170,"th",20)(1171,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1172,"th",20)(1173,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(1174,"th"),e.TgZ(1175,"th"),e._uU(1176,"|"),e.qZA(),e.TgZ(1177,"th")(1178,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1179,"th")(1180,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1181,"th"),e._uU(1182,"|"),e.qZA(),e.TgZ(1183,"th",13)(1184,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1185,"th"),e._uU(1186,"|"),e.qZA(),e.TgZ(1187,"th",13)(1188,"app-phonetic-btn",19),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1189,"th"),e._uU(1190,"|"),e.qZA(),e._UZ(1191,"th",23),e.TgZ(1192,"th"),e._uU(1193,"|"),e.qZA()(),e.TgZ(1194,"tr"),e._UZ(1195,"th",25),e.TgZ(1196,"th"),e._uU(1197,"+"),e.qZA()(),e.TgZ(1198,"tr")(1199,"th",3),e._uU(1200," --- CO-ARTICULATED CONSONANTS --- "),e.qZA(),e.TgZ(1201,"th"),e._uU(1202,"|"),e.qZA()(),e.TgZ(1203,"tr"),e._UZ(1204,"th",4),e.TgZ(1205,"th"),e._uU(1206,"+"),e.qZA(),e._UZ(1207,"th",5),e.TgZ(1208,"th"),e._uU(1209,"+"),e.qZA()(),e.TgZ(1210,"tr")(1211,"th"),e._uU(1212,"Nasal"),e.qZA(),e.TgZ(1213,"th"),e._uU(1214,"|"),e.qZA(),e.TgZ(1215,"th",26),e._uU(1216," Labial\u2013alveolar "),e.TgZ(1217,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(1218,", Labial\u2013velar "),e.TgZ(1219,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1220,"th"),e._uU(1221,"|"),e.qZA()(),e.TgZ(1222,"tr"),e._UZ(1223,"th",4),e.TgZ(1224,"th"),e._uU(1225,"+"),e.qZA(),e._UZ(1226,"th",5),e.TgZ(1227,"th"),e._uU(1228,"+"),e.qZA()(),e.TgZ(1229,"tr")(1230,"th"),e._uU(1231,"Plosive"),e.qZA(),e.TgZ(1232,"th"),e._uU(1233,"|"),e.qZA(),e.TgZ(1234,"th",26),e._uU(1235," Labial\u2013alveolar "),e.TgZ(1236,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(1237),e.TgZ(1238,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(1239,", Labial\u2013velar "),e.TgZ(1240,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(1241),e.TgZ(1242,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(1243,", Uvular\u2013epiglottal "),e.TgZ(1244,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e._uU(1245),e.qZA()(),e.TgZ(1246,"th"),e._uU(1247,"|"),e.qZA()(),e.TgZ(1248,"tr"),e._UZ(1249,"th",4),e.TgZ(1250,"th"),e._uU(1251,"+"),e.qZA(),e._UZ(1252,"th",5),e.TgZ(1253,"th"),e._uU(1254,"+"),e.qZA()(),e.TgZ(1255,"tr")(1256,"th"),e._uU(1257,"Fricative/appr."),e.qZA(),e.TgZ(1258,"th"),e._uU(1259,"|"),e.qZA(),e.TgZ(1260,"th",26),e._uU(1261," Labial\u2013palatal "),e.TgZ(1262,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(1263),e.TgZ(1264,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(1265,", Labial\u2013velar "),e.TgZ(1266,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(1267),e.TgZ(1268,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(1269,", Sj-sound "),e.TgZ(1270,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1271,"th"),e._uU(1272,"|"),e.qZA()(),e.TgZ(1273,"tr"),e._UZ(1274,"th",4),e.TgZ(1275,"th"),e._uU(1276,"+"),e.qZA(),e._UZ(1277,"th",5),e.TgZ(1278,"th"),e._uU(1279,"+"),e.qZA()(),e.TgZ(1280,"tr")(1281,"th"),e._uU(1282,"Lateral appr."),e.qZA(),e.TgZ(1283,"th"),e._uU(1284,"|"),e.qZA(),e.TgZ(1285,"th",26),e._uU(1286,"Velarized alveolar "),e.TgZ(1287,"app-phonetic-btn",27),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(1288,"th"),e._uU(1289,"|"),e.qZA()(),e.TgZ(1290,"tr"),e._UZ(1291,"th",25),e.TgZ(1292,"th"),e._uU(1293,"+"),e.qZA()()()()),2&t&&(e.xp6(218),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","m\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","m"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0271"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","n\u033c"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","n\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","n"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0273\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0273"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0272\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0272"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u014b\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u014b"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0274"),e.xp6(46),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","p"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","b"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","p\u032a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","b\u032a"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u033c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u033c"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0288"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0256"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u025f"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","k"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0261"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","q"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0262"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a1"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0294"),e.xp6(49),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","s"),e.xp6(3),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","z"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0283"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0292"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0282"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0290"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0255"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0291"),e.xp6(37),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a6"),e.xp6(3),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a3"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0288\u0361\u0282"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0256\u0361\u0290"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a8"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a5"),e.xp6(52),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0278"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03b2"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","f"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","v"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03b8\u033c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\xf0\u033c"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03b8"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\xf0"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03b8\u0320"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\xf0\u0320"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0279\u0320\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0279\u0320\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027b\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\xe7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","x"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0263"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03c7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0281"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0127"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0295"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","h"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0266"),e.xp6(49),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","p\u0361\u0278"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","b\u0361\u03b2"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","p\u032a\u0361f"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","b\u032a\u0361v"),e.xp6(8),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u032a\u0361\u03b8"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u032a\u0361\xf0"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u0361\u0279\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u0361\u0279\u031d\u0320"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u0320\u0361\u0279\u0320\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u0320\u0361\u0279\u0320\u02d4"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","c\u0361\xe7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u025f\u0361\u029d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","k\u0361x"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0261\u0361\u0263"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","q\u0361\u03c7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0262\u0361\u0281"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a1\u0361\u02a2"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0294\u0361h"),e.xp6(52),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028b"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0279"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027b"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","j"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0270"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0294\u031e"),e.xp6(43),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u2c71\u031f"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u2c71"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027e\u033c"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027e\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027e"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027d"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0262\u0306"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a1\u0306"),e.xp6(43),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0299\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0299"),e.xp6(8),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","r\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","r"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027d\u030ar\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027dr"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0280\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0280"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a2"),e.xp6(47),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026e"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028e\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028e\u031d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f\u031d"),e.xp6(38),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u0361\u026c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u0361\u026e"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0288\u0361\u026d\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0256\u0361\u026d\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","c\u0361\u028e\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u025f\u0361\u028e\u031d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","k\u0361\u029f\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0261\u0361\u029f\u031d"),e.xp6(41),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","l\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","l"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028e"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f\u0320"),e.xp6(41),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027a\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027a"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d\u0325\u0306"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d\u0306"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028e\u0306\u031d\u030a"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f\u0306"),e.xp6(29),e.Q6J("languageSounds",o.languageSounds)("phonetic","n\u0361m"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u0361m"),e.xp6(17),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u0361p"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",o.languageSounds)("phonetic","d\u0361b"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u0361p"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u0361b"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u0361\u02a1"),e.xp6(1),e.Oqu(" "),e.xp6(17),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0265\u030a"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0265"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u028d"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",o.languageSounds)("phonetic","w"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0267"),e.xp6(17),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u026b"))},dependencies:[On,Bl]}),r})();function OA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"app-phonetic-btn",29),e.NdJ("onClick",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.clicked(i))}),e.qZA()()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(1),e.hij("",o>0?", ":""," "),e.xp6(1),e.Q6J("languageSounds",i.languageSounds)("phonetic",t)}}let Qf=(()=>{class r{constructor(){this.onClick=new e.vpe}ngOnInit(){}clicked(t){this.onClick.emit(t)}getRestPhonemes(){var t;if(this.languageSounds&&this.languageSounds.restUsedPhonemes){const o=this.languageSounds.restUsedPhonemes.concat([]);return null===(t=this.languageSounds.selectedRestPhonemes)||void 0===t||t.forEach(i=>{i.phoneme&&o.push(i.phoneme)}),o.sort().filter(i=>""!==i.trim()).filter(i=>i.includes("\u032f")).filter((i,a,d)=>d.indexOf(i)===a)}return[]}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-vowels"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},decls:373,vars:100,consts:[["span","1",2,"width","auto"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","5%"],["span","1",1,"border",2,"width","25px"],["span","1",2,"width","15%"],["colspan","37"],["app-horizontal-dash",""],["app-horizontal-dash","","colspan","35"],[2,"text-align","right"],["colspan","5"],["colspan","3"],["colspan","12"],["colspan","1"],[3,"vowel","languageSounds","phonetic","onClick"],["colspan","5","app-horizontal-dash",""],["colspan","9","app-horizontal-dash",""],["colspan","4"],["colspan","11"],["colspan","14"],["colspan","9"],["colspan","6"],["colspan","8"],["colspan","10"],["colspan","7"],["colspan","3","app-horizontal-dash",""],["colspan","13"],["colspan","1","app-horizontal-dash",""],["colspan","35"],[4,"ngFor","ngForOf"],[3,"languageSounds","phonetic","onClick"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",3)(7,"col",3)(8,"col",3)(9,"col",3)(10,"col",3)(11,"col",3)(12,"col",3)(13,"col",3)(14,"col",3)(15,"col",3)(16,"col",3)(17,"col",3)(18,"col",3)(19,"col",3)(20,"col",3)(21,"col",3)(22,"col",3)(23,"col",3)(24,"col",3)(25,"col",3)(26,"col",3)(27,"col",3)(28,"col",3)(29,"col",3)(30,"col",3)(31,"col",3)(32,"col",3)(33,"col",3)(34,"col",3)(35,"col",3)(36,"col",3)(37,"col",3)(38,"col",4)(39,"col",1),e.qZA(),e.TgZ(40,"tbody")(41,"tr")(42,"th",5),e._uU(43," --- VOWELS --- "),e.qZA(),e.TgZ(44,"th"),e._uU(45,"|"),e.qZA()(),e.TgZ(46,"tr"),e._UZ(47,"th",6),e.TgZ(48,"th"),e._uU(49,"+"),e.qZA(),e._UZ(50,"th",7),e.TgZ(51,"th"),e._uU(52,"+"),e.qZA()(),e.TgZ(53,"tr"),e._UZ(54,"th",8),e.TgZ(55,"th"),e._uU(56,"|"),e.qZA(),e._UZ(57,"th"),e.TgZ(58,"th",9),e._uU(59,"Front"),e.qZA(),e._UZ(60,"th",10),e.TgZ(61,"th"),e._uU(62,"|"),e.qZA(),e.TgZ(63,"th",11),e._uU(64,"Central"),e.qZA(),e._UZ(65,"th",12),e.TgZ(66,"th"),e._uU(67,"|"),e.qZA(),e._UZ(68,"th",9),e.TgZ(69,"th",9),e._uU(70,"Back"),e.qZA(),e._UZ(71,"th"),e.TgZ(72,"th"),e._uU(73,"|"),e.qZA()(),e.TgZ(74,"tr"),e._UZ(75,"th",6),e.TgZ(76,"th"),e._uU(77,"+"),e.qZA(),e._UZ(78,"th",7),e.TgZ(79,"th"),e._uU(80,"+"),e.qZA()(),e.TgZ(81,"tr")(82,"th"),e._uU(83,"Close"),e.qZA(),e.TgZ(84,"th"),e._uU(85,"|"),e.qZA(),e._UZ(86,"th"),e.TgZ(87,"th",9)(88,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(89," * "),e.TgZ(90,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(91,"th")(92,"th",14)(93,"th"),e.TgZ(94,"th",9)(95,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(96," * "),e.TgZ(97,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(98,"th")(99,"th",15)(100,"th"),e.TgZ(101,"th",9)(102,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(103," * "),e.TgZ(104,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(105,"th"),e.TgZ(106,"th"),e._uU(107,"|"),e.qZA()(),e.TgZ(108,"tr"),e._UZ(109,"th",6),e.TgZ(110,"th"),e._uU(111,"+"),e.qZA(),e._UZ(112,"th",16),e.TgZ(113,"th"),e._uU(114,"\\"),e.qZA(),e._UZ(115,"th",17),e.TgZ(116,"th"),e._uU(117,"\\"),e.qZA(),e._UZ(118,"th",18),e.TgZ(119,"th"),e._uU(120,"|"),e.qZA(),e._UZ(121,"th",10),e.TgZ(122,"th"),e._uU(123,"|"),e.qZA()(),e.TgZ(124,"tr")(125,"th"),e._uU(126,"Near-close"),e.qZA(),e.TgZ(127,"th"),e._uU(128,"|"),e.qZA(),e._UZ(129,"th",9),e.TgZ(130,"th"),e._uU(131,"\\"),e.qZA(),e._UZ(132,"th"),e.TgZ(133,"th",9)(134,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(135," * "),e.TgZ(136,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(137,"th",9),e.TgZ(138,"th"),e._uU(139,"\\"),e.qZA(),e._UZ(140,"th",19),e.TgZ(141,"th",10),e._uU(142,"* "),e.TgZ(143,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(144,"th"),e.TgZ(145,"th"),e._uU(146,"|"),e.qZA(),e._UZ(147,"th",10),e.TgZ(148,"th"),e._uU(149,"|"),e.qZA()(),e.TgZ(150,"tr"),e._UZ(151,"th",6),e.TgZ(152,"th"),e._uU(153,"+"),e.qZA(),e._UZ(154,"th",20),e.TgZ(155,"th"),e._uU(156,"\\"),e.qZA(),e._UZ(157,"th",17),e.TgZ(158,"th"),e._uU(159,"\\"),e.qZA(),e._UZ(160,"th",11),e.TgZ(161,"th"),e._uU(162,"|"),e.qZA(),e._UZ(163,"th",10),e.TgZ(164,"th"),e._uU(165,"|"),e.qZA()(),e.TgZ(166,"tr")(167,"th"),e._uU(168,"Close-mid"),e.qZA(),e.TgZ(169,"th"),e._uU(170,"|"),e.qZA(),e._UZ(171,"th",9),e.TgZ(172,"th",9)(173,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(174," * "),e.TgZ(175,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(176,"th")(177,"th",14)(178,"th"),e.TgZ(179,"th",9)(180,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(181," * "),e.TgZ(182,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(183,"th")(184,"th",14)(185,"th"),e.TgZ(186,"th",9)(187,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(188," * "),e.TgZ(189,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(190,"th"),e.TgZ(191,"th"),e._uU(192,"|"),e.qZA()(),e.TgZ(193,"tr"),e._UZ(194,"th",6),e.TgZ(195,"th"),e._uU(196,"+"),e.qZA(),e._UZ(197,"th",21),e.TgZ(198,"th"),e._uU(199,"\\"),e.qZA(),e._UZ(200,"th",22),e.TgZ(201,"th"),e._uU(202,"\\"),e.qZA(),e._UZ(203,"th",17),e.TgZ(204,"th"),e._uU(205,"|"),e.qZA(),e._UZ(206,"th",10),e.TgZ(207,"th"),e._uU(208,"|"),e.qZA()(),e.TgZ(209,"tr")(210,"th"),e._uU(211,"Mid"),e.qZA(),e.TgZ(212,"th"),e._uU(213,"|"),e.qZA(),e._UZ(214,"th",23),e.TgZ(215,"th",9)(216,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(217," * "),e.TgZ(218,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(219,"th")(220,"th",20),e.TgZ(221,"th",10)(222,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(223,"th",20)(224,"th"),e.TgZ(225,"th",9)(226,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(227," * "),e.TgZ(228,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(229,"th"),e.TgZ(230,"th"),e._uU(231,"|"),e.qZA()(),e.TgZ(232,"tr"),e._UZ(233,"th",6),e.TgZ(234,"th"),e._uU(235,"+"),e.qZA(),e._UZ(236,"th",22),e.TgZ(237,"th"),e._uU(238,"\\"),e.qZA(),e._UZ(239,"th",19),e.TgZ(240,"th"),e._uU(241,"\\"),e.qZA(),e._UZ(242,"th",22),e.TgZ(243,"th"),e._uU(244,"|"),e.qZA(),e._UZ(245,"th",10),e.TgZ(246,"th"),e._uU(247,"|"),e.qZA()(),e.TgZ(248,"tr")(249,"th"),e._uU(250,"Open-mid"),e.qZA(),e.TgZ(251,"th"),e._uU(252,"|"),e.qZA(),e._UZ(253,"th",19),e.TgZ(254,"th",9)(255,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(256," * "),e.TgZ(257,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(258,"th")(259,"th",24)(260,"th"),e.TgZ(261,"th",9)(262,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(263," * "),e.TgZ(264,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(265,"th")(266,"th",24)(267,"th"),e.TgZ(268,"th",9)(269,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(270," * "),e.TgZ(271,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(272,"th"),e.TgZ(273,"th"),e._uU(274,"|"),e.qZA()(),e.TgZ(275,"tr"),e._UZ(276,"th",6),e.TgZ(277,"th"),e._uU(278,"+"),e.qZA(),e._UZ(279,"th",11),e.TgZ(280,"th"),e._uU(281,"\\"),e.qZA(),e._UZ(282,"th",21),e.TgZ(283,"th"),e._uU(284,"\\"),e.qZA(),e._UZ(285,"th",19),e.TgZ(286,"th"),e._uU(287,"|"),e.qZA(),e._UZ(288,"th",10),e.TgZ(289,"th"),e._uU(290,"|"),e.qZA()(),e.TgZ(291,"tr")(292,"th"),e._uU(293,"Near-open"),e.qZA(),e.TgZ(294,"th"),e._uU(295,"|"),e.qZA(),e._UZ(296,"th",17),e.TgZ(297,"th",10)(298,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(299," *"),e.qZA(),e._UZ(300,"th",23),e.TgZ(301,"th",10)(302,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(303,"th",23),e.TgZ(304,"th"),e._uU(305,"|"),e.qZA(),e._UZ(306,"th",10),e.TgZ(307,"th"),e._uU(308,"|"),e.qZA()(),e.TgZ(309,"tr"),e._UZ(310,"th",6),e.TgZ(311,"th"),e._uU(312,"+"),e.qZA(),e._UZ(313,"th",18),e.TgZ(314,"th"),e._uU(315,"\\"),e.qZA(),e._UZ(316,"th",23),e.TgZ(317,"th"),e._uU(318,"\\"),e.qZA(),e._UZ(319,"th",21),e.TgZ(320,"th"),e._uU(321,"|"),e.qZA(),e._UZ(322,"th",10),e.TgZ(323,"th"),e._uU(324,"|"),e.qZA()(),e.TgZ(325,"tr")(326,"th"),e._uU(327,"Open"),e.qZA(),e.TgZ(328,"th"),e._uU(329,"|"),e.qZA(),e._UZ(330,"th",25),e.TgZ(331,"th",9)(332,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(333," * "),e.TgZ(334,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(335,"th")(336,"th",26)(337,"th"),e.TgZ(338,"th",16)(339,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(340," * "),e.qZA(),e._UZ(341,"th",24)(342,"th"),e.TgZ(343,"th",9)(344,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e._uU(345," * "),e.TgZ(346,"app-phonetic-btn",13),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(347,"th"),e.TgZ(348,"th"),e._uU(349,"|"),e.qZA()(),e.TgZ(350,"tr"),e._UZ(351,"th",6),e.TgZ(352,"th"),e._uU(353,"+"),e.qZA(),e._UZ(354,"th",7),e.TgZ(355,"th"),e._uU(356,"+"),e.qZA()(),e.TgZ(357,"tr")(358,"th"),e._uU(359,"Gliding"),e.qZA(),e.TgZ(360,"th"),e._uU(361,"|"),e.qZA(),e.TgZ(362,"th",27),e.YNc(363,OA,3,3,"span",28),e.qZA(),e.TgZ(364,"th"),e._uU(365,"|"),e.qZA()(),e.TgZ(366,"tr"),e._UZ(367,"th",6),e.TgZ(368,"th"),e._uU(369,"+"),e.qZA(),e._UZ(370,"th",7),e.TgZ(371,"th"),e._uU(372,"+"),e.qZA()()()()),2&t&&(e.xp6(88),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","i"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","y"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0268"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0289"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u026f"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","u"),e.xp6(30),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u026a"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u028f"),e.xp6(7),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u028a"),e.xp6(30),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","e"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\xf8"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0258"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0275"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0264"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","o"),e.xp6(27),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","e\u031e"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\xf8\u031e"),e.xp6(4),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0259"),e.xp6(4),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0264\u031e"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","o\u031e"),e.xp6(27),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u025b"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0153"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u025c"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u025e"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u028c"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0254"),e.xp6(27),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\xe6"),e.xp6(4),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0250"),e.xp6(30),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","a"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0276"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\xe4"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0251"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0252"),e.xp6(17),e.Q6J("ngForOf",o.getRestPhonemes()))},dependencies:[ut,On,Bl]}),r})();function Kf(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"app-phonetic-btn",11),e.NdJ("onClick",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.clicked(i))}),e.qZA()()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(1),e.hij("",o>0?", ":""," "),e.xp6(1),e.Q6J("languageSounds",i.languageSounds)("phonetic",t)}}function N1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addNewSound())}),e._uU(1,"[ + ]"),e.qZA()}}function U1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"[ + ]"),e.qZA())}let J_=(()=>{class r{constructor(t){this.formBuilder=t,this.onClick=new e.vpe,this.soundForm=new ht({newSound:new ni("",io.required)})}ngOnInit(){}clicked(t){this.onClick.emit(t)}getRestPhonemes(){var t;if(this.languageSounds&&this.languageSounds.restUsedPhonemes){const o=this.languageSounds.restUsedPhonemes.concat([]);return null===(t=this.languageSounds.selectedRestPhonemes)||void 0===t||t.forEach(i=>{i.phoneme&&o.push(i.phoneme)}),o.sort().filter(i=>""!==i.trim()).filter(i=>!i.includes("\u032f")).filter((i,a,d)=>d.indexOf(i)===a)}return[]}addNewSound(){this.onClick.emit(this.soundForm.value.newSound?this.soundForm.value.newSound:void 0),this.soundForm.reset()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(km))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-other-phonemes"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},decls:40,vars:4,consts:[["span","1",2,"width","70px"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["colspan","3"],["app-horizontal-dash","","colspan","3"],[4,"ngFor","ngForOf"],["class","text-green-dull",3,"click",4,"ngIf"],[4,"ngIf"],[2,"text-align","left"],[3,"formGroup","ngSubmit"],["formControlName","newSound","type","text",2,"margin-left","16px"],[3,"languageSounds","phonetic","onClick"],[1,"text-green-dull",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",1),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",3),e._uU(9," --- OTHER PHONEMES --- "),e.qZA(),e.TgZ(10,"th"),e._uU(11,"|"),e.qZA()(),e.TgZ(12,"tr"),e._UZ(13,"th",4),e.TgZ(14,"th"),e._uU(15,"+"),e.qZA()(),e.TgZ(16,"tr")(17,"th",3),e.YNc(18,Kf,3,3,"span",5),e.qZA(),e.TgZ(19,"th"),e._uU(20,"|"),e.qZA()(),e.TgZ(21,"tr"),e._UZ(22,"th",4),e.TgZ(23,"th"),e._uU(24,"+"),e.qZA()(),e.TgZ(25,"tr")(26,"th"),e.YNc(27,N1,2,0,"a",6),e.YNc(28,U1,2,0,"span",7),e.qZA(),e.TgZ(29,"th"),e._uU(30,"|"),e.qZA(),e.TgZ(31,"th",8)(32,"form",9),e.NdJ("ngSubmit",function(){return o.addNewSound()}),e._UZ(33,"input",10),e.qZA()(),e.TgZ(34,"th"),e._uU(35,"|"),e.qZA()(),e.TgZ(36,"tr"),e._UZ(37,"th",4),e.TgZ(38,"th"),e._uU(39,"+"),e.qZA()()()()),2&t&&(e.xp6(18),e.Q6J("ngForOf",o.getRestPhonemes()),e.xp6(9),e.Q6J("ngIf",o.soundForm.valid),e.xp6(1),e.Q6J("ngIf",!o.soundForm.valid),e.xp6(4),e.Q6J("formGroup",o.soundForm))},dependencies:[ut,St,ta,Un,xn,gs,Wi,Au,On,Bl]}),r})(),M1=(()=>{class r{constructor(t,o){this.cdRef=t,this.languagesService=o,this.onClick=new e.vpe}ngOnInit(){}ngOnChanges(t){console.log("pulmonic consonants changes",t)}clicked(t){this.onClick.emit(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(ca))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-non-pulmonic-consonants"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},features:[e.TTD],decls:913,vars:150,consts:[["span","1",2,"width","79px"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","3.489228732%"],["colspan","33"],["app-horizontal-dash","","colspan","3"],["app-horizontal-dash","","colspan","29"],["colspan","3",2,"text-align","right"],["colspan","5"],["colspan","12"],["colspan","7"],["colspan","2"],["colspan","3"],["colspan","2","app-horizontal-dash",""],["colspan","3",2,"text-align","left"],["title","Labio-dental"],["title","Post-alveolar"],["title","Retro-flex"],["title","Pharyngeal/Epi-glottal"],["app-horizontal-dash",""],["rowspan","9"],[3,"languageSounds","phonetic","onClick"],["colspan","8"],["colspan","8","app-horizontal-dash",""],["colspan","14"],["colspan","5","app-horizontal-dash",""],["rowspan","11"],["app-horizontal-dash","","colspan","33"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",1)(6,"col",3)(7,"col",3)(8,"col",1)(9,"col",3)(10,"col",3)(11,"col",1)(12,"col",3)(13,"col",3)(14,"col",1)(15,"col",3)(16,"col",3)(17,"col",1)(18,"col",3)(19,"col",3)(20,"col",1)(21,"col",3)(22,"col",3)(23,"col",1)(24,"col",3)(25,"col",3)(26,"col",1)(27,"col",3)(28,"col",3)(29,"col",1)(30,"col",3)(31,"col",3)(32,"col",1)(33,"col",3)(34,"col",3)(35,"col",1),e.qZA(),e.TgZ(36,"tbody")(37,"tr")(38,"th",4),e._uU(39," --- NON-PLUMONIC CONSONANTS --- "),e.qZA(),e.TgZ(40,"th"),e._uU(41,"|"),e.qZA()(),e.TgZ(42,"tr"),e._UZ(43,"th",5),e.TgZ(44,"th"),e._uU(45,"+"),e.qZA(),e._UZ(46,"th",6),e.TgZ(47,"th"),e._uU(48,"+"),e.qZA()(),e.TgZ(49,"tr")(50,"th",7),e._uU(51,"Place"),e.qZA(),e.TgZ(52,"th"),e._uU(53,"|"),e.qZA(),e.TgZ(54,"th",8),e._uU(55,"Labial"),e.qZA(),e.TgZ(56,"th"),e._uU(57,"|"),e.qZA(),e.TgZ(58,"th",9),e._uU(59,"Coronal"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"|"),e.qZA(),e.TgZ(62,"th",10),e._uU(63,"Dorsal"),e.qZA(),e.TgZ(64,"th"),e._uU(65,"|"),e.qZA(),e.TgZ(66,"th",11),e._uU(67,"Laryngeal"),e.qZA(),e.TgZ(68,"th"),e._uU(69,"|"),e.qZA()(),e.TgZ(70,"tr"),e._UZ(71,"th",12),e.TgZ(72,"th"),e._uU(73,"|"),e.qZA(),e._UZ(74,"th",13),e.TgZ(75,"th"),e._uU(76,"+"),e.qZA(),e._UZ(77,"th",13),e.TgZ(78,"th"),e._uU(79,"+"),e.qZA(),e._UZ(80,"th",13),e.TgZ(81,"th"),e._uU(82,"+"),e.qZA(),e._UZ(83,"th",13),e.TgZ(84,"th"),e._uU(85,"+"),e.qZA(),e._UZ(86,"th",13),e.TgZ(87,"th"),e._uU(88,"+"),e.qZA(),e._UZ(89,"th",13),e.TgZ(90,"th"),e._uU(91,"+"),e.qZA(),e._UZ(92,"th",13),e.TgZ(93,"th"),e._uU(94,"+"),e.qZA(),e._UZ(95,"th",13),e.TgZ(96,"th"),e._uU(97,"+"),e.qZA(),e._UZ(98,"th",13),e.TgZ(99,"th"),e._uU(100,"+"),e.qZA(),e._UZ(101,"th",13),e.TgZ(102,"th"),e._uU(103,"+"),e.qZA()(),e.TgZ(104,"tr")(105,"th",14),e._uU(106,"Manner"),e.qZA(),e.TgZ(107,"th"),e._uU(108,"|"),e.qZA(),e.TgZ(109,"th",11),e._uU(110,"Bilabial"),e.qZA(),e.TgZ(111,"th"),e._uU(112,"|"),e.qZA(),e.TgZ(113,"th",11)(114,"abbr",15),e._uU(115,"LD"),e.qZA()(),e.TgZ(116,"th"),e._uU(117,"|"),e.qZA(),e.TgZ(118,"th",11),e._uU(119,"Dental"),e.qZA(),e.TgZ(120,"th"),e._uU(121,"|"),e.qZA(),e.TgZ(122,"th",11),e._uU(123,"Alveolar"),e.qZA(),e.TgZ(124,"th"),e._uU(125,"|"),e.qZA(),e.TgZ(126,"th",11)(127,"abbr",16),e._uU(128,"PA"),e.qZA()(),e.TgZ(129,"th"),e._uU(130,"|"),e.qZA(),e.TgZ(131,"th",11)(132,"abbr",17),e._uU(133,"RF"),e.qZA()(),e.TgZ(134,"th"),e._uU(135,"|"),e.qZA(),e.TgZ(136,"th",11),e._uU(137,"Palatal"),e.qZA(),e.TgZ(138,"th"),e._uU(139,"|"),e.qZA(),e.TgZ(140,"th",11),e._uU(141,"Velar"),e.qZA(),e.TgZ(142,"th"),e._uU(143,"|"),e.qZA(),e.TgZ(144,"th",11),e._uU(145,"Uvular"),e.qZA(),e.TgZ(146,"th"),e._uU(147,"|"),e.qZA(),e.TgZ(148,"th",11)(149,"abbr",18),e._uU(150,"P/EG"),e.qZA()(),e.TgZ(151,"th"),e._uU(152,"|"),e.qZA()(),e.TgZ(153,"tr"),e._UZ(154,"th",19),e.TgZ(155,"th"),e._uU(156,"+"),e.qZA(),e._UZ(157,"th",19),e.TgZ(158,"th"),e._uU(159,"+"),e.qZA(),e._UZ(160,"th",13),e.TgZ(161,"th"),e._uU(162,"+"),e.qZA(),e._UZ(163,"th",13),e.TgZ(164,"th"),e._uU(165,"+"),e.qZA(),e._UZ(166,"th",13),e.TgZ(167,"th"),e._uU(168,"+"),e.qZA(),e._UZ(169,"th",13),e.TgZ(170,"th"),e._uU(171,"+"),e.qZA(),e._UZ(172,"th",13),e.TgZ(173,"th"),e._uU(174,"+"),e.qZA(),e._UZ(175,"th",13),e.TgZ(176,"th"),e._uU(177,"+"),e.qZA(),e._UZ(178,"th",13),e.TgZ(179,"th"),e._uU(180,"+"),e.qZA(),e._UZ(181,"th",13),e.TgZ(182,"th"),e._uU(183,"+"),e.qZA(),e._UZ(184,"th",13),e.TgZ(185,"th"),e._uU(186,"+"),e.qZA(),e._UZ(187,"th",13),e.TgZ(188,"th"),e._uU(189,"+"),e.qZA()(),e.TgZ(190,"tr")(191,"th",20),e._uU(192,"Ejective"),e.qZA(),e.TgZ(193,"th",20),e._uU(194,"|"),e._UZ(195,"br"),e._uU(196,"|"),e._UZ(197,"br"),e._uU(198,"|"),e._UZ(199,"br"),e._uU(200,"|"),e._UZ(201,"br"),e._uU(202,"|"),e._UZ(203,"br"),e._uU(204,"|"),e._UZ(205,"br"),e._uU(206,"|"),e._UZ(207,"br"),e._uU(208,"|"),e._UZ(209,"br"),e._uU(210,"|"),e._UZ(211,"br"),e._uU(212,"|"),e._UZ(213,"br"),e._uU(214,"|"),e.qZA(),e.TgZ(215,"th"),e._uU(216,"Plosive"),e.qZA(),e.TgZ(217,"th"),e._uU(218,"|"),e.qZA(),e.TgZ(219,"th",11)(220,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(221,"th"),e._uU(222,"|"),e.qZA(),e._UZ(223,"th",11),e.TgZ(224,"th"),e._uU(225,"|"),e.qZA(),e.TgZ(226,"th",22)(227,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(228,"th"),e._uU(229,"|"),e.qZA(),e.TgZ(230,"th",11)(231,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(232,"th"),e._uU(233,"|"),e.qZA(),e.TgZ(234,"th",11)(235,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(236,"th"),e._uU(237,"|"),e.qZA(),e.TgZ(238,"th",11)(239,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(240,"th"),e._uU(241,"|"),e.qZA(),e.TgZ(242,"th",11)(243,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(244,"th"),e._uU(245,"|"),e.qZA(),e.TgZ(246,"th",11)(247,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(248,"th"),e._uU(249,"|"),e.qZA()(),e.TgZ(250,"tr"),e._UZ(251,"th",19),e.TgZ(252,"th"),e._uU(253,"+"),e.qZA(),e._UZ(254,"th",13),e.TgZ(255,"th"),e._uU(256,"+"),e.qZA(),e._UZ(257,"th",11),e.TgZ(258,"th"),e._uU(259,"+"),e.qZA(),e._UZ(260,"th",13),e.TgZ(261,"th"),e._uU(262,"+"),e.qZA(),e._UZ(263,"th",13),e.TgZ(264,"th"),e._uU(265,"+"),e.qZA(),e._UZ(266,"th",13),e.TgZ(267,"th"),e._uU(268,"+"),e.qZA(),e._UZ(269,"th",13),e.TgZ(270,"th"),e._uU(271,"+"),e.qZA(),e._UZ(272,"th",13),e.TgZ(273,"th"),e._uU(274,"+"),e.qZA(),e._UZ(275,"th",13),e.TgZ(276,"th"),e._uU(277,"+"),e.qZA(),e._UZ(278,"th",13),e.TgZ(279,"th"),e._uU(280,"+"),e.qZA(),e._UZ(281,"th",13),e.TgZ(282,"th"),e._uU(283,"+"),e.qZA()(),e.TgZ(284,"tr")(285,"th"),e._uU(286,"Affricate"),e.qZA(),e.TgZ(287,"th"),e._uU(288,"|"),e.qZA(),e._UZ(289,"th",8),e.TgZ(290,"th"),e._uU(291,"|"),e.qZA(),e.TgZ(292,"th",11)(293,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(294,"th"),e._uU(295,"|"),e.qZA(),e.TgZ(296,"th",11)(297,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(298,"th"),e._uU(299,"|"),e.qZA(),e.TgZ(300,"th",11)(301,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(302,"th"),e._uU(303,"|"),e.qZA(),e.TgZ(304,"th",11)(305,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(306,"th"),e._uU(307,"|"),e.qZA(),e._UZ(308,"th",11),e.TgZ(309,"th"),e._uU(310,"|"),e.qZA(),e.TgZ(311,"th",11)(312,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(313,"th"),e._uU(314,"|"),e.qZA(),e.TgZ(315,"th",11)(316,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(317,"th"),e._uU(318,"|"),e.qZA(),e._UZ(319,"th",11),e.TgZ(320,"th"),e._uU(321,"|"),e.qZA()(),e.TgZ(322,"tr"),e._UZ(323,"th",19),e.TgZ(324,"th"),e._uU(325,"+"),e.qZA(),e._UZ(326,"th",13),e.TgZ(327,"th"),e._uU(328,"+"),e.qZA(),e._UZ(329,"th",13),e.TgZ(330,"th"),e._uU(331,"+"),e.qZA(),e._UZ(332,"th",13),e.TgZ(333,"th"),e._uU(334,"+"),e.qZA(),e._UZ(335,"th",13),e.TgZ(336,"th"),e._uU(337,"+"),e.qZA(),e._UZ(338,"th",13),e.TgZ(339,"th"),e._uU(340,"+"),e.qZA(),e._UZ(341,"th",13),e.TgZ(342,"th"),e._uU(343,"+"),e.qZA(),e._UZ(344,"th",13),e.TgZ(345,"th"),e._uU(346,"+"),e.qZA(),e._UZ(347,"th",13),e.TgZ(348,"th"),e._uU(349,"+"),e.qZA(),e._UZ(350,"th",13),e.TgZ(351,"th"),e._uU(352,"+"),e.qZA(),e._UZ(353,"th",11),e.TgZ(354,"th"),e._uU(355,"|"),e.qZA()(),e.TgZ(356,"tr")(357,"th"),e._uU(358,"Fricative"),e.qZA(),e.TgZ(359,"th"),e._uU(360,"|"),e.qZA(),e.TgZ(361,"th",11)(362,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(363,"th"),e._uU(364,"|"),e.qZA(),e.TgZ(365,"th",11)(366,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(367,"th"),e._uU(368,"|"),e.qZA(),e.TgZ(369,"th",11)(370,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(371,"th"),e._uU(372,"|"),e.qZA(),e.TgZ(373,"th",11)(374,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(375,"th"),e._uU(376,"|"),e.qZA(),e.TgZ(377,"th",11)(378,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(379,"th"),e._uU(380,"|"),e.qZA(),e.TgZ(381,"th",11)(382,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(383,"th"),e._uU(384,"|"),e.qZA(),e.TgZ(385,"th",11)(386,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(387,"th"),e._uU(388,"|"),e.qZA(),e.TgZ(389,"th",11)(390,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(391,"th"),e._uU(392,"|"),e.qZA(),e.TgZ(393,"th",11)(394,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(395,"th"),e._uU(396,"|"),e.qZA(),e._UZ(397,"th",11),e.TgZ(398,"th"),e._uU(399,"|"),e.qZA()(),e.TgZ(400,"tr"),e._UZ(401,"th",19),e.TgZ(402,"th"),e._uU(403,"+"),e.qZA(),e._UZ(404,"th",13),e.TgZ(405,"th"),e._uU(406,"+"),e.qZA(),e._UZ(407,"th",13),e.TgZ(408,"th"),e._uU(409,"+"),e.qZA(),e._UZ(410,"th",13),e.TgZ(411,"th"),e._uU(412,"+"),e.qZA(),e._UZ(413,"th",13),e.TgZ(414,"th"),e._uU(415,"+"),e.qZA(),e._UZ(416,"th",13),e.TgZ(417,"th"),e._uU(418,"+"),e.qZA(),e._UZ(419,"th",13),e.TgZ(420,"th"),e._uU(421,"+"),e.qZA(),e._UZ(422,"th",13),e.TgZ(423,"th"),e._uU(424,"+"),e.qZA(),e._UZ(425,"th",13),e.TgZ(426,"th"),e._uU(427,"+"),e.qZA(),e._UZ(428,"th",13),e.TgZ(429,"th"),e._uU(430,"+"),e.qZA(),e._UZ(431,"th",11),e.TgZ(432,"th"),e._uU(433,"|"),e.qZA()(),e.TgZ(434,"tr")(435,"th"),e._uU(436,"Lateral affr."),e.qZA(),e.TgZ(437,"th"),e._uU(438,"|"),e.qZA(),e._UZ(439,"th",8),e.TgZ(440,"th"),e._uU(441,"|"),e.qZA(),e.TgZ(442,"th",22)(443,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(444,"th"),e._uU(445,"|"),e.qZA(),e._UZ(446,"th",11),e.TgZ(447,"th"),e._uU(448,"|"),e.qZA(),e.TgZ(449,"th",11)(450,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(451,"th"),e._uU(452,"|"),e.qZA(),e.TgZ(453,"th",11)(454,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(455,"th"),e._uU(456,"|"),e.qZA(),e._UZ(457,"th",8),e.TgZ(458,"th"),e._uU(459,"|"),e.qZA()(),e.TgZ(460,"tr"),e._UZ(461,"th",19),e.TgZ(462,"th"),e._uU(463,"+"),e.qZA(),e._UZ(464,"th",8),e.TgZ(465,"th"),e._uU(466,"+"),e.qZA(),e._UZ(467,"th",23),e.TgZ(468,"th"),e._uU(469,"+"),e.qZA(),e._UZ(470,"th",11),e.TgZ(471,"th"),e._uU(472,"+"),e.qZA(),e._UZ(473,"th",13),e.TgZ(474,"th"),e._uU(475,"+"),e.qZA(),e._UZ(476,"th",13),e.TgZ(477,"th"),e._uU(478,"+"),e.qZA(),e._UZ(479,"th",8),e.TgZ(480,"th"),e._uU(481,"|"),e.qZA()(),e.TgZ(482,"tr")(483,"th"),e._uU(484,"Lateral fric."),e.qZA(),e.TgZ(485,"th"),e._uU(486,"|"),e.qZA(),e._UZ(487,"th",8),e.TgZ(488,"th"),e._uU(489,"|"),e.qZA(),e.TgZ(490,"th",22)(491,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(492,"th"),e._uU(493,"|"),e.qZA(),e._UZ(494,"th",24),e.TgZ(495,"th"),e._uU(496,"|"),e.qZA()(),e.TgZ(497,"tr"),e._UZ(498,"th",19),e.TgZ(499,"th"),e._uU(500,"+"),e.qZA(),e._UZ(501,"th",19),e.TgZ(502,"th"),e._uU(503,"+"),e.qZA(),e._UZ(504,"th",25),e.TgZ(505,"th"),e._uU(506,"+"),e.qZA(),e._UZ(507,"th",13),e.TgZ(508,"th"),e._uU(509,"+"),e.qZA(),e._UZ(510,"th",25),e.TgZ(511,"th"),e._uU(512,"+"),e.qZA(),e._UZ(513,"th",13),e.TgZ(514,"th"),e._uU(515,"+"),e.qZA(),e._UZ(516,"th",13),e.TgZ(517,"th"),e._uU(518,"+"),e.qZA(),e._UZ(519,"th",22),e.TgZ(520,"th"),e._uU(521,"|"),e.qZA()(),e.TgZ(522,"tr")(523,"th",26),e._uU(524,"Click"),e.qZA(),e.TgZ(525,"th",26),e._uU(526,"|"),e._UZ(527,"br"),e._uU(528,"|"),e._UZ(529,"br"),e._uU(530,"|"),e._UZ(531,"br"),e._uU(532,"|"),e._UZ(533,"br"),e._uU(534,"|"),e._UZ(535,"br"),e._uU(536,"|"),e._UZ(537,"br"),e._uU(538,"|"),e._UZ(539,"br"),e._uU(540,"|"),e._UZ(541,"br"),e._uU(542,"|"),e._UZ(543,"br"),e._uU(544,"|"),e._UZ(545,"br"),e._uU(546,"|"),e._UZ(547,"br"),e._uU(548,"|"),e._UZ(549,"br"),e._uU(550,"|"),e.qZA(),e.TgZ(551,"th"),e._uU(552,"Tenuis"),e.qZA(),e.TgZ(553,"th"),e._uU(554,"|"),e.qZA(),e.TgZ(555,"th",11)(556,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(557,"th"),e.TgZ(558,"th",11)(559,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(560,"th"),e._uU(561,"|"),e.qZA(),e.TgZ(562,"th")(563,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(564,"th")(565,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(566,"th"),e._uU(567,"|"),e.qZA(),e.TgZ(568,"th",11)(569,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(570,"th"),e.TgZ(571,"th",11)(572,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(573,"th"),e._uU(574,"|"),e.qZA(),e.TgZ(575,"th")(576,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(577,"th")(578,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(579,"th"),e._uU(580,"|"),e.qZA(),e.TgZ(581,"th")(582,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(583,"th")(584,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(585,"th"),e._uU(586,"|"),e.qZA(),e._UZ(587,"th",22),e.TgZ(588,"th"),e._uU(589,"|"),e.qZA()(),e.TgZ(590,"tr"),e._UZ(591,"th",19),e.TgZ(592,"th"),e._uU(593,"+"),e.qZA(),e._UZ(594,"th",25),e.TgZ(595,"th"),e._uU(596,"+"),e.qZA(),e._UZ(597,"th",13),e.TgZ(598,"th"),e._uU(599,"+"),e.qZA(),e._UZ(600,"th",25),e.TgZ(601,"th"),e._uU(602,"+"),e.qZA(),e._UZ(603,"th",13),e.TgZ(604,"th"),e._uU(605,"+"),e.qZA(),e._UZ(606,"th",13),e.TgZ(607,"th"),e._uU(608,"+"),e.qZA(),e._UZ(609,"th",22),e.TgZ(610,"th"),e._uU(611,"|"),e.qZA()(),e.TgZ(612,"tr")(613,"th"),e._uU(614,"Voiced"),e.qZA(),e.TgZ(615,"th"),e._uU(616,"|"),e.qZA(),e.TgZ(617,"th",11)(618,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(619,"th"),e.TgZ(620,"th",11)(621,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(622,"th"),e._uU(623,"|"),e.qZA(),e.TgZ(624,"th")(625,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(626,"th")(627,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(628,"th"),e._uU(629,"|"),e.qZA(),e.TgZ(630,"th",11)(631,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(632,"th"),e.TgZ(633,"th",11)(634,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(635,"th"),e._uU(636,"|"),e.qZA(),e.TgZ(637,"th")(638,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(639,"th")(640,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(641,"th"),e._uU(642,"|"),e.qZA(),e.TgZ(643,"th")(644,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(645,"th")(646,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(647,"th"),e._uU(648,"|"),e.qZA(),e._UZ(649,"th",22),e.TgZ(650,"th"),e._uU(651,"|"),e.qZA()(),e.TgZ(652,"tr"),e._UZ(653,"th",19),e.TgZ(654,"th"),e._uU(655,"+"),e.qZA(),e._UZ(656,"th",25),e.TgZ(657,"th"),e._uU(658,"+"),e.qZA(),e._UZ(659,"th",13),e.TgZ(660,"th"),e._uU(661,"+"),e.qZA(),e._UZ(662,"th",25),e.TgZ(663,"th"),e._uU(664,"+"),e.qZA(),e._UZ(665,"th",13),e.TgZ(666,"th"),e._uU(667,"+"),e.qZA(),e._UZ(668,"th",13),e.TgZ(669,"th"),e._uU(670,"+"),e.qZA(),e._UZ(671,"th",13),e.TgZ(672,"th"),e._uU(673,"+"),e.qZA(),e._UZ(674,"th",8),e.TgZ(675,"th"),e._uU(676,"|"),e.qZA()(),e.TgZ(677,"tr")(678,"th"),e._uU(679,"Nasal"),e.qZA(),e.TgZ(680,"th"),e._uU(681,"|"),e.qZA(),e.TgZ(682,"th",11)(683,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(684,"th"),e.TgZ(685,"th",11)(686,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(687,"th"),e._uU(688,"|"),e.qZA(),e.TgZ(689,"th")(690,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(691,"th")(692,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(693,"th"),e._uU(694,"|"),e.qZA(),e.TgZ(695,"th",11)(696,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(697,"th"),e.TgZ(698,"th",11)(699,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(700,"th"),e._uU(701,"|"),e.qZA(),e.TgZ(702,"th")(703,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(704,"th")(705,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(706,"th"),e._uU(707,"|"),e.qZA(),e.TgZ(708,"th")(709,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(710,"th")(711,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(712,"th"),e._uU(713,"|"),e.qZA(),e.TgZ(714,"th",11)(715,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(716,"th"),e._uU(717,"|"),e.qZA(),e._UZ(718,"th",8),e.TgZ(719,"th"),e._uU(720,"|"),e.qZA()(),e.TgZ(721,"tr"),e._UZ(722,"th",19),e.TgZ(723,"th"),e._uU(724,"+"),e.qZA(),e._UZ(725,"th",25),e.TgZ(726,"th"),e._uU(727,"+"),e.qZA(),e._UZ(728,"th",13),e.TgZ(729,"th"),e._uU(730,"+"),e.qZA(),e._UZ(731,"th",25),e.TgZ(732,"th"),e._uU(733,"+"),e.qZA(),e._UZ(734,"th",13),e.TgZ(735,"th"),e._uU(736,"+"),e.qZA(),e._UZ(737,"th",13),e.TgZ(738,"th"),e._uU(739,"+"),e.qZA(),e._UZ(740,"th",13),e.TgZ(741,"th"),e._uU(742,"+"),e.qZA(),e._UZ(743,"th",8),e.TgZ(744,"th"),e._uU(745,"|"),e.qZA()(),e.TgZ(746,"tr")(747,"th"),e._uU(748,"Tenuis ltrl"),e.qZA(),e.TgZ(749,"th"),e._uU(750,"|"),e.qZA(),e._UZ(751,"th",8),e.TgZ(752,"th"),e._uU(753,"|"),e.qZA(),e._UZ(754,"th"),e.TgZ(755,"th",12)(756,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(757,"th",12)(758,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(759,"th"),e.TgZ(760,"th"),e._uU(761,"|"),e.qZA(),e._UZ(762,"th",24),e.TgZ(763,"th"),e._uU(764,"|"),e.qZA()(),e.TgZ(765,"tr"),e._UZ(766,"th",19),e.TgZ(767,"th"),e._uU(768,"+"),e.qZA(),e._UZ(769,"th",8),e.TgZ(770,"th"),e._uU(771,"+"),e.qZA(),e._UZ(772,"th",23),e.TgZ(773,"th"),e._uU(774,"+"),e.qZA(),e._UZ(775,"th",24),e.TgZ(776,"th"),e._uU(777,"|"),e.qZA()(),e.TgZ(778,"tr")(779,"th"),e._uU(780,"Voiced ltrl"),e.qZA(),e.TgZ(781,"th"),e._uU(782,"|"),e.qZA(),e._UZ(783,"th",8),e.TgZ(784,"th"),e._uU(785,"|"),e.qZA(),e._UZ(786,"th"),e.TgZ(787,"th",12)(788,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(789,"th",12)(790,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(791,"th"),e.TgZ(792,"th"),e._uU(793,"|"),e.qZA(),e._UZ(794,"th",24),e.TgZ(795,"th"),e._uU(796,"|"),e.qZA()(),e.TgZ(797,"tr"),e._UZ(798,"th",19),e.TgZ(799,"th"),e._uU(800,"+"),e.qZA(),e._UZ(801,"th",8),e.TgZ(802,"th"),e._uU(803,"+"),e.qZA(),e._UZ(804,"th",23),e.TgZ(805,"th"),e._uU(806,"+"),e.qZA(),e._UZ(807,"th",24),e.TgZ(808,"th"),e._uU(809,"|"),e.qZA()(),e.TgZ(810,"tr")(811,"th"),e._uU(812,"Nasal ltrl"),e.qZA(),e.TgZ(813,"th"),e._uU(814,"|"),e.qZA(),e._UZ(815,"th",8),e.TgZ(816,"th"),e._uU(817,"|"),e.qZA(),e._UZ(818,"th"),e.TgZ(819,"th",12)(820,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(821,"th",12)(822,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(823,"th"),e.TgZ(824,"th"),e._uU(825,"|"),e.qZA(),e._UZ(826,"th",24),e.TgZ(827,"th"),e._uU(828,"|"),e.qZA()(),e.TgZ(829,"tr"),e._UZ(830,"th",19),e.TgZ(831,"th"),e._uU(832,"+"),e.qZA(),e._UZ(833,"th",19),e.TgZ(834,"th"),e._uU(835,"+"),e.qZA(),e._UZ(836,"th",13),e.TgZ(837,"th"),e._uU(838,"+"),e.qZA(),e._UZ(839,"th",11),e.TgZ(840,"th"),e._uU(841,"+"),e.qZA(),e._UZ(842,"th",23),e.TgZ(843,"th"),e._uU(844,"+"),e.qZA(),e._UZ(845,"th",13),e.TgZ(846,"th"),e._uU(847,"+"),e.qZA(),e._UZ(848,"th",13),e.TgZ(849,"th"),e._uU(850,"+"),e.qZA(),e._UZ(851,"th",13),e.TgZ(852,"th"),e._uU(853,"+"),e.qZA(),e._UZ(854,"th",13),e.TgZ(855,"th"),e._uU(856,"+"),e.qZA(),e._UZ(857,"th",11),e.TgZ(858,"th"),e._uU(859,"|"),e.qZA()(),e.TgZ(860,"tr")(861,"th",12),e._uU(862,"Implosive"),e.qZA(),e.TgZ(863,"th"),e._uU(864,"|"),e.qZA(),e.TgZ(865,"th")(866,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(867,"th")(868,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(869,"th"),e._uU(870,"|"),e.qZA(),e._UZ(871,"th",11),e.TgZ(872,"th"),e._uU(873,"|"),e.qZA(),e._UZ(874,"th"),e.TgZ(875,"th",12)(876,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(877,"th",12)(878,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e._UZ(879,"th"),e.TgZ(880,"th"),e._uU(881,"|"),e.qZA(),e.TgZ(882,"th")(883,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(884,"th")(885,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(886,"th"),e._uU(887,"|"),e.qZA(),e.TgZ(888,"th")(889,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(890,"th")(891,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(892,"th"),e._uU(893,"|"),e.qZA(),e.TgZ(894,"th")(895,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(896,"th")(897,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(898,"th"),e._uU(899,"|"),e.qZA(),e.TgZ(900,"th")(901,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(902,"th")(903,"app-phonetic-btn",21),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()(),e.TgZ(904,"th"),e._uU(905,"|"),e.qZA(),e._UZ(906,"th",11),e.TgZ(907,"th"),e._uU(908,"|"),e.qZA()(),e.TgZ(909,"tr"),e._UZ(910,"th",27),e.TgZ(911,"th"),e._uU(912,"+"),e.qZA()()()()),2&t&&(e.xp6(220),e.Q6J("languageSounds",o.languageSounds)("phonetic","p\u02bc"),e.xp6(7),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0288\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","c\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u02a1\u02bc"),e.xp6(46),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u032a\u0361\u03b8\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u0361s\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u0320\u0361\u0283\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0288\u0361\u0282\u02bc"),e.xp6(7),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u0361x\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u0361\u03c7\u02bc"),e.xp6(46),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0278\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","f\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u03b8\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","s\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0283\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0282\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0255\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","x\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u03c7\u02bc"),e.xp6(49),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u0361\u026c\u02bc"),e.xp6(7),e.Q6J("languageSounds",o.languageSounds)("phonetic","c\u0361\u028e\u031d\u030a\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u0361\u029f\u031d\u030a\u02bc"),e.xp6(37),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u026c\u02bc"),e.xp6(65),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u0298"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u0298"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u01c0"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u01c0"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u01c3"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u01c3"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u203c"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u203c"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u01c2"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u01c2"),e.xp6(34),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u0298"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u0298"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u01c0"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u01c0"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u01c3"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u01c3"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u203c"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u203c"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u01c2"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u01c2"),e.xp6(37),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u0298"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u0298"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u01c0"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u01c0"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u01c3"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u01c3"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u203c"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u203c"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u01c2"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u01c2"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u029e"),e.xp6(41),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u01c1"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u01c1"),e.xp6(30),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u01c1"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u01c1"),e.xp6(30),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u01c1"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u01c1"),e.xp6(44),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0253\u0325"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0253"),e.xp6(8),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0257\u0325\u0325"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0257"),e.xp6(5),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u1d91\u030a"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u1d91"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0284\u030a"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0284"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0260\u030a"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0260"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u029b\u0325"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u029b"))},dependencies:[On,Bl]}),r})(),P1=(()=>{class r{constructor(t){this.languagesService=t}ngOnInit(){this.reloadLanguage()}ngOnChanges(t){t.selectedLanguage&&t.selectedLanguage.currentValue&&this.reloadLanguage()}clicked(t){var o,i,a,d;if(console.log("clicked",t),this.languageSounds&&this.languageSounds.langId){const f=null===(i=null===(o=this.languageSounds)||void 0===o?void 0:o.selectedMainPhonemes)||void 0===i?void 0:i.find(y=>y.phoneme===t);if(f&&f.id)this.languagesService.deleteLanguagePhoneme({phonemeId:f.id}).subscribe(()=>{var y,w;this.languageSounds&&(this.languageSounds.selectedMainPhonemes=null===(w=null===(y=this.languageSounds)||void 0===y?void 0:y.selectedMainPhonemes)||void 0===w?void 0:w.filter(D=>D.id!==f.id))});else{const y=null===(d=null===(a=this.languageSounds)||void 0===a?void 0:a.selectedRestPhonemes)||void 0===d?void 0:d.find(w=>w.phoneme===t);y&&y.id?this.languagesService.deleteLanguagePhoneme({phonemeId:y.id}).subscribe(()=>{var w,D;this.languageSounds&&(this.languageSounds.selectedRestPhonemes=null===(D=null===(w=this.languageSounds)||void 0===w?void 0:w.selectedRestPhonemes)||void 0===D?void 0:D.filter(x=>x.id!==y.id))}):this.languagesService.saveLanguagePhoneme({body:t,languageId:this.languageSounds.langId}).subscribe(w=>{var D,x;null===(x=null===(D=this.languageSounds)||void 0===D?void 0:D.selectedMainPhonemes)||void 0===x||x.push(w)})}}}reloadLanguage(){var t;this.languageSounds=void 0,this.selectedLanguage&&this.selectedLanguage.id&&this.languagesService.getLanguagePhonemes({languageId:null===(t=this.selectedLanguage)||void 0===t?void 0:t.id}).subscribe(o=>{this.languageSounds=o})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ca))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-phonetics"]],inputs:{selectedLanguage:"selectedLanguage"},features:[e.TTD],decls:4,vars:4,consts:[[3,"languageSounds","onClick"]],template:function(t,o){1&t&&(e.TgZ(0,"app-pulmonic-consonants",0),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e.TgZ(1,"app-vowels",0),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e.TgZ(2,"app-non-pulmonic-consonants",0),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA(),e.TgZ(3,"app-other-phonemes",0),e.NdJ("onClick",function(a){return o.clicked(a)}),e.qZA()),2&t&&(e.Q6J("languageSounds",o.languageSounds),e.xp6(1),e.Q6J("languageSounds",o.languageSounds),e.xp6(1),e.Q6J("languageSounds",o.languageSounds),e.xp6(1),e.Q6J("languageSounds",o.languageSounds))},dependencies:[H_,Qf,J_,M1]}),r})();var Nu=(()=>{return(r=Nu||(Nu={})).SoundChange="SOUND_CHANGE",r.WritingSystem="WRITING_SYSTEM",Nu;var r})();let W_=(()=>{class r{constructor(t){this.editMode=!1,this.soundChangesRaw="",this.soundChanges=[],this.soundChangePurpose=t,this.refresh()}ngOnInit(){this.refresh()}soundChangesChanges(t){this.soundChanges=t}soundChangesRawChange(){}cancelSoundChanges(){this.editMode=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Nu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],features:[e.TTD],decls:0,vars:0,template:function(t,o){},encapsulation:2}),r})(),pa=(()=>{class r extends Fl{constructor(t,o){super(t,o)}getAllLanguagesFrom$Response(t){const o=new tt(this.rootUrl,r.GetAllLanguagesFromPath,"get");return t&&o.path("fromId",t.fromId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getAllLanguagesFrom(t){return this.getAllLanguagesFrom$Response(t).pipe((0,K.U)(o=>o.body))}getConnections$Response(t){const o=new tt(this.rootUrl,r.GetConnectionsPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getConnections(t){return this.getConnections$Response(t).pipe((0,K.U)(o=>o.body))}getConnectionFromLang$Response(t){const o=new tt(this.rootUrl,r.GetConnectionFromLangPath,"get");return t&&o.path("fromLangId",t.fromLangId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getConnectionFromLang(t){return this.getConnectionFromLang$Response(t).pipe((0,K.U)(o=>o.body))}getConnectionToLang$Response(t){const o=new tt(this.rootUrl,r.GetConnectionToLangPath,"get");return t&&o.path("toLangId",t.toLangId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getConnectionToLang(t){return this.getConnectionToLang$Response(t).pipe((0,K.U)(o=>o.body))}getConnectionByLangs$Response(t){const o=new tt(this.rootUrl,r.GetConnectionByLangsPath,"get");return t&&(o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{})),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getConnectionByLangs(t){return this.getConnectionByLangs$Response(t).pipe((0,K.U)(o=>o.body))}updateConnectionByLangs$Response(t){const o=new tt(this.rootUrl,r.UpdateConnectionByLangsPath,"post");return t&&(o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:void 0})))}updateConnectionByLangs(t){return this.updateConnectionByLangs$Response(t).pipe((0,K.U)(o=>o.body))}deleteConnectionByLangs$Response(t){const o=new tt(this.rootUrl,r.DeleteConnectionByLangsPath,"delete");return t&&(o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{})),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:void 0})))}deleteConnectionByLangs(t){return this.deleteConnectionByLangs$Response(t).pipe((0,K.U)(o=>o.body))}getLanguageGraph$Response(t){const o=new tt(this.rootUrl,r.GetLanguageGraphPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getLanguageGraph(t){return this.getLanguageGraph$Response(t).pipe((0,K.U)(o=>o.body))}getAllRoutes$Response(t){const o=new tt(this.rootUrl,r.GetAllRoutesPath,"get");return t&&(o.path("fromId",t.fromId,{}),o.path("toId",t.toId,{})),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getAllRoutes(t){return this.getAllRoutes$Response(t).pipe((0,K.U)(o=>o.body))}getSoundChangesByLang$Response(t){const o=new tt(this.rootUrl,r.GetSoundChangesByLangPath,"get");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{})),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getSoundChangesByLang(t){return this.getSoundChangesByLang$Response(t).pipe((0,K.U)(o=>o.body))}getSoundChangesByLangs$Response(t){const o=new tt(this.rootUrl,r.GetSoundChangesByLangsPath,"get");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{})),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getSoundChangesByLangs(t){return this.getSoundChangesByLangs$Response(t).pipe((0,K.U)(o=>o.body))}getSoundChangesRawLinesByLang$Response(t){const o=new tt(this.rootUrl,r.GetSoundChangesRawLinesByLangPath,"get");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{})),this.http.request(o.build({responseType:"text",accept:"text/plain"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getSoundChangesRawLinesByLang(t){return this.getSoundChangesRawLinesByLang$Response(t).pipe((0,K.U)(o=>o.body))}saveSoundChangesRawLinesByLang$Response(t){const o=new tt(this.rootUrl,r.SaveSoundChangesRawLinesByLangPath,"post");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:void 0})))}saveSoundChangesRawLinesByLang(t){return this.saveSoundChangesRawLinesByLang$Response(t).pipe((0,K.U)(o=>o.body))}getSoundChangesRawLinesByLangs$Response(t){const o=new tt(this.rootUrl,r.GetSoundChangesRawLinesByLangsPath,"get");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{})),this.http.request(o.build({responseType:"text",accept:"text/plain"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getSoundChangesRawLinesByLangs(t){return this.getSoundChangesRawLinesByLangs$Response(t).pipe((0,K.U)(o=>o.body))}saveSoundChangesRawLinesByLangs$Response(t){const o=new tt(this.rootUrl,r.SaveSoundChangesRawLinesByLangsPath,"post");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:void 0})))}saveSoundChangesRawLinesByLangs(t){return this.saveSoundChangesRawLinesByLangs$Response(t).pipe((0,K.U)(o=>o.body))}getSoundChangeRaw$Response(t){const o=new tt(this.rootUrl,r.GetSoundChangeRawPath,"get");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"text/plain"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getSoundChangeRaw(t){return this.getSoundChangeRaw$Response(t).pipe((0,K.U)(o=>o.body))}updateSoundChange$Response(t){const o=new tt(this.rootUrl,r.UpdateSoundChangePath,"post");return t&&(o.path("id",t.id,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:void 0})))}updateSoundChange(t){return this.updateSoundChange$Response(t).pipe((0,K.U)(o=>o.body))}getSoundChange$Response(t){const o=new tt(this.rootUrl,r.GetSoundChangePath,"get");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getSoundChange(t){return this.getSoundChange$Response(t).pipe((0,K.U)(o=>o.body))}deleteSoundChange$Response(t){const o=new tt(this.rootUrl,r.DeleteSoundChangePath,"delete");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:void 0})))}deleteSoundChange(t){return this.deleteSoundChange$Response(t).pipe((0,K.U)(o=>o.body))}trace$Response(t){const o=new tt(this.rootUrl,r.TracePath,"post");return t&&(o.path("word",t.word,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}trace(t){return this.trace$Response(t).pipe((0,K.U)(o=>o.body))}getAllWordsWithEvolutions$Response(t){const o=new tt(this.rootUrl,r.GetAllWordsWithEvolutionsPath,"get");return t&&o.query("filter",t.filter,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getAllWordsWithEvolutions(t){return this.getAllWordsWithEvolutions$Response(t).pipe((0,K.U)(o=>o.body))}addBorrowedWord$Response(t){const o=new tt(this.rootUrl,r.AddBorrowedWordPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}addBorrowedWord(t){return this.addBorrowedWord$Response(t).pipe((0,K.U)(o=>o.body))}getAllWords1$Response(t){const o=new tt(this.rootUrl,r.GetAllWords1Path,"get");return t&&o.query("filter",t.filter,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getAllWords1(t){return this.getAllWords1$Response(t).pipe((0,K.U)(o=>o.body))}addEvolvedWord$Response(t){const o=new tt(this.rootUrl,r.AddEvolvedWordPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}addEvolvedWord(t){return this.addEvolvedWord$Response(t).pipe((0,K.U)(o=>o.body))}addEvolvedWord1$Response(t){const o=new tt(this.rootUrl,r.AddEvolvedWord1Path,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}addEvolvedWord1(t){return this.addEvolvedWord1$Response(t).pipe((0,K.U)(o=>o.body))}}return r.GetAllLanguagesFromPath="/api/evolve/allfrom/{fromId}",r.GetConnectionsPath="/api/evolve/connection/all",r.GetConnectionFromLangPath="/api/evolve/connection/from/{fromLangId}",r.GetConnectionToLangPath="/api/evolve/connection/to/{toLangId}",r.GetConnectionByLangsPath="/api/evolve/connection/{fromLangId}/{toLangId}",r.UpdateConnectionByLangsPath="/api/evolve/connection/{fromLangId}/{toLangId}",r.DeleteConnectionByLangsPath="/api/evolve/connection/{fromLangId}/{toLangId}",r.GetLanguageGraphPath="/api/evolve/graph",r.GetAllRoutesPath="/api/evolve/routes/{fromId}/{toId}",r.GetSoundChangesByLangPath="/api/evolve/sc/lang/{soundChangePurpose}/{fromLangId}",r.GetSoundChangesByLangsPath="/api/evolve/sc/lang/{soundChangePurpose}/{fromLangId}/{toLangId}",r.GetSoundChangesRawLinesByLangPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}",r.SaveSoundChangesRawLinesByLangPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}",r.GetSoundChangesRawLinesByLangsPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}/{toLangId}",r.SaveSoundChangesRawLinesByLangsPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}/{toLangId}",r.GetSoundChangeRawPath="/api/evolve/sc/raw/{id}",r.UpdateSoundChangePath="/api/evolve/sc/raw/{id}",r.GetSoundChangePath="/api/evolve/sc/{id}",r.DeleteSoundChangePath="/api/evolve/sc/{id}",r.TracePath="/api/evolve/trace/{word}",r.GetAllWordsWithEvolutionsPath="/api/evolve/words",r.AddBorrowedWordPath="/api/evolve/words/borrow",r.GetAllWords1Path="/api/evolve/words/borrowed",r.AddEvolvedWordPath="/api/evolve/words/evolve",r.AddEvolvedWord1Path="/api/evolve/words/evolve/all",r.\u0275fac=function(t){return new(t||r)(e.LFG(Qi),e.LFG(la))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const O1=["app-sound-changes-table-row",""];function R1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,">"),e.qZA())}function L1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"\xbb"),e.qZA())}function F1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"\xab"),e.qZA())}function RA(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th",2),e._uU(2),e.qZA(),e.TgZ(3,"th",0),e.YNc(4,R1,2,0,"span",1),e.YNc(5,L1,2,0,"span",1),e.YNc(6,F1,2,0,"span",1),e.qZA(),e.TgZ(7,"th",2),e._uU(8),e.qZA(),e.TgZ(9,"th",0),e._uU(10),e.qZA(),e.TgZ(11,"th",3),e._uU(12),e.qZA(),e.TgZ(13,"th",0),e._uU(14),e.qZA(),e.TgZ(15,"th",4),e._uU(16),e.qZA(),e.TgZ(17,"th",0),e._uU(18,"|"),e.qZA(),e.TgZ(19,"th",0)(20,"a",5),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editSoundChange())}),e._uU(21,"e"),e.qZA()(),e.TgZ(22,"th",0),e._uU(23,"|"),e.qZA(),e.TgZ(24,"th",0)(25,"a",6),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteSoundChanges())}),e._uU(26,"x"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(2),e.Oqu(t.soundChange.soundFrom),e.xp6(2),e.Q6J("ngIf","REPLACE_ALL"==t.soundChange.type),e.xp6(1),e.Q6J("ngIf","REPLACE_FIRST"==t.soundChange.type),e.xp6(1),e.Q6J("ngIf","REPLACE_LAST"==t.soundChange.type),e.xp6(2),e.Oqu(t.soundChange.soundTo),e.xp6(2),e.Oqu(t.soundChange.environmentAfter||t.soundChange.environmentBefore?"/":""),e.xp6(2),e.Oqu(t.soundChange.environmentBefore),e.xp6(2),e.Oqu(t.soundChange.environmentAfter||t.soundChange.environmentBefore?"_":""),e.xp6(2),e.Oqu(t.soundChange.environmentAfter)}}function LA(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th",7)(2,"input",8),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.soundChangeRaw=i)}),e.qZA()(),e.TgZ(3,"th",0),e._uU(4,"|"),e.qZA(),e.TgZ(5,"th",0)(6,"a",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveSoundChange())}),e._uU(7,"s"),e.qZA()(),e.TgZ(8,"th",0),e._uU(9,"|"),e.qZA(),e.TgZ(10,"th",0)(11,"a",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelSoundChanges())}),e._uU(12,"x"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.soundChangeRaw)}}let FA=(()=>{class r{constructor(t){this.languagesEvolutionService=t,this.soundChangeDeleted=new e.vpe,this.editMode=!1}ngOnInit(){}editSoundChange(){console.log(this.soundChange),this.soundChange.id&&this.languagesEvolutionService.getSoundChangeRaw({id:this.soundChange.id}).subscribe(t=>{this.soundChangeRaw=t,this.editMode=!0})}deleteSoundChanges(){console.log(this.soundChange),this.soundChange.id&&this.languagesEvolutionService.deleteSoundChange({id:this.soundChange.id}).subscribe(()=>{console.log("deleted"),this.soundChangeDeleted.emit(this.soundChange)})}saveSoundChange(){if(this.soundChange.id&&this.soundChangeRaw){const t=this.soundChange.id;this.languagesEvolutionService.updateSoundChange({id:t,body:this.soundChangeRaw}).subscribe(()=>{console.log("saved"),this.languagesEvolutionService.getSoundChange({id:t}).subscribe(o=>{this.soundChange=o,this.editMode=!1})})}}cancelSoundChanges(){this.editMode=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(pa))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tr","app-sound-changes-table-row",""]],inputs:{soundChange:"soundChange"},outputs:{soundChangeDeleted:"soundChangeDeleted"},attrs:O1,decls:6,vars:2,consts:[[1,"border"],[4,"ngIf"],[1,"text-white","sound-change-text"],[1,"text-white","sound-change-before"],[1,"text-white","sound-change-after"],[1,"text-yellow-dull",3,"click"],[1,"text-red-dull",3,"click"],["colspan","7"],[3,"ngModel","ngModelChange"],[1,"text-green-dull",3,"click"],[1,"text-grey-dull",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"th",0),e._uU(1,"|"),e.qZA(),e.YNc(2,RA,27,9,"ng-container",1),e.YNc(3,LA,13,1,"ng-container",1),e.TgZ(4,"th",0),e._uU(5,"|"),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",!o.editMode),e.xp6(1),e.Q6J("ngIf",o.editMode))},dependencies:[St,Un,xn,un],styles:["input[_ngcontent-%COMP%]{width:calc(100% - 20px);border:none}.sound-change-text[_ngcontent-%COMP%]{width:1%;white-space:nowrap;padding-left:8px;padding-right:8px}.sound-change-before[_ngcontent-%COMP%]{width:1%;white-space:nowrap;padding-left:8px;text-align:right}.sound-change-after[_ngcontent-%COMP%]{text-align:left}"]}),r})();function q1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr",6),e.NdJ("soundChangeDeleted",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteSoundChange(i))}),e.qZA()}2&r&&e.Q6J("soundChange",n.$implicit)}function z_(r,n){1&r&&(e.TgZ(0,"tr")(1,"th",7),e._uU(2,"+"),e.qZA(),e._UZ(3,"th",8),e.TgZ(4,"th",7),e._uU(5,"+"),e.qZA(),e._UZ(6,"th",9),e.TgZ(7,"th",7),e._uU(8,"+"),e.qZA(),e._UZ(9,"th",9),e.TgZ(10,"th",7),e._uU(11,"+"),e.qZA()())}let Q_=(()=>{class r{constructor(){this.soundChangesChanges=new e.vpe}ngOnInit(){}deleteSoundChange(t){console.log("deleteSoundChange",t),this.soundChanges=this.soundChanges.filter(o=>o.id!==t.id),this.soundChangesChanges.emit(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-sound-changes-table"]],inputs:{soundChanges:"soundChanges"},outputs:{soundChangesChanges:"soundChangesChanges"},decls:18,vars:2,consts:[["span","1",1,"border",2,"width","8px"],["span","1"],["span","1",2,"width","auto"],["span","1",2,"width","16px"],["class","table-content","app-sound-changes-table-row","",3,"soundChange","soundChangeDeleted",4,"ngFor","ngForOf"],[4,"ngIf"],["app-sound-changes-table-row","",1,"table-content",3,"soundChange","soundChangeDeleted"],[1,"border"],["app-horizontal-dash","","colspan","7",1,"border"],["app-horizontal-dash","",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0)(5,"col",1)(6,"col",0)(7,"col",1)(8,"col",0)(9,"col",2)(10,"col",0)(11,"col",3)(12,"col",0)(13,"col",3)(14,"col",0),e.qZA(),e.TgZ(15,"tbody"),e.YNc(16,q1,1,1,"tr",4),e.YNc(17,z_,12,0,"tr",5),e.qZA()()),2&t&&(e.xp6(16),e.Q6J("ngForOf",o.soundChanges),e.xp6(1),e.Q6J("ngIf",o.soundChanges.length))},dependencies:[ut,St,On,FA]}),r})(),K_=(()=>{class r{constructor(){this.soundChangesRawChange=new e.vpe,this.math=Math}ngOnInit(){}print(){console.log(this.soundChangesRaw)}soundChangesRawChangeFn(){this.soundChangesRawChange.emit(this.soundChangesRaw)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-sound-changes-edit"]],inputs:{soundChangesRaw:"soundChangesRaw"},outputs:{soundChangesRawChange:"soundChangesRawChange"},decls:18,vars:2,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["app-vertical-dash","",1,"border"],[2,"text-align","left"],[3,"rows","ngModel","ngModelChange"],[1,"border"],["app-horizontal-dash","",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0),e.qZA(),e.TgZ(5,"tbody")(6,"tr"),e._UZ(7,"th",2),e.TgZ(8,"th",3)(9,"textarea",4),e.NdJ("ngModelChange",function(a){return o.soundChangesRaw=a})("ngModelChange",function(){return o.soundChangesRawChangeFn()}),e.qZA()(),e.TgZ(10,"th",2),e._uU(11,"|"),e.qZA()(),e.TgZ(12,"tr")(13,"th",5),e._uU(14,"+"),e.qZA(),e._UZ(15,"th",6),e.TgZ(16,"th",5),e._uU(17,"+"),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("rows",o.math.min(30,110))("ngModel",o.soundChangesRaw))},dependencies:[Un,xn,un,On,zr],styles:["textarea[_ngcontent-%COMP%]{margin-top:8px;width:calc(100% - 16px)}"]}),r})();function V1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-table",8),e.NdJ("soundChangesChanges",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.soundChangesChanges)}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChanges",t.soundChanges)}}function B1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-edit",9),e.NdJ("soundChangesRawChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.soundChangesRaw=i)})("soundChangesRawChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.soundChangesRawChange())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChangesRaw",t.soundChangesRaw)}}function j1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",7),e._uU(1,"[ "),e.TgZ(2,"a",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"E"),e.qZA(),e._uU(5,"dit"),e.qZA(),e._uU(6," ]-"),e.qZA()}}function $1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",7),e._uU(1,"[ "),e.TgZ(2,"a",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"S"),e.qZA(),e._uU(5,"ave"),e.qZA(),e._uU(6," ]-["),e.TgZ(7,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelSoundChanges())}),e._uU(8," x "),e.qZA(),e._uU(9,"]-"),e.qZA()}}let G1=(()=>{class r extends W_{constructor(t){super(Nu.WritingSystem),this.languagesEvolutionService=t}ngOnChanges(t){t.selectedLanguage&&this.refresh()}refresh(){this.selectedLanguage&&this.selectedLanguage.id&&this.languagesEvolutionService.getSoundChangesByLang({fromLangId:this.selectedLanguage.id,soundChangePurpose:this.soundChangePurpose}).subscribe(t=>{this.soundChanges=t})}editSoundChanges(){this.selectedLanguage&&this.selectedLanguage.id&&this.languagesEvolutionService.getSoundChangesRawLinesByLang({fromLangId:this.selectedLanguage.id,soundChangePurpose:this.soundChangePurpose}).subscribe(t=>{this.soundChangesRaw=t,console.log("editSoundChanges soundChangesRaw",this.soundChangesRaw),this.editMode=!0})}saveSoundChanges(){this.selectedLanguage&&this.selectedLanguage.id&&this.languagesEvolutionService.saveSoundChangesRawLinesByLang({fromLangId:this.selectedLanguage.id,body:this.soundChangesRaw,soundChangePurpose:this.soundChangePurpose}).subscribe(()=>{this.editMode=!1,this.refresh()})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(pa))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-writing"]],inputs:{selectedLanguage:"selectedLanguage"},features:[e.qOj,e.TTD],decls:14,vars:4,consts:[[3,"soundChanges","soundChangesChanges",4,"ngIf"],[3,"soundChangesRaw","soundChangesRawChange",4,"ngIf"],["span","1",2,"width","auto"],["span","1",1,"border",2,"width","max-content"],["span","1",1,"border",2,"width","8px"],["app-horizontal-dash","",1,"border"],["class","border",4,"ngIf"],[1,"border"],[3,"soundChanges","soundChangesChanges"],[3,"soundChangesRaw","soundChangesRawChange"],[1,"text-yellow-dull",3,"click"],[1,"text-green-dull",3,"click"],[1,"text-red-dull",3,"click"]],template:function(t,o){1&t&&(e.YNc(0,V1,1,1,"app-sound-changes-table",0),e.YNc(1,B1,1,1,"app-sound-changes-edit",1),e.TgZ(2,"table")(3,"colgroup"),e._UZ(4,"col",2)(5,"col",3)(6,"col",4),e.qZA(),e.TgZ(7,"tbody")(8,"tr"),e._UZ(9,"th",5),e.YNc(10,j1,7,0,"th",6),e.YNc(11,$1,10,0,"th",6),e.TgZ(12,"th",7),e._uU(13,"+"),e.qZA()()()()),2&t&&(e.Q6J("ngIf",!o.editMode&&o.selectedLanguage&&o.selectedLanguage.id),e.xp6(1),e.Q6J("ngIf",o.editMode&&o.selectedLanguage&&o.selectedLanguage.id),e.xp6(9),e.Q6J("ngIf",!o.editMode),e.xp6(1),e.Q6J("ngIf",o.editMode))},dependencies:[St,On,Q_,K_]}),r})(),Uu=(()=>{class r extends Fl{constructor(t,o){super(t,o)}getAllCategories$Response(t){const o=new tt(this.rootUrl,r.GetAllCategoriesPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getAllCategories(t){return this.getAllCategories$Response(t).pipe((0,K.U)(o=>o.body))}saveGrammaticalCategory$Response(t){const o=new tt(this.rootUrl,r.SaveGrammaticalCategoryPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:parseFloat(String(i.body))})))}saveGrammaticalCategory(t){return this.saveGrammaticalCategory$Response(t).pipe((0,K.U)(o=>o.body))}saveGrammaticalCategoryConnection$Response(t){const o=new tt(this.rootUrl,r.SaveGrammaticalCategoryConnectionPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:parseFloat(String(i.body))})))}saveGrammaticalCategoryConnection(t){return this.saveGrammaticalCategoryConnection$Response(t).pipe((0,K.U)(o=>o.body))}deleteGrammaticalCategoryConnection$Response(t){const o=new tt(this.rootUrl,r.DeleteGrammaticalCategoryConnectionPath,"delete");return t&&o.path("connectionId",t.connectionId,{}),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:void 0})))}deleteGrammaticalCategoryConnection(t){return this.deleteGrammaticalCategoryConnection$Response(t).pipe((0,K.U)(o=>o.body))}saveGrammaticalCategoryValue$Response(t){const o=new tt(this.rootUrl,r.SaveGrammaticalCategoryValuePath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:parseFloat(String(i.body))})))}saveGrammaticalCategoryValue(t){return this.saveGrammaticalCategoryValue$Response(t).pipe((0,K.U)(o=>o.body))}replaceGrammaticalValuesByWord$Response(t){const o=new tt(this.rootUrl,r.ReplaceGrammaticalValuesByWordPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}replaceGrammaticalValuesByWord(t){return this.replaceGrammaticalValuesByWord$Response(t).pipe((0,K.U)(o=>o.body))}removeGrammaticalValuesByWord$Response(t){const o=new tt(this.rootUrl,r.RemoveGrammaticalValuesByWordPath,"delete");return t&&(o.path("wordId",t.wordId,{}),o.path("categoryId",t.categoryId,{})),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:void 0})))}removeGrammaticalValuesByWord(t){return this.removeGrammaticalValuesByWord$Response(t).pipe((0,K.U)(o=>o.body))}saveGrammaticalCategoryValueConnection$Response(t){const o=new tt(this.rootUrl,r.SaveGrammaticalCategoryValueConnectionPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:parseFloat(String(i.body))})))}saveGrammaticalCategoryValueConnection(t){return this.saveGrammaticalCategoryValueConnection$Response(t).pipe((0,K.U)(o=>o.body))}removeGrammaticalCategoryValueConnection$Response(t){const o=new tt(this.rootUrl,r.RemoveGrammaticalCategoryValueConnectionPath,"delete");return t&&o.path("gcvcId",t.gcvcId,{}),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:void 0})))}removeGrammaticalCategoryValueConnection(t){return this.removeGrammaticalCategoryValueConnection$Response(t).pipe((0,K.U)(o=>o.body))}getCategoryValuesByCategory$Response(t){const o=new tt(this.rootUrl,r.GetCategoryValuesByCategoryPath,"get");return t&&o.path("categoryId",t.categoryId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getCategoryValuesByCategory(t){return this.getCategoryValuesByCategory$Response(t).pipe((0,K.U)(o=>o.body))}getCategoryValuesByCategoryAndLang$Response(t){const o=new tt(this.rootUrl,r.GetCategoryValuesByCategoryAndLangPath,"get");return t&&(o.path("categoryId",t.categoryId,{}),o.path("langId",t.langId,{})),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getCategoryValuesByCategoryAndLang(t){return this.getCategoryValuesByCategoryAndLang$Response(t).pipe((0,K.U)(o=>o.body))}getGrammaticalCategoryConnectionsForLang$Response(t){const o=new tt(this.rootUrl,r.GetGrammaticalCategoryConnectionsForLangPath,"get");return t&&(o.path("categoryId",t.categoryId,{}),o.path("languageId",t.languageId,{})),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getGrammaticalCategoryConnectionsForLang(t){return this.getGrammaticalCategoryConnectionsForLang$Response(t).pipe((0,K.U)(o=>o.body))}getGrammaticalValuesConnectionByLang$Response(t){const o=new tt(this.rootUrl,r.GetGrammaticalValuesConnectionByLangPath,"get");return t&&o.path("langId",t.langId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getGrammaticalValuesConnectionByLang(t){return this.getGrammaticalValuesConnectionByLang$Response(t).pipe((0,K.U)(o=>o.body))}getGrammaticalCategoryConnectionsForLangAndPos$Response(t){const o=new tt(this.rootUrl,r.GetGrammaticalCategoryConnectionsForLangAndPosPath,"get");return t&&(o.path("posId",t.posId,{}),o.path("languageId",t.languageId,{})),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getGrammaticalCategoryConnectionsForLangAndPos(t){return this.getGrammaticalCategoryConnectionsForLangAndPos$Response(t).pipe((0,K.U)(o=>o.body))}getGrammaticalValuesByWord$Response(t){const o=new tt(this.rootUrl,r.GetGrammaticalValuesByWordPath,"get");return t&&o.path("wordId",t.wordId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getGrammaticalValuesByWord(t){return this.getGrammaticalValuesByWord$Response(t).pipe((0,K.U)(o=>o.body))}}return r.GetAllCategoriesPath="/api/category",r.SaveGrammaticalCategoryPath="/api/category",r.SaveGrammaticalCategoryConnectionPath="/api/category/connection",r.DeleteGrammaticalCategoryConnectionPath="/api/category/connection/{connectionId}",r.SaveGrammaticalCategoryValuePath="/api/category/value",r.ReplaceGrammaticalValuesByWordPath="/api/category/valuebyword/replace",r.RemoveGrammaticalValuesByWordPath="/api/category/valuebyword/{wordId}/{categoryId}",r.SaveGrammaticalCategoryValueConnectionPath="/api/category/valuelangconnection",r.RemoveGrammaticalCategoryValueConnectionPath="/api/category/valuelangconnection/{gcvcId}",r.GetCategoryValuesByCategoryPath="/api/category/{categoryId}/values",r.GetCategoryValuesByCategoryAndLangPath="/api/category/{categoryId}/{langId}/values",r.GetGrammaticalCategoryConnectionsForLangPath="/api/category/{categoryId}/{languageId}/connections",r.GetGrammaticalValuesConnectionByLangPath="/api/category/{langId}/valuelangconnection",r.GetGrammaticalCategoryConnectionsForLangAndPosPath="/api/category/{posId}/{languageId}/connectionspos",r.GetGrammaticalValuesByWordPath="/api/category/{wordId}/valuebyword",r.\u0275fac=function(t){return new(t||r)(e.LFG(Qi),e.LFG(la))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Sx(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1," [ "),e.TgZ(2,"a",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.saveChanges())}),e._uU(3,"Update"),e.qZA(),e._uU(4," ] "),e.qZA()}}function qA(r,n){1&r&&(e.TgZ(0,"span",17),e._uU(1,"[ ]"),e.qZA())}function VA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.connect(i))}),e._uU(1,"[x]"),e.qZA()}}function H1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.removeConnection(i))}),e._uU(1,"["),e.TgZ(2,"span",19),e._uU(3,"o"),e.qZA(),e._uU(4,"]"),e.qZA()}}function BA(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",6),e._uU(2),e.qZA(),e._UZ(3,"th",7),e.TgZ(4,"th",8),e.YNc(5,qA,2,0,"span",14),e.YNc(6,VA,2,0,"a",15),e.YNc(7,H1,5,0,"a",15),e.TgZ(8,"span",16),e._uU(9),e.qZA()(),e._UZ(10,"th",11),e.qZA()),2&r){const t=n.$implicit,o=n.index,i=e.oxw(2);let a;e.xp6(2),e.Oqu(0==o?"Classes":""),e.xp6(3),e.Q6J("ngIf",!(null!=i.selectedLanguage&&i.selectedLanguage.id)),e.xp6(1),e.Q6J("ngIf",!i.isConnected(t.id)&&(null==i.selectedLanguage?null:i.selectedLanguage.id)),e.xp6(1),e.Q6J("ngIf",i.isConnected(t.id)&&(null==i.selectedLanguage?null:i.selectedLanguage.id)),e.xp6(1),e.Q6J("ngClass",null!=(a=i.getLanguagePos(t))&&a.connectedToLanguage?"text-white":null!=(a=i.getLanguagePos(t))&&a.usedInLanguage?"text-yellow-dull":"text-grey-dull"),e.xp6(1),e.hij(" ",t.name,"")}}function Pr(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"table",1)(1,"colgroup"),e._UZ(2,"col",2)(3,"col",3)(4,"col",4)(5,"col",5),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",6),e._uU(9,"Name"),e.qZA(),e._UZ(10,"th",7),e.TgZ(11,"th",8)(12,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedCategory.name=i)}),e.qZA(),e.YNc(13,Sx,5,0,"span",10),e.qZA(),e._UZ(14,"th",11),e.qZA(),e.YNc(15,BA,11,6,"tr",12),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(12),e.Q6J("ngModel",t.selectedCategory.name),e.xp6(1),e.Q6J("ngIf",t.canUpdate),e.xp6(2),e.Q6J("ngForOf",t.pos)}}let J1=(()=>{class r extends Rl{constructor(t,o){super(),this.categoryService=t,this.posService=o,this.gcc=[],this.pos=[],this.lp=[],this.editComment=!1,this.canUpdate=!1}ngOnInit(){var t,o;super.ngOnInit(),this.posService.getAllPos().subscribe(i=>this.pos=i.sort((a,d)=>a.name?a.name.localeCompare(d.name?d.name:""):-1)),this.selectedLanguage&&this.selectedLanguage.id&&this.reloadPos(this.selectedLanguage.id),this.reloadConnections(null===(t=this.selectedCategory)||void 0===t?void 0:t.id,null===(o=this.selectedLanguage)||void 0===o?void 0:o.id)}ngOnChanges(t){var o,i,a,d,f,y,w;null!==(o=t.selectedLanguage)&&void 0!==o&&o.currentValue&&(console.log(t,null===(i=t.selectedLanguage)||void 0===i?void 0:i.currentValue.id),null!==(a=t.selectedLanguage)&&void 0!==a&&a.currentValue.id&&this.reloadPos(t.selectedLanguage.currentValue.id),this.reloadConnections(null===(d=this.selectedCategory)||void 0===d?void 0:d.id,t.selectedLanguage.currentValue.id)),null!==(f=t.selectedCategory)&&void 0!==f&&f.currentValue&&(console.log(t,null===(y=t.selectedCategory)||void 0===y?void 0:y.currentValue.id),this.reloadConnections(t.selectedCategory.currentValue.id,null===(w=this.selectedLanguage)||void 0===w?void 0:w.id))}saveChanges(){this.selectedCategory&&this.categoryService.saveGrammaticalCategory({body:this.selectedCategory}).subscribe(t=>{this.canUpdate=!1})}clickEditComment(){this.editComment=!0}clickSaveComment(){this.editComment=!1}getLanguagePos(t){if(this.selectedLanguage)return this.lp.find(o=>{var i;return(null==o?void 0:o.languageId)===(null===(i=this.selectedLanguage)||void 0===i?void 0:i.id)&&(null==o?void 0:o.posId)===t.id})}isConnected(t){return!!t&&!!this.gcc.find(o=>{var i;return(null===(i=o.pos)||void 0===i?void 0:i.id)===t})}connect(t){const o={grammaticalCategory:this.selectedCategory,language:this.selectedLanguage,pos:t};this.categoryService.saveGrammaticalCategoryConnection({body:o}).subscribe(i=>{o.id=i,this.gcc.push(o)})}removeConnection(t){const o=this.gcc.find(i=>{var a;return(null===(a=i.pos)||void 0===a?void 0:a.id)===t.id});null!=o&&o.id&&this.categoryService.deleteGrammaticalCategoryConnection({connectionId:o.id}).subscribe(()=>{this.gcc=this.gcc.filter(i=>{var a;return(null===(a=i.pos)||void 0===a?void 0:a.id)!==t.id})})}reloadPos(t){this.posService.getPosByLanguage({languageId:t}).subscribe(o=>this.lp=o)}reloadConnections(t,o){t&&o&&this.categoryService.getGrammaticalCategoryConnectionsForLang({categoryId:t,languageId:o}).subscribe(i=>{this.gcc=i})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Uu),e.Y36(Ei))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-category-details"]],inputs:{selectedCategory:"selectedCategory"},features:[e.qOj,e.TTD],decls:1,vars:1,consts:[["style","width: 100%",4,"ngIf"],[2,"width","100%"],["span","1",2,"width","200px","text-align","right"],["span","1",1,"border",2,"width","32px"],["span","1",2,"width","auto"],["span","1",2,"width","81px"],[2,"text-align","right"],[1,"border"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"border",2,"text-align","right"],[4,"ngFor","ngForOf"],[1,"text-green-dull",3,"click"],["class","text-grey-dull",4,"ngIf"],["class","text-grey-dull",3,"click",4,"ngIf"],[3,"ngClass"],[1,"text-grey-dull"],[1,"text-grey-dull",3,"click"],[1,"text-green-dull"]],template:function(t,o){1&t&&e.YNc(0,Pr,16,3,"table",0),2&t&&e.Q6J("ngIf",o.selectedCategory&&o.selectedCategory.id)},dependencies:[er,ut,St,Un,xn,un]}),r})();function jA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1," [ "),e.TgZ(2,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.saveChanges())}),e._uU(3,"Update"),e.qZA(),e._uU(4," ] "),e.qZA()}}function $A(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"table",1)(1,"colgroup"),e._UZ(2,"col",2)(3,"col",3)(4,"col",4)(5,"col",5),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",6),e._uU(9,"Name"),e.qZA(),e._UZ(10,"th",7),e.TgZ(11,"th",8)(12,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedValue.name=i)}),e.qZA(),e.YNc(13,jA,5,0,"span",10),e.qZA(),e._UZ(14,"th",11),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(12),e.Q6J("ngModel",t.selectedValue.name),e.xp6(1),e.Q6J("ngIf",t.canUpdate)}}let W1=(()=>{class r{constructor(t){this.categoryService=t,this.canUpdate=!1}ngOnInit(){}saveChanges(){this.selectedValue&&this.categoryService.saveGrammaticalCategoryValue({body:this.selectedValue}).subscribe(t=>{this.canUpdate=!1})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Uu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-category-value-details"]],inputs:{selectedValue:"selectedValue"},decls:1,vars:1,consts:[["style","width: 100%",4,"ngIf"],[2,"width","100%"],["span","1",2,"width","200px","text-align","right"],["span","1",1,"border",2,"width","32px"],["span","1",2,"width","auto"],["span","1",2,"width","81px"],[2,"text-align","right"],[1,"border"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"border",2,"text-align","right"],[1,"text-green-dull",3,"click"]],template:function(t,o){1&t&&e.YNc(0,$A,15,2,"table",0),2&t&&e.Q6J("ngIf",o.selectedValue&&o.selectedValue.id)},dependencies:[St,Un,xn,un]}),r})();function GA(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th",9),e._uU(2,"x "),e.qZA(),e.TgZ(3,"th",10),e._uU(4,"|"),e.qZA(),e.TgZ(5,"th",11)(6,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.changeCategory(a.categories[i]))}),e._uU(7),e.qZA()(),e.TgZ(8,"th",11),e._uU(9),e.qZA(),e.BQk()}if(2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngClass",(null==o.selectedCategory?null:o.selectedCategory.id)===o.categories[t].id?"selectedTh":""),e.xp6(4),e.Q6J("ngClass",(null==o.selectedCategory?null:o.selectedCategory.id)===o.categories[t].id?"selectedTh":""),e.xp6(1),e.Q6J("ngClass",(null==o.selectedCategory?null:o.selectedCategory.id)===o.categories[t].id?"text-main":"text-grey"),e.xp6(1),e.Oqu(o.categories[t].name),e.xp6(1),e.Q6J("ngClass",(null==o.selectedCategory?null:o.selectedCategory.id)===o.categories[t].id?"selectedTh":""),e.xp6(1),e.Oqu((null==o.selectedCategory?null:o.selectedCategory.id)===o.categories[t].id?"":"|")}}function z1(r,n){1&r&&(e.ynx(0),e._UZ(1,"th",13),e.TgZ(2,"th"),e._uU(3,"+"),e.qZA(),e.BQk())}function Q1(r,n){if(1&r){const t=e.EpF();e.ynx(0),e._UZ(1,"th",14),e.TgZ(2,"th")(3,"a",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.addNewCategory())}),e._uU(4,"[ + ]"),e.qZA()(),e.TgZ(5,"th",10),e._uU(6,"|"),e.qZA(),e.BQk()}}function rd(r,n){1&r&&(e.ynx(0),e._UZ(1,"th",16),e.TgZ(2,"th",10),e._uU(3,"|"),e.qZA(),e.BQk())}function HA(r,n){if(1&r&&(e.ynx(0),e.YNc(1,z1,4,0,"ng-container",6),e.YNc(2,Q1,7,0,"ng-container",6),e.YNc(3,rd,4,0,"ng-container",6),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.categories.length===t),e.xp6(1),e.Q6J("ngIf",o.categories.length+1===t),e.xp6(1),e.Q6J("ngIf",o.categories.length+1<t)}}function JA(r,n){if(1&r&&(e.TgZ(0,"th",17),e._UZ(1,"app-language-category-details",18),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("selectedCategory",t.selectedCategory)("selectedLanguage",t.selectedLanguage)}}function K1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.connectValue(a.values[i]))}),e._uU(1,"x"),e.qZA()}}function WA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.disconnectValue(a.values[i]))}),e._uU(1,"o"),e.qZA()}}function Y1(r,n){if(1&r){const t=e.EpF();e.ynx(0),e._UZ(1,"th",10),e.TgZ(2,"th",11),e.YNc(3,K1,2,0,"a",19),e.YNc(4,WA,2,0,"a",20),e.qZA(),e.TgZ(5,"th",10),e._uU(6,"|"),e.qZA(),e.TgZ(7,"th",11)(8,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.changeValue(a.values[i]))}),e._uU(9),e.qZA()(),e.TgZ(10,"th",11),e._uU(11),e.qZA(),e.BQk()}if(2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngClass",(null==o.selectedValue?null:o.selectedValue.id)===o.values[t].id?"selectedTh":""),e.xp6(1),e.Q6J("ngIf",!o.isValueConnected(o.values[t])),e.xp6(1),e.Q6J("ngIf",o.isValueConnected(o.values[t])),e.xp6(3),e.Q6J("ngClass",(null==o.selectedValue?null:o.selectedValue.id)===o.values[t].id?"selectedTh":""),e.xp6(1),e.Q6J("ngClass",(null==o.selectedValue?null:o.selectedValue.id)===o.values[t].id?"text-main":"text-grey"),e.xp6(1),e.Oqu(o.values[t].name),e.xp6(1),e.Q6J("ngClass",(null==o.selectedValue?null:o.selectedValue.id)===o.values[t].id?"selectedTh":""),e.xp6(1),e.Oqu((null==o.selectedValue?null:o.selectedValue.id)===o.values[t].id?"":"|")}}function xx(r,n){1&r&&(e.ynx(0),e.TgZ(1,"th",10),e._uU(2,"+"),e.qZA(),e._UZ(3,"th",23),e.TgZ(4,"th"),e._uU(5,"+"),e.qZA(),e.BQk())}function X1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",16)(1,"a",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4);return e.KtG(i.addNewCategoryValue())}),e._uU(2,"[ + ]"),e.qZA()()}}function Y_(r,n){1&r&&e._UZ(0,"th")}function fa(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"th",10),e._uU(2,"|"),e.qZA(),e.YNc(3,X1,3,0,"th",24),e.YNc(4,Y_,1,0,"th",6),e.TgZ(5,"th",10),e._uU(6,"|"),e.qZA(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(3),e.Q6J("ngIf",t.selectedCategory),e.xp6(1),e.Q6J("ngIf",!t.selectedCategory)}}function zA(r,n){1&r&&(e.ynx(0),e.TgZ(1,"th",10),e._uU(2,"|"),e.qZA(),e._UZ(3,"th",16),e.TgZ(4,"th",10),e._uU(5,"|"),e.qZA(),e.BQk())}function QA(r,n){if(1&r&&(e.ynx(0),e.YNc(1,xx,6,0,"ng-container",6),e.YNc(2,fa,7,2,"ng-container",6),e.YNc(3,zA,6,0,"ng-container",6),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.values.length===t),e.xp6(1),e.Q6J("ngIf",o.values.length+1===t),e.xp6(1),e.Q6J("ngIf",o.values.length+1<t)}}function ga(r,n){if(1&r&&(e.TgZ(0,"th",17),e._UZ(1,"app-language-category-value-details",25),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("selectedValue",t.selectedValue)}}function bs(r,n){1&r&&e._UZ(0,"th",26)}function As(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,GA,10,6,"ng-container",6),e.YNc(2,HA,4,3,"ng-container",6),e.YNc(3,JA,2,2,"th",7),e.YNc(4,Y1,12,8,"ng-container",6),e.YNc(5,QA,4,3,"ng-container",6),e.YNc(6,ga,2,1,"th",7),e.YNc(7,bs,1,0,"th",8),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.categories[t]),e.xp6(1),e.Q6J("ngIf",!o.categories[t]),e.xp6(1),e.Q6J("ngIf",0==t),e.xp6(1),e.Q6J("ngIf",o.values[t]),e.xp6(1),e.Q6J("ngIf",!o.values[t]),e.xp6(1),e.Q6J("ngIf",0==t),e.xp6(1),e.Q6J("ngIf",0==t)}}let eC=(()=>{class r extends Rl{constructor(t,o){super(),this.categoryService=t,this.posService=o,this.categories=[],this.pos=[],this.values=[],this.valuesConnectios=[]}get array(){return[...Array(Math.max(this.categories.length,this.values.length,this.pos.length)+2).keys()]}ngOnInit(){var t;super.ngOnInit(),this.categoryService.getAllCategories().subscribe(o=>this.categories=o.sort((i,a)=>i.name?i.name.localeCompare(a.name?a.name:""):-1)),this.posService.getAllPos().subscribe(o=>this.pos=o),null!==(t=this.selectedLanguage)&&void 0!==t&&t.id&&this.reloadConnectedValues(this.selectedLanguage.id)}ngOnChanges(t){var o,i,a;null!==(o=t.selectedLanguage)&&void 0!==o&&o.currentValue&&(console.log("ngOnChanges",t,null===(i=t.selectedLanguage)||void 0===i?void 0:i.currentValue.id),null!==(a=t.selectedLanguage)&&void 0!==a&&a.currentValue.id)&&this.reloadConnectedValues(t.selectedLanguage.currentValue.id)}connectCategoryToLanguage(t){}getLanguageCategory(t){}addNewCategory(){const t={name:"new category"};this.categoryService.saveGrammaticalCategory({body:t}).subscribe(o=>{t.id=o,this.selectedCategory=t,this.categories.push(t)})}addNewCategoryValue(){if(!this.selectedCategory)return;const t={name:"new value",category:this.selectedCategory};this.categoryService.saveGrammaticalCategoryValue({body:t}).subscribe(o=>{t.id=o,this.selectedValue=t,this.values.push(t)})}changeCategory(t){this.selectedCategory=t,t.id&&this.reloadCategoryValues(t.id)}changeValue(t){this.selectedValue=t}isValueConnected(t){return!!t&&!!this.valuesConnectios.find(o=>{var i;return(null===(i=o.value)||void 0===i?void 0:i.id)===t.id})}connectValue(t){const o={value:t,language:this.selectedLanguage};this.categoryService.saveGrammaticalCategoryValueConnection({body:o}).subscribe(i=>{o.id=i,this.valuesConnectios.push(o)})}disconnectValue(t){const o=this.valuesConnectios.find(i=>{var a;return(null===(a=i.value)||void 0===a?void 0:a.id)===t.id});null!=o&&o.id&&this.categoryService.removeGrammaticalCategoryValueConnection({gcvcId:o.id}).subscribe(()=>{this.valuesConnectios=this.valuesConnectios.filter(i=>{var a;return(null===(a=i.value)||void 0===a?void 0:a.id)!==t.id})})}reloadCategoryValues(t){console.log("reloadCategoryValues",t),this.categoryService.getCategoryValuesByCategory({categoryId:t}).subscribe(o=>this.values=o.sort((i,a)=>i.name?i.name.localeCompare(a.name?a.name:""):-1))}reloadConnectedValues(t){this.categoryService.getGrammaticalValuesConnectionByLang({langId:t}).subscribe(o=>{this.valuesConnectios=o})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Uu),e.Y36(Ei))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-category"]],features:[e.qOj,e.TTD],decls:16,vars:1,consts:[["span","1",1,"border",2,"width","17px","white-space","nowrap"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","21%"],["span","1",1,"border",2,"width","29%"],["span","1",1,"border",2,"width","25%"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","border","rowspan","0","style","vertical-align: top;",4,"ngIf"],["app-vertical-dash","","class","border","rowspan","0",4,"ngIf"],[2,"white-space","nowrap",3,"ngClass"],[1,"border"],[1,"border",3,"ngClass"],[3,"ngClass","click"],["app-horizontal-dash","","colspan","3"],["colspan","2"],[1,"text-green-dull",3,"click"],["colspan","3"],["rowspan","0",1,"border",2,"vertical-align","top"],[3,"selectedCategory","selectedLanguage"],["class","link-btn text-grey-dull",3,"click",4,"ngIf"],["class","link-btn text-green-dull",3,"click",4,"ngIf"],[1,"link-btn","text-grey-dull",3,"click"],[1,"link-btn","text-green-dull",3,"click"],["colspan","3","app-horizontal-dash",""],["colspan","3",4,"ngIf"],[3,"selectedValue"],["app-vertical-dash","","rowspan","0",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",1)(6,"col",3)(7,"col",1)(8,"col",1)(9,"col",1)(10,"col",2)(11,"col",1)(12,"col",4)(13,"col",1),e.qZA(),e.TgZ(14,"tbody"),e.YNc(15,As,8,7,"tr",5),e.qZA()()),2&t&&(e.xp6(15),e.Q6J("ngForOf",o.array))},dependencies:[er,ut,St,On,zr,J1,W1],styles:[".selectedTh[_ngcontent-%COMP%]{background-color:#333}"]}),r})();function tC(r,n){1&r&&e._UZ(0,"col",5)}function KA(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"col",13)(2,"col",5),e.BQk()),2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(1),e.uIk("style","width: "+(o==i.selectedIndex?8*(t.name.length+4)+1:65)+"px;",e.Ckj)}}function YA(r,n){if(1&r&&(e.TgZ(0,"th",7),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(0==t.selectedIndex?"+":"")}}function XA(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"th",14),e.TgZ(2,"th",7),e._uU(3),e.qZA(),e.BQk()),2&r){const t=n.index,o=e.oxw();e.xp6(1),e.Q6J("symbol",t==o.selectedIndex?"-":"_"),e.xp6(2),e.Oqu(t==o.selectedIndex||t+1==o.selectedIndex?"+":"")}}function eI(r,n){1&r&&(e.TgZ(0,"th",7),e._uU(1,"|"),e.qZA())}function X_(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th")(2,"a",15),e.NdJ("click",function(){const a=e.CHM(t).index,d=e.oxw();return e.KtG(d.select(a))}),e._uU(3),e.qZA()(),e.TgZ(4,"th",7),e._uU(5,"|"),e.qZA(),e.BQk()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(2),e.Q6J("ngClass",o==i.selectedIndex?"":"text-grey-dull"),e.uIk("disabled",!!t.enabled||null),e.xp6(1),e.Oqu(o==i.selectedIndex?t.name:t.shortName?t.shortName:t.name.substr(0,3)+".")}}function Hh(r,n){if(1&r&&e._UZ(0,"th",9),2&r){const t=e.oxw();e.uIk("colspan",2*t.selectedIndex-(t.selectedIndex>0&&t.removeBorder?1:0))}}function tI(r,n){1&r&&(e.TgZ(0,"th",7),e._uU(1,"+"),e.qZA())}function nC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-language-description",16),e.NdJ("onDeleteLanguage",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onDeleteLanguage.emit(i))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function nI(r,n){if(1&r&&e._UZ(0,"app-language-phonetics",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function rC(r,n){if(1&r&&e._UZ(0,"app-language-writing",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function oC(r,n){if(1&r&&e._UZ(0,"app-clusters",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function Yf(r,n){if(1&r&&e._UZ(0,"app-language-pos",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function rI(r,n){if(1&r&&e._UZ(0,"app-language-category",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}let iC=(()=>{class r{constructor(t){this.keybind=t,this.tabs=[{name:"Description",enabled:!0,shortName:"Descr."},{name:"Phonetics",enabled:!0,shortName:"[p\u02b0]"},{name:"Orthography",enabled:!0,shortName:"Aa..."},{name:"Phonotactics",enabled:!0,shortName:"CV(C)"},{name:"Word Classes",enabled:!0,shortName:"pos"},{name:"Grammatical Categories",enabled:!0,shortName:"m/n/f"}],this.removeBorder=!0,this.onDeleteLanguage=new e.vpe,this.selectedIndex=0}ngOnInit(){this.correctIndex(),this.tabs[2].enabled=!!this.selectedLanguage}correctIndex(){}select(t){this.selectedIndex=t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ha))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-tabs"]],inputs:{selectedLanguage:"selectedLanguage"},outputs:{onDeleteLanguage:"onDeleteLanguage"},decls:37,vars:16,consts:[[1,"tab-routes-wrapper"],[1,"tab-routes"],["class","border","span","1",4,"ngIf"],[4,"ngFor","ngForOf"],["span","1",2,"width","max-content"],["span","1",1,"border"],["class","border",4,"ngIf"],[1,"border"],["app-horizontal-dash","","class","border",4,"ngIf"],["app-horizontal-dash","",1,"border"],[1,"break-word","text-grey"],[3,"selectedLanguage","onDeleteLanguage",4,"ngIf"],[3,"selectedLanguage",4,"ngIf"],["span","1"],["app-horizontal-dash","",1,"border",3,"symbol"],[1,"link-btn",3,"ngClass","click"],[3,"selectedLanguage","onDeleteLanguage"],[3,"selectedLanguage"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table")(3,"colgroup"),e.YNc(4,tC,1,0,"col",2),e.YNc(5,KA,3,1,"ng-container",3),e._UZ(6,"col",4)(7,"col",5),e.qZA(),e.TgZ(8,"tbody")(9,"tr"),e.YNc(10,YA,2,1,"th",6),e.YNc(11,XA,4,2,"ng-container",3),e._UZ(12,"th",7)(13,"th",7),e.qZA(),e.TgZ(14,"tr"),e.YNc(15,eI,2,0,"th",6),e.YNc(16,X_,6,3,"ng-container",3),e._UZ(17,"th",7)(18,"th",7),e.qZA(),e.TgZ(19,"tr"),e.YNc(20,Hh,1,1,"th",8),e.YNc(21,tI,2,0,"th",6),e._UZ(22,"th",7),e.TgZ(23,"th",7),e._uU(24,"+"),e.qZA(),e._UZ(25,"th",9),e.TgZ(26,"th",7),e._uU(27,"+"),e.qZA()()(),e.TgZ(28,"tbody")(29,"tr")(30,"td",10),e.YNc(31,nC,1,1,"app-language-description",11),e.YNc(32,nI,1,1,"app-language-phonetics",12),e.YNc(33,rC,1,1,"app-language-writing",12),e.YNc(34,oC,1,1,"app-clusters",12),e.YNc(35,Yf,1,1,"app-language-pos",12),e.YNc(36,rI,1,1,"app-language-category",12),e.qZA()()()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(5),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(4),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(4),e.Q6J("ngIf",0<o.selectedIndex),e.xp6(1),e.Q6J("ngIf",!o.removeBorder||0!=o.selectedIndex),e.xp6(4),e.uIk("colspan",2*(o.tabs.length-o.selectedIndex-1)+1),e.xp6(5),e.uIk("colspan",2*(o.tabs.length+1)+(o.removeBorder?0:1)),e.xp6(1),e.Q6J("ngIf",0==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",1==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",2==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",3==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",4==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",5==o.selectedIndex))},dependencies:[er,ut,St,On,Yc,j_,UA,P1,G1,eC]}),r})();function sC(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"|"),e.qZA())}function ey(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr"),e._UZ(2,"th",4),e.TgZ(3,"th",4),e._uU(4),e.qZA(),e.TgZ(5,"th",4),e._uU(6),e.qZA(),e.TgZ(7,"th")(8,"a",13),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.selectLanguage(a))}),e._uU(9),e.qZA()(),e.TgZ(10,"th",4),e.YNc(11,sC,2,0,"span",14),e.qZA()(),e.TgZ(12,"tr"),e._UZ(13,"th",4),e.TgZ(14,"th",4),e._uU(15),e.qZA(),e.TgZ(16,"th",4),e._uU(17),e.qZA(),e._UZ(18,"th",15),e.TgZ(19,"th",4),e._uU(20),e.qZA()(),e.BQk()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(4),e.Oqu(t.id==i.selectedLanguage.id?"|":""),e.xp6(2),e.Oqu(t.id==i.selectedLanguage.id?"":"|"),e.xp6(2),e.Q6J("ngClass",t.id==i.selectedLanguage.id?"text-main":"text-grey-dull"),e.xp6(1),e.Oqu(t.displayName),e.xp6(2),e.Q6J("ngIf",t.id!=i.selectedLanguage.id),e.xp6(4),e.Oqu(t.id==i.selectedLanguage.id||(i.allLanguages[o+1]&&i.allLanguages[o+1].id)==i.selectedLanguage.id&&i.selectedLanguage.id?"+":""),e.xp6(2),e.Oqu(t.id==i.selectedLanguage.id||(i.allLanguages[o+1]&&i.allLanguages[o+1].id)==i.selectedLanguage.id&&i.selectedLanguage.id?"-":""),e.xp6(3),e.Oqu(t.id==i.selectedLanguage.id||(i.allLanguages[o+1]&&i.allLanguages[o+1].id)==i.selectedLanguage.id&&i.selectedLanguage.id?"+":"|")}}let Xf=(()=>{class r{constructor(t){this.languagesService=t,this.allLanguages=[],this.selectedLanguage={displayName:""},this.selectLanguage({displayName:""})}ngOnInit(){this.refreshLanguages()}refreshAll(){}changeLang(){}selectLanguage(t){this.selectedLanguage=t}addNewLanguage(){this.languagesService.saveLanguage({body:{displayName:"New Language"}}).subscribe(o=>{this.allLanguages.push(o),this.allLanguages=this.allLanguages.sort((i,a)=>i.displayName.localeCompare(a.displayName)),this.selectLanguage(o)})}deleteLanguage(t){this.languagesService.deleteLanguage({languageId:t}).subscribe(()=>{this.refreshLanguages()})}refreshLanguages(){this.selectLanguage({displayName:""}),this.languagesService.getAllLanguages().subscribe(t=>{this.allLanguages=t.sort((o,i)=>o.displayName.localeCompare(i.displayName))})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ca))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-languages"]],decls:36,vars:2,consts:[[1,"table-container"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","max-content"],["span","1",2,"width","auto"],[1,"border"],["app-horizontal-dash","","colspan","3"],["rowspan","0",2,"vertical-align","baseline","horiz-align","left"],[3,"selectedLanguage","onDeleteLanguage"],["colspan","3"],[1,"text-green-dull",3,"click"],[4,"ngFor","ngForOf"],["colspan","4",1,"border"],["app-vertical-dash","","rowspan","0",1,"border"],[1,"link-btn",3,"ngClass","click"],[4,"ngIf"],["app-horizontal-dash","",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"table")(2,"colgroup"),e._UZ(3,"col",1)(4,"col",1)(5,"col",1)(6,"col",2)(7,"col",1)(8,"col",3),e.qZA(),e.TgZ(9,"tbody")(10,"tr")(11,"th",4),e._uU(12,"+"),e.qZA(),e._UZ(13,"th",5),e.TgZ(14,"th",4),e._uU(15,"+"),e.qZA(),e.TgZ(16,"th",6)(17,"app-language-tabs",7),e.NdJ("onDeleteLanguage",function(a){return o.deleteLanguage(a)}),e.qZA()()(),e.TgZ(18,"tr")(19,"th",4),e._uU(20,"|"),e.qZA(),e.TgZ(21,"th",8)(22,"a",9),e.NdJ("click",function(){return o.addNewLanguage()}),e._uU(23,"[ + ]"),e.qZA()(),e.TgZ(24,"th",4),e._uU(25,"|"),e.qZA()(),e.TgZ(26,"tr")(27,"th",4),e._uU(28,"+"),e.qZA(),e._UZ(29,"th",5),e.TgZ(30,"th",4),e._uU(31,"+"),e.qZA()(),e.YNc(32,ey,21,8,"ng-container",10),e.TgZ(33,"tr"),e._UZ(34,"th",11)(35,"th",12),e.qZA()()()()),2&t&&(e.xp6(17),e.Q6J("selectedLanguage",o.selectedLanguage),e.xp6(15),e.Q6J("ngForOf",o.allLanguages))},dependencies:[er,ut,St,On,zr,iC]}),r})();function ty(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" -> ",t.displayName,"")}}function ny(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,ty,2,1,"span",3),e.qZA()),2&r){const t=n.index;e.xp6(1),e.Q6J("ngIf",0!=t)}}function aC(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,ny,2,1,"span",4),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function uC(r,n){if(1&r&&(e.TgZ(0,"label",10),e._uU(1),e.qZA()),2&r){const t=e.oxw(2).index,o=e.oxw();e.xp6(1),e.Oqu(0==t?o.languages[0]?o.languages[0].displayName:"Language from:":"Language:")}}function lC(r,n){if(1&r&&(e.TgZ(0,"option",11),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.displayName)}}function cC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,aC,2,1,"div",4),e.TgZ(2,"span"),e.YNc(3,uC,2,1,"label",5),e.TgZ(4,"div",6)(5,"select",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw().index,d=e.oxw();return e.KtG(d.changeLanguage(a,i))})("ngModelChange",function(i){e.CHM(t);const a=e.oxw().index,d=e.oxw();return e.KtG(d.languages[a]=i)}),e.TgZ(6,"option",8),e._uU(7,"-Select Language-"),e.qZA(),e.YNc(8,lC,2,2,"option",9),e.qZA()()()()}if(2&r){const t=e.oxw(),o=t.index,i=t.$implicit,a=e.oxw();e.xp6(1),e.Q6J("ngForOf",a.languagesRoutes[o]),e.xp6(2),e.Q6J("ngIf",!a.languages[o]||0==o),e.xp6(2),e.Q6J("ngModel",a.languages[o]),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",i)}}function dC(r,n){if(1&r&&(e.TgZ(0,"div",2),e.YNc(1,cC,9,5,"div",3),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf",t.length)}}let hC=(()=>{class r{constructor(t,o){this.languagesService=t,this.languagesEvolutionService=o,this.languages=[],this.languagesRoutes=[],this.availableLanguagesTo=[],this.routeChanged=new e.vpe}ngOnInit(){this.availableLanguagesTo=[],this.languagesService.getAllLanguages().subscribe(t=>{this.availableLanguagesTo.push(t.sort((o,i)=>o.displayName.localeCompare(i.displayName)))})}changeLanguage(t,o){console.log("changeLanguage",t,o,this.availableLanguagesTo),this.availableLanguagesTo.splice(t+1,this.availableLanguagesTo.length-t-1),this.languages.splice(t+1,this.availableLanguagesTo.length-t-1),this.languagesRoutes.splice(t+1,this.availableLanguagesTo.length-t-1),console.log("changeLanguage",t,o,this.availableLanguagesTo),o.id&&this.languagesEvolutionService.getAllLanguagesFrom({fromId:o.id}).subscribe(a=>{this.availableLanguagesTo[t+1]=a});const i=this.languages[t-1].id;t>0&&o.id&&i&&this.languagesEvolutionService.getAllRoutes({fromId:i,toId:o.id}).subscribe(a=>{console.log("changeLanguage",a),this.languagesRoutes[t]=a;const d=this.languagesRoutes.reduce((f,y,w)=>w>t?f:f.concat(y[0].slice(1)),[this.languages[0]]);this.routeChanged.emit(d)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ca),e.Y36(pa))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-trace-language-recursive"]],outputs:{routeChanged:"routeChanged"},decls:2,vars:1,consts:[[1,"row"],["class","selector",4,"ngFor","ngForOf"],[1,"selector"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","languageSelectorLabel","for","languageSelector",4,"ngIf"],[1,"input-group"],["id","languageSelector","name","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","languageSelector",1,"languageSelectorLabel"],[3,"ngValue"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,dC,2,1,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.availableLanguagesTo))},dependencies:[ut,St,so,oi,_r,xn,un],styles:[".row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.languageSelector[_ngcontent-%COMP%]{margin-top:4px}.languageSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})(),oI=(()=>{class r{constructor(){this.dataStore={selectedLanguage:void 0}}changeSelectedLanguage(t){this.dataStore.selectedLanguage=t}ngOnInit(){console.log("LangService onInit")}ngOnDestroy(){console.log("LangService onDestroy")}shortPOS(t){return"Adjective"==t?"adj.":"Adverb"==t?"adv.":"Conjunction"==t?"cnj.":"Determiner"==t?"det.":"Noun"==t?"n.":"Numeral"==t?"num.":"Preposition"==t?"prep.":"Pronoun"==t?"pn.":"Verb"==t?"v.":"Prefix"==t?"prefix":"Suffix"==t?"suffix":t}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),eg=(()=>{class r{constructor(t){this.keybind=t,this._errors=new uo([]),this.dataStore={errors:[]},this.errors=this._errors.asObservable(),this.keybind.match(["ESCAPE"],[]).subscribe(()=>{this.clearErrors()})}addError(t){this.dataStore.errors.push(t),this._errors.next(Object.assign({},this.dataStore).errors)}clearErrors(){!this.dataStore.errors.length||(this.dataStore.errors=[],this._errors.next(Object.assign({},this.dataStore).errors))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ha))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const iI=["wordSelector"];function sI(r,n){if(1&r&&(e.TgZ(0,"div"),e._uU(1,'More info about word "'),e.TgZ(2,"span",15),e._uU(3),e.qZA(),e._uU(4),e.qZA()),2&r){const t=e.oxw();e.xp6(3),e.Oqu(t.wordsTraced[t.wordSelected]),e.xp6(1),e.hij('" from ',t.fullRoute[t.wordSelected].displayName," language. ")}}function aI(r,n){1&r&&(e.ynx(0),e._UZ(1,"br"),e._uU(2,"|"),e._UZ(3,"br"),e._uU(4,"|"),e.BQk())}function uI(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"|"),e.qZA())}function lI(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr"),e._UZ(2,"th",3),e.TgZ(3,"th",3),e._uU(4),e.qZA(),e.TgZ(5,"th",3),e._uU(6),e.qZA(),e.TgZ(7,"th")(8,"a",16),e.NdJ("click",function(){const a=e.CHM(t).index,d=e.oxw();return e.KtG(d.selectWord(a))}),e._uU(9),e.qZA()(),e.TgZ(10,"th",3),e.YNc(11,uI,2,0,"span",9),e.qZA()(),e.TgZ(12,"tr"),e._UZ(13,"th",3),e.TgZ(14,"th",3),e._uU(15),e.qZA(),e.TgZ(16,"th",3),e._uU(17),e.qZA(),e._UZ(18,"th",14),e.TgZ(19,"th",3),e._uU(20),e.qZA()(),e.BQk()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(4),e.Oqu(o==i.wordSelected?"|":""),e.xp6(2),e.Oqu(o==i.wordSelected?"":"|"),e.xp6(2),e.Q6J("ngClass",o==i.wordSelected?"text-main":"text-grey-dull"),e.xp6(1),e.Oqu(t),e.xp6(2),e.Q6J("ngIf",o!=i.wordSelected),e.xp6(4),e.Oqu(o==i.wordSelected||o==i.wordSelected-1?"+":""),e.xp6(2),e.Oqu(o==i.wordSelected||o==i.wordSelected-1?"-":""),e.xp6(3),e.Oqu(o==i.wordSelected||o==i.wordSelected-1?"+":"|")}}let cI=(()=>{class r{constructor(t,o,i,a,d){this.languagesEvolutionService=t,this.langService=o,this.errorService=i,this.keybind=a,this.router=d,this.fullRoute=[],this.word="",this.wordsTraced=[],this.wordSelected=0,this.keybind.match(["T"],["altKey"]).subscribe(()=>{var y;null===(y=this.wordSelector)||void 0===y||y.nativeElement.focus()})}routeChanged(){this.changeWord(this.word)}ngOnChanges(t){t.fullRoute&&this.routeChanged()}changeWord(t){console.log("changeWord",t),this.word=t,this.word.trim().length&&!(this.fullRoute.length<2)&&this.languagesEvolutionService.trace({word:this.word.trim(),body:this.fullRoute}).subscribe(o=>{this.wordsTraced=[],o.forEach(i=>{this.wordsTraced.push(null!=i&&i.word?null==i?void 0:i.word:"")}),this.wordSelected=this.wordsTraced.length>0?this.wordsTraced.length-1:0})}selectWord(t){console.log("selectWord",t),this.wordSelected=t}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(pa),e.Y36(oI),e.Y36(eg),e.Y36(ha),e.Y36(Pn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-trace-result"]],viewQuery:function(t,o){if(1&t&&e.Gf(iI,5),2&t){let i;e.iGM(i=e.CRH())&&(o.wordSelector=i.first)}},inputs:{fullRoute:"fullRoute"},features:[e.TTD],decls:66,vars:6,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","max-content"],[1,"border"],["colspan","3",2,"text-align","left"],[1,"selector"],["for","wordSelector",1,"wordSelectorLabel"],[1,"input-group"],["id","wordSelector","name","wordSelector","type","text",1,"wordSelector",3,"ngModel","ngModelChange"],[4,"ngIf"],["app-vertical-dash","",1,"border"],[4,"ngFor","ngForOf"],["app-horizontal-dash","","colspan","3",1,"border"],["colspan","4",1,"border"],["app-horizontal-dash","",1,"border"],[1,"text-white"],[1,"link-btn",3,"ngClass","click"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",0)(4,"col",0)(5,"col",1)(6,"col",0)(7,"col",2)(8,"col",0),e.qZA(),e.TgZ(9,"tbody")(10,"tr")(11,"th",3),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e._UZ(15,"br"),e._uU(16,"|"),e._UZ(17,"br"),e._uU(18,"|"),e.qZA(),e.TgZ(19,"th",4)(20,"div",5)(21,"label",6),e._uU(22,"Select Word:"),e.qZA(),e.TgZ(23,"div",7)(24,"input",8),e.NdJ("ngModelChange",function(a){return o.changeWord(a)})("ngModelChange",function(a){return o.word=a}),e.qZA()()()(),e.TgZ(25,"th",3),e._uU(26,"|"),e._UZ(27,"br"),e._uU(28,"|"),e._UZ(29,"br"),e._uU(30,"|"),e._UZ(31,"br"),e._uU(32,"|"),e.qZA(),e.TgZ(33,"th",3),e.YNc(34,sI,5,2,"div",9),e.qZA(),e.TgZ(35,"th",10),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e._UZ(39,"br"),e._uU(40,"|"),e._UZ(41,"br"),e._uU(42,"|"),e._UZ(43,"br"),e._uU(44,"|"),e._UZ(45,"br"),e._uU(46,"| "),e.YNc(47,aI,5,0,"ng-container",11),e.qZA()(),e.TgZ(48,"tr")(49,"th",3),e._uU(50,"+"),e.qZA(),e._UZ(51,"th",12),e.TgZ(52,"th",3),e._uU(53,"+"),e.qZA()(),e.YNc(54,lI,21,8,"ng-container",11),e.TgZ(55,"tr"),e._UZ(56,"th",13),e.TgZ(57,"th",3),e._uU(58,"|"),e.qZA()(),e.TgZ(59,"tr"),e._UZ(60,"th",13),e.TgZ(61,"th",3),e._uU(62,"+"),e.qZA(),e._UZ(63,"th",14),e.TgZ(64,"th",3),e._uU(65,"+"),e.qZA()()()()),2&t&&(e.xp6(24),e.Q6J("ngModel",o.word),e.xp6(9),e.uIk("rowspan",3+2*o.wordsTraced.length),e.xp6(1),e.Q6J("ngIf",o.wordsTraced[o.wordSelected]),e.xp6(1),e.uIk("rowspan",3+2*o.wordsTraced.length),e.xp6(12),e.Q6J("ngForOf",o.wordsTraced),e.xp6(7),e.Q6J("ngForOf",o.wordsTraced))},dependencies:[er,ut,St,Un,xn,un,On,zr]}),r})();const dI=["wordInput"];function hI(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," -> "),e.qZA())}function pI(r,n){if(1&r&&(e.TgZ(0,"span",10),e.YNc(1,hI,2,0,"span",8),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Q6J("ngIf",o>0),e.xp6(2),e.Oqu(t.displayName)}}function fI(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," No Route "),e.qZA())}let gI=(()=>{class r{constructor(){this.fullRoute=[],this.wordText="",this.word="",this.wordsTraced=[]}routeChanged(t){this.fullRoute=t}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-trace"]],viewQuery:function(t,o){if(1&t&&e.Gf(dI,5),2&t){let i;e.iGM(i=e.CRH())&&(o.wordInput=i.first)}},decls:51,vars:3,consts:[[1,"table-container"],["span","1",1,"border"],["span","1",2,"width","auto"],[1,"border"],["app-horizontal-dash","",1,"border"],[3,"routeChanged"],[1,"full-route"],["class","text-yellow-dull",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"fullRoute"],[1,"text-yellow-dull"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"table")(2,"colgroup"),e._UZ(3,"col",1)(4,"col",2)(5,"col",1),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",3),e._uU(9,"+"),e.qZA(),e._UZ(10,"th",4),e.TgZ(11,"th",3),e._uU(12,"+"),e.qZA()(),e.TgZ(13,"tr")(14,"th",3),e._uU(15,"|"),e._UZ(16,"br"),e._uU(17,"|"),e._UZ(18,"br"),e._uU(19,"|"),e._UZ(20,"br"),e._uU(21,"|"),e._UZ(22,"br"),e._uU(23,"|"),e._UZ(24,"br"),e._uU(25,"|"),e.qZA(),e.TgZ(26,"th",3)(27,"div")(28,"app-trace-language-recursive",5),e.NdJ("routeChanged",function(a){return o.routeChanged(a)}),e.qZA(),e.TgZ(29,"div",6),e.YNc(30,pI,4,2,"span",7),e.YNc(31,fI,2,0,"span",8),e.qZA()()(),e.TgZ(32,"th",3),e._uU(33,"|"),e._UZ(34,"br"),e._uU(35,"|"),e._UZ(36,"br"),e._uU(37,"|"),e._UZ(38,"br"),e._uU(39,"|"),e._UZ(40,"br"),e._uU(41,"|"),e._UZ(42,"br"),e._uU(43,"|"),e.qZA()(),e.TgZ(44,"tr")(45,"th",3),e._uU(46,"+"),e.qZA(),e._UZ(47,"th",4),e.TgZ(48,"th",3),e._uU(49,"+"),e.qZA()()()(),e._UZ(50,"app-trace-result",9),e.qZA()),2&t&&(e.xp6(30),e.Q6J("ngForOf",o.fullRoute),e.xp6(1),e.Q6J("ngIf",!o.fullRoute.length),e.xp6(19),e.Q6J("fullRoute",o.fullRoute))},dependencies:[ut,St,On,hC,cI],styles:[".full-route[_ngcontent-%COMP%]{margin:8px}.half-width[_ngcontent-%COMP%]{width:50%}.wordSelector[_ngcontent-%COMP%]{margin-top:4px}.wordSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})();function mI(r,n){1&r&&e._UZ(0,"col",10)}function _I(r,n){1&r&&(e.ynx(0),e._UZ(1,"col",11)(2,"col",10),e.BQk())}function yI(r,n){1&r&&e._UZ(0,"col",10)}function vI(r,n){if(1&r&&(e.TgZ(0,"th",6),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(0==t.selectedIndex?"+":"")}}function CI(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"th",12),e.TgZ(2,"th",6),e._uU(3),e.qZA(),e.BQk()),2&r){const t=n.index,o=e.oxw();e.xp6(1),e.Q6J("symbol",t==o.selectedIndex?"-":"_"),e.xp6(2),e.Oqu(t==o.selectedIndex||t+1==o.selectedIndex?"+":"")}}function pC(r,n){1&r&&e._UZ(0,"th",6)}function fC(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"|"),e.qZA())}function gC(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th")(2,"a",13),e.NdJ("click",function(){const a=e.CHM(t).index,d=e.oxw();return e.KtG(d.select(a))}),e._uU(3),e.qZA()(),e.TgZ(4,"th",6),e._uU(5,"|"),e.qZA(),e.BQk()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(2),e.Q6J("ngClass",o==i.selectedIndex?"":"text-grey-dull")("routerLink",t.route)("queryParams",i.queryParams),e.uIk("disabled",!!t.enabled||null),e.xp6(1),e.Oqu(t.name)}}function mC(r,n){1&r&&e._UZ(0,"th",6)}function _C(r,n){if(1&r&&e._UZ(0,"th",8),2&r){const t=e.oxw();e.uIk("colspan",2*t.selectedIndex-(t.selectedIndex>0&&t.removeBorder?1:0))}}function yC(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"+"),e.qZA())}function vC(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"+"),e.qZA())}let ry=(()=>{class r{constructor(t,o,i){this.activeRoute=t,this.router=o,this.keybind=i,this.removeBorder=!1,this.selectedIndex=0}ngOnInit(){console.log("TabRoutesComponent","ngOnInit"),this.correctIndex(),this.router.events.subscribe(t=>{t instanceof Zu&&this.correctIndex()})}correctIndex(){var t;const o=null===(t=this.activeRoute.snapshot.children[0].routeConfig)||void 0===t?void 0:t.path;console.log("TabRoutesComponent","correctIndex",o,this.activeRoute.snapshot.children[0]),this.selectedIndex=this.tabs.reduce((i,a,d)=>a.route==o?d:i,this.selectedIndex)}select(t){console.log("TabRoutesComponent","select"),this.selectedIndex=t}navigateIndex(t){console.log("TabRoutesComponent","navigateIndex");const o=this.activeRoute.snapshot.queryParamMap.get("lang");this.router.navigate([this.tabs[t].route],{relativeTo:this.activeRoute,queryParams:{lang:o}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(oa),e.Y36(Pn),e.Y36(ha))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-tab-routes"]],inputs:{tabs:"tabs",queryParams:"queryParams",removeBorder:"removeBorder"},decls:31,vars:14,consts:[[1,"tab-routes-wrapper"],[1,"tab-routes"],["span","1","class","border",4,"ngIf"],[4,"ngFor","ngForOf"],["span","1",2,"width","max-content"],["class","border",4,"ngIf"],[1,"border"],["app-horizontal-dash","","class","border",4,"ngIf"],["app-horizontal-dash","",1,"border"],[1,"break-word","text-grey"],["span","1",1,"border"],["span","1",2,"width","200px"],["app-horizontal-dash","",1,"border",3,"symbol"],[1,"link-btn",3,"ngClass","routerLink","queryParams","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table")(3,"colgroup"),e.YNc(4,mI,1,0,"col",2),e.YNc(5,_I,3,0,"ng-container",3),e._UZ(6,"col",4),e.YNc(7,yI,1,0,"col",2),e.qZA(),e.TgZ(8,"tbody")(9,"tr"),e.YNc(10,vI,2,1,"th",5),e.YNc(11,CI,4,2,"ng-container",3),e._UZ(12,"th",6),e.YNc(13,pC,1,0,"th",5),e.qZA(),e.TgZ(14,"tr"),e.YNc(15,fC,2,0,"th",5),e.YNc(16,gC,6,5,"ng-container",3),e._UZ(17,"th",6),e.YNc(18,mC,1,0,"th",5),e.qZA(),e.TgZ(19,"tr"),e.YNc(20,_C,1,1,"th",7),e.YNc(21,yC,2,0,"th",5),e._UZ(22,"th",6),e.TgZ(23,"th",6),e._uU(24,"+"),e.qZA(),e._UZ(25,"th",8),e.YNc(26,vC,2,0,"th",5),e.qZA()(),e.TgZ(27,"tbody")(28,"tr")(29,"td",9),e._UZ(30,"router-outlet"),e.qZA()()()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(2),e.Q6J("ngIf",!o.removeBorder),e.xp6(3),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(2),e.Q6J("ngIf",!o.removeBorder),e.xp6(2),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(2),e.Q6J("ngIf",!o.removeBorder),e.xp6(2),e.Q6J("ngIf",0<o.selectedIndex),e.xp6(1),e.Q6J("ngIf",!o.removeBorder||0!=o.selectedIndex),e.xp6(4),e.uIk("colspan",2*(o.tabs.length-o.selectedIndex-1)+1),e.xp6(1),e.Q6J("ngIf",!o.removeBorder),e.xp6(3),e.uIk("colspan",2*(o.tabs.length+1)+(o.removeBorder?0:1)))},dependencies:[er,ut,St,si,Ai,On]}),r})(),CC=(()=>{class r extends Rl{constructor(){super(...arguments),this.tabs=[{name:"Add New",route:"new",enabled:!0},{name:"List",route:"list",enabled:!0},{name:"Translations",route:"translations",enabled:!0},{name:"Details",route:"word/:word",enabled:!1}]}ngOnInit(){super.ngOnInit()}refreshAll(){}changeLang(){}}return r.\u0275fac=function(){let n;return function(o){return(n||(n=e.n5z(r)))(o||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["app-words"]],features:[e.qOj],decls:2,vars:1,consts:[[1,"table-container"],[3,"tabs"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-tab-routes",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("tabs",o.tabs))},dependencies:[ry]}),r})(),Qa=(()=>{class r extends Fl{constructor(t,o){super(t,o)}addWord$Response(t){const o=new tt(this.rootUrl,r.AddWordPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}addWord(t){return this.addWord$Response(t).pipe((0,K.U)(o=>o.body))}getAllWords$Response(t){const o=new tt(this.rootUrl,r.GetAllWordsPath,"get");return t&&o.query("filter",t.filter,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getAllWords(t){return this.getAllWords$Response(t).pipe((0,K.U)(o=>o.body))}getAllWordsFromLang$Response(t){const o=new tt(this.rootUrl,r.GetAllWordsFromLangPath,"get");return t&&o.path("from",t.from,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getAllWordsFromLang(t){return this.getAllWordsFromLang$Response(t).pipe((0,K.U)(o=>o.body))}cleanIpaWords$Response(t){const o=new tt(this.rootUrl,r.CleanIpaWordsPath,"post");return this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:void 0})))}cleanIpaWords(t){return this.cleanIpaWords$Response(t).pipe((0,K.U)(o=>o.body))}addDerivedWord$Response(t){const o=new tt(this.rootUrl,r.AddDerivedWordPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}addDerivedWord(t){return this.addDerivedWord$Response(t).pipe((0,K.U)(o=>o.body))}getAllWordsWithTranslationsFromLang$Response(t){const o=new tt(this.rootUrl,r.GetAllWordsWithTranslationsFromLangPath,"get");return t&&o.path("from",t.from,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getAllWordsWithTranslationsFromLang(t){return this.getAllWordsWithTranslationsFromLang$Response(t).pipe((0,K.U)(o=>o.body))}deleteWord$Response(t){const o=new tt(this.rootUrl,r.DeleteWordPath,"delete");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:void 0})))}deleteWord(t){return this.deleteWord$Response(t).pipe((0,K.U)(o=>o.body))}canDeleteWord$Response(t){const o=new tt(this.rootUrl,r.CanDeleteWordPath,"get");return t&&o.path("wordId",t.wordId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:"true"===String(i.body)})))}canDeleteWord(t){return this.canDeleteWord$Response(t).pipe((0,K.U)(o=>o.body))}getDetailedWordsByPhonetics$Response(t){const o=new tt(this.rootUrl,r.GetDetailedWordsByPhoneticsPath,"get");return t&&o.path("word",t.word,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getDetailedWordsByPhonetics(t){return this.getDetailedWordsByPhonetics$Response(t).pipe((0,K.U)(o=>o.body))}}return r.AddWordPath="/api/words/add",r.GetAllWordsPath="/api/words/all",r.GetAllWordsFromLangPath="/api/words/all/{from}",r.CleanIpaWordsPath="/api/words/clean",r.AddDerivedWordPath="/api/words/derive",r.GetAllWordsWithTranslationsFromLangPath="/api/words/page/{from}",r.DeleteWordPath="/api/words/{id}",r.CanDeleteWordPath="/api/words/{wordId}/candelete",r.GetDetailedWordsByPhoneticsPath="/api/words/{word}",r.\u0275fac=function(t){return new(t||r)(e.LFG(Qi),e.LFG(la))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function TC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.changePage(i))}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t+1,"")}}function jl(r,n){if(1&r&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t+1,"")}}function TI(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,","),e.qZA())}function wI(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," ... "),e.qZA())}function od(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,TC,2,1,"a",8),e.YNc(2,jl,2,1,"span",9),e.YNc(3,TI,2,0,"span",10),e.YNc(4,wI,2,0,"span",10),e.qZA()),2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t!=i.page),e.xp6(1),e.Q6J("ngIf",t==i.page),e.xp6(1),e.Q6J("ngIf",o<i.pageBttns.length-1&&t+1==i.pageBttns[o+1]),e.xp6(1),e.Q6J("ngIf",t+1!=i.pageBttns[o+1]&&o<i.pageBttns.length-1)}}let wC=(()=>{class r{constructor(){this.pageBttns=[],this.totalPages=0,this.total=0,this.page=0,this.size=30,this.load=new e.vpe}ngOnInit(){this.load.emit({page:this.page,size:this.size})}ngOnChanges(t){this.redrawPageBttns()}redrawPageBttns(){if(this.totalPages){this.pageBttns=[];for(let t=0;t<3;t++)this.pageBttns.push(t),this.pageBttns.push(this.totalPages-1-t),this.pageBttns.push(this.page+t),this.pageBttns.push(this.page-t);this.pageBttns=this.pageBttns.filter((t,o,i)=>i.indexOf(t)===o&&t>=0&&this.totalPages&&t<this.totalPages).sort((t,o)=>t-o)}}changePage(t){if(this.totalPages&&void 0!==t){const o=Math.min(Math.max(0,t),this.totalPages-1);o!==this.page&&(this.page=o,this.load.emit({page:this.page,size:this.size}))}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-paginator"]],inputs:{totalPages:"totalPages",total:"total",page:"page",size:"size"},outputs:{load:"load"},features:[e.TTD],decls:59,vars:4,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","240px"],["span","1",2,"width","17px"],["span","1",2,"width","auto"],[1,"border"],["app-horizontal-dash","","colspan","11",1,"border"],[3,"click"],[4,"ngFor","ngForOf"],["class","text-grey-dull",3,"click",4,"ngIf"],["class","text-main",4,"ngIf"],[4,"ngIf"],[1,"text-grey-dull",3,"click"],[1,"text-main"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0)(5,"col",2)(6,"col",0)(7,"col",2)(8,"col",0)(9,"col",3)(10,"col",0)(11,"col",2)(12,"col",0)(13,"col",2)(14,"col",0),e.qZA(),e.TgZ(15,"tbody")(16,"tr")(17,"th",4),e._uU(18,"+"),e.qZA(),e._UZ(19,"th",5),e.TgZ(20,"th",4),e._uU(21,"+"),e.qZA()(),e.TgZ(22,"tr")(23,"th",4),e._uU(24,"|"),e.qZA(),e.TgZ(25,"th",4),e._uU(26),e.qZA(),e.TgZ(27,"th",4),e._uU(28,"|"),e.qZA(),e.TgZ(29,"th",4)(30,"a",6),e.NdJ("click",function(){return o.changePage(0)}),e._uU(31," \xab "),e.qZA()(),e.TgZ(32,"th",4),e._uU(33,"|"),e.qZA(),e.TgZ(34,"th",4)(35,"a",6),e.NdJ("click",function(){return o.changePage(o.page-1)}),e._uU(36," < "),e.qZA()(),e.TgZ(37,"th",4),e._uU(38,"|"),e.qZA(),e.TgZ(39,"th",4),e.YNc(40,od,5,4,"span",7),e.qZA(),e.TgZ(41,"th",4),e._uU(42,"|"),e.qZA(),e.TgZ(43,"th",4)(44,"a",6),e.NdJ("click",function(){return o.changePage(o.page+1)}),e._uU(45," > "),e.qZA()(),e.TgZ(46,"th",4),e._uU(47,"|"),e.qZA(),e.TgZ(48,"th",4)(49,"a",6),e.NdJ("click",function(){return o.changePage(o.totalPages)}),e._uU(50," \xbb "),e.qZA()(),e.TgZ(51,"th",4),e._uU(52,"|"),e.qZA()(),e.TgZ(53,"tr")(54,"th",4),e._uU(55,"+"),e.qZA(),e._UZ(56,"th",5),e.TgZ(57,"th",4),e._uU(58,"+"),e.qZA()()()()),2&t&&(e.xp6(26),e.lnq(" Page ",o.page+1," of ",o.totalPages," (",o.total," words) "),e.xp6(14),e.Q6J("ngForOf",o.pageBttns))},dependencies:[ut,St,On]}),r})(),Ka=(()=>{class r{transform(t,...o){return t&&t.replace(/\u0261/g,"g").replace(/\ua7ac/g,"G")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275pipe=e.Yjl({name:"writtenWord",type:r,pure:!0}),r})();function Zx(r,n){if(1&r&&(e.TgZ(0,"option",9),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.displayName)}}function bC(r,n){if(1&r&&(e.TgZ(0,"option",9),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function AC(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.AsE("",0==o?"":", ","",t.name,"")}}function kx(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.deleteWord(i))}),e._uU(1,"x"),e.qZA()}}const xt=function(r){return["/words/word",r]};function bI(r,n){if(1&r&&(e.TgZ(0,"tr",14)(1,"th",4),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",20)(4,"span",21),e._uU(5),e.ALo(6,"writtenWord"),e.qZA()(),e.TgZ(7,"th",4),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",22)(10,"a",23),e._uU(11),e.qZA()(),e.TgZ(12,"th",4),e._uU(13,"|"),e.qZA(),e.TgZ(14,"th",4),e._uU(15),e.qZA(),e.TgZ(16,"th",4),e._uU(17,"|"),e.qZA(),e.TgZ(18,"th",5),e._UZ(19,"span",7),e.YNc(20,AC,2,2,"span",24),e.TgZ(21,"span"),e._uU(22),e.qZA()(),e.TgZ(23,"th",4)(24,"span"),e._uU(25,"|"),e.qZA()(),e.TgZ(26,"th",4),e.YNc(27,kx,2,0,"a",25),e.qZA(),e.TgZ(28,"th",4),e._uU(29,"|"),e.qZA()()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,8,t.writtenWord)),e.xp6(5),e.Q6J("fragment",null==t.language?null:t.language.displayName)("routerLink",e.VKq(10,xt,t.word)),e.xp6(1),e.hij("/ ",t.word," / "),e.xp6(4),e.Oqu(null==t.partOfSpeech?null:t.partOfSpeech.abbreviation),e.xp6(5),e.Q6J("ngForOf",t.grammaticalValues),e.xp6(2),e.hij(" from ",null==t.language?null:t.language.displayName,""),e.xp6(5),e.Q6J("ngIf",o.canDeleteWord(t))}}let AI=(()=>{class r{constructor(t,o,i){this.wordService=t,this.languageService=o,this.posService=i,this.words={},this.languages=[],this.poses=[],this.pageSize=30,this.canDelete=new Map}ngOnInit(){this.languageService.getAllLanguages().subscribe(t=>{this.languages=t.sort((o,i)=>o.displayName?o.displayName.localeCompare(i.displayName?i.displayName:""):-1)}),this.posService.getAllPos().subscribe(t=>{this.poses=t.sort((o,i)=>o.name?o.name.localeCompare(i.name?i.name:""):-1)})}load(t){this.wordService.getAllWords({filter:t}).subscribe(o=>{o.data&&(this.words=o,o.data.forEach(i=>{if(i.id){const a=i.id;this.wordService.canDeleteWord({wordId:a}).subscribe(d=>{this.canDelete.set(a,d)})}}))})}loadDefault(t){var o,i;console.log("loadDefault",t,this.pos,this.language,this.wordSearch),t||(t={}),t={page:t.page?t.page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,languageId:t.languageId?t.languageId:null===t.languageId||null===(o=this.language)||void 0===o?void 0:o.id,posId:t.posId?t.posId:null===t.posId||null===(i=this.pos)||void 0===i?void 0:i.id},this.load(t)}deleteWord(t){t.id&&this.wordService.deleteWord({id:t.id}).subscribe(()=>{var o;this.words.data=null===(o=this.words.data)||void 0===o?void 0:o.filter(i=>i.id!==t.id)})}addNewWord(t){this.wordService.addWord({body:t}).subscribe(o=>{var i;null===(i=this.words.data)||void 0===i||i.push(o)})}resetFilter(){this.language=void 0,this.pos=void 0,this.wordSearch=void 0,this.loadDefault({})}canDeleteWord(t){return!!t.id&&!!this.canDelete.get(t.id)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Qa),e.Y36(ca),e.Y36(Ei))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-words-list"]],decls:58,vars:12,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","9px"],["span","1",2,"width","70px"],[1,"border"],[1,"border",2,"text-align","left"],["type","text",2,"height","16px","margin-left","16px",3,"ngModel","ngModelChange"],[2,"margin-left","8px"],["id","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["id","posSelector",1,"posSelector",3,"ngModel","ngModelChange"],[1,"text-red-dull",3,"click"],["app-horizontal-dash","","colspan","3",1,"border"],[1,"table-content"],["span","1",2,"width","1%"],["span","1",2,"width","40px"],["span","1",2,"width","17px"],["class","table-content",4,"ngFor","ngForOf"],[3,"page","size","totalPages","total","load"],[2,"text-align","left","padding-left","8px","padding-right","8px"],[1,"text-green-dull","text-line",2,"white-space","nowrap","text-transform","capitalize"],[2,"padding-left","8px","padding-right","8px"],[1,"text-main","link-btn",3,"fragment","routerLink"],[4,"ngFor","ngForOf"],["class","text-red-dull",3,"click",4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",0),e.qZA(),e.TgZ(7,"tbody")(8,"tr")(9,"th",4),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e.qZA(),e.TgZ(13,"th",5)(14,"input",6),e.NdJ("ngModelChange",function(a){return o.loadDefault({word:a})})("ngModelChange",function(a){return o.wordSearch=a}),e.qZA(),e.TgZ(15,"span",7)(16,"select",8),e.NdJ("ngModelChange",function(a){return o.loadDefault({languageId:null==a?null:a.id})})("ngModelChange",function(a){return o.language=a}),e.TgZ(17,"option",9),e._uU(18,"All languages"),e.qZA(),e.YNc(19,Zx,2,2,"option",10),e.qZA()(),e.TgZ(20,"span",7)(21,"select",11),e.NdJ("ngModelChange",function(a){return o.loadDefault({posId:null==a?null:a.id})})("ngModelChange",function(a){return o.pos=a}),e.TgZ(22,"option",9),e._uU(23,"Any part of speech"),e.qZA(),e.YNc(24,bC,2,2,"option",10),e.qZA()()(),e.TgZ(25,"th",4),e._uU(26,"|"),e._UZ(27,"br"),e._uU(28,"|"),e.qZA(),e.TgZ(29,"th")(30,"a",12),e.NdJ("click",function(){return o.resetFilter()}),e._uU(31,"[ x ]"),e.qZA()(),e.TgZ(32,"th",4),e._uU(33,"|"),e._UZ(34,"br"),e._uU(35,"|"),e.qZA()(),e.TgZ(36,"tr")(37,"th",4),e._uU(38,"+"),e.qZA(),e._UZ(39,"th",13),e.TgZ(40,"th",4),e._uU(41,"+"),e.qZA()()()(),e.TgZ(42,"table",14)(43,"colgroup"),e._UZ(44,"col",0)(45,"col",15)(46,"col",0)(47,"col",15)(48,"col",0)(49,"col",16)(50,"col",0)(51,"col",1)(52,"col",0)(53,"col",17)(54,"col",0),e.qZA(),e.TgZ(55,"tbody",14),e.YNc(56,bI,30,12,"tr",18),e.qZA()(),e.TgZ(57,"app-list-paginator",19),e.NdJ("load",function(a){return o.loadDefault(a)}),e.qZA()),2&t&&(e.xp6(14),e.Q6J("ngModel",o.wordSearch),e.xp6(2),e.Q6J("ngModel",o.language),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.languages),e.xp6(2),e.Q6J("ngModel",o.pos),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.poses),e.xp6(32),e.Q6J("ngForOf",o.words.data),e.xp6(1),e.Q6J("page",o.words.page?o.words.page:0)("size",o.pageSize)("totalPages",o.words.totalPages?o.words.totalPages:0)("total",o.words.total?o.words.total:0))},dependencies:[ut,St,Ai,so,oi,Un,_r,xn,un,On,wC,Ka]}),r})();var $l=(()=>(($l||($l={})).General="GENERAL",$l))();function id(r,n){if(1&r&&(e.TgZ(0,"span")(1,"span",4),e._uU(2),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.hij(" /",t.translation.wordTo.word,"/")}}const II=function(r){return["/words/word",r]};function tg(r,n){if(1&r&&(e.TgZ(0,"a",2),e._uU(1),e.ALo(2,"writtenWord"),e.YNc(3,id,3,1,"span",3),e.qZA()),2&r){const t=e.oxw();e.Q6J("routerLink",e.VKq(5,II,t.translation.wordTo.word)),e.xp6(1),e.Oqu(e.lcZ(2,3,t.translation.wordTo.writtenWord)),e.xp6(2),e.Q6J("ngIf",t.translation.wordTo.writtenWord!==t.translation.wordTo.word)}}function ng(r,n){if(1&r&&(e.TgZ(0,"a",5),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.translation.phraseTo)}}let Kn=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-translation-word"]],inputs:{translation:"translation"},decls:2,vars:2,consts:[["class","text-blue-dull link-btn",3,"routerLink",4,"ngIf"],["class","text-blue-dull link-btn",4,"ngIf"],[1,"text-blue-dull","link-btn",3,"routerLink"],[4,"ngIf"],[1,"text-grey"],[1,"text-blue-dull","link-btn"]],template:function(t,o){1&t&&(e.YNc(0,tg,4,7,"a",0),e.YNc(1,ng,2,1,"a",1)),2&t&&(e.Q6J("ngIf",o.translation.wordTo),e.xp6(1),e.Q6J("ngIf",!o.translation.wordTo))},dependencies:[St,Ai,Ka]}),r})(),EI=(()=>{class r{transform(t,...o){return t===$l.General?"gen.":t}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275pipe=e.Yjl({name:"translationType",type:r,pure:!0}),r})();function IC(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"app-translation-word",1),e.qZA()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Oqu(0==o?"":"; "),e.xp6(1),e.Q6J("translation",t)}}function EC(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"dt"),e._uU(2),e.ALo(3,"translationType"),e.qZA(),e.TgZ(4,"dd"),e.YNc(5,IC,3,2,"span",0),e.qZA(),e.BQk()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.AsE("",o," ",e.lcZ(3,3,t),""),e.xp6(3),e.Q6J("ngForOf",i.getTranslationForWordAndType(t,!0,o))}}function DI(r,n){if(1&r&&(e.TgZ(0,"li"),e._UZ(1,"app-translation-word",1),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("translation",t)}}function DC(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"dt"),e._uU(2),e.ALo(3,"translationType"),e.qZA(),e.TgZ(4,"dd")(5,"ol"),e.YNc(6,DI,2,1,"li",0),e.qZA()(),e.BQk()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.AsE("",o," ",e.lcZ(3,3,t),""),e.xp6(4),e.Q6J("ngForOf",i.getTranslationForWordAndType(t,!1,o))}}function SC(r,n){if(1&r&&(e.ynx(0),e.YNc(1,EC,6,5,"ng-container",0),e.YNc(2,DC,7,5,"ng-container",0),e.BQk()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.getWordTranslationsTypes(t)),e.xp6(1),e.Q6J("ngForOf",o.getPhraseTranslationsTypes(t))}}let xC=(()=>{class r{constructor(){}get getTranslationLangs(){var t;const o=null===(t=this.translations)||void 0===t?void 0:t.map(a=>{var d,f,y;return null!==(d=a.wordTo)&&void 0!==d&&d.language?null===(f=a.wordTo)||void 0===f?void 0:f.language:null===(y=a.phraseTo)||void 0===y?void 0:y.language}).map(a=>a?a.displayName:"Unknown");return[...new Set(o)]||[]}getWordTranslationsTypes(t){return this.getTranslationTypes(!0,t)}getPhraseTranslationsTypes(t){return this.getTranslationTypes(!1,t)}getTranslationTypes(t,o){var i;const a=null===(i=this.translations)||void 0===i?void 0:i.filter(f=>{var y,w;return t?f.wordTo&&(null===(y=f.wordTo.language)||void 0===y?void 0:y.displayName)===o:f.phraseTo&&(null===(w=f.phraseTo.language)||void 0===w?void 0:w.displayName)===o}).map(f=>f.type).map(f=>f||$l.General);return[...new Set(a)]||[]}getTranslationForWordAndType(t,o,i){var a;return(null===(a=this.translations)||void 0===a?void 0:a.filter(f=>{var y,w;return(o?f.wordTo&&(null===(y=f.wordTo.language)||void 0===y?void 0:y.displayName)===i:f.phraseTo&&(null===(w=f.phraseTo.language)||void 0===w?void 0:w.displayName)===i)&&f.type===t}))||[]}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-detail-translations"]],inputs:{translations:"translations"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"translation"]],template:function(t,o){1&t&&(e.TgZ(0,"dl"),e.YNc(1,SC,3,2,"ng-container",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.getTranslationLangs))},dependencies:[ut,Kn,EI]}),r})();function ZC(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" /",t.wordWithTranslations.word,"/")}}function SI(r,n){if(1&r&&(e.ynx(0),e._uU(1),e._UZ(2,"app-translation-word",3),e.BQk()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Oqu(o>0?", ":""),e.xp6(1),e.Q6J("translation",t)}}function xI(r,n){if(1&r&&(e.TgZ(0,"span")(1,"span"),e._uU(2," ("),e.qZA(),e.YNc(3,SI,3,2,"ng-container",2),e._uU(4,")"),e.qZA()),2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.wordWithTranslations.translations)}}const ZI=function(r){return["/words/word",r]};let sd=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-written-with-translations"]],inputs:{wordWithTranslations:"wordWithTranslations"},decls:5,vars:8,consts:[[1,"text-main","link-btn",3,"routerLink"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"translation"]],template:function(t,o){1&t&&(e.TgZ(0,"a",0),e._uU(1),e.ALo(2,"writtenWord"),e.qZA(),e.YNc(3,ZC,2,1,"span",1),e.YNc(4,xI,5,1,"span",1)),2&t&&(e.Q6J("routerLink",e.VKq(6,ZI,o.wordWithTranslations.word)),e.xp6(1),e.Oqu(e.lcZ(2,4,o.wordWithTranslations.writtenWord)),e.xp6(2),e.Q6J("ngIf",o.wordWithTranslations.word!==o.wordWithTranslations.writtenWord),e.xp6(1),e.Q6J("ngIf",null==o.wordWithTranslations.translations?null:o.wordWithTranslations.translations.length))},dependencies:[ut,St,Ai,Kn,Ka]}),r})();function kI(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"a",1)(3,"i"),e._uU(4),e.qZA()(),e._uU(5," *"),e._UZ(6,"app-word-written-with-translations",2),e.qZA()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Oqu(0==o?"":", "),e.xp6(3),e.Oqu(null==t.language?null:t.language.displayName),e.xp6(2),e.Q6J("wordWithTranslations",t)}}let NI=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-detail-list"]],inputs:{wordsWithTranslations:"wordsWithTranslations"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"text-grey"],[3,"wordWithTranslations"]],template:function(t,o){1&t&&e.YNc(0,kI,7,3,"span",0),2&t&&e.Q6J("ngForOf",o.wordsWithTranslations)},dependencies:[ut,sd]}),r})();const UI=["app-word-detail-descendants",""];function rg(r,n){if(1&r&&e._UZ(0,"app-word-written-with-translations",2),2&r){const t=e.oxw();e.Q6J("wordWithTranslations",t.descendant.word)}}function kC(r,n){1&r&&e._UZ(0,"li",3),2&r&&e.Q6J("descendant",n.$implicit)}let NC=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["li","app-word-detail-descendants",""]],inputs:{descendant:"descendant"},attrs:UI,decls:5,vars:3,consts:[[3,"wordWithTranslations",4,"ngIf"],["app-word-detail-descendants","",3,"descendant",4,"ngFor","ngForOf"],[3,"wordWithTranslations"],["app-word-detail-descendants","",3,"descendant"]],template:function(t,o){1&t&&(e._uU(0),e.YNc(1,rg,1,1,"app-word-written-with-translations",0),e._uU(2,".\n"),e.TgZ(3,"ul"),e.YNc(4,kC,1,1,"li",1),e.qZA()),2&t&&(e.hij("",null==o.descendant.word||null==o.descendant.word.language?null:o.descendant.word.language.displayName,": "),e.xp6(1),e.Q6J("ngIf",o.descendant.word),e.xp6(3),e.Q6J("ngForOf",o.descendant.descendants))},dependencies:[ut,St,sd,r]}),r})();function UC(r,n){if(1&r&&(e.TgZ(0,"option",3),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}let MI=(()=>{class r{constructor(t){this.categoryService=t}ngOnInit(){var t;console.log("ngOnInit value",this.value),this.value=null===(t=this.categoryValues)||void 0===t?void 0:t.find(o=>{var i;return o.id==(null===(i=this.value)||void 0===i?void 0:i.id)})}valueChanged(t){console.log("Value changed",t),t.value?this.categoryService.replaceGrammaticalValuesByWord({body:{value:t.value,word:this.word}}).subscribe(()=>console.log("Saved value")):this.word.id&&this.category.id&&this.categoryService.removeGrammaticalValuesByWord({wordId:this.word.id,categoryId:this.category.id}).subscribe(()=>console.log("Removed value"))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Uu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-grammar-category"]],inputs:{category:"category",categoryValues:"categoryValues",value:"value",connected:"connected",word:"word"},decls:7,vars:5,consts:[[3,"ngClass"],[1,"input-group",2,"margin-right","12px"],["id","newWordTypeSelector",1,"posSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"span",0),e._uU(1),e.qZA(),e._uU(2,":\n"),e.TgZ(3,"span",1)(4,"select",2),e.NdJ("ngModelChange",function(a){return o.valueChanged({value:a})})("ngModelChange",function(a){return o.value=a}),e._UZ(5,"option",3),e.YNc(6,UC,2,2,"option",4),e.qZA()()),2&t&&(e.Q6J("ngClass",o.connected?"":"text-red-dull"),e.xp6(1),e.Oqu(o.category.name),e.xp6(3),e.Q6J("ngModel",o.value),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(1),e.Q6J("ngForOf",o.categoryValues))},dependencies:[er,ut,so,oi,_r,xn,un]}),r})();function Jh(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"span",5),e._uU(3),e.qZA()()),2&r){const t=n.$implicit,o=n.index,i=e.oxw(2);e.xp6(1),e.Oqu(0==o?"":", "),e.xp6(1),e.Q6J("ngClass",i.isValueConnected(t)?"":"text-red-dull"),e.xp6(1),e.Oqu(null==t.value?null:t.value.name)}}function Wh(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span",2),e.YNc(1,Jh,4,3,"span",3),e.TgZ(2,"a",4),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.isEditCategories=!0)}),e._uU(3," [e]"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.wordValues)}}function PI(r,n){if(1&r&&e._UZ(0,"app-word-grammar-category",7),2&r){const t=e.oxw().$implicit,o=e.oxw(2);e.Q6J("categoryValues",o.categoryValues.get(t))("category",t)("connected",o.isCategoryConnected(t))("value",o.getWordCategoryValue(t))("word",o.word)}}function OI(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,PI,1,5,"app-word-grammar-category",6),e.qZA()),2&r){const t=n.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.isCategoryConnected(t)||o.getWordCategoryValue(t))}}function RI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span",2),e.YNc(1,OI,2,1,"span",3),e.TgZ(2,"a",4),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.save())}),e._uU(3," [close]"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.categories)}}let MC=(()=>{class r{constructor(t){this.categoryService=t,this.categoryValues=new Map,this.categoryConnections=new Map,this.wordValues=[],this.isEditCategories=!1}get categories(){return[...this.categoryValues.keys()].sort((t,o)=>t.name?t.name.localeCompare(o.name?o.name:""):-1)}ngOnInit(){this.categoryService.getAllCategories().subscribe(t=>{t.forEach(o=>{var i,a;this.categoryValues.set(o,[]),o.id&&(null===(i=this.word.language)||void 0===i?void 0:i.id)&&this.categoryService.getCategoryValuesByCategoryAndLang({categoryId:o.id,langId:this.word.language.id}).subscribe(d=>{this.categoryValues.set(o,d)}),(null===(a=this.word.language)||void 0===a?void 0:a.id)&&o.id&&this.categoryService.getGrammaticalCategoryConnectionsForLang({categoryId:o.id,languageId:this.word.language.id}).subscribe(d=>{o.id&&this.categoryConnections.set(o.id,!!d.find(f=>{var y,w;return(null===(y=null==f?void 0:f.pos)||void 0===y?void 0:y.id)===(null===(w=this.word.partOfSpeech)||void 0===w?void 0:w.id)}))})})}),this.reloadWordValues()}save(){this.reloadWordValues(),this.isEditCategories=!1}getWordCategoryValue(t){var o,i;const a=null===(i=null===(o=this.wordValues)||void 0===o?void 0:o.find(d=>{var f,y;return(null===(y=null===(f=d.value)||void 0===f?void 0:f.category)||void 0===y?void 0:y.id)==t.id}))||void 0===i?void 0:i.value;return null==a?void 0:a}isValueConnected(t){var o;return this.isCategoryConnected(null===(o=null==t?void 0:t.value)||void 0===o?void 0:o.category)}isCategoryConnected(t){return!(null==t||!t.id||!this.categoryConnections.get(t.id))}reloadWordValues(){this.word.id&&this.categoryService.getGrammaticalValuesByWord({wordId:this.word.id}).subscribe(t=>{this.wordValues=t})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Uu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-grammar"]],inputs:{word:"word"},decls:8,vars:6,consts:[[1,"text-green-dull","text-line",2,"text-transform","capitalize"],["style","margin-left: 8px;",4,"ngIf"],[2,"margin-left","8px"],[4,"ngFor","ngForOf"],[1,"text-grey-dull","link-btn",3,"click"],[3,"ngClass"],[3,"categoryValues","category","connected","value","word",4,"ngIf"],[3,"categoryValues","category","connected","value","word"]],template:function(t,o){1&t&&(e.TgZ(0,"span",0)(1,"i"),e._uU(2),e.ALo(3,"writtenWord"),e.qZA()(),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.YNc(6,Wh,4,1,"span",1),e.YNc(7,RI,4,1,"span",1)),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,4,o.word.writtenWord)),e.xp6(3),e.hij(" ",null==o.word.partOfSpeech||null==o.word.partOfSpeech.name?null:o.word.partOfSpeech.name.toLowerCase(),";"),e.xp6(1),e.Q6J("ngIf",!o.isEditCategories),e.xp6(1),e.Q6J("ngIf",o.isEditCategories))},dependencies:[er,ut,St,MI,Ka]}),r})();function PC(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," - "),e.qZA())}function OC(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,PC,2,0,"span",6),e.TgZ(2,"a",7),e._uU(3),e.qZA()()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Q6J("ngIf",o>0),e.xp6(1),e.Q6J("fragment",t.displayName)("routerLink","."),e.xp6(1),e.Oqu(t.displayName)}}function LI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"span",3),e._uU(2),e.qZA(),e.TgZ(3,"a",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.editComment())}),e._uU(4," [e]"),e.qZA()()}if(2&r){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",null==t.word?null:t.word.comment,"")}}function RC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"input",18),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw(2).$implicit,d=e.oxw(2);return e.KtG(d.changeComment(i,a.word))})("ngModelChange",function(i){e.CHM(t);const a=e.oxw(2).$implicit;return e.KtG(a.word.comment=i)}),e.qZA()}if(2&r){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.word.comment)}}function FI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e.YNc(1,RC,1,1,"input",15),e.TgZ(2,"a",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.saveComment(i.word))}),e._uU(3," [s]"),e.qZA(),e.TgZ(4,"a",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.editComment())}),e._uU(5," [c]"),e.qZA()()}if(2&r){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.word)}}const LC=function(r){return["/words",r]};function Nx(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",2),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",11)(4,"a",12),e._uU(5),e.ALo(6,"writtenWord"),e.qZA(),e._uU(7),e.TgZ(8,"a",13),e._uU(9),e.qZA(),e.YNc(10,LI,5,1,"span",6),e.YNc(11,FI,6,1,"span",6),e.qZA(),e.TgZ(12,"th",2),e._uU(13,"|"),e.qZA()()),2&r){const t=n.$implicit,o=e.oxw(2);e.xp6(4),e.Q6J("routerLink",e.VKq(9,LC,null==t.word?null:t.word.word)),e.xp6(1),e.Oqu(e.lcZ(6,7,null==t.word?null:t.word.writtenWord)),e.xp6(2),e.hij(" ",null==t.word||null==t.word.partOfSpeech?null:t.word.partOfSpeech.abbreviation," "),e.xp6(1),e.Q6J("routerLink",e.VKq(11,LC,null==t.word?null:t.word.word)),e.xp6(1),e.hij("/ ",null==t.word?null:t.word.word," /"),e.xp6(1),e.Q6J("ngIf",!o.isEditComment),e.xp6(1),e.Q6J("ngIf",o.isEditComment)}}function Ux(r,n){if(1&r&&e._UZ(0,"app-word-grammar",24),2&r){const t=e.oxw().$implicit;e.Q6J("word",t.word)}}function Mx(r,n){if(1&r&&(e.TgZ(0,"p"),e._uU(1," From "),e._UZ(2,"app-word-detail-list",25),e._uU(3," . "),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("wordsWithTranslations",null==t.etymology?null:t.etymology.from)}}function Px(r,n){1&r&&(e.TgZ(0,"p"),e._uU(1,"New word."),e.qZA())}function FC(r,n){if(1&r&&(e.TgZ(0,"p"),e._uU(1," Cognate with "),e._UZ(2,"app-word-detail-list",25),e._uU(3," . "),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("wordsWithTranslations",null==t.etymology?null:t.etymology.cognate)}}function og(r,n){if(1&r&&(e.TgZ(0,"div",27),e._UZ(1,"app-word-detail-translations",28),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("translations",t.translations)}}function qI(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",19),e._uU(6,"Translations"),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr"),e._UZ(16,"th",20),e.TgZ(17,"th",21),e.YNc(18,og,2,1,"div",26),e.qZA(),e._UZ(19,"th",20),e.qZA(),e.TgZ(20,"tr")(21,"th",2),e._uU(22,"+"),e.qZA(),e._UZ(23,"th",5),e.TgZ(24,"th",2),e._uU(25,"+"),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(18),e.Q6J("ngIf",t.translations)}}function VI(r,n){if(1&r&&(e.TgZ(0,"p"),e._uU(1," Derived to "),e._UZ(2,"app-word-detail-list",25),e._uU(3," . "),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("wordsWithTranslations",t.derived)}}function qC(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",19),e._uU(6,"Derived"),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr"),e._UZ(16,"th",20),e.TgZ(17,"th",21)(18,"div",22),e.YNc(19,VI,4,1,"p",6),e.qZA()(),e._UZ(20,"th",20),e.qZA(),e.TgZ(21,"tr")(22,"th",2),e._uU(23,"+"),e.qZA(),e._UZ(24,"th",5),e.TgZ(25,"th",2),e._uU(26,"+"),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(19),e.Q6J("ngIf",t.derived)}}function zh(r,n){1&r&&e._UZ(0,"li",30),2&r&&e.Q6J("descendant",n.$implicit)}function BI(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",19),e._uU(6,"Descendants"),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr"),e._UZ(16,"th",20),e.TgZ(17,"th",21)(18,"div",27)(19,"ul"),e.YNc(20,zh,1,1,"li",29),e.qZA()()(),e._UZ(21,"th",20),e.qZA(),e.TgZ(22,"tr")(23,"th",2),e._uU(24,"+"),e.qZA(),e._UZ(25,"th",5),e.TgZ(26,"th",2),e._uU(27,"+"),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(20),e.Q6J("ngForOf",t.descendants.descendants)}}function jI(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",19),e._uU(6,"Grammar"),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr"),e._UZ(16,"th",20),e.TgZ(17,"th",21)(18,"div",22),e.YNc(19,Ux,1,1,"app-word-grammar",23),e.qZA()(),e._UZ(20,"th",20),e.qZA(),e.TgZ(21,"tr")(22,"th",2),e._uU(23,"+"),e.qZA(),e._UZ(24,"th",5),e.TgZ(25,"th",2),e._uU(26,"+"),e.qZA()(),e.TgZ(27,"tr")(28,"th",2),e._uU(29,"|"),e.qZA(),e.TgZ(30,"th",2)(31,"span",19),e._uU(32,"Etymology "),e.TgZ(33,"span"),e._uU(34),e.qZA()()(),e.TgZ(35,"th",2),e._uU(36,"|"),e.qZA()(),e.TgZ(37,"tr")(38,"th",2),e._uU(39,"+"),e.qZA(),e._UZ(40,"th",5),e.TgZ(41,"th",2),e._uU(42,"+"),e.qZA()(),e.TgZ(43,"tr"),e._UZ(44,"th",20),e.TgZ(45,"th",21)(46,"div",22),e.YNc(47,Mx,4,1,"p",6),e.YNc(48,Px,2,0,"p",6),e.YNc(49,FC,4,1,"p",6),e.qZA()(),e._UZ(50,"th",20),e.qZA(),e.TgZ(51,"tr")(52,"th",2),e._uU(53,"+"),e.qZA(),e._UZ(54,"th",5),e.TgZ(55,"th",2),e._uU(56,"+"),e.qZA()(),e.YNc(57,qI,26,1,"ng-container",6),e.YNc(58,qC,27,1,"ng-container",6),e.YNc(59,BI,28,1,"ng-container",6),e.BQk()),2&r){const t=n.$implicit,o=n.index;e.xp6(19),e.Q6J("ngIf",t.word),e.xp6(15),e.Oqu(o+1),e.xp6(13),e.Q6J("ngIf",null==t.etymology||null==t.etymology.from?null:t.etymology.from.length),e.xp6(1),e.Q6J("ngIf",!(null!=t.etymology&&null!=t.etymology.from&&t.etymology.from.length)),e.xp6(1),e.Q6J("ngIf",null==t.etymology||null==t.etymology.cognate?null:t.etymology.cognate.length),e.xp6(8),e.Q6J("ngIf",t.translations&&t.translations.length),e.xp6(1),e.Q6J("ngIf",t.derived&&t.derived.length),e.xp6(1),e.Q6J("ngIf",t.descendants&&(null==t.descendants||null==t.descendants.descendants?null:t.descendants.descendants.length))}}function $I(r,n){if(1&r&&(e.TgZ(0,"tbody")(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",8)(5,"a",9),e._uU(6),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.YNc(15,Nx,14,13,"tr",4),e.TgZ(16,"tr")(17,"th",2),e._uU(18,"+"),e.qZA(),e._UZ(19,"th",10),e.TgZ(20,"th",2),e._uU(21,"+"),e.qZA()(),e.YNc(22,jI,60,8,"ng-container",4),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(5),e.Q6J("fragment",t.displayName)("id",t.displayName)("routerLink","."),e.xp6(1),e.Oqu(t.displayName),e.xp6(9),e.Q6J("ngForOf",o.detailedWords.get(t)),e.xp6(7),e.Q6J("ngForOf",o.detailedWords.get(t))}}let GI=(()=>{class r{constructor(t,o){this.activatedRoute=t,this.wordsService=o,this.detailedWords=new Map,this.languages=[],this.isEditComment=!1}get detailedWordsKeys(){return this.languages}ngOnInit(){this.activatedRoute.data.subscribe(t=>{if(t&&t.wordDetails){const o=t.wordDetails;console.log("WordsDetailComponent ngOnInit",o);const i={displayName:""};this.languages=o.filter(a=>{var d;return null===(d=a.word)||void 0===d?void 0:d.language}).map(a=>{var d;return null!==(d=a.word)&&void 0!==d&&d.language?a.word.language:i}),o.forEach(a=>{var d;if(null!==(d=a.word)&&void 0!==d&&d.language){const f=this.detailedWords.get(a.word.language);f?f.push(a):this.detailedWords.set(a.word.language,[a])}})}})}ngOnDestroy(){console.log("WordsDetailComponent ngOnDestroy")}editComment(){this.isEditComment=!this.isEditComment}saveComment(t){console.log(t),t&&this.wordsService.addWord({body:t}).subscribe(o=>{t.comment=o.comment,this.isEditComment=!1})}changeComment(t,o){o.comment=t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(oa),e.Y36(Qa))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-words"]],decls:20,vars:2,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],[1,"border"],[1,"text-grey"],[4,"ngFor","ngForOf"],["app-horizontal-dash","",1,"border"],[4,"ngIf"],[1,"text-main","link-btn",3,"fragment","routerLink"],[1,"text-white"],[1,"text-white","link-btn",2,"text-transform","uppercase",3,"fragment","id","routerLink"],["app-horizontal-dash","",1,"border-dull"],[1,"border",2,"text-align","left"],[1,"text-green-dull","text-line","link-btn",3,"routerLink"],[1,"text-main","link-btn",3,"routerLink"],[1,"text-grey-dull","link-btn",3,"click"],["type","text","style","height: 16px; margin-left: 8px; margin-right: 0px;",3,"ngModel","ngModelChange",4,"ngIf"],[1,"text-green-dull","link-btn",3,"click"],[1,"text-red-dull","link-btn",3,"click"],["type","text",2,"height","16px","margin-left","8px","margin-right","0px",3,"ngModel","ngModelChange"],[2,"text-transform","capitalize"],["app-vertical-dash","",1,"border"],[2,"text-align","left"],[1,"cell-content","text-cell-content"],[3,"word",4,"ngIf"],[3,"word"],[3,"wordsWithTranslations"],["class","cell-content",4,"ngIf"],[1,"cell-content"],[3,"translations"],["app-word-detail-descendants","",3,"descendant",4,"ngFor","ngForOf"],["app-word-detail-descendants","",3,"descendant"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0),e.qZA(),e.TgZ(5,"tbody")(6,"tr")(7,"th",2),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",3),e.YNc(10,OC,4,4,"span",4),e.qZA(),e.TgZ(11,"th",2),e._uU(12,"|"),e.qZA()(),e.TgZ(13,"tr")(14,"th",2),e._uU(15,"+"),e.qZA(),e._UZ(16,"th",5),e.TgZ(17,"th",2),e._uU(18,"+"),e.qZA()()(),e.YNc(19,$I,23,6,"tbody",4),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngForOf",o.detailedWordsKeys),e.xp6(9),e.Q6J("ngForOf",o.detailedWordsKeys))},dependencies:[ut,St,Ai,Un,xn,un,On,zr,xC,NI,NC,MC,Ka],styles:[".text-line[_ngcontent-%COMP%]{margin-left:32px;text-transform:capitalize}.cell-content[_ngcontent-%COMP%]{margin:16px}.text-cell-content[_ngcontent-%COMP%]{text-indent:16px}.word-description[_ngcontent-%COMP%]{margin-block-start:.5em;padding-inline-start:40px}.border-dull[_ngcontent-%COMP%]{color:#3d3d3d!important}"]}),r})(),HI=(()=>{class r{constructor(){this.tabs=[{name:"Connections",route:"connections",enabled:!0},{name:"Category evolution",route:"category",enabled:!0},{name:"List evolve",route:"list",enabled:!0}]}ngOnInit(){}refreshAll(){}changeLang(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-evolution"]],decls:2,vars:1,consts:[[1,"table-container"],[3,"tabs"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-tab-routes",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("tabs",o.tabs))},dependencies:[ry]}),r})(),ig=(()=>{class r extends Fl{constructor(t,o){super(t,o)}addTranslation$Response(t){const o=new tt(this.rootUrl,r.AddTranslationPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:parseFloat(String(i.body))})))}addTranslation(t){return this.addTranslation$Response(t).pipe((0,K.U)(o=>o.body))}getAllWordsWithTranslationsFromLang1$Response(t){const o=new tt(this.rootUrl,r.GetAllWordsWithTranslationsFromLang1Path,"get");return t&&o.query("filter",t.filter,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getAllWordsWithTranslationsFromLang1(t){return this.getAllWordsWithTranslationsFromLang1$Response(t).pipe((0,K.U)(o=>o.body))}getTranslationsForWord$Response(t){const o=new tt(this.rootUrl,r.GetTranslationsForWordPath,"get");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}getTranslationsForWord(t){return this.getTranslationsForWord$Response(t).pipe((0,K.U)(o=>o.body))}deleteTranslation$Response(t){const o=new tt(this.rootUrl,r.DeleteTranslationPath,"delete");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:void 0})))}deleteTranslation(t){return this.deleteTranslation$Response(t).pipe((0,K.U)(o=>o.body))}}return r.AddTranslationPath="/api/translation/",r.GetAllWordsWithTranslationsFromLang1Path="/api/translation/page",r.GetTranslationsForWordPath="/api/translation/tranlationsfor/{id}",r.DeleteTranslationPath="/api/translation/{id}",r.\u0275fac=function(t){return new(t||r)(e.LFG(Qi),e.LFG(la))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function JI(r,n){if(1&r&&(e.TgZ(0,"option",4),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.displayName)}}let Qh=(()=>{class r{constructor(t){this.languagesService=t,this.selectedLanguageChange=new e.vpe,this.allLanguages=[]}ngOnInit(){console.log("AllLanguagesComponent"),console.log(this.label),this.languagesService.getAllLanguages().subscribe(t=>{this.allLanguages=t.sort((o,i)=>o.displayName.localeCompare(i.displayName)),this.selectedLanguage&&this.allLanguages.forEach(o=>{var i;(null===(i=this.selectedLanguage)||void 0===i?void 0:i.id)===o.id&&(this.selectedLanguage=o,this.changeLanguage())})})}changeLanguage(){console.log("changeLanguage",this.selectedLanguage),this.selectedLanguageChange.emit(this.selectedLanguage)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ca))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-all-languages"]],inputs:{label:"label",selectedLanguage:"selectedLanguage"},outputs:{selectedLanguageChange:"selectedLanguageChange"},decls:8,vars:4,consts:[[1,"selector"],["for","languageSelector",1,"languageSelectorLabel"],[1,"input-group"],["id","languageSelector","name","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange","change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"select",3),e.NdJ("ngModelChange",function(a){return o.selectedLanguage=a})("change",function(){return o.changeLanguage()}),e.TgZ(5,"option",4),e._uU(6," --- Select Language --- "),e.qZA(),e.YNc(7,JI,2,2,"option",5),e.qZA()()()),2&t&&(e.xp6(2),e.Oqu(o.label),e.xp6(2),e.Q6J("ngModel",o.selectedLanguage),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.allLanguages))},dependencies:[ut,so,oi,_r,xn,un],styles:[".languageSelector[_ngcontent-%COMP%]{margin-top:4px}.languageSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})();const ad=["app-translation-line",""];function WI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.startAddTranslation())}),e._uU(1,"[Edit]"),e.qZA()}}function VC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelTranslation())}),e._uU(1,"[Cancel]"),e.qZA()}}function zI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"["),e.TgZ(2,"a",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.deleteTranslation(i))}),e._uU(3,"x"),e.qZA(),e._uU(4,"]"),e.qZA()}}function BC(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"app-translation-word",15),e.YNc(3,zI,5,0,"span",10),e.qZA()),2&r){const t=n.$implicit,o=n.index,i=e.oxw(3);e.xp6(1),e.hij("",0==o?"":"; "," "),e.xp6(1),e.Q6J("translation",t),e.xp6(1),e.Q6J("ngIf",i.editMode)}}function QI(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",12)(4,"span",3),e._uU(5),e.qZA()(),e.TgZ(6,"th",13)(7,"span",3),e._uU(8),e.ALo(9,"translationType"),e.qZA()(),e.TgZ(10,"th",14),e.YNc(11,BC,4,3,"span",9),e.qZA(),e._UZ(12,"th",0),e.TgZ(13,"th",0),e._uU(14,"|"),e.qZA()()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(3),e.Q6J("rowSpan",i.getLanguageRowspans(o)),e.xp6(2),e.Oqu(o),e.xp6(3),e.Oqu(e.lcZ(9,4,t)),e.xp6(3),e.Q6J("ngForOf",i.getTranslationForWordAndType(t,!0,o))}}function jC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"["),e.TgZ(2,"a",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.deleteTranslation(i))}),e._uU(3,"x"),e.qZA(),e._uU(4,"]"),e.qZA()}}function KI(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"span",17),e._UZ(3,"app-translation-word",15),e.YNc(4,jC,5,0,"span",10),e.qZA()()),2&r){const t=n.$implicit,o=n.index,i=e.oxw(3);e.xp6(1),e.hij("",0==o?"":"; "," "),e.xp6(2),e.Q6J("translation",t),e.xp6(1),e.Q6J("ngIf",i.editMode)}}function oy(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",13)(4,"span",3),e._uU(5),e.ALo(6,"translationType"),e.qZA()(),e.TgZ(7,"th",14),e.YNc(8,KI,5,3,"span",9),e.qZA(),e._UZ(9,"th",0),e.TgZ(10,"th",0),e._uU(11,"|"),e.qZA()()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,2,t)),e.xp6(3),e.Q6J("ngForOf",i.getTranslationForWordAndType(t,!1,o))}}function YI(r,n){if(1&r&&(e.ynx(0),e.YNc(1,QI,15,6,"tr",9),e.YNc(2,oy,12,4,"tr",9),e.BQk()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.getTranslationTypes(!0,t)),e.xp6(1),e.Q6J("ngForOf",o.getTranslationTypes(!1,t))}}function $C(r,n){if(1&r&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function GC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr"),e._UZ(1,"th",18),e.TgZ(2,"th",19)(3,"div",20)(4,"app-all-languages",21),e.NdJ("selectedLanguageChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.changeLanguage(i))})("selectedLanguageChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.language=i)}),e.qZA(),e.TgZ(5,"input",22),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.changedWordTranslation(i))})("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.wordTranslation=i)}),e.qZA(),e.TgZ(6,"span",23)(7,"select",24),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.changePos(i))})("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.pos=i)}),e.TgZ(8,"option",25),e._uU(9,"--- Part of Speech ---"),e.qZA(),e.YNc(10,$C,2,2,"option",26),e.qZA()(),e.TgZ(11,"a",27),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addAsPhrase=!i.addAsPhrase)}),e._uU(12,"[ Phrase ]"),e.qZA()()(),e.TgZ(13,"th",28)(14,"a",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addNewTranslation())}),e._uU(15,"[Add New]"),e.qZA()(),e._UZ(16,"th",18),e.qZA()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("selectedLanguage",t.language)("label","To"),e.xp6(1),e.Q6J("ngModel",t.wordTranslation),e.xp6(2),e.Q6J("ngModel",t.pos),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",t.poses),e.xp6(1),e.Q6J("ngClass",t.addAsPhrase?"text-blue-dull":"text-grey-dull")}}const HC=function(r){return["/words/word",r]};function XI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th")(4,"a",31),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.addTranslationWord(a))}),e._uU(5,"[+]"),e.qZA()(),e.TgZ(6,"th",2)(7,"a",32),e._uU(8),e.ALo(9,"writtenWord"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"th",0),e._uU(12,"|"),e.qZA()()}if(2&r){const t=n.$implicit;e.xp6(7),e.Q6J("fragment",null==t.language?null:t.language.displayName)("routerLink",e.VKq(8,HC,t.word)),e.xp6(1),e.Oqu(e.lcZ(9,6,t.writtenWord)),e.xp6(2),e.lnq(" / ",t.word," / ",null==t.partOfSpeech?null:t.partOfSpeech.abbreviation," ",null==t.language?null:t.language.displayName," ")}}function eE(r,n){if(1&r&&(e.ynx(0),e.YNc(1,XI,13,10,"tr",9),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.wordsForTranslation.data)}}let iy=(()=>{class r{constructor(t,o,i){this.posService=t,this.wordsService=o,this.translationService=i,this.poses=[],this.wordsForTranslation={},this.editMode=!1,this.addAsPhrase=!1}ngOnInit(){}getTranslationTypes(t,o){var i;const a=null===(i=this.word.translations)||void 0===i?void 0:i.filter(f=>{var y,w;return t?f.wordTo&&(null===(y=f.wordTo.language)||void 0===y?void 0:y.displayName)===o:f.phraseTo&&(null===(w=f.phraseTo.language)||void 0===w?void 0:w.displayName)===o}).map(f=>f.type).map(f=>f||$l.General);return[...new Set(a)]||[]}getLanguageRowspans(t){return this.getTranslationTypes(!0,t).length+this.getTranslationTypes(!1,t).length}getTranslationLangs(){var t;const o=null===(t=this.word.translations)||void 0===t?void 0:t.map(a=>{var d,f,y;return null!==(d=a.wordTo)&&void 0!==d&&d.language?null===(f=a.wordTo)||void 0===f?void 0:f.language:null===(y=a.phraseTo)||void 0===y?void 0:y.language}).map(a=>a?a.displayName:"Unknown");return[...new Set(o)]||[]}getTranslationForWordAndType(t,o,i){var a;return(null===(a=this.word.translations)||void 0===a?void 0:a.filter(f=>{var y,w;return(o?f.wordTo&&(null===(y=f.wordTo.language)||void 0===y?void 0:y.displayName)===i:f.phraseTo&&(null===(w=f.phraseTo.language)||void 0===w?void 0:w.displayName)===i)&&f.type===t}))||[]}changeLanguage(t){console.log(t),this.pos=void 0,null!=t&&t.id&&this.posService.getAllPosByLanguage({languageId:null==t?void 0:t.id}).subscribe(o=>{var i;this.poses=o.sort((a,d)=>a.name?a.name.localeCompare(d.name?d.name:""):-1),null!==(i=this.word.partOfSpeech)&&void 0!==i&&i.id&&o.forEach(a=>{var d;(null===(d=this.word.partOfSpeech)||void 0===d?void 0:d.id)===a.id&&(this.pos=a,this.changePos(a,t))})})}changePos(t,o=this.language){console.log("changePos",t,"lang",o),o&&this.loadWordsTranslations(t,o)}startAddTranslation(){this.editMode=!0,this.languageToFilter&&(this.language=this.languageToFilter,console.log("start add translation",this.language))}loadWordsTranslations(t=this.pos,o=this.language,i=this.wordTranslation){console.log("loadWordsTranslations",t,"lang",o,"wordTranslation",i),o&&i&&this.wordsService.getAllWords({filter:{word:i,languageId:null==o?void 0:o.id,posId:null==t?void 0:t.id}}).subscribe(a=>{this.wordsForTranslation=a})}changedWordTranslation(t){this.loadWordsTranslations(this.pos,this.language,t)}addTranslationWord(t){this.addTranslation({type:$l.General,wordTo:t,wordFrom:this.word})}addNewTranslation(){this.refreshEdit()}deleteTranslation(t){t.id&&this.translationService.deleteTranslation({id:t.id}).subscribe(()=>{var o;this.word.translations=null===(o=this.word.translations)||void 0===o?void 0:o.filter(i=>i.id!==t.id),this.refreshEdit()})}cancelTranslation(){this.refreshEdit()}addTranslation(t){this.translationService.addTranslation({body:t}).subscribe(()=>{this.word.id?this.translationService.getTranslationsForWord({id:this.word.id}).subscribe(o=>{this.word.translations=o,this.refreshEdit()}):this.refreshEdit()})}refreshEdit(){this.language=void 0,this.pos=void 0,this.wordTranslation=void 0,this.editMode=!1,this.wordsForTranslation={}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ei),e.Y36(Qa),e.Y36(ig))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tbody","app-translation-line",""]],inputs:{word:"word",languageToFilter:"languageToFilter"},attrs:ad,decls:28,vars:16,consts:[[1,"border"],["app-horizontal-dash","","colspan","4",1,"border"],["colspan","3",2,"padding-left","8px","padding-right","8px","white-space","nowrap","text-align","left"],[2,"white-space","nowrap"],[1,"text-green-dull","link-btn",3,"fragment","routerLink"],[2,"text-transform","capitalize"],[1,"text-main","link-btn"],[1,"text-grey-dull"],["class","text-grey-dull",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-grey-dull",3,"click"],[1,"border",2,"padding-left","4px","padding-right","8px","text-align","left",3,"rowSpan"],[1,"border",2,"padding-left","4px","padding-right","8px","text-align","left"],[2,"padding-left","8px","padding-right","8px","white-space","nowrap","text-align","left"],[3,"translation"],[1,"text-red-dull",3,"click"],[1,"text-blue-dull","link-btn"],["app-vertical-dash","",1,"border"],["colspan","3"],[2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],["type","text",2,"height","16px","margin-left","8px","margin-top","30px","margin-right","0px",3,"ngModel","ngModelChange"],[2,"margin-left","8px","text-align","end"],["id","posSelector",1,"posSelector",2,"margin-top","28px",3,"ngModel","ngModelChange"],["disabled","",1,"text-grey-dull",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[2,"margin-left","16px","vertical-align","text-bottom","margin-top","32px",3,"ngClass","click"],[1,"border",2,"padding-top","22px"],[1,"text-green-dull",2,"vertical-align","text-bottom",3,"click"],[3,"ngValue"],[1,"text-green-dull","link-btn",3,"click"],[1,"text-blue-dull","link-btn",3,"fragment","routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"+"),e.qZA(),e._UZ(3,"th",1),e.TgZ(4,"th",0),e._uU(5,"+"),e.qZA()(),e.TgZ(6,"tr")(7,"th",0),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",2)(10,"span",3)(11,"a",4)(12,"span",5),e._uU(13),e.ALo(14,"writtenWord"),e.qZA(),e.TgZ(15,"span",6),e._uU(16),e.qZA()()(),e._uU(17),e.TgZ(18,"span",7),e._uU(19),e.qZA()(),e.TgZ(20,"th",0),e.YNc(21,WI,2,0,"a",8),e.YNc(22,VC,2,0,"a",8),e.qZA(),e.TgZ(23,"th",0),e._uU(24,"|"),e.qZA()(),e.YNc(25,YI,3,2,"ng-container",9),e.YNc(26,GC,17,7,"tr",10),e.YNc(27,eE,2,1,"ng-container",10)),2&t&&(e.xp6(11),e.Q6J("fragment",null==o.word.language?null:o.word.language.displayName)("routerLink",e.VKq(14,HC,o.word.word)),e.xp6(2),e.Oqu(e.lcZ(14,12,o.word.writtenWord)),e.xp6(3),e.hij(" / ",o.word.word," /"),e.xp6(1),e.hij(" ",o.word.comment," "),e.xp6(2),e.AsE(" ",null==o.word.partOfSpeech?null:o.word.partOfSpeech.abbreviation," ",null==o.word.language?null:o.word.language.displayName,""),e.xp6(2),e.Q6J("ngIf",!o.editMode),e.xp6(1),e.Q6J("ngIf",o.editMode),e.xp6(3),e.Q6J("ngForOf",o.getTranslationLangs()),e.xp6(1),e.Q6J("ngIf",o.editMode),e.xp6(1),e.Q6J("ngIf",o.editMode))},dependencies:[er,ut,St,Ai,so,oi,Un,_r,xn,un,On,zr,Qh,Kn,EI,Ka]}),r})();function tE(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"tbody",15),e.BQk()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("word",t)("languageToFilter",o.languageTo)}}let JC=(()=>{class r{constructor(t,o){this.translationService=t,this.languageService=o,this.words={},this.pageSize=20}ngOnInit(){}load(t){this.translationService.getAllWordsWithTranslationsFromLang1({filter:t}).subscribe(o=>{o.data&&(this.words=o)})}loadDefault(t){var o,i;console.log("loadDefault",t,this.languageFrom,this.languageTo,this.wordSearch,this.translationSearch),t||(t={}),t={page:t.page?t.page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,translation:t.translation?t.translation:""===t.translation?void 0:this.translationSearch,languageFromId:t.languageFromId?t.languageFromId:null===t.languageFromId||null===(o=this.languageFrom)||void 0===o?void 0:o.id,languageToId:t.languageToId?t.languageToId:null===t.languageToId||null===(i=this.languageTo)||void 0===i?void 0:i.id},this.load(t)}resetFilter(){this.languageFrom=void 0,this.languageTo=void 0,this.wordSearch=void 0,this.translationSearch=void 0,this.loadDefault({})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ig),e.Y36(ca))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-translations"]],decls:51,vars:11,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","9px"],["span","1",2,"width","70px"],[1,"border"],[1,"border",2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],["type","text",2,"height","16px","margin-left","8px","margin-top","30px","margin-right","0px",3,"ngModel","ngModelChange"],[1,"text-red-dull",3,"click"],[1,"table-content"],["span","1",2,"width","1%"],["span","1",2,"width","20px"],["span","1",2,"width","72px"],[4,"ngFor","ngForOf"],[3,"page","size","totalPages","total","load"],["app-translation-line","",3,"word","languageToFilter"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",0),e.qZA(),e.TgZ(7,"tbody")(8,"tr")(9,"th",4),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e._UZ(15,"br"),e._uU(16,"|"),e.qZA(),e.TgZ(17,"th",5)(18,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(a){return o.loadDefault({languageFromId:a.id})})("selectedLanguageChange",function(a){return o.languageFrom=a}),e.qZA(),e.TgZ(19,"input",7),e.NdJ("ngModelChange",function(a){return o.loadDefault({word:a})})("ngModelChange",function(a){return o.wordSearch=a}),e.qZA(),e.TgZ(20,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(a){return o.loadDefault({languageToId:a.id})})("selectedLanguageChange",function(a){return o.languageTo=a}),e.qZA(),e.TgZ(21,"input",7),e.NdJ("ngModelChange",function(a){return o.loadDefault({translation:a})})("ngModelChange",function(a){return o.translationSearch=a}),e.qZA()(),e.TgZ(22,"th",4),e._uU(23,"|"),e._UZ(24,"br"),e._uU(25,"|"),e._UZ(26,"br"),e._uU(27,"|"),e._UZ(28,"br"),e._uU(29,"|"),e.qZA(),e.TgZ(30,"th")(31,"a",8),e.NdJ("click",function(){return o.resetFilter()}),e._uU(32,"[ x ]"),e.qZA()(),e.TgZ(33,"th",4),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e._UZ(39,"br"),e._uU(40,"|"),e.qZA()()()(),e.TgZ(41,"table",9)(42,"colgroup"),e._UZ(43,"col",0)(44,"col",10)(45,"col",11)(46,"col",1)(47,"col",12)(48,"col",0),e.qZA(),e.YNc(49,tE,2,2,"ng-container",13),e.qZA(),e.TgZ(50,"app-list-paginator",14),e.NdJ("load",function(a){return o.loadDefault(a)}),e.qZA()),2&t&&(e.xp6(18),e.Q6J("selectedLanguage",o.languageFrom)("label","From"),e.xp6(1),e.Q6J("ngModel",o.wordSearch),e.xp6(1),e.Q6J("selectedLanguage",o.languageTo)("label","To"),e.xp6(1),e.Q6J("ngModel",o.translationSearch),e.xp6(28),e.Q6J("ngForOf",o.words.data),e.xp6(1),e.Q6J("page",o.words.page?o.words.page:0)("size",o.pageSize)("totalPages",o.words.totalPages?o.words.totalPages:0)("total",o.words.total?o.words.total:0))},dependencies:[ut,Un,xn,un,Qh,wC,iy]}),r})();var ma=(()=>{return(r=ma||(ma={})).Evolving="EVOLVING",r.Borrowing="BORROWING",r.Derivation="DERIVATION",ma;var r})();function nE(r,n){if(1&r&&(e.TgZ(0,"option",4),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t)}}let rE=(()=>{class r{constructor(){this.selectedLanguageConnectionChange=new e.vpe,this.allConnectionTypes=[ma.Evolving,ma.Borrowing]}ngOnInit(){}changeConnection(){console.log("changeLanguage",this.selectedLanguageConnection),this.selectedLanguageConnectionChange.emit(this.selectedLanguageConnection)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-connection"]],inputs:{label:"label",selectedLanguageConnection:"selectedLanguageConnection"},outputs:{selectedLanguageConnectionChange:"selectedLanguageConnectionChange"},decls:8,vars:4,consts:[[1,"selector"],["for","languageConnectionSelector",1,"languageConnectionSelectorLabel"],[1,"input-group"],["id","languageConnectionSelector","name","languageConnectionSelector",1,"languageConnectionSelector",3,"ngModel","ngModelChange","change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"select",3),e.NdJ("ngModelChange",function(a){return o.selectedLanguageConnection=a})("change",function(){return o.changeConnection()}),e.TgZ(5,"option",4),e._uU(6,"No connection"),e.qZA(),e.YNc(7,nE,2,2,"option",5),e.qZA()()()),2&t&&(e.xp6(2),e.Oqu(o.label),e.xp6(2),e.Q6J("ngModel",o.selectedLanguageConnection),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.allConnectionTypes))},dependencies:[ut,so,oi,_r,xn,un],styles:[".languageConnectionSelector[_ngcontent-%COMP%]{margin-top:4px}.languageConnectionSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})();function oE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"app-language-connection",12),e.NdJ("selectedLanguageConnectionChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.languagesConnectionTypeChanged(i))}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("label","Type")("selectedLanguageConnection",t.connectionType)}}function iE(r,n){1&r&&e._UZ(0,"th",7)}function sE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",3),e._uU(1,"[ "),e.TgZ(2,"a",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"E"),e.qZA(),e._uU(5,"dit"),e.qZA(),e._uU(6," ]-"),e.qZA()}}function aE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",3),e._uU(1,"[ "),e.TgZ(2,"a",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"S"),e.qZA(),e._uU(5,"ave"),e.qZA(),e._uU(6," ]-["),e.TgZ(7,"a",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelSoundChanges())}),e._uU(8," x "),e.qZA(),e._uU(9,"]-"),e.qZA()}}function uE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-table",16),e.NdJ("soundChangesChanges",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.soundChangesChanges)}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChanges",t.soundChanges)}}function WC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-edit",17),e.NdJ("soundChangesRawChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.soundChangesRaw=i)})("soundChangesRawChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.soundChangesRawChange())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChangesRaw",t.soundChangesRaw)}}let zC=(()=>{class r extends W_{constructor(t){super(Nu.SoundChange),this.languagesEvolutionService=t}ngOnChanges(t){}editSoundChanges(){var t;console.log("hello",null===(t=this.languageFrom)||void 0===t?void 0:t.displayName),this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.getSoundChangesRawLinesByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,soundChangePurpose:this.soundChangePurpose}).subscribe(o=>{this.soundChangesRaw=o,console.log("editSoundChanges soundChangesRaw",this.soundChangesRaw),this.editMode=!0})}saveSoundChanges(){this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.saveSoundChangesRawLinesByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,body:this.soundChangesRaw,soundChangePurpose:this.soundChangePurpose}).subscribe(()=>{this.editMode=!1,this.refresh()})}refresh(){this.connectionType=void 0,this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.getSoundChangesByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,soundChangePurpose:this.soundChangePurpose}).subscribe(t=>{this.soundChanges=t,this.refreshConnectionType()})}languageChanged(){this.editMode=!1,this.refresh()}languageFromChanged(t){this.languageFrom=t,this.languageChanged()}languageToChanged(t){this.languageTo=t,this.languageChanged()}languagesConnectionTypeChanged(t){console.log("languagesConnectionTypeChanged",t),this.connectionType=t,this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&(this.connectionType?this.languagesEvolutionService.updateConnectionByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,body:{languageConnectionType:this.connectionType}}).subscribe(()=>{this.refresh()}):this.languagesEvolutionService.deleteConnectionByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id}).subscribe(()=>{this.refresh()}))}refreshConnectionType(){this.connectionType=void 0,this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.getConnectionByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id}).subscribe(t=>{this.connectionType=t.connectionType})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(pa))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-connections"]],features:[e.qOj,e.TTD],decls:42,vars:10,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",1,"border",2,"width","max-content"],[1,"border"],[2,"text-align","left","display","flex"],[3,"label","selectedLanguage","selectedLanguageChange"],[4,"ngIf"],["app-horizontal-dash","",1,"border"],["app-horizontal-dash","","class","border",4,"ngIf"],["class","border",4,"ngIf"],[3,"soundChanges","soundChangesChanges",4,"ngIf"],[3,"soundChangesRaw","soundChangesRawChange",4,"ngIf"],[3,"label","selectedLanguageConnection","selectedLanguageConnectionChange"],[1,"text-yellow-dull",3,"click"],[1,"text-green-dull",3,"click"],[1,"text-red-dull",3,"click"],[3,"soundChanges","soundChangesChanges"],[3,"soundChangesRaw","soundChangesRawChange"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",0),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",3),e._uU(9,"|"),e._UZ(10,"br"),e._uU(11,"|"),e._UZ(12,"br"),e._uU(13,"|"),e._UZ(14,"br"),e._uU(15,"|"),e.qZA(),e.TgZ(16,"th",4)(17,"span")(18,"app-all-languages",5),e.NdJ("selectedLanguageChange",function(a){return o.languageFromChanged(a)}),e.qZA()(),e.TgZ(19,"span")(20,"app-all-languages",5),e.NdJ("selectedLanguageChange",function(a){return o.languageToChanged(a)}),e.qZA()(),e.YNc(21,oE,2,2,"span",6),e.qZA(),e._UZ(22,"th",3),e.TgZ(23,"th",3),e._uU(24,"|"),e._UZ(25,"br"),e._uU(26,"|"),e._UZ(27,"br"),e._uU(28,"|"),e._UZ(29,"br"),e._uU(30,"|"),e.qZA()(),e.TgZ(31,"tr")(32,"th",3),e._uU(33,"+"),e.qZA(),e._UZ(34,"th",7),e.YNc(35,iE,1,0,"th",8),e.YNc(36,sE,7,0,"th",9),e.YNc(37,aE,10,0,"th",9),e.TgZ(38,"th",3),e._uU(39,"+"),e.qZA()()()(),e.YNc(40,uE,1,1,"app-sound-changes-table",10),e.YNc(41,WC,1,1,"app-sound-changes-edit",11)),2&t&&(e.xp6(18),e.Q6J("label","From")("selectedLanguage",o.languageFrom),e.xp6(2),e.Q6J("label","To")("selectedLanguage",o.languageTo),e.xp6(1),e.Q6J("ngIf",o.languageFrom&&o.languageTo&&!o.editMode),e.xp6(14),e.Q6J("ngIf",!o.connectionType),e.xp6(1),e.Q6J("ngIf",!o.editMode&&o.connectionType),e.xp6(1),e.Q6J("ngIf",o.editMode&&o.connectionType),e.xp6(3),e.Q6J("ngIf",!o.editMode&&o.connectionType),e.xp6(1),e.Q6J("ngIf",o.editMode&&o.connectionType))},dependencies:[St,On,Qh,Q_,K_,rE]}),r})();function lE(r,n){if(1&r&&(e.TgZ(0,"span",28),e._uU(1),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.calculatedEvolution)}}function cE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"span",29),e._uU(2),e.qZA(),e._uU(3," ("),e.TgZ(4,"a",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.evolveSingleWord(i))}),e._uU(5),e.qZA(),e._uU(6,")"),e.qZA()}if(2&r){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(null==t.wordEvolved?null:t.wordEvolved.word),e.xp6(3),e.Oqu(t.calculatedEvolution)}}function QC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"a",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.evolveSingleWord(i))}),e._uU(2),e.qZA()()}if(2&r){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(t.calculatedEvolution)}}function dE(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"th"),e.YNc(2,lE,2,1,"span",26),e.YNc(3,cE,7,2,"span",23),e.YNc(4,QC,3,1,"span",23),e.qZA(),e.TgZ(5,"th",4),e._uU(6,"|"),e.qZA(),e.TgZ(7,"th",27),e._uU(8),e.TgZ(9,"i"),e._uU(10),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",!!t.calculatedEvolution&&t.calculatedEvolution===(null==t.wordEvolved?null:t.wordEvolved.word)),e.xp6(1),e.Q6J("ngIf",!(null==t.wordEvolved||!t.wordEvolved.word)&&t.calculatedEvolution!=(null==t.wordEvolved?null:t.wordEvolved.word)),e.xp6(1),e.Q6J("ngIf",!(null!=t.wordEvolved&&t.wordEvolved.word)),e.xp6(4),e.hij(" ",null==t.wordEvolved||null==t.wordEvolved.partOfSpeech?null:t.wordEvolved.partOfSpeech.abbreviation," "),e.xp6(2),e.Oqu(null==t.languageConnection||null==t.languageConnection.langTo?null:t.languageConnection.langTo.displayName)}}function hE(r,n){1&r&&(e.ynx(0),e._UZ(1,"th",31),e.BQk())}function pE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.forget(i.word))}),e._uU(1,"unforget"),e.qZA()}}function sy(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.forget(i.word))}),e._uU(1,"forget"),e.qZA()}}const ay=function(r){return["/words/word",r]};function KC(r,n){if(1&r&&(e.TgZ(0,"tr",12)(1,"th",4),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",21),e._uU(4),e.TgZ(5,"i"),e._uU(6),e.qZA()(),e.TgZ(7,"th",4),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th")(10,"a",22),e._uU(11),e.qZA()(),e.TgZ(12,"th",4),e._uU(13,"|"),e.qZA(),e.YNc(14,dE,11,5,"ng-container",23),e.YNc(15,hE,2,0,"ng-container",23),e.TgZ(16,"th",4),e._uU(17,"|"),e.qZA(),e.TgZ(18,"th",4),e.YNc(19,pE,2,0,"a",24),e.YNc(20,sy,2,0,"a",25),e.qZA(),e.TgZ(21,"th",4),e._uU(22,"|"),e.qZA()()),2&r){const t=n.$implicit;e.xp6(3),e.Q6J("ngClass",null!=t&&null!=t.word&&t.word.forgotten?"text-grey-dull":"text-grey"),e.xp6(1),e.hij(" ",null==t.word||null==t.word.partOfSpeech?null:t.word.partOfSpeech.abbreviation," "),e.xp6(2),e.Oqu(null==t.word||null==t.word.language?null:t.word.language.displayName),e.xp6(4),e.Q6J("ngClass",null!=t&&null!=t.word&&t.word.forgotten?"text-grey":"text-main")("routerLink",e.VKq(10,ay,null==t.word?null:t.word.word)),e.xp6(1),e.Oqu(null==t.word?null:t.word.word),e.xp6(3),e.Q6J("ngIf",!(null!=t&&null!=t.word&&t.word.forgotten)),e.xp6(1),e.Q6J("ngIf",null==t||null==t.word?null:t.word.forgotten),e.xp6(4),e.Q6J("ngIf",null==t||null==t.word?null:t.word.forgotten),e.xp6(1),e.Q6J("ngIf",!(null!=t&&null!=t.word&&t.word.forgotten))}}let uy=(()=>{class r{constructor(t,o){this.languagesEvolutionService=t,this.wordsService=o,this.words={},this.pageSize=250,this.withoutForgotten=!0,this.onlyUnevolved=!1}static wordWEtoWTE(t){return{languageConnection:t.languageConnection,word:t.word}}ngOnInit(){}load(t){this.languagesEvolutionService.getAllWordsWithEvolutions({filter:t}).subscribe(o=>{this.words=o})}loadDefault(t){var o,i;t||(t={}),t={page:t.page?t.page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,languageFromId:t.languageFromId?t.languageFromId:null===t.languageFromId||null===(o=this.languageFrom)||void 0===o?void 0:o.id,languageToId:t.languageToId?t.languageToId:null===t.languageToId||null===(i=this.languageTo)||void 0===i?void 0:i.id,canBeForgotten:!this.withoutForgotten},this.load(t)}resetFilter(){this.languageFrom=void 0,this.languageTo=void 0,this.wordSearch=void 0,this.loadDefault({})}forget(t){t&&(t.forgotten=!t.forgotten,console.log("forget word",t.forgotten,t),this.wordsService.addWord({body:t}).subscribe(o=>{var i;this.withoutForgotten?this.loadDefault(void 0):null===(i=this.words.data)||void 0===i||i.forEach(a=>{const d=a.word;d&&d.id===o.id&&(d.forgotten=o.forgotten,d.id=o.id,d.word=o.word,d.language=o.language,d.partOfSpeech=o.partOfSpeech,d.version=o.version)})}))}evolveSingleWord(t){const o=r.wordWEtoWTE(t);this.languagesEvolutionService.addEvolvedWord({body:o}).subscribe(i=>{t.word=i.word,t.wordEvolved=i.wordEvolved,t.calculatedEvolution=i.calculatedEvolution,t.wordEvolvedType=i.wordEvolvedType,t.languageConnection=i.languageConnection})}filterWithoutForgotten(){this.withoutForgotten=!this.withoutForgotten,this.loadDefault(void 0)}filterOnlyUnevolved(){this.onlyUnevolved=!this.onlyUnevolved}evolvePage(){if(this.words.data){const t=this.words.data.filter(o=>{var i;return!(null!==(i=o.word)&&void 0!==i&&i.forgotten||o.wordEvolved&&o.wordEvolved.word===o.calculatedEvolution)}).map(o=>r.wordWEtoWTE(o));console.log(t),this.languagesEvolutionService.addEvolvedWord1({body:t}).subscribe(()=>{this.loadDefault(void 0)})}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(pa),e.Y36(Qa))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-evolution"]],decls:98,vars:14,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","9px"],["span","1",2,"width","70px"],[1,"border"],[1,"border",2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],["type","text",2,"height","16px","margin-left","8px","margin-top","30px","margin-right","0px",3,"ngModel","ngModelChange"],[2,"height","16px","margin-left","16px","margin-top","34px",3,"ngClass","click"],[3,"ngClass"],[1,"text-red-dull",3,"click"],["app-horizontal-dash","","colspan","3",1,"border"],[1,"table-content"],["span","1",2,"width","15%"],["span","1",2,"width","max-content"],["span","1",2,"width","65px"],["class","table-content",4,"ngFor","ngForOf"],[3,"page","size","totalPages","total","load"],[1,"text-green-dull",3,"click"],[1,"text-green-dull",2,"margin-left","16px"],["app-horizontal-dash","",1,"border"],[2,"text-align","left",3,"ngClass"],[1,"link-btn",3,"ngClass","routerLink"],[4,"ngIf"],["class","text-green-dull",3,"click",4,"ngIf"],["class","text-yellow-dull",3,"click",4,"ngIf"],["class","text-green-dull",4,"ngIf"],[1,"border",2,"text-align","left"],[1,"text-green-dull"],[1,"text-red-dull"],[1,"text-yellow-dull",3,"click"],["colspan","3",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",0),e.qZA(),e.TgZ(7,"tbody")(8,"tr")(9,"th",4),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e._UZ(15,"br"),e._uU(16,"|"),e.qZA(),e.TgZ(17,"th",5)(18,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(a){return o.loadDefault({languageFromId:a.id})})("selectedLanguageChange",function(a){return o.languageFrom=a}),e.qZA(),e.TgZ(19,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(a){return o.loadDefault({languageToId:a.id})})("selectedLanguageChange",function(a){return o.languageTo=a}),e.qZA(),e.TgZ(20,"input",7),e.NdJ("ngModelChange",function(a){return o.loadDefault({word:a})})("ngModelChange",function(a){return o.wordSearch=a}),e.qZA(),e.TgZ(21,"a",8),e.NdJ("click",function(){return o.filterWithoutForgotten()}),e._uU(22,"[ "),e.TgZ(23,"span",9),e._uU(24,"W"),e.qZA(),e._uU(25,"ithout Forgotten ]"),e.qZA(),e.TgZ(26,"a",8),e.NdJ("click",function(){return o.filterOnlyUnevolved()}),e._uU(27,"[ "),e.TgZ(28,"span",9),e._uU(29,"O"),e.qZA(),e._uU(30,"nly Unevolved ]"),e.qZA()(),e.TgZ(31,"th",4),e._uU(32,"|"),e._UZ(33,"br"),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e.qZA(),e.TgZ(39,"th")(40,"a",10),e.NdJ("click",function(){return o.resetFilter()}),e._uU(41,"[ x ]"),e.qZA()(),e.TgZ(42,"th",4),e._uU(43,"|"),e._UZ(44,"br"),e._uU(45,"|"),e._UZ(46,"br"),e._uU(47,"|"),e._UZ(48,"br"),e._uU(49,"|"),e.qZA()(),e.TgZ(50,"tr")(51,"th",4),e._uU(52,"+"),e.qZA(),e._UZ(53,"th",11),e.TgZ(54,"th",4),e._uU(55,"+"),e.qZA()()()(),e.TgZ(56,"table",12)(57,"colgroup"),e._UZ(58,"col",0)(59,"col",13)(60,"col",0)(61,"col",14)(62,"col",0)(63,"col",14)(64,"col",0)(65,"col",1)(66,"col",0)(67,"col",15)(68,"col",0),e.qZA(),e.TgZ(69,"tbody",12),e.YNc(70,KC,23,12,"tr",16),e.qZA()(),e.TgZ(71,"app-list-paginator",17),e.NdJ("load",function(a){return o.loadDefault(a)}),e.qZA(),e.TgZ(72,"table")(73,"colgroup"),e._UZ(74,"col",0)(75,"col",1)(76,"col",0),e.qZA(),e.TgZ(77,"tbody")(78,"tr")(79,"th",4),e._uU(80,"|"),e._UZ(81,"br"),e._uU(82,"|"),e.qZA(),e.TgZ(83,"th",4)(84,"a",18),e.NdJ("click",function(){return o.evolvePage()}),e._uU(85,"[ Evolve Page ]"),e.qZA(),e.TgZ(86,"a",19),e._uU(87,"[ Evolve All Words ]"),e.qZA()(),e.TgZ(88,"th",4),e._uU(89,"|"),e._UZ(90,"br"),e._uU(91,"|"),e.qZA()(),e.TgZ(92,"tr")(93,"th",4),e._uU(94,"+"),e.qZA(),e._UZ(95,"th",20),e.TgZ(96,"th",4),e._uU(97,"+"),e.qZA()()()()),2&t&&(e.xp6(18),e.Q6J("selectedLanguage",o.languageFrom)("label","From"),e.xp6(1),e.Q6J("selectedLanguage",o.languageTo)("label","To"),e.xp6(1),e.Q6J("ngModel",o.wordSearch),e.xp6(1),e.Q6J("ngClass",o.withoutForgotten?"text-green-dull":"text-grey-dull"),e.xp6(2),e.Q6J("ngClass",o.withoutForgotten?"text-green":"text-grey"),e.xp6(3),e.Q6J("ngClass",o.onlyUnevolved?"text-green-dull":"text-grey-dull"),e.xp6(2),e.Q6J("ngClass",o.onlyUnevolved?"text-green":"text-grey"),e.xp6(42),e.Q6J("ngForOf",o.words.data),e.xp6(1),e.Q6J("page",o.words.page?o.words.page:0)("size",o.pageSize)("totalPages",o.words.totalPages?o.words.totalPages:0)("total",o.words.total?o.words.total:0))},dependencies:[er,ut,St,Ai,Un,xn,un,On,Qh,wC]}),r})();var Gl=(()=>{return(r=Gl||(Gl={})).New="NEW",r.Borrowed="BORROWED",r.Derived="DERIVED",r.Evolved="EVOLVED",Gl;var r})();let ly=(()=>{class r{constructor(t){this.posService=t,this.poses=[]}ngOnInit(){this.loadPos(this.getLanguage.id)}ngOnChanges(t){t.language&&t.language.currentValue&&(console.log("WordNewDetailed",t,t.language.currentValue),this.loadPos(t.language.currentValue.id))}loadPos(t){t?this.posService.getAllPosByLanguage({languageId:t}).subscribe(o=>{this.poses=o.sort((i,a)=>i.name?i.name.localeCompare(a.name?a.name:""):-1)}):(console.log("Can't load pos for null language"),this.poses=[])}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ei))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],features:[e.TTD],decls:0,vars:0,template:function(t,o){},encapsulation:2}),r})();const cy=["app-new",""];function fE(r,n){if(1&r&&(e.TgZ(0,"option",14),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}let YC=(()=>{class r extends ly{constructor(t,o){super(o),this.wordService=t,this.posService=o,this.newWord=new ht({word:new ni("",io.required),comment:new ni("",io.required),pos:new ni({},io.required)})}get getLanguage(){return this.language}addNewWord(){this.wordService.addWord({body:{word:this.newWord.value.word?this.newWord.value.word:"",comment:this.newWord.value.comment?this.newWord.value.comment:"",language:this.language,partOfSpeech:this.newWord.value.pos?this.newWord.value.pos:void 0,forgotten:!1,sourceType:Gl.New}}).subscribe(o=>{this.clear()})}clear(){var t,o;null===(t=this.newWord.get("word"))||void 0===t||t.reset(),null===(o=this.newWord.get("comment"))||void 0===o||o.reset()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Qa),e.Y36(Ei))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tbody","app-new",""]],inputs:{language:"language"},features:[e.qOj],attrs:cy,decls:39,vars:3,consts:[[1,"border"],[3,"formGroup","ngSubmit"],[2,"text-align","left","display","flex"],[1,"selector"],["for","wordInput",1,"languageSelectorLabel"],[1,"input-group",2,"margin-top","4px"],["formControlName","word","id","wordInput","name","wordInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],["for","posSelector",1,"languageSelectorLabel"],["formControlName","pos","id","posSelector","name","posSelector",1,"posSelector",3,"value"],[3,"ngValue",4,"ngFor","ngForOf"],["for","commentInput",1,"languageSelectorLabel",2,"height","16px","margin-left","8px"],["formControlName","comment","id","commentInput","name","commentInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],[1,"selector",2,"padding-top","22px"],[1,"text-green-dull",3,"click"],[3,"ngValue"]],template:function(t,o){1&t&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e._UZ(3,"br"),e._uU(4,"|"),e._UZ(5,"br"),e._uU(6,"|"),e._UZ(7,"br"),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",0)(10,"form",1),e.NdJ("ngSubmit",function(){return o.addNewWord()}),e.TgZ(11,"div",2)(12,"div",3)(13,"label",4),e._uU(14,"Word"),e.qZA(),e.TgZ(15,"div",5)(16,"input",6),e.NdJ("submit",function(){return o.addNewWord()}),e.qZA()()(),e.TgZ(17,"div",3)(18,"label",7),e._uU(19,"Category"),e.qZA(),e.TgZ(20,"div",5)(21,"select",8),e.YNc(22,fE,2,2,"option",9),e.qZA()()(),e.TgZ(23,"div",3)(24,"label",10),e._uU(25,"Comment"),e.qZA(),e.TgZ(26,"div",5)(27,"input",11),e.NdJ("submit",function(){return o.addNewWord()}),e.qZA()()(),e.TgZ(28,"div",12)(29,"a",13),e.NdJ("click",function(){return o.addNewWord()}),e._uU(30,"[ Add new word ]"),e.qZA()()()()(),e.TgZ(31,"th",0),e._uU(32,"|"),e._UZ(33,"br"),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e.qZA()()),2&t&&(e.xp6(10),e.Q6J("formGroup",o.newWord),e.xp6(11),e.Q6J("value",void 0),e.xp6(1),e.Q6J("ngForOf",o.poses))},dependencies:[ut,ta,so,oi,Un,_r,xn,gs,Wi,Au]}),r})();const ud=["app-derived",""];function XC(r,n){if(1&r&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function gE(r,n){1&r&&(e.TgZ(0,"span",27),e._uU(1," + "),e.qZA())}function Ox(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span",24),e.YNc(1,gE,2,0,"span",25),e.TgZ(2,"a",26),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.removeWord(a))}),e._uU(3),e.qZA()()}if(2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Q6J("ngIf",o>0),e.xp6(2),e.hij("/ ",t.word," /")}}function eT(r,n){if(1&r&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function dy(r,n){1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e._UZ(3,"th",16),e.TgZ(4,"th",0),e._uU(5,"|"),e.qZA()())}function mE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.selectWord(i))}),e._uU(1,"[ ]"),e.qZA()}}function hy(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.removeWord(i))}),e._uU(1,"[x]"),e.qZA()}}function _E(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",17)(4,"span",19),e.YNc(5,mE,2,0,"a",28),e.YNc(6,hy,2,0,"a",29),e.qZA(),e.TgZ(7,"span",30),e._uU(8),e.ALo(9,"writtenWord"),e.qZA(),e.TgZ(10,"span",31),e._uU(11),e.qZA(),e.TgZ(12,"span",30),e._uU(13),e.qZA(),e.TgZ(14,"span",19),e._uU(15),e.qZA()(),e.TgZ(16,"th",0),e._uU(17,"|"),e.qZA()()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(5),e.Q6J("ngIf",o.indexOfSelectedWord(t)<0),e.xp6(1),e.Q6J("ngIf",o.indexOfSelectedWord(t)>=0),e.xp6(2),e.Oqu(e.lcZ(9,6,t.writtenWord)),e.xp6(3),e.hij("/ ",t.word," /"),e.xp6(2),e.Oqu(null==t.partOfSpeech?null:t.partOfSpeech.abbreviation),e.xp6(2),e.Oqu(t.comment)}}let yE=(()=>{class r extends ly{constructor(t,o){super(o),this.wordService=t,this.posService=o,this.pageSize=10,this.wordsList={},this.selectedWords=[],this.newWord=new ht({word:new ni("",io.required),comment:new ni("",io.required),pos:new ni({},io.required)})}get getLanguage(){return this.language}ngOnInit(){super.ngOnInit(),this.reloadWordList(this.language.id)}ngOnChanges(t){super.ngOnChanges(t),t.language&&t.language.currentValue&&(console.log("DerivedComponent",t,t.language.currentValue),this.reloadWordList(t.language.currentValue.id),this.selectedWords=[])}reloadWordList(t){t?this.loadDefault({languageId:t}):this.wordsList={}}loadDefault(t){var o,i;console.log("loadDefault",t,this.listPosSelector,this.language,this.wordSearch),t||(t={}),t={page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,languageId:t.languageId?t.languageId:null===t.languageId||null===(o=this.language)||void 0===o?void 0:o.id,posId:t.posId?t.posId:null===t.posId||null===(i=this.listPosSelector)||void 0===i?void 0:i.id},this.load(t)}load(t){this.wordService.getAllWords({filter:t}).subscribe(o=>{o.data&&(this.wordsList=o)})}selectWord(t){this.indexOfSelectedWord(t)<0&&this.selectedWords.push(t)}removeWord(t){const o=this.indexOfSelectedWord(t);o>=0&&this.selectedWords.splice(o,1)}indexOfSelectedWord(t){return this.selectedWords.findIndex((o,i,a)=>t.id===o.id)}addDerivedWord(){this.wordService.addDerivedWord({body:{word:this.newWord.value.word?this.newWord.value.word:void 0,comment:this.newWord.value.comment?this.newWord.value.comment:void 0,language:this.language,partOfSpeech:this.newWord.value.pos?this.newWord.value.pos:void 0,forgotten:!1,wordOriginType:Gl.Derived,derivedFrom:this.selectedWords}}).subscribe(o=>{this.clear()})}clear(){var t,o;null===(t=this.newWord.get("word"))||void 0===t||t.reset(),null===(o=this.newWord.get("comment"))||void 0===o||o.reset(),this.wordSearch=void 0,this.listPosSelector=void 0,this.selectedWords=[],this.reloadWordList(this.language.id)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Qa),e.Y36(Ei))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tbody","app-derived",""]],inputs:{language:"language"},features:[e.qOj,e.TTD],attrs:ud,decls:78,vars:10,consts:[[1,"border"],[3,"formGroup","ngSubmit"],[2,"text-align","left","display","flex"],[1,"selector"],["for","wordInput",1,"languageSelectorLabel"],[1,"input-group",2,"margin-top","4px"],["formControlName","word","id","wordInput","name","wordInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],["for","posSelector",1,"languageSelectorLabel"],["formControlName","pos","id","posSelector","name","posSelector",1,"posSelector",3,"value"],[3,"ngValue",4,"ngFor","ngForOf"],["for","commentInput",1,"languageSelectorLabel",2,"height","16px","margin-left","8px"],["formControlName","comment","id","commentInput","name","commentInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],[1,"selector",2,"padding-top","22px"],[1,"text-green-dull",3,"click"],[1,"languageSelectorLabel",2,"margin-right","4px"],["class","text-main",4,"ngFor","ngForOf"],["app-horizontal-dash","",1,"border"],[1,"border",2,"text-align","left"],["type","text",2,"height","16px","margin-left","16px",3,"ngModel","ngModelChange"],[2,"margin-left","8px"],["id","listPosSelector",1,"listPosSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-main"],["class","text-grey",4,"ngIf"],[1,"text-main","link-selected-word",3,"click"],[1,"text-grey"],["class","text-grey-dull",3,"click",4,"ngIf"],["class","text-green-dull",3,"click",4,"ngIf"],[1,"text-grey",2,"margin-left","8px"],[1,"text-main",2,"margin-left","8px"],[1,"text-grey-dull",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e._UZ(3,"br"),e._uU(4,"|"),e._UZ(5,"br"),e._uU(6,"|"),e._UZ(7,"br"),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",0)(10,"form",1),e.NdJ("ngSubmit",function(){return o.addDerivedWord()}),e.TgZ(11,"div",2)(12,"div",3)(13,"label",4),e._uU(14,"Word"),e.qZA(),e.TgZ(15,"div",5)(16,"input",6),e.NdJ("submit",function(){return o.addDerivedWord()}),e.qZA()()(),e.TgZ(17,"div",3)(18,"label",7),e._uU(19,"Category"),e.qZA(),e.TgZ(20,"div",5)(21,"select",8),e.YNc(22,XC,2,2,"option",9),e.qZA()()(),e.TgZ(23,"div",3)(24,"label",10),e._uU(25,"Comment"),e.qZA(),e.TgZ(26,"div",5)(27,"input",11),e.NdJ("submit",function(){return o.addDerivedWord()}),e.qZA()()(),e.TgZ(28,"div",12)(29,"a",13),e.NdJ("click",function(){return o.addDerivedWord()}),e._uU(30,"[ Add derived word ]"),e.qZA()()()()(),e.TgZ(31,"th",0),e._uU(32,"|"),e._UZ(33,"br"),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e.qZA()(),e.TgZ(39,"tr")(40,"th",0),e._uU(41,"|"),e._UZ(42,"br"),e._uU(43,"|"),e.qZA(),e.TgZ(44,"th",0)(45,"div",2)(46,"div",3)(47,"label",14),e._uU(48,"From words:"),e.qZA(),e.YNc(49,Ox,4,2,"span",15),e.qZA()()(),e.TgZ(50,"th",0),e._uU(51,"|"),e._UZ(52,"br"),e._uU(53,"|"),e.qZA()(),e.TgZ(54,"tr")(55,"th",0),e._uU(56,"|"),e.qZA(),e._UZ(57,"th",16),e.TgZ(58,"th",0),e._uU(59,"|"),e.qZA()(),e.TgZ(60,"tr")(61,"th",0),e._uU(62,"|"),e._UZ(63,"br"),e._uU(64,"|"),e.qZA(),e.TgZ(65,"th",17)(66,"input",18),e.NdJ("ngModelChange",function(a){return o.loadDefault({word:a})})("ngModelChange",function(a){return o.wordSearch=a}),e.qZA(),e.TgZ(67,"span",19)(68,"select",20),e.NdJ("ngModelChange",function(a){return o.loadDefault({posId:null==a?null:a.id})})("ngModelChange",function(a){return o.listPosSelector=a}),e.TgZ(69,"option",21),e._uU(70,"Any part of speech"),e.qZA(),e.YNc(71,eT,2,2,"option",9),e.qZA()()(),e.TgZ(72,"th",0),e._uU(73,"|"),e._UZ(74,"br"),e._uU(75,"|"),e.qZA()(),e.YNc(76,dy,6,0,"tr",22),e.YNc(77,_E,18,8,"tr",23)),2&t&&(e.xp6(10),e.Q6J("formGroup",o.newWord),e.xp6(11),e.Q6J("value",void 0),e.xp6(1),e.Q6J("ngForOf",o.poses),e.xp6(27),e.Q6J("ngForOf",o.selectedWords),e.xp6(17),e.Q6J("ngModel",o.wordSearch),e.xp6(2),e.Q6J("ngModel",o.listPosSelector),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.poses),e.xp6(5),e.Q6J("ngIf",o.wordsList.data&&o.wordsList.data.length),e.xp6(1),e.Q6J("ngForOf",o.wordsList.data))},dependencies:[ut,St,ta,so,oi,Un,_r,xn,gs,un,Wi,Au,On,Ka],styles:[".link-selected-word[_ngcontent-%COMP%]:hover{color:#ee2d2d}"]}),r})();const py=["app-borroved",""];function tT(r,n){if(1&r&&(e.TgZ(0,"option",6),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function nT(r,n){if(1&r&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.calculatedEvolution)}}function rT(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"span",21),e._uU(2),e.qZA(),e._uU(3," ("),e.TgZ(4,"a",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.evolveSingleWord(i))}),e._uU(5),e.qZA(),e._uU(6,")"),e.qZA()}if(2&r){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(null==t.wordEvolved||null==t.wordEvolved.word?null:t.wordEvolved.word.word),e.xp6(3),e.Oqu(t.calculatedEvolution)}}function oT(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"a",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.evolveSingleWord(i))}),e._uU(2),e.qZA()()}if(2&r){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.calculatedEvolution)}}const vE=function(r){return["/words/word",r]};function CE(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",2)(4,"span",14)(5,"i"),e._uU(6),e.qZA()()(),e.TgZ(7,"th",2)(8,"span",14)(9,"i"),e._uU(10),e.qZA()()(),e.TgZ(11,"th",2)(12,"span",15)(13,"a",16),e._uU(14),e.qZA()()(),e.TgZ(15,"th",0),e._uU(16,"|"),e.qZA(),e.TgZ(17,"th",2)(18,"span",17),e.YNc(19,nT,2,1,"span",18),e.YNc(20,rT,7,2,"span",19),e.YNc(21,oT,3,1,"span",19),e.qZA()(),e.TgZ(22,"th",0),e._uU(23,"|"),e.qZA()()),2&r){const t=n.$implicit;e.xp6(6),e.Oqu(null==t.word||null==t.word.language?null:t.word.language.displayName),e.xp6(4),e.Oqu(null==t.word||null==t.word.partOfSpeech?null:t.word.partOfSpeech.abbreviation),e.xp6(3),e.Q6J("ngClass",null!=t&&null!=t.word&&t.word.forgotten?"text-grey":"text-main")("routerLink",e.VKq(8,vE,null==t.word?null:t.word.word)),e.xp6(1),e.Oqu(null==t.word?null:t.word.word),e.xp6(5),e.Q6J("ngIf",!!t.calculatedEvolution&&t.calculatedEvolution===(null==t.wordEvolved||null==t.wordEvolved.word?null:t.wordEvolved.word.word)),e.xp6(1),e.Q6J("ngIf",!(null==t.wordEvolved||null==t.wordEvolved.word||!t.wordEvolved.word.word)&&t.calculatedEvolution!=(null==t.wordEvolved||null==t.wordEvolved.word?null:t.wordEvolved.word.word)),e.xp6(1),e.Q6J("ngIf",!(null!=t.wordEvolved&&null!=t.wordEvolved.word&&t.wordEvolved.word.word))}}let TE=(()=>{class r extends ly{constructor(t,o){super(o),this.languagesEvolutionService=t,this.posService=o,this.pageSize=30,this.wordsBorrowed=[]}get getLanguage(){return this.language}ngOnInit(){super.ngOnInit(),this.reloadWordList(this.languageFrom.id)}ngOnChanges(t){super.ngOnChanges(t),t.languageFrom&&t.languageFrom.currentValue&&(console.log("DerivedComponent",t,t.languageFrom.currentValue),this.reloadWordList(t.languageFrom.currentValue.id),this.wordsBorrowed=[])}reloadWordList(t){t&&this.loadDefault({languageId:t})}loadDefault(t){var o,i;console.log("loadDefault",t,this.listPosSelector,this.language,this.wordSearch),t||(t={}),t={page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,languageId:t.languageId?t.languageId:null===t.languageId||null===(o=this.languageFrom)||void 0===o?void 0:o.id,languageToId:this.language.id,posId:t.posId?t.posId:null===t.posId||null===(i=this.listPosSelector)||void 0===i?void 0:i.id},this.load(t)}load(t){this.languagesEvolutionService.getAllWords1({filter:t}).subscribe(o=>{o.data&&(this.wordsBorrowed=o.data)})}evolveSingleWord(t){console.log("EVOLVE WORD",t),this.languagesEvolutionService.addBorrowedWord({body:{language:this.language,word:t.word}}).subscribe(o=>{t.word=o.word,t.wordEvolved=o.wordEvolved,t.calculatedEvolution=o.calculatedEvolution})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(pa),e.Y36(Ei))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tbody","app-borroved",""]],inputs:{language:"language",languageFrom:"languageFrom"},features:[e.qOj,e.TTD],attrs:py,decls:41,vars:5,consts:[[1,"border"],["app-horizontal-dash","",1,"border"],[1,"border",2,"text-align","left"],["type","text",2,"height","16px","margin-left","16px",3,"ngModel","ngModelChange"],[2,"margin-left","8px"],["id","listPosSelector",1,"listPosSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["colspan","3"],[1,"table-content"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","1%"],["span","1",2,"width","max-content"],[4,"ngFor","ngForOf"],[1,"nowrap",2,"margin-left","8px"],[1,"text-grey",2,"margin-left","8px","word-break","keep-all"],[1,"link-btn",3,"ngClass","routerLink"],[1,"text-grey",2,"margin-left","8px"],["class","text-green-dull",4,"ngIf"],[4,"ngIf"],[1,"text-green-dull"],[1,"text-red-dull"],[1,"text-yellow-dull",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e._UZ(3,"th",1),e.TgZ(4,"th",0),e._uU(5,"|"),e.qZA()(),e.TgZ(6,"tr")(7,"th",0),e._uU(8,"|"),e._UZ(9,"br"),e._uU(10,"|"),e.qZA(),e.TgZ(11,"th",2)(12,"input",3),e.NdJ("ngModelChange",function(a){return o.loadDefault({word:a})})("ngModelChange",function(a){return o.wordSearch=a}),e.qZA(),e.TgZ(13,"span",4)(14,"select",5),e.NdJ("ngModelChange",function(a){return o.loadDefault({posId:null==a?null:a.id})})("ngModelChange",function(a){return o.listPosSelector=a}),e.TgZ(15,"option",6),e._uU(16,"Any part of speech"),e.qZA(),e.YNc(17,tT,2,2,"option",7),e.qZA()()(),e.TgZ(18,"th",0),e._uU(19,"|"),e._UZ(20,"br"),e._uU(21,"|"),e.qZA()(),e.TgZ(22,"tr")(23,"th",0),e._uU(24,"|"),e.qZA(),e._UZ(25,"th",1),e.TgZ(26,"th",0),e._uU(27,"|"),e.qZA()(),e.TgZ(28,"tr")(29,"th",8)(30,"table",9)(31,"colgroup"),e._UZ(32,"col",10)(33,"col",11)(34,"col",11)(35,"col",11)(36,"col",10)(37,"col",12)(38,"col",10),e.qZA(),e.TgZ(39,"tbody",9),e.YNc(40,CE,24,10,"tr",13),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngModel",o.wordSearch),e.xp6(2),e.Q6J("ngModel",o.listPosSelector),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.poses),e.xp6(23),e.Q6J("ngForOf",o.wordsBorrowed))},dependencies:[er,ut,St,Ai,so,oi,Un,_r,xn,un,On]}),r})();function wE(r,n){if(1&r&&(e.TgZ(0,"option",15),e._uU(1),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.Q6J("selected",t===o.type)("ngValue",t),e.xp6(1),e.Oqu(t)}}function iT(r,n){if(1&r&&(e.TgZ(0,"option",15),e._uU(1),e.qZA()),2&r){const t=n.$implicit,o=e.oxw(2);e.Q6J("selected",o.languageFrom===t)("ngValue",t),e.xp6(1),e.Oqu(t.displayName)}}function Rx(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",5)(1,"label",6),e._uU(2,"From"),e.qZA(),e.TgZ(3,"div",7)(4,"select",16),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.langFromChanged(i))})("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.languageFrom=i)}),e.YNc(5,iT,2,3,"option",9),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.languageFrom),e.xp6(1),e.Q6J("ngForOf",t.languagesFrom)}}function sT(r,n){if(1&r&&e._UZ(0,"tbody",17),2&r){const t=e.oxw();e.Q6J("language",t.language)}}function bE(r,n){if(1&r&&e._UZ(0,"tbody",18),2&r){const t=e.oxw();e.Q6J("language",t.language)}}function AE(r,n){if(1&r&&e._UZ(0,"tbody",19),2&r){const t=e.oxw();e.Q6J("language",t.language)("languageFrom",t.languageFrom)}}let Lx=(()=>{class r{constructor(t){this.languagesEvolutionService=t,this.languageFrom={displayName:"empty"},this.languagesFrom=[],this.wordOriginType=Gl,this.typeKeys=Object.keys(Gl),this.type=this.typeKeys[0]}ngOnInit(){console.log(this.type),console.log(this.wordOriginType),console.log(this.typeKeys)}changeLanguageTo(t,o){t&&this.languagesEvolutionService.getConnectionToLang({toLangId:t}).subscribe(i=>{this.languagesFrom=i.filter(a=>a.connectionType===ma.Evolving&&"Evolved"===o||a.connectionType===ma.Borrowing&&"Borrowed"===o).map(a=>a.langFrom).filter(a=>!!a).map(a=>a||{displayName:"empty"})})}changeLanguage(t){t.langId&&this.changeLanguageTo(t.langId,this.type)}typeChanged(t){var o;console.log(t.type),this.changeLanguageTo(null===(o=this.language)||void 0===o?void 0:o.id,t.type)}langFromChanged(t){console.log(JSON.stringify(t))}getstr(t){return JSON.stringify(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(pa))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-new"]],decls:42,vars:8,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],[1,"border"],[1,"border",2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],[1,"selector"],["for","newWordTypeSelector",1,"languageSelectorLabel"],[1,"input-group",2,"margin-top","4px"],["id","newWordTypeSelector",1,"posSelector",3,"ngModel","ngModelChange"],[3,"selected","ngValue",4,"ngFor","ngForOf"],["class","selector",4,"ngIf"],["app-new","",3,"language",4,"ngIf"],["app-derived","",3,"language",4,"ngIf"],["app-borroved","",3,"language","languageFrom",4,"ngIf"],["app-horizontal-dash","",1,"border"],[3,"selected","ngValue"],["id","langToSelector",1,"langToSelector",3,"ngModel","ngModelChange"],["app-new","",3,"language"],["app-derived","",3,"language"],["app-borroved","",3,"language","languageFrom"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0),e.qZA(),e.TgZ(5,"tbody")(6,"tr")(7,"th",2),e._uU(8,"|"),e._UZ(9,"br"),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e.qZA(),e.TgZ(15,"th",3)(16,"app-all-languages",4),e.NdJ("selectedLanguageChange",function(a){return o.changeLanguage({langId:a.id})})("selectedLanguageChange",function(a){return o.language=a}),e.qZA(),e.TgZ(17,"div",5)(18,"label",6),e._uU(19,"Type"),e.qZA(),e.TgZ(20,"div",7)(21,"select",8),e.NdJ("ngModelChange",function(a){return o.typeChanged({type:a})})("ngModelChange",function(a){return o.type=a}),e.YNc(22,wE,2,3,"option",9),e.qZA()()(),e.YNc(23,Rx,6,2,"div",10),e.qZA(),e.TgZ(24,"th",2),e._uU(25,"|"),e._UZ(26,"br"),e._uU(27,"|"),e._UZ(28,"br"),e._uU(29,"|"),e._UZ(30,"br"),e._uU(31,"|"),e.qZA()()(),e.YNc(32,sT,1,1,"tbody",11),e.YNc(33,bE,1,1,"tbody",12),e.YNc(34,AE,1,2,"tbody",13),e.TgZ(35,"tbody")(36,"tr")(37,"th",2),e._uU(38,"+"),e.qZA(),e._UZ(39,"th",14),e.TgZ(40,"th",2),e._uU(41,"+"),e.qZA()()()()),2&t&&(e.xp6(16),e.Q6J("selectedLanguage",o.language)("label","Language"),e.xp6(5),e.Q6J("ngModel",o.type),e.xp6(1),e.Q6J("ngForOf",o.typeKeys),e.xp6(1),e.Q6J("ngIf","Borrowed"===o.type||"Evolved"===o.type),e.xp6(9),e.Q6J("ngIf",void 0!==o.language&&"New"===o.type),e.xp6(1),e.Q6J("ngIf",void 0!==o.language&&"Derived"===o.type),e.xp6(1),e.Q6J("ngIf",void 0!==o.language&&void 0!==o.languageFrom&&"Borrowed"===o.type))},dependencies:[ut,St,so,oi,_r,xn,un,On,Qh,YC,yE,TE]}),r})();function aT(r,n){return n.params[r]||(n.parent?aT(r,n.parent):null)}let IE=(()=>{class r{constructor(t){this.wordService=t}resolve(t,o){const i=aT("word",t);return console.log("WorldDetailsResolver resolve",i),i?this.wordService.getDetailedWordsByPhonetics({word:i}):na.E}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Qa))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function EE(r,n){if(1&r&&(e.TgZ(0,"option",1),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}let uT=(()=>{class r{constructor(){}ngOnInit(){}changeValueTo(t){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-category-evolution-input"]],inputs:{langFrom:"langFrom",langTo:"langTo",pos:"pos",valueFrom:"valueFrom",valuesTo:"valuesTo"},decls:5,vars:3,consts:[["id","languageSelector","name","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"span")(1,"select",0),e.NdJ("ngModelChange",function(a){return o.changeValueTo({value:a})})("ngModelChange",function(a){return o.valueTo=a}),e.TgZ(2,"option",1),e._uU(3,"---nothing---"),e.qZA(),e.YNc(4,EE,2,2,"option",2),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngModel",o.valueTo),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.valuesTo))},dependencies:[ut,so,oi,_r,xn,un]}),r})();function DE(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",4),e._uU(3,"|"),e.qZA(),e._UZ(4,"th"),e.TgZ(5,"th",4),e._uU(6,"|"),e.qZA(),e._UZ(7,"th"),e.TgZ(8,"th",4),e._uU(9,"+"),e.qZA(),e._UZ(10,"th",8),e.TgZ(11,"th",4),e._uU(12,"+"),e.qZA()(),e.TgZ(13,"tr")(14,"th",4),e._uU(15,"|"),e.qZA(),e._UZ(16,"th"),e.TgZ(17,"th",4),e._uU(18,"|"),e.qZA(),e._UZ(19,"th"),e.TgZ(20,"th",4),e._uU(21,"|"),e.qZA(),e.TgZ(22,"th",13),e._uU(23),e.qZA(),e.TgZ(24,"th",4),e._uU(25,">"),e.qZA(),e.TgZ(26,"th",4),e._UZ(27,"app-category-evolution-input",14),e.qZA(),e.TgZ(28,"th",4),e._uU(29,"|"),e.qZA()(),e.BQk()),2&r){const t=n.$implicit,o=e.oxw(2).$implicit,i=e.oxw().$implicit,a=e.oxw();e.xp6(23),e.Oqu(t.name),e.xp6(4),e.Q6J("langFrom",a.langFrom)("langTo",a.langTo)("pos",i)("valueFrom",t)("valuesTo",a.getValuesTo(o))}}function SE(r,n){if(1&r&&(e.ynx(0),e.YNc(1,DE,30,6,"ng-container",3),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",o.getValuesFrom(t))}}function xE(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",4),e._uU(3,"|"),e.qZA(),e._UZ(4,"th"),e.TgZ(5,"th",4),e._uU(6,"+"),e.qZA(),e._UZ(7,"th",8),e.TgZ(8,"th",4),e._uU(9,"+"),e.qZA(),e._UZ(10,"th",9),e.TgZ(11,"th",4),e._uU(12,"+"),e.qZA()(),e.TgZ(13,"tr")(14,"th",4),e._uU(15,"|"),e.qZA(),e._UZ(16,"th"),e.TgZ(17,"th",4),e._uU(18,"|"),e.qZA(),e.TgZ(19,"th",10),e._uU(20),e.qZA(),e._UZ(21,"th",11),e.TgZ(22,"th",4),e._uU(23),e.qZA(),e.TgZ(24,"th",6),e._uU(25),e.qZA(),e.TgZ(26,"th",4),e._uU(27,"|"),e.qZA()(),e.YNc(28,SE,2,1,"ng-container",12),e.BQk()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(20),e.Oqu(t.name),e.xp6(3),e.Oqu(i.getCategoryTo(o,t)?"":"|"),e.xp6(2),e.Oqu(i.getCategoryTo(o,t)?"":"No grammatical category"),e.xp6(3),e.Q6J("ngIf",i.getCategoryTo(o,t))}}function ZE(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",4),e._uU(3,"+"),e.qZA(),e._UZ(4,"th",5),e.TgZ(5,"th",4),e._uU(6,"+"),e.qZA()(),e.TgZ(7,"tr")(8,"th",4),e._uU(9,"|"),e.qZA(),e.TgZ(10,"th",6),e._uU(11),e.qZA(),e._UZ(12,"th",7),e.TgZ(13,"th",4),e._uU(14,"|"),e.qZA()(),e.YNc(15,xE,29,4,"ng-container",3),e.BQk()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(11),e.Oqu(t.name),e.xp6(4),e.Q6J("ngForOf",o.getCategoriesFrom(t))}}let kE=(()=>{class r{constructor(t,o){this.posService=t,this.categoryService=o,this.poses=[],this.categoriesFrom=new Map,this.categoriesTo=new Map,this.valuesFrom=new Map,this.valuesTo=new Map}ngOnInit(){var t,o;(null===(t=this.langFrom)||void 0===t?void 0:t.id)&&(null===(o=this.langTo)||void 0===o?void 0:o.id)&&this.reload(this.langFrom.id,this.langTo.id)}ngOnChanges(t){var o,i,a,d,f,y,w,D;if((null===(o=t.langFrom)||void 0===o?void 0:o.currentValue)||(null===(i=t.langTo)||void 0===i?void 0:i.currentValue)){let x,O;console.log("ngOnChanges",t),x=null!==(a=t.langFrom)&&void 0!==a&&a.currentValue.id?t.langFrom.currentValue.id:null!==(d=this.langFrom)&&void 0!==d&&d.id?null===(f=this.langFrom)||void 0===f?void 0:f.id:0,O=null!==(y=t.langTo)&&void 0!==y&&y.currentValue.id?t.langTo.currentValue.id:null!==(w=this.langTo)&&void 0!==w&&w.id?null===(D=this.langTo)||void 0===D?void 0:D.id:0,x&&O&&this.reload(x,O)}}reload(t,o){this.posService.getAllPosByLanguage({languageId:t}).subscribe(i=>{this.poses=i.sort((a,d)=>a.name?a.name.localeCompare(d.name?d.name:""):-1),this.poses.forEach(a=>this.reloadCategory(a,t,o))}),this.categoryService.getAllCategories().subscribe(i=>{this.valuesFrom.clear(),this.valuesTo.clear(),i.forEach(a=>{const d=a.id;d&&(this.categoryService.getCategoryValuesByCategoryAndLang({categoryId:d,langId:t}).subscribe(f=>this.valuesFrom.set(d,f)),this.categoryService.getCategoryValuesByCategoryAndLang({categoryId:d,langId:o}).subscribe(f=>this.valuesTo.set(d,f)))})})}reloadCategory(t,o,i){this.categoriesFrom.clear(),this.categoriesTo.clear(),t.id&&(this.categoryService.getGrammaticalCategoryConnectionsForLangAndPos({posId:t.id,languageId:o}).subscribe(a=>{t.id&&this.categoriesFrom.set(t.id,a.map(d=>d.grammaticalCategory?d.grammaticalCategory:{}))}),this.categoryService.getGrammaticalCategoryConnectionsForLangAndPos({posId:t.id,languageId:i}).subscribe(a=>{t.id&&this.categoriesTo.set(t.id,a.map(d=>d.grammaticalCategory?d.grammaticalCategory:{}))}))}getCategoriesFrom(t){return t.id?this.categoriesFrom.get(t.id):[]}getValuesFrom(t){return t.id?this.valuesFrom.get(t.id):[]}getValuesTo(t){return t.id?this.valuesTo.get(t.id):[]}getCategoryTo(t,o){var i;if(t.id&&o.id)return null===(i=this.categoriesTo.get(t.id))||void 0===i?void 0:i.find(a=>a.id===o.id)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ei),e.Y36(Uu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-category-evolution-table"]],inputs:{langFrom:"langFrom",langTo:"langTo"},features:[e.TTD],decls:19,vars:1,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","calc(25% - 40px)"],["span","1",2,"width","25%"],[4,"ngFor","ngForOf"],[1,"border"],["app-horizontal-dash","","colspan","7",1,"border"],[1,"text-grey"],["colspan","6",1,"border"],["app-horizontal-dash","","colspan","3",1,"border"],["app-horizontal-dash","","colspan","1",1,"border"],[1,"text-white"],["colspan","2",1,"border"],[4,"ngIf"],[1,"text-main"],[3,"langFrom","langTo","pos","valueFrom","valuesTo"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0)(5,"col",2)(6,"col",0)(7,"col",2)(8,"col",0)(9,"col",2)(10,"col",0),e.qZA(),e.TgZ(11,"tbody"),e.YNc(12,ZE,16,2,"ng-container",3),e.TgZ(13,"tr")(14,"th",4),e._uU(15,"+"),e.qZA(),e._UZ(16,"th",5),e.TgZ(17,"th",4),e._uU(18,"+"),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngForOf",o.poses))},dependencies:[ut,St,On,uT]}),r})();function NE(r,n){if(1&r&&(e.TgZ(0,"option",9),e._uU(1),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.Q6J("ngValue",t),e.xp6(1),e.Oqu(o.getConnectionText(t))}}let UE=(()=>{class r{constructor(t){this.languagesEvolutionService=t,this.connections=[]}ngOnInit(){this.languagesEvolutionService.getConnections().subscribe(t=>{this.connections=t.sort((o,i)=>{var a,d,f,y,w,D;let x=0;return(null===(a=o.langFrom)||void 0===a?void 0:a.displayName)&&(null===(d=i.langFrom)||void 0===d?void 0:d.displayName)&&(x=null===(f=o.langFrom)||void 0===f?void 0:f.displayName.localeCompare(i.langFrom.displayName)),!x&&(null===(y=o.langTo)||void 0===y?void 0:y.displayName)&&(null===(w=i.langTo)||void 0===w?void 0:w.displayName)&&(x=null===(D=o.langTo)||void 0===D?void 0:D.displayName.localeCompare(i.langTo.displayName)),x})})}getConnectionText(t){var o,i;return`${null===(o=t.langFrom)||void 0===o?void 0:o.displayName} -> ${null===(i=t.langTo)||void 0===i?void 0:i.displayName} (${this.getConnectionTypeText(t.connectionType)})`}getConnectionTypeText(t){switch(t){case ma.Borrowing:return"Borrowing";case ma.Evolving:return"Evolving";case ma.Derivation:return"Derivation";default:return"Unknown connection"}}changeConnection(t){console.log("changeConnection",t.connection)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(pa))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-category-evolution"]],decls:35,vars:5,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",1,"border",2,"width","max-content"],[1,"border"],[2,"text-align","left","display","flex"],[1,"selector"],["for","languageSelector",1,"languageSelectorLabel"],[1,"input-group"],["id","languageSelector","name","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"langFrom","langTo"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",0),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",3),e._uU(9,"|"),e._UZ(10,"br"),e._uU(11,"|"),e._UZ(12,"br"),e._uU(13,"|"),e._UZ(14,"br"),e._uU(15,"|"),e.qZA(),e.TgZ(16,"th",4)(17,"div",5)(18,"label",6),e._uU(19,"Languages connection"),e.qZA(),e.TgZ(20,"div",7)(21,"select",8),e.NdJ("ngModelChange",function(a){return o.changeConnection({connection:a})})("ngModelChange",function(a){return o.connection=a}),e.TgZ(22,"option",9),e._uU(23," --- Select Connection ---"),e.qZA(),e.YNc(24,NE,2,2,"option",10),e.qZA()()()(),e._UZ(25,"th",3),e.TgZ(26,"th",3),e._uU(27,"|"),e._UZ(28,"br"),e._uU(29,"|"),e._UZ(30,"br"),e._uU(31,"|"),e._UZ(32,"br"),e._uU(33,"|"),e.qZA()()()(),e._UZ(34,"app-category-evolution-table",11)),2&t&&(e.xp6(21),e.Q6J("ngModel",o.connection),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.connections),e.xp6(10),e.Q6J("langFrom",null==o.connection?null:o.connection.langFrom)("langTo",null==o.connection?null:o.connection.langTo))},dependencies:[ut,so,oi,_r,xn,un,kE],styles:[".languageSelector[_ngcontent-%COMP%]{margin-top:4px}.languageSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})();const ME={scrollPositionRestoration:"enabled",anchorScrolling:"enabled"},Kh=[{path:"trace",component:gI},{path:"words",component:CC,children:[{path:"new",component:Lx},{path:"list",component:AI},{path:"translations",component:JC},{path:"word/:word",component:GI,pathMatch:"full",resolve:{wordDetails:IE}}]},{path:"evolutions",component:HI,children:[{path:"connections",component:zC},{path:"category",component:UE},{path:"list",component:uy}]},{path:"language",component:Xf,children:[{path:"description",component:j_},{path:"clusters",component:Yc},{path:"laws",component:fA}]}];let lT=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[rA.forRoot(Kh,ME),rA]}),r})();const dT=["col"];function hT(r,n){if(1&r&&(e.TgZ(0,"tr"),e._UZ(1,"td",16),e.TgZ(2,"td",15)(3,"span",17),e._uU(4),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e._UZ(7,"td",16),e.qZA()),2&r){const t=n.$implicit;e.xp6(4),e.hij("",t.message,". "),e.xp6(2),e.Oqu(t.details)}}function pT(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"table")(3,"colgroup"),e._UZ(4,"col",3)(5,"col",4)(6,"col",5)(7,"col",6)(8,"col",3)(9,"col",7)(10,"col",3),e.qZA(),e.TgZ(11,"tbody")(12,"tr")(13,"th",8),e._uU(14,"+"),e.qZA(),e.TgZ(15,"th",8),e._uU(16,"--"),e.qZA(),e.TgZ(17,"th",8),e._uU(18,"[ "),e.TgZ(19,"div",9),e._uU(20,"Esc"),e.qZA(),e._uU(21," ] Close "),e.qZA(),e._UZ(22,"th",10),e.TgZ(23,"th",8),e._uU(24,"+"),e.qZA(),e.TgZ(25,"th",8),e._uU(26,"--"),e.qZA(),e.TgZ(27,"th",8),e._uU(28,"+"),e.qZA()(),e.TgZ(29,"tr")(30,"th",8),e._uU(31,"|"),e.qZA(),e.TgZ(32,"th",11),e._uU(33," WARNING "),e.qZA(),e.TgZ(34,"th",8),e._uU(35,"|"),e.qZA(),e.TgZ(36,"th")(37,"a",12),e.NdJ("click",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.clear(i))}),e._uU(38,"x"),e.qZA()(),e.TgZ(39,"th",8),e._uU(40,"|"),e.qZA()(),e.TgZ(41,"tr")(42,"th",8),e._uU(43,"+"),e.qZA(),e._UZ(44,"th",13),e.TgZ(45,"th",8),e._uU(46,"+"),e.qZA(),e.TgZ(47,"th",8),e._uU(48,"--"),e.qZA(),e.TgZ(49,"th",8),e._uU(50,"+"),e.qZA()()(),e.TgZ(51,"tbody"),e.YNc(52,hT,8,2,"tr",14),e.TgZ(53,"tr")(54,"td",8),e._uU(55,"|"),e.qZA(),e._UZ(56,"td",15),e.TgZ(57,"td",8),e._uU(58,"|"),e.qZA()()()()()()}if(2&r){const t=e.oxw();e.xp6(52),e.Q6J("ngForOf",t.errors)}}let fT=(()=>{class r{constructor(t,o){this.cdRef=t,this.errorService=o,this.bcol="",this.errors=[]}ngOnInit(){this.errorService.errors.subscribe(t=>{this.errors=t})}onResize(){this.resizeTable()}ngAfterViewChecked(){this.resizeTable()}resizeTable(){var t;const i=Math.floor(((null===(t=this.col)||void 0===t?void 0:t.nativeElement.offsetWidth)-2)/8),a=this.bcol;this.bcol="--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------".substr(0,i),a!=this.bcol&&this.cdRef.detectChanges()}clear(t){t.stopPropagation(),this.errorService.clearErrors()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(eg))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-footer"]],viewQuery:function(t,o){if(1&t&&e.Gf(dT,5),2&t){let i;e.iGM(i=e.CRH())&&(o.col=i.first)}},hostBindings:function(t,o){1&t&&e.NdJ("resize",function(a){return o.onResize(a)},!1,e.Jf7)},decls:1,vars:1,consts:[["class","footer-wrapper",4,"ngIf"],[1,"footer-wrapper"],[1,"footer"],["span","1",1,"border"],["span","1",2,"width","16px"],["span","1",2,"width","112px"],["span","1",2,"width","auto"],["span","1",2,"width","18px"],[1,"border"],[1,"text-yellow-dull",2,"display","inline"],["app-horizontal-dash","",1,"border"],["colspan","3",1,"text-grey"],[1,"text-red-dull","link-btn",3,"click"],["app-horizontal-dash","","colspan","3",1,"border"],[4,"ngFor","ngForOf"],["colspan","5",1,"break-word","text-grey"],["app-vertical-dash","",1,"border"],[1,"text-red-dull"]],template:function(t,o){1&t&&e.YNc(0,pT,59,1,"div",0),2&t&&e.Q6J("ngIf",o.errors.length>0)},dependencies:[ut,St,On],styles:[".footer-wrapper[_ngcontent-%COMP%]{position:fixed;left:0px;bottom:0px;width:100%;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.footer[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;z-index:100;background-color:#252525}"]}),r})(),PE=(()=>{class r{transform(t,...o){switch(t){case"ZERO":return"0";case"ONE":return"1";case"TWO":return"2";case"THREE":return"3";case"FOUR":return"4";case"FIVE":return"5";default:return t}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275pipe=e.Yjl({name:"keySymbols",type:r,pure:!0}),r})();function qx(r,n){if(1&r&&(e.TgZ(0,"span",3),e._uU(1),e.ALo(2,"keySymbols"),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" [",e.lcZ(2,1,t.key)," ]")}}let gT=(()=>{class r{constructor(t,o,i){this.activeRoute=t,this.router=o,this.keybind=i}ngOnInit(){this.key&&this.keybind.match([this.key],["altKey"]).subscribe(o=>{o.preventDefault();const i=this.activeRoute.snapshot.queryParamMap.get("lang");this.router.navigate([this.route],{queryParams:{lang:i}})})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(oa),e.Y36(Pn),e.Y36(ha))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-header-nav-link"]],inputs:{route:"route",name:"name",key:"key"},decls:4,vars:3,consts:[[1,"nav-link"],[1,"link-btn",3,"routerLink"],["class","text-grey-dull",4,"ngIf"],[1,"text-grey-dull"]],template:function(t,o){1&t&&(e.TgZ(0,"span",0)(1,"a",1),e._uU(2),e.YNc(3,qx,3,3,"span",2),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("routerLink",o.route),e.xp6(1),e.Oqu(o.name),e.xp6(1),e.Q6J("ngIf",o.key))},dependencies:[St,Ai,PE],styles:[".nav-link[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}"]}),r})();function Is(r,n,t,o){return new(t||(t=Promise))(function(a,d){function f(D){try{w(o.next(D))}catch(x){d(x)}}function y(D){try{w(o.throw(D))}catch(x){d(x)}}function w(D){D.done?a(D.value):function i(a){return a instanceof t?a:new t(function(d){d(a)})}(D.value).then(f,y)}w((o=o.apply(r,n||[])).next())})}var _y=M(2227),Jt=M(2090),Ya=M(9681),_a=M(1877),cg=M(4859),co=M(5813);function yy(){return(0,Co.e)((r,n)=>{let t,o=!1;r.subscribe((0,mr.x)(n,i=>{const a=t;t=i,o&&n.next([a,i]),o=!0}))})}function wT(r,n){return r===n}var pt,Di=M(2011),bT=(M(5881),M(3942)),Ae=M(5861),AT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Xa={},dg=dg||{},Lt=AT||self;function Yh(){}function vy(r){var n=typeof r;return"array"==(n="object"!=n?n:r?Array.isArray(r)?"array":n:"null")||"object"==n&&"number"==typeof r.length}function Or(r){var n=typeof r;return"object"==n&&null!=r||"function"==n}var Cy="closure_uid_"+(1e9*Math.random()>>>0),VE=0;function zx(r,n,t){return r.call.apply(r.bind,arguments)}function Qx(r,n,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,o),r.apply(n,i)}}return function(){return r.apply(n,arguments)}}function Qr(r,n,t){return(Qr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zx:Qx).apply(null,arguments)}function Xh(r,n){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function yr(r,n){function t(){}t.prototype=n.prototype,r.Z=n.prototype,r.prototype=new t,r.prototype.constructor=r,r.Vb=function(o,i,a){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return n.prototype[i].apply(o,d)}}function Mu(){this.s=this.s,this.o=this.o}var BE={};Mu.prototype.s=!1,Mu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function ld(r){return Object.prototype.hasOwnProperty.call(r,Cy)&&r[Cy]||(r[Cy]=++VE)}(this);delete BE[r]}},Mu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wy=Array.prototype.indexOf?function(r,n){return Array.prototype.indexOf.call(r,n,void 0)}:function(r,n){if("string"==typeof r)return"string"!=typeof n||1!=n.length?-1:r.indexOf(n,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===n)return t;return-1},IT=Array.prototype.forEach?function(r,n,t){Array.prototype.forEach.call(r,n,t)}:function(r,n,t){const o=r.length,i="string"==typeof r?r.split(""):r;for(let a=0;a<o;a++)a in i&&n.call(t,i[a],a,r)};function Hl(r){return Array.prototype.concat.apply([],arguments)}function by(r){const n=r.length;if(0<n){const t=Array(n);for(let o=0;o<n;o++)t[o]=r[o];return t}return[]}function cd(r){return/^[\s\xa0]*$/.test(r)}var ho,Ay=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function Ao(r,n){return-1!=r.indexOf(n)}function dd(r,n){return r<n?-1:r>n?1:0}e:{var $E=Lt.navigator;if($E){var Iy=$E.userAgent;if(Iy){ho=Iy;break e}}ho=""}function Ey(r,n,t){for(const o in r)n.call(t,r[o],o,r)}function Dy(r){const n={};for(const t in r)n[t]=r[t];return n}var Jl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ET(r,n){let t,o;for(let i=1;i<arguments.length;i++){for(t in o=arguments[i],o)r[t]=o[t];for(let a=0;a<Jl.length;a++)t=Jl[a],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function hg(r){return hg[" "](r),r}hg[" "]=Yh;var ep,r,Kx=Ao(ho,"Opera"),hd=Ao(ho,"Trident")||Ao(ho,"MSIE"),GE=Ao(ho,"Edge"),xy=GE||hd,DT=Ao(ho,"Gecko")&&!(Ao(ho.toLowerCase(),"webkit")&&!Ao(ho,"Edge"))&&!(Ao(ho,"Trident")||Ao(ho,"MSIE"))&&!Ao(ho,"Edge"),HE=Ao(ho.toLowerCase(),"webkit")&&!Ao(ho,"Edge");function Zy(){var r=Lt.document;return r?r.documentMode:void 0}e:{var ky="",pg=(r=ho,DT?/rv:([^\);]+)(\)|;)/.exec(r):GE?/Edge\/([\d\.]+)/.exec(r):hd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):HE?/WebKit\/(\S+)/.exec(r):Kx?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(pg&&(ky=pg?pg[1]:""),hd){var fg=Zy();if(null!=fg&&fg>parseFloat(ky)){ep=String(fg);break e}}ep=ky}var JE={};var xT=Lt.document&&hd&&(Zy()||parseInt(ep,10))||void 0,ZT=function(){if(!Lt.addEventListener||!Object.defineProperty)return!1;var r=!1,n=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Lt.addEventListener("test",Yh,n),Lt.removeEventListener("test",Yh,n)}catch(t){}return r}();function po(r,n){this.type=r,this.g=this.target=n,this.defaultPrevented=!1}function pd(r,n){if(po.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=n,n=r.relatedTarget){if(DT){e:{try{hg(n.nodeName);var i=!0;break e}catch(a){}i=!1}i||(n=null)}}else"mouseover"==t?n=r.fromElement:"mouseout"==t&&(n=r.toElement);this.relatedTarget=n,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:zE[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&pd.Z.h.call(this)}}po.prototype.h=function(){this.defaultPrevented=!0},yr(pd,po);var zE={2:"touch",3:"pen",4:"mouse"};pd.prototype.h=function(){pd.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var tp="closure_listenable_"+(1e6*Math.random()|0),Yx=0;function kT(r,n,t,o,i){this.listener=r,this.proxy=null,this.src=n,this.type=t,this.capture=!!o,this.ia=i,this.key=++Yx,this.ca=this.fa=!1}function Ny(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function Uy(r){this.src=r,this.g={},this.h=0}function NT(r,n){var t=n.type;if(t in r.g){var a,o=r.g[t],i=wy(o,n);(a=0<=i)&&Array.prototype.splice.call(o,i,1),a&&(Ny(n),0==r.g[t].length&&(delete r.g[t],r.h--))}}function UT(r,n,t,o){for(var i=0;i<r.length;++i){var a=r[i];if(!a.ca&&a.listener==n&&a.capture==!!t&&a.ia==o)return i}return-1}Uy.prototype.add=function(r,n,t,o,i){var a=r.toString();(r=this.g[a])||(r=this.g[a]=[],this.h++);var d=UT(r,n,o,i);return-1<d?(n=r[d],t||(n.fa=!1)):((n=new kT(n,this.src,a,!!o,i)).fa=t,r.push(n)),n};var MT="closure_lm_"+(1e6*Math.random()|0),PT={};function QE(r,n,t,o,i){if(o&&o.once)return YE(r,n,t,o,i);if(Array.isArray(n)){for(var a=0;a<n.length;a++)QE(r,n[a],t,o,i);return null}return t=_g(t),r&&r[tp]?r.N(n,t,Or(o)?!!o.capture:!!o,i):KE(r,n,t,!1,o,i)}function KE(r,n,t,o,i,a){if(!n)throw Error("Invalid event type");var d=Or(i)?!!i.capture:!!i,f=RT(r);if(f||(r[MT]=f=new Uy(r)),(t=f.add(n,t,o,d,a)).proxy)return t;if(o=function mg(){var n=OT;return function r(t){return n.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)ZT||(i=d),void 0===i&&(i=!1),r.addEventListener(n.toString(),o,i);else if(r.attachEvent)r.attachEvent(Py(n.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function YE(r,n,t,o,i){if(Array.isArray(n)){for(var a=0;a<n.length;a++)YE(r,n[a],t,o,i);return null}return t=_g(t),r&&r[tp]?r.O(n,t,Or(o)?!!o.capture:!!o,i):KE(r,n,t,!0,o,i)}function My(r,n,t,o,i){if(Array.isArray(n))for(var a=0;a<n.length;a++)My(r,n[a],t,o,i);else o=Or(o)?!!o.capture:!!o,t=_g(t),r&&r[tp]?(r=r.i,(n=String(n).toString())in r.g&&-1<(t=UT(a=r.g[n],t,o,i))&&(Ny(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete r.g[n],r.h--))):r&&(r=RT(r))&&(n=r.g[n.toString()],r=-1,n&&(r=UT(n,t,o,i)),(t=-1<r?n[r]:null)&&fd(t))}function fd(r){if("number"!=typeof r&&r&&!r.ca){var n=r.src;if(n&&n[tp])NT(n.i,r);else{var t=r.type,o=r.proxy;n.removeEventListener?n.removeEventListener(t,o,r.capture):n.detachEvent?n.detachEvent(Py(t),o):n.addListener&&n.removeListener&&n.removeListener(o),(t=RT(n))?(NT(t,r),0==t.h&&(t.src=null,n[MT]=null)):Ny(r)}}}function Py(r){return r in PT?PT[r]:PT[r]="on"+r}function OT(r,n){if(r.ca)r=!0;else{n=new pd(n,this);var t=r.listener,o=r.ia||r.src;r.fa&&fd(r),r=t.call(o,n)}return r}function RT(r){return(r=r[MT])instanceof Uy?r:null}var np="__closure_events_fn_"+(1e9*Math.random()>>>0);function _g(r){return"function"==typeof r?r:(r[np]||(r[np]=function(n){return r.handleEvent(n)}),r[np])}function Kr(){Mu.call(this),this.i=new Uy(this),this.P=this,this.I=null}function Yr(r,n){var t,o=r.I;if(o)for(t=[];o;o=o.I)t.push(o);if(r=r.P,o=n.type||n,"string"==typeof n)n=new po(n,r);else if(n instanceof po)n.target=n.target||r;else{var i=n;ET(n=new po(o,r),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var d=n.g=t[a];i=Oy(d,o,!0,n)&&i}if(i=Oy(d=n.g=r,o,!0,n)&&i,i=Oy(d,o,!1,n)&&i,t)for(a=0;a<t.length;a++)i=Oy(d=n.g=t[a],o,!1,n)&&i}function Oy(r,n,t,o){if(!(n=r.i.g[String(n)]))return!0;n=n.concat();for(var i=!0,a=0;a<n.length;++a){var d=n[a];if(d&&!d.ca&&d.capture==t){var f=d.listener,y=d.ia||d.src;d.fa&&NT(r.i,d),i=!1!==f.call(y,o)&&i}}return i&&!o.defaultPrevented}yr(Kr,Mu),Kr.prototype[tp]=!0,Kr.prototype.removeEventListener=function(r,n,t,o){My(this,r,n,t,o)},Kr.prototype.M=function(){if(Kr.Z.M.call(this),this.i){var n,r=this.i;for(n in r.g){for(var t=r.g[n],o=0;o<t.length;o++)Ny(t[o]);delete r.g[n],r.h--}}this.I=null},Kr.prototype.N=function(r,n,t,o){return this.i.add(String(r),n,!1,t,o)},Kr.prototype.O=function(r,n,t,o){return this.i.add(String(r),n,!0,t,o)};var LT=Lt.JSON.stringify;function XE(){var r=VT;let n=null;return r.g&&(n=r.g,r.g=r.g.next,r.g||(r.h=null),n.next=null),n}var qT,rp=new class{constructor(r,n){this.i=r,this.j=n,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new tD,r=>r.reset());class tD{constructor(){this.next=this.g=this.h=null}set(n,t){this.h=n,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Xx(r){Lt.setTimeout(()=>{throw r},0)}function FT(r,n){qT||function nD(){var r=Lt.Promise.resolve(void 0);qT=function(){r.then(eZ)}}(),Ry||(qT(),Ry=!0),VT.add(r,n)}var Ry=!1,VT=new class eD{constructor(){this.h=this.g=null}add(n,t){const o=rp.get();o.set(n,t),this.h?this.h.next=o:this.g=o,this.h=o}};function eZ(){for(var r;r=XE();){try{r.h.call(r.g)}catch(t){Xx(t)}var n=rp;n.j(r),100>n.h&&(n.h++,r.next=n.g,n.g=r)}Ry=!1}function yg(r,n){Kr.call(this),this.h=r||1,this.g=n||Lt,this.j=Qr(this.kb,this),this.l=Date.now()}function vg(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function Cg(r,n,t){if("function"==typeof r)t&&(r=Qr(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Qr(r.handleEvent,r)}return 2147483647<Number(n)?-1:Lt.setTimeout(r,n||0)}function rD(r){r.g=Cg(()=>{r.g=null,r.i&&(r.i=!1,rD(r))},r.j);const n=r.h;r.h=null,r.m.apply(null,n)}yr(yg,Kr),(pt=yg.prototype).da=!1,pt.S=null,pt.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Yr(this,"tick"),this.da&&(vg(this),this.start()))}},pt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.M=function(){yg.Z.M.call(this),vg(this),delete this.g};class Es extends Mu{constructor(n,t){super(),this.m=n,this.j=t,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:rD(this)}M(){super.M(),this.g&&(Lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function op(r){Mu.call(this),this.h=r,this.g={}}yr(op,Mu);var Tg=[];function BT(r,n,t,o){Array.isArray(t)||(t&&(Tg[0]=t.toString()),t=Tg);for(var i=0;i<t.length;i++){var a=QE(n,t[i],o||r.handleEvent,!1,r.h||r);if(!a)break;r.g[a.key]=a}}function ui(r){Ey(r.g,function(n,t){this.g.hasOwnProperty(t)&&fd(n)},r),r.g={}}function wg(){this.g=!0}function gd(r,n,t,o){r.info(function(){return"XMLHTTP TEXT ("+n+"): "+function jT(r,n){if(!r.g)return n;if(!n)return null;try{var t=JSON.parse(n);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var i=o[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var d=1;d<i.length;d++)i[d]=""}}}return LT(t)}catch(f){return n}}(r,t)+(o?" "+o:"")})}op.prototype.M=function(){op.Z.M.call(this),ui(this)},op.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wg.prototype.Aa=function(){this.g=!1},wg.prototype.info=function(){};var Pu={},$T=null;function ip(){return $T=$T||new Kr}function qy(r){po.call(this,Pu.Ma,r)}function sp(r){const n=ip();Yr(n,new qy(n,r))}function Vy(r,n){po.call(this,Pu.STAT_EVENT,r),this.stat=n}function Fo(r){const n=ip();Yr(n,new Vy(n,r))}function md(r,n){po.call(this,Pu.Na,r),this.size=n}function li(r,n){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Lt.setTimeout(function(){r()},n)}Pu.Ma="serverreachability",yr(qy,po),Pu.STAT_EVENT="statevent",yr(Vy,po),Pu.Na="timingevent",yr(md,po);var ap={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},bg={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ds(){}function iD(){}Ds.prototype.h=null;var $y,up={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function By(){po.call(this,"d")}function jy(){po.call(this,"c")}function lp(){}function Ag(r,n,t,o){this.l=r,this.j=n,this.m=t,this.X=o||1,this.V=new op(this),this.P=sD,this.W=new yg(r=xy?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Gy}function Gy(){this.i=null,this.g="",this.h=!1}yr(By,po),yr(jy,po),yr(lp,Ds),lp.prototype.g=function(){return new XMLHttpRequest},lp.prototype.i=function(){return{}},$y=new lp;var sD=45e3,Ig={},Hy={};function cp(r,n,t){r.K=1,r.v=Dg(eu(n)),r.s=t,r.U=!0,Jy(r,null)}function Jy(r,n){r.F=Date.now(),_d(r),r.A=eu(r.v);var t=r.A,o=r.X;Array.isArray(o)||(o=[String(o)]),pD(t.h,"t",o),r.C=0,t=r.l.H,r.h=new Gy,r.g=Ug(r.l,t?n:null,!r.s),0<r.O&&(r.L=new Es(Qr(r.Ia,r,r.g),r.O)),BT(r.V,r.g,"readystatechange",r.gb),n=r.H?Dy(r.H):{},r.s?(r.u||(r.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,n)):(r.u="GET",r.g.ea(r.A,r.u,null,n)),sp(1),function Ly(r,n,t,o,i,a){r.info(function(){if(r.g)if(a)for(var d="",f=a.split("&"),y=0;y<f.length;y++){var w=f[y].split("=");if(1<w.length){var D=w[0];w=w[1];var x=D.split("_");d=2<=x.length&&"type"==x[1]?d+(D+"=")+w+"&":d+(D+"=redacted&")}}else d=null;else d=a;return"XMLHTTP REQ ("+o+") [attempt "+i+"]: "+n+"\n"+t+"\n"+d})}(r.j,r.u,r.A,r.m,r.X,r.s)}function Wy(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function HT(r,n,t){let i,o=!0;for(;!r.I&&r.C<t.length;){if(i=JT(r,t),i==Hy){4==n&&(r.o=4,Fo(14),o=!1),gd(r.j,r.m,null,"[Incomplete Response]");break}if(i==Ig){r.o=4,Fo(15),gd(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}gd(r.j,r.m,i,null),Eg(r,i)}Wy(r)&&i!=Hy&&i!=Ig&&(r.h.g="",r.C=0),4!=n||0!=t.length||r.h.h||(r.o=1,Fo(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.aa&&(r.aa=!0,(n=r.l).g==r&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),et(n),n.L=!0,Fo(11))):(gd(r.j,r.m,t,"[Invalid Chunked Response]"),zl(r),yd(r))}function JT(r,n){var t=r.C,o=n.indexOf("\n",t);return-1==o?Hy:(t=Number(n.substring(t,o)),isNaN(t)?Ig:(o+=1)+t>n.length?Hy:(n=n.substr(o,t),r.C=o+t,n))}function _d(r){r.Y=Date.now()+r.P,dp(r,r.P)}function dp(r,n){if(null!=r.B)throw Error("WatchDog timer not null");r.B=li(Qr(r.eb,r),n)}function Wl(r){r.B&&(Lt.clearTimeout(r.B),r.B=null)}function yd(r){0==r.l.G||r.I||Me(r.l,r)}function zl(r){Wl(r);var n=r.L;n&&"function"==typeof n.na&&n.na(),r.L=null,vg(r.W),ui(r.V),r.g&&(n=r.g,r.g=null,n.abort(),n.na())}function Eg(r,n){try{var t=r.l;if(0!=t.G&&(t.g==r||xg(t.i,r)))if(t.I=r.N,!r.J&&xg(t.i,r)&&3==t.G){try{var o=t.Ca.g.parse(n)}catch(w){o=null}if(Array.isArray(o)&&3==o.length){var i=o;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<r.F))break e;Et(t),_(t)}Le(t),Fo(18)}}else t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=li(Qr(t.ab,t),6e3));if(1>=ov(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else Ft(t,11)}else if((r.J||t.g==r)&&Et(t),!cd(n))for(i=t.Ca.g.parse(n),n=0;n<i.length;n++){let w=i[n];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const D=w[3];null!=D&&(t.ma=D,t.h.info("VER="+t.ma));const x=w[4];null!=x&&(t.za=x,t.h.info("SVER="+t.za));const O=w[5];null!=O&&"number"==typeof O&&0<O&&(t.K=o=1.5*O,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const H=r.g;if(H){const ne=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ne){var a=o.i;!a.g&&(Ao(ne,"spdy")||Ao(ne,"quic")||Ao(ne,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(Zg(a,a.h),a.h=null))}if(o.D){const Ne=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;Ne&&(o.sa=Ne,or(o.F,o.D,Ne))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-r.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=r;if((o=t).oa=Ru(o,o.H?o.la:null,o.W),d.J){XT(o.i,d);var f=d,y=o.K;y&&f.setTimeout(y),f.B&&(Wl(f),_d(f)),o.g=d}else Ie(o);0<t.l.length&&E(t)}else"stop"!=w[0]&&"close"!=w[0]||Ft(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Ft(t,7):g(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}sp(4)}catch(w){}}function zy(r,n){if(r.forEach&&"function"==typeof r.forEach)r.forEach(n,void 0);else if(vy(r)||"string"==typeof r)IT(r,n,void 0);else{if(r.T&&"function"==typeof r.T)var t=r.T();else if(r.R&&"function"==typeof r.R)t=void 0;else if(vy(r)||"string"==typeof r){t=[];for(var o=r.length,i=0;i<o;i++)t.push(i)}else for(i in t=[],o=0,r)t[o++]=i;o=function WT(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(vy(r)){for(var n=[],t=r.length,o=0;o<t;o++)n.push(r[o]);return n}for(o in n=[],t=0,r)n[t++]=r[o];return n}(r),i=o.length;for(var a=0;a<i;a++)n.call(void 0,o[a],t&&t[a],r)}}function vd(r,n){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(r)if(r instanceof vd)for(t=r.T(),o=0;o<t.length;o++)this.set(t[o],r.get(t[o]));else for(o in r)this.set(o,r[o])}function zT(r){if(r.i!=r.g.length){for(var n=0,t=0;n<r.g.length;){var o=r.g[n];Cd(r.h,o)&&(r.g[t++]=o),n++}r.g.length=t}if(r.i!=r.g.length){var i={};for(t=n=0;n<r.g.length;)Cd(i,o=r.g[n])||(r.g[t++]=o,i[o]=1),n++;r.g.length=t}}function Cd(r,n){return Object.prototype.hasOwnProperty.call(r,n)}(pt=Ag.prototype).setTimeout=function(r){this.P=r},pt.gb=function(r){r=r.target;const n=this.L;n&&3==Ou(r)?n.l():this.Ia(r)},pt.Ia=function(r){try{if(r==this.g)e:{const D=Ou(this.g);var n=this.g.Da();const x=this.g.ba();if(!(3>D)&&(3!=D||xy||this.g&&(this.h.h||this.g.ga()||s(this.g)))){this.I||4!=D||7==n||sp(8==n||0>=x?3:2),Wl(this);var t=this.g.ba();this.N=t;t:if(Wy(this)){var o=s(this.g);r="";var i=o.length,a=4==Ou(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){zl(this),yd(this);var d="";break t}this.h.i=new Lt.TextDecoder}for(n=0;n<i;n++)this.h.h=!0,r+=this.h.i.decode(o[n],{stream:a&&n==i-1});o.splice(0,i),this.h.g+=r,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function oD(r,n,t,o,i,a,d){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+i+"]: "+n+"\n"+t+"\n"+a+" "+d})}(this.j,this.u,this.A,this.m,this.X,D,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cd(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Fo(12),zl(this),yd(this);break e}gd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Eg(this,t)}this.U?(HT(this,D,d),xy&&this.i&&3==D&&(BT(this.V,this.W,"tick",this.fb),this.W.start())):(gd(this.j,this.m,d,null),Eg(this,d)),4==D&&zl(this),this.i&&!this.I&&(4==D?Me(this.l,this):(this.i=!1,_d(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Fo(12)):(this.o=0,Fo(13)),zl(this),yd(this)}}}catch(D){}},pt.fb=function(){if(this.g){var r=Ou(this.g),n=this.g.ga();this.C<n.length&&(Wl(this),HT(this,r,n),this.i&&4!=r&&_d(this))}},pt.cancel=function(){this.I=!0,zl(this)},pt.eb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Fy(r,n){r.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(sp(3),Fo(17)),zl(this),this.o=2,yd(this)):dp(this,this.Y-r)},(pt=vd.prototype).R=function(){zT(this);for(var r=[],n=0;n<this.g.length;n++)r.push(this.h[this.g[n]]);return r},pt.T=function(){return zT(this),this.g.concat()},pt.get=function(r,n){return Cd(this.h,r)?this.h[r]:n},pt.set=function(r,n){Cd(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=n},pt.forEach=function(r,n){for(var t=this.T(),o=0;o<t.length;o++){var i=t[o],a=this.get(i);r.call(n,a,i,this)}};var Qy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ql(r,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof Ql){this.g=void 0!==n?n:r.g,Ky(this,r.j),this.s=r.s,Yy(this,r.i),Xy(this,r.m),this.l=r.l,n=r.h;var t=new Yl;t.i=n.i,n.g&&(t.g=new vd(n.g),t.h=n.h),uD(this,t),this.o=r.o}else r&&(t=String(r).match(Qy))?(this.g=!!n,Ky(this,t[1]||"",!0),this.s=hp(t[2]||""),Yy(this,t[3]||"",!0),Xy(this,t[4]),this.l=hp(t[5]||"",!0),uD(this,t[6]||"",!0),this.o=hp(t[7]||"")):(this.g=!!n,this.h=new Yl(null,this.g))}function eu(r){return new Ql(r)}function Ky(r,n,t){r.j=t?hp(n,!0):n,r.j&&(r.j=r.j.replace(/:$/,""))}function Yy(r,n,t){r.i=t?hp(n,!0):n}function Xy(r,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);r.m=n}else r.m=null}function uD(r,n,t){n instanceof Yl?(r.h=n,function QT(r,n){n&&!r.j&&(Ss(r),r.i=null,r.g.forEach(function(t,o){var i=o.toLowerCase();o!=i&&(dD(this,o),pD(this,i,t))},r)),r.j=n}(r.h,r.g)):(t||(n=Td(n,cD)),r.h=new Yl(n,r.g))}function or(r,n,t){r.h.set(n,t)}function Dg(r){return or(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function hp(r,n){return r?n?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Td(r,n,t){return"string"==typeof r?(r=encodeURI(r).replace(n,Kl),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Kl(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Ql.prototype.toString=function(){var r=[],n=this.j;n&&r.push(Td(n,ev,!0),":");var t=this.i;return(t||"file"==n)&&(r.push("//"),(n=this.s)&&r.push(Td(n,ev,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&r.push("/"),r.push(Td(t,"/"==t.charAt(0)?nv:tv,!0))),(t=this.h.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Td(t,rv)),r.join("")};var ev=/[#\/\?@]/g,tv=/[#\?:]/g,nv=/[#\?]/g,cD=/[#\?@]/g,rv=/#/g;function Yl(r,n){this.h=this.g=null,this.i=r||null,this.j=!!n}function Ss(r){r.g||(r.g=new vd,r.h=0,r.i&&function aD(r,n){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),i=null;if(0<=o){var a=r[t].substring(0,o);i=r[t].substring(o+1)}else a=r[t];n(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(r.i,function(n,t){r.add(decodeURIComponent(n.replace(/\+/g," ")),t)}))}function dD(r,n){Ss(r),n=pp(r,n),Cd(r.g.h,n)&&(r.i=null,r.h-=r.g.get(n).length,Cd((r=r.g).h,n)&&(delete r.h[n],r.i--,r.g.length>2*r.i&&zT(r)))}function hD(r,n){return Ss(r),n=pp(r,n),Cd(r.g.h,n)}function pD(r,n,t){dD(r,n),0<t.length&&(r.i=null,r.g.set(pp(r,n),by(t)),r.h+=t.length)}function pp(r,n){return n=String(n),r.j&&(n=n.toLowerCase()),n}function KT(r){this.l=r||gD,r=Lt.PerformanceNavigationTiming?0<(r=Lt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Lt.g&&Lt.g.Ea&&Lt.g.Ea()&&Lt.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=Yl.prototype).add=function(r,n){Ss(this),this.i=null,r=pp(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(n),this.h+=1,this},pt.forEach=function(r,n){Ss(this),this.g.forEach(function(t,o){IT(t,function(i){r.call(n,i,o,this)},this)},this)},pt.T=function(){Ss(this);for(var r=this.g.R(),n=this.g.T(),t=[],o=0;o<n.length;o++)for(var i=r[o],a=0;a<i.length;a++)t.push(n[o]);return t},pt.R=function(r){Ss(this);var n=[];if("string"==typeof r)hD(this,r)&&(n=Hl(n,this.g.get(pp(this,r))));else{r=this.g.R();for(var t=0;t<r.length;t++)n=Hl(n,r[t])}return n},pt.set=function(r,n){return Ss(this),this.i=null,hD(this,r=pp(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[n]),this.h+=1,this},pt.get=function(r,n){return r&&0<(r=this.R(r)).length?String(r[0]):n},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],n=this.g.T(),t=0;t<n.length;t++){var o=n[t],i=encodeURIComponent(String(o));o=this.R(o);for(var a=0;a<o.length;a++){var d=i;""!==o[a]&&(d+="="+encodeURIComponent(String(o[a]))),r.push(d)}}return this.i=r.join("&")};var gD=10;function YT(r){return!!r.h||!!r.g&&r.g.size>=r.j}function ov(r){return r.h?1:r.g?r.g.size:0}function xg(r,n){return r.h?r.h==n:!!r.g&&r.g.has(n)}function Zg(r,n){r.g?r.g.add(n):r.h=n}function XT(r,n){r.h&&r.h==n?r.h=null:r.g&&r.g.has(n)&&r.g.delete(n)}function ew(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let n=r.i;for(const t of r.g.values())n=n.concat(t.D);return n}return by(r.i)}function kg(){}function iv(){this.g=new kg}function tZ(r,n,t){const o=t||"";try{zy(r,function(i,a){let d=i;Or(i)&&(d=LT(i)),n.push(o+a+"="+encodeURIComponent(d))})}catch(i){throw n.push(o+"type="+encodeURIComponent("_badmap")),i}}function wd(r,n,t,o,i){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,i(o)}catch(a){}}function fp(r){this.l=r.$b||null,this.j=r.ib||!1}function Ng(r,n){Kr.call(this),this.D=r,this.u=n,this.m=void 0,this.readyState=nw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}KT.prototype.cancel=function(){if(this.i=ew(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},kg.prototype.stringify=function(r){return Lt.JSON.stringify(r,void 0)},kg.prototype.parse=function(r){return Lt.JSON.parse(r,void 0)},yr(fp,Ds),fp.prototype.g=function(){return new Ng(this.l,this.j)},fp.prototype.i=function(r){return function(){return r}}({}),yr(Ng,Kr);var nw=0;function mD(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function gp(r){r.readyState=4,r.l=null,r.j=null,r.A=null,mp(r)}function mp(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(pt=Ng.prototype).open=function(r,n){if(this.readyState!=nw)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=n,this.readyState=1,mp(this)},pt.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(n.body=r),(this.D||Lt).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gp(this)),this.readyState=nw},pt.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,mp(this)),this.g&&(this.readyState=3,mp(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Lt.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mD(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},pt.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var n=r.value?r.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!r.done}))&&(this.response=this.responseText+=n)}r.done?gp(this):mp(this),3==this.readyState&&mD(this)}},pt.Ua=function(r){this.g&&(this.response=this.responseText=r,gp(this))},pt.Ta=function(r){this.g&&(this.response=r,gp(this))},pt.ha=function(){this.g&&gp(this)},pt.setRequestHeader=function(r,n){this.v.append(r,n)},pt.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],n=this.h.entries();for(var t=n.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=n.next();return r.join("\r\n")},Object.defineProperty(Ng.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var _D=Lt.JSON.parse;function Rr(r){Kr.call(this),this.headers=new vd,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=yD,this.K=this.L=!1}yr(Rr,Kr);var yD="",nZ=/^https?$/i,rZ=["POST","PUT"];function vD(r){return"content-type"==r.toLowerCase()}function CD(r,n){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=n,r.m=5,TD(r),sv(r)}function TD(r){r.D||(r.D=!0,Yr(r,"complete"),Yr(r,"error"))}function wD(r){if(r.h&&void 0!==dg&&(!r.C[1]||4!=Ou(r)||2!=r.ba()))if(r.v&&4==Ou(r))Cg(r.Fa,0,r);else if(Yr(r,"readystatechange"),4==Ou(r)){r.h=!1;try{const f=r.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var t;if(!(t=n)){var o;if(o=0===f){var i=String(r.H).match(Qy)[1]||null;if(!i&&Lt.self&&Lt.self.location){var a=Lt.self.location.protocol;i=a.substr(0,a.length-1)}o=!nZ.test(i?i.toLowerCase():"")}t=o}if(t)Yr(r,"complete"),Yr(r,"success");else{r.m=6;try{var d=2<Ou(r)?r.g.statusText:""}catch(y){d=""}r.j=d+" ["+r.ba()+"]",TD(r)}}finally{sv(r)}}}function sv(r,n){if(r.g){bD(r);const t=r.g,o=r.C[0]?Yh:null;r.g=null,r.C=null,n||Yr(r,"ready");try{t.onreadystatechange=o}catch(i){}}}function bD(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(Lt.clearTimeout(r.A),r.A=null)}function Ou(r){return r.g?r.g.readyState:0}function s(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case yD:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(n){return null}}function l(r,n,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function u(r){let n="";return Ey(r,function(t,o){n+=o,n+=":",n+=t,n+="\r\n"}),n}(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):or(r,n,t))}function c(r,n,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||n}function h(r){this.za=0,this.l=[],this.h=new wg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=c("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=c("baseRetryDelayMs",5e3,r),this.$a=c("retryDelaySeedMs",1e4,r),this.Ya=c("forwardChannelMaxRetries",2,r),this.ra=c("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new KT(r&&r.concurrentRequestLimit),this.Ca=new iv,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function g(r){if(T(r),3==r.G){var n=r.V++,t=eu(r.F);or(t,"SID",r.J),or(t,"RID",n),or(t,"TYPE","terminate"),z(r,t),(n=new Ag(r,r.h,n,void 0)).K=2,n.v=Dg(eu(t)),t=!1,Lt.navigator&&Lt.navigator.sendBeacon&&(t=Lt.navigator.sendBeacon(n.v.toString(),"")),!t&&Lt.Image&&((new Image).src=n.v,t=!0),t||(n.g=Ug(n.l,null),n.g.ea(n.v)),n.F=Date.now(),_d(n)}$n(r)}function _(r){r.g&&(et(r),r.g.cancel(),r.g=null)}function T(r){_(r),r.u&&(Lt.clearTimeout(r.u),r.u=null),Et(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Lt.clearTimeout(r.m),r.m=null)}function b(r,n){r.l.push(new class{constructor(r,n){this.h=r,this.g=n}}(r.Za++,n)),3==r.G&&E(r)}function E(r){YT(r.i)||r.m||(r.m=!0,FT(r.Ha,r),r.C=0)}function P(r,n){var t;t=n?n.m:r.V++;const o=eu(r.F);or(o,"SID",r.J),or(o,"RID",t),or(o,"AID",r.U),z(r,o),r.o&&r.s&&l(o,r.o,r.s),t=new Ag(r,r.h,t,r.C+1),null===r.o&&(t.H=r.s),n&&(r.l=n.D.concat(r.l)),n=re(r,t,1e3),t.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),Zg(r.i,t),cp(t,o,n)}function z(r,n){r.j&&zy({},function(t,o){or(n,o,t)})}function re(r,n,t){t=Math.min(r.l.length,t);var o=r.j?Qr(r.j.Oa,r.j,r):null;e:{var i=r.l;let a=-1;for(;;){const d=["count="+t];-1==a?0<t?(a=i[0].h,d.push("ofs="+a)):a=0:d.push("ofs="+a);let f=!0;for(let y=0;y<t;y++){let w=i[y].h;const D=i[y].g;if(w-=a,0>w)a=Math.max(0,i[y].h-100),f=!1;else try{tZ(D,d,"req"+w+"_")}catch(x){o&&o(D)}}if(f){o=d.join("&");break e}}}return r=r.l.splice(0,t),n.D=r,o}function Ie(r){r.g||r.u||(r.Y=1,FT(r.Ga,r),r.A=0)}function Le(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=li(Qr(r.Ga,r),At(r,r.A)),r.A++,0))}function et(r){null!=r.B&&(Lt.clearTimeout(r.B),r.B=null)}function dt(r){r.g=new Ag(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var n=eu(r.oa);or(n,"RID","rpc"),or(n,"SID",r.J),or(n,"CI",r.N?"0":"1"),or(n,"AID",r.U),z(r,n),or(n,"TYPE","xmlhttp"),r.o&&r.s&&l(n,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.la,t.K=1,t.v=Dg(eu(n)),t.s=null,t.U=!0,Jy(t,r)}function Et(r){null!=r.v&&(Lt.clearTimeout(r.v),r.v=null)}function Me(r,n){var t=null;if(r.g==n){Et(r),et(r),r.g=null;var o=2}else{if(!xg(r.i,n))return;t=n.D,XT(r.i,n),o=1}if(r.I=n.N,0!=r.G)if(n.i)if(1==o){t=n.s?n.s.length:0,n=Date.now()-n.F;var i=r.C;Yr(o=ip(),new md(o,t,n,i)),E(r)}else Ie(r);else if(3==(i=n.o)||0==i&&0<r.I||!(1==o&&function N(r,n){return!(ov(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=n.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=li(Qr(r.Ha,r,n),At(r,r.C)),r.C++,0)))}(r,n)||2==o&&Le(r)))switch(t&&0<t.length&&(n=r.i,n.i=n.i.concat(t)),i){case 1:Ft(r,5);break;case 4:Ft(r,10);break;case 3:Ft(r,6);break;default:Ft(r,2)}}function At(r,n){let t=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(t*=2),t*n}function Ft(r,n){if(r.h.info("Error code "+n),2==n){var t=null;r.j&&(t=null);var o=Qr(r.jb,r);t||(t=new Ql("//www.google.com/images/cleardot.gif"),Lt.location&&"http"==Lt.location.protocol||Ky(t,"https"),Dg(t)),function tw(r,n){const t=new wg;if(Lt.Image){const o=new Image;o.onload=Xh(wd,t,o,"TestLoadImage: loaded",!0,n),o.onerror=Xh(wd,t,o,"TestLoadImage: error",!1,n),o.onabort=Xh(wd,t,o,"TestLoadImage: abort",!1,n),o.ontimeout=Xh(wd,t,o,"TestLoadImage: timeout",!1,n),Lt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else n(!1)}(t.toString(),o)}else Fo(2);r.G=0,r.j&&r.j.va(n),$n(r),T(r)}function $n(r){r.G=0,r.I=-1,r.j&&((0!=ew(r.i).length||0!=r.l.length)&&(r.i.i.length=0,by(r.l),r.l.length=0),r.j.ua())}function Ru(r,n,t){let o=function Sg(r){return r instanceof Ql?eu(r):new Ql(r,void 0)}(t);if(""!=o.i)n&&Yy(o,n+"."+o.i),Xy(o,o.m);else{const i=Lt.location;o=function lD(r,n,t,o){var i=new Ql(null,void 0);return r&&Ky(i,r),n&&Yy(i,n),t&&Xy(i,t),o&&(i.l=o),i}(i.protocol,n?n+"."+i.hostname:i.hostname,+i.port,t)}return r.aa&&Ey(r.aa,function(i,a){or(o,a,i)}),t=r.sa,(n=r.D)&&t&&or(o,n,t),or(o,"VER",r.ma),z(r,o),o}function Ug(r,n,t){if(n&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new Rr(t&&r.Ba&&!r.qa?new fp({ib:!0}):r.qa)).L=r.H,n}function Mg(){}function bd(){if(hd&&!(10<=Number(xT)))throw Error("Environmental error: no available transport.")}function qo(r,n){Kr.call(this),this.g=new h(n),this.l=r,this.h=n&&n.messageUrlParams||null,r=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(r?r["X-WebChannel-Content-Type"]=n.messageContentType:r={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(r?r["X-WebChannel-Client-Profile"]=n.ya:r={"X-WebChannel-Client-Profile":n.ya}),this.g.P=r,(r=n&&n.httpHeadersOverwriteParam)&&!cd(r)&&(this.g.o=r),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!cd(n)&&(this.g.D=n,null!==(r=this.h)&&n in r&&n in(r=this.h)&&delete r[n]),this.j=new Lu(this)}function Pg(r){By.call(this);var n=r.__sm__;if(n){e:{for(const t in n){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,n=null!==n&&r in n?n[r]:void 0),this.data=n}else this.data=r}function Og(){jy.call(this),this.status=1}function Lu(r){this.g=r}(pt=Rr.prototype).ea=function(r,n,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);n=n?n.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$y.g(),this.C=function GT(r){return r.h||(r.h=r.i())}(this.u?this.u:$y),this.g.onreadystatechange=Qr(this.Fa,this);try{this.F=!0,this.g.open(n,String(r),!0),this.F=!1}catch(a){return void CD(this,a)}r=t||"";const i=new vd(this.headers);o&&zy(o,function(a,d){i.set(d,a)}),o=function jE(r){e:{var n=vD;const t=r.length,o="string"==typeof r?r.split(""):r;for(let i=0;i<t;i++)if(i in o&&n.call(void 0,o[i],i,r)){n=i;break e}n=-1}return 0>n?null:"string"==typeof r?r.charAt(n):r[n]}(i.T()),t=Lt.FormData&&r instanceof Lt.FormData,!(0<=wy(rZ,n))||o||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,d){this.g.setRequestHeader(d,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{bD(this),0<this.B&&((this.K=function oZ(r){return hd&&function WE(){return function Sy(r){var n=JE;return Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=r(9)}(function(){let r=0;const n=Ay(String(ep)).split("."),t=Ay("9").split("."),o=Math.max(n.length,t.length);for(let d=0;0==r&&d<o;d++){var i=n[d]||"",a=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;r=dd(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||dd(0==i[2].length,0==a[2].length)||dd(i[2],a[2]),i=i[3],a=a[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qr(this.pa,this)):this.A=Cg(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(a){CD(this,a)}},pt.pa=function(){void 0!==dg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yr(this,"timeout"),this.abort(8))},pt.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Yr(this,"complete"),Yr(this,"abort"),sv(this))},pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sv(this,!0)),Rr.Z.M.call(this)},pt.Fa=function(){this.s||(this.F||this.v||this.l?wD(this):this.cb())},pt.cb=function(){wD(this)},pt.ba=function(){try{return 2<Ou(this)?this.g.status:-1}catch(r){return-1}},pt.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},pt.Qa=function(r){if(this.g){var n=this.g.responseText;return r&&0==n.indexOf(r)&&(n=n.substring(r.length)),_D(n)}},pt.Da=function(){return this.m},pt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=h.prototype).ma=8,pt.G=1,pt.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(n){}},pt.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;const i=new Ag(this,this.h,r,void 0);let a=this.s;if(this.P&&(a?(a=Dy(a),ET(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var n=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(n+=o)){n=t;break e}if(4096===n||t===this.l.length-1){n=t+1;break e}}n=1e3}else n=1e3;n=re(this,i,n),or(t=eu(this.F),"RID",r),or(t,"CVER",22),this.D&&or(t,"X-HTTP-Session-Id",this.D),z(this,t),this.o&&a&&l(t,this.o,a),Zg(this.i,i),this.Ra&&or(t,"TYPE","init"),this.ja?(or(t,"$req",n),or(t,"SID","null"),i.$=!0,cp(i,t,null)):cp(i,t,n),this.G=2}}else 3==this.G&&(r?P(this,r):0==this.l.length||YT(this.i)||P(this))},pt.Ga=function(){if(this.u=null,dt(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=li(Qr(this.bb,this),r)}},pt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Fo(10),_(this),dt(this))},pt.ab=function(){null!=this.v&&(this.v=null,_(this),Le(this),Fo(19))},pt.jb=function(r){r?(this.h.info("Successfully pinged google.com"),Fo(2)):(this.h.info("Failed to ping google.com"),Fo(1))},(pt=Mg.prototype).xa=function(){},pt.wa=function(){},pt.va=function(){},pt.ua=function(){},pt.Oa=function(){},bd.prototype.g=function(r,n){return new qo(r,n)},yr(qo,Kr),qo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,n=this.l,t=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),FT(Qr(r.hb,r,n))),Fo(0),r.W=n,r.aa=t||{},r.N=r.X,r.F=Ru(r,null,r.W),E(r)},qo.prototype.close=function(){g(this.g)},qo.prototype.u=function(r){if("string"==typeof r){var n={};n.__data__=r,b(this.g,n)}else this.v?((n={}).__data__=LT(r),b(this.g,n)):b(this.g,r)},qo.prototype.M=function(){this.g.j=null,delete this.j,g(this.g),delete this.g,qo.Z.M.call(this)},yr(Pg,By),yr(Og,jy),yr(Lu,Mg),Lu.prototype.xa=function(){Yr(this.g,"a")},Lu.prototype.wa=function(r){Yr(this.g,new Pg(r))},Lu.prototype.va=function(r){Yr(this.g,new Og(r))},Lu.prototype.ua=function(){Yr(this.g,"b")},bd.prototype.createWebChannel=bd.prototype.g,qo.prototype.send=qo.prototype.u,qo.prototype.open=qo.prototype.m,qo.prototype.close=qo.prototype.close,ap.NO_ERROR=0,ap.TIMEOUT=8,ap.HTTP_ERROR=6,bg.COMPLETE="complete",iD.EventType=up,up.OPEN="a",up.CLOSE="b",up.ERROR="c",up.MESSAGE="d",Kr.prototype.listen=Kr.prototype.N,Rr.prototype.listenOnce=Rr.prototype.O,Rr.prototype.getLastError=Rr.prototype.La,Rr.prototype.getLastErrorCode=Rr.prototype.Da,Rr.prototype.getStatus=Rr.prototype.ba,Rr.prototype.getResponseJson=Rr.prototype.Qa,Rr.prototype.getResponseText=Rr.prototype.ga,Rr.prototype.send=Rr.prototype.ea;var av=Xa.createWebChannelTransport=function(){return new bd},uv=Xa.getStatEventTarget=function(){return ip()},AD=Xa.ErrorCode=ap,wM=Xa.EventType=bg,bM=Xa.Event=Pu,iZ=Xa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},AM=Xa.FetchXmlHttpFactory=fp,rw=Xa.WebChannel=iD,IM=Xa.XhrIo=Rr;const sZ="@firebase/firestore";class Io{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Io.UNAUTHENTICATED=new Io(null),Io.GOOGLE_CREDENTIALS=new Io("google-credentials-uid"),Io.FIRST_PARTY=new Io("first-party-uid"),Io.MOCK_USER=new Io("mock-user");let Rg="9.9.1";const Ad=new _a.Yd("@firebase/firestore");function ID(){return Ad.logLevel}function qe(r,...n){if(Ad.logLevel<=_a.in.DEBUG){const t=n.map(ED);Ad.debug(`Firestore (${Rg}): ${r}`,...t)}}function Xr(r,...n){if(Ad.logLevel<=_a.in.ERROR){const t=n.map(ED);Ad.error(`Firestore (${Rg}): ${r}`,...t)}}function lv(r,...n){if(Ad.logLevel<=_a.in.WARN){const t=n.map(ED);Ad.warn(`Firestore (${Rg}): ${r}`,...t)}}function ED(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(t){return r}}function _t(r="Unexpected state"){const n=`FIRESTORE (${Rg}) INTERNAL ASSERTION FAILED: `+r;throw Xr(n),new Error(n)}function Mt(r,n){r||_t()}function ot(r,n){return r}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Jt.ZR{constructor(n,t){super(n,t),this.code=n,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Eo{constructor(){this.promise=new Promise((n,t)=>{this.resolve=n,this.reject=t})}}class aZ{constructor(n,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class SM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,t){n.enqueueRetryable(()=>t(Io.UNAUTHENTICATED))}shutdown(){}}class xM{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,t){this.changeListener=t,n.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ZM{constructor(n){this.t=n,this.currentUser=Io.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,t){var o=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new Eo;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Eo,n.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=d;n.enqueueRetryable((0,Ae.Z)(function*(){yield w.promise,yield a(o.currentUser)}))},y=w=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Eo)}},0),f()}getToken(){const n=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==n?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Mt("string"==typeof o.accessToken),new aZ(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return Mt(null===n||"string"==typeof n),new Io(n)}}class kM{constructor(n,t,o){this.type="FirstParty",this.user=Io.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=n.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class NM{constructor(n,t,o){this.h=n,this.l=t,this.m=o}getToken(){return Promise.resolve(new kM(this.h,this.l,this.m))}start(n,t){n.enqueueRetryable(()=>t(Io.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uZ{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UM{constructor(n){this.g=n,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(n,t){const o=a=>{null!=a.error&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const d=a.token!==this.p;return this.p=a.token,qe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(a.token):Promise.resolve()};this.o=a=>{n.enqueueRetryable(()=>o(a))};const i=a=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(t=>t?(Mt("string"==typeof t.token),this.p=t.token,new uZ(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function MM(r){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class lZ{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/n.length)*n.length;let o="";for(;o.length<20;){const i=MM(40);for(let a=0;a<i.length;++a)o.length<20&&i[a]<t&&(o+=n.charAt(i[a]%n.length))}return o}}function Gt(r,n){return r<n?-1:r>n?1:0}function Lg(r,n,t){return r.length===n.length&&r.every((o,i)=>t(o,n[i]))}function cZ(r){return r+"\0"}class dr{constructor(n,t){if(this.seconds=n,this.nanoseconds=t,t<0)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(n<-62135596800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return dr.fromMillis(Date.now())}static fromDate(n){return dr.fromMillis(n.getTime())}static fromMillis(n){const t=Math.floor(n/1e3),o=Math.floor(1e6*(n-1e3*t));return new dr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Gt(this.nanoseconds,n.nanoseconds):Gt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(n){this.timestamp=n}static fromTimestamp(n){return new Ut(n)}static min(){return new Ut(new dr(0,0))}static max(){return new Ut(new dr(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class cv{constructor(n,t,o){void 0===t?t=0:t>n.length&&_t(),void 0===o?o=n.length-t:o>n.length-t&&_t(),this.segments=n,this.offset=t,this.len=o}get length(){return this.len}isEqual(n){return 0===cv.comparator(this,n)}child(n){const t=this.segments.slice(this.offset,this.limit());return n instanceof cv?n.forEach(o=>{t.push(o)}):t.push(n),this.construct(t)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==n.get(t))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==n.get(t))return!1;return!0}forEach(n){for(let t=this.offset,o=this.limit();t<o;t++)n(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,t){const o=Math.min(n.length,t.length);for(let i=0;i<o;i++){const a=n.get(i),d=t.get(i);if(a<d)return-1;if(a>d)return 1}return n.length<t.length?-1:n.length>t.length?1:0}}class yn extends cv{construct(n,t,o){return new yn(n,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const t=[];for(const o of n){if(o.indexOf("//")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(i=>i.length>0))}return new yn(t)}static emptyPath(){return new yn([])}}const PM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lr extends cv{construct(n,t,o){return new Lr(n,t,o)}static isValidIdentifier(n){return PM.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lr.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Lr(["__name__"])}static fromServerFormat(n){const t=[];let o="",i=0;const a=()=>{if(0===o.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let d=!1;for(;i<n.length;){const f=n[i];if("\\"===f){if(i+1===n.length)throw new Oe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const y=n[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Oe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=y,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(o+=f,i++):(a(),i++)}if(a(),d)throw new Oe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Lr(t)}static emptyPath(){return new Lr([])}}class nt{constructor(n){this.path=n}static fromPath(n){return new nt(yn.fromString(n))}static fromName(n){return new nt(yn.fromString(n).popFirst(5))}static empty(){return new nt(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===yn.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,t){return yn.comparator(n.path,t.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new nt(new yn(n.slice()))}}class ow{constructor(n,t,o,i){this.indexId=n,this.collectionGroup=t,this.fields=o,this.indexState=i}}function DD(r){return r.fields.find(n=>2===n.kind)}function _p(r){return r.fields.filter(n=>2!==n.kind)}ow.UNKNOWN_ID=-1;class iw{constructor(n,t){this.fieldPath=n,this.kind=t}}class dv{constructor(n,t){this.sequenceNumber=n,this.offset=t}static empty(){return new dv(0,xs.min())}}function dZ(r,n){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,i=Ut.fromTimestamp(1e9===o?new dr(t+1,0):new dr(t,o));return new xs(i,nt.empty(),n)}function hZ(r){return new xs(r.readTime,r.key,-1)}class xs{constructor(n,t,o){this.readTime=n,this.documentKey=t,this.largestBatchId=o}static min(){return new xs(Ut.min(),nt.empty(),-1)}static max(){return new xs(Ut.max(),nt.empty(),-1)}}function SD(r,n){let t=r.readTime.compareTo(n.readTime);return 0!==t?t:(t=nt.comparator(r.documentKey,n.documentKey),0!==t?t:Gt(r.largestBatchId,n.largestBatchId))}const pZ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Id(r){return xD.apply(this,arguments)}function xD(){return xD=(0,Ae.Z)(function*(r){if(r.code!==me.FAILED_PRECONDITION||r.message!==pZ)throw r;qe("LocalStore","Unexpectedly lost primary lease")}),xD.apply(this,arguments)}class ce{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(n){return this.next(void 0,n)}next(n,t){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(n,this.result):new ce((o,i)=>{this.nextCallback=a=>{this.wrapSuccess(n,a).next(o,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(o,i)}})}toPromise(){return new Promise((n,t)=>{this.next(n,t)})}wrapUserFunction(n){try{const t=n();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(n,t){return n?this.wrapUserFunction(()=>n(t)):ce.resolve(t)}wrapFailure(n,t){return n?this.wrapUserFunction(()=>n(t)):ce.reject(t)}static resolve(n){return new ce((t,o)=>{t(n)})}static reject(n){return new ce((t,o)=>{o(n)})}static waitFor(n){return new ce((t,o)=>{let i=0,a=0,d=!1;n.forEach(f=>{++i,f.next(()=>{++a,d&&a===i&&t()},y=>o(y))}),d=!0,a===i&&t()})}static or(n){let t=ce.resolve(!1);for(const o of n)t=t.next(i=>i?ce.resolve(i):o());return t}static forEach(n,t){const o=[];return n.forEach((i,a)=>{o.push(t.call(this,i,a))}),this.waitFor(o)}static mapArray(n,t){return new ce((o,i)=>{const a=n.length,d=new Array(a);let f=0;for(let y=0;y<a;y++){const w=y;t(n[w]).next(D=>{d[w]=D,++f,f===a&&o(d)},D=>i(D))}})}static doWhile(n,t){return new ce((o,i)=>{const a=()=>{!0===n()?t().next(()=>{a()},i):o()};a()})}}class sw{constructor(n,t){this.action=n,this.transaction=t,this.aborted=!1,this.T=new Eo,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new hv(n,t.error)):this.T.resolve()},this.transaction.onerror=o=>{const i=ZD(o.target.error);this.T.reject(new hv(n,i))}}static open(n,t,o,i){try{return new sw(t,n.transaction(i,o))}catch(a){throw new hv(t,a)}}get A(){return this.T.promise}abort(n){n&&this.T.reject(n),this.aborted||(qe("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const t=this.transaction.objectStore(n);return new RM(t)}}class tu{constructor(n,t,o){this.name=n,this.version=t,this.P=o,12.2===tu.v((0,Jt.z$)())&&Xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return qe("SimpleDb","Removing database:",n),yp(window.indexedDB.deleteDatabase(n)).toPromise()}static V(){if(!(0,Jt.hl)())return!1;if(tu.S())return!0;const n=(0,Jt.z$)(),t=tu.v(n),o=0<t&&t<10,i=tu.D(n),a=0<i&&i<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||o||a)}static S(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.C)}static N(n,t){return n.store(t)}static v(n){const t=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static D(n){const t=n.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}k(n){var t=this;return(0,Ae.Z)(function*(){return t.db||(qe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=d=>{o(d.target.result)},a.onblocked=()=>{i(new hv(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=d=>{const f=d.target.error;i("VersionError"===f.name?new Oe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Oe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new hv(n,f))},a.onupgradeneeded=d=>{qe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.P.O(d.target.result,a.transaction,d.oldVersion,t.version).next(()=>{qe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=o=>t.M(o)),t.db})()}F(n){this.M=n,this.db&&(this.db.onversionchange=t=>n(t))}runTransaction(n,t,o,i){var a=this;return(0,Ae.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.k(n);const y=sw.open(a.db,n,d?"readonly":"readwrite",o),w=i(y).next(D=>(y.R(),D)).catch(D=>(y.abort(D),ce.reject(D))).toPromise();return w.catch(()=>{}),yield y.A,w}catch(y){const w=y,D="FirebaseError"!==w.name&&f<3;if(qe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",D),a.close(),!D)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class OM{constructor(n){this.$=n,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(n){this.$=n}done(){this.B=!0}q(n){this.L=n}delete(){return yp(this.$.delete())}}class hv extends Oe{constructor(n,t){super(me.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ed(r){return"IndexedDbTransactionError"===r.name}class RM{constructor(n){this.store=n}put(n,t){let o;return void 0!==t?(qe("SimpleDb","PUT",this.store.name,n,t),o=this.store.put(t,n)):(qe("SimpleDb","PUT",this.store.name,"<auto-key>",n),o=this.store.put(n)),yp(o)}add(n){return qe("SimpleDb","ADD",this.store.name,n,n),yp(this.store.add(n))}get(n){return yp(this.store.get(n)).next(t=>(void 0===t&&(t=null),qe("SimpleDb","GET",this.store.name,n,t),t))}delete(n){return qe("SimpleDb","DELETE",this.store.name,n),yp(this.store.delete(n))}count(){return qe("SimpleDb","COUNT",this.store.name),yp(this.store.count())}K(n,t){const o=this.options(n,t);if(o.index||"function"!=typeof this.store.getAll){const i=this.cursor(o),a=[];return this.G(i,(d,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(o.range);return new ce((a,d)=>{i.onerror=f=>{d(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}j(n,t){const o=this.store.getAll(n,null===t?void 0:t);return new ce((i,a)=>{o.onerror=d=>{a(d.target.error)},o.onsuccess=d=>{i(d.target.result)}})}W(n,t){qe("SimpleDb","DELETE ALL",this.store.name);const o=this.options(n,t);o.H=!1;const i=this.cursor(o);return this.G(i,(a,d,f)=>f.delete())}J(n,t){let o;t?o=n:(o={},t=n);const i=this.cursor(o);return this.G(i,t)}Y(n){const t=this.cursor({});return new ce((o,i)=>{t.onerror=a=>{const d=ZD(a.target.error);i(d)},t.onsuccess=a=>{const d=a.target.result;d?n(d.primaryKey,d.value).next(f=>{f?d.continue():o()}):o()}})}G(n,t){const o=[];return new ce((i,a)=>{n.onerror=d=>{a(d.target.error)},n.onsuccess=d=>{const f=d.target.result;if(!f)return void i();const y=new OM(f),w=t(f.primaryKey,f.value,y);if(w instanceof ce){const D=w.catch(x=>(y.done(),ce.reject(x)));o.push(D)}y.isDone?i():null===y.U?f.continue():f.continue(y.U)}}).next(()=>ce.waitFor(o))}options(n,t){let o;return void 0!==n&&("string"==typeof n?o=n:t=n),{index:o,range:t}}cursor(n){let t="next";if(n.reverse&&(t="prev"),n.index){const o=this.store.index(n.index);return n.H?o.openKeyCursor(n.range,t):o.openCursor(n.range,t)}return this.store.openCursor(n.range,t)}}function yp(r){return new ce((n,t)=>{r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{const i=ZD(o.target.error);t(i)}})}let gZ=!1;function ZD(r){const n=tu.v((0,Jt.z$)());if(n>=12.2&&n<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gZ||(gZ=!0,setTimeout(()=>{throw o},0)),o}}return r}class LM{constructor(n,t){this.asyncQueue=n,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(n){var t=this;qe("IndexBackiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,Ae.Z)(function*(){t.task=null;try{qe("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(o){Ed(o)?qe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Id(o)}yield t.Z(1)}))}}class FM{constructor(n,t){this.localStore=n,this.persistence=t}tt(n=50){var t=this;return(0,Ae.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.et(o,n))})()}et(n,t){const o=new Set;let i=t,a=!0;return ce.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(d=>{if(null!==d&&!o.has(d))return qe("IndexBackiller",`Processing collection: ${d}`),this.nt(n,d,i).next(f=>{i-=f,o.add(d)});a=!1})).next(()=>t-i)}nt(n,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,t).next(i=>this.localStore.localDocuments.getNextDocuments(n,t,i,o).next(a=>{const d=a.changes;return this.localStore.indexManager.updateIndexEntries(n,d).next(()=>this.st(i,a)).next(f=>(qe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(n,t,f))).next(()=>d.size)}))}st(n,t){let o=n;return t.changes.forEach((i,a)=>{const d=hZ(a);SD(d,o)>0&&(o=d)}),new xs(o.readTime,o.documentKey,Math.max(t.batchId,n.largestBatchId))}}class Ki{constructor(n,t){this.previousValue=n,t&&(t.sequenceNumberHandler=o=>this.it(o),this.rt=o=>t.writeSequenceNumber(o))}it(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.rt&&this.rt(n),n}}function mZ(r){let n=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&n++;return n}function vp(r,n){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&n(t,r[t])}function _Z(r){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n))return!1;return!0}Ki.ot=-1;class Dr{constructor(n,t){this.comparator=n,this.root=t||Vo.EMPTY}insert(n,t){return new Dr(this.comparator,this.root.insert(n,t,this.comparator).copy(null,null,Vo.BLACK,null,null))}remove(n){return new Dr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Vo.BLACK,null,null))}get(n){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(n,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(n){let t=0,o=this.root;for(;!o.isEmpty();){const i=this.comparator(n,o.key);if(0===i)return t+o.left.size;i<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((t,o)=>(n(t,o),!1))}toString(){const n=[];return this.inorderTraversal((t,o)=>(n.push(`${t}:${o}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new aw(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new aw(this.root,n,this.comparator,!1)}getReverseIterator(){return new aw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new aw(this.root,n,this.comparator,!0)}}class aw{constructor(n,t,o,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!n.isEmpty();)if(a=t?o(n.key,t):1,t&&i&&(a*=-1),a<0)n=this.isReverse?n.left:n.right;else{if(0===a){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const t={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Vo{constructor(n,t,o,i,a){this.key=n,this.value=t,this.color=null!=o?o:Vo.RED,this.left=null!=i?i:Vo.EMPTY,this.right=null!=a?a:Vo.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,t,o,i,a){return new Vo(null!=n?n:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,t,o){let i=this;const a=o(n,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(n,t,o),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(n,t,o)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vo.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,t){let o,i=this;if(t(n,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(n,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(n,i.key)){if(i.right.isEmpty())return Vo.EMPTY;o=i.right.min(),i=i.copy(o.key,o.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(n,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Vo.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Vo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,t)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const n=this.left.check();if(n!==this.right.check())throw _t();return n+(this.isRed()?0:1)}}Vo.EMPTY=null,Vo.RED=!0,Vo.BLACK=!1,Vo.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(r,n,t,o,i){return this}insert(r,n,t){return new Vo(r,n)}remove(r,n){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gn{constructor(n){this.comparator=n,this.data=new Dr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((t,o)=>(n(t),!1))}forEachInRange(n,t){const o=this.data.getIteratorFrom(n[0]);for(;o.hasNext();){const i=o.getNext();if(this.comparator(i.key,n[1])>=0)return;t(i.key)}}forEachWhile(n,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!n(o.getNext().key))return}firstAfterOrEqual(n){const t=this.data.getIteratorFrom(n);return t.hasNext()?t.getNext().key:null}getIterator(){return new yZ(this.data.getIterator())}getIteratorFrom(n){return new yZ(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let t=this;return t.size<n.size&&(t=n,n=this),n.forEach(o=>{t=t.add(o)}),t}isEqual(n){if(!(n instanceof Gn)||this.size!==n.size)return!1;const t=this.data.getIterator(),o=n.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=o.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const n=[];return this.forEach(t=>{n.push(t)}),n}toString(){const n=[];return this.forEach(t=>n.push(t)),"SortedSet("+n.toString()+")"}copy(n){const t=new Gn(this.comparator);return t.data=n,t}}class yZ{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fg(r){return r.hasNext()?r.getNext():void 0}class Zs{constructor(n){this.fields=n,n.sort(Lr.comparator)}static empty(){return new Zs([])}unionWith(n){let t=new Gn(Lr.comparator);for(const o of this.fields)t=t.add(o);for(const o of n)t=t.add(o);return new Zs(t.toArray())}covers(n){for(const t of this.fields)if(t.isPrefixOf(n))return!0;return!1}isEqual(n){return Lg(this.fields,n.fields,(t,o)=>t.isEqual(o))}}class fo{constructor(n){this.binaryString=n}static fromBase64String(n){const t=atob(n);return new fo(t)}static fromUint8Array(n){const t=function(o){let i="";for(let a=0;a<o.length;++a)i+=String.fromCharCode(o[a]);return i}(n);return new fo(t)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const t=new Uint8Array(n.length);for(let o=0;o<n.length;o++)t[o]=n.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Gt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}fo.EMPTY_BYTE_STRING=new fo("");const VM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dd(r){if(Mt(!!r),"string"==typeof r){let n=0;const t=VM.exec(r);if(Mt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),n=Number(i)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:n}}return{seconds:Sr(r.seconds),nanos:Sr(r.nanos)}}function Sr(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Cp(r){return"string"==typeof r?fo.fromBase64String(r):fo.fromUint8Array(r)}function kD(r){var n,t;return"server_timestamp"===(null===(t=((null===(n=null==r?void 0:r.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function vZ(r){const n=r.mapValue.fields.__previous_value__;return kD(n)?vZ(n):n}function pv(r){const n=Dd(r.mapValue.fields.__local_write_time__.timestampValue);return new dr(n.seconds,n.nanos)}class BM{constructor(n,t,o,i,a,d,f,y){this.databaseId=n,this.appId=t,this.persistenceKey=o,this.host=i,this.ssl=a,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=y}}class Xl{constructor(n,t){this.projectId=n,this.database=t||"(default)"}static empty(){return new Xl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof Xl&&n.projectId===this.projectId&&n.database===this.database}}function fv(r){return null==r}function gv(r){return 0===r&&1/r==-1/0}function CZ(r){return"number"==typeof r&&Number.isInteger(r)&&!gv(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Sd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},uw={nullValue:"NULL_VALUE"};function Tp(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?kD(r)?4:AZ(r)?9007199254740991:10:_t()}function Fu(r,n){if(r===n)return!0;const t=Tp(r);if(t!==Tp(n))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===n.booleanValue;case 4:return pv(r).isEqual(pv(n));case 3:return function(o,i){if("string"==typeof o.timestampValue&&"string"==typeof i.timestampValue&&o.timestampValue.length===i.timestampValue.length)return o.timestampValue===i.timestampValue;const a=Dd(o.timestampValue),d=Dd(i.timestampValue);return a.seconds===d.seconds&&a.nanos===d.nanos}(r,n);case 5:return r.stringValue===n.stringValue;case 6:return i=n,Cp(r.bytesValue).isEqual(Cp(i.bytesValue));case 7:return r.referenceValue===n.referenceValue;case 8:return function(o,i){return Sr(o.geoPointValue.latitude)===Sr(i.geoPointValue.latitude)&&Sr(o.geoPointValue.longitude)===Sr(i.geoPointValue.longitude)}(r,n);case 2:return function(o,i){if("integerValue"in o&&"integerValue"in i)return Sr(o.integerValue)===Sr(i.integerValue);if("doubleValue"in o&&"doubleValue"in i){const a=Sr(o.doubleValue),d=Sr(i.doubleValue);return a===d?gv(a)===gv(d):isNaN(a)&&isNaN(d)}return!1}(r,n);case 9:return Lg(r.arrayValue.values||[],n.arrayValue.values||[],Fu);case 10:return function(o,i){const a=o.mapValue.fields||{},d=i.mapValue.fields||{};if(mZ(a)!==mZ(d))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===d[f]||!Fu(a[f],d[f])))return!1;return!0}(r,n);default:return _t()}var i}function mv(r,n){return void 0!==(r.values||[]).find(t=>Fu(t,n))}function xd(r,n){if(r===n)return 0;const t=Tp(r),o=Tp(n);if(t!==o)return Gt(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gt(r.booleanValue,n.booleanValue);case 2:return function(i,a){const d=Sr(i.integerValue||i.doubleValue),f=Sr(a.integerValue||a.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(r,n);case 3:return TZ(r.timestampValue,n.timestampValue);case 4:return TZ(pv(r),pv(n));case 5:return Gt(r.stringValue,n.stringValue);case 6:return function(i,a){const d=Cp(i),f=Cp(a);return d.compareTo(f)}(r.bytesValue,n.bytesValue);case 7:return function(i,a){const d=i.split("/"),f=a.split("/");for(let y=0;y<d.length&&y<f.length;y++){const w=Gt(d[y],f[y]);if(0!==w)return w}return Gt(d.length,f.length)}(r.referenceValue,n.referenceValue);case 8:return function(i,a){const d=Gt(Sr(i.latitude),Sr(a.latitude));return 0!==d?d:Gt(Sr(i.longitude),Sr(a.longitude))}(r.geoPointValue,n.geoPointValue);case 9:return function(i,a){const d=i.values||[],f=a.values||[];for(let y=0;y<d.length&&y<f.length;++y){const w=xd(d[y],f[y]);if(w)return w}return Gt(d.length,f.length)}(r.arrayValue,n.arrayValue);case 10:return function(i,a){if(i===Sd.mapValue&&a===Sd.mapValue)return 0;if(i===Sd.mapValue)return 1;if(a===Sd.mapValue)return-1;const d=i.fields||{},f=Object.keys(d),y=a.fields||{},w=Object.keys(y);f.sort(),w.sort();for(let D=0;D<f.length&&D<w.length;++D){const x=Gt(f[D],w[D]);if(0!==x)return x;const O=xd(d[f[D]],y[w[D]]);if(0!==O)return O}return Gt(f.length,w.length)}(r.mapValue,n.mapValue);default:throw _t()}}function TZ(r,n){if("string"==typeof r&&"string"==typeof n&&r.length===n.length)return Gt(r,n);const t=Dd(r),o=Dd(n),i=Gt(t.seconds,o.seconds);return 0!==i?i:Gt(t.nanos,o.nanos)}function qg(r){return ND(r)}function ND(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const i=Dd(o);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Cp(r.bytesValue).toBase64():"referenceValue"in r?nt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(n=r.geoPointValue).latitude},${n.longitude})`:"arrayValue"in r?function(o){let i="[",a=!0;for(const d of o.values||[])a?a=!1:i+=",",i+=ND(d);return i+"]"}(r.arrayValue):"mapValue"in r?function(o){const i=Object.keys(o.fields||{}).sort();let a="{",d=!0;for(const f of i)d?d=!1:a+=",",a+=`${f}:${ND(o.fields[f])}`;return a+"}"}(r.mapValue):_t();var n}function wp(r,n){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${n.path.canonicalString()}`}}function UD(r){return!!r&&"integerValue"in r}function _v(r){return!!r&&"arrayValue"in r}function wZ(r){return!!r&&"nullValue"in r}function bZ(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function lw(r){return!!r&&"mapValue"in r}function yv(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const n={mapValue:{fields:{}}};return vp(r.mapValue.fields,(t,o)=>n.mapValue.fields[t]=yv(o)),n}if(r.arrayValue){const n={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)n.arrayValue.values[t]=yv(r.arrayValue.values[t]);return n}return Object.assign({},r)}function AZ(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function jM(r){return"nullValue"in r?uw:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?wp(Xl.empty(),nt.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:_t()}function $M(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?wp(Xl.empty(),nt.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Sd:_t()}function IZ(r,n){const t=xd(r.value,n.value);return 0!==t?t:r.inclusive&&!n.inclusive?-1:!r.inclusive&&n.inclusive?1:0}function EZ(r,n){const t=xd(r.value,n.value);return 0!==t?t:r.inclusive&&!n.inclusive?1:!r.inclusive&&n.inclusive?-1:0}class Bo{constructor(n){this.value=n}static empty(){return new Bo({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let t=this.value;for(let o=0;o<n.length-1;++o)if(t=(t.mapValue.fields||{})[n.get(o)],!lw(t))return null;return t=(t.mapValue.fields||{})[n.lastSegment()],t||null}}set(n,t){this.getFieldsMap(n.popLast())[n.lastSegment()]=yv(t)}setAll(n){let t=Lr.emptyPath(),o={},i=[];n.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,o,i),o={},i=[],t=f.popLast()}d?o[f.lastSegment()]=yv(d):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,o,i)}delete(n){const t=this.field(n.popLast());lw(t)&&t.mapValue.fields&&delete t.mapValue.fields[n.lastSegment()]}isEqual(n){return Fu(this.value,n.value)}getFieldsMap(n){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<n.length;++o){let i=t.mapValue.fields[n.get(o)];lw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[n.get(o)]=i),t=i}return t.mapValue.fields}applyChanges(n,t,o){vp(t,(i,a)=>n[i]=a);for(const i of o)delete n[i]}clone(){return new Bo(yv(this.value))}}function DZ(r){const n=[];return vp(r.fields,(t,o)=>{const i=new Lr([t]);if(lw(o)){const a=DZ(o.mapValue).fields;if(0===a.length)n.push(i);else for(const d of a)n.push(i.child(d))}else n.push(i)}),new Zs(n)}class Yn{constructor(n,t,o,i,a,d){this.key=n,this.documentType=t,this.version=o,this.readTime=i,this.data=a,this.documentState=d}static newInvalidDocument(n){return new Yn(n,0,Ut.min(),Ut.min(),Bo.empty(),0)}static newFoundDocument(n,t,o){return new Yn(n,1,t,Ut.min(),o,0)}static newNoDocument(n,t){return new Yn(n,2,t,Ut.min(),Bo.empty(),0)}static newUnknownDocument(n,t){return new Yn(n,3,t,Ut.min(),Bo.empty(),2)}convertToFoundDocument(n,t){return this.version=n,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Bo.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Bo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Yn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class GM{constructor(n,t=null,o=[],i=[],a=null,d=null,f=null){this.path=n,this.collectionGroup=t,this.orderBy=o,this.filters=i,this.limit=a,this.startAt=d,this.endAt=f,this.ut=null}}function SZ(r,n=null,t=[],o=[],i=null,a=null,d=null){return new GM(r,n,t,o,i,a,d)}function bp(r){const n=ot(r);if(null===n.ut){let t=n.path.canonicalString();null!==n.collectionGroup&&(t+="|cg:"+n.collectionGroup),t+="|f:",t+=n.filters.map(o=>{return(i=o).field.canonicalString()+i.op.toString()+qg(i.value);var i}).join(","),t+="|ob:",t+=n.orderBy.map(o=>{return(i=o).field.canonicalString()+i.dir;var i}).join(","),fv(n.limit)||(t+="|l:",t+=n.limit),n.startAt&&(t+="|lb:",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(o=>qg(o)).join(",")),n.endAt&&(t+="|ub:",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(o=>qg(o)).join(",")),n.ut=t}return n.ut}function vv(r,n){if(r.limit!==n.limit||r.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!eP(r.orderBy[i],n.orderBy[i]))return!1;if(r.filters.length!==n.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if((t=r.filters[i]).op!==(o=n.filters[i]).op||!t.field.isEqual(o.field)||!Fu(t.value,o.value))return!1;var t,o;return r.collectionGroup===n.collectionGroup&&!!r.path.isEqual(n.path)&&!!UZ(r.startAt,n.startAt)&&UZ(r.endAt,n.endAt)}function cw(r){return nt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function dw(r,n){return r.filters.filter(t=>t instanceof jo&&t.field.isEqual(n))}function xZ(r,n,t){let o=uw,i=!0;for(const a of dw(r,n)){let d=uw,f=!0;switch(a.op){case"<":case"<=":d=jM(a.value);break;case"==":case"in":case">=":d=a.value;break;case">":d=a.value,f=!1;break;case"!=":case"not-in":d=uw}IZ({value:o,inclusive:i},{value:d,inclusive:f})<0&&(o=d,i=f)}if(null!==t)for(let a=0;a<r.orderBy.length;++a)if(r.orderBy[a].field.isEqual(n)){const d=t.position[a];IZ({value:o,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(o=d,i=t.inclusive);break}return{value:o,inclusive:i}}function ZZ(r,n,t){let o=Sd,i=!0;for(const a of dw(r,n)){let d=Sd,f=!0;switch(a.op){case">=":case">":d=$M(a.value),f=!1;break;case"==":case"in":case"<=":d=a.value;break;case"<":d=a.value,f=!1;break;case"!=":case"not-in":d=Sd}EZ({value:o,inclusive:i},{value:d,inclusive:f})>0&&(o=d,i=f)}if(null!==t)for(let a=0;a<r.orderBy.length;++a)if(r.orderBy[a].field.isEqual(n)){const d=t.position[a];EZ({value:o,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(o=d,i=t.inclusive);break}return{value:o,inclusive:i}}class jo extends class{}{constructor(n,t,o){super(),this.field=n,this.op=t,this.value=o}static create(n,t,o){return n.isKeyField()?"in"===t||"not-in"===t?this.ct(n,t,o):new JM(n,t,o):"array-contains"===t?new QM(n,o):"in"===t?new KM(n,o):"not-in"===t?new YM(n,o):"array-contains-any"===t?new XM(n,o):new jo(n,t,o)}static ct(n,t,o){return"in"===t?new WM(n,o):new zM(n,o)}matches(n){const t=n.data.field(this.field);return"!="===this.op?null!==t&&this.at(xd(t,this.value)):null!==t&&Tp(this.value)===Tp(t)&&this.at(xd(t,this.value))}at(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return _t()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class JM extends jo{constructor(n,t,o){super(n,t,o),this.key=nt.fromName(o.referenceValue)}matches(n){const t=nt.comparator(n.key,this.key);return this.at(t)}}class WM extends jo{constructor(n,t){super(n,"in",t),this.keys=kZ(0,t)}matches(n){return this.keys.some(t=>t.isEqual(n.key))}}class zM extends jo{constructor(n,t){super(n,"not-in",t),this.keys=kZ(0,t)}matches(n){return!this.keys.some(t=>t.isEqual(n.key))}}function kZ(r,n){var t;return((null===(t=n.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>nt.fromName(o.referenceValue))}class QM extends jo{constructor(n,t){super(n,"array-contains",t)}matches(n){const t=n.data.field(this.field);return _v(t)&&mv(t.arrayValue,this.value)}}class KM extends jo{constructor(n,t){super(n,"in",t)}matches(n){const t=n.data.field(this.field);return null!==t&&mv(this.value.arrayValue,t)}}class YM extends jo{constructor(n,t){super(n,"not-in",t)}matches(n){if(mv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=n.data.field(this.field);return null!==t&&!mv(this.value.arrayValue,t)}}class XM extends jo{constructor(n,t){super(n,"array-contains-any",t)}matches(n){const t=n.data.field(this.field);return!(!_v(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>mv(this.value.arrayValue,o))}}class Zd{constructor(n,t){this.position=n,this.inclusive=t}}class Vg{constructor(n,t="asc"){this.field=n,this.dir=t}}function eP(r,n){return r.dir===n.dir&&r.field.isEqual(n.field)}function NZ(r,n,t){let o=0;for(let i=0;i<r.position.length;i++){const a=n[i],d=r.position[i];if(o=a.field.isKeyField()?nt.comparator(nt.fromName(d.referenceValue),t.key):xd(d,t.data.field(a.field)),"desc"===a.dir&&(o*=-1),0!==o)break}return o}function UZ(r,n){if(null===r)return null===n;if(null===n||r.inclusive!==n.inclusive||r.position.length!==n.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Fu(r.position[t],n.position[t]))return!1;return!0}class ec{constructor(n,t=null,o=[],i=[],a=null,d="F",f=null,y=null){this.path=n,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=i,this.limit=a,this.limitType=d,this.startAt=f,this.endAt=y,this.lt=null,this.ft=null}}function MZ(r,n,t,o,i,a,d,f){return new ec(r,n,t,o,i,a,d,f)}function Bg(r){return new ec(r)}function MD(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function PD(r){for(const n of r.filters)if(n.ht())return n.field;return null}function OD(r){return null!==r.collectionGroup}function jg(r){const n=ot(r);if(null===n.lt){n.lt=[];const t=PD(n),o=MD(n);if(null!==t&&null===o)t.isKeyField()||n.lt.push(new Vg(t)),n.lt.push(new Vg(Lr.keyField(),"asc"));else{let i=!1;for(const a of n.explicitOrderBy)n.lt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.lt.push(new Vg(Lr.keyField(),a))}}}return n.lt}function ya(r){const n=ot(r);if(!n.ft)if("F"===n.limitType)n.ft=SZ(n.path,n.collectionGroup,jg(n),n.filters,n.limit,n.startAt,n.endAt);else{const t=[];for(const a of jg(n))t.push(new Vg(a.field,"desc"===a.dir?"asc":"desc"));const o=n.endAt?new Zd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Zd(n.startAt.position,n.startAt.inclusive):null;n.ft=SZ(n.path,n.collectionGroup,t,n.filters,n.limit,o,i)}return n.ft}function PZ(r,n,t){return new ec(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),n,t,r.startAt,r.endAt)}function Cv(r,n){return vv(ya(r),ya(n))&&r.limitType===n.limitType}function OZ(r){return`${bp(ya(r))}|lt:${r.limitType}`}function RD(r){return`Query(target=${function HM(r){let n=r.path.canonicalString();return null!==r.collectionGroup&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${qg(o.value)}`;var o}).join(", ")}]`),fv(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(t=>qg(t)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(t=>qg(t)).join(",")),`Target(${n})`}(ya(r))}; limitType=${r.limitType})`}function LD(r,n){return n.isFoundDocument()&&function(t,o){const i=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):nt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(r,n)&&function(t,o){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===o.data.field(i.field))return!1;return!0}(r,n)&&function(t,o){for(const i of t.filters)if(!i.matches(o))return!1;return!0}(r,n)&&(o=n,!((t=r).startAt&&!function(i,a,d){const f=NZ(i,a,d);return i.inclusive?f<=0:f<0}(t.startAt,jg(t),o)||t.endAt&&!function(i,a,d){const f=NZ(i,a,d);return i.inclusive?f>=0:f>0}(t.endAt,jg(t),o)));var t,o}function RZ(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function LZ(r){return(n,t)=>{let o=!1;for(const i of jg(r)){const a=nP(i,n,t);if(0!==a)return a;o=o||i.field.isKeyField()}return 0}}function nP(r,n,t){const o=r.field.isKeyField()?nt.comparator(n.key,t.key):function(i,a,d){const f=a.data.field(i),y=d.data.field(i);return null!==f&&null!==y?xd(f,y):_t()}(r.field,n,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return _t()}}function FZ(r,n){if(r.dt){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gv(n)?"-0":n}}function qZ(r){return{integerValue:""+r}}function VZ(r,n){return CZ(n)?qZ(n):FZ(r,n)}class hw{constructor(){this._=void 0}}function rP(r,n,t){return r instanceof $g?function(o,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,n):r instanceof Ap?jZ(r,n):r instanceof Ip?$Z(r,n):function(o,i){const a=BZ(o,i),d=GZ(a)+GZ(o._t);return UD(a)&&UD(o._t)?qZ(d):FZ(o.wt,d)}(r,n)}function oP(r,n,t){return r instanceof Ap?jZ(r,n):r instanceof Ip?$Z(r,n):t}function BZ(r,n){return r instanceof Gg?UD(t=n)||(o=t)&&"doubleValue"in o?n:{integerValue:0}:null;var o,t}class $g extends hw{}class Ap extends hw{constructor(n){super(),this.elements=n}}function jZ(r,n){const t=HZ(n);for(const o of r.elements)t.some(i=>Fu(i,o))||t.push(o);return{arrayValue:{values:t}}}class Ip extends hw{constructor(n){super(),this.elements=n}}function $Z(r,n){let t=HZ(n);for(const o of r.elements)t=t.filter(i=>!Fu(i,o));return{arrayValue:{values:t}}}class Gg extends hw{constructor(n,t){super(),this.wt=n,this._t=t}}function GZ(r){return Sr(r.integerValue||r.doubleValue)}function HZ(r){return _v(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Tv{constructor(n,t){this.field=n,this.transform=t}}class sP{constructor(n,t){this.version=n,this.transformResults=t}}class vr{constructor(n,t){this.updateTime=n,this.exists=t}static none(){return new vr}static exists(n){return new vr(void 0,n)}static updateTime(n){return new vr(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function pw(r,n){return void 0!==r.updateTime?n.isFoundDocument()&&n.version.isEqual(r.updateTime):void 0===r.exists||r.exists===n.isFoundDocument()}class fw{}function JZ(r,n){if(!r.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return r.isNoDocument()?new Jg(r.key,vr.none()):new Hg(r.key,r.data,vr.none());{const t=r.data,o=Bo.empty();let i=new Gn(Lr.comparator);for(let a of n.fields)if(!i.has(a)){let d=t.field(a);null===d&&a.length>1&&(a=a.popLast(),d=t.field(a)),null===d?o.delete(a):o.set(a,d),i=i.add(a)}return new tc(r.key,o,new Zs(i.toArray()),vr.none())}}function aP(r,n,t){r instanceof Hg?function(o,i,a){const d=o.value.clone(),f=QZ(o.fieldTransforms,i,a.transformResults);d.setAll(f),i.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(r,n,t):r instanceof tc?function(o,i,a){if(!pw(o.precondition,i))return void i.convertToUnknownDocument(a.version);const d=QZ(o.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(zZ(o)),f.setAll(d),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(r,n,t):n.convertToNoDocument(t.version).setHasCommittedMutations()}function wv(r,n,t,o){return r instanceof Hg?function(i,a,d,f){if(!pw(i.precondition,a))return d;const y=i.value.clone(),w=KZ(i.fieldTransforms,f,a);return y.setAll(w),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(r,n,t,o):r instanceof tc?function(i,a,d,f){if(!pw(i.precondition,a))return d;const y=KZ(i.fieldTransforms,f,a),w=a.data;return w.setAll(zZ(i)),w.setAll(y),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(r,n,t,o):(d=t,pw(r.precondition,a=n)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):d);var a,d}function uP(r,n){let t=null;for(const o of r.fieldTransforms){const i=n.data.field(o.field),a=BZ(o.transform,i||null);null!=a&&(null===t&&(t=Bo.empty()),t.set(o.field,a))}return t||null}function WZ(r,n){return r.type===n.type&&!!r.key.isEqual(n.key)&&!!r.precondition.isEqual(n.precondition)&&(o=n.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&Lg(t,o,(i,a)=>function iP(r,n){return r.field.isEqual(n.field)&&(o=n.transform,(t=r.transform)instanceof Ap&&o instanceof Ap||t instanceof Ip&&o instanceof Ip?Lg(t.elements,o.elements,Fu):t instanceof Gg&&o instanceof Gg?Fu(t._t,o._t):t instanceof $g&&o instanceof $g);var t,o}(i,a))))&&(0===r.type?r.value.isEqual(n.value):1!==r.type||r.data.isEqual(n.data)&&r.fieldMask.isEqual(n.fieldMask));var t,o}class Hg extends fw{constructor(n,t,o,i=[]){super(),this.key=n,this.value=t,this.precondition=o,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class tc extends fw{constructor(n,t,o,i,a=[]){super(),this.key=n,this.data=t,this.fieldMask=o,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function zZ(r){const n=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);n.set(t,o)}}),n}function QZ(r,n,t){const o=new Map;Mt(r.length===t.length);for(let i=0;i<t.length;i++){const a=r[i],d=a.transform,f=n.data.field(a.field);o.set(a.field,oP(d,f,t[i]))}return o}function KZ(r,n,t){const o=new Map;for(const i of r){const a=i.transform,d=t.data.field(i.field);o.set(i.field,rP(a,d,n))}return o}class Jg extends fw{constructor(n,t){super(),this.key=n,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FD extends fw{constructor(n,t){super(),this.key=n,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lP{constructor(n){this.count=n}}var eo,vn;function YZ(r){switch(r){default:return _t();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function XZ(r){if(void 0===r)return Xr("GRPC error has no .code"),me.UNKNOWN;switch(r){case eo.OK:return me.OK;case eo.CANCELLED:return me.CANCELLED;case eo.UNKNOWN:return me.UNKNOWN;case eo.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case eo.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case eo.INTERNAL:return me.INTERNAL;case eo.UNAVAILABLE:return me.UNAVAILABLE;case eo.UNAUTHENTICATED:return me.UNAUTHENTICATED;case eo.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case eo.NOT_FOUND:return me.NOT_FOUND;case eo.ALREADY_EXISTS:return me.ALREADY_EXISTS;case eo.PERMISSION_DENIED:return me.PERMISSION_DENIED;case eo.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case eo.ABORTED:return me.ABORTED;case eo.OUT_OF_RANGE:return me.OUT_OF_RANGE;case eo.UNIMPLEMENTED:return me.UNIMPLEMENTED;case eo.DATA_LOSS:return me.DATA_LOSS;default:return _t()}}(vn=eo||(eo={}))[vn.OK=0]="OK",vn[vn.CANCELLED=1]="CANCELLED",vn[vn.UNKNOWN=2]="UNKNOWN",vn[vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vn[vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vn[vn.NOT_FOUND=5]="NOT_FOUND",vn[vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",vn[vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",vn[vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",vn[vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vn[vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vn[vn.ABORTED=10]="ABORTED",vn[vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",vn[vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",vn[vn.INTERNAL=13]="INTERNAL",vn[vn.UNAVAILABLE=14]="UNAVAILABLE",vn[vn.DATA_LOSS=15]="DATA_LOSS";class kd{constructor(n,t){this.mapKeyFn=n,this.equalsFn=t,this.inner={},this.innerSize=0}get(n){const t=this.mapKeyFn(n),o=this.inner[t];if(void 0!==o)for(const[i,a]of o)if(this.equalsFn(i,n))return a}has(n){return void 0!==this.get(n)}set(n,t){const o=this.mapKeyFn(n),i=this.inner[o];if(void 0===i)return this.inner[o]=[[n,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],n))return void(i[a]=[n,t]);i.push([n,t]),this.innerSize++}delete(n){const t=this.mapKeyFn(n),o=this.inner[t];if(void 0===o)return!1;for(let i=0;i<o.length;i++)if(this.equalsFn(o[i][0],n))return 1===o.length?delete this.inner[t]:o.splice(i,1),this.innerSize--,!0;return!1}forEach(n){vp(this.inner,(t,o)=>{for(const[i,a]of o)n(i,a)})}isEmpty(){return _Z(this.inner)}size(){return this.innerSize}}const cP=new Dr(nt.comparator);function Yi(){return cP}const ek=new Dr(nt.comparator);function bv(...r){let n=ek;for(const t of r)n=n.insert(t.key,t);return n}function tk(r){let n=ek;return r.forEach((t,o)=>n=n.insert(t,o.overlayedDocument)),n}function qu(){return Av()}function nk(){return Av()}function Av(){return new kd(r=>r.toString(),(r,n)=>r.isEqual(n))}const dP=new Dr(nt.comparator),hP=new Gn(nt.comparator);function Wt(...r){let n=hP;for(const t of r)n=n.add(t);return n}const pP=new Gn(Gt);function gw(){return pP}class Iv{constructor(n,t,o,i,a){this.snapshotVersion=n,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(n,t){const o=new Map;return o.set(n,Ev.createSynthesizedTargetChangeForCurrentChange(n,t)),new Iv(Ut.min(),o,gw(),Yi(),Wt())}}class Ev{constructor(n,t,o,i,a){this.resumeToken=n,this.current=t,this.addedDocuments=o,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(n,t){return new Ev(fo.EMPTY_BYTE_STRING,t,Wt(),Wt(),Wt())}}class mw{constructor(n,t,o,i){this.gt=n,this.removedTargetIds=t,this.key=o,this.yt=i}}class rk{constructor(n,t){this.targetId=n,this.It=t}}class ok{constructor(n,t,o=fo.EMPTY_BYTE_STRING,i=null){this.state=n,this.targetIds=t,this.resumeToken=o,this.cause=i}}class ik{constructor(){this.Tt=0,this.Et=ak(),this.At=fo.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(n){n.approximateByteSize()>0&&(this.bt=!0,this.At=n)}St(){let n=Wt(),t=Wt(),o=Wt();return this.Et.forEach((i,a)=>{switch(a){case 0:n=n.add(i);break;case 2:t=t.add(i);break;case 1:o=o.add(i);break;default:_t()}}),new Ev(this.At,this.Rt,n,t,o)}Dt(){this.bt=!1,this.Et=ak()}Ct(n,t){this.bt=!0,this.Et=this.Et.insert(n,t)}xt(n){this.bt=!0,this.Et=this.Et.remove(n)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class fP{constructor(n){this.Mt=n,this.Ft=new Map,this.$t=Yi(),this.Bt=sk(),this.Lt=new Gn(Gt)}Ut(n){for(const t of n.gt)n.yt&&n.yt.isFoundDocument()?this.qt(t,n.yt):this.Kt(t,n.key,n.yt);for(const t of n.removedTargetIds)this.Kt(t,n.key,n.yt)}Gt(n){this.forEachTarget(n,t=>{const o=this.Qt(t);switch(n.state){case 0:this.jt(t)&&o.Vt(n.resumeToken);break;case 1:o.kt(),o.Pt||o.Dt(),o.Vt(n.resumeToken);break;case 2:o.kt(),o.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(o.Ot(),o.Vt(n.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),o.Vt(n.resumeToken));break;default:_t()}})}forEachTarget(n,t){n.targetIds.length>0?n.targetIds.forEach(t):this.Ft.forEach((o,i)=>{this.jt(i)&&t(i)})}zt(n){const t=n.targetId,o=n.It.count,i=this.Ht(t);if(i){const a=i.target;if(cw(a))if(0===o){const d=new nt(a.path);this.Kt(t,d,Yn.newNoDocument(d,Ut.min()))}else Mt(1===o);else this.Jt(t)!==o&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(n){const t=new Map;this.Ft.forEach((a,d)=>{const f=this.Ht(d);if(f){if(a.current&&cw(f.target)){const y=new nt(f.target.path);null!==this.$t.get(y)||this.Xt(d,y)||this.Kt(d,y,Yn.newNoDocument(y,n))}a.vt&&(t.set(d,a.St()),a.Dt())}});let o=Wt();this.Bt.forEach((a,d)=>{let f=!0;d.forEachWhile(y=>{const w=this.Ht(y);return!w||2===w.purpose||(f=!1,!1)}),f&&(o=o.add(a))}),this.$t.forEach((a,d)=>d.setReadTime(n));const i=new Iv(n,t,this.Lt,this.$t,o);return this.$t=Yi(),this.Bt=sk(),this.Lt=new Gn(Gt),i}qt(n,t){if(!this.jt(n))return;const o=this.Xt(n,t.key)?2:0;this.Qt(n).Ct(t.key,o),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(n))}Kt(n,t,o){if(!this.jt(n))return;const i=this.Qt(n);this.Xt(n,t)?i.Ct(t,1):i.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(n)),o&&(this.$t=this.$t.insert(t,o))}removeTarget(n){this.Ft.delete(n)}Jt(n){const t=this.Qt(n).St();return this.Mt.getRemoteKeysForTarget(n).size+t.addedDocuments.size-t.removedDocuments.size}Nt(n){this.Qt(n).Nt()}Qt(n){let t=this.Ft.get(n);return t||(t=new ik,this.Ft.set(n,t)),t}Zt(n){let t=this.Bt.get(n);return t||(t=new Gn(Gt),this.Bt=this.Bt.insert(n,t)),t}jt(n){const t=null!==this.Ht(n);return t||qe("WatchChangeAggregator","Detected inactive target",n),t}Ht(n){const t=this.Ft.get(n);return t&&t.Pt?null:this.Mt.te(n)}Wt(n){this.Ft.set(n,new ik),this.Mt.getRemoteKeysForTarget(n).forEach(t=>{this.Kt(n,t,null)})}Xt(n,t){return this.Mt.getRemoteKeysForTarget(n).has(t)}}function sk(){return new Dr(nt.comparator)}function ak(){return new Dr(nt.comparator)}const gP={asc:"ASCENDING",desc:"DESCENDING"},mP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class _P{constructor(n,t){this.databaseId=n,this.dt=t}}function Dv(r,n){return r.dt?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function uk(r,n){return r.dt?n.toBase64():n.toUint8Array()}function yP(r,n){return Dv(r,n.toTimestamp())}function Do(r){return Mt(!!r),Ut.fromTimestamp(function(n){const t=Dd(n);return new dr(t.seconds,t.nanos)}(r))}function qD(r,n){return(t=r,new yn(["projects",t.projectId,"databases",t.database])).child("documents").child(n).canonicalString();var t}function lk(r){const n=yn.fromString(r);return Mt(yk(n)),n}function Sv(r,n){return qD(r.databaseId,n.path)}function Vu(r,n){const t=lk(n);if(t.get(1)!==r.databaseId.projectId)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new nt(dk(t))}function VD(r,n){return qD(r.databaseId,n)}function ck(r){const n=lk(r);return 4===n.length?yn.emptyPath():dk(n)}function xv(r){return new yn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function dk(r){return Mt(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function hk(r,n,t){return{name:Sv(r,n),fields:t.value.mapValue.fields}}function pk(r,n,t){const o=Vu(r,n.name),i=Do(n.updateTime),a=new Bo({mapValue:{fields:n.fields}}),d=Yn.newFoundDocument(o,i,a);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Zv(r,n){let t;if(n instanceof Hg)t={update:hk(r,n.key,n.value)};else if(n instanceof Jg)t={delete:Sv(r,n.key)};else if(n instanceof tc)t={update:hk(r,n.key,n.data),updateMask:DP(n.fieldMask)};else{if(!(n instanceof FD))return _t();t={verify:Sv(r,n.key)}}return n.fieldTransforms.length>0&&(t.updateTransforms=n.fieldTransforms.map(o=>function(i,a){const d=a.transform;if(d instanceof $g)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ap)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ip)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Gg)return{fieldPath:a.field.canonicalString(),increment:d._t};throw _t()}(0,o))),n.precondition.isNone||(t.currentDocument=void 0!==(i=n.precondition).updateTime?{updateTime:yP(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:_t()),t;var i}function BD(r,n){const t=n.currentDocument?void 0!==(i=n.currentDocument).updateTime?vr.updateTime(Do(i.updateTime)):void 0!==i.exists?vr.exists(i.exists):vr.none():vr.none(),o=n.updateTransforms?n.updateTransforms.map(i=>function(a,d){let f=null;"setToServerValue"in d?(Mt("REQUEST_TIME"===d.setToServerValue),f=new $g):"appendMissingElements"in d?f=new Ap(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new Ip(d.removeAllFromArray.values||[]):"increment"in d?f=new Gg(a,d.increment):_t();const y=Lr.fromServerFormat(d.fieldPath);return new Tv(y,f)}(r,i)):[];var i;if(n.update){const i=Vu(r,n.update.name),a=new Bo({mapValue:{fields:n.update.fields}});if(n.updateMask){const d=new Zs((n.updateMask.fieldPaths||[]).map(w=>Lr.fromServerFormat(w)));return new tc(i,a,d,t,o)}return new Hg(i,a,t,o)}if(n.delete){const i=Vu(r,n.delete);return new Jg(i,t)}if(n.verify){const i=Vu(r,n.verify);return new FD(i,t)}return _t()}function fk(r,n){return{documents:[VD(r,n.path)]}}function gk(r,n){const t={structuredQuery:{}},o=n.path;null!==n.collectionGroup?(t.parent=VD(r,o),t.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(t.parent=VD(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const i=function(y){if(0===y.length)return;const w=y.map(D=>function(x){if("=="===x.op){if(bZ(x.value))return{unaryFilter:{field:Wg(x.field),op:"IS_NAN"}};if(wZ(x.value))return{unaryFilter:{field:Wg(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(bZ(x.value))return{unaryFilter:{field:Wg(x.field),op:"IS_NOT_NAN"}};if(wZ(x.value))return{unaryFilter:{field:Wg(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wg(x.field),op:AP(x.op),value:x.value}}}(D));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(n.filters);i&&(t.structuredQuery.where=i);const a=function(y){if(0!==y.length)return y.map(w=>{return{field:Wg((D=w).field),direction:bP(D.dir)};var D})}(n.orderBy);a&&(t.structuredQuery.orderBy=a);const d=(w=n.limit,r.dt||fv(w)?w:{value:w});var w,f,y;return null!==d&&(t.structuredQuery.limit=d),n.startAt&&(t.structuredQuery.startAt={before:(f=n.startAt).inclusive,values:f.position}),n.endAt&&(t.structuredQuery.endAt={before:!(y=n.endAt).inclusive,values:y.position}),t}function mk(r){let n=ck(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let i=null;if(o>0){Mt(1===o);const D=t.from[0];D.allDescendants?i=D.collectionId:n=n.child(D.collectionId)}let a=[];t.where&&(a=_k(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(D=>{return new Vg(zg((x=D).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(D){let x;return x="object"==typeof D?D.value:D,fv(x)?null:x}(t.limit));let y=null;var D;t.startAt&&(y=new Zd((D=t.startAt).values||[],!!D.before));let w=null;return t.endAt&&(w=function(D){return new Zd(D.values||[],!D.before)}(t.endAt)),MZ(n,i,d,a,f,"F",y,w)}function _k(r){return r?void 0!==r.unaryFilter?[EP(r)]:void 0!==r.fieldFilter?[IP(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(n=>_k(n)).reduce((n,t)=>n.concat(t)):_t():[]}function bP(r){return gP[r]}function AP(r){return mP[r]}function Wg(r){return{fieldPath:r.canonicalString()}}function zg(r){return Lr.fromServerFormat(r.fieldPath)}function IP(r){return jo.create(zg(r.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(r.fieldFilter.op),r.fieldFilter.value)}function EP(r){switch(r.unaryFilter.op){case"IS_NAN":const n=zg(r.unaryFilter.field);return jo.create(n,"==",{doubleValue:NaN});case"IS_NULL":const t=zg(r.unaryFilter.field);return jo.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=zg(r.unaryFilter.field);return jo.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=zg(r.unaryFilter.field);return jo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}function DP(r){const n=[];return r.fields.forEach(t=>n.push(t.canonicalString())),{fieldPaths:n}}function yk(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function Si(r){let n="";for(let t=0;t<r.length;t++)n.length>0&&(n=vk(n)),n=SP(r.get(t),n);return vk(n)}function SP(r,n){let t=n;const o=r.length;for(let i=0;i<o;i++){const a=r.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function vk(r){return r+"\x01\x01"}function Bu(r){const n=r.length;if(Mt(n>=2),2===n)return Mt("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),yn.emptyPath();const t=n-2,o=[];let i="";for(let a=0;a<n;){const d=r.indexOf("\x01",a);switch((d<0||d>t)&&_t(),r.charAt(d+1)){case"\x01":const f=r.substring(a,d);let y;0===i.length?y=f:(i+=f,y=i,i=""),o.push(y);break;case"\x10":i+=r.substring(a,d),i+="\0";break;case"\x11":i+=r.substring(a,d+1);break;default:_t()}a=d+2}return new yn(o)}const Ck=["userId","batchId"];function _w(r,n){return[r,Si(n)]}function Tk(r,n,t){return[r,Si(n),t]}const xP={},ZP=["prefixPath","collectionGroup","readTime","documentId"],kP=["prefixPath","collectionGroup","documentId"],NP=["collectionGroup","readTime","prefixPath","documentId"],UP=["canonicalId","targetId"],MP=["targetId","path"],PP=["path","targetId"],OP=["collectionId","parent"],RP=["indexId","uid"],LP=["uid","sequenceNumber"],FP=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qP=["indexId","uid","orderedDocumentKey"],VP=["userId","collectionPath","documentId"],BP=["userId","collectionPath","largestBatchId"],jP=["userId","collectionGroup","largestBatchId"],wk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$P=[...wk,"documentOverlays"],bk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ak=bk,GP=[...Ak,"indexConfiguration","indexState","indexEntries"];class jD extends fZ{constructor(n,t){super(),this.ee=n,this.currentSequenceNumber=t}}function So(r,n){const t=ot(r);return tu.N(t.ee,n)}class $D{constructor(n,t,o,i){this.batchId=n,this.localWriteTime=t,this.baseMutations=o,this.mutations=i}applyToRemoteDocument(n,t){const o=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(n.key)&&aP(a,n,o[i])}}applyToLocalView(n,t){for(const o of this.baseMutations)o.key.isEqual(n.key)&&(t=wv(o,n,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(n.key)&&(t=wv(o,n,t,this.localWriteTime));return t}applyToLocalDocumentSet(n,t){const o=nk();return this.mutations.forEach(i=>{const a=n.get(i.key),d=a.overlayedDocument;let f=this.applyToLocalView(d,a.mutatedFields);f=t.has(i.key)?null:f;const y=JZ(d,f);null!==y&&o.set(i.key,y),d.isValidDocument()||d.convertToNoDocument(Ut.min())}),o}keys(){return this.mutations.reduce((n,t)=>n.add(t.key),Wt())}isEqual(n){return this.batchId===n.batchId&&Lg(this.mutations,n.mutations,(t,o)=>WZ(t,o))&&Lg(this.baseMutations,n.baseMutations,(t,o)=>WZ(t,o))}}class GD{constructor(n,t,o,i){this.batch=n,this.commitVersion=t,this.mutationResults=o,this.docVersions=i}static from(n,t,o){Mt(n.mutations.length===o.length);let i=dP;const a=n.mutations;for(let d=0;d<a.length;d++)i=i.insert(a[d].key,o[d].version);return new GD(n,t,o,i)}}class HD{constructor(n,t){this.largestBatchId=n,this.mutation=t}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Nd{constructor(n,t,o,i,a=Ut.min(),d=Ut.min(),f=fo.EMPTY_BYTE_STRING){this.target=n,this.targetId=t,this.purpose=o,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(n){return new Nd(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,t){return new Nd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new Nd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class Ik{constructor(n){this.ne=n}}function Ek(r,n){const t=n.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:yw(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())o.document={name:Sv(i=r.ne,(a=n).key),fields:a.data.value.mapValue.fields,updateTime:Dv(i,a.version.toTimestamp())};else if(n.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Ep(n.version)};else{if(!n.isUnknownDocument())return _t();o.unknownDocument={path:t.path.toArray(),version:Ep(n.version)}}var i,a;return o}function yw(r){const n=r.toTimestamp();return[n.seconds,n.nanoseconds]}function Ep(r){const n=r.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function Dp(r){const n=new dr(r.seconds,r.nanoseconds);return Ut.fromTimestamp(n)}function Sp(r,n){const t=(n.baseMutations||[]).map(a=>BD(r.ne,a));for(let a=0;a<n.mutations.length-1;++a){const d=n.mutations[a];a+1<n.mutations.length&&void 0!==n.mutations[a+1].transform&&(d.updateTransforms=n.mutations[a+1].transform.fieldTransforms,n.mutations.splice(a+1,1),++a)}const o=n.mutations.map(a=>BD(r.ne,a)),i=dr.fromMillis(n.localWriteTimeMs);return new $D(n.batchId,i,t,o)}function kv(r){const n=Dp(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Dp(r.lastLimboFreeSnapshotVersion):Ut.min();let o;var i;return void 0!==r.query.documents?(Mt(1===(i=r.query).documents.length),o=ya(Bg(ck(i.documents[0])))):o=ya(mk(r.query)),new Nd(o,r.targetId,0,r.lastListenSequenceNumber,n,t,fo.fromBase64String(r.resumeToken))}function Dk(r,n){const t=Ep(n.snapshotVersion),o=Ep(n.lastLimboFreeSnapshotVersion);let i;i=cw(n.target)?fk(r.ne,n.target):gk(r.ne,n.target);const a=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:bp(n.target),readTime:t,resumeToken:a,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:i}}function JD(r){const n=mk({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?PZ(n,n.limit,"L"):n}function WD(r,n){return new HD(n.largestBatchId,BD(r.ne,n.overlayMutation))}function Sk(r,n){const t=n.path.lastSegment();return[r,Si(n.path.popLast()),t]}function xk(r,n,t,o){return{indexId:r,uid:n.uid||"",sequenceNumber:t,readTime:Ep(o.readTime),documentKey:Si(o.documentKey.path),largestBatchId:o.largestBatchId}}class JP{getBundleMetadata(n,t){return Zk(n).get(t).next(o=>{if(o)return{id:(i=o).bundleId,createTime:Dp(i.createTime),version:i.version};var i})}saveBundleMetadata(n,t){return Zk(n).put({bundleId:(o=t).id,createTime:Ep(Do(o.createTime)),version:o.version});var o}getNamedQuery(n,t){return kk(n).get(t).next(o=>{if(o)return{name:(i=o).name,query:JD(i.bundledQuery),readTime:Dp(i.readTime)};var i})}saveNamedQuery(n,t){return kk(n).put({name:(o=t).name,readTime:Ep(Do(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Zk(r){return So(r,"bundles")}function kk(r){return So(r,"namedQueries")}class vw{constructor(n,t){this.wt=n,this.userId=t}static se(n,t){return new vw(n,t.uid||"")}getOverlay(n,t){return Nv(n).get(Sk(this.userId,t)).next(o=>o?WD(this.wt,o):null)}getOverlays(n,t){const o=qu();return ce.forEach(t,i=>this.getOverlay(n,i).next(a=>{null!==a&&o.set(i,a)})).next(()=>o)}saveOverlays(n,t,o){const i=[];return o.forEach((a,d)=>{const f=new HD(t,d);i.push(this.ie(n,f))}),ce.waitFor(i)}removeOverlaysForBatchId(n,t,o){const i=new Set;t.forEach(d=>i.add(Si(d.getCollectionPath())));const a=[];return i.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,o+1],!1,!0);a.push(Nv(n).W("collectionPathOverlayIndex",f))}),ce.waitFor(a)}getOverlaysForCollection(n,t,o){const i=qu(),a=Si(t),d=IDBKeyRange.bound([this.userId,a,o],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Nv(n).K("collectionPathOverlayIndex",d).next(f=>{for(const y of f){const w=WD(this.wt,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(n,t,o,i){const a=qu();let d;const f=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Nv(n).J({index:"collectionGroupOverlayIndex",range:f},(y,w,D)=>{const x=WD(this.wt,w);a.size()<i||x.largestBatchId===d?(a.set(x.getKey(),x),d=x.largestBatchId):D.done()}).next(()=>a)}ie(n,t){return Nv(n).put(function(o,i,a){const[d,f,y]=Sk(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Zv(o.ne,a.mutation)}}(this.wt,this.userId,t))}}function Nv(r){return So(r,"documentOverlays")}class xp{constructor(){}re(n,t){this.oe(n,t),t.ue()}oe(n,t){if("nullValue"in n)this.ce(t,5);else if("booleanValue"in n)this.ce(t,10),t.ae(n.booleanValue?1:0);else if("integerValue"in n)this.ce(t,15),t.ae(Sr(n.integerValue));else if("doubleValue"in n){const o=Sr(n.doubleValue);isNaN(o)?this.ce(t,13):(this.ce(t,15),gv(o)?t.ae(0):t.ae(o))}else if("timestampValue"in n){const o=n.timestampValue;this.ce(t,20),"string"==typeof o?t.he(o):(t.he(`${o.seconds||""}`),t.ae(o.nanos||0))}else if("stringValue"in n)this.le(n.stringValue,t),this.fe(t);else if("bytesValue"in n)this.ce(t,30),t.de(Cp(n.bytesValue)),this.fe(t);else if("referenceValue"in n)this._e(n.referenceValue,t);else if("geoPointValue"in n){const o=n.geoPointValue;this.ce(t,45),t.ae(o.latitude||0),t.ae(o.longitude||0)}else"mapValue"in n?AZ(n)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(n.mapValue,t),this.fe(t)):"arrayValue"in n?(this.me(n.arrayValue,t),this.fe(t)):_t()}le(n,t){this.ce(t,25),this.ge(n,t)}ge(n,t){t.he(n)}we(n,t){const o=n.fields||{};this.ce(t,55);for(const i of Object.keys(o))this.le(i,t),this.oe(o[i],t)}me(n,t){const o=n.values||[];this.ce(t,50);for(const i of o)this.oe(i,t)}_e(n,t){this.ce(t,37),nt.fromName(n).path.forEach(o=>{this.ce(t,60),this.ge(o,t)})}ce(n,t){n.ae(t)}fe(n){n.ae(2)}}function WP(r){if(0===r)return 8;let n=0;return r>>4==0&&(n+=4,r<<=4),r>>6==0&&(n+=2,r<<=2),r>>7==0&&(n+=1),n}function Nk(r){const n=64-function(t){let o=0;for(let i=0;i<8;++i){const a=WP(255&t[i]);if(o+=a,8!==a)break}return o}(r);return Math.ceil(n/8)}xp.ye=new xp;class zP{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(n){const t=n[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ie(o.value),o=t.next();this.Te()}Ee(n){const t=n[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(n){for(const t of n){const o=t.charCodeAt(0);if(o<128)this.Ie(o);else if(o<2048)this.Ie(960|o>>>6),this.Ie(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o);else{const i=t.codePointAt(0);this.Ie(240|i>>>18),this.Ie(128|63&i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i)}}this.Te()}Pe(n){for(const t of n){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}ve(n){const t=this.Ve(n),o=Nk(t);this.Se(1+o),this.buffer[this.position++]=255&o;for(let i=t.length-o;i<t.length;++i)this.buffer[this.position++]=255&t[i]}De(n){const t=this.Ve(n),o=Nk(t);this.Se(1+o),this.buffer[this.position++]=~(255&o);for(let i=t.length-o;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(n){this.Se(n.length),this.buffer.set(n,this.position),this.position+=n.length}Oe(){return this.buffer.slice(0,this.position)}Ve(n){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(n),o=0!=(128&t[0]);t[0]^=o?255:128;for(let i=1;i<t.length;++i)t[i]^=o?255:0;return t}Ie(n){const t=255&n;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(n){const t=255&n;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(n)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(n){this.Se(1),this.buffer[this.position++]=n}ke(n){this.Se(1),this.buffer[this.position++]=~n}Se(n){const t=n+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const i=new Uint8Array(o);i.set(this.buffer),this.buffer=i}}class QP{constructor(n){this.Me=n}de(n){this.Me.pe(n)}he(n){this.Me.be(n)}ae(n){this.Me.ve(n)}ue(){this.Me.Ce()}}class KP{constructor(n){this.Me=n}de(n){this.Me.Ee(n)}he(n){this.Me.Pe(n)}ae(n){this.Me.De(n)}ue(){this.Me.Ne()}}class Uv{constructor(){this.Me=new zP,this.Fe=new QP(this.Me),this.$e=new KP(this.Me)}seed(n){this.Me.seed(n)}Be(n){return 0===n?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class Zp{constructor(n,t,o,i){this.indexId=n,this.documentKey=t,this.arrayValue=o,this.directionalValue=i}Le(){const n=this.directionalValue.length,t=0===n||255===this.directionalValue[n-1]?n+1:n,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==n?o.set([0],this.directionalValue.length):++o[o.length-1],new Zp(this.indexId,this.documentKey,this.arrayValue,o)}}function kp(r,n){let t=r.indexId-n.indexId;return 0!==t?t:(t=Uk(r.arrayValue,n.arrayValue),0!==t?t:(t=Uk(r.directionalValue,n.directionalValue),0!==t?t:nt.comparator(r.documentKey,n.documentKey)))}function Uk(r,n){for(let t=0;t<r.length&&t<n.length;++t){const o=r[t]-n[t];if(0!==o)return o}return r.length-n.length}class YP{constructor(n){this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.Ue=n.orderBy,this.qe=[];for(const t of n.filters){const o=t;o.ht()?this.Ke=o:this.qe.push(o)}}Ge(n){const t=DD(n);if(void 0!==t&&!this.Qe(t))return!1;const o=_p(n);let i=0,a=0;for(;i<o.length&&this.Qe(o[i]);++i);if(i===o.length)return!0;if(void 0!==this.Ke){const d=o[i];if(!this.je(this.Ke,d)||!this.We(this.Ue[a++],d))return!1;++i}for(;i<o.length;++i){const d=o[i];if(a>=this.Ue.length||!this.We(this.Ue[a++],d))return!1}return!0}Qe(n){for(const t of this.qe)if(this.je(t,n))return!0;return!1}je(n,t){return!(void 0===n||!n.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===n.op||"array-contains-any"===n.op)}We(n,t){return!!n.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===n.dir||1===t.kind&&"desc"===n.dir)}}class XP{constructor(){this.ze=new zD}addToCollectionParentIndex(n,t){return this.ze.add(t),ce.resolve()}getCollectionParents(n,t){return ce.resolve(this.ze.getEntries(t))}addFieldIndex(n,t){return ce.resolve()}deleteFieldIndex(n,t){return ce.resolve()}getDocumentsMatchingTarget(n,t){return ce.resolve(null)}getIndexType(n,t){return ce.resolve(0)}getFieldIndexes(n,t){return ce.resolve([])}getNextCollectionGroupToUpdate(n){return ce.resolve(null)}getMinOffset(n,t){return ce.resolve(xs.min())}getMinOffsetFromCollectionGroup(n,t){return ce.resolve(xs.min())}updateCollectionGroup(n,t,o){return ce.resolve()}updateIndexEntries(n,t){return ce.resolve()}}class zD{constructor(){this.index={}}add(n){const t=n.lastSegment(),o=n.popLast(),i=this.index[t]||new Gn(yn.comparator),a=!i.has(o);return this.index[t]=i.add(o),a}has(n){const t=n.lastSegment(),o=n.popLast(),i=this.index[t];return i&&i.has(o)}getEntries(n){return(this.index[n]||new Gn(yn.comparator)).toArray()}}const Cw=new Uint8Array(0);class eO{constructor(n,t){this.user=n,this.databaseId=t,this.He=new zD,this.Je=new kd(o=>bp(o),(o,i)=>vv(o,i)),this.uid=n.uid||""}addToCollectionParentIndex(n,t){if(!this.He.has(t)){const o=t.lastSegment(),i=t.popLast();n.addOnCommittedListener(()=>{this.He.add(t)});const a={collectionId:o,parent:Si(i)};return Mk(n).put(a)}return ce.resolve()}getCollectionParents(n,t){const o=[],i=IDBKeyRange.bound([t,""],[cZ(t),""],!1,!0);return Mk(n).K(i).next(a=>{for(const d of a){if(d.collectionId!==t)break;o.push(Bu(d.parent))}return o})}addFieldIndex(n,t){const o=Tw(n),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var d;delete i.indexId;const a=o.add(i);if(t.indexState){const d=Pv(n);return a.next(f=>{d.put(xk(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(n,t){const o=Tw(n),i=Pv(n),a=Mv(n);return o.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(n,t){const o=Mv(n);let i=!0;const a=new Map;return ce.forEach(this.Ye(t),d=>this.Xe(n,d).next(f=>{i&&(i=!!f),a.set(d,f)})).next(()=>{if(i){let d=Wt();const f=[];return ce.forEach(a,(y,w)=>{var D;qe("IndexedDbIndexManager",`Using index ${D=y,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Yt=>`${Yt.fieldPath}:${Yt.kind}`).join(",")}`} to execute ${bp(t)}`);const x=function(Yt,It){const Xt=DD(It);if(void 0===Xt)return null;for(const Zn of dw(Yt,Xt.fieldPath))switch(Zn.op){case"array-contains-any":return Zn.value.arrayValue.values||[];case"array-contains":return[Zn.value]}return null}(w,y),O=function(Yt,It){const Xt=new Map;for(const Zn of _p(It))for(const di of dw(Yt,Zn.fieldPath))switch(di.op){case"==":case"in":Xt.set(Zn.fieldPath.canonicalString(),di.value);break;case"not-in":case"!=":return Xt.set(Zn.fieldPath.canonicalString(),di.value),Array.from(Xt.values())}return null}(w,y),H=function(Yt,It){const Xt=[];let Zn=!0;for(const di of _p(It)){const Xv=0===di.kind?xZ(Yt,di.fieldPath,Yt.startAt):ZZ(Yt,di.fieldPath,Yt.startAt);Xt.push(Xv.value),Zn&&(Zn=Xv.inclusive)}return new Zd(Xt,Zn)}(w,y),ne=function(Yt,It){const Xt=[];let Zn=!0;for(const di of _p(It)){const Xv=0===di.kind?ZZ(Yt,di.fieldPath,Yt.endAt):xZ(Yt,di.fieldPath,Yt.endAt);Xt.push(Xv.value),Zn&&(Zn=Xv.inclusive)}return new Zd(Xt,Zn)}(w,y),Ne=this.Ze(y,w,H),$e=this.Ze(y,w,ne),mt=this.tn(y,w,O),Pt=this.en(y.indexId,x,Ne,H.inclusive,$e,ne.inclusive,mt);return ce.forEach(Pt,Yt=>o.j(Yt,t.limit).next(It=>{It.forEach(Xt=>{const Zn=nt.fromSegments(Xt.documentKey);d.has(Zn)||(d=d.add(Zn),f.push(Zn))})}))}).next(()=>f)}return ce.resolve(null)})}Ye(n){let t=this.Je.get(n);return t||(t=[n],this.Je.set(n,t),t)}en(n,t,o,i,a,d,f){const y=(null!=t?t.length:1)*Math.max(o.length,a.length),w=y/(null!=t?t.length:1),D=[];for(let x=0;x<y;++x){const O=t?this.nn(t[x/w]):Cw,H=this.sn(n,O,o[x%w],i),ne=this.rn(n,O,a[x%w],d),Ne=f.map($e=>this.sn(n,O,$e,!0));D.push(...this.createRange(H,ne,Ne))}return D}sn(n,t,o,i){const a=new Zp(n,nt.empty(),t,o);return i?a:a.Le()}rn(n,t,o,i){const a=new Zp(n,nt.empty(),t,o);return i?a.Le():a}Xe(n,t){const o=new YP(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(n,i).next(a=>{let d=null;for(const f of a)o.Ge(f)&&(!d||f.fields.length>d.fields.length)&&(d=f);return d})}getIndexType(n,t){let o=2;return ce.forEach(this.Ye(t),i=>this.Xe(n,i).next(a=>{a?0!==o&&a.fields.length<function(d){let f=new Gn(Lr.comparator),y=!1;for(const w of d.filters){const D=w;D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?y=!0:f=f.add(D.field))}for(const w of d.orderBy)w.field.isKeyField()||(f=f.add(w.field));return f.size+(y?1:0)}(i)&&(o=1):o=0})).next(()=>o)}on(n,t){const o=new Uv;for(const i of _p(n)){const a=t.data.field(i.fieldPath);if(null==a)return null;const d=o.Be(i.kind);xp.ye.re(a,d)}return o.Oe()}nn(n){const t=new Uv;return xp.ye.re(n,t.Be(0)),t.Oe()}un(n,t){const o=new Uv;return xp.ye.re(wp(this.databaseId,t),o.Be(function(i){const a=_p(i);return 0===a.length?0:a[a.length-1].kind}(n))),o.Oe()}tn(n,t,o){if(null===o)return[];let i=[];i.push(new Uv);let a=0;for(const d of _p(n)){const f=o[a++];for(const y of i)if(this.cn(t,d.fieldPath)&&_v(f))i=this.an(i,d,f);else{const w=y.Be(d.kind);xp.ye.re(f,w)}}return this.hn(i)}Ze(n,t,o){return this.tn(n,t,o.position)}hn(n){const t=[];for(let o=0;o<n.length;++o)t[o]=n[o].Oe();return t}an(n,t,o){const i=[...n],a=[];for(const d of o.arrayValue.values||[])for(const f of i){const y=new Uv;y.seed(f.Oe()),xp.ye.re(d,y.Be(t.kind)),a.push(y)}return a}cn(n,t){return!!n.filters.find(o=>o instanceof jo&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(n,t){const o=Tw(n),i=Pv(n);return(t?o.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.K()).next(a=>{const d=[];return ce.forEach(a,f=>i.get([f.indexId,this.uid]).next(y=>{d.push(function(w,D){const x=D?new dv(D.sequenceNumber,new xs(Dp(D.readTime),new nt(Bu(D.documentKey)),D.largestBatchId)):dv.empty(),O=w.fields.map(([H,ne])=>new iw(Lr.fromServerFormat(H),ne));return new ow(w.indexId,w.collectionGroup,O,x)}(f,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(t=>0===t.length?null:(t.sort((o,i)=>{const a=o.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Gt(o.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(n,t,o){const i=Tw(n),a=Pv(n);return this.ln(n).next(d=>i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ce.forEach(f,y=>a.put(xk(y.indexId,this.user,d,o)))))}updateIndexEntries(n,t){const o=new Map;return ce.forEach(t,(i,a)=>{const d=o.get(i.collectionGroup);return(d?ce.resolve(d):this.getFieldIndexes(n,i.collectionGroup)).next(f=>(o.set(i.collectionGroup,f),ce.forEach(f,y=>this.fn(n,i,y).next(w=>{const D=this.dn(a,y);return w.isEqual(D)?ce.resolve():this._n(n,a,y,w,D)}))))})}wn(n,t,o,i){return Mv(n).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.un(o,t.key),documentKey:t.key.path.toArray()})}mn(n,t,o,i){return Mv(n).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.un(o,t.key),t.key.path.toArray()])}fn(n,t,o){const i=Mv(n);let a=new Gn(kp);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.un(o,t)])},(d,f)=>{a=a.add(new Zp(o.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}dn(n,t){let o=new Gn(kp);const i=this.on(t,n);if(null==i)return o;const a=DD(t);if(null!=a){const d=n.data.field(a.fieldPath);if(_v(d))for(const f of d.arrayValue.values||[])o=o.add(new Zp(t.indexId,n.key,this.nn(f),i))}else o=o.add(new Zp(t.indexId,n.key,Cw,i));return o}_n(n,t,o,i,a){qe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(f,y,w,D,x){const O=f.getIterator(),H=y.getIterator();let ne=Fg(O),Ne=Fg(H);for(;ne||Ne;){let $e=!1,mt=!1;if(ne&&Ne){const Pt=w(ne,Ne);Pt<0?mt=!0:Pt>0&&($e=!0)}else null!=ne?mt=!0:$e=!0;$e?(D(Ne),Ne=Fg(H)):mt?(x(ne),ne=Fg(O)):(ne=Fg(O),Ne=Fg(H))}}(i,a,kp,f=>{d.push(this.wn(n,t,o,f))},f=>{d.push(this.mn(n,t,o,f))}),ce.waitFor(d)}ln(n){let t=1;return Pv(n).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(n,t,o){o=o.sort((d,f)=>kp(d,f)).filter((d,f,y)=>!f||0!==kp(d,y[f-1]));const i=[];i.push(n);for(const d of o){const f=kp(d,n),y=kp(d,t);if(0===f)i[0]=n.Le();else if(f>0&&y<0)i.push(d),i.push(d.Le());else if(y>0)break}i.push(t);const a=[];for(let d=0;d<i.length;d+=2)a.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,Cw,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,Cw,[]]));return a}getMinOffsetFromCollectionGroup(n,t){return this.getFieldIndexes(n,t).next(Pk)}getMinOffset(n,t){return ce.mapArray(this.Ye(t),o=>this.Xe(n,o).next(i=>i||_t())).next(Pk)}}function Mk(r){return So(r,"collectionParents")}function Mv(r){return So(r,"indexEntries")}function Tw(r){return So(r,"indexConfiguration")}function Pv(r){return So(r,"indexState")}function Pk(r){Mt(0!==r.length);let n=r[0].indexState.offset,t=n.largestBatchId;for(let o=1;o<r.length;o++){const i=r[o].indexState.offset;SD(i,n)<0&&(n=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new xs(n.readTime,n.documentKey,t)}const Ok={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xi{constructor(n,t,o){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(n){return new Xi(n,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Rk(r,n,t){const o=r.store("mutations"),i=r.store("documentMutations"),a=[],d=IDBKeyRange.only(t.batchId);let f=0;const y=o.J({range:d},(D,x,O)=>(f++,O.delete()));a.push(y.next(()=>{Mt(1===f)}));const w=[];for(const D of t.mutations){const x=Tk(n,D.key.path,t.batchId);a.push(i.delete(x)),w.push(D.key)}return ce.waitFor(a).next(()=>w)}function ww(r){if(!r)return 0;let n;if(r.document)n=r.document;else if(r.unknownDocument)n=r.unknownDocument;else{if(!r.noDocument)throw _t();n=r.noDocument}return JSON.stringify(n).length}Xi.DEFAULT_COLLECTION_PERCENTILE=10,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xi.DEFAULT=new Xi(41943040,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xi.DISABLED=new Xi(-1,0,0);class bw{constructor(n,t,o,i){this.userId=n,this.wt=t,this.indexManager=o,this.referenceDelegate=i,this.gn={}}static se(n,t,o,i){Mt(""!==n.uid);const a=n.isAuthenticated()?n.uid:"";return new bw(a,t,o,i)}checkEmpty(n){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ud(n).J({index:"userMutationsIndex",range:o},(i,a,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(n,t,o,i){const a=Qg(n),d=Ud(n);return d.add({}).next(f=>{Mt("number"==typeof f);const y=new $D(f,t,o,i),w=function(O,H,ne){const Ne=ne.baseMutations.map(mt=>Zv(O.ne,mt)),$e=ne.mutations.map(mt=>Zv(O.ne,mt));return{userId:H,batchId:ne.batchId,localWriteTimeMs:ne.localWriteTime.toMillis(),baseMutations:Ne,mutations:$e}}(this.wt,this.userId,y),D=[];let x=new Gn((O,H)=>Gt(O.canonicalString(),H.canonicalString()));for(const O of i){const H=Tk(this.userId,O.key.path,f);x=x.add(O.key.path.popLast()),D.push(d.put(w)),D.push(a.put(H,xP))}return x.forEach(O=>{D.push(this.indexManager.addToCollectionParentIndex(n,O))}),n.addOnCommittedListener(()=>{this.gn[f]=y.keys()}),ce.waitFor(D).next(()=>y)})}lookupMutationBatch(n,t){return Ud(n).get(t).next(o=>o?(Mt(o.userId===this.userId),Sp(this.wt,o)):null)}yn(n,t){return this.gn[t]?ce.resolve(this.gn[t]):this.lookupMutationBatch(n,t).next(o=>{if(o){const i=o.keys();return this.gn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(n,t){const o=t+1,i=IDBKeyRange.lowerBound([this.userId,o]);let a=null;return Ud(n).J({index:"userMutationsIndex",range:i},(d,f,y)=>{f.userId===this.userId&&(Mt(f.batchId>=o),a=Sp(this.wt,f)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(n){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Ud(n).J({index:"userMutationsIndex",range:t,reverse:!0},(i,a,d)=>{o=a.batchId,d.done()}).next(()=>o)}getAllMutationBatches(n){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ud(n).K("userMutationsIndex",t).next(o=>o.map(i=>Sp(this.wt,i)))}getAllMutationBatchesAffectingDocumentKey(n,t){const o=_w(this.userId,t.path),i=IDBKeyRange.lowerBound(o),a=[];return Qg(n).J({range:i},(d,f,y)=>{const[w,D,x]=d,O=Bu(D);if(w===this.userId&&t.path.isEqual(O))return Ud(n).get(x).next(H=>{if(!H)throw _t();Mt(H.userId===this.userId),a.push(Sp(this.wt,H))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(n,t){let o=new Gn(Gt);const i=[];return t.forEach(a=>{const d=_w(this.userId,a.path),f=IDBKeyRange.lowerBound(d),y=Qg(n).J({range:f},(w,D,x)=>{const[O,H,ne]=w,Ne=Bu(H);O===this.userId&&a.path.isEqual(Ne)?o=o.add(ne):x.done()});i.push(y)}),ce.waitFor(i).next(()=>this.pn(n,o))}getAllMutationBatchesAffectingQuery(n,t){const o=t.path,i=o.length+1,a=_w(this.userId,o),d=IDBKeyRange.lowerBound(a);let f=new Gn(Gt);return Qg(n).J({range:d},(y,w,D)=>{const[x,O,H]=y,ne=Bu(O);x===this.userId&&o.isPrefixOf(ne)?ne.length===i&&(f=f.add(H)):D.done()}).next(()=>this.pn(n,f))}pn(n,t){const o=[],i=[];return t.forEach(a=>{i.push(Ud(n).get(a).next(d=>{if(null===d)throw _t();Mt(d.userId===this.userId),o.push(Sp(this.wt,d))}))}),ce.waitFor(i).next(()=>o)}removeMutationBatch(n,t){return Rk(n.ee,this.userId,t).next(o=>(n.addOnCommittedListener(()=>{this.In(t.batchId)}),ce.forEach(o,i=>this.referenceDelegate.markPotentiallyOrphaned(n,i))))}In(n){delete this.gn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(t=>{if(!t)return ce.resolve();const o=IDBKeyRange.lowerBound([this.userId]),i=[];return Qg(n).J({range:o},(a,d,f)=>{if(a[0]===this.userId){const y=Bu(a[1]);i.push(y)}else f.done()}).next(()=>{Mt(0===i.length)})})}containsKey(n,t){return Lk(n,this.userId,t)}Tn(n){return Fk(n).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Lk(r,n,t){const o=_w(n,t.path),i=o[1],a=IDBKeyRange.lowerBound(o);let d=!1;return Qg(r).J({range:a,H:!0},(f,y,w)=>{const[D,x,O]=f;D===n&&x===i&&(d=!0),w.done()}).next(()=>d)}function Ud(r){return So(r,"mutations")}function Qg(r){return So(r,"documentMutations")}function Fk(r){return So(r,"mutationQueues")}class Np{constructor(n){this.En=n}next(){return this.En+=2,this.En}static An(){return new Np(0)}static Rn(){return new Np(-1)}}class tO{constructor(n,t){this.referenceDelegate=n,this.wt=t}allocateTargetId(n){return this.bn(n).next(t=>{const o=new Np(t.highestTargetId);return t.highestTargetId=o.next(),this.Pn(n,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.bn(n).next(t=>Ut.fromTimestamp(new dr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.bn(n).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(n,t,o){return this.bn(n).next(i=>(i.highestListenSequenceNumber=t,o&&(i.lastRemoteSnapshotVersion=o.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Pn(n,i)))}addTargetData(n,t){return this.vn(n,t).next(()=>this.bn(n).next(o=>(o.targetCount+=1,this.Vn(t,o),this.Pn(n,o))))}updateTargetData(n,t){return this.vn(n,t)}removeTargetData(n,t){return this.removeMatchingKeysForTargetId(n,t.targetId).next(()=>Kg(n).delete(t.targetId)).next(()=>this.bn(n)).next(o=>(Mt(o.targetCount>0),o.targetCount-=1,this.Pn(n,o)))}removeTargets(n,t,o){let i=0;const a=[];return Kg(n).J((d,f)=>{const y=kv(f);y.sequenceNumber<=t&&null===o.get(y.targetId)&&(i++,a.push(this.removeTargetData(n,y)))}).next(()=>ce.waitFor(a)).next(()=>i)}forEachTarget(n,t){return Kg(n).J((o,i)=>{const a=kv(i);t(a)})}bn(n){return qk(n).get("targetGlobalKey").next(t=>(Mt(null!==t),t))}Pn(n,t){return qk(n).put("targetGlobalKey",t)}vn(n,t){return Kg(n).put(Dk(this.wt,t))}Vn(n,t){let o=!1;return n.targetId>t.highestTargetId&&(t.highestTargetId=n.targetId,o=!0),n.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=n.sequenceNumber,o=!0),o}getTargetCount(n){return this.bn(n).next(t=>t.targetCount)}getTargetData(n,t){const o=bp(t),i=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let a=null;return Kg(n).J({range:i,index:"queryTargetsIndex"},(d,f,y)=>{const w=kv(f);vv(t,w.target)&&(a=w,y.done())}).next(()=>a)}addMatchingKeys(n,t,o){const i=[],a=Md(n);return t.forEach(d=>{const f=Si(d.path);i.push(a.put({targetId:o,path:f})),i.push(this.referenceDelegate.addReference(n,o,d))}),ce.waitFor(i)}removeMatchingKeys(n,t,o){const i=Md(n);return ce.forEach(t,a=>{const d=Si(a.path);return ce.waitFor([i.delete([o,d]),this.referenceDelegate.removeReference(n,o,a)])})}removeMatchingKeysForTargetId(n,t){const o=Md(n),i=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(i)}getMatchingKeysForTargetId(n,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),i=Md(n);let a=Wt();return i.J({range:o,H:!0},(d,f,y)=>{const w=Bu(d[1]),D=new nt(w);a=a.add(D)}).next(()=>a)}containsKey(n,t){const o=Si(t.path),i=IDBKeyRange.bound([o],[cZ(o)],!1,!0);let a=0;return Md(n).J({index:"documentTargetsIndex",H:!0,range:i},([d,f],y,w)=>{0!==d&&(a++,w.done())}).next(()=>a>0)}te(n,t){return Kg(n).get(t).next(o=>o?kv(o):null)}}function Kg(r){return So(r,"targets")}function qk(r){return So(r,"targetGlobal")}function Md(r){return So(r,"targetDocuments")}function Vk([r,n],[t,o]){const i=Gt(r,t);return 0===i?Gt(n,o):i}class nO{constructor(n){this.Sn=n,this.buffer=new Gn(Vk),this.Dn=0}Cn(){return++this.Dn}xn(n){const t=[n,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Vk(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rO{constructor(n,t,o){this.garbageCollector=n,this.asyncQueue=t,this.localStore=o,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(n){var t=this;qe("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Ae.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){Ed(o)?qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Id(o)}yield t.kn(3e5)}))}}class oO{constructor(n,t){this.On=n,this.params=t}calculateTargetCount(n,t){return this.On.Mn(n).next(o=>Math.floor(t/100*o))}nthSequenceNumber(n,t){if(0===t)return ce.resolve(Ki.ot);const o=new nO(t);return this.On.forEachTarget(n,i=>o.xn(i.sequenceNumber)).next(()=>this.On.Fn(n,i=>o.xn(i))).next(()=>o.maxValue)}removeTargets(n,t,o){return this.On.removeTargets(n,t,o)}removeOrphanedDocuments(n,t){return this.On.removeOrphanedDocuments(n,t)}collect(n,t){return-1===this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(Ok)):this.getCacheSize(n).next(o=>o<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ok):this.$n(n,t))}getCacheSize(n){return this.On.getCacheSize(n)}$n(n,t){let o,i,a,d,f,y,w;const D=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,d=Date.now(),this.nthSequenceNumber(n,i))).next(x=>(o=x,f=Date.now(),this.removeTargets(n,o,t))).next(x=>(a=x,y=Date.now(),this.removeOrphanedDocuments(n,o))).next(x=>(w=Date.now(),ID()<=_a.in.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-D}ms\n\tDetermined least recently used ${i} in `+(f-d)+`ms\n\tRemoved ${a} targets in `+(y-f)+`ms\n\tRemoved ${x} documents in `+(w-y)+`ms\nTotal Duration: ${w-D}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x})))}}class iO{constructor(n,t){this.db=n,this.garbageCollector=new oO(this,t)}Mn(n){const t=this.Bn(n);return this.db.getTargetCache().getTargetCount(n).next(o=>t.next(i=>o+i))}Bn(n){let t=0;return this.Fn(n,o=>{t++}).next(()=>t)}forEachTarget(n,t){return this.db.getTargetCache().forEachTarget(n,t)}Fn(n,t){return this.Ln(n,(o,i)=>t(i))}addReference(n,t,o){return Aw(n,o)}removeReference(n,t,o){return Aw(n,o)}removeTargets(n,t,o){return this.db.getTargetCache().removeTargets(n,t,o)}markPotentiallyOrphaned(n,t){return Aw(n,t)}Un(n,t){return function(o,i){let a=!1;return Fk(o).Y(d=>Lk(o,d,i).next(f=>(f&&(a=!0),ce.resolve(!f)))).next(()=>a)}(n,t)}removeOrphanedDocuments(n,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Ln(n,(d,f)=>{if(f<=t){const y=this.Un(n,d).next(w=>{if(!w)return a++,o.getEntry(n,d).next(()=>(o.removeEntry(d,Ut.min()),Md(n).delete([0,Si(d.path)])))});i.push(y)}}).next(()=>ce.waitFor(i)).next(()=>o.apply(n)).next(()=>a)}removeTarget(n,t){const o=t.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,o)}updateLimboDocument(n,t){return Aw(n,t)}Ln(n,t){const o=Md(n);let i,a=Ki.ot;return o.J({index:"documentTargetsIndex"},([d,f],{path:y,sequenceNumber:w})=>{0===d?(a!==Ki.ot&&t(new nt(Bu(i)),a),a=w,i=y):a=Ki.ot}).next(()=>{a!==Ki.ot&&t(new nt(Bu(i)),a)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function Aw(r,n){return Md(r).put((o=r.currentSequenceNumber,{targetId:0,path:Si(n.path),sequenceNumber:o}));var o}class Bk{constructor(){this.changes=new kd(n=>n.toString(),(n,t)=>n.isEqual(t)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,t){this.assertNotApplied(),this.changes.set(n,Yn.newInvalidDocument(n).setReadTime(t))}getEntry(n,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?ce.resolve(o):this.getFromCache(n,t)}getEntries(n,t){return this.getAllFromCache(n,t)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class sO{constructor(n){this.wt=n}setIndexManager(n){this.indexManager=n}addEntry(n,t,o){return Up(n).put(o)}removeEntry(n,t,o){return Up(n).delete(function(i,a){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],yw(a),d[d.length-1]]}(t,o))}updateMetadata(n,t){return this.getMetadata(n).next(o=>(o.byteSize+=t,this.qn(n,o)))}getEntry(n,t){let o=Yn.newInvalidDocument(t);return Up(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ov(t))},(i,a)=>{o=this.Kn(t,a)}).next(()=>o)}Gn(n,t){let o={size:0,document:Yn.newInvalidDocument(t)};return Up(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ov(t))},(i,a)=>{o={document:this.Kn(t,a),size:ww(a)}}).next(()=>o)}getEntries(n,t){let o=Yi();return this.Qn(n,t,(i,a)=>{const d=this.Kn(i,a);o=o.insert(i,d)}).next(()=>o)}jn(n,t){let o=Yi(),i=new Dr(nt.comparator);return this.Qn(n,t,(a,d)=>{const f=this.Kn(a,d);o=o.insert(a,f),i=i.insert(a,ww(d))}).next(()=>({documents:o,Wn:i}))}Qn(n,t,o){if(t.isEmpty())return ce.resolve();let i=new Gn(Hk);t.forEach(y=>i=i.add(y));const a=IDBKeyRange.bound(Ov(i.first()),Ov(i.last())),d=i.getIterator();let f=d.getNext();return Up(n).J({index:"documentKeyIndex",range:a},(y,w,D)=>{const x=nt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&Hk(f,x)<0;)o(f,null),f=d.getNext();f&&f.isEqual(x)&&(o(f,w),f=d.hasNext()?d.getNext():null),f?D.q(Ov(f)):D.done()}).next(()=>{for(;f;)o(f,null),f=d.hasNext()?d.getNext():null})}getAllFromCollection(n,t,o){const i=[t.popLast().toArray(),t.lastSegment(),yw(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Up(n).K(IDBKeyRange.bound(i,a,!0)).next(d=>{let f=Yi();for(const y of d){const w=this.Kn(nt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(n,t,o,i){let a=Yi();const d=Gk(t,o),f=Gk(t,xs.max());return Up(n).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(y,w,D)=>{const x=this.Kn(nt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(x.key,x),a.size===i&&D.done()}).next(()=>a)}newChangeBuffer(n){return new aO(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(t=>t.byteSize)}getMetadata(n){return $k(n).get("remoteDocumentGlobalKey").next(t=>(Mt(!!t),t))}qn(n,t){return $k(n).put("remoteDocumentGlobalKey",t)}Kn(n,t){if(t){const o=function HP(r,n){let t;if(n.document)t=pk(r.ne,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const o=nt.fromSegments(n.noDocument.path),i=Dp(n.noDocument.readTime);t=Yn.newNoDocument(o,i),n.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!n.unknownDocument)return _t();{const o=nt.fromSegments(n.unknownDocument.path),i=Dp(n.unknownDocument.version);t=Yn.newUnknownDocument(o,i)}}return n.readTime&&t.setReadTime(function(o){const i=new dr(o[0],o[1]);return Ut.fromTimestamp(i)}(n.readTime)),t}(this.wt,t);if(!o.isNoDocument()||!o.version.isEqual(Ut.min()))return o}return Yn.newInvalidDocument(n)}}function jk(r){return new sO(r)}class aO extends Bk{constructor(n,t){super(),this.zn=n,this.trackRemovals=t,this.Hn=new kd(o=>o.toString(),(o,i)=>o.isEqual(i))}applyChanges(n){const t=[];let o=0,i=new Gn((a,d)=>Gt(a.canonicalString(),d.canonicalString()));return this.changes.forEach((a,d)=>{const f=this.Hn.get(a);if(t.push(this.zn.removeEntry(n,a,f.readTime)),d.isValidDocument()){const y=Ek(this.zn.wt,d);i=i.add(a.path.popLast()),o+=ww(y)-f.size,t.push(this.zn.addEntry(n,a,y))}else if(o-=f.size,this.trackRemovals){const y=Ek(this.zn.wt,d.convertToNoDocument(Ut.min()));t.push(this.zn.addEntry(n,a,y))}}),i.forEach(a=>{t.push(this.zn.indexManager.addToCollectionParentIndex(n,a))}),t.push(this.zn.updateMetadata(n,o)),ce.waitFor(t)}getFromCache(n,t){return this.zn.Gn(n,t).next(o=>(this.Hn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(n,t){return this.zn.jn(n,t).next(({documents:o,Wn:i})=>(i.forEach((a,d)=>{this.Hn.set(a,{size:d,readTime:o.get(a).readTime})}),o))}}function $k(r){return So(r,"remoteDocumentGlobal")}function Up(r){return So(r,"remoteDocumentsV14")}function Ov(r){const n=r.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function Gk(r,n){const t=n.documentKey.path.toArray();return[r,yw(n.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Hk(r,n){const t=r.path.toArray(),o=n.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<o.length-2;++a)if(i=Gt(t[a],o[a]),i)return i;return i=Gt(t.length,o.length),i||(i=Gt(t[t.length-2],o[o.length-2]),i||Gt(t[t.length-1],o[o.length-1]))}class uO{constructor(n,t){this.overlayedDocument=n,this.mutatedFields=t}}class Jk{constructor(n,t,o,i){this.remoteDocumentCache=n,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=i}getDocument(n,t){let o=null;return this.documentOverlayCache.getOverlay(n,t).next(i=>(o=i,this.getBaseDocument(n,t,o))).next(i=>(null!==o&&wv(o.mutation,i,Zs.empty(),dr.now()),i))}getDocuments(n,t){return this.remoteDocumentCache.getEntries(n,t).next(o=>this.getLocalViewOfDocuments(n,o,Wt()).next(()=>o))}getLocalViewOfDocuments(n,t,o=Wt()){const i=qu();return this.populateOverlays(n,i,t).next(()=>this.computeViews(n,t,i,o).next(a=>{let d=bv();return a.forEach((f,y)=>{d=d.insert(f,y.overlayedDocument)}),d}))}getOverlayedDocuments(n,t){const o=qu();return this.populateOverlays(n,o,t).next(()=>this.computeViews(n,t,o,Wt()))}populateOverlays(n,t,o){const i=[];return o.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(n,i).next(a=>{a.forEach((d,f)=>{t.set(d,f)})})}computeViews(n,t,o,i){let a=Yi();const d=Av(),f=Av();return t.forEach((y,w)=>{const D=o.get(w.key);i.has(w.key)&&(void 0===D||D.mutation instanceof tc)?a=a.insert(w.key,w):void 0!==D&&(d.set(w.key,D.mutation.getFieldMask()),wv(D.mutation,w,D.mutation.getFieldMask(),dr.now()))}),this.recalculateAndSaveOverlays(n,a).next(y=>(y.forEach((w,D)=>d.set(w,D)),t.forEach((w,D)=>{var x;return f.set(w,new uO(D,null!==(x=d.get(w))&&void 0!==x?x:null))}),f))}recalculateAndSaveOverlays(n,t){const o=Av();let i=new Dr((d,f)=>d-f),a=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,t).next(d=>{for(const f of d)f.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let D=o.get(y)||Zs.empty();D=f.applyToLocalView(w,D),o.set(y,D);const x=(i.get(f.batchId)||Wt()).add(y);i=i.insert(f.batchId,x)})}).next(()=>{const d=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),w=y.key,D=y.value,x=nk();D.forEach(O=>{if(!a.has(O)){const H=JZ(t.get(O),o.get(O));null!==H&&x.set(O,H),a=a.add(O)}}),d.push(this.documentOverlayCache.saveOverlays(n,w,x))}return ce.waitFor(d)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(n,t){return this.remoteDocumentCache.getEntries(n,t).next(o=>this.recalculateAndSaveOverlays(n,o))}getDocumentsMatchingQuery(n,t,o){return nt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(n,t.path):OD(t)?this.getDocumentsMatchingCollectionGroupQuery(n,t,o):this.getDocumentsMatchingCollectionQuery(n,t,o);var i}getNextDocuments(n,t,o,i){return this.remoteDocumentCache.getAllFromCollectionGroup(n,t,o,i).next(a=>{const d=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,t,o.largestBatchId,i-a.size):ce.resolve(qu());let f=-1,y=a;return d.next(w=>ce.forEach(w,(D,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),a.get(D)?ce.resolve():this.getBaseDocument(n,D,x).next(O=>{y=y.insert(D,O)}))).next(()=>this.populateOverlays(n,w,a)).next(()=>this.computeViews(n,y,w,Wt())).next(D=>({batchId:f,changes:tk(D)})))})}getDocumentsMatchingDocumentQuery(n,t){return this.getDocument(n,new nt(t)).next(o=>{let i=bv();return o.isFoundDocument()&&(i=i.insert(o.key,o)),i})}getDocumentsMatchingCollectionGroupQuery(n,t,o){const i=t.collectionGroup;let a=bv();return this.indexManager.getCollectionParents(n,i).next(d=>ce.forEach(d,f=>{const y=(w=t,D=f.child(i),new ec(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,D;return this.getDocumentsMatchingCollectionQuery(n,y,o).next(w=>{w.forEach((D,x)=>{a=a.insert(D,x)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(n,t,o){let i;return this.remoteDocumentCache.getAllFromCollection(n,t.path,o).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(n,t.path,o.largestBatchId))).next(a=>{a.forEach((f,y)=>{const w=y.getKey();null===i.get(w)&&(i=i.insert(w,Yn.newInvalidDocument(w)))});let d=bv();return i.forEach((f,y)=>{const w=a.get(f);void 0!==w&&wv(w.mutation,y,Zs.empty(),dr.now()),LD(t,y)&&(d=d.insert(f,y))}),d})}getBaseDocument(n,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(n,t):ce.resolve(Yn.newInvalidDocument(t))}}class lO{constructor(n){this.wt=n,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(n,t){return ce.resolve(this.Jn.get(t))}saveBundleMetadata(n,t){var o;return this.Jn.set(t.id,{id:(o=t).id,version:o.version,createTime:Do(o.createTime)}),ce.resolve()}getNamedQuery(n,t){return ce.resolve(this.Yn.get(t))}saveNamedQuery(n,t){return this.Yn.set(t.name,{name:(o=t).name,query:JD(o.bundledQuery),readTime:Do(o.readTime)}),ce.resolve();var o}}class cO{constructor(){this.overlays=new Dr(nt.comparator),this.Xn=new Map}getOverlay(n,t){return ce.resolve(this.overlays.get(t))}getOverlays(n,t){const o=qu();return ce.forEach(t,i=>this.getOverlay(n,i).next(a=>{null!==a&&o.set(i,a)})).next(()=>o)}saveOverlays(n,t,o){return o.forEach((i,a)=>{this.ie(n,t,a)}),ce.resolve()}removeOverlaysForBatchId(n,t,o){const i=this.Xn.get(o);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Xn.delete(o)),ce.resolve()}getOverlaysForCollection(n,t,o){const i=qu(),a=t.length+1,d=new nt(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const y=f.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&y.largestBatchId>o&&i.set(y.getKey(),y)}return ce.resolve(i)}getOverlaysForCollectionGroup(n,t,o,i){let a=new Dr((w,D)=>w-D);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>o){let D=a.get(w.largestBatchId);null===D&&(D=qu(),a=a.insert(w.largestBatchId,D)),D.set(w.getKey(),w)}}const f=qu(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,D)=>f.set(w,D)),!(f.size()>=i)););return ce.resolve(f)}ie(n,t,o){const i=this.overlays.get(o.key);if(null!==i){const d=this.Xn.get(i.largestBatchId).delete(o.key);this.Xn.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(o.key,new HD(t,o));let a=this.Xn.get(t);void 0===a&&(a=Wt(),this.Xn.set(t,a)),this.Xn.set(t,a.add(o.key))}}class QD{constructor(){this.Zn=new Gn(xo.ts),this.es=new Gn(xo.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,t){const o=new xo(n,t);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(n,t){n.forEach(o=>this.addReference(o,t))}removeReference(n,t){this.rs(new xo(n,t))}os(n,t){n.forEach(o=>this.removeReference(o,t))}us(n){const t=new nt(new yn([])),o=new xo(t,n),i=new xo(t,n+1),a=[];return this.es.forEachInRange([o,i],d=>{this.rs(d),a.push(d.key)}),a}cs(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const t=new nt(new yn([])),o=new xo(t,n),i=new xo(t,n+1);let a=Wt();return this.es.forEachInRange([o,i],d=>{a=a.add(d.key)}),a}containsKey(n){const t=new xo(n,0),o=this.Zn.firstAfterOrEqual(t);return null!==o&&n.isEqual(o.key)}}class xo{constructor(n,t){this.key=n,this.ls=t}static ts(n,t){return nt.comparator(n.key,t.key)||Gt(n.ls,t.ls)}static ns(n,t){return Gt(n.ls,t.ls)||nt.comparator(n.key,t.key)}}class dO{constructor(n,t){this.indexManager=n,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Gn(xo.ts)}checkEmpty(n){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(n,t,o,i){const a=this.fs;this.fs++;const d=new $D(a,t,o,i);this.mutationQueue.push(d);for(const f of i)this.ds=this.ds.add(new xo(f.key,a)),this.indexManager.addToCollectionParentIndex(n,f.key.path.popLast());return ce.resolve(d)}lookupMutationBatch(n,t){return ce.resolve(this._s(t))}getNextMutationBatchAfterBatchId(n,t){const i=this.ws(t+1),a=i<0?0:i;return ce.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(n){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,t){const o=new xo(t,0),i=new xo(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([o,i],d=>{const f=this._s(d.ls);a.push(f)}),ce.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(n,t){let o=new Gn(Gt);return t.forEach(i=>{const a=new xo(i,0),d=new xo(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([a,d],f=>{o=o.add(f.ls)})}),ce.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(n,t){const o=t.path,i=o.length+1;let a=o;nt.isDocumentKey(a)||(a=a.child(""));const d=new xo(new nt(a),0);let f=new Gn(Gt);return this.ds.forEachWhile(y=>{const w=y.key.path;return!!o.isPrefixOf(w)&&(w.length===i&&(f=f.add(y.ls)),!0)},d),ce.resolve(this.gs(f))}gs(n){const t=[];return n.forEach(o=>{const i=this._s(o);null!==i&&t.push(i)}),t}removeMutationBatch(n,t){Mt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let o=this.ds;return ce.forEach(t.mutations,i=>{const a=new xo(i.key,t.batchId);return o=o.delete(a),this.referenceDelegate.markPotentiallyOrphaned(n,i.key)}).next(()=>{this.ds=o})}In(n){}containsKey(n,t){const o=new xo(t,0),i=this.ds.firstAfterOrEqual(o);return ce.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(n){return ce.resolve()}ys(n,t){return this.ws(n)}ws(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}_s(n){const t=this.ws(n);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class hO{constructor(n){this.ps=n,this.docs=new Dr(nt.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,t){const o=t.key,i=this.docs.get(o),a=i?i.size:0,d=this.ps(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:d}),this.size+=d-a,this.indexManager.addToCollectionParentIndex(n,o.path.popLast())}removeEntry(n){const t=this.docs.get(n);t&&(this.docs=this.docs.remove(n),this.size-=t.size)}getEntry(n,t){const o=this.docs.get(t);return ce.resolve(o?o.document.mutableCopy():Yn.newInvalidDocument(t))}getEntries(n,t){let o=Yi();return t.forEach(i=>{const a=this.docs.get(i);o=o.insert(i,a?a.document.mutableCopy():Yn.newInvalidDocument(i))}),ce.resolve(o)}getAllFromCollection(n,t,o){let i=Yi();const a=new nt(t.child("")),d=this.docs.getIteratorFrom(a);for(;d.hasNext();){const{key:f,value:{document:y}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||SD(hZ(y),o)<=0||(i=i.insert(y.key,y.mutableCopy()))}return ce.resolve(i)}getAllFromCollectionGroup(n,t,o,i){_t()}Is(n,t){return ce.forEach(this.docs,o=>t(o))}newChangeBuffer(n){return new pO(this)}getSize(n){return ce.resolve(this.size)}}class pO extends Bk{constructor(n){super(),this.zn=n}applyChanges(n){const t=[];return this.changes.forEach((o,i)=>{i.isValidDocument()?t.push(this.zn.addEntry(n,i)):this.zn.removeEntry(o)}),ce.waitFor(t)}getFromCache(n,t){return this.zn.getEntry(n,t)}getAllFromCache(n,t){return this.zn.getEntries(n,t)}}class fO{constructor(n){this.persistence=n,this.Ts=new kd(t=>bp(t),vv),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Es=0,this.As=new QD,this.targetCount=0,this.Rs=Np.An()}forEachTarget(n,t){return this.Ts.forEach((o,i)=>t(i)),ce.resolve()}getLastRemoteSnapshotVersion(n){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return ce.resolve(this.Es)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(n,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Es&&(this.Es=t),ce.resolve()}vn(n){this.Ts.set(n.target,n);const t=n.targetId;t>this.highestTargetId&&(this.Rs=new Np(t),this.highestTargetId=t),n.sequenceNumber>this.Es&&(this.Es=n.sequenceNumber)}addTargetData(n,t){return this.vn(t),this.targetCount+=1,ce.resolve()}updateTargetData(n,t){return this.vn(t),ce.resolve()}removeTargetData(n,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(n,t,o){let i=0;const a=[];return this.Ts.forEach((d,f)=>{f.sequenceNumber<=t&&null===o.get(f.targetId)&&(this.Ts.delete(d),a.push(this.removeMatchingKeysForTargetId(n,f.targetId)),i++)}),ce.waitFor(a).next(()=>i)}getTargetCount(n){return ce.resolve(this.targetCount)}getTargetData(n,t){const o=this.Ts.get(t)||null;return ce.resolve(o)}addMatchingKeys(n,t,o){return this.As.ss(t,o),ce.resolve()}removeMatchingKeys(n,t,o){this.As.os(t,o);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(d=>{a.push(i.markPotentiallyOrphaned(n,d))}),ce.waitFor(a)}removeMatchingKeysForTargetId(n,t){return this.As.us(t),ce.resolve()}getMatchingKeysForTargetId(n,t){const o=this.As.hs(t);return ce.resolve(o)}containsKey(n,t){return ce.resolve(this.As.containsKey(t))}}class Wk{constructor(n,t){this.bs={},this.overlays={},this.Ps=new Ki(0),this.vs=!1,this.vs=!0,this.referenceDelegate=n(this),this.Vs=new fO(this),this.indexManager=new XP,this.remoteDocumentCache=new hO(o=>this.referenceDelegate.Ss(o)),this.wt=new Ik(t),this.Ds=new lO(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let t=this.overlays[n.toKey()];return t||(t=new cO,this.overlays[n.toKey()]=t),t}getMutationQueue(n,t){let o=this.bs[n.toKey()];return o||(o=new dO(t,this.referenceDelegate),this.bs[n.toKey()]=o),o}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(n,t,o){qe("MemoryPersistence","Starting transaction:",n);const i=new gO(this.Ps.next());return this.referenceDelegate.Cs(),o(i).next(a=>this.referenceDelegate.xs(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ns(n,t){return ce.or(Object.values(this.bs).map(o=>()=>o.containsKey(n,t)))}}class gO extends fZ{constructor(n){super(),this.currentSequenceNumber=n}}class Iw{constructor(n){this.persistence=n,this.ks=new QD,this.Os=null}static Ms(n){return new Iw(n)}get Fs(){if(this.Os)return this.Os;throw _t()}addReference(n,t,o){return this.ks.addReference(o,t),this.Fs.delete(o.toString()),ce.resolve()}removeReference(n,t,o){return this.ks.removeReference(o,t),this.Fs.add(o.toString()),ce.resolve()}markPotentiallyOrphaned(n,t){return this.Fs.add(t.toString()),ce.resolve()}removeTarget(n,t){this.ks.us(t.targetId).forEach(i=>this.Fs.add(i.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(n,t.targetId).next(i=>{i.forEach(a=>this.Fs.add(a.toString()))}).next(()=>o.removeTargetData(n,t))}Cs(){this.Os=new Set}xs(n){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Fs,o=>{const i=nt.fromPath(o);return this.$s(n,i).next(a=>{a||t.removeEntry(i,Ut.min())})}).next(()=>(this.Os=null,t.apply(n)))}updateLimboDocument(n,t){return this.$s(n,t).next(o=>{o?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(n){return 0}$s(n,t){return ce.or([()=>ce.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(n,t),()=>this.persistence.Ns(n,t)])}}class mO{constructor(n){this.wt=n}O(n,t,o,i){const a=new sw("createOrUpgrade",t);var f;o<1&&i>=1&&(n.createObjectStore("owner"),(f=n).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ck,{unique:!0}),f.createObjectStore("documentMutations"),zk(n),function(f){f.createObjectStore("remoteDocuments")}(n));let d=ce.resolve();return o<3&&i>=3&&(0!==o&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(n),zk(n)),d=d.next(()=>function(f){const y=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ut.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(a))),o<4&&i>=4&&(0!==o&&(d=d.next(()=>function(f,y){return y.store("mutations").K().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ck,{unique:!0});const D=y.store("mutations"),x=w.map(O=>D.put(O));return ce.waitFor(x)})}(n,a))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),o<5&&i>=5&&(d=d.next(()=>this.Bs(a))),o<6&&i>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(n),this.Ls(a)))),o<7&&i>=7&&(d=d.next(()=>this.Us(a))),o<8&&i>=8&&(d=d.next(()=>this.qs(n,a))),o<9&&i>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(n)})),o<10&&i>=10&&(d=d.next(()=>this.Ks(a))),o<11&&i>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),o<12&&i>=12&&(d=d.next(()=>{!function(f){const y=f.createObjectStore("documentOverlays",{keyPath:VP});y.createIndex("collectionPathOverlayIndex",BP,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",jP,{unique:!1})}(n)})),o<13&&i>=13&&(d=d.next(()=>function(f){const y=f.createObjectStore("remoteDocumentsV14",{keyPath:ZP});y.createIndex("documentKeyIndex",kP),y.createIndex("collectionGroupIndex",NP)}(n)).next(()=>this.Gs(n,a)).next(()=>n.deleteObjectStore("remoteDocuments"))),o<14&&i>=14&&(d=d.next(()=>this.Qs(n,a))),o<15&&i>=15&&(d=d.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:RP}).createIndex("sequenceNumberIndex",LP,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:FP}).createIndex("documentKeyIndex",qP,{unique:!1})}(n))),d}Ls(n){let t=0;return n.store("remoteDocuments").J((o,i)=>{t+=ww(i)}).next(()=>{const o={byteSize:t};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Bs(n){const t=n.store("mutationQueues"),o=n.store("mutations");return t.K().next(i=>ce.forEach(i,a=>{const d=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.K("userMutationsIndex",d).next(f=>ce.forEach(f,y=>{Mt(y.userId===a.userId);const w=Sp(this.wt,y);return Rk(n,a.userId,w).next(()=>{})}))}))}Us(n){const t=n.store("targetDocuments"),o=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return o.J((d,f)=>{const y=new yn(d),w=[0,Si(y)];a.push(t.get(w).next(D=>D?ce.resolve():t.put({targetId:0,path:Si(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ce.waitFor(a))})}qs(n,t){n.createObjectStore("collectionParents",{keyPath:OP});const o=t.store("collectionParents"),i=new zD,a=d=>{if(i.add(d)){const f=d.lastSegment(),y=d.popLast();return o.put({collectionId:f,parent:Si(y)})}};return t.store("remoteDocuments").J({H:!0},(d,f)=>{const y=new yn(d);return a(y.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([d,f,y],w)=>{const D=Bu(f);return a(D.popLast())}))}Ks(n){const t=n.store("targets");return t.J((o,i)=>{const a=kv(i),d=Dk(this.wt,a);return t.put(d)})}Gs(n,t){const o=t.store("remoteDocuments"),i=[];return o.J((a,d)=>{const f=t.store("remoteDocumentsV14"),y=(w=d,w.document?new nt(yn.fromString(w.document.name).popFirst(5)):w.noDocument?nt.fromSegments(w.noDocument.path):w.unknownDocument?nt.fromSegments(w.unknownDocument.path):_t()).path.toArray();var w;const D={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(f.put(D))}).next(()=>ce.waitFor(i))}Qs(n,t){const o=t.store("mutations"),i=jk(this.wt),a=new Wk(Iw.Ms,this.wt.ne);return o.K().next(d=>{const f=new Map;return d.forEach(y=>{var w;let D=null!==(w=f.get(y.userId))&&void 0!==w?w:Wt();Sp(this.wt,y).keys().forEach(x=>D=D.add(x)),f.set(y.userId,D)}),ce.forEach(f,(y,w)=>{const D=new Io(w),x=vw.se(this.wt,D),O=a.getIndexManager(D),H=bw.se(D,this.wt,O,a.referenceDelegate);return new Jk(i,H,x,O).recalculateAndSaveOverlaysForDocumentKeys(new jD(t,Ki.ot),y).next()})})}}function zk(r){r.createObjectStore("targetDocuments",{keyPath:MP}).createIndex("documentTargetsIndex",PP,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",UP,{unique:!0}),r.createObjectStore("targetGlobal")}const KD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class YD{constructor(n,t,o,i,a,d,f,y,w,D,x=14){if(this.allowTabSynchronization=n,this.persistenceKey=t,this.clientId=o,this.js=a,this.window=d,this.document=f,this.Ws=w,this.zs=D,this.Hs=x,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=O=>Promise.resolve(),!YD.V())throw new Oe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new iO(this,i),this.ei=t+"main",this.wt=new Ik(y),this.ni=new tu(this.ei,this.Hs,new mO(this.wt)),this.Vs=new tO(this.referenceDelegate,this.wt),this.remoteDocumentCache=jk(this.wt),this.Ds=new JP,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===D&&Xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,KD);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Vs.getHighestSequenceNumber(n))}).then(n=>{this.Ps=new Ki(n,this.Ws)}).then(()=>{this.vs=!0}).catch(n=>(this.ni&&this.ni.close(),Promise.reject(n)))}ci(n){var t=this;return this.ti=function(){var o=(0,Ae.Z)(function*(i){if(t.started)return n(i)});return function(i){return o.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.ni.F(function(){var t=(0,Ae.Z)(function*(o){null===o.newVersion&&(yield n())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(n){var t=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.js.enqueueAndForget((0,Ae.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>Ew(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(n).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(n)).next(t=>this.isPrimary&&!t?this.li(n).next(()=>!1):!!t&&this.fi(n).next(()=>!0))).catch(n=>{if(Ed(n))return qe("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return qe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.js.enqueueRetryable(()=>this.ti(n)),this.isPrimary=n})}ai(n){return Rv(n).get("owner").next(t=>ce.resolve(this.di(t)))}_i(n){return Ew(n).delete(this.clientId)}wi(){var n=this;return(0,Ae.Z)(function*(){if(n.isPrimary&&!n.mi(n.Zs,18e5)){n.Zs=Date.now();const t=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const i=So(o,"clientMetadata");return i.K().next(a=>{const d=n.gi(a,18e5),f=a.filter(y=>-1===d.indexOf(y));return ce.forEach(f,y=>i.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(n.si)for(const o of t)n.si.removeItem(n.yi(o.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(n){return!!n&&n.ownerId===this.clientId}hi(n){return this.zs?ce.resolve(!0):Rv(n).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,KD);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ew(n).K().next(o=>void 0===this.gi(o,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&qe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var n=this;return(0,Ae.Z)(function*(){n.vs=!1,n.Ii(),n.Xs&&(n.Xs.cancel(),n.Xs=null),n.Ti(),n.Ei(),yield n.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new jD(t,Ki.ot);return n.li(o).next(()=>n._i(o))}),n.ni.close(),n.Ai()})()}gi(n,t){return n.filter(o=>this.mi(o.updateTimeMs,t)&&!this.pi(o.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",n=>Ew(n).K().next(t=>this.gi(t,18e5).map(o=>o.clientId)))}get started(){return this.vs}getMutationQueue(n,t){return bw.se(n,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new eO(n,this.wt.ne.databaseId)}getDocumentOverlayCache(n){return vw.se(this.wt,n)}getBundleCache(){return this.Ds}runTransaction(n,t,o){qe("IndexedDbPersistence","Starting transaction:",n);const i="readonly"===t?"readonly":"readwrite",a=15===(d=this.Hs)?GP:14===d?Ak:13===d?bk:12===d?$P:11===d?wk:void _t();var d;let f;return this.ni.runTransaction(n,i,a,y=>(f=new jD(y,this.Ps?this.Ps.next():Ki.ot),"readwrite-primary"===t?this.ai(f).next(w=>!!w||this.hi(f)).next(w=>{if(!w)throw Xr(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Oe(me.FAILED_PRECONDITION,pZ);return o(f)}).next(w=>this.fi(f).next(()=>w)):this.bi(f).next(()=>o(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}bi(n){return Rv(n).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(me.FAILED_PRECONDITION,KD)})}fi(n){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Rv(n).put("owner",t)}static V(){return tu.V()}li(n){const t=Rv(n);return t.get("owner").next(o=>this.di(o)?(qe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ce.resolve())}mi(n,t){const o=Date.now();return!(n<o-t||n>o&&(Xr(`Detected an update time that is in the future: ${n} > ${o}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Jt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(n){var t;try{const o=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(n)));return qe("IndexedDbPersistence",`Client '${n}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Xr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(n){Xr("Failed to set zombie client id.",n)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(n){}}yi(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Rv(r){return So(r,"owner")}function Ew(r){return So(r,"clientMetadata")}function XD(r,n){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+n+"/"+t+"/"}class eS{constructor(n,t,o,i){this.targetId=n,this.fromCache=t,this.Pi=o,this.vi=i}static Vi(n,t){let o=Wt(),i=Wt();for(const a of t.docChanges)switch(a.type){case 0:o=o.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new eS(n,t.fromCache,o,i)}}class Qk{constructor(){this.Si=!1}initialize(n,t){this.Di=n,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(n,t,o,i){return this.Ci(n,t).next(a=>a||this.xi(n,t,i,o)).next(a=>a||this.Ni(n,t))}Ci(n,t){return ce.resolve(null)}xi(n,t,o,i){return function tP(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(Ut.min())?this.Ni(n,t):this.Di.getDocuments(n,o).next(a=>{const d=this.ki(t,a);return this.Oi(t,d,o,i)?this.Ni(n,t):(ID()<=_a.in.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),RD(t)),this.Mi(n,d,t,dZ(i,-1)))})}ki(n,t){let o=new Gn(LZ(n));return t.forEach((i,a)=>{LD(n,a)&&(o=o.add(a))}),o}Oi(n,t,o,i){if(null===n.limit)return!1;if(o.size!==t.size)return!0;const a="F"===n.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ni(n,t){return ID()<=_a.in.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",RD(t)),this.Di.getDocumentsMatchingQuery(n,t,xs.min())}Mi(n,t,o,i){return this.Di.getDocumentsMatchingQuery(n,o,i).next(a=>(t.forEach(d=>{a=a.insert(d.key,d)}),a))}}class _O{constructor(n,t,o,i){this.persistence=n,this.Fi=t,this.wt=i,this.$i=new Dr(Gt),this.Bi=new kd(a=>bp(a),vv),this.Li=new Map,this.Ui=n.getRemoteDocumentCache(),this.Vs=n.getTargetCache(),this.Ds=n.getBundleCache(),this.qi(o)}qi(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new Jk(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>n.collect(t,this.$i))}}function Kk(r,n,t,o){return new _O(r,n,t,o)}function Yk(r,n){return tS.apply(this,arguments)}function tS(){return tS=(0,Ae.Z)(function*(r,n){const t=ot(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let i;return t.mutationQueue.getAllMutationBatches(o).next(a=>(i=a,t.qi(n),t.mutationQueue.getAllMutationBatches(o))).next(a=>{const d=[],f=[];let y=Wt();for(const w of i){d.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}for(const w of a){f.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}return t.localDocuments.getDocuments(o,y).next(w=>({Ki:w,removedBatchIds:d,addedBatchIds:f}))})})}),tS.apply(this,arguments)}function yO(r,n){const t=ot(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const i=n.batch.keys(),a=t.Ui.newChangeBuffer({trackRemovals:!0});return function(d,f,y,w){const D=y.batch,x=D.keys();let O=ce.resolve();return x.forEach(H=>{O=O.next(()=>w.getEntry(f,H)).next(ne=>{const Ne=y.docVersions.get(H);Mt(null!==Ne),ne.version.compareTo(Ne)<0&&(D.applyToRemoteDocument(ne,y),ne.isValidDocument()&&(ne.setReadTime(y.commitVersion),w.addEntry(ne)))})}),O.next(()=>d.mutationQueue.removeMutationBatch(f,D))}(t,o,n,a).next(()=>a.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,i,n.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(d){let f=Wt();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(f=f.add(d.batch.mutations[y].key));return f}(n))).next(()=>t.localDocuments.getDocuments(o,i))})}function Xk(r){const n=ot(r);return n.persistence.runTransaction("Get last remote snapshot version","readonly",t=>n.Vs.getLastRemoteSnapshotVersion(t))}function vO(r,n){const t=ot(r),o=n.snapshotVersion;let i=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const d=t.Ui.newChangeBuffer({trackRemovals:!0});i=t.$i;const f=[];n.targetChanges.forEach((D,x)=>{const O=i.get(x);if(!O)return;f.push(t.Vs.removeMatchingKeys(a,D.removedDocuments,x).next(()=>t.Vs.addMatchingKeys(a,D.addedDocuments,x)));let H=O.withSequenceNumber(a.currentSequenceNumber);var ne,Ne,$e;n.targetMismatches.has(x)?H=H.withResumeToken(fo.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):D.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(D.resumeToken,o)),i=i.insert(x,H),Ne=H,$e=D,(0===(ne=O).resumeToken.approximateByteSize()||Ne.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=3e8||$e.addedDocuments.size+$e.modifiedDocuments.size+$e.removedDocuments.size>0)&&f.push(t.Vs.updateTargetData(a,H))});let y=Yi(),w=Wt();if(n.documentUpdates.forEach(D=>{n.resolvedLimboDocuments.has(D)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,D))}),f.push(eN(a,d,n.documentUpdates).next(D=>{y=D.Gi,w=D.Qi})),!o.isEqual(Ut.min())){const D=t.Vs.getLastRemoteSnapshotVersion(a).next(x=>t.Vs.setTargetsMetadata(a,a.currentSequenceNumber,o));f.push(D)}return ce.waitFor(f).next(()=>d.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,w)).next(()=>y)}).then(a=>(t.$i=i,a))}function eN(r,n,t){let o=Wt(),i=Wt();return t.forEach(a=>o=o.add(a)),n.getEntries(r,o).next(a=>{let d=Yi();return t.forEach((f,y)=>{const w=a.get(f);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(Ut.min())?(n.removeEntry(f,y.readTime),d=d.insert(f,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(n.addEntry(y),d=d.insert(f,y)):qe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",y.version)}),{Gi:d,Qi:i}})}function CO(r,n){const t=ot(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===n&&(n=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,n)))}function Yg(r,n){const t=ot(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let i;return t.Vs.getTargetData(o,n).next(a=>a?(i=a,ce.resolve(i)):t.Vs.allocateTargetId(o).next(d=>(i=new Nd(n,d,0,o.currentSequenceNumber),t.Vs.addTargetData(o,i).next(()=>i))))}).then(o=>{const i=t.$i.get(o.targetId);return(null===i||o.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.$i=t.$i.insert(o.targetId,o),t.Bi.set(n,o.targetId)),o})}function Xg(r,n,t){return nS.apply(this,arguments)}function nS(){return nS=(0,Ae.Z)(function*(r,n,t){const o=ot(r),i=o.$i.get(n),a=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",a,d=>o.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Ed(d))throw d;qe("LocalStore",`Failed to update sequence numbers for target ${n}: ${d}`)}o.$i=o.$i.remove(n),o.Bi.delete(i.target)}),nS.apply(this,arguments)}function Dw(r,n,t){const o=ot(r);let i=Ut.min(),a=Wt();return o.persistence.runTransaction("Execute query","readonly",d=>function(f,y,w){const D=ot(f),x=D.Bi.get(w);return void 0!==x?ce.resolve(D.$i.get(x)):D.Vs.getTargetData(y,w)}(o,d,ya(n)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,o.Vs.getMatchingKeysForTargetId(d,f.targetId).next(y=>{a=y})}).next(()=>o.Fi.getDocumentsMatchingQuery(d,n,t?i:Ut.min(),t?a:Wt())).next(f=>(rN(o,RZ(n),f),{documents:f,ji:a})))}function tN(r,n){const t=ot(r),o=ot(t.Vs),i=t.$i.get(n);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>o.te(a,n).next(d=>d?d.target:null))}function nN(r,n){const t=ot(r),o=t.Li.get(n)||Ut.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Ui.getAllFromCollectionGroup(i,n,dZ(o,-1),Number.MAX_SAFE_INTEGER)).then(i=>(rN(t,n,i),i))}function rN(r,n,t){let o=Ut.min();t.forEach((i,a)=>{a.readTime.compareTo(o)>0&&(o=a.readTime)}),r.Li.set(n,o)}function rS(){return rS=(0,Ae.Z)(function*(r,n,t,o){const i=ot(r);let a=Wt(),d=Yi();for(const w of t){const D=n.Wi(w.metadata.name);w.document&&(a=a.add(D));const x=n.zi(w);x.setReadTime(n.Hi(w.metadata.readTime)),d=d.insert(D,x)}const f=i.Ui.newChangeBuffer({trackRemovals:!0}),y=yield Yg(i,(w=o,ya(Bg(yn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>eN(w,f,d).next(D=>(f.apply(w),D)).next(D=>i.Vs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.Vs.addMatchingKeys(w,a,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,D.Gi,D.Qi)).next(()=>D.Gi)))}),rS.apply(this,arguments)}function wO(r,n){return oS.apply(this,arguments)}function oS(){return oS=(0,Ae.Z)(function*(r,n,t=Wt()){const o=yield Yg(r,ya(JD(n.bundledQuery))),i=ot(r);return i.persistence.runTransaction("Save named query","readwrite",a=>{const d=Do(n.readTime);if(o.snapshotVersion.compareTo(d)>=0)return i.Ds.saveNamedQuery(a,n);const f=o.withResumeToken(fo.EMPTY_BYTE_STRING,d);return i.$i=i.$i.insert(f.targetId,f),i.Vs.updateTargetData(a,f).next(()=>i.Vs.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>i.Vs.addMatchingKeys(a,t,o.targetId)).next(()=>i.Ds.saveNamedQuery(a,n))})}),oS.apply(this,arguments)}function oN(r,n){return`firestore_clients_${r}_${n}`}function iN(r,n,t){let o=`firestore_mutations_${r}_${t}`;return n.isAuthenticated()&&(o+=`_${n.uid}`),o}function iS(r,n){return`firestore_targets_${r}_${n}`}class Sw{constructor(n,t,o,i){this.user=n,this.batchId=t,this.state=o,this.error=i}static Ji(n,t,o){const i=JSON.parse(o);let a,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(a=new Oe(i.error.code,i.error.message))),d?new Sw(n,t,i.state,a):(Xr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Yi(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Lv{constructor(n,t,o){this.targetId=n,this.state=t,this.error=o}static Ji(n,t){const o=JSON.parse(t);let i,a="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code,a&&(i=new Oe(o.error.code,o.error.message))),a?new Lv(n,o.state,i):(Xr("SharedClientState",`Failed to parse target state for ID '${n}': ${t}`),null)}Yi(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class xw{constructor(n,t){this.clientId=n,this.activeTargetIds=t}static Ji(n,t){const o=JSON.parse(t);let i="object"==typeof o&&o.activeTargetIds instanceof Array,a=gw();for(let d=0;i&&d<o.activeTargetIds.length;++d)i=CZ(o.activeTargetIds[d]),a=a.add(o.activeTargetIds[d]);return i?new xw(n,a):(Xr("SharedClientState",`Failed to parse client data for instance '${n}': ${t}`),null)}}class sS{constructor(n,t){this.clientId=n,this.onlineState=t}static Ji(n){const t=JSON.parse(n);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new sS(t.clientId,t.onlineState):(Xr("SharedClientState",`Failed to parse online state: ${n}`),null)}}class aS{constructor(){this.activeTargetIds=gw()}Xi(n){this.activeTargetIds=this.activeTargetIds.add(n)}Zi(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Yi(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class uS{constructor(n,t,o,i,a){this.window=n,this.js=t,this.persistenceKey=o,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Dr(Gt),this.started=!1,this.ir=[];const d=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=oN(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new aS),this.cr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,Ae.Z)(function*(){const t=yield n.syncEngine.Ri();for(const i of t){if(i===n.tr)continue;const a=n.getItem(oN(n.persistenceKey,i));if(a){const d=xw.Ji(i,a);d&&(n.sr=n.sr.insert(d.clientId,d))}}n._r();const o=n.storage.getItem(n.lr);if(o){const i=n.wr(o);i&&n.mr(i)}for(const i of n.ir)n.nr(i);n.ir=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.ur,JSON.stringify(n))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(n){let t=!1;return this.sr.forEach((o,i)=>{i.activeTargetIds.has(n)&&(t=!0)}),t}addPendingMutation(n){this.yr(n,"pending")}updateMutationState(n,t,o){this.yr(n,t,o),this.pr(n)}addLocalQueryTarget(n){let t="not-current";if(this.isActiveQueryTarget(n)){const o=this.storage.getItem(iS(this.persistenceKey,n));if(o){const i=Lv.Ji(n,o);i&&(t=i.state)}}return this.Ir.Xi(n),this._r(),t}removeLocalQueryTarget(n){this.Ir.Zi(n),this._r()}isLocalQueryTarget(n){return this.Ir.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(iS(this.persistenceKey,n))}updateQueryState(n,t,o){this.Tr(n,t,o)}handleUserChange(n,t,o){t.forEach(i=>{this.pr(i)}),this.currentUser=n,o.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(n){this.Er(n)}notifyBundleLoaded(n){this.Ar(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(n){const t=this.storage.getItem(n);return qe("SharedClientState","READ",n,t),t}setItem(n,t){qe("SharedClientState","SET",n,t),this.storage.setItem(n,t)}removeItem(n){qe("SharedClientState","REMOVE",n),this.storage.removeItem(n)}nr(n){var t=this;const o=n;if(o.storageArea===this.storage){if(qe("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void Xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Ae.Z)(function*(){if(t.started){if(null!==o.key)if(t.cr.test(o.key)){if(null==o.newValue){const i=t.Rr(o.key);return t.br(i,null)}{const i=t.Pr(o.key,o.newValue);if(i)return t.br(i.clientId,i)}}else if(t.ar.test(o.key)){if(null!==o.newValue){const i=t.vr(o.key,o.newValue);if(i)return t.Vr(i)}}else if(t.hr.test(o.key)){if(null!==o.newValue){const i=t.Sr(o.key,o.newValue);if(i)return t.Dr(i)}}else if(o.key===t.lr){if(null!==o.newValue){const i=t.wr(o.newValue);if(i)return t.mr(i)}}else if(o.key===t.ur){const i=function(a){let d=Ki.ot;if(null!=a)try{const f=JSON.parse(a);Mt("number"==typeof f),d=f}catch(f){Xr("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(o.newValue);i!==Ki.ot&&t.sequenceNumberHandler(i)}else if(o.key===t.dr){const i=t.Cr(o.newValue);yield Promise.all(i.map(a=>t.syncEngine.Nr(a)))}}else t.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(n,t,o){const i=new Sw(this.currentUser,n,t,o),a=iN(this.persistenceKey,this.currentUser,n);this.setItem(a,i.Yi())}pr(n){const t=iN(this.persistenceKey,this.currentUser,n);this.removeItem(t)}Er(n){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:n}))}Tr(n,t,o){const i=iS(this.persistenceKey,n),a=new Lv(n,t,o);this.setItem(i,a.Yi())}Ar(n){const t=JSON.stringify(Array.from(n));this.setItem(this.dr,t)}Rr(n){const t=this.cr.exec(n);return t?t[1]:null}Pr(n,t){const o=this.Rr(n);return xw.Ji(o,t)}vr(n,t){const o=this.ar.exec(n),i=Number(o[1]);return Sw.Ji(new Io(void 0!==o[2]?o[2]:null),i,t)}Sr(n,t){const o=this.hr.exec(n),i=Number(o[1]);return Lv.Ji(i,t)}wr(n){return sS.Ji(n)}Cr(n){return JSON.parse(n)}Vr(n){var t=this;return(0,Ae.Z)(function*(){if(n.user.uid===t.currentUser.uid)return t.syncEngine.kr(n.batchId,n.state,n.error);qe("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Dr(n){return this.syncEngine.Or(n.targetId,n.state,n.error)}br(n,t){const o=t?this.sr.insert(n,t):this.sr.remove(n),i=this.gr(this.sr),a=this.gr(o),d=[],f=[];return a.forEach(y=>{i.has(y)||d.push(y)}),i.forEach(y=>{a.has(y)||f.push(y)}),this.syncEngine.Mr(d,f).then(()=>{this.sr=o})}mr(n){this.sr.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}gr(n){let t=gw();return n.forEach((o,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class sN{constructor(){this.Fr=new aS,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,t,o){}addLocalQueryTarget(n){return this.Fr.Xi(n),this.$r[n]||"not-current"}updateQueryState(n,t,o){this.$r[n]=t}removeLocalQueryTarget(n){this.Fr.Zi(n)}isLocalQueryTarget(n){return this.Fr.activeTargetIds.has(n)}clearQueryState(n){delete this.$r[n]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(n){return this.Fr.activeTargetIds.has(n)}start(){return this.Fr=new aS,Promise.resolve()}handleUserChange(n,t,o){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class bO{Br(n){}shutdown(){}}class aN{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(n){this.Gr.push(n)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.Gr)n(0)}Kr(){qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.Gr)n(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const AO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class IO{constructor(n){this.jr=n.jr,this.Wr=n.Wr}zr(n){this.Hr=n}Jr(n){this.Yr=n}onMessage(n){this.Xr=n}close(){this.Wr()}send(n){this.jr(n)}Zr(){this.Hr()}eo(n){this.Yr(n)}no(n){this.Xr(n)}}class EO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.so=(n.ssl?"https":"http")+"://"+n.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(n,t,o,i,a){const d=this.oo(n,t);qe("RestConnection","Sending: ",d,o);const f={};return this.uo(f,i,a),this.co(n,d,f,o).then(y=>(qe("RestConnection","Received: ",y),y),y=>{throw lv("RestConnection",`${n} failed with error: `,y,"url: ",d,"request:",o),y})}ao(n,t,o,i,a,d){return this.ro(n,t,o,i,a)}uo(n,t,o){n["X-Goog-Api-Client"]="gl-js/ fire/"+Rg,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>n[a]=i),o&&o.headers.forEach((i,a)=>n[a]=i)}oo(n,t){return`${this.so}/v1/${t}:${AO[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}co(n,t,o,i){return new Promise((a,d)=>{const f=new IM;f.listenOnce(wM.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case AD.NO_ERROR:const w=f.getResponseJson();qe("Connection","XHR received:",JSON.stringify(w)),a(w);break;case AD.TIMEOUT:qe("Connection",'RPC "'+n+'" timed out'),d(new Oe(me.DEADLINE_EXCEEDED,"Request time out"));break;case AD.HTTP_ERROR:const D=f.getStatus();if(qe("Connection",'RPC "'+n+'" failed with status:',D,"response text:",f.getResponseText()),D>0){const x=f.getResponseJson().error;if(x&&x.status&&x.message){const O=function(H){const ne=H.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(ne)>=0?ne:me.UNKNOWN}(x.status);d(new Oe(O,x.message))}else d(new Oe(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Oe(me.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{qe("Connection",'RPC "'+n+'" completed.')}});const y=JSON.stringify(i);f.send(t,"POST",y,o,15)})}ho(n,t,o){const i=[this.so,"/","google.firestore.v1.Firestore","/",n,"/channel"],a=av(),d=uv(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new AM({})),this.uo(f.initMessageHeaders,t,o),(0,Jt.uI)()||(0,Jt.b$)()||(0,Jt.d)()||(0,Jt.w1)()||(0,Jt.Mn)()||(0,Jt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const y=i.join("");qe("Connection","Creating WebChannel: "+y,f);const w=a.createWebChannel(y,f);let D=!1,x=!1;const O=new IO({jr:ne=>{x?qe("Connection","Not sending because WebChannel is closed:",ne):(D||(qe("Connection","Opening WebChannel transport."),w.open(),D=!0),qe("Connection","WebChannel sending:",ne),w.send(ne))},Wr:()=>w.close()}),H=(ne,Ne,$e)=>{ne.listen(Ne,mt=>{try{$e(mt)}catch(Pt){setTimeout(()=>{throw Pt},0)}})};return H(w,rw.EventType.OPEN,()=>{x||qe("Connection","WebChannel transport opened.")}),H(w,rw.EventType.CLOSE,()=>{x||(x=!0,qe("Connection","WebChannel transport closed"),O.eo())}),H(w,rw.EventType.ERROR,ne=>{x||(x=!0,lv("Connection","WebChannel transport errored:",ne),O.eo(new Oe(me.UNAVAILABLE,"The operation could not be completed")))}),H(w,rw.EventType.MESSAGE,ne=>{var Ne;if(!x){const $e=ne.data[0];Mt(!!$e);const mt=$e,Pt=mt.error||(null===(Ne=mt[0])||void 0===Ne?void 0:Ne.error);if(Pt){qe("Connection","WebChannel received error:",Pt);const Yt=Pt.status;let It=function(Zn){const di=eo[Zn];if(void 0!==di)return XZ(di)}(Yt),Xt=Pt.message;void 0===It&&(It=me.INTERNAL,Xt="Unknown error status: "+Yt+" with message "+Pt.message),x=!0,O.eo(new Oe(It,Xt)),w.close()}else qe("Connection","WebChannel received:",$e),O.no($e)}}),H(d,bM.STAT_EVENT,ne=>{ne.stat===iZ.PROXY?qe("Connection","Detected buffering proxy"):ne.stat===iZ.NOPROXY&&qe("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.Zr()},0),O}}function uN(){return"undefined"!=typeof window?window:null}function Zw(){return"undefined"!=typeof document?document:null}function Fv(r){return new _P(r,!0)}class lS{constructor(n,t,o=1e3,i=1.5,a=6e4){this.js=n,this.timerId=t,this.lo=o,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(n){this.cancel();const t=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-o);i>0&&qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),n())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class lN{constructor(n,t,o,i,a,d,f,y){this.js=n,this.Ao=o,this.Ro=i,this.bo=a,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new lS(n,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var n=this;return(0,Ae.Z)(function*(){n.Do()&&(yield n.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(n){this.Fo(),this.stream.send(n)}Oo(){var n=this;return(0,Ae.Z)(function*(){if(n.Co())return n.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(n,t){var o=this;return(0,Ae.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==n?o.So.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(Xr(t.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):t&&t.code===me.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=n,yield o.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const n=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,i])=>{this.Po===t&&this.Uo(o,i)},o=>{n(()=>{const i=new Oe(me.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(i)})})}Uo(n,t){const o=this.Lo(this.Po);this.stream=this.Ko(n,t),this.stream.zr(()=>{o(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{o(()=>this.qo(i))}),this.stream.onMessage(i=>{o(()=>this.onMessage(i))})}xo(){var n=this;this.state=5,this.So.Io((0,Ae.Z)(function*(){n.state=0,n.start()}))}qo(n){return qe("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}Lo(n){return t=>{this.js.enqueueAndForget(()=>this.Po===n?t():(qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DO extends lN{constructor(n,t,o,i,a,d){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,i,d),this.wt=a}Ko(n,t){return this.bo.ho("Listen",n,t)}onMessage(n){this.So.reset();const t=function CP(r,n){let t;if("targetChange"in n){const o="NO_CHANGE"===(y=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:_t(),i=n.targetChange.targetIds||[],a=function(y,w){return y.dt?(Mt(void 0===w||"string"==typeof w),fo.fromBase64String(w||"")):(Mt(void 0===w||w instanceof Uint8Array),fo.fromUint8Array(w||new Uint8Array))}(r,n.targetChange.resumeToken),d=n.targetChange.cause,f=d&&function(y){const w=void 0===y.code?me.UNKNOWN:XZ(y.code);return new Oe(w,y.message||"")}(d);t=new ok(o,i,a,f||null)}else if("documentChange"in n){const o=n.documentChange,i=Vu(r,o.document.name),a=Do(o.document.updateTime),d=new Bo({mapValue:{fields:o.document.fields}}),f=Yn.newFoundDocument(i,a,d);t=new mw(o.targetIds||[],o.removedTargetIds||[],f.key,f)}else if("documentDelete"in n){const o=n.documentDelete,i=Vu(r,o.document),a=o.readTime?Do(o.readTime):Ut.min(),d=Yn.newNoDocument(i,a);t=new mw([],o.removedTargetIds||[],d.key,d)}else if("documentRemove"in n){const o=n.documentRemove,i=Vu(r,o.document);t=new mw([],o.removedTargetIds||[],i,null)}else{if(!("filter"in n))return _t();{const o=n.filter,a=new lP(o.count||0);t=new rk(o.targetId,a)}}var y;return t}(this.wt,n),o=function(i){if(!("targetChange"in i))return Ut.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Ut.min():a.readTime?Do(a.readTime):Ut.min()}(n);return this.listener.Go(t,o)}Qo(n){const t={};t.database=xv(this.wt),t.addTarget=function(i,a){let d;const f=a.target;return d=cw(f)?{documents:fk(i,f)}:{query:gk(i,f)},d.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?d.resumeToken=uk(i,a.resumeToken):a.snapshotVersion.compareTo(Ut.min())>0&&(d.readTime=Dv(i,a.snapshotVersion.toTimestamp())),d}(this.wt,n);const o=function wP(r,n){const t=function(o,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _t()}}(0,n.purpose);return null==t?null:{"goog-listen-tags":t}}(0,n);o&&(t.labels=o),this.Mo(t)}jo(n){const t={};t.database=xv(this.wt),t.removeTarget=n,this.Mo(t)}}class SO extends lN{constructor(n,t,o,i,a,d){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,i,d),this.wt=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(n,t){return this.bo.ho("Write",n,t)}onMessage(n){if(Mt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Wo){this.So.reset();const t=function TP(r,n){return r&&r.length>0?(Mt(void 0!==n),r.map(t=>function(o,i){let a=Do(o.updateTime?o.updateTime:i);return a.isEqual(Ut.min())&&(a=Do(i)),new sP(a,o.transformResults||[])}(t,n))):[]}(n.writeResults,n.commitTime),o=Do(n.commitTime);return this.listener.Jo(o,t)}return Mt(!n.writeResults||0===n.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const n={};n.database=xv(this.wt),this.Mo(n)}Ho(n){const t={streamToken:this.lastStreamToken,writes:n.map(o=>Zv(this.wt,o))};this.Mo(t)}}class xO extends class{}{constructor(n,t,o,i){super(),this.authCredentials=n,this.appCheckCredentials=t,this.bo=o,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}ro(n,t,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ro(n,t,o,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(me.UNKNOWN,i.toString())})}ao(n,t,o,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.bo.ao(n,t,o,a,d,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Oe(me.UNKNOWN,a.toString())})}terminate(){this.Zo=!0}}class ZO{constructor(n,t){this.asyncQueue=n,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(n){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.ru("Offline")))}set(n){this.cu(),this.eu=0,"Online"===n&&(this.su=!1),this.ru(n)}ru(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}ou(n){const t=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Xr(t),this.su=!1):qe("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class kO{constructor(n,t,o,i,a){var d=this;this.localStore=n,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(f=>{o.enqueueAndForget((0,Ae.Z)(function*(){var y;Pd(d)&&(qe("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Ae.Z)(function*(w){const D=ot(w);D.lu.add(4),yield em(D),D._u.set("Unknown"),D.lu.delete(4),yield qv(D)}),function(w){return y.apply(this,arguments)})(d))}))}),this._u=new ZO(o,i)}}function qv(r){return cS.apply(this,arguments)}function cS(){return cS=(0,Ae.Z)(function*(r){if(Pd(r))for(const n of r.fu)yield n(!0)}),cS.apply(this,arguments)}function em(r){return dS.apply(this,arguments)}function dS(){return dS=(0,Ae.Z)(function*(r){for(const n of r.fu)yield n(!1)}),dS.apply(this,arguments)}function kw(r,n){const t=ot(r);t.hu.has(n.targetId)||(t.hu.set(n.targetId,n),fS(t)?pS(t):nm(t).Co()&&hS(t,n))}function Vv(r,n){const t=ot(r),o=nm(t);t.hu.delete(n),o.Co()&&cN(t,n),0===t.hu.size&&(o.Co()?o.ko():Pd(t)&&t._u.set("Unknown"))}function hS(r,n){r.wu.Nt(n.targetId),nm(r).Qo(n)}function cN(r,n){r.wu.Nt(n),nm(r).jo(n)}function pS(r){r.wu=new fP({getRemoteKeysForTarget:n=>r.remoteSyncer.getRemoteKeysForTarget(n),te:n=>r.hu.get(n)||null}),nm(r).start(),r._u.iu()}function fS(r){return Pd(r)&&!nm(r).Do()&&r.hu.size>0}function Pd(r){return 0===ot(r).lu.size}function dN(r){r.wu=void 0}function NO(r){return gS.apply(this,arguments)}function gS(){return gS=(0,Ae.Z)(function*(r){r.hu.forEach((n,t)=>{hS(r,n)})}),gS.apply(this,arguments)}function UO(r,n){return mS.apply(this,arguments)}function mS(){return mS=(0,Ae.Z)(function*(r,n){dN(r),fS(r)?(r._u.uu(n),pS(r)):r._u.set("Unknown")}),mS.apply(this,arguments)}function MO(r,n,t){return _S.apply(this,arguments)}function _S(){return _S=(0,Ae.Z)(function*(r,n,t){if(r._u.set("Online"),n instanceof ok&&2===n.state&&n.cause)try{yield(o=(0,Ae.Z)(function*(i,a){const d=a.cause;for(const f of a.targetIds)i.hu.has(f)&&(yield i.remoteSyncer.rejectListen(f,d),i.hu.delete(f),i.wu.removeTarget(f))}),function(i,a){return o.apply(this,arguments)})(r,n)}catch(o){qe("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),o),yield Nw(r,o)}else if(n instanceof mw?r.wu.Ut(n):n instanceof rk?r.wu.zt(n):r.wu.Gt(n),!t.isEqual(Ut.min()))try{const o=yield Xk(r.localStore);t.compareTo(o)>=0&&(yield function(i,a){const d=i.wu.Yt(a);return d.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.hu.get(y);w&&i.hu.set(y,w.withResumeToken(f.resumeToken,a))}}),d.targetMismatches.forEach(f=>{const y=i.hu.get(f);if(!y)return;i.hu.set(f,y.withResumeToken(fo.EMPTY_BYTE_STRING,y.snapshotVersion)),cN(i,f);const w=new Nd(y.target,f,1,y.sequenceNumber);hS(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(r,t))}catch(o){qe("RemoteStore","Failed to raise snapshot:",o),yield Nw(r,o)}var o}),_S.apply(this,arguments)}function Nw(r,n,t){return yS.apply(this,arguments)}function yS(){return yS=(0,Ae.Z)(function*(r,n,t){if(!Ed(n))throw n;r.lu.add(1),yield em(r),r._u.set("Offline"),t||(t=()=>Xk(r.localStore)),r.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){qe("RemoteStore","Retrying IndexedDB access"),yield t(),r.lu.delete(1),yield qv(r)}))}),yS.apply(this,arguments)}function hN(r,n){return n().catch(t=>Nw(r,t,n))}function tm(r){return vS.apply(this,arguments)}function vS(){return vS=(0,Ae.Z)(function*(r){const n=ot(r),t=Od(n);let o=n.au.length>0?n.au[n.au.length-1].batchId:-1;for(;PO(n);)try{const i=yield CO(n.localStore,o);if(null===i){0===n.au.length&&t.ko();break}o=i.batchId,OO(n,i)}catch(i){yield Nw(n,i)}pN(n)&&fN(n)}),vS.apply(this,arguments)}function PO(r){return Pd(r)&&r.au.length<10}function OO(r,n){r.au.push(n);const t=Od(r);t.Co()&&t.zo&&t.Ho(n.mutations)}function pN(r){return Pd(r)&&!Od(r).Do()&&r.au.length>0}function fN(r){Od(r).start()}function RO(r){return CS.apply(this,arguments)}function CS(){return CS=(0,Ae.Z)(function*(r){Od(r).Xo()}),CS.apply(this,arguments)}function LO(r){return TS.apply(this,arguments)}function TS(){return TS=(0,Ae.Z)(function*(r){const n=Od(r);for(const t of r.au)n.Ho(t.mutations)}),TS.apply(this,arguments)}function FO(r,n,t){return wS.apply(this,arguments)}function wS(){return wS=(0,Ae.Z)(function*(r,n,t){const o=r.au.shift(),i=GD.from(o,n,t);yield hN(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),yield tm(r)}),wS.apply(this,arguments)}function qO(r,n){return bS.apply(this,arguments)}function bS(){return bS=(0,Ae.Z)(function*(r,n){var t;n&&Od(r).zo&&(yield(t=(0,Ae.Z)(function*(o,i){if(YZ(a=i.code)&&a!==me.ABORTED){const d=o.au.shift();Od(o).No(),yield hN(o,()=>o.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield tm(o)}var a}),function(o,i){return t.apply(this,arguments)})(r,n)),pN(r)&&fN(r)}),bS.apply(this,arguments)}function gN(r,n){return AS.apply(this,arguments)}function AS(){return AS=(0,Ae.Z)(function*(r,n){const t=ot(r);t.asyncQueue.verifyOperationInProgress(),qe("RemoteStore","RemoteStore received new credentials");const o=Pd(t);t.lu.add(3),yield em(t),o&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(n),t.lu.delete(3),yield qv(t)}),AS.apply(this,arguments)}function IS(r,n){return ES.apply(this,arguments)}function ES(){return ES=(0,Ae.Z)(function*(r,n){const t=ot(r);n?(t.lu.delete(2),yield qv(t)):n||(t.lu.add(2),yield em(t),t._u.set("Unknown"))}),ES.apply(this,arguments)}function nm(r){return r.mu||(r.mu=function(n,t,o){const i=ot(n);return i.tu(),new DO(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,o)}(r.datastore,r.asyncQueue,{zr:NO.bind(null,r),Jr:UO.bind(null,r),Go:MO.bind(null,r)}),r.fu.push(function(){var n=(0,Ae.Z)(function*(t){t?(r.mu.No(),fS(r)?pS(r):r._u.set("Unknown")):(yield r.mu.stop(),dN(r))});return function(t){return n.apply(this,arguments)}}())),r.mu}function Od(r){return r.gu||(r.gu=function(n,t,o){const i=ot(n);return i.tu(),new SO(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,o)}(r.datastore,r.asyncQueue,{zr:RO.bind(null,r),Jr:qO.bind(null,r),Yo:LO.bind(null,r),Jo:FO.bind(null,r)}),r.fu.push(function(){var n=(0,Ae.Z)(function*(t){t?(r.gu.No(),yield tm(r)):(yield r.gu.stop(),r.au.length>0&&(qe("RemoteStore",`Stopping write stream with ${r.au.length} pending writes`),r.au=[]))});return function(t){return n.apply(this,arguments)}}())),r.gu}class DS{constructor(n,t,o,i,a){this.asyncQueue=n,this.timerId=t,this.targetTimeMs=o,this.op=i,this.removalCallback=a,this.deferred=new Eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(n,t,o,i,a){const d=Date.now()+o,f=new DS(n,t,d,i,a);return f.start(o),f}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(me.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rm(r,n){if(Xr("AsyncQueue",`${n}: ${r}`),Ed(r))return new Oe(me.UNAVAILABLE,`${n}: ${r}`);throw r}class om{constructor(n){this.comparator=n?(t,o)=>n(t,o)||nt.comparator(t.key,o.key):(t,o)=>nt.comparator(t.key,o.key),this.keyedMap=bv(),this.sortedSet=new Dr(this.comparator)}static emptySet(n){return new om(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const t=this.keyedMap.get(n);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((t,o)=>(n(t),!1))}add(n){const t=this.delete(n.key);return t.copy(t.keyedMap.insert(n.key,n),t.sortedSet.insert(n,null))}delete(n){const t=this.get(n);return t?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(t)):this}isEqual(n){if(!(n instanceof om)||this.size!==n.size)return!1;const t=this.sortedSet.getIterator(),o=n.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=o.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const n=[];return this.forEach(t=>{n.push(t.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,t){const o=new om;return o.comparator=this.comparator,o.keyedMap=n,o.sortedSet=t,o}}class mN{constructor(){this.yu=new Dr(nt.comparator)}track(n){const t=n.doc.key,o=this.yu.get(t);o?0!==n.type&&3===o.type?this.yu=this.yu.insert(t,n):3===n.type&&1!==o.type?this.yu=this.yu.insert(t,{type:o.type,doc:n.doc}):2===n.type&&2===o.type?this.yu=this.yu.insert(t,{type:2,doc:n.doc}):2===n.type&&0===o.type?this.yu=this.yu.insert(t,{type:0,doc:n.doc}):1===n.type&&0===o.type?this.yu=this.yu.remove(t):1===n.type&&2===o.type?this.yu=this.yu.insert(t,{type:1,doc:o.doc}):0===n.type&&1===o.type?this.yu=this.yu.insert(t,{type:2,doc:n.doc}):_t():this.yu=this.yu.insert(t,n)}pu(){const n=[];return this.yu.inorderTraversal((t,o)=>{n.push(o)}),n}}class im{constructor(n,t,o,i,a,d,f,y){this.query=n,this.docs=t,this.oldDocs=o,this.docChanges=i,this.mutatedKeys=a,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=y}static fromInitialDocuments(n,t,o,i){const a=[];return t.forEach(d=>{a.push({type:0,doc:d})}),new im(n,t,om.emptySet(t),a,o,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Cv(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const t=this.docChanges,o=n.docChanges;if(t.length!==o.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==o[i].type||!t[i].doc.isEqual(o[i].doc))return!1;return!0}}class VO{constructor(){this.Iu=void 0,this.listeners=[]}}class BO{constructor(){this.queries=new kd(n=>OZ(n),Cv),this.onlineState="Unknown",this.Tu=new Set}}function SS(r,n){return xS.apply(this,arguments)}function xS(){return xS=(0,Ae.Z)(function*(r,n){const t=ot(r),o=n.query;let i=!1,a=t.queries.get(o);if(a||(i=!0,a=new VO),i)try{a.Iu=yield t.onListen(o)}catch(d){const f=rm(d,`Initialization of query '${RD(n.query)}' failed`);return void n.onError(f)}t.queries.set(o,a),a.listeners.push(n),n.Eu(t.onlineState),a.Iu&&n.Au(a.Iu)&&NS(t)}),xS.apply(this,arguments)}function ZS(r,n){return kS.apply(this,arguments)}function kS(){return kS=(0,Ae.Z)(function*(r,n){const t=ot(r),o=n.query;let i=!1;const a=t.queries.get(o);if(a){const d=a.listeners.indexOf(n);d>=0&&(a.listeners.splice(d,1),i=0===a.listeners.length)}if(i)return t.queries.delete(o),t.onUnlisten(o)}),kS.apply(this,arguments)}function jO(r,n){const t=ot(r);let o=!1;for(const i of n){const d=t.queries.get(i.query);if(d){for(const f of d.listeners)f.Au(i)&&(o=!0);d.Iu=i}}o&&NS(t)}function $O(r,n,t){const o=ot(r),i=o.queries.get(n);if(i)for(const a of i.listeners)a.onError(t);o.queries.delete(n)}function NS(r){r.Tu.forEach(n=>{n.next()})}class US{constructor(n,t,o){this.query=n,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(n){if(!this.options.includeMetadataChanges){const o=[];for(const i of n.docChanges)3!==i.type&&o.push(i);n=new im(n.query,n.docs,n.oldDocs,o,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(n)&&(this.Ru.next(n),t=!0):this.Vu(n,this.onlineState)&&(this.Su(n),t=!0),this.Pu=n,t}onError(n){this.Ru.error(n)}Eu(n){this.onlineState=n;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,n)&&(this.Su(this.Pu),t=!0),t}Vu(n,t){return!n.fromCache||!(this.options.Du&&"Offline"!==t||n.docs.isEmpty()&&"Offline"!==t)}vu(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(n){n=im.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.bu=!0,this.Ru.next(n)}}class GO{constructor(n,t){this.payload=n,this.byteLength=t}Cu(){return"metadata"in this.payload}}class _N{constructor(n){this.wt=n}Wi(n){return Vu(this.wt,n)}zi(n){return n.metadata.exists?pk(this.wt,n.document,!1):Yn.newNoDocument(this.Wi(n.metadata.name),this.Hi(n.metadata.readTime))}Hi(n){return Do(n)}}class HO{constructor(n,t,o){this.xu=n,this.localStore=t,this.wt=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yN(n)}Nu(n){this.progress.bytesLoaded+=n.byteLength;let t=this.progress.documentsLoaded;if(n.payload.namedQuery)this.queries.push(n.payload.namedQuery);else if(n.payload.documentMetadata){this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++t;const o=yn.fromString(n.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(n){const t=new Map,o=new _N(this.wt);for(const i of n)if(i.metadata.queries){const a=o.Wi(i.metadata.name);for(const d of i.metadata.queries){const f=(t.get(d)||Wt()).add(a);t.set(d,f)}}return t}complete(){var n=this;return(0,Ae.Z)(function*(){const t=yield function TO(r,n,t,o){return rS.apply(this,arguments)}(n.localStore,new _N(n.wt),n.documents,n.xu.id),o=n.ku(n.documents);for(const i of n.queries)yield wO(n.localStore,i,o.get(i.name));return n.progress.taskState="Success",{progress:n.progress,Ou:n.collectionGroups,Mu:t}})()}}function yN(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class vN{constructor(n){this.key=n}}class CN{constructor(n){this.key=n}}class TN{constructor(n,t){this.query=n,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Wt(),this.mutatedKeys=Wt(),this.Lu=LZ(n),this.Uu=new om(this.Lu)}get qu(){return this.Fu}Ku(n,t){const o=t?t.Gu:new mN,i=t?t.Uu:this.Uu;let a=t?t.mutatedKeys:this.mutatedKeys,d=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(n.inorderTraversal((D,x)=>{const O=i.get(D),H=LD(this.query,x)?x:null,ne=!!O&&this.mutatedKeys.has(O.key),Ne=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let $e=!1;O&&H?O.data.isEqual(H.data)?ne!==Ne&&(o.track({type:3,doc:H}),$e=!0):this.Qu(O,H)||(o.track({type:2,doc:H}),$e=!0,(y&&this.Lu(H,y)>0||w&&this.Lu(H,w)<0)&&(f=!0)):!O&&H?(o.track({type:0,doc:H}),$e=!0):O&&!H&&(o.track({type:1,doc:O}),$e=!0,(y||w)&&(f=!0)),$e&&(H?(d=d.add(H),a=Ne?a.add(D):a.delete(D)):(d=d.delete(D),a=a.delete(D)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const D="F"===this.query.limitType?d.last():d.first();d=d.delete(D.key),a=a.delete(D.key),o.track({type:1,doc:D})}return{Uu:d,Gu:o,Oi:f,mutatedKeys:a}}Qu(n,t){return n.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(n,t,o){const i=this.Uu;this.Uu=n.Uu,this.mutatedKeys=n.mutatedKeys;const a=n.Gu.pu();a.sort((w,D)=>function(x,O){const H=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return H(x)-H(O)}(w.type,D.type)||this.Lu(w.doc,D.doc)),this.ju(o);const d=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,y=f!==this.$u;return this.$u=f,0!==a.length||y?{snapshot:new im(this.query,n.Uu,i,a,n.mutatedKeys,0===f,y,!1),zu:d}:{zu:d}}Eu(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new mN,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(n){return!this.Fu.has(n)&&!!this.Uu.has(n)&&!this.Uu.get(n).hasLocalMutations}ju(n){n&&(n.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),n.modifiedDocuments.forEach(t=>{}),n.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=n.current)}Wu(){if(!this.current)return[];const n=this.Bu;this.Bu=Wt(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const t=[];return n.forEach(o=>{this.Bu.has(o)||t.push(new CN(o))}),this.Bu.forEach(o=>{n.has(o)||t.push(new vN(o))}),t}Ju(n){this.Fu=n.ji,this.Bu=Wt();const t=this.Ku(n.documents);return this.applyChanges(t,!0)}Yu(){return im.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class JO{constructor(n,t,o){this.query=n,this.targetId=t,this.view=o}}class WO{constructor(n){this.key=n,this.Xu=!1}}class zO{constructor(n,t,o,i,a,d){this.localStore=n,this.remoteStore=t,this.eventManager=o,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=d,this.Zu={},this.tc=new kd(f=>OZ(f),Cv),this.ec=new Map,this.nc=new Set,this.sc=new Dr(nt.comparator),this.ic=new Map,this.rc=new QD,this.oc={},this.uc=new Map,this.cc=Np.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function QO(r,n){return MS.apply(this,arguments)}function MS(){return MS=(0,Ae.Z)(function*(r,n){const t=r2(r);let o,i;const a=t.tc.get(n);if(a)o=a.targetId,t.sharedClientState.addLocalQueryTarget(o),i=a.view.Yu();else{const d=yield Yg(t.localStore,ya(n));t.isPrimaryClient&&kw(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);o=d.targetId,i=yield PS(t,n,o,"current"===f)}return i}),MS.apply(this,arguments)}function PS(r,n,t,o){return OS.apply(this,arguments)}function OS(){return OS=(0,Ae.Z)(function*(r,n,t,o){r.hc=(D,x,O)=>{return(H=(0,Ae.Z)(function*(ne,Ne,$e,mt){let Pt=Ne.view.Ku($e);Pt.Oi&&(Pt=yield Dw(ne.localStore,Ne.query,!1).then(({documents:Xt})=>Ne.view.Ku(Xt,Pt)));const Yt=mt&&mt.targetChanges.get(Ne.targetId),It=Ne.view.applyChanges(Pt,ne.isPrimaryClient,Yt);return HS(ne,Ne.targetId,It.zu),It.snapshot}),function(ne,Ne,$e,mt){return H.apply(this,arguments)})(r,D,x,O);var H};const i=yield Dw(r.localStore,n,!0),a=new TN(n,i.ji),d=a.Ku(i.documents),f=Ev.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState),y=a.applyChanges(d,r.isPrimaryClient,f);HS(r,t,y.zu);const w=new JO(n,t,a);return r.tc.set(n,w),r.ec.has(t)?r.ec.get(t).push(n):r.ec.set(t,[n]),y.snapshot}),OS.apply(this,arguments)}function KO(r,n){return RS.apply(this,arguments)}function RS(){return RS=(0,Ae.Z)(function*(r,n){const t=ot(r),o=t.tc.get(n),i=t.ec.get(o.targetId);if(i.length>1)return t.ec.set(o.targetId,i.filter(a=>!Cv(a,n))),void t.tc.delete(n);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Xg(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Vv(t.remoteStore,o.targetId),sm(t,o.targetId)}).catch(Id))):(sm(t,o.targetId),yield Xg(t.localStore,o.targetId,!0))}),RS.apply(this,arguments)}function LS(){return LS=(0,Ae.Z)(function*(r,n,t){const o=o2(r);try{const i=yield function(a,d){const f=ot(a),y=dr.now(),w=d.reduce((O,H)=>O.add(H.key),Wt());let D,x;return f.persistence.runTransaction("Locally write mutations","readwrite",O=>{let H=Yi(),ne=Wt();return f.Ui.getEntries(O,w).next(Ne=>{H=Ne,H.forEach(($e,mt)=>{mt.isValidDocument()||(ne=ne.add($e))})}).next(()=>f.localDocuments.getOverlayedDocuments(O,H)).next(Ne=>{D=Ne;const $e=[];for(const mt of d){const Pt=uP(mt,D.get(mt.key).overlayedDocument);null!=Pt&&$e.push(new tc(mt.key,Pt,DZ(Pt.value.mapValue),vr.exists(!0)))}return f.mutationQueue.addMutationBatch(O,y,$e,d)}).next(Ne=>{x=Ne;const $e=Ne.applyToLocalDocumentSet(D,ne);return f.documentOverlayCache.saveOverlays(O,Ne.batchId,$e)})}).then(()=>({batchId:x.batchId,changes:tk(D)}))}(o.localStore,n);o.sharedClientState.addPendingMutation(i.batchId),function(a,d,f){let y=a.oc[a.currentUser.toKey()];y||(y=new Dr(Gt)),y=y.insert(d,f),a.oc[a.currentUser.toKey()]=y}(o,i.batchId,t),yield nc(o,i.changes),yield tm(o.remoteStore)}catch(i){const a=rm(i,"Failed to persist write");t.reject(a)}}),LS.apply(this,arguments)}function wN(r,n){return FS.apply(this,arguments)}function FS(){return FS=(0,Ae.Z)(function*(r,n){const t=ot(r);try{const o=yield vO(t.localStore,n);n.targetChanges.forEach((i,a)=>{const d=t.ic.get(a);d&&(Mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.Xu=!0:i.modifiedDocuments.size>0?Mt(d.Xu):i.removedDocuments.size>0&&(Mt(d.Xu),d.Xu=!1))}),yield nc(t,o,n)}catch(o){yield Id(o)}}),FS.apply(this,arguments)}function bN(r,n,t){const o=ot(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const i=[];o.tc.forEach((a,d)=>{const f=d.view.Eu(n);f.snapshot&&i.push(f.snapshot)}),function(a,d){const f=ot(a);f.onlineState=d;let y=!1;f.queries.forEach((w,D)=>{for(const x of D.listeners)x.Eu(d)&&(y=!0)}),y&&NS(f)}(o.eventManager,n),i.length&&o.Zu.Go(i),o.onlineState=n,o.isPrimaryClient&&o.sharedClientState.setOnlineState(n)}}function XO(r,n,t){return qS.apply(this,arguments)}function qS(){return qS=(0,Ae.Z)(function*(r,n,t){const o=ot(r);o.sharedClientState.updateQueryState(n,"rejected",t);const i=o.ic.get(n),a=i&&i.key;if(a){let d=new Dr(nt.comparator);d=d.insert(a,Yn.newNoDocument(a,Ut.min()));const f=Wt().add(a),y=new Iv(Ut.min(),new Map,new Gn(Gt),d,f);yield wN(o,y),o.sc=o.sc.remove(a),o.ic.delete(n),JS(o)}else yield Xg(o.localStore,n,!1).then(()=>sm(o,n,t)).catch(Id)}),qS.apply(this,arguments)}function eR(r,n){return VS.apply(this,arguments)}function VS(){return VS=(0,Ae.Z)(function*(r,n){const t=ot(r),o=n.batch.batchId;try{const i=yield yO(t.localStore,n);GS(t,o,null),$S(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield nc(t,i)}catch(i){yield Id(i)}}),VS.apply(this,arguments)}function tR(r,n,t){return BS.apply(this,arguments)}function BS(){return BS=(0,Ae.Z)(function*(r,n,t){const o=ot(r);try{const i=yield function(a,d){const f=ot(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return f.mutationQueue.lookupMutationBatch(y,d).next(D=>(Mt(null!==D),w=D.keys(),f.mutationQueue.removeMutationBatch(y,D))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,w,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>f.localDocuments.getDocuments(y,w))})}(o.localStore,n);GS(o,n,t),$S(o,n),o.sharedClientState.updateMutationState(n,"rejected",t),yield nc(o,i)}catch(i){yield Id(i)}}),BS.apply(this,arguments)}function jS(){return jS=(0,Ae.Z)(function*(r,n){const t=ot(r);Pd(t.remoteStore)||qe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(a){const d=ot(a);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===o)return void n.resolve();const i=t.uc.get(o)||[];i.push(n),t.uc.set(o,i)}catch(o){const i=rm(o,"Initialization of waitForPendingWrites() operation failed");n.reject(i)}}),jS.apply(this,arguments)}function $S(r,n){(r.uc.get(n)||[]).forEach(t=>{t.resolve()}),r.uc.delete(n)}function GS(r,n,t){const o=ot(r);let i=o.oc[o.currentUser.toKey()];if(i){const a=i.get(n);a&&(t?a.reject(t):a.resolve(),i=i.remove(n)),o.oc[o.currentUser.toKey()]=i}}function sm(r,n,t=null){r.sharedClientState.removeLocalQueryTarget(n);for(const o of r.ec.get(n))r.tc.delete(o),t&&r.Zu.lc(o,t);r.ec.delete(n),r.isPrimaryClient&&r.rc.us(n).forEach(o=>{r.rc.containsKey(o)||AN(r,o)})}function AN(r,n){r.nc.delete(n.path.canonicalString());const t=r.sc.get(n);null!==t&&(Vv(r.remoteStore,t),r.sc=r.sc.remove(n),r.ic.delete(t),JS(r))}function HS(r,n,t){for(const o of t)o instanceof vN?(r.rc.addReference(o.key,n),rR(r,o)):o instanceof CN?(qe("SyncEngine","Document no longer in limbo: "+o.key),r.rc.removeReference(o.key,n),r.rc.containsKey(o.key)||AN(r,o.key)):_t()}function rR(r,n){const t=n.key,o=t.path.canonicalString();r.sc.get(t)||r.nc.has(o)||(qe("SyncEngine","New document in limbo: "+t),r.nc.add(o),JS(r))}function JS(r){for(;r.nc.size>0&&r.sc.size<r.maxConcurrentLimboResolutions;){const n=r.nc.values().next().value;r.nc.delete(n);const t=new nt(yn.fromString(n)),o=r.cc.next();r.ic.set(o,new WO(t)),r.sc=r.sc.insert(t,o),kw(r.remoteStore,new Nd(ya(Bg(t.path)),o,2,Ki.ot))}}function nc(r,n,t){return WS.apply(this,arguments)}function WS(){return WS=(0,Ae.Z)(function*(r,n,t){const o=ot(r),i=[],a=[],d=[];var f;o.tc.isEmpty()||(o.tc.forEach((f,y)=>{d.push(o.hc(y,n,t).then(w=>{if(w){o.isPrimaryClient&&o.sharedClientState.updateQueryState(y.targetId,w.fromCache?"not-current":"current"),i.push(w);const D=eS.Vi(y.targetId,w);a.push(D)}}))}),yield Promise.all(d),o.Zu.Go(i),yield(f=(0,Ae.Z)(function*(y,w){const D=ot(y);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ce.forEach(w,O=>ce.forEach(O.Pi,H=>D.persistence.referenceDelegate.addReference(x,O.targetId,H)).next(()=>ce.forEach(O.vi,H=>D.persistence.referenceDelegate.removeReference(x,O.targetId,H)))))}catch(x){if(!Ed(x))throw x;qe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of w){const O=x.targetId;if(!x.fromCache){const H=D.$i.get(O),Ne=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);D.$i=D.$i.insert(O,Ne)}}}),function(y,w){return f.apply(this,arguments)})(o.localStore,a))}),WS.apply(this,arguments)}function oR(r,n){return zS.apply(this,arguments)}function zS(){return zS=(0,Ae.Z)(function*(r,n){const t=ot(r);if(!t.currentUser.isEqual(n)){qe("SyncEngine","User change. New user:",n.toKey());const o=yield Yk(t.localStore,n);t.currentUser=n,(i=t).uc.forEach(d=>{d.forEach(f=>{f.reject(new Oe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),t.sharedClientState.handleUserChange(n,o.removedBatchIds,o.addedBatchIds),yield nc(t,o.Ki)}var i}),zS.apply(this,arguments)}function iR(r,n){const t=ot(r),o=t.ic.get(n);if(o&&o.Xu)return Wt().add(o.key);{let i=Wt();const a=t.ec.get(n);if(!a)return i;for(const d of a){const f=t.tc.get(d);i=i.unionWith(f.view.qu)}return i}}function sR(r,n){return QS.apply(this,arguments)}function QS(){return QS=(0,Ae.Z)(function*(r,n){const t=ot(r),o=yield Dw(t.localStore,n.query,!0),i=n.view.Ju(o);return t.isPrimaryClient&&HS(t,n.targetId,i.zu),i}),QS.apply(this,arguments)}function aR(r,n){return KS.apply(this,arguments)}function KS(){return KS=(0,Ae.Z)(function*(r,n){const t=ot(r);return nN(t.localStore,n).then(o=>nc(t,o))}),KS.apply(this,arguments)}function uR(r,n,t,o){return YS.apply(this,arguments)}function YS(){return YS=(0,Ae.Z)(function*(r,n,t,o){const i=ot(r),a=yield function(d,f){const y=ot(d),w=ot(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",D=>w.yn(D,f).next(x=>x?y.localDocuments.getDocuments(D,x):ce.resolve(null)))}(i.localStore,n);var f;null!==a?("pending"===t?yield tm(i.remoteStore):"acknowledged"===t||"rejected"===t?(GS(i,n,o||null),$S(i,n),f=n,ot(ot(i.localStore).mutationQueue).In(f)):_t(),yield nc(i,a)):qe("SyncEngine","Cannot apply mutation batch with id: "+n)}),YS.apply(this,arguments)}function XS(){return XS=(0,Ae.Z)(function*(r,n){const t=ot(r);if(r2(t),o2(t),!0===n&&!0!==t.ac){const o=t.sharedClientState.getAllActiveQueryTargets(),i=yield IN(t,o.toArray());t.ac=!0,yield IS(t.remoteStore,!0);for(const a of i)kw(t.remoteStore,a)}else if(!1===n&&!1!==t.ac){const o=[];let i=Promise.resolve();t.ec.forEach((a,d)=>{t.sharedClientState.isLocalQueryTarget(d)?o.push(d):i=i.then(()=>(sm(t,d),Xg(t.localStore,d,!0))),Vv(t.remoteStore,d)}),yield i,yield IN(t,o),function(a){const d=ot(a);d.ic.forEach((f,y)=>{Vv(d.remoteStore,y)}),d.rc.cs(),d.ic=new Map,d.sc=new Dr(nt.comparator)}(t),t.ac=!1,yield IS(t.remoteStore,!1)}}),XS.apply(this,arguments)}function IN(r,n,t){return e2.apply(this,arguments)}function e2(){return e2=(0,Ae.Z)(function*(r,n,t){const o=ot(r),i=[],a=[];for(const d of n){let f;const y=o.ec.get(d);if(y&&0!==y.length){f=yield Yg(o.localStore,ya(y[0]));for(const w of y){const D=o.tc.get(w),x=yield sR(o,D);x.snapshot&&a.push(x.snapshot)}}else{const w=yield tN(o.localStore,d);f=yield Yg(o.localStore,w),yield PS(o,EN(w),d,!1)}i.push(f)}return o.Zu.Go(a),i}),e2.apply(this,arguments)}function EN(r){return MZ(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function cR(r){const n=ot(r);return ot(ot(n.localStore).persistence).Ri()}function dR(r,n,t,o){return t2.apply(this,arguments)}function t2(){return t2=(0,Ae.Z)(function*(r,n,t,o){const i=ot(r);if(i.ac)return void qe("SyncEngine","Ignoring unexpected query state notification.");const a=i.ec.get(n);if(a&&a.length>0)switch(t){case"current":case"not-current":{const d=yield nN(i.localStore,RZ(a[0])),f=Iv.createSynthesizedRemoteEventForCurrentChange(n,"current"===t);yield nc(i,d,f);break}case"rejected":yield Xg(i.localStore,n,!0),sm(i,n,o);break;default:_t()}}),t2.apply(this,arguments)}function hR(r,n,t){return n2.apply(this,arguments)}function n2(){return n2=(0,Ae.Z)(function*(r,n,t){const o=r2(r);if(o.ac){for(const i of n){if(o.ec.has(i)){qe("SyncEngine","Adding an already active target "+i);continue}const a=yield tN(o.localStore,i),d=yield Yg(o.localStore,a);yield PS(o,EN(a),d.targetId,!1),kw(o.remoteStore,d)}for(const i of t)o.ec.has(i)&&(yield Xg(o.localStore,i,!1).then(()=>{Vv(o.remoteStore,i),sm(o,i)}).catch(Id))}}),n2.apply(this,arguments)}function r2(r){const n=ot(r);return n.remoteStore.remoteSyncer.applyRemoteEvent=wN.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=iR.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=XO.bind(null,n),n.Zu.Go=jO.bind(null,n.eventManager),n.Zu.lc=$O.bind(null,n.eventManager),n}function o2(r){const n=ot(r);return n.remoteStore.remoteSyncer.applySuccessfulWrite=eR.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=tR.bind(null,n),n}class DN{constructor(){this.synchronizeTabs=!1}initialize(n){var t=this;return(0,Ae.Z)(function*(){t.wt=Fv(n.databaseInfo.databaseId),t.sharedClientState=t.dc(n),t.persistence=t._c(n),yield t.persistence.start(),t.localStore=t.wc(n),t.gcScheduler=t.mc(n,t.localStore),t.indexBackfillerScheduler=t.gc(n,t.localStore)})()}mc(n,t){return null}gc(n,t){return null}wc(n){return Kk(this.persistence,new Qk,n.initialUser,this.wt)}_c(n){return new Wk(Iw.Ms,this.wt)}dc(n){return new sN}terminate(){var n=this;return(0,Ae.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class SN extends DN{constructor(n,t,o){super(),this.yc=n,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(n){var t=()=>super.initialize,o=this;return(0,Ae.Z)(function*(){yield t().call(o,n),yield o.yc.initialize(o,n),yield o2(o.yc.syncEngine),yield tm(o.yc.remoteStore),yield o.persistence.ci(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(n){return Kk(this.persistence,new Qk,n.initialUser,this.wt)}mc(n,t){return new rO(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,t)}gc(n,t){const o=new FM(t,this.persistence);return new LM(n.asyncQueue,o)}_c(n){const t=XD(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Xi.withCacheSize(this.cacheSizeBytes):Xi.DEFAULT;return new YD(this.synchronizeTabs,t,n.clientId,o,n.asyncQueue,uN(),Zw(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(n){return new sN}}class fR extends SN{constructor(n,t){super(n,t,!1),this.yc=n,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(n){var t=()=>super.initialize,o=this;return(0,Ae.Z)(function*(){yield t().call(o,n);const i=o.yc.syncEngine;o.sharedClientState instanceof uS&&(o.sharedClientState.syncEngine={kr:uR.bind(null,i),Or:dR.bind(null,i),Mr:hR.bind(null,i),Ri:cR.bind(null,i),Nr:aR.bind(null,i)},yield o.sharedClientState.start()),yield o.persistence.ci(function(){var a=(0,Ae.Z)(function*(d){yield function lR(r,n){return XS.apply(this,arguments)}(o.yc.syncEngine,d),o.gcScheduler&&(d&&!o.gcScheduler.started?o.gcScheduler.start():d||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(d&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():d||o.indexBackfillerScheduler.stop())});return function(d){return a.apply(this,arguments)}}())})()}dc(n){const t=uN();if(!uS.V(t))throw new Oe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=XD(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new uS(t,n.asyncQueue,o,n.clientId,n.initialUser)}}class i2{initialize(n,t){var o=this;return(0,Ae.Z)(function*(){o.localStore||(o.localStore=n.localStore,o.sharedClientState=n.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!n.synchronizeTabs),o.sharedClientState.onlineStateHandler=i=>bN(o.syncEngine,i,1),o.remoteStore.remoteSyncer.handleCredentialChange=oR.bind(null,o.syncEngine),yield IS(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(n){return new BO}createDatastore(n){const t=Fv(n.databaseInfo.databaseId),o=new EO(n.databaseInfo);return new xO(n.authCredentials,n.appCheckCredentials,o,t)}createRemoteStore(n){return t=this.localStore,o=this.datastore,i=n.asyncQueue,a=f=>bN(this.syncEngine,f,0),d=aN.V()?new aN:new bO,new kO(t,o,i,a,d);var t,o,i,a,d}createSyncEngine(n,t){return function(o,i,a,d,f,y,w){const D=new zO(o,i,a,d,f,y);return w&&(D.ac=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,t)}terminate(){return(n=(0,Ae.Z)(function*(t){const o=ot(t);qe("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield em(o),o.du.shutdown(),o._u.set("Unknown")}),function(t){return n.apply(this,arguments)})(this.remoteStore);var n}}function xN(r,n=10240){let t=0;return{read:()=>(0,Ae.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+n),done:!1};return t+=n,o}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Uw{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Ic(this.observer.next,n)}error(n){this.observer.error?this.Ic(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Tc(){this.muted=!0}Ic(n,t){this.muted||setTimeout(()=>{this.muted||n(t)},0)}}class gR{constructor(n,t){this.Ec=n,this.wt=t,this.metadata=new Eo,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ec.cancel()}getMetadata(){var n=this;return(0,Ae.Z)(function*(){return n.metadata.promise})()}fc(){var n=this;return(0,Ae.Z)(function*(){return yield n.getMetadata(),n.Rc()})()}Rc(){var n=this;return(0,Ae.Z)(function*(){const t=yield n.bc();if(null===t)return null;const o=n.Ac.decode(t),i=Number(o);isNaN(i)&&n.Pc(`length string (${o}) is not valid number`);const a=yield n.vc(i);return new GO(JSON.parse(a),t.length+i)})()}Vc(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}bc(){var n=this;return(0,Ae.Z)(function*(){for(;n.Vc()<0&&!(yield n.Sc()););if(0===n.buffer.length)return null;const t=n.Vc();t<0&&n.Pc("Reached the end of bundle when a length string is expected.");const o=n.buffer.slice(0,t);return n.buffer=n.buffer.slice(t),o})()}vc(n){var t=this;return(0,Ae.Z)(function*(){for(;t.buffer.length<n;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const o=t.Ac.decode(t.buffer.slice(0,n));return t.buffer=t.buffer.slice(n),o})()}Pc(n){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${n}`)}Sc(){var n=this;return(0,Ae.Z)(function*(){const t=yield n.Ec.read();if(!t.done){const o=new Uint8Array(n.buffer.length+t.value.length);o.set(n.buffer),o.set(t.value,n.buffer.length),n.buffer=o}return t.done})()}}class mR{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var t=this;return(0,Ae.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(i=(0,Ae.Z)(function*(a,d){const f=ot(a),y=xv(f.wt)+"/documents",w={documents:d.map(H=>Sv(f.wt,H))},D=yield f.ao("BatchGetDocuments",y,w,d.length),x=new Map;D.forEach(H=>{const ne=function vP(r,n){return"found"in n?function(t,o){Mt(!!o.found);const i=Vu(t,o.found.name),a=Do(o.found.updateTime),d=new Bo({mapValue:{fields:o.found.fields}});return Yn.newFoundDocument(i,a,d)}(r,n):"missing"in n?function(t,o){Mt(!!o.missing),Mt(!!o.readTime);const i=Vu(t,o.missing),a=Do(o.readTime);return Yn.newNoDocument(i,a)}(r,n):_t()}(f.wt,H);x.set(ne.key.toString(),ne)});const O=[];return d.forEach(H=>{const ne=x.get(H.toString());Mt(!!ne),O.push(ne)}),O}),function(a,d){return i.apply(this,arguments)})(t.datastore,n);var i;return o.forEach(i=>t.recordVersion(i)),o})()}set(n,t){this.write(t.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,t){try{this.write(t.toMutation(n,this.preconditionForUpdate(n)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(n.toString())}delete(n){this.write(new Jg(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,Ae.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const t=n.readVersions;var o;n.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,i)=>{const a=nt.fromPath(i);n.mutations.push(new FD(a,n.precondition(a)))}),yield(o=(0,Ae.Z)(function*(i,a){const d=ot(i),f=xv(d.wt)+"/documents",y={writes:a.map(w=>Zv(d.wt,w))};yield d.ro("Commit",f,y)}),function(i,a){return o.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let t;if(n.isFoundDocument())t=n.version;else{if(!n.isNoDocument())throw _t();t=Ut.min()}const o=this.readVersions.get(n.key.toString());if(o){if(!t.isEqual(o))throw new Oe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),t)}precondition(n){const t=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&t?vr.updateTime(t):vr.none()}preconditionForUpdate(n){const t=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&t){if(t.isEqual(Ut.min()))throw new Oe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vr.updateTime(t)}return vr.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class _R{constructor(n,t,o,i,a){this.asyncQueue=n,this.datastore=t,this.options=o,this.updateFunction=i,this.deferred=a,this.Dc=o.maxAttempts,this.So=new lS(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var n=this;this.So.Io((0,Ae.Z)(function*(){const t=new mR(n.datastore),o=n.xc(t);o&&o.then(i=>{n.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{n.deferred.resolve(i)}).catch(a=>{n.Nc(a)}))}).catch(i=>{n.Nc(i)})}))}xc(n){try{const t=this.updateFunction(n);return!fv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(n){this.Dc>0&&this.kc(n)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(n)}kc(n){if("FirebaseError"===n.name){const t=n.code;return"aborted"===t||"failed-precondition"===t||!YZ(t)}return!1}}class yR{constructor(n,t,o,i){var a=this;this.authCredentials=n,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=i,this.user=Io.UNAUTHENTICATED,this.clientId=lZ.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var d=(0,Ae.Z)(function*(f){qe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(o,d=>(qe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var n=this;return(0,Ae.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,authCredentials:n.authCredentials,appCheckCredentials:n.appCheckCredentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const t=new Eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),t.resolve()}catch(o){const i=rm(o,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function ZN(r,n){return s2.apply(this,arguments)}function s2(){return s2=(0,Ae.Z)(function*(r,n){r.asyncQueue.verifyOperationInProgress(),qe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield n.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var i=(0,Ae.Z)(function*(a){o.isEqual(a)||(yield Yk(n.localStore,a),o=a)});return function(a){return i.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=n}),s2.apply(this,arguments)}function kN(r,n){return a2.apply(this,arguments)}function a2(){return a2=(0,Ae.Z)(function*(r,n){r.asyncQueue.verifyOperationInProgress();const t=yield u2(r);qe("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield n.initialize(t,o),r.setCredentialChangeListener(i=>gN(n.remoteStore,i)),r.setAppCheckTokenChangeListener((i,a)=>gN(n.remoteStore,a)),r.onlineComponents=n}),a2.apply(this,arguments)}function u2(r){return l2.apply(this,arguments)}function l2(){return l2=(0,Ae.Z)(function*(r){return r.offlineComponents||(qe("FirestoreClient","Using default OfflineComponentProvider"),yield ZN(r,new DN)),r.offlineComponents}),l2.apply(this,arguments)}function Mw(r){return c2.apply(this,arguments)}function c2(){return c2=(0,Ae.Z)(function*(r){return r.onlineComponents||(qe("FirestoreClient","Using default OnlineComponentProvider"),yield kN(r,new i2)),r.onlineComponents}),c2.apply(this,arguments)}function NN(r){return u2(r).then(n=>n.persistence)}function d2(r){return u2(r).then(n=>n.localStore)}function UN(r){return Mw(r).then(n=>n.remoteStore)}function h2(r){return Mw(r).then(n=>n.syncEngine)}function am(r){return p2.apply(this,arguments)}function p2(){return p2=(0,Ae.Z)(function*(r){const n=yield Mw(r),t=n.eventManager;return t.onListen=QO.bind(null,n.syncEngine),t.onUnlisten=KO.bind(null,n.syncEngine),t}),p2.apply(this,arguments)}function MN(r,n,t={}){const o=new Eo;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(i,a,d,f,y){const w=new Uw({next:x=>{a.enqueueAndForget(()=>ZS(i,D));const O=x.docs.has(d);!O&&x.fromCache?y.reject(new Oe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&x.fromCache&&f&&"server"===f.source?y.reject(new Oe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),D=new US(Bg(d.path),w,{includeMetadataChanges:!0,Du:!0});return SS(i,D)}(yield am(r),r.asyncQueue,n,t,o)})),o.promise}function PN(r,n,t={}){const o=new Eo;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(i,a,d,f,y){const w=new Uw({next:x=>{a.enqueueAndForget(()=>ZS(i,D)),x.fromCache&&"server"===f.source?y.reject(new Oe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),D=new US(d,w,{includeMetadataChanges:!0,Du:!0});return SS(i,D)}(yield am(r),r.asyncQueue,n,t,o)})),o.promise}const ON=new Map;function f2(r,n,t){if(!t)throw new Oe(me.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${n}.`)}function RN(r,n,t,o){if(!0===n&&!0===o)throw new Oe(me.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function LN(r){if(!nt.isDocumentKey(r))throw new Oe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function FN(r){if(nt.isDocumentKey(r))throw new Oe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Pw(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const n=(t=r).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof r?"a function":_t()}function gn(r,n){if("_delegate"in r&&(r=r._delegate),!(r instanceof n)){if(n.name===r.constructor.name)throw new Oe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Pw(r);throw new Oe(me.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${t}`)}}return r}function qN(r,n){if(n<=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${n}.`)}class VN{constructor(n){var t;if(void 0===n.host){if(void 0!==n.ssl)throw new Oe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(t=n.ssl)||void 0===t||t;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Oe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,RN("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Bv{constructor(n,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VN({}),this._settingsFrozen=!1,n instanceof Xl?this._databaseId=n:(this._app=n,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Oe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(i.options.projectId)}(n))}get app(){if(!this._app)throw new Oe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VN(n),void 0!==n.credentials&&(this._authCredentials=function(t){if(!t)return new SM;switch(t.type){case"gapi":const o=t.client;return Mt(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new NM(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const t=ON.get(n);t&&(qe("ComponentProvider","Removing Datastore"),ON.delete(n),t.terminate())}(this),Promise.resolve()}}class ir{constructor(n,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ju(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new ir(this.firestore,n,this._key)}}class ci{constructor(n,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=n}withConverter(n){return new ci(this.firestore,n,this._query)}}class ju extends ci{constructor(n,t,o){super(n,t,Bg(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new ir(this.firestore,null,new nt(n))}withConverter(n){return new ju(this.firestore,n,this._path)}}function BN(r,n,...t){if(r=(0,Jt.m9)(r),f2("collection","path",n),r instanceof Bv){const o=yn.fromString(n,...t);return FN(o),new ju(r,null,o)}{if(!(r instanceof ir||r instanceof ju))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(yn.fromString(n,...t));return FN(o),new ju(r.firestore,null,o)}}function Ow(r,n,...t){if(r=(0,Jt.m9)(r),1===arguments.length&&(n=lZ.I()),f2("doc","path",n),r instanceof Bv){const o=yn.fromString(n,...t);return LN(o),new ir(r,null,new nt(o))}{if(!(r instanceof ir||r instanceof ju))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(yn.fromString(n,...t));return LN(o),new ir(r.firestore,r instanceof ju?r.converter:null,new nt(o))}}function jN(r,n){return r=(0,Jt.m9)(r),n=(0,Jt.m9)(n),(r instanceof ir||r instanceof ju)&&(n instanceof ir||n instanceof ju)&&r.firestore===n.firestore&&r.path===n.path&&r.converter===n.converter}function $N(r,n){return r=(0,Jt.m9)(r),n=(0,Jt.m9)(n),r instanceof ci&&n instanceof ci&&r.firestore===n.firestore&&Cv(r._query,n._query)&&r.converter===n.converter}class xR{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new lS(this,"async_queue_retry"),this.Kc=()=>{const t=Zw();t&&qe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const n=Zw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Gc(),this.Qc(n)}enterRestrictedMode(n){if(!this.Fc){this.Fc=!0,this.Uc=n||!1;const t=Zw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(n){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Eo;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(n().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Mc.push(n),this.jc()))}jc(){var n=this;return(0,Ae.Z)(function*(){if(0!==n.Mc.length){try{yield n.Mc[0](),n.Mc.shift(),n.So.reset()}catch(t){if(!Ed(t))throw t;qe("AsyncQueue","Operation failed with retryable error: "+t)}n.Mc.length>0&&n.So.Io(()=>n.jc())}})()}Qc(n){const t=this.Oc.then(()=>(this.Lc=!0,n().catch(o=>{throw this.Bc=o,this.Lc=!1,Xr("INTERNAL UNHANDLED ERROR: ",function(a){let d=a.message||"";return a.stack&&(d=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),d}(o)),o}).then(o=>(this.Lc=!1,o))));return this.Oc=t,t}enqueueAfterDelay(n,t,o){this.Gc(),this.qc.indexOf(n)>-1&&(t=0);const i=DS.createAndSchedule(this,n,t,o,a=>this.Wc(a));return this.$c.push(i),i}Gc(){this.Bc&&_t()}verifyOperationInProgress(){}zc(){var n=this;return(0,Ae.Z)(function*(){let t;do{t=n.Oc,yield t}while(t!==n.Oc)})()}Hc(n){for(const t of this.$c)if(t.timerId===n)return!0;return!1}Jc(n){return this.zc().then(()=>{this.$c.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==n&&t.timerId===n)break;return this.zc()})}Yc(n){this.qc.push(n)}Wc(n){const t=this.$c.indexOf(n);this.$c.splice(t,1)}}function g2(r){return function(n,t){if("object"!=typeof n||null===n)return!1;const o=n;for(const i of["next","error","complete"])if(i in o&&"function"==typeof o[i])return!0;return!1}(r)}class ZR{constructor(){this._progressObserver={},this._taskCompletionResolver=new Eo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,t,o){this._progressObserver={next:n,error:t,complete:o}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,t){return this._taskCompletionResolver.promise.then(n,t)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class hr extends Bv{constructor(n,t,o){super(n,t,o),this.type="firestore",this._queue=new xR,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||GN(this),this._firestoreClient.terminate()}}function to(r){return r._firestoreClient||GN(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function GN(r){var n;const t=r._freezeSettings(),o=(a=(null===(n=r._app)||void 0===n?void 0:n.options.appId)||"",new BM(r._databaseId,a,r._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;r._firestoreClient=new yR(r._authCredentials,r._appCheckCredentials,r._queue,o)}function HN(r,n,t){const o=new Eo;return r.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield ZN(r,t),yield kN(r,n),o.resolve()}catch(i){const a=i;if(!("FirebaseError"===(d=a).name?d.code===me.FAILED_PRECONDITION||d.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),o.reject(a)}var d})).then(()=>o.promise)}function JN(r){if(r._initialized||r._terminated)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class rc{constructor(...n){for(let t=0;t<n.length;++t)if(0===n[t].length)throw new Oe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lr(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class $u{constructor(n){this._byteString=n}static fromBase64String(n){try{return new $u(fo.fromBase64String(n))}catch(t){throw new Oe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(n){return new $u(fo.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Mp{constructor(n){this._methodName=n}}class Rw{constructor(n,t){if(!isFinite(n)||n<-90||n>90)throw new Oe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(t)||t<-180||t>180)throw new Oe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=n,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Gt(this._lat,n._lat)||Gt(this._long,n._long)}}const qR=/^__.*__$/;class VR{constructor(n,t,o){this.data=n,this.fieldMask=t,this.fieldTransforms=o}toMutation(n,t){return null!==this.fieldMask?new tc(n,this.data,this.fieldMask,t,this.fieldTransforms):new Hg(n,this.data,t,this.fieldTransforms)}}class WN{constructor(n,t,o){this.data=n,this.fieldMask=t,this.fieldTransforms=o}toMutation(n,t){return new tc(n,this.data,this.fieldMask,t,this.fieldTransforms)}}function zN(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class Lw{constructor(n,t,o,i,a,d){this.settings=n,this.databaseId=t,this.wt=o,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(n){return new Lw(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(n){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(n),i=this.ta({path:o,na:!1});return i.sa(n),i}ia(n){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(n),i=this.ta({path:o,na:!1});return i.Xc(),i}ra(n){return this.ta({path:void 0,na:!0})}oa(n){return Vw(n,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(n){return void 0!==this.fieldMask.find(t=>n.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>n.isPrefixOf(t.field))}Xc(){if(this.path)for(let n=0;n<this.path.length;n++)this.sa(this.path.get(n))}sa(n){if(0===n.length)throw this.oa("Document fields must not be empty");if(zN(this.Zc)&&qR.test(n))throw this.oa('Document fields cannot begin and end with "__"')}}class BR{constructor(n,t,o){this.databaseId=n,this.ignoreUndefinedProperties=t,this.wt=o||Fv(n)}aa(n,t,o,i=!1){return new Lw({Zc:n,methodName:t,ca:o,path:Lr.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Pp(r){const n=r._freezeSettings(),t=Fv(r._databaseId);return new BR(r._databaseId,!!n.ignoreUndefinedProperties,t)}function Fw(r,n,t,o,i,a={}){const d=r.aa(a.merge||a.mergeFields?2:0,n,t,i);v2("Data must be an object, but it was:",d,o);const f=YN(o,d);let y,w;if(a.merge)y=new Zs(d.fieldMask),w=d.fieldTransforms;else if(a.mergeFields){const D=[];for(const x of a.mergeFields){const O=C2(n,x,t);if(!d.contains(O))throw new Oe(me.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);eU(D,O)||D.push(O)}y=new Zs(D),w=d.fieldTransforms.filter(x=>y.covers(x.field))}else y=null,w=d.fieldTransforms;return new VR(new Bo(f),y,w)}class jv extends Mp{_toFieldTransform(n){if(2!==n.Zc)throw n.oa(1===n.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof jv}}function QN(r,n,t){return new Lw({Zc:3,ca:n.settings.ca,methodName:r._methodName,na:t},n.databaseId,n.wt,n.ignoreUndefinedProperties)}class m2 extends Mp{_toFieldTransform(n){return new Tv(n.path,new $g)}isEqual(n){return n instanceof m2}}class jR extends Mp{constructor(n,t){super(n),this.ha=t}_toFieldTransform(n){const t=QN(this,n,!0),o=this.ha.map(a=>Op(a,t)),i=new Ap(o);return new Tv(n.path,i)}isEqual(n){return this===n}}class $R extends Mp{constructor(n,t){super(n),this.ha=t}_toFieldTransform(n){const t=QN(this,n,!0),o=this.ha.map(a=>Op(a,t)),i=new Ip(o);return new Tv(n.path,i)}isEqual(n){return this===n}}class GR extends Mp{constructor(n,t){super(n),this.la=t}_toFieldTransform(n){const t=new Gg(n.wt,VZ(n.wt,this.la));return new Tv(n.path,t)}isEqual(n){return this===n}}function _2(r,n,t,o){const i=r.aa(1,n,t);v2("Data must be an object, but it was:",i,o);const a=[],d=Bo.empty();vp(o,(y,w)=>{const D=qw(n,y,t);w=(0,Jt.m9)(w);const x=i.ia(D);if(w instanceof jv)a.push(D);else{const O=Op(w,x);null!=O&&(a.push(D),d.set(D,O))}});const f=new Zs(a);return new WN(d,f,i.fieldTransforms)}function y2(r,n,t,o,i,a){const d=r.aa(1,n,t),f=[C2(n,o,t)],y=[i];if(a.length%2!=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<a.length;O+=2)f.push(C2(n,a[O])),y.push(a[O+1]);const w=[],D=Bo.empty();for(let O=f.length-1;O>=0;--O)if(!eU(w,f[O])){const H=f[O];let ne=y[O];ne=(0,Jt.m9)(ne);const Ne=d.ia(H);if(ne instanceof jv)w.push(H);else{const $e=Op(ne,Ne);null!=$e&&(w.push(H),D.set(H,$e))}}const x=new Zs(w);return new WN(D,x,d.fieldTransforms)}function KN(r,n,t,o=!1){return Op(t,r.aa(o?4:3,n))}function Op(r,n){if(XN(r=(0,Jt.m9)(r)))return v2("Unsupported field value:",n,r),YN(r,n);if(r instanceof Mp)return function(t,o){if(!zN(o.Zc))throw o.oa(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.oa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(o);i&&o.fieldTransforms.push(i)}(r,n),null;if(void 0===r&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),r instanceof Array){if(n.settings.na&&4!==n.Zc)throw n.oa("Nested arrays are not supported");return function(t,o){const i=[];let a=0;for(const d of t){let f=Op(d,o.ra(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(r,n)}return function(t,o){if(null===(t=(0,Jt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return VZ(o.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=dr.fromDate(t);return{timestampValue:Dv(o.wt,i)}}if(t instanceof dr){const i=new dr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Dv(o.wt,i)}}if(t instanceof Rw)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof $u)return{bytesValue:uk(o.wt,t._byteString)};if(t instanceof ir){const i=o.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw o.oa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qD(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.oa(`Unsupported field value: ${Pw(t)}`)}(r,n)}function YN(r,n){const t={};return _Z(r)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):vp(r,(o,i)=>{const a=Op(i,n.ea(o));null!=a&&(t[o]=a)}),{mapValue:{fields:t}}}function XN(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof dr||r instanceof Rw||r instanceof $u||r instanceof ir||r instanceof Mp)}function v2(r,n,t){if(!XN(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Pw(t);throw n.oa("an object"===o?r+" a custom object":r+" "+o)}var o}function C2(r,n,t){if((n=(0,Jt.m9)(n))instanceof rc)return n._internalPath;if("string"==typeof n)return qw(r,n);throw Vw("Field path arguments must be of type string or ",r,!1,void 0,t)}const HR=new RegExp("[~\\*/\\[\\]]");function qw(r,n,t){if(n.search(HR)>=0)throw Vw(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new rc(...n.split("."))._internalPath}catch(o){throw Vw(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Vw(r,n,t,o,i){const a=o&&!o.isEmpty(),d=void 0!==i;let f=`Function ${n}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(a||d)&&(y+=" (found",a&&(y+=` in field ${o}`),d&&(y+=` in document ${i}`),y+=")"),new Oe(me.INVALID_ARGUMENT,f+r+y)}function eU(r,n){return r.some(t=>t.isEqual(n))}class $v{constructor(n,t,o,i,a){this._firestore=n,this._userDataWriter=t,this._key=o,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ir(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new JR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const t=this._document.data.field(Bw("DocumentSnapshot.get",n));if(null!==t)return this._userDataWriter.convertValue(t)}}}class JR extends $v{data(){return super.data()}}function Bw(r,n){return"string"==typeof n?qw(r,n):n instanceof rc?n._internalPath:n._delegate._internalPath}class Rp{constructor(n,t){this.hasPendingWrites=n,this.fromCache=t}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class oc extends $v{constructor(n,t,o,i,a,d){super(n,t,o,i,d),this._firestore=n,this._firestoreImpl=n,this.metadata=a}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const t=new Gv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,t={}){if(this._document){const o=this._document.data.field(Bw("DocumentSnapshot.get",n));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Gv extends oc{data(n={}){return super.data(n)}}class Rd{constructor(n,t,o,i){this._firestore=n,this._userDataWriter=t,this._snapshot=i,this.metadata=new Rp(i.hasPendingWrites,i.fromCache),this.query=o}get docs(){const n=[];return this.forEach(t=>n.push(t)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,t){this._snapshot.docs.forEach(o=>{n.call(t,new Gv(this._firestore,this._userDataWriter,o.key,o,new Rp(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const t=!!n.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,i){if(o._snapshot.oldDocs.isEmpty()){let a=0;return o._snapshot.docChanges.map(d=>({type:"added",doc:new Gv(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Rp(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:a++}))}{let a=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const f=new Gv(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Rp(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return 0!==d.type&&(y=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),1!==d.type&&(a=a.add(d.doc),w=a.indexOf(d.doc.key)),{type:WR(d.type),doc:f,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function WR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}function tU(r,n){return r instanceof oc&&n instanceof oc?r._firestore===n._firestore&&r._key.isEqual(n._key)&&(null===r._document?null===n._document:r._document.isEqual(n._document))&&r._converter===n._converter:r instanceof Rd&&n instanceof Rd&&r._firestore===n._firestore&&$N(r.query,n.query)&&r.metadata.isEqual(n.metadata)&&r._snapshot.isEqual(n._snapshot)}function nU(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Oe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hv{}function Ld(r,...n){for(const t of n)r=t._apply(r);return r}class zR extends Hv{constructor(n,t,o){super(),this.fa=n,this.da=t,this._a=o,this.type="where"}_apply(n){const t=Pp(n.firestore),o=function(i,a,d,f,y,w,D){let x;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){uU(D,w);const H=[];for(const ne of D)H.push(aU(f,i,ne));x={arrayValue:{values:H}}}else x=aU(f,i,D)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||uU(D,w),x=KN(d,"where",D,"in"===w||"not-in"===w);const O=jo.create(y,w,x);return function(H,ne){if(ne.ht()){const $e=PD(H);if(null!==$e&&!$e.isEqual(ne.field))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${$e.toString()}' and '${ne.field.toString()}'`);const mt=MD(H);null!==mt&&lU(0,ne.field,mt)}const Ne=function($e,mt){for(const Pt of $e.filters)if(mt.indexOf(Pt.op)>=0)return Pt.op;return null}(H,function($e){switch($e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ne.op));if(null!==Ne)throw new Oe(me.INVALID_ARGUMENT,Ne===ne.op?`Invalid query. You cannot use more than one '${ne.op.toString()}' filter.`:`Invalid query. You cannot use '${ne.op.toString()}' filters with '${Ne.toString()}' filters.`)}(i,O),O}(n._query,0,t,n.firestore._databaseId,this.fa,this.da,this._a);return new ci(n.firestore,n.converter,function(i,a){const d=i.filters.concat([a]);return new ec(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(n._query,o))}}class KR extends Hv{constructor(n,t){super(),this.fa=n,this.wa=t,this.type="orderBy"}_apply(n){const t=function(o,i,a){if(null!==o.startAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Vg(i,a);return function(f,y){if(null===MD(f)){const w=PD(f);null!==w&&lU(0,w,y.field)}}(o,d),d}(n._query,this.fa,this.wa);return new ci(n.firestore,n.converter,function(o,i){const a=o.explicitOrderBy.concat([i]);return new ec(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,t))}}class rU extends Hv{constructor(n,t,o){super(),this.type=n,this.ma=t,this.ga=o}_apply(n){return new ci(n.firestore,n.converter,PZ(n._query,this.ma,this.ga))}}class oU extends Hv{constructor(n,t,o){super(),this.type=n,this.ya=t,this.pa=o}_apply(n){const t=sU(n,this.type,this.ya,this.pa);return new ci(n.firestore,n.converter,(i=t,new ec((o=n._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,i,o.endAt)));var o,i}}class iU extends Hv{constructor(n,t,o){super(),this.type=n,this.ya=t,this.pa=o}_apply(n){const t=sU(n,this.type,this.ya,this.pa);return new ci(n.firestore,n.converter,(i=t,new ec((o=n._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,i)));var o,i}}function sU(r,n,t,o){if(t[0]=(0,Jt.m9)(t[0]),t[0]instanceof $v)return function(i,a,d,f,y){if(!f)throw new Oe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const D of jg(i))if(D.field.isKeyField())w.push(wp(a,f.key));else{const x=f.data.field(D.field);if(kD(x))throw new Oe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const O=D.field.canonicalString();throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}w.push(x)}return new Zd(w,y)}(r._query,r.firestore._databaseId,n,t[0]._document,o);{const i=Pp(r.firestore);return function(a,d,f,y,w,D){const x=a.explicitOrderBy;if(w.length>x.length)throw new Oe(me.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let H=0;H<w.length;H++){const ne=w[H];if(x[H].field.isKeyField()){if("string"!=typeof ne)throw new Oe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof ne}`);if(!OD(a)&&-1!==ne.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${ne}' contains a slash.`);const Ne=a.path.child(yn.fromString(ne));if(!nt.isDocumentKey(Ne))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${Ne}' is not because it contains an odd number of segments.`);const $e=new nt(Ne);O.push(wp(d,$e))}else{const Ne=KN(f,y,ne);O.push(Ne)}}return new Zd(O,D)}(r._query,r.firestore._databaseId,i,n,t,o)}}function aU(r,n,t){if("string"==typeof(t=(0,Jt.m9)(t))){if(""===t)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OD(n)&&-1!==t.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=n.path.child(yn.fromString(t));if(!nt.isDocumentKey(o))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return wp(r,new nt(o))}if(t instanceof ir)return wp(r,t._key);throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pw(t)}.`)}function uU(r,n){if(!Array.isArray(r)||0===r.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(r.length>10)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function lU(r,n,t){if(!t.isEqual(n))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const iL={maxAttempts:5};class T2{convertValue(n,t="none"){switch(Tp(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Sr(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,t);case 5:return n.stringValue;case 6:return this.convertBytes(Cp(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,t);case 10:return this.convertObject(n.mapValue,t);default:throw _t()}}convertObject(n,t){const o={};return vp(n.fields,(i,a)=>{o[i]=this.convertValue(a,t)}),o}convertGeoPoint(n){return new Rw(Sr(n.latitude),Sr(n.longitude))}convertArray(n,t){return(n.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(n,t){switch(t){case"previous":const o=vZ(n);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(pv(n));default:return null}}convertTimestamp(n){const t=Dd(n);return new dr(t.seconds,t.nanos)}convertDocumentKey(n,t){const o=yn.fromString(n);Mt(yk(o));const i=new Xl(o.get(1),o.get(3)),a=new nt(o.popFirst(5));return i.isEqual(t)||Xr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function jw(r,n,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(n,t):r.toFirestore(n):n,o}class sL extends T2{constructor(n){super(),this.firestore=n}convertBytes(n){return new $u(n)}convertReference(n){const t=this.convertDocumentKey(n,this.firestore._databaseId);return new ir(this.firestore,null,t)}}class cU{constructor(n,t){this._firestore=n,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Pp(n)}set(n,t,o){this._verifyNotCommitted();const i=Fd(n,this._firestore),a=jw(i.converter,t,o),d=Fw(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,o);return this._mutations.push(d.toMutation(i._key,vr.none())),this}update(n,t,o,...i){this._verifyNotCommitted();const a=Fd(n,this._firestore);let d;return d="string"==typeof(t=(0,Jt.m9)(t))||t instanceof rc?y2(this._dataReader,"WriteBatch.update",a._key,t,o,i):_2(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(d.toMutation(a._key,vr.exists(!0))),this}delete(n){this._verifyNotCommitted();const t=Fd(n,this._firestore);return this._mutations=this._mutations.concat(new Jg(t._key,vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fd(r,n){if((r=(0,Jt.m9)(r)).firestore!==n)throw new Oe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Lp extends T2{constructor(n){super(),this.firestore=n}convertBytes(n){return new $u(n)}convertReference(n){const t=this.convertDocumentKey(n,this.firestore._databaseId);return new ir(this.firestore,null,t)}}function dU(r,n,t){r=gn(r,ir);const o=gn(r.firestore,hr),i=jw(r.converter,n,t);return um(o,[Fw(Pp(o),"setDoc",r._key,i,null!==r.converter,t).toMutation(r._key,vr.none())])}function hU(r,n,t,...o){r=gn(r,ir);const i=gn(r.firestore,hr),a=Pp(i);let d;return d="string"==typeof(n=(0,Jt.m9)(n))||n instanceof rc?y2(a,"updateDoc",r._key,n,t,o):_2(a,"updateDoc",r._key,n),um(i,[d.toMutation(r._key,vr.exists(!0))])}function pU(r,...n){var t,o,i;r=(0,Jt.m9)(r);let a={includeMetadataChanges:!1},d=0;"object"!=typeof n[d]||g2(n[d])||(a=n[d],d++);const f={includeMetadataChanges:a.includeMetadataChanges};if(g2(n[d])){const x=n[d];n[d]=null===(t=x.next)||void 0===t?void 0:t.bind(x),n[d+1]=null===(o=x.error)||void 0===o?void 0:o.bind(x),n[d+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let y,w,D;if(r instanceof ir)w=gn(r.firestore,hr),D=Bg(r._key.path),y={next:x=>{n[d]&&n[d](w2(w,r,x))},error:n[d+1],complete:n[d+2]};else{const x=gn(r,ci);w=gn(x.firestore,hr),D=x._query;const O=new Lp(w);y={next:H=>{n[d]&&n[d](new Rd(w,O,x,H))},error:n[d+1],complete:n[d+2]},nU(r._query)}return function(x,O,H,ne){const Ne=new Uw(ne),$e=new US(O,Ne,H);return x.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return SS(yield am(x),$e)})),()=>{Ne.Tc(),x.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return ZS(yield am(x),$e)}))}}(to(w),D,f,y)}function um(r,n){return function(t,o){const i=new Eo;return t.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function YO(r,n,t){return LS.apply(this,arguments)}(yield h2(t),o,i)})),i.promise}(to(r),n)}function w2(r,n,t){const o=t.docs.get(n._key),i=new Lp(r);return new oc(r,i,n._key,o,new Rp(t.hasPendingWrites,t.fromCache),n.converter)}class mL extends class{constructor(n,t){this._firestore=n,this._transaction=t,this._dataReader=Pp(n)}get(n){const t=Fd(n,this._firestore),o=new sL(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return _t();const a=i[0];if(a.isFoundDocument())return new $v(this._firestore,o,a.key,a,t.converter);if(a.isNoDocument())return new $v(this._firestore,o,t._key,null,t.converter);throw _t()})}set(n,t,o){const i=Fd(n,this._firestore),a=jw(i.converter,t,o),d=Fw(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,o);return this._transaction.set(i._key,d),this}update(n,t,o,...i){const a=Fd(n,this._firestore);let d;return d="string"==typeof(t=(0,Jt.m9)(t))||t instanceof rc?y2(this._dataReader,"Transaction.update",a._key,t,o,i):_2(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,d),this}delete(n){const t=Fd(n,this._firestore);return this._transaction.delete(t._key),this}}{constructor(n,t){super(n,t),this._firestore=n}get(n){const t=Fd(n,this._firestore),o=new Lp(this._firestore);return super.get(n).then(i=>new oc(this._firestore,o,t._key,i._document,new Rp(!1,!1),t.converter))}}function b2(r,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return n}function gU(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function mU(){if(!function qM(){return"undefined"!=typeof atob}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,n=!0){Rg=Ya.SDK_VERSION,(0,Ya._registerComponent)(new cg.wA("firestore",(t,{options:o})=>{const i=t.getProvider("app").getImmediate(),a=new hr(i,new ZM(t.getProvider("auth-internal")),new UM(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC")),(0,Ya.registerVersion)(sZ,"3.4.13",r),(0,Ya.registerVersion)(sZ,"3.4.13","esm2017")}();class Jv{constructor(n){this._delegate=n}static fromBase64String(n){return mU(),new Jv($u.fromBase64String(n))}static fromUint8Array(n){return gU(),new Jv($u.fromUint8Array(n))}toBase64(){return mU(),this._delegate.toBase64()}toUint8Array(){return gU(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function A2(r){return function IL(r,n){if("object"!=typeof r||null===r)return!1;const t=r;for(const o of n)if(o in t&&"function"==typeof t[o])return!0;return!1}(r,["next","error","complete"])}class EL{enableIndexedDbPersistence(n,t){return function NR(r,n){JN(r=gn(r,hr));const t=to(r),o=r._freezeSettings(),i=new i2;return HN(t,i,new SN(i,o.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(n){return function UR(r){JN(r=gn(r,hr));const n=to(r),t=r._freezeSettings(),o=new i2;return HN(n,o,new fR(o,t.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function MR(r){if(r._initialized&&!r._terminated)throw new Oe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new Eo;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(t=(0,Ae.Z)(function*(o){if(!tu.V())return Promise.resolve();const i=o+"main";yield tu.delete(i)}),function(o){return t.apply(this,arguments)})(XD(r._databaseId,r._persistenceKey)),n.resolve()}catch(t){n.reject(t)}var t})),n.promise}(n._delegate)}}class _U{constructor(n,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},n instanceof Xl||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const t=this._delegate._getSettings();!n.merge&&t.host!==n.host&&lv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},t),n)).merge,this._delegate._setSettings(n)}useEmulator(n,t,o={}){!function DR(r,n,t,o={}){var i;const a=(r=gn(r,Bv))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==n&&lv("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},a),{host:`${n}:${t}`,ssl:!1})),o.mockUserToken){let d,f;if("string"==typeof o.mockUserToken)d=o.mockUserToken,f=Io.MOCK_USER;else{d=(0,Jt.Sg)(o.mockUserToken,null===(i=r._app)||void 0===i?void 0:i.options.projectId);const y=o.mockUserToken.sub||o.mockUserToken.user_id;if(!y)throw new Oe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Io(y)}r._authCredentials=new xM(new aZ(d,f))}}(this._delegate,n,t,o)}enableNetwork(){return function OR(r){return function vR(r){return r.asyncQueue.enqueue((0,Ae.Z)(function*(){const n=yield NN(r),t=yield UN(r);return n.setNetworkEnabled(!0),function(o){const i=ot(o);return i.lu.delete(0),qv(i)}(t)}))}(to(r=gn(r,hr)))}(this._delegate)}disableNetwork(){return function RR(r){return function CR(r){return r.asyncQueue.enqueue((0,Ae.Z)(function*(){const n=yield NN(r),t=yield UN(r);return n.setNetworkEnabled(!1),(o=(0,Ae.Z)(function*(i){const a=ot(i);a.lu.add(0),yield em(a),a._u.set("Offline")}),function(i){return o.apply(this,arguments)})(t);var o}))}(to(r=gn(r,hr)))}(this._delegate)}enablePersistence(n){let t=!1,o=!1;return n&&(t=!!n.synchronizeTabs,o=!!n.experimentalForceOwningTab,RN("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function PR(r){return function(n){const t=new Eo;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function nR(r,n){return jS.apply(this,arguments)}(yield h2(n),t)})),t.promise}(to(r=gn(r,hr)))}(this._delegate)}onSnapshotsInSync(n){return function gL(r,n){return function bR(r,n){const t=new Uw(n);return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return o=yield am(r),i=t,ot(o).Tu.add(i),void i.next();var o,i})),()=>{t.Tc(),r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return o=yield am(r),i=t,void ot(o).Tu.delete(i);var o,i}))}}(to(r=gn(r,hr)),g2(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new lm(this,BN(this._delegate,n))}catch(t){throw xi(t,"collection()","Firestore.collection()")}}doc(n){try{return new va(this,Ow(this._delegate,n))}catch(t){throw xi(t,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Zi(this,function SR(r,n){if(r=gn(r,Bv),f2("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ci(r,null,(t=n,new ec(yn.emptyPath(),t)));var t}(this._delegate,n))}catch(t){throw xi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function _L(r,n,t){r=gn(r,hr);const o=Object.assign(Object.assign({},iL),t);return function(i){if(i.maxAttempts<1)throw new Oe(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function AR(r,n,t){const o=new Eo;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const i=yield(a=r,Mw(a).then(d=>d.datastore));var a;new _R(r.asyncQueue,i,t,n,o).run()})),o.promise}(to(r),i=>n(new mL(r,i)),o)}(this._delegate,t=>n(new yU(this,t)))}batch(){return to(this._delegate),new vU(new cU(this._delegate,n=>um(this._delegate,n)))}loadBundle(n){return function LR(r,n){const t=to(r=gn(r,hr)),o=new ZR;return function IR(r,n,t,o){const i=function(a,d){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,y=function(y,w){if(y instanceof Uint8Array)return xN(y,w);if(y instanceof ArrayBuffer)return xN(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new gR(y,d);var y}(t,Fv(n));r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function pR(r,n,t){const o=ot(r);var i;(i=(0,Ae.Z)(function*(a,d,f){try{const y=yield d.getMetadata();if(yield function(O,H){const ne=ot(O),Ne=Do(H.createTime);return ne.persistence.runTransaction("hasNewerBundle","readonly",$e=>ne.Ds.getBundleMetadata($e,H.id)).then($e=>!!$e&&$e.createTime.compareTo(Ne)>=0)}(a.localStore,y))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(O=y).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);f._updateProgress(yN(y));const w=new HO(y,a.localStore,d.wt);let D=yield d.fc();for(;D;){const O=yield w.Nu(D);O&&f._updateProgress(O),D=yield d.fc()}const x=yield w.complete();return yield nc(a,x.Mu,void 0),yield function(O,H){const ne=ot(O);return ne.persistence.runTransaction("Save bundle","readwrite",Ne=>ne.Ds.saveBundleMetadata(Ne,H))}(a.localStore,y),f._completeWith(x.progress),Promise.resolve(x.Ou)}catch(y){return lv("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y),Promise.resolve(new Set)}var O}),function(a,d,f){return i.apply(this,arguments)})(o,n,t).then(i=>{o.sharedClientState.notifyBundleLoaded(i)})}(yield h2(r),i,o)}))}(t,r._databaseId,n,o),o}(this._delegate,n)}namedQuery(n){return function FR(r,n){return function ER(r,n){return r.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(t,o){const i=ot(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ds.getNamedQuery(a,o))}(yield d2(r),n)}))}(to(r=gn(r,hr)),n).then(t=>t?new ci(r,null,t.query):null)}(this._delegate,n).then(t=>t?new Zi(this,t):null)}}class $w extends T2{constructor(n){super(),this.firestore=n}convertBytes(n){return new Jv(new $u(n))}convertReference(n){const t=this.convertDocumentKey(n,this.firestore._databaseId);return va.forKey(t,this.firestore,null)}}class yU{constructor(n,t){this._firestore=n,this._delegate=t,this._userDataWriter=new $w(n)}get(n){const t=qp(n);return this._delegate.get(t).then(o=>new Wv(this._firestore,new oc(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(n,t,o){const i=qp(n);return o?(b2("Transaction.set",o),this._delegate.set(i,t,o)):this._delegate.set(i,t),this}update(n,t,o,...i){const a=qp(n);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,o,...i),this}delete(n){const t=qp(n);return this._delegate.delete(t),this}}class vU{constructor(n){this._delegate=n}set(n,t,o){const i=qp(n);return o?(b2("WriteBatch.set",o),this._delegate.set(i,t,o)):this._delegate.set(i,t),this}update(n,t,o,...i){const a=qp(n);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,o,...i),this}delete(n){const t=qp(n);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Fp{constructor(n,t,o){this._firestore=n,this._userDataWriter=t,this._delegate=o}fromFirestore(n,t){const o=new Gv(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new zv(this._firestore,o),null!=t?t:{})}toFirestore(n,t){return t?this._delegate.toFirestore(n,t):this._delegate.toFirestore(n)}static getInstance(n,t){const o=Fp.INSTANCES;let i=o.get(n);i||(i=new WeakMap,o.set(n,i));let a=i.get(t);return a||(a=new Fp(n,new $w(n),t),i.set(t,a)),a}}Fp.INSTANCES=new WeakMap;class va{constructor(n,t){this.firestore=n,this._delegate=t,this._userDataWriter=new $w(n)}static forPath(n,t,o){if(n.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new va(t,new ir(t._delegate,o,new nt(n)))}static forKey(n,t,o){return new va(t,new ir(t._delegate,o,n))}get id(){return this._delegate.id}get parent(){return new lm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new lm(this.firestore,BN(this._delegate,n))}catch(t){throw xi(t,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,Jt.m9)(n))instanceof ir&&jN(this._delegate,n)}set(n,t){t=b2("DocumentReference.set",t);try{return t?dU(this._delegate,n,t):dU(this._delegate,n)}catch(o){throw xi(o,"setDoc()","DocumentReference.set()")}}update(n,t,...o){try{return 1===arguments.length?hU(this._delegate,n):hU(this._delegate,n,t,...o)}catch(i){throw xi(i,"updateDoc()","DocumentReference.update()")}}delete(){return function pL(r){return um(gn(r.firestore,hr),[new Jg(r._key,vr.none())])}(this._delegate)}onSnapshot(...n){const t=CU(n),o=TU(n,i=>new Wv(this.firestore,new oc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return pU(this._delegate,t,o)}get(n){let t;return t="cache"===(null==n?void 0:n.source)?function uL(r){r=gn(r,ir);const n=gn(r.firestore,hr),t=to(n),o=new Lp(n);return function TR(r,n){const t=new Eo;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(o=(0,Ae.Z)(function*(i,a,d){try{const f=yield function(y,w){const D=ot(y);return D.persistence.runTransaction("read document","readonly",x=>D.localDocuments.getDocument(x,w))}(i,a);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Oe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=rm(f,`Failed to get document '${a} from cache`);d.reject(y)}}),function(i,a,d){return o.apply(this,arguments)})(yield d2(r),n,t);var o})),t.promise}(t,r._key).then(i=>new oc(n,o,r._key,i,new Rp(null!==i&&i.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function lL(r){r=gn(r,ir);const n=gn(r.firestore,hr);return MN(to(n),r._key,{source:"server"}).then(t=>w2(n,r,t))}(this._delegate):function aL(r){r=gn(r,ir);const n=gn(r.firestore,hr);return MN(to(n),r._key).then(t=>w2(n,r,t))}(this._delegate),t.then(o=>new Wv(this.firestore,new oc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(n){return new va(this.firestore,this._delegate.withConverter(n?Fp.getInstance(this.firestore,n):null))}}function xi(r,n,t){return r.message=r.message.replace(n,t),r}function CU(r){for(const n of r)if("object"==typeof n&&!A2(n))return n;return{}}function TU(r,n){var t,o;let i;return i=A2(r[0])?r[0]:A2(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:a=>{i.next&&i.next(n(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(o=i.complete)||void 0===o?void 0:o.bind(i)}}class Wv{constructor(n,t){this._firestore=n,this._delegate=t}get ref(){return new va(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,t){return this._delegate.get(n,t)}isEqual(n){return tU(this._delegate,n._delegate)}}class zv extends Wv{data(n){const t=this._delegate.data(n);return function DM(r,n){r||_t()}(void 0!==t),t}}class Zi{constructor(n,t){this.firestore=n,this._delegate=t,this._userDataWriter=new $w(n)}where(n,t,o){try{return new Zi(this.firestore,Ld(this._delegate,function QR(r,n,t){const o=n,i=Bw("where",r);return new zR(i,o,t)}(n,t,o)))}catch(i){throw xi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,t){try{return new Zi(this.firestore,Ld(this._delegate,function YR(r,n="asc"){const t=n,o=Bw("orderBy",r);return new KR(o,t)}(n,t)))}catch(o){throw xi(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Zi(this.firestore,Ld(this._delegate,function XR(r){return qN("limit",r),new rU("limit",r,"F")}(n)))}catch(t){throw xi(t,"limit()","Query.limit()")}}limitToLast(n){try{return new Zi(this.firestore,Ld(this._delegate,function eL(r){return qN("limitToLast",r),new rU("limitToLast",r,"L")}(n)))}catch(t){throw xi(t,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Zi(this.firestore,Ld(this._delegate,function tL(...r){return new oU("startAt",r,!0)}(...n)))}catch(t){throw xi(t,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Zi(this.firestore,Ld(this._delegate,function nL(...r){return new oU("startAfter",r,!1)}(...n)))}catch(t){throw xi(t,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Zi(this.firestore,Ld(this._delegate,function rL(...r){return new iU("endBefore",r,!1)}(...n)))}catch(t){throw xi(t,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Zi(this.firestore,Ld(this._delegate,function oL(...r){return new iU("endAt",r,!0)}(...n)))}catch(t){throw xi(t,"endAt()","Query.endAt()")}}isEqual(n){return $N(this._delegate,n._delegate)}get(n){let t;return t="cache"===(null==n?void 0:n.source)?function dL(r){r=gn(r,ci);const n=gn(r.firestore,hr),t=to(n),o=new Lp(n);return function wR(r,n){const t=new Eo;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(o=(0,Ae.Z)(function*(i,a,d){try{const f=yield Dw(i,a,!0),y=new TN(a,f.ji),w=y.Ku(f.documents),D=y.applyChanges(w,!1);d.resolve(D.snapshot)}catch(f){const y=rm(f,`Failed to execute query '${a} against cache`);d.reject(y)}}),function(i,a,d){return o.apply(this,arguments)})(yield d2(r),n,t);var o})),t.promise}(t,r._query).then(i=>new Rd(n,o,r,i))}(this._delegate):"server"===(null==n?void 0:n.source)?function hL(r){r=gn(r,ci);const n=gn(r.firestore,hr),t=to(n),o=new Lp(n);return PN(t,r._query,{source:"server"}).then(i=>new Rd(n,o,r,i))}(this._delegate):function cL(r){r=gn(r,ci);const n=gn(r.firestore,hr),t=to(n),o=new Lp(n);return nU(r._query),PN(t,r._query).then(i=>new Rd(n,o,r,i))}(this._delegate),t.then(o=>new I2(this.firestore,new Rd(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...n){const t=CU(n),o=TU(n,i=>new I2(this.firestore,new Rd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return pU(this._delegate,t,o)}withConverter(n){return new Zi(this.firestore,this._delegate.withConverter(n?Fp.getInstance(this.firestore,n):null))}}class SL{constructor(n,t){this._firestore=n,this._delegate=t}get type(){return this._delegate.type}get doc(){return new zv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class I2{constructor(n,t){this._firestore=n,this._delegate=t}get query(){return new Zi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new zv(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(t=>new SL(this._firestore,t))}forEach(n,t){this._delegate.forEach(o=>{n.call(t,new zv(this._firestore,o))})}isEqual(n){return tU(this._delegate,n._delegate)}}class lm extends Zi{constructor(n,t){super(n,t),this.firestore=n,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new va(this.firestore,n):null}doc(n){try{return new va(this.firestore,void 0===n?Ow(this._delegate):Ow(this._delegate,n))}catch(t){throw xi(t,"doc()","CollectionReference.doc()")}}add(n){return function fL(r,n){const t=gn(r.firestore,hr),o=Ow(r),i=jw(r.converter,n);return um(t,[Fw(Pp(r.firestore),"addDoc",o._key,i,null!==r.converter,{}).toMutation(o._key,vr.exists(!1))]).then(()=>o)}(this._delegate,n).then(t=>new va(this.firestore,t))}isEqual(n){return jN(this._delegate,n._delegate)}withConverter(n){return new lm(this.firestore,this._delegate.withConverter(n?Fp.getInstance(this.firestore,n):null))}}function qp(r){return gn(r,ir)}class E2{constructor(...n){this._delegate=new rc(...n)}static documentId(){return new E2(Lr.keyField().canonicalString())}isEqual(n){return(n=(0,Jt.m9)(n))instanceof rc&&this._delegate._internalPath.isEqual(n._internalPath)}}class Vp{constructor(n){this._delegate=n}static serverTimestamp(){const n=function vL(){return new m2("serverTimestamp")}();return n._methodName="FieldValue.serverTimestamp",new Vp(n)}static delete(){const n=function yL(){return new jv("deleteField")}();return n._methodName="FieldValue.delete",new Vp(n)}static arrayUnion(...n){const t=function CL(...r){return new jR("arrayUnion",r)}(...n);return t._methodName="FieldValue.arrayUnion",new Vp(t)}static arrayRemove(...n){const t=function TL(...r){return new $R("arrayRemove",r)}(...n);return t._methodName="FieldValue.arrayRemove",new Vp(t)}static increment(n){const t=function wL(r){return new GR("increment",r)}(n);return t._methodName="FieldValue.increment",new Vp(t)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const xL={Firestore:_U,GeoPoint:Rw,Timestamp:dr,Blob:Jv,Transaction:yU,WriteBatch:vU,DocumentReference:va,DocumentSnapshot:Wv,Query:Zi,QueryDocumentSnapshot:zv,QuerySnapshot:I2,CollectionReference:lm,FieldPath:E2,FieldValue:Vp,setLogLevel:function DL(r){!function EM(r){Ad.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function kL(r){(function ZL(r,n){r.INTERNAL.registerComponent(new cg.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return n(o,i)},"PUBLIC").setServiceProps(Object.assign({},xL)))})(r,(n,t)=>new _U(n,t,new EL)),r.registerVersion("@firebase/firestore-compat","0.1.22")}(bT.Z);var NL=M(6451),Gw=M(5363),UL=M(6063);class wU extends zi.x{constructor(n=1/0,t=1/0,o=UL.l){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){const{isStopped:t,_buffer:o,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:d}=this;t||(o.push(n),!i&&o.push(a.now()+d)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(n),{_infiniteTimeWindow:o,_buffer:i}=this,a=i.slice();for(let d=0;d<a.length&&!n.closed;d+=o?1:2)n.next(a[d]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){const{_bufferSize:n,_timestampProvider:t,_buffer:o,_infiniteTimeWindow:i}=this,a=(i?1:2)*n;if(n<1/0&&a<o.length&&o.splice(0,o.length-a),!i){const d=t.now();let f=0;for(let y=1;y<o.length&&o[y]<=d;y+=2)f=y;f&&o.splice(0,f+1)}}}var ML=M(3099);function bU(r,n,t){let o,i=!1;return r&&"object"==typeof r?({bufferSize:o=1/0,windowTime:n=1/0,refCount:i=!1,scheduler:t}=r):o=null!=r?r:1/0,(0,ML.B)({connector:()=>new wU(o,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function AU(r,n){return(0,Ch.m)(n)?lo(()=>r,n):lo(()=>r)}var D2=M(9468);M(5867);const EU=new Map,FL={activated:!1,tokenObservers:[]},qL={initialized:!1,enabled:!1};function Zo(r){return EU.get(r)||FL}function nu(r,n){EU.set(r,n)}function Jw(){return qL}class GL{constructor(n,t,o,i,a){if(this.operation=n,this.retryPolicy=t,this.getWaitDuration=o,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var t=this;return(0,Ae.Z)(function*(){t.stop();try{t.pending=new Jt.BH,yield function HL(r){return new Promise(n=>{setTimeout(n,r)})}(t.getNextRun(n)),t.pending.resolve(),yield t.pending.promise,t.pending=new Jt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(o){t.retryPolicy(o)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ki=new Jt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function SU(r){if(!Zo(r).activated)throw ki.create("use-before-activation",{appName:r.name})}function k2(r,n){return N2.apply(this,arguments)}function N2(){return N2=(0,Ae.Z)(function*({url:r,body:n},t){var o,i;const a={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const H=yield d.getHeartbeatsHeader();H&&(a["X-Firebase-Client"]=H)}const f={method:"POST",body:JSON.stringify(n),headers:a};let y,w;try{y=yield fetch(r,f)}catch(H){throw ki.create("fetch-network-error",{originalErrorMessage:null===(o=H)||void 0===o?void 0:o.message})}if(200!==y.status)throw ki.create("fetch-status-error",{httpStatus:y.status});try{w=yield y.json()}catch(H){throw ki.create("fetch-parse-error",{originalErrorMessage:null===(i=H)||void 0===i?void 0:i.message})}const D=w.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw ki.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const x=1e3*Number(D[1]),O=Date.now();return{token:w.token,expireTimeMillis:O+x,issuedAtTimeMillis:O}}),N2.apply(this,arguments)}function QL(r,n){const{projectId:t,appId:o,apiKey:i}=r.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${o}:exchangeDebugToken?key=${i}`,body:{debug_token:n}}}const Qv="firebase-app-check-store";let Qw=null;function ZU(){return Qw||(Qw=new Promise((r,n)=>{var t;try{const o=indexedDB.open("firebase-app-check-database",1);o.onsuccess=i=>{r(i.target.result)},o.onerror=i=>{var a;n(ki.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},o.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Qv,{keyPath:"compositeKey"})}}catch(o){n(ki.create("storage-open",{originalErrorMessage:null===(t=o)||void 0===t?void 0:t.message}))}}),Qw)}function U2(){return U2=(0,Ae.Z)(function*(r,n){const o=(yield ZU()).transaction(Qv,"readwrite"),a=o.objectStore(Qv).put({compositeKey:r,value:n});return new Promise((d,f)=>{a.onsuccess=y=>{d()},o.onerror=y=>{var w;f(ki.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})}),U2.apply(this,arguments)}const Kv=new _a.Yd("@firebase/app-check");function MU(r,n){return(0,Jt.hl)()?function e6(r,n){return function kU(r,n){return U2.apply(this,arguments)}(function UU(r){return`${r.options.appId}-${r.name}`}(r),n)}(r,n).catch(t=>{Kv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function PU(){return Jw().enabled}function OU(){return R2.apply(this,arguments)}function R2(){return R2=(0,Ae.Z)(function*(){const r=Jw();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),R2.apply(this,arguments)}const s6={error:"UNKNOWN_ERROR"};function a6(r){return Jt.US.encodeString(JSON.stringify(r),!1)}function Kw(r){return L2.apply(this,arguments)}function L2(){return L2=(0,Ae.Z)(function*(r,n=!1){const t=r.app;SU(t);const o=Zo(t);let a,i=o.token;if(!i){const y=yield o.cachedTokenPromise;y&&Yw(y)&&(i=y)}if(!n&&i&&Yw(i))return{token:i.token};let f,d=!1;if(PU()){o.exchangeTokenPromise||(o.exchangeTokenPromise=k2(QL(t,yield OU()),r.heartbeatServiceProvider).then(w=>(o.exchangeTokenPromise=void 0,w)),d=!0);const y=yield o.exchangeTokenPromise;return yield MU(t,y),nu(t,Object.assign(Object.assign({},o),{token:y})),{token:y.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().then(y=>(o.exchangeTokenPromise=void 0,y)),d=!0),i=yield o.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Kv.warn(y.message):Kv.error(y),a=y}return i?(f={token:i.token},nu(t,Object.assign(Object.assign({},o),{token:i})),yield MU(t,i)):f=l6(a),d&&LU(t,f),f}),L2.apply(this,arguments)}function q2(r,n){const t=Zo(r),o=t.tokenObservers.filter(i=>i.next!==n);0===o.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),nu(r,Object.assign(Object.assign({},t),{tokenObservers:o}))}function RU(r){const{app:n}=r,t=Zo(n);let o=t.tokenRefresher;o||(o=function u6(r){const{app:n}=r;return new GL((0,Ae.Z)(function*(){let o;if(o=Zo(n).token?yield Kw(r,!0):yield Kw(r),o.error)throw o.error}),()=>!0,()=>{const t=Zo(n);if(t.token){let o=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,t.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(r),nu(n,Object.assign(Object.assign({},t),{tokenRefresher:o}))),!o.isRunning()&&t.isTokenAutoRefreshEnabled&&o.start()}function LU(r,n){const t=Zo(r).tokenObservers;for(const o of t)try{"EXTERNAL"===o.type&&null!=n.error?o.error(n.error):o.next(n)}catch(i){}}function Yw(r){return r.expireTimeMillis-Date.now()>0}function l6(r){return{token:a6(s6),error:r}}class c6{constructor(n,t){this.app=n,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:n}=Zo(this.app);for(const t of n)q2(this.app,t.next);return Promise.resolve()}}const HU="app-check-internal";!function A6(){(0,Ya._registerComponent)(new cg.wA("app-check",r=>function d6(r,n){return new c6(r,n)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,n,t)=>{r.getProvider(HU).initialize()})),(0,Ya._registerComponent)(new cg.wA(HU,r=>function h6(r){return{getToken:n=>Kw(r,n),addTokenListener:n=>function F2(r,n,t,o){const{app:i}=r,a=Zo(i),d={next:t,error:o,type:n};if(nu(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,d]})),a.token&&Yw(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),RU(r)}).catch(()=>{})}a.cachedTokenPromise.then(()=>RU(r))}(r,"INTERNAL",n),removeTokenListener:n=>q2(r.app,n)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ya.registerVersion)("@firebase/app-check","0.5.12")}();class $2{constructor(){return(0,co.vb)("app-check")}}"undefined"!=typeof window&&window;var x6=M(127);const WU=new e.OlP("angularfire2.auth.use-emulator"),zU=new e.OlP("angularfire2.auth.settings"),QU=new e.OlP("angularfire2.auth.tenant-id"),KU=new e.OlP("angularfire2.auth.langugage-code"),YU=new e.OlP("angularfire2.auth.use-device-language"),XU=new e.OlP("angularfire.auth.persistence"),eM=(r,n,t,o,i,a,d,f)=>(0,Di.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const y=n.runOutsideAngular(()=>r.auth());if(t&&y.useEmulator(...t),o&&(y.tenantId=o),y.languageCode=i,a&&y.useDeviceLanguage(),d)for(const[w,D]of Object.entries(d))y.settings[w]=D;return f&&y.setPersistence(f),y},[t,o,i,a,d,f]);let eb=(()=>{class r{constructor(t,o,i,a,d,f,y,w,D,x,O,H){const ne=new zi.x,Ne=bt(void 0).pipe((0,Gw.Q)(d.outsideAngular),lo(()=>a.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,5881)))),(0,K.U)(()=>(0,Di.on)(t,a,o)),(0,K.U)($e=>eM($e,a,f,w,D,x,y,O)),bU({bufferSize:1,refCount:!1}));if(Gd(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=bt(null);else{Ne.pipe(ra()).subscribe();const mt=Ne.pipe(lo(It=>It.getRedirectResult().then(Xt=>Xt,()=>null)),co.iC,bU({bufferSize:1,refCount:!1})),Pt=Ne.pipe(lo(It=>new Gr.y(Xt=>({unsubscribe:a.runOutsideAngular(()=>It.onAuthStateChanged(Zn=>Xt.next(Zn),Zn=>Xt.error(Zn),()=>Xt.complete()))})))),Yt=Ne.pipe(lo(It=>new Gr.y(Xt=>({unsubscribe:a.runOutsideAngular(()=>It.onIdTokenChanged(Zn=>Xt.next(Zn),Zn=>Xt.error(Zn),()=>Xt.complete()))}))));this.authState=mt.pipe(AU(Pt),(0,D2.R)(d.outsideAngular),(0,Gw.Q)(d.insideAngular)),this.user=mt.pipe(AU(Yt),(0,D2.R)(d.outsideAngular),(0,Gw.Q)(d.insideAngular)),this.idToken=this.user.pipe(lo(It=>It?(0,In.D)(It.getIdToken()):bt(null))),this.idTokenResult=this.user.pipe(lo(It=>It?(0,In.D)(It.getIdTokenResult()):bt(null))),this.credential=(0,NL.T)(mt,ne,this.authState.pipe(He(It=>!It))).pipe((0,K.U)(It=>null!=It&&It.user?It:null),(0,D2.R)(d.outsideAngular),(0,Gw.Q)(d.insideAngular))}return(0,Di.pX)(this,Ne,a,{spy:{apply:($e,mt,Pt)=>{($e.startsWith("signIn")||$e.startsWith("createUser"))&&Pt.then(Yt=>ne.next(Yt))}}})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Di.Dh),e.LFG(Di.xv,8),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(co.HU),e.LFG(WU,8),e.LFG(zU,8),e.LFG(QU,8),e.LFG(KU,8),e.LFG(YU,8),e.LFG(XU,8),e.LFG($2,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),k6=(()=>{class r{constructor(){x6.Z.registerVersion("angularfire",co.q4.full,"auth-compat")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[eb]}),r})();function tM(r,n){return function N6(r,n=w1.z){return new Gr.y(t=>{let o;return null!=n?n.schedule(()=>{o=r.onSnapshot({includeMetadataChanges:!0},t)}):o=r.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(r,n)}function H2(r,n){return tM(r,n).pipe((0,K.U)(t=>({payload:t,type:"query"})))}function tb(r,n){return H2(r,n).pipe(Iu(void 0),yy(),(0,K.U)(([t,o])=>{const i=o.payload.docChanges(),a=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((d,f)=>{const y=i.find(D=>D.doc.ref.isEqual(d.ref)),w=null==t?void 0:t.payload.docs.find(D=>D.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),a}))}function nM(r,n,t){return tb(r,t).pipe(Fc((o,i)=>function M6(r,n,t){return n.forEach(o=>{t.indexOf(o.type)>-1&&(r=function P6(r,n){switch(n.type){case"added":if(!r[n.newIndex]||!r[n.newIndex].doc.ref.isEqual(n.doc.ref))return J2(r,n.newIndex,0,n);break;case"modified":if(null==r[n.oldIndex]||r[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const t=r.slice();return t.splice(n.oldIndex,1),t.splice(n.newIndex,0,n),t}return J2(r,n.newIndex,1,n)}break;case"removed":if(r[n.oldIndex]&&r[n.oldIndex].doc.ref.isEqual(n.doc.ref))return J2(r,n.oldIndex,1)}return r}(r,o))}),r}(o,i.map(a=>a.payload),n),[]),function FE(r,n=yh.y){return r=null!=r?r:wT,(0,Co.e)((t,o)=>{let i,a=!0;t.subscribe((0,mr.x)(o,d=>{const f=n(d);(a||!r(i,f))&&(a=!1,i=f,o.next(d))}))})}(),(0,K.U)(o=>o.map(i=>({type:i.type,payload:i}))))}function J2(r,n,t,...o){const i=r.slice();return i.splice(n,t,...o),i}function rM(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class oM{constructor(n,t,o){this.ref=n,this.query=t,this.afs=o}stateChanges(n){let t=tb(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(t=t.pipe((0,K.U)(o=>o.filter(i=>n.indexOf(i.type)>-1)))),t.pipe(Iu(void 0),yy(),He(([o,i])=>i.length>0||!o),(0,K.U)(([o,i])=>i),co.iC)}auditTrail(n){return this.stateChanges(n).pipe(Fc((t,o)=>[...t,...o],[]))}snapshotChanges(n){const t=rM(n);return nM(this.query,t,this.afs.schedulers.outsideAngular).pipe(co.iC)}valueChanges(n={}){return H2(this.query,this.afs.schedulers.outsideAngular).pipe((0,K.U)(t=>t.payload.docs.map(o=>n.idField?Object.assign(Object.assign({},o.data()),{[n.idField]:o.id}):o.data())),co.iC)}get(n){return(0,In.D)(this.query.get(n)).pipe(co.iC)}add(n){return this.ref.add(n)}doc(n){return new iM(this.ref.doc(n),this.afs)}}class iM{constructor(n,t){this.ref=n,this.afs=t}set(n,t){return this.ref.set(n,t)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,t){const o=this.ref.collection(n),{ref:i,query:a}=sM(o,t);return new oM(i,a,this.afs)}snapshotChanges(){return function U6(r,n){return tM(r,n).pipe(Iu(void 0),yy(),(0,K.U)(([t,o])=>o.exists?null!=t&&t.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(co.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,K.U)(({payload:t})=>n.idField?Object.assign(Object.assign({},t.data()),{[n.idField]:t.id}):t.data()))}get(n){return(0,In.D)(this.ref.get(n)).pipe(co.iC)}}class O6{constructor(n,t){this.query=n,this.afs=t}stateChanges(n){return n&&0!==n.length?tb(this.query,this.afs.schedulers.outsideAngular).pipe((0,K.U)(t=>t.filter(o=>n.indexOf(o.type)>-1)),He(t=>t.length>0),co.iC):tb(this.query,this.afs.schedulers.outsideAngular).pipe(co.iC)}auditTrail(n){return this.stateChanges(n).pipe(Fc((t,o)=>[...t,...o],[]))}snapshotChanges(n){const t=rM(n);return nM(this.query,t,this.afs.schedulers.outsideAngular).pipe(co.iC)}valueChanges(n={}){return H2(this.query,this.afs.schedulers.outsideAngular).pipe((0,K.U)(o=>o.payload.docs.map(i=>n.idField?Object.assign({[n.idField]:i.id},i.data()):i.data())),co.iC)}get(n){return(0,In.D)(this.query.get(n)).pipe(co.iC)}}const R6=new e.OlP("angularfire2.enableFirestorePersistence"),L6=new e.OlP("angularfire2.firestore.persistenceSettings"),F6=new e.OlP("angularfire2.firestore.settings"),q6=new e.OlP("angularfire2.firestore.use-emulator");function sM(r,n=(t=>t)){return{query:n(r),ref:r}}let V6=(()=>{class r{constructor(t,o,i,a,d,f,y,w,D,x,O,H,ne,Ne,$e,mt,Pt){this.schedulers=y;const Yt=(0,Di.on)(t,f,o),It=D;x&&eM(Yt,f,O,ne,Ne,$e,H,mt),[this.firestore,this.persistenceEnabled$]=(0,Di.cc)(`${Yt.name}.firestore`,"AngularFirestore",Yt.name,()=>{const Xt=f.runOutsideAngular(()=>Yt.firestore());if(a&&Xt.settings(a),It&&Xt.useEmulator(...It),i&&!Gd(d)){const Zn=()=>{try{return(0,In.D)(Xt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(di){return"undefined"!=typeof console&&console.warn(di),bt(!1)}};return[Xt,f.runOutsideAngular(Zn)]}return[Xt,bt(!1)]},[a,It,i])}collection(t,o){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:d}=sM(i,o),f=this.schedulers.ngZone.run(()=>a);return new oM(f,d,this)}collectionGroup(t,o){const i=o||(d=>d),a=this.firestore.collectionGroup(t);return new O6(i(a),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>o);return new iM(i,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Di.Dh),e.LFG(Di.xv,8),e.LFG(R6,8),e.LFG(F6,8),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(co.HU),e.LFG(L6,8),e.LFG(q6,8),e.LFG(eb,8),e.LFG(WU,8),e.LFG(zU,8),e.LFG(QU,8),e.LFG(KU,8),e.LFG(YU,8),e.LFG(XU,8),e.LFG($2,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),W2=(()=>{class r{constructor(t,o){this.afs=t,this.afAuth=o,this.afAuth.authState.subscribe(i=>{i?(this.userData=i,localStorage.setItem("fire.user",JSON.stringify(this.userData))):localStorage.setItem("fire.user","null")})}get isLoggedIn(){const t=localStorage.getItem("fire.user"),o=JSON.parse(t||"null");return null!==o&&!1!==o.emailVerified}GoogleAuth(){return this.AuthLogin(new _y.Q).then(t=>{})}getToken(){return Is(this,void 0,void 0,function*(){var t=yield this.afAuth.currentUser;return yield null==t?void 0:t.getIdToken(!1)})}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(o=>{this.SetUserData(o.user)}).catch(o=>{window.alert(o)})}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("fire.user")})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(V6),e.LFG(eb))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function B6(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",2),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.logOut())}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.hij("[",t.userName,"]")}}function j6(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",3),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.GoogleAuth())}),e._uU(1,"[LOGIN]"),e.qZA()}}let $6=(()=>{class r{constructor(t){this.fireAuthService=t}get loggedIn(){return this.fireAuthService.isLoggedIn}get userName(){var t,o;return(null===(o=null===(t=this.fireAuthService)||void 0===t?void 0:t.userData)||void 0===o?void 0:o.displayName)||"Logged In"}ngOnInit(){}GoogleAuth(){this.fireAuthService.GoogleAuth()}logOut(){this.fireAuthService.SignOut()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(W2))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-login"]],decls:2,vars:2,consts:[["class","text-grey link-btn",3,"click",4,"ngIf"],["class","text-main link-btn",3,"click",4,"ngIf"],[1,"text-grey","link-btn",3,"click"],[1,"text-main","link-btn",3,"click"]],template:function(t,o){1&t&&(e.YNc(0,B6,2,1,"a",0),e.YNc(1,j6,2,0,"a",1)),2&t&&(e.Q6J("ngIf",o.loggedIn),e.xp6(1),e.Q6J("ngIf",!o.loggedIn))},dependencies:[St]}),r})(),G6=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-header"]],decls:11,vars:8,consts:[[1,"nav","text-grey-dull"],[3,"name","route"],[1,"nav-login"]],template:function(t,o){1&t&&(e.TgZ(0,"nav")(1,"div",0),e._UZ(2,"app-header-nav-link",1),e._uU(3," - "),e._UZ(4,"app-header-nav-link",1),e._uU(5," - "),e._UZ(6,"app-header-nav-link",1),e._uU(7," - "),e._UZ(8,"app-header-nav-link",1),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"app-login"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("name","[ Languages ]")("route","language"),e.xp6(2),e.Q6J("name","[ Evolutions ]")("route","evolutions/connections"),e.xp6(2),e.Q6J("name","[ Words ]")("route","words/list"),e.xp6(2),e.Q6J("name","[ Trace ]")("route","trace"))},dependencies:[gT,$6],styles:[".nav[_ngcontent-%COMP%]{width:100%;display:flex;margin-left:0;margin-right:auto}.nav-login[_ngcontent-%COMP%]{margin-left:auto;margin-right:0;padding-right:8px}nav[_ngcontent-%COMP%]{display:flex;margin-top:4px}"]}),r})(),aM=(()=>{class r extends Fl{constructor(t,o){super(t,o)}ping$Response(t){const o=new tt(this.rootUrl,r.PingPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}ping(t){return this.ping$Response(t).pipe((0,K.U)(o=>o.body))}setUserClaims$Response(t){const o=new tt(this.rootUrl,r.SetUserClaimsPath,"post");return t&&(o.path("uid",t.uid,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i.clone({body:void 0})))}setUserClaims(t){return this.setUserClaims$Response(t).pipe((0,K.U)(o=>o.body))}version$Response(t){const o=new tt(this.rootUrl,r.VersionPath,"get");return this.http.request(o.build({responseType:"text",accept:"text/plain"})).pipe(He(i=>i instanceof rt),(0,K.U)(i=>i))}version(t){return this.version$Response(t).pipe((0,K.U)(o=>o.body))}}return r.PingPath="/api/ping",r.SetUserClaimsPath="/api/ping/user-claims/{uid}",r.VersionPath="/api/ping/version",r.\u0275fac=function(t){return new(t||r)(e.LFG(Qi),e.LFG(la))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function H6(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function J6(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"span"),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.apiVersion)}}function W6(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"span"),e.YNc(3,H6,2,0,"span",9),e.YNc(4,J6,3,1,"span",9),e.qZA()()),2&r){const t=e.oxw();e.xp6(1),e.hij(", ",t.version,""),e.xp6(2),e.Q6J("ngIf",t.version&&t.apiVersion),e.xp6(1),e.Q6J("ngIf",t.apiVersion)}}let z6=(()=>{class r{constructor(t){this.pingService=t}ngOnInit(){const t=(new Date).getFullYear();this.year=2022!==t?`2022\u2013${t}`:`${t}`,this.pingService.version().subscribe(o=>this.apiVersion=o)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(aM))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-version-footer"]],inputs:{version:"version"},decls:21,vars:2,consts:[[1,"left","text-grey-dull"],["href","https://github.com/owlbeardm/language-parser-ui",1,"text-grey","link-btn"],["href","https://twitter.com/OwlbearDm",1,"text-grey","link-btn"],["href","mailto:owlbeardm@gmail.com?subject=Kedom Language: ",1,"text-grey","link-btn"],["href","https://c7d5a6.com/",1,"text-grey","link-btn"],[1,"right","text-grey-dull"],[1,"copyright","float-md-right"],[1,"col-md","pl-0"],["href","https://owlbeardm.com/","rel","noreferrer","target","_blank",1,"text-grey","link-btn"],[4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"span",0)(1,"a",1),e._uU(2,"[ GITHUB ]"),e.qZA(),e._uU(3," - "),e.TgZ(4,"a",2),e._uU(5,"[ TWITTER ]"),e.qZA(),e._uU(6," - "),e.TgZ(7,"a",3),e._uU(8,"[ EMAIL ]"),e.qZA(),e._uU(9," - "),e.TgZ(10,"a",4),e._uU(11," [ CONTACTS ]"),e.qZA()(),e.TgZ(12,"span",5)(13,"span",6)(14,"span"),e._uU(15),e.TgZ(16,"span")(17,"span",7)(18,"a",8),e._uU(19,"OwlbearDM"),e.qZA(),e.YNc(20,W6,5,3,"span",9),e.qZA()()()()()),2&t&&(e.xp6(15),e.hij("",o.year," \xa9 Mikita Kukavenka, "),e.xp6(5),e.Q6J("ngIf",o.version))},dependencies:[St],styles:[".left[_ngcontent-%COMP%]{margin-left:4px;margin-right:auto}.right[_ngcontent-%COMP%]{margin-left:auto;margin-right:4px}"]}),r})(),Q6=(()=>{class r{constructor(){this.title="language-parser-ui",this.version="0.4.0"}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-root"]],decls:7,vars:1,consts:[["align","center",1,"main"],[1,"content-wrapper"],["align","left",1,"content"],[1,"app-footer",3,"version"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-header"),e.TgZ(2,"div",1)(3,"div",2),e._UZ(4,"router-outlet")(5,"app-footer"),e.qZA()(),e._UZ(6,"app-version-footer",3),e.qZA()),2&t&&(e.xp6(6),e.Q6J("version",o.version))},dependencies:[si,fT,G6,z6],styles:[".main[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]{width:100%;display:block}.content[_ngcontent-%COMP%]{max-width:1320px}.app-footer[_ngcontent-%COMP%]{width:100%;display:flex;background:#212121;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;margin-top:auto;margin-bottom:0}"]}),r})(),K6=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Oi]}),r})(),Y6=(()=>{class r{constructor(t){this.errorService=t}intercept(t,o){return o.handle(t).pipe(ja(i=>(i.error instanceof ErrorEvent?this.errorService.addError({message:i.error.message}):this.errorService.addError({message:i.message,details:i.error}),Rc(i))))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(eg))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),X6=(()=>{class r{constructor(t,o){if(t)throw new Error("ApiModule is already loaded. Import in your base AppModule only.");if(!o)throw new Error("You need to import the HttpClientModule in your AppModule! \nSee also https://github.com/angular/angular/issues/20575")}static forRoot(t){return{ngModule:r,providers:[{provide:Qi,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(r,12),e.LFG(la,8))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[Uu,pa,ca,aM,Ei,ig,Qa,Qi]}),r})();function lM(r,n,t,o){return new(t||(t=Promise))(function(a,d){function f(D){try{w(o.next(D))}catch(x){d(x)}}function y(D){try{w(o.throw(D))}catch(x){d(x)}}function w(D){D.done?a(D.value):function i(a){return a instanceof t?a:new t(function(d){d(a)})}(D.value).then(f,y)}w((o=o.apply(r,n||[])).next())})}function hM(r){return He((n,t)=>r<=t)}class nF extends zi.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(n){const{hasError:t,_hasValue:o,_value:i,thrownError:a,isStopped:d,_isComplete:f}=this;t?n.error(a):(d||f)&&(o&&n.next(i),n.complete())}next(n){this.isStopped||(this._value=n,this._hasValue=!0)}complete(){const{_hasValue:n,_value:t,_isComplete:o}=this;o||(this._isComplete=!0,n&&super.next(t),super.complete())}}class iF{}const sF={oneTapEnabled:!0};let Yv=(()=>{class r extends class oF{constructor(){}loadScript(n,t,o,i=null){if("undefined"!=typeof document&&!document.getElementById(n)){let a=document.createElement("script");a.async=!0,a.src=t,a.onload=o,i||(i=document.head),i.appendChild(a)}}}{constructor(t,o){super(),this.clientId=t,this.initOptions=o,this.changeUser=new e.vpe,this._socialUser=new uo(null),this._accessToken=new uo(null),this._receivedAccessToken=new e.vpe,this.initOptions=Object.assign(Object.assign({},sF),this.initOptions),this._socialUser.pipe(hM(1)).subscribe(this.changeUser),this._accessToken.pipe(hM(1)).subscribe(this._receivedAccessToken)}initialize(t){return new Promise((o,i)=>{try{this.loadScript(r.PROVIDER_ID,"https://accounts.google.com/gsi/client",()=>{var a;if(google.accounts.id.initialize({client_id:this.clientId,auto_select:t,callback:({credential:d})=>{const f=this.createSocialUser(d);this._socialUser.next(f)},prompt_parent_id:null===(a=this.initOptions)||void 0===a?void 0:a.prompt_parent_id}),this.initOptions.oneTapEnabled&&this._socialUser.pipe(He(d=>null===d)).subscribe(()=>google.accounts.id.prompt(console.debug)),this.initOptions.scopes){const d=this.initOptions.scopes instanceof Array?this.initOptions.scopes.filter(f=>f).join(" "):this.initOptions.scopes;this._tokenClient=google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:d,callback:f=>{f.error?this._accessToken.error({code:f.error,description:f.error_description,uri:f.error_uri}):this._accessToken.next(f.access_token)}})}o()})}catch(a){i(a)}})}getLoginStatus(){return new Promise((t,o)=>{this._socialUser.value?t(this._socialUser.value):o(`No user is currently logged in with ${r.PROVIDER_ID}`)})}refreshToken(){return new Promise((t,o)=>{google.accounts.id.revoke(this._socialUser.value.id,i=>{i.error?o(i.error):t(this._socialUser.value)})})}getAccessToken(){return new Promise((t,o)=>{var i;this._tokenClient?(this._tokenClient.requestAccessToken({hint:null===(i=this._socialUser.value)||void 0===i?void 0:i.email}),this._receivedAccessToken.pipe(Lc(1)).subscribe(t)):o(this._socialUser.value?"No token client was instantiated, you should specify some scopes.":"You should be logged-in first.")})}revokeAccessToken(){return new Promise((t,o)=>{this._tokenClient?this._accessToken.value?google.accounts.oauth2.revoke(this._accessToken.value,()=>{this._accessToken.next(null),t()}):o("No access token to revoke"):o("No token client was instantiated, you should specify some scopes.")})}signIn(){return Promise.reject('You should not call this method directly for Google, use "<asl-google-signin-button>" wrapper or generate the button yourself with "google.accounts.id.renderButton()" (https://developers.google.com/identity/gsi/web/guides/display-button#javascript)')}signOut(){return lM(this,void 0,void 0,function*(){google.accounts.id.disableAutoSelect(),this._socialUser.next(null)})}createSocialUser(t){const o=new iF;o.idToken=t;const i=this.decodeJwt(t);return o.id=i.sub,o.name=i.name,o.email=i.email,o.photoUrl=i.picture,o.firstName=i.given_name,o.lastName=i.family_name,o}decodeJwt(t){return JSON.parse(window.atob(t.split(".")[1]))}}return r.PROVIDER_ID="GOOGLE",r})(),pM=(()=>{class r{constructor(t,o,i){this._ngZone=o,this._injector=i,this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new wU(1),this.initialized=!1,this._initState=new nF,t instanceof Promise?t.then(a=>{this.initialize(a)}):this.initialize(t)}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}initialize(t){this.autoLogin=void 0!==t.autoLogin&&t.autoLogin;const{onError:o=console.error}=t;t.providers.forEach(i=>{this.providers.set(i.id,"prototype"in i.provider?this._injector.get(i.provider):i.provider)}),Promise.all(Array.from(this.providers.values()).map(i=>i.initialize(this.autoLogin))).then(()=>{if(this.autoLogin){const i=[];let a=!1;this.providers.forEach((d,f)=>{const y=d.getLoginStatus();i.push(y),y.then(w=>{this.setUser(w,f),a=!0}).catch(console.debug)}),Promise.all(i).catch(()=>{a||(this._user=null,this._authState.next(null))})}this.providers.forEach((i,a)=>{(function rF(r){return!!r&&(r instanceof Gr.y||(0,Ch.m)(r.lift)&&(0,Ch.m)(r.subscribe))})(i.changeUser)&&i.changeUser.subscribe(d=>{this._ngZone.run(()=>{this.setUser(d,a)})})})}).catch(i=>{o(i)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}getAccessToken(t){return lM(this,void 0,void 0,function*(){const o=this.providers.get(t);if(!this.initialized)throw r.ERR_NOT_INITIALIZED;if(!o)throw r.ERR_LOGIN_PROVIDER_NOT_FOUND;if(!(o instanceof Yv))throw r.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN;return yield o.getAccessToken()})}refreshAuthToken(t){return new Promise((o,i)=>{if(this.initialized){const a=this.providers.get(t);a?"function"!=typeof a.refreshToken?i(r.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN):a.refreshToken().then(d=>{this.setUser(d,t),o()}).catch(d=>{i(d)}):i(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(r.ERR_NOT_INITIALIZED)})}refreshAccessToken(t){return new Promise((o,i)=>{if(this.initialized)if(t!==Yv.PROVIDER_ID)i(r.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const a=this.providers.get(t);a instanceof Yv?a.revokeAccessToken().then(o).catch(i):i(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(r.ERR_NOT_INITIALIZED)})}signIn(t,o){return new Promise((i,a)=>{if(this.initialized){let d=this.providers.get(t);d?d.signIn(o).then(f=>{this.setUser(f,t),i(f)}).catch(f=>{a(f)}):a(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else a(r.ERR_NOT_INITIALIZED)})}signOut(t=!1){return new Promise((o,i)=>{if(this.initialized)if(this._user){let d=this.providers.get(this._user.provider);d?d.signOut(t).then(()=>{o(),this.setUser(null)}).catch(f=>{i(f)}):i(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(r.ERR_NOT_LOGGED_IN);else i(r.ERR_NOT_INITIALIZED)})}setUser(t,o){t&&o&&(t.provider=o),this._user=t,this._authState.next(t)}}return r.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",r.ERR_NOT_LOGGED_IN="Not logged in",r.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",r.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",r.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN="Chosen login provider is not supported for getting an access token",r.\u0275fac=function(t){return new(t||r)(e.LFG("SocialAuthServiceConfig"),e.LFG(e.R0b),e.LFG(e.zs3))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),aF=(()=>{class r{constructor(t){if(t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}static initialize(t){return{ngModule:r,providers:[pM,{provide:"SocialAuthServiceConfig",useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(r,12))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[pM],imports:[Oi]}),r})();const Q2_firebase={apiKey:"AIzaSyCXYvy7VEEXvSUDGnRzB_0kJhcs6k6mFeQ",authDomain:"language-parser-358314.firebaseapp.com",projectId:"language-parser-358314",storageBucket:"language-parser-358314.appspot.com",messagingSenderId:"457941235931",appId:"1:457941235931:web:3d318384aff9c40965b4fe",measurementId:"G-S1PTJS0DPB"};function fM(r,n){const t="object"==typeof n;return new Promise((o,i)=>{let d,a=!1;r.subscribe({next:f=>{d=f,a=!0},error:i,complete:()=>{a?o(d):t?o(n.defaultValue):i(new bl)}})})}let uF=(()=>{class r{constructor(t){this.fireAuthService=t}intercept(t,o){return(0,In.D)(this.handle(t,o))}handle(t,o){return Is(this,void 0,void 0,function*(){const i=yield this.fireAuthService.getToken();if(!i)return yield fM(o.handle(t));const a=t.clone({headers:t.headers.set("Authorization",`Bearer ${i}`)});return yield fM(o.handle(a))})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(W2))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),lF=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r,bootstrap:[Q6]}),r.\u0275inj=e.cJS({providers:[W2,{provide:Vh,useClass:uF,multi:!0},{provide:Vh,useClass:Y6,multi:!0},{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:Yv.PROVIDER_ID,provider:new Yv("457941235931-ta7f430pcvim9inavtg97ngqav65394i.apps.googleusercontent.com")}],onError:n=>{console.error(n)}}},eg],imports:[Di.hO.initializeApp(Q2_firebase),k6,jn,C1,lT,yf,_h,aF,K6,X6.forRoot({rootUrl:"https://api.language.owlbeardm.com"})]}),r})();(0,e.G48)(),lu().bootstrapModule(lF).catch(r=>console.error(r))},5867:(it,we,M)=>{M.d(we,{C6:()=>e.getApps,Mq:()=>e.getApp});var e=M(9681);(0,e.registerVersion)("firebase","9.9.1","app")},127:(it,we,M)=>{M.d(we,{Z:()=>e.Z});var e=M(3942);e.Z.registerVersion("firebase","9.9.1","app-compat")},5881:(it,we,M)=>{M.r(we);var e=M(5861),L=M(3942),U=M(2227),oe=M(2090),he=(M(9681),M(1877),M(4859));function de(){return window}function G(){return(G=(0,e.Z)(function*(te,q,V){var ve;const{BuildInfo:Ve}=de();(0,U.aq)(q.sessionId,"AuthEvent did not contain a session ID");const Zt=yield ge(q.sessionId),Dt={};return(0,U.ar)()?Dt.ibi=Ve.packageName:(0,U.as)()?Dt.apn=Ve.packageName:(0,U.at)(te,"operation-not-supported-in-this-environment"),Ve.displayName&&(Dt.appDisplayName=Ve.displayName),Dt.sessionId=Zt,(0,U.au)(te,V,q.type,void 0,null!==(ve=q.eventId)&&void 0!==ve?ve:void 0,Dt)})).apply(this,arguments)}function Be(){return(Be=(0,e.Z)(function*(te){const{BuildInfo:q}=de(),V={};(0,U.ar)()?V.iosBundleId=q.packageName:(0,U.as)()?V.androidPackageName=q.packageName:(0,U.at)(te,"operation-not-supported-in-this-environment"),yield(0,U.av)(te,V)})).apply(this,arguments)}function at(){return(at=(0,e.Z)(function*(te,q,V){const{cordova:ve}=de();let Ve=()=>{};try{yield new Promise((Zt,Dt)=>{let Ht=null;function An(){var Vt;Zt();const kn=null===(Vt=ve.plugins.browsertab)||void 0===Vt?void 0:Vt.close;"function"==typeof kn&&kn(),"function"==typeof(null==V?void 0:V.close)&&V.close()}function Fn(){Ht||(Ht=window.setTimeout(()=>{Dt((0,U.aw)(te,"redirect-cancelled-by-user"))},2e3))}function wn(){"visible"===(null==document?void 0:document.visibilityState)&&Fn()}q.addPassiveListener(An),document.addEventListener("resume",Fn,!1),(0,U.as)()&&document.addEventListener("visibilitychange",wn,!1),Ve=()=>{q.removePassiveListener(An),document.removeEventListener("resume",Fn,!1),document.removeEventListener("visibilitychange",wn,!1),Ht&&window.clearTimeout(Ht)}})}finally{Ve()}})).apply(this,arguments)}function ge(te){return st.apply(this,arguments)}function st(){return(st=(0,e.Z)(function*(te){const q=ft(te),V=yield crypto.subtle.digest("SHA-256",q);return Array.from(new Uint8Array(V)).map(Ve=>Ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ft(te){if((0,U.aq)(/[0-9a-zA-Z]+/.test(te),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(te);const q=new ArrayBuffer(te.length),V=new Uint8Array(q);for(let ve=0;ve<te.length;ve++)V[ve]=te.charCodeAt(ve);return V}class Ze extends U.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(q=>{this.resolveInialized=q})}addPassiveListener(q){this.passiveListeners.add(q)}removePassiveListener(q){this.passiveListeners.delete(q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(q){return this.resolveInialized(),this.passiveListeners.forEach(V=>V(q)),super.onEvent(q)}initialized(){var q=this;return(0,e.Z)(function*(){yield q.initPromise})()}}function Ge(te){return Te.apply(this,arguments)}function Te(){return(Te=(0,e.Z)(function*(te){const q=yield se()._get(ie(te));return q&&(yield se()._remove(ie(te))),q})).apply(this,arguments)}function X(){const te=[],q="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let V=0;V<20;V++){const ve=Math.floor(Math.random()*q.length);te.push(q.charAt(ve))}return te.join("")}function se(){return(0,U.ay)(U.b)}function ie(te){return(0,U.az)("authEvent",te.config.apiKey,te.name)}function Fe(te){if(null==te||!te.includes("?"))return{};const[q,...V]=te.split("?");return(0,oe.zd)(V.join("?"))}function Ke(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.aw)("no-auth-event")}}function Jn(){var te;return(null===(te=null==self?void 0:self.location)||void 0===te?void 0:te.protocol)||null}function Rn(te=(0,oe.z$)()){return!("file:"!==Jn()&&"ionic:"!==Jn()&&"capacitor:"!==Jn()||!te.toLowerCase().match(/iphone|ipad|ipod|android/))}function Cr(){try{const te=self.localStorage,q=U.aI();if(te)return te.setItem(q,"1"),te.removeItem(q),!function Ni(te=(0,oe.z$)()){return function Tn(){return(0,oe.w1)()&&11===(null==document?void 0:document.documentMode)}()||function mn(te=(0,oe.z$)()){return/Edge\/\d+/.test(te)}(te)}()||(0,oe.hl)()}catch(te){return no()&&(0,oe.hl)()}return!1}function no(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pe(){return(function Fr(){return"http:"===Jn()||"https:"===Jn()}()||(0,oe.ru)()||Rn())&&!function go(){return(0,oe.b$)()||(0,oe.UG)()}()&&Cr()&&!no()}function sr(){return Rn()&&"undefined"!=typeof document}function Tr(){return(Tr=(0,e.Z)(function*(){return!!sr()&&new Promise(te=>{const q=setTimeout(()=>{te(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(q),te(!0)})})})).apply(this,arguments)}const zt={LOCAL:"local",NONE:"none",SESSION:"session"},wr=U.ax,qr="persistence";function Dn(te){return xr.apply(this,arguments)}function xr(){return(xr=(0,e.Z)(function*(te){yield te._initializationPromise;const q=Bt(),V=U.az(qr,te.config.apiKey,te.name);q&&q.setItem(V,te._getPersistence())})).apply(this,arguments)}function Bt(){var te;try{return(null===(te=function rn(){return"undefined"!=typeof window?window:null}())||void 0===te?void 0:te.sessionStorage)||null}catch(q){return null}}const ze=U.ax;class vt{constructor(){this.browserResolver=U.ay(U.k),this.cordovaResolver=U.ay(class tn{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aB,this._overrideRedirectResult=U.aC}_initialize(q){var V=this;return(0,e.Z)(function*(){const ve=q._key();let Ve=V.eventManagers.get(ve);return Ve||(Ve=new Ze(q),V.eventManagers.set(ve,Ve),V.attachCallbackListeners(q,Ve)),Ve})()}_openPopup(q){(0,U.at)(q,"operation-not-supported-in-this-environment")}_openRedirect(q,V,ve,Ve){var Zt=this;return(0,e.Z)(function*(){!function Ce(te){var q,V,ve,Ve,Zt,Dt,Ht,An,Fn,wn;const Vt=de();(0,U.ax)("function"==typeof(null===(q=null==Vt?void 0:Vt.universalLinks)||void 0===q?void 0:q.subscribe),te,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.ax)(void 0!==(null===(V=null==Vt?void 0:Vt.BuildInfo)||void 0===V?void 0:V.packageName),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.ax)("function"==typeof(null===(Zt=null===(Ve=null===(ve=null==Vt?void 0:Vt.cordova)||void 0===ve?void 0:ve.plugins)||void 0===Ve?void 0:Ve.browsertab)||void 0===Zt?void 0:Zt.openUrl),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.ax)("function"==typeof(null===(An=null===(Ht=null===(Dt=null==Vt?void 0:Vt.cordova)||void 0===Dt?void 0:Dt.plugins)||void 0===Ht?void 0:Ht.browsertab)||void 0===An?void 0:An.isAvailable),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.ax)("function"==typeof(null===(wn=null===(Fn=null==Vt?void 0:Vt.cordova)||void 0===Fn?void 0:Fn.InAppBrowser)||void 0===wn?void 0:wn.open),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(q);const Dt=yield Zt._initialize(q);yield Dt.initialized(),Dt.resetRedirect(),(0,U.aD)(),yield Zt._originValidation(q);const Ht=function Ee(te,q,V=null){return{type:q,eventId:V,urlResponse:null,sessionId:X(),postBody:null,tenantId:te.tenantId,error:(0,U.aw)(te,"no-auth-event")}}(q,ve,Ve);yield function Qe(te,q){return se()._set(ie(te),q)}(q,Ht);const An=yield function J(te,q,V){return G.apply(this,arguments)}(q,Ht,V),Fn=yield function Ue(te){const{cordova:q}=de();return new Promise(V=>{q.plugins.browsertab.isAvailable(ve=>{let Ve=null;ve?q.plugins.browsertab.openUrl(te):Ve=q.InAppBrowser.open(te,(0,U.ap)()?"_blank":"_system","location=yes"),V(Ve)})})}(An);return function be(te,q,V){return at.apply(this,arguments)}(q,Dt,Fn)})()}_isIframeWebStorageSupported(q,V){throw new Error("Method not implemented.")}_originValidation(q){const V=q._key();return this.originValidationPromises[V]||(this.originValidationPromises[V]=function ee(te){return Be.apply(this,arguments)}(q)),this.originValidationPromises[V]}attachCallbackListeners(q,V){const{universalLinks:ve,handleOpenURL:Ve,BuildInfo:Zt}=de(),Dt=setTimeout((0,e.Z)(function*(){yield Ge(q),V.onEvent(Ke())}),500),Ht=function(){var wn=(0,e.Z)(function*(Vt){clearTimeout(Dt);const kn=yield Ge(q);let Xe=null;kn&&(null==Vt?void 0:Vt.url)&&(Xe=function De(te,q){var V,ve;const Ve=function le(te){const q=Fe(te),V=q.link?decodeURIComponent(q.link):void 0,ve=Fe(V).link,Ve=q.deep_link_id?decodeURIComponent(q.deep_link_id):void 0;return Fe(Ve).link||Ve||ve||V||te}(q);if(Ve.includes("/__/auth/callback")){const Zt=Fe(Ve),Dt=Zt.firebaseError?function _e(te){try{return JSON.parse(te)}catch(q){return null}}(decodeURIComponent(Zt.firebaseError)):null,Ht=null===(ve=null===(V=null==Dt?void 0:Dt.code)||void 0===V?void 0:V.split("auth/"))||void 0===ve?void 0:ve[1],An=Ht?(0,U.aw)(Ht):null;return An?{type:te.type,eventId:te.eventId,tenantId:te.tenantId,error:An,urlResponse:null,sessionId:null,postBody:null}:{type:te.type,eventId:te.eventId,tenantId:te.tenantId,sessionId:te.sessionId,urlResponse:Ve,postBody:null}}return null}(kn,Vt.url)),V.onEvent(Xe||Ke())});return function(kn){return wn.apply(this,arguments)}}();void 0!==ve&&"function"==typeof ve.subscribe&&ve.subscribe(null,Ht);const An=Ve,Fn=`${Zt.packageName.toLowerCase()}://`;de().handleOpenURL=function(){var wn=(0,e.Z)(function*(Vt){if(Vt.toLowerCase().startsWith(Fn)&&Ht({url:Vt}),"function"==typeof An)try{An(Vt)}catch(kn){console.error(kn)}});return function(Vt){return wn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aB,this._overrideRedirectResult=U.aC}_initialize(q){var V=this;return(0,e.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._initialize(q)})()}_openPopup(q,V,ve,Ve){var Zt=this;return(0,e.Z)(function*(){return yield Zt.selectUnderlyingResolver(),Zt.assertedUnderlyingResolver._openPopup(q,V,ve,Ve)})()}_openRedirect(q,V,ve,Ve){var Zt=this;return(0,e.Z)(function*(){return yield Zt.selectUnderlyingResolver(),Zt.assertedUnderlyingResolver._openRedirect(q,V,ve,Ve)})()}_isIframeWebStorageSupported(q,V){this.assertedUnderlyingResolver._isIframeWebStorageSupported(q,V)}_originValidation(q){return this.assertedUnderlyingResolver._originValidation(q)}get _shouldInitProactively(){return sr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ze(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var q=this;return(0,e.Z)(function*(){if(q.underlyingResolver)return;const V=yield function lt(){return Tr.apply(this,arguments)}();q.underlyingResolver=V?q.cordovaResolver:q.browserResolver})()}}function hi(te){return te.unwrap()}function ct(te){return Bn(te)}function Bn(te){const{_tokenResponse:q}=te instanceof oe.ZR?te.customData:te;if(!q)return null;if(!(te instanceof oe.ZR)&&"temporaryProof"in q&&"phoneNumber"in q)return U.P.credentialFromResult(te);const V=q.providerId;if(!V||V===U.o.PASSWORD)return null;let ve;switch(V){case U.o.GOOGLE:ve=U.Q;break;case U.o.FACEBOOK:ve=U.N;break;case U.o.GITHUB:ve=U.T;break;case U.o.TWITTER:ve=U.W;break;default:const{oauthIdToken:Ve,oauthAccessToken:Zt,oauthTokenSecret:Dt,pendingToken:Ht,nonce:An}=q;return Zt||Dt||Ve||Ht?Ht?V.startsWith("saml.")?U.aL._create(V,Ht):U.J._fromParams({providerId:V,signInMethod:V,pendingToken:Ht,idToken:Ve,accessToken:Zt}):new U.U(V).credential({idToken:Ve,accessToken:Zt,rawNonce:An}):null}return te instanceof oe.ZR?ve.credentialFromError(te):ve.credentialFromResult(te)}function Ln(te,q){return q.catch(V=>{throw V instanceof oe.ZR&&function on(te,q){var V,ve;const Ve=null===(V=q.customData)||void 0===V?void 0:V._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ve=q)||void 0===ve?void 0:ve.code))q.resolver=new B(te,U.an(te,q));else if(Ve){const Zt=Bn(q),Dt=q;Zt&&(Dt.credential=Zt,Dt.tenantId=Ve.tenantId||void 0,Dt.email=Ve.email||void 0,Dt.phoneNumber=Ve.phoneNumber||void 0)}}(te,V),V}).then(V=>{const Ve=V.user;return{operationType:V.operationType,credential:ct(V),additionalUserInfo:U.al(V),user:j.getOrCreate(Ve)}})}function en(te,q){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,e.Z)(function*(te,q){const V=yield q;return{verificationId:V.verificationId,confirm:ve=>Ln(te,V.confirm(ve))}})).apply(this,arguments)}class B{constructor(q,V){this.resolver=V,this.auth=function ar(te){return te.wrapped()}(q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(q){return Ln(hi(this.auth),this.resolver.resolveSignIn(q))}}class j{constructor(q){this._delegate=q,this.multiFactor=U.ao(q)}static getOrCreate(q){return j.USER_MAP.has(q)||j.USER_MAP.set(q,new j(q)),j.USER_MAP.get(q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(q){return this._delegate.getIdTokenResult(q)}getIdToken(q){return this._delegate.getIdToken(q)}linkAndRetrieveDataWithCredential(q){return this.linkWithCredential(q)}linkWithCredential(q){var V=this;return(0,e.Z)(function*(){return Ln(V.auth,U.Z(V._delegate,q))})()}linkWithPhoneNumber(q,V){var ve=this;return(0,e.Z)(function*(){return en(ve.auth,U.l(ve._delegate,q,V))})()}linkWithPopup(q){var V=this;return(0,e.Z)(function*(){return Ln(V.auth,U.d(V._delegate,q,vt))})()}linkWithRedirect(q){var V=this;return(0,e.Z)(function*(){return yield Dn(U.aE(V.auth)),U.g(V._delegate,q,vt)})()}reauthenticateAndRetrieveDataWithCredential(q){return this.reauthenticateWithCredential(q)}reauthenticateWithCredential(q){var V=this;return(0,e.Z)(function*(){return Ln(V.auth,U._(V._delegate,q))})()}reauthenticateWithPhoneNumber(q,V){return en(this.auth,U.r(this._delegate,q,V))}reauthenticateWithPopup(q){return Ln(this.auth,U.e(this._delegate,q,vt))}reauthenticateWithRedirect(q){var V=this;return(0,e.Z)(function*(){return yield Dn(U.aE(V.auth)),U.h(V._delegate,q,vt)})()}sendEmailVerification(q){return U.ab(this._delegate,q)}unlink(q){var V=this;return(0,e.Z)(function*(){return yield U.ak(V._delegate,q),V})()}updateEmail(q){return U.ag(this._delegate,q)}updatePassword(q){return U.ah(this._delegate,q)}updatePhoneNumber(q){return U.u(this._delegate,q)}updateProfile(q){return U.af(this._delegate,q)}verifyBeforeUpdateEmail(q,V){return U.ac(this._delegate,q,V)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}j.USER_MAP=new WeakMap;const F=U.ax;let W=(()=>{class te{constructor(V,ve){if(this.app=V,ve.isInitialized())return this._delegate=ve.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ve}=V.options;F(Ve,"invalid-api-key",{appName:V.name}),F(Ve,"invalid-api-key",{appName:V.name});const Zt="undefined"!=typeof window?vt:void 0;this._delegate=ve.initialize({options:{persistence:ke(Ve,V.name),popupRedirectResolver:Zt}}),this._delegate._updateErrorMap(U.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?j.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(V){this._delegate.languageCode=V}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(V){this._delegate.tenantId=V}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(V,ve){U.G(this._delegate,V,ve)}applyActionCode(V){return U.a2(this._delegate,V)}checkActionCode(V){return U.a3(this._delegate,V)}confirmPasswordReset(V,ve){return U.a1(this._delegate,V,ve)}createUserWithEmailAndPassword(V,ve){var Ve=this;return(0,e.Z)(function*(){return Ln(Ve._delegate,U.a5(Ve._delegate,V,ve))})()}fetchProvidersForEmail(V){return this.fetchSignInMethodsForEmail(V)}fetchSignInMethodsForEmail(V){return U.aa(this._delegate,V)}isSignInWithEmailLink(V){return U.a8(this._delegate,V)}getRedirectResult(){var V=this;return(0,e.Z)(function*(){F(Pe(),V._delegate,"operation-not-supported-in-this-environment");const ve=yield U.j(V._delegate,vt);return ve?Ln(V._delegate,Promise.resolve(ve)):{credential:null,user:null}})()}addFrameworkForLogging(V){!function bn(te,q){(0,U.aE)(te)._logFramework(q)}(this._delegate,V)}onAuthStateChanged(V,ve,Ve){const{next:Zt,error:Dt,complete:Ht}=Q(V,ve,Ve);return this._delegate.onAuthStateChanged(Zt,Dt,Ht)}onIdTokenChanged(V,ve,Ve){const{next:Zt,error:Dt,complete:Ht}=Q(V,ve,Ve);return this._delegate.onIdTokenChanged(Zt,Dt,Ht)}sendSignInLinkToEmail(V,ve){return U.a7(this._delegate,V,ve)}sendPasswordResetEmail(V,ve){return U.a0(this._delegate,V,ve||void 0)}setPersistence(V){var ve=this;return(0,e.Z)(function*(){let Ve;switch(function zn(te,q){wr(Object.values(zt).includes(q),te,"invalid-persistence-type"),(0,oe.b$)()?wr(q!==zt.SESSION,te,"unsupported-persistence-type"):(0,oe.UG)()?wr(q===zt.NONE,te,"unsupported-persistence-type"):no()?wr(q===zt.NONE||q===zt.LOCAL&&(0,oe.hl)(),te,"unsupported-persistence-type"):wr(q===zt.NONE||Cr(),te,"unsupported-persistence-type")}(ve._delegate,V),V){case zt.SESSION:Ve=U.a;break;case zt.LOCAL:Ve=(yield U.ay(U.i)._isAvailable())?U.i:U.b;break;case zt.NONE:Ve=U.L;break;default:return U.at("argument-error",{appName:ve._delegate.name})}return ve._delegate.setPersistence(Ve)})()}signInAndRetrieveDataWithCredential(V){return this.signInWithCredential(V)}signInAnonymously(){return Ln(this._delegate,U.X(this._delegate))}signInWithCredential(V){return Ln(this._delegate,U.Y(this._delegate,V))}signInWithCustomToken(V){return Ln(this._delegate,U.$(this._delegate,V))}signInWithEmailAndPassword(V,ve){return Ln(this._delegate,U.a6(this._delegate,V,ve))}signInWithEmailLink(V,ve){return Ln(this._delegate,U.a9(this._delegate,V,ve))}signInWithPhoneNumber(V,ve){return en(this._delegate,U.s(this._delegate,V,ve))}signInWithPopup(V){var ve=this;return(0,e.Z)(function*(){return F(Pe(),ve._delegate,"operation-not-supported-in-this-environment"),Ln(ve._delegate,U.c(ve._delegate,V,vt))})()}signInWithRedirect(V){var ve=this;return(0,e.Z)(function*(){return F(Pe(),ve._delegate,"operation-not-supported-in-this-environment"),yield Dn(ve._delegate),U.f(ve._delegate,V,vt)})()}updateCurrentUser(V){return this._delegate.updateCurrentUser(V)}verifyPasswordResetCode(V){return U.a4(this._delegate,V)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return te.Persistence=zt,te})();function Q(te,q,V){let ve=te;"function"!=typeof te&&({next:ve,error:q,complete:V}=te);const Ve=ve;return{next:Dt=>Ve(Dt&&j.getOrCreate(Dt)),error:q,complete:V}}function ke(te,q){const V=function ks(te,q){const V=Bt();if(!V)return[];const ve=U.az(qr,te,q);switch(V.getItem(ve)){case zt.NONE:return[U.L];case zt.LOCAL:return[U.i,U.a];case zt.SESSION:return[U.a];default:return[]}}(te,q);if("undefined"!=typeof self&&!V.includes(U.i)&&V.push(U.i),"undefined"!=typeof window)for(const ve of[U.b,U.a])V.includes(ve)||V.push(ve);return V.includes(U.L)||V.push(U.L),V}class Ye{constructor(){this.providerId="phone",this._delegate=new U.P(hi(L.Z.auth()))}static credential(q,V){return U.P.credential(q,V)}verifyPhoneNumber(q,V){return this._delegate.verifyPhoneNumber(q,V)}unwrap(){return this._delegate}}Ye.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,Ye.PROVIDER_ID=U.P.PROVIDER_ID;const Ct=U.ax;class dn{constructor(q,V,ve=L.Z.app()){var Ve;Ct(null===(Ve=ve.options)||void 0===Ve?void 0:Ve.apiKey,"invalid-api-key",{appName:ve.name}),this._delegate=new U.R(q,V,ve.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function pr(te){te.INTERNAL.registerComponent(new he.wA("auth-compat",q=>{const V=q.getProvider("app-compat").getImmediate(),ve=q.getProvider("auth");return new W(V,ve)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.M,FacebookAuthProvider:U.N,GithubAuthProvider:U.T,GoogleAuthProvider:U.Q,OAuthProvider:U.U,SAMLAuthProvider:U.V,PhoneAuthProvider:Ye,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:dn,TwitterAuthProvider:U.W,Auth:W,AuthCredential:U.H,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),te.registerVersion("@firebase/auth-compat","0.2.18")}(L.Z)},9751:(it,we,M)=>{M.d(we,{y:()=>de});var e=M(2961),L=M(727),U=M(8822),oe=M(9635),ue=M(2416),pe=M(576),he=M(2806);let de=(()=>{class ee{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const be=new ee;return be.source=this,be.operator=Ue,be}subscribe(Ue,be,at){const Ce=function G(ee){return ee&&ee instanceof e.Lv||function J(ee){return ee&&(0,pe.m)(ee.next)&&(0,pe.m)(ee.error)&&(0,pe.m)(ee.complete)}(ee)&&(0,L.Nn)(ee)}(Ue)?Ue:new e.Hp(Ue,be,at);return(0,he.x)(()=>{const{operator:ge,source:st}=this;Ce.add(ge?ge.call(Ce,st):st?this._subscribe(Ce):this._trySubscribe(Ce))}),Ce}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(be){Ue.error(be)}}forEach(Ue,be){return new(be=ye(be))((at,Ce)=>{const ge=new e.Hp({next:st=>{try{Ue(st)}catch(ft){Ce(ft),ge.unsubscribe()}},error:Ce,complete:at});this.subscribe(ge)})}_subscribe(Ue){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(Ue)}[U.L](){return this}pipe(...Ue){return(0,oe.U)(Ue)(this)}toPromise(Ue){return new(Ue=ye(Ue))((be,at)=>{let Ce;this.subscribe(ge=>Ce=ge,ge=>at(ge),()=>be(Ce))})}}return ee.create=Be=>new ee(Be),ee})();function ye(ee){var Be;return null!==(Be=null!=ee?ee:ue.v.Promise)&&void 0!==Be?Be:Promise}},7579:(it,we,M)=>{M.d(we,{x:()=>he});var e=M(9751),L=M(727);const oe=(0,M(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=M(8737),pe=M(2806);let he=(()=>{class ye extends e.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const ee=new de(this,this);return ee.operator=G,ee}_throwIfClosed(){if(this.closed)throw new oe}next(G){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(G)}})}error(G){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:ee}=this;for(;ee.length;)ee.shift().error(G)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:ee,isStopped:Be,observers:Ue}=this;return ee||Be?L.Lc:(this.currentObservers=null,Ue.push(G),new L.w0(()=>{this.currentObservers=null,(0,ue.P)(Ue,G)}))}_checkFinalizedStatuses(G){const{hasError:ee,thrownError:Be,isStopped:Ue}=this;ee?G.error(Be):Ue&&G.complete()}asObservable(){const G=new e.y;return G.source=this,G}}return ye.create=(J,G)=>new de(J,G),ye})();class de extends he{constructor(J,G){super(),this.destination=J,this.source=G}next(J){var G,ee;null===(ee=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===ee||ee.call(G,J)}error(J){var G,ee;null===(ee=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===ee||ee.call(G,J)}complete(){var J,G;null===(G=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===G||G.call(J)}_subscribe(J){var G,ee;return null!==(ee=null===(G=this.source)||void 0===G?void 0:G.subscribe(J))&&void 0!==ee?ee:L.Lc}}},2961:(it,we,M)=>{M.d(we,{Hp:()=>at,Lv:()=>ee});var e=M(576),L=M(727),U=M(2416),oe=M(7849);function ue(){}const pe=ye("C",void 0,void 0);function ye(je,Ze,Ee){return{kind:je,value:Ze,error:Ee}}var J=M(3410),G=M(2806);class ee extends L.w0{constructor(Ze){super(),this.isStopped=!1,Ze?(this.destination=Ze,(0,L.Nn)(Ze)&&Ze.add(this)):this.destination=ft}static create(Ze,Ee,Qe){return new at(Ze,Ee,Qe)}next(Ze){this.isStopped?st(function de(je){return ye("N",je,void 0)}(Ze),this):this._next(Ze)}error(Ze){this.isStopped?st(function he(je){return ye("E",void 0,je)}(Ze),this):(this.isStopped=!0,this._error(Ze))}complete(){this.isStopped?st(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ze){this.destination.next(Ze)}_error(Ze){try{this.destination.error(Ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Ue(je,Ze){return Be.call(je,Ze)}class be{constructor(Ze){this.partialObserver=Ze}next(Ze){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Ze)}catch(Qe){Ce(Qe)}}error(Ze){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Ze)}catch(Qe){Ce(Qe)}else Ce(Ze)}complete(){const{partialObserver:Ze}=this;if(Ze.complete)try{Ze.complete()}catch(Ee){Ce(Ee)}}}class at extends ee{constructor(Ze,Ee,Qe){let Ge;if(super(),(0,e.m)(Ze)||!Ze)Ge={next:null!=Ze?Ze:void 0,error:null!=Ee?Ee:void 0,complete:null!=Qe?Qe:void 0};else{let Te;this&&U.v.useDeprecatedNextContext?(Te=Object.create(Ze),Te.unsubscribe=()=>this.unsubscribe(),Ge={next:Ze.next&&Ue(Ze.next,Te),error:Ze.error&&Ue(Ze.error,Te),complete:Ze.complete&&Ue(Ze.complete,Te)}):Ge=Ze}this.destination=new be(Ge)}}function Ce(je){U.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(je):(0,oe.h)(je)}function st(je,Ze){const{onStoppedNotification:Ee}=U.v;Ee&&J.z.setTimeout(()=>Ee(je,Ze))}const ft={closed:!0,next:ue,error:function ge(je){throw je},complete:ue}},727:(it,we,M)=>{M.d(we,{Lc:()=>pe,w0:()=>ue,Nn:()=>he});var e=M(576);const U=(0,M(3888).d)(ye=>function(G){ye(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((ee,Be)=>`${Be+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var oe=M(8737);class ue{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Ue of G)Ue.remove(this);else G.remove(this);const{initialTeardown:ee}=this;if((0,e.m)(ee))try{ee()}catch(Ue){J=Ue instanceof U?Ue.errors:[Ue]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Ue of Be)try{de(Ue)}catch(be){J=null!=J?J:[],be instanceof U?J=[...J,...be.errors]:J.push(be)}}if(J)throw new U(J)}}add(J){var G;if(J&&J!==this)if(this.closed)de(J);else{if(J instanceof ue){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(J)}}_hasParent(J){const{_parentage:G}=this;return G===J||Array.isArray(G)&&G.includes(J)}_addParent(J){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(J),G):G?[G,J]:J}_removeParent(J){const{_parentage:G}=this;G===J?this._parentage=null:Array.isArray(G)&&(0,oe.P)(G,J)}remove(J){const{_finalizers:G}=this;G&&(0,oe.P)(G,J),J instanceof ue&&J._removeParent(this)}}ue.EMPTY=(()=>{const ye=new ue;return ye.closed=!0,ye})();const pe=ue.EMPTY;function he(ye){return ye instanceof ue||ye&&"closed"in ye&&(0,e.m)(ye.remove)&&(0,e.m)(ye.add)&&(0,e.m)(ye.unsubscribe)}function de(ye){(0,e.m)(ye)?ye():ye.unsubscribe()}},2416:(it,we,M)=>{M.d(we,{v:()=>e});const e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(it,we,M)=>{M.d(we,{E:()=>L});const L=new(M(9751).y)(ue=>ue.complete())},8996:(it,we,M)=>{M.d(we,{D:()=>Ze});var e=M(8421),L=M(5363),U=M(9468),pe=M(9751),de=M(2202),ye=M(576),J=M(9672);function ee(Ee,Qe){if(!Ee)throw new Error("Iterable cannot be null");return new pe.y(Ge=>{(0,J.f)(Ge,Qe,()=>{const Te=Ee[Symbol.asyncIterator]();(0,J.f)(Ge,Qe,()=>{Te.next().then(De=>{De.done?Ge.complete():Ge.next(De.value)})},0,!0)})})}var Be=M(3670),Ue=M(8239),be=M(1144),at=M(6495),Ce=M(2206),ge=M(4532),st=M(3260);function Ze(Ee,Qe){return Qe?function je(Ee,Qe){if(null!=Ee){if((0,Be.c)(Ee))return function oe(Ee,Qe){return(0,e.Xf)(Ee).pipe((0,U.R)(Qe),(0,L.Q)(Qe))}(Ee,Qe);if((0,be.z)(Ee))return function he(Ee,Qe){return new pe.y(Ge=>{let Te=0;return Qe.schedule(function(){Te===Ee.length?Ge.complete():(Ge.next(Ee[Te++]),Ge.closed||this.schedule())})})}(Ee,Qe);if((0,Ue.t)(Ee))return function ue(Ee,Qe){return(0,e.Xf)(Ee).pipe((0,U.R)(Qe),(0,L.Q)(Qe))}(Ee,Qe);if((0,Ce.D)(Ee))return ee(Ee,Qe);if((0,at.T)(Ee))return function G(Ee,Qe){return new pe.y(Ge=>{let Te;return(0,J.f)(Ge,Qe,()=>{Te=Ee[de.h](),(0,J.f)(Ge,Qe,()=>{let De,X;try{({value:De,done:X}=Te.next())}catch(se){return void Ge.error(se)}X?Ge.complete():Ge.next(De)},0,!0)}),()=>(0,ye.m)(null==Te?void 0:Te.return)&&Te.return()})}(Ee,Qe);if((0,st.L)(Ee))return function ft(Ee,Qe){return ee((0,st.Q)(Ee),Qe)}(Ee,Qe)}throw(0,ge.z)(Ee)}(Ee,Qe):(0,e.Xf)(Ee)}},8421:(it,we,M)=>{M.d(we,{Xf:()=>Be});var e=M(5987),L=M(1144),U=M(8239),oe=M(9751),ue=M(3670),pe=M(2206),he=M(4532),de=M(6495),ye=M(3260),J=M(576),G=M(7849),ee=M(8822);function Be(je){if(je instanceof oe.y)return je;if(null!=je){if((0,ue.c)(je))return function Ue(je){return new oe.y(Ze=>{const Ee=je[ee.L]();if((0,J.m)(Ee.subscribe))return Ee.subscribe(Ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(je);if((0,L.z)(je))return function be(je){return new oe.y(Ze=>{for(let Ee=0;Ee<je.length&&!Ze.closed;Ee++)Ze.next(je[Ee]);Ze.complete()})}(je);if((0,U.t)(je))return function at(je){return new oe.y(Ze=>{je.then(Ee=>{Ze.closed||(Ze.next(Ee),Ze.complete())},Ee=>Ze.error(Ee)).then(null,G.h)})}(je);if((0,pe.D)(je))return ge(je);if((0,de.T)(je))return function Ce(je){return new oe.y(Ze=>{for(const Ee of je)if(Ze.next(Ee),Ze.closed)return;Ze.complete()})}(je);if((0,ye.L)(je))return function st(je){return ge((0,ye.Q)(je))}(je)}throw(0,he.z)(je)}function ge(je){return new oe.y(Ze=>{(function ft(je,Ze){var Ee,Qe,Ge,Te;return(0,e.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,e.KL)(je);!(Qe=yield Ee.next()).done;)if(Ze.next(Qe.value),Ze.closed)return}catch(De){Ge={error:De}}finally{try{Qe&&!Qe.done&&(Te=Ee.return)&&(yield Te.call(Ee))}finally{if(Ge)throw Ge.error}}Ze.complete()})})(je,Ze).catch(Ee=>Ze.error(Ee))})}},6451:(it,we,M)=>{M.d(we,{T:()=>pe});var e=M(8189),L=M(8421),U=M(515),oe=M(3269),ue=M(8996);function pe(...he){const de=(0,oe.yG)(he),ye=(0,oe._6)(he,1/0),J=he;return J.length?1===J.length?(0,L.Xf)(J[0]):(0,e.J)(ye)((0,ue.D)(J,de)):U.E}},5403:(it,we,M)=>{M.d(we,{x:()=>L});var e=M(2961);function L(oe,ue,pe,he,de){return new U(oe,ue,pe,he,de)}class U extends e.Lv{constructor(ue,pe,he,de,ye,J){super(ue),this.onFinalize=ye,this.shouldUnsubscribe=J,this._next=pe?function(G){try{pe(G)}catch(ee){ue.error(ee)}}:super._next,this._error=de?function(G){try{de(G)}catch(ee){ue.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(G){ue.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(it,we,M)=>{M.d(we,{U:()=>U});var e=M(4482),L=M(5403);function U(oe,ue){return(0,e.e)((pe,he)=>{let de=0;pe.subscribe((0,L.x)(he,ye=>{he.next(oe.call(ue,ye,de++))}))})}},8189:(it,we,M)=>{M.d(we,{J:()=>U});var e=M(5577),L=M(4671);function U(oe=1/0){return(0,e.z)(L.y,oe)}},5577:(it,we,M)=>{M.d(we,{z:()=>de});var e=M(4004),L=M(8421),U=M(4482),oe=M(9672),ue=M(5403),he=M(576);function de(ye,J,G=1/0){return(0,he.m)(J)?de((ee,Be)=>(0,e.U)((Ue,be)=>J(ee,Ue,Be,be))((0,L.Xf)(ye(ee,Be))),G):("number"==typeof J&&(G=J),(0,U.e)((ee,Be)=>function pe(ye,J,G,ee,Be,Ue,be,at){const Ce=[];let ge=0,st=0,ft=!1;const je=()=>{ft&&!Ce.length&&!ge&&J.complete()},Ze=Qe=>ge<ee?Ee(Qe):Ce.push(Qe),Ee=Qe=>{Ue&&J.next(Qe),ge++;let Ge=!1;(0,L.Xf)(G(Qe,st++)).subscribe((0,ue.x)(J,Te=>{null==Be||Be(Te),Ue?Ze(Te):J.next(Te)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(ge--;Ce.length&&ge<ee;){const Te=Ce.shift();be?(0,oe.f)(J,be,()=>Ee(Te)):Ee(Te)}je()}catch(Te){J.error(Te)}}))};return ye.subscribe((0,ue.x)(J,Ze,()=>{ft=!0,je()})),()=>{null==at||at()}}(ee,Be,ye,G)))}},5363:(it,we,M)=>{M.d(we,{Q:()=>oe});var e=M(9672),L=M(4482),U=M(5403);function oe(ue,pe=0){return(0,L.e)((he,de)=>{he.subscribe((0,U.x)(de,ye=>(0,e.f)(de,ue,()=>de.next(ye),pe),()=>(0,e.f)(de,ue,()=>de.complete(),pe),ye=>(0,e.f)(de,ue,()=>de.error(ye),pe)))})}},3099:(it,we,M)=>{M.d(we,{B:()=>ue});var e=M(8421),L=M(7579),U=M(2961),oe=M(4482);function ue(he={}){const{connector:de=(()=>new L.x),resetOnError:ye=!0,resetOnComplete:J=!0,resetOnRefCountZero:G=!0}=he;return ee=>{let Be,Ue,be,at=0,Ce=!1,ge=!1;const st=()=>{null==Ue||Ue.unsubscribe(),Ue=void 0},ft=()=>{st(),Be=be=void 0,Ce=ge=!1},je=()=>{const Ze=Be;ft(),null==Ze||Ze.unsubscribe()};return(0,oe.e)((Ze,Ee)=>{at++,!ge&&!Ce&&st();const Qe=be=null!=be?be:de();Ee.add(()=>{at--,0===at&&!ge&&!Ce&&(Ue=pe(je,G))}),Qe.subscribe(Ee),!Be&&at>0&&(Be=new U.Hp({next:Ge=>Qe.next(Ge),error:Ge=>{ge=!0,st(),Ue=pe(ft,ye,Ge),Qe.error(Ge)},complete:()=>{Ce=!0,st(),Ue=pe(ft,J),Qe.complete()}}),(0,e.Xf)(Ze).subscribe(Be))})(ee)}}function pe(he,de,...ye){if(!0===de)return void he();if(!1===de)return;const J=new U.Hp({next:()=>{J.unsubscribe(),he()}});return de(...ye).subscribe(J)}},9468:(it,we,M)=>{M.d(we,{R:()=>L});var e=M(4482);function L(U,oe=0){return(0,e.e)((ue,pe)=>{pe.add(U.schedule(()=>ue.subscribe(pe),oe))})}},8505:(it,we,M)=>{M.d(we,{b:()=>ue});var e=M(576),L=M(4482),U=M(5403),oe=M(4671);function ue(pe,he,de){const ye=(0,e.m)(pe)||he||de?{next:pe,error:he,complete:de}:pe;return ye?(0,L.e)((J,G)=>{var ee;null===(ee=ye.subscribe)||void 0===ee||ee.call(ye);let Be=!0;J.subscribe((0,U.x)(G,Ue=>{var be;null===(be=ye.next)||void 0===be||be.call(ye,Ue),G.next(Ue)},()=>{var Ue;Be=!1,null===(Ue=ye.complete)||void 0===Ue||Ue.call(ye),G.complete()},Ue=>{var be;Be=!1,null===(be=ye.error)||void 0===be||be.call(ye,Ue),G.error(Ue)},()=>{var Ue,be;Be&&(null===(Ue=ye.unsubscribe)||void 0===Ue||Ue.call(ye)),null===(be=ye.finalize)||void 0===be||be.call(ye)}))}):oe.y}},4408:(it,we,M)=>{M.d(we,{o:()=>ue});var e=M(727);class L extends e.w0{constructor(he,de){super()}schedule(he,de=0){return this}}const U={setInterval(pe,he,...de){const{delegate:ye}=U;return null!=ye&&ye.setInterval?ye.setInterval(pe,he,...de):setInterval(pe,he,...de)},clearInterval(pe){const{delegate:he}=U;return((null==he?void 0:he.clearInterval)||clearInterval)(pe)},delegate:void 0};var oe=M(8737);class ue extends L{constructor(he,de){super(he,de),this.scheduler=he,this.work=de,this.pending=!1}schedule(he,de=0){if(this.closed)return this;this.state=he;const ye=this.id,J=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(J,ye,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId(J,this.id,de),this}requestAsyncId(he,de,ye=0){return U.setInterval(he.flush.bind(he,this),ye)}recycleAsyncId(he,de,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return de;U.clearInterval(de)}execute(he,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(he,de);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,de){let J,ye=!1;try{this.work(he)}catch(G){ye=!0,J=G||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:he,scheduler:de}=this,{actions:ye}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(ye,this),null!=he&&(this.id=this.recycleAsyncId(de,he,null)),this.delay=null,super.unsubscribe()}}}},7565:(it,we,M)=>{M.d(we,{v:()=>U});var e=M(6063);class L{constructor(ue,pe=L.now){this.schedulerActionCtor=ue,this.now=pe}schedule(ue,pe=0,he){return new this.schedulerActionCtor(this,ue).schedule(he,pe)}}L.now=e.l.now;class U extends L{constructor(ue,pe=L.now){super(ue,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ue){const{actions:pe}=this;if(this._active)return void pe.push(ue);let he;this._active=!0;do{if(he=ue.execute(ue.state,ue.delay))break}while(ue=pe.shift());if(this._active=!1,he){for(;ue=pe.shift();)ue.unsubscribe();throw he}}}},4986:(it,we,M)=>{M.d(we,{P:()=>oe,z:()=>U});var e=M(4408);const U=new(M(7565).v)(e.o),oe=U},6063:(it,we,M)=>{M.d(we,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},3410:(it,we,M)=>{M.d(we,{z:()=>e});const e={setTimeout(L,U,...oe){const{delegate:ue}=e;return null!=ue&&ue.setTimeout?ue.setTimeout(L,U,...oe):setTimeout(L,U,...oe)},clearTimeout(L){const{delegate:U}=e;return((null==U?void 0:U.clearTimeout)||clearTimeout)(L)},delegate:void 0}},2202:(it,we,M)=>{M.d(we,{h:()=>L});const L=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(it,we,M)=>{M.d(we,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(it,we,M)=>{M.d(we,{_6:()=>pe,jO:()=>oe,yG:()=>ue});var e=M(576),L=M(3532);function U(he){return he[he.length-1]}function oe(he){return(0,e.m)(U(he))?he.pop():void 0}function ue(he){return(0,L.K)(U(he))?he.pop():void 0}function pe(he,de){return"number"==typeof U(he)?he.pop():de}},8737:(it,we,M)=>{function e(L,U){if(L){const oe=L.indexOf(U);0<=oe&&L.splice(oe,1)}}M.d(we,{P:()=>e})},3888:(it,we,M)=>{function e(L){const oe=L(ue=>{Error.call(ue),ue.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}M.d(we,{d:()=>e})},2806:(it,we,M)=>{M.d(we,{O:()=>oe,x:()=>U});var e=M(2416);let L=null;function U(ue){if(e.v.useDeprecatedSynchronousErrorHandling){const pe=!L;if(pe&&(L={errorThrown:!1,error:null}),ue(),pe){const{errorThrown:he,error:de}=L;if(L=null,he)throw de}}else ue()}function oe(ue){e.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=ue)}},9672:(it,we,M)=>{function e(L,U,oe,ue=0,pe=!1){const he=U.schedule(function(){oe(),pe?L.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(L.add(he),!pe)return he}M.d(we,{f:()=>e})},4671:(it,we,M)=>{function e(L){return L}M.d(we,{y:()=>e})},1144:(it,we,M)=>{M.d(we,{z:()=>e});const e=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(it,we,M)=>{M.d(we,{D:()=>L});var e=M(576);function L(U){return Symbol.asyncIterator&&(0,e.m)(null==U?void 0:U[Symbol.asyncIterator])}},576:(it,we,M)=>{function e(L){return"function"==typeof L}M.d(we,{m:()=>e})},3670:(it,we,M)=>{M.d(we,{c:()=>U});var e=M(8822),L=M(576);function U(oe){return(0,L.m)(oe[e.L])}},6495:(it,we,M)=>{M.d(we,{T:()=>U});var e=M(2202),L=M(576);function U(oe){return(0,L.m)(null==oe?void 0:oe[e.h])}},8239:(it,we,M)=>{M.d(we,{t:()=>L});var e=M(576);function L(U){return(0,e.m)(null==U?void 0:U.then)}},3260:(it,we,M)=>{M.d(we,{L:()=>oe,Q:()=>U});var e=M(5987),L=M(576);function U(ue){return(0,e.FC)(this,arguments,function*(){const he=ue.getReader();try{for(;;){const{value:de,done:ye}=yield(0,e.qq)(he.read());if(ye)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(de)}}finally{he.releaseLock()}})}function oe(ue){return(0,L.m)(null==ue?void 0:ue.getReader)}},3532:(it,we,M)=>{M.d(we,{K:()=>L});var e=M(576);function L(U){return U&&(0,e.m)(U.schedule)}},4482:(it,we,M)=>{M.d(we,{A:()=>L,e:()=>U});var e=M(576);function L(oe){return(0,e.m)(null==oe?void 0:oe.lift)}function U(oe){return ue=>{if(L(ue))return ue.lift(function(pe){try{return oe(pe,this)}catch(he){this.error(he)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(it,we,M)=>{M.d(we,{U:()=>U,z:()=>L});var e=M(4671);function L(...oe){return U(oe)}function U(oe){return 0===oe.length?e.y:1===oe.length?oe[0]:function(pe){return oe.reduce((he,de)=>de(he),pe)}}},7849:(it,we,M)=>{M.d(we,{h:()=>U});var e=M(2416),L=M(3410);function U(oe){L.z.setTimeout(()=>{const{onUnhandledError:ue}=e.v;if(!ue)throw oe;ue(oe)})}},4532:(it,we,M)=>{function e(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(we,{z:()=>e})},5987:(it,we,M)=>{function de(X,se,ie,_e){return new(ie||(ie=Promise))(function(Fe,Tt){function tn(bn){try{Ke(_e.next(bn))}catch(Hn){Tt(Hn)}}function jt(bn){try{Ke(_e.throw(bn))}catch(Hn){Tt(Hn)}}function Ke(bn){bn.done?Fe(bn.value):function le(Fe){return Fe instanceof ie?Fe:new ie(function(Tt){Tt(Fe)})}(bn.value).then(tn,jt)}Ke((_e=_e.apply(X,se||[])).next())})}function Ce(X){return this instanceof Ce?(this.v=X,this):new Ce(X)}function ge(X,se,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,_e=ie.apply(X,se||[]),Fe=[];return le={},Tt("next"),Tt("throw"),Tt("return"),le[Symbol.asyncIterator]=function(){return this},le;function Tt(Cn){_e[Cn]&&(le[Cn]=function(nn){return new Promise(function(Jn,Fr){Fe.push([Cn,nn,Jn,Fr])>1||tn(Cn,nn)})})}function tn(Cn,nn){try{!function jt(Cn){Cn.value instanceof Ce?Promise.resolve(Cn.value.v).then(Ke,bn):Hn(Fe[0][2],Cn)}(_e[Cn](nn))}catch(Jn){Hn(Fe[0][3],Jn)}}function Ke(Cn){tn("next",Cn)}function bn(Cn){tn("throw",Cn)}function Hn(Cn,nn){Cn(nn),Fe.shift(),Fe.length&&tn(Fe[0][0],Fe[0][1])}}function ft(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,se=X[Symbol.asyncIterator];return se?se.call(X):(X=function ee(X){var se="function"==typeof Symbol&&Symbol.iterator,ie=se&&X[se],_e=0;if(ie)return ie.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&_e>=X.length&&(X=void 0),{value:X&&X[_e++],done:!X}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),ie={},_e("next"),_e("throw"),_e("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function _e(Fe){ie[Fe]=X[Fe]&&function(Tt){return new Promise(function(tn,jt){!function le(Fe,Tt,tn,jt){Promise.resolve(jt).then(function(Ke){Fe({value:Ke,done:tn})},Tt)}(tn,jt,(Tt=X[Fe](Tt)).done,Tt.value)})}}}M.d(we,{FC:()=>ge,KL:()=>ft,mG:()=>de,qq:()=>Ce})},5e3:(it,we,M)=>{M.d(we,{$8M:()=>Ma,$Z:()=>Nh,AFp:()=>Py,ALo:()=>fT,AaK:()=>de,AsE:()=>ty,BQk:()=>Kf,CHM:()=>qs,CRH:()=>AT,CZH:()=>fd,Ckj:()=>We,CqO:()=>P1,D6c:()=>_D,EJc:()=>tD,EpF:()=>U1,F4k:()=>M1,FYo:()=>ra,FiY:()=>xe,G48:()=>vd,Gf:()=>bT,GfV:()=>u0,Gpc:()=>G,JOm:()=>ii,Jf7:()=>T0,KtG:()=>os,LFG:()=>pn,LSH:()=>Re,Lbi:()=>Kr,Lck:()=>gE,MMx:()=>hy,NdJ:()=>Nu,OlP:()=>cn,Oqu:()=>ey,PXZ:()=>By,Q6J:()=>$_,QGY:()=>J_,QP$:()=>Hl,Qsj:()=>Du,R0b:()=>ui,RDi:()=>sh,Rgc:()=>ug,SBq:()=>Eu,Sil:()=>Ry,Suo:()=>Ae,TTD:()=>Ms,TgZ:()=>zf,VKq:()=>uT,X6Q:()=>zy,XFs:()=>lt,Xpm:()=>F,Xts:()=>Mc,Y36:()=>zc,YKP:()=>XC,YNc:()=>k1,Yjl:()=>te,Yz7:()=>nn,ZZ4:()=>iv,_Bn:()=>YC,_UZ:()=>H_,_Vd:()=>Iu,_c5:()=>gp,_uU:()=>sC,aQg:()=>wd,c2e:()=>XE,cJS:()=>Fr,cg1:()=>Ka,dDg:()=>sp,deG:()=>vu,dqk:()=>ze,eFA:()=>Gy,ekj:()=>Y_,eoX:()=>Vy,f3M:()=>qa,g9A:()=>_g,h0i:()=>ud,hGG:()=>mp,hij:()=>Xf,iGM:()=>qE,ifc:()=>Bt,ip1:()=>My,kL8:()=>bC,lG2:()=>pr,lcZ:()=>gT,lnq:()=>ny,lqb:()=>Tl,lri:()=>ip,n5z:()=>Ua,oAB:()=>Ct,oxw:()=>F1,q4F:()=>Fc,qLn:()=>qc,qOj:()=>T1,qZA:()=>Bl,rWj:()=>qy,sBO:()=>aD,sIi:()=>Yc,s_b:()=>my,soG:()=>rp,tb:()=>Yr,tp0:()=>ht,uIk:()=>b1,vHH:()=>be,vpe:()=>Is,wAp:()=>xt,xp6:()=>q0,ynx:()=>Qf,z2F:()=>dp,zSh:()=>zi,zs3:()=>Nl});var e=M(7579),L=M(727),U=M(9751),oe=M(6451),ue=M(3099);function pe(s){for(let u in s)if(s[u]===pe)return u;throw Error("Could not find renamed property on target object.")}function he(s,u){for(const l in u)u.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=u[l])}function de(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(de).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const u=s.toString();if(null==u)return""+u;const l=u.indexOf("\n");return-1===l?u:u.substring(0,l)}function ye(s,u){return null==s||""===s?null===u?"":u:null==u||""===u?s:s+" "+u}const J=pe({__forward_ref__:pe});function G(s){return s.__forward_ref__=G,s.toString=function(){return de(this())},s}function ee(s){return Be(s)?s():s}function Be(s){return"function"==typeof s&&s.hasOwnProperty(J)&&s.__forward_ref__===G}class be extends Error{constructor(u,l){super(function at(s,u){return`NG0${Math.abs(s)}${u?": "+u.trim():""}`}(u,l)),this.code=u}}function Ce(s){return"string"==typeof s?s:null==s?"":String(s)}function Ze(s,u){throw new be(-201,!1)}function jt(s,u){null==s&&function Ke(s,u,l,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${l} ${c} ${u} <=Actual]`))}(u,s,null,"!=")}function nn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Fr(s){return{providers:s.providers||[],imports:s.imports||[]}}function Rn(s){return go(s,Cr)||go(s,Pe)}function go(s,u){return s.hasOwnProperty(u)?s[u]:null}function Ni(s){return s&&(s.hasOwnProperty(no)||s.hasOwnProperty(sr))?s[no]:null}const Cr=pe({\u0275prov:pe}),no=pe({\u0275inj:pe}),Pe=pe({ngInjectableDef:pe}),sr=pe({ngInjectorDef:pe});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Tr;function zt(s){const u=Tr;return Tr=s,u}function wr(s,u,l){const c=Rn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&lt.Optional?null:void 0!==u?u:void Ze(de(s))}function zn(s){return{toString:s}.toString()}var Dn=(()=>((Dn=Dn||{})[Dn.OnPush=0]="OnPush",Dn[Dn.Default=1]="Default",Dn))(),Bt=(()=>{return(s=Bt||(Bt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Bt;var s})();const ze=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),ar={},ct=[],on=pe({\u0275cmp:pe}),Bn=pe({\u0275dir:pe}),Ln=pe({\u0275pipe:pe}),en=pe({\u0275mod:pe}),Sn=pe({\u0275fac:pe}),B=pe({__NG_ELEMENT_ID__:pe});let j=0;function F(s){return zn(()=>{const l=!0===s.standalone,c={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Dn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||ct,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Bt.Emulated,id:"c"+j++,styles:s.styles||ct,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,_=s.features;return h.inputs=sn(s.inputs,c),h.outputs=sn(s.outputs),_&&_.forEach(T=>T(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(Q).filter(ke):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(ve).filter(ke):null,h})}function Q(s){return q(s)||V(s)}function ke(s){return null!==s}const Ye={};function Ct(s){return zn(()=>{const u={type:s.type,bootstrap:s.bootstrap||ct,declarations:s.declarations||ct,imports:s.imports||ct,exports:s.exports||ct,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Ye[s.id]=s.type),u})}function sn(s,u){if(null==s)return ar;const l={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=c,u&&(u[h]=g)}return l}const pr=F;function te(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function q(s){return s[on]||null}function V(s){return s[Bn]||null}function ve(s){return s[Ln]||null}function Ve(s,u){const l=s[en]||null;if(!l&&!0===u)throw new Error(`Type ${de(s)} does not have '\u0275mod' property.`);return l}function St(s){return Array.isArray(s)&&"object"==typeof s[1]}function jr(s){return Array.isArray(s)&&!0===s[1]}function Gu(s){return 0!=(8&s.flags)}function Us(s){return 2==(2&s.flags)}function Ca(s){return 1==(1&s.flags)}function Go(s){return null!==s.template}function tr(s){return 0!=(256&s[2])}function No(s,u){return s.hasOwnProperty(Sn)?s[Sn]:null}class $d{constructor(u,l,c){this.previousValue=u,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ms(){return Wu}function Wu(s){return s.type.prototype.ngOnChanges&&(s.setInput=pc),zu}function zu(){const s=Pi(this),u=null==s?void 0:s.current;if(u){const l=s.previous;if(l===ar)s.previous=u;else for(let c in u)l[c]=u[c];s.current=null,this.ngOnChanges(u)}}function pc(s,u,l,c){const h=Pi(s)||function pi(s,u){return s[Ps]=u}(s,{previous:ar,current:null}),g=h.current||(h.current={}),_=h.previous,T=this.declaredInputs[l],b=_[T];g[T]=new $d(b&&b.currentValue,u,_===ar),s[c]=u}Ms.ngInherit=!0;const Ps="__ngSimpleChanges__";function Pi(s){return s[Ps]||null}function qn(s){for(;Array.isArray(s);)s=s[0];return s}function Os(s,u){return qn(u[s])}function Nn(s,u){return qn(u[s.index])}function ba(s,u){return s.data[u]}function kr(s,u){const l=u[s];return St(l)?l:l[0]}function Rs(s){return 4==(4&s[2])}function Nr(s){return 64==(64&s[2])}function $r(s,u){return null==u?null:s[u]}function ns(s){s[18]=0}function el(s,u){s[5]+=u;let l=s,c=s[3];for(;null!==c&&(1===u&&1===l[5]||-1===u&&0===l[5]);)c[5]+=u,l=c,c=c[3]}const gt={lFrame:mc(null),bindingsEnabled:!0};function Ri(){return gt.bindingsEnabled}function Se(){return gt.lFrame.lView}function $t(){return gt.lFrame.tView}function qs(s){return gt.lFrame.contextLView=s,s[8]}function os(s){return gt.lFrame.contextLView=null,s}function Vn(){let s=Ia();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ia(){return gt.lFrame.currentTNode}function _o(s,u){const l=gt.lFrame;l.currentTNode=s,l.isParent=u}function ss(){return gt.lFrame.isParent}function Vs(){gt.lFrame.isParent=!1}function nr(){const s=gt.lFrame;let u=s.bindingRootIndex;return-1===u&&(u=s.bindingRootIndex=s.tView.bindingStartIndex),u}function Uo(){return gt.lFrame.bindingIndex}function fi(){return gt.lFrame.bindingIndex++}function Wo(s){const u=gt.lFrame,l=u.bindingIndex;return u.bindingIndex=u.bindingIndex+s,l}function js(s,u){const l=gt.lFrame;l.bindingIndex=l.bindingRootIndex=s,$s(u)}function $s(s){gt.lFrame.currentDirectiveIndex=s}function uu(){return gt.lFrame.currentQueryIndex}function qi(s){gt.lFrame.currentQueryIndex=s}function nl(s){const u=s[1];return 2===u.type?u.declTNode:1===u.type?s[6]:null}function gi(s,u,l){if(l&lt.SkipSelf){let h=u,g=s;for(;!(h=h.parent,null!==h||l&lt.Host||(h=nl(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;u=h,s=g}const c=gt.lFrame=Ea();return c.currentTNode=u,c.lView=s,!0}function rl(s){const u=Ea(),l=s[1];gt.lFrame=u,u.currentTNode=l.firstChild,u.lView=s,u.tView=l,u.contextLView=s,u.bindingIndex=l.bindingStartIndex,u.inI18n=!1}function Ea(){const s=gt.lFrame,u=null===s?null:s.child;return null===u?mc(s):u}function mc(s){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=u),u}function Hs(){const s=gt.lFrame;return gt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const _c=Hs;function Js(){const s=Hs();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function gr(){return gt.lFrame.selectedIndex}function Mo(s){gt.lFrame.selectedIndex=s}function jn(){const s=gt.lFrame;return ba(s.tView,s.selectedIndex)}function Sa(s,u){for(let l=u.directiveStart,c=u.directiveEnd;l<c;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:T,ngAfterViewInit:b,ngAfterViewChecked:E,ngOnDestroy:N}=g;_&&(s.contentHooks||(s.contentHooks=[])).push(-l,_),T&&((s.contentHooks||(s.contentHooks=[])).push(l,T),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,T)),b&&(s.viewHooks||(s.viewHooks=[])).push(-l,b),E&&((s.viewHooks||(s.viewHooks=[])).push(l,E),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,E)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(l,N)}}function Tc(s,u,l){zo(s,u,3,l)}function as(s,u,l,c){(3&s[2])===l&&zo(s,u,l,c)}function il(s,u){let l=s[2];(3&l)===u&&(l&=2047,l+=1,s[2]=l)}function zo(s,u,l,c){const g=null!=c?c:-1,_=u.length-1;let T=0;for(let b=void 0!==c?65535&s[18]:0;b<_;b++)if("number"==typeof u[b+1]){if(T=u[b],null!=c&&T>=c)break}else u[b]<0&&(s[18]+=65536),(T<g||-1==g)&&(du(s,l,u,b),s[18]=(4294901760&s[18])+b+2),b++}function du(s,u,l,c){const h=l[c]<0,g=l[c+1],T=s[h?-l[c]:l[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===u){s[2]+=2048;try{g.call(T)}finally{}}}else try{g.call(T)}finally{}}class us{constructor(u,l,c){this.factory=u,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function cs(s,u,l){let c=0;for(;c<l.length;){const h=l[c];if("number"==typeof h){if(0!==h)break;c++;const g=l[c++],_=l[c++],T=l[c++];s.setAttribute(u,_,T,g)}else{const g=h,_=l[++c];mi(g)?s.setProperty(u,g,_):s.setAttribute(u,g,_),c++}}return c}function zd(s){return 3===s||4===s||6===s}function mi(s){return 64===s.charCodeAt(0)}function fu(s,u){if(null!==u&&0!==u.length)if(null===s||0===s.length)s=u.slice();else{let l=-1;for(let c=0;c<u.length;c++){const h=u[c];"number"==typeof h?l=h:0===l||Qd(s,l,h,null,-1===l||2===l?u[++c]:null)}}return s}function Qd(s,u,l,c,h){let g=0,_=s.length;if(-1===u)_=-1;else for(;g<s.length;){const T=s[g++];if("number"==typeof T){if(T===u){_=-1;break}if(T>u){_=g-1;break}}}for(;g<s.length;){const T=s[g];if("number"==typeof T)break;if(T===l){if(null===c)return void(null!==h&&(s[g+1]=h));if(c===s[g+1])return void(s[g+2]=h)}g++,null!==c&&g++,null!==h&&g++}-1!==_&&(s.splice(_,0,u),g=_+1),s.splice(g++,0,l),null!==c&&s.splice(g++,0,c),null!==h&&s.splice(g++,0,h)}function Kd(s){return-1!==s}function xa(s){return 32767&s}function Za(s,u){let l=function yo(s){return s>>16}(s),c=u;for(;l>0;)c=c[15],l--;return c}let Yd=!0;function wc(s){const u=Yd;return Yd=s,u}let Gr=0;const _i={};function Vi(s,u){const l=Ws(s,u);if(-1!==l)return l;const c=u[1];c.firstCreatePass&&(s.injectorIndex=u.length,Po(c.data,s),Po(u,null),Po(c.blueprint,null));const h=gu(s,u),g=s.injectorIndex;if(Kd(h)){const _=xa(h),T=Za(h,u),b=T[1].data;for(let E=0;E<8;E++)u[g+E]=T[_+E]|b[_+E]}return u[g+8]=h,g}function Po(s,u){s.push(0,0,0,0,0,0,0,0,u)}function Ws(s,u){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===u[s.injectorIndex+8]?-1:s.injectorIndex}function gu(s,u){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,c=null,h=u;for(;null!==h;){if(c=Un(h),null===c)return-1;if(l++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function ds(s,u,l){!function bc(s,u,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(B)&&(c=l[B]),null==c&&(c=l[B]=Gr++);const h=255&c;u.data[s+(h>>5)]|=1<<h}(s,u,l)}function mr(s,u,l){if(l&lt.Optional)return s;Ze()}function K(s,u,l,c){if(l&lt.Optional&&void 0===c&&(c=null),0==(l&(lt.Self|lt.Host))){const h=s[9],g=zt(void 0);try{return h?h.get(u,c,l&lt.Optional):wr(u,c,l&lt.Optional)}finally{zt(g)}}return mr(c,0,l)}function mu(s,u,l,c=lt.Default,h){if(null!==s){if(1024&u[2]){const _=function al(s,u,l,c,h){let g=s,_=u;for(;null!==g&&null!==_&&1024&_[2]&&!(256&_[2]);){const T=_u(g,_,l,c|lt.Self,_i);if(T!==_i)return T;let b=g.parent;if(!b){const E=_[21];if(E){const N=E.get(l,_i,c);if(N!==_i)return N}b=Un(_),_=_[15]}g=b}return h}(s,u,l,c,_i);if(_!==_i)return _}const g=_u(s,u,l,c,_i);if(g!==_i)return g}return K(u,l,c,h)}function _u(s,u,l,c,h){const g=function yu(s){if("string"==typeof s)return s.charCodeAt(0)||0;const u=s.hasOwnProperty(B)?s[B]:void 0;return"number"==typeof u?u>=0?255&u:Ac:u}(l);if("function"==typeof g){if(!gi(u,s,c))return c&lt.Host?mr(h,0,c):K(u,l,c,h);try{const _=g(c);if(null!=_||c&lt.Optional)return _;Ze()}finally{_c()}}else if("number"==typeof g){let _=null,T=Ws(s,u),b=-1,E=c&lt.Host?u[16][6]:null;for((-1===T||c&lt.SkipSelf)&&(b=-1===T?gu(s,u):u[T+8],-1!==b&&vo(c,!1)?(_=u[1],T=xa(b),u=Za(b,u)):T=-1);-1!==T;){const N=u[1];if($i(g,T,N.data)){const P=ka(T,u,l,_,c,E);if(P!==_i)return P}b=u[T+8],-1!==b&&vo(c,u[1].data[T+8]===E)&&$i(g,T,u)?(_=N,T=xa(b),u=Za(b,u)):T=-1}}return h}function ka(s,u,l,c,h,g){const _=u[1],T=_.data[s+8],N=ji(T,_,l,null==c?Us(T)&&Yd:c!=_&&0!=(3&T.type),h&lt.Host&&g===T);return null!==N?Na(u,_,N,T):_i}function ji(s,u,l,c,h){const g=s.providerIndexes,_=u.data,T=1048575&g,b=s.directiveStart,N=g>>20,z=h?T+N:s.directiveEnd;for(let re=c?T:T+N;re<z;re++){const Ie=_[re];if(re<b&&l===Ie||re>=b&&Ie.type===l)return re}if(h){const re=_[b];if(re&&Go(re)&&re.type===l)return b}return null}function Na(s,u,l,c){let h=s[l];const g=u.data;if(function hu(s){return s instanceof us}(h)){const _=h;_.resolving&&function st(s,u){const l=u?`. Dependency path: ${u.join(" > ")} > ${s}`:"";throw new be(-200,`Circular dependency in DI detected for ${s}${l}`)}(function ge(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ce(s)}(g[l]));const T=wc(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?zt(_.injectImpl):null;gi(s,c,lt.Default);try{h=s[l]=_.factory(void 0,g,s,c),u.firstCreatePass&&l>=c.directiveStart&&function Wd(s,u,l){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:g}=u.type.prototype;if(c){const _=Wu(u);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,_)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],u)}finally{null!==b&&zt(b),wc(T),_.resolving=!1,_c()}}return h}function $i(s,u,l){return!!(l[u+(s>>5)]&1<<s)}function vo(s,u){return!(s&lt.Self||s&lt.Host&&u)}class yi{constructor(u,l){this._tNode=u,this._lView=l}get(u,l,c){return mu(this._tNode,this._lView,u,c,l)}}function Ac(){return new yi(Vn(),Se())}function Ua(s){return zn(()=>{const u=s.prototype.constructor,l=u[Sn]||sl(u),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const g=h[Sn]||sl(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function sl(s){return Be(s)?()=>{const u=sl(ee(s));return u&&u()}:No(s)}function Un(s){const u=s[1],l=u.type;return 2===l?u.declTNode:1===l?s[6]:null}function Ma(s){return function Bi(s,u){if("class"===u)return s.classes;if("style"===u)return s.styles;const l=s.attrs;if(l){const c=l.length;let h=0;for(;h<c;){const g=l[h];if(zd(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<c&&"string"==typeof l[h];)h++;else{if(g===u)return l[h+1];h+=2}}}return null}(Vn(),s)}const Mr="__parameters__";function io(s,u,l){return zn(()=>{const c=function Gi(s){return function(...l){if(s){const c=s(...l);for(const h in c)this[h]=c[h]}}}(u);function h(...g){if(this instanceof h)return c.apply(this,g),this;const _=new h(...g);return T.annotation=_,T;function T(b,E,N){const P=b.hasOwnProperty(Mr)?b[Mr]:Object.defineProperty(b,Mr,{value:[]})[Mr];for(;P.length<=N;)P.push(null);return(P[N]=P[N]||[]).push(_),b}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class cn{constructor(u,l){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=nn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const vu=new cn("AnalyzeForEntryComponents");function br(s,u){void 0===u&&(u=s);for(let l=0;l<s.length;l++){let c=s[l];Array.isArray(c)?(u===s&&(u=s.slice(0,l)),br(c,u)):u!==s&&u.push(c)}return u}function Yo(s,u){s.forEach(l=>Array.isArray(l)?Yo(l,u):u(l))}function cl(s,u,l){u>=s.length?s.push(l):s.splice(u,0,l)}function ps(s,u){return u>=s.length-1?s.pop():s.splice(u,1)[0]}function Hr(s,u,l){let c=vi(s,u);return c>=0?s[1|c]=l:(c=~c,function eh(s,u,l,c){let h=s.length;if(h==u)s.push(l,c);else if(1===h)s.push(c,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>u;)s[h]=s[h-2],h--;s[u]=l,s[u+1]=c}}(s,c,u,l)),c}function Sc(s,u){const l=vi(s,u);if(l>=0)return s[1|l]}function vi(s,u){return function gs(s,u,l){let c=0,h=s.length>>l;for(;h!==c;){const g=c+(h-c>>1),_=s[g<<l];if(u===_)return g<<l;_>u?h=g:c=g+1}return~(h<<l)}(s,u,1)}const Ro={},pl="__NG_DI_FLAG__",Fa="ngTempTokenPath",ei=/\n/gm,ti="__source";let bu;function Ci(s){const u=bu;return bu=s,u}function Xs(s,u=lt.Default){if(void 0===bu)throw new be(-203,!1);return null===bu?wr(s,void 0,u):bu.get(s,u&lt.Optional?null:void 0,u)}function pn(s,u=lt.Default){return(function rn(){return Tr}()||Xs)(ee(s),u)}function qa(s,u=lt.Default){return"number"!=typeof u&&(u=0|(u.optional&&8)|(u.host&&1)|(u.self&&2)|(u.skipSelf&&4)),pn(s,u)}function A(s){const u=[];for(let l=0;l<s.length;l++){const c=ee(s[l]);if(Array.isArray(c)){if(0===c.length)throw new be(900,!1);let h,g=lt.Default;for(let _=0;_<c.length;_++){const T=c[_],b=k(T);"number"==typeof b?-1===b?h=T.token:g|=b:h=T}u.push(pn(h,g))}else u.push(pn(c))}return u}function I(s,u){return s[pl]=u,s.prototype[pl]=u,s}function k(s){return s[pl]}const xe=I(io("Optional"),8),ht=I(io("SkipSelf"),4);let Va;function sh(s){Va=s}class Tm{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function un(s){return s instanceof Tm?s.changingThisBreaksApplicationSecurity:s}function ta(s,u){const l=function bm(s){return s instanceof Tm&&s.getTypeName()||null}(s);if(null!=l&&l!==u){if("ResourceURL"===l&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===u}const Em=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Sm=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var $=(()=>(($=$||{})[$.NONE=0]="NONE",$[$.HTML=1]="HTML",$[$.STYLE=2]="STYLE",$[$.SCRIPT=3]="SCRIPT",$[$.URL=4]="URL",$[$.RESOURCE_URL=5]="RESOURCE_URL",$))();function We(s){const u=Ba();return u?u.sanitize($.STYLE,s)||"":ta(s,"Style")?un(s):Ce(s)}function Re(s){const u=Ba();return u?u.sanitize($.URL,s)||"":ta(s,"URL")?un(s):function Wi(s){return(s=String(s)).match(Em)||s.match(Sm)?s:"unsafe:"+s}(Ce(s))}function Ba(){const s=Se();return s&&s[12]}const Mc=new cn("ENVIRONMENT_INITIALIZER"),mf=new cn("INJECTOR",-1),_f=new cn("INJECTOR_DEF_TYPES");class vl{get(u,l=Ro){if(l===Ro){const c=new Error(`NullInjectorError: No provider for ${de(u)}!`);throw c.name="NullInjectorError",c}return l}}function yf(...s){return{\u0275providers:_h(0,s)}}function _h(s,...u){const l=[],c=new Set;let h;return Yo(u,g=>{const _=g;vf(_,l,[],c)&&(h||(h=[]),h.push(_))}),void 0!==h&&Cl(h,l),l}function Cl(s,u){for(let l=0;l<s.length;l++){const{providers:h}=s[l];Yo(h,g=>{u.push(g)})}}function vf(s,u,l,c){if(!(s=ee(s)))return!1;let h=null,g=Ni(s);const _=!g&&q(s);if(g||_){if(_&&!_.standalone)return!1;h=s}else{const b=s.ngModule;if(g=Ni(b),!g)return!1;h=b}const T=c.has(h);if(_){if(T)return!1;if(c.add(h),_.dependencies){const b="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const E of b)vf(E,u,l,c)}}else{if(!g)return!1;{if(null!=g.imports&&!T){let E;c.add(h);try{Yo(g.imports,N=>{vf(N,u,l,c)&&(E||(E=[]),E.push(N))})}finally{}void 0!==E&&Cl(E,u)}if(!T){const E=No(h)||(()=>new h);u.push({provide:h,useFactory:E,deps:ct},{provide:_f,useValue:h,multi:!0},{provide:Mc,useValue:()=>pn(h),multi:!0})}const b=g.providers;null==b||T||Yo(b,N=>{u.push(N)})}}return h!==s&&void 0!==s.providers}const o0=pe({provide:String,useValue:pe});function km(s){return null!==s&&"object"==typeof s&&o0 in s}function Pc(s){return"function"==typeof s}const zi=new cn("Set Injector scope."),uo={},yh={};let Nm;function vh(){return void 0===Nm&&(Nm=new vl),Nm}class Tl{}class Um extends Tl{constructor(u,l,c,h){super(),this.parent=l,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,na(u,_=>this.processProvider(_)),this.records.set(mf,Oc(void 0,this)),h.has("environment")&&this.records.set(Tl,Oc(void 0,this));const g=this.records.get(zi);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(_f.multi,ct,lt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();for(const u of this._onDestroyHooks)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(u){this._onDestroyHooks.push(u)}runInContext(u){this.assertNotDestroyed();const l=Ci(this),c=zt(void 0);try{return u()}finally{Ci(l),zt(c)}}get(u,l=Ro,c=lt.Default){this.assertNotDestroyed();const h=Ci(this),g=zt(void 0);try{if(!(c&lt.SkipSelf)){let T=this.records.get(u);if(void 0===T){const b=function ab(s){return"function"==typeof s||"object"==typeof s&&s instanceof cn}(u)&&Rn(u);T=b&&this.injectableDefInScope(b)?Oc(wl(u),uo):null,this.records.set(u,T)}if(null!=T)return this.hydrate(u,T)}return(c&lt.Self?vh():this.parent).get(u,l=c&lt.Optional&&l===Ro?null:l)}catch(_){if("NullInjectorError"===_.name){if((_[Fa]=_[Fa]||[]).unshift(de(u)),h)throw _;return function R(s,u,l,c){const h=s[Fa];throw u[ti]&&h.unshift(u[ti]),s.message=function Y(s,u,l,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=de(u);if(Array.isArray(u))h=u.map(de).join(" -> ");else if("object"==typeof u){let g=[];for(let _ in u)if(u.hasOwnProperty(_)){let T=u[_];g.push(_+":"+("string"==typeof T?JSON.stringify(T):de(T)))}h=`{${g.join(", ")}}`}return`${l}${c?"("+c+")":""}[${h}]: ${s.replace(ei,"\n  ")}`}("\n"+s.message,h,l,c),s.ngTokenPath=h,s[Fa]=null,s}(_,u,"R3InjectorError",this.source)}throw _}finally{zt(g),Ci(h)}}resolveInjectorInitializers(){const u=Ci(this),l=zt(void 0);try{const c=this.get(Mc.multi,ct,lt.Self);for(const h of c)h()}finally{Ci(u),zt(l)}}toString(){const u=[],l=this.records;for(const c of l.keys())u.push(de(c));return`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(u){let l=Pc(u=ee(u))?u:ee(u&&u.provide);const c=function Mm(s){return km(s)?Oc(void 0,s.useValue):Oc(Pm(s),uo)}(u);if(Pc(u)||!0!==u.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Oc(void 0,uo,!0),h.factory=()=>A(h.multi),this.records.set(l,h)),l=u,h.multi.push(u)}this.records.set(l,c)}hydrate(u,l){return l.value===uo&&(l.value=yh,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Rc(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(u){if(!u.providedIn)return!1;const l=ee(u.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function wl(s){const u=Rn(s),l=null!==u?u.factory:No(s);if(null!==l)return l;if(s instanceof cn)throw new be(204,!1);if(s instanceof Function)return function sb(s){const u=s.length;if(u>0)throw function fs(s,u){const l=[];for(let c=0;c<s;c++)l.push(u);return l}(u,"?"),new be(204,!1);const l=function Tn(s){const u=s&&(s[Cr]||s[Pe]);if(u){const l=function mn(s){if(s.hasOwnProperty("name"))return s.name;const u=(""+s).match(/^function\s*([^\s(]+)/);return null===u?"":u[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),u}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new be(204,!1)}function Pm(s,u,l){let c;if(Pc(s)){const h=ee(s);return No(h)||wl(h)}if(km(s))c=()=>ee(s.useValue);else if(function ib(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...A(s.deps||[]));else if(function ob(s){return!(!s||!s.useExisting)}(s))c=()=>pn(ee(s.useExisting));else{const h=ee(s&&(s.useClass||s.provide));if(!function Ch(s){return!!s.deps}(s))return No(h)||wl(h);c=()=>new h(...A(s.deps))}return c}function Oc(s,u,l=!1){return{factory:s,value:u,multi:l?[]:void 0}}function bl(s){return!!s.\u0275providers}function na(s,u){for(const l of s)Array.isArray(l)?na(l,u):bl(l)?na(l.\u0275providers,u):u(l)}class Co{}class Lc{resolveComponentFactory(u){throw function Om(s){const u=Error(`No component factory found for ${de(s)}. Did you add it to @NgModule.entryComponents?`);return u.ngComponent=s,u}(u)}}let Iu=(()=>{class s{}return s.NULL=new Lc,s})();function He(){return Er(Vn(),Se())}function Er(s,u){return new Eu(Nn(s,u))}let Eu=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=He,s})();function a0(s){return s instanceof Eu?s.nativeElement:s}class ra{}let Du=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function To(){const s=Se(),l=kr(Vn().index,s);return(St(l)?l:s)[11]}(),s})(),ja=(()=>{class s{}return s.\u0275prov=nn({token:s,providedIn:"root",factory:()=>null}),s})();class u0{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const Fc=new u0("14.1.0"),Th={};function Tf(s){return s.ngOriginalError}class qc{constructor(){this._console=console}handleError(u){const l=this._findOriginalError(u);this._console.error("ERROR",u),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(u){let l=u&&Tf(u);for(;l&&Tf(l);)l=Tf(l);return l||null}}const Il=new Map;let pb=0;const Vc="__ngContext__";function wo(s,u){St(u)?(s[Vc]=u[20],function fb(s){Il.set(s[20],s)}(u)):s[Vc]=u}function Sl(s){const u=s[Vc];return"number"==typeof u?function jm(s){return Il.get(s)||null}(u):u||null}function Bc(s){const u=Sl(s);return u?St(u)?u:u.lView:null}const vb=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ze))();function T0(s){return s.ownerDocument.defaultView}function Lo(s){return s instanceof Function?s():s}var ii=(()=>((ii=ii||{})[ii.Important=1]="Important",ii[ii.DashCase=2]="DashCase",ii))();function Ef(s,u){return undefined(s,u)}function bh(s){const u=s[3];return jr(u)?u[3]:u}function zm(s){return Gc(s[13])}function Ah(s){return Gc(s[4])}function Gc(s){for(;null!==s&&!jr(s);)s=s[4];return s}function xu(s,u,l,c,h){if(null!=c){let g,_=!1;jr(c)?g=c:St(c)&&(_=!0,c=c[0]);const T=qn(c);0===s&&null!==l?null==h?t_(u,l,T):xl(u,l,T,h||null,!0):1===s&&null!==l?xl(u,l,T,h||null,!0):2===s?function Zf(s,u,l){const c=Hc(s,u);c&&function k0(s,u,l,c){s.removeChild(u,l,c)}(s,c,u,l)}(u,T,_):3===s&&u.destroyNode(T),null!=g&&function Dh(s,u,l,c,h){const g=l[7];g!==qn(l)&&xu(u,s,c,g,h);for(let T=10;T<l.length;T++){const b=l[T];kl(b[1],b,s,u,c,g)}}(u,s,g,l,h)}}function ws(s,u,l){return s.createElement(u,l)}function E0(s,u){const l=s[9],c=l.indexOf(u),h=u[3];512&u[2]&&(u[2]&=-513,el(h,-1)),l.splice(c,1)}function Xm(s,u){if(s.length<=10)return;const l=10+u,c=s[l];if(c){const h=c[17];null!==h&&h!==s&&E0(h,c),u>0&&(s[l-1][4]=c[4]);const g=ps(s,10+u);!function Ym(s,u){kl(s,u,u[11],2,null,null),u[0]=null,u[6]=null}(c[1],c);const _=g[19];null!==_&&_.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function D0(s,u){if(!(128&u[2])){const l=u[11];l.destroyNode&&kl(s,u,l,3,null,null),function I0(s){let u=s[13];if(!u)return e_(s[1],s);for(;u;){let l=null;if(St(u))l=u[13];else{const c=u[10];c&&(l=c)}if(!l){for(;u&&!u[4]&&u!==s;)St(u)&&e_(u[1],u),u=u[3];null===u&&(u=s),St(u)&&e_(u[1],u),l=u&&u[4]}u=l}}(u)}}function e_(s,u){if(!(128&u[2])){u[2]&=-65,u[2]|=128,function Ab(s,u){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let c=0;c<l.length;c+=2){const h=u[l[c]];if(!(h instanceof us)){const g=l[c+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const T=h[g[_]],b=g[_+1];try{b.call(T)}finally{}}else try{g.call(h)}finally{}}}}(s,u),function bb(s,u){const l=s.cleanup,c=u[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const _=l[g+1],T="function"==typeof _?_(u):qn(u[_]),b=c[h=l[g+2]],E=l[g+3];"boolean"==typeof E?T.removeEventListener(l[g],b,E):E>=0?c[h=E]():c[h=-E].unsubscribe(),g+=2}else{const _=c[h=l[g+1]];l[g].call(_)}if(null!==c){for(let g=h+1;g<c.length;g++)(0,c[g])();u[7]=null}}(s,u),1===u[1].type&&u[11].destroy();const l=u[17];if(null!==l&&jr(u[3])){l!==u[3]&&E0(l,u);const c=u[19];null!==c&&c.detachView(s)}!function g0(s){Il.delete(s[20])}(u)}}function S0(s,u,l){return function x0(s,u,l){let c=u;for(;null!==c&&40&c.type;)c=(u=c).parent;if(null===c)return l[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===Bt.None||h===Bt.Emulated)return null}return Nn(c,l)}(s,u.parent,l)}function xl(s,u,l,c,h){s.insertBefore(u,l,c,h)}function t_(s,u,l){s.appendChild(u,l)}function Z0(s,u,l,c,h){null!==c?xl(s,u,l,c,h):t_(s,u,l)}function Hc(s,u){return s.parentNode(u)}let r_=function n_(s,u,l){return 40&s.type?Nn(s,l):null};function Ih(s,u,l,c){const h=S0(s,c,u),g=u[11],T=function Zl(s,u,l){return r_(s,u,l)}(c.parent||u[6],c,u);if(null!=h)if(Array.isArray(l))for(let b=0;b<l.length;b++)Z0(g,h,l[b],T,!1);else Z0(g,h,l,T,!1)}function Sf(s,u){if(null!==u){const l=u.type;if(3&l)return Nn(u,s);if(4&l)return xf(-1,s[u.index]);if(8&l){const c=u.child;if(null!==c)return Sf(s,c);{const h=s[u.index];return jr(h)?xf(-1,h):qn(h)}}if(32&l)return Ef(u,s)()||qn(s[u.index]);{const c=Eh(s,u);return null!==c?Array.isArray(c)?c[0]:Sf(bh(s[16]),c):Sf(s,u.next)}}return null}function Eh(s,u){return null!==u?s[16][6].projection[u.projection]:null}function xf(s,u){const l=10+s+1;if(l<u.length){const c=u[l],h=c[1].firstChild;if(null!==h)return Sf(c,h)}return u[7]}function kf(s,u,l,c,h,g,_){for(;null!=l;){const T=c[l.index],b=l.type;if(_&&0===u&&(T&&wo(qn(T),c),l.flags|=4),64!=(64&l.flags))if(8&b)kf(s,u,l.child,c,h,g,!1),xu(u,s,h,T,g);else if(32&b){const E=Ef(l,c);let N;for(;N=E();)xu(u,s,h,N,g);xu(u,s,h,T,g)}else 16&b?U0(s,u,c,l,h,g):xu(u,s,h,T,g);l=_?l.projectionNext:l.next}}function kl(s,u,l,c,h,g){kf(l,c,s.firstChild,u,h,g,!1)}function U0(s,u,l,c,h,g){const _=l[16],b=_[6].projection[c.projection];if(Array.isArray(b))for(let E=0;E<b.length;E++)xu(u,s,h,b[E],g);else kf(s,u,b,_[3],h,g,!0)}function M0(s,u,l){s.setAttribute(u,"style",l)}function Sh(s,u,l){""===l?s.removeAttribute(u,"class"):s.setAttribute(u,"class",l)}function s_(s,u,l){let c=s.length;for(;;){const h=s.indexOf(u,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=u.length;if(h+g===c||s.charCodeAt(h+g)<=32)return h}l=h+1}}const a_="ng-template";function P0(s,u,l){let c=0;for(;c<s.length;){let h=s[c++];if(l&&"class"===h){if(h=s[c],-1!==s_(h.toLowerCase(),u,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===u)return!0;return!1}}return!1}function O0(s){return 4===s.type&&s.value!==a_}function xh(s,u,l){return u===(4!==s.type||l?s.value:a_)}function Nf(s,u,l){let c=4;const h=s.attrs||[],g=function F0(s){for(let u=0;u<s.length;u++)if(zd(s[u]))return u;return s.length}(h);let _=!1;for(let T=0;T<u.length;T++){const b=u[T];if("number"!=typeof b){if(!_)if(4&c){if(c=2|1&c,""!==b&&!xh(s,b,l)||""===b&&1===u.length){if(si(c))return!1;_=!0}}else{const E=8&c?b:u[++T];if(8&c&&null!==s.attrs){if(!P0(s.attrs,E,l)){if(si(c))return!1;_=!0}continue}const P=Db(8&c?"class":b,h,O0(s),l);if(-1===P){if(si(c))return!1;_=!0;continue}if(""!==E){let z;z=P>g?"":h[P+1].toLowerCase();const re=8&c?z:null;if(re&&-1!==s_(re,E,0)||2&c&&E!==z){if(si(c))return!1;_=!0}}}}else{if(!_&&!si(c)&&!si(b))return!1;if(_&&si(b))continue;_=!1,c=b|1&c}}return si(c)||_}function si(s){return 0==(1&s)}function Db(s,u,l,c){if(null===u)return-1;let h=0;if(c||!l){let g=!1;for(;h<u.length;){const _=u[h];if(_===s)return h;if(3===_||6===_)g=!0;else{if(1===_||2===_){let T=u[++h];for(;"string"==typeof T;)T=u[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=g?1:2}return-1}return function ox(s,u){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const c=s[l];if("number"==typeof c)return-1;if(c===u)return l;l++}return-1}(u,s)}function R0(s,u,l=!1){for(let c=0;c<u.length;c++)if(Nf(s,u[c],l))return!0;return!1}function Sb(s,u){return s?":not("+u.trim()+")":u}function sx(s){let u=s[0],l=1,c=2,h="",g=!1;for(;l<s.length;){let _=s[l];if("string"==typeof _)if(2&c){const T=s[++l];h+="["+_+(T.length>0?'="'+T+'"':"")+"]"}else 8&c?h+="."+_:4&c&&(h+=" "+_);else""!==h&&!si(_)&&(u+=Sb(g,h),h=""),c=_,g=g||!si(c);l++}return""!==h&&(u+=Sb(g,h)),u}const qt={};function q0(s){Uf($t(),Se(),gr()+s,!1)}function Uf(s,u,l,c){if(!c)if(3==(3&u[2])){const g=s.preOrderCheckHooks;null!==g&&Tc(u,g,l)}else{const g=s.preOrderHooks;null!==g&&as(u,g,0,l)}Mo(l)}function Zh(s,u=null,l=null,c){const h=Jc(s,u,l,c);return h.resolveInjectorInitializers(),h}function Jc(s,u=null,l=null,c,h=new Set){const g=[l||ct,yf(s)];return c=c||("object"==typeof s?void 0:de(s)),new Um(g,u||vh(),c||null,h)}let Nl=(()=>{class s{static create(l,c){var h;if(Array.isArray(l))return Zh({name:""},c,l,"");{const g=null!==(h=l.name)&&void 0!==h?h:"";return Zh({name:g},l.parent,l.providers,g)}}}return s.THROW_IF_NOT_FOUND=Ro,s.NULL=new vl,s.\u0275prov=nn({token:s,providedIn:"any",factory:()=>pn(mf)}),s.__NG_ELEMENT_ID__=-1,s})();function zc(s,u=lt.Default){const l=Se();return null===l?pn(s,u):mu(Vn(),l,ee(s),u)}function Nh(){throw new Error("invalid")}function Uh(s,u){return s<<17|u<<2}function ai(s){return s>>17&32767}function Pl(s){return 2|s}function ia(s){return(131068&s)>>2}function g_(s,u){return-131069&s|u<<2}function m_(s){return 1|s}function i1(s,u){const l=s.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const h=l[c],g=l[c+1];if(-1!==g){const _=s.data[g];qi(h),_.contentQueries(2,u[g],g)}}}function qf(s,u,l,c,h,g,_,T,b,E,N){const P=u.blueprint.slice();return P[0]=h,P[2]=76|c,(null!==N||s&&1024&s[2])&&(P[2]|=1024),ns(P),P[3]=P[15]=s,P[8]=l,P[10]=_||s&&s[10],P[11]=T||s&&s[11],P[12]=b||s&&s[12]||null,P[9]=E||s&&s[9]||null,P[6]=g,P[20]=function El(){return pb++}(),P[21]=N,P[16]=2==u.type?s[16]:P,P}function Ol(s,u,l,c,h){let g=s.data[u];if(null===g)g=function a1(s,u,l,c,h){const g=Ia(),_=ss(),b=s.data[u]=function iA(s,u,l,c,h,g){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,l,u,c,h);return null===s.firstChild&&(s.firstChild=b),null!==g&&(_?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b)),b}(s,u,l,c,h),function au(){return gt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=c,g.attrs=h;const _=function is(){const s=gt.lFrame,u=s.currentTNode;return s.isParent?u:u.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return _o(g,!0),g}function Rh(s,u,l,c){if(0===l)return-1;const h=u.length;for(let g=0;g<l;g++)u.push(c),s.blueprint.push(c),s.data.push(null);return h}function Lh(s,u,l){rl(u);try{const c=s.viewQuery;null!==c&&Gf(1,c,l);const h=s.template;null!==h&&aa(s,u,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&i1(s,u),s.staticViewQueries&&Gf(2,s.viewQuery,l);const g=s.components;null!==g&&function s1(s,u){for(let l=0;l<u.length;l++)_A(s,u[l])}(u,g)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{u[2]&=-5,Js()}}function Qc(s,u,l,c){const h=u[2];if(128!=(128&h)){rl(u);try{ns(u),function Bs(s){return gt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&aa(s,u,l,2,c);const _=3==(3&h);if(_){const E=s.preOrderCheckHooks;null!==E&&Tc(u,E,null)}else{const E=s.preOrderHooks;null!==E&&as(u,E,0,null),il(u,0)}if(function za(s){for(let u=zm(s);null!==u;u=Ah(u)){if(!u[2])continue;const l=u[9];for(let c=0;c<l.length;c++){const h=l[c],g=h[3];0==(512&h[2])&&el(g,1),h[2]|=512}}}(u),function Bf(s){for(let u=zm(s);null!==u;u=Ah(u))for(let l=10;l<u.length;l++){const c=u[l],h=c[1];Nr(c)&&Qc(h,c,h.template,c[8])}}(u),null!==s.contentQueries&&i1(s,u),_){const E=s.contentCheckHooks;null!==E&&Tc(u,E)}else{const E=s.contentHooks;null!==E&&as(u,E,1),il(u,1)}!function Ai(s,u){const l=s.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const h=l[c];if(h<0)Mo(~h);else{const g=h,_=l[++c],T=l[++c];js(_,g),T(2,u[g])}}}finally{Mo(-1)}}(s,u);const T=s.components;null!==T&&function Xb(s,u){for(let l=0;l<u.length;l++)Tx(s,u[l])}(u,T);const b=s.viewQuery;if(null!==b&&Gf(2,b,c),_){const E=s.viewCheckHooks;null!==E&&Tc(u,E)}else{const E=s.viewHooks;null!==E&&as(u,E,2),il(u,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),u[2]&=-41,512&u[2]&&(u[2]&=-513,el(u[3],-1))}finally{Js()}}}function eA(s,u,l,c){const h=u[10],_=Rs(u);try{!_&&h.begin&&h.begin(),_&&Lh(s,u,c),Qc(s,u,l,c)}finally{!_&&h.end&&h.end()}}function aa(s,u,l,c,h){const g=gr(),_=2&c;try{Mo(-1),_&&u.length>22&&Uf(s,u,22,!1),l(c,h)}finally{Mo(g)}}function tA(s,u,l){if(Gu(u)){const h=u.directiveEnd;for(let g=u.directiveStart;g<h;g++){const _=s.data[g];_.contentQueries&&_.contentQueries(1,l[g],g)}}}function Fh(s,u,l){!Ri()||(function k_(s,u,l,c){const h=l.directiveStart,g=l.directiveEnd;s.firstCreatePass||Vi(l,u),wo(c,u);const _=l.initialInputs;for(let T=h;T<g;T++){const b=s.data[T],E=Go(b);E&&ua(u,l,b);const N=Na(u,s,T,l);wo(N,u),null!==_&&gA(0,T-h,N,b,0,_),E&&(kr(l.index,u)[8]=N)}}(s,u,l,Nn(l,u)),128==(128&l.flags)&&function dA(s,u,l){const c=l.directiveStart,h=l.directiveEnd,g=l.index,_=function Jd(){return gt.lFrame.currentDirectiveIndex}();try{Mo(g);for(let T=c;T<h;T++){const b=s.data[T],E=u[T];$s(T),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&d1(b,E)}}finally{Mo(-1),$s(_)}}(s,u,l))}function Vf(s,u,l=Nn){const c=u.localNames;if(null!==c){let h=u.index+1;for(let g=0;g<c.length;g+=2){const _=c[g+1],T=-1===_?l(u,s):s[_];s[h++]=T}}}function E_(s){const u=s.tView;return null===u||u.incompleteFirstPass?s.tView=D_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):u}function D_(s,u,l,c,h,g,_,T,b,E){const N=22+c,P=N+h,z=function nA(s,u){const l=[];for(let c=0;c<u;c++)l.push(c<s?null:qt);return l}(N,P),re="function"==typeof E?E():E;return z[1]={type:s,blueprint:z,template:l,queries:null,viewQuery:T,declTNode:u,data:z.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:re,incompleteFirstPass:!1}}function u1(s,u,l,c){const h=R_(u);null===l?h.push(c):(h.push(l),s.firstCreatePass&&Vh(s).push(c,h.length-1))}function l1(s,u,l){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(u,h):l[c]=[u,h]}return l}function S_(s,u){const c=u.directiveEnd,h=s.data,g=u.attrs,_=[];let T=null,b=null;for(let E=u.directiveStart;E<c;E++){const N=h[E],P=N.inputs,z=null===g||O0(u)?null:mA(P,g);_.push(z),T=l1(P,E,T),b=l1(N.outputs,E,b)}null!==T&&(T.hasOwnProperty("class")&&(u.flags|=16),T.hasOwnProperty("style")&&(u.flags|=32)),u.initialInputs=_,u.inputs=T,u.outputs=b}function c1(s,u){const l=kr(u,s);16&l[2]||(l[2]|=32)}function x_(s,u,l,c){let h=!1;if(Ri()){const g=function hA(s,u,l){const c=s.directiveRegistry;let h=null;if(c)for(let g=0;g<c.length;g++){const _=c[g];R0(l,_.selectors,!1)&&(h||(h=[]),ds(Vi(l,u),s,_.type),Go(_)?(pA(s,l),h.unshift(_)):h.push(_))}return h}(s,u,l),_=null===c?null:{"":-1};if(null!==g){h=!0,N_(l,s.data.length,g.length);for(let N=0;N<g.length;N++){const P=g[N];P.providersResolver&&P.providersResolver(P)}let T=!1,b=!1,E=Rh(s,u,g.length,null);for(let N=0;N<g.length;N++){const P=g[N];l.mergedAttrs=fu(l.mergedAttrs,P.hostAttrs),U_(s,l,u,E,P),Rl(E,P,_),null!==P.contentQueries&&(l.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(l.flags|=128);const z=P.type.prototype;!T&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),T=!0),!b&&(z.ngOnChanges||z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),b=!0),E++}S_(s,l)}_&&function fA(s,u,l){if(u){const c=s.localNames=[];for(let h=0;h<u.length;h+=2){const g=l[u[h+1]];if(null==g)throw new be(-301,!1);c.push(u[h],g)}}}(l,c,_)}return l.mergedAttrs=fu(l.mergedAttrs,l.attrs),h}function Z_(s,u,l,c,h,g){const _=g.hostBindings;if(_){let T=s.hostBindingOpCodes;null===T&&(T=s.hostBindingOpCodes=[]);const b=~u.index;(function cA(s){let u=s.length;for(;u>0;){const l=s[--u];if("number"==typeof l&&l<0)return l}return 0})(T)!=b&&T.push(b),T.push(c,h,_)}}function d1(s,u){null!==s.hostBindings&&s.hostBindings(1,u)}function pA(s,u){u.flags|=2,(s.components||(s.components=[])).push(u.index)}function Rl(s,u,l){if(l){if(u.exportAs)for(let c=0;c<u.exportAs.length;c++)l[u.exportAs[c]]=s;Go(u)&&(l[""]=s)}}function N_(s,u,l){s.flags|=1,s.directiveStart=u,s.directiveEnd=u+l,s.providerIndexes=u}function U_(s,u,l,c,h){s.data[c]=h;const g=h.factory||(h.factory=No(h.type)),_=new us(g,Go(h),zc);s.blueprint[c]=_,l[c]=_,Z_(s,u,0,c,Rh(s,l,h.hostVars,qt),h)}function ua(s,u,l){const c=Nn(u,s),h=E_(l),g=s[10],_=qh(s,qf(s,h,null,l.onPush?32:16,c,u,g,g.createRenderer(c,l),null,null,null));s[u.index]=_}function Wa(s,u,l,c,h,g){const _=Nn(s,u);!function M_(s,u,l,c,h,g,_){if(null==g)s.removeAttribute(u,h,l);else{const T=null==_?Ce(g):_(g,c||"",h);s.setAttribute(u,h,T,l)}}(u[11],_,g,s.value,l,c,h)}function gA(s,u,l,c,h,g){const _=g[u];if(null!==_){const T=c.setInput;for(let b=0;b<_.length;){const E=_[b++],N=_[b++],P=_[b++];null!==T?c.setInput(l,P,E,N):l[N]=P}}}function mA(s,u){let l=null,c=0;for(;c<u.length;){const h=u[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],u[c+1])),c+=2}else c+=2;else c+=4}return l}function P_(s,u,l,c){return new Array(s,!0,!1,u,null,0,c,l,null,null)}function Tx(s,u){const l=kr(u,s);if(Nr(l)){const c=l[1];48&l[2]?Qc(c,l,c.template,l[8]):l[5]>0&&O_(l)}}function O_(s){for(let c=zm(s);null!==c;c=Ah(c))for(let h=10;h<c.length;h++){const g=c[h];if(512&g[2]){const _=g[1];Qc(_,g,_.template,g[8])}else g[5]>0&&O_(g)}const l=s[1].components;if(null!==l)for(let c=0;c<l.length;c++){const h=kr(l[c],s);Nr(h)&&h[5]>0&&O_(h)}}function _A(s,u){const l=kr(u,s),c=l[1];(function h1(s,u){for(let l=u.length;l<s.blueprint.length;l++)u.push(s.blueprint[l])})(c,l),Lh(c,l,l[8])}function qh(s,u){return s[13]?s[14][4]=u:s[13]=u,s[14]=u,u}function jf(s){for(;s;){s[2]|=32;const u=bh(s);if(tr(s)&&!u)return s;s=u}return null}function $f(s){!function Ll(s){for(let u=0;u<s.components.length;u++){const l=s.components[u],c=Bc(l);if(null!==c){const h=c[1];eA(h,c,h.template,l)}}}(s[8])}function Gf(s,u,l){qi(0),u(s,l)}const la=(()=>Promise.resolve(null))();function R_(s){return s[7]||(s[7]=[])}function Vh(s){return s.cleanup||(s.cleanup=[])}function vA(s,u){const l=s[9],c=l?l.get(qc,null):null;c&&c.handleError(u)}function m1(s,u,l,c,h){for(let g=0;g<l.length;){const _=l[g++],T=l[g++],b=u[_],E=s.data[_];null!==E.setInput?E.setInput(b,h,c,T):b[T]=h}}function ku(s,u,l){const c=Os(u,s);!function Km(s,u,l){s.setValue(u,l)}(s[11],c,l)}function L_(s,u,l){let c=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==u)for(let _=0;_<u.length;_++){const T=u[_];"number"==typeof T?g=T:1==g?h=ye(h,T):2==g&&(c=ye(c,T+": "+u[++_]+";"))}l?s.styles=c:s.stylesWithoutHost=c,l?s.classes=h:s.classesWithoutHost=h}function F_(s,u,l,c,h=!1){for(;null!==l;){const g=u[l.index];if(null!==g&&c.push(qn(g)),jr(g))for(let T=10;T<g.length;T++){const b=g[T],E=b[1].firstChild;null!==E&&F_(b[1],b,E,c)}const _=l.type;if(8&_)F_(s,u,l.child,c);else if(32&_){const T=Ef(l,u);let b;for(;b=T();)c.push(b)}else if(16&_){const T=Eh(u,l);if(Array.isArray(T))c.push(...T);else{const b=bh(u[16]);F_(b[1],b,T,c,!0)}}l=h?l.projectionNext:l.next}return c}class Hf{constructor(u,l){this._lView=u,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const u=this._lView,l=u[1];return F_(l,u,l.firstChild,[])}get context(){return this._lView[8]}set context(u){this._lView[8]=u}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[3];if(jr(u)){const l=u[8],c=l?l.indexOf(this):-1;c>-1&&(Xm(u,c),ps(l,c))}this._attachedToViewContainer=!1}D0(this._lView[1],this._lView)}onDestroy(u){u1(this._lView[1],this._lView,null,u)}markForCheck(){jf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function cr(s,u,l){const c=u[10];c.begin&&c.begin();try{Qc(s,u,s.template,l)}catch(h){throw vA(u,h),h}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Df(s,u){kl(s,u,u[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=u}}class wx extends Hf{constructor(u){super(u),this._view=u}detectChanges(){$f(this._view)}checkNoChanges(){}get context(){return null}}class _1 extends Iu{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const l=q(u);return new Kc(l,this.ngModule)}}function CA(s){const u=[];for(let l in s)s.hasOwnProperty(l)&&u.push({propName:s[l],templateName:l});return u}class wA{constructor(u,l){this.injector=u,this.parentInjector=l}get(u,l,c){const h=this.injector.get(u,Th,c);return h!==Th||l===Th?h:this.parentInjector.get(u,l,c)}}class Kc extends Co{constructor(u,l){super(),this.componentDef=u,this.ngModule=l,this.componentType=u.type,this.selector=function u_(s){return s.map(sx).join(",")}(u.selectors),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return CA(this.componentDef.inputs)}get outputs(){return CA(this.componentDef.outputs)}create(u,l,c,h){let g=(h=h||this.ngModule)instanceof Tl?h:null==h?void 0:h.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new wA(u,g):u,T=_.get(ra,null);if(null===T)throw new be(407,!1);const b=_.get(ja,null),E=T.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",P=c?function oA(s,u,l){return s.selectRootElement(u,l===Bt.ShadowDom)}(E,c,this.componentDef.encapsulation):ws(T.createRenderer(null,this.componentDef),N,function TA(s){const u=s.toLowerCase();return"svg"===u?"svg":"math"===u?"math":null}(N)),z=this.componentDef.onPush?288:272,re=function Ax(s,u){return{components:[],scheduler:s||vb,clean:la,playerHandler:u||null,flags:0}}(),Ie=D_(0,null,null,1,0,null,null,null,null,null),Le=qf(null,Ie,re,z,null,null,T,E,b,_,null);let et,dt;rl(Le);try{const Et=function V_(s,u,l,c,h,g){const _=l[1];l[22]=s;const b=Ol(_,22,2,"#host",null),E=b.mergedAttrs=u.hostAttrs;null!==E&&(L_(b,E,!0),null!==s&&(cs(h,s,E),null!==b.classes&&Sh(h,s,b.classes),null!==b.styles&&M0(h,s,b.styles)));const N=c.createRenderer(s,u),P=qf(l,E_(u),null,u.onPush?32:16,l[22],b,c,N,g||null,null,null);return _.firstCreatePass&&(ds(Vi(b,l),_,u.type),pA(_,b),N_(b,l.length,1)),qh(l,P),l[22]=P}(P,this.componentDef,Le,T,E);if(P)if(c)cs(E,P,["ng-version",Fc.full]);else{const{attrs:Me,classes:At}=function xb(s){const u=[],l=[];let c=1,h=2;for(;c<s.length;){let g=s[c];if("string"==typeof g)2===h?""!==g&&u.push(g,s[++c]):8===h&&l.push(g);else{if(!si(h))break;h=g}c++}return{attrs:u,classes:l}}(this.componentDef.selectors[0]);Me&&cs(E,P,Me),At&&At.length>0&&Sh(E,P,At.join(" "))}if(dt=ba(Ie,22),void 0!==l){const Me=dt.projection=[];for(let At=0;At<this.ngContentSelectors.length;At++){const Ft=l[At];Me.push(null!=Ft?Array.from(Ft):null)}}et=function bA(s,u,l,c,h){const g=l[1],_=function lA(s,u,l){const c=Vn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),U_(s,c,u,Rh(s,u,1,null),l),S_(s,c));const h=Na(u,s,c.directiveStart,c);wo(h,u);const g=Nn(c,u);return g&&wo(g,u),h}(g,l,u);if(c.components.push(_),s[8]=_,null!==h)for(const b of h)b(_,u);if(u.contentQueries){const b=Vn();u.contentQueries(1,_,b.directiveStart)}const T=Vn();return!g.firstCreatePass||null===u.hostBindings&&null===u.hostAttrs||(Mo(T.index),Z_(l[1],T,0,T.directiveStart,T.directiveEnd,u),d1(u,_)),_}(Et,this.componentDef,Le,re,[Ix]),Lh(Ie,Le,null)}finally{Js()}return new v1(this.componentType,et,Er(dt,Le),Le,dt)}}class v1 extends class s0{}{constructor(u,l,c,h,g){super(),this.location=c,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new wx(h),this.componentType=u}setInput(u,l){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[u])){const g=this._rootLView;m1(g[1],g,h,u,l),c1(g,this._tNode.index)}}get injector(){return new yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}function Ix(){const s=Vn();Sa(Se()[1],s)}function T1(s){let u=function C1(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const c=[s];for(;u;){let h;if(Go(s))h=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new be(903,!1);h=u.\u0275dir}if(h){if(l){c.push(h);const _=s;_.inputs=Qi(s.inputs),_.declaredInputs=Qi(s.declaredInputs),_.outputs=Qi(s.outputs);const T=h.hostBindings;T&&IA(s,T);const b=h.viewQuery,E=h.contentQueries;if(b&&Fl(s,b),E&&AA(s,E),he(s.inputs,h.inputs),he(s.declaredInputs,h.declaredInputs),he(s.outputs,h.outputs),Go(h)&&h.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let _=0;_<g.length;_++){const T=g[_];T&&T.ngInherit&&T(s),T===T1&&(l=!1)}}u=Object.getPrototypeOf(u)}!function Dx(s){let u=0,l=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=u+=h.hostVars,h.hostAttrs=fu(h.hostAttrs,l=fu(l,h.hostAttrs))}}(c)}function Qi(s){return s===ar?{}:s===ct?[]:s}function Fl(s,u){const l=s.viewQuery;s.viewQuery=l?(c,h)=>{u(c,h),l(c,h)}:u}function AA(s,u){const l=s.contentQueries;s.contentQueries=l?(c,h,g)=>{u(c,h,g),l(c,h,g)}:u}function IA(s,u){const l=s.hostBindings;s.hostBindings=l?(c,h)=>{u(c,h),l(c,h)}:u}let Jf=null;function tt(){if(!Jf){const s=ze.Symbol;if(s&&s.iterator)Jf=s.iterator;else{const u=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<u.length;++l){const c=u[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Jf=c)}}}return Jf}function Yc(s){return!!On(s)&&(Array.isArray(s)||!(s instanceof Map)&&tt()in s)}function On(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function bo(s,u,l){return!Object.is(s[u],l)&&(s[u]=l,!0)}function ql(s,u,l,c){const h=bo(s,u,l);return bo(s,u+1,c)||h}function b1(s,u,l,c){const h=Se();return bo(h,fi(),u)&&($t(),Wa(jn(),h,s,u,l,c)),b1}function Vl(s,u,l,c,h,g,_,T){const E=function Wf(s,u,l,c,h){const g=ql(s,u,l,c);return bo(s,u+2,h)||g}(s,Uo(),l,h,_);return Wo(3),E?u+Ce(l)+c+Ce(h)+g+Ce(_)+T:qt}function k1(s,u,l,c,h,g,_,T){const b=Se(),E=$t(),N=s+22,P=E.firstCreatePass?function NA(s,u,l,c,h,g,_,T,b){const E=u.consts,N=Ol(u,s,4,_||null,$r(E,T));x_(u,l,N,$r(E,b)),Sa(u,N);const P=N.tViews=D_(2,N,c,h,g,u.directiveRegistry,u.pipeRegistry,null,u.schemas,E);return null!==u.queries&&(u.queries.template(u,N),P.queries=u.queries.embeddedTView(N)),N}(N,E,b,u,l,c,h,g,_):E.data[N];_o(P,!1);const z=b[11].createComment("");Ih(E,b,z,P),wo(z,b),qh(b,b[N]=P_(z,b,z,P)),Ca(P)&&Fh(E,b,P),null!=_&&Vf(b,P,T)}function $_(s,u,l){const c=Se();return bo(c,fi(),u)&&function Ii(s,u,l,c,h,g,_,T){const b=Nn(u,l);let N,E=u.inputs;!T&&null!=E&&(N=E[c])?(m1(s,l,N,c,h),Us(u)&&c1(l,u.index)):3&u.type&&(c=function sA(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=_?_(h,u.value||"",c):h,g.setProperty(b,c,h))}($t(),jn(),c,s,u,c[11],l,!1),$_}function G_(s,u,l,c,h){const _=h?"class":"style";m1(s,l,u.inputs[_],_,c)}function zf(s,u,l,c){const h=Se(),g=$t(),_=22+s,T=h[11],b=h[_]=ws(T,u,function cu(){return gt.lFrame.currentNamespace}()),E=g.firstCreatePass?function PA(s,u,l,c,h,g,_){const T=u.consts,E=Ol(u,s,2,h,$r(T,g));return x_(u,l,E,$r(T,_)),null!==E.attrs&&L_(E,E.attrs,!1),null!==E.mergedAttrs&&L_(E,E.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,E),E}(_,g,h,0,u,l,c):g.data[_];_o(E,!0);const N=E.mergedAttrs;null!==N&&cs(T,b,N);const P=E.classes;null!==P&&Sh(T,b,P);const z=E.styles;return null!==z&&M0(T,b,z),64!=(64&E.flags)&&Ih(g,h,b,E),0===function Hd(){return gt.lFrame.elementDepthCount}()&&wo(b,h),function Ls(){gt.lFrame.elementDepthCount++}(),Ca(E)&&(Fh(g,h,E),tA(g,E,h)),null!==c&&Vf(h,E),zf}function Bl(){let s=Vn();ss()?Vs():(s=s.parent,_o(s,!1));const u=s;!function Aa(){gt.lFrame.elementDepthCount--}();const l=$t();return l.firstCreatePass&&(Sa(l,s),Gu(s)&&l.queries.elementEnd(s)),null!=u.classesWithoutHost&&function pu(s){return 0!=(16&s.flags)}(u)&&G_(l,u,Se(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function Jp(s){return 0!=(32&s.flags)}(u)&&G_(l,u,Se(),u.stylesWithoutHost,!1),Bl}function H_(s,u,l,c){return zf(s,u,l,c),Bl(),H_}function Qf(s,u,l){const c=Se(),h=$t(),g=s+22,_=h.firstCreatePass?function OA(s,u,l,c,h){const g=u.consts,_=$r(g,c),T=Ol(u,s,8,"ng-container",_);return null!==_&&L_(T,_,!0),x_(u,l,T,$r(g,h)),null!==u.queries&&u.queries.elementStart(u,T),T}(g,h,c,u,l):h.data[g];_o(_,!0);const T=c[g]=c[11].createComment("");return Ih(h,c,T,_),wo(T,c),Ca(_)&&(Fh(h,c,_),tA(h,_,c)),null!=l&&Vf(c,_),Qf}function Kf(){let s=Vn();const u=$t();return ss()?Vs():(s=s.parent,_o(s,!1)),u.firstCreatePass&&(Sa(u,s),Gu(s)&&u.queries.elementEnd(s)),Kf}function U1(){return Se()}function J_(s){return!!s&&"function"==typeof s.then}function M1(s){return!!s&&"function"==typeof s.subscribe}const P1=M1;function Nu(s,u,l,c){const h=Se(),g=$t(),_=Vn();return function O1(s,u,l,c,h,g,_,T){const b=Ca(c),N=s.firstCreatePass&&Vh(s),P=u[8],z=R_(u);let re=!0;if(3&c.type||T){const et=Nn(c,u),dt=T?T(et):et,Et=z.length,Me=T?Ft=>T(qn(Ft[c.index])):c.index;let At=null;if(!T&&b&&(At=function pa(s,u,l,c){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const _=h[g];if(_===l&&h[g+1]===c){const T=u[7],b=h[g+2];return T.length>b?T[b]:null}"string"==typeof _&&(g+=2)}return null}(s,u,h,c.index)),null!==At)(At.__ngLastListenerFn__||At).__ngNextListenerFn__=g,At.__ngLastListenerFn__=g,re=!1;else{g=L1(c,u,P,g,!1);const Ft=l.listen(dt,h,g);z.push(g,Ft),N&&N.push(h,Me,Et,Et+1)}}else g=L1(c,u,P,g,!1);const Ie=c.outputs;let Le;if(re&&null!==Ie&&(Le=Ie[h])){const et=Le.length;if(et)for(let dt=0;dt<et;dt+=2){const $n=u[Le[dt]][Le[dt+1]].subscribe(g),Ru=z.length;z.push(g,$n),N&&N.push(h,c.index,Ru,-(Ru+1))}}}(g,h,h[11],_,s,u,0,c),Nu}function R1(s,u,l,c){try{return!1!==l(c)}catch(h){return vA(s,h),!1}}function L1(s,u,l,c,h){return function g(_){if(_===Function)return c;jf(2&s.flags?kr(s.index,u):u);let b=R1(u,0,c,_),E=g.__ngNextListenerFn__;for(;E;)b=R1(u,0,E,_)&&b,E=E.__ngNextListenerFn__;return h&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function F1(s=1){return function lu(s){return(gt.lFrame.contextLView=function Da(s,u){for(;s>0;)u=u[15],s--;return u}(s,gt.lFrame.contextLView))[8]}(s)}function H1(s,u,l,c,h){const g=s[l+1],_=null===u;let T=c?ai(g):ia(g),b=!1;for(;0!==T&&(!1===b||_);){const N=s[T+1];BA(s[T],u)&&(b=!0,s[T+1]=c?m_(N):Pl(N)),T=c?ai(N):ia(N)}b&&(s[l+1]=c?Pl(g):m_(g))}function BA(s,u){return null===s||null==u||(Array.isArray(s)?s[1]:s)===u||!(!Array.isArray(s)||"string"!=typeof u)&&vi(s,u)>=0}function Y_(s,u){return function bs(s,u,l,c){const h=Se(),g=$t(),_=Wo(2);g.firstUpdatePass&&function tC(s,u,l,c){const h=s.data;if(null===h[l+1]){const g=h[gr()],_=function eC(s,u){return u>=s.expandoStartIndex}(s,l);(function iC(s,u){return 0!=(s.flags&(u?16:32))})(g,c)&&null===u&&!_&&(u=!1),u=function KA(s,u,l,c){const h=function Gs(s){const u=gt.lFrame.currentDirectiveIndex;return-1===u?null:s[u]}(s);let g=c?u.residualClasses:u.residualStyles;if(null===h)0===(c?u.classBindings:u.styleBindings)&&(l=Hh(l=X_(null,s,u,l,c),u.attrs,c),g=null);else{const _=u.directiveStylingLast;if(-1===_||s[_]!==h)if(l=X_(h,s,u,l,c),null===g){let b=function YA(s,u,l){const c=l?u.classBindings:u.styleBindings;if(0!==ia(c))return s[ai(c)]}(s,u,c);void 0!==b&&Array.isArray(b)&&(b=X_(null,s,u,b[1],c),b=Hh(b,u.attrs,c),function XA(s,u,l,c){s[ai(l?u.classBindings:u.styleBindings)]=c}(s,u,c,b))}else g=function eI(s,u,l){let c;const h=u.directiveEnd;for(let g=1+u.directiveStylingLast;g<h;g++)c=Hh(c,s[g].hostAttrs,l);return Hh(c,u.attrs,l)}(s,u,c)}return void 0!==g&&(c?u.residualClasses=g:u.residualStyles=g),l}(h,g,u,c),function qA(s,u,l,c,h,g){let _=g?u.classBindings:u.styleBindings,T=ai(_),b=ia(_);s[c]=l;let N,E=!1;if(Array.isArray(l)){const P=l;N=P[1],(null===N||vi(P,N)>0)&&(E=!0)}else N=l;if(h)if(0!==b){const z=ai(s[T+1]);s[c+1]=Uh(z,T),0!==z&&(s[z+1]=g_(s[z+1],c)),s[T+1]=function J0(s,u){return 131071&s|u<<17}(s[T+1],c)}else s[c+1]=Uh(T,0),0!==T&&(s[T+1]=g_(s[T+1],c)),T=c;else s[c+1]=Uh(b,0),0===T?T=c:s[b+1]=g_(s[b+1],c),b=c;E&&(s[c+1]=Pl(s[c+1])),H1(s,N,c,!0),H1(s,N,c,!1),function VA(s,u,l,c,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof u&&vi(g,u)>=0&&(l[c+1]=m_(l[c+1]))}(u,N,s,c,g),_=Uh(T,b),g?u.classBindings=_:u.styleBindings=_}(h,g,u,l,_,c)}}(g,s,_,c),u!==qt&&bo(h,_,u)&&function rC(s,u,l,c,h,g,_,T){if(!(3&u.type))return;const b=s.data,E=b[T+1];Yf(function W0(s){return 1==(1&s)}(E)?oC(b,u,l,h,ia(E),_):void 0)||(Yf(g)||function Mh(s){return 2==(2&s)}(E)&&(g=oC(b,null,l,h,T,_)),function Ib(s,u,l,c,h){if(u)h?s.addClass(l,c):s.removeClass(l,c);else{let g=-1===c.indexOf("-")?void 0:ii.DashCase;null==h?s.removeStyle(l,c,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=ii.Important),s.setStyle(l,c,h,g))}}(c,_,Os(gr(),l),h,g))}(g,g.data[gr()],h,h[11],s,h[_+1]=function rI(s,u){return null==s||("string"==typeof u?s+=u:"object"==typeof s&&(s=de(un(s)))),s}(u,l),c,_)}(s,u,null,!0),Y_}function X_(s,u,l,c,h){let g=null;const _=l.directiveEnd;let T=l.directiveStylingLast;for(-1===T?T=l.directiveStart:T++;T<_&&(g=u[T],c=Hh(c,g.hostAttrs,h),g!==s);)T++;return null!==s&&(l.directiveStylingLast=T),c}function Hh(s,u,l){const c=l?1:2;let h=-1;if(null!==u)for(let g=0;g<u.length;g++){const _=u[g];"number"==typeof _?h=_:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Hr(s,_,!!l||u[++g]))}return void 0===s?null:s}function oC(s,u,l,c,h,g){const _=null===u;let T;for(;h>0;){const b=s[h],E=Array.isArray(b),N=E?b[1]:b,P=null===N;let z=l[h+1];z===qt&&(z=P?ct:void 0);let re=P?Sc(z,c):N===c?z:void 0;if(E&&!Yf(re)&&(re=Sc(b,c)),Yf(re)&&(T=re,_))return T;const Ie=s[h+1];h=_?ai(Ie):ia(Ie)}if(null!==u){let b=g?u.residualClasses:u.residualStyles;null!=b&&(T=Sc(b,c))}return T}function Yf(s){return void 0!==s}function sC(s,u=""){const l=Se(),c=$t(),h=s+22,g=c.firstCreatePass?Ol(c,h,1,u,null):c.data[h],_=l[h]=function Qm(s,u){return s.createText(u)}(l[11],u);Ih(c,l,_,g),_o(g,!1)}function ey(s){return Xf("",s,""),ey}function Xf(s,u,l){const c=Se(),h=function $h(s,u,l,c){return bo(s,fi(),l)?u+Ce(l)+c:qt}(c,s,u,l);return h!==qt&&ku(c,gr(),h),Xf}function ty(s,u,l,c,h){const g=Se(),_=function Gh(s,u,l,c,h,g){const T=ql(s,Uo(),l,h);return Wo(2),T?u+Ce(l)+c+Ce(h)+g:qt}(g,s,u,l,c,h);return _!==qt&&ku(g,gr(),_),ty}function ny(s,u,l,c,h,g,_){const T=Se(),b=Vl(T,s,u,l,c,h,g,_);return b!==qt&&ku(T,gr(),b),ny}const jl=void 0;var wI=["en",[["a","p"],["AM","PM"],jl],[["AM","PM"],jl,jl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jl,"{1} 'at' {0}",jl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function TI(s){const l=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let od={};function Ka(s){const u=function bI(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=AC(u);if(l)return l;const c=u.split("-")[0];if(l=AC(c),l)return l;if("en"===c)return wI;throw new be(701,!1)}function bC(s){return Ka(s)[xt.PluralCase]}function AC(s){return s in od||(od[s]=ze.ng&&ze.ng.common&&ze.ng.common.locales&&ze.ng.common.locales[s]),od[s]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const id="en-US";let IC=id;function sy(s,u,l,c,h){if(s=ee(s),Array.isArray(s))for(let g=0;g<s.length;g++)sy(s[g],u,l,c,h);else{const g=$t(),_=Se();let T=Pc(s)?s:ee(s.provide),b=Pm(s);const E=Vn(),N=1048575&E.providerIndexes,P=E.directiveStart,z=E.providerIndexes>>20;if(Pc(s)||!s.multi){const re=new us(b,h,zc),Ie=uy(T,u,h?N:N+z,P);-1===Ie?(ds(Vi(E,_),g,T),ay(g,s,u.length),u.push(T),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),l.push(re),_.push(re)):(l[Ie]=re,_[Ie]=re)}else{const re=uy(T,u,N+z,P),Ie=uy(T,u,N,N+z),Le=re>=0&&l[re],et=Ie>=0&&l[Ie];if(h&&!et||!h&&!Le){ds(Vi(E,_),g,T);const dt=function fE(s,u,l,c,h){const g=new us(s,l,zc);return g.multi=[],g.index=u,g.componentProviders=0,KC(g,h,c&&!l),g}(h?ly:Gl,l.length,h,c,b);!h&&et&&(l[Ie].providerFactory=dt),ay(g,s,u.length,0),u.push(T),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),l.push(dt),_.push(dt)}else ay(g,s,re>-1?re:Ie,KC(l[h?Ie:re],b,!h&&c));!h&&c&&et&&l[Ie].componentProviders++}}}function ay(s,u,l,c){const h=Pc(u),g=function bt(s){return!!s.useClass}(u);if(h||g){const b=(g?ee(u.useClass):u).prototype.ngOnDestroy;if(b){const E=s.destroyHooks||(s.destroyHooks=[]);if(!h&&u.multi){const N=E.indexOf(l);-1===N?E.push(l,[c,b]):E[N+1].push(c,b)}else E.push(l,b)}}}function KC(s,u,l){return l&&s.componentProviders++,s.multi.push(u)-1}function uy(s,u,l,c){for(let h=l;h<c;h++)if(u[h]===s)return h;return-1}function Gl(s,u,l,c){return cy(this.multi,[])}function ly(s,u,l,c){const h=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,T=Na(l,l[1],this.providerFactory.index,c);g=T.slice(0,_),cy(h,g);for(let b=_;b<T.length;b++)g.push(T[b])}else g=[],cy(h,g);return g}function cy(s,u){for(let l=0;l<s.length;l++)u.push((0,s[l])());return u}function YC(s,u=[]){return l=>{l.providersResolver=(c,h)=>function pE(s,u,l){const c=$t();if(c.firstCreatePass){const h=Go(s);sy(l,c.data,c.blueprint,h,!0),sy(u,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,u)}}class ud{}class XC{}function gE(s,u){return new eT(s,null!=u?u:null)}class eT extends ud{constructor(u,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _1(this);const c=Ve(u);this._bootstrapComponents=Lo(c.bootstrap),this._r3Injector=Jc(u,l,[{provide:ud,useValue:this},{provide:Iu,useValue:this.componentFactoryResolver}],de(u),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(u)}get injector(){return this._r3Injector}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class dy extends XC{constructor(u){super(),this.moduleType=u}create(u){return new eT(this.moduleType,u)}}class mE extends ud{constructor(u,l,c){super(),this.componentFactoryResolver=new _1(this),this.instance=null;const h=new Um([...u,{provide:ud,useValue:this},{provide:Iu,useValue:this.componentFactoryResolver}],l||vh(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(u){this.injector.onDestroy(u)}}function hy(s,u,l=null){return new mE(s,u,l).injector}function uT(s,u,l,c){return lT(Se(),nr(),s,u,l,c)}function lT(s,u,l,c,h,g){const _=u+l;return bo(s,_,h)?function da(s,u,l){return s[u]=l}(s,_+1,g?c.call(g,h):c(h)):function Kh(s,u){const l=s[u];return l===qt?void 0:l}(s,_+1)}function fT(s,u){const l=$t();let c;const h=s+22;l.firstCreatePass?(c=function PE(s,u){if(u)for(let l=u.length-1;l>=0;l--){const c=u[l];if(s===c.name)return c}}(u,l.pipeRegistry),l.data[h]=c,c.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,c.onDestroy)):c=l.data[h];const g=c.factory||(c.factory=No(c.type)),_=zt(zc);try{const T=wc(!1),b=g();return wc(T),function UA(s,u,l,c){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),u[l]=c}(l,Se(),h,b),b}finally{zt(_)}}function gT(s,u,l){const c=s+22,h=Se(),g=function Ho(s,u){return s[u]}(h,c);return function sg(s,u){return s[1].data[u].pure}(h,c)?lT(h,nr(),u,g.transform,l,g):g.transform(l)}function _T(s){return u=>{setTimeout(s,void 0,u)}}const Is=class jx extends e.x{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,l,c){var h,g,_;let T=u,b=l||(()=>null),E=c;if(u&&"object"==typeof u){const P=u;T=null===(h=P.next)||void 0===h?void 0:h.bind(P),b=null===(g=P.error)||void 0===g?void 0:g.bind(P),E=null===(_=P.complete)||void 0===_?void 0:_.bind(P)}this.__isAsync&&(b=_T(b),T&&(T=_T(T)),E&&(E=_T(E)));const N=super.subscribe({next:T,error:b,complete:E});return u instanceof L.w0&&u.add(N),N}};function $x(){return this._results[tt()]()}class ag{constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=tt(),c=ag.prototype;c[l]||(c[l]=$x)}get changes(){return this._changes||(this._changes=new Is)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,l){return this._results.reduce(u,l)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,l){const c=this;c.dirty=!1;const h=br(u);(this._changesDetected=!function Tu(s,u,l){if(s.length!==u.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],g=u[c];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(c._results,h,l))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ug=(()=>{class s{}return s.__NG_ELEMENT_ID__=Gx,s})();const yT=ug,OE=class extends yT{constructor(u,l,c){super(),this._declarationLView=u,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(u,l){const c=this._declarationTContainer.tViews,h=qf(this._declarationLView,c,u,16,null,c.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(c)),Lh(c,h,u),new Hf(h)}};function Gx(){return gy(Vn(),Se())}function gy(s,u){return 4&s.type?new OE(u,s,Er(s,u)):null}let my=(()=>{class s{}return s.__NG_ELEMENT_ID__=lg,s})();function lg(){return CT(Vn(),Se())}const Hx=my,RE=class extends Hx{constructor(u,l,c){super(),this._lContainer=u,this._hostTNode=l,this._hostLView=c}get element(){return Er(this._hostTNode,this._hostLView)}get injector(){return new yi(this._hostTNode,this._hostLView)}get parentInjector(){const u=gu(this._hostTNode,this._hostLView);if(Kd(u)){const l=Za(u,this._hostLView),c=xa(u);return new yi(l[1].data[c+8],l)}return new yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const l=LE(this._lContainer);return null!==l&&l[u]||null}get length(){return this._lContainer.length-10}createEmbeddedView(u,l,c){let h,g;"number"==typeof c?h=c:null!=c&&(h=c.index,g=c.injector);const _=u.createEmbeddedView(l||{},g);return this.insert(_,h),_}createComponent(u,l,c,h,g){const _=u&&!function zs(s){return"function"==typeof s}(u);let T;if(_)T=l;else{const P=l||{};T=P.index,c=P.injector,h=P.projectableNodes,g=P.environmentInjector||P.ngModuleRef}const b=_?u:new Kc(q(u)),E=c||this.parentInjector;if(!g&&null==b.ngModule){const z=(_?E:this.parentInjector).get(Tl,null);z&&(g=z)}const N=b.create(E,h,void 0,g);return this.insert(N.hostView,T),N}insert(u,l){const c=u._lView,h=c[1];if(function Jo(s){return jr(s[3])}(c)){const N=this.indexOf(u);if(-1!==N)this.detach(N);else{const P=c[3],z=new RE(P,P[6],P[3]);z.detach(z.indexOf(u))}}const g=this._adjustIndex(l),_=this._lContainer;!function Tb(s,u,l,c){const h=10+c,g=l.length;c>0&&(l[h-1][4]=u),c<g-10?(u[4]=l[h],cl(l,10+c,u)):(l.push(u),u[4]=null),u[3]=l;const _=u[17];null!==_&&l!==_&&function wb(s,u){const l=s[9];u[16]!==u[3][3][16]&&(s[2]=!0),null===l?s[9]=[u]:l.push(u)}(_,u);const T=u[19];null!==T&&T.insertView(s),u[2]|=64}(h,c,_,g);const T=xf(g,_),b=c[11],E=Hc(b,_[7]);return null!==E&&function Zu(s,u,l,c,h,g){c[0]=h,c[6]=u,kl(s,c,l,1,h,g)}(h,_[6],b,c,E,T),u.attachToViewContainerRef(),cl(vT(_),g,u),u}move(u,l){return this.insert(u,l)}indexOf(u){const l=LE(this._lContainer);return null!==l?l.indexOf(u):-1}remove(u){const l=this._adjustIndex(u,-1),c=Xm(this._lContainer,l);c&&(ps(vT(this._lContainer),l),D0(c[1],c))}detach(u){const l=this._adjustIndex(u,-1),c=Xm(this._lContainer,l);return c&&null!=ps(vT(this._lContainer),l)?new Hf(c):null}_adjustIndex(u,l=0){return null==u?this.length+l:u}};function LE(s){return s[8]}function vT(s){return s[8]||(s[8]=[])}function CT(s,u){let l;const c=u[s.index];if(jr(c))l=c;else{let h;if(8&s.type)h=qn(c);else{const g=u[11];h=g.createComment("");const _=Nn(s,u);xl(g,Hc(g,_),h,function Ha(s,u){return s.nextSibling(u)}(g,_),!1)}u[s.index]=l=P_(c,u,h,s),qh(u,l)}return new RE(l,s,u)}class TT{constructor(u){this.queryList=u,this.matches=null}clone(){return new TT(this.queryList)}setDirty(){this.queryList.setDirty()}}class _y{constructor(u=[]){this.queries=u}createEmbeddedView(u){const l=u.queries;if(null!==l){const c=null!==u.contentQueries?u.contentQueries[0]:l.length,h=[];for(let g=0;g<c;g++){const _=l.getByIndex(g);h.push(this.queries[_.indexInDeclarationView].clone())}return new _y(h)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let l=0;l<this.queries.length;l++)null!==Yh(u,l).matches&&this.queries[l].setDirty()}}class Jt{constructor(u,l,c=null){this.predicate=u,this.flags=l,this.read=c}}class Ya{constructor(u=[]){this.queries=u}elementStart(u,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(u,l)}elementEnd(u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(u)}embeddedTView(u){let l=null;for(let c=0;c<this.length;c++){const h=null!==l?l.length:0,g=this.getByIndex(c).embeddedTView(u,h);g&&(g.indexInDeclarationView=c,null!==l?l.push(g):l=[g])}return null!==l?new Ya(l):null}template(u,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(u,l)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class _a{constructor(u,l=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(u,l){this.isApplyingToNode(l)&&this.matchTNode(u,l)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,l){this.elementStart(u,l)}embeddedTView(u,l){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,l),new _a(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=u.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(u,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const g=c[h];this.matchTNodeWithReadOption(u,l,cg(l,g)),this.matchTNodeWithReadOption(u,l,ji(l,u,g,!1,!1))}else c===ug?4&l.type&&this.matchTNodeWithReadOption(u,l,-1):this.matchTNodeWithReadOption(u,l,ji(l,u,c,!1,!1))}matchTNodeWithReadOption(u,l,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Eu||h===my||h===ug&&4&l.type)this.addMatch(l.index,-2);else{const g=ji(l,u,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,c)}}addMatch(u,l){null===this.matches?this.matches=[u,l]:this.matches.push(u,l)}}function cg(s,u){const l=s.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===u)return l[c+1];return null}function yy(s,u,l,c){return-1===l?function co(s,u){return 11&s.type?Er(s,u):4&s.type?gy(s,u):null}(u,s):-2===l?function FE(s,u,l){return l===Eu?Er(u,s):l===ug?gy(u,s):l===my?CT(u,s):void 0}(s,u,c):Na(s,s[1],l,u)}function wT(s,u,l,c){const h=u[19].queries[c];if(null===h.matches){const g=s.data,_=l.matches,T=[];for(let b=0;b<_.length;b+=2){const E=_[b];T.push(E<0?null:yy(u,g[E],_[b+1],l.metadata.read))}h.matches=T}return h.matches}function Di(s,u,l,c){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const _=wT(s,u,h,l);for(let T=0;T<g.length;T+=2){const b=g[T];if(b>0)c.push(_[T/2]);else{const E=g[T+1],N=u[-b];for(let P=10;P<N.length;P++){const z=N[P];z[17]===z[3]&&Di(z[1],z,E,c)}if(null!==N[9]){const P=N[9];for(let z=0;z<P.length;z++){const re=P[z];Di(re[1],re,E,c)}}}}}return c}function qE(s){const u=Se(),l=$t(),c=uu();qi(c+1);const h=Yh(l,c);if(s.dirty&&Rs(u)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Di(l,u,c,[]):wT(l,u,h,c);s.reset(g,a0),s.notifyOnChanges()}return!0}return!1}function bT(s,u,l){const c=$t();c.firstCreatePass&&(dg(c,new Jt(s,u,l),-1),2==(2&u)&&(c.staticViewQueries=!0)),pt(c,Se(),u)}function Ae(s,u,l,c){const h=$t();if(h.firstCreatePass){const g=Vn();dg(h,new Jt(u,l,c),g.index),function Lt(s,u){const l=s.contentQueries||(s.contentQueries=[]);u!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,u)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}pt(h,Se(),l)}function AT(){return function Xa(s,u){return s[19].queries[u].queryList}(Se(),uu())}function pt(s,u,l){const c=new ag(4==(4&l));u1(s,u,c,c.destroy),null===u[19]&&(u[19]=new _y),u[19].queries.push(new TT(c))}function dg(s,u,l){null===s.queries&&(s.queries=new Ya),s.queries.track(new _a(u,l))}function Yh(s,u){return s.queries.getByIndex(u)}function Hl(s){const u=q(s)||V(s)||ve(s);return null!==u&&u.standalone}function mg(...s){}const My=new cn("Application Initializer");let fd=(()=>{class s{constructor(l){this.appInits=l,this.resolve=mg,this.reject=mg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(J_(g))l.push(g);else if(P1(g)){const _=new Promise((T,b)=>{g.subscribe({complete:T,error:b})});l.push(_)}}Promise.all(l).then(()=>{c()}).catch(h=>{this.reject(h)}),0===l.length&&c(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(pn(My,8))},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Py=new cn("AppId",{providedIn:"root",factory:function OT(){return`${np()}${np()}${np()}`}});function np(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _g=new cn("Platform Initializer"),Kr=new cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Yr=new cn("appBootstrapListener");let XE=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const rp=new cn("LocaleId",{providedIn:"root",factory:()=>qa(rp,lt.Optional|lt.SkipSelf)||function eD(){return"undefined"!=typeof $localize&&$localize.locale||id}()}),tD=new cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class nD{constructor(u,l){this.ngModuleFactory=u,this.componentFactories=l}}let Ry=(()=>{class s{compileModuleSync(l){return new dy(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const c=this.compileModuleSync(l),g=Lo(Ve(l).declarations).reduce((_,T)=>{const b=q(T);return b&&_.push(new Kc(b)),_},[]);return new nD(c,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const op=(()=>Promise.resolve(0))();function Tg(s){"undefined"==typeof Zone?op.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ui{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Is(!1),this.onMicrotaskEmpty=new Is(!1),this.onStable=new Is(!1),this.onError=new Is(!1),"undefined"==typeof Zone)throw new be(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&l,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function BT(){let s=ze.requestAnimationFrame,u=ze.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&u){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const c=u[Zone.__symbol__("OriginalDelegate")];c&&(u=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function gd(s){const u=()=>{!function oD(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(ze,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Fy(s),s.isCheckStableRunning=!0,Ly(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Fy(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,h,g,_,T)=>{try{return jT(s),l.invokeTask(h,g,_,T)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&u(),Pu(s)}},onInvoke:(l,c,h,g,_,T,b)=>{try{return jT(s),l.invoke(h,g,_,T,b)}finally{s.shouldCoalesceRunChangeDetection&&u(),Pu(s)}},onHasTask:(l,c,h,g)=>{l.hasTask(h,g),c===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Fy(s),Ly(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,c,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ui.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(ui.isInAngularZone())throw new be(909,!1)}run(u,l,c){return this._inner.run(u,l,c)}runTask(u,l,c,h){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+h,u,wg,mg,mg);try{return g.runTask(_,l,c)}finally{g.cancelTask(_)}}runGuarded(u,l,c){return this._inner.runGuarded(u,l,c)}runOutsideAngular(u){return this._outer.run(u)}}const wg={};function Ly(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Fy(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function jT(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Pu(s){s._nesting--,Ly(s)}class $T{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Is,this.onMicrotaskEmpty=new Is,this.onStable=new Is,this.onError=new Is}run(u,l,c){return u.apply(l,c)}runGuarded(u,l,c){return u.apply(l,c)}runOutsideAngular(u){return u()}runTask(u,l,c,h){return u.apply(l,c)}}const ip=new cn(""),qy=new cn("");let md,sp=(()=>{class s{constructor(l,c,h){this._ngZone=l,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,md||(function Fo(s){md=s}(h),h.addToWindow(c)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ui.assertNotInAngularZone(),Tg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Tg(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,h){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,c,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(pn(ui),pn(Vy),pn(qy))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})(),Vy=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){var h;return null!==(h=null==md?void 0:md.findTestabilityInTree(this,l,c))&&void 0!==h?h:null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),li=null;const ap=new cn("AllowMultipleToken"),bg=new cn("PlatformDestroyListeners");class By{constructor(u,l){this.name=u,this.token=l}}function Gy(s,u,l=[]){const c=`Platform: ${u}`,h=new cn(c);return(g=[])=>{let _=cp();if(!_||_.injector.get(ap,!1)){const T=[...l,...g,{provide:h,useValue:!0}];s?s(T):function jy(s){if(li&&!li.get(ap,!1))throw new be(400,!1);li=s;const u=s.get(Jy);(function lp(s){const u=s.get(_g,null);u&&u.forEach(l=>l())})(s)}(function Ig(s=[],u){return Nl.create({name:u,providers:[{provide:zi,useValue:"platform"},{provide:bg,useValue:new Set([()=>li=null])},...s]})}(T,c))}return function sD(s){const u=cp();if(!u)throw new be(401,!1);return u}()}}function cp(){var s;return null!==(s=null==li?void 0:li.get(Jy))&&void 0!==s?s:null}let Jy=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const h=function HT(s,u){let l;return l="noop"===s?new $T:("zone.js"===s?void 0:s)||new ui(u),l}(null==c?void 0:c.ngZone,function Wy(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),g=[{provide:ui,useValue:h}];return h.run(()=>{const _=Nl.create({providers:g,parent:this.injector,name:l.moduleType.name}),T=l.create(_),b=T.injector.get(qc,null);if(!b)throw new be(402,!1);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:N=>{b.handleError(N)}});T.onDestroy(()=>{Wl(this._modules,T),E.unsubscribe()})}),function JT(s,u,l){try{const c=l();return J_(c)?c.catch(h=>{throw u.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw u.runOutsideAngular(()=>s.handleError(c)),c}}(b,h,()=>{const E=T.injector.get(fd);return E.runInitializers(),E.donePromise.then(()=>(function EC(s){jt(s,"Expected localeId to be defined"),"string"==typeof s&&(IC=s.toLowerCase().replace(/_/g,"-"))}(T.injector.get(rp,id)||id),this._moduleDoBootstrap(T),T))})})}bootstrapModule(l,c=[]){const h=_d({},c);return function GT(s,u,l){const c=new dy(l);return Promise.resolve(c)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const c=l.injector.get(dp);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new be(403,!1);l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const l=this._injector.get(bg,null);l&&(l.forEach(c=>c()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(pn(Nl))},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function _d(s,u){return Array.isArray(u)?u.reduce(_d,s):Object.assign(Object.assign({},s),u)}let dp=(()=>{class s{constructor(l,c,h){this._zone=l,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new U.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),_=new U.y(T=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{ui.assertNotInAngularZone(),Tg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const E=this._zone.onUnstable.subscribe(()=>{ui.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{b.unsubscribe(),E.unsubscribe()}});this.isStable=(0,oe.T)(g,_.pipe((0,ue.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,c){const h=l instanceof Co;if(!this._injector.get(fd).done)throw!h&&Hl(l),new be(405,false);let _;_=h?l:this._injector.get(Iu).resolveComponentFactory(l),this.componentTypes.push(_.componentType);const T=function up(s){return s.isBoundToModule}(_)?void 0:this._injector.get(ud),E=_.create(Nl.NULL,[],c||_.selector,T),N=E.location.nativeElement,P=E.injector.get(ip,null);return null==P||P.registerApplication(N),E.onDestroy(()=>{this.detachView(E.hostView),Wl(this.components,E),null==P||P.unregisterApplication(N)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;Wl(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Yr,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Wl(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new be(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(pn(ui),pn(Tl),pn(qc))},s.\u0275prov=nn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Wl(s,u){const l=s.indexOf(u);l>-1&&s.splice(l,1)}let Eg=!0,WT=!1;function zy(){return WT=!0,Eg}function vd(){if(WT)throw new Error("Cannot enable prod mode after platform setup.");Eg=!1}let aD=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ql,s})();function Ql(s){return function eu(s,u,l){if(Us(s)&&!l){const c=kr(s.index,u);return new Hf(c,c)}return 47&s.type?new Hf(u[16],u):null}(Vn(),Se(),16==(16&s))}class QT{constructor(){}supports(u){return Yc(u)}create(u){return new KT(u)}}const fD=(s,u)=>u;class KT{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||fD}forEachItem(u){let l;for(l=this._itHead;null!==l;l=l._next)u(l)}forEachOperation(u){let l=this._itHead,c=this._removalsHead,h=0,g=null;for(;l||c;){const _=!c||l&&l.currentIndex<xg(c,h,g)?l:c,T=xg(_,h,g),b=_.currentIndex;if(_===c)h--,c=c._nextRemoved;else if(l=l._next,null==_.previousIndex)h++;else{g||(g=[]);const E=T-h,N=b-h;if(E!=N){for(let z=0;z<E;z++){const re=z<g.length?g[z]:g[z]=0,Ie=re+z;N<=Ie&&Ie<E&&(g[z]=re+1)}g[_.previousIndex]=N-E}}T!==b&&u(_,T,b)}}forEachPreviousItem(u){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)u(l)}forEachAddedItem(u){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)u(l)}forEachMovedItem(u){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)u(l)}forEachRemovedItem(u){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)u(l)}forEachIdentityChange(u){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)u(l)}diff(u){if(null==u&&(u=[]),!Yc(u))throw new be(900,!1);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let h,g,_,l=this._itHead,c=!1;if(Array.isArray(u)){this.length=u.length;for(let T=0;T<this.length;T++)g=u[T],_=this._trackByFn(T,g),null!==l&&Object.is(l.trackById,_)?(c&&(l=this._verifyReinsertion(l,g,_,T)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,_,T),c=!0),l=l._next}else h=0,function xA(s,u){if(Array.isArray(s))for(let l=0;l<s.length;l++)u(s[l]);else{const l=s[tt()]();let c;for(;!(c=l.next()).done;)u(c.value)}}(u,T=>{_=this._trackByFn(h,T),null!==l&&Object.is(l.trackById,_)?(c&&(l=this._verifyReinsertion(l,T,_,h)),Object.is(l.item,T)||this._addIdentityChange(l,T)):(l=this._mismatch(l,T,_,h),c=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,l,c,h){let g;return null===u?g=this._itTail:(g=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(u.item,l)||this._addIdentityChange(u,l),this._reinsertAfter(u,g,h)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(u.item,l)||this._addIdentityChange(u,l),this._moveAfter(u,g,h)):u=this._addAfter(new gD(l,c),g,h),u}_verifyReinsertion(u,l,c,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?u=this._reinsertAfter(g,u._prev,h):u.currentIndex!=h&&(u.currentIndex=h,this._addToMoves(u,h)),u}_truncate(u){for(;null!==u;){const l=u._next;this._addToRemovals(this._unlink(u)),u=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const h=u._prevRemoved,g=u._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(u,l,c),this._addToMoves(u,c),u}_moveAfter(u,l,c){return this._unlink(u),this._insertAfter(u,l,c),this._addToMoves(u,c),u}_addAfter(u,l,c){return this._insertAfter(u,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,l,c){const h=null===l?this._itHead:l._next;return u._next=h,u._prev=l,null===h?this._itTail=u:h._prev=u,null===l?this._itHead=u:l._next=u,null===this._linkedRecords&&(this._linkedRecords=new ov),this._linkedRecords.put(u),u.currentIndex=c,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const l=u._prev,c=u._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,u}_addToMoves(u,l){return u.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ov),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,l){return u.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class gD{constructor(u,l){this.item=u,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YT{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,u))return c;return null}remove(u){const l=u._prevDup,c=u._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class ov{constructor(){this.map=new Map}put(u){const l=u.trackById;let c=this.map.get(l);c||(c=new YT,this.map.set(l,c)),c.add(u)}get(u,l){const h=this.map.get(u);return h?h.get(u,l):null}remove(u){const l=u.trackById;return this.map.get(l).remove(u)&&this.map.delete(l),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xg(s,u,l){const c=s.previousIndex;if(null===c)return c;let h=0;return l&&c<l.length&&(h=l[c]),c+u+h}class Zg{constructor(){}supports(u){return u instanceof Map||On(u)}create(){return new XT}}class XT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let l;for(l=this._mapHead;null!==l;l=l._next)u(l)}forEachPreviousItem(u){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)u(l)}forEachChangedItem(u){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)u(l)}forEachAddedItem(u){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)u(l)}forEachRemovedItem(u){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)u(l)}diff(u){if(u){if(!(u instanceof Map||On(u)))throw new be(900,!1)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(u,(c,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,c);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,l){if(u){const c=u._prev;return l._next=u,l._prev=c,u._prev=l,c&&(c._next=l),u===this._mapHead&&(this._mapHead=l),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(u,l){if(this._records.has(u)){const h=this._records.get(u);this._maybeAddToChanges(h,l);const g=h._prev,_=h._next;return g&&(g._next=_),_&&(_._prev=g),h._next=null,h._prev=null,h}const c=new ew(u);return this._records.set(u,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,l){Object.is(l,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=l,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,l){u instanceof Map?u.forEach(l):Object.keys(u).forEach(c=>l(u[c],c))}}class ew{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kg(){return new iv([new QT])}let iv=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(null!=c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||kg()),deps:[[s,new ht,new xe]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(null!=c)return c;throw new be(901,!1)}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:kg}),s})();function tw(){return new wd([new Zg])}let wd=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||tw()),deps:[[s,new ht,new xe]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(c)return c;throw new be(901,!1)}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:tw}),s})();const gp=Gy(null,"core",[]);let mp=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(pn(dp))},s.\u0275mod=Ct({type:s}),s.\u0275inj=Fr({}),s})();function _D(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(it,we,M)=>{M.d(we,{Z:()=>be});var e=M(2090),L=M(4859),U=M(9681),oe=M(1877);class ue{constructor(Ce,ge){this._delegate=Ce,this.firebase=ge,(0,U._addComponent)(Ce,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=Ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this._delegate.automaticDataCollectionEnabled=Ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ce=>{this._delegate.checkDestroyed(),Ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(Ce,ge=U._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(Ce);return!ft.isInitialized()&&"EXPLICIT"===(null===(st=ft.getComponent())||void 0===st?void 0:st.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:ge})}_removeServiceInstance(Ce,ge=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ce).clearInstance(ge)}_addComponent(Ce){(0,U._addComponent)(this._delegate,Ce)}_addOrOverwriteComponent(Ce){(0,U._addOrOverwriteComponent)(this._delegate,Ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new e.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function ye(){const at=function de(at){const Ce={},ge={__esModule:!0,initializeApp:function je(Ge,Te={}){const De=U.initializeApp(Ge,Te);if((0,e.r3)(Ce,De.name))return Ce[De.name];const X=new at(De,ge);return Ce[De.name]=X,X},app:ft,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function Ee(Ge){const Te=Ge.name,De=Te.replace("-compat","");if(U._registerComponent(Ge)&&"PUBLIC"===Ge.type){const X=(se=ft())=>{if("function"!=typeof se[De])throw he.create("invalid-app-argument",{appName:Te});return se[De]()};void 0!==Ge.serviceProps&&(0,e.ZB)(X,Ge.serviceProps),ge[De]=X,at.prototype[De]=function(...se){return this._getService.bind(this,Te).apply(this,Ge.multipleInstances?se:[])}}return"PUBLIC"===Ge.type?ge[De]:null},removeApp:function st(Ge){delete Ce[Ge]},useAsService:function Qe(Ge,Te){return"serverAuth"===Te?null:Te},modularAPIs:U}};function ft(Ge){if(!(0,e.r3)(Ce,Ge=Ge||U._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:Ge});return Ce[Ge]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function Ze(){return Object.keys(Ce).map(Ge=>Ce[Ge])}}),ft.App=at,ge}(ue);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function Ce(ge){(0,e.ZB)(at,ge)},createSubscribe:e.ne,ErrorFactory:e.LL,deepExtend:e.ZB}),at}(),G=new oe.Yd("@firebase/app-compat");if((0,e.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const be=J;!function Ue(at){(0,U.registerVersion)("@firebase/app-compat","0.1.30",at)}()},9681:(it,we,M)=>{M.r(we),M.d(we,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Cr,_DEFAULT_ENTRY_NAME:()=>jt,_addComponent:()=>Cn,_addOrOverwriteComponent:()=>nn,_apps:()=>bn,_clearComponents:()=>go,_components:()=>Hn,_getProvider:()=>Fr,_registerComponent:()=>Jn,_removeServiceInstance:()=>Rn,deleteApp:()=>lt,getApp:()=>Pe,getApps:()=>sr,initializeApp:()=>no,onLog:()=>zt,registerVersion:()=>rn,setLogLevel:()=>wr});var e=M(5861),L=M(4859),U=M(1877),oe=M(2090),ue=M(8766);class pe{constructor(W){this.container=W}getPlatformInfoString(){return this.container.getProviders().map(Q=>{if(function he(F){const W=F.getComponent();return"VERSION"===(null==W?void 0:W.type)}(Q)){const ke=Q.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(Q=>Q).join(" ")}}const de="@firebase/app",J=new U.Yd("@firebase/app"),jt="[DEFAULT]",Ke={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bn=new Map,Hn=new Map;function Cn(F,W){try{F.container.addComponent(W)}catch(Q){J.debug(`Component ${W.name} failed to register with FirebaseApp ${F.name}`,Q)}}function nn(F,W){F.container.addOrOverwriteComponent(W)}function Jn(F){const W=F.name;if(Hn.has(W))return J.debug(`There were multiple attempts to register component ${W}.`),!1;Hn.set(W,F);for(const Q of bn.values())Cn(Q,F);return!0}function Fr(F,W){const Q=F.container.getProvider("heartbeat").getImmediate({optional:!0});return Q&&Q.triggerHeartbeat(),F.container.getProvider(W)}function Rn(F,W,Q=jt){Fr(F,W).clearInstance(Q)}function go(){Hn.clear()}const mn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ni{constructor(W,Q,ke){this._isDeleted=!1,this._options=Object.assign({},W),this._config=Object.assign({},Q),this._name=Q.name,this._automaticDataCollectionEnabled=Q.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(W){this._isDeleted=W}checkDestroyed(){if(this.isDeleted)throw mn.create("app-deleted",{appName:this._name})}}const Cr="9.9.1";function no(F,W={}){"object"!=typeof W&&(W={name:W});const Q=Object.assign({name:jt,automaticDataCollectionEnabled:!1},W),ke=Q.name;if("string"!=typeof ke||!ke)throw mn.create("bad-app-name",{appName:String(ke)});const Ye=bn.get(ke);if(Ye){if((0,oe.vZ)(F,Ye.options)&&(0,oe.vZ)(Q,Ye.config))return Ye;throw mn.create("duplicate-app",{appName:ke})}const Ct=new L.H0(ke);for(const sn of Hn.values())Ct.addComponent(sn);const dn=new Ni(F,Q,Ct);return bn.set(ke,dn),dn}function Pe(F=jt){const W=bn.get(F);if(!W)throw mn.create("no-app",{appName:F});return W}function sr(){return Array.from(bn.values())}function lt(F){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,e.Z)(function*(F){const W=F.name;bn.has(W)&&(bn.delete(W),yield Promise.all(F.container.getProviders().map(Q=>Q.delete())),F.isDeleted=!0)})).apply(this,arguments)}function rn(F,W,Q){var ke;let Ye=null!==(ke=Ke[F])&&void 0!==ke?ke:F;Q&&(Ye+=`-${Q}`);const Ct=Ye.match(/\s|\//),dn=W.match(/\s|\//);if(Ct||dn){const sn=[`Unable to register library "${Ye}" with version "${W}":`];return Ct&&sn.push(`library name "${Ye}" contains illegal characters (whitespace or "/")`),Ct&&dn&&sn.push("and"),dn&&sn.push(`version name "${W}" contains illegal characters (whitespace or "/")`),void J.warn(sn.join(" "))}Jn(new L.wA(`${Ye}-version`,()=>({library:Ye,version:W}),"VERSION"))}function zt(F,W){if(null!==F&&"function"!=typeof F)throw mn.create("invalid-log-argument");(0,U.Am)(F,W)}function wr(F){(0,U.Ub)(F)}const Dn="firebase-heartbeat-store";let xr=null;function ks(){return xr||(xr=(0,ue.X3)("firebase-heartbeat-database",1,{upgrade:(F,W)=>{0===W&&F.createObjectStore(Dn)}}).catch(F=>{throw mn.create("storage-open",{originalErrorMessage:F.message})})),xr}function ze(){return(ze=(0,e.Z)(function*(F){var W;try{return(yield ks()).transaction(Dn).objectStore(Dn).get(ar(F))}catch(Q){throw mn.create("storage-get",{originalErrorMessage:null===(W=Q)||void 0===W?void 0:W.message})}})).apply(this,arguments)}function vt(F,W){return hi.apply(this,arguments)}function hi(){return(hi=(0,e.Z)(function*(F,W){var Q;try{const Ye=(yield ks()).transaction(Dn,"readwrite");return yield Ye.objectStore(Dn).put(W,ar(F)),Ye.done}catch(ke){throw mn.create("storage-set",{originalErrorMessage:null===(Q=ke)||void 0===Q?void 0:Q.message})}})).apply(this,arguments)}function ar(F){return`${F.name}!${F.options.appId}`}class Bn{constructor(W){this.container=W,this._heartbeatsCache=null;const Q=this.container.getProvider("app").getImmediate();this._storage=new Sn(Q),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var W=this;return(0,e.Z)(function*(){const ke=W.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ye=Ln();if(null===W._heartbeatsCache&&(W._heartbeatsCache=yield W._heartbeatsCachePromise),W._heartbeatsCache.lastSentHeartbeatDate!==Ye&&!W._heartbeatsCache.heartbeats.some(Ct=>Ct.date===Ye))return W._heartbeatsCache.heartbeats.push({date:Ye,agent:ke}),W._heartbeatsCache.heartbeats=W._heartbeatsCache.heartbeats.filter(Ct=>{const dn=new Date(Ct.date).valueOf();return Date.now()-dn<=2592e6}),W._storage.overwrite(W._heartbeatsCache)})()}getHeartbeatsHeader(){var W=this;return(0,e.Z)(function*(){if(null===W._heartbeatsCache&&(yield W._heartbeatsCachePromise),null===W._heartbeatsCache||0===W._heartbeatsCache.heartbeats.length)return"";const Q=Ln(),{heartbeatsToSend:ke,unsentEntries:Ye}=function en(F,W=1024){const Q=[];let ke=F.slice();for(const Ye of F){const Ct=Q.find(dn=>dn.agent===Ye.agent);if(Ct){if(Ct.dates.push(Ye.date),B(Q)>W){Ct.dates.pop();break}}else if(Q.push({agent:Ye.agent,dates:[Ye.date]}),B(Q)>W){Q.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:Q,unsentEntries:ke}}(W._heartbeatsCache.heartbeats),Ct=(0,oe.L)(JSON.stringify({version:2,heartbeats:ke}));return W._heartbeatsCache.lastSentHeartbeatDate=Q,Ye.length>0?(W._heartbeatsCache.heartbeats=Ye,yield W._storage.overwrite(W._heartbeatsCache)):(W._heartbeatsCache.heartbeats=[],W._storage.overwrite(W._heartbeatsCache)),Ct})()}}function Ln(){return(new Date).toISOString().substring(0,10)}class Sn{constructor(W){this.app=W,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,e.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var W=this;return(0,e.Z)(function*(){return(yield W._canUseIndexedDBPromise)&&(yield function Bt(F){return ze.apply(this,arguments)}(W.app))||{heartbeats:[]}})()}overwrite(W){var Q=this;return(0,e.Z)(function*(){var ke;if(yield Q._canUseIndexedDBPromise){const Ct=yield Q.read();return vt(Q.app,{lastSentHeartbeatDate:null!==(ke=W.lastSentHeartbeatDate)&&void 0!==ke?ke:Ct.lastSentHeartbeatDate,heartbeats:W.heartbeats})}})()}add(W){var Q=this;return(0,e.Z)(function*(){var ke;if(yield Q._canUseIndexedDBPromise){const Ct=yield Q.read();return vt(Q.app,{lastSentHeartbeatDate:null!==(ke=W.lastSentHeartbeatDate)&&void 0!==ke?ke:Ct.lastSentHeartbeatDate,heartbeats:[...Ct.heartbeats,...W.heartbeats]})}})()}}function B(F){return(0,oe.L)(JSON.stringify({version:2,heartbeats:F})).length}!function j(F){Jn(new L.wA("platform-logger",W=>new pe(W),"PRIVATE")),Jn(new L.wA("heartbeat",W=>new Bn(W),"PRIVATE")),rn(de,"0.7.29",F),rn(de,"0.7.29","esm2017"),rn("fire-js","")}("")},4859:(it,we,M)=>{M.d(we,{H0:()=>de,wA:()=>U});var e=M(5861),L=M(2090);class U{constructor(J,G,ee){this.name=J,this.instanceFactory=G,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const oe="[DEFAULT]";class ue{constructor(J,G){this.name=J,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const G=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(G)){const ee=new L.BH;if(this.instancesDeferred.set(G,ee),this.isInitialized(G)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:G});Be&&ee.resolve(Be)}catch(Be){}}return this.instancesDeferred.get(G).promise}getImmediate(J){var G;const ee=this.normalizeInstanceIdentifier(null==J?void 0:J.identifier),Be=null!==(G=null==J?void 0:J.optional)&&void 0!==G&&G;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Ue){if(Be)return null;throw Ue}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function he(ye){return"EAGER"===ye.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(G){}for(const[G,ee]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(G);try{const Ue=this.getOrInitializeService({instanceIdentifier:Be});ee.resolve(Ue)}catch(Ue){}}}}clearInstance(J=oe){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,e.Z)(function*(){const G=Array.from(J.instances.values());yield Promise.all([...G.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...G.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=oe){return this.instances.has(J)}getOptions(J=oe){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:G={}}=J,ee=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:ee,options:G});for(const[Ue,be]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Ue)&&be.resolve(Be);return Be}onInit(J,G){var ee;const Be=this.normalizeInstanceIdentifier(G),Ue=null!==(ee=this.onInitCallbacks.get(Be))&&void 0!==ee?ee:new Set;Ue.add(J),this.onInitCallbacks.set(Be,Ue);const be=this.instances.get(Be);return be&&J(be,Be),()=>{Ue.delete(J)}}invokeOnInitCallbacks(J,G){const ee=this.onInitCallbacks.get(G);if(ee)for(const Be of ee)try{Be(J,G)}catch(Ue){}}getOrInitializeService({instanceIdentifier:J,options:G={}}){let ee=this.instances.get(J);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=J,ye===oe?void 0:ye),options:G}),this.instances.set(J,ee),this.instancesOptions.set(J,G),this.invokeOnInitCallbacks(ee,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,ee)}catch(Be){}var ye;return ee||null}normalizeInstanceIdentifier(J=oe){return this.component?this.component.multipleInstances?J:oe:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const G=this.getProvider(J.name);if(G.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);G.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const G=new ue(J,this);return this.providers.set(J,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(it,we,M)=>{M.d(we,{Am:()=>ye,Ub:()=>de,Yd:()=>he,in:()=>L});const e=[];var L=(()=>{return(J=L||(L={}))[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",L;var J})();const U={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},oe=L.INFO,ue={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},pe=(J,G,...ee)=>{if(G<J.logLevel)return;const Be=(new Date).toISOString(),Ue=ue[G];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Ue](`[${Be}]  ${J.name}:`,...ee)};class he{constructor(G){this.name=G,this._logLevel=oe,this._logHandler=pe,this._userLogHandler=null,e.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in L))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?U[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...G),this._logHandler(this,L.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...G),this._logHandler(this,L.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,L.INFO,...G),this._logHandler(this,L.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,L.WARN,...G),this._logHandler(this,L.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...G),this._logHandler(this,L.ERROR,...G)}}function de(J){e.forEach(G=>{G.setLogLevel(J)})}function ye(J,G){for(const ee of e){let Be=null;G&&G.level&&(Be=U[G.level]),ee.userLogHandler=null===J?null:(Ue,be,...at)=>{const Ce=at.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch(st){return null}}).filter(ge=>ge).join(" ");be>=(null!=Be?Be:Ue.logLevel)&&J({level:L[be].toLowerCase(),message:Ce,args:at,type:Ue.name})}}}},8766:(it,we,M)=>{M.d(we,{Lj:()=>je,X3:()=>ft});var e=M(5861);let U,oe;const he=new WeakMap,de=new WeakMap,ye=new WeakMap,J=new WeakMap,G=new WeakMap;let Ue={get(Te,De,X){if(Te instanceof IDBTransaction){if("done"===De)return de.get(Te);if("objectStoreNames"===De)return Te.objectStoreNames||ye.get(Te);if("store"===De)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return ge(Te[De])},set:(Te,De,X)=>(Te[De]=X,!0),has:(Te,De)=>Te instanceof IDBTransaction&&("done"===De||"store"===De)||De in Te};function Ce(Te){return"function"==typeof Te?function at(Te){return Te!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Te)?function(...De){return Te.apply(st(this),De),ge(he.get(this))}:function(...De){return ge(Te.apply(st(this),De))}:function(De,...X){const se=Te.call(st(this),De,...X);return ye.set(se,De.sort?De.sort():[De]),ge(se)}}(Te):(Te instanceof IDBTransaction&&function Be(Te){if(de.has(Te))return;const De=new Promise((X,se)=>{const ie=()=>{Te.removeEventListener("complete",_e),Te.removeEventListener("error",le),Te.removeEventListener("abort",le)},_e=()=>{X(),ie()},le=()=>{se(Te.error||new DOMException("AbortError","AbortError")),ie()};Te.addEventListener("complete",_e),Te.addEventListener("error",le),Te.addEventListener("abort",le)});de.set(Te,De)}(Te),((Te,De)=>De.some(X=>Te instanceof X))(Te,function ue(){return U||(U=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Te,Ue):Te)}function ge(Te){if(Te instanceof IDBRequest)return function ee(Te){const De=new Promise((X,se)=>{const ie=()=>{Te.removeEventListener("success",_e),Te.removeEventListener("error",le)},_e=()=>{X(ge(Te.result)),ie()},le=()=>{se(Te.error),ie()};Te.addEventListener("success",_e),Te.addEventListener("error",le)});return De.then(X=>{X instanceof IDBCursor&&he.set(X,Te)}).catch(()=>{}),G.set(De,Te),De}(Te);if(J.has(Te))return J.get(Te);const De=Ce(Te);return De!==Te&&(J.set(Te,De),G.set(De,Te)),De}const st=Te=>G.get(Te);function ft(Te,De,{blocked:X,upgrade:se,blocking:ie,terminated:_e}={}){const le=indexedDB.open(Te,De),Fe=ge(le);return se&&le.addEventListener("upgradeneeded",Tt=>{se(ge(le.result),Tt.oldVersion,Tt.newVersion,ge(le.transaction))}),X&&le.addEventListener("blocked",()=>X()),Fe.then(Tt=>{_e&&Tt.addEventListener("close",()=>_e()),ie&&Tt.addEventListener("versionchange",()=>ie())}).catch(()=>{}),Fe}function je(Te,{blocked:De}={}){const X=indexedDB.deleteDatabase(Te);return De&&X.addEventListener("blocked",()=>De()),ge(X).then(()=>{})}const Ze=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],Qe=new Map;function Ge(Te,De){if(!(Te instanceof IDBDatabase)||De in Te||"string"!=typeof De)return;if(Qe.get(De))return Qe.get(De);const X=De.replace(/FromIndex$/,""),se=De!==X,ie=Ee.includes(X);if(!(X in(se?IDBIndex:IDBObjectStore).prototype)||!ie&&!Ze.includes(X))return;const _e=function(){var le=(0,e.Z)(function*(Fe,...Tt){const tn=this.transaction(Fe,ie?"readwrite":"readonly");let jt=tn.store;return se&&(jt=jt.index(Tt.shift())),(yield Promise.all([jt[X](...Tt),ie&&tn.done]))[0]});return function(Tt){return le.apply(this,arguments)}}();return Qe.set(De,_e),_e}!function be(Te){Ue=Te(Ue)}(Te=>yM(_M({},Te),{get:(De,X,se)=>Ge(De,X)||Te.get(De,X,se),has:(De,X)=>!!Ge(De,X)||Te.has(De,X)}))},5861:(it,we,M)=>{function e(U,oe,ue,pe,he,de,ye){try{var J=U[de](ye),G=J.value}catch(ee){return void ue(ee)}J.done?oe(G):Promise.resolve(G).then(pe,he)}function L(U){return function(){var oe=this,ue=arguments;return new Promise(function(pe,he){var de=U.apply(oe,ue);function ye(G){e(de,pe,he,ye,J,"next",G)}function J(G){e(de,pe,he,ye,J,"throw",G)}ye(void 0)})}}M.d(we,{Z:()=>L})}},it=>{it(it.s=8597)}]);