"use strict";var wL=Object.defineProperty,bL=Object.defineProperties,AL=Object.getOwnPropertyDescriptors,QN=Object.getOwnPropertySymbols,IL=Object.prototype.hasOwnProperty,EL=Object.prototype.propertyIsEnumerable,KN=(rt,be,P)=>be in rt?wL(rt,be,{enumerable:!0,configurable:!0,writable:!0,value:P}):rt[be]=P,YN=(rt,be)=>{for(var P in be||(be={}))IL.call(be,P)&&KN(rt,P,be[P]);if(QN)for(var P of QN(be))EL.call(be,P)&&KN(rt,P,be[P]);return rt},XN=(rt,be)=>bL(rt,AL(be));(self.webpackChunklanguage_parser_ui=self.webpackChunklanguage_parser_ui||[]).push([[179],{2011:(rt,be,P)=>{P.d(be,{Dh:()=>de,GT:()=>ge,cc:()=>Me,hO:()=>$e,on:()=>G,pX:()=>ue,xv:()=>ve});var e=P(5e3),L=P(127),M=P(5813);rt=P.hmd(rt);const re=["ngOnDestroy"],ue=(_e,it,dt,He={})=>new Proxy(_e,{get:(ke,Ee)=>dt.runOutsideAngular(()=>{var Ke;if(_e[Ee])return!(null===(Ke=null==He?void 0:He.spy)||void 0===Ke)&&Ke.get&&He.spy.get(Ee,_e[Ee]),_e[Ee];if(re.indexOf(Ee)>-1)return()=>{};const Je=it.toPromise().then(we=>{const De=we&&we[Ee];return"function"==typeof De?De.bind(we):De&&De.then?De.then(Y=>dt.run(()=>Y)):dt.run(()=>De)});return new Proxy(()=>{},{get:(we,De)=>Je[De],apply:(we,De,Y)=>Je.then(oe=>{var ie;const ye=oe&&oe(...Y);return!(null===(ie=null==He?void 0:He.spy)||void 0===ie)&&ie.apply&&He.spy.apply(Ee,Y,ye),ye})})})}),ge=(_e,it)=>{it.forEach(dt=>{Object.getOwnPropertyNames(dt.prototype||dt).forEach(He=>{Object.defineProperty(_e.prototype,He,Object.getOwnPropertyDescriptor(dt.prototype||dt,He))})})};class fe{constructor(it){return it}}const de=new e.OlP("angularfire2.app.options"),ve=new e.OlP("angularfire2.app.name");function G(_e,it,dt){const ke="object"==typeof dt&&dt||{};ke.name=ke.name||"string"==typeof dt&&dt||"[DEFAULT]";const Ke=L.Z.apps.filter(Je=>Je&&Je.name===ke.name)[0]||it.runOutsideAngular(()=>L.Z.initializeApp(_e,ke));try{JSON.stringify(_e)!==JSON.stringify(Ke.options)&&H("error",`${Ke.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Je){}return new fe(Ke)}const H=(_e,...it)=>{(0,e.X6Q)()&&"undefined"!=typeof console&&console[_e](...it)},X={provide:fe,useFactory:G,deps:[de,e.R0b,[new e.FiY,ve]]};let $e=(()=>{class _e{constructor(dt){L.Z.registerVersion("angularfire",M.q4.full,"core"),L.Z.registerVersion("angularfire",M.q4.full,"app-compat"),L.Z.registerVersion("angular",e.q4F.full,dt.toString())}static initializeApp(dt,He){return{ngModule:_e,providers:[{provide:de,useValue:dt},{provide:ve,useValue:He}]}}}return _e.\u0275fac=function(dt){return new(dt||_e)(e.LFG(e.Lbi))},_e.\u0275mod=e.oAB({type:_e}),_e.\u0275inj=e.cJS({providers:[X]}),_e})();function Me(_e,it,dt,He,ke){const[,Ee,Ke]=globalThis.\u0275AngularfireInstanceCache.find(Je=>Je[0]===_e)||[];if(Ee)return function Ae(_e,it){try{return _e.toString()===it.toString()}catch(dt){return _e===it}}(ke,Ke)||(Te("error",`${it} was already initialized on the ${dt} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),Te("warn",{is:ke,was:Ke})),Ee;{const Je=He();return globalThis.\u0275AngularfireInstanceCache.push([_e,Je,ke]),Je}}const ot=!!rt.hot,Te=(_e,...it)=>{(0,e.X6Q)()&&"undefined"!=typeof console&&console[_e](...it)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(rt,be,P)=>{P.d(be,{q4:()=>Zc,iC:()=>Gs,HU:()=>Xd,vb:()=>wm,JM:()=>Ma});var e=P(5e3),L=P(5867),M=P(5861),re=P(9681),ue=P(2090),ge=P(4859),fe=P(1877),de=P(8766);const ve="@firebase/installations",G="0.5.12",X=`w:${G}`,$e="FIS_v2",it=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function dt(A){return A instanceof ue.ZR&&A.code.includes("request-failed")}function He({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function ke(A){return{token:A.token,requestStatus:2,expiresIn:oe(A.expiresIn),creationTime:Date.now()}}function Ee(A,I){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,M.Z)(function*(A,I){const O=(yield I.json()).error;return it.create("request-failed",{requestName:A,serverCode:O.code,serverMessage:O.message,serverStatus:O.status})})).apply(this,arguments)}function Je({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function we(A,{refreshToken:I}){const Z=Je(A);return Z.append("Authorization",function ie(A){return`${$e} ${A}`}(I)),Z}function De(A){return Y.apply(this,arguments)}function Y(){return(Y=(0,M.Z)(function*(A){const I=yield A();return I.status>=500&&I.status<600?A():I})).apply(this,arguments)}function oe(A){return Number(A.replace("s","000"))}function ye(A,I){return le.apply(this,arguments)}function le(){return(le=(0,M.Z)(function*({appConfig:A,heartbeatServiceProvider:I},{fid:Z}){const O=He(A),K=Je(A),ae=I.getImmediate({optional:!0});if(ae){const Ot=yield ae.getHeartbeatsHeader();Ot&&K.append("x-firebase-client",Ot)}const We={method:"POST",headers:K,body:JSON.stringify({fid:Z,authVersion:$e,appId:A.appId,sdkVersion:X})},ut=yield De(()=>fetch(O,We));if(ut.ok){const Ot=yield ut.json();return{fid:Ot.fid||Z,registrationStatus:2,refreshToken:Ot.refreshToken,authToken:ke(Ot.authToken)}}throw yield Ee("Create Installation",ut)})).apply(this,arguments)}function qe(A){return new Promise(I=>{setTimeout(I,A)})}const nn=/^[cdef][\w-]{21}$/;function Ye(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const Z=function bn(A){return function Ct(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return nn.test(Z)?Z:""}catch(A){return""}}function jn(A){return`${A.appName}!${A.appId}`}const Cn=new Map;function rn(A,I){const Z=jn(A);Un(Z,I),function ui(A,I){const Z=function _n(){return!Tn&&"BroadcastChannel"in self&&(Tn=new BroadcastChannel("[Firebase] FID Change"),Tn.onmessage=A=>{Un(A.data.key,A.data.fid)}),Tn}();Z&&Z.postMessage({key:A,fid:I}),function Eo(){0===Cn.size&&Tn&&(Tn.close(),Tn=null)}()}(Z,I)}function Un(A,I){const Z=Cn.get(A);if(Z)for(const O of Z)O(I)}let Tn=null;const Oe="firebase-installations-store";let sr=null;function st(){return sr||(sr=(0,de.X3)("firebase-installations-database",1,{upgrade:(A,I)=>{0===I&&A.createObjectStore(Oe)}})),sr}function Cr(A,I){return on.apply(this,arguments)}function on(){return(on=(0,M.Z)(function*(A,I){const Z=jn(A),K=(yield st()).transaction(Oe,"readwrite"),ae=K.objectStore(Oe),xe=yield ae.get(Z);return yield ae.put(I,Z),yield K.done,(!xe||xe.fid!==I.fid)&&rn(A,I.fid),I})).apply(this,arguments)}function zt(A){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,M.Z)(function*(A){const I=jn(A),O=(yield st()).transaction(Oe,"readwrite");yield O.objectStore(Oe).delete(I),yield O.done})).apply(this,arguments)}function Or(A,I){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,M.Z)(function*(A,I){const Z=jn(A),K=(yield st()).transaction(Oe,"readwrite"),ae=K.objectStore(Oe),xe=yield ae.get(Z),We=I(xe);return void 0===We?yield ae.delete(Z):yield ae.put(We,Z),yield K.done,We&&(!xe||xe.fid!==We.fid)&&rn(A,We.fid),We})).apply(this,arguments)}function En(A){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,M.Z)(function*(A){let I;const Z=yield Or(A.appConfig,O=>{const K=As(O),ae=jt(A,K);return I=ae.registrationPromise,ae.installationEntry});return""===Z.fid?{installationEntry:yield I}:{installationEntry:Z,registrationPromise:I}})).apply(this,arguments)}function As(A){return sn(A||{fid:Ye(),registrationStatus:0})}function jt(A,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(it.create("app-offline"))};const Z={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},O=function Qe(A,I){return _t.apply(this,arguments)}(A,Z);return{installationEntry:Z,registrationPromise:O}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:so(A)}:{installationEntry:I}}function _t(){return(_t=(0,M.Z)(function*(A,I){try{const Z=yield ye(A,I);return Cr(A.appConfig,Z)}catch(Z){throw dt(Z)&&409===Z.customData.serverCode?yield zt(A.appConfig):yield Cr(A.appConfig,{fid:I.fid,registrationStatus:0}),Z}})).apply(this,arguments)}function so(A){return ar.apply(this,arguments)}function ar(){return(ar=(0,M.Z)(function*(A){let I=yield at(A.appConfig);for(;1===I.registrationStatus;)yield qe(100),I=yield at(A.appConfig);if(0===I.registrationStatus){const{installationEntry:Z,registrationPromise:O}=yield En(A);return O||Z}return I})).apply(this,arguments)}function at(A){return Or(A,I=>{if(!I)throw it.create("installation-not-found");return sn(I)})}function sn(A){return function qn(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function On(A,I){return tn.apply(this,arguments)}function tn(){return(tn=(0,M.Z)(function*({appConfig:A,heartbeatServiceProvider:I},Z){const O=Dn(A,Z),K=we(A,Z),ae=I.getImmediate({optional:!0});if(ae){const Ot=yield ae.getHeartbeatsHeader();Ot&&K.append("x-firebase-client",Ot)}const We={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:X,appId:A.appId}})},ut=yield De(()=>fetch(O,We));if(ut.ok)return ke(yield ut.json());throw yield Ee("Generate Auth Token",ut)})).apply(this,arguments)}function Dn(A,{fid:I}){return`${He(A)}/${I}/authTokens:generate`}function B(A){return j.apply(this,arguments)}function j(){return(j=(0,M.Z)(function*(A,I=!1){let Z;const O=yield Or(A.appConfig,ae=>{if(!vt(ae))throw it.create("not-registered");const xe=ae.authToken;if(!I&&hn(xe))return ae;if(1===xe.requestStatus)return Z=F(A,I),ae;{if(!navigator.onLine)throw it.create("app-offline");const We=fr(ae);return Z=Ne(A,We),We}});return Z?yield Z:O.authToken})).apply(this,arguments)}function F(A,I){return J.apply(this,arguments)}function J(){return(J=(0,M.Z)(function*(A,I){let Z=yield Q(A.appConfig);for(;1===Z.authToken.requestStatus;)yield qe(100),Z=yield Q(A.appConfig);const O=Z.authToken;return 0===O.requestStatus?B(A,I):O})).apply(this,arguments)}function Q(A){return Or(A,I=>{if(!vt(I))throw it.create("not-registered");return function ee(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Ne(A,I){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,M.Z)(function*(A,I){try{const Z=yield On(A,I),O=Object.assign(Object.assign({},I),{authToken:Z});return yield Cr(A.appConfig,O),Z}catch(Z){if(!dt(Z)||401!==Z.customData.serverCode&&404!==Z.customData.serverCode){const O=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Cr(A.appConfig,O)}else yield zt(A.appConfig);throw Z}})).apply(this,arguments)}function vt(A){return void 0!==A&&2===A.registrationStatus}function hn(A){return 2===A.requestStatus&&!function an(A){const I=Date.now();return I<A.creationTime||A.creationTime+A.expiresIn<I+36e5}(A)}function fr(A){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:I})}function V(){return(V=(0,M.Z)(function*(A){const I=A,{installationEntry:Z,registrationPromise:O}=yield En(I);return O?O.catch(console.error):B(I).catch(console.error),Z.fid})).apply(this,arguments)}function Ve(){return(Ve=(0,M.Z)(function*(A,I=!1){const Z=A;return yield xt(Z),(yield B(Z,I)).token})).apply(this,arguments)}function xt(A){return At.apply(this,arguments)}function At(){return(At=(0,M.Z)(function*(A){const{registrationPromise:I}=yield En(A);I&&(yield I)})).apply(this,arguments)}function yn(A){return it.create("missing-app-config-values",{valueName:A})}const Rr="installations",Jn=A=>{const I=A.getProvider("app").getImmediate(),Z=function kt(A){if(!A||!A.options)throw yn("App Configuration");if(!A.name)throw yn("App Name");const I=["projectId","apiKey","appId"];for(const Z of I)if(!A.options[Z])throw yn(Z);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(I);return{app:I,appConfig:Z,heartbeatServiceProvider:(0,re._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Qr=A=>{const I=A.getProvider("app").getImmediate(),Z=(0,re._getProvider)(I,Rr).getImmediate();return{getId:()=>function q(A){return V.apply(this,arguments)}(Z),getToken:K=>function Ce(A){return Ve.apply(this,arguments)}(Z,K)}};(function pn(){(0,re._registerComponent)(new ge.wA(Rr,Jn,"PUBLIC")),(0,re._registerComponent)(new ge.wA("installations-internal",Qr,"PRIVATE"))})(),(0,re.registerVersion)(ve,G),(0,re.registerVersion)(ve,G,"esm2017");const Kr="@firebase/remote-config",gr=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class cc{constructor(I,Z,O,K){this.client=I,this.storage=Z,this.storageCache=O,this.logger=K}isCachedDataFresh(I,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const O=Date.now()-Z,K=O<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${O}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${K}.`),K}fetch(I){var Z=this;return(0,M.Z)(function*(){const[O,K]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if(K&&Z.isCachedDataFresh(I.cacheMaxAgeMillis,O))return K;I.eTag=K&&K.eTag;const ae=yield Z.client.fetch(I),xe=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&xe.push(Z.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(xe),ae})()}}function Vp(A=navigator){return A.languages&&A.languages[0]||A.language}class Rd{constructor(I,Z,O,K,ae,xe){this.firebaseInstallations=I,this.sdkVersion=Z,this.namespace=O,this.projectId=K,this.apiKey=ae,this.appId=xe}fetch(I){var Z=this;return(0,M.Z)(function*(){var O,K,ae;const[xe,We]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),Ot=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,Rt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},mt={sdk_version:Z.sdkVersion,app_instance_id:xe,app_instance_id_token:We,app_id:Z.appId,language_code:Vp()},cr={method:"POST",headers:Rt,body:JSON.stringify(mt)},Hn=fetch(Ot,cr),qo=new Promise((_o,fs)=>{I.signal.addEventListener(()=>{const ml=new Error("The operation was aborted.");ml.name="AbortError",fs(ml)})});let Vo;try{yield Promise.race([Hn,qo]),Vo=yield Hn}catch(_o){let fs="fetch-client-network";throw"AbortError"===(null===(O=_o)||void 0===O?void 0:O.name)&&(fs="fetch-timeout"),gr.create(fs,{originalErrorMessage:null===(K=_o)||void 0===K?void 0:K.message})}let Ar=Vo.status;const ds=Vo.headers.get("ETag")||void 0;let hs,ps;if(200===Vo.status){let _o;try{_o=yield Vo.json()}catch(fs){throw gr.create("fetch-client-parse",{originalErrorMessage:null===(ae=fs)||void 0===ae?void 0:ae.message})}hs=_o.entries,ps=_o.state}if("INSTANCE_STATE_UNSPECIFIED"===ps?Ar=500:"NO_CHANGE"===ps?Ar=304:("NO_TEMPLATE"===ps||"EMPTY_CONFIG"===ps)&&(hs={}),304!==Ar&&200!==Ar)throw gr.create("fetch-status",{httpStatus:Ar});return{status:Ar,eTag:ds,config:hs}})()}}class Ld{constructor(I,Z){this.client=I,this.storage=Z}fetch(I){var Z=this;return(0,M.Z)(function*(){const O=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch(I,O)})()}attemptFetch(I,{throttleEndTimeMillis:Z,backoffCount:O}){var K=this;return(0,M.Z)(function*(){yield function ym(A,I){return new Promise((Z,O)=>{const K=Math.max(I-Date.now(),0),ae=setTimeout(Z,K);A.addEventListener(()=>{clearTimeout(ae),O(gr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,Z);try{const ae=yield K.client.fetch(I);return yield K.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function Sr(A){if(!(A instanceof ue.ZR&&A.customData))return!1;const I=Number(A.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ae))throw ae;const xe={throttleEndTimeMillis:Date.now()+(0,ue.$s)(O),backoffCount:O+1};return yield K.storage.setThrottleMetadata(xe),K.attemptFetch(I,xe)}})()}}class hc{constructor(I,Z,O,K,ae){this.app=I,this._client=Z,this._storageCache=O,this._storage=K,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Wu(A,I){var Z;const O=A.target.error||void 0;return gr.create(I,{originalErrorMessage:O&&(null===(Z=O)||void 0===Z?void 0:Z.message)})}const So="app_namespace_store";class fc{constructor(I,Z,O,K=function zu(){return new Promise((A,I)=>{var Z;try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=K=>{I(Wu(K,"storage-open"))},O.onsuccess=K=>{A(K.target.result)},O.onupgradeneeded=K=>{0===K.oldVersion&&K.target.result.createObjectStore(So,{keyPath:"compositeKey"})}}catch(O){I(gr.create("storage-open",{originalErrorMessage:null===(Z=O)||void 0===Z?void 0:Z.message}))}})}()){this.appId=I,this.appName=Z,this.namespace=O,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var Z=this;return(0,M.Z)(function*(){const O=yield Z.openDbPromise;return new Promise((K,ae)=>{var xe;const ut=O.transaction([So],"readonly").objectStore(So),Ot=Z.createCompositeKey(I);try{const Rt=ut.get(Ot);Rt.onerror=mt=>{ae(Wu(mt,"storage-get"))},Rt.onsuccess=mt=>{const cr=mt.target.result;K(cr?cr.value:void 0)}}catch(Rt){ae(gr.create("storage-get",{originalErrorMessage:null===(xe=Rt)||void 0===xe?void 0:xe.message}))}})})()}set(I,Z){var O=this;return(0,M.Z)(function*(){const K=yield O.openDbPromise;return new Promise((ae,xe)=>{var We;const Ot=K.transaction([So],"readwrite").objectStore(So),Rt=O.createCompositeKey(I);try{const mt=Ot.put({compositeKey:Rt,value:Z});mt.onerror=cr=>{xe(Wu(cr,"storage-set"))},mt.onsuccess=()=>{ae()}}catch(mt){xe(gr.create("storage-set",{originalErrorMessage:null===(We=mt)||void 0===We?void 0:We.message}))}})})()}delete(I){var Z=this;return(0,M.Z)(function*(){const O=yield Z.openDbPromise;return new Promise((K,ae)=>{var xe;const ut=O.transaction([So],"readwrite").objectStore(So),Ot=Z.createCompositeKey(I);try{const Rt=ut.delete(Ot);Rt.onerror=mt=>{ae(Wu(mt,"storage-delete"))},Rt.onsuccess=()=>{K()}}catch(Rt){ae(gr.create("storage-delete",{originalErrorMessage:null===(xe=Rt)||void 0===xe?void 0:xe.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class gc{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,M.Z)(function*(){const Z=I.storage.getLastFetchStatus(),O=I.storage.getLastSuccessfulFetchTimestampMillis(),K=I.storage.getActiveConfig(),ae=yield Z;ae&&(I.lastFetchStatus=ae);const xe=yield O;xe&&(I.lastSuccessfulFetchTimestampMillis=xe);const We=yield K;We&&(I.activeConfig=We)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function jp(){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,M.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(A){return!1}})).apply(this,arguments)}!function ma(){(0,re._registerComponent)(new ge.wA("remote-config",function A(I,{instanceIdentifier:Z}){const O=I.getProvider("app").getImmediate(),K=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw gr.create("registration-window");if(!(0,ue.hl)())throw gr.create("indexed-db-unavailable");const{projectId:ae,apiKey:xe,appId:We}=O.options;if(!ae)throw gr.create("registration-project-id");if(!xe)throw gr.create("registration-api-key");if(!We)throw gr.create("registration-app-id");const ut=new fc(We,O.name,Z=Z||"firebase"),Ot=new gc(ut),Rt=new fe.Yd(Kr);Rt.logLevel=fe.in.ERROR;const mt=new Rd(K,re.SDK_VERSION,Z,ae,xe,We),cr=new Ld(mt,ut),Hn=new cc(cr,ut,Ot,Rt),qo=new hc(O,Hn,Ot,ut,Rt);return function Od(A){const I=(0,ue.m9)(A);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(qo),qo},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(Kr,"0.3.11"),(0,re.registerVersion)(Kr,"0.3.11","esm2017")}();const qd="/firebase-messaging-sw.js",Ds="/firebase-cloud-messaging-push-scope",Qu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mc="google.c.a.c_id",Ss="google.c.a.c_l",xo="google.c.a.ts",ao="google.c.a.e";var ko=(()=>{return(A=ko||(ko={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",ko;var A})();function ln(A){const I=new Uint8Array(A);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xu(A){const Z=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),O=atob(Z),K=new Uint8Array(O.length);for(let ae=0;ae<O.length;++ae)K[ae]=O.charCodeAt(ae);return K}const _a="fcm_token_details_db",tl="fcm_token_object_Store";function Vd(A){return Ln.apply(this,arguments)}function Ln(){return Ln=(0,M.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes(_a))return null;let I=null;return(yield(0,de.X3)(_a,5,{upgrade:(O=(0,M.Z)(function*(K,ae,xe,We){var ut;if(ae<2||!K.objectStoreNames.contains(tl))return;const Ot=We.objectStore(tl),Rt=yield Ot.index("fcmSenderId").get(A);if(yield Ot.clear(),Rt)if(2===ae){const mt=Rt;if(!mt.auth||!mt.p256dh||!mt.endpoint)return;I={token:mt.fcmToken,createTime:null!==(ut=mt.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:mt.auth,p256dh:mt.p256dh,endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:"string"==typeof mt.vapidKey?mt.vapidKey:ln(mt.vapidKey)}}}else if(3===ae){const mt=Rt;I={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:ln(mt.auth),p256dh:ln(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:ln(mt.vapidKey)}}}else if(4===ae){const mt=Rt;I={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:ln(mt.auth),p256dh:ln(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:ln(mt.vapidKey)}}}}),function(ae,xe,We,ut){return O.apply(this,arguments)})})).close(),yield(0,de.Lj)(_a),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),$p(I)?I:null;var O}),Ln.apply(this,arguments)}function $p(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:I}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Zn="firebase-messaging-store";let ru=null;function ya(){return ru||(ru=(0,de.X3)("firebase-messaging-database",1,{upgrade:(A,I)=>{0===I&&A.createObjectStore(Zn)}})),ru}function Fi(A){return xr.apply(this,arguments)}function xr(){return(xr=(0,M.Z)(function*(A){const I=Ko(A),O=yield(yield ya()).transaction(Zn).objectStore(Zn).get(I);if(O)return O;{const K=yield Vd(A.appConfig.senderId);if(K)return yield ks(A,K),K}})).apply(this,arguments)}function ks(A,I){return kr.apply(this,arguments)}function kr(){return(kr=(0,M.Z)(function*(A,I){const Z=Ko(A),K=(yield ya()).transaction(Zn,"readwrite");return yield K.objectStore(Zn).put(I,Z),yield K.done,I})).apply(this,arguments)}function qi(A){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,M.Z)(function*(A){const I=Ko(A),O=(yield ya()).transaction(Zn,"readwrite");yield O.objectStore(Zn).delete(I),yield O.done})).apply(this,arguments)}function Ko({appConfig:A}){return A.appId}const ht=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _c(A,I){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,M.Z)(function*(A,I){var Z;const O=yield Zr(A),K=Ht(I),ae={method:"POST",headers:O,body:JSON.stringify(K)};let xe;try{xe=yield(yield fetch(Ns(A.appConfig),ae)).json()}catch(We){throw ht.create("token-subscribe-failed",{errorInfo:null===(Z=We)||void 0===Z?void 0:Z.toString()})}if(xe.error)throw ht.create("token-subscribe-failed",{errorInfo:xe.error.message});if(!xe.token)throw ht.create("token-subscribe-no-token");return xe.token})).apply(this,arguments)}function Bd(A,I){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,M.Z)(function*(A,I){var Z;const O=yield Zr(A),K=Ht(I.subscriptionOptions),ae={method:"PATCH",headers:O,body:JSON.stringify(K)};let xe;try{xe=yield(yield fetch(`${Ns(A.appConfig)}/${I.token}`,ae)).json()}catch(We){throw ht.create("token-update-failed",{errorInfo:null===(Z=We)||void 0===Z?void 0:Z.toString()})}if(xe.error)throw ht.create("token-update-failed",{errorInfo:xe.error.message});if(!xe.token)throw ht.create("token-update-no-token");return xe.token})).apply(this,arguments)}function va(A,I){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,M.Z)(function*(A,I){var Z;const K={method:"DELETE",headers:yield Zr(A)};try{const xe=yield(yield fetch(`${Ns(A.appConfig)}/${I}`,K)).json();if(xe.error)throw ht.create("token-unsubscribe-failed",{errorInfo:xe.error.message})}catch(ae){throw ht.create("token-unsubscribe-failed",{errorInfo:null===(Z=ae)||void 0===Z?void 0:Z.toString()})}})).apply(this,arguments)}function Ns({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function Zr(A){return Se.apply(this,arguments)}function Se(){return(Se=(0,M.Z)(function*({appConfig:A,installations:I}){const Z=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${Z}`})})).apply(this,arguments)}function Ht({p256dh:A,auth:I,endpoint:Z,vapidKey:O}){const K={web:{endpoint:Z,auth:I,p256dh:A}};return O!==Qu&&(K.web.applicationPubKey=O),K}const Ms=6048e5;function Xo(A){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,M.Z)(function*(A){const I=yield iu(A.swRegistration,A.vapidKey),Z={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:I.endpoint,auth:ln(I.getKey("auth")),p256dh:ln(I.getKey("p256dh"))},O=yield Fi(A.firebaseDependencies);if(O){if(Mo(O.subscriptionOptions,Z))return Date.now()>=O.createTime+Ms?ci(A,{token:O.token,createTime:Date.now(),subscriptionOptions:Z}):O.token;try{yield va(A.firebaseDependencies,O.token)}catch(K){console.warn(K)}return Ps(A.firebaseDependencies,Z)}return Ps(A.firebaseDependencies,Z)})).apply(this,arguments)}function Ca(A){return es.apply(this,arguments)}function es(){return(es=(0,M.Z)(function*(A){const I=yield Fi(A.firebaseDependencies);I&&(yield va(A.firebaseDependencies,I.token),yield qi(A.firebaseDependencies));const Z=yield A.swRegistration.pushManager.getSubscription();return!Z||Z.unsubscribe()})).apply(this,arguments)}function ci(A,I){return ts.apply(this,arguments)}function ts(){return(ts=(0,M.Z)(function*(A,I){try{const Z=yield Bd(A.firebaseDependencies,I),O=Object.assign(Object.assign({},I),{token:Z,createTime:Date.now()});return yield ks(A.firebaseDependencies,O),Z}catch(Z){throw yield Ca(A),Z}})).apply(this,arguments)}function Ps(A,I){return No.apply(this,arguments)}function No(){return(No=(0,M.Z)(function*(A,I){const O={token:yield _c(A,I),createTime:Date.now(),subscriptionOptions:I};return yield ks(A,O),O.token})).apply(this,arguments)}function iu(A,I){return yc.apply(this,arguments)}function yc(){return(yc=(0,M.Z)(function*(A,I){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xu(I)})})).apply(this,arguments)}function Mo(A,I){return I.vapidKey===A.vapidKey&&I.endpoint===A.endpoint&&I.auth===A.auth&&I.p256dh===A.p256dh}function er(A){const I={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function Ei(A,I){if(!I.notification)return;A.notification={};const Z=I.notification.title;Z&&(A.notification.title=Z);const O=I.notification.body;O&&(A.notification.body=O);const K=I.notification.image;K&&(A.notification.image=K)}(I,A),function Us(A,I){!I.data||(A.data=I.data)}(I,A),function uo(A,I){var Z,O,K,ae,xe;if(!(I.fcmOptions||null!==(Z=I.notification)&&void 0!==Z&&Z.click_action))return;A.fcmOptions={};const We=null!==(K=null===(O=I.fcmOptions)||void 0===O?void 0:O.link)&&void 0!==K?K:null===(ae=I.notification)||void 0===ae?void 0:ae.click_action;We&&(A.fcmOptions.link=We);const ut=null===(xe=I.fcmOptions)||void 0===xe?void 0:xe.analytics_label;ut&&(A.fcmOptions.analyticsLabel=ut)}(I,A),I}function Vi(A){return"object"==typeof A&&!!A&&mc in A}function ou(A,I){const Z=[];for(let O=0;O<A.length;O++)Z.push(A.charAt(O)),O<I.length&&Z.push(I.charAt(O));return Z.join("")}function Os(A){return ht.create("missing-app-config-values",{valueName:A})}ou("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ou("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class jd{constructor(I,Z,O){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function rl(A){if(!A||!A.options)throw Os("App Configuration Object");if(!A.name)throw Os("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:Z}=A;for(const O of I)if(!Z[O])throw Os(O);return{appName:A.name,projectId:Z.projectId,apiKey:Z.apiKey,appId:Z.appId,senderId:Z.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:K,installations:Z,analyticsProvider:O}}_delete(){return Promise.resolve()}}function Rs(A){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,M.Z)(function*(A){var I;try{A.swRegistration=yield navigator.serviceWorker.register(qd,{scope:Ds}),A.swRegistration.update().catch(()=>{})}catch(Z){throw ht.create("failed-service-worker-registration",{browserErrorMessage:null===(I=Z)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function su(A,I){return Po.apply(this,arguments)}function Po(){return(Po=(0,M.Z)(function*(A,I){if(!I&&!A.swRegistration&&(yield Rs(A)),I||!A.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw ht.create("invalid-sw-registration");A.swRegistration=I}})).apply(this,arguments)}function il(A,I){return lo.apply(this,arguments)}function lo(){return(lo=(0,M.Z)(function*(A,I){I?A.vapidKey=I:A.vapidKey||(A.vapidKey=Qu)})).apply(this,arguments)}function Ta(){return(Ta=(0,M.Z)(function*(A,I){if(!navigator)throw ht.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ht.create("permission-blocked");return yield il(A,null==I?void 0:I.vapidKey),yield su(A,null==I?void 0:I.serviceWorkerRegistration),Xo(A)})).apply(this,arguments)}function vc(A,I,Z){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,M.Z)(function*(A,I,Z){const O=Cc(I);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(O,{message_id:Z[mc],message_name:Z[Ss],message_time:Z[xo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Cc(A){switch(A){case ko.NOTIFICATION_CLICKED:return"notification_open";case ko.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function au(){return(au=(0,M.Z)(function*(A,I){const Z=I.data;if(!Z.isFirebaseMessaging)return;A.onMessageHandler&&Z.messageType===ko.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(er(Z)):A.onMessageHandler.next(er(Z)));const O=Z.data;Vi(O)&&"1"===O[ao]&&(yield vc(A,Z.messageType,O))})).apply(this,arguments)}const wa="@firebase/messaging",Di=A=>{const I=new jd(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Z=>function qs(A,I){return au.apply(this,arguments)}(I,Z)),I},Vn=A=>{const I=A.getProvider("messaging").getImmediate();return{getToken:O=>function ol(A,I){return Ta.apply(this,arguments)}(I,O)}};function wc(){return bc.apply(this,arguments)}function bc(){return(bc=(0,M.Z)(function*(){try{yield(0,ue.eu)()}catch(A){return!1}return"undefined"!=typeof window&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Tc(){(0,re._registerComponent)(new ge.wA("messaging",Di,"PUBLIC")),(0,re._registerComponent)(new ge.wA("messaging-internal",Vn,"PRIVATE")),(0,re.registerVersion)(wa,"0.9.16"),(0,re.registerVersion)(wa,"0.9.16","esm2017")}();const lu="analytics",ji="firebase_id",Hp="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",is="https://www.googletagmanager.com/gtag/js",ur=new fe.Yd("@firebase/analytics");function du(A){return Promise.all(A.map(I=>I.catch(Z=>Z)))}function Gp(A,I){const Z=document.createElement("script");Z.src=`${is}?l=${A}&id=${I}`,Z.async=!0,document.head.appendChild(Z)}function Wp(A,I,Z,O,K,ae){return os.apply(this,arguments)}function os(){return(os=(0,M.Z)(function*(A,I,Z,O,K,ae){const xe=O[K];try{if(xe)yield I[xe];else{const ut=(yield du(Z)).find(Ot=>Ot.measurementId===K);ut&&(yield I[ut.appId])}}catch(We){ur.error(We)}A("config",K,ae)})).apply(this,arguments)}function Hd(A,I,Z,O,K){return co.apply(this,arguments)}function co(){return(co=(0,M.Z)(function*(A,I,Z,O,K){try{let ae=[];if(K&&K.send_to){let xe=K.send_to;Array.isArray(xe)||(xe=[xe]);const We=yield du(Z);for(const ut of xe){const Ot=We.find(mt=>mt.measurementId===ut),Rt=Ot&&I[Ot.appId];if(!Rt){ae=[];break}ae.push(Rt)}}0===ae.length&&(ae=Object.values(I)),yield Promise.all(ae),A("event",O,K||{})}catch(ae){ur.error(ae)}})).apply(this,arguments)}function Jd(){const A=window.document.getElementsByTagName("script");for(const I of Object.values(A))if(I.src&&I.src.includes(is))return I;return null}const di=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),zp=new class Ic{constructor(I={},Z=1e3){this.throttleMetadata=I,this.intervalMillis=Z}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,Z){this.throttleMetadata[I]=Z}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Qp(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function Sn(A){return Br.apply(this,arguments)}function Br(){return(Br=(0,M.Z)(function*(A){var I;const{appId:Z,apiKey:O}=A,K={method:"GET",headers:Qp(O)},ae=Hp.replace("{app-id}",Z),xe=yield fetch(ae,K);if(200!==xe.status&&304!==xe.status){let We="";try{const ut=yield xe.json();null!==(I=ut.error)&&void 0!==I&&I.message&&(We=ut.error.message)}catch(ut){}throw di.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:We})}return xe.json()})).apply(this,arguments)}function ho(A){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,M.Z)(function*(A,I=zp,Z){const{appId:O,apiKey:K,measurementId:ae}=A.options;if(!O)throw di.create("no-app-id");if(!K){if(ae)return{measurementId:ae,appId:O};throw di.create("no-api-key")}const xe=I.getThrottleMetadata(O)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new ss;return setTimeout((0,M.Z)(function*(){We.abort()}),void 0!==Z?Z:6e4),Uo({appId:O,apiKey:K,measurementId:ae},xe,We,I)})).apply(this,arguments)}function Uo(A,I,Z){return Si.apply(this,arguments)}function Si(){return(Si=(0,M.Z)(function*(A,{throttleEndTimeMillis:I,backoffCount:Z},O,K=zp){var ae,xe;const{appId:We,measurementId:ut}=A;try{yield Vs(O,I)}catch(Ot){if(ut)return ur.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${null===(ae=Ot)||void 0===ae?void 0:ae.message}]`),{appId:We,measurementId:ut};throw Ot}try{const Ot=yield Sn(A);return K.deleteThrottleMetadata(We),Ot}catch(Ot){const Rt=Ot;if(!pu(Rt)){if(K.deleteThrottleMetadata(We),ut)return ur.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${null==Rt?void 0:Rt.message}]`),{appId:We,measurementId:ut};throw Ot}const mt=503===Number(null===(xe=null==Rt?void 0:Rt.customData)||void 0===xe?void 0:xe.httpStatus)?(0,ue.$s)(Z,K.intervalMillis,30):(0,ue.$s)(Z,K.intervalMillis),cr={throttleEndTimeMillis:Date.now()+mt,backoffCount:Z+1};return K.setThrottleMetadata(We,cr),ur.debug(`Calling attemptFetch again in ${mt} millis`),Uo(A,cr,O,K)}})).apply(this,arguments)}function Vs(A,I){return new Promise((Z,O)=>{const K=Math.max(I-Date.now(),0),ae=setTimeout(Z,K);A.addEventListener(()=>{clearTimeout(ae),O(di.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function pu(A){if(!(A instanceof ue.ZR&&A.customData))return!1;const I=Number(A.customData.httpStatus);return 429===I||500===I||503===I||504===I}class ss{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Oo,po;function se(){return(se=(0,M.Z)(function*(A,I,Z,O,K){if(K&&K.global)A("event",Z,O);else{const ae=yield I;A("event",Z,Object.assign(Object.assign({},O),{send_to:ae}))}})).apply(this,arguments)}function Dc(A){po=A}function Sa(A){Oo=A}function ul(){return ll.apply(this,arguments)}function ll(){return(ll=(0,M.Z)(function*(){var A;if(!(0,ue.hl)())return ur.warn(di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(I){return ur.warn(di.create("indexeddb-unavailable",{errorInfo:null===(A=I)||void 0===A?void 0:A.toString()}).message),!1}return!0})).apply(this,arguments)}function xa(){return(xa=(0,M.Z)(function*(A,I,Z,O,K,ae,xe){var We;const ut=ho(A);ut.then(Hn=>{Z[Hn.measurementId]=Hn.appId,A.options.measurementId&&Hn.measurementId!==A.options.measurementId&&ur.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${Hn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Hn=>ur.error(Hn)),I.push(ut);const Ot=ul().then(Hn=>{if(Hn)return O.getId()}),[Rt,mt]=yield Promise.all([ut,Ot]);Jd()||Gp(ae,Rt.measurementId),po&&(K("consent","default",po),Dc(void 0)),K("js",new Date);const cr=null!==(We=null==xe?void 0:xe.config)&&void 0!==We?We:{};return cr.origin="firebase",cr.update=!0,null!=mt&&(cr[ji]=mt),K("config",Rt.measurementId,cr),Oo&&(K("set",Oo),Sa(void 0)),Rt.measurementId})).apply(this,arguments)}class un{constructor(I){this.app=I}_delete(){return delete Nr[this.app.options.appId],Promise.resolve()}}let Nr={},Nn=[];const $i={};let Sc,xi,Fo="dataLayer",cn=!1;function ka(A,I,Z){!function xc(){const A=[];if((0,ue.ru)()&&A.push("This is a browser extension environment."),(0,ue.zI)()||A.push("Cookies are not available."),A.length>0){const I=A.map((O,K)=>`(${K+1}) ${O}`).join(" "),Z=di.create("invalid-analytics-context",{errorInfo:I});ur.warn(Z.message)}}();const O=A.options.appId;if(!O)throw di.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw di.create("no-api-key");ur.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Nr[O])throw di.create("already-exists",{id:O});if(!cn){!function Jp(A){let I=[];Array.isArray(window[A])?I=window[A]:window[A]=I}(Fo);const{wrappedGtag:ae,gtagCore:xe}=function Gd(A,I,Z,O,K){let ae=function(...xe){window[O].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ae=window[K]),window[K]=function hu(A,I,Z,O){function ae(){return(ae=(0,M.Z)(function*(xe,We,ut){try{"event"===xe?yield Hd(A,I,Z,We,ut):"config"===xe?yield Wp(A,I,Z,O,We,ut):"consent"===xe?A("consent","update",ut):A("set",We)}catch(Ot){ur.error(Ot)}})).apply(this,arguments)}return function K(xe,We,ut){return ae.apply(this,arguments)}}(ae,A,I,Z),{gtagCore:ae,wrappedGtag:window[K]}}(Nr,Nn,$i,Fo,"gtag");xi=ae,Sc=xe,cn=!0}return Nr[O]=function Wn(A,I,Z,O,K,ae,xe){return xa.apply(this,arguments)}(A,Nn,$i,I,Sc,Fo,Z),new un(A)}function Za(){return yu.apply(this,arguments)}function yu(){return(yu=(0,M.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(A){return!1}})).apply(this,arguments)}const vu="@firebase/analytics";!function Hi(){(0,re._registerComponent)(new ge.wA(lu,(I,{options:Z})=>ka(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),Z),"PUBLIC")),(0,re._registerComponent)(new ge.wA("analytics-internal",function A(I){try{const Z=I.getProvider(lu).getImmediate();return{logEvent:(O,K,ae)=>function Bs(A,I,Z,O){A=(0,ue.m9)(A),function _r(A,I,Z,O,K){return se.apply(this,arguments)}(xi,Nr[A.app.options.appId],I,Z,O).catch(K=>ur.error(K))}(Z,O,K,ae)}}catch(Z){throw di.create("interop-component-reg-failed",{reason:Z})}},"PRIVATE")),(0,re.registerVersion)(vu,"0.8.0"),(0,re.registerVersion)(vu,"0.8.0","esm2017")}();var hl=P(4408),ls=P(7565);const pl=new class js extends ls.v{}(class us extends hl.o{constructor(I,Z){super(I,Z),this.scheduler=I,this.work=Z}schedule(I,Z=0){return Z>0?super.schedule(I,Z):(this.delay=Z,this.state=I,this.scheduler.flush(this),this)}execute(I,Z){return Z>0||this.closed?super.execute(I,Z):this._execute(I,Z)}requestAsyncId(I,Z,O=0){return null!=O&&O>0||null==O&&this.delay>0?super.requestAsyncId(I,Z,O):I.flush(this)}});var Kd=P(4986),Gi=P(8505),br=P(9468),jr=P(5363);const Zc=new e.GfV("7.4.1"),fo="__angularfire_symbol__analyticsIsSupportedValue",lr="__angularfire_symbol__analyticsIsSupported",cs="__angularfire_symbol__remoteConfigIsSupportedValue",Na="__angularfire_symbol__remoteConfigIsSupported",$s="__angularfire_symbol__messagingIsSupportedValue",fl="__angularfire_symbol__messagingIsSupported";function Ma(A,I,Z){if(I){if(1===I.length)return I[0];const ae=I.filter(xe=>xe.app===Z);if(1===ae.length)return ae[0]}return Z.container.getProvider(A).getImmediate({optional:!0})}globalThis[lr]||(globalThis[lr]=Za().then(A=>globalThis[fo]=A).catch(()=>globalThis[fo]=!1)),globalThis[fl]||(globalThis[fl]=wc().then(A=>globalThis[$s]=A).catch(()=>globalThis[$s]=!1)),globalThis[Na]||(globalThis[Na]=jp().then(A=>globalThis[cs]=A).catch(()=>globalThis[cs]=!1));const wm=(A,I)=>{const Z=I?[I]:(0,L.C6)(),O=[];return Z.forEach(K=>{K.container.getProvider(A).instances.forEach(xe=>{O.includes(xe)||O.push(xe)})}),O};function ki(){}class gl{constructor(I,Z=pl){this.zone=I,this.delegate=Z}now(){return this.delegate.now()}schedule(I,Z,O){const K=this.zone;return this.delegate.schedule(function(xe){K.runGuarded(()=>{I.apply(this,[xe])})},Z,O)}}class Pa{constructor(I){this.zone=I,this.task=null}call(I,Z){const O=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ki,{},ki,ki)),Z.pipe((0,Gi.b)({next:O,complete:O,error:O})).subscribe(I).add(O)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xd=(()=>{class A{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new gl(Zone.current)),this.insideAngular=Z.run(()=>new gl(Zone.current,Kd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(Z){return new(Z||A)(e.LFG(e.R0b))},A.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function Ji(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function Gs(A){return Ji(),function fn(A){return function(Z){return(Z=Z.lift(new Pa(A.ngZone))).pipe((0,br.R)(A.outsideAngular),(0,jr.Q)(A.insideAngular))}}(Ji())(A)}},2227:(rt,be,P)=>{P.d(be,{$:()=>Ls,A:()=>Ye,B:()=>Cn,G:()=>lc,H:()=>Sr,J:()=>ln,L:()=>Zt,M:()=>ks,N:()=>Ko,P:()=>Gs,Q:()=>nl,R:()=>Tm,T:()=>ht,U:()=>Vr,V:()=>Zs,W:()=>va,X:()=>Ht,Y:()=>Us,Z:()=>Vi,_:()=>rl,a:()=>Sa,a0:()=>ol,a1:()=>vc,a2:()=>Cc,a3:()=>au,a4:()=>mr,a5:()=>Vn,a6:()=>wc,a7:()=>bc,a8:()=>uu,a9:()=>$d,aA:()=>ih,aB:()=>nh,aC:()=>_o,aD:()=>ps,aE:()=>Xn,aI:()=>Wn,aL:()=>Yo,aa:()=>al,ab:()=>lu,ac:()=>rs,af:()=>ur,ag:()=>Gp,ah:()=>Jp,ak:()=>es,al:()=>Ia,an:()=>pu,ao:()=>gu,ap:()=>tu,aq:()=>st,ar:()=>yt,as:()=>Fr,at:()=>Tn,au:()=>Cl,av:()=>Pc,aw:()=>_n,ax:()=>Oe,ay:()=>on,az:()=>Ai,b:()=>po,c:()=>ae,d:()=>Ot,e:()=>We,f:()=>bm,g:()=>Am,h:()=>th,i:()=>vu,j:()=>Im,k:()=>hf,l:()=>gl,m:()=>yo,o:()=>Ct,r:()=>Xd,s:()=>wm,u:()=>Tu});var e=P(5861),L=P(2090),M=P(9681);function fe(y,p){var m={};for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&p.indexOf(C)<0&&(m[C]=y[C]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var D=0;for(C=Object.getOwnPropertySymbols(y);D<C.length;D++)p.indexOf(C[D])<0&&Object.prototype.propertyIsEnumerable.call(y,C[D])&&(m[C[D]]=y[C[D]])}return m}var ye=P(1877),le=P(4859);const Ct={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ye={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Cn=function bn(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},rn=function jn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$n=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Un=new ye.Yd("@firebase/auth");function ui(y,...p){Un.logLevel<=ye.in.ERROR&&Un.error(`Auth (${M.SDK_VERSION}): ${y}`,...p)}function Tn(y,...p){throw zr(y,...p)}function _n(y,...p){return zr(y,...p)}function Eo(y,p,m){const C=Object.assign(Object.assign({},rn()),{[p]:m});return new L.LL("auth","Firebase",C).create(p,{appName:y.name})}function vr(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Tn(y,"argument-error"),Eo(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zr(y,...p){if("string"!=typeof y){const m=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(m,...C)}return $n.create(y,...p)}function Oe(y,p,...m){if(!y)throw zr(p,...m)}function sr(y){const p="INTERNAL ASSERTION FAILED: "+y;throw ui(p),new Error(p)}function st(y,p){y||sr(p)}const Cr=new Map;function on(y){st(y instanceof Function,"Expected a class definition");let p=Cr.get(y);return p?(st(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,Cr.set(y,p),p)}function Or(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Gn(){return"http:"===En()||"https:"===En()}function En(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class jt{constructor(p,m){this.shortDelay=p,this.longDelay=m,st(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function Dr(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Gn()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qe(y,p){st(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class _t{static initialize(p,m,C){this.fetchImpl=p,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const so={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ar=new jt(3e4,6e4);function at(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function sn(y,p,m,C){return qn.apply(this,arguments)}function qn(){return(qn=(0,e.Z)(function*(y,p,m,C,D={}){return On(y,D,(0,e.Z)(function*(){let k={},$={};C&&("GET"===p?$=C:k={body:JSON.stringify(C)});const me=(0,L.xO)(Object.assign({key:y.config.apiKey},$)).slice(1),ze=yield y._getAdditionalHeaders();return ze["Content-Type"]="application/json",y.languageCode&&(ze["X-Firebase-Locale"]=y.languageCode),_t.fetch()(j(y,y.config.apiHost,m,me),Object.assign({method:p,headers:ze,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function On(y,p,m){return tn.apply(this,arguments)}function tn(){return(tn=(0,e.Z)(function*(y,p,m){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},so),p);try{const D=new F(y),k=yield Promise.race([m(),D.promise]);D.clearNetworkTimeout();const $=yield k.json();if("needConfirmation"in $)throw J(y,"account-exists-with-different-credential",$);if(k.ok&&!("errorMessage"in $))return $;{const me=k.ok?$.errorMessage:$.error.message,[ze,Le]=me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ze)throw J(y,"credential-already-in-use",$);if("EMAIL_EXISTS"===ze)throw J(y,"email-already-in-use",$);if("USER_DISABLED"===ze)throw J(y,"user-disabled",$);const Tt=C[ze]||ze.toLowerCase().replace(/[_\s]+/g,"-");if(Le)throw Eo(y,Tt,Le);Tn(y,Tt)}}catch(D){if(D instanceof L.ZR)throw D;Tn(y,"network-request-failed")}})).apply(this,arguments)}function Dn(y,p,m,C){return B.apply(this,arguments)}function B(){return(B=(0,e.Z)(function*(y,p,m,C,D={}){const k=yield sn(y,p,m,C,D);return"mfaPendingCredential"in k&&Tn(y,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function j(y,p,m,C){const D=`${p}${m}?${C}`;return y.config.emulator?Qe(y.config,D):`${y.config.apiScheme}://${D}`}class F{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(_n(this.auth,"network-request-failed")),ar.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function J(y,p,m){const C={appName:y.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const D=_n(y,p,C);return D.customData._tokenResponse=m,D}function Ne(){return(Ne=(0,e.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Xe(y,p){return vt.apply(this,arguments)}function vt(){return(vt=(0,e.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function hn(y,p){return an.apply(this,arguments)}function an(){return(an=(0,e.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function fr(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function V(){return(V=(0,e.Z)(function*(y,p=!1){const m=(0,L.m9)(y),C=yield m.getIdToken(p),D=Ve(C);Oe(D&&D.exp&&D.auth_time&&D.iat,m.auth,"internal-error");const k="object"==typeof D.firebase?D.firebase:void 0,$=null==k?void 0:k.sign_in_provider;return{claims:D,token:C,authTime:fr(Ce(D.auth_time)),issuedAtTime:fr(Ce(D.iat)),expirationTime:fr(Ce(D.exp)),signInProvider:$||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Ce(y){return 1e3*Number(y)}function Ve(y){var p;const[m,C,D]=y.split(".");if(void 0===m||void 0===C||void 0===D)return ui("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,L.tV)(C);return k?JSON.parse(k):(ui("Failed to decode base64 JWT payload"),null)}catch(k){return ui("Caught error parsing JWT payload as JSON",null===(p=k)||void 0===p?void 0:p.toString()),null}}function At(y,p){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,e.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(C){throw C instanceof L.ZR&&An(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function An({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Rn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const D=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,e.Z)(function*(){yield m.iteration()}),C)}iteration(){var p=this;return(0,e.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(m=C)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class wn{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=fr(this.lastLoginAt),this.creationTime=fr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vt(y){return kn.apply(this,arguments)}function kn(){return(kn=(0,e.Z)(function*(y){var p;const m=y.auth,C=yield y.getIdToken(),D=yield At(y,hn(m,{idToken:C}));Oe(null==D?void 0:D.users.length,m,"internal-error");const k=D.users[0];y._notifyReloadListener(k);const $=null!==(p=k.providerUserInfo)&&void 0!==p&&p.length?Rr(k.providerUserInfo):[],me=yn(y.providerData,$),Tt=!!y.isAnonymous&&!(y.email&&k.passwordHash||null!=me&&me.length),gn={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:me,metadata:new wn(k.createdAt,k.lastLoginAt),isAnonymous:Tt};Object.assign(y,gn)})).apply(this,arguments)}function kt(){return(kt=(0,e.Z)(function*(y){const p=(0,L.m9)(y);yield Vt(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function yn(y,p){return[...y.filter(C=>!p.some(D=>D.providerId===C.providerId)),...p]}function Rr(y){return y.map(p=>{var{providerId:m}=p,C=fe(p,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Jn(){return(Jn=(0,e.Z)(function*(y,p){const m=yield On(y,{},(0,e.Z)(function*(){const C=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:D,apiKey:k}=y.config,$=j(y,D,"/v1/token",`key=${k}`),me=yield y._getAdditionalHeaders();return me["Content-Type"]="application/x-www-form-urlencoded",_t.fetch()($,{method:"POST",headers:me,body:C})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Qr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Oe(p.idToken,"internal-error"),Oe(void 0!==p.idToken,"internal-error"),Oe(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function xt(y){const p=Ve(y);return Oe(p,"internal-error"),Oe(void 0!==p.exp,"internal-error"),Oe(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var C=this;return(0,e.Z)(function*(){return Oe(!C.accessToken||C.refreshToken,p,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var C=this;return(0,e.Z)(function*(){const{accessToken:D,refreshToken:k,expiresIn:$}=yield function zo(y,p){return Jn.apply(this,arguments)}(p,m);C.updateTokensAndExpiration(D,k,Number($))})()}updateTokensAndExpiration(p,m,C){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,m){const{refreshToken:C,accessToken:D,expirationTime:k}=m,$=new Qr;return C&&(Oe("string"==typeof C,"internal-error",{appName:p}),$.refreshToken=C),D&&(Oe("string"==typeof D,"internal-error",{appName:p}),$.accessToken=D),k&&(Oe("number"==typeof k,"internal-error",{appName:p}),$.expirationTime=k),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Qr,this.toJSON())}_performRefresh(){return sr("not implemented")}}function pn(y,p){Oe("string"==typeof y||void 0===y,"internal-error",{appName:p})}class Kr{constructor(p){var{uid:m,auth:C,stsTokenManager:D}=p,k=fe(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new wn(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,e.Z)(function*(){const C=yield At(m,m.stsTokenManager.getToken(m.auth,p));return Oe(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(p){return function q(y){return V.apply(this,arguments)}(this,p)}reload(){return function et(y){return kt.apply(this,arguments)}(this)}_assign(p){this!==p&&(Oe(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Kr(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var C=this;return(0,e.Z)(function*(){let D=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),D=!0),m&&(yield Vt(C)),yield C.auth._persistUserIfCurrent(C),D&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,e.Z)(function*(){const m=yield p.getIdToken();return yield At(p,function Q(y,p){return Ne.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var C,D,k,$,me,ze,Le,Tt;const gn=null!==(C=m.displayName)&&void 0!==C?C:void 0,In=null!==(D=m.email)&&void 0!==D?D:void 0,ei=null!==(k=m.phoneNumber)&&void 0!==k?k:void 0,ms=null!==($=m.photoURL)&&void 0!==$?$:void 0,Oc=null!==(me=m.tenantId)&&void 0!==me?me:void 0,hh=null!==(ze=m._redirectEventId)&&void 0!==ze?ze:void 0,Rm=null!==(Le=m.createdAt)&&void 0!==Le?Le:void 0,Ra=null!==(Tt=m.lastLoginAt)&&void 0!==Tt?Tt:void 0,{uid:Rc,emailVerified:gf,isAnonymous:mf,providerData:Tl,stsTokenManager:_f}=m;Oe(Rc&&_f,p,"internal-error");const ph=Qr.fromJSON(this.name,_f);Oe("string"==typeof Rc,p,"internal-error"),pn(gn,p.name),pn(In,p.name),Oe("boolean"==typeof gf,p,"internal-error"),Oe("boolean"==typeof mf,p,"internal-error"),pn(ei,p.name),pn(ms,p.name),pn(Oc,p.name),pn(hh,p.name),pn(Rm,p.name),pn(Ra,p.name);const wl=new Kr({uid:Rc,auth:p,email:In,emailVerified:gf,displayName:gn,isAnonymous:mf,photoURL:ms,phoneNumber:ei,tenantId:Oc,stsTokenManager:ph,createdAt:Rm,lastLoginAt:Ra});return Tl&&Array.isArray(Tl)&&(wl.providerData=Tl.map(yf=>Object.assign({},yf))),hh&&(wl._redirectEventId=hh),wl}static _fromIdTokenResponse(p,m,C=!1){return(0,e.Z)(function*(){const D=new Qr;D.updateFromServerResponse(m);const k=new Kr({uid:m.localId,auth:p,stsTokenManager:D,isAnonymous:C});return yield Vt(k),k})()}}const Zt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,e.Z)(function*(){return!0})()}_set(m,C){var D=this;return(0,e.Z)(function*(){D.storage[m]=C})()}_get(m){var C=this;return(0,e.Z)(function*(){const D=C.storage[m];return void 0===D?null:D})()}_remove(m){var C=this;return(0,e.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return y.type="NONE",y})();function Ai(y,p,m){return`firebase:${y}:${p}:${m}`}class li{constructor(p,m,C){this.persistence=p,this.auth=m,this.userKey=C;const{config:D,name:k}=this.auth;this.fullUserKey=Ai(this.userKey,D.apiKey,k),this.fullPersistenceKey=Ai("persistence",D.apiKey,k),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,e.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Kr._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,e.Z)(function*(){if(m.persistence===p)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,C="authUser"){return(0,e.Z)(function*(){if(!m.length)return new li(on(Zt),p,C);const D=(yield Promise.all(m.map(function(){var Le=(0,e.Z)(function*(Tt){if(yield Tt._isAvailable())return Tt});return function(Tt){return Le.apply(this,arguments)}}()))).filter(Le=>Le);let k=D[0]||on(Zt);const $=Ai(C,p.config.apiKey,p.name);let me=null;for(const Le of m)try{const Tt=yield Le._get($);if(Tt){const gn=Kr._fromJSON(p,Tt);Le!==k&&(me=gn),k=Le;break}}catch(Tt){}const ze=D.filter(Le=>Le._shouldAllowMigration);return k._shouldAllowMigration&&ze.length?(k=ze[0],me&&(yield k._set($,me.toJSON())),yield Promise.all(m.map(function(){var Le=(0,e.Z)(function*(Tt){if(Tt!==k)try{yield Tt._remove($)}catch(gn){}});return function(Tt){return Le.apply(this,arguments)}}())),new li(k,p,C)):new li(k,p,C)})()}}function gr(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Do(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Qo(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ri(p))return"Blackberry";if(uc(p))return"Webos";if(Yn(p))return"Safari";if((p.includes("chrome/")||Lr(p))&&!p.includes("edge/"))return"Chrome";if(Fr(p))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function Qo(y=(0,L.z$)()){return/firefox\//i.test(y)}function Yn(y=(0,L.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Lr(y=(0,L.z$)()){return/crios\//i.test(y)}function Do(y=(0,L.z$)()){return/iemobile/i.test(y)}function Fr(y=(0,L.z$)()){return/android/i.test(y)}function Ri(y=(0,L.z$)()){return/blackberry/i.test(y)}function uc(y=(0,L.z$)()){return/webos/i.test(y)}function yt(y=(0,L.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function tu(y=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}function qr(y=(0,L.z$)()){return yt(y)||Fr(y)||uc(y)||Ri(y)||/windows phone/i.test(y)||Do(y)}function Es(y,p=[]){let m;switch(y){case"Browser":m=gr((0,L.z$)());break;case"Worker":m=`${gr((0,L.z$)())}-${y}`;break;default:m=y}const C=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${M.SDK_VERSION}/${C}`}class ga{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const C=k=>new Promise(($,me)=>{try{$(p(k))}catch(ze){me(ze)}});C.onAbort=m,this.queue.push(C);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,e.Z)(function*(){var C;if(m.auth.currentUser===p)return;const D=[];try{for(const k of m.queue)yield k(p),k.onAbort&&D.push(k.onAbort)}catch(k){D.reverse();for(const $ of D)try{$()}catch(me){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=k)||void 0===C?void 0:C.message})}})()}}class Li{constructor(p,m,C){this.app=p,this.heartbeatServiceProvider=m,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _m(this),this.idTokenSubscription=new _m(this),this.beforeStateQueue=new ga(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$n,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(p,m){var C=this;return m&&(this._popupRedirectResolver=on(m)),this._initializationPromise=this.queue((0,e.Z)(function*(){var D,k;if(!C._deleted&&(C.persistenceManager=yield li.create(C,p),!C._deleted)){if(null!==(D=C._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch($){}yield C.initializeCurrentUser(m),C.lastNotifiedUid=(null===(k=C.currentUser)||void 0===k?void 0:k.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,e.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,e.Z)(function*(){var C;const D=yield m.assertedPersistence.getCurrentUser();let k=D,$=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const me=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,ze=null==k?void 0:k._redirectEventId,Le=yield m.tryRedirectSignIn(p);(!me||me===ze)&&(null==Le?void 0:Le.user)&&(k=Le.user,$=!0)}if(!k)return m.directlySetCurrentUser(null);if(!k._redirectEventId){if($)try{yield m.beforeStateQueue.runMiddleware(k)}catch(me){k=D,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(me))}return k?m.reloadAndSetCurrentUserOrClear(k):m.directlySetCurrentUser(null)}return Oe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===k._redirectEventId?m.directlySetCurrentUser(k):m.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(p){var m=this;return(0,e.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(D){yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,e.Z)(function*(){var C;try{yield Vt(p)}catch(D){if("auth/network-request-failed"!==(null===(C=D)||void 0===C?void 0:C.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function As(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,e.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,e.Z)(function*(){const C=p?(0,L.m9)(p):null;return C&&Oe(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(p,m=!1){var C=this;return(0,e.Z)(function*(){if(!C._deleted)return p&&Oe(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),m||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,e.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,e.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,e.Z)(function*(){yield m.assertedPersistence.setPersistence(on(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,m,C){return this.registerStateListener(this.authStateSubscription,p,m,C)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,C){return this.registerStateListener(this.idTokenSubscription,p,m,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var C=this;return(0,e.Z)(function*(){const D=yield C.getOrInitRedirectPersistenceManager(m);return null===p?D.removeCurrentUser():D.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,e.Z)(function*(){if(!m.redirectPersistenceManager){const C=p&&on(p)||m._popupRedirectResolver;Oe(C,m,"argument-error"),m.redirectPersistenceManager=yield li.create(m,[on(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,e.Z)(function*(){var C,D;return m._isInitialized&&(yield m.queue((0,e.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===p?m._currentUser:(null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,e.Z)(function*(){if(p===m.currentUser)return m.queue((0,e.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,C,D){if(this._deleted)return()=>{};const k="function"==typeof m?m:m.next.bind(m),$=this._isInitialized?Promise.resolve():this._initializationPromise;return Oe($,this,"internal-error"),$.then(()=>k(this.currentUser)),"function"==typeof m?p.addObserver(m,C,D):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,e.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Es(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,e.Z)(function*(){var m;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const D=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return D&&(C["X-Firebase-Client"]=D),C})()}}function Xn(y){return(0,L.m9)(y)}class _m{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function lc(y,p,m){const C=Xn(y);Oe(C._canInitEmulator,C,"emulator-config-failed"),Oe(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const D=!(null==m||!m.disableWarnings),k=cc(p),{host:$,port:me}=function Vp(y){const p=cc(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(C);if(D){const k=D[1];return{host:k,port:Rd(C.substr(k.length+1))}}{const[k,$]=C.split(":");return{host:k,port:Rd($)}}}(p);C.config.emulator={url:`${k}//${$}${null===me?"":`:${me}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:$,port:me,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function ym(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}function cc(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Rd(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Sr{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return sr("not implemented")}_getIdTokenResponse(p){return sr("not implemented")}_linkToIdToken(p,m){return sr("not implemented")}_getReauthenticationResolver(p){return sr("not implemented")}}function Ld(y,p){return dc.apply(this,arguments)}function dc(){return(dc=(0,e.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:resetPassword",at(y,p))})).apply(this,arguments)}function Fd(y,p){return hc.apply(this,arguments)}function hc(){return(hc=(0,e.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Wu(y,p){return So.apply(this,arguments)}function So(){return(So=(0,e.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:update",at(y,p))})).apply(this,arguments)}function pc(){return(pc=(0,e.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithPassword",at(y,p))})).apply(this,arguments)}function zu(y,p){return fc.apply(this,arguments)}function fc(){return(fc=(0,e.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:sendOobCode",at(y,p))})).apply(this,arguments)}function gc(y,p){return ma.apply(this,arguments)}function ma(){return(ma=(0,e.Z)(function*(y,p){return zu(y,p)})).apply(this,arguments)}function vm(y,p){return nu.apply(this,arguments)}function nu(){return(nu=(0,e.Z)(function*(y,p){return zu(y,p)})).apply(this,arguments)}function jp(y,p){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,e.Z)(function*(y,p){return zu(y,p)})).apply(this,arguments)}function qd(y,p){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,e.Z)(function*(y,p){return zu(y,p)})).apply(this,arguments)}function Ku(){return(Ku=(0,e.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithEmailLink",at(y,p))})).apply(this,arguments)}function Ss(){return(Ss=(0,e.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithEmailLink",at(y,p))})).apply(this,arguments)}class xo extends Sr{constructor(p,m,C,D=null){super("password",C),this._email=p,this._password=m,this._tenantId=D}static _fromEmailAndPassword(p,m){return new xo(p,m,"password")}static _fromEmailAndCode(p,m,C=null){return new xo(p,m,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,e.Z)(function*(){switch(m.signInMethod){case"password":return function Bp(y,p){return pc.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Qu(y,p){return Ku.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Tn(p,"internal-error")}})()}_linkToIdToken(p,m){var C=this;return(0,e.Z)(function*(){switch(C.signInMethod){case"password":return Fd(p,{idToken:m,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function mc(y,p){return Ss.apply(this,arguments)}(p,{idToken:m,email:C._email,oobCode:C._password});default:Tn(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ao(y,p){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,e.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithIdp",at(y,p))})).apply(this,arguments)}class ln extends Sr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new ln(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Tn("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:D}=m,k=fe(m,["providerId","signInMethod"]);if(!C||!D)return null;const $=new ln(C,D);return $.idToken=k.idToken||void 0,$.accessToken=k.accessToken||void 0,$.secret=k.secret,$.nonce=k.nonce,$.pendingToken=k.pendingToken||null,$}_getIdTokenResponse(p){return ao(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,ao(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ao(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,L.xO)(m)}return p}}function Xu(y,p){return _a.apply(this,arguments)}function _a(){return(_a=(0,e.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:sendVerificationCode",at(y,p))})).apply(this,arguments)}function tl(){return(tl=(0,e.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithPhoneNumber",at(y,p))})).apply(this,arguments)}function Ln(){return(Ln=(0,e.Z)(function*(y,p){const m=yield Dn(y,"POST","/v1/accounts:signInWithPhoneNumber",at(y,p));if(m.temporaryProof)throw J(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const $p={USER_NOT_FOUND:"user-not-found"};function xs(){return(xs=(0,e.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithPhoneNumber",at(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),$p)})).apply(this,arguments)}class Zn extends Sr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Zn({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Zn({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function el(y,p){return tl.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Vd(y,p){return Ln.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Cm(y,p){return xs.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:C,verificationCode:D}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:C,code:D}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:C,phoneNumber:D,temporaryProof:k}=p;return C||m||D||k?new Zn({verificationId:m,verificationCode:C,phoneNumber:D,temporaryProof:k}):null}}class Fi{constructor(p){var m,C,D,k,$,me;const ze=(0,L.zd)((0,L.pd)(p)),Le=null!==(m=ze.apiKey)&&void 0!==m?m:null,Tt=null!==(C=ze.oobCode)&&void 0!==C?C:null,gn=function ru(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=ze.mode)&&void 0!==D?D:null);Oe(Le&&Tt&&gn,"argument-error"),this.apiKey=Le,this.operation=gn,this.code=Tt,this.continueUrl=null!==(k=ze.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==($=ze.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(me=ze.tenantId)&&void 0!==me?me:null}static parseLink(p){const m=function ya(y){const p=(0,L.zd)((0,L.pd)(y)).link,m=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,C=(0,L.zd)((0,L.pd)(y)).deep_link_id;return(C?(0,L.zd)((0,L.pd)(C)).link:null)||C||m||p||y}(p);try{return new Fi(m)}catch(C){return null}}}let ks=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,C){return xo._fromEmailAndPassword(m,C)}static credentialWithLink(m,C){const D=Fi.parseLink(C);return Oe(D,"argument-error"),xo._fromEmailAndCode(m,D.code,D.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class kr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class qi extends kr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Vr extends qi{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Oe("providerId"in m&&"signInMethod"in m,"argument-error"),ln._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Oe(p.idToken||p.accessToken,"argument-error"),ln._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Vr.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Vr.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:D,pendingToken:k,nonce:$,providerId:me}=p;if(!C&&!D&&!m&&!k||!me)return null;try{return new Vr(me)._credential({idToken:m,accessToken:C,nonce:$,pendingToken:k})}catch(ze){return null}}}let Ko=(()=>{class y extends qi{constructor(){super("facebook.com")}static credential(m){return ln._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(C){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),nl=(()=>{class y extends qi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return ln._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:D}=m;if(!C&&!D)return null;try{return y.credential(C,D)}catch(k){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ht=(()=>{class y extends qi{constructor(){super("github.com")}static credential(m){return ln._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(C){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Yo extends Sr{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return ao(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,ao(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ao(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:D,pendingToken:k}=m;return C&&D&&k&&C===D?new Yo(C,k):null}static _create(p,m){return new Yo(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Zs extends kr{constructor(p){Oe(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Zs.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Zs.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Yo.fromJSON(p);return Oe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:C}=p;if(!m||!C)return null;try{return Yo._create(C,m)}catch(D){return null}}}let va=(()=>{class y extends qi{constructor(){super("twitter.com")}static credential(m,C){return ln._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:D}=m;if(!C||!D)return null;try{return y.credential(C,D)}catch(k){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Zo(y,p){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,e.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signUp",at(y,p))})).apply(this,arguments)}class Zr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,C,D=!1){return(0,e.Z)(function*(){const k=yield Kr._fromIdTokenResponse(p,C,D),$=Se(C);return new Zr({user:k,providerId:$,_tokenResponse:C,operationType:m})})()}static _forOperation(p,m,C){return(0,e.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const D=Se(C);return new Zr({user:p,providerId:D,_tokenResponse:C,operationType:m})})()}}function Se(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Ht(y){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,e.Z)(function*(y){var p;const m=Xn(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Zr({user:m.currentUser,providerId:null,operationType:"signIn"});const C=yield Zo(m,{returnSecureToken:!0}),D=yield Zr._fromIdTokenResponse(m,"signIn",C,!0);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class Xo extends L.ZR{constructor(p,m,C,D){var k;super(m.code,m.message),this.operationType=C,this.user=D,Object.setPrototypeOf(this,Xo.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,m,C,D){return new Xo(p,m,C,D)}}function Fn(y,p,m,C){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Xo._fromErrorAndOperation(y,k,p,C):k})}function Ca(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function es(y,p){return ci.apply(this,arguments)}function ci(){return(ci=(0,e.Z)(function*(y,p){const m=(0,L.m9)(y);yield No(!0,m,p);const{providerUserInfo:C}=yield Xe(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),D=Ca(C||[]);return m.providerData=m.providerData.filter(k=>D.has(k.providerId)),D.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function ts(y,p){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,e.Z)(function*(y,p,m=!1){const C=yield At(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return Zr._forOperation(y,"link",C)})).apply(this,arguments)}function No(y,p,m){return iu.apply(this,arguments)}function iu(){return(iu=(0,e.Z)(function*(y,p,m){yield Vt(p);const D=!1===y?"provider-already-linked":"no-such-provider";Oe(Ca(p.providerData).has(m)===y,p.auth,D)})).apply(this,arguments)}function yc(y,p){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,e.Z)(function*(y,p,m=!1){var C;const{auth:D}=y,k="reauthenticate";try{const $=yield At(y,Fn(D,k,p,y),m);Oe($.idToken,D,"internal-error");const me=Ve($.idToken);Oe(me,D,"internal-error");const{sub:ze}=me;return Oe(y.uid===ze,D,"user-mismatch"),Zr._forOperation(y,k,$)}catch($){throw"auth/user-not-found"===(null===(C=$)||void 0===C?void 0:C.code)&&Tn(D,"user-mismatch"),$}})).apply(this,arguments)}function er(y,p){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,e.Z)(function*(y,p,m=!1){const C="signIn",D=yield Fn(y,C,p),k=yield Zr._fromIdTokenResponse(y,C,D);return m||(yield y._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Us(y,p){return uo.apply(this,arguments)}function uo(){return(uo=(0,e.Z)(function*(y,p){return er(Xn(y),p)})).apply(this,arguments)}function Vi(y,p){return ou.apply(this,arguments)}function ou(){return(ou=(0,e.Z)(function*(y,p){const m=(0,L.m9)(y);return yield No(!1,m,p.providerId),ts(m,p)})).apply(this,arguments)}function rl(y,p){return Os.apply(this,arguments)}function Os(){return(Os=(0,e.Z)(function*(y,p){return yc((0,L.m9)(y),p)})).apply(this,arguments)}function jd(y,p){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,e.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithCustomToken",at(y,p))})).apply(this,arguments)}function Ls(y,p){return su.apply(this,arguments)}function su(){return(su=(0,e.Z)(function*(y,p){const m=Xn(y),C=yield jd(m,{token:p,returnSecureToken:!0}),D=yield Zr._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class Po{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?il._fromServerResponse(p,m):Tn(p,"internal-error")}}class il extends Po{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new il(m)}}function lo(y,p,m){var C;Oe((null===(C=m.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),Oe(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Oe(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Oe(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function ol(y,p,m){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y),D={requestType:"PASSWORD_RESET",email:p};m&&lo(C,D,m),yield vm(C,D)})).apply(this,arguments)}function vc(y,p,m){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,e.Z)(function*(y,p,m){yield Ld((0,L.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Cc(y,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,e.Z)(function*(y,p){yield Wu((0,L.m9)(y),{oobCode:p})})).apply(this,arguments)}function au(y,p){return wa.apply(this,arguments)}function wa(){return(wa=(0,e.Z)(function*(y,p){const m=(0,L.m9)(y),C=yield Ld(m,{oobCode:p}),D=C.requestType;switch(Oe(D,m,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Oe(C.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Oe(C.mfaInfo,m,"internal-error");default:Oe(C.email,m,"internal-error")}let k=null;return C.mfaInfo&&(k=Po._fromServerResponse(Xn(m),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:k},operation:D}})).apply(this,arguments)}function mr(y,p){return Di.apply(this,arguments)}function Di(){return(Di=(0,e.Z)(function*(y,p){const{data:m}=yield au((0,L.m9)(y),p);return m.email})).apply(this,arguments)}function Vn(y,p,m){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,e.Z)(function*(y,p,m){const C=Xn(y),D=yield Zo(C,{returnSecureToken:!0,email:p,password:m}),k=yield Zr._fromIdTokenResponse(C,"signIn",D);return yield C._updateCurrentUser(k.user),k})).apply(this,arguments)}function wc(y,p,m){return Us((0,L.m9)(y),ks.credential(p,m))}function bc(y,p,m){return sl.apply(this,arguments)}function sl(){return(sl=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y),D={requestType:"EMAIL_SIGNIN",email:p};Oe(m.handleCodeInApp,C,"argument-error"),m&&lo(C,D,m),yield jp(C,D)})).apply(this,arguments)}function uu(y,p){const m=Fi.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function $d(y,p,m){return ba.apply(this,arguments)}function ba(){return(ba=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y),D=ks.credentialWithLink(p,m||Or());return Oe(D._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Us(C,D)})).apply(this,arguments)}function Ac(y,p){return ns.apply(this,arguments)}function ns(){return(ns=(0,e.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:createAuthUri",at(y,p))})).apply(this,arguments)}function al(y,p){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,e.Z)(function*(y,p){const C={identifier:p,continueUri:Gn()?Or():"http://localhost"},{signinMethods:D}=yield Ac((0,L.m9)(y),C);return D||[]})).apply(this,arguments)}function lu(y,p){return ji.apply(this,arguments)}function ji(){return(ji=(0,e.Z)(function*(y,p){const m=(0,L.m9)(y),D={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&lo(m.auth,D,p);const{email:k}=yield gc(m.auth,D);k!==y.email&&(yield y.reload())})).apply(this,arguments)}function rs(y,p,m){return cu.apply(this,arguments)}function cu(){return(cu=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&lo(C.auth,k,m);const{email:$}=yield qd(C.auth,k);$!==y.email&&(yield y.reload())})).apply(this,arguments)}function Hp(y,p){return is.apply(this,arguments)}function is(){return(is=(0,e.Z)(function*(y,p){return sn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ur(y,p){return du.apply(this,arguments)}function du(){return(du=(0,e.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const C=(0,L.m9)(y),k={idToken:yield C.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},$=yield At(C,Hp(C.auth,k));C.displayName=$.displayName||null,C.photoURL=$.photoUrl||null;const me=C.providerData.find(({providerId:ze})=>"password"===ze);me&&(me.displayName=C.displayName,me.photoURL=C.photoURL),yield C._updateTokensIfNecessary($)})).apply(this,arguments)}function Gp(y,p){return Wp((0,L.m9)(y),p,null)}function Jp(y,p){return Wp((0,L.m9)(y),null,p)}function Wp(y,p,m){return os.apply(this,arguments)}function os(){return(os=(0,e.Z)(function*(y,p,m){const{auth:C}=y,k={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(k.email=p),m&&(k.password=m);const $=yield At(y,Fd(C,k));yield y._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class co{constructor(p,m,C={}){this.isNewUser=p,this.providerId=m,this.profile=C}}class hu extends co{constructor(p,m,C,D){super(p,m,C),this.username=D}}class Gd extends co{constructor(p,m){super(p,"facebook.com",m)}}class Jd extends hu{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Aa extends co{constructor(p,m){super(p,"google.com",m)}}class di extends hu{constructor(p,m,C){super(p,"twitter.com",m,C)}}function Ia(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Hd(y){var p,m;if(!y)return null;const{providerId:C}=y,D=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},k=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&(null==y?void 0:y.idToken)){const $=null===(m=null===(p=Ve(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if($)return new co(k,"anonymous"!==$&&"custom"!==$?$:null)}if(!C)return null;switch(C){case"facebook.com":return new Gd(k,D);case"github.com":return new Jd(k,D);case"google.com":return new Aa(k,D);case"twitter.com":return new di(k,D,y.screenName||null);case"custom":case"anonymous":return new co(k,null);default:return new co(k,C,D)}}(m)}class Si{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Si("enroll",p)}static _fromMfaPendingCredential(p){return new Si("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,C;if(null!=p&&p.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Si._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return Si._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Vs{constructor(p,m,C){this.session=p,this.hints=m,this.signInResolver=C}static _fromError(p,m){const C=Xn(p),D=m.customData._serverResponse,k=(D.mfaInfo||[]).map(me=>Po._fromServerResponse(C,me));Oe(D.mfaPendingCredential,C,"internal-error");const $=Si._fromMfaPendingCredential(D.mfaPendingCredential);return new Vs($,k,function(){var me=(0,e.Z)(function*(ze){const Le=yield ze._process(C,$);delete D.mfaInfo,delete D.mfaPendingCredential;const Tt=Object.assign(Object.assign({},D),{idToken:Le.idToken,refreshToken:Le.refreshToken});switch(m.operationType){case"signIn":const gn=yield Zr._fromIdTokenResponse(C,m.operationType,Tt);return yield C._updateCurrentUser(gn.user),gn;case"reauthenticate":return Oe(m.user,C,"internal-error"),Zr._forOperation(m.user,m.operationType,Tt);default:Tn(C,"internal-error")}});return function(ze){return me.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,e.Z)(function*(){return m.signInResolver(p)})()}}function pu(y,p){var m;const C=(0,L.m9)(y),D=p;return Oe(p.customData.operationType,C,"argument-error"),Oe(null===(m=D.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),Vs._fromError(C,D)}function ss(y,p){return sn(y,"POST","/v2/accounts/mfaEnrollment:start",at(y,p))}class se{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>Po._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new se(p)}getSession(){var p=this;return(0,e.Z)(function*(){return Si._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var C=this;return(0,e.Z)(function*(){const D=p,k=yield C.getSession(),$=yield At(C.user,D._process(C.user.auth,k,m));return yield C.user._updateTokensIfNecessary($),C.user.reload()})()}unenroll(p){var m=this;return(0,e.Z)(function*(){var C;const D="string"==typeof p?p:p.uid,k=yield m.user.getIdToken(),$=yield At(m.user,function _r(y,p){return sn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",at(y,p))}(m.user.auth,{idToken:k,mfaEnrollmentId:D}));m.enrolledFactors=m.enrolledFactors.filter(({uid:me})=>me!==D),yield m.user._updateTokensIfNecessary($);try{yield m.user.reload()}catch(me){if("auth/user-token-expired"!==(null===(C=me)||void 0===C?void 0:C.code))throw me}})()}}const fu=new WeakMap;function gu(y){const p=(0,L.m9)(y);return fu.has(p)||fu.set(p,se._fromUser(p)),fu.get(p)}const Ea="__sak";class Ro{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ea,"1"),this.storage.removeItem(Ea),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const po=(()=>{class y extends Ro{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,C)=>this.onStorageEvent(m,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Da(){const y=(0,L.z$)();return Yn(y)||yt(y)}()&&function Ju(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=qr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const D=this.storage.getItem(C),k=this.localCache[C];D!==k&&m(C,k,D)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((me,ze,Le)=>{this.notifyListeners(me,Le)});const D=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const me=this.storage.getItem(D);if(m.newValue!==me)null!==m.newValue?this.storage.setItem(D,m.newValue):this.storage.removeItem(D);else if(this.localCache[D]===m.newValue&&!C)return}const k=()=>{const me=this.storage.getItem(D);!C&&this.localCache[D]===me||this.notifyListeners(D,me)},$=this.storage.getItem(D);!function Pt(){return(0,L.w1)()&&10===document.documentMode}()||$===m.newValue||m.newValue===m.oldValue?k():setTimeout(k,10)}notifyListeners(m,C){this.localCache[m]=C;const D=this.listeners[m];if(D)for(const k of Array.from(D))k(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var D=()=>super._set,k=this;return(0,e.Z)(function*(){yield D().call(k,m,C),k.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,D=this;return(0,e.Z)(function*(){const k=yield C().call(D,m);return D.localCache[m]=JSON.stringify(k),k})()}_remove(m){var C=()=>super._remove,D=this;return(0,e.Z)(function*(){yield C().call(D,m),delete D.localCache[m]})()}}return y.type="LOCAL",y})(),Sa=(()=>{class y extends Ro{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return y.type="SESSION",y})();let ll=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(k=>k.isListeningto(m));if(C)return C;const D=new y(m);return this.receivers.push(D),D}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,e.Z)(function*(){const D=m,{eventId:k,eventType:$,data:me}=D.data,ze=C.handlersMap[$];if(null==ze||!ze.size)return;D.ports[0].postMessage({status:"ack",eventId:k,eventType:$});const Le=Array.from(ze).map(function(){var gn=(0,e.Z)(function*(In){return In(D.origin,me)});return function(In){return gn.apply(this,arguments)}}()),Tt=yield function ul(y){return Promise.all(y.map(function(){var p=(0,e.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return p.apply(this,arguments)}}()))}(Le);D.ports[0].postMessage({status:"done",eventId:k,eventType:$,response:Tt})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Wn(y="",p=10){let m="";for(let C=0;C<p;C++)m+=Math.floor(10*Math.random());return y+m}class xa{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,C=50){var D=this;return(0,e.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let $,me;return new Promise((ze,Le)=>{const Tt=Wn("",20);k.port1.start();const gn=setTimeout(()=>{Le(new Error("unsupported_event"))},C);me={messageChannel:k,onMessage(In){const ei=In;if(ei.data.eventId===Tt)switch(ei.data.status){case"ack":clearTimeout(gn),$=setTimeout(()=>{Le(new Error("timeout"))},3e3);break;case"done":clearTimeout($),ze(ei.data.response);break;default:clearTimeout(gn),clearTimeout($),Le(new Error("invalid_response"))}}},D.handlers.add(me),k.port1.addEventListener("message",me.onMessage),D.target.postMessage({eventType:p,eventId:Tt,data:m},[k.port2])}).finally(()=>{me&&D.removeMessageHandler(me)})})()}}function un(){return window}function Nn(){return void 0!==un().WorkerGlobalScope&&"function"==typeof un().importScripts}function Fo(){return(Fo=(0,e.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const xi="firebaseLocalStorageDb",_u="firebaseLocalStorage",xc="fbase_key";class ka{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function cl(y,p){return y.transaction([_u],p?"readwrite":"readonly").objectStore(_u)}function Za(){const y=indexedDB.open(xi,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(_u,{keyPath:xc})}catch(D){m(D)}}),y.addEventListener("success",(0,e.Z)(function*(){const C=y.result;C.objectStoreNames.contains(_u)?p(C):(C.close(),yield function zd(){const y=indexedDB.deleteDatabase(xi);return new ka(y).toPromise()}(),p(yield Za()))}))})}function yu(y,p,m){return as.apply(this,arguments)}function as(){return(as=(0,e.Z)(function*(y,p,m){const C=cl(y,!0).put({[xc]:p,value:m});return new ka(C).toPromise()})).apply(this,arguments)}function kc(){return(kc=(0,e.Z)(function*(y,p){const m=cl(y,!1).get(p),C=yield new ka(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function tr(y,p){const m=cl(y,!0).delete(p);return new ka(m).toPromise()}const vu=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,e.Z)(function*(){return m.db||(m.db=yield Za()),m.db})()}_withRetries(m){var C=this;return(0,e.Z)(function*(){let D=0;for(;;)try{const k=yield C._openDb();return yield m(k)}catch(k){if(D++>3)throw k;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,e.Z)(function*(){return Nn()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,e.Z)(function*(){m.receiver=ll._getInstance(function Sc(){return Nn()?self:null}()),m.receiver._subscribe("keyChanged",function(){var C=(0,e.Z)(function*(D,k){return{keyProcessed:(yield m._poll()).includes(k.key)}});return function(D,k){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,e.Z)(function*(D,k){return["keyChanged"]});return function(D,k){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,e.Z)(function*(){var C,D;if(m.activeServiceWorker=yield function $i(){return Fo.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new xa(m.activeServiceWorker);const k=yield m.sender._send("ping",{},800);!k||(null===(C=k[0])||void 0===C?void 0:C.fulfilled)&&(null===(D=k[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,e.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Yr(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,e.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Za();return yield yu(m,Ea,"1"),yield tr(m,Ea),!0}catch(m){}return!1})()}_withPendingWrite(m){var C=this;return(0,e.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var D=this;return(0,e.Z)(function*(){return D._withPendingWrite((0,e.Z)(function*(){return yield D._withRetries(k=>yu(k,m,C)),D.localCache[m]=C,D.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,e.Z)(function*(){const D=yield C._withRetries(k=>function Kp(y,p){return kc.apply(this,arguments)}(k,m));return C.localCache[m]=D,D})()}_remove(m){var C=this;return(0,e.Z)(function*(){return C._withPendingWrite((0,e.Z)(function*(){return yield C._withRetries(D=>tr(D,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,e.Z)(function*(){const C=yield m._withRetries($=>{const me=cl($,!1).getAll();return new ka(me).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const D=[],k=new Set;for(const{fbase_key:$,value:me}of C)k.add($),JSON.stringify(m.localCache[$])!==JSON.stringify(me)&&(m.notifyListeners($,me),D.push($));for(const $ of Object.keys(m.localCache))m.localCache[$]&&!k.has($)&&(m.notifyListeners($,null),D.push($));return D})()}notifyListeners(m,C){this.localCache[m]=C;const D=this.listeners[m];if(D)for(const k of Array.from(D))k(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,e.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function wr(y,p){return sn(y,"POST","/v2/accounts/mfaSignIn:start",at(y,p))}function us(){return(us=(0,e.Z)(function*(y){return(yield sn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function js(y){return new Promise((p,m)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=p,C.onerror=D=>{const k=_n("internal-error");k.customData=D,m(k)},C.type="text/javascript",C.charset="UTF-8",function ls(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(C)})}function pl(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Gi=1e12;class br{constructor(p){this.auth=p,this.counter=Gi,this._widgets=new Map}render(p,m){const C=this.counter;return this._widgets.set(C,new jr(p,this.auth.name,m||{})),this.counter++,C}reset(p){var m;const C=p||Gi;null===(m=this._widgets.get(C))||void 0===m||m.delete(),this._widgets.delete(C)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Gi))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,e.Z)(function*(){var C;return null===(C=m._widgets.get(p||Gi))||void 0===C||C.execute(),""})()}}class jr{constructor(p,m,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof p?document.getElementById(p):p;Oe(D,"argument-error",{appName:m}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Zc(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<y;C++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fo=pl("rcb"),lr=new jt(3e4,6e4);class Na{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=un().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return Oe(function $s(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(un().grecaptcha):new Promise((C,D)=>{const k=un().setTimeout(()=>{D(_n(p,"network-request-failed"))},lr.get());un()[fo]=()=>{un().clearTimeout(k),delete un()[fo];const me=un().grecaptcha;if(!me)return void D(_n(p,"internal-error"));const ze=me.render;me.render=(Le,Tt)=>{const gn=ze(Le,Tt);return this.counter++,gn},this.hostLanguage=m,C(me)},js(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:fo,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(k),D(_n(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=un().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fl{load(p){return(0,e.Z)(function*(){return new br(p)})()}clearedOneInstance(){}}const Hs="recaptcha",Xp={theme:"light",type:"image"};class Tm{constructor(p,m=Object.assign({},Xp),C){this.parameters=m,this.type=Hs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xn(C),this.isInvisible="invisible"===this.parameters.size,Oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof p?document.getElementById(p):p;Oe(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fl:new Na,this.validateStartingState()}verify(){var p=this;return(0,e.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(m)||new Promise(k=>{const $=me=>{!me||(p.tokenChangeListeners.delete($),k(me))};p.tokenChangeListeners.add($),p.isInvisible&&C.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Oe(!this.parameters.sitekey,this.auth,"argument-error"),Oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(C=>C(m)),"function"==typeof p)p(m);else if("string"==typeof p){const C=un()[p];"function"==typeof C&&C(m)}}}assertNotDestroyed(){Oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,e.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const C=document.createElement("div");m.appendChild(C),m=C}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,e.Z)(function*(){Oe(Gn()&&!Nn(),p.auth,"internal-error"),yield function Yd(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function hl(y){return us.apply(this,arguments)}(p.auth);Oe(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ma{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Zn._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function wm(y,p,m){return ki.apply(this,arguments)}function ki(){return(ki=(0,e.Z)(function*(y,p,m){const C=Xn(y),D=yield Cu(C,p,(0,L.m9)(m));return new Ma(D,k=>Us(C,k))})).apply(this,arguments)}function gl(y,p,m){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y);yield No(!1,C,"phone");const D=yield Cu(C.auth,p,(0,L.m9)(m));return new Ma(D,k=>Vi(C,k))})).apply(this,arguments)}function Xd(y,p,m){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y),D=yield Cu(C.auth,p,(0,L.m9)(m));return new Ma(D,k=>rl(C,k))})).apply(this,arguments)}function Cu(y,p,m){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,e.Z)(function*(y,p,m){var C;const D=yield m.verify();try{let k;if(Oe("string"==typeof D,y,"argument-error"),Oe(m.type===Hs,y,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const $=k.session;if("phoneNumber"in k)return Oe("enroll"===$.type,y,"internal-error"),(yield ss(y,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{Oe("signin"===$.type,y,"internal-error");const me=(null===(C=k.multiFactorHint)||void 0===C?void 0:C.uid)||k.multiFactorUid;return Oe(me,y,"missing-multi-factor-info"),(yield wr(y,{mfaPendingCredential:$.credential,mfaEnrollmentId:me,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield Xu(y,{phoneNumber:k.phoneNumber,recaptchaToken:D});return $}}finally{m._reset()}})).apply(this,arguments)}function Tu(y,p){return go.apply(this,arguments)}function go(){return(go=(0,e.Z)(function*(y,p){yield ts((0,L.m9)(y),p)})).apply(this,arguments)}let Gs=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Xn(m)}verifyPhoneNumber(m,C){return Cu(this.auth,m,(0,L.m9)(C))}static credential(m,C){return Zn._fromVerification(m,C)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:D}=m;return C&&D?Zn._fromTokenResponse(C,D):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function fn(y,p){return p?on(p):(Oe(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class mo extends Sr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ao(p,this._buildIdpRequest())}_linkToIdToken(p,m){return ao(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return ao(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Ua(y){return er(y.auth,new mo(y),y.bypassAuthState)}function A(y){const{auth:p,user:m}=y;return Oe(m,p,"internal-error"),yc(m,new mo(y),y.bypassAuthState)}function I(y){return Z.apply(this,arguments)}function Z(){return(Z=(0,e.Z)(function*(y){const{auth:p,user:m}=y;return Oe(m,p,"internal-error"),ts(m,new mo(y),y.bypassAuthState)})).apply(this,arguments)}class O{constructor(p,m,C,D,k=!1){this.auth=p,this.resolver=C,this.user=D,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,e.Z)(function*(C,D){p.pendingPromise={resolve:C,reject:D};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(C,D){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,e.Z)(function*(){const{urlResponse:C,sessionId:D,postBody:k,tenantId:$,error:me,type:ze}=p;if(me)return void m.reject(me);const Le={auth:m.auth,requestUri:C,sessionId:D,tenantId:$||void 0,postBody:k||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(ze)(Le))}catch(Tt){m.reject(Tt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ua;case"linkViaPopup":case"linkViaRedirect":return I;case"reauthViaPopup":case"reauthViaRedirect":return A;default:Tn(this.auth,"internal-error")}}resolve(p){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const K=new jt(2e3,1e4);function ae(y,p,m){return xe.apply(this,arguments)}function xe(){return(xe=(0,e.Z)(function*(y,p,m){const C=Xn(y);vr(y,p,kr);const D=fn(C,m);return new mt(C,"signInViaPopup",p,D).executeNotNull()})).apply(this,arguments)}function We(y,p,m){return ut.apply(this,arguments)}function ut(){return(ut=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y);vr(C.auth,p,kr);const D=fn(C.auth,m);return new mt(C.auth,"reauthViaPopup",p,D,C).executeNotNull()})).apply(this,arguments)}function Ot(y,p,m){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y);vr(C.auth,p,kr);const D=fn(C.auth,m);return new mt(C.auth,"linkViaPopup",p,D,C).executeNotNull()})).apply(this,arguments)}let mt=(()=>{class y extends O{constructor(m,C,D,k,$){super(m,C,k,$),this.provider=D,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,e.Z)(function*(){const C=yield m.execute();return Oe(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,e.Z)(function*(){st(1===m.filter.length,"Popup operations only handle one event");const C=Wn();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(D=>{m.reject(D)}),m.resolver._isIframeWebStorageSupported(m.auth,D=>{D||m.reject(_n(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,D;this.pollId=null!==(D=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,K.get())};m()}}return y.currentPopupAction=null,y})();const Hn=new Map;class qo extends O{constructor(p,m,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,e.Z)(function*(){let C=Hn.get(m.auth._key());if(!C){try{const k=(yield function Vo(y,p){return Ar.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;C=()=>Promise.resolve(k)}catch(D){C=()=>Promise.reject(D)}Hn.set(m.auth._key(),C)}return m.bypassAuthState||Hn.set(m.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,C=this;return(0,e.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(C,p);if("unknown"!==p.type){if(p.eventId){const D=yield C.auth._redirectUserForId(p.eventId);if(D)return C.user=D,m().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,e.Z)(function*(){})()}cleanUp(){}}function Ar(){return(Ar=(0,e.Z)(function*(y,p){const m=ml(p),C=fs(y);if(!(yield C._isAvailable()))return!1;const D="true"===(yield C._get(m));return yield C._remove(m),D})).apply(this,arguments)}function ds(y,p){return hs.apply(this,arguments)}function hs(){return(hs=(0,e.Z)(function*(y,p){return fs(y)._set(ml(p),"true")})).apply(this,arguments)}function ps(){Hn.clear()}function _o(y,p){Hn.set(y._key(),p)}function fs(y){return on(y._redirectPersistence)}function ml(y){return Ai("pendingRedirect",y.config.apiKey,y.name)}function bm(y,p,m){return function ef(y,p,m){return eh.apply(this,arguments)}(y,p,m)}function eh(){return(eh=(0,e.Z)(function*(y,p,m){const C=Xn(y);vr(y,p,kr);const D=fn(C,m);return yield ds(D,C),D._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function th(y,p,m){return function tf(y,p,m){return Nc.apply(this,arguments)}(y,p,m)}function Nc(){return(Nc=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y);vr(C.auth,p,kr);const D=fn(C.auth,m);yield ds(D,C.auth);const k=yield _l(C);return D._openRedirect(C.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function Am(y,p,m){return function nf(y,p,m){return Mc.apply(this,arguments)}(y,p,m)}function Mc(){return(Mc=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y);vr(C.auth,p,kr);const D=fn(C.auth,m);yield No(!1,C,p.providerId),yield ds(D,C.auth);const k=yield _l(C);return D._openRedirect(C.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function Im(y,p){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,e.Z)(function*(y,p){return yield Xn(y)._initializationPromise,nh(y,p,!1)})).apply(this,arguments)}function nh(y,p){return rh.apply(this,arguments)}function rh(){return(rh=(0,e.Z)(function*(y,p,m=!1){const C=Xn(y),D=fn(C,p),$=yield new qo(C,D,m).execute();return $&&!m&&(delete $.user._redirectEventId,yield C._persistUserIfCurrent($.user),yield C._setRedirectUser(null,p)),$})).apply(this,arguments)}function _l(y){return gs.apply(this,arguments)}function gs(){return(gs=(0,e.Z)(function*(y){const p=Wn(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class ih{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(m=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function sh(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zi(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var C;if(p.error&&!zi(p)){const D=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(_n(this.auth,D))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const C=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oh(p))}saveEventToCache(p){this.cachedEventUids.add(oh(p)),this.lastProcessedEventTime=Date.now()}}function oh(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function zi({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Pc(y){return yl.apply(this,arguments)}function yl(){return(yl=(0,e.Z)(function*(y,p={}){return sn(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Em=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dm=/^https?/;function rf(){return(rf=(0,e.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Pc(y);for(const m of p)try{if(xm(m))return}catch(C){}Tn(y,"unauthorized-domain")})).apply(this,arguments)}function xm(y){const p=Or(),{protocol:m,hostname:C}=new URL(p);if(y.startsWith("chrome-extension://")){const $=new URL(y);return""===$.hostname&&""===C?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&$.hostname===C}if(!Dm.test(m))return!1;if(Em.test(y))return C===y;const D=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(C)}const sf=new jt(3e4,6e4);function af(){const y=un().___jsl;if(null!=y&&y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Mn=null;function Ws(y){return Mn=Mn||function uf(y){return new Promise((p,m)=>{var C,D,k;function $(){af(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{af(),m(_n(y,"network-request-failed"))},timeout:sf.get()})}if(null!==(D=null===(C=un().gapi)||void 0===C?void 0:C.iframes)&&void 0!==D&&D.Iframe)p(gapi.iframes.getContext());else{if(null===(k=un().gapi)||void 0===k||!k.load){const me=pl("iframefcb");return un()[me]=()=>{gapi.load?$():m(_n(y,"network-request-failed"))},js(`https://apis.google.com/js/api.js?onload=${me}`).catch(ze=>m(ze))}$()}}).catch(p=>{throw Mn=null,p})}(y),Mn}const km=new jt(5e3,15e3),Yw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s0(y){const p=y.config;Oe(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Qe(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:y.name,v:M.SDK_VERSION},D=Nm.get(y.config.apiHost);D&&(C.eid=D);const k=y._getFrameworks();return k.length&&(C.fw=k.join(",")),`${m}?${(0,L.xO)(C).slice(1)}`}function uh(){return uh=(0,e.Z)(function*(y){const p=yield Ws(y),m=un().gapi;return Oe(m,y,"internal-error"),p.open({where:document.body,url:s0(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yw,dontclear:!0},C=>new Promise(function(){var D=(0,e.Z)(function*(k,$){yield C.restyle({setHideOnLeave:!1});const me=_n(y,"network-request-failed"),ze=un().setTimeout(()=>{$(me)},km.get());function Le(){un().clearTimeout(ze),k(C)}C.ping(Le).then(Le,()=>{$(me)})});return function(k,$){return D.apply(this,arguments)}}()))}),uh.apply(this,arguments)}const lf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bo{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Cl(y,p,m,C,D,k){Oe(y.config.authDomain,y,"auth-domain-config-required"),Oe(y.config.apiKey,y,"invalid-api-key");const $={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:C,v:M.SDK_VERSION,eventId:D};if(p instanceof kr){p.setDefaultLanguage(y.languageCode),$.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||($.customParameters=JSON.stringify(p.getCustomParameters()));for(const[ze,Le]of Object.entries(k||{}))$[ze]=Le}if(p instanceof qi){const ze=p.getScopes().filter(Le=>""!==Le);ze.length>0&&($.scopes=ze.join(","))}y.tenantId&&($.tid=y.tenantId);const me=$;for(const ze of Object.keys(me))void 0===me[ze]&&delete me[ze];return`${function df({config:y}){return y.emulator?Qe(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,L.xO)(me).slice(1)}`}const wu="webStorageSupport",hf=class a0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sa,this._completeRedirectFn=nh,this._overrideRedirectResult=_o}_openPopup(p,m,C,D){var k=this;return(0,e.Z)(function*(){var $;st(null===($=k.eventManagers[p._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const me=Cl(p,m,C,Or(),D);return function cf(y,p,m,C=500,D=600){const k=Math.max((window.screen.availHeight-D)/2,0).toString(),$=Math.max((window.screen.availWidth-C)/2,0).toString();let me="";const ze=Object.assign(Object.assign({},lf),{width:C.toString(),height:D.toString(),top:k,left:$}),Le=(0,L.z$)().toLowerCase();m&&(me=Lr(Le)?"_blank":m),Qo(Le)&&(p=p||"http://localhost",ze.scrollbars="yes");const Tt=Object.entries(ze).reduce((In,[ei,ms])=>`${In}${ei}=${ms},`,"");if(function Od(y=(0,L.z$)()){var p;return yt(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Le)&&"_self"!==me)return function Qi(y,p){const m=document.createElement("a");m.href=y,m.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(p||"",me),new Bo(null);const gn=window.open(p||"",me,Tt);Oe(gn,y,"popup-blocked");try{gn.focus()}catch(In){}return new Bo(gn)}(p,me,Wn())})()}_openRedirect(p,m,C,D){var k=this;return(0,e.Z)(function*(){return yield k._originValidation(p),function Nr(y){un().location.href=y}(Cl(p,m,C,Or(),D)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:D,promise:k}=this.eventManagers[m];return D?Promise.resolve(D):(st(k,"If manager is not set, promise should be"),k)}const C=this.initAndGetManager(p);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}initAndGetManager(p){var m=this;return(0,e.Z)(function*(){const C=yield function ah(y){return uh.apply(this,arguments)}(p),D=new ih(p);return C.register("authEvent",k=>(Oe(null==k?void 0:k.authEvent,p,"invalid-auth-event"),{status:D.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:D},m.iframes[p._key()]=C,D})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(wu,{type:wu},D=>{var k;const $=null===(k=null==D?void 0:D[0])||void 0===k?void 0:k[wu];void 0!==$&&m(!!$),Tn(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Sm(y){return rf.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return qr()||Yn()||yt()}};class Xr extends class ch{constructor(p){this.factorId=p}_process(p,m,C){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,C);case"signin":return this._finalizeSignIn(p,m.credential);default:return sr("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Xr(p)}_finalizeEnroll(p,m,C){return function Oo(y,p){return sn(y,"POST","/v2/accounts/mfaEnrollment:finalize",at(y,p))}(p,{idToken:m,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Hi(y,p){return sn(y,"POST","/v2/accounts/mfaSignIn:finalize",at(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yo=(()=>{class y{constructor(){}static assertion(m){return Xr._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Om="@firebase/auth";class ff{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,e.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(C=>{var D;p((null===(D=C)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function dh(y){(0,M._registerComponent)(new le.wA("auth",(p,{options:m})=>{const C=p.getProvider("app").getImmediate(),D=p.getProvider("heartbeat"),{apiKey:k,authDomain:$}=C.options;return((me,ze)=>{Oe(k&&!k.includes(":"),"invalid-api-key",{appName:me.name}),Oe(!(null!=$&&$.includes(":")),"argument-error",{appName:me.name});const Le={apiKey:k,authDomain:$,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Es(y)},Tt=new Li(me,ze,Le);return function Tr(y,p){const m=(null==p?void 0:p.persistence)||[],C=(Array.isArray(m)?m:[m]).map(on);null!=p&&p.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(C,null==p?void 0:p.popupRedirectResolver)}(Tt,m),Tt})(C,D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,C)=>{p.getProvider("auth-internal").initialize()})),(0,M._registerComponent)(new le.wA("auth-internal",p=>{const m=Xn(p.getProvider("auth").getImmediate());return new ff(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,M.registerVersion)(Om,"0.20.5",function u0(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,M.registerVersion)(Om,"0.20.5","esm2017")}("Browser")},2090:(rt,be,P)=>{P.d(be,{$s:()=>qn,BH:()=>$e,G6:()=>Je,L:()=>de,LL:()=>le,Mn:()=>Ee,Sg:()=>Me,UG:()=>Te,US:()=>ge,ZB:()=>H,ZR:()=>ye,b$:()=>dt,d:()=>He,eu:()=>De,hl:()=>we,jU:()=>_e,m9:()=>Dn,ne:()=>st,pd:()=>Oe,r3:()=>$n,ru:()=>it,tV:()=>ve,uI:()=>ot,vZ:()=>Tn,w1:()=>ke,xO:()=>vr,xb:()=>Un,z$:()=>Ae,zI:()=>Y,zd:()=>zr});const re=function(B){const j=[];let F=0;for(let J=0;J<B.length;J++){let Q=B.charCodeAt(J);Q<128?j[F++]=Q:Q<2048?(j[F++]=Q>>6|192,j[F++]=63&Q|128):55296==(64512&Q)&&J+1<B.length&&56320==(64512&B.charCodeAt(J+1))?(Q=65536+((1023&Q)<<10)+(1023&B.charCodeAt(++J)),j[F++]=Q>>18|240,j[F++]=Q>>12&63|128,j[F++]=Q>>6&63|128,j[F++]=63&Q|128):(j[F++]=Q>>12|224,j[F++]=Q>>6&63|128,j[F++]=63&Q|128)}return j},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,j){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,J=[];for(let Q=0;Q<B.length;Q+=3){const Ne=B[Q],Xe=Q+1<B.length,vt=Xe?B[Q+1]:0,hn=Q+2<B.length,an=hn?B[Q+2]:0;let q=(15&vt)<<2|an>>6,V=63&an;hn||(V=64,Xe||(q=64)),J.push(F[Ne>>2],F[(3&Ne)<<4|vt>>4],F[q],F[V])}return J.join("")},encodeString(B,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(B):this.encodeByteArray(re(B),j)},decodeString(B,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(B):function(B){const j=[];let F=0,J=0;for(;F<B.length;){const Q=B[F++];if(Q<128)j[J++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const Ne=B[F++];j[J++]=String.fromCharCode((31&Q)<<6|63&Ne)}else if(Q>239&&Q<365){const hn=((7&Q)<<18|(63&B[F++])<<12|(63&B[F++])<<6|63&B[F++])-65536;j[J++]=String.fromCharCode(55296+(hn>>10)),j[J++]=String.fromCharCode(56320+(1023&hn))}else{const Ne=B[F++],Xe=B[F++];j[J++]=String.fromCharCode((15&Q)<<12|(63&Ne)<<6|63&Xe)}}return j.join("")}(this.decodeStringToByteArray(B,j))},decodeStringToByteArray(B,j){this.init_();const F=j?this.charToByteMapWebSafe_:this.charToByteMap_,J=[];for(let Q=0;Q<B.length;){const Ne=F[B.charAt(Q++)],vt=Q<B.length?F[B.charAt(Q)]:0;++Q;const an=Q<B.length?F[B.charAt(Q)]:64;++Q;const ee=Q<B.length?F[B.charAt(Q)]:64;if(++Q,null==Ne||null==vt||null==an||null==ee)throw Error();J.push(Ne<<2|vt>>4),64!==an&&(J.push(vt<<4&240|an>>2),64!==ee&&J.push(an<<6&192|ee))}return J},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},de=function(B){return function(B){const j=re(B);return ge.encodeByteArray(j,!0)}(B).replace(/\./g,"")},ve=function(B){try{return ge.decodeString(B,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function H(B,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return j}for(const F in j)!j.hasOwnProperty(F)||!X(F)||(B[F]=H(B[F],j[F]));return B}function X(B){return"__proto__"!==B}class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,F)=>{this.resolve=j,this.reject=F})}wrapCallback(j){return(F,J)=>{F?this.reject(F):this.resolve(J),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(F):j(F,J))}}}function Me(B,j){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const J=j||"demo-project",Q=B.iat||0,Ne=B.sub||B.user_id;if(!Ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Xe=Object.assign({iss:`https://securetoken.google.com/${J}`,aud:J,iat:Q,exp:Q+3600,auth_time:Q,sub:Ne,user_id:Ne,firebase:{sign_in_provider:"custom",identities:{}}},B);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Xe)),""].join(".")}function Ae(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ot(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function Te(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function _e(){return"object"==typeof self&&self.self===self}function it(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function He(){return Ae().indexOf("Electron/")>=0}function ke(){const B=Ae();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Ee(){return Ae().indexOf("MSAppHost/")>=0}function Je(){return!Te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function we(){return"object"==typeof indexedDB}function De(){return new Promise((B,j)=>{try{let F=!0;const J="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(J);Q.onsuccess=()=>{Q.result.close(),F||self.indexedDB.deleteDatabase(J),B(!0)},Q.onupgradeneeded=()=>{F=!1},Q.onerror=()=>{var Ne;j((null===(Ne=Q.error)||void 0===Ne?void 0:Ne.message)||"")}}catch(F){j(F)}})}function Y(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ye extends Error{constructor(j,F,J){super(F),this.code=j,this.customData=J,this.name="FirebaseError",Object.setPrototypeOf(this,ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,le.prototype.create)}}class le{constructor(j,F,J){this.service=j,this.serviceName=F,this.errors=J}create(j,...F){const J=F[0]||{},Q=`${this.service}/${j}`,Ne=this.errors[j],Xe=Ne?function qe(B,j){return B.replace(Ct,(F,J)=>{const Q=j[J];return null!=Q?String(Q):`<${J}?>`})}(Ne,J):"Error";return new ye(Q,`${this.serviceName}: ${Xe} (${Q}).`,J)}}const Ct=/\{\$([^}]+)}/g;function $n(B,j){return Object.prototype.hasOwnProperty.call(B,j)}function Un(B){for(const j in B)if(Object.prototype.hasOwnProperty.call(B,j))return!1;return!0}function Tn(B,j){if(B===j)return!0;const F=Object.keys(B),J=Object.keys(j);for(const Q of F){if(!J.includes(Q))return!1;const Ne=B[Q],Xe=j[Q];if(_n(Ne)&&_n(Xe)){if(!Tn(Ne,Xe))return!1}else if(Ne!==Xe)return!1}for(const Q of J)if(!F.includes(Q))return!1;return!0}function _n(B){return null!==B&&"object"==typeof B}function vr(B){const j=[];for(const[F,J]of Object.entries(B))Array.isArray(J)?J.forEach(Q=>{j.push(encodeURIComponent(F)+"="+encodeURIComponent(Q))}):j.push(encodeURIComponent(F)+"="+encodeURIComponent(J));return j.length?"&"+j.join("&"):""}function zr(B){const j={};return B.replace(/^\?/,"").split("&").forEach(J=>{if(J){const[Q,Ne]=J.split("=");j[decodeURIComponent(Q)]=decodeURIComponent(Ne)}}),j}function Oe(B){const j=B.indexOf("?");if(!j)return"";const F=B.indexOf("#",j);return B.substring(j,F>0?F:void 0)}function st(B,j){const F=new Cr(B,j);return F.subscribe.bind(F)}class Cr{constructor(j,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{j(this)}).catch(J=>{this.error(J)})}next(j){this.forEachObserver(F=>{F.next(j)})}error(j){this.forEachObserver(F=>{F.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,F,J){let Q;if(void 0===j&&void 0===F&&void 0===J)throw new Error("Missing Observer.");Q=function zt(B,j){if("object"!=typeof B||null===B)return!1;for(const F of j)if(F in B&&"function"==typeof B[F])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:F,complete:J},void 0===Q.next&&(Q.next=Tr),void 0===Q.error&&(Q.error=Tr),void 0===Q.complete&&(Q.complete=Tr);const Ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(Xe){}}),this.observers.push(Q),Ne}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,j)}sendOne(j,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{F(this.observers[j])}catch(J){"undefined"!=typeof console&&console.error&&console.error(J)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tr(){}function qn(B,j=1e3,F=2){const J=j*Math.pow(F,B),Q=Math.round(.5*J*(Math.random()-.5)*2);return Math.min(144e5,J+Q)}function Dn(B){return B&&B._delegate?B._delegate:B}},6299:(rt,be,P)=>{var e=P(5e3);let L=null;function M(){return L}const fe=new e.OlP("DocumentToken");let de=(()=>{class r{historyGo(t){throw new Error("Not implemented")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(){return function ve(){return(0,e.LFG)(H)}()},providedIn:"platform"}),r})();const G=new e.OlP("Location Initialized");let H=(()=>{class r extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return M().getBaseHref(this._doc)}onPopState(t){const i=M().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=M().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,o){X()?this._history.pushState(t,i,o):this.location.hash=o}replaceState(t,i,o){X()?this._history.replaceState(t,i,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(fe))},r.\u0275prov=e.Yz7({token:r,factory:function(){return function $e(){return new H((0,e.LFG)(fe))}()},providedIn:"platform"}),r})();function X(){return!!window.history.pushState}function Me(r,n){if(0==r.length)return n;if(0==n.length)return r;let t=0;return r.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?r+n.substring(1):1==t?r+n:r+"/"+n}function Ae(r){const n=r.match(/#|\?|$/),t=n&&n.index||r.length;return r.slice(0,t-("/"===r[t-1]?1:0))+r.slice(t)}function ot(r){return r&&"?"!==r[0]?"?"+r:r}let Te=(()=>{class r{historyGo(t){throw new Error("Not implemented")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(){return function _e(){const r=(0,e.LFG)(fe).location;return new dt((0,e.LFG)(de),r&&r.origin||"")}()},providedIn:"root"}),r})();const it=new e.OlP("appBaseHref");let dt=(()=>{class r extends Te{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ot(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${i}${o}`:i}pushState(t,i,o,u){const d=this.prepareExternalUrl(o+ot(u));this._platformLocation.pushState(t,i,d)}replaceState(t,i,o,u){const d=this.prepareExternalUrl(o+ot(u));this._platformLocation.replaceState(t,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var i,o;null===(o=(i=this._platformLocation).historyGo)||void 0===o||o.call(i,t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(de),e.LFG(it,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),He=(()=>{class r extends Te{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Me(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,o,u){let d=this.prepareExternalUrl(o+ot(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,i,d)}replaceState(t,i,o,u){let d=this.prepareExternalUrl(o+ot(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var i,o;null===(o=(i=this._platformLocation).historyGo)||void 0===o||o.call(i,t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(de),e.LFG(it,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),ke=(()=>{class r{constructor(t){this._subject=new e.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Ae(Je(i)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){var t;null===(t=this._urlChangeSubscription)||void 0===t||t.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ot(i))}normalize(t){return r.stripTrailingSlash(function Ke(r,n){return r&&n.startsWith(r)?n.substring(r.length):n}(this._baseHref,Je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",o=null){this._locationStrategy.pushState(o,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ot(i)),o)}replaceState(t,i="",o=null){this._locationStrategy.replaceState(o,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ot(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){var i,o;null===(o=(i=this._locationStrategy).historyGo)||void 0===o||o.call(i,t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{var i;const o=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(null===(i=this._urlChangeSubscription)||void 0===i||i.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(o=>o(t,i))}subscribe(t,i,o){return this._subject.subscribe({next:t,error:i,complete:o})}}return r.normalizeQueryParams=ot,r.joinWithSlash=Me,r.stripTrailingSlash=Ae,r.\u0275fac=function(t){return new(t||r)(e.LFG(Te))},r.\u0275prov=e.Yz7({token:r,factory:function(){return function Ee(){return new ke((0,e.LFG)(Te))}()},providedIn:"root"}),r})();function Je(r){return r.replace(/\/index.html$/,"")}function Yn(r,n){n=encodeURIComponent(n);for(const t of r.split(";")){const i=t.indexOf("="),[o,u]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(o.trim()===n)return decodeURIComponent(u)}return null}let Lr=(()=>{class r{constructor(t,i,o,u){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=o,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,e.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,e.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),r})();class uc{constructor(n,t,i,o){this.$implicit=n,this.ngForOf=t,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yt=(()=>{class r{constructor(t,i,o){this._viewContainer=t,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((o,u,d)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new uc(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===u?void 0:u);else if(null!==u){const g=i.get(u);i.move(g,d),tu(g,o)}});for(let o=0,u=i.length;o<u;o++){const g=i.get(o).context;g.index=o,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{tu(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,i){return!0}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),r})();function tu(r,n){r.context.$implicit=n.item}let Pt=(()=>{class r{constructor(t,i){this._viewContainer=t,this._context=new qr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ju("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ju("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.s_b),e.Y36(e.Rgc))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),r})();class qr{constructor(){this.$implicit=null,this.ngIf=null}}function Ju(r,n){if(n&&!n.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,e.AaK)(n)}'.`)}let ko=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();function Vd(r){return"server"===r}let xs=(()=>{class r{}return r.\u0275prov=(0,e.Yz7)({token:r,providedIn:"root",factory:()=>new Zn((0,e.LFG)(fe),window)}),r})();class Zn{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function ya(r,n){const t=r.getElementById(n)||r.getElementsByName(n)[0];if(t)return t;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const i=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const u=o.shadowRoot;if(u){const d=u.getElementById(n)||u.querySelector(`[name="${n}"]`);if(d)return d}o=i.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),i=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(i-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=ru(this.window.history)||ru(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function ru(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class xr{}class kr extends class ks extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ue(r){L||(L=r)}(new kr)}onAndCancel(n,t,i){return n.addEventListener(t,i,!1),()=>{n.removeEventListener(t,i,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function Vr(){return qi=qi||document.querySelector("base"),qi?qi.getAttribute("href"):null}();return null==t?null:function nl(r){Ko=Ko||document.createElement("a"),Ko.setAttribute("href",r);const n=Ko.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){qi=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Yn(document.cookie,n)}}let Ko,qi=null;const ht=new e.OlP("TRANSITION_ID"),Yo=[{provide:e.ip1,useFactory:function _c(r,n,t){return()=>{t.get(e.CZH).donePromise.then(()=>{const i=M(),o=n.querySelectorAll(`style[ng-transition="${r}"]`);for(let u=0;u<o.length;u++)i.remove(o[u])})}},deps:[ht,fe,e.zs3],multi:!0}];let Zs=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const va=new e.OlP("EventManagerPlugins");let Zo=(()=>{class r{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,o){return this._findPluginFor(i).addEventListener(t,i,o)}addGlobalEventListener(t,i,o){return this._findPluginFor(i).addGlobalEventListener(t,i,o)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const o=this._plugins;for(let u=0;u<o.length;u++){const d=o[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(va),e.LFG(e.R0b))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Ns{constructor(n){this._doc=n}addGlobalEventListener(n,t,i){const o=M().getGlobalEventTarget(this._doc,n);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,i)}}let Zr=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),i.add(o))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),Se=(()=>{class r extends Zr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,o){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,o.push(i.appendChild(d))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Ht),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,o)=>{this._addStylesToHost(t,o,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ht))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(fe))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();function Ht(r){M().remove(r)}const Ms={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xo=/%COMP%/g;function No(r,n,t){for(let i=0;i<n.length;i++){let o=n[i];Array.isArray(o)?No(r,o,t):(o=o.replace(Xo,r),t.push(o))}return t}function iu(r){return n=>{if("__ngUnwrap__"===n)return r;!1===r(n)&&(n.preventDefault(),n.returnValue=!1)}}let Mo=(()=>{class r{constructor(t,i,o){this.eventManager=t,this.sharedStylesHost=i,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new er(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case e.ifc.Emulated:{let o=this.rendererByCompId.get(i.id);return o||(o=new Vi(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,o)),o.applyToHost(t),o}case 1:case e.ifc.ShadowDom:return new ou(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const o=No(i.id,i.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Zo),e.LFG(Se),e.LFG(e.AFp))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class er{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(Ms[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){(uo(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(uo(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,o){if(o){t=o+":"+t;const u=Ms[o];u?n.setAttributeNS(u,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){const o=Ms[i];o?n.removeAttributeNS(o,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,o){o&(e.JOm.DashCase|e.JOm.Important)?n.style.setProperty(t,i,o&e.JOm.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&e.JOm.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n[t]=i}setValue(n,t){n.nodeValue=t}listen(n,t,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,iu(i)):this.eventManager.addEventListener(n,t,iu(i))}}function uo(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class Vi extends er{constructor(n,t,i,o){super(n),this.component=i;const u=No(o+"-"+i.id,i.styles,[]);t.addStyles(u),this.contentAttr=function ts(r){return"_ngcontent-%COMP%".replace(Xo,r)}(o+"-"+i.id),this.hostAttr=function Ps(r){return"_nghost-%COMP%".replace(Xo,r)}(o+"-"+i.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,t){const i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}}class ou extends er{constructor(n,t,i,o){super(n),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=No(o.id,o.styles,[]);for(let d=0;d<u.length;d++){const g=document.createElement("style");g.textContent=u[d],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let rl=(()=>{class r extends Ns{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,o){return t.addEventListener(i,o,!1),()=>this.removeEventListener(t,i,o)}removeEventListener(t,i,o){return t.removeEventListener(i,o)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(fe))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Os=["alt","control","meta","shift"],Rs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ls={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},su={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let Po=(()=>{class r extends Ns{constructor(t){super(t)}supports(t){return null!=r.parseEventName(t)}addEventListener(t,i,o){const u=r.parseEventName(i),d=r.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>M().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const i=t.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const u=r._normalizeKey(i.pop());let d="";if(Os.forEach(v=>{const w=i.indexOf(v);w>-1&&(i.splice(w,1),d+=v+".")}),d+=u,0!=i.length||0===u.length)return null;const g={};return g.domEventName=o,g.fullKey=d,g}static getEventFullKey(t){let i="",o=function il(r){let n=r.key;if(null==n){if(n=r.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===r.location&&Ls.hasOwnProperty(n)&&(n=Ls[n]))}return Rs[n]||n}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Os.forEach(u=>{u!=o&&(0,su[u])(t)&&(i+=u+".")}),i+=o,i}static eventCallback(t,i,o){return u=>{r.getEventFullKey(u)===t&&o.runGuarded(()=>i(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(fe))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const au=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:"browser"},{provide:e.g9A,useValue:function vc(){kr.makeCurrent()},multi:!0},{provide:fe,useFactory:function Cc(){return(0,e.RDi)(document),document},deps:[]}]),wa=new e.OlP(""),mr=[{provide:e.rWj,useClass:class Bd{addToWindow(n){e.dqk.getAngularTestability=(i,o=!0)=>{const u=n.findTestabilityInTree(i,o);if(null==u)throw new Error("Could not find testability for element.");return u},e.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(i=>{const o=e.dqk.getAllAngularTestabilities();let u=o.length,d=!1;const g=function(v){d=d||v,u--,0==u&&i(d)};o.forEach(function(v){v.whenStable(g)})})}findTestabilityInTree(n,t,i){if(null==t)return null;const o=n.getTestability(t);return null!=o?o:i?M().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null}},deps:[]},{provide:e.lri,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]}],Di=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function Fs(){return new e.qLn},deps:[]},{provide:va,useClass:rl,multi:!0,deps:[fe,e.R0b,e.Lbi]},{provide:va,useClass:Po,multi:!0,deps:[fe]},{provide:Mo,useClass:Mo,deps:[Zo,Se,e.AFp]},{provide:e.FYo,useExisting:Mo},{provide:Zr,useExisting:Se},{provide:Se,useClass:Se,deps:[fe]},{provide:Zo,useClass:Zo,deps:[va,e.R0b]},{provide:xr,useClass:Zs,deps:[]},[]];let Vn=(()=>{class r{constructor(t){}static withServerTransition(t){return{ngModule:r,providers:[{provide:e.AFp,useValue:t.appId},{provide:ht,useExisting:e.AFp},Yo]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(wa,12))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[...Di,...mr],imports:[ko,e.hGG]}),r})(),uu=(()=>{class r{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(fe))},r.\u0275prov=e.Yz7({token:r,factory:function(t){let i=null;return i=t?new t:function sl(){return new uu((0,e.LFG)(fe))}(),i},providedIn:"root"}),r})();"undefined"!=typeof window&&window;var Sn=P(8996),Br=P(9751);const{isArray:ho}=Array,{getPrototypeOf:Ec,prototype:Uo,keys:Si}=Object;function Vs(r){if(1===r.length){const n=r[0];if(ho(n))return{args:n,keys:null};if(function pu(r){return r&&"object"==typeof r&&Ec(r)===Uo}(n)){const t=Si(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:r,keys:null}}var ss=P(8421),Oo=P(3269),_r=P(5403),se=P(4004);const{isArray:fu}=Array;function Ea(r){return(0,se.U)(n=>function gu(r,n){return fu(n)?r(...n):r(n)}(r,n))}function Ro(r,n){return r.reduce((t,i,o)=>(t[i]=n[o],t),{})}let mu=(()=>{class r{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Qsj),e.Y36(e.SBq))},r.\u0275dir=e.lG2({type:r}),r})(),Lo=(()=>{class r extends mu{}return r.\u0275fac=function(){let n;return function(i){return(n||(n=e.n5z(r)))(i||r)}}(),r.\u0275dir=e.lG2({type:r,features:[e.qOj]}),r})();const hi=new e.OlP("NgValueAccessor"),Sa={provide:hi,useExisting:(0,e.Gpc)(()=>Wn),multi:!0},ll=new e.OlP("CompositionEventMode");let Wn=(()=>{class r extends mu{constructor(t,i,o){super(t,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ul(){const r=M()?M().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(ll,8))},r.\u0275dir=e.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&e.NdJ("input",function(u){return i._handleInput(u.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(u){return i._compositionEnd(u.target.value)})},features:[e._Bn([Sa]),e.qOj]}),r})();function un(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}function Nr(r){return null!=r&&"number"==typeof r.length}const Nn=new e.OlP("NgValidators"),$i=new e.OlP("NgAsyncValidators"),Fo=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Yr{static min(n){return function Sc(r){return n=>{if(un(n.value)||un(r))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<r?{min:{min:r,actual:n.value}}:null}}(n)}static max(n){return function xi(r){return n=>{if(un(n.value)||un(r))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>r?{max:{max:r,actual:n.value}}:null}}(n)}static required(n){return function cn(r){return un(r.value)?{required:!0}:null}(n)}static requiredTrue(n){return function _u(r){return!0===r.value?null:{required:!0}}(n)}static email(n){return function xc(r){return un(r.value)||Fo.test(r.value)?null:{email:!0}}(n)}static minLength(n){return function ka(r){return n=>un(n.value)||!Nr(n.value)?null:n.value.length<r?{minlength:{requiredLength:r,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function cl(r){return n=>Nr(n.value)&&n.value.length>r?{maxlength:{requiredLength:r,actualLength:n.value.length}}:null}(n)}static pattern(n){return function zd(r){if(!r)return Za;let n,t;return"string"==typeof r?(t="","^"!==r.charAt(0)&&(t+="^"),t+=r,"$"!==r.charAt(r.length-1)&&(t+="$"),n=new RegExp(t)):(t=r.toString(),n=r),i=>{if(un(i.value))return null;const o=i.value;return n.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return Bs(n)}static composeAsync(n){return vu(n)}}function Za(r){return null}function yu(r){return null!=r}function as(r){return(0,e.QGY)(r)?(0,Sn.D)(r):r}function Kp(r){let n={};return r.forEach(t=>{n=null!=t?Object.assign(Object.assign({},n),t):n}),0===Object.keys(n).length?null:n}function kc(r,n){return n.map(t=>t(r))}function dl(r){return r.map(n=>function tr(r){return!r.validate}(n)?n:t=>n.validate(t))}function Bs(r){if(!r)return null;const n=r.filter(yu);return 0==n.length?null:function(t){return Kp(kc(t,n))}}function Yp(r){return null!=r?Bs(dl(r)):null}function vu(r){if(!r)return null;const n=r.filter(yu);return 0==n.length?null:function(t){return function Da(...r){const n=(0,Oo.jO)(r),{args:t,keys:i}=Vs(r),o=new Br.y(u=>{const{length:d}=t;if(!d)return void u.complete();const g=new Array(d);let v=d,w=d;for(let S=0;S<d;S++){let N=!1;(0,ss.Xf)(t[S]).subscribe((0,_r.x)(u,R=>{N||(N=!0,w--),g[S]=R},()=>v--,void 0,()=>{(!v||!N)&&(w||u.next(i?Ro(i,g):g),u.complete())}))}});return n?o.pipe(Ea(n)):o}(kc(t,n).map(as)).pipe((0,se.U)(Kp))}}function wr(r){return null!=r?vu(dl(r)):null}function Hi(r,n){return null===r?[n]:Array.isArray(r)?[...r,n]:[r,n]}function hl(r){return r._rawValidators}function us(r){return r._rawAsyncValidators}function ls(r){return r?Array.isArray(r)?r:[r]:[]}function js(r,n){return Array.isArray(r)?r.includes(n):r===n}function pl(r,n){const t=ls(n);return ls(r).forEach(o=>{js(t,o)||t.push(o)}),t}function Qd(r,n){return ls(n).filter(t=>!js(r,t))}class Kd{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Yp(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=wr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Gi extends Kd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class br extends Kd{get formDirective(){return null}get path(){return null}}class jr{constructor(n){this._cd=n}get isTouched(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.touched)}get isUntouched(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.untouched)}get isPristine(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.pristine)}get isDirty(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.dirty)}get isValid(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.valid)}get isInvalid(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.invalid)}get isPending(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.pending)}get isSubmitted(){var n;return!(null===(n=this._cd)||void 0===n||!n.submitted)}}let lr=(()=>{class r extends jr{constructor(t){super(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Gi,2))},r.\u0275dir=e.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&e.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[e.qOj]}),r})(),cs=(()=>{class r extends jr{constructor(t){super(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(br,10))},r.\u0275dir=e.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&e.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[e.qOj]}),r})();const Gs="VALID",fn="INVALID",mo="PENDING",Ua="DISABLED";function A(r){return(K(r)?r.validators:r)||null}function I(r){return Array.isArray(r)?Yp(r):r||null}function Z(r,n){return(K(n)?n.asyncValidators:r)||null}function O(r){return Array.isArray(r)?wr(r):r||null}function K(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}function ae(r,n,t){const i=r.controls;if(!(n?Object.keys(i):i).length)throw new e.vHH(1e3,"");if(!i[t])throw new e.vHH(1001,"")}function xe(r,n,t){r._forEachChild((i,o)=>{if(void 0===t[o])throw new e.vHH(1002,"")})}class We{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=t,this._composedValidatorFn=I(this._rawValidators),this._composedAsyncValidatorFn=O(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Gs}get invalid(){return this.status===fn}get pending(){return this.status==mo}get disabled(){return this.status===Ua}get enabled(){return this.status!==Ua}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=I(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=O(n)}addValidators(n){this.setValidators(pl(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(pl(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Qd(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Qd(n,this._rawAsyncValidators))}hasValidator(n){return js(this._rawValidators,n)}hasAsyncValidator(n){return js(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=mo,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Ua,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Gs,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gs||this.status===mo)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ua:Gs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=mo,this._hasOwnPendingAsyncValidator=!0;const t=as(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,o)=>i&&i._find(o),this)}getError(n,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?Ua:this.errors?fn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mo)?mo:this._anyControlsHaveStatus(fn)?fn:Gs}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){K(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}}class ut extends We{constructor(n,t,i){super(A(t),Z(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,i={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){xe(this,0,n),Object.keys(n).forEach(i=>{ae(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(i=>{const o=this.controls[i];o&&o.patchValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((i,o)=>{i.reset(n[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,i)=>(n[i]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&n(i,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&n(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,o)=>((i.enabled||this.disabled)&&(t[o]=i.value),t))}_reduceChildren(n,t){let i=n;return this._forEachChild((o,u)=>{i=t(i,o,u)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}function Hn(r,n){return[...n.path,r]}function qo(r,n){var t,i;hs(r,n),n.valueAccessor.writeValue(r.value),r.disabled&&(null===(i=(t=n.valueAccessor).setDisabledState)||void 0===i||i.call(t,!0)),function _o(r,n){n.valueAccessor.registerOnChange(t=>{r._pendingValue=t,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&ml(r,n)})}(r,n),function bm(r,n){const t=(i,o)=>{n.valueAccessor.writeValue(i),o&&n.viewToModelUpdate(i)};r.registerOnChange(t),n._registerOnDestroy(()=>{r._unregisterOnChange(t)})}(r,n),function fs(r,n){n.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&ml(r,n),"submit"!==r.updateOn&&r.markAsTouched()})}(r,n),function ds(r,n){if(n.valueAccessor.setDisabledState){const t=i=>{n.valueAccessor.setDisabledState(i)};r.registerOnDisabledChange(t),n._registerOnDestroy(()=>{r._unregisterOnDisabledChange(t)})}}(r,n)}function Vo(r,n,t=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),ps(r,n),r&&(n._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function Ar(r,n){r.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function hs(r,n){const t=hl(r);null!==n.validator?r.setValidators(Hi(t,n.validator)):"function"==typeof t&&r.setValidators([t]);const i=us(r);null!==n.asyncValidator?r.setAsyncValidators(Hi(i,n.asyncValidator)):"function"==typeof i&&r.setAsyncValidators([i]);const o=()=>r.updateValueAndValidity();Ar(n._rawValidators,o),Ar(n._rawAsyncValidators,o)}function ps(r,n){let t=!1;if(null!==r){if(null!==n.validator){const o=hl(r);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==n.validator);u.length!==o.length&&(t=!0,r.setValidators(u))}}if(null!==n.asyncValidator){const o=us(r);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==n.asyncValidator);u.length!==o.length&&(t=!0,r.setAsyncValidators(u))}}}const i=()=>{};return Ar(n._rawValidators,i),Ar(n._rawAsyncValidators,i),t}function ml(r,n){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function nf(r,n){if(!r.hasOwnProperty("model"))return!1;const t=r.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}function Oa(r,n){if(!n)return null;let t,i,o;return Array.isArray(n),n.forEach(u=>{u.constructor===Wn?t=u:function Mc(r){return Object.getPrototypeOf(r.constructor)===Lo}(u)?i=u:o=u}),o||i||t||null}function ih(r,n){const t=r.indexOf(n);t>-1&&r.splice(t,1)}function oh(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const zi=class extends We{constructor(n=null,t,i){super(A(t),Z(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),K(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=oh(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){ih(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){ih(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){oh(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},af={provide:Gi,useExisting:(0,e.Gpc)(()=>Mn)},uf=(()=>Promise.resolve(null))();let Mn=(()=>{class r extends Gi{constructor(t,i,o,u,d){super(),this._changeDetectorRef=d,this.control=new zi,this._registered=!1,this.update=new e.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Oa(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),nf(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){uf.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,o=0!==i&&(0,e.D6c)(i);uf.then(()=>{var u;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(u=this._changeDetectorRef)||void 0===u||u.markForCheck()})}_getPath(t){return this._parent?Hn(t,this._parent):[t]}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(br,9),e.Y36(Nn,10),e.Y36($i,10),e.Y36(hi,10),e.Y36(e.sBO,8))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([af]),e.qOj,e.TTD]}),r})(),Ws=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=e.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})(),Nm=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();const lh=new e.OlP("NgModelWithFormControlWarning"),Um={provide:br,useExisting:(0,e.Gpc)(()=>Bo)};let Bo=(()=>{class r extends br{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ps(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return qo(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Vo(t.control||null,t,!1),function nh(r,n){const t=r.indexOf(n);t>-1&&r.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,function Im(r,n){r._syncPendingControls(),n.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,o=this.form.get(t.path);i!==o&&(Vo(i||null,t),(r=>r instanceof zi)(o)&&(qo(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);(function ef(r,n){hs(r,n)})(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function eh(r,n){return ps(r,n)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hs(this.form,this),this._oldForm&&ps(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Nn,10),e.Y36($i,10))},r.\u0275dir=e.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&e.NdJ("submit",function(u){return i.onSubmit(u)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([Um]),e.qOj,e.TTD]}),r})();const df={provide:Gi,useExisting:(0,e.Gpc)(()=>wu)};let wu=(()=>{class r extends Gi{constructor(t,i,o,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Oa(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),nf(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Hn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return r._ngModelWarningSentOnce=!1,r.\u0275fac=function(t){return new(t||r)(e.Y36(br,13),e.Y36(Nn,10),e.Y36($i,10),e.Y36(hi,10),e.Y36(lh,8))},r.\u0275dir=e.lG2({type:r,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([df]),e.qOj,e.TTD]}),r})();const a0={provide:hi,useExisting:(0,e.Gpc)(()=>Xr),multi:!0};function hf(r,n){return null==r?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${r}: ${n}`.slice(0,50))}let Xr=(()=>{class r extends Lo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=hf(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function ch(r){return r.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}}return r.\u0275fac=function(){let n;return function(i){return(n||(n=e.n5z(r)))(i||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){1&t&&e.NdJ("change",function(u){return i.onChange(u.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([a0]),e.qOj]}),r})(),yo=(()=>{class r{constructor(t,i,o){this._element=t,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(hf(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(Xr,9))},r.\u0275dir=e.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();const Om={provide:hi,useExisting:(0,e.Gpc)(()=>dh),multi:!0};function pf(r,n){return null==r?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${r}: ${n}`.slice(0,50))}let dh=(()=>{class r extends Lo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const o=t.map(u=>this._getOptionId(u));i=(u,d)=>{u._setSelected(o.indexOf(d.toString())>-1)}}else i=(o,u)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const o=[],u=i.selectedOptions;if(void 0!==u){const d=u;for(let g=0;g<d.length;g++){const w=this._getOptionValue(d[g].value);o.push(w)}}else{const d=i.options;for(let g=0;g<d.length;g++){const v=d[g];if(v.selected){const w=this._getOptionValue(v.value);o.push(w)}}}this.value=o,t(o)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function ff(r){return r.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}}return r.\u0275fac=function(){let n;return function(i){return(n||(n=e.n5z(r)))(i||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){1&t&&e.NdJ("change",function(u){return i.onChange(u.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([Om]),e.qOj]}),r})(),zs=(()=>{class r{constructor(t,i,o){this._element=t,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(pf(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(pf(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(dh,9))},r.\u0275dir=e.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})(),Tl=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Nm]}),r})(),_f=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Tl]}),r})(),ph=(()=>{class r{static withConfig(t){return{ngModule:r,providers:[{provide:lh,useValue:t.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Tl]}),r})();class wl extends We{constructor(n,t,i){super(A(t),Z(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,i={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,t={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,i={}){let o=this._adjustIndex(n);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){xe(this,0,n),n.forEach((i,o)=>{ae(this,!1,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((i,o)=>{i.reset(n[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,i)=>{n(t,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){var t;return null!==(t=this.at(n))&&void 0!==t?t:null}}function l0(r){return!!r&&(void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn)}let Lm=(()=>{class r{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new r;return t.useNonNullable=!0,t}group(t,i=null){const o=this._reduceControls(t);let u={};return l0(i)?u=i:null!==i&&(u.validators=i.validator,u.asyncValidators=i.asyncValidator),new ut(o,u)}control(t,i,o){let u={};return this.useNonNullable?(l0(i)?u=i:(u.validators=i,u.asyncValidators=o),new zi(t,Object.assign(Object.assign({},u),{nonNullable:!0}))):new zi(t,i,o)}array(t,i,o){const u=t.map(d=>this._createControl(d));return new wl(u,i,o)}_reduceControls(t){const i={};return Object.keys(t).forEach(o=>{i[o]=this._createControl(t[o])}),i}_createControl(t){return t instanceof zi||t instanceof We?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:ph}),r})();function wt(...r){const n=(0,Oo.yG)(r);return(0,Sn.D)(r,n)}var jo=P(7579);class ti extends jo.x{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}var fh=P(4671),Fm=P(9672);function gh(...r){const n=(0,Oo.yG)(r),t=(0,Oo.jO)(r),{args:i,keys:o}=Vs(r);if(0===i.length)return(0,Sn.D)([],n);const u=new Br.y(function bl(r,n,t=fh.y){return i=>{qm(n,()=>{const{length:o}=r,u=new Array(o);let d=o,g=o;for(let v=0;v<o;v++)qm(n,()=>{const w=(0,Sn.D)(r[v],n);let S=!1;w.subscribe((0,_r.x)(i,N=>{u[v]=N,S||(S=!0,g--),g||i.next(t(u.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,n,o?d=>Ro(o,d):fh.y));return t?u.pipe(Ea(t)):u}function qm(r,n,t){r?(0,Fm.f)(t,r,n):n()}var Al=P(8189);function Vm(...r){return function tb(){return(0,Al.J)(1)}()((0,Sn.D)(r,(0,Oo.yG)(r)))}function Bm(r){return new Br.y(n=>{(0,ss.Xf)(r()).subscribe(n)})}var Fc=P(9635),mh=P(576);function qc(r,n){const t=(0,mh.m)(r)?r:()=>r,i=o=>o.error(t());return new Br.y(n?o=>n.schedule(i,0,o):i)}const Vc=(0,P(3888).d)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});var Qs=P(515),c0=P(727),pi=P(4482);function jm(){return(0,pi.e)((r,n)=>{let t=null;r._refCount++;const i=(0,_r.x)(n,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(t=null);const o=r._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),n.unsubscribe()});r.subscribe(i),i.closed||(t=r.connect())})}class $m extends Br.y{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,pi.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new c0.w0;const t=this.getSubject();n.add(this.source.subscribe((0,_r.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=c0.w0.EMPTY)}return n}refCount(){return jm()(this)}}function ni(r,n){return(0,pi.e)((t,i)=>{let o=null,u=0,d=!1;const g=()=>d&&!o&&i.complete();t.subscribe((0,_r.x)(i,v=>{null==o||o.unsubscribe();let w=0;const S=u++;(0,ss.Xf)(r(v,S)).subscribe(o=(0,_r.x)(i,N=>i.next(n?n(v,N,S,w++):N),()=>{o=null,g()}))},()=>{d=!0,g()}))})}function Bc(r){return r<=0?()=>Qs.E:(0,pi.e)((n,t)=>{let i=0;n.subscribe((0,_r.x)(t,o=>{++i<=r&&(t.next(o),r<=i&&t.complete())}))})}function bu(...r){const n=(0,Oo.yG)(r);return(0,pi.e)((t,i)=>{(n?Vm(r,t,n):Vm(r,t)).subscribe(i)})}function gt(r,n){return(0,pi.e)((t,i)=>{let o=0;t.subscribe((0,_r.x)(i,u=>r.call(n,u,o++)&&i.next(u)))})}var Ir=P(5577);function Au(r){return(0,pi.e)((n,t)=>{let i=!1;n.subscribe((0,_r.x)(t,o=>{i=!0,t.next(o)},()=>{i||t.next(r),t.complete()}))})}function d0(r=o2){return(0,pi.e)((n,t)=>{let i=!1;n.subscribe((0,_r.x)(t,o=>{i=!0,t.next(o)},()=>i?t.complete():t.error(r())))})}function o2(){return new Vc}function Ks(r,n){const t=arguments.length>=2;return i=>i.pipe(r?gt((o,u)=>r(o,u,i)):fh.y,Bc(1),t?Au(n):d0(()=>new Vc))}function Iu(r,n){return(0,mh.m)(n)?(0,Ir.z)(r,n,1):(0,Ir.z)(r,1)}var fi=P(8505);function La(r){return(0,pi.e)((n,t)=>{let u,i=null,o=!1;i=n.subscribe((0,_r.x)(t,void 0,void 0,d=>{u=(0,ss.Xf)(r(d,La(r)(n))),i?(i.unsubscribe(),i=null,u.subscribe(t)):o=!0})),o&&(i.unsubscribe(),i=null,u.subscribe(t))})}function h0(r,n,t,i,o){return(u,d)=>{let g=t,v=n,w=0;u.subscribe((0,_r.x)(d,S=>{const N=w++;v=g?r(v,S,N):(g=!0,S),i&&d.next(v)},o&&(()=>{g&&d.next(v),d.complete()})))}}function jc(r,n){return(0,pi.e)(h0(r,n,arguments.length>=2,!0))}function _h(r){return r<=0?()=>Qs.E:(0,pi.e)((n,t)=>{let i=[];n.subscribe((0,_r.x)(t,o=>{i.push(o),r<i.length&&i.shift()},()=>{for(const o of i)t.next(o);t.complete()},void 0,()=>{i=null}))})}function p0(r,n){const t=arguments.length>=2;return i=>i.pipe(r?gt((o,u)=>r(o,u,i)):fh.y,_h(1),t?Au(n):d0(()=>new Vc))}function f0(r){return(0,pi.e)((n,t)=>{try{n.subscribe(t)}finally{t.add(r)}})}const Qt="primary";class Gm{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function yh(r){return new Gm(r)}function s2(r,n,t){const i=t.path.split("/");if(i.length>r.length||"full"===t.pathMatch&&(n.hasChildren()||i.length<r.length))return null;const o={};for(let u=0;u<i.length;u++){const d=i[u],g=r[u];if(d.startsWith(":"))o[d.substring(1)]=g;else if(d!==g.path)return null}return{consumed:r.slice(0,i.length),posParams:o}}function Fa(r,n){const t=r?Object.keys(r):void 0,i=n?Object.keys(n):void 0;if(!t||!i||t.length!=i.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!ib(r[o],n[o]))return!1;return!0}function ib(r,n){if(Array.isArray(r)&&Array.isArray(n)){if(r.length!==n.length)return!1;const t=[...r].sort(),i=[...n].sort();return t.every((o,u)=>i[u]===o)}return r===n}function g0(r){return Array.prototype.concat.apply([],r)}function Jm(r){return r.length>0?r[r.length-1]:null}function $r(r,n){for(const t in r)r.hasOwnProperty(t)&&n(r[t],t)}function qa(r){return(0,e.CqO)(r)?r:(0,e.QGY)(r)?(0,Sn.D)(Promise.resolve(r)):wt(r)}const ob={exact:function _0(r,n,t){if(!Dl(r.segments,n.segments)||!Tf(r.segments,n.segments,t)||r.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!r.children[i]||!_0(r.children[i],n.children[i],t))return!1;return!0},subset:zm},Cf={exact:function sb(r,n){return Fa(r,n)},subset:function ab(r,n){return Object.keys(n).length<=Object.keys(r).length&&Object.keys(n).every(t=>ib(r[t],n[t]))},ignored:()=>!0};function $c(r,n,t){return ob[t.paths](r.root,n.root,t.matrixParams)&&Cf[t.queryParams](r.queryParams,n.queryParams)&&!("exact"===t.fragment&&r.fragment!==n.fragment)}function zm(r,n,t){return y0(r,n,n.segments,t)}function y0(r,n,t,i){if(r.segments.length>t.length){const o=r.segments.slice(0,t.length);return!(!Dl(o,t)||n.hasChildren()||!Tf(o,t,i))}if(r.segments.length===t.length){if(!Dl(r.segments,t)||!Tf(r.segments,t,i))return!1;for(const o in n.children)if(!r.children[o]||!zm(r.children[o],n.children[o],i))return!1;return!0}{const o=t.slice(0,r.segments.length),u=t.slice(r.segments.length);return!!(Dl(r.segments,o)&&Tf(r.segments,o,i)&&r.children[Qt])&&y0(r.children[Qt],n,u,i)}}function Tf(r,n,t){return n.every((i,o)=>Cf[t](r[o].parameters,i.parameters))}class Il{constructor(n,t,i){this.root=n,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yh(this.queryParams)),this._queryParamMap}toString(){return cb.serialize(this)}}class Kt{constructor(n,t){this.segments=n,this.children=t,this.parent=null,$r(t,(i,o)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hr(this)}}class El{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=yh(this.parameters)),this._parameterMap}toString(){return T0(this)}}function Dl(r,n){return r.length===n.length&&r.every((t,i)=>t.path===n[i].path)}class Qm{}class v0{parse(n){const t=new I0(n);return new Il(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Sl(n.root,!0)}`,i=function db(r){const n=Object.keys(r).map(t=>{const i=r[t];return Array.isArray(i)?i.map(o=>`${Hc(t)}=${Hc(o)}`).join("&"):`${Hc(t)}=${Hc(i)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${i}${"string"==typeof n.fragment?`#${function gi(r){return encodeURI(r)}(n.fragment)}`:""}`}}const cb=new v0;function Hr(r){return r.segments.map(n=>T0(n)).join("/")}function Sl(r,n){if(!r.hasChildren())return Hr(r);if(n){const t=r.children[Qt]?Sl(r.children[Qt],!1):"",i=[];return $r(r.children,(o,u)=>{u!==Qt&&i.push(`${u}:${Sl(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function lb(r,n){let t=[];return $r(r.children,(i,o)=>{o===Qt&&(t=t.concat(n(i,o)))}),$r(r.children,(i,o)=>{o!==Qt&&(t=t.concat(n(i,o)))}),t}(r,(i,o)=>o===Qt?[Sl(r.children[Qt],!1)]:[`${o}:${Sl(i,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[Qt]?`${Hr(r)}/${t[0]}`:`${Hr(r)}/(${t.join("//")})`}}function Km(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hc(r){return Km(r).replace(/%3B/gi,";")}function xl(r){return Km(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gc(r){return decodeURIComponent(r)}function C0(r){return Gc(r.replace(/\+/g,"%20"))}function T0(r){return`${xl(r.path)}${function w0(r){return Object.keys(r).map(n=>`;${xl(n)}=${xl(r[n])}`).join("")}(r.parameters)}`}const b0=/^[^\/()?;=#]+/;function wf(r){const n=r.match(b0);return n?n[0]:""}const A0=/^[^=?&#]+/,pb=/^[^&#]+/;class I0{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kt([],{}):new Kt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(i[Qt]=new Kt(n,t)),i}parseSegment(){const n=wf(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(n),new El(Gc(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=wf(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=wf(this.remaining);o&&(i=o,this.capture(i))}n[Gc(t)]=Gc(i)}parseQueryParam(n){const t=function hb(r){const n=r.match(A0);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const d=function fb(r){const n=r.match(pb);return n?n[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const o=C0(t),u=C0(i);if(n.hasOwnProperty(o)){let d=n[o];Array.isArray(d)||(d=[d],n[o]=d),d.push(u)}else n[o]=u}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=wf(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new e.vHH(4010,!1);let u;i.indexOf(":")>-1?(u=i.slice(0,i.indexOf(":")),this.capture(u),this.capture(":")):n&&(u=Qt);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Qt]:new Kt([],d),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new e.vHH(4011,!1)}}function Ym(r){return r.segments.length>0?new Kt([],{[Qt]:r}):r}function bf(r){const n={};for(const i of Object.keys(r.children)){const u=bf(r.children[i]);(u.segments.length>0||u.hasChildren())&&(n[i]=u)}return function Jc(r){if(1===r.numberOfChildren&&r.children[Qt]){const n=r.children[Qt];return new Kt(r.segments.concat(n.segments),n.children)}return r}(new Kt(r.segments,n))}function Zi(r){return r instanceof Il}function E0(r,n,t,i,o){var u;if(0===t.length)return Eu(n.root,n.root,n.root,i,o);const g=function e_(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new D0(!0,0,r);let n=0,t=!1;const i=r.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return $r(u.outlets,(v,w)=>{g[w]="string"==typeof v?v.split("/"):v}),[...o,{outlets:g}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((g,v)=>{0==v&&"."===g||(0==v&&""===g?t=!0:".."===g?n++:""!=g&&o.push(g))}),o):[...o,u]},[]);return new D0(t,n,i)}(t);return g.toRoot()?Eu(n.root,n.root,new Kt([],{}),i,o):function v(S){var N;const R=function gb(r,n,t,i){if(r.isAbsolute)return new Wc(n.root,!0,0);if(-1===i)return new Wc(t,t===n.root,0);return function t_(r,n,t){let i=r,o=n,u=t;for(;u>o;){if(u-=o,i=i.parent,!i)throw new e.vHH(4005,!1);o=i.segments.length}return new Wc(i,!1,o-u)}(t,i+(Af(r.commands[0])?0:1),r.numberOfDoubleDots)}(g,n,null===(N=r.snapshot)||void 0===N?void 0:N._urlSegment,S),z=R.processChildren?zc(R.segmentGroup,R.index,g.commands):Ch(R.segmentGroup,R.index,g.commands);return Eu(n.root,R.segmentGroup,z,i,o)}(null===(u=r.snapshot)||void 0===u?void 0:u._lastPathIndex)}function Af(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function Ki(r){return"object"==typeof r&&null!=r&&r.outlets}function Eu(r,n,t,i,o){let d,u={};i&&$r(i,(v,w)=>{u[w]=Array.isArray(v)?v.map(S=>`${S}`):`${v}`}),d=r===n?t:If(r,n,t);const g=Ym(bf(d));return new Il(g,u,o)}function If(r,n,t){const i={};return $r(r.children,(o,u)=>{i[u]=o===n?t:If(o,n,t)}),new Kt(r.segments,i)}class D0{constructor(n,t,i){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=i,n&&i.length>0&&Af(i[0]))throw new e.vHH(4003,!1);const o=i.find(Ki);if(o&&o!==Jm(i))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wc{constructor(n,t,i){this.segmentGroup=n,this.processChildren=t,this.index=i}}function Ch(r,n,t){if(r||(r=new Kt([],{})),0===r.segments.length&&r.hasChildren())return zc(r,n,t);const i=function d2(r,n,t){let i=0,o=n;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<r.segments.length;){if(i>=t.length)return u;const d=r.segments[o],g=t[i];if(Ki(g))break;const v=`${g}`,w=i<t.length-1?t[i+1]:null;if(o>0&&void 0===v)break;if(v&&w&&"object"==typeof w&&void 0===w.outlets){if(!S0(v,w,d))return u;i+=2}else{if(!S0(v,{},d))return u;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(r,n,t),o=t.slice(i.commandIndex);if(i.match&&i.pathIndex<r.segments.length){const u=new Kt(r.segments.slice(0,i.pathIndex),{});return u.children[Qt]=new Kt(r.segments.slice(i.pathIndex),r.children),zc(u,0,o)}return i.match&&0===o.length?new Kt(r.segments,{}):i.match&&!r.hasChildren()?Du(r,n,t):i.match?zc(r,0,o):Du(r,n,t)}function zc(r,n,t){if(0===t.length)return new Kt(r.segments,{});{const i=function n_(r){return Ki(r[0])?r[0].outlets:{[Qt]:r}}(t),o={};return $r(i,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[d]=Ch(r.children[d],n,u))}),$r(r.children,(u,d)=>{void 0===i[d]&&(o[d]=u)}),new Kt(r.segments,o)}}function Du(r,n,t){const i=r.segments.slice(0,n);let o=0;for(;o<t.length;){const u=t[o];if(Ki(u)){const v=r_(u.outlets);return new Kt(i,v)}if(0===o&&Af(t[0])){i.push(new El(r.segments[n].path,i_(t[0]))),o++;continue}const d=Ki(u)?u.outlets[Qt]:`${u}`,g=o<t.length-1?t[o+1]:null;d&&g&&Af(g)?(i.push(new El(d,i_(g))),o+=2):(i.push(new El(d,{})),o++)}return new Kt(i,{})}function r_(r){const n={};return $r(r,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(n[i]=Du(new Kt([],{}),0,t))}),n}function i_(r){const n={};return $r(r,(t,i)=>n[i]=`${t}`),n}function S0(r,n,t){return r==t.path&&Fa(n,t.parameters)}class _s{constructor(n,t){this.id=n,this.url=t}}class o_ extends _s{constructor(n,t,i="imperative",o=null){super(n,t),this.type=0,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Su extends _s{constructor(n,t,i){super(n,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ef extends _s{constructor(n,t,i,o){super(n,t),this.reason=i,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class x0 extends _s{constructor(n,t,i,o){super(n,t),this.error=i,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mb extends _s{constructor(n,t,i,o){super(n,t),this.urlAfterRedirects=i,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _b extends _s{constructor(n,t,i,o){super(n,t),this.urlAfterRedirects=i,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class k0 extends _s{constructor(n,t,i,o,u){super(n,t),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class s_ extends _s{constructor(n,t,i,o){super(n,t),this.urlAfterRedirects=i,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z0 extends _s{constructor(n,t,i,o){super(n,t),this.urlAfterRedirects=i,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a_{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yb{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vb{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class N0{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class M0{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kl{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u_{constructor(n,t,i){this.routerEvent=n,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class U0{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=O0(n,this._root);return t?t.children.map(i=>i.value):[]}firstChild(n){const t=O0(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Qc(n,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return Qc(n,this._root).map(t=>t.value)}}function O0(r,n){if(r===n.value)return n;for(const t of n.children){const i=O0(r,t);if(i)return i}return null}function Qc(r,n){if(r===n.value)return[n];for(const t of n.children){const i=Qc(r,t);if(i.length)return i.unshift(n),i}return[]}class Va{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Zl(r){const n={};return r&&r.children.forEach(t=>n[t.value.outlet]=t),n}class l_ extends U0{constructor(n,t){super(n),this.snapshot=t,xf(this,n)}toString(){return this.snapshot.toString()}}function c_(r,n){const t=function d_(r,n){const d=new wh([],{},{},"",{},Qt,n,null,r.root,-1,{});return new Sf("",new Va(d,[]))}(r,n),i=new ti([new El("",{})]),o=new ti({}),u=new ti({}),d=new ti({}),g=new ti(""),v=new Ys(i,o,d,g,u,Qt,n,t.root);return v.snapshot=t.root,new l_(new Va(v,[]),t)}class Ys{constructor(n,t,i,o,u,d,g,v){this.url=n,this.params=t,this.queryParams=i,this.fragment=o,this.data=u,this.outlet=d,this.component=g,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,se.U)(n=>yh(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,se.U)(n=>yh(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Th(r,n="emptyOnly"){const t=r.pathFromRoot;let i=0;if("always"!==n)for(i=t.length-1;i>=1;){const o=t[i],u=t[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(u.component)break;i--}}return function Df(r){return r.reduce((n,t)=>{var i;return{params:Object.assign(Object.assign({},n.params),t.params),data:Object.assign(Object.assign({},n.data),t.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},t.data),n.resolve),null===(i=t.routeConfig)||void 0===i?void 0:i.data),t._resolvedData)}},{params:{},data:{},resolve:{}})}(t.slice(i))}class wh{constructor(n,t,i,o,u,d,g,v,w,S,N,R){this.url=n,this.params=t,this.queryParams=i,this.fragment=o,this.data=u,this.outlet=d,this.component=g,this.routeConfig=v,this._urlSegment=w,this._lastPathIndex=S,this._correctedLastPathIndex=null!=R?R:S,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sf extends U0{constructor(n,t){super(t),this.url=n,xf(this,t)}toString(){return kf(this._root)}}function xf(r,n){n.value._routerState=r,n.children.forEach(t=>xf(r,t))}function kf(r){const n=r.children.length>0?` { ${r.children.map(kf).join(", ")} } `:"";return`${r.value}${n}`}function Nl(r){if(r.snapshot){const n=r.snapshot,t=r._futureSnapshot;r.snapshot=t,Fa(n.queryParams,t.queryParams)||r.queryParams.next(t.queryParams),n.fragment!==t.fragment&&r.fragment.next(t.fragment),Fa(n.params,t.params)||r.params.next(t.params),function a2(r,n){if(r.length!==n.length)return!1;for(let t=0;t<r.length;++t)if(!Fa(r[t],n[t]))return!1;return!0}(n.url,t.url)||r.url.next(t.url),Fa(n.data,t.data)||r.data.next(t.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function h_(r,n){const t=Fa(r.params,n.params)&&function ub(r,n){return Dl(r,n)&&r.every((t,i)=>Fa(t.parameters,n[i].parameters))}(r.url,n.url);return t&&!(!r.parent!=!n.parent)&&(!r.parent||h_(r.parent,n.parent))}function bh(r,n,t){if(t&&r.shouldReuseRoute(n.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=n.value;const o=function Cb(r,n,t){return n.children.map(i=>{for(const o of t.children)if(r.shouldReuseRoute(i.value,o.value.snapshot))return bh(r,i,o);return bh(r,i)})}(r,n,t);return new Va(i,o)}{if(r.shouldAttach(n.value)){const u=r.retrieve(n.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=n.value,d.children=n.children.map(g=>bh(r,g)),d}}const i=function L0(r){return new Ys(new ti(r.url),new ti(r.params),new ti(r.queryParams),new ti(r.fragment),new ti(r.data),r.outlet,r.component,r)}(n.value),o=n.children.map(u=>bh(r,u));return new Va(i,o)}}const Ah="ngNavigationCancelingError";function p_(r,n){const{redirectTo:t,navigationBehaviorOptions:i}=Zi(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=Tb(!1,0,n);return o.url=t,o.navigationBehaviorOptions=i,o}function Tb(r,n,t){const i=new Error("NavigationCancelingError: "+(r||""));return i[Ah]=!0,i.cancellationCode=n,t&&(i.url=t),i}function f_(r){return F0(r)&&Zi(r.url)}function F0(r){return r&&r[Ah]}class q0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ih,this.attachRef=null}}class Ih{constructor(){this.contexts=new Map}onChildOutletCreated(n,t){const i=this.getOrCreateContext(n);i.outlet=t,this.contexts.set(n,i)}onChildOutletDestroyed(n){const t=this.getContext(n);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let t=this.getContext(n);return t||(t=new q0,this.contexts.set(n,t)),t}getContext(n){return this.contexts.get(n)||null}}const Zf=!1;let Yi=(()=>{class r{constructor(t,i,o,u,d){this.parentContexts=t,this.location=i,this.changeDetector=u,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.name=o||Qt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){var t;(null===(t=this.parentContexts.getContext(this.name))||void 0===t?void 0:t.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,Zf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,Zf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,Zf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new e.vHH(4013,Zf);this._activatedRoute=t;const o=this.location,d=t._futureSnapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,v=new wb(t,g,o.injector);if(i&&function V0(r){return!!r.resolveComponentFactory}(i)){const w=i.resolveComponentFactory(d);this.activated=o.createComponent(w,o.length,v)}else this.activated=o.createComponent(d,{index:o.length,injector:v,environmentInjector:null!=i?i:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ih),e.Y36(e.s_b),e.$8M("name"),e.Y36(e.sBO),e.Y36(e.lqb))},r.\u0275dir=e.lG2({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),r})();class wb{constructor(n,t,i){this.route=n,this.childContexts=t,this.parent=i}get(n,t){return n===Ys?this.route:n===Ih?this.childContexts:this.parent.get(n,t)}}let B0=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&e._UZ(0,"router-outlet")},dependencies:[Yi],encapsulation:2}),r})();function j0(r,n){var t;return r.providers&&!r._injector&&(r._injector=(0,e.MMx)(r.providers,n,`Route: ${r.path}`)),null!==(t=r._injector)&&void 0!==t?t:n}function Nf(r){const n=r.children&&r.children.map(Nf),t=n?Object.assign(Object.assign({},r),{children:n}):Object.assign({},r);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Qt&&(t.component=B0),t}function vo(r){return r.outlet||Qt}function H0(r,n){const t=r.filter(i=>vo(i)===n);return t.push(...r.filter(i=>vo(i)!==n)),t}function G0(r){var n;if(!r)return null;if(null!==(n=r.routeConfig)&&void 0!==n&&n._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){const i=t.routeConfig;if(null!=i&&i._loadedInjector)return i._loadedInjector;if(null!=i&&i._injector)return i._injector}return null}class Ib{constructor(n,t,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=i,this.forwardEvent=o}activate(n){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,n),Nl(this.futureState.root),this.activateChildRoutes(t,i,n)}deactivateChildRoutes(n,t,i){const o=Zl(t);n.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],i),delete o[d]}),$r(o,(u,d)=>{this.deactivateRouteAndItsChildren(u,i)})}deactivateRoutes(n,t,i){const o=n.value,u=t?t.value:null;if(o===u)if(o.component){const d=i.getContext(o.outlet);d&&this.deactivateChildRoutes(n,t,d.children)}else this.deactivateChildRoutes(n,t,i);else u&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const i=t.getContext(n.value.outlet),o=i&&n.value.component?i.children:t,u=Zl(n);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(i&&i.outlet){const d=i.outlet.detach(),g=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:d,route:n,contexts:g})}}deactivateRouteAndOutlet(n,t){const i=t.getContext(n.value.outlet),o=i&&n.value.component?i.children:t,u=Zl(n);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(n,t,i){const o=Zl(t);n.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],i),this.forwardEvent(new kl(u.value.snapshot))}),n.children.length&&this.forwardEvent(new N0(n.value.snapshot))}activateRoutes(n,t,i){var o;const u=n.value,d=t?t.value:null;if(Nl(u),u===d)if(u.component){const g=i.getOrCreateContext(u.outlet);this.activateChildRoutes(n,t,g.children)}else this.activateChildRoutes(n,t,i);else if(u.component){const g=i.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const v=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),g.children.onOutletReAttached(v.contexts),g.attachRef=v.componentRef,g.route=v.route.value,g.outlet&&g.outlet.attach(v.componentRef,v.route.value),Nl(v.route.value),this.activateChildRoutes(n,null,g.children)}else{const v=G0(u.snapshot),w=null!==(o=null==v?void 0:v.get(e._Vd))&&void 0!==o?o:null;g.attachRef=null,g.route=u,g.resolver=w,g.injector=v,g.outlet&&g.outlet.activateWith(u,g.injector),this.activateChildRoutes(n,null,g.children)}}else this.activateChildRoutes(n,null,i)}}class m_{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Mf{constructor(n,t){this.component=n,this.route=t}}function Eb(r,n,t){const i=r._root;return Kc(i,n?n._root:null,t,[i.value])}function Eh(r,n,t){const i=G0(n);return(null!=i?i:t).get(r)}function Kc(r,n,t,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Zl(n);return r.children.forEach(d=>{(function Ml(r,n,t,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=r.value,d=n?n.value:null,g=t?t.getContext(r.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const v=function Db(r,n,t){if("function"==typeof t)return t(r,n);switch(t){case"pathParamsChange":return!Dl(r.url,n.url);case"pathParamsOrQueryParamsChange":return!Dl(r.url,n.url)||!Fa(r.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!h_(r,n)||!Fa(r.queryParams,n.queryParams);default:return!h_(r,n)}}(d,u,u.routeConfig.runGuardsAndResolvers);v?o.canActivateChecks.push(new m_(i)):(u.data=d.data,u._resolvedData=d._resolvedData),Kc(r,n,u.component?g?g.children:null:t,i,o),v&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new Mf(g.outlet.component,d))}else d&&Pl(n,g,o),o.canActivateChecks.push(new m_(i)),Kc(r,null,u.component?g?g.children:null:t,i,o)})(d,u[d.value.outlet],t,i.concat([d.value]),o),delete u[d.value.outlet]}),$r(u,(d,g)=>Pl(d,t.getContext(g),o)),o}function Pl(r,n,t){const i=Zl(r),o=r.value;$r(i,(u,d)=>{Pl(u,o.component?n?n.children.getContext(d):null:n,t)}),t.canDeactivateChecks.push(new Mf(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function Ul(r){return"function"==typeof r}const Ba=Symbol("INITIAL_VALUE");function Yc(){return ni(r=>gh(r.map(n=>n.pipe(Bc(1),bu(Ba)))).pipe((0,se.U)(n=>{for(const t of n)if(!0!==t){if(t===Ba)return Ba;if(!1===t||t instanceof Il)return t}return!0}),gt(n=>n!==Ba),Bc(1)))}function __(r){return(0,Fc.z)((0,fi.b)(n=>{if(Zi(n))throw p_(0,n)}),(0,se.U)(n=>!0===n))}const Uf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function y_(r,n,t,i,o){const u=Dh(r,n,t);return u.matched?function Rb(r,n,t,i){const o=n.canMatch;return o&&0!==o.length?wt(o.map(d=>{const g=r.get(d),v=function W0(r){return r&&Ul(r.canMatch)}(g)?g.canMatch(n,t):g(n,t);return qa(v)})).pipe(Yc(),__()):wt(!0)}(i=j0(n,i),n,t).pipe((0,se.U)(d=>!0===d?u:Object.assign({},Uf))):wt(u)}function Dh(r,n,t){var i;if(""===n.path)return"full"===n.pathMatch&&(r.hasChildren()||t.length>0)?Object.assign({},Uf):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(n.matcher||s2)(t,r,n);if(!u)return Object.assign({},Uf);const d={};$r(u.posParams,(v,w)=>{d[w]=v.path});const g=u.consumed.length>0?Object.assign(Object.assign({},d),u.consumed[u.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:g,positionalParamSegments:null!==(i=u.posParams)&&void 0!==i?i:{}}}function v_(r,n,t,i,o="corrected"){if(t.length>0&&function v2(r,n,t){return t.some(i=>Sh(r,n,i)&&vo(i)!==Qt)}(r,t,i)){const d=new Kt(n,function Lb(r,n,t,i){const o={};o[Qt]=i,i._sourceSegment=r,i._segmentIndexShift=n.length;for(const u of t)if(""===u.path&&vo(u)!==Qt){const d=new Kt([],{});d._sourceSegment=r,d._segmentIndexShift=n.length,o[vo(u)]=d}return o}(r,n,i,new Kt(t,r.children)));return d._sourceSegment=r,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function Xc(r,n,t){return t.some(i=>Sh(r,n,i))}(r,t,i)){const d=new Kt(r.segments,function C_(r,n,t,i,o,u){const d={};for(const g of i)if(Sh(r,t,g)&&!o[vo(g)]){const v=new Kt([],{});v._sourceSegment=r,v._segmentIndexShift="legacy"===u?r.segments.length:n.length,d[vo(g)]=v}return Object.assign(Object.assign({},o),d)}(r,n,t,i,r.children,o));return d._sourceSegment=r,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:t}}const u=new Kt(r.segments,r.children);return u._sourceSegment=r,u._segmentIndexShift=n.length,{segmentGroup:u,slicedSegments:t}}function Sh(r,n,t){return(!(r.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}function T_(r,n,t,i){return!!(vo(r)===i||i!==Qt&&Sh(n,t,r))&&("**"===r.path||Dh(n,r,t).matched)}function xh(r,n,t){return 0===n.length&&!r.children[t]}const Xi=!1;class kh{constructor(n){this.segmentGroup=n||null}}class K0{constructor(n){this.urlTree=n}}function Ol(r){return qc(new kh(r))}function Xs(r){return qc(new K0(r))}class C2{constructor(n,t,i,o,u){this.injector=n,this.configLoader=t,this.urlSerializer=i,this.urlTree=o,this.config=u,this.allowRedirects=!0}apply(){const n=v_(this.urlTree.root,[],[],this.config).segmentGroup,t=new Kt(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,t,Qt).pipe((0,se.U)(u=>this.createUrlTree(bf(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(La(u=>{if(u instanceof K0)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof kh?this.noMatchError(u):u}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,Qt).pipe((0,se.U)(o=>this.createUrlTree(bf(o),n.queryParams,n.fragment))).pipe(La(o=>{throw o instanceof kh?this.noMatchError(o):o}))}noMatchError(n){return new e.vHH(4002,Xi)}createUrlTree(n,t,i){const o=Ym(n);return new Il(o,t,i)}expandSegmentGroup(n,t,i,o){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(n,t,i).pipe((0,se.U)(u=>new Kt([],u))):this.expandSegment(n,i,t,i.segments,o,!0)}expandChildren(n,t,i){const o=[];for(const u of Object.keys(i.children))"primary"===u?o.unshift(u):o.push(u);return(0,Sn.D)(o).pipe(Iu(u=>{const d=i.children[u],g=H0(t,u);return this.expandSegmentGroup(n,g,d,u).pipe((0,se.U)(v=>({segment:v,outlet:u})))}),jc((u,d)=>(u[d.outlet]=d.segment,u),{}),p0())}expandSegment(n,t,i,o,u,d){return(0,Sn.D)(i).pipe(Iu(g=>this.expandSegmentAgainstRoute(n,t,i,g,o,u,d).pipe(La(w=>{if(w instanceof kh)return wt(null);throw w}))),Ks(g=>!!g),La((g,v)=>{if(g instanceof Vc||"EmptyError"===g.name)return xh(t,o,u)?wt(new Kt([],{})):Ol(t);throw g}))}expandSegmentAgainstRoute(n,t,i,o,u,d,g){return T_(o,t,u,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(n,t,o,u,d):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,t,i,o,u,d):Ol(t):Ol(t)}expandSegmentAgainstRouteUsingRedirect(n,t,i,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,i,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,i,o){const u=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Xs(u):this.lineralizeSegments(i,u).pipe((0,Ir.z)(d=>{const g=new Kt(d,{});return this.expandSegment(n,g,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,i,o,u,d){const{matched:g,consumedSegments:v,remainingSegments:w,positionalParamSegments:S}=Dh(t,o,u);if(!g)return Ol(t);const N=this.applyRedirectCommands(v,o.redirectTo,S);return o.redirectTo.startsWith("/")?Xs(N):this.lineralizeSegments(o,N).pipe((0,Ir.z)(R=>this.expandSegment(n,t,i,R.concat(w),d,!1)))}matchSegmentAgainstRoute(n,t,i,o,u){return"**"===i.path?(n=j0(i,n),i.loadChildren?(i._loadedRoutes?wt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(n,i)).pipe((0,se.U)(g=>(i._loadedRoutes=g.routes,i._loadedInjector=g.injector,new Kt(o,{})))):wt(new Kt(o,{}))):y_(t,i,o,n).pipe(ni(({matched:d,consumedSegments:g,remainingSegments:v})=>{var w;return d?(n=null!==(w=i._injector)&&void 0!==w?w:n,this.getChildConfig(n,i,o).pipe((0,Ir.z)(N=>{var R;const z=null!==(R=N.injector)&&void 0!==R?R:n,te=N.routes,{segmentGroup:Pe,slicedSegments:Ge}=v_(t,g,v,te),ft=new Kt(Pe.segments,Pe.children);if(0===Ge.length&&ft.hasChildren())return this.expandChildren(z,te,ft).pipe((0,se.U)(en=>new Kt(g,en)));if(0===te.length&&0===Ge.length)return wt(new Kt(g,{}));const Ut=vo(i)===u;return this.expandSegment(z,ft,te,Ge,Ut?Qt:u,!0).pipe((0,se.U)(bt=>new Kt(g.concat(bt.segments),bt.children)))}))):Ol(t)}))}getChildConfig(n,t,i){return t.children?wt({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?wt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Ob(r,n,t,i){const o=n.canLoad;return void 0===o||0===o.length?wt(!0):wt(o.map(d=>{const g=r.get(d),v=function m2(r){return r&&Ul(r.canLoad)}(g)?g.canLoad(n,t):g(n,t);return qa(v)})).pipe(Yc(),__())}(n,t,i).pipe((0,Ir.z)(o=>o?this.configLoader.loadChildren(n,t).pipe((0,fi.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function Y0(r){return qc(Tb(Xi,3))}())):wt({routes:[],injector:n})}lineralizeSegments(n,t){let i=[],o=t.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return wt(i);if(o.numberOfChildren>1||!o.children[Qt])return qc(new e.vHH(4e3,Xi));o=o.children[Qt]}}applyRedirectCommands(n,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,i)}applyRedirectCreateUrlTree(n,t,i,o){const u=this.createSegmentGroup(n,t.root,i,o);return new Il(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const i={};return $r(n,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const g=o.substring(1);i[u]=t[g]}else i[u]=o}),i}createSegmentGroup(n,t,i,o){const u=this.createSegments(n,t.segments,i,o);let d={};return $r(t.children,(g,v)=>{d[v]=this.createSegmentGroup(n,g,i,o)}),new Kt(u,d)}createSegments(n,t,i,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(n,u,o):this.findOrReturn(u,i))}findPosParam(n,t,i){const o=i[t.path.substring(1)];if(!o)throw new e.vHH(4001,Xi);return o}findOrReturn(n,t){let i=0;for(const o of t){if(o.path===n.path)return t.splice(i),o;i++}return n}}class Of{}class E_{constructor(n,t,i,o,u,d,g,v){this.injector=n,this.rootComponentType=t,this.config=i,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=g,this.urlSerializer=v}recognize(){const n=v_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Qt).pipe((0,se.U)(t=>{if(null===t)return null;const i=new wh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Va(i,t),u=new Sf(this.url,o);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(n){const t=n.value,i=Th(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,t,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,t,i):this.processSegment(n,t,i,i.segments,o)}processChildren(n,t,i){return(0,Sn.D)(Object.keys(i.children)).pipe(Iu(o=>{const u=i.children[o],d=H0(t,o);return this.processSegmentGroup(n,d,u,o)}),jc((o,u)=>o&&u?(o.push(...u),o):null),function rb(r,n=!1){return(0,pi.e)((t,i)=>{let o=0;t.subscribe((0,_r.x)(i,u=>{const d=r(u,o++);(d||n)&&i.next(u),!d&&i.complete()}))})}(o=>null!==o),Au(null),p0(),(0,se.U)(o=>{if(null===o)return null;const u=e1(o);return function D_(r){r.sort((n,t)=>n.value.outlet===Qt?-1:t.value.outlet===Qt?1:n.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(n,t,i,o,u){return(0,Sn.D)(t).pipe(Iu(d=>{var g;return this.processSegmentAgainstRoute(null!==(g=d._injector)&&void 0!==g?g:n,d,i,o,u)}),Ks(d=>!!d),La(d=>{if(d instanceof Vc)return xh(i,o,u)?wt([]):wt(null);throw d}))}processSegmentAgainstRoute(n,t,i,o,u){var d,g;if(t.redirectTo||!T_(t,i,o,u))return wt(null);let v;if("**"===t.path){const w=o.length>0?Jm(o).parameters:{},S=S_(i)+o.length;v=wt({snapshot:new wh(o,w,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,n1(t),vo(t),null!==(g=null!==(d=t.component)&&void 0!==d?d:t._loadedComponent)&&void 0!==g?g:null,t,t1(i),S,Bb(t),S),consumedSegments:[],remainingSegments:[]})}else v=y_(i,t,o,n).pipe((0,se.U)(({matched:w,consumedSegments:S,remainingSegments:N,parameters:R})=>{var z,te;if(!w)return null;const Pe=S_(i)+S.length;return{snapshot:new wh(S,R,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,n1(t),vo(t),null!==(te=null!==(z=t.component)&&void 0!==z?z:t._loadedComponent)&&void 0!==te?te:null,t,t1(i),Pe,Bb(t),Pe),consumedSegments:S,remainingSegments:N}}));return v.pipe(ni(w=>{var S,N;if(null===w)return wt(null);const{snapshot:R,consumedSegments:z,remainingSegments:te}=w;n=null!==(S=t._injector)&&void 0!==S?S:n;const Pe=null!==(N=t._loadedInjector)&&void 0!==N?N:n,Ge=function T2(r){return r.children?r.children:r.loadChildren?r._loadedRoutes:[]}(t),{segmentGroup:ft,slicedSegments:Ut}=v_(i,z,te,Ge.filter(bt=>void 0===bt.redirectTo),this.relativeLinkResolution);if(0===Ut.length&&ft.hasChildren())return this.processChildren(Pe,Ge,ft).pipe((0,se.U)(bt=>null===bt?null:[new Va(R,bt)]));if(0===Ge.length&&0===Ut.length)return wt([new Va(R,[])]);const Xt=vo(t)===u;return this.processSegment(Pe,Ge,ft,Ut,Xt?Qt:u).pipe((0,se.U)(bt=>null===bt?null:[new Va(R,bt)]))}))}}function Fb(r){const n=r.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function e1(r){const n=[],t=new Set;for(const i of r){if(!Fb(i)){n.push(i);continue}const o=n.find(u=>i.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...i.children),t.add(o)):n.push(i)}for(const i of t){const o=e1(i.children);n.push(new Va(i.value,o))}return n.filter(i=>!t.has(i))}function t1(r){let n=r;for(;n._sourceSegment;)n=n._sourceSegment;return n}function S_(r){var n,t;let i=r,o=null!==(n=i._segmentIndexShift)&&void 0!==n?n:0;for(;i._sourceSegment;)i=i._sourceSegment,o+=null!==(t=i._segmentIndexShift)&&void 0!==t?t:0;return o-1}function n1(r){return r.data||{}}function Bb(r){return r.resolve||{}}const Lf=Symbol("RouteTitle");function $b(r){return"string"==typeof r.title||null===r.title}function i1(r){return ni(n=>{const t=r(n);return t?(0,Sn.D)(t).pipe((0,se.U)(()=>n)):wt(n)})}class D2 extends class E2{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}{}const o1=new e.OlP("ROUTES");let ea=(()=>{class r{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return wt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=qa(t.loadComponent()).pipe((0,fi.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),f0(()=>{this.componentLoaders.delete(t)})),o=new $m(i,()=>new jo.x).pipe(jm());return this.componentLoaders.set(t,o),o}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return wt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const u=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,se.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(i);let v,w,S=!1;Array.isArray(g)?w=g:(v=g.create(t).injector,w=g0(v.get(o1,[],e.XFs.Self|e.XFs.Optional)));return{routes:w.map(Nf),injector:v}}),f0(()=>{this.childrenLoaders.delete(i)})),d=new $m(u,()=>new jo.x).pipe(jm());return this.childrenLoaders.set(i,d),d}loadModuleFactoryOrRoutes(t){return qa(t()).pipe((0,Ir.z)(i=>i instanceof e.YKP||Array.isArray(i)?wt(i):(0,Sn.D)(this.compiler.compileModuleAsync(i))))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.zs3),e.LFG(e.Sil))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Gb{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,t){return n}}function Z_(r){throw r}function s1(r,n,t){return n.parse("/")}const N_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pn=(()=>{class r{constructor(t,i,o,u,d,g,v){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=o,this.location=u,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new jo.x,this.errorHandler=Z_,this.malformedUriErrorHandler=s1,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>wt(void 0),this.urlHandlingStrategy=new Gb,this.routeReuseStrategy=new D2,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(ea),this.configLoader.onLoadEndListener=R=>this.triggerEvent(new yb(R)),this.configLoader.onLoadStartListener=R=>this.triggerEvent(new a_(R)),this.ngModule=d.get(e.h0i),this.console=d.get(e.c2e);const N=d.get(e.R0b);this.isNgZoneEnabled=N instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function Wm(){return new Il(new Kt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=c_(this.currentUrlTree,this.rootComponentType),this.transitions=new ti({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(gt(o=>0!==o.id),(0,se.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ni(o=>{let u=!1,d=!1;return wt(o).pipe((0,fi.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ni(g=>{const v=this.browserUrlTree.toString(),w=!this.navigated||g.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return u1(g.source)&&(this.browserUrlTree=g.extractedUrl),wt(g).pipe(ni(N=>{const R=this.transitions.getValue();return i.next(new o_(N.id,this.serializeUrl(N.extractedUrl),N.source,N.restoredState)),R!==this.transitions.getValue()?Qs.E:Promise.resolve(N)}),function X0(r,n,t,i){return ni(o=>function b_(r,n,t,i,o){return new C2(r,n,t,i,o).apply()}(r,n,t,o.extractedUrl,i).pipe((0,se.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,fi.b)(N=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:N.urlAfterRedirects}),o.urlAfterRedirects=N.urlAfterRedirects}),function r1(r,n,t,i,o,u){return(0,Ir.z)(d=>function I_(r,n,t,i,o,u,d="emptyOnly",g="legacy"){return new E_(r,n,t,i,o,d,g,u).recognize().pipe(ni(v=>null===v?function Rf(r){return new Br.y(n=>n.error(r))}(new Of):wt(v)))}(r,n,t,d.urlAfterRedirects,i.serialize(d.urlAfterRedirects),i,o,u).pipe((0,se.U)(g=>Object.assign(Object.assign({},d),{targetSnapshot:g}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,fi.b)(N=>{if(o.targetSnapshot=N.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!N.extras.skipLocationChange){const z=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl);this.setBrowserUrl(z,N)}this.browserUrlTree=N.urlAfterRedirects}const R=new mb(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);i.next(R)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:R,extractedUrl:z,source:te,restoredState:Pe,extras:Ge}=g,ft=new o_(R,this.serializeUrl(z),te,Pe);i.next(ft);const Ut=c_(z,this.rootComponentType).snapshot;return wt(o=Object.assign(Object.assign({},g),{targetSnapshot:Ut,urlAfterRedirects:z,extras:Object.assign(Object.assign({},Ge),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,g.resolve(null),Qs.E}),(0,fi.b)(g=>{const v=new _b(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),(0,se.U)(g=>o=Object.assign(Object.assign({},g),{guards:Eb(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function z0(r,n){return(0,Ir.z)(t=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?wt(Object.assign(Object.assign({},t),{guardsResult:!0})):function Pf(r,n,t,i){return(0,Sn.D)(r).pipe((0,Ir.z)(o=>function Ub(r,n,t,i,o){const u=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return u&&0!==u.length?wt(u.map(g=>{const v=Eh(g,n,o);return qa(function xb(r){return r&&Ul(r.canDeactivate)}(v)?v.canDeactivate(r,n,t,i):v(r,n,t,i)).pipe(Ks())})).pipe(Yc()):wt(!0)}(o.component,o.route,t,n,i)),Ks(o=>!0!==o,!0))}(d,i,o,r).pipe((0,Ir.z)(g=>g&&function Sb(r){return"boolean"==typeof r}(g)?function Zb(r,n,t,i){return(0,Sn.D)(n).pipe(Iu(o=>Vm(function Nb(r,n){return null!==r&&n&&n(new vb(r)),wt(!0)}(o.route.parent,i),function Q0(r,n){return null!==r&&n&&n(new M0(r)),wt(!0)}(o.route,i),function Pb(r,n,t){const i=n[n.length-1],u=n.slice(0,n.length-1).reverse().map(d=>function g2(r){const n=r.routeConfig?r.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:r,guards:n}:null}(d)).filter(d=>null!==d).map(d=>Bm(()=>wt(d.guards.map(v=>{const w=Eh(v,d.node,t);return qa(function y2(r){return r&&Ul(r.canActivateChild)}(w)?w.canActivateChild(i,r):w(i,r)).pipe(Ks())})).pipe(Yc())));return wt(u).pipe(Yc())}(r,o.path,t),function Mb(r,n,t){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return wt(!0);const o=i.map(u=>Bm(()=>{const d=Eh(u,n,t);return qa(function _2(r){return r&&Ul(r.canActivate)}(d)?d.canActivate(n,r):d(n,r)).pipe(Ks())}));return wt(o).pipe(Yc())}(r,o.route,t))),Ks(o=>!0!==o,!0))}(i,u,r,n):wt(g)),(0,se.U)(g=>Object.assign(Object.assign({},t),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,fi.b)(g=>{if(o.guardsResult=g.guardsResult,Zi(g.guardsResult))throw p_(0,g.guardsResult);const v=new k0(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(v)}),gt(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),i1(g=>{if(g.guards.canActivateChecks.length)return wt(g).pipe((0,fi.b)(v=>{const w=new s_(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}),ni(v=>{let w=!1;return wt(v).pipe(function jb(r,n){return(0,Ir.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=t;if(!o.length)return wt(t);let u=0;return(0,Sn.D)(o).pipe(Iu(d=>function x_(r,n,t,i){const o=r.routeConfig,u=r._resolve;return void 0!==(null==o?void 0:o.title)&&!$b(o)&&(u[Lf]=o.title),function w2(r,n,t,i){const o=function b2(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}(r);if(0===o.length)return wt({});const u={};return(0,Sn.D)(o).pipe((0,Ir.z)(d=>function A2(r,n,t,i){const o=Eh(r,n,i);return qa(o.resolve?o.resolve(n,t):o(n,t))}(r[d],n,t,i).pipe(Ks(),(0,fi.b)(g=>{u[d]=g}))),_h(1),function Hm(r){return(0,se.U)(()=>r)}(u),La(d=>d instanceof Vc?Qs.E:qc(d)))}(u,r,n,i).pipe((0,se.U)(d=>(r._resolvedData=d,r.data=Th(r,t).resolve,o&&$b(o)&&(r.data[Lf]=o.title),null)))}(d.route,i,r,n)),(0,fi.b)(()=>u++),_h(1),(0,Ir.z)(d=>u===o.length?wt(t):Qs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,fi.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(v),this.cancelNavigationTransition(v,"",2))}}))}),(0,fi.b)(v=>{const w=new Z0(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}))}),i1(g=>{const v=w=>{var S;const N=[];(null===(S=w.routeConfig)||void 0===S?void 0:S.loadComponent)&&!w.routeConfig._loadedComponent&&N.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,fi.b)(R=>{w.component=R}),(0,se.U)(()=>{})));for(const R of w.children)N.push(...v(R));return N};return gh(v(g.targetSnapshot.root)).pipe(Au(),Bc(1))}),i1(()=>this.afterPreactivation()),(0,se.U)(g=>{const v=function R0(r,n,t){const i=bh(r,n._root,t?t._root:void 0);return new l_(i,n)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return o=Object.assign(Object.assign({},g),{targetRouterState:v})}),(0,fi.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((r,n,t)=>(0,se.U)(i=>(new Ib(n,i.targetRouterState,i.currentRouterState,t).activate(r),i)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,fi.b)({next(){u=!0},complete(){u=!0}}),f0(()=>{var g;u||d||this.cancelNavigationTransition(o,"",1),(null===(g=this.currentNavigation)||void 0===g?void 0:g.id)===o.id&&(this.currentNavigation=null)}),La(g=>{var v;if(d=!0,F0(g)){f_(g)||(this.navigated=!0,this.restoreHistory(o,!0));const w=new Ef(o.id,this.serializeUrl(o.extractedUrl),g.message,g.cancellationCode);if(i.next(w),f_(g)){const S=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),N={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||u1(o.source)};this.scheduleNavigation(S,"imperative",null,N,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const w=new x0(o.id,this.serializeUrl(o.extractedUrl),g,null!==(v=o.targetSnapshot)&&void 0!==v?v:void 0);i.next(w);try{o.resolve(this.errorHandler(g))}catch(S){o.reject(S)}}return Qs.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var o;const u={replaceUrl:!0},d=null!==(o=t.state)&&void 0!==o&&o.navigationId?t.state:null;if(d){const v=Object.assign({},d);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(u.state=v)}const g=this.parseUrl(t.url);this.scheduleNavigation(g,i,d,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Nf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:g,preserveFragment:v}=i,w=o||this.routerState.root,S=v?this.currentUrlTree.fragment:d;let N=null;switch(g){case"merge":N=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=u||null}return null!==N&&(N=this.removeEmptyProps(N)),E0(w,this.currentUrlTree,t,N,null!=S?S:null)}navigateByUrl(t,i={skipLocationChange:!1}){const o=Zi(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function a1(r){for(let n=0;n<r.length;n++){if(null==r[n])throw new e.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return i}isActive(t,i){let o;if(o=!0===i?Object.assign({},N_):!1===i?Object.assign({},Jb):i,Zi(t))return $c(this.currentUrlTree,t,o);const u=this.parseUrl(t);return $c(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((i,o)=>{const u=t[o];return null!=u&&(i[o]=u),i},{})}processNavigations(){this.navigations.subscribe(t=>{var i;this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Su(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(i=this.titleStrategy)||void 0===i||i.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,o,u,d){var g,v;if(this.disposed)return Promise.resolve(!1);let w,S,N;d?(w=d.resolve,S=d.reject,N=d.promise):N=new Promise((te,Pe)=>{w=te,S=Pe});const R=++this.navigationId;let z;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),z=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):z=0,this.setTransition({id:R,targetPageId:z,source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:w,reject:S,promise:N,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),N.catch(te=>Promise.reject(te))}setBrowserUrl(t,i){const o=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,i=!1){var o,u;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===d?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,o){const u=new Ef(t.id,this.serializeUrl(t.extractedUrl),i,o);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return r.\u0275fac=function(t){e.$Z()},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();function u1(r){return"imperative"!==r}let $o=(()=>{class r{constructor(t,i,o){this.router=t,this.route=i,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new jo.x,this.subscription=t.events.subscribe(u=>{u instanceof Su&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,o,u,d){if(0!==t||i||o||u||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const g={skipLocationChange:(0,e.D6c)(this.skipLocationChange),replaceUrl:(0,e.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,e.D6c)(this.preserveFragment)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Pn),e.Y36(Ys),e.Y36(Te))},r.\u0275dir=e.lG2({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&e.NdJ("click",function(u){return i.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&e.uIk("target",i.target)("href",i.href,e.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[e.TTD]}),r})(),c1=(()=>{class r{buildTitle(t){var i;let o,u=t.root;for(;void 0!==u;)o=null!==(i=this.getResolvedTitleForRoute(u))&&void 0!==i?i:o,u=u.children.find(d=>d.outlet===Qt);return o}getResolvedTitleForRoute(t){return t.data[Lf]}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(){return(0,e.f3M)(Ff)},providedIn:"root"}),r})(),Ff=(()=>{class r extends c1{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(uu))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class Rl{}let Ph=(()=>{class r{constructor(t,i,o,u,d){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(gt(t=>t instanceof Su),Iu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){var o,u,d;const g=[];for(const v of i){v.providers&&!v._injector&&(v._injector=(0,e.MMx)(v.providers,t,`Route: ${v.path}`));const w=null!==(o=v._injector)&&void 0!==o?o:t,S=null!==(u=v._loadedInjector)&&void 0!==u?u:w;v.loadChildren&&!v._loadedRoutes||v.loadComponent&&!v._loadedComponent?g.push(this.preloadConfig(w,v)):(v.children||v._loadedRoutes)&&g.push(this.processRoutes(S,null!==(d=v.children)&&void 0!==d?d:v._loadedRoutes))}return(0,Sn.D)(g).pipe((0,Al.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):wt(null);const u=o.pipe((0,Ir.z)(d=>{var g;return null===d?wt(void 0):(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,this.processRoutes(null!==(g=d.injector)&&void 0!==g?g:t,d.routes))}));if(i.loadComponent&&!i._loadedComponent){const d=this.loader.loadComponent(i);return(0,Sn.D)([u,d]).pipe((0,Al.J)())}return u})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Pn),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(Rl),e.LFG(ea))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const ed=new e.OlP("");let zb=(()=>{class r{constructor(t,i,o={}){this.router=t,this.viewportScroller=i,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof o_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Su&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof u_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new u_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(t){e.$Z()},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Uh=new e.OlP("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),qf=new e.OlP("ROUTER_FORROOT_GUARD"),M_=new e.OlP(""),P_=[ke,{provide:Qm,useClass:v0},{provide:Pn,useFactory:function tA(r,n,t,i,o,u,d,g={},v,w){const S=new Pn(null,r,n,t,i,o,g0(u));return v&&(S.urlHandlingStrategy=v),w&&(S.routeReuseStrategy=w),S.titleStrategy=d,function Co(r,n){r.errorHandler&&(n.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(n.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(n.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(n.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(n.urlUpdateStrategy=r.urlUpdateStrategy),r.canceledNavigationResolution&&(n.canceledNavigationResolution=r.canceledNavigationResolution)}(g,S),S},deps:[Qm,Ih,ke,e.zs3,e.Sil,o1,c1,Uh,[class k_{},new e.FiY],[class I2{},new e.FiY]]},Ih,{provide:Ys,useFactory:function f1(r){return r.routerState.root},deps:[Pn]},ea];function Kb(){return new e.PXZ("Router",Pn)}let Yb=(()=>{class r{constructor(t,i){}static forRoot(t,i){return{ngModule:r,providers:[P_,[],U_(t),{provide:qf,useFactory:p1,deps:[[Pn,new e.FiY,new e.tp0]]},{provide:Uh,useValue:i||{}},null!=i&&i.useHash?{provide:Te,useClass:He}:{provide:Te,useClass:dt},{provide:ed,useFactory:()=>{const r=(0,e.f3M)(Pn),n=(0,e.f3M)(xs),t=(0,e.f3M)(Uh);return t.scrollOffset&&n.setOffset(t.scrollOffset),new zb(r,n,t)}},null!=i&&i.preloadingStrategy?aA(i.preloadingStrategy):[],{provide:e.PXZ,multi:!0,useFactory:Kb},null!=i&&i.initialNavigation?iA(i):[],[{provide:rA,useFactory:nA},{provide:e.tb,multi:!0,useExisting:rA}]]}}static forChild(t){return{ngModule:r,providers:[U_(t)]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(qf,8),e.LFG(Pn,8))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();function p1(r){return"guarded"}function U_(r){return[{provide:e.deG,multi:!0,useValue:r},{provide:o1,multi:!0,useValue:r}]}function nA(){const r=(0,e.f3M)(e.zs3);return n=>{var t,i;const o=r.get(e.z2F);if(n!==o.components[0])return;const u=r.get(Pn),d=r.get(R_);null===r.get(L_,null,e.XFs.Optional)&&u.initialNavigation(),null===(t=r.get(M_,null,e.XFs.Optional))||void 0===t||t.setUpPreloading(),null===(i=r.get(ed,null,e.XFs.Optional))||void 0===i||i.init(),u.resetRootComponentType(o.componentTypes[0]),d.next(),d.complete()}}const rA=new e.OlP("");function iA(r){return["disabled"===r.initialNavigation?[{provide:e.ip1,multi:!0,useFactory:()=>{const r=(0,e.f3M)(Pn);return()=>{r.setUpLocationChangeListener()}}},{provide:L_,useValue:"disabled"}]:[],"enabledBlocking"===r.initialNavigation?[{provide:L_,useValue:"enabledBlocking"},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:r=>{const n=r.get(G,Promise.resolve(null));let t=!1;return()=>n.then(()=>new Promise(o=>{const u=r.get(Pn),d=r.get(R_);(function i(o){r.get(Pn).events.pipe(gt(d=>d instanceof Su||d instanceof Ef||d instanceof x0),(0,se.U)(d=>d instanceof Su||d instanceof Ef&&(0===d.code||1===d.code)&&null),gt(d=>null!==d),Bc(1)).subscribe(()=>{o()})})(()=>{o(!0),t=!0}),u.afterPreactivation=()=>(o(!0),t||d.closed?wt(void 0):d),u.initialNavigation()}))}}]:[]]}const R_=new e.OlP("",{factory:()=>new jo.x}),L_=new e.OlP("");function aA(r){return[Ph,{provide:M_,useExisting:Ph},{provide:Rl,useExisting:r}]}let lA=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-laws"]],decls:10,vars:0,consts:[["routerLink","../clusters"],[1,"text-green-dull"],[1,"text-green"]],template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"Laws works!"),e.qZA(),e.TgZ(2,"a",0),e._uU(3,"clusters"),e.qZA(),e.TgZ(4,"p")(5,"a",1),e._uU(6,"[ "),e.TgZ(7,"span",2),e._uU(8,"O"),e.qZA(),e._uU(9,"nly Evolved ]"),e.qZA()())},dependencies:[$o]}),r})(),Oh=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],inputs:{selectedLanguage:"selectedLanguage"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),r})();class F_{}class q_{}class na{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const o=t.slice(0,i),u=o.toLowerCase(),d=t.slice(i+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(t=>{let i=n[t];const o=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(o,i),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof na?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new na;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof na?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,t);const o=("a"===n.op?this.headers.get(t):void 0)||[];o.push(...i),this.headers.set(t,o);break;case"d":const u=n.value;if(u){let d=this.headers.get(t);if(!d)return;d=d.filter(g=>-1===u.indexOf(g)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class V_{encodeKey(n){return B_(n)}encodeValue(n){return B_(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const dA=/%(\d[a-f0-9])/gi,S2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function B_(r){return encodeURIComponent(r).replace(dA,(n,t)=>{var i;return null!==(i=S2[t])&&void 0!==i?i:n})}function Vf(r){return`${r}`}class $a{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new V_,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function cA(r,n){const t=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[d,g]=-1==u?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,u)),n.decodeValue(o.slice(u+1))],v=t.get(d)||[];v.push(g),t.set(d,v)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const i=n.fromObject[t],o=Array.isArray(i)?i.map(Vf):[Vf(i)];this.map.set(t,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(i=>{const o=n[i];Array.isArray(o)?o.forEach(u=>{t.push({param:i,value:u,op:"a"})}):t.push({param:i,value:o,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new $a({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(Vf(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const o=i.indexOf(Vf(n.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class j_{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function m1(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function Rh(r){return"undefined"!=typeof Blob&&r instanceof Blob}function Bf(r){return"undefined"!=typeof FormData&&r instanceof FormData}class Ll{constructor(n,t,i,o){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function hA(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,u=o):u=i,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new na),this.context||(this.context=new j_),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+d}}else this.params=new $a,this.urlWithParams=t}serializeBody(){return null===this.body?null:m1(this.body)||Rh(this.body)||Bf(this.body)||function pA(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof $a?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Bf(this.body)?null:Rh(this.body)?this.body.type||null:m1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $a?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var t;const i=n.method||this.method,o=n.url||this.url,u=n.responseType||this.responseType,d=void 0!==n.body?n.body:this.body,g=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,v=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let w=n.headers||this.headers,S=n.params||this.params;const N=null!==(t=n.context)&&void 0!==t?t:this.context;return void 0!==n.setHeaders&&(w=Object.keys(n.setHeaders).reduce((R,z)=>R.set(z,n.setHeaders[z]),w)),n.setParams&&(S=Object.keys(n.setParams).reduce((R,z)=>R.set(z,n.setParams[z]),S)),new Ll(i,o,d,{params:S,headers:w,context:N,reportProgress:v,responseType:u,withCredentials:g})}}var dr=(()=>((dr=dr||{})[dr.Sent=0]="Sent",dr[dr.UploadProgress=1]="UploadProgress",dr[dr.ResponseHeader=2]="ResponseHeader",dr[dr.DownloadProgress=3]="DownloadProgress",dr[dr.Response=4]="Response",dr[dr.User=5]="User",dr))();class jf{constructor(n,t=200,i="OK"){this.headers=n.headers||new na,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class _1 extends jf{constructor(n={}){super(n),this.type=dr.ResponseHeader}clone(n={}){return new _1({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class It extends jf{constructor(n={}){super(n),this.type=dr.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new It({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class $f extends jf{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function y1(r,n){return{body:n,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let Ha=(()=>{class r{constructor(t){this.handler=t}request(t,i,o={}){let u;if(t instanceof Ll)u=t;else{let v,w;v=o.headers instanceof na?o.headers:new na(o.headers),o.params&&(w=o.params instanceof $a?o.params:new $a({fromObject:o.params})),u=new Ll(t,i,void 0!==o.body?o.body:null,{headers:v,context:o.context,params:w,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const d=wt(u).pipe(Iu(v=>this.handler.handle(v)));if(t instanceof Ll||"events"===o.observe)return d;const g=d.pipe(gt(v=>v instanceof It));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return g.pipe((0,se.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return g.pipe((0,se.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return g.pipe((0,se.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return g.pipe((0,se.U)(v=>v.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new $a).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,o={}){return this.request("PATCH",t,y1(o,i))}post(t,i,o={}){return this.request("POST",t,y1(o,i))}put(t,i,o={}){return this.request("PUT",t,y1(o,i))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(F_))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class $_{constructor(n,t){this.next=n,this.interceptor=t}handle(n){return this.interceptor.intercept(n,this.next)}}const Lh=new e.OlP("HTTP_INTERCEPTORS");let v1=(()=>{class r{intercept(t,i){return i.handle(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const mA=/^\)\]\}',?\n/;let td=(()=>{class r{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Br.y(i=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((z,te)=>o.setRequestHeader(z,te.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const z=t.detectContentTypeHeader();null!==z&&o.setRequestHeader("Content-Type",z)}if(t.responseType){const z=t.responseType.toLowerCase();o.responseType="json"!==z?z:"text"}const u=t.serializeBody();let d=null;const g=()=>{if(null!==d)return d;const z=o.statusText||"OK",te=new na(o.getAllResponseHeaders()),Pe=function _A(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(o)||t.url;return d=new _1({headers:te,status:o.status,statusText:z,url:Pe}),d},v=()=>{let{headers:z,status:te,statusText:Pe,url:Ge}=g(),ft=null;204!==te&&(ft=void 0===o.response?o.responseText:o.response),0===te&&(te=ft?200:0);let Ut=te>=200&&te<300;if("json"===t.responseType&&"string"==typeof ft){const Xt=ft;ft=ft.replace(mA,"");try{ft=""!==ft?JSON.parse(ft):null}catch(bt){ft=Xt,Ut&&(Ut=!1,ft={error:bt,text:ft})}}Ut?(i.next(new It({body:ft,headers:z,status:te,statusText:Pe,url:Ge||void 0})),i.complete()):i.error(new $f({error:ft,headers:z,status:te,statusText:Pe,url:Ge||void 0}))},w=z=>{const{url:te}=g(),Pe=new $f({error:z,status:o.status||0,statusText:o.statusText||"Unknown Error",url:te||void 0});i.error(Pe)};let S=!1;const N=z=>{S||(i.next(g()),S=!0);let te={type:dr.DownloadProgress,loaded:z.loaded};z.lengthComputable&&(te.total=z.total),"text"===t.responseType&&!!o.responseText&&(te.partialText=o.responseText),i.next(te)},R=z=>{let te={type:dr.UploadProgress,loaded:z.loaded};z.lengthComputable&&(te.total=z.total),i.next(te)};return o.addEventListener("load",v),o.addEventListener("error",w),o.addEventListener("timeout",w),o.addEventListener("abort",w),t.reportProgress&&(o.addEventListener("progress",N),null!==u&&o.upload&&o.upload.addEventListener("progress",R)),o.send(u),i.next({type:dr.Sent}),()=>{o.removeEventListener("error",w),o.removeEventListener("abort",w),o.removeEventListener("load",v),o.removeEventListener("timeout",w),t.reportProgress&&(o.removeEventListener("progress",N),null!==u&&o.upload&&o.upload.removeEventListener("progress",R)),o.readyState!==o.DONE&&o.abort()}})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(xr))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const J_=new e.OlP("XSRF_COOKIE_NAME"),w1=new e.OlP("XSRF_HEADER_NAME");class b1{}let Z2=(()=>{class r{constructor(t,i,o){this.doc=t,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Yn(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(fe),e.LFG(e.Lbi),e.LFG(J_))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),W_=(()=>{class r{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const o=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return i.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),i.handle(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(b1),e.LFG(w1))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),yA=(()=>{class r{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(Lh,[]);this.chain=i.reduceRight((o,u)=>new $_(o,u),this.backend)}return this.chain.handle(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(q_),e.LFG(e.zs3))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),P2=(()=>{class r{static disable(){return{ngModule:r,providers:[{provide:W_,useClass:v1}]}}static withOptions(t={}){return{ngModule:r,providers:[t.cookieName?{provide:J_,useValue:t.cookieName}:[],t.headerName?{provide:w1,useValue:t.headerName}:[]]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[W_,{provide:Lh,useExisting:W_,multi:!0},{provide:b1,useClass:Z2},{provide:J_,useValue:"XSRF-TOKEN"},{provide:w1,useValue:"X-XSRF-TOKEN"}]}),r})(),A1=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[Ha,{provide:F_,useClass:yA},td,{provide:q_,useExisting:td}],imports:[P2.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),r})();const nd_firebase={apiKey:"AIzaSyCXYvy7VEEXvSUDGnRzB_0kJhcs6k6mFeQ",authDomain:"language-parser-358314.firebaseapp.com",projectId:"language-parser-358314",storageBucket:"language-parser-358314.appspot.com",messagingSenderId:"457941235931",appId:"1:457941235931:web:3d318384aff9c40965b4fe",measurementId:"G-S1PTJS0DPB"},nd_rootUrl="https://api.language.owlbeardm.com";let Ga=(()=>{class r{constructor(){this.rootUrl=nd_rootUrl}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),rd=(()=>{class r{constructor(t,i){this.config=t,this.http=i,this._rootUrl=""}get rootUrl(){return this._rootUrl||this.config.rootUrl}set rootUrl(t){this._rootUrl=t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ga),e.LFG(Ha))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const CA=new class vA{encodeKey(n){return encodeURIComponent(n)}encodeValue(n){return encodeURIComponent(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};class z_{constructor(n,t,i,o,u){this.name=n,this.value=t,this.options=i,this.options=i||{},null==this.options.style&&(this.options.style=o),null==this.options.explode&&(this.options.explode=u)}serializeValue(n,t=","){if(null==n)return"";if(n instanceof Array)return n.map(i=>this.serializeValue(i).split(t).join(encodeURIComponent(t))).join(t);if("object"==typeof n){const i=[];for(const o of Object.keys(n)){let u=n[o];null!=u&&(u=this.serializeValue(u).split(t).join(encodeURIComponent(t)),this.options.explode?i.push(`${o}=${u}`):(i.push(o),i.push(u)))}return i.join(t)}return String(n)}}class TA extends z_{constructor(n,t,i){super(n,t,i,"simple",!1)}append(n){let t=this.value;null==t&&(t="");let i="label"===this.options.style?".":"",o=this.options.explode?""===i?",":i:",",u=!1;return"matrix"===this.options.style&&(i=`;${this.name}=`,this.options.explode&&"object"==typeof t&&(i=";",t instanceof Array?(t=t.map(d=>`${this.name}=${this.serializeValue(d,";")}`),t=t.join(";"),u=!0):(t=this.serializeValue(t,";"),u=!0))),t=i+(u?t:this.serializeValue(t,o)),(n=n.replace(`{${this.name}}`,t)).replace(`{${i}${this.name}${this.options.explode?"*":""}}`,t)}serializeValue(n,t=","){var i="string"==typeof n?encodeURIComponent(n):super.serializeValue(n,t);return(i=(i=i.replace("%3D","=")).replace("%3B",";")).replace("%2C",",")}}class Gf extends z_{constructor(n,t,i){super(n,t,i,"form",!0)}append(n){if(this.value instanceof Array){if(!this.options.explode)return n.append(this.name,this.serializeValue(this.value,"spaceDelimited"===this.options.style?" ":"pipeDelimited"===this.options.style?"|":","));for(const t of this.value)n=n.append(this.name,this.serializeValue(t))}else if(null!==this.value&&"object"==typeof this.value)if("deepObject"===this.options.style)for(const t of Object.keys(this.value)){const i=this.value[t];null!=i&&(n=n.append(`${this.name}[${t}]`,this.serializeValue(i)))}else if(this.options.explode)for(const t of Object.keys(this.value)){const i=this.value[t];null!=i&&(n=n.append(t,this.serializeValue(i)))}else{const t=[];for(const i of Object.keys(this.value)){const o=this.value[i];null!=o&&(t.push(i),t.push(o))}n=n.append(this.name,this.serializeValue(t))}else null!=this.value&&(n=n.append(this.name,this.serializeValue(this.value)));return n}}class Fl extends z_{constructor(n,t,i){super(n,t,i,"simple",!1)}append(n){if(null!=this.value)if(this.value instanceof Array)for(const t of this.value)n=n.append(this.name,this.serializeValue(t));else n=n.append(this.name,this.serializeValue(this.value));return n}}class Nt{constructor(n,t,i){this.rootUrl=n,this.operationPath=t,this.method=i,this._path=new Map,this._query=new Map,this._header=new Map}path(n,t,i){this._path.set(n,new TA(n,t,i||{}))}query(n,t,i){this._query.set(n,new Gf(n,t,i||{}))}header(n,t,i){this._header.set(n,new Fl(n,t,i||{}))}body(n,t="application/json"){if(this._bodyContentType=n instanceof Blob?n.type:t,"application/x-www-form-urlencoded"===this._bodyContentType&&null!==n&&"object"==typeof n){const i=[];for(const o of Object.keys(n)){let u=n[o];u instanceof Array||(u=[u]);for(const d of u){const g=this.formDataValue(d);null!==g&&i.push([o,g])}}this._bodyContent=i.map(o=>`${encodeURIComponent(o[0])}=${encodeURIComponent(o[1])}`).join("&")}else if("multipart/form-data"===this._bodyContentType){const i=new FormData;if(null!=n)for(const o of Object.keys(n)){const u=n[o];if(u instanceof Array)for(const d of u){const g=this.formDataValue(d);null!==g&&i.append(o,g)}else{const d=this.formDataValue(u);null!==d&&i.set(o,d)}}this._bodyContent=i}else this._bodyContent=n}formDataValue(n){return null==n?null:n instanceof Blob?n:"object"==typeof n?JSON.stringify(n):String(n)}build(n){n=n||{};let t=this.operationPath;for(const d of this._path.values())t=d.append(t);const i=this.rootUrl+t;let o=new $a({encoder:CA});for(const d of this._query.values())o=d.append(o);let u=new na;n.accept&&(u=u.append("Accept",n.accept));for(const d of this._header.values())u=d.append(u);return this._bodyContentType&&!(this._bodyContent instanceof FormData)&&(u=u.set("Content-Type",this._bodyContentType)),new Ll(this.method.toUpperCase(),i,this._bodyContent,{params:o,headers:u,responseType:n.responseType,reportProgress:n.reportProgress})}}let Ni=(()=>{class r extends rd{constructor(t,i){super(t,i)}saveLanguage$Response(t){const i=new Nt(this.rootUrl,r.SaveLanguagePath,"post");return t&&i.body(t.body,"application/json"),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}saveLanguage(t){return this.saveLanguage$Response(t).pipe((0,se.U)(i=>i.body))}getAllLanguages$Response(t){const i=new Nt(this.rootUrl,r.GetAllLanguagesPath,"get");return this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getAllLanguages(t){return this.getAllLanguages$Response(t).pipe((0,se.U)(i=>i.body))}getLanguageSoundClusters$Response(t){const i=new Nt(this.rootUrl,r.GetLanguageSoundClustersPath,"get");return t&&i.path("languageId",t.languageId,{}),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getLanguageSoundClusters(t){return this.getLanguageSoundClusters$Response(t).pipe((0,se.U)(i=>i.body))}getLanguagePhonemes$Response(t){const i=new Nt(this.rootUrl,r.GetLanguagePhonemesPath,"get");return t&&i.path("languageId",t.languageId,{}),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getLanguagePhonemes(t){return this.getLanguagePhonemes$Response(t).pipe((0,se.U)(i=>i.body))}saveLanguagePhoneme$Response(t){const i=new Nt(this.rootUrl,r.SaveLanguagePhonemePath,"post");return t&&(i.path("languageId",t.languageId,{}),i.body(t.body,"application/json")),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}saveLanguagePhoneme(t){return this.saveLanguagePhoneme$Response(t).pipe((0,se.U)(i=>i.body))}deleteLanguagePhoneme$Response(t){const i=new Nt(this.rootUrl,r.DeleteLanguagePhonemePath,"delete");return t&&i.path("phonemeId",t.phonemeId,{}),this.http.request(i.build({responseType:"text",accept:"*/*"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o.clone({body:void 0})))}deleteLanguagePhoneme(t){return this.deleteLanguagePhoneme$Response(t).pipe((0,se.U)(i=>i.body))}getAllPartsOfSpeechByLanguage$Response(t){const i=new Nt(this.rootUrl,r.GetAllPartsOfSpeechByLanguagePath,"get");return t&&i.path("languageId",t.languageId,{}),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getAllPartsOfSpeechByLanguage(t){return this.getAllPartsOfSpeechByLanguage$Response(t).pipe((0,se.U)(i=>i.body))}deleteLanguage$Response(t){const i=new Nt(this.rootUrl,r.DeleteLanguagePath,"delete");return t&&i.path("languageId",t.languageId,{}),this.http.request(i.build({responseType:"text",accept:"*/*"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o.clone({body:void 0})))}deleteLanguage(t){return this.deleteLanguage$Response(t).pipe((0,se.U)(i=>i.body))}canDeleteLanguage$Response(t){const i=new Nt(this.rootUrl,r.CanDeleteLanguagePath,"get");return t&&i.path("languageId",t.languageId,{}),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o.clone({body:"true"===String(o.body)})))}canDeleteLanguage(t){return this.canDeleteLanguage$Response(t).pipe((0,se.U)(i=>i.body))}}return r.SaveLanguagePath="/api/language/",r.GetAllLanguagesPath="/api/language/all",r.GetLanguageSoundClustersPath="/api/language/clusters/{languageId}",r.GetLanguagePhonemesPath="/api/language/phoneme/{languageId}",r.SaveLanguagePhonemePath="/api/language/phoneme/{languageId}",r.DeleteLanguagePhonemePath="/api/language/phoneme/{phonemeId}",r.GetAllPartsOfSpeechByLanguagePath="/api/language/pos/{languageId}",r.DeleteLanguagePath="/api/language/{languageId}",r.CanDeleteLanguagePath="/api/language/{languageId}/candelete",r.\u0275fac=function(t){return new(t||r)(e.LFG(Ga),e.LFG(Ha))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),E1=(()=>{class r extends Oh{constructor(t){super(),this.languagesService=t,this.langsc={}}ngOnInit(){super.ngOnInit(),this.refresh()}ngOnChanges(t){var i;t.selectedLanguage.currentValue&&(console.log(t,t.selectedLanguage.currentValue.id,null===(i=this.selectedLanguage)||void 0===i?void 0:i.id),this.refresh())}refresh(){var t,i;null!==(t=this.selectedLanguage)&&void 0!==t&&t.id&&this.languagesService.getLanguageSoundClusters({languageId:null===(i=this.selectedLanguage)||void 0===i?void 0:i.id}).subscribe(o=>{var u,d,g,v,w,S;o.constClusters=null===(u=o.constClusters)||void 0===u?void 0:u.sort((N,R)=>R.length-N.length),o.constClustersStart=null===(d=o.constClustersStart)||void 0===d?void 0:d.sort((N,R)=>R.length-N.length),o.constClustersEnd=null===(g=o.constClustersEnd)||void 0===g?void 0:g.sort((N,R)=>R.length-N.length),o.vowelClusters=null===(v=o.vowelClusters)||void 0===v?void 0:v.sort((N,R)=>R.length-N.length),o.vowelClustersStart=null===(w=o.vowelClustersStart)||void 0===w?void 0:w.sort((N,R)=>R.length-N.length),o.vowelClustersEnd=null===(S=o.vowelClustersEnd)||void 0===S?void 0:S.sort((N,R)=>R.length-N.length),this.langsc=o})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ni))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-clusters"]],features:[e.qOj,e.TTD],decls:24,vars:6,template:function(t,i){1&t&&(e.TgZ(0,"p")(1,"span"),e._uU(2,"All consonant clusters: "),e.qZA(),e._uU(3),e.qZA(),e.TgZ(4,"p")(5,"span"),e._uU(6,"Starting consonant clusters: "),e.qZA(),e._uU(7),e.qZA(),e.TgZ(8,"p")(9,"span"),e._uU(10,"End consonant clusters: "),e.qZA(),e._uU(11),e.qZA(),e.TgZ(12,"p")(13,"span"),e._uU(14,"All vowel clusters: "),e.qZA(),e._uU(15),e.qZA(),e.TgZ(16,"p")(17,"span"),e._uU(18,"Starting vowel clusters: "),e.qZA(),e._uU(19),e.qZA(),e.TgZ(20,"p")(21,"span"),e._uU(22,"End vowel clusters: "),e.qZA(),e._uU(23),e.qZA()),2&t&&(e.xp6(3),e.Oqu(i.langsc.constClusters),e.xp6(4),e.Oqu(i.langsc.constClustersStart),e.xp6(4),e.Oqu(i.langsc.constClustersEnd),e.xp6(4),e.Oqu(i.langsc.vowelClusters),e.xp6(4),e.Oqu(i.langsc.vowelClustersStart),e.xp6(4),e.Oqu(i.langsc.vowelClustersEnd))}}),r})();const wA=["col"],Q_=["app-horizontal-dash",""];let nr=(()=>{class r{constructor(t,i){this.cdRef=t,this.router=i,this.bcol=""}ngOnInit(){}onResize(){this.resizeDash()}ngAfterViewChecked(){this.resizeDash()}resizeDash(){var t;const i=Math.max(0,Math.floor(((null===(t=this.col)||void 0===t?void 0:t.nativeElement.offsetWidth)-1)/8)),o=this.bcol;this.bcol=i?(this.symbol?this.symbol:"-").repeat(i):"",o!==this.bcol&&this.cdRef.detectChanges()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(Pn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["th","app-horizontal-dash",""]],viewQuery:function(t,i){if(1&t&&e.Gf(wA,5),2&t){let o;e.iGM(o=e.CRH())&&(i.col=o.first)}},hostBindings:function(t,i){1&t&&e.NdJ("resize",function(u){return i.onResize(u)},!1,e.Jf7)},inputs:{symbol:"symbol"},attrs:Q_,decls:3,vars:1,consts:[[1,"border","th-span"],["col",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0,1),e._uU(2),e.qZA()),2&t&&(e.xp6(2),e.Oqu(i.bcol))},styles:[".th-span[_ngcontent-%COMP%]{width:100%;min-width:10px}"]}),r})();var ys=P(4986),Fh=P(3532);const Jf=["row"],Ho=["app-vertical-dash",""];let ku=(()=>{class r{constructor(t,i){this.cdRef=t,this.router=i,this.brow="",this.deleted=!1,i.events.subscribe(o=>{this.brow="",this.cdRef.detectChanges(),function ql(r=0,n,t=ys.P){let i=-1;return null!=n&&((0,Fh.K)(n)?t=n:i=n),new Br.y(o=>{let u=function mi(r){return r instanceof Date&&!isNaN(r)}(r)?+r-t.now():r;u<0&&(u=0);let d=0;return t.schedule(function(){o.closed||(o.next(d++),0<=i?this.schedule(void 0,i):o.complete())},u)})}(10).subscribe(()=>{this.resizeDash()})})}ngOnInit(){}onResize(){this.resizeDash()}ngAfterViewChecked(){this.resizeDash()}resizeDash(){var t;const i=Math.max(0,Math.floor((null===(t=this.row)||void 0===t?void 0:t.nativeElement.parentNode.offsetHeight)/16)),o=this.brow;this.brow=i?"|\n".repeat(i):"",o!==this.brow&&this.cdRef.detectChanges()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(Pn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["th","app-vertical-dash",""]],viewQuery:function(t,i){if(1&t&&e.Gf(Jf,5),2&t){let o;e.iGM(o=e.CRH())&&(i.row=o.first)}},hostBindings:function(t,i){1&t&&e.NdJ("resize",function(u){return i.onResize(u)},!1,e.Jf7)},inputs:{symbol:"symbol"},attrs:Ho,decls:3,vars:1,consts:[[1,"border","td-span"],["row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0,1),e._uU(2),e.qZA()),2&t&&(e.xp6(2),e.Oqu(i.brow))},styles:[".td-span[_ngcontent-%COMP%]{width:100%;height:100%;min-height:10px}"]}),r})();class Vl{constructor(n){Object.assign(this,n)}}let ra=(()=>{class r{constructor(){}match(t,i=[],o){return new Vl(o||{}),new Br.y(d=>{})}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function id(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",6),e._uU(1,"[ "),e.TgZ(2,"a",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.editComment=!0)}),e._uU(3,"Description"),e.qZA(),e._uU(4," ] "),e.qZA()}}function od(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"Description"),e.qZA())}function sd(r,n){if(1&r&&(e.TgZ(0,"th",8),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.selectedLanguage.comment)}}function D1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",8)(1,"textarea",16),e.NdJ("ngModelChange",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.canUpdate=!0)})("ngModelChange",function(o){e.CHM(t);const u=e.oxw(2);return e.KtG(u.selectedLanguage.comment=o)}),e.qZA()()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.selectedLanguage.comment)("cols",20)("rows",5)}}function S1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"[ "),e.TgZ(2,"a",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.saveChanges())}),e._uU(3,"Save"),e.qZA(),e._uU(4," ]"),e.qZA()}}function x1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"[ Save ]"),e.qZA())}function k1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"[ "),e.TgZ(2,"a",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.deleteLanguage())}),e._uU(3,"Delete"),e.qZA(),e._uU(4," ]"),e.qZA()}}function Z1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"[ Delete ]"),e.qZA())}function N1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"table",1)(1,"colgroup"),e._UZ(2,"col",2)(3,"col",3)(4,"col",4)(5,"col",5),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",6),e._uU(9,"Display Name"),e.qZA(),e.TgZ(10,"th",7),e._uU(11,"|"),e._UZ(12,"br"),e._uU(13,"|"),e.qZA(),e.TgZ(14,"th",8)(15,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.canUpdate=!0)})("ngModelChange",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedLanguage.displayName=o)}),e.qZA()(),e.TgZ(16,"th",10),e._uU(17," |"),e._UZ(18,"br"),e._uU(19,"| "),e.qZA()(),e.TgZ(20,"tr")(21,"th",6),e._uU(22,"Native Name"),e.qZA(),e.TgZ(23,"th",7),e._uU(24,"|"),e._UZ(25,"br"),e._uU(26,"|"),e.qZA(),e.TgZ(27,"th",8)(28,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.canUpdate=!0)})("ngModelChange",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedLanguage.nativeName=o)}),e.qZA()(),e.TgZ(29,"th",10),e._uU(30,"|"),e._UZ(31,"br"),e._uU(32,"|"),e.qZA()(),e.TgZ(33,"tr"),e.YNc(34,id,5,0,"th",11),e.YNc(35,od,2,0,"th",11),e.TgZ(36,"th",7),e._uU(37,"|"),e._UZ(38,"br"),e._uU(39,"|"),e._UZ(40,"br"),e._uU(41,"|"),e._UZ(42,"br"),e._uU(43,"|"),e._UZ(44,"br"),e._uU(45,"|"),e._UZ(46,"br"),e._uU(47,"|"),e.qZA(),e.YNc(48,sd,2,1,"th",12),e.YNc(49,D1,2,3,"th",12),e.TgZ(50,"th",10),e._uU(51," |"),e._UZ(52,"br"),e._uU(53,"|"),e._UZ(54,"br"),e._uU(55,"|"),e._UZ(56,"br"),e._uU(57,"|"),e._UZ(58,"br"),e._uU(59,"|"),e._UZ(60,"br"),e._uU(61,"| "),e.qZA()(),e._UZ(62,"tr"),e.TgZ(63,"tr"),e._UZ(64,"th",13),e.TgZ(65,"th",7),e.YNc(66,S1,5,0,"span",14),e.YNc(67,x1,2,0,"span",14),e._uU(68,"-"),e.YNc(69,k1,5,0,"span",14),e.YNc(70,Z1,2,0,"span",14),e._uU(71,"-+ "),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(15),e.Q6J("ngModel",t.selectedLanguage.displayName),e.xp6(13),e.Q6J("ngModel",t.selectedLanguage.nativeName),e.xp6(6),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("ngIf",t.editComment),e.xp6(13),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("ngIf",t.editComment),e.xp6(17),e.Q6J("ngIf",t.canUpdate),e.xp6(1),e.Q6J("ngIf",!t.canUpdate),e.xp6(2),e.Q6J("ngIf",t.canDelete),e.xp6(1),e.Q6J("ngIf",!t.canDelete)}}let K_=(()=>{class r extends Oh{constructor(t){super(),this.languagesService=t,this.editComment=!1,this.canUpdate=!1,this.canDelete=!1,this.onDeleteLanguage=new e.vpe}ngOnInit(){super.ngOnInit(),this.refresh()}ngOnChanges(t){var i;t.selectedLanguage.currentValue&&(console.log(t,t.selectedLanguage.currentValue.id,null===(i=this.selectedLanguage)||void 0===i?void 0:i.id),this.refresh())}saveChanges(){this.selectedLanguage&&this.languagesService.saveLanguage({body:this.selectedLanguage}).subscribe(t=>{this.canUpdate=!1,this.editComment=!1})}deleteLanguage(){var t;null!==(t=this.selectedLanguage)&&void 0!==t&&t.id&&this.onDeleteLanguage.emit(this.selectedLanguage.id)}refresh(){var t,i;this.canUpdate=!1,this.editComment=!1,this.canDelete=!1,null!==(t=this.selectedLanguage)&&void 0!==t&&t.id&&this.languagesService.canDeleteLanguage({languageId:null===(i=this.selectedLanguage)||void 0===i?void 0:i.id}).subscribe(o=>{this.canDelete=o})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ni))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-description"]],outputs:{onDeleteLanguage:"onDeleteLanguage"},features:[e.qOj,e.TTD],decls:1,vars:1,consts:[["style","width: 100%; height: 100%",4,"ngIf"],[2,"width","100%","height","100%"],["span","1",2,"width","200px","text-align","right"],["span","1",1,"border",2,"width","32px"],["span","1",2,"width","auto"],["span","1",2,"width","169px"],[2,"text-align","right"],[1,"border"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],[1,"border",2,"text-align","right"],["style","text-align: right",4,"ngIf"],["style","text-align: left",4,"ngIf"],["app-horizontal-dash","","colspan","3",1,"border"],[4,"ngIf"],[1,"text-yellow-dull",3,"click"],[2,"width","100%",3,"ngModel","cols","rows","ngModelChange"],[1,"text-green-dull",3,"click"],[1,"text-red-dull",3,"click"]],template:function(t,i){1&t&&e.YNc(0,N1,72,10,"table",0),2&t&&e.Q6J("ngIf",i.selectedLanguage&&i.selectedLanguage.id)},dependencies:[Pt,Wn,lr,Mn,nr]}),r})(),Zu=(()=>{class r extends rd{constructor(t,i){super(t,i)}getAllPos$Response(t){const i=new Nt(this.rootUrl,r.GetAllPosPath,"get");return this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getAllPos(t){return this.getAllPos$Response(t).pipe((0,se.U)(i=>i.body))}savePos$Response(t){const i=new Nt(this.rootUrl,r.SavePosPath,"post");return t&&i.body(t.body,"application/json"),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o.clone({body:parseFloat(String(o.body))})))}savePos(t){return this.savePos$Response(t).pipe((0,se.U)(i=>i.body))}getAllPosByLanguage$Response(t){const i=new Nt(this.rootUrl,r.GetAllPosByLanguagePath,"get");return t&&i.path("languageId",t.languageId,{}),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getAllPosByLanguage(t){return this.getAllPosByLanguage$Response(t).pipe((0,se.U)(i=>i.body))}saveLanguagePos$Response(t){const i=new Nt(this.rootUrl,r.SaveLanguagePosPath,"post");return t&&i.body(t.body,"application/json"),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o.clone({body:parseFloat(String(o.body))})))}saveLanguagePos(t){return this.saveLanguagePos$Response(t).pipe((0,se.U)(i=>i.body))}deleteLanguagePos$Response(t){const i=new Nt(this.rootUrl,r.DeleteLanguagePosPath,"delete");return t&&i.path("id",t.id,{}),this.http.request(i.build({responseType:"text",accept:"*/*"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o.clone({body:void 0})))}deleteLanguagePos(t){return this.deleteLanguagePos$Response(t).pipe((0,se.U)(i=>i.body))}getPosByLanguage$Response(t){const i=new Nt(this.rootUrl,r.GetPosByLanguagePath,"get");return t&&i.path("languageId",t.languageId,{}),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getPosByLanguage(t){return this.getPosByLanguage$Response(t).pipe((0,se.U)(i=>i.body))}}return r.GetAllPosPath="/api/pos",r.SavePosPath="/api/pos",r.GetAllPosByLanguagePath="/api/pos/language/{languageId}",r.SaveLanguagePosPath="/api/pos/languagepos",r.DeleteLanguagePosPath="/api/pos/languagepos/{id}",r.GetPosByLanguagePath="/api/pos/languagepos/{languageId}",r.\u0275fac=function(t){return new(t||r)(e.LFG(Ga),e.LFG(Ha))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function M1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._UZ(1,"br"),e._uU(2," [ "),e.TgZ(3,"a",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.saveChanges())}),e._uU(4,"Update"),e.qZA(),e._uU(5," ] "),e.qZA()}}function bA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"table",1)(1,"colgroup"),e._UZ(2,"col",2)(3,"col",3)(4,"col",4)(5,"col",5),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",6),e._uU(9,"Name"),e.qZA(),e._UZ(10,"th",7),e.TgZ(11,"th",8)(12,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.canUpdate=!0)})("ngModelChange",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedPos.name=o)}),e.qZA()(),e._UZ(13,"th",10),e.qZA(),e.TgZ(14,"tr")(15,"th",6),e._uU(16,"Abbreviation"),e.qZA(),e._UZ(17,"th",7),e.TgZ(18,"th",8)(19,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.canUpdate=!0)})("ngModelChange",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedPos.abbreviation=o)}),e.qZA()(),e._UZ(20,"th",10),e.qZA(),e.TgZ(21,"tr"),e._UZ(22,"th",10),e.qZA(),e.TgZ(23,"tr")(24,"th",7),e.YNc(25,M1,6,0,"span",11),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(12),e.Q6J("ngModel",t.selectedPos.name),e.xp6(7),e.Q6J("ngModel",t.selectedPos.abbreviation),e.xp6(5),e.uIk("colspan",4),e.xp6(1),e.Q6J("ngIf",t.canUpdate)}}let AA=(()=>{class r extends Oh{constructor(t){super(),this.posService=t,this.editComment=!1,this.canUpdate=!1}saveChanges(){this.selectedPos&&this.posService.savePos({body:this.selectedPos}).subscribe(t=>{this.canUpdate=!1})}clickEditComment(){this.editComment=!0}clickSaveComment(){this.editComment=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Zu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-pos-details"]],inputs:{selectedPos:"selectedPos"},features:[e.qOj],decls:1,vars:1,consts:[["style","width: 100%",4,"ngIf"],[2,"width","100%"],["span","1",2,"width","200px","text-align","right"],["span","1",1,"border",2,"width","32px"],["span","1",2,"width","auto"],["span","1",2,"width","81px"],[2,"text-align","right"],[1,"border"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],[1,"border",2,"text-align","right"],[4,"ngIf"],[1,"text-green-dull",3,"click"]],template:function(t,i){1&t&&e.YNc(0,bA,26,4,"table",0),2&t&&e.Q6J("ngIf",i.selectedPos&&i.selectedPos.id)},dependencies:[Pt,Wn,lr,Mn]}),r})();function IA(r,n){if(1&r&&(e.TgZ(0,"th",15),e._UZ(1,"app-pos-details",16),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("selectedLanguage",t.selectedLanguage)("selectedPos",t.selectedPos)}}function P1(r,n){1&r&&e._UZ(0,"th",17)}function EA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th",10)(2,"a",11),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.connectPosToLanguage(u))}),e._uU(3),e.qZA()(),e.TgZ(4,"th",6),e._uU(5,"|"),e.qZA(),e.TgZ(6,"th",12)(7,"a",11),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.selectedPos=u)}),e._uU(8),e.qZA()(),e.TgZ(9,"th",12),e._uU(10),e.qZA(),e.YNc(11,IA,2,2,"th",13),e.YNc(12,P1,1,0,"th",14),e.qZA()}if(2&r){const t=n.$implicit,i=n.index,o=e.oxw();e.xp6(1),e.Q6J("ngClass",(null==o.selectedPos?null:o.selectedPos.id)===t.id?"selectedTh":""),e.xp6(1),e.Q6J("ngClass",o.getLanguagePosSymbol(t)?"text-green-dull":"text-grey-dull"),e.xp6(1),e.Oqu(o.getLanguagePosSymbol(t)?"o":"x"),e.xp6(3),e.Q6J("ngClass",(null==o.selectedPos?null:o.selectedPos.id)===t.id?"selectedTh":""),e.xp6(1),e.Q6J("ngClass",(null==o.selectedPos?null:o.selectedPos.id)===t.id?"text-main":o.getLanguagePosSymbol(t)?"text-grey":"text-grey-dull"),e.xp6(1),e.Oqu(t.name),e.xp6(1),e.Q6J("ngClass",(null==o.selectedPos?null:o.selectedPos.id)===t.id?"selectedTh":""),e.xp6(1),e.Oqu((null==o.selectedPos?null:o.selectedPos.id)===t.id?"":"|"),e.xp6(1),e.Q6J("ngIf",0==i),e.xp6(1),e.Q6J("ngIf",0==i)}}let DA=(()=>{class r extends Oh{constructor(t){super(),this.posService=t,this.pos=[],this.lp=[]}ngOnInit(){super.ngOnInit(),this.posService.getAllPos().subscribe(t=>this.pos=t.sort((i,o)=>i.name?i.name.localeCompare(o.name?o.name:""):-1))}ngOnChanges(t){t.selectedLanguage.currentValue&&(console.log(t,t.selectedLanguage.currentValue.id),t.selectedLanguage.currentValue.id&&this.posService.getPosByLanguage({languageId:t.selectedLanguage.currentValue.id}).subscribe(i=>this.lp=i))}addNewPOS(){const t={name:"new part of speech"};this.posService.savePos({body:t}).subscribe(i=>{t.id=i,this.selectedPos=t,this.pos.push(t)})}getLanguagePosSymbol(t){return!!this.selectedLanguage&&this.lp.filter(i=>{var o;return i.languageId===(null===(o=this.selectedLanguage)||void 0===o?void 0:o.id)&&i.posId===t.id}).length>0}connectPosToLanguage(t){var i,o,u;if(console.log("connectPosToLanguage",t),this.getLanguagePosSymbol(t)){if(null!==(i=this.selectedLanguage)&&void 0!==i&&i.id){const d=this.lp.find(g=>{var v;return g.languageId===(null===(v=this.selectedLanguage)||void 0===v?void 0:v.id)&&g.posId===t.id});d&&d.id&&this.posService.deleteLanguagePos({id:d.id}).subscribe(()=>{this.lp=this.lp.filter(g=>g.id!==d.id)})}}else if(null!==(o=this.selectedLanguage)&&void 0!==o&&o.id){const d={languageId:null===(u=this.selectedLanguage)||void 0===u?void 0:u.id,posId:t.id};this.posService.saveLanguagePos({body:d}).subscribe(g=>{d.id=g,this.lp.push(d)})}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Zu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-pos"]],features:[e.qOj,e.TTD],decls:23,vars:1,consts:[["span","1",1,"border",2,"width","17px"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","calc(30% - 41px)"],["span","1",1,"border",2,"width","70%"],[4,"ngFor","ngForOf"],["app-horizontal-dash","","colspan","3"],[1,"border"],["colspan","2"],[1,"text-green-dull",3,"click"],["app-horizontal-dash","","colspan","5"],[3,"ngClass"],[3,"ngClass","click"],[1,"border",3,"ngClass"],["class","border","rowspan","0","style","vertical-align: top;",4,"ngIf"],["app-vertical-dash","","class","border","rowspan","0",4,"ngIf"],["rowspan","0",1,"border",2,"vertical-align","top"],[3,"selectedLanguage","selectedPos"],["app-vertical-dash","","rowspan","0",1,"border"]],template:function(t,i){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",1)(6,"col",3)(7,"col",1),e.qZA(),e.TgZ(8,"tbody"),e.YNc(9,EA,13,10,"tr",4),e.TgZ(10,"tr"),e._UZ(11,"th",5),e.TgZ(12,"th",6),e._uU(13,"+"),e.qZA()(),e.TgZ(14,"tr"),e._UZ(15,"th",7),e.TgZ(16,"th")(17,"a",8),e.NdJ("click",function(){return i.addNewPOS()}),e._uU(18,"[ + ]"),e.qZA()(),e.TgZ(19,"th",6),e._uU(20,"|"),e.qZA()(),e.TgZ(21,"tr"),e._UZ(22,"th",9),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("ngForOf",i.pos))},dependencies:[Lr,yt,Pt,nr,ku,AA],styles:[".selectedTh[_ngcontent-%COMP%]{background-color:#333}"]}),r})(),Y_=(()=>{class r{constructor(){this.sounds=[],this.consonantVariants=["\u02b0","\u02b7","\u02b2","\u02b7\u02b0","\u02d0"]}addPhonetic(t){this.sounds.includes(t)||this.sounds.push(t)}getConsonantVariants(){return this.consonantVariants}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function X_(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",0),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,u=e.oxw(2);return e.KtG(u.onClick.emit(u.phonetic+o))}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("ngClass",i.getClass(i.phonetic+t)),e.xp6(1),e.Oqu(t)}}function SA(r,n){if(1&r&&(e.ynx(0),e.YNc(1,X_,2,2,"a",4),e.BQk()),2&r){const t=n.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.includesVariant(i.phonetic+t))}}function Wf(r,n){if(1&r&&(e.ynx(0),e.YNc(1,SA,2,1,"ng-container",3),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.constonantVariants)}}function zf(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span",5),e._uU(1," ("),e.TgZ(2,"a",0),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClick.emit(o.phonetic+"\u02d0"))}),e._uU(3),e.qZA(),e._uU(4,")"),e.qZA()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",t.getClass(t.phonetic+"\u02d0")),e.xp6(1),e.Oqu(t.phonetic+"\u02d0")}}let ad=(()=>{class r{constructor(t){this.ipaService=t,this.vowel=!1,this.consonant=!1,this.onClick=new e.vpe,this.constonantVariants=t.getConsonantVariants()}ngOnInit(){}getClass(t){var i,o,u,d,g,v,w,S,N,R,z,te;return(null===(o=null===(i=this.languageSounds)||void 0===i?void 0:i.selectedMainPhonemes)||void 0===o?void 0:o.filter(Pe=>Pe.phoneme===t).length)||(null===(d=null===(u=this.languageSounds)||void 0===u?void 0:u.selectedRestPhonemes)||void 0===d?void 0:d.filter(Pe=>Pe.phoneme===t).length)?(null===(v=null===(g=this.languageSounds)||void 0===g?void 0:g.usedMainPhonemes)||void 0===v?void 0:v.includes(t))||(null===(S=null===(w=this.languageSounds)||void 0===w?void 0:w.restUsedPhonemes)||void 0===S?void 0:S.includes(t))?"text-green-dull":"text-yellow-dull":(null===(R=null===(N=this.languageSounds)||void 0===N?void 0:N.usedMainPhonemes)||void 0===R?void 0:R.includes(t))||(null===(te=null===(z=this.languageSounds)||void 0===z?void 0:z.restUsedPhonemes)||void 0===te?void 0:te.includes(t))?"text-red-dull":"text-grey-dull"}includesVariant(t){var i,o,u,d,g,v,w,S;return!!((null===(o=null===(i=this.languageSounds)||void 0===i?void 0:i.usedMainPhonemes)||void 0===o?void 0:o.includes(t))||(null===(d=null===(u=this.languageSounds)||void 0===u?void 0:u.restUsedPhonemes)||void 0===d?void 0:d.includes(t))||(null===(v=null===(g=this.languageSounds)||void 0===g?void 0:g.selectedMainPhonemes)||void 0===v?void 0:v.filter(N=>N.phoneme===t).length)||(null===(S=null===(w=this.languageSounds)||void 0===w?void 0:w.selectedRestPhonemes)||void 0===S?void 0:S.filter(N=>N.phoneme===t).length))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Y_))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-phonetic-btn"]],inputs:{phonetic:"phonetic",vowel:"vowel",consonant:"consonant",languageSounds:"languageSounds"},outputs:{onClick:"onClick"},decls:4,vars:4,consts:[[3,"ngClass","click"],[4,"ngIf"],["class","text-grey-dull",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngClass","click",4,"ngIf"],[1,"text-grey-dull"]],template:function(t,i){1&t&&(e.TgZ(0,"a",0),e.NdJ("click",function(){return i.onClick.emit(i.phonetic)}),e._uU(1),e.qZA(),e.YNc(2,Wf,2,1,"ng-container",1),e.YNc(3,zf,5,2,"span",2)),2&t&&(e.Q6J("ngClass",i.getClass(i.phonetic)),e.xp6(1),e.Oqu(i.phonetic),e.xp6(1),e.Q6J("ngIf",i.consonant),e.xp6(1),e.Q6J("ngIf",i.vowel))},dependencies:[Lr,yt,Pt]}),r})(),xA=(()=>{class r{constructor(t,i){this.cdRef=t,this.languagesService=i,this.onClick=new e.vpe}ngOnInit(){}ngOnChanges(t){console.log("pulmonic consonants changes",t)}clicked(t){this.onClick.emit(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(Ni))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-pulmonic-consonants"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},features:[e.TTD],decls:1294,vars:454,consts:[["span","1",2,"width","auto"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","3.16766212%"],["colspan","37"],["app-horizontal-dash",""],["app-horizontal-dash","","colspan","35"],[2,"text-align","right"],["colspan","6"],["colspan","14"],["colspan","7"],["colspan","5"],["colspan","2","app-horizontal-dash",""],[2,"text-align","left"],["colspan","2"],["title","Labio-dental"],["title","Linguo-labial"],["title","Post-alveolar"],["title","Retro-flex"],["title","Pharyngeal/Epi-glottal"],[3,"consonant","languageSounds","phonetic","onClick"],["colspan","3"],["colspan","8","app-horizontal-dash",""],["colspan","5","app-horizontal-dash",""],["colspan","8"],["colspan","11"],["app-horizontal-dash","","colspan","37"],["colspan","35",2,"text-align","left"],[3,"languageSounds","phonetic","onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",2)(6,"col",1)(7,"col",2)(8,"col",2)(9,"col",1)(10,"col",2)(11,"col",2)(12,"col",1)(13,"col",2)(14,"col",2)(15,"col",1)(16,"col",2)(17,"col",2)(18,"col",1)(19,"col",2)(20,"col",2)(21,"col",1)(22,"col",2)(23,"col",2)(24,"col",1)(25,"col",2)(26,"col",2)(27,"col",1)(28,"col",2)(29,"col",2)(30,"col",1)(31,"col",2)(32,"col",2)(33,"col",1)(34,"col",2)(35,"col",2)(36,"col",1)(37,"col",2)(38,"col",2)(39,"col",1),e.qZA(),e.TgZ(40,"tbody")(41,"tr")(42,"th",3),e._uU(43," --- PLUMONIC CONSONANTS --- "),e.qZA(),e.TgZ(44,"th"),e._uU(45,"|"),e.qZA()(),e.TgZ(46,"tr"),e._UZ(47,"th",4),e.TgZ(48,"th"),e._uU(49,"+"),e.qZA(),e._UZ(50,"th",5),e.TgZ(51,"th"),e._uU(52,"+"),e.qZA()(),e.TgZ(53,"tr")(54,"th",6),e._uU(55,"Place"),e.qZA(),e.TgZ(56,"th"),e._uU(57,"|"),e.qZA(),e.TgZ(58,"th",7),e._uU(59,"Labial"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"|"),e.qZA(),e.TgZ(62,"th",8),e._uU(63,"Coronal"),e.qZA(),e.TgZ(64,"th"),e._uU(65,"|"),e.qZA(),e.TgZ(66,"th",9),e._uU(67,"Dorsal"),e.qZA(),e.TgZ(68,"th"),e._uU(69,"|"),e.qZA(),e.TgZ(70,"th",10),e._uU(71,"Laryngeal"),e.qZA(),e.TgZ(72,"th"),e._uU(73,"|"),e.qZA()(),e.TgZ(74,"tr"),e._UZ(75,"th"),e.TgZ(76,"th"),e._uU(77,"|"),e.qZA(),e._UZ(78,"th",11),e.TgZ(79,"th"),e._uU(80,"+"),e.qZA(),e._UZ(81,"th",11),e.TgZ(82,"th"),e._uU(83,"+"),e.qZA(),e._UZ(84,"th",11),e.TgZ(85,"th"),e._uU(86,"+"),e.qZA(),e._UZ(87,"th",11),e.TgZ(88,"th"),e._uU(89,"+"),e.qZA(),e._UZ(90,"th",11),e.TgZ(91,"th"),e._uU(92,"+"),e.qZA(),e._UZ(93,"th",11),e.TgZ(94,"th"),e._uU(95,"+"),e.qZA(),e._UZ(96,"th",11),e.TgZ(97,"th"),e._uU(98,"+"),e.qZA(),e._UZ(99,"th",11),e.TgZ(100,"th"),e._uU(101,"+"),e.qZA(),e._UZ(102,"th",11),e.TgZ(103,"th"),e._uU(104,"+"),e.qZA(),e._UZ(105,"th",11),e.TgZ(106,"th"),e._uU(107,"+"),e.qZA(),e._UZ(108,"th",11),e.TgZ(109,"th"),e._uU(110,"+"),e.qZA(),e._UZ(111,"th",11),e.TgZ(112,"th"),e._uU(113,"+"),e.qZA()(),e.TgZ(114,"tr")(115,"th",12),e._uU(116,"Manner"),e.qZA(),e.TgZ(117,"th"),e._uU(118,"|"),e.qZA(),e.TgZ(119,"th",13),e._uU(120,"Bilabial"),e.qZA(),e.TgZ(121,"th"),e._uU(122,"|"),e.qZA(),e.TgZ(123,"th",13)(124,"abbr",14),e._uU(125,"LD"),e.qZA()(),e.TgZ(126,"th"),e._uU(127,"|"),e.qZA(),e.TgZ(128,"th",13)(129,"abbr",15),e._uU(130,"LL"),e.qZA()(),e.TgZ(131,"th"),e._uU(132,"|"),e.qZA(),e.TgZ(133,"th",13),e._uU(134,"Dental"),e.qZA(),e.TgZ(135,"th"),e._uU(136,"|"),e.qZA(),e.TgZ(137,"th",13),e._uU(138,"Alveolar"),e.qZA(),e.TgZ(139,"th"),e._uU(140,"|"),e.qZA(),e.TgZ(141,"th",13)(142,"abbr",16),e._uU(143,"PA"),e.qZA()(),e.TgZ(144,"th"),e._uU(145,"|"),e.qZA(),e.TgZ(146,"th",13)(147,"abbr",17),e._uU(148,"RF"),e.qZA()(),e.TgZ(149,"th"),e._uU(150,"|"),e.qZA(),e.TgZ(151,"th",13),e._uU(152,"Palatal"),e.qZA(),e.TgZ(153,"th"),e._uU(154,"|"),e.qZA(),e.TgZ(155,"th",13),e._uU(156,"Velar"),e.qZA(),e.TgZ(157,"th"),e._uU(158,"|"),e.qZA(),e.TgZ(159,"th",13),e._uU(160,"Uvular"),e.qZA(),e.TgZ(161,"th"),e._uU(162,"|"),e.qZA(),e.TgZ(163,"th",13)(164,"abbr",18),e._uU(165,"P/EG"),e.qZA()(),e.TgZ(166,"th"),e._uU(167,"|"),e.qZA(),e.TgZ(168,"th",13),e._uU(169,"Glottal"),e.qZA(),e.TgZ(170,"th"),e._uU(171,"|"),e.qZA()(),e.TgZ(172,"tr"),e._UZ(173,"th",4),e.TgZ(174,"th"),e._uU(175,"+"),e.qZA(),e._UZ(176,"th",11),e.TgZ(177,"th"),e._uU(178,"+"),e.qZA(),e._UZ(179,"th",11),e.TgZ(180,"th"),e._uU(181,"+"),e.qZA(),e._UZ(182,"th",11),e.TgZ(183,"th"),e._uU(184,"+"),e.qZA(),e._UZ(185,"th",11),e.TgZ(186,"th"),e._uU(187,"+"),e.qZA(),e._UZ(188,"th",11),e.TgZ(189,"th"),e._uU(190,"+"),e.qZA(),e._UZ(191,"th",11),e.TgZ(192,"th"),e._uU(193,"+"),e.qZA(),e._UZ(194,"th",11),e.TgZ(195,"th"),e._uU(196,"+"),e.qZA(),e._UZ(197,"th",11),e.TgZ(198,"th"),e._uU(199,"+"),e.qZA(),e._UZ(200,"th",11),e.TgZ(201,"th"),e._uU(202,"+"),e.qZA(),e._UZ(203,"th",11),e.TgZ(204,"th"),e._uU(205,"+"),e.qZA(),e._UZ(206,"th",11),e.TgZ(207,"th"),e._uU(208,"+"),e.qZA(),e._UZ(209,"th",11),e.TgZ(210,"th"),e._uU(211,"+"),e.qZA()(),e.TgZ(212,"tr")(213,"th"),e._uU(214,"Nasal"),e.qZA(),e.TgZ(215,"th"),e._uU(216,"|"),e.qZA(),e.TgZ(217,"th")(218,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(219,"th")(220,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(221,"th"),e._uU(222,"|"),e.qZA(),e.TgZ(223,"th",13)(224,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(225,"th"),e._uU(226,"|"),e.qZA(),e.TgZ(227,"th",13)(228,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(229,"th"),e._uU(230,"|"),e.qZA(),e._UZ(231,"th"),e.TgZ(232,"th",20)(233,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(234,"th",20)(235,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(236,"th"),e.TgZ(237,"th"),e._uU(238,"|"),e.qZA(),e.TgZ(239,"th")(240,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(241,"th")(242,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(243,"th"),e._uU(244,"|"),e.qZA(),e.TgZ(245,"th")(246,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(247,"th")(248,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(249,"th"),e._uU(250,"|"),e.qZA(),e.TgZ(251,"th")(252,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(253,"th")(254,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(255,"th"),e._uU(256,"|"),e.qZA(),e.TgZ(257,"th",13)(258,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(259,"th"),e._uU(260,"|"),e.qZA(),e._UZ(261,"th",10),e.TgZ(262,"th"),e._uU(263,"|"),e.qZA()(),e.TgZ(264,"tr"),e._UZ(265,"th",4),e.TgZ(266,"th"),e._uU(267,"+"),e.qZA(),e._UZ(268,"th",11),e.TgZ(269,"th"),e._uU(270,"+"),e.qZA(),e._UZ(271,"th",11),e.TgZ(272,"th"),e._uU(273,"+"),e.qZA(),e._UZ(274,"th",11),e.TgZ(275,"th"),e._uU(276,"+"),e.qZA(),e._UZ(277,"th",21),e.TgZ(278,"th"),e._uU(279,"+"),e.qZA(),e._UZ(280,"th",11),e.TgZ(281,"th"),e._uU(282,"+"),e.qZA(),e._UZ(283,"th",11),e.TgZ(284,"th"),e._uU(285,"+"),e.qZA(),e._UZ(286,"th",11),e.TgZ(287,"th"),e._uU(288,"+"),e.qZA(),e._UZ(289,"th",11),e.TgZ(290,"th"),e._uU(291,"+"),e.qZA(),e._UZ(292,"th",11),e.TgZ(293,"th"),e._uU(294,"+"),e.qZA(),e._UZ(295,"th",11),e.TgZ(296,"th"),e._uU(297,"+"),e.qZA()(),e.TgZ(298,"tr")(299,"th"),e._uU(300,"Plosive"),e.qZA(),e.TgZ(301,"th"),e._uU(302,"|"),e.qZA(),e.TgZ(303,"th")(304,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(305,"th")(306,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(307,"th"),e._uU(308,"|"),e.qZA(),e.TgZ(309,"th")(310,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(311,"th")(312,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(313,"th"),e._uU(314,"|"),e.qZA(),e.TgZ(315,"th")(316,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(317,"th")(318,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(319,"th"),e._uU(320,"|"),e.qZA(),e._UZ(321,"th"),e.TgZ(322,"th",20)(323,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(324,"th",20)(325,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(326,"th"),e.TgZ(327,"th"),e._uU(328,"|"),e.qZA(),e.TgZ(329,"th")(330,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(331,"th")(332,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(333,"th"),e._uU(334,"|"),e.qZA(),e.TgZ(335,"th")(336,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(337,"th")(338,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(339,"th"),e._uU(340,"|"),e.qZA(),e.TgZ(341,"th")(342,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(343,"th")(344,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(345,"th"),e._uU(346,"|"),e.qZA(),e.TgZ(347,"th")(348,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(349,"th")(350,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(351,"th"),e._uU(352,"|"),e.qZA(),e.TgZ(353,"th",13)(354,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(355,"th"),e._uU(356,"|"),e.qZA(),e.TgZ(357,"th",13)(358,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(359,"th"),e._uU(360,"|"),e.qZA()(),e.TgZ(361,"tr"),e._UZ(362,"th",4),e.TgZ(363,"th"),e._uU(364,"+"),e.qZA(),e._UZ(365,"th",11),e.TgZ(366,"th"),e._uU(367,"+"),e.qZA(),e._UZ(368,"th",11),e.TgZ(369,"th"),e._uU(370,"+"),e.qZA(),e._UZ(371,"th",11),e.TgZ(372,"th"),e._uU(373,"+"),e.qZA(),e._UZ(374,"th",22),e.TgZ(375,"th"),e._uU(376,"+"),e.qZA(),e._UZ(377,"th",11),e.TgZ(378,"th"),e._uU(379,"+"),e.qZA(),e._UZ(380,"th",11),e.TgZ(381,"th"),e._uU(382,"+"),e.qZA(),e._UZ(383,"th",11),e.TgZ(384,"th"),e._uU(385,"+"),e.qZA(),e._UZ(386,"th",11),e.TgZ(387,"th"),e._uU(388,"+"),e.qZA(),e._UZ(389,"th",11),e.TgZ(390,"th"),e._uU(391,"+"),e.qZA(),e._UZ(392,"th",11),e.TgZ(393,"th"),e._uU(394,"+"),e.qZA(),e._UZ(395,"th",11),e.TgZ(396,"th"),e._uU(397,"+"),e.qZA()(),e.TgZ(398,"tr")(399,"th"),e._uU(400,"Sibilant fricative"),e.qZA(),e.TgZ(401,"th"),e._uU(402,"|"),e.qZA(),e._UZ(403,"th",23),e.TgZ(404,"th"),e._uU(405,"|"),e.qZA(),e.TgZ(406,"th",13)(407,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(408,"th"),e.TgZ(409,"th",13)(410,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(411,"th"),e._uU(412,"|"),e.qZA(),e.TgZ(413,"th")(414,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(415,"th")(416,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(417,"th"),e._uU(418,"|"),e.qZA(),e.TgZ(419,"th")(420,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(421,"th")(422,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(423,"th"),e._uU(424,"|"),e.qZA(),e.TgZ(425,"th")(426,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(427,"th")(428,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(429,"th"),e._uU(430,"|"),e.qZA(),e._UZ(431,"th",24),e.TgZ(432,"th"),e._uU(433,"|"),e.qZA()(),e.TgZ(434,"tr"),e._UZ(435,"th",4),e.TgZ(436,"th"),e._uU(437,"+"),e.qZA(),e._UZ(438,"th",23),e.TgZ(439,"th"),e._uU(440,"+"),e.qZA(),e._UZ(441,"th",22),e.TgZ(442,"th"),e._uU(443,"+"),e.qZA(),e._UZ(444,"th",11),e.TgZ(445,"th"),e._uU(446,"+"),e.qZA(),e._UZ(447,"th",11),e.TgZ(448,"th"),e._uU(449,"+"),e.qZA(),e._UZ(450,"th",11),e.TgZ(451,"th"),e._uU(452,"+"),e.qZA(),e._UZ(453,"th",24),e.TgZ(454,"th"),e._uU(455,"|"),e.qZA()(),e.TgZ(456,"tr")(457,"th"),e._uU(458,"Sibilant affricate"),e.qZA(),e.TgZ(459,"th"),e._uU(460,"|"),e.qZA(),e._UZ(461,"th",23),e.TgZ(462,"th"),e._uU(463,"|"),e.qZA(),e.TgZ(464,"th",13)(465,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(466,"th"),e.TgZ(467,"th",13)(468,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(469,"th"),e._uU(470,"|"),e.qZA(),e.TgZ(471,"th")(472,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(473,"th")(474,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(475,"th"),e._uU(476,"|"),e.qZA(),e.TgZ(477,"th")(478,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(479,"th")(480,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(481,"th"),e._uU(482,"|"),e.qZA(),e.TgZ(483,"th")(484,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(485,"th")(486,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(487,"th"),e._uU(488,"|"),e.qZA(),e._UZ(489,"th",24),e.TgZ(490,"th"),e._uU(491,"|"),e.qZA()(),e.TgZ(492,"tr"),e._UZ(493,"th",4),e.TgZ(494,"th"),e._uU(495,"+"),e.qZA(),e._UZ(496,"th",11),e.TgZ(497,"th"),e._uU(498,"+"),e.qZA(),e._UZ(499,"th",11),e.TgZ(500,"th"),e._uU(501,"+"),e.qZA(),e._UZ(502,"th",11),e.TgZ(503,"th"),e._uU(504,"+"),e.qZA(),e._UZ(505,"th",11),e.TgZ(506,"th"),e._uU(507,"+"),e.qZA(),e._UZ(508,"th",11),e.TgZ(509,"th"),e._uU(510,"+"),e.qZA(),e._UZ(511,"th",11),e.TgZ(512,"th"),e._uU(513,"+"),e.qZA(),e._UZ(514,"th",11),e.TgZ(515,"th"),e._uU(516,"+"),e.qZA(),e._UZ(517,"th",11),e.TgZ(518,"th"),e._uU(519,"+"),e.qZA(),e._UZ(520,"th",11),e.TgZ(521,"th"),e._uU(522,"+"),e.qZA(),e._UZ(523,"th",11),e.TgZ(524,"th"),e._uU(525,"+"),e.qZA(),e._UZ(526,"th",11),e.TgZ(527,"th"),e._uU(528,"+"),e.qZA(),e._UZ(529,"th",11),e.TgZ(530,"th"),e._uU(531,"+"),e.qZA()(),e.TgZ(532,"tr")(533,"th"),e._uU(534,"Non-sibilant fric."),e.qZA(),e.TgZ(535,"th"),e._uU(536,"|"),e.qZA(),e.TgZ(537,"th")(538,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(539,"th")(540,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(541,"th"),e._uU(542,"|"),e.qZA(),e.TgZ(543,"th")(544,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(545,"th")(546,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(547,"th"),e._uU(548,"|"),e.qZA(),e.TgZ(549,"th")(550,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(551,"th")(552,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(553,"th"),e._uU(554,"|"),e.qZA(),e.TgZ(555,"th")(556,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(557,"th")(558,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(559,"th"),e._uU(560,"|"),e.qZA(),e.TgZ(561,"th")(562,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(563,"th")(564,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(565,"th"),e._uU(566,"|"),e.qZA(),e.TgZ(567,"th")(568,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(569,"th")(570,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(571,"th"),e._uU(572,"|"),e.qZA(),e.TgZ(573,"th",13)(574,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(575,"th"),e._uU(576,"|"),e.qZA(),e.TgZ(577,"th")(578,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(579,"th")(580,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(581,"th"),e._uU(582,"|"),e.qZA(),e.TgZ(583,"th")(584,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(585,"th")(586,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(587,"th"),e._uU(588,"|"),e.qZA(),e.TgZ(589,"th")(590,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(591,"th")(592,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(593,"th"),e._uU(594,"|"),e.qZA(),e.TgZ(595,"th")(596,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(597,"th")(598,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(599,"th"),e._uU(600,"|"),e.qZA(),e.TgZ(601,"th")(602,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(603,"th")(604,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(605,"th"),e._uU(606,"|"),e.qZA()(),e.TgZ(607,"tr"),e._UZ(608,"th",4),e.TgZ(609,"th"),e._uU(610,"+"),e.qZA(),e._UZ(611,"th",11),e.TgZ(612,"th"),e._uU(613,"+"),e.qZA(),e._UZ(614,"th",11),e.TgZ(615,"th"),e._uU(616,"+"),e.qZA(),e._UZ(617,"th",11),e.TgZ(618,"th"),e._uU(619,"+"),e.qZA(),e._UZ(620,"th",11),e.TgZ(621,"th"),e._uU(622,"+"),e.qZA(),e._UZ(623,"th",11),e.TgZ(624,"th"),e._uU(625,"+"),e.qZA(),e._UZ(626,"th",11),e.TgZ(627,"th"),e._uU(628,"+"),e.qZA(),e._UZ(629,"th",11),e.TgZ(630,"th"),e._uU(631,"+"),e.qZA(),e._UZ(632,"th",11),e.TgZ(633,"th"),e._uU(634,"+"),e.qZA(),e._UZ(635,"th",11),e.TgZ(636,"th"),e._uU(637,"+"),e.qZA(),e._UZ(638,"th",11),e.TgZ(639,"th"),e._uU(640,"+"),e.qZA(),e._UZ(641,"th",11),e.TgZ(642,"th"),e._uU(643,"+"),e.qZA(),e._UZ(644,"th",11),e.TgZ(645,"th"),e._uU(646,"+"),e.qZA()(),e.TgZ(647,"tr")(648,"th"),e._uU(649,"Non-sibilant affr."),e.qZA(),e.TgZ(650,"th"),e._uU(651,"|"),e.qZA(),e.TgZ(652,"th")(653,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(654,"th")(655,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(656,"th"),e._uU(657,"|"),e.qZA(),e.TgZ(658,"th")(659,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(660,"th")(661,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(662,"th"),e._uU(663,"|"),e.qZA(),e._UZ(664,"th")(665,"th"),e.TgZ(666,"th"),e._uU(667,"|"),e.qZA(),e.TgZ(668,"th")(669,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(670,"th")(671,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(672,"th"),e._uU(673,"|"),e.qZA(),e.TgZ(674,"th")(675,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(676,"th")(677,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(678,"th"),e._uU(679,"|"),e.qZA(),e.TgZ(680,"th")(681,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(682,"th")(683,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(684,"th"),e._uU(685,"|"),e.qZA(),e._UZ(686,"th",13),e.TgZ(687,"th"),e._uU(688,"|"),e.qZA(),e.TgZ(689,"th")(690,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(691,"th")(692,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(693,"th"),e._uU(694,"|"),e.qZA(),e.TgZ(695,"th")(696,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(697,"th")(698,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(699,"th"),e._uU(700,"|"),e.qZA(),e.TgZ(701,"th")(702,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(703,"th")(704,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(705,"th"),e._uU(706,"|"),e.qZA(),e.TgZ(707,"th",13)(708,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(709,"th"),e._uU(710,"|"),e.qZA(),e.TgZ(711,"th",13)(712,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(713,"th"),e._uU(714,"|"),e.qZA()(),e.TgZ(715,"tr"),e._UZ(716,"th",4),e.TgZ(717,"th"),e._uU(718,"+"),e.qZA(),e._UZ(719,"th",11),e.TgZ(720,"th"),e._uU(721,"+"),e.qZA(),e._UZ(722,"th",11),e.TgZ(723,"th"),e._uU(724,"+"),e.qZA(),e._UZ(725,"th",13),e.TgZ(726,"th"),e._uU(727,"+"),e.qZA(),e._UZ(728,"th",11),e.TgZ(729,"th"),e._uU(730,"+"),e.qZA(),e._UZ(731,"th",11),e.TgZ(732,"th"),e._uU(733,"+"),e.qZA(),e._UZ(734,"th",11),e.TgZ(735,"th"),e._uU(736,"+"),e.qZA(),e._UZ(737,"th",11),e.TgZ(738,"th"),e._uU(739,"+"),e.qZA(),e._UZ(740,"th",11),e.TgZ(741,"th"),e._uU(742,"+"),e.qZA(),e._UZ(743,"th",11),e.TgZ(744,"th"),e._uU(745,"+"),e.qZA(),e._UZ(746,"th",11),e.TgZ(747,"th"),e._uU(748,"+"),e.qZA(),e._UZ(749,"th",11),e.TgZ(750,"th"),e._uU(751,"+"),e.qZA(),e._UZ(752,"th",11),e.TgZ(753,"th"),e._uU(754,"+"),e.qZA()(),e.TgZ(755,"tr")(756,"th"),e._uU(757,"Approximant"),e.qZA(),e.TgZ(758,"th"),e._uU(759,"|"),e.qZA(),e._UZ(760,"th",13),e.TgZ(761,"th"),e._uU(762,"|"),e.qZA(),e.TgZ(763,"th",13)(764,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(765,"th"),e._uU(766,"|"),e.qZA(),e._UZ(767,"th",13),e.TgZ(768,"th"),e._uU(769,"|"),e.qZA(),e.TgZ(770,"th",23)(771,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(772,"th"),e._uU(773,"|"),e.qZA(),e.TgZ(774,"th",13)(775,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(776,"th"),e._uU(777,"|"),e.qZA(),e.TgZ(778,"th",13)(779,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(780,"th"),e._uU(781,"|"),e.qZA(),e.TgZ(782,"th",13)(783,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(784,"th"),e._uU(785,"|"),e.qZA(),e._UZ(786,"th",10),e.TgZ(787,"th"),e._uU(788,"|"),e.qZA(),e.TgZ(789,"th",13)(790,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(791,"th"),e._uU(792,"|"),e.qZA()(),e.TgZ(793,"tr"),e._UZ(794,"th",4),e.TgZ(795,"th"),e._uU(796,"+"),e.qZA(),e._UZ(797,"th",11),e.TgZ(798,"th"),e._uU(799,"+"),e.qZA(),e._UZ(800,"th",11),e.TgZ(801,"th"),e._uU(802,"+"),e.qZA(),e._UZ(803,"th",11),e.TgZ(804,"th"),e._uU(805,"+"),e.qZA(),e._UZ(806,"th",21),e.TgZ(807,"th"),e._uU(808,"+"),e.qZA(),e._UZ(809,"th",11),e.TgZ(810,"th"),e._uU(811,"+"),e.qZA(),e._UZ(812,"th",11),e.TgZ(813,"th"),e._uU(814,"+"),e.qZA(),e._UZ(815,"th",11),e.TgZ(816,"th"),e._uU(817,"+"),e.qZA(),e._UZ(818,"th",11),e.TgZ(819,"th"),e._uU(820,"+"),e.qZA(),e._UZ(821,"th",11),e.TgZ(822,"th"),e._uU(823,"+"),e.qZA(),e._UZ(824,"th",11),e.TgZ(825,"th"),e._uU(826,"+"),e.qZA()(),e.TgZ(827,"tr")(828,"th"),e._uU(829,"Tap/flap"),e.qZA(),e.TgZ(830,"th"),e._uU(831,"|"),e.qZA(),e.TgZ(832,"th",13)(833,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(834,"th"),e._uU(835,"|"),e.qZA(),e.TgZ(836,"th",13)(837,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(838,"th"),e._uU(839,"|"),e.qZA(),e.TgZ(840,"th",13)(841,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(842,"th"),e._uU(843,"|"),e.qZA(),e._UZ(844,"th"),e.TgZ(845,"th",20)(846,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(847,"th",20)(848,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(849,"th"),e.TgZ(850,"th"),e._uU(851,"|"),e.qZA(),e.TgZ(852,"th")(853,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(854,"th")(855,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(856,"th"),e._uU(857,"|"),e.qZA(),e._UZ(858,"th",10),e.TgZ(859,"th"),e._uU(860,"|"),e.qZA(),e.TgZ(861,"th",13)(862,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(863,"th"),e._uU(864,"|"),e.qZA(),e.TgZ(865,"th",13)(866,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(867,"th"),e._uU(868,"|"),e.qZA(),e._UZ(869,"th",13),e.TgZ(870,"th"),e._uU(871,"|"),e.qZA()(),e.TgZ(872,"tr"),e._UZ(873,"th",4),e.TgZ(874,"th"),e._uU(875,"+"),e.qZA(),e._UZ(876,"th",11),e.TgZ(877,"th"),e._uU(878,"+"),e.qZA(),e._UZ(879,"th",11),e.TgZ(880,"th"),e._uU(881,"+"),e.qZA(),e._UZ(882,"th",11),e.TgZ(883,"th"),e._uU(884,"+"),e.qZA(),e._UZ(885,"th",21),e.TgZ(886,"th"),e._uU(887,"+"),e.qZA(),e._UZ(888,"th",11),e.TgZ(889,"th"),e._uU(890,"+"),e.qZA(),e._UZ(891,"th",10),e.TgZ(892,"th"),e._uU(893,"+"),e.qZA(),e._UZ(894,"th",11),e.TgZ(895,"th"),e._uU(896,"+"),e.qZA(),e._UZ(897,"th",11),e.TgZ(898,"th"),e._uU(899,"+"),e.qZA(),e._UZ(900,"th",13),e.TgZ(901,"th"),e._uU(902,"|"),e.qZA()(),e.TgZ(903,"tr")(904,"th"),e._uU(905,"Trill"),e.qZA(),e.TgZ(906,"th"),e._uU(907,"|"),e.qZA(),e.TgZ(908,"th")(909,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(910,"th")(911,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(912,"th"),e._uU(913,"|"),e.qZA(),e._UZ(914,"th",10),e.TgZ(915,"th"),e._uU(916,"|"),e.qZA(),e._UZ(917,"th"),e.TgZ(918,"th",20)(919,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(920,"th",20)(921,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(922,"th"),e.TgZ(923,"th"),e._uU(924,"|"),e.qZA(),e.TgZ(925,"th")(926,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(927,"th")(928,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(929,"th"),e._uU(930,"|"),e.qZA(),e._UZ(931,"th",10),e.TgZ(932,"th"),e._uU(933,"|"),e.qZA(),e.TgZ(934,"th")(935,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(936,"th")(937,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(938,"th"),e._uU(939,"|"),e.qZA(),e.TgZ(940,"th")(941,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(942,"th")(943,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(944,"th"),e._uU(945,"|"),e.qZA(),e._UZ(946,"th",13),e.TgZ(947,"th"),e._uU(948,"|"),e.qZA()(),e.TgZ(949,"tr"),e._UZ(950,"th",4),e.TgZ(951,"th"),e._uU(952,"+"),e.qZA(),e._UZ(953,"th",11),e.TgZ(954,"th"),e._uU(955,"+"),e.qZA(),e._UZ(956,"th",10),e.TgZ(957,"th"),e._uU(958,"+"),e.qZA(),e._UZ(959,"th",21),e.TgZ(960,"th"),e._uU(961,"+"),e.qZA(),e._UZ(962,"th",11),e.TgZ(963,"th"),e._uU(964,"+"),e.qZA(),e._UZ(965,"th",11),e.TgZ(966,"th"),e._uU(967,"+"),e.qZA(),e._UZ(968,"th",11),e.TgZ(969,"th"),e._uU(970,"+"),e.qZA(),e._UZ(971,"th",11),e.TgZ(972,"th"),e._uU(973,"+"),e.qZA(),e._UZ(974,"th",11),e.TgZ(975,"th"),e._uU(976,"+"),e.qZA(),e._UZ(977,"th",13),e.TgZ(978,"th"),e._uU(979,"|"),e.qZA()(),e.TgZ(980,"tr")(981,"th"),e._uU(982,"Lateral fricative"),e.qZA(),e.TgZ(983,"th"),e._uU(984,"|"),e.qZA(),e._UZ(985,"th",23),e.TgZ(986,"th"),e._uU(987,"|"),e.qZA(),e._UZ(988,"th"),e.TgZ(989,"th",20)(990,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(991,"th",20)(992,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(993,"th"),e.TgZ(994,"th"),e._uU(995,"|"),e.qZA(),e.TgZ(996,"th")(997,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(998,"th")(999,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1e3,"th"),e._uU(1001,"|"),e.qZA(),e.TgZ(1002,"th")(1003,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1004,"th")(1005,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1006,"th"),e._uU(1007,"|"),e.qZA(),e.TgZ(1008,"th")(1009,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1010,"th")(1011,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1012,"th"),e._uU(1013,"|"),e.qZA(),e._UZ(1014,"th",23),e.TgZ(1015,"th"),e._uU(1016,"|"),e.qZA()(),e.TgZ(1017,"tr"),e._UZ(1018,"th",4),e.TgZ(1019,"th"),e._uU(1020,"+"),e.qZA(),e._UZ(1021,"th",23),e.TgZ(1022,"th"),e._uU(1023,"+"),e.qZA(),e._UZ(1024,"th",21),e.TgZ(1025,"th"),e._uU(1026,"+"),e.qZA(),e._UZ(1027,"th",11),e.TgZ(1028,"th"),e._uU(1029,"+"),e.qZA(),e._UZ(1030,"th",11),e.TgZ(1031,"th"),e._uU(1032,"+"),e.qZA(),e._UZ(1033,"th",11),e.TgZ(1034,"th"),e._uU(1035,"+"),e.qZA(),e._UZ(1036,"th",23),e.TgZ(1037,"th"),e._uU(1038,"|"),e.qZA()(),e.TgZ(1039,"tr")(1040,"th"),e._uU(1041,"Lateral affricate"),e.qZA(),e.TgZ(1042,"th"),e._uU(1043,"|"),e.qZA(),e._UZ(1044,"th",23),e.TgZ(1045,"th"),e._uU(1046,"|"),e.qZA(),e._UZ(1047,"th"),e.TgZ(1048,"th",20)(1049,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1050,"th",20)(1051,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(1052,"th"),e.TgZ(1053,"th"),e._uU(1054,"|"),e.qZA(),e.TgZ(1055,"th")(1056,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1057,"th")(1058,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1059,"th"),e._uU(1060,"|"),e.qZA(),e.TgZ(1061,"th")(1062,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1063,"th")(1064,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1065,"th"),e._uU(1066,"|"),e.qZA(),e.TgZ(1067,"th")(1068,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1069,"th")(1070,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1071,"th"),e._uU(1072,"|"),e.qZA(),e._UZ(1073,"th",23),e.TgZ(1074,"th"),e._uU(1075,"|"),e.qZA()(),e.TgZ(1076,"tr"),e._UZ(1077,"th",4),e.TgZ(1078,"th"),e._uU(1079,"+"),e.qZA(),e._UZ(1080,"th",23),e.TgZ(1081,"th"),e._uU(1082,"+"),e.qZA(),e._UZ(1083,"th",21),e.TgZ(1084,"th"),e._uU(1085,"+"),e.qZA(),e._UZ(1086,"th",11),e.TgZ(1087,"th"),e._uU(1088,"+"),e.qZA(),e._UZ(1089,"th",11),e.TgZ(1090,"th"),e._uU(1091,"+"),e.qZA(),e._UZ(1092,"th",11),e.TgZ(1093,"th"),e._uU(1094,"+"),e.qZA(),e._UZ(1095,"th",11),e.TgZ(1096,"th"),e._uU(1097,"+"),e.qZA(),e._UZ(1098,"th",10),e.TgZ(1099,"th"),e._uU(1100,"|"),e.qZA()(),e.TgZ(1101,"tr")(1102,"th"),e._uU(1103,"Ltrl approximant"),e.qZA(),e.TgZ(1104,"th"),e._uU(1105,"|"),e.qZA(),e._UZ(1106,"th",23),e.TgZ(1107,"th"),e._uU(1108,"|"),e.qZA(),e._UZ(1109,"th"),e.TgZ(1110,"th",20)(1111,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1112,"th",20)(1113,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(1114,"th"),e.TgZ(1115,"th"),e._uU(1116,"|"),e.qZA(),e.TgZ(1117,"th",13)(1118,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1119,"th"),e._uU(1120,"|"),e.qZA(),e.TgZ(1121,"th",13)(1122,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1123,"th"),e._uU(1124,"|"),e.qZA(),e.TgZ(1125,"th",13)(1126,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1127,"th"),e._uU(1128,"|"),e.qZA(),e.TgZ(1129,"th",13)(1130,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1131,"th"),e._uU(1132,"|"),e.qZA(),e._UZ(1133,"th",10),e.TgZ(1134,"th"),e._uU(1135,"|"),e.qZA()(),e.TgZ(1136,"tr"),e._UZ(1137,"th",4),e.TgZ(1138,"th"),e._uU(1139,"+"),e.qZA(),e._UZ(1140,"th",23),e.TgZ(1141,"th"),e._uU(1142,"+"),e.qZA(),e._UZ(1143,"th",21),e.TgZ(1144,"th"),e._uU(1145,"+"),e.qZA(),e._UZ(1146,"th",11),e.TgZ(1147,"th"),e._uU(1148,"+"),e.qZA(),e._UZ(1149,"th",11),e.TgZ(1150,"th"),e._uU(1151,"+"),e.qZA(),e._UZ(1152,"th",11),e.TgZ(1153,"th"),e._uU(1154,"+"),e.qZA(),e._UZ(1155,"th",11),e.TgZ(1156,"th"),e._uU(1157,"+"),e.qZA(),e._UZ(1158,"th",10),e.TgZ(1159,"th"),e._uU(1160,"|"),e.qZA()(),e.TgZ(1161,"tr")(1162,"th"),e._uU(1163,"Lateral tap/flap"),e.qZA(),e.TgZ(1164,"th"),e._uU(1165,"|"),e.qZA(),e._UZ(1166,"th",23),e.TgZ(1167,"th"),e._uU(1168,"|"),e.qZA(),e._UZ(1169,"th"),e.TgZ(1170,"th",20)(1171,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1172,"th",20)(1173,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(1174,"th"),e.TgZ(1175,"th"),e._uU(1176,"|"),e.qZA(),e.TgZ(1177,"th")(1178,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1179,"th")(1180,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1181,"th"),e._uU(1182,"|"),e.qZA(),e.TgZ(1183,"th",13)(1184,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1185,"th"),e._uU(1186,"|"),e.qZA(),e.TgZ(1187,"th",13)(1188,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1189,"th"),e._uU(1190,"|"),e.qZA(),e._UZ(1191,"th",23),e.TgZ(1192,"th"),e._uU(1193,"|"),e.qZA()(),e.TgZ(1194,"tr"),e._UZ(1195,"th",25),e.TgZ(1196,"th"),e._uU(1197,"+"),e.qZA()(),e.TgZ(1198,"tr")(1199,"th",3),e._uU(1200," --- CO-ARTICULATED CONSONANTS --- "),e.qZA(),e.TgZ(1201,"th"),e._uU(1202,"|"),e.qZA()(),e.TgZ(1203,"tr"),e._UZ(1204,"th",4),e.TgZ(1205,"th"),e._uU(1206,"+"),e.qZA(),e._UZ(1207,"th",5),e.TgZ(1208,"th"),e._uU(1209,"+"),e.qZA()(),e.TgZ(1210,"tr")(1211,"th"),e._uU(1212,"Nasal"),e.qZA(),e.TgZ(1213,"th"),e._uU(1214,"|"),e.qZA(),e.TgZ(1215,"th",26),e._uU(1216," Labial\u2013alveolar "),e.TgZ(1217,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(1218,", Labial\u2013velar "),e.TgZ(1219,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1220,"th"),e._uU(1221,"|"),e.qZA()(),e.TgZ(1222,"tr"),e._UZ(1223,"th",4),e.TgZ(1224,"th"),e._uU(1225,"+"),e.qZA(),e._UZ(1226,"th",5),e.TgZ(1227,"th"),e._uU(1228,"+"),e.qZA()(),e.TgZ(1229,"tr")(1230,"th"),e._uU(1231,"Plosive"),e.qZA(),e.TgZ(1232,"th"),e._uU(1233,"|"),e.qZA(),e.TgZ(1234,"th",26),e._uU(1235," Labial\u2013alveolar "),e.TgZ(1236,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(1237),e.TgZ(1238,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(1239,", Labial\u2013velar "),e.TgZ(1240,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(1241),e.TgZ(1242,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(1243,", Uvular\u2013epiglottal "),e.TgZ(1244,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return i.clicked(u)}),e._uU(1245),e.qZA()(),e.TgZ(1246,"th"),e._uU(1247,"|"),e.qZA()(),e.TgZ(1248,"tr"),e._UZ(1249,"th",4),e.TgZ(1250,"th"),e._uU(1251,"+"),e.qZA(),e._UZ(1252,"th",5),e.TgZ(1253,"th"),e._uU(1254,"+"),e.qZA()(),e.TgZ(1255,"tr")(1256,"th"),e._uU(1257,"Fricative/appr."),e.qZA(),e.TgZ(1258,"th"),e._uU(1259,"|"),e.qZA(),e.TgZ(1260,"th",26),e._uU(1261," Labial\u2013palatal "),e.TgZ(1262,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(1263),e.TgZ(1264,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(1265,", Labial\u2013velar "),e.TgZ(1266,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(1267),e.TgZ(1268,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(1269,", Sj-sound "),e.TgZ(1270,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1271,"th"),e._uU(1272,"|"),e.qZA()(),e.TgZ(1273,"tr"),e._UZ(1274,"th",4),e.TgZ(1275,"th"),e._uU(1276,"+"),e.qZA(),e._UZ(1277,"th",5),e.TgZ(1278,"th"),e._uU(1279,"+"),e.qZA()(),e.TgZ(1280,"tr")(1281,"th"),e._uU(1282,"Lateral appr."),e.qZA(),e.TgZ(1283,"th"),e._uU(1284,"|"),e.qZA(),e.TgZ(1285,"th",26),e._uU(1286,"Velarized alveolar "),e.TgZ(1287,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(1288,"th"),e._uU(1289,"|"),e.qZA()(),e.TgZ(1290,"tr"),e._UZ(1291,"th",25),e.TgZ(1292,"th"),e._uU(1293,"+"),e.qZA()()()()),2&t&&(e.xp6(218),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","m\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","m"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0271"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","n\u033c"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","n\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","n"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0273\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0273"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0272\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0272"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u014b\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u014b"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0274"),e.xp6(46),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","p"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","b"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","p\u032a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","b\u032a"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","t\u033c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","d\u033c"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","t"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","d"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0288"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0256"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u025f"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","k"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0261"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","q"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0262"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u02a1"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0294"),e.xp6(49),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","s"),e.xp6(3),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","z"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0283"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0292"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0282"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0290"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0255"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0291"),e.xp6(37),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u02a6"),e.xp6(3),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u02a3"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u02a7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u02a4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0288\u0361\u0282"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0256\u0361\u0290"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u02a8"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u02a5"),e.xp6(52),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0278"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u03b2"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","f"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","v"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u03b8\u033c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\xf0\u033c"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u03b8"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\xf0"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u03b8\u0320"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\xf0\u0320"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0279\u0320\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0279\u0320\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u027b\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\xe7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u029d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","x"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0263"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u03c7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0281"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0127"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0295"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","h"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0266"),e.xp6(49),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","p\u0361\u0278"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","b\u0361\u03b2"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","p\u032a\u0361f"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","b\u032a\u0361v"),e.xp6(8),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","t\u032a\u0361\u03b8"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","d\u032a\u0361\xf0"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","t\u0361\u0279\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","d\u0361\u0279\u031d\u0320"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","t\u0320\u0361\u0279\u0320\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","d\u0320\u0361\u0279\u0320\u02d4"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","c\u0361\xe7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u025f\u0361\u029d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","k\u0361x"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0261\u0361\u0263"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","q\u0361\u03c7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0262\u0361\u0281"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u02a1\u0361\u02a2"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0294\u0361h"),e.xp6(52),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u028b"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0279"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u027b"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","j"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0270"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0294\u031e"),e.xp6(43),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u2c71\u031f"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u2c71"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u027e\u033c"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u027e\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u027e"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u027d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u027d"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0262\u0306"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u02a1\u0306"),e.xp6(43),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0299\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0299"),e.xp6(8),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","r\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","r"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u027d\u030ar\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u027dr"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0280\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0280"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u029c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u02a2"),e.xp6(47),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u026c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u026e"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u026d\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u026d\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u028e\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u028e\u031d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u029f\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u029f\u031d"),e.xp6(38),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","t\u0361\u026c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","d\u0361\u026e"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0288\u0361\u026d\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0256\u0361\u026d\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","c\u0361\u028e\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u025f\u0361\u028e\u031d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","k\u0361\u029f\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u0261\u0361\u029f\u031d"),e.xp6(41),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","l\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","l"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u026d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u028e"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u029f"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u029f\u0320"),e.xp6(41),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u027a\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u027a"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u026d\u0325\u0306"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u026d\u0306"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u028e\u0306\u031d\u030a"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",i.languageSounds)("phonetic","\u029f\u0306"),e.xp6(29),e.Q6J("languageSounds",i.languageSounds)("phonetic","n\u0361m"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u014b\u0361m"),e.xp6(17),e.Q6J("languageSounds",i.languageSounds)("phonetic","t\u0361p"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",i.languageSounds)("phonetic","d\u0361b"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","k\u0361p"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0261\u0361b"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","q\u0361\u02a1"),e.xp6(1),e.Oqu(" "),e.xp6(17),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0265\u030a"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0265"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u028d"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",i.languageSounds)("phonetic","w"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0267"),e.xp6(17),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u026b"))},dependencies:[nr,ad]}),r})();function Qf(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"app-phonetic-btn",29),e.NdJ("onClick",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.clicked(o))}),e.qZA()()}if(2&r){const t=n.$implicit,i=n.index,o=e.oxw();e.xp6(1),e.hij("",i>0?", ":""," "),e.xp6(1),e.Q6J("languageSounds",o.languageSounds)("phonetic",t)}}let Kf=(()=>{class r{constructor(){this.onClick=new e.vpe}ngOnInit(){}clicked(t){this.onClick.emit(t)}getRestPhonemes(){var t;if(this.languageSounds&&this.languageSounds.restUsedPhonemes){const i=this.languageSounds.restUsedPhonemes.concat([]);return null===(t=this.languageSounds.selectedRestPhonemes)||void 0===t||t.forEach(o=>{o.phoneme&&i.push(o.phoneme)}),i.sort().filter(o=>""!==o.trim()).filter(o=>o.includes("\u032f")).filter((o,u,d)=>d.indexOf(o)===u)}return[]}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-vowels"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},decls:373,vars:100,consts:[["span","1",2,"width","auto"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","5%"],["span","1",1,"border",2,"width","25px"],["span","1",2,"width","15%"],["colspan","37"],["app-horizontal-dash",""],["app-horizontal-dash","","colspan","35"],[2,"text-align","right"],["colspan","5"],["colspan","3"],["colspan","12"],["colspan","1"],[3,"vowel","languageSounds","phonetic","onClick"],["colspan","5","app-horizontal-dash",""],["colspan","9","app-horizontal-dash",""],["colspan","4"],["colspan","11"],["colspan","14"],["colspan","9"],["colspan","6"],["colspan","8"],["colspan","10"],["colspan","7"],["colspan","3","app-horizontal-dash",""],["colspan","13"],["colspan","1","app-horizontal-dash",""],["colspan","35"],[4,"ngFor","ngForOf"],[3,"languageSounds","phonetic","onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",3)(7,"col",3)(8,"col",3)(9,"col",3)(10,"col",3)(11,"col",3)(12,"col",3)(13,"col",3)(14,"col",3)(15,"col",3)(16,"col",3)(17,"col",3)(18,"col",3)(19,"col",3)(20,"col",3)(21,"col",3)(22,"col",3)(23,"col",3)(24,"col",3)(25,"col",3)(26,"col",3)(27,"col",3)(28,"col",3)(29,"col",3)(30,"col",3)(31,"col",3)(32,"col",3)(33,"col",3)(34,"col",3)(35,"col",3)(36,"col",3)(37,"col",3)(38,"col",4)(39,"col",1),e.qZA(),e.TgZ(40,"tbody")(41,"tr")(42,"th",5),e._uU(43," --- VOWELS --- "),e.qZA(),e.TgZ(44,"th"),e._uU(45,"|"),e.qZA()(),e.TgZ(46,"tr"),e._UZ(47,"th",6),e.TgZ(48,"th"),e._uU(49,"+"),e.qZA(),e._UZ(50,"th",7),e.TgZ(51,"th"),e._uU(52,"+"),e.qZA()(),e.TgZ(53,"tr"),e._UZ(54,"th",8),e.TgZ(55,"th"),e._uU(56,"|"),e.qZA(),e._UZ(57,"th"),e.TgZ(58,"th",9),e._uU(59,"Front"),e.qZA(),e._UZ(60,"th",10),e.TgZ(61,"th"),e._uU(62,"|"),e.qZA(),e.TgZ(63,"th",11),e._uU(64,"Central"),e.qZA(),e._UZ(65,"th",12),e.TgZ(66,"th"),e._uU(67,"|"),e.qZA(),e._UZ(68,"th",9),e.TgZ(69,"th",9),e._uU(70,"Back"),e.qZA(),e._UZ(71,"th"),e.TgZ(72,"th"),e._uU(73,"|"),e.qZA()(),e.TgZ(74,"tr"),e._UZ(75,"th",6),e.TgZ(76,"th"),e._uU(77,"+"),e.qZA(),e._UZ(78,"th",7),e.TgZ(79,"th"),e._uU(80,"+"),e.qZA()(),e.TgZ(81,"tr")(82,"th"),e._uU(83,"Close"),e.qZA(),e.TgZ(84,"th"),e._uU(85,"|"),e.qZA(),e._UZ(86,"th"),e.TgZ(87,"th",9)(88,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(89," * "),e.TgZ(90,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(91,"th")(92,"th",14)(93,"th"),e.TgZ(94,"th",9)(95,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(96," * "),e.TgZ(97,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(98,"th")(99,"th",15)(100,"th"),e.TgZ(101,"th",9)(102,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(103," * "),e.TgZ(104,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(105,"th"),e.TgZ(106,"th"),e._uU(107,"|"),e.qZA()(),e.TgZ(108,"tr"),e._UZ(109,"th",6),e.TgZ(110,"th"),e._uU(111,"+"),e.qZA(),e._UZ(112,"th",16),e.TgZ(113,"th"),e._uU(114,"\\"),e.qZA(),e._UZ(115,"th",17),e.TgZ(116,"th"),e._uU(117,"\\"),e.qZA(),e._UZ(118,"th",18),e.TgZ(119,"th"),e._uU(120,"|"),e.qZA(),e._UZ(121,"th",10),e.TgZ(122,"th"),e._uU(123,"|"),e.qZA()(),e.TgZ(124,"tr")(125,"th"),e._uU(126,"Near-close"),e.qZA(),e.TgZ(127,"th"),e._uU(128,"|"),e.qZA(),e._UZ(129,"th",9),e.TgZ(130,"th"),e._uU(131,"\\"),e.qZA(),e._UZ(132,"th"),e.TgZ(133,"th",9)(134,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(135," * "),e.TgZ(136,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(137,"th",9),e.TgZ(138,"th"),e._uU(139,"\\"),e.qZA(),e._UZ(140,"th",19),e.TgZ(141,"th",10),e._uU(142,"* "),e.TgZ(143,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(144,"th"),e.TgZ(145,"th"),e._uU(146,"|"),e.qZA(),e._UZ(147,"th",10),e.TgZ(148,"th"),e._uU(149,"|"),e.qZA()(),e.TgZ(150,"tr"),e._UZ(151,"th",6),e.TgZ(152,"th"),e._uU(153,"+"),e.qZA(),e._UZ(154,"th",20),e.TgZ(155,"th"),e._uU(156,"\\"),e.qZA(),e._UZ(157,"th",17),e.TgZ(158,"th"),e._uU(159,"\\"),e.qZA(),e._UZ(160,"th",11),e.TgZ(161,"th"),e._uU(162,"|"),e.qZA(),e._UZ(163,"th",10),e.TgZ(164,"th"),e._uU(165,"|"),e.qZA()(),e.TgZ(166,"tr")(167,"th"),e._uU(168,"Close-mid"),e.qZA(),e.TgZ(169,"th"),e._uU(170,"|"),e.qZA(),e._UZ(171,"th",9),e.TgZ(172,"th",9)(173,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(174," * "),e.TgZ(175,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(176,"th")(177,"th",14)(178,"th"),e.TgZ(179,"th",9)(180,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(181," * "),e.TgZ(182,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(183,"th")(184,"th",14)(185,"th"),e.TgZ(186,"th",9)(187,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(188," * "),e.TgZ(189,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(190,"th"),e.TgZ(191,"th"),e._uU(192,"|"),e.qZA()(),e.TgZ(193,"tr"),e._UZ(194,"th",6),e.TgZ(195,"th"),e._uU(196,"+"),e.qZA(),e._UZ(197,"th",21),e.TgZ(198,"th"),e._uU(199,"\\"),e.qZA(),e._UZ(200,"th",22),e.TgZ(201,"th"),e._uU(202,"\\"),e.qZA(),e._UZ(203,"th",17),e.TgZ(204,"th"),e._uU(205,"|"),e.qZA(),e._UZ(206,"th",10),e.TgZ(207,"th"),e._uU(208,"|"),e.qZA()(),e.TgZ(209,"tr")(210,"th"),e._uU(211,"Mid"),e.qZA(),e.TgZ(212,"th"),e._uU(213,"|"),e.qZA(),e._UZ(214,"th",23),e.TgZ(215,"th",9)(216,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(217," * "),e.TgZ(218,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(219,"th")(220,"th",20),e.TgZ(221,"th",10)(222,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(223,"th",20)(224,"th"),e.TgZ(225,"th",9)(226,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(227," * "),e.TgZ(228,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(229,"th"),e.TgZ(230,"th"),e._uU(231,"|"),e.qZA()(),e.TgZ(232,"tr"),e._UZ(233,"th",6),e.TgZ(234,"th"),e._uU(235,"+"),e.qZA(),e._UZ(236,"th",22),e.TgZ(237,"th"),e._uU(238,"\\"),e.qZA(),e._UZ(239,"th",19),e.TgZ(240,"th"),e._uU(241,"\\"),e.qZA(),e._UZ(242,"th",22),e.TgZ(243,"th"),e._uU(244,"|"),e.qZA(),e._UZ(245,"th",10),e.TgZ(246,"th"),e._uU(247,"|"),e.qZA()(),e.TgZ(248,"tr")(249,"th"),e._uU(250,"Open-mid"),e.qZA(),e.TgZ(251,"th"),e._uU(252,"|"),e.qZA(),e._UZ(253,"th",19),e.TgZ(254,"th",9)(255,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(256," * "),e.TgZ(257,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(258,"th")(259,"th",24)(260,"th"),e.TgZ(261,"th",9)(262,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(263," * "),e.TgZ(264,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(265,"th")(266,"th",24)(267,"th"),e.TgZ(268,"th",9)(269,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(270," * "),e.TgZ(271,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(272,"th"),e.TgZ(273,"th"),e._uU(274,"|"),e.qZA()(),e.TgZ(275,"tr"),e._UZ(276,"th",6),e.TgZ(277,"th"),e._uU(278,"+"),e.qZA(),e._UZ(279,"th",11),e.TgZ(280,"th"),e._uU(281,"\\"),e.qZA(),e._UZ(282,"th",21),e.TgZ(283,"th"),e._uU(284,"\\"),e.qZA(),e._UZ(285,"th",19),e.TgZ(286,"th"),e._uU(287,"|"),e.qZA(),e._UZ(288,"th",10),e.TgZ(289,"th"),e._uU(290,"|"),e.qZA()(),e.TgZ(291,"tr")(292,"th"),e._uU(293,"Near-open"),e.qZA(),e.TgZ(294,"th"),e._uU(295,"|"),e.qZA(),e._UZ(296,"th",17),e.TgZ(297,"th",10)(298,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(299," *"),e.qZA(),e._UZ(300,"th",23),e.TgZ(301,"th",10)(302,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(303,"th",23),e.TgZ(304,"th"),e._uU(305,"|"),e.qZA(),e._UZ(306,"th",10),e.TgZ(307,"th"),e._uU(308,"|"),e.qZA()(),e.TgZ(309,"tr"),e._UZ(310,"th",6),e.TgZ(311,"th"),e._uU(312,"+"),e.qZA(),e._UZ(313,"th",18),e.TgZ(314,"th"),e._uU(315,"\\"),e.qZA(),e._UZ(316,"th",23),e.TgZ(317,"th"),e._uU(318,"\\"),e.qZA(),e._UZ(319,"th",21),e.TgZ(320,"th"),e._uU(321,"|"),e.qZA(),e._UZ(322,"th",10),e.TgZ(323,"th"),e._uU(324,"|"),e.qZA()(),e.TgZ(325,"tr")(326,"th"),e._uU(327,"Open"),e.qZA(),e.TgZ(328,"th"),e._uU(329,"|"),e.qZA(),e._UZ(330,"th",25),e.TgZ(331,"th",9)(332,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(333," * "),e.TgZ(334,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(335,"th")(336,"th",26)(337,"th"),e.TgZ(338,"th",16)(339,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(340," * "),e.qZA(),e._UZ(341,"th",24)(342,"th"),e.TgZ(343,"th",9)(344,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e._uU(345," * "),e.TgZ(346,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(347,"th"),e.TgZ(348,"th"),e._uU(349,"|"),e.qZA()(),e.TgZ(350,"tr"),e._UZ(351,"th",6),e.TgZ(352,"th"),e._uU(353,"+"),e.qZA(),e._UZ(354,"th",7),e.TgZ(355,"th"),e._uU(356,"+"),e.qZA()(),e.TgZ(357,"tr")(358,"th"),e._uU(359,"Gliding"),e.qZA(),e.TgZ(360,"th"),e._uU(361,"|"),e.qZA(),e.TgZ(362,"th",27),e.YNc(363,Qf,3,3,"span",28),e.qZA(),e.TgZ(364,"th"),e._uU(365,"|"),e.qZA()(),e.TgZ(366,"tr"),e._UZ(367,"th",6),e.TgZ(368,"th"),e._uU(369,"+"),e.qZA(),e._UZ(370,"th",7),e.TgZ(371,"th"),e._uU(372,"+"),e.qZA()()()()),2&t&&(e.xp6(88),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","i"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","y"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u0268"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u0289"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u026f"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","u"),e.xp6(30),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u026a"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u028f"),e.xp6(7),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u028a"),e.xp6(30),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","e"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\xf8"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u0258"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u0275"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u0264"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","o"),e.xp6(27),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","e\u031e"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\xf8\u031e"),e.xp6(4),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u0259"),e.xp6(4),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u0264\u031e"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","o\u031e"),e.xp6(27),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u025b"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u0153"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u025c"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u025e"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u028c"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u0254"),e.xp6(27),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\xe6"),e.xp6(4),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u0250"),e.xp6(30),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","a"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u0276"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\xe4"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u0251"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",i.languageSounds)("phonetic","\u0252"),e.xp6(17),e.Q6J("ngForOf",i.getRestPhonemes()))},dependencies:[yt,nr,ad]}),r})();function U1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"app-phonetic-btn",11),e.NdJ("onClick",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.clicked(o))}),e.qZA()()}if(2&r){const t=n.$implicit,i=n.index,o=e.oxw();e.xp6(1),e.hij("",i>0?", ":""," "),e.xp6(1),e.Q6J("languageSounds",o.languageSounds)("phonetic",t)}}function O1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addNewSound())}),e._uU(1,"[ + ]"),e.qZA()}}function ey(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"[ + ]"),e.qZA())}let R1=(()=>{class r{constructor(t){this.formBuilder=t,this.onClick=new e.vpe,this.soundForm=new ut({newSound:new zi("",Yr.required)})}ngOnInit(){}clicked(t){this.onClick.emit(t)}getRestPhonemes(){var t;if(this.languageSounds&&this.languageSounds.restUsedPhonemes){const i=this.languageSounds.restUsedPhonemes.concat([]);return null===(t=this.languageSounds.selectedRestPhonemes)||void 0===t||t.forEach(o=>{o.phoneme&&i.push(o.phoneme)}),i.sort().filter(o=>""!==o.trim()).filter(o=>!o.includes("\u032f")).filter((o,u,d)=>d.indexOf(o)===u)}return[]}addNewSound(){this.onClick.emit(this.soundForm.value.newSound?this.soundForm.value.newSound:void 0),this.soundForm.reset()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Lm))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-other-phonemes"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},decls:40,vars:4,consts:[["span","1",2,"width","70px"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["colspan","3"],["app-horizontal-dash","","colspan","3"],[4,"ngFor","ngForOf"],["class","text-green-dull",3,"click",4,"ngIf"],[4,"ngIf"],[2,"text-align","left"],[3,"formGroup","ngSubmit"],["formControlName","newSound","type","text",2,"margin-left","16px"],[3,"languageSounds","phonetic","onClick"],[1,"text-green-dull",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",1),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",3),e._uU(9," --- OTHER PHONEMES --- "),e.qZA(),e.TgZ(10,"th"),e._uU(11,"|"),e.qZA()(),e.TgZ(12,"tr"),e._UZ(13,"th",4),e.TgZ(14,"th"),e._uU(15,"+"),e.qZA()(),e.TgZ(16,"tr")(17,"th",3),e.YNc(18,U1,3,3,"span",5),e.qZA(),e.TgZ(19,"th"),e._uU(20,"|"),e.qZA()(),e.TgZ(21,"tr"),e._UZ(22,"th",4),e.TgZ(23,"th"),e._uU(24,"+"),e.qZA()(),e.TgZ(25,"tr")(26,"th"),e.YNc(27,O1,2,0,"a",6),e.YNc(28,ey,2,0,"span",7),e.qZA(),e.TgZ(29,"th"),e._uU(30,"|"),e.qZA(),e.TgZ(31,"th",8)(32,"form",9),e.NdJ("ngSubmit",function(){return i.addNewSound()}),e._UZ(33,"input",10),e.qZA()(),e.TgZ(34,"th"),e._uU(35,"|"),e.qZA()(),e.TgZ(36,"tr"),e._UZ(37,"th",4),e.TgZ(38,"th"),e._uU(39,"+"),e.qZA()()()()),2&t&&(e.xp6(18),e.Q6J("ngForOf",i.getRestPhonemes()),e.xp6(9),e.Q6J("ngIf",i.soundForm.valid),e.xp6(1),e.Q6J("ngIf",!i.soundForm.valid),e.xp6(4),e.Q6J("formGroup",i.soundForm))},dependencies:[yt,Pt,Ws,Wn,lr,cs,Bo,wu,nr,ad]}),r})(),L1=(()=>{class r{constructor(t,i){this.cdRef=t,this.languagesService=i,this.onClick=new e.vpe}ngOnInit(){}ngOnChanges(t){console.log("pulmonic consonants changes",t)}clicked(t){this.onClick.emit(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(Ni))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-non-pulmonic-consonants"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},features:[e.TTD],decls:913,vars:150,consts:[["span","1",2,"width","79px"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","3.489228732%"],["colspan","33"],["app-horizontal-dash","","colspan","3"],["app-horizontal-dash","","colspan","29"],["colspan","3",2,"text-align","right"],["colspan","5"],["colspan","12"],["colspan","7"],["colspan","2"],["colspan","3"],["colspan","2","app-horizontal-dash",""],["colspan","3",2,"text-align","left"],["title","Labio-dental"],["title","Post-alveolar"],["title","Retro-flex"],["title","Pharyngeal/Epi-glottal"],["app-horizontal-dash",""],["rowspan","9"],[3,"languageSounds","phonetic","onClick"],["colspan","8"],["colspan","8","app-horizontal-dash",""],["colspan","14"],["colspan","5","app-horizontal-dash",""],["rowspan","11"],["app-horizontal-dash","","colspan","33"]],template:function(t,i){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",1)(6,"col",3)(7,"col",3)(8,"col",1)(9,"col",3)(10,"col",3)(11,"col",1)(12,"col",3)(13,"col",3)(14,"col",1)(15,"col",3)(16,"col",3)(17,"col",1)(18,"col",3)(19,"col",3)(20,"col",1)(21,"col",3)(22,"col",3)(23,"col",1)(24,"col",3)(25,"col",3)(26,"col",1)(27,"col",3)(28,"col",3)(29,"col",1)(30,"col",3)(31,"col",3)(32,"col",1)(33,"col",3)(34,"col",3)(35,"col",1),e.qZA(),e.TgZ(36,"tbody")(37,"tr")(38,"th",4),e._uU(39," --- NON-PLUMONIC CONSONANTS --- "),e.qZA(),e.TgZ(40,"th"),e._uU(41,"|"),e.qZA()(),e.TgZ(42,"tr"),e._UZ(43,"th",5),e.TgZ(44,"th"),e._uU(45,"+"),e.qZA(),e._UZ(46,"th",6),e.TgZ(47,"th"),e._uU(48,"+"),e.qZA()(),e.TgZ(49,"tr")(50,"th",7),e._uU(51,"Place"),e.qZA(),e.TgZ(52,"th"),e._uU(53,"|"),e.qZA(),e.TgZ(54,"th",8),e._uU(55,"Labial"),e.qZA(),e.TgZ(56,"th"),e._uU(57,"|"),e.qZA(),e.TgZ(58,"th",9),e._uU(59,"Coronal"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"|"),e.qZA(),e.TgZ(62,"th",10),e._uU(63,"Dorsal"),e.qZA(),e.TgZ(64,"th"),e._uU(65,"|"),e.qZA(),e.TgZ(66,"th",11),e._uU(67,"Laryngeal"),e.qZA(),e.TgZ(68,"th"),e._uU(69,"|"),e.qZA()(),e.TgZ(70,"tr"),e._UZ(71,"th",12),e.TgZ(72,"th"),e._uU(73,"|"),e.qZA(),e._UZ(74,"th",13),e.TgZ(75,"th"),e._uU(76,"+"),e.qZA(),e._UZ(77,"th",13),e.TgZ(78,"th"),e._uU(79,"+"),e.qZA(),e._UZ(80,"th",13),e.TgZ(81,"th"),e._uU(82,"+"),e.qZA(),e._UZ(83,"th",13),e.TgZ(84,"th"),e._uU(85,"+"),e.qZA(),e._UZ(86,"th",13),e.TgZ(87,"th"),e._uU(88,"+"),e.qZA(),e._UZ(89,"th",13),e.TgZ(90,"th"),e._uU(91,"+"),e.qZA(),e._UZ(92,"th",13),e.TgZ(93,"th"),e._uU(94,"+"),e.qZA(),e._UZ(95,"th",13),e.TgZ(96,"th"),e._uU(97,"+"),e.qZA(),e._UZ(98,"th",13),e.TgZ(99,"th"),e._uU(100,"+"),e.qZA(),e._UZ(101,"th",13),e.TgZ(102,"th"),e._uU(103,"+"),e.qZA()(),e.TgZ(104,"tr")(105,"th",14),e._uU(106,"Manner"),e.qZA(),e.TgZ(107,"th"),e._uU(108,"|"),e.qZA(),e.TgZ(109,"th",11),e._uU(110,"Bilabial"),e.qZA(),e.TgZ(111,"th"),e._uU(112,"|"),e.qZA(),e.TgZ(113,"th",11)(114,"abbr",15),e._uU(115,"LD"),e.qZA()(),e.TgZ(116,"th"),e._uU(117,"|"),e.qZA(),e.TgZ(118,"th",11),e._uU(119,"Dental"),e.qZA(),e.TgZ(120,"th"),e._uU(121,"|"),e.qZA(),e.TgZ(122,"th",11),e._uU(123,"Alveolar"),e.qZA(),e.TgZ(124,"th"),e._uU(125,"|"),e.qZA(),e.TgZ(126,"th",11)(127,"abbr",16),e._uU(128,"PA"),e.qZA()(),e.TgZ(129,"th"),e._uU(130,"|"),e.qZA(),e.TgZ(131,"th",11)(132,"abbr",17),e._uU(133,"RF"),e.qZA()(),e.TgZ(134,"th"),e._uU(135,"|"),e.qZA(),e.TgZ(136,"th",11),e._uU(137,"Palatal"),e.qZA(),e.TgZ(138,"th"),e._uU(139,"|"),e.qZA(),e.TgZ(140,"th",11),e._uU(141,"Velar"),e.qZA(),e.TgZ(142,"th"),e._uU(143,"|"),e.qZA(),e.TgZ(144,"th",11),e._uU(145,"Uvular"),e.qZA(),e.TgZ(146,"th"),e._uU(147,"|"),e.qZA(),e.TgZ(148,"th",11)(149,"abbr",18),e._uU(150,"P/EG"),e.qZA()(),e.TgZ(151,"th"),e._uU(152,"|"),e.qZA()(),e.TgZ(153,"tr"),e._UZ(154,"th",19),e.TgZ(155,"th"),e._uU(156,"+"),e.qZA(),e._UZ(157,"th",19),e.TgZ(158,"th"),e._uU(159,"+"),e.qZA(),e._UZ(160,"th",13),e.TgZ(161,"th"),e._uU(162,"+"),e.qZA(),e._UZ(163,"th",13),e.TgZ(164,"th"),e._uU(165,"+"),e.qZA(),e._UZ(166,"th",13),e.TgZ(167,"th"),e._uU(168,"+"),e.qZA(),e._UZ(169,"th",13),e.TgZ(170,"th"),e._uU(171,"+"),e.qZA(),e._UZ(172,"th",13),e.TgZ(173,"th"),e._uU(174,"+"),e.qZA(),e._UZ(175,"th",13),e.TgZ(176,"th"),e._uU(177,"+"),e.qZA(),e._UZ(178,"th",13),e.TgZ(179,"th"),e._uU(180,"+"),e.qZA(),e._UZ(181,"th",13),e.TgZ(182,"th"),e._uU(183,"+"),e.qZA(),e._UZ(184,"th",13),e.TgZ(185,"th"),e._uU(186,"+"),e.qZA(),e._UZ(187,"th",13),e.TgZ(188,"th"),e._uU(189,"+"),e.qZA()(),e.TgZ(190,"tr")(191,"th",20),e._uU(192,"Ejective"),e.qZA(),e.TgZ(193,"th",20),e._uU(194,"|"),e._UZ(195,"br"),e._uU(196,"|"),e._UZ(197,"br"),e._uU(198,"|"),e._UZ(199,"br"),e._uU(200,"|"),e._UZ(201,"br"),e._uU(202,"|"),e._UZ(203,"br"),e._uU(204,"|"),e._UZ(205,"br"),e._uU(206,"|"),e._UZ(207,"br"),e._uU(208,"|"),e._UZ(209,"br"),e._uU(210,"|"),e._UZ(211,"br"),e._uU(212,"|"),e._UZ(213,"br"),e._uU(214,"|"),e.qZA(),e.TgZ(215,"th"),e._uU(216,"Plosive"),e.qZA(),e.TgZ(217,"th"),e._uU(218,"|"),e.qZA(),e.TgZ(219,"th",11)(220,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(221,"th"),e._uU(222,"|"),e.qZA(),e._UZ(223,"th",11),e.TgZ(224,"th"),e._uU(225,"|"),e.qZA(),e.TgZ(226,"th",22)(227,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(228,"th"),e._uU(229,"|"),e.qZA(),e.TgZ(230,"th",11)(231,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(232,"th"),e._uU(233,"|"),e.qZA(),e.TgZ(234,"th",11)(235,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(236,"th"),e._uU(237,"|"),e.qZA(),e.TgZ(238,"th",11)(239,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(240,"th"),e._uU(241,"|"),e.qZA(),e.TgZ(242,"th",11)(243,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(244,"th"),e._uU(245,"|"),e.qZA(),e.TgZ(246,"th",11)(247,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(248,"th"),e._uU(249,"|"),e.qZA()(),e.TgZ(250,"tr"),e._UZ(251,"th",19),e.TgZ(252,"th"),e._uU(253,"+"),e.qZA(),e._UZ(254,"th",13),e.TgZ(255,"th"),e._uU(256,"+"),e.qZA(),e._UZ(257,"th",11),e.TgZ(258,"th"),e._uU(259,"+"),e.qZA(),e._UZ(260,"th",13),e.TgZ(261,"th"),e._uU(262,"+"),e.qZA(),e._UZ(263,"th",13),e.TgZ(264,"th"),e._uU(265,"+"),e.qZA(),e._UZ(266,"th",13),e.TgZ(267,"th"),e._uU(268,"+"),e.qZA(),e._UZ(269,"th",13),e.TgZ(270,"th"),e._uU(271,"+"),e.qZA(),e._UZ(272,"th",13),e.TgZ(273,"th"),e._uU(274,"+"),e.qZA(),e._UZ(275,"th",13),e.TgZ(276,"th"),e._uU(277,"+"),e.qZA(),e._UZ(278,"th",13),e.TgZ(279,"th"),e._uU(280,"+"),e.qZA(),e._UZ(281,"th",13),e.TgZ(282,"th"),e._uU(283,"+"),e.qZA()(),e.TgZ(284,"tr")(285,"th"),e._uU(286,"Affricate"),e.qZA(),e.TgZ(287,"th"),e._uU(288,"|"),e.qZA(),e._UZ(289,"th",8),e.TgZ(290,"th"),e._uU(291,"|"),e.qZA(),e.TgZ(292,"th",11)(293,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(294,"th"),e._uU(295,"|"),e.qZA(),e.TgZ(296,"th",11)(297,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(298,"th"),e._uU(299,"|"),e.qZA(),e.TgZ(300,"th",11)(301,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(302,"th"),e._uU(303,"|"),e.qZA(),e.TgZ(304,"th",11)(305,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(306,"th"),e._uU(307,"|"),e.qZA(),e._UZ(308,"th",11),e.TgZ(309,"th"),e._uU(310,"|"),e.qZA(),e.TgZ(311,"th",11)(312,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(313,"th"),e._uU(314,"|"),e.qZA(),e.TgZ(315,"th",11)(316,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(317,"th"),e._uU(318,"|"),e.qZA(),e._UZ(319,"th",11),e.TgZ(320,"th"),e._uU(321,"|"),e.qZA()(),e.TgZ(322,"tr"),e._UZ(323,"th",19),e.TgZ(324,"th"),e._uU(325,"+"),e.qZA(),e._UZ(326,"th",13),e.TgZ(327,"th"),e._uU(328,"+"),e.qZA(),e._UZ(329,"th",13),e.TgZ(330,"th"),e._uU(331,"+"),e.qZA(),e._UZ(332,"th",13),e.TgZ(333,"th"),e._uU(334,"+"),e.qZA(),e._UZ(335,"th",13),e.TgZ(336,"th"),e._uU(337,"+"),e.qZA(),e._UZ(338,"th",13),e.TgZ(339,"th"),e._uU(340,"+"),e.qZA(),e._UZ(341,"th",13),e.TgZ(342,"th"),e._uU(343,"+"),e.qZA(),e._UZ(344,"th",13),e.TgZ(345,"th"),e._uU(346,"+"),e.qZA(),e._UZ(347,"th",13),e.TgZ(348,"th"),e._uU(349,"+"),e.qZA(),e._UZ(350,"th",13),e.TgZ(351,"th"),e._uU(352,"+"),e.qZA(),e._UZ(353,"th",11),e.TgZ(354,"th"),e._uU(355,"|"),e.qZA()(),e.TgZ(356,"tr")(357,"th"),e._uU(358,"Fricative"),e.qZA(),e.TgZ(359,"th"),e._uU(360,"|"),e.qZA(),e.TgZ(361,"th",11)(362,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(363,"th"),e._uU(364,"|"),e.qZA(),e.TgZ(365,"th",11)(366,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(367,"th"),e._uU(368,"|"),e.qZA(),e.TgZ(369,"th",11)(370,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(371,"th"),e._uU(372,"|"),e.qZA(),e.TgZ(373,"th",11)(374,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(375,"th"),e._uU(376,"|"),e.qZA(),e.TgZ(377,"th",11)(378,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(379,"th"),e._uU(380,"|"),e.qZA(),e.TgZ(381,"th",11)(382,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(383,"th"),e._uU(384,"|"),e.qZA(),e.TgZ(385,"th",11)(386,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(387,"th"),e._uU(388,"|"),e.qZA(),e.TgZ(389,"th",11)(390,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(391,"th"),e._uU(392,"|"),e.qZA(),e.TgZ(393,"th",11)(394,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(395,"th"),e._uU(396,"|"),e.qZA(),e._UZ(397,"th",11),e.TgZ(398,"th"),e._uU(399,"|"),e.qZA()(),e.TgZ(400,"tr"),e._UZ(401,"th",19),e.TgZ(402,"th"),e._uU(403,"+"),e.qZA(),e._UZ(404,"th",13),e.TgZ(405,"th"),e._uU(406,"+"),e.qZA(),e._UZ(407,"th",13),e.TgZ(408,"th"),e._uU(409,"+"),e.qZA(),e._UZ(410,"th",13),e.TgZ(411,"th"),e._uU(412,"+"),e.qZA(),e._UZ(413,"th",13),e.TgZ(414,"th"),e._uU(415,"+"),e.qZA(),e._UZ(416,"th",13),e.TgZ(417,"th"),e._uU(418,"+"),e.qZA(),e._UZ(419,"th",13),e.TgZ(420,"th"),e._uU(421,"+"),e.qZA(),e._UZ(422,"th",13),e.TgZ(423,"th"),e._uU(424,"+"),e.qZA(),e._UZ(425,"th",13),e.TgZ(426,"th"),e._uU(427,"+"),e.qZA(),e._UZ(428,"th",13),e.TgZ(429,"th"),e._uU(430,"+"),e.qZA(),e._UZ(431,"th",11),e.TgZ(432,"th"),e._uU(433,"|"),e.qZA()(),e.TgZ(434,"tr")(435,"th"),e._uU(436,"Lateral affr."),e.qZA(),e.TgZ(437,"th"),e._uU(438,"|"),e.qZA(),e._UZ(439,"th",8),e.TgZ(440,"th"),e._uU(441,"|"),e.qZA(),e.TgZ(442,"th",22)(443,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(444,"th"),e._uU(445,"|"),e.qZA(),e._UZ(446,"th",11),e.TgZ(447,"th"),e._uU(448,"|"),e.qZA(),e.TgZ(449,"th",11)(450,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(451,"th"),e._uU(452,"|"),e.qZA(),e.TgZ(453,"th",11)(454,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(455,"th"),e._uU(456,"|"),e.qZA(),e._UZ(457,"th",8),e.TgZ(458,"th"),e._uU(459,"|"),e.qZA()(),e.TgZ(460,"tr"),e._UZ(461,"th",19),e.TgZ(462,"th"),e._uU(463,"+"),e.qZA(),e._UZ(464,"th",8),e.TgZ(465,"th"),e._uU(466,"+"),e.qZA(),e._UZ(467,"th",23),e.TgZ(468,"th"),e._uU(469,"+"),e.qZA(),e._UZ(470,"th",11),e.TgZ(471,"th"),e._uU(472,"+"),e.qZA(),e._UZ(473,"th",13),e.TgZ(474,"th"),e._uU(475,"+"),e.qZA(),e._UZ(476,"th",13),e.TgZ(477,"th"),e._uU(478,"+"),e.qZA(),e._UZ(479,"th",8),e.TgZ(480,"th"),e._uU(481,"|"),e.qZA()(),e.TgZ(482,"tr")(483,"th"),e._uU(484,"Lateral fric."),e.qZA(),e.TgZ(485,"th"),e._uU(486,"|"),e.qZA(),e._UZ(487,"th",8),e.TgZ(488,"th"),e._uU(489,"|"),e.qZA(),e.TgZ(490,"th",22)(491,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(492,"th"),e._uU(493,"|"),e.qZA(),e._UZ(494,"th",24),e.TgZ(495,"th"),e._uU(496,"|"),e.qZA()(),e.TgZ(497,"tr"),e._UZ(498,"th",19),e.TgZ(499,"th"),e._uU(500,"+"),e.qZA(),e._UZ(501,"th",19),e.TgZ(502,"th"),e._uU(503,"+"),e.qZA(),e._UZ(504,"th",25),e.TgZ(505,"th"),e._uU(506,"+"),e.qZA(),e._UZ(507,"th",13),e.TgZ(508,"th"),e._uU(509,"+"),e.qZA(),e._UZ(510,"th",25),e.TgZ(511,"th"),e._uU(512,"+"),e.qZA(),e._UZ(513,"th",13),e.TgZ(514,"th"),e._uU(515,"+"),e.qZA(),e._UZ(516,"th",13),e.TgZ(517,"th"),e._uU(518,"+"),e.qZA(),e._UZ(519,"th",22),e.TgZ(520,"th"),e._uU(521,"|"),e.qZA()(),e.TgZ(522,"tr")(523,"th",26),e._uU(524,"Click"),e.qZA(),e.TgZ(525,"th",26),e._uU(526,"|"),e._UZ(527,"br"),e._uU(528,"|"),e._UZ(529,"br"),e._uU(530,"|"),e._UZ(531,"br"),e._uU(532,"|"),e._UZ(533,"br"),e._uU(534,"|"),e._UZ(535,"br"),e._uU(536,"|"),e._UZ(537,"br"),e._uU(538,"|"),e._UZ(539,"br"),e._uU(540,"|"),e._UZ(541,"br"),e._uU(542,"|"),e._UZ(543,"br"),e._uU(544,"|"),e._UZ(545,"br"),e._uU(546,"|"),e._UZ(547,"br"),e._uU(548,"|"),e._UZ(549,"br"),e._uU(550,"|"),e.qZA(),e.TgZ(551,"th"),e._uU(552,"Tenuis"),e.qZA(),e.TgZ(553,"th"),e._uU(554,"|"),e.qZA(),e.TgZ(555,"th",11)(556,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(557,"th"),e.TgZ(558,"th",11)(559,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(560,"th"),e._uU(561,"|"),e.qZA(),e.TgZ(562,"th")(563,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(564,"th")(565,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(566,"th"),e._uU(567,"|"),e.qZA(),e.TgZ(568,"th",11)(569,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(570,"th"),e.TgZ(571,"th",11)(572,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(573,"th"),e._uU(574,"|"),e.qZA(),e.TgZ(575,"th")(576,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(577,"th")(578,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(579,"th"),e._uU(580,"|"),e.qZA(),e.TgZ(581,"th")(582,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(583,"th")(584,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(585,"th"),e._uU(586,"|"),e.qZA(),e._UZ(587,"th",22),e.TgZ(588,"th"),e._uU(589,"|"),e.qZA()(),e.TgZ(590,"tr"),e._UZ(591,"th",19),e.TgZ(592,"th"),e._uU(593,"+"),e.qZA(),e._UZ(594,"th",25),e.TgZ(595,"th"),e._uU(596,"+"),e.qZA(),e._UZ(597,"th",13),e.TgZ(598,"th"),e._uU(599,"+"),e.qZA(),e._UZ(600,"th",25),e.TgZ(601,"th"),e._uU(602,"+"),e.qZA(),e._UZ(603,"th",13),e.TgZ(604,"th"),e._uU(605,"+"),e.qZA(),e._UZ(606,"th",13),e.TgZ(607,"th"),e._uU(608,"+"),e.qZA(),e._UZ(609,"th",22),e.TgZ(610,"th"),e._uU(611,"|"),e.qZA()(),e.TgZ(612,"tr")(613,"th"),e._uU(614,"Voiced"),e.qZA(),e.TgZ(615,"th"),e._uU(616,"|"),e.qZA(),e.TgZ(617,"th",11)(618,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(619,"th"),e.TgZ(620,"th",11)(621,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(622,"th"),e._uU(623,"|"),e.qZA(),e.TgZ(624,"th")(625,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(626,"th")(627,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(628,"th"),e._uU(629,"|"),e.qZA(),e.TgZ(630,"th",11)(631,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(632,"th"),e.TgZ(633,"th",11)(634,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(635,"th"),e._uU(636,"|"),e.qZA(),e.TgZ(637,"th")(638,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(639,"th")(640,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(641,"th"),e._uU(642,"|"),e.qZA(),e.TgZ(643,"th")(644,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(645,"th")(646,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(647,"th"),e._uU(648,"|"),e.qZA(),e._UZ(649,"th",22),e.TgZ(650,"th"),e._uU(651,"|"),e.qZA()(),e.TgZ(652,"tr"),e._UZ(653,"th",19),e.TgZ(654,"th"),e._uU(655,"+"),e.qZA(),e._UZ(656,"th",25),e.TgZ(657,"th"),e._uU(658,"+"),e.qZA(),e._UZ(659,"th",13),e.TgZ(660,"th"),e._uU(661,"+"),e.qZA(),e._UZ(662,"th",25),e.TgZ(663,"th"),e._uU(664,"+"),e.qZA(),e._UZ(665,"th",13),e.TgZ(666,"th"),e._uU(667,"+"),e.qZA(),e._UZ(668,"th",13),e.TgZ(669,"th"),e._uU(670,"+"),e.qZA(),e._UZ(671,"th",13),e.TgZ(672,"th"),e._uU(673,"+"),e.qZA(),e._UZ(674,"th",8),e.TgZ(675,"th"),e._uU(676,"|"),e.qZA()(),e.TgZ(677,"tr")(678,"th"),e._uU(679,"Nasal"),e.qZA(),e.TgZ(680,"th"),e._uU(681,"|"),e.qZA(),e.TgZ(682,"th",11)(683,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(684,"th"),e.TgZ(685,"th",11)(686,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(687,"th"),e._uU(688,"|"),e.qZA(),e.TgZ(689,"th")(690,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(691,"th")(692,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(693,"th"),e._uU(694,"|"),e.qZA(),e.TgZ(695,"th",11)(696,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(697,"th"),e.TgZ(698,"th",11)(699,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(700,"th"),e._uU(701,"|"),e.qZA(),e.TgZ(702,"th")(703,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(704,"th")(705,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(706,"th"),e._uU(707,"|"),e.qZA(),e.TgZ(708,"th")(709,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(710,"th")(711,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(712,"th"),e._uU(713,"|"),e.qZA(),e.TgZ(714,"th",11)(715,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(716,"th"),e._uU(717,"|"),e.qZA(),e._UZ(718,"th",8),e.TgZ(719,"th"),e._uU(720,"|"),e.qZA()(),e.TgZ(721,"tr"),e._UZ(722,"th",19),e.TgZ(723,"th"),e._uU(724,"+"),e.qZA(),e._UZ(725,"th",25),e.TgZ(726,"th"),e._uU(727,"+"),e.qZA(),e._UZ(728,"th",13),e.TgZ(729,"th"),e._uU(730,"+"),e.qZA(),e._UZ(731,"th",25),e.TgZ(732,"th"),e._uU(733,"+"),e.qZA(),e._UZ(734,"th",13),e.TgZ(735,"th"),e._uU(736,"+"),e.qZA(),e._UZ(737,"th",13),e.TgZ(738,"th"),e._uU(739,"+"),e.qZA(),e._UZ(740,"th",13),e.TgZ(741,"th"),e._uU(742,"+"),e.qZA(),e._UZ(743,"th",8),e.TgZ(744,"th"),e._uU(745,"|"),e.qZA()(),e.TgZ(746,"tr")(747,"th"),e._uU(748,"Tenuis ltrl"),e.qZA(),e.TgZ(749,"th"),e._uU(750,"|"),e.qZA(),e._UZ(751,"th",8),e.TgZ(752,"th"),e._uU(753,"|"),e.qZA(),e._UZ(754,"th"),e.TgZ(755,"th",12)(756,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(757,"th",12)(758,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(759,"th"),e.TgZ(760,"th"),e._uU(761,"|"),e.qZA(),e._UZ(762,"th",24),e.TgZ(763,"th"),e._uU(764,"|"),e.qZA()(),e.TgZ(765,"tr"),e._UZ(766,"th",19),e.TgZ(767,"th"),e._uU(768,"+"),e.qZA(),e._UZ(769,"th",8),e.TgZ(770,"th"),e._uU(771,"+"),e.qZA(),e._UZ(772,"th",23),e.TgZ(773,"th"),e._uU(774,"+"),e.qZA(),e._UZ(775,"th",24),e.TgZ(776,"th"),e._uU(777,"|"),e.qZA()(),e.TgZ(778,"tr")(779,"th"),e._uU(780,"Voiced ltrl"),e.qZA(),e.TgZ(781,"th"),e._uU(782,"|"),e.qZA(),e._UZ(783,"th",8),e.TgZ(784,"th"),e._uU(785,"|"),e.qZA(),e._UZ(786,"th"),e.TgZ(787,"th",12)(788,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(789,"th",12)(790,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(791,"th"),e.TgZ(792,"th"),e._uU(793,"|"),e.qZA(),e._UZ(794,"th",24),e.TgZ(795,"th"),e._uU(796,"|"),e.qZA()(),e.TgZ(797,"tr"),e._UZ(798,"th",19),e.TgZ(799,"th"),e._uU(800,"+"),e.qZA(),e._UZ(801,"th",8),e.TgZ(802,"th"),e._uU(803,"+"),e.qZA(),e._UZ(804,"th",23),e.TgZ(805,"th"),e._uU(806,"+"),e.qZA(),e._UZ(807,"th",24),e.TgZ(808,"th"),e._uU(809,"|"),e.qZA()(),e.TgZ(810,"tr")(811,"th"),e._uU(812,"Nasal ltrl"),e.qZA(),e.TgZ(813,"th"),e._uU(814,"|"),e.qZA(),e._UZ(815,"th",8),e.TgZ(816,"th"),e._uU(817,"|"),e.qZA(),e._UZ(818,"th"),e.TgZ(819,"th",12)(820,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(821,"th",12)(822,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(823,"th"),e.TgZ(824,"th"),e._uU(825,"|"),e.qZA(),e._UZ(826,"th",24),e.TgZ(827,"th"),e._uU(828,"|"),e.qZA()(),e.TgZ(829,"tr"),e._UZ(830,"th",19),e.TgZ(831,"th"),e._uU(832,"+"),e.qZA(),e._UZ(833,"th",19),e.TgZ(834,"th"),e._uU(835,"+"),e.qZA(),e._UZ(836,"th",13),e.TgZ(837,"th"),e._uU(838,"+"),e.qZA(),e._UZ(839,"th",11),e.TgZ(840,"th"),e._uU(841,"+"),e.qZA(),e._UZ(842,"th",23),e.TgZ(843,"th"),e._uU(844,"+"),e.qZA(),e._UZ(845,"th",13),e.TgZ(846,"th"),e._uU(847,"+"),e.qZA(),e._UZ(848,"th",13),e.TgZ(849,"th"),e._uU(850,"+"),e.qZA(),e._UZ(851,"th",13),e.TgZ(852,"th"),e._uU(853,"+"),e.qZA(),e._UZ(854,"th",13),e.TgZ(855,"th"),e._uU(856,"+"),e.qZA(),e._UZ(857,"th",11),e.TgZ(858,"th"),e._uU(859,"|"),e.qZA()(),e.TgZ(860,"tr")(861,"th",12),e._uU(862,"Implosive"),e.qZA(),e.TgZ(863,"th"),e._uU(864,"|"),e.qZA(),e.TgZ(865,"th")(866,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(867,"th")(868,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(869,"th"),e._uU(870,"|"),e.qZA(),e._UZ(871,"th",11),e.TgZ(872,"th"),e._uU(873,"|"),e.qZA(),e._UZ(874,"th"),e.TgZ(875,"th",12)(876,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(877,"th",12)(878,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e._UZ(879,"th"),e.TgZ(880,"th"),e._uU(881,"|"),e.qZA(),e.TgZ(882,"th")(883,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(884,"th")(885,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(886,"th"),e._uU(887,"|"),e.qZA(),e.TgZ(888,"th")(889,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(890,"th")(891,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(892,"th"),e._uU(893,"|"),e.qZA(),e.TgZ(894,"th")(895,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(896,"th")(897,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(898,"th"),e._uU(899,"|"),e.qZA(),e.TgZ(900,"th")(901,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(902,"th")(903,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()(),e.TgZ(904,"th"),e._uU(905,"|"),e.qZA(),e._UZ(906,"th",11),e.TgZ(907,"th"),e._uU(908,"|"),e.qZA()(),e.TgZ(909,"tr"),e._UZ(910,"th",27),e.TgZ(911,"th"),e._uU(912,"+"),e.qZA()()()()),2&t&&(e.xp6(220),e.Q6J("languageSounds",i.languageSounds)("phonetic","p\u02bc"),e.xp6(7),e.Q6J("languageSounds",i.languageSounds)("phonetic","t\u02bc"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0288\u02bc"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","c\u02bc"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","k\u02bc"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","q\u02bc"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u02a1\u02bc"),e.xp6(46),e.Q6J("languageSounds",i.languageSounds)("phonetic","t\u032a\u0361\u03b8\u02bc"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","t\u0361s\u02bc"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","t\u0320\u0361\u0283\u02bc"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0288\u0361\u0282\u02bc"),e.xp6(7),e.Q6J("languageSounds",i.languageSounds)("phonetic","k\u0361x\u02bc"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","q\u0361\u03c7\u02bc"),e.xp6(46),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0278\u02bc"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","f\u02bc"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u03b8\u02bc"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","s\u02bc"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0283\u02bc"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0282\u02bc"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0255\u02bc"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","x\u02bc"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u03c7\u02bc"),e.xp6(49),e.Q6J("languageSounds",i.languageSounds)("phonetic","t\u0361\u026c\u02bc"),e.xp6(7),e.Q6J("languageSounds",i.languageSounds)("phonetic","c\u0361\u028e\u031d\u030a\u02bc"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","k\u0361\u029f\u031d\u030a\u02bc"),e.xp6(37),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u026c\u02bc"),e.xp6(65),e.Q6J("languageSounds",i.languageSounds)("phonetic","k\u0298"),e.xp6(3),e.Q6J("languageSounds",i.languageSounds)("phonetic","q\u0298"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","k\u01c0"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","q\u01c0"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","k\u01c3"),e.xp6(3),e.Q6J("languageSounds",i.languageSounds)("phonetic","q\u01c3"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","k\u203c"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","q\u203c"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","k\u01c2"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","q\u01c2"),e.xp6(34),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0261\u0298"),e.xp6(3),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0262\u0298"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0261\u01c0"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0262\u01c0"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0261\u01c3"),e.xp6(3),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0262\u01c3"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0261\u203c"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0262\u203c"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0261\u01c2"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0262\u01c2"),e.xp6(37),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u014b\u0298"),e.xp6(3),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0274\u0298"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u014b\u01c0"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0274\u01c0"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u014b\u01c3"),e.xp6(3),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0274\u01c3"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u014b\u203c"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0274\u203c"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u014b\u01c2"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0274\u01c2"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u029e"),e.xp6(41),e.Q6J("languageSounds",i.languageSounds)("phonetic","k\u01c1"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","q\u01c1"),e.xp6(30),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0261\u01c1"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0262\u01c1"),e.xp6(30),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u014b\u01c1"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0274\u01c1"),e.xp6(44),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0253\u0325"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0253"),e.xp6(8),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0257\u0325\u0325"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0257"),e.xp6(5),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u1d91\u030a"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u1d91"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0284\u030a"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0284"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0260\u030a"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u0260"),e.xp6(4),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u029b\u0325"),e.xp6(2),e.Q6J("languageSounds",i.languageSounds)("phonetic","\u029b"))},dependencies:[nr,ad]}),r})(),ty=(()=>{class r{constructor(t){this.languagesService=t}ngOnInit(){this.reloadLanguage()}ngOnChanges(t){t.selectedLanguage&&t.selectedLanguage.currentValue&&this.reloadLanguage()}clicked(t){var i,o,u,d;if(console.log("clicked",t),this.languageSounds&&this.languageSounds.langId){const g=null===(o=null===(i=this.languageSounds)||void 0===i?void 0:i.selectedMainPhonemes)||void 0===o?void 0:o.find(v=>v.phoneme===t);if(g&&g.id)this.languagesService.deleteLanguagePhoneme({phonemeId:g.id}).subscribe(()=>{var v,w;this.languageSounds&&(this.languageSounds.selectedMainPhonemes=null===(w=null===(v=this.languageSounds)||void 0===v?void 0:v.selectedMainPhonemes)||void 0===w?void 0:w.filter(S=>S.id!==g.id))});else{const v=null===(d=null===(u=this.languageSounds)||void 0===u?void 0:u.selectedRestPhonemes)||void 0===d?void 0:d.find(w=>w.phoneme===t);v&&v.id?this.languagesService.deleteLanguagePhoneme({phonemeId:v.id}).subscribe(()=>{var w,S;this.languageSounds&&(this.languageSounds.selectedRestPhonemes=null===(S=null===(w=this.languageSounds)||void 0===w?void 0:w.selectedRestPhonemes)||void 0===S?void 0:S.filter(N=>N.id!==v.id))}):this.languagesService.saveLanguagePhoneme({body:t,languageId:this.languageSounds.langId}).subscribe(w=>{var S,N;null===(N=null===(S=this.languageSounds)||void 0===S?void 0:S.selectedMainPhonemes)||void 0===N||N.push(w)})}}}reloadLanguage(){var t;this.languageSounds=void 0,this.selectedLanguage&&this.selectedLanguage.id&&this.languagesService.getLanguagePhonemes({languageId:null===(t=this.selectedLanguage)||void 0===t?void 0:t.id}).subscribe(i=>{this.languageSounds=i})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ni))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-phonetics"]],inputs:{selectedLanguage:"selectedLanguage"},features:[e.TTD],decls:4,vars:4,consts:[[3,"languageSounds","onClick"]],template:function(t,i){1&t&&(e.TgZ(0,"app-pulmonic-consonants",0),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e.TgZ(1,"app-vowels",0),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e.TgZ(2,"app-non-pulmonic-consonants",0),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA(),e.TgZ(3,"app-other-phonemes",0),e.NdJ("onClick",function(u){return i.clicked(u)}),e.qZA()),2&t&&(e.Q6J("languageSounds",i.languageSounds),e.xp6(1),e.Q6J("languageSounds",i.languageSounds),e.xp6(1),e.Q6J("languageSounds",i.languageSounds),e.xp6(1),e.Q6J("languageSounds",i.languageSounds))},dependencies:[xA,Kf,R1,L1]}),r})();var Bl=(()=>{return(r=Bl||(Bl={})).SoundChange="SOUND_CHANGE",r.WritingSystem="WRITING_SYSTEM",Bl;var r})();let F1=(()=>{class r{constructor(t){this.editMode=!1,this.soundChangesRaw="",this.soundChanges=[],this.soundChangePurpose=t,this.refresh()}ngOnInit(){this.refresh()}soundChangesChanges(t){this.soundChanges=t}soundChangesRawChange(){}cancelSoundChanges(){this.editMode=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Bl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],features:[e.TTD],decls:0,vars:0,template:function(t,i){},encapsulation:2}),r})(),Ja=(()=>{class r extends rd{constructor(t,i){super(t,i)}getAllLanguagesFrom$Response(t){const i=new Nt(this.rootUrl,r.GetAllLanguagesFromPath,"get");return t&&i.path("fromId",t.fromId,{}),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getAllLanguagesFrom(t){return this.getAllLanguagesFrom$Response(t).pipe((0,se.U)(i=>i.body))}getConnectionFromLang$Response(t){const i=new Nt(this.rootUrl,r.GetConnectionFromLangPath,"get");return t&&i.path("fromLangId",t.fromLangId,{}),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getConnectionFromLang(t){return this.getConnectionFromLang$Response(t).pipe((0,se.U)(i=>i.body))}getConnectionByLangs$Response(t){const i=new Nt(this.rootUrl,r.GetConnectionByLangsPath,"get");return t&&(i.path("fromLangId",t.fromLangId,{}),i.path("toLangId",t.toLangId,{})),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getConnectionByLangs(t){return this.getConnectionByLangs$Response(t).pipe((0,se.U)(i=>i.body))}updateConnectionByLangs$Response(t){const i=new Nt(this.rootUrl,r.UpdateConnectionByLangsPath,"post");return t&&(i.path("fromLangId",t.fromLangId,{}),i.path("toLangId",t.toLangId,{}),i.body(t.body,"application/json")),this.http.request(i.build({responseType:"text",accept:"*/*"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o.clone({body:void 0})))}updateConnectionByLangs(t){return this.updateConnectionByLangs$Response(t).pipe((0,se.U)(i=>i.body))}deleteConnectionByLangs$Response(t){const i=new Nt(this.rootUrl,r.DeleteConnectionByLangsPath,"delete");return t&&(i.path("fromLangId",t.fromLangId,{}),i.path("toLangId",t.toLangId,{})),this.http.request(i.build({responseType:"text",accept:"*/*"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o.clone({body:void 0})))}deleteConnectionByLangs(t){return this.deleteConnectionByLangs$Response(t).pipe((0,se.U)(i=>i.body))}getLanguageGraph$Response(t){const i=new Nt(this.rootUrl,r.GetLanguageGraphPath,"get");return this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getLanguageGraph(t){return this.getLanguageGraph$Response(t).pipe((0,se.U)(i=>i.body))}getAllRoutes$Response(t){const i=new Nt(this.rootUrl,r.GetAllRoutesPath,"get");return t&&(i.path("fromId",t.fromId,{}),i.path("toId",t.toId,{})),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getAllRoutes(t){return this.getAllRoutes$Response(t).pipe((0,se.U)(i=>i.body))}getSoundChangesByLang$Response(t){const i=new Nt(this.rootUrl,r.GetSoundChangesByLangPath,"get");return t&&(i.path("soundChangePurpose",t.soundChangePurpose,{}),i.path("fromLangId",t.fromLangId,{})),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getSoundChangesByLang(t){return this.getSoundChangesByLang$Response(t).pipe((0,se.U)(i=>i.body))}getSoundChangesByLangs$Response(t){const i=new Nt(this.rootUrl,r.GetSoundChangesByLangsPath,"get");return t&&(i.path("soundChangePurpose",t.soundChangePurpose,{}),i.path("fromLangId",t.fromLangId,{}),i.path("toLangId",t.toLangId,{})),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getSoundChangesByLangs(t){return this.getSoundChangesByLangs$Response(t).pipe((0,se.U)(i=>i.body))}getSoundChangesRawLinesByLang$Response(t){const i=new Nt(this.rootUrl,r.GetSoundChangesRawLinesByLangPath,"get");return t&&(i.path("soundChangePurpose",t.soundChangePurpose,{}),i.path("fromLangId",t.fromLangId,{})),this.http.request(i.build({responseType:"text",accept:"text/plain"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getSoundChangesRawLinesByLang(t){return this.getSoundChangesRawLinesByLang$Response(t).pipe((0,se.U)(i=>i.body))}saveSoundChangesRawLinesByLang$Response(t){const i=new Nt(this.rootUrl,r.SaveSoundChangesRawLinesByLangPath,"post");return t&&(i.path("soundChangePurpose",t.soundChangePurpose,{}),i.path("fromLangId",t.fromLangId,{}),i.body(t.body,"application/json")),this.http.request(i.build({responseType:"text",accept:"*/*"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o.clone({body:void 0})))}saveSoundChangesRawLinesByLang(t){return this.saveSoundChangesRawLinesByLang$Response(t).pipe((0,se.U)(i=>i.body))}getSoundChangesRawLinesByLangs$Response(t){const i=new Nt(this.rootUrl,r.GetSoundChangesRawLinesByLangsPath,"get");return t&&(i.path("soundChangePurpose",t.soundChangePurpose,{}),i.path("fromLangId",t.fromLangId,{}),i.path("toLangId",t.toLangId,{})),this.http.request(i.build({responseType:"text",accept:"text/plain"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getSoundChangesRawLinesByLangs(t){return this.getSoundChangesRawLinesByLangs$Response(t).pipe((0,se.U)(i=>i.body))}saveSoundChangesRawLinesByLangs$Response(t){const i=new Nt(this.rootUrl,r.SaveSoundChangesRawLinesByLangsPath,"post");return t&&(i.path("soundChangePurpose",t.soundChangePurpose,{}),i.path("fromLangId",t.fromLangId,{}),i.path("toLangId",t.toLangId,{}),i.body(t.body,"application/json")),this.http.request(i.build({responseType:"text",accept:"*/*"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o.clone({body:void 0})))}saveSoundChangesRawLinesByLangs(t){return this.saveSoundChangesRawLinesByLangs$Response(t).pipe((0,se.U)(i=>i.body))}getSoundChangeRaw$Response(t){const i=new Nt(this.rootUrl,r.GetSoundChangeRawPath,"get");return t&&i.path("id",t.id,{}),this.http.request(i.build({responseType:"text",accept:"text/plain"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getSoundChangeRaw(t){return this.getSoundChangeRaw$Response(t).pipe((0,se.U)(i=>i.body))}updateSoundChange$Response(t){const i=new Nt(this.rootUrl,r.UpdateSoundChangePath,"post");return t&&(i.path("id",t.id,{}),i.body(t.body,"application/json")),this.http.request(i.build({responseType:"text",accept:"*/*"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o.clone({body:void 0})))}updateSoundChange(t){return this.updateSoundChange$Response(t).pipe((0,se.U)(i=>i.body))}getSoundChange$Response(t){const i=new Nt(this.rootUrl,r.GetSoundChangePath,"get");return t&&i.path("id",t.id,{}),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getSoundChange(t){return this.getSoundChange$Response(t).pipe((0,se.U)(i=>i.body))}deleteSoundChange$Response(t){const i=new Nt(this.rootUrl,r.DeleteSoundChangePath,"delete");return t&&i.path("id",t.id,{}),this.http.request(i.build({responseType:"text",accept:"*/*"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o.clone({body:void 0})))}deleteSoundChange(t){return this.deleteSoundChange$Response(t).pipe((0,se.U)(i=>i.body))}trace$Response(t){const i=new Nt(this.rootUrl,r.TracePath,"post");return t&&(i.path("word",t.word,{}),i.body(t.body,"application/json")),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}trace(t){return this.trace$Response(t).pipe((0,se.U)(i=>i.body))}getAllWordsWithEvolutions$Response(t){const i=new Nt(this.rootUrl,r.GetAllWordsWithEvolutionsPath,"get");return t&&i.query("filter",t.filter,{}),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getAllWordsWithEvolutions(t){return this.getAllWordsWithEvolutions$Response(t).pipe((0,se.U)(i=>i.body))}addEvolvedWord$Response(t){const i=new Nt(this.rootUrl,r.AddEvolvedWordPath,"post");return t&&i.body(t.body,"application/json"),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}addEvolvedWord(t){return this.addEvolvedWord$Response(t).pipe((0,se.U)(i=>i.body))}addEvolvedWord1$Response(t){const i=new Nt(this.rootUrl,r.AddEvolvedWord1Path,"post");return t&&i.body(t.body,"application/json"),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}addEvolvedWord1(t){return this.addEvolvedWord1$Response(t).pipe((0,se.U)(i=>i.body))}}return r.GetAllLanguagesFromPath="/api/evolve/allfrom/{fromId}",r.GetConnectionFromLangPath="/api/evolve/connection/{fromLangId}",r.GetConnectionByLangsPath="/api/evolve/connection/{fromLangId}/{toLangId}",r.UpdateConnectionByLangsPath="/api/evolve/connection/{fromLangId}/{toLangId}",r.DeleteConnectionByLangsPath="/api/evolve/connection/{fromLangId}/{toLangId}",r.GetLanguageGraphPath="/api/evolve/graph",r.GetAllRoutesPath="/api/evolve/routes/{fromId}/{toId}",r.GetSoundChangesByLangPath="/api/evolve/sc/lang/{soundChangePurpose}/{fromLangId}",r.GetSoundChangesByLangsPath="/api/evolve/sc/lang/{soundChangePurpose}/{fromLangId}/{toLangId}",r.GetSoundChangesRawLinesByLangPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}",r.SaveSoundChangesRawLinesByLangPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}",r.GetSoundChangesRawLinesByLangsPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}/{toLangId}",r.SaveSoundChangesRawLinesByLangsPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}/{toLangId}",r.GetSoundChangeRawPath="/api/evolve/sc/raw/{id}",r.UpdateSoundChangePath="/api/evolve/sc/raw/{id}",r.GetSoundChangePath="/api/evolve/sc/{id}",r.DeleteSoundChangePath="/api/evolve/sc/{id}",r.TracePath="/api/evolve/trace/{word}",r.GetAllWordsWithEvolutionsPath="/api/evolve/words",r.AddEvolvedWordPath="/api/evolve/words/evolve",r.AddEvolvedWord1Path="/api/evolve/words/evolve/all",r.\u0275fac=function(t){return new(t||r)(e.LFG(Ga),e.LFG(Ha))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const q1=["app-sound-changes-table-row",""];function V1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,">"),e.qZA())}function B1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"\xbb"),e.qZA())}function kA(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"\xab"),e.qZA())}function ZA(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th",2),e._uU(2),e.qZA(),e.TgZ(3,"th",0),e.YNc(4,V1,2,0,"span",1),e.YNc(5,B1,2,0,"span",1),e.YNc(6,kA,2,0,"span",1),e.qZA(),e.TgZ(7,"th",2),e._uU(8),e.qZA(),e.TgZ(9,"th",0),e._uU(10),e.qZA(),e.TgZ(11,"th",3),e._uU(12),e.qZA(),e.TgZ(13,"th",0),e._uU(14),e.qZA(),e.TgZ(15,"th",4),e._uU(16),e.qZA(),e.TgZ(17,"th",0),e._uU(18,"|"),e.qZA(),e.TgZ(19,"th",0)(20,"a",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.editSoundChange())}),e._uU(21,"e"),e.qZA()(),e.TgZ(22,"th",0),e._uU(23,"|"),e.qZA(),e.TgZ(24,"th",0)(25,"a",6),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteSoundChanges())}),e._uU(26,"x"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(2),e.Oqu(t.soundChange.soundFrom),e.xp6(2),e.Q6J("ngIf","REPLACE_ALL"==t.soundChange.type),e.xp6(1),e.Q6J("ngIf","REPLACE_FIRST"==t.soundChange.type),e.xp6(1),e.Q6J("ngIf","REPLACE_LAST"==t.soundChange.type),e.xp6(2),e.Oqu(t.soundChange.soundTo),e.xp6(2),e.Oqu(t.soundChange.environmentAfter||t.soundChange.environmentBefore?"/":""),e.xp6(2),e.Oqu(t.soundChange.environmentBefore),e.xp6(2),e.Oqu(t.soundChange.environmentAfter||t.soundChange.environmentBefore?"_":""),e.xp6(2),e.Oqu(t.soundChange.environmentAfter)}}function NA(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th",7)(2,"input",8),e.NdJ("ngModelChange",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.soundChangeRaw=o)}),e.qZA()(),e.TgZ(3,"th",0),e._uU(4,"|"),e.qZA(),e.TgZ(5,"th",0)(6,"a",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveSoundChange())}),e._uU(7,"s"),e.qZA()(),e.TgZ(8,"th",0),e._uU(9,"|"),e.qZA(),e.TgZ(10,"th",0)(11,"a",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelSoundChanges())}),e._uU(12,"x"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.soundChangeRaw)}}let j1=(()=>{class r{constructor(t){this.languagesEvolutionService=t,this.soundChangeDeleted=new e.vpe,this.editMode=!1}ngOnInit(){}editSoundChange(){console.log(this.soundChange),this.soundChange.id&&this.languagesEvolutionService.getSoundChangeRaw({id:this.soundChange.id}).subscribe(t=>{this.soundChangeRaw=t,this.editMode=!0})}deleteSoundChanges(){console.log(this.soundChange),this.soundChange.id&&this.languagesEvolutionService.deleteSoundChange({id:this.soundChange.id}).subscribe(()=>{console.log("deleted"),this.soundChangeDeleted.emit(this.soundChange)})}saveSoundChange(){if(this.soundChange.id&&this.soundChangeRaw){const t=this.soundChange.id;this.languagesEvolutionService.updateSoundChange({id:t,body:this.soundChangeRaw}).subscribe(()=>{console.log("saved"),this.languagesEvolutionService.getSoundChange({id:t}).subscribe(i=>{this.soundChange=i,this.editMode=!1})})}}cancelSoundChanges(){this.editMode=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ja))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tr","app-sound-changes-table-row",""]],inputs:{soundChange:"soundChange"},outputs:{soundChangeDeleted:"soundChangeDeleted"},attrs:q1,decls:6,vars:2,consts:[[1,"border"],[4,"ngIf"],[1,"text-white","sound-change-text"],[1,"text-white","sound-change-before"],[1,"text-white","sound-change-after"],[1,"text-yellow-dull",3,"click"],[1,"text-red-dull",3,"click"],["colspan","7"],[3,"ngModel","ngModelChange"],[1,"text-green-dull",3,"click"],[1,"text-grey-dull",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"th",0),e._uU(1,"|"),e.qZA(),e.YNc(2,ZA,27,9,"ng-container",1),e.YNc(3,NA,13,1,"ng-container",1),e.TgZ(4,"th",0),e._uU(5,"|"),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",!i.editMode),e.xp6(1),e.Q6J("ngIf",i.editMode))},dependencies:[Pt,Wn,lr,Mn],styles:["input[_ngcontent-%COMP%]{width:calc(100% - 20px);border:none}.sound-change-text[_ngcontent-%COMP%]{width:1%;white-space:nowrap;padding-left:8px;padding-right:8px}.sound-change-before[_ngcontent-%COMP%]{width:1%;white-space:nowrap;padding-left:8px;text-align:right}.sound-change-after[_ngcontent-%COMP%]{text-align:left}"]}),r})();function ny(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr",6),e.NdJ("soundChangeDeleted",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.deleteSoundChange(o))}),e.qZA()}2&r&&e.Q6J("soundChange",n.$implicit)}function $1(r,n){1&r&&(e.TgZ(0,"tr")(1,"th",7),e._uU(2,"+"),e.qZA(),e._UZ(3,"th",8),e.TgZ(4,"th",7),e._uU(5,"+"),e.qZA(),e._UZ(6,"th",9),e.TgZ(7,"th",7),e._uU(8,"+"),e.qZA(),e._UZ(9,"th",9),e.TgZ(10,"th",7),e._uU(11,"+"),e.qZA()())}let ry=(()=>{class r{constructor(){this.soundChangesChanges=new e.vpe}ngOnInit(){}deleteSoundChange(t){console.log("deleteSoundChange",t),this.soundChanges=this.soundChanges.filter(i=>i.id!==t.id),this.soundChangesChanges.emit(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-sound-changes-table"]],inputs:{soundChanges:"soundChanges"},outputs:{soundChangesChanges:"soundChangesChanges"},decls:18,vars:2,consts:[["span","1",1,"border",2,"width","8px"],["span","1"],["span","1",2,"width","auto"],["span","1",2,"width","16px"],["class","table-content","app-sound-changes-table-row","",3,"soundChange","soundChangeDeleted",4,"ngFor","ngForOf"],[4,"ngIf"],["app-sound-changes-table-row","",1,"table-content",3,"soundChange","soundChangeDeleted"],[1,"border"],["app-horizontal-dash","","colspan","7",1,"border"],["app-horizontal-dash","",1,"border"]],template:function(t,i){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0)(5,"col",1)(6,"col",0)(7,"col",1)(8,"col",0)(9,"col",2)(10,"col",0)(11,"col",3)(12,"col",0)(13,"col",3)(14,"col",0),e.qZA(),e.TgZ(15,"tbody"),e.YNc(16,ny,1,1,"tr",4),e.YNc(17,$1,12,0,"tr",5),e.qZA()()),2&t&&(e.xp6(16),e.Q6J("ngForOf",i.soundChanges),e.xp6(1),e.Q6J("ngIf",i.soundChanges.length))},dependencies:[yt,Pt,nr,j1]}),r})(),iy=(()=>{class r{constructor(){this.soundChangesRawChange=new e.vpe,this.math=Math}ngOnInit(){}print(){console.log(this.soundChangesRaw)}soundChangesRawChangeFn(){this.soundChangesRawChange.emit(this.soundChangesRaw)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-sound-changes-edit"]],inputs:{soundChangesRaw:"soundChangesRaw"},outputs:{soundChangesRawChange:"soundChangesRawChange"},decls:18,vars:2,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["app-vertical-dash","",1,"border"],[2,"text-align","left"],[3,"rows","ngModel","ngModelChange"],[1,"border"],["app-horizontal-dash","",1,"border"]],template:function(t,i){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0),e.qZA(),e.TgZ(5,"tbody")(6,"tr"),e._UZ(7,"th",2),e.TgZ(8,"th",3)(9,"textarea",4),e.NdJ("ngModelChange",function(u){return i.soundChangesRaw=u})("ngModelChange",function(){return i.soundChangesRawChangeFn()}),e.qZA()(),e.TgZ(10,"th",2),e._uU(11,"|"),e.qZA()(),e.TgZ(12,"tr")(13,"th",5),e._uU(14,"+"),e.qZA(),e._UZ(15,"th",6),e.TgZ(16,"th",5),e._uU(17,"+"),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("rows",i.math.min(30,110))("ngModel",i.soundChangesRaw))},dependencies:[Wn,lr,Mn,nr,ku],styles:["textarea[_ngcontent-%COMP%]{margin-top:8px;width:calc(100% - 16px)}"]}),r})();function H1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-table",8),e.NdJ("soundChangesChanges",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.soundChangesChanges)}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChanges",t.soundChanges)}}function G1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-edit",9),e.NdJ("soundChangesRawChange",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.soundChangesRaw=o)})("soundChangesRawChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.soundChangesRawChange())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChangesRaw",t.soundChangesRaw)}}function J1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",7),e._uU(1,"[ "),e.TgZ(2,"a",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.editSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"E"),e.qZA(),e._uU(5,"dit"),e.qZA(),e._uU(6," ]-"),e.qZA()}}function W1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",7),e._uU(1,"[ "),e.TgZ(2,"a",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"S"),e.qZA(),e._uU(5,"ave"),e.qZA(),e._uU(6," ]-["),e.TgZ(7,"a",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelSoundChanges())}),e._uU(8," x "),e.qZA(),e._uU(9,"]-"),e.qZA()}}let z1=(()=>{class r extends F1{constructor(t){super(Bl.WritingSystem),this.languagesEvolutionService=t}ngOnChanges(t){t.selectedLanguage&&this.refresh()}refresh(){this.selectedLanguage&&this.selectedLanguage.id&&this.languagesEvolutionService.getSoundChangesByLang({fromLangId:this.selectedLanguage.id,soundChangePurpose:this.soundChangePurpose}).subscribe(t=>{this.soundChanges=t})}editSoundChanges(){this.selectedLanguage&&this.selectedLanguage.id&&this.languagesEvolutionService.getSoundChangesRawLinesByLang({fromLangId:this.selectedLanguage.id,soundChangePurpose:this.soundChangePurpose}).subscribe(t=>{this.soundChangesRaw=t,console.log("editSoundChanges soundChangesRaw",this.soundChangesRaw),this.editMode=!0})}saveSoundChanges(){this.selectedLanguage&&this.selectedLanguage.id&&this.languagesEvolutionService.saveSoundChangesRawLinesByLang({fromLangId:this.selectedLanguage.id,body:this.soundChangesRaw,soundChangePurpose:this.soundChangePurpose}).subscribe(()=>{this.editMode=!1,this.refresh()})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ja))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-writing"]],inputs:{selectedLanguage:"selectedLanguage"},features:[e.qOj,e.TTD],decls:14,vars:4,consts:[[3,"soundChanges","soundChangesChanges",4,"ngIf"],[3,"soundChangesRaw","soundChangesRawChange",4,"ngIf"],["span","1",2,"width","auto"],["span","1",1,"border",2,"width","max-content"],["span","1",1,"border",2,"width","8px"],["app-horizontal-dash","",1,"border"],["class","border",4,"ngIf"],[1,"border"],[3,"soundChanges","soundChangesChanges"],[3,"soundChangesRaw","soundChangesRawChange"],[1,"text-yellow-dull",3,"click"],[1,"text-green-dull",3,"click"],[1,"text-red-dull",3,"click"]],template:function(t,i){1&t&&(e.YNc(0,H1,1,1,"app-sound-changes-table",0),e.YNc(1,G1,1,1,"app-sound-changes-edit",1),e.TgZ(2,"table")(3,"colgroup"),e._UZ(4,"col",2)(5,"col",3)(6,"col",4),e.qZA(),e.TgZ(7,"tbody")(8,"tr"),e._UZ(9,"th",5),e.YNc(10,J1,7,0,"th",6),e.YNc(11,W1,10,0,"th",6),e.TgZ(12,"th",7),e._uU(13,"+"),e.qZA()()()()),2&t&&(e.Q6J("ngIf",!i.editMode&&i.selectedLanguage&&i.selectedLanguage.id),e.xp6(1),e.Q6J("ngIf",i.editMode&&i.selectedLanguage&&i.selectedLanguage.id),e.xp6(9),e.Q6J("ngIf",!i.editMode),e.xp6(1),e.Q6J("ngIf",i.editMode))},dependencies:[Pt,nr,ry,iy]}),r})();function O2(r,n){1&r&&e._UZ(0,"col",5)}function MA(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"col",13)(2,"col",5),e.BQk()),2&r){const t=n.$implicit,i=n.index,o=e.oxw();e.xp6(1),e.uIk("style","width: "+(i==o.selectedIndex?8*(t.name.length+4)+1:65)+"px;",e.Ckj)}}function PA(r,n){if(1&r&&(e.TgZ(0,"th",7),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(0==t.selectedIndex?"+":"")}}function Q1(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"th",14),e.TgZ(2,"th",7),e._uU(3),e.qZA(),e.BQk()),2&r){const t=n.index,i=e.oxw();e.xp6(1),e.Q6J("symbol",t==i.selectedIndex?"-":"_"),e.xp6(2),e.Oqu(t==i.selectedIndex||t+1==i.selectedIndex?"+":"")}}function UA(r,n){1&r&&(e.TgZ(0,"th",7),e._uU(1,"|"),e.qZA())}function Mr(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th")(2,"a",15),e.NdJ("click",function(){const u=e.CHM(t).index,d=e.oxw();return e.KtG(d.select(u))}),e._uU(3),e.qZA()(),e.TgZ(4,"th",7),e._uU(5,"|"),e.qZA(),e.BQk()}if(2&r){const t=n.$implicit,i=n.index,o=e.oxw();e.xp6(2),e.Q6J("ngClass",i==o.selectedIndex?"":"text-grey-dull"),e.uIk("disabled",!!t.enabled||null),e.xp6(1),e.Oqu(i==o.selectedIndex?t.name:t.shortName?t.shortName:t.name.substr(0,3)+".")}}function K1(r,n){if(1&r&&e._UZ(0,"th",9),2&r){const t=e.oxw();e.uIk("colspan",2*t.selectedIndex-(t.selectedIndex>0&&t.removeBorder?1:0))}}function OA(r,n){1&r&&(e.TgZ(0,"th",7),e._uU(1,"+"),e.qZA())}function RA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-language-description",16),e.NdJ("onDeleteLanguage",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.onDeleteLanguage.emit(o))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function Y1(r,n){if(1&r&&e._UZ(0,"app-language-phonetics",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function LA(r,n){if(1&r&&e._UZ(0,"app-clusters",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function X1(r,n){if(1&r&&e._UZ(0,"app-language-pos",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function eC(r,n){if(1&r&&e._UZ(0,"app-language-writing",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}let ud=(()=>{class r{constructor(t){this.keybind=t,this.tabs=[{name:"Description",enabled:!0,shortName:"Descr."},{name:"Phonetics",enabled:!0,shortName:"[p\u02b0]"},{name:"Phonotactics",enabled:!0,shortName:"CV(C)"},{name:"Parts of Speech",enabled:!1,shortName:"PoS"},{name:"Orthography",enabled:!1,shortName:"Aa..."}],this.removeBorder=!0,this.onDeleteLanguage=new e.vpe,this.selectedIndex=0}ngOnInit(){this.correctIndex(),this.tabs[2].enabled=!!this.selectedLanguage}correctIndex(){}select(t){this.selectedIndex=t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ra))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-tabs"]],inputs:{selectedLanguage:"selectedLanguage"},outputs:{onDeleteLanguage:"onDeleteLanguage"},decls:36,vars:15,consts:[[1,"tab-routes-wrapper"],[1,"tab-routes"],["class","border","span","1",4,"ngIf"],[4,"ngFor","ngForOf"],["span","1",2,"width","max-content"],["span","1",1,"border"],["class","border",4,"ngIf"],[1,"border"],["app-horizontal-dash","","class","border",4,"ngIf"],["app-horizontal-dash","",1,"border"],[1,"break-word","text-grey"],[3,"selectedLanguage","onDeleteLanguage",4,"ngIf"],[3,"selectedLanguage",4,"ngIf"],["span","1"],["app-horizontal-dash","",1,"border",3,"symbol"],[1,"link-btn",3,"ngClass","click"],[3,"selectedLanguage","onDeleteLanguage"],[3,"selectedLanguage"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table")(3,"colgroup"),e.YNc(4,O2,1,0,"col",2),e.YNc(5,MA,3,1,"ng-container",3),e._UZ(6,"col",4)(7,"col",5),e.qZA(),e.TgZ(8,"tbody")(9,"tr"),e.YNc(10,PA,2,1,"th",6),e.YNc(11,Q1,4,2,"ng-container",3),e._UZ(12,"th",7)(13,"th",7),e.qZA(),e.TgZ(14,"tr"),e.YNc(15,UA,2,0,"th",6),e.YNc(16,Mr,6,3,"ng-container",3),e._UZ(17,"th",7)(18,"th",7),e.qZA(),e.TgZ(19,"tr"),e.YNc(20,K1,1,1,"th",8),e.YNc(21,OA,2,0,"th",6),e._UZ(22,"th",7),e.TgZ(23,"th",7),e._uU(24,"+"),e.qZA(),e._UZ(25,"th",9),e.TgZ(26,"th",7),e._uU(27,"+"),e.qZA()()(),e.TgZ(28,"tbody")(29,"tr")(30,"td",10),e.YNc(31,RA,1,1,"app-language-description",11),e.YNc(32,Y1,1,1,"app-language-phonetics",12),e.YNc(33,LA,1,1,"app-clusters",12),e.YNc(34,X1,1,1,"app-language-pos",12),e.YNc(35,eC,1,1,"app-language-writing",12),e.qZA()()()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!i.removeBorder),e.xp6(1),e.Q6J("ngForOf",i.tabs),e.xp6(5),e.Q6J("ngIf",!i.removeBorder),e.xp6(1),e.Q6J("ngForOf",i.tabs),e.xp6(4),e.Q6J("ngIf",!i.removeBorder),e.xp6(1),e.Q6J("ngForOf",i.tabs),e.xp6(4),e.Q6J("ngIf",0<i.selectedIndex),e.xp6(1),e.Q6J("ngIf",!i.removeBorder||0!=i.selectedIndex),e.xp6(4),e.uIk("colspan",2*(i.tabs.length-i.selectedIndex-1)+1),e.xp6(5),e.uIk("colspan",2*(i.tabs.length+1)+(i.removeBorder?0:1)),e.xp6(1),e.Q6J("ngIf",0==i.selectedIndex),e.xp6(1),e.Q6J("ngIf",1==i.selectedIndex),e.xp6(1),e.Q6J("ngIf",2==i.selectedIndex),e.xp6(1),e.Q6J("ngIf",3==i.selectedIndex),e.xp6(1),e.Q6J("ngIf",4==i.selectedIndex))},dependencies:[Lr,yt,Pt,nr,E1,K_,DA,ty,z1]}),r})();function FA(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"|"),e.qZA())}function qA(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr"),e._UZ(2,"th",4),e.TgZ(3,"th",4),e._uU(4),e.qZA(),e.TgZ(5,"th",4),e._uU(6),e.qZA(),e.TgZ(7,"th")(8,"a",13),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.selectLanguage(u))}),e._uU(9),e.qZA()(),e.TgZ(10,"th",4),e.YNc(11,FA,2,0,"span",14),e.qZA()(),e.TgZ(12,"tr"),e._UZ(13,"th",4),e.TgZ(14,"th",4),e._uU(15),e.qZA(),e.TgZ(16,"th",4),e._uU(17),e.qZA(),e._UZ(18,"th",15),e.TgZ(19,"th",4),e._uU(20),e.qZA()(),e.BQk()}if(2&r){const t=n.$implicit,i=n.index,o=e.oxw();e.xp6(4),e.Oqu(t.id==o.selectedLanguage.id?"|":""),e.xp6(2),e.Oqu(t.id==o.selectedLanguage.id?"":"|"),e.xp6(2),e.Q6J("ngClass",t.id==o.selectedLanguage.id?"text-main":"text-grey-dull"),e.xp6(1),e.Oqu(t.displayName),e.xp6(2),e.Q6J("ngIf",t.id!=o.selectedLanguage.id),e.xp6(4),e.Oqu(t.id==o.selectedLanguage.id||(o.allLanguages[i+1]&&o.allLanguages[i+1].id)==o.selectedLanguage.id&&o.selectedLanguage.id?"+":""),e.xp6(2),e.Oqu(t.id==o.selectedLanguage.id||(o.allLanguages[i+1]&&o.allLanguages[i+1].id)==o.selectedLanguage.id&&o.selectedLanguage.id?"-":""),e.xp6(3),e.Oqu(t.id==o.selectedLanguage.id||(o.allLanguages[i+1]&&o.allLanguages[i+1].id)==o.selectedLanguage.id&&o.selectedLanguage.id?"+":"|")}}let tC=(()=>{class r{constructor(t){this.languagesService=t,this.allLanguages=[],this.selectedLanguage={displayName:""},this.selectLanguage({displayName:""})}ngOnInit(){this.refreshLanguages()}refreshAll(){}changeLang(){}selectLanguage(t){this.selectedLanguage=t}addNewLanguage(){this.languagesService.saveLanguage({body:{displayName:"New Language"}}).subscribe(i=>{this.allLanguages.push(i),this.allLanguages=this.allLanguages.sort((o,u)=>o.displayName.localeCompare(u.displayName)),this.selectLanguage(i)})}deleteLanguage(t){this.languagesService.deleteLanguage({languageId:t}).subscribe(()=>{this.refreshLanguages()})}refreshLanguages(){this.selectLanguage({displayName:""}),this.languagesService.getAllLanguages().subscribe(t=>{this.allLanguages=t.sort((i,o)=>i.displayName.localeCompare(o.displayName))})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ni))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-languages"]],decls:36,vars:2,consts:[[1,"table-container"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","max-content"],["span","1",2,"width","auto"],[1,"border"],["app-horizontal-dash","","colspan","3"],["rowspan","0",2,"vertical-align","baseline","horiz-align","left"],[3,"selectedLanguage","onDeleteLanguage"],["colspan","3"],[1,"text-green-dull",3,"click"],[4,"ngFor","ngForOf"],["colspan","4",1,"border"],["app-vertical-dash","","rowspan","0",1,"border"],[1,"link-btn",3,"ngClass","click"],[4,"ngIf"],["app-horizontal-dash","",1,"border"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"table")(2,"colgroup"),e._UZ(3,"col",1)(4,"col",1)(5,"col",1)(6,"col",2)(7,"col",1)(8,"col",3),e.qZA(),e.TgZ(9,"tbody")(10,"tr")(11,"th",4),e._uU(12,"+"),e.qZA(),e._UZ(13,"th",5),e.TgZ(14,"th",4),e._uU(15,"+"),e.qZA(),e.TgZ(16,"th",6)(17,"app-language-tabs",7),e.NdJ("onDeleteLanguage",function(u){return i.deleteLanguage(u)}),e.qZA()()(),e.TgZ(18,"tr")(19,"th",4),e._uU(20,"|"),e.qZA(),e.TgZ(21,"th",8)(22,"a",9),e.NdJ("click",function(){return i.addNewLanguage()}),e._uU(23,"[ + ]"),e.qZA()(),e.TgZ(24,"th",4),e._uU(25,"|"),e.qZA()(),e.TgZ(26,"tr")(27,"th",4),e._uU(28,"+"),e.qZA(),e._UZ(29,"th",5),e.TgZ(30,"th",4),e._uU(31,"+"),e.qZA()(),e.YNc(32,qA,21,8,"ng-container",10),e.TgZ(33,"tr"),e._UZ(34,"th",11)(35,"th",12),e.qZA()()()()),2&t&&(e.xp6(17),e.Q6J("selectedLanguage",i.selectedLanguage),e.xp6(15),e.Q6J("ngForOf",i.allLanguages))},dependencies:[Lr,yt,Pt,nr,ku,ud]}),r})();function VA(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" -> ",t.displayName,"")}}function nC(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,VA,2,1,"span",3),e.qZA()),2&r){const t=n.index;e.xp6(1),e.Q6J("ngIf",0!=t)}}function R2(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,nC,2,1,"span",4),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function rC(r,n){if(1&r&&(e.TgZ(0,"label",10),e._uU(1),e.qZA()),2&r){const t=e.oxw(2).index,i=e.oxw();e.xp6(1),e.Oqu(0==t?i.languages[0]?i.languages[0].displayName:"Language from:":"Language:")}}function oy(r,n){if(1&r&&(e.TgZ(0,"option",11),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.displayName)}}function ia(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,R2,2,1,"div",4),e.TgZ(2,"span"),e.YNc(3,rC,2,1,"label",5),e.TgZ(4,"div",6)(5,"select",7),e.NdJ("ngModelChange",function(o){e.CHM(t);const u=e.oxw().index,d=e.oxw();return e.KtG(d.changeLanguage(u,o))})("ngModelChange",function(o){e.CHM(t);const u=e.oxw().index,d=e.oxw();return e.KtG(d.languages[u]=o)}),e.TgZ(6,"option",8),e._uU(7,"-Select Language-"),e.qZA(),e.YNc(8,oy,2,2,"option",9),e.qZA()()()()}if(2&r){const t=e.oxw(),i=t.index,o=t.$implicit,u=e.oxw();e.xp6(1),e.Q6J("ngForOf",u.languagesRoutes[i]),e.xp6(2),e.Q6J("ngIf",!u.languages[i]||0==i),e.xp6(2),e.Q6J("ngModel",u.languages[i]),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o)}}function BA(r,n){if(1&r&&(e.TgZ(0,"div",2),e.YNc(1,ia,9,5,"div",3),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf",t.length)}}let jA=(()=>{class r{constructor(t,i){this.languagesService=t,this.languagesEvolutionService=i,this.languages=[],this.languagesRoutes=[],this.availableLanguagesTo=[],this.routeChanged=new e.vpe}ngOnInit(){this.availableLanguagesTo=[],this.languagesService.getAllLanguages().subscribe(t=>{this.availableLanguagesTo.push(t.sort((i,o)=>i.displayName.localeCompare(o.displayName)))})}changeLanguage(t,i){console.log("changeLanguage",t,i,this.availableLanguagesTo),this.availableLanguagesTo.splice(t+1,this.availableLanguagesTo.length-t-1),this.languages.splice(t+1,this.availableLanguagesTo.length-t-1),this.languagesRoutes.splice(t+1,this.availableLanguagesTo.length-t-1),console.log("changeLanguage",t,i,this.availableLanguagesTo),i.id&&this.languagesEvolutionService.getAllLanguagesFrom({fromId:i.id}).subscribe(u=>{this.availableLanguagesTo[t+1]=u});const o=this.languages[t-1].id;t>0&&i.id&&o&&this.languagesEvolutionService.getAllRoutes({fromId:o,toId:i.id}).subscribe(u=>{console.log("changeLanguage",u),this.languagesRoutes[t]=u;const d=this.languagesRoutes.reduce((g,v,w)=>w>t?g:g.concat(v[0].slice(1)),[this.languages[0]]);this.routeChanged.emit(d)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ni),e.Y36(Ja))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-trace-language-recursive"]],outputs:{routeChanged:"routeChanged"},decls:2,vars:1,consts:[[1,"row"],["class","selector",4,"ngFor","ngForOf"],[1,"selector"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","languageSelectorLabel","for","languageSelector",4,"ngIf"],[1,"input-group"],["id","languageSelector","name","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","languageSelector",1,"languageSelectorLabel"],[3,"ngValue"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,BA,2,1,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.availableLanguagesTo))},dependencies:[yt,Pt,yo,zs,Xr,lr,Mn],styles:[".row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.languageSelector[_ngcontent-%COMP%]{margin-top:4px}.languageSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})(),oa=(()=>{class r{constructor(){this.dataStore={selectedLanguage:void 0}}changeSelectedLanguage(t){this.dataStore.selectedLanguage=t}ngOnInit(){console.log("LangService onInit")}ngOnDestroy(){console.log("LangService onDestroy")}shortPOS(t){return"Adjective"==t?"adj.":"Adverb"==t?"adv.":"Conjunction"==t?"cnj.":"Determiner"==t?"det.":"Noun"==t?"n.":"Numeral"==t?"num.":"Preposition"==t?"prep.":"Pronoun"==t?"pn.":"Verb"==t?"v.":"Prefix"==t?"prefix":"Suffix"==t?"suffix":t}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),eo=(()=>{class r{constructor(t){this.keybind=t,this._errors=new ti([]),this.dataStore={errors:[]},this.errors=this._errors.asObservable(),this.keybind.match(["ESCAPE"],[]).subscribe(()=>{this.clearErrors()})}addError(t){this.dataStore.errors.push(t),this._errors.next(Object.assign({},this.dataStore).errors)}clearErrors(){!this.dataStore.errors.length||(this.dataStore.errors=[],this._errors.next(Object.assign({},this.dataStore).errors))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ra))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const vs=["wordSelector"];function iC(r,n){if(1&r&&(e.TgZ(0,"div"),e._uU(1,'More info about word "'),e.TgZ(2,"span",15),e._uU(3),e.qZA(),e._uU(4),e.qZA()),2&r){const t=e.oxw();e.xp6(3),e.Oqu(t.wordsTraced[t.wordSelected]),e.xp6(1),e.hij('" from ',t.fullRoute[t.wordSelected].displayName," language. ")}}function oC(r,n){1&r&&(e.ynx(0),e._UZ(1,"br"),e._uU(2,"|"),e._UZ(3,"br"),e._uU(4,"|"),e.BQk())}function $A(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"|"),e.qZA())}function HA(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr"),e._UZ(2,"th",3),e.TgZ(3,"th",3),e._uU(4),e.qZA(),e.TgZ(5,"th",3),e._uU(6),e.qZA(),e.TgZ(7,"th")(8,"a",16),e.NdJ("click",function(){const u=e.CHM(t).index,d=e.oxw();return e.KtG(d.selectWord(u))}),e._uU(9),e.qZA()(),e.TgZ(10,"th",3),e.YNc(11,$A,2,0,"span",9),e.qZA()(),e.TgZ(12,"tr"),e._UZ(13,"th",3),e.TgZ(14,"th",3),e._uU(15),e.qZA(),e.TgZ(16,"th",3),e._uU(17),e.qZA(),e._UZ(18,"th",14),e.TgZ(19,"th",3),e._uU(20),e.qZA()(),e.BQk()}if(2&r){const t=n.$implicit,i=n.index,o=e.oxw();e.xp6(4),e.Oqu(i==o.wordSelected?"|":""),e.xp6(2),e.Oqu(i==o.wordSelected?"":"|"),e.xp6(2),e.Q6J("ngClass",i==o.wordSelected?"text-main":"text-grey-dull"),e.xp6(1),e.Oqu(t),e.xp6(2),e.Q6J("ngIf",i!=o.wordSelected),e.xp6(4),e.Oqu(i==o.wordSelected||i==o.wordSelected-1?"+":""),e.xp6(2),e.Oqu(i==o.wordSelected||i==o.wordSelected-1?"-":""),e.xp6(3),e.Oqu(i==o.wordSelected||i==o.wordSelected-1?"+":"|")}}let GA=(()=>{class r{constructor(t,i,o,u,d){this.languagesEvolutionService=t,this.langService=i,this.errorService=o,this.keybind=u,this.router=d,this.fullRoute=[],this.word="",this.wordsTraced=[],this.wordSelected=0,this.keybind.match(["T"],["altKey"]).subscribe(()=>{var v;null===(v=this.wordSelector)||void 0===v||v.nativeElement.focus()})}routeChanged(){this.changeWord(this.word)}ngOnChanges(t){t.fullRoute&&this.routeChanged()}changeWord(t){console.log("changeWord",t),this.word=t,this.word.trim().length&&!(this.fullRoute.length<2)&&this.languagesEvolutionService.trace({word:this.word.trim(),body:this.fullRoute}).subscribe(i=>{this.wordsTraced=[],i.forEach(o=>{this.wordsTraced.push(null!=o&&o.word?null==o?void 0:o.word:"")}),this.wordSelected=this.wordsTraced.length>0?this.wordsTraced.length-1:0})}selectWord(t){console.log("selectWord",t),this.wordSelected=t}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ja),e.Y36(oa),e.Y36(eo),e.Y36(ra),e.Y36(Pn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-trace-result"]],viewQuery:function(t,i){if(1&t&&e.Gf(vs,5),2&t){let o;e.iGM(o=e.CRH())&&(i.wordSelector=o.first)}},inputs:{fullRoute:"fullRoute"},features:[e.TTD],decls:66,vars:6,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","max-content"],[1,"border"],["colspan","3",2,"text-align","left"],[1,"selector"],["for","wordSelector",1,"wordSelectorLabel"],[1,"input-group"],["id","wordSelector","name","wordSelector","type","text",1,"wordSelector",3,"ngModel","ngModelChange"],[4,"ngIf"],["app-vertical-dash","",1,"border"],[4,"ngFor","ngForOf"],["app-horizontal-dash","","colspan","3",1,"border"],["colspan","4",1,"border"],["app-horizontal-dash","",1,"border"],[1,"text-white"],[1,"link-btn",3,"ngClass","click"]],template:function(t,i){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",0)(4,"col",0)(5,"col",1)(6,"col",0)(7,"col",2)(8,"col",0),e.qZA(),e.TgZ(9,"tbody")(10,"tr")(11,"th",3),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e._UZ(15,"br"),e._uU(16,"|"),e._UZ(17,"br"),e._uU(18,"|"),e.qZA(),e.TgZ(19,"th",4)(20,"div",5)(21,"label",6),e._uU(22,"Select Word:"),e.qZA(),e.TgZ(23,"div",7)(24,"input",8),e.NdJ("ngModelChange",function(u){return i.changeWord(u)})("ngModelChange",function(u){return i.word=u}),e.qZA()()()(),e.TgZ(25,"th",3),e._uU(26,"|"),e._UZ(27,"br"),e._uU(28,"|"),e._UZ(29,"br"),e._uU(30,"|"),e._UZ(31,"br"),e._uU(32,"|"),e.qZA(),e.TgZ(33,"th",3),e.YNc(34,iC,5,2,"div",9),e.qZA(),e.TgZ(35,"th",10),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e._UZ(39,"br"),e._uU(40,"|"),e._UZ(41,"br"),e._uU(42,"|"),e._UZ(43,"br"),e._uU(44,"|"),e._UZ(45,"br"),e._uU(46,"| "),e.YNc(47,oC,5,0,"ng-container",11),e.qZA()(),e.TgZ(48,"tr")(49,"th",3),e._uU(50,"+"),e.qZA(),e._UZ(51,"th",12),e.TgZ(52,"th",3),e._uU(53,"+"),e.qZA()(),e.YNc(54,HA,21,8,"ng-container",11),e.TgZ(55,"tr"),e._UZ(56,"th",13),e.TgZ(57,"th",3),e._uU(58,"|"),e.qZA()(),e.TgZ(59,"tr"),e._UZ(60,"th",13),e.TgZ(61,"th",3),e._uU(62,"+"),e.qZA(),e._UZ(63,"th",14),e.TgZ(64,"th",3),e._uU(65,"+"),e.qZA()()()()),2&t&&(e.xp6(24),e.Q6J("ngModel",i.word),e.xp6(9),e.uIk("rowspan",3+2*i.wordsTraced.length),e.xp6(1),e.Q6J("ngIf",i.wordsTraced[i.wordSelected]),e.xp6(1),e.uIk("rowspan",3+2*i.wordsTraced.length),e.xp6(12),e.Q6J("ngForOf",i.wordsTraced),e.xp6(7),e.Q6J("ngForOf",i.wordsTraced))},dependencies:[Lr,yt,Pt,Wn,lr,Mn,nr,ku]}),r})();const JA=["wordInput"];function sy(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," -> "),e.qZA())}function $h(r,n){if(1&r&&(e.TgZ(0,"span",10),e.YNc(1,sy,2,0,"span",8),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&r){const t=n.$implicit,i=n.index;e.xp6(1),e.Q6J("ngIf",i>0),e.xp6(2),e.Oqu(t.displayName)}}function WA(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," No Route "),e.qZA())}let sC=(()=>{class r{constructor(){this.fullRoute=[],this.wordText="",this.word="",this.wordsTraced=[]}routeChanged(t){this.fullRoute=t}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-trace"]],viewQuery:function(t,i){if(1&t&&e.Gf(JA,5),2&t){let o;e.iGM(o=e.CRH())&&(i.wordInput=o.first)}},decls:51,vars:3,consts:[[1,"table-container"],["span","1",1,"border"],["span","1",2,"width","auto"],[1,"border"],["app-horizontal-dash","",1,"border"],[3,"routeChanged"],[1,"full-route"],["class","text-yellow-dull",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"fullRoute"],[1,"text-yellow-dull"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"table")(2,"colgroup"),e._UZ(3,"col",1)(4,"col",2)(5,"col",1),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",3),e._uU(9,"+"),e.qZA(),e._UZ(10,"th",4),e.TgZ(11,"th",3),e._uU(12,"+"),e.qZA()(),e.TgZ(13,"tr")(14,"th",3),e._uU(15,"|"),e._UZ(16,"br"),e._uU(17,"|"),e._UZ(18,"br"),e._uU(19,"|"),e._UZ(20,"br"),e._uU(21,"|"),e._UZ(22,"br"),e._uU(23,"|"),e._UZ(24,"br"),e._uU(25,"|"),e.qZA(),e.TgZ(26,"th",3)(27,"div")(28,"app-trace-language-recursive",5),e.NdJ("routeChanged",function(u){return i.routeChanged(u)}),e.qZA(),e.TgZ(29,"div",6),e.YNc(30,$h,4,2,"span",7),e.YNc(31,WA,2,0,"span",8),e.qZA()()(),e.TgZ(32,"th",3),e._uU(33,"|"),e._UZ(34,"br"),e._uU(35,"|"),e._UZ(36,"br"),e._uU(37,"|"),e._UZ(38,"br"),e._uU(39,"|"),e._UZ(40,"br"),e._uU(41,"|"),e._UZ(42,"br"),e._uU(43,"|"),e.qZA()(),e.TgZ(44,"tr")(45,"th",3),e._uU(46,"+"),e.qZA(),e._UZ(47,"th",4),e.TgZ(48,"th",3),e._uU(49,"+"),e.qZA()()()(),e._UZ(50,"app-trace-result",9),e.qZA()),2&t&&(e.xp6(30),e.Q6J("ngForOf",i.fullRoute),e.xp6(1),e.Q6J("ngIf",!i.fullRoute.length),e.xp6(19),e.Q6J("fullRoute",i.fullRoute))},dependencies:[yt,Pt,nr,jA,GA],styles:[".full-route[_ngcontent-%COMP%]{margin:8px}.half-width[_ngcontent-%COMP%]{width:50%}.wordSelector[_ngcontent-%COMP%]{margin-top:4px}.wordSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})();function zA(r,n){1&r&&e._UZ(0,"col",10)}function aC(r,n){1&r&&(e.ynx(0),e._UZ(1,"col",11)(2,"col",10),e.BQk())}function uC(r,n){1&r&&e._UZ(0,"col",10)}function Yf(r,n){if(1&r&&(e.TgZ(0,"th",6),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(0==t.selectedIndex?"+":"")}}function QA(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"th",12),e.TgZ(2,"th",6),e._uU(3),e.qZA(),e.BQk()),2&r){const t=n.index,i=e.oxw();e.xp6(1),e.Q6J("symbol",t==i.selectedIndex?"-":"_"),e.xp6(2),e.Oqu(t==i.selectedIndex||t+1==i.selectedIndex?"+":"")}}function lC(r,n){1&r&&e._UZ(0,"th",6)}function cC(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"|"),e.qZA())}function ay(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th")(2,"a",13),e.NdJ("click",function(){const u=e.CHM(t).index,d=e.oxw();return e.KtG(d.select(u))}),e._uU(3),e.qZA()(),e.TgZ(4,"th",6),e._uU(5,"|"),e.qZA(),e.BQk()}if(2&r){const t=n.$implicit,i=n.index,o=e.oxw();e.xp6(2),e.Q6J("ngClass",i==o.selectedIndex?"":"text-grey-dull")("routerLink",t.route)("queryParams",o.queryParams),e.uIk("disabled",!!t.enabled||null),e.xp6(1),e.Oqu(t.name)}}function Xf(r,n){1&r&&e._UZ(0,"th",6)}function uy(r,n){if(1&r&&e._UZ(0,"th",8),2&r){const t=e.oxw();e.uIk("colspan",2*t.selectedIndex-(t.selectedIndex>0&&t.removeBorder?1:0))}}function ly(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"+"),e.qZA())}function dC(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"+"),e.qZA())}let cy=(()=>{class r{constructor(t,i,o){this.activeRoute=t,this.router=i,this.keybind=o,this.removeBorder=!1,this.selectedIndex=0}ngOnInit(){this.correctIndex(),this.router.events.subscribe(i=>{i instanceof Su&&this.correctIndex()}),this.navigateIndex(this.selectedIndex),this.keybind.match(["TAB"],[]).subscribe(i=>{i.preventDefault(),this.selectedIndex=(this.selectedIndex+1)%this.tabs.length,this.navigateIndex(this.selectedIndex)})}correctIndex(){var t;const i=null===(t=this.activeRoute.snapshot.children[0].routeConfig)||void 0===t?void 0:t.path;this.selectedIndex=this.tabs.reduce((o,u,d)=>u.route==i?d:o,this.selectedIndex)}select(t){this.selectedIndex=t}navigateIndex(t){const i=this.activeRoute.snapshot.queryParamMap.get("lang");this.router.navigate([this.tabs[t].route],{relativeTo:this.activeRoute,queryParams:{lang:i}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ys),e.Y36(Pn),e.Y36(ra))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-tab-routes"]],inputs:{tabs:"tabs",queryParams:"queryParams",removeBorder:"removeBorder"},decls:31,vars:14,consts:[[1,"tab-routes-wrapper"],[1,"tab-routes"],["span","1","class","border",4,"ngIf"],[4,"ngFor","ngForOf"],["span","1",2,"width","max-content"],["class","border",4,"ngIf"],[1,"border"],["app-horizontal-dash","","class","border",4,"ngIf"],["app-horizontal-dash","",1,"border"],[1,"break-word","text-grey"],["span","1",1,"border"],["span","1",2,"width","150px"],["app-horizontal-dash","",1,"border",3,"symbol"],[1,"link-btn",3,"ngClass","routerLink","queryParams","click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table")(3,"colgroup"),e.YNc(4,zA,1,0,"col",2),e.YNc(5,aC,3,0,"ng-container",3),e._UZ(6,"col",4),e.YNc(7,uC,1,0,"col",2),e.qZA(),e.TgZ(8,"tbody")(9,"tr"),e.YNc(10,Yf,2,1,"th",5),e.YNc(11,QA,4,2,"ng-container",3),e._UZ(12,"th",6),e.YNc(13,lC,1,0,"th",5),e.qZA(),e.TgZ(14,"tr"),e.YNc(15,cC,2,0,"th",5),e.YNc(16,ay,6,5,"ng-container",3),e._UZ(17,"th",6),e.YNc(18,Xf,1,0,"th",5),e.qZA(),e.TgZ(19,"tr"),e.YNc(20,uy,1,1,"th",7),e.YNc(21,ly,2,0,"th",5),e._UZ(22,"th",6),e.TgZ(23,"th",6),e._uU(24,"+"),e.qZA(),e._UZ(25,"th",8),e.YNc(26,dC,2,0,"th",5),e.qZA()(),e.TgZ(27,"tbody")(28,"tr")(29,"td",9),e._UZ(30,"router-outlet"),e.qZA()()()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!i.removeBorder),e.xp6(1),e.Q6J("ngForOf",i.tabs),e.xp6(2),e.Q6J("ngIf",!i.removeBorder),e.xp6(3),e.Q6J("ngIf",!i.removeBorder),e.xp6(1),e.Q6J("ngForOf",i.tabs),e.xp6(2),e.Q6J("ngIf",!i.removeBorder),e.xp6(2),e.Q6J("ngIf",!i.removeBorder),e.xp6(1),e.Q6J("ngForOf",i.tabs),e.xp6(2),e.Q6J("ngIf",!i.removeBorder),e.xp6(2),e.Q6J("ngIf",0<i.selectedIndex),e.xp6(1),e.Q6J("ngIf",!i.removeBorder||0!=i.selectedIndex),e.xp6(4),e.uIk("colspan",2*(i.tabs.length-i.selectedIndex-1)+1),e.xp6(1),e.Q6J("ngIf",!i.removeBorder),e.xp6(3),e.uIk("colspan",2*(i.tabs.length+1)+(i.removeBorder?0:1)))},dependencies:[Lr,yt,Pt,Yi,$o,nr]}),r})(),hC=(()=>{class r extends Oh{constructor(){super(...arguments),this.tabs=[{name:"Add New",route:"new",enabled:!0},{name:"List",route:"list",enabled:!0},{name:"Translations",route:"translations",enabled:!0},{name:"Details",route:"word/:word",enabled:!1}]}ngOnInit(){super.ngOnInit()}refreshAll(){}changeLang(){}}return r.\u0275fac=function(){let n;return function(i){return(n||(n=e.n5z(r)))(i||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["app-words"]],features:[e.qOj],decls:2,vars:1,consts:[[1,"table-container"],[3,"tabs"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-tab-routes",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("tabs",i.tabs))},dependencies:[cy]}),r})(),Nu=(()=>{class r extends rd{constructor(t,i){super(t,i)}addWord$Response(t){const i=new Nt(this.rootUrl,r.AddWordPath,"post");return t&&i.body(t.body,"application/json"),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}addWord(t){return this.addWord$Response(t).pipe((0,se.U)(i=>i.body))}getAllWords$Response(t){const i=new Nt(this.rootUrl,r.GetAllWordsPath,"get");return t&&i.query("filter",t.filter,{}),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getAllWords(t){return this.getAllWords$Response(t).pipe((0,se.U)(i=>i.body))}getAllWordsFromLang$Response(t){const i=new Nt(this.rootUrl,r.GetAllWordsFromLangPath,"get");return t&&i.path("from",t.from,{}),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getAllWordsFromLang(t){return this.getAllWordsFromLang$Response(t).pipe((0,se.U)(i=>i.body))}addDerivedWord$Response(t){const i=new Nt(this.rootUrl,r.AddDerivedWordPath,"post");return t&&i.body(t.body,"application/json"),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}addDerivedWord(t){return this.addDerivedWord$Response(t).pipe((0,se.U)(i=>i.body))}getAllWordsWithTranslationsFromLang$Response(t){const i=new Nt(this.rootUrl,r.GetAllWordsWithTranslationsFromLangPath,"get");return t&&i.path("from",t.from,{}),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getAllWordsWithTranslationsFromLang(t){return this.getAllWordsWithTranslationsFromLang$Response(t).pipe((0,se.U)(i=>i.body))}deleteWord$Response(t){const i=new Nt(this.rootUrl,r.DeleteWordPath,"delete");return t&&i.path("id",t.id,{}),this.http.request(i.build({responseType:"text",accept:"*/*"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o.clone({body:void 0})))}deleteWord(t){return this.deleteWord$Response(t).pipe((0,se.U)(i=>i.body))}canDeleteWord$Response(t){const i=new Nt(this.rootUrl,r.CanDeleteWordPath,"get");return t&&i.path("wordId",t.wordId,{}),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o.clone({body:"true"===String(o.body)})))}canDeleteWord(t){return this.canDeleteWord$Response(t).pipe((0,se.U)(i=>i.body))}getDetailedWordsByPhonetics$Response(t){const i=new Nt(this.rootUrl,r.GetDetailedWordsByPhoneticsPath,"post");return t&&i.path("word",t.word,{}),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getDetailedWordsByPhonetics(t){return this.getDetailedWordsByPhonetics$Response(t).pipe((0,se.U)(i=>i.body))}}return r.AddWordPath="/api/words/add",r.GetAllWordsPath="/api/words/all",r.GetAllWordsFromLangPath="/api/words/all/{from}",r.AddDerivedWordPath="/api/words/derive",r.GetAllWordsWithTranslationsFromLangPath="/api/words/page/{from}",r.DeleteWordPath="/api/words/{id}",r.CanDeleteWordPath="/api/words/{wordId}/candelete",r.GetDetailedWordsByPhoneticsPath="/api/words/{word}",r.\u0275fac=function(t){return new(t||r)(e.LFG(Ga),e.LFG(Ha))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function pC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,u=e.oxw();return e.KtG(u.changePage(o))}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t+1,"")}}function fC(r,n){if(1&r&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t+1,"")}}function KA(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,","),e.qZA())}function YA(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," ... "),e.qZA())}function XA(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,pC,2,1,"a",8),e.YNc(2,fC,2,1,"span",9),e.YNc(3,KA,2,0,"span",10),e.YNc(4,YA,2,0,"span",10),e.qZA()),2&r){const t=n.$implicit,i=n.index,o=e.oxw();e.xp6(1),e.Q6J("ngIf",t!=o.page),e.xp6(1),e.Q6J("ngIf",t==o.page),e.xp6(1),e.Q6J("ngIf",i<o.pageBttns.length-1&&t+1==o.pageBttns[i+1]),e.xp6(1),e.Q6J("ngIf",t+1!=o.pageBttns[i+1]&&i<o.pageBttns.length-1)}}let dy=(()=>{class r{constructor(){this.pageBttns=[],this.totalPages=0,this.total=0,this.page=0,this.size=30,this.load=new e.vpe}ngOnInit(){this.load.emit({page:this.page,size:this.size})}ngOnChanges(t){this.redrawPageBttns()}redrawPageBttns(){if(this.totalPages){this.pageBttns=[];for(let t=0;t<3;t++)this.pageBttns.push(t),this.pageBttns.push(this.totalPages-1-t),this.pageBttns.push(this.page+t),this.pageBttns.push(this.page-t);this.pageBttns=this.pageBttns.filter((t,i,o)=>o.indexOf(t)===i&&t>=0&&this.totalPages&&t<this.totalPages).sort((t,i)=>t-i)}}changePage(t){if(this.totalPages&&void 0!==t){const i=Math.min(Math.max(0,t),this.totalPages-1);i!==this.page&&(this.page=i,this.load.emit({page:this.page,size:this.size}))}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-paginator"]],inputs:{totalPages:"totalPages",total:"total",page:"page",size:"size"},outputs:{load:"load"},features:[e.TTD],decls:59,vars:4,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","240px"],["span","1",2,"width","17px"],["span","1",2,"width","auto"],[1,"border"],["app-horizontal-dash","","colspan","11",1,"border"],[3,"click"],[4,"ngFor","ngForOf"],["class","text-grey-dull",3,"click",4,"ngIf"],["class","text-main",4,"ngIf"],[4,"ngIf"],[1,"text-grey-dull",3,"click"],[1,"text-main"]],template:function(t,i){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0)(5,"col",2)(6,"col",0)(7,"col",2)(8,"col",0)(9,"col",3)(10,"col",0)(11,"col",2)(12,"col",0)(13,"col",2)(14,"col",0),e.qZA(),e.TgZ(15,"tbody")(16,"tr")(17,"th",4),e._uU(18,"+"),e.qZA(),e._UZ(19,"th",5),e.TgZ(20,"th",4),e._uU(21,"+"),e.qZA()(),e.TgZ(22,"tr")(23,"th",4),e._uU(24,"|"),e.qZA(),e.TgZ(25,"th",4),e._uU(26),e.qZA(),e.TgZ(27,"th",4),e._uU(28,"|"),e.qZA(),e.TgZ(29,"th",4)(30,"a",6),e.NdJ("click",function(){return i.changePage(0)}),e._uU(31," \xab "),e.qZA()(),e.TgZ(32,"th",4),e._uU(33,"|"),e.qZA(),e.TgZ(34,"th",4)(35,"a",6),e.NdJ("click",function(){return i.changePage(i.page-1)}),e._uU(36," < "),e.qZA()(),e.TgZ(37,"th",4),e._uU(38,"|"),e.qZA(),e.TgZ(39,"th",4),e.YNc(40,XA,5,4,"span",7),e.qZA(),e.TgZ(41,"th",4),e._uU(42,"|"),e.qZA(),e.TgZ(43,"th",4)(44,"a",6),e.NdJ("click",function(){return i.changePage(i.page+1)}),e._uU(45," > "),e.qZA()(),e.TgZ(46,"th",4),e._uU(47,"|"),e.qZA(),e.TgZ(48,"th",4)(49,"a",6),e.NdJ("click",function(){return i.changePage(i.totalPages)}),e._uU(50," \xbb "),e.qZA()(),e.TgZ(51,"th",4),e._uU(52,"|"),e.qZA()(),e.TgZ(53,"tr")(54,"th",4),e._uU(55,"+"),e.qZA(),e._UZ(56,"th",5),e.TgZ(57,"th",4),e._uU(58,"+"),e.qZA()()()()),2&t&&(e.xp6(26),e.lnq(" Page ",i.page+1," of ",i.totalPages," (",i.total," words) "),e.xp6(14),e.Q6J("ngForOf",i.pageBttns))},dependencies:[yt,Pt,nr]}),r})();function eI(r,n){if(1&r&&(e.TgZ(0,"option",9),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.displayName)}}function tI(r,n){if(1&r&&(e.TgZ(0,"option",9),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function nI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,u=e.oxw();return e.KtG(u.deleteWord(o))}),e._uU(1,"x"),e.qZA()}}const rI=function(r){return["/words/word",r]};function iI(r,n){if(1&r&&(e.TgZ(0,"tr",14)(1,"th",4),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",20)(4,"span",21),e._uU(5),e.qZA()(),e.TgZ(6,"th",4),e._uU(7,"|"),e.qZA(),e.TgZ(8,"th",20)(9,"a",22),e._uU(10),e.qZA()(),e.TgZ(11,"th",4),e._uU(12,"|"),e.qZA(),e.TgZ(13,"th",4),e._uU(14),e.qZA(),e.TgZ(15,"th",4),e._uU(16,"|"),e.qZA(),e.TgZ(17,"th",5)(18,"span",23),e._uU(19),e.qZA()(),e.TgZ(20,"th",4)(21,"span"),e._uU(22,"|"),e.qZA()(),e.TgZ(23,"th",4),e.YNc(24,nI,2,0,"a",24),e.qZA(),e.TgZ(25,"th",4),e._uU(26,"|"),e.qZA()()),2&r){const t=n.$implicit,i=e.oxw();e.xp6(5),e.Oqu(t.writtenWord),e.xp6(4),e.Q6J("fragment",null==t.language?null:t.language.displayName)("routerLink",e.VKq(7,rI,t.word)),e.xp6(1),e.hij("/ ",t.word," / "),e.xp6(4),e.Oqu(null==t.partOfSpeech?null:t.partOfSpeech.abbreviation),e.xp6(5),e.Oqu(null==t.language?null:t.language.displayName),e.xp6(5),e.Q6J("ngIf",i.canDeleteWord(t))}}let oI=(()=>{class r{constructor(t,i,o){this.wordService=t,this.languageService=i,this.posService=o,this.words={},this.languages=[],this.poses=[],this.pageSize=30,this.canDelete=new Map}ngOnInit(){this.languageService.getAllLanguages().subscribe(t=>{this.languages=t.sort((i,o)=>i.displayName?i.displayName.localeCompare(o.displayName?o.displayName:""):-1)}),this.posService.getAllPos().subscribe(t=>{this.poses=t.sort((i,o)=>i.name?i.name.localeCompare(o.name?o.name:""):-1)})}load(t){this.wordService.getAllWords({filter:t}).subscribe(i=>{i.data&&(this.words=i,i.data.forEach(o=>{if(o.id){const u=o.id;this.wordService.canDeleteWord({wordId:u}).subscribe(d=>{this.canDelete.set(u,d)})}}))})}loadDefault(t){var i,o;console.log("loadDefault",t,this.pos,this.language,this.wordSearch),t||(t={}),t={page:t.page?t.page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,languageId:t.languageId?t.languageId:null===t.languageId||null===(i=this.language)||void 0===i?void 0:i.id,posId:t.posId?t.posId:null===t.posId||null===(o=this.pos)||void 0===o?void 0:o.id},this.load(t)}deleteWord(t){t.id&&this.wordService.deleteWord({id:t.id}).subscribe(()=>{var i;this.words.data=null===(i=this.words.data)||void 0===i?void 0:i.filter(o=>o.id!==t.id)})}addNewWord(t){this.wordService.addWord({body:t}).subscribe(i=>{var o;null===(o=this.words.data)||void 0===o||o.push(i)})}resetFilter(){this.language=void 0,this.pos=void 0,this.wordSearch=void 0,this.loadDefault({})}canDeleteWord(t){return!!t.id&&!!this.canDelete.get(t.id)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Nu),e.Y36(Ni),e.Y36(Zu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-words-list"]],decls:58,vars:12,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","9px"],["span","1",2,"width","70px"],[1,"border"],[1,"border",2,"text-align","left"],["type","text",2,"height","16px","margin-left","16px",3,"ngModel","ngModelChange"],[2,"margin-left","8px"],["id","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["id","posSelector",1,"posSelector",3,"ngModel","ngModelChange"],[1,"text-red-dull",3,"click"],["app-horizontal-dash","","colspan","3",1,"border"],[1,"table-content"],["span","1",2,"width","1%"],["span","1",2,"width","40px"],["span","1",2,"width","17px"],["class","table-content",4,"ngFor","ngForOf"],[3,"page","size","totalPages","total","load"],[2,"padding-left","8px","padding-right","8px"],[2,"white-space","nowrap"],[1,"text-main","link-btn",3,"fragment","routerLink"],[2,"margin-left","16px"],["class","text-red-dull",3,"click",4,"ngIf"]],template:function(t,i){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",0),e.qZA(),e.TgZ(7,"tbody")(8,"tr")(9,"th",4),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e.qZA(),e.TgZ(13,"th",5)(14,"input",6),e.NdJ("ngModelChange",function(u){return i.loadDefault({word:u})})("ngModelChange",function(u){return i.wordSearch=u}),e.qZA(),e.TgZ(15,"span",7)(16,"select",8),e.NdJ("ngModelChange",function(u){return i.loadDefault({languageId:null==u?null:u.id})})("ngModelChange",function(u){return i.language=u}),e.TgZ(17,"option",9),e._uU(18,"All languages"),e.qZA(),e.YNc(19,eI,2,2,"option",10),e.qZA()(),e.TgZ(20,"span",7)(21,"select",11),e.NdJ("ngModelChange",function(u){return i.loadDefault({posId:null==u?null:u.id})})("ngModelChange",function(u){return i.pos=u}),e.TgZ(22,"option",9),e._uU(23,"Any part of speech"),e.qZA(),e.YNc(24,tI,2,2,"option",10),e.qZA()()(),e.TgZ(25,"th",4),e._uU(26,"|"),e._UZ(27,"br"),e._uU(28,"|"),e.qZA(),e.TgZ(29,"th")(30,"a",12),e.NdJ("click",function(){return i.resetFilter()}),e._uU(31,"[ x ]"),e.qZA()(),e.TgZ(32,"th",4),e._uU(33,"|"),e._UZ(34,"br"),e._uU(35,"|"),e.qZA()(),e.TgZ(36,"tr")(37,"th",4),e._uU(38,"+"),e.qZA(),e._UZ(39,"th",13),e.TgZ(40,"th",4),e._uU(41,"+"),e.qZA()()()(),e.TgZ(42,"table",14)(43,"colgroup"),e._UZ(44,"col",0)(45,"col",15)(46,"col",0)(47,"col",15)(48,"col",0)(49,"col",16)(50,"col",0)(51,"col",1)(52,"col",0)(53,"col",17)(54,"col",0),e.qZA(),e.TgZ(55,"tbody",14),e.YNc(56,iI,27,9,"tr",18),e.qZA()(),e.TgZ(57,"app-list-paginator",19),e.NdJ("load",function(u){return i.loadDefault(u)}),e.qZA()),2&t&&(e.xp6(14),e.Q6J("ngModel",i.wordSearch),e.xp6(2),e.Q6J("ngModel",i.language),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",i.languages),e.xp6(2),e.Q6J("ngModel",i.pos),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",i.poses),e.xp6(32),e.Q6J("ngForOf",i.words.data),e.xp6(1),e.Q6J("page",i.words.page?i.words.page:0)("size",i.pageSize)("totalPages",i.words.totalPages?i.words.totalPages:0)("total",i.words.total?i.words.total:0))},dependencies:[yt,Pt,$o,yo,zs,Wn,Xr,lr,Mn,nr,dy]}),r})();var jl=(()=>((jl||(jl={})).General="GENERAL",jl))();function sI(r,n){if(1&r&&(e.TgZ(0,"span")(1,"span",4),e._uU(2),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.hij(" /",t.translation.wordTo.word,"/")}}const aI=function(r){return["/words/word",r]};function uI(r,n){if(1&r&&(e.TgZ(0,"a",2),e._uU(1),e.YNc(2,sI,3,1,"span",3),e.qZA()),2&r){const t=e.oxw();e.Q6J("routerLink",e.VKq(3,aI,t.translation.wordTo.word)),e.xp6(1),e.Oqu(t.translation.wordTo.writtenWord),e.xp6(1),e.Q6J("ngIf",t.translation.wordTo.writtenWord!==t.translation.wordTo.word)}}function lI(r,n){if(1&r&&(e.TgZ(0,"a",5),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.translation.phraseTo)}}let hy=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-translation-word"]],inputs:{translation:"translation"},decls:2,vars:2,consts:[["class","text-blue-dull link-btn",3,"routerLink",4,"ngIf"],["class","text-blue-dull link-btn",4,"ngIf"],[1,"text-blue-dull","link-btn",3,"routerLink"],[4,"ngIf"],[1,"text-grey"],[1,"text-blue-dull","link-btn"]],template:function(t,i){1&t&&(e.YNc(0,uI,3,5,"a",0),e.YNc(1,lI,2,1,"a",1)),2&t&&(e.Q6J("ngIf",i.translation.wordTo),e.xp6(1),e.Q6J("ngIf",!i.translation.wordTo))},dependencies:[Pt,$o]}),r})(),gC=(()=>{class r{transform(t,...i){return t===jl.General?"gen.":t}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275pipe=e.Yjl({name:"translationType",type:r,pure:!0}),r})();function cI(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"app-translation-word",1),e.qZA()),2&r){const t=n.$implicit,i=n.index;e.xp6(1),e.Oqu(0==i?"":"; "),e.xp6(1),e.Q6J("translation",t)}}function mC(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"dt"),e._uU(2),e.ALo(3,"translationType"),e.qZA(),e.TgZ(4,"dd"),e.YNc(5,cI,3,2,"span",0),e.qZA(),e.BQk()),2&r){const t=n.$implicit,i=e.oxw().$implicit,o=e.oxw();e.xp6(2),e.AsE("",i," ",e.lcZ(3,3,t),""),e.xp6(3),e.Q6J("ngForOf",o.getTranslationForWordAndType(t,!0,i))}}function _C(r,n){if(1&r&&(e.TgZ(0,"li"),e._UZ(1,"app-translation-word",1),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("translation",t)}}function yC(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"dt"),e._uU(2),e.ALo(3,"translationType"),e.qZA(),e.TgZ(4,"dd")(5,"ol"),e.YNc(6,_C,2,1,"li",0),e.qZA()(),e.BQk()),2&r){const t=n.$implicit,i=e.oxw().$implicit,o=e.oxw();e.xp6(2),e.AsE("",i," ",e.lcZ(3,3,t),""),e.xp6(4),e.Q6J("ngForOf",o.getTranslationForWordAndType(t,!1,i))}}function vC(r,n){if(1&r&&(e.ynx(0),e.YNc(1,mC,6,5,"ng-container",0),e.YNc(2,yC,7,5,"ng-container",0),e.BQk()),2&r){const t=n.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.getWordTranslationsTypes(t)),e.xp6(1),e.Q6J("ngForOf",i.getPhraseTranslationsTypes(t))}}let CC=(()=>{class r{constructor(){}get getTranslationLangs(){var t;const i=null===(t=this.translations)||void 0===t?void 0:t.map(u=>{var d,g,v;return null!==(d=u.wordTo)&&void 0!==d&&d.language?null===(g=u.wordTo)||void 0===g?void 0:g.language:null===(v=u.phraseTo)||void 0===v?void 0:v.language}).map(u=>u?u.displayName:"Unknown");return[...new Set(i)]||[]}getWordTranslationsTypes(t){return this.getTranslationTypes(!0,t)}getPhraseTranslationsTypes(t){return this.getTranslationTypes(!1,t)}getTranslationTypes(t,i){var o;const u=null===(o=this.translations)||void 0===o?void 0:o.filter(g=>{var v,w;return t?g.wordTo&&(null===(v=g.wordTo.language)||void 0===v?void 0:v.displayName)===i:g.phraseTo&&(null===(w=g.phraseTo.language)||void 0===w?void 0:w.displayName)===i}).map(g=>g.type).map(g=>g||jl.General);return[...new Set(u)]||[]}getTranslationForWordAndType(t,i,o){var u;return(null===(u=this.translations)||void 0===u?void 0:u.filter(g=>{var v,w;return(i?g.wordTo&&(null===(v=g.wordTo.language)||void 0===v?void 0:v.displayName)===o:g.phraseTo&&(null===(w=g.phraseTo.language)||void 0===w?void 0:w.displayName)===o)&&g.type===t}))||[]}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-detail-translations"]],inputs:{translations:"translations"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"translation"]],template:function(t,i){1&t&&(e.TgZ(0,"dl"),e.YNc(1,vC,3,2,"ng-container",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.getTranslationLangs))},dependencies:[yt,hy,gC]}),r})();function TC(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" /",t.wordWithTranslations.word,"/")}}function wC(r,n){if(1&r&&(e.ynx(0),e._uU(1),e._UZ(2,"app-translation-word",3),e.BQk()),2&r){const t=n.$implicit,i=n.index;e.xp6(1),e.Oqu(i>0?", ":""),e.xp6(1),e.Q6J("translation",t)}}function bC(r,n){if(1&r&&(e.TgZ(0,"span")(1,"span"),e._uU(2," ("),e.qZA(),e.YNc(3,wC,3,2,"ng-container",2),e._uU(4,")"),e.qZA()),2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.wordWithTranslations.translations)}}const AC=function(r){return["/words/word",r]};let IC=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-written-with-translations"]],inputs:{wordWithTranslations:"wordWithTranslations"},decls:4,vars:6,consts:[[1,"text-main","link-btn",3,"routerLink"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"translation"]],template:function(t,i){1&t&&(e.TgZ(0,"a",0),e._uU(1),e.qZA(),e.YNc(2,TC,2,1,"span",1),e.YNc(3,bC,5,1,"span",1)),2&t&&(e.Q6J("routerLink",e.VKq(4,AC,i.wordWithTranslations.word)),e.xp6(1),e.Oqu(i.wordWithTranslations.writtenWord),e.xp6(1),e.Q6J("ngIf",i.wordWithTranslations.word!==i.wordWithTranslations.writtenWord),e.xp6(1),e.Q6J("ngIf",null==i.wordWithTranslations.translations?null:i.wordWithTranslations.translations.length))},dependencies:[yt,Pt,$o,hy]}),r})();function EC(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"a",1)(3,"i"),e._uU(4),e.qZA()(),e._uU(5," *"),e._UZ(6,"app-word-written-with-translations",2),e.qZA()),2&r){const t=n.$implicit,i=n.index;e.xp6(1),e.Oqu(0==i?"":", "),e.xp6(3),e.Oqu(null==t.language?null:t.language.displayName),e.xp6(2),e.Q6J("wordWithTranslations",t)}}let $l=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-detail-list"]],inputs:{wordsWithTranslations:"wordsWithTranslations"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"text-grey"],[3,"wordWithTranslations"]],template:function(t,i){1&t&&e.YNc(0,EC,7,3,"span",0),2&t&&e.Q6J("ngForOf",i.wordsWithTranslations)},dependencies:[yt,IC]}),r})();function dI(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," - "),e.qZA())}function hI(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,dI,2,0,"span",6),e.TgZ(2,"a",7),e._uU(3),e.qZA()()),2&r){const t=n.$implicit,i=n.index;e.xp6(1),e.Q6J("ngIf",i>0),e.xp6(1),e.Q6J("fragment",t.displayName)("routerLink","."),e.xp6(1),e.Oqu(t.displayName)}}const Hl=function(r){return["/words",r]};function L2(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",2),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",11)(4,"a",12),e._uU(5),e.qZA(),e._uU(6),e.TgZ(7,"a",13),e._uU(8),e.qZA(),e.TgZ(9,"span",3),e._uU(10),e.qZA()(),e.TgZ(11,"th",2),e._uU(12,"|"),e.qZA()()),2&r){const t=n.$implicit;e.xp6(4),e.Q6J("routerLink",e.VKq(6,Hl,null==t.word?null:t.word.word)),e.xp6(1),e.Oqu(null==t.word?null:t.word.writtenWord),e.xp6(1),e.hij(" ",null==t.word||null==t.word.partOfSpeech?null:t.word.partOfSpeech.abbreviation," "),e.xp6(1),e.Q6J("routerLink",e.VKq(8,Hl,null==t.word?null:t.word.word)),e.xp6(1),e.hij("/ ",null==t.word?null:t.word.word," /"),e.xp6(2),e.hij(" ",null==t.word?null:t.word.comment,"")}}function py(r,n){if(1&r&&(e.TgZ(0,"p"),e._uU(1," From "),e._UZ(2,"app-word-detail-list",18),e._uU(3,". "),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("wordsWithTranslations",null==t.etymology?null:t.etymology.from)}}function F2(r,n){1&r&&(e.TgZ(0,"p"),e._uU(1,"New word."),e.qZA())}function DC(r,n){if(1&r&&(e.TgZ(0,"p"),e._uU(1," Cognate with "),e._UZ(2,"app-word-detail-list",18),e._uU(3,". "),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("wordsWithTranslations",null==t.etymology?null:t.etymology.cognate)}}function SC(r,n){if(1&r&&(e.TgZ(0,"div",20),e._UZ(1,"app-word-detail-translations",21),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("translations",t.translations)}}function q2(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",14),e._uU(6,"Translations"),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr"),e._UZ(16,"th",15),e.TgZ(17,"th",16),e.YNc(18,SC,2,1,"div",19),e.qZA(),e._UZ(19,"th",15),e.qZA(),e.TgZ(20,"tr")(21,"th",2),e._uU(22,"+"),e.qZA(),e._UZ(23,"th",5),e.TgZ(24,"th",2),e._uU(25,"+"),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(18),e.Q6J("ngIf",t.translations)}}function Et(r,n){if(1&r&&(e.TgZ(0,"p"),e._uU(1," Derived to "),e._UZ(2,"app-word-detail-list",18),e._uU(3,". "),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("wordsWithTranslations",t.derived)}}function pI(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",14),e._uU(6,"Derived"),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr"),e._UZ(16,"th",15),e.TgZ(17,"th",16)(18,"div",17),e.YNc(19,Et,4,1,"p",6),e.qZA()(),e._UZ(20,"th",15),e.qZA(),e.TgZ(21,"tr")(22,"th",2),e._uU(23,"+"),e.qZA(),e._UZ(24,"th",5),e.TgZ(25,"th",2),e._uU(26,"+"),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(19),e.Q6J("ngIf",t.derived)}}function fI(r,n){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.TgZ(2,"a"),e._uU(3),e.TgZ(4,"span",3),e._uU(5),e.qZA()(),e._uU(6,". "),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij("",null==t.language?null:t.language.displayName,": "),e.xp6(2),e.hij("",t.word," "),e.xp6(2),e.hij("(",t.writtenWord,")")}}function gI(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",14),e._uU(6,"Descendants"),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr"),e._UZ(16,"th",15),e.TgZ(17,"th",16)(18,"div",20)(19,"ul"),e.YNc(20,fI,7,3,"li",4),e.qZA()()(),e._UZ(21,"th",15),e.qZA(),e.TgZ(22,"tr")(23,"th",2),e._uU(24,"+"),e.qZA(),e._UZ(25,"th",5),e.TgZ(26,"th",2),e._uU(27,"+"),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(20),e.Q6J("ngForOf",t.descendants)}}function ld(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",14),e._uU(6),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr")(16,"th",2),e._uU(17,"|"),e.qZA(),e.TgZ(18,"th",2)(19,"span",14),e._uU(20,"Etymology "),e.TgZ(21,"span"),e._uU(22),e.qZA()()(),e.TgZ(23,"th",2),e._uU(24,"|"),e.qZA()(),e.TgZ(25,"tr")(26,"th",2),e._uU(27,"+"),e.qZA(),e._UZ(28,"th",5),e.TgZ(29,"th",2),e._uU(30,"+"),e.qZA()(),e.TgZ(31,"tr"),e._UZ(32,"th",15),e.TgZ(33,"th",16)(34,"div",17),e.YNc(35,py,4,1,"p",6),e.YNc(36,F2,2,0,"p",6),e.YNc(37,DC,4,1,"p",6),e.qZA()(),e._UZ(38,"th",15),e.qZA(),e.TgZ(39,"tr")(40,"th",2),e._uU(41,"+"),e.qZA(),e._UZ(42,"th",5),e.TgZ(43,"th",2),e._uU(44,"+"),e.qZA()(),e.YNc(45,q2,26,1,"ng-container",6),e.YNc(46,pI,27,1,"ng-container",6),e.YNc(47,gI,28,1,"ng-container",6),e.BQk()),2&r){const t=n.$implicit,i=n.index;e.xp6(6),e.Oqu(null==t.word||null==t.word.partOfSpeech?null:t.word.partOfSpeech.name),e.xp6(16),e.Oqu(i+1),e.xp6(13),e.Q6J("ngIf",null==t.etymology||null==t.etymology.from?null:t.etymology.from.length),e.xp6(1),e.Q6J("ngIf",!(null!=t.etymology&&null!=t.etymology.from&&t.etymology.from.length)),e.xp6(1),e.Q6J("ngIf",null==t.etymology||null==t.etymology.cognate?null:t.etymology.cognate.length),e.xp6(8),e.Q6J("ngIf",t.translations&&t.translations.length),e.xp6(1),e.Q6J("ngIf",t.derived&&t.derived.length),e.xp6(1),e.Q6J("ngIf",t.descendants&&t.descendants.length)}}function mI(r,n){if(1&r&&(e.TgZ(0,"tbody")(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",8)(5,"a",9),e._uU(6),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.YNc(15,L2,13,10,"tr",4),e.TgZ(16,"tr")(17,"th",2),e._uU(18,"+"),e.qZA(),e._UZ(19,"th",10),e.TgZ(20,"th",2),e._uU(21,"+"),e.qZA()(),e.YNc(22,ld,48,8,"ng-container",4),e.qZA()),2&r){const t=n.$implicit,i=e.oxw();e.xp6(5),e.Q6J("fragment",t.displayName)("id",t.displayName)("routerLink","."),e.xp6(1),e.Oqu(t.displayName),e.xp6(9),e.Q6J("ngForOf",i.detailedWords.get(t)),e.xp6(7),e.Q6J("ngForOf",i.detailedWords.get(t))}}let eg=(()=>{class r{constructor(t){this.activatedRoute=t,this.detailedWords=new Map,this.languages=[]}get detailedWordsKeys(){return this.languages}ngOnInit(){this.activatedRoute.data.subscribe(t=>{if(t&&t.wordDetails){const i=t.wordDetails;console.log(i);const o={displayName:""};this.languages=i.filter(u=>{var d;return null===(d=u.word)||void 0===d?void 0:d.language}).map(u=>{var d;return null!==(d=u.word)&&void 0!==d&&d.language?u.word.language:o}),i.forEach(u=>{var d;if(null!==(d=u.word)&&void 0!==d&&d.language){const g=this.detailedWords.get(u.word.language);g?g.push(u):this.detailedWords.set(u.word.language,[u])}})}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ys))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-words"]],decls:20,vars:2,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],[1,"border"],[1,"text-grey"],[4,"ngFor","ngForOf"],["app-horizontal-dash","",1,"border"],[4,"ngIf"],[1,"text-main","link-btn",3,"fragment","routerLink"],[1,"text-white"],[1,"text-white","link-btn",2,"text-transform","uppercase",3,"fragment","id","routerLink"],["app-horizontal-dash","",1,"border-dull"],[1,"border",2,"text-align","left"],[1,"text-green-dull","text-line","link-btn",3,"routerLink"],[1,"text-main","link-btn",3,"routerLink"],[2,"text-transform","capitalize"],["app-vertical-dash","",1,"border"],[2,"text-align","left"],[1,"cell-content","text-cell-content"],[3,"wordsWithTranslations"],["class","cell-content",4,"ngIf"],[1,"cell-content"],[3,"translations"]],template:function(t,i){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0),e.qZA(),e.TgZ(5,"tbody")(6,"tr")(7,"th",2),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",3),e.YNc(10,hI,4,4,"span",4),e.qZA(),e.TgZ(11,"th",2),e._uU(12,"|"),e.qZA()(),e.TgZ(13,"tr")(14,"th",2),e._uU(15,"+"),e.qZA(),e._UZ(16,"th",5),e.TgZ(17,"th",2),e._uU(18,"+"),e.qZA()()(),e.YNc(19,mI,23,6,"tbody",4),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngForOf",i.detailedWordsKeys),e.xp6(9),e.Q6J("ngForOf",i.detailedWordsKeys))},dependencies:[yt,Pt,$o,nr,ku,CC,$l],styles:[".text-line[_ngcontent-%COMP%]{margin-left:32px;text-transform:capitalize}.cell-content[_ngcontent-%COMP%]{margin:16px}.text-cell-content[_ngcontent-%COMP%]{text-indent:16px}.word-description[_ngcontent-%COMP%]{margin-block-start:.5em;padding-inline-start:40px}.border-dull[_ngcontent-%COMP%]{color:#3d3d3d!important}"]}),r})(),tg=(()=>{class r{constructor(){this.tabs=[{name:"Connections",route:"connections",enabled:!0},{name:"List evolve",route:"list",enabled:!0}]}ngOnInit(){}refreshAll(){}changeLang(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-evolution"]],decls:2,vars:1,consts:[[1,"table-container"],[3,"tabs"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-tab-routes",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("tabs",i.tabs))},dependencies:[cy]}),r})(),zn=(()=>{class r extends rd{constructor(t,i){super(t,i)}addTranslation$Response(t){const i=new Nt(this.rootUrl,r.AddTranslationPath,"post");return t&&i.body(t.body,"application/json"),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o.clone({body:parseFloat(String(o.body))})))}addTranslation(t){return this.addTranslation$Response(t).pipe((0,se.U)(i=>i.body))}getAllWordsWithTranslationsFromLang1$Response(t){const i=new Nt(this.rootUrl,r.GetAllWordsWithTranslationsFromLang1Path,"get");return t&&i.query("filter",t.filter,{}),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getAllWordsWithTranslationsFromLang1(t){return this.getAllWordsWithTranslationsFromLang1$Response(t).pipe((0,se.U)(i=>i.body))}getTranslationsForWord$Response(t){const i=new Nt(this.rootUrl,r.GetTranslationsForWordPath,"get");return t&&i.path("id",t.id,{}),this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}getTranslationsForWord(t){return this.getTranslationsForWord$Response(t).pipe((0,se.U)(i=>i.body))}deleteTranslation$Response(t){const i=new Nt(this.rootUrl,r.DeleteTranslationPath,"delete");return t&&i.path("id",t.id,{}),this.http.request(i.build({responseType:"text",accept:"*/*"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o.clone({body:void 0})))}deleteTranslation(t){return this.deleteTranslation$Response(t).pipe((0,se.U)(i=>i.body))}}return r.AddTranslationPath="/api/translation/",r.GetAllWordsWithTranslationsFromLang1Path="/api/translation/page",r.GetTranslationsForWordPath="/api/translation/tranlationsfor/{id}",r.DeleteTranslationPath="/api/translation/{id}",r.\u0275fac=function(t){return new(t||r)(e.LFG(Ga),e.LFG(Ha))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function V2(r,n){if(1&r&&(e.TgZ(0,"option",4),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.displayName)}}let cd=(()=>{class r{constructor(t){this.languagesService=t,this.selectedLanguageChange=new e.vpe,this.allLanguages=[]}ngOnInit(){console.log("AllLanguagesComponent"),console.log(this.label),this.languagesService.getAllLanguages().subscribe(t=>{this.allLanguages=t.sort((i,o)=>i.displayName.localeCompare(o.displayName)),this.selectedLanguage&&this.allLanguages.forEach(i=>{var o;(null===(o=this.selectedLanguage)||void 0===o?void 0:o.id)===i.id&&(this.selectedLanguage=i,this.changeLanguage())})})}changeLanguage(){console.log("changeLanguage",this.selectedLanguage),this.selectedLanguageChange.emit(this.selectedLanguage)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ni))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-all-languages"]],inputs:{label:"label",selectedLanguage:"selectedLanguage"},outputs:{selectedLanguageChange:"selectedLanguageChange"},decls:8,vars:4,consts:[[1,"selector"],["for","languageSelector",1,"languageSelectorLabel"],[1,"input-group"],["id","languageSelector","name","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange","change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"select",3),e.NdJ("ngModelChange",function(u){return i.selectedLanguage=u})("change",function(){return i.changeLanguage()}),e.TgZ(5,"option",4),e._uU(6," --- Select Language --- "),e.qZA(),e.YNc(7,V2,2,2,"option",5),e.qZA()()()),2&t&&(e.xp6(2),e.Oqu(i.label),e.xp6(2),e.Q6J("ngModel",i.selectedLanguage),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",i.allLanguages))},dependencies:[yt,yo,zs,Xr,lr,Mn],styles:[".languageSelector[_ngcontent-%COMP%]{margin-top:4px}.languageSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})();const xC=["app-translation-line",""];function _I(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.startAddTranslation())}),e._uU(1,"[Edit]"),e.qZA()}}function kC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelTranslation())}),e._uU(1,"[Cancel]"),e.qZA()}}function ZC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"["),e.TgZ(2,"a",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,u=e.oxw(3);return e.KtG(u.deleteTranslation(o))}),e._uU(3,"x"),e.qZA(),e._uU(4,"]"),e.qZA()}}function NC(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"app-translation-word",13),e.YNc(3,ZC,5,0,"span",8),e.qZA()),2&r){const t=n.$implicit,i=n.index,o=e.oxw(3);e.xp6(1),e.hij("",0==i?"":"; "," "),e.xp6(1),e.Q6J("translation",t),e.xp6(1),e.Q6J("ngIf",o.editMode)}}function MC(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",10)(4,"span",3),e._uU(5),e.qZA()(),e.TgZ(6,"th",11)(7,"span",3),e._uU(8),e.ALo(9,"translationType"),e.qZA()(),e.TgZ(10,"th",12),e.YNc(11,NC,4,3,"span",7),e.qZA(),e._UZ(12,"th",0),e.TgZ(13,"th",0),e._uU(14,"|"),e.qZA()()),2&r){const t=n.$implicit,i=e.oxw().$implicit,o=e.oxw();e.xp6(3),e.Q6J("rowSpan",o.getLanguageRowspans(i)),e.xp6(2),e.Oqu(i),e.xp6(3),e.Oqu(e.lcZ(9,4,t)),e.xp6(3),e.Q6J("ngForOf",o.getTranslationForWordAndType(t,!0,i))}}function yI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"["),e.TgZ(2,"a",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,u=e.oxw(3);return e.KtG(u.deleteTranslation(o))}),e._uU(3,"x"),e.qZA(),e._uU(4,"]"),e.qZA()}}function vI(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"span",15),e._UZ(3,"app-translation-word",13),e.YNc(4,yI,5,0,"span",8),e.qZA()()),2&r){const t=n.$implicit,i=n.index,o=e.oxw(3);e.xp6(1),e.hij("",0==i?"":"; "," "),e.xp6(2),e.Q6J("translation",t),e.xp6(1),e.Q6J("ngIf",o.editMode)}}function CI(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",11)(4,"span",3),e._uU(5),e.ALo(6,"translationType"),e.qZA()(),e.TgZ(7,"th",12),e.YNc(8,vI,5,3,"span",7),e.qZA(),e._UZ(9,"th",0),e.TgZ(10,"th",0),e._uU(11,"|"),e.qZA()()),2&r){const t=n.$implicit,i=e.oxw().$implicit,o=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,2,t)),e.xp6(3),e.Q6J("ngForOf",o.getTranslationForWordAndType(t,!1,i))}}function Hh(r,n){if(1&r&&(e.ynx(0),e.YNc(1,MC,15,6,"tr",7),e.YNc(2,CI,12,4,"tr",7),e.BQk()),2&r){const t=n.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.getTranslationTypes(!0,t)),e.xp6(1),e.Q6J("ngForOf",i.getTranslationTypes(!1,t))}}function TI(r,n){if(1&r&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function wI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr"),e._UZ(1,"th",16),e.TgZ(2,"th",17)(3,"div",18)(4,"app-all-languages",19),e.NdJ("selectedLanguageChange",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.changeLanguage(o))})("selectedLanguageChange",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.language=o)}),e.qZA(),e.TgZ(5,"input",20),e.NdJ("ngModelChange",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.changedWordTranslation(o))})("ngModelChange",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.wordTranslation=o)}),e.qZA(),e.TgZ(6,"span",21)(7,"select",22),e.NdJ("ngModelChange",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.changePos(o))})("ngModelChange",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.pos=o)}),e.TgZ(8,"option",23),e._uU(9,"--- Part of Speech ---"),e.qZA(),e.YNc(10,TI,2,2,"option",24),e.qZA()(),e.TgZ(11,"a",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addAsPhrase=!o.addAsPhrase)}),e._uU(12,"[ Phrase ]"),e.qZA()()(),e.TgZ(13,"th",26)(14,"a",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addNewTranslation())}),e._uU(15,"[Add New]"),e.qZA()(),e._UZ(16,"th",16),e.qZA()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("selectedLanguage",t.language)("label","To"),e.xp6(1),e.Q6J("ngModel",t.wordTranslation),e.xp6(2),e.Q6J("ngModel",t.pos),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",t.poses),e.xp6(1),e.Q6J("ngClass",t.addAsPhrase?"text-blue-dull":"text-grey-dull")}}const PC=function(r){return["/words/word",r]};function ng(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th")(4,"a",29),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.addTranslationWord(u))}),e._uU(5,"[+]"),e.qZA()(),e.TgZ(6,"th",2)(7,"a",30),e._uU(8),e.qZA(),e._uU(9),e.qZA(),e.TgZ(10,"th",0),e._uU(11,"|"),e.qZA()()}if(2&r){const t=n.$implicit;e.xp6(7),e.Q6J("fragment",null==t.language?null:t.language.displayName)("routerLink",e.VKq(6,PC,t.word)),e.xp6(1),e.Oqu(t.writtenWord),e.xp6(1),e.lnq(" / ",t.word," / ",null==t.partOfSpeech?null:t.partOfSpeech.abbreviation," ",null==t.language?null:t.language.displayName," ")}}function UC(r,n){if(1&r&&(e.ynx(0),e.YNc(1,ng,12,8,"tr",7),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.wordsForTranslation.data)}}let OC=(()=>{class r{constructor(t,i,o){this.posService=t,this.wordsService=i,this.translationService=o,this.poses=[],this.wordsForTranslation={},this.editMode=!1,this.addAsPhrase=!1}ngOnInit(){}getTranslationTypes(t,i){var o;const u=null===(o=this.word.translations)||void 0===o?void 0:o.filter(g=>{var v,w;return t?g.wordTo&&(null===(v=g.wordTo.language)||void 0===v?void 0:v.displayName)===i:g.phraseTo&&(null===(w=g.phraseTo.language)||void 0===w?void 0:w.displayName)===i}).map(g=>g.type).map(g=>g||jl.General);return[...new Set(u)]||[]}getLanguageRowspans(t){return this.getTranslationTypes(!0,t).length+this.getTranslationTypes(!1,t).length}getTranslationLangs(){var t;const i=null===(t=this.word.translations)||void 0===t?void 0:t.map(u=>{var d,g,v;return null!==(d=u.wordTo)&&void 0!==d&&d.language?null===(g=u.wordTo)||void 0===g?void 0:g.language:null===(v=u.phraseTo)||void 0===v?void 0:v.language}).map(u=>u?u.displayName:"Unknown");return[...new Set(i)]||[]}getTranslationForWordAndType(t,i,o){var u;return(null===(u=this.word.translations)||void 0===u?void 0:u.filter(g=>{var v,w;return(i?g.wordTo&&(null===(v=g.wordTo.language)||void 0===v?void 0:v.displayName)===o:g.phraseTo&&(null===(w=g.phraseTo.language)||void 0===w?void 0:w.displayName)===o)&&g.type===t}))||[]}changeLanguage(t){console.log(t),this.pos=void 0,null!=t&&t.id&&this.posService.getAllPosByLanguage({languageId:null==t?void 0:t.id}).subscribe(i=>{var o;this.poses=i.sort((u,d)=>u.name?u.name.localeCompare(d.name?d.name:""):-1),null!==(o=this.word.partOfSpeech)&&void 0!==o&&o.id&&i.forEach(u=>{var d;(null===(d=this.word.partOfSpeech)||void 0===d?void 0:d.id)===u.id&&(this.pos=u,this.changePos(u,t))})})}changePos(t,i=this.language){console.log("changePos",t,"lang",i),i&&this.loadWordsTranslations(t,i)}startAddTranslation(){this.editMode=!0,this.languageToFilter&&(this.language=this.languageToFilter,console.log("start add translation",this.language))}loadWordsTranslations(t=this.pos,i=this.language,o=this.wordTranslation){console.log("loadWordsTranslations",t,"lang",i,"wordTranslation",o),i&&o&&this.wordsService.getAllWords({filter:{word:o,languageId:null==i?void 0:i.id,posId:null==t?void 0:t.id}}).subscribe(u=>{this.wordsForTranslation=u})}changedWordTranslation(t){this.loadWordsTranslations(this.pos,this.language,t)}addTranslationWord(t){this.addTranslation({type:jl.General,wordTo:t,wordFrom:this.word})}addNewTranslation(){this.refreshEdit()}deleteTranslation(t){t.id&&this.translationService.deleteTranslation({id:t.id}).subscribe(()=>{var i;this.word.translations=null===(i=this.word.translations)||void 0===i?void 0:i.filter(o=>o.id!==t.id),this.refreshEdit()})}cancelTranslation(){this.refreshEdit()}addTranslation(t){this.translationService.addTranslation({body:t}).subscribe(()=>{this.word.id?this.translationService.getTranslationsForWord({id:this.word.id}).subscribe(i=>{this.word.translations=i,this.refreshEdit()}):this.refreshEdit()})}refreshEdit(){this.language=void 0,this.pos=void 0,this.wordTranslation=void 0,this.editMode=!1,this.wordsForTranslation={}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Zu),e.Y36(Nu),e.Y36(zn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tbody","app-translation-line",""]],inputs:{word:"word",languageToFilter:"languageToFilter"},attrs:xC,decls:24,vars:13,consts:[[1,"border"],["app-horizontal-dash","","colspan","4",1,"border"],["colspan","3",2,"padding-left","8px","padding-right","8px","white-space","nowrap","text-align","left"],[2,"white-space","nowrap"],[1,"text-main","link-btn",2,"text-transform","capitalize",3,"fragment","routerLink"],[1,"text-grey"],["class","text-grey-dull",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-grey-dull",3,"click"],[1,"border",2,"padding-left","4px","padding-right","8px","text-align","left",3,"rowSpan"],[1,"border",2,"padding-left","4px","padding-right","8px","text-align","left"],[2,"padding-left","8px","padding-right","8px","white-space","nowrap","text-align","left"],[3,"translation"],[1,"text-red-dull",3,"click"],[1,"text-blue-dull","link-btn"],["app-vertical-dash","",1,"border"],["colspan","3"],[2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],["type","text",2,"height","16px","margin-left","8px","margin-top","30px","margin-right","0px",3,"ngModel","ngModelChange"],[2,"margin-left","8px","text-align","end"],["id","posSelector",1,"posSelector",2,"margin-top","28px",3,"ngModel","ngModelChange"],["disabled","",1,"text-grey-dull",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[2,"margin-left","16px","vertical-align","text-bottom","margin-top","32px",3,"ngClass","click"],[1,"border",2,"padding-top","22px"],[1,"text-green-dull",2,"vertical-align","text-bottom",3,"click"],[3,"ngValue"],[1,"text-green-dull","link-btn",3,"click"],[1,"text-blue-dull","link-btn",3,"fragment","routerLink"]],template:function(t,i){1&t&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"+"),e.qZA(),e._UZ(3,"th",1),e.TgZ(4,"th",0),e._uU(5,"+"),e.qZA()(),e.TgZ(6,"tr")(7,"th",0),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",2)(10,"span",3)(11,"a",4),e._uU(12),e.TgZ(13,"span",5),e._uU(14),e.qZA()()(),e._uU(15),e.qZA(),e.TgZ(16,"th",0),e.YNc(17,_I,2,0,"a",6),e.YNc(18,kC,2,0,"a",6),e.qZA(),e.TgZ(19,"th",0),e._uU(20,"|"),e.qZA()(),e.YNc(21,Hh,3,2,"ng-container",7),e.YNc(22,wI,17,7,"tr",8),e.YNc(23,UC,2,1,"ng-container",8)),2&t&&(e.xp6(11),e.Q6J("fragment",null==i.word.language?null:i.word.language.displayName)("routerLink",e.VKq(11,PC,i.word.word)),e.xp6(1),e.hij("",i.word.writtenWord," "),e.xp6(2),e.hij("/",i.word.word,"/"),e.xp6(1),e.AsE(" ",null==i.word.partOfSpeech?null:i.word.partOfSpeech.abbreviation," ",null==i.word.language?null:i.word.language.displayName," "),e.xp6(2),e.Q6J("ngIf",!i.editMode),e.xp6(1),e.Q6J("ngIf",i.editMode),e.xp6(3),e.Q6J("ngForOf",i.getTranslationLangs()),e.xp6(1),e.Q6J("ngIf",i.editMode),e.xp6(1),e.Q6J("ngIf",i.editMode))},dependencies:[Lr,yt,Pt,$o,yo,zs,Wn,Xr,lr,Mn,nr,ku,cd,hy,gC]}),r})();function RC(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"tbody",15),e.BQk()),2&r){const t=n.$implicit,i=e.oxw();e.xp6(1),e.Q6J("word",t)("languageToFilter",i.languageTo)}}let bI=(()=>{class r{constructor(t,i){this.translationService=t,this.languageService=i,this.words={},this.pageSize=20}ngOnInit(){}load(t){this.translationService.getAllWordsWithTranslationsFromLang1({filter:t}).subscribe(i=>{i.data&&(this.words=i)})}loadDefault(t){var i,o;console.log("loadDefault",t,this.languageFrom,this.languageTo,this.wordSearch,this.translationSearch),t||(t={}),t={page:t.page?t.page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,translation:t.translation?t.translation:""===t.translation?void 0:this.translationSearch,languageFromId:t.languageFromId?t.languageFromId:null===t.languageFromId||null===(i=this.languageFrom)||void 0===i?void 0:i.id,languageToId:t.languageToId?t.languageToId:null===t.languageToId||null===(o=this.languageTo)||void 0===o?void 0:o.id},this.load(t)}resetFilter(){this.languageFrom=void 0,this.languageTo=void 0,this.wordSearch=void 0,this.translationSearch=void 0,this.loadDefault({})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(zn),e.Y36(Ni))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-translations"]],decls:51,vars:11,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","9px"],["span","1",2,"width","70px"],[1,"border"],[1,"border",2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],["type","text",2,"height","16px","margin-left","8px","margin-top","30px","margin-right","0px",3,"ngModel","ngModelChange"],[1,"text-red-dull",3,"click"],[1,"table-content"],["span","1",2,"width","1%"],["span","1",2,"width","20px"],["span","1",2,"width","72px"],[4,"ngFor","ngForOf"],[3,"page","size","totalPages","total","load"],["app-translation-line","",3,"word","languageToFilter"]],template:function(t,i){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",0),e.qZA(),e.TgZ(7,"tbody")(8,"tr")(9,"th",4),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e._UZ(15,"br"),e._uU(16,"|"),e.qZA(),e.TgZ(17,"th",5)(18,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(u){return i.loadDefault({languageFromId:u.id})})("selectedLanguageChange",function(u){return i.languageFrom=u}),e.qZA(),e.TgZ(19,"input",7),e.NdJ("ngModelChange",function(u){return i.loadDefault({word:u})})("ngModelChange",function(u){return i.wordSearch=u}),e.qZA(),e.TgZ(20,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(u){return i.loadDefault({languageToId:u.id})})("selectedLanguageChange",function(u){return i.languageTo=u}),e.qZA(),e.TgZ(21,"input",7),e.NdJ("ngModelChange",function(u){return i.loadDefault({translation:u})})("ngModelChange",function(u){return i.translationSearch=u}),e.qZA()(),e.TgZ(22,"th",4),e._uU(23,"|"),e._UZ(24,"br"),e._uU(25,"|"),e._UZ(26,"br"),e._uU(27,"|"),e._UZ(28,"br"),e._uU(29,"|"),e.qZA(),e.TgZ(30,"th")(31,"a",8),e.NdJ("click",function(){return i.resetFilter()}),e._uU(32,"[ x ]"),e.qZA()(),e.TgZ(33,"th",4),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e._UZ(39,"br"),e._uU(40,"|"),e.qZA()()()(),e.TgZ(41,"table",9)(42,"colgroup"),e._UZ(43,"col",0)(44,"col",10)(45,"col",11)(46,"col",1)(47,"col",12)(48,"col",0),e.qZA(),e.YNc(49,RC,2,2,"ng-container",13),e.qZA(),e.TgZ(50,"app-list-paginator",14),e.NdJ("load",function(u){return i.loadDefault(u)}),e.qZA()),2&t&&(e.xp6(18),e.Q6J("selectedLanguage",i.languageFrom)("label","From"),e.xp6(1),e.Q6J("ngModel",i.wordSearch),e.xp6(1),e.Q6J("selectedLanguage",i.languageTo)("label","To"),e.xp6(1),e.Q6J("ngModel",i.translationSearch),e.xp6(28),e.Q6J("ngForOf",i.words.data),e.xp6(1),e.Q6J("page",i.words.page?i.words.page:0)("size",i.pageSize)("totalPages",i.words.totalPages?i.words.totalPages:0)("total",i.words.total?i.words.total:0))},dependencies:[yt,Wn,lr,Mn,cd,dy,OC]}),r})();var Cs=(()=>{return(r=Cs||(Cs={})).Evolving="EVOLVING",r.Borrowing="BORROWING",r.Derivation="DERIVATION",Cs;var r})();function Gh(r,n){if(1&r&&(e.TgZ(0,"option",4),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t)}}let AI=(()=>{class r{constructor(){this.selectedLanguageConnectionChange=new e.vpe,this.allConnectionTypes=[Cs.Evolving,Cs.Borrowing]}ngOnInit(){}changeConnection(){console.log("changeLanguage",this.selectedLanguageConnection),this.selectedLanguageConnectionChange.emit(this.selectedLanguageConnection)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-connection"]],inputs:{label:"label",selectedLanguageConnection:"selectedLanguageConnection"},outputs:{selectedLanguageConnectionChange:"selectedLanguageConnectionChange"},decls:8,vars:4,consts:[[1,"selector"],["for","languageConnectionSelector",1,"languageConnectionSelectorLabel"],[1,"input-group"],["id","languageConnectionSelector","name","languageConnectionSelector",1,"languageConnectionSelector",3,"ngModel","ngModelChange","change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"select",3),e.NdJ("ngModelChange",function(u){return i.selectedLanguageConnection=u})("change",function(){return i.changeConnection()}),e.TgZ(5,"option",4),e._uU(6,"No connection"),e.qZA(),e.YNc(7,Gh,2,2,"option",5),e.qZA()()()),2&t&&(e.xp6(2),e.Oqu(i.label),e.xp6(2),e.Q6J("ngModel",i.selectedLanguageConnection),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",i.allConnectionTypes))},dependencies:[yt,yo,zs,Xr,lr,Mn],styles:[".languageConnectionSelector[_ngcontent-%COMP%]{margin-top:4px}.languageConnectionSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})();function II(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"app-language-connection",12),e.NdJ("selectedLanguageConnectionChange",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.languagesConnectionTypeChanged(o))}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("label","Type")("selectedLanguageConnection",t.connectionType)}}function EI(r,n){1&r&&e._UZ(0,"th",7)}function LC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",3),e._uU(1,"[ "),e.TgZ(2,"a",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.editSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"E"),e.qZA(),e._uU(5,"dit"),e.qZA(),e._uU(6," ]-"),e.qZA()}}function FC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",3),e._uU(1,"[ "),e.TgZ(2,"a",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"S"),e.qZA(),e._uU(5,"ave"),e.qZA(),e._uU(6," ]-["),e.TgZ(7,"a",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelSoundChanges())}),e._uU(8," x "),e.qZA(),e._uU(9,"]-"),e.qZA()}}function qC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-table",16),e.NdJ("soundChangesChanges",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.soundChangesChanges)}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChanges",t.soundChanges)}}function DI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-edit",17),e.NdJ("soundChangesRawChange",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.soundChangesRaw=o)})("soundChangesRawChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.soundChangesRawChange())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChangesRaw",t.soundChangesRaw)}}let VC=(()=>{class r extends F1{constructor(t){super(Bl.SoundChange),this.languagesEvolutionService=t}ngOnChanges(t){}editSoundChanges(){var t;console.log("hello",null===(t=this.languageFrom)||void 0===t?void 0:t.displayName),this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.getSoundChangesRawLinesByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,soundChangePurpose:this.soundChangePurpose}).subscribe(i=>{this.soundChangesRaw=i,console.log("editSoundChanges soundChangesRaw",this.soundChangesRaw),this.editMode=!0})}saveSoundChanges(){this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.saveSoundChangesRawLinesByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,body:this.soundChangesRaw,soundChangePurpose:this.soundChangePurpose}).subscribe(()=>{this.editMode=!1,this.refresh()})}refresh(){this.connectionType=void 0,this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.getSoundChangesByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,soundChangePurpose:this.soundChangePurpose}).subscribe(t=>{this.soundChanges=t,this.refreshConnectionType()})}languageChanged(){this.editMode=!1,this.refresh()}languageFromChanged(t){this.languageFrom=t,this.languageChanged()}languageToChanged(t){this.languageTo=t,this.languageChanged()}languagesConnectionTypeChanged(t){console.log("languagesConnectionTypeChanged",t),this.connectionType=t,this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&(this.connectionType?this.languagesEvolutionService.updateConnectionByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,body:{languageConnectionType:this.connectionType}}).subscribe(()=>{this.refresh()}):this.languagesEvolutionService.deleteConnectionByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id}).subscribe(()=>{this.refresh()}))}refreshConnectionType(){this.connectionType=void 0,this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.getConnectionByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id}).subscribe(t=>{this.connectionType=t.connectionType})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ja))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-connections"]],features:[e.qOj,e.TTD],decls:42,vars:10,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",1,"border",2,"width","max-content"],[1,"border"],[2,"text-align","left","display","flex"],[3,"label","selectedLanguage","selectedLanguageChange"],[4,"ngIf"],["app-horizontal-dash","",1,"border"],["app-horizontal-dash","","class","border",4,"ngIf"],["class","border",4,"ngIf"],[3,"soundChanges","soundChangesChanges",4,"ngIf"],[3,"soundChangesRaw","soundChangesRawChange",4,"ngIf"],[3,"label","selectedLanguageConnection","selectedLanguageConnectionChange"],[1,"text-yellow-dull",3,"click"],[1,"text-green-dull",3,"click"],[1,"text-red-dull",3,"click"],[3,"soundChanges","soundChangesChanges"],[3,"soundChangesRaw","soundChangesRawChange"]],template:function(t,i){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",0),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",3),e._uU(9,"|"),e._UZ(10,"br"),e._uU(11,"|"),e._UZ(12,"br"),e._uU(13,"|"),e._UZ(14,"br"),e._uU(15,"|"),e.qZA(),e.TgZ(16,"th",4)(17,"span")(18,"app-all-languages",5),e.NdJ("selectedLanguageChange",function(u){return i.languageFromChanged(u)}),e.qZA()(),e.TgZ(19,"span")(20,"app-all-languages",5),e.NdJ("selectedLanguageChange",function(u){return i.languageToChanged(u)}),e.qZA()(),e.YNc(21,II,2,2,"span",6),e.qZA(),e._UZ(22,"th",3),e.TgZ(23,"th",3),e._uU(24,"|"),e._UZ(25,"br"),e._uU(26,"|"),e._UZ(27,"br"),e._uU(28,"|"),e._UZ(29,"br"),e._uU(30,"|"),e.qZA()(),e.TgZ(31,"tr")(32,"th",3),e._uU(33,"+"),e.qZA(),e._UZ(34,"th",7),e.YNc(35,EI,1,0,"th",8),e.YNc(36,LC,7,0,"th",9),e.YNc(37,FC,10,0,"th",9),e.TgZ(38,"th",3),e._uU(39,"+"),e.qZA()()()(),e.YNc(40,qC,1,1,"app-sound-changes-table",10),e.YNc(41,DI,1,1,"app-sound-changes-edit",11)),2&t&&(e.xp6(18),e.Q6J("label","From")("selectedLanguage",i.languageFrom),e.xp6(2),e.Q6J("label","To")("selectedLanguage",i.languageTo),e.xp6(1),e.Q6J("ngIf",i.languageFrom&&i.languageTo&&!i.editMode),e.xp6(14),e.Q6J("ngIf",!i.connectionType),e.xp6(1),e.Q6J("ngIf",!i.editMode&&i.connectionType),e.xp6(1),e.Q6J("ngIf",i.editMode&&i.connectionType),e.xp6(3),e.Q6J("ngIf",!i.editMode&&i.connectionType),e.xp6(1),e.Q6J("ngIf",i.editMode&&i.connectionType))},dependencies:[Pt,nr,cd,ry,iy,AI]}),r})();function SI(r,n){if(1&r&&(e.TgZ(0,"span",28),e._uU(1),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.calculatedEvolution)}}function xI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"span",29),e._uU(2),e.qZA(),e._uU(3," ("),e.TgZ(4,"a",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,u=e.oxw();return e.KtG(u.evolveSingleWord(o))}),e._uU(5),e.qZA(),e._uU(6,")"),e.qZA()}if(2&r){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(null==t.wordEvolved?null:t.wordEvolved.word),e.xp6(3),e.Oqu(t.calculatedEvolution)}}function B2(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"a",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,u=e.oxw();return e.KtG(u.evolveSingleWord(o))}),e._uU(2),e.qZA()()}if(2&r){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(t.calculatedEvolution)}}function j2(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"th"),e.YNc(2,SI,2,1,"span",26),e.YNc(3,xI,7,2,"span",23),e.YNc(4,B2,3,1,"span",23),e.qZA(),e.TgZ(5,"th",4),e._uU(6,"|"),e.qZA(),e.TgZ(7,"th",27),e._uU(8),e.TgZ(9,"i"),e._uU(10),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",!!t.calculatedEvolution&&t.calculatedEvolution===(null==t.wordEvolved?null:t.wordEvolved.word)),e.xp6(1),e.Q6J("ngIf",!(null==t.wordEvolved||!t.wordEvolved.word)&&t.calculatedEvolution!=(null==t.wordEvolved?null:t.wordEvolved.word)),e.xp6(1),e.Q6J("ngIf",!(null!=t.wordEvolved&&t.wordEvolved.word)),e.xp6(4),e.hij(" ",null==t.wordEvolved||null==t.wordEvolved.partOfSpeech?null:t.wordEvolved.partOfSpeech.abbreviation," "),e.xp6(2),e.Oqu(null==t.languageConnection||null==t.languageConnection.langTo?null:t.languageConnection.langTo.displayName)}}function $2(r,n){1&r&&(e.ynx(0),e._UZ(1,"th",31),e.BQk())}function H2(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,u=e.oxw();return e.KtG(u.forget(o.word))}),e._uU(1,"unforget"),e.qZA()}}function BC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,u=e.oxw();return e.KtG(u.forget(o.word))}),e._uU(1,"forget"),e.qZA()}}const rg=function(r){return["/words/word",r]};function kI(r,n){if(1&r&&(e.TgZ(0,"tr",12)(1,"th",4),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",21),e._uU(4),e.TgZ(5,"i"),e._uU(6),e.qZA()(),e.TgZ(7,"th",4),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th")(10,"a",22),e._uU(11),e.qZA()(),e.TgZ(12,"th",4),e._uU(13,"|"),e.qZA(),e.YNc(14,j2,11,5,"ng-container",23),e.YNc(15,$2,2,0,"ng-container",23),e.TgZ(16,"th",4),e._uU(17,"|"),e.qZA(),e.TgZ(18,"th",4),e.YNc(19,H2,2,0,"a",24),e.YNc(20,BC,2,0,"a",25),e.qZA(),e.TgZ(21,"th",4),e._uU(22,"|"),e.qZA()()),2&r){const t=n.$implicit;e.xp6(3),e.Q6J("ngClass",null!=t&&null!=t.word&&t.word.forgotten?"text-grey-dull":"text-grey"),e.xp6(1),e.hij(" ",null==t.word||null==t.word.partOfSpeech?null:t.word.partOfSpeech.abbreviation," "),e.xp6(2),e.Oqu(null==t.word||null==t.word.language?null:t.word.language.displayName),e.xp6(4),e.Q6J("ngClass",null!=t&&null!=t.word&&t.word.forgotten?"text-grey":"text-main")("routerLink",e.VKq(10,rg,null==t.word?null:t.word.word)),e.xp6(1),e.Oqu(null==t.word?null:t.word.word),e.xp6(3),e.Q6J("ngIf",!(null!=t&&null!=t.word&&t.word.forgotten)),e.xp6(1),e.Q6J("ngIf",null==t||null==t.word?null:t.word.forgotten),e.xp6(4),e.Q6J("ngIf",null==t||null==t.word?null:t.word.forgotten),e.xp6(1),e.Q6J("ngIf",!(null!=t&&null!=t.word&&t.word.forgotten))}}let ZI=(()=>{class r{constructor(t,i){this.languagesEvolutionService=t,this.wordsService=i,this.words={},this.pageSize=250,this.withoutForgotten=!0,this.onlyUnevolved=!1}static wordWEtoWTE(t){return{languageConnection:t.languageConnection,word:t.word}}ngOnInit(){}load(t){this.languagesEvolutionService.getAllWordsWithEvolutions({filter:t}).subscribe(i=>{this.words=i})}loadDefault(t){var i,o;t||(t={}),t={page:t.page?t.page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,languageFromId:t.languageFromId?t.languageFromId:null===t.languageFromId||null===(i=this.languageFrom)||void 0===i?void 0:i.id,languageToId:t.languageToId?t.languageToId:null===t.languageToId||null===(o=this.languageTo)||void 0===o?void 0:o.id,canBeForgotten:!this.withoutForgotten},this.load(t)}resetFilter(){this.languageFrom=void 0,this.languageTo=void 0,this.wordSearch=void 0,this.loadDefault({})}forget(t){t&&(t.forgotten=!t.forgotten,this.wordsService.addWord({body:t}).subscribe(i=>{var o;this.withoutForgotten?this.loadDefault(void 0):null===(o=this.words.data)||void 0===o||o.forEach(u=>{const d=u.word;d&&d.id===i.id&&(d.forgotten=i.forgotten,d.id=i.id,d.word=i.word,d.language=i.language,d.partOfSpeech=i.partOfSpeech,d.version=i.version)})}),t.forgotten=!t.forgotten)}evolveSingleWord(t){const i=r.wordWEtoWTE(t);this.languagesEvolutionService.addEvolvedWord({body:i}).subscribe(o=>{t.word=o.word,t.wordEvolved=o.wordEvolved,t.calculatedEvolution=o.calculatedEvolution,t.wordEvolvedType=o.wordEvolvedType,t.languageConnection=o.languageConnection})}filterWithoutForgotten(){this.withoutForgotten=!this.withoutForgotten,this.loadDefault(void 0)}filterOnlyUnevolved(){this.onlyUnevolved=!this.onlyUnevolved}evolvePage(){if(this.words.data){const t=this.words.data.filter(i=>{var o;return!(null!==(o=i.word)&&void 0!==o&&o.forgotten||i.wordEvolved&&i.wordEvolved.word===i.calculatedEvolution)}).map(i=>r.wordWEtoWTE(i));console.log(t),this.languagesEvolutionService.addEvolvedWord1({body:t}).subscribe(()=>{this.loadDefault(void 0)})}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ja),e.Y36(Nu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-evolution"]],decls:98,vars:14,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","9px"],["span","1",2,"width","70px"],[1,"border"],[1,"border",2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],["type","text",2,"height","16px","margin-left","8px","margin-top","30px","margin-right","0px",3,"ngModel","ngModelChange"],[2,"height","16px","margin-left","16px","margin-top","34px",3,"ngClass","click"],[3,"ngClass"],[1,"text-red-dull",3,"click"],["app-horizontal-dash","","colspan","3",1,"border"],[1,"table-content"],["span","1",2,"width","15%"],["span","1",2,"width","max-content"],["span","1",2,"width","65px"],["class","table-content",4,"ngFor","ngForOf"],[3,"page","size","totalPages","total","load"],[1,"text-green-dull",3,"click"],[1,"text-green-dull",2,"margin-left","16px"],["app-horizontal-dash","",1,"border"],[2,"text-align","left",3,"ngClass"],[1,"link-btn",3,"ngClass","routerLink"],[4,"ngIf"],["class","text-green-dull",3,"click",4,"ngIf"],["class","text-yellow-dull",3,"click",4,"ngIf"],["class","text-green-dull",4,"ngIf"],[1,"border",2,"text-align","left"],[1,"text-green-dull"],[1,"text-red-dull"],[1,"text-yellow-dull",3,"click"],["colspan","3",1,"border"]],template:function(t,i){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",0),e.qZA(),e.TgZ(7,"tbody")(8,"tr")(9,"th",4),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e._UZ(15,"br"),e._uU(16,"|"),e.qZA(),e.TgZ(17,"th",5)(18,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(u){return i.loadDefault({languageFromId:u.id})})("selectedLanguageChange",function(u){return i.languageFrom=u}),e.qZA(),e.TgZ(19,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(u){return i.loadDefault({languageToId:u.id})})("selectedLanguageChange",function(u){return i.languageTo=u}),e.qZA(),e.TgZ(20,"input",7),e.NdJ("ngModelChange",function(u){return i.loadDefault({word:u})})("ngModelChange",function(u){return i.wordSearch=u}),e.qZA(),e.TgZ(21,"a",8),e.NdJ("click",function(){return i.filterWithoutForgotten()}),e._uU(22,"[ "),e.TgZ(23,"span",9),e._uU(24,"W"),e.qZA(),e._uU(25,"ithout Forgotten ]"),e.qZA(),e.TgZ(26,"a",8),e.NdJ("click",function(){return i.filterOnlyUnevolved()}),e._uU(27,"[ "),e.TgZ(28,"span",9),e._uU(29,"O"),e.qZA(),e._uU(30,"nly Unevolved ]"),e.qZA()(),e.TgZ(31,"th",4),e._uU(32,"|"),e._UZ(33,"br"),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e.qZA(),e.TgZ(39,"th")(40,"a",10),e.NdJ("click",function(){return i.resetFilter()}),e._uU(41,"[ x ]"),e.qZA()(),e.TgZ(42,"th",4),e._uU(43,"|"),e._UZ(44,"br"),e._uU(45,"|"),e._UZ(46,"br"),e._uU(47,"|"),e._UZ(48,"br"),e._uU(49,"|"),e.qZA()(),e.TgZ(50,"tr")(51,"th",4),e._uU(52,"+"),e.qZA(),e._UZ(53,"th",11),e.TgZ(54,"th",4),e._uU(55,"+"),e.qZA()()()(),e.TgZ(56,"table",12)(57,"colgroup"),e._UZ(58,"col",0)(59,"col",13)(60,"col",0)(61,"col",14)(62,"col",0)(63,"col",14)(64,"col",0)(65,"col",1)(66,"col",0)(67,"col",15)(68,"col",0),e.qZA(),e.TgZ(69,"tbody",12),e.YNc(70,kI,23,12,"tr",16),e.qZA()(),e.TgZ(71,"app-list-paginator",17),e.NdJ("load",function(u){return i.loadDefault(u)}),e.qZA(),e.TgZ(72,"table")(73,"colgroup"),e._UZ(74,"col",0)(75,"col",1)(76,"col",0),e.qZA(),e.TgZ(77,"tbody")(78,"tr")(79,"th",4),e._uU(80,"|"),e._UZ(81,"br"),e._uU(82,"|"),e.qZA(),e.TgZ(83,"th",4)(84,"a",18),e.NdJ("click",function(){return i.evolvePage()}),e._uU(85,"[ Evolve Page ]"),e.qZA(),e.TgZ(86,"a",19),e._uU(87,"[ Evolve All Words ]"),e.qZA()(),e.TgZ(88,"th",4),e._uU(89,"|"),e._UZ(90,"br"),e._uU(91,"|"),e.qZA()(),e.TgZ(92,"tr")(93,"th",4),e._uU(94,"+"),e.qZA(),e._UZ(95,"th",20),e.TgZ(96,"th",4),e._uU(97,"+"),e.qZA()()()()),2&t&&(e.xp6(18),e.Q6J("selectedLanguage",i.languageFrom)("label","From"),e.xp6(1),e.Q6J("selectedLanguage",i.languageTo)("label","To"),e.xp6(1),e.Q6J("ngModel",i.wordSearch),e.xp6(1),e.Q6J("ngClass",i.withoutForgotten?"text-green-dull":"text-grey-dull"),e.xp6(2),e.Q6J("ngClass",i.withoutForgotten?"text-green":"text-grey"),e.xp6(3),e.Q6J("ngClass",i.onlyUnevolved?"text-green-dull":"text-grey-dull"),e.xp6(2),e.Q6J("ngClass",i.onlyUnevolved?"text-green":"text-grey"),e.xp6(42),e.Q6J("ngForOf",i.words.data),e.xp6(1),e.Q6J("page",i.words.page?i.words.page:0)("size",i.pageSize)("totalPages",i.words.totalPages?i.words.totalPages:0)("total",i.words.total?i.words.total:0))},dependencies:[Lr,yt,Pt,$o,Wn,lr,Mn,nr,cd,dy]}),r})();var Mu=(()=>{return(r=Mu||(Mu={})).New="NEW",r.Borrowed="BORROWED",r.Derived="DERIVED",r.Evolved="EVOLVED",Mu;var r})();const Jh=["app-new",""];function NI(r,n){if(1&r&&(e.TgZ(0,"option",14),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}let MI=(()=>{class r{constructor(t){this.wordService=t,this.newWord=new ut({word:new zi("",Yr.required),comment:new zi("",Yr.required),pos:new zi({},Yr.required)})}ngOnInit(){}addNewWord(){this.wordService.addWord({body:{word:this.newWord.value.word?this.newWord.value.word:"",comment:this.newWord.value.comment?this.newWord.value.comment:"",language:this.language,partOfSpeech:this.newWord.value.pos?this.newWord.value.pos:void 0,forgotten:!1,wordOriginType:Mu.New}}).subscribe(i=>{this.clear()})}clear(){var t,i;null===(t=this.newWord.get("word"))||void 0===t||t.reset(),null===(i=this.newWord.get("comment"))||void 0===i||i.reset()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Nu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tbody","app-new",""]],inputs:{poses:"poses",language:"language"},attrs:Jh,decls:39,vars:3,consts:[[1,"border"],[3,"formGroup","ngSubmit"],[2,"text-align","left","display","flex"],[1,"selector"],["for","wordInput",1,"languageSelectorLabel"],[1,"input-group",2,"margin-top","4px"],["formControlName","word","id","wordInput","name","wordInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],["for","posSelector",1,"languageSelectorLabel"],["formControlName","pos","id","posSelector","name","posSelector",1,"posSelector",3,"value"],[3,"ngValue",4,"ngFor","ngForOf"],["for","commentInput",1,"languageSelectorLabel",2,"height","16px","margin-left","8px"],["formControlName","comment","id","commentInput","name","commentInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],[1,"selector",2,"padding-top","22px"],[1,"text-green-dull",3,"click"],[3,"ngValue"]],template:function(t,i){1&t&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e._UZ(3,"br"),e._uU(4,"|"),e._UZ(5,"br"),e._uU(6,"|"),e._UZ(7,"br"),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",0)(10,"form",1),e.NdJ("ngSubmit",function(){return i.addNewWord()}),e.TgZ(11,"div",2)(12,"div",3)(13,"label",4),e._uU(14,"Word"),e.qZA(),e.TgZ(15,"div",5)(16,"input",6),e.NdJ("submit",function(){return i.addNewWord()}),e.qZA()()(),e.TgZ(17,"div",3)(18,"label",7),e._uU(19,"Category"),e.qZA(),e.TgZ(20,"div",5)(21,"select",8),e.YNc(22,NI,2,2,"option",9),e.qZA()()(),e.TgZ(23,"div",3)(24,"label",10),e._uU(25,"Comment"),e.qZA(),e.TgZ(26,"div",5)(27,"input",11),e.NdJ("submit",function(){return i.addNewWord()}),e.qZA()()(),e.TgZ(28,"div",12)(29,"a",13),e.NdJ("click",function(){return i.addNewWord()}),e._uU(30,"[ Add new word ]"),e.qZA()()()()(),e.TgZ(31,"th",0),e._uU(32,"|"),e._UZ(33,"br"),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e.qZA()()),2&t&&(e.xp6(10),e.Q6J("formGroup",i.newWord),e.xp6(11),e.Q6J("value",void 0),e.xp6(1),e.Q6J("ngForOf",i.poses))},dependencies:[yt,Ws,yo,zs,Wn,Xr,lr,cs,Bo,wu]}),r})();const PI=["app-derived",""];function UI(r,n){if(1&r&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function OI(r,n){1&r&&(e.TgZ(0,"span",27),e._uU(1," + "),e.qZA())}function jC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span",24),e.YNc(1,OI,2,0,"span",25),e.TgZ(2,"a",26),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.removeWord(u))}),e._uU(3),e.qZA()()}if(2&r){const t=n.$implicit,i=n.index;e.xp6(1),e.Q6J("ngIf",i>0),e.xp6(2),e.hij("/ ",t.word," /")}}function RI(r,n){if(1&r&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function LI(r,n){1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e._UZ(3,"th",16),e.TgZ(4,"th",0),e._uU(5,"|"),e.qZA()())}function dd(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",32),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,u=e.oxw();return e.KtG(u.selectWord(o))}),e._uU(1,"[ ]"),e.qZA()}}function FI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,u=e.oxw();return e.KtG(u.removeWord(o))}),e._uU(1,"[x]"),e.qZA()}}function $C(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",17)(4,"span",19),e.YNc(5,dd,2,0,"a",28),e.YNc(6,FI,2,0,"a",29),e.qZA(),e.TgZ(7,"span",30),e._uU(8),e.qZA(),e.TgZ(9,"span",31),e._uU(10),e.qZA(),e.TgZ(11,"span",30),e._uU(12),e.qZA(),e.TgZ(13,"span",19),e._uU(14),e.qZA()(),e.TgZ(15,"th",0),e._uU(16,"|"),e.qZA()()),2&r){const t=n.$implicit,i=e.oxw();e.xp6(5),e.Q6J("ngIf",i.indexOfSelectedWord(t)<0),e.xp6(1),e.Q6J("ngIf",i.indexOfSelectedWord(t)>=0),e.xp6(2),e.Oqu(t.writtenWord),e.xp6(2),e.hij("/ ",t.word," /"),e.xp6(2),e.Oqu(null==t.partOfSpeech?null:t.partOfSpeech.abbreviation),e.xp6(2),e.Oqu(t.comment)}}let qI=(()=>{class r{constructor(t,i){this.wordService=t,this.posService=i,this.pageSize=10,this.wordsList={},this.selectedWords=[],this.newWord=new ut({word:new zi("",Yr.required),comment:new zi("",Yr.required),pos:new zi({},Yr.required)})}ngOnInit(){this.reloadWordList(this.language.id),this.loadPos(this.language.id)}loadPos(t){t?this.posService.getAllPosByLanguage({languageId:t}).subscribe(i=>{this.poses=i.sort((o,u)=>o.name?o.name.localeCompare(u.name?u.name:""):-1)}):this.poses=[]}ngOnChanges(t){t.language&&t.language.currentValue&&(console.log("DerivedComponent",t,t.language.currentValue),this.reloadWordList(t.language.currentValue.id),this.loadPos(t.language.currentValue.id),this.selectedWords=[])}reloadWordList(t){t?this.loadDefault({languageId:t}):this.wordsList={}}loadDefault(t){var i,o;console.log("loadDefault",t,this.listPosSelector,this.language,this.wordSearch),t||(t={}),t={page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,languageId:t.languageId?t.languageId:null===t.languageId||null===(i=this.language)||void 0===i?void 0:i.id,posId:t.posId?t.posId:null===t.posId||null===(o=this.listPosSelector)||void 0===o?void 0:o.id},this.load(t)}load(t){this.wordService.getAllWords({filter:t}).subscribe(i=>{i.data&&(this.wordsList=i)})}selectWord(t){this.indexOfSelectedWord(t)<0&&this.selectedWords.push(t)}removeWord(t){const i=this.indexOfSelectedWord(t);i>=0&&this.selectedWords.splice(i,1)}indexOfSelectedWord(t){return this.selectedWords.findIndex((i,o,u)=>t.id===i.id)}addDerivedWord(){this.wordService.addDerivedWord({body:{word:this.newWord.value.word?this.newWord.value.word:void 0,comment:this.newWord.value.comment?this.newWord.value.comment:void 0,language:this.language,partOfSpeech:this.newWord.value.pos?this.newWord.value.pos:void 0,forgotten:!1,wordOriginType:Mu.Derived,derivedFrom:this.selectedWords}}).subscribe(i=>{this.clear()})}clear(){var t,i;null===(t=this.newWord.get("word"))||void 0===t||t.reset(),null===(i=this.newWord.get("comment"))||void 0===i||i.reset(),this.wordSearch=void 0,this.listPosSelector=void 0,this.selectedWords=[],this.reloadWordList(this.language.id)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Nu),e.Y36(Zu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tbody","app-derived",""]],inputs:{poses:"poses",language:"language"},features:[e.TTD],attrs:PI,decls:78,vars:10,consts:[[1,"border"],[3,"formGroup","ngSubmit"],[2,"text-align","left","display","flex"],[1,"selector"],["for","wordInput",1,"languageSelectorLabel"],[1,"input-group",2,"margin-top","4px"],["formControlName","word","id","wordInput","name","wordInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],["for","posSelector",1,"languageSelectorLabel"],["formControlName","pos","id","posSelector","name","posSelector",1,"posSelector",3,"value"],[3,"ngValue",4,"ngFor","ngForOf"],["for","commentInput",1,"languageSelectorLabel",2,"height","16px","margin-left","8px"],["formControlName","comment","id","commentInput","name","commentInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],[1,"selector",2,"padding-top","22px"],[1,"text-green-dull",3,"click"],[1,"languageSelectorLabel",2,"margin-right","4px"],["class","text-main",4,"ngFor","ngForOf"],["app-horizontal-dash","",1,"border"],[1,"border",2,"text-align","left"],["type","text",2,"height","16px","margin-left","16px",3,"ngModel","ngModelChange"],[2,"margin-left","8px"],["id","listPosSelector",1,"listPosSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-main"],["class","text-grey",4,"ngIf"],[1,"text-main","link-selected-word",3,"click"],[1,"text-grey"],["class","text-grey-dull",3,"click",4,"ngIf"],["class","text-green-dull",3,"click",4,"ngIf"],[1,"text-grey",2,"margin-left","8px"],[1,"text-main",2,"margin-left","8px"],[1,"text-grey-dull",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e._UZ(3,"br"),e._uU(4,"|"),e._UZ(5,"br"),e._uU(6,"|"),e._UZ(7,"br"),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",0)(10,"form",1),e.NdJ("ngSubmit",function(){return i.addDerivedWord()}),e.TgZ(11,"div",2)(12,"div",3)(13,"label",4),e._uU(14,"Word"),e.qZA(),e.TgZ(15,"div",5)(16,"input",6),e.NdJ("submit",function(){return i.addDerivedWord()}),e.qZA()()(),e.TgZ(17,"div",3)(18,"label",7),e._uU(19,"Category"),e.qZA(),e.TgZ(20,"div",5)(21,"select",8),e.YNc(22,UI,2,2,"option",9),e.qZA()()(),e.TgZ(23,"div",3)(24,"label",10),e._uU(25,"Comment"),e.qZA(),e.TgZ(26,"div",5)(27,"input",11),e.NdJ("submit",function(){return i.addDerivedWord()}),e.qZA()()(),e.TgZ(28,"div",12)(29,"a",13),e.NdJ("click",function(){return i.addDerivedWord()}),e._uU(30,"[ Add derived word ]"),e.qZA()()()()(),e.TgZ(31,"th",0),e._uU(32,"|"),e._UZ(33,"br"),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e.qZA()(),e.TgZ(39,"tr")(40,"th",0),e._uU(41,"|"),e._UZ(42,"br"),e._uU(43,"|"),e.qZA(),e.TgZ(44,"th",0)(45,"div",2)(46,"div",3)(47,"label",14),e._uU(48,"From words:"),e.qZA(),e.YNc(49,jC,4,2,"span",15),e.qZA()()(),e.TgZ(50,"th",0),e._uU(51,"|"),e._UZ(52,"br"),e._uU(53,"|"),e.qZA()(),e.TgZ(54,"tr")(55,"th",0),e._uU(56,"|"),e.qZA(),e._UZ(57,"th",16),e.TgZ(58,"th",0),e._uU(59,"|"),e.qZA()(),e.TgZ(60,"tr")(61,"th",0),e._uU(62,"|"),e._UZ(63,"br"),e._uU(64,"|"),e.qZA(),e.TgZ(65,"th",17)(66,"input",18),e.NdJ("ngModelChange",function(u){return i.loadDefault({word:u})})("ngModelChange",function(u){return i.wordSearch=u}),e.qZA(),e.TgZ(67,"span",19)(68,"select",20),e.NdJ("ngModelChange",function(u){return i.loadDefault({posId:null==u?null:u.id})})("ngModelChange",function(u){return i.listPosSelector=u}),e.TgZ(69,"option",21),e._uU(70,"Any part of speech"),e.qZA(),e.YNc(71,RI,2,2,"option",9),e.qZA()()(),e.TgZ(72,"th",0),e._uU(73,"|"),e._UZ(74,"br"),e._uU(75,"|"),e.qZA()(),e.YNc(76,LI,6,0,"tr",22),e.YNc(77,$C,17,6,"tr",23)),2&t&&(e.xp6(10),e.Q6J("formGroup",i.newWord),e.xp6(11),e.Q6J("value",void 0),e.xp6(1),e.Q6J("ngForOf",i.poses),e.xp6(27),e.Q6J("ngForOf",i.selectedWords),e.xp6(17),e.Q6J("ngModel",i.wordSearch),e.xp6(2),e.Q6J("ngModel",i.listPosSelector),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",i.poses),e.xp6(5),e.Q6J("ngIf",i.wordsList.data&&i.wordsList.data.length),e.xp6(1),e.Q6J("ngForOf",i.wordsList.data))},dependencies:[yt,Pt,Ws,yo,zs,Wn,Xr,lr,cs,Mn,Bo,wu,nr],styles:[".link-selected-word[_ngcontent-%COMP%]:hover{color:#ee2d2d}"]}),r})();function HC(r,n){if(1&r&&(e.TgZ(0,"option",14),e._uU(1),e.qZA()),2&r){const t=n.$implicit,i=e.oxw();e.Q6J("selected",t===i.type)("value",t),e.xp6(1),e.Oqu(t)}}function VI(r,n){if(1&r&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.displayName)}}function GC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",5)(1,"label",6),e._uU(2,"From"),e.qZA(),e.TgZ(3,"div",7)(4,"select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.langToChanged({lang:o}))})("ngModelChange",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.languageTo=o)}),e.YNc(5,VI,2,2,"option",16),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.languageTo),e.xp6(1),e.Q6J("ngForOf",t.languagesTo)}}function BI(r,n){if(1&r&&e._UZ(0,"tbody",18),2&r){const t=e.oxw();e.Q6J("language",t.language)("poses",t.poses)}}function fy(r,n){if(1&r&&e._UZ(0,"tbody",19),2&r){const t=e.oxw();e.Q6J("language",t.language)("poses",t.poses)}}let jI=(()=>{class r{constructor(t,i){this.posService=t,this.languagesEvolutionService=i,this.languagesTo=[],this.wordOriginType=Mu,this.typeKeys=Object.keys(Mu),this.type=this.typeKeys[0],this.poses=[]}ngOnInit(){console.log(this.type),console.log(this.wordOriginType),console.log(this.typeKeys)}changeLanguageTo(t,i){t&&this.languagesEvolutionService.getConnectionFromLang({fromLangId:t}).subscribe(o=>{this.languagesTo=o.filter(u=>u.connectionType===Cs.Evolving&&"Evolved"===i||u.connectionType===Cs.Borrowing&&"Borrowed"===i).map(u=>u.langTo).filter(u=>!!u).map(u=>u||{displayName:"empty"})})}changeLanguage(t){t.langId?(this.changeLanguageTo(t.langId,this.type),this.posService.getAllPosByLanguage({languageId:t.langId}).subscribe(i=>{this.poses=i.sort((o,u)=>o.name?o.name.localeCompare(u.name?u.name:""):-1)})):this.poses=[]}typeChanged(t){var i;console.log(t.type),this.changeLanguageTo(null===(i=this.language)||void 0===i?void 0:i.id,t.type)}langToChanged(t){console.log(t.lang)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Zu),e.Y36(Ja))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-new"]],decls:41,vars:7,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],[1,"border"],[1,"border",2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],[1,"selector"],["for","newWordTypeSelector",1,"languageSelectorLabel"],[1,"input-group",2,"margin-top","4px"],["id","newWordTypeSelector",1,"posSelector",3,"ngModel","ngModelChange"],[3,"selected","value",4,"ngFor","ngForOf"],["class","selector",4,"ngIf"],["app-new","",3,"language","poses",4,"ngIf"],["app-derived","",3,"language","poses",4,"ngIf"],["app-horizontal-dash","",1,"border"],[3,"selected","value"],["id","langToSelector",1,"langToSelector",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["app-new","",3,"language","poses"],["app-derived","",3,"language","poses"]],template:function(t,i){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0),e.qZA(),e.TgZ(5,"tbody")(6,"tr")(7,"th",2),e._uU(8,"|"),e._UZ(9,"br"),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e.qZA(),e.TgZ(15,"th",3)(16,"app-all-languages",4),e.NdJ("selectedLanguageChange",function(u){return i.changeLanguage({langId:u.id})})("selectedLanguageChange",function(u){return i.language=u}),e.qZA(),e.TgZ(17,"div",5)(18,"label",6),e._uU(19,"Type"),e.qZA(),e.TgZ(20,"div",7)(21,"select",8),e.NdJ("ngModelChange",function(u){return i.typeChanged({type:u})})("ngModelChange",function(u){return i.type=u}),e.YNc(22,HC,2,3,"option",9),e.qZA()()(),e.YNc(23,GC,6,2,"div",10),e.qZA(),e.TgZ(24,"th",2),e._uU(25,"|"),e._UZ(26,"br"),e._uU(27,"|"),e._UZ(28,"br"),e._uU(29,"|"),e._UZ(30,"br"),e._uU(31,"|"),e.qZA()()(),e.YNc(32,BI,1,2,"tbody",11),e.YNc(33,fy,1,2,"tbody",12),e.TgZ(34,"tbody")(35,"tr")(36,"th",2),e._uU(37,"+"),e.qZA(),e._UZ(38,"th",13),e.TgZ(39,"th",2),e._uU(40,"+"),e.qZA()()()()),2&t&&(e.xp6(16),e.Q6J("selectedLanguage",i.language)("label","Language"),e.xp6(5),e.Q6J("ngModel",i.type),e.xp6(1),e.Q6J("ngForOf",i.typeKeys),e.xp6(1),e.Q6J("ngIf","Borrowed"===i.type||"Evolved"===i.type),e.xp6(9),e.Q6J("ngIf",void 0!==i.language&&"New"===i.type),e.xp6(1),e.Q6J("ngIf",void 0!==i.language&&"Derived"===i.type))},dependencies:[yt,Pt,yo,zs,Xr,lr,Mn,nr,cd,MI,qI]}),r})();function gy(r,n){return n.params[r]||(n.parent?gy(r,n.parent):null)}let $I=(()=>{class r{constructor(t){this.wordService=t}resolve(t,i){const o=gy("word",t);return o?this.wordService.getDetailedWordsByPhonetics({word:o}):Qs.E}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Nu))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const HI={scrollPositionRestoration:"enabled",anchorScrolling:"enabled"},GI=[{path:"trace",component:sC},{path:"words",component:hC,children:[{path:"new",component:jI},{path:"list",component:oI},{path:"translations",component:bI},{path:"word/:word",component:eg,pathMatch:"full",resolve:{wordDetails:$I}}]},{path:"evolutions",component:tg,children:[{path:"connections",component:VC},{path:"list",component:ZI}]},{path:"language",component:tC,children:[{path:"description",component:K_},{path:"clusters",component:E1},{path:"laws",component:lA}]}];let my=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Yb.forRoot(GI,HI),Yb]}),r})();const WC=["col"];function WI(r,n){if(1&r&&(e.TgZ(0,"tr"),e._UZ(1,"td",16),e.TgZ(2,"td",15)(3,"span",17),e._uU(4),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e._UZ(7,"td",16),e.qZA()),2&r){const t=n.$implicit;e.xp6(4),e.hij("",t.message,". "),e.xp6(2),e.Oqu(t.details)}}function zI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"table")(3,"colgroup"),e._UZ(4,"col",3)(5,"col",4)(6,"col",5)(7,"col",6)(8,"col",3)(9,"col",7)(10,"col",3),e.qZA(),e.TgZ(11,"tbody")(12,"tr")(13,"th",8),e._uU(14,"+"),e.qZA(),e.TgZ(15,"th",8),e._uU(16,"--"),e.qZA(),e.TgZ(17,"th",8),e._uU(18,"[ "),e.TgZ(19,"div",9),e._uU(20,"Esc"),e.qZA(),e._uU(21," ] Close "),e.qZA(),e._UZ(22,"th",10),e.TgZ(23,"th",8),e._uU(24,"+"),e.qZA(),e.TgZ(25,"th",8),e._uU(26,"--"),e.qZA(),e.TgZ(27,"th",8),e._uU(28,"+"),e.qZA()(),e.TgZ(29,"tr")(30,"th",8),e._uU(31,"|"),e.qZA(),e.TgZ(32,"th",11),e._uU(33," WARNING "),e.qZA(),e.TgZ(34,"th",8),e._uU(35,"|"),e.qZA(),e.TgZ(36,"th")(37,"a",12),e.NdJ("click",function(o){e.CHM(t);const u=e.oxw();return e.KtG(u.clear(o))}),e._uU(38,"x"),e.qZA()(),e.TgZ(39,"th",8),e._uU(40,"|"),e.qZA()(),e.TgZ(41,"tr")(42,"th",8),e._uU(43,"+"),e.qZA(),e._UZ(44,"th",13),e.TgZ(45,"th",8),e._uU(46,"+"),e.qZA(),e.TgZ(47,"th",8),e._uU(48,"--"),e.qZA(),e.TgZ(49,"th",8),e._uU(50,"+"),e.qZA()()(),e.TgZ(51,"tbody"),e.YNc(52,WI,8,2,"tr",14),e.TgZ(53,"tr")(54,"td",8),e._uU(55,"|"),e.qZA(),e._UZ(56,"td",15),e.TgZ(57,"td",8),e._uU(58,"|"),e.qZA()()()()()()}if(2&r){const t=e.oxw();e.xp6(52),e.Q6J("ngForOf",t.errors)}}let QI=(()=>{class r{constructor(t,i){this.cdRef=t,this.errorService=i,this.bcol="",this.errors=[]}ngOnInit(){this.errorService.errors.subscribe(t=>{this.errors=t})}onResize(){this.resizeTable()}ngAfterViewChecked(){this.resizeTable()}resizeTable(){var t;const o=Math.floor(((null===(t=this.col)||void 0===t?void 0:t.nativeElement.offsetWidth)-2)/8),u=this.bcol;this.bcol="--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------".substr(0,o),u!=this.bcol&&this.cdRef.detectChanges()}clear(t){t.stopPropagation(),this.errorService.clearErrors()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(eo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-footer"]],viewQuery:function(t,i){if(1&t&&e.Gf(WC,5),2&t){let o;e.iGM(o=e.CRH())&&(i.col=o.first)}},hostBindings:function(t,i){1&t&&e.NdJ("resize",function(u){return i.onResize(u)},!1,e.Jf7)},decls:1,vars:1,consts:[["class","footer-wrapper",4,"ngIf"],[1,"footer-wrapper"],[1,"footer"],["span","1",1,"border"],["span","1",2,"width","16px"],["span","1",2,"width","112px"],["span","1",2,"width","auto"],["span","1",2,"width","18px"],[1,"border"],[1,"text-yellow-dull",2,"display","inline"],["app-horizontal-dash","",1,"border"],["colspan","3",1,"text-grey"],[1,"text-red-dull","link-btn",3,"click"],["app-horizontal-dash","","colspan","3",1,"border"],[4,"ngFor","ngForOf"],["colspan","5",1,"break-word","text-grey"],["app-vertical-dash","",1,"border"],[1,"text-red-dull"]],template:function(t,i){1&t&&e.YNc(0,zI,59,1,"div",0),2&t&&e.Q6J("ngIf",i.errors.length>0)},dependencies:[yt,Pt,nr],styles:[".footer-wrapper[_ngcontent-%COMP%]{position:fixed;left:0px;bottom:0px;width:100%;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.footer[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;z-index:100;background-color:#252525}"]}),r})(),KI=(()=>{class r{transform(t,...i){switch(t){case"ZERO":return"0";case"ONE":return"1";case"TWO":return"2";case"THREE":return"3";case"FOUR":return"4";case"FIVE":return"5";default:return t}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275pipe=e.Yjl({name:"keySymbols",type:r,pure:!0}),r})();function YI(r,n){if(1&r&&(e.TgZ(0,"span",3),e._uU(1),e.ALo(2,"keySymbols"),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" [",e.lcZ(2,1,t.key)," ]")}}let XI=(()=>{class r{constructor(t,i,o){this.activeRoute=t,this.router=i,this.keybind=o}ngOnInit(){this.key&&this.keybind.match([this.key],["altKey"]).subscribe(i=>{i.preventDefault();const o=this.activeRoute.snapshot.queryParamMap.get("lang");this.router.navigate([this.route],{queryParams:{lang:o}})})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ys),e.Y36(Pn),e.Y36(ra))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-header-nav-link"]],inputs:{route:"route",name:"name",key:"key"},decls:4,vars:3,consts:[[1,"nav-link"],[1,"link-btn",3,"routerLink"],["class","text-grey-dull",4,"ngIf"],[1,"text-grey-dull"]],template:function(t,i){1&t&&(e.TgZ(0,"span",0)(1,"a",1),e._uU(2),e.YNc(3,YI,3,3,"span",2),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("routerLink",i.route),e.xp6(1),e.Oqu(i.name),e.xp6(1),e.Q6J("ngIf",i.key))},dependencies:[Pt,$o,KI],styles:[".nav-link[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}"]}),r})();var eE=P(2227),Yt=P(2090),Pu=P(9681),Wa=P(1877),ig=P(4859),ri=P(5813);function og(){return(0,pi.e)((r,n)=>{let t,i=!1;r.subscribe((0,_r.x)(n,o=>{const u=t;t=o,i&&n.next([u,o]),i=!0}))})}function nE(r,n){return r===n}var pt,Ts=P(2011),_y=(P(5881),P(3942)),Ie=P(5861),yy="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},za={},Wh=Wh||{},Lt=yy||self;function zh(){}function Uu(r){var n=typeof r;return"array"==(n="object"!=n?n:r?Array.isArray(r)?"array":n:"null")||"object"==n&&"number"==typeof r.length}function hd(r){var n=typeof r;return"object"==n&&null!=r||"function"==n}var QC="closure_uid_"+(1e9*Math.random()>>>0),KC=0;function vy(r,n,t){return r.call.apply(r.bind,arguments)}function iE(r,n,t){if(!r)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),r.apply(n,o)}}return function(){return r.apply(n,arguments)}}function Pr(r,n,t){return(Pr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vy:iE).apply(null,arguments)}function sg(r,n){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),r.apply(this,i)}}function ii(r,n){function t(){}t.prototype=n.prototype,r.Z=n.prototype,r.prototype=new t,r.prototype.constructor=r,r.Vb=function(i,o,u){for(var d=Array(arguments.length-2),g=2;g<arguments.length;g++)d[g-2]=arguments[g];return n.prototype[o].apply(i,d)}}function sa(){this.s=this.s,this.o=this.o}var XC={};sa.prototype.s=!1,sa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function rE(r){return Object.prototype.hasOwnProperty.call(r,QC)&&r[QC]||(r[QC]=++KC)}(this);delete XC[r]}},sa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Cy=Array.prototype.indexOf?function(r,n){return Array.prototype.indexOf.call(r,n,void 0)}:function(r,n){if("string"==typeof r)return"string"!=typeof n||1!=n.length?-1:r.indexOf(n,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===n)return t;return-1},Ty=Array.prototype.forEach?function(r,n,t){Array.prototype.forEach.call(r,n,t)}:function(r,n,t){const i=r.length,o="string"==typeof r?r.split(""):r;for(let u=0;u<i;u++)u in o&&n.call(t,o[u],u,r)};function eT(r){return Array.prototype.concat.apply([],arguments)}function wy(r){const n=r.length;if(0<n){const t=Array(n);for(let i=0;i<n;i++)t[i]=r[i];return t}return[]}function ag(r){return/^[\s\xa0]*$/.test(r)}var Mi,by=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function to(r,n){return-1!=r.indexOf(n)}function ug(r,n){return r<n?-1:r>n?1:0}e:{var tT=Lt.navigator;if(tT){var sE=tT.userAgent;if(sE){Mi=sE;break e}}Mi=""}function nT(r,n,t){for(const i in r)n.call(t,r[i],i,r)}function rT(r){const n={};for(const t in r)n[t]=r[t];return n}var iT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oT(r,n){let t,i;for(let o=1;o<arguments.length;o++){for(t in i=arguments[o],i)r[t]=i[t];for(let u=0;u<iT.length;u++)t=iT[u],Object.prototype.hasOwnProperty.call(i,t)&&(r[t]=i[t])}}function lg(r){return lg[" "](r),r}lg[" "]=zh;var Ou,r,uE=to(Mi,"Opera"),pd=to(Mi,"Trident")||to(Mi,"MSIE"),sT=to(Mi,"Edge"),Ay=sT||pd,aT=to(Mi,"Gecko")&&!(to(Mi.toLowerCase(),"webkit")&&!to(Mi,"Edge"))&&!(to(Mi,"Trident")||to(Mi,"MSIE"))&&!to(Mi,"Edge"),lE=to(Mi.toLowerCase(),"webkit")&&!to(Mi,"Edge");function uT(){var r=Lt.document;return r?r.documentMode:void 0}e:{var cg="",dg=(r=Mi,aT?/rv:([^\);]+)(\)|;)/.exec(r):sT?/Edge\/([\d\.]+)/.exec(r):pd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):lE?/WebKit\/(\S+)/.exec(r):uE?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(dg&&(cg=dg?dg[1]:""),pd){var hg=uT();if(null!=hg&&hg>parseFloat(cg)){Ou=String(hg);break e}}Ou=cg}var lT={};var G2=Lt.document&&pd&&(uT()||parseInt(Ou,10))||void 0,hT=function(){if(!Lt.addEventListener||!Object.defineProperty)return!1;var r=!1,n=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Lt.addEventListener("test",zh,n),Lt.removeEventListener("test",zh,n)}catch(t){}return r}();function _i(r,n){this.type=r,this.g=this.target=n,this.defaultPrevented=!1}function Qh(r,n){if(_i.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,i=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=n,n=r.relatedTarget){if(aT){e:{try{lg(n.nodeName);var o=!0;break e}catch(u){}o=!1}o||(n=null)}}else"mouseover"==t?n=r.fromElement:"mouseout"==t&&(n=r.toElement);this.relatedTarget=n,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:cE[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Qh.Z.h.call(this)}}_i.prototype.h=function(){this.defaultPrevented=!0},ii(Qh,_i);var cE={2:"touch",3:"pen",4:"mouse"};Qh.prototype.h=function(){Qh.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Kh="closure_listenable_"+(1e6*Math.random()|0),Yh=0;function dE(r,n,t,i,o){this.listener=r,this.proxy=null,this.src=n,this.type=t,this.capture=!!i,this.ia=o,this.key=++Yh,this.ca=this.fa=!1}function fd(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function To(r){this.src=r,this.g={},this.h=0}function Iy(r,n){var t=n.type;if(t in r.g){var u,i=r.g[t],o=Cy(i,n);(u=0<=o)&&Array.prototype.splice.call(i,o,1),u&&(fd(n),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Xh(r,n,t,i){for(var o=0;o<r.length;++o){var u=r[o];if(!u.ca&&u.listener==n&&u.capture==!!t&&u.ia==i)return o}return-1}To.prototype.add=function(r,n,t,i,o){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var d=Xh(r,n,i,o);return-1<d?(n=r[d],t||(n.fa=!1)):((n=new dE(n,this.src,u,!!i,o)).fa=t,r.push(n)),n};var Gl="closure_lm_"+(1e6*Math.random()|0),Ey={};function pT(r,n,t,i,o){if(i&&i.once)return ep(r,n,t,i,o);if(Array.isArray(n)){for(var u=0;u<n.length;u++)pT(r,n[u],t,i,o);return null}return t=xy(t),r&&r[Kh]?r.N(n,t,hd(i)?!!i.capture:!!i,o):fT(r,n,t,!1,i,o)}function fT(r,n,t,i,o,u){if(!n)throw Error("Invalid event type");var d=hd(o)?!!o.capture:!!o,g=tp(r);if(g||(r[Gl]=g=new To(r)),(t=g.add(n,t,i,d,u)).proxy)return t;if(i=function fg(){var n=mT;return function r(t){return n.call(r.src,r.listener,t)}}(),t.proxy=i,i.src=r,i.listener=t,r.addEventListener)hT||(o=d),void 0===o&&(o=!1),r.addEventListener(n.toString(),i,o);else if(r.attachEvent)r.attachEvent(Sy(n.toString()),i);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(i)}return t}function ep(r,n,t,i,o){if(Array.isArray(n)){for(var u=0;u<n.length;u++)ep(r,n[u],t,i,o);return null}return t=xy(t),r&&r[Kh]?r.O(n,t,hd(i)?!!i.capture:!!i,o):fT(r,n,t,!0,i,o)}function gT(r,n,t,i,o){if(Array.isArray(n))for(var u=0;u<n.length;u++)gT(r,n[u],t,i,o);else i=hd(i)?!!i.capture:!!i,t=xy(t),r&&r[Kh]?(r=r.i,(n=String(n).toString())in r.g&&-1<(t=Xh(u=r.g[n],t,i,o))&&(fd(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete r.g[n],r.h--))):r&&(r=tp(r))&&(n=r.g[n.toString()],r=-1,n&&(r=Xh(n,t,i,o)),(t=-1<r?n[r]:null)&&Dy(t))}function Dy(r){if("number"!=typeof r&&r&&!r.ca){var n=r.src;if(n&&n[Kh])Iy(n.i,r);else{var t=r.type,i=r.proxy;n.removeEventListener?n.removeEventListener(t,i,r.capture):n.detachEvent?n.detachEvent(Sy(t),i):n.addListener&&n.removeListener&&n.removeListener(i),(t=tp(n))?(Iy(t,r),0==t.h&&(t.src=null,n[Gl]=null)):fd(r)}}}function Sy(r){return r in Ey?Ey[r]:Ey[r]="on"+r}function mT(r,n){if(r.ca)r=!0;else{n=new Qh(n,this);var t=r.listener,i=r.ia||r.src;r.fa&&Dy(r),r=t.call(i,n)}return r}function tp(r){return(r=r[Gl])instanceof To?r:null}var gg="__closure_events_fn_"+(1e9*Math.random()>>>0);function xy(r){return"function"==typeof r?r:(r[gg]||(r[gg]=function(n){return r.handleEvent(n)}),r[gg])}function Gr(){sa.call(this),this.i=new To(this),this.P=this,this.I=null}function yi(r,n){var t,i=r.I;if(i)for(t=[];i;i=i.I)t.push(i);if(r=r.P,i=n.type||n,"string"==typeof n)n=new _i(n,r);else if(n instanceof _i)n.target=n.target||r;else{var o=n;oT(n=new _i(i,r),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var d=n.g=t[u];o=gd(d,i,!0,n)&&o}if(o=gd(d=n.g=r,i,!0,n)&&o,o=gd(d,i,!1,n)&&o,t)for(u=0;u<t.length;u++)o=gd(d=n.g=t[u],i,!1,n)&&o}function gd(r,n,t,i){if(!(n=r.i.g[String(n)]))return!0;n=n.concat();for(var o=!0,u=0;u<n.length;++u){var d=n[u];if(d&&!d.ca&&d.capture==t){var g=d.listener,v=d.ia||d.src;d.fa&&Iy(r.i,d),o=!1!==g.call(v,i)&&o}}return o&&!i.defaultPrevented}ii(Gr,sa),Gr.prototype[Kh]=!0,Gr.prototype.removeEventListener=function(r,n,t,i){gT(this,r,n,t,i)},Gr.prototype.M=function(){if(Gr.Z.M.call(this),this.i){var n,r=this.i;for(n in r.g){for(var t=r.g[n],i=0;i<t.length;i++)fd(t[i]);delete r.g[n],r.h--}}this.I=null},Gr.prototype.N=function(r,n,t,i){return this.i.add(String(r),n,!1,t,i)},Gr.prototype.O=function(r,n,t,i){return this.i.add(String(r),n,!0,t,i)};var np=Lt.JSON.stringify;function _T(){var r=My;let n=null;return r.g&&(n=r.g,r.g=r.g.next,r.g||(r.h=null),n.next=null),n}var Ny,mg=new class{constructor(r,n){this.i=r,this.j=n,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new hE,r=>r.reset());class hE{constructor(){this.next=this.g=this.h=null}set(n,t){this.h=n,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function pE(r){Lt.setTimeout(()=>{throw r},0)}function Zy(r,n){Ny||function yT(){var r=Lt.Promise.resolve(void 0);Ny=function(){r.then(vT)}}(),rp||(Ny(),rp=!0),My.add(r,n)}var rp=!1,My=new class ky{constructor(){this.h=this.g=null}add(n,t){const i=mg.get();i.set(n,t),this.h?this.h.next=i:this.g=i,this.h=i}};function vT(){for(var r;r=_T();){try{r.h.call(r.g)}catch(t){pE(t)}var n=mg;n.j(r),100>n.h&&(n.h++,r.next=n.g,n.g=r)}rp=!1}function ip(r,n){Gr.call(this),this.h=r||1,this.g=n||Lt,this.j=Pr(this.kb,this),this.l=Date.now()}function _g(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function Py(r,n,t){if("function"==typeof r)t&&(r=Pr(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Pr(r.handleEvent,r)}return 2147483647<Number(n)?-1:Lt.setTimeout(r,n||0)}function Uy(r){r.g=Py(()=>{r.g=null,r.i&&(r.i=!1,Uy(r))},r.j);const n=r.h;r.h=null,r.m.apply(null,n)}ii(ip,Gr),(pt=ip.prototype).da=!1,pt.S=null,pt.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),yi(this,"tick"),this.da&&(_g(this),this.start()))}},pt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.M=function(){ip.Z.M.call(this),_g(this),delete this.g};class CT extends sa{constructor(n,t){super(),this.m=n,this.j=t,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:Uy(this)}M(){super.M(),this.g&&(Lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function op(r){sa.call(this),this.h=r,this.g={}}ii(op,sa);var Oy=[];function TT(r,n,t,i){Array.isArray(t)||(t&&(Oy[0]=t.toString()),t=Oy);for(var o=0;o<t.length;o++){var u=pT(n,t[o],i||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function vi(r){nT(r.g,function(n,t){this.g.hasOwnProperty(t)&&Dy(n)},r),r.g={}}function Qa(){this.g=!0}function sp(r,n,t,i){r.info(function(){return"XMLHTTP TEXT ("+n+"): "+function wT(r,n){if(!r.g)return n;if(!n)return null;try{var t=JSON.parse(n);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var i=t[r];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<o.length;d++)o[d]=""}}}return np(t)}catch(g){return n}}(r,t)+(i?" "+i:"")})}op.prototype.M=function(){op.Z.M.call(this),vi(this)},op.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qa.prototype.Aa=function(){this.g=!1},Qa.prototype.info=function(){};var Ru={},md=null;function yg(){return md=md||new Gr}function vg(r){_i.call(this,Ru.Ma,r)}function ap(r){const n=yg();yi(n,new vg(n,r))}function Ry(r,n){_i.call(this,Ru.STAT_EVENT,r),this.stat=n}function Pi(r){const n=yg();yi(n,new Ry(n,r))}function bT(r,n){_i.call(this,Ru.Na,r),this.size=n}function aa(r,n){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Lt.setTimeout(function(){r()},n)}Ru.Ma="serverreachability",ii(vg,_i),Ru.STAT_EVENT="statevent",ii(Ry,_i),Ru.Na="timingevent",ii(bT,_i);var Cg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Tg={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function wg(){}function up(){}wg.prototype.h=null;var Fy,Jl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function AT(){_i.call(this,"d")}function bg(){_i.call(this,"c")}function lp(){}function ua(r,n,t,i){this.l=r,this.j=n,this.m=t,this.X=i||1,this.V=new op(this),this.P=ET,this.W=new ip(r=Ay?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new IT}function IT(){this.i=null,this.g="",this.h=!1}ii(AT,_i),ii(bg,_i),ii(lp,wg),lp.prototype.g=function(){return new XMLHttpRequest},lp.prototype.i=function(){return{}},Fy=new lp;var ET=45e3,cp={},qy={};function Vy(r,n,t){r.K=1,r.v=Jy(Ka(n)),r.s=t,r.U=!0,mE(r,null)}function mE(r,n){r.F=Date.now(),_d(r),r.A=Ka(r.v);var t=r.A,i=r.X;Array.isArray(i)||(i=[String(i)]),zy(t.h,"t",i),r.C=0,t=r.l.H,r.h=new IT,r.g=_p(r.l,t?n:null,!r.s),0<r.O&&(r.L=new CT(Pr(r.Ia,r,r.g),r.O)),TT(r.V,r.g,"readystatechange",r.gb),n=r.H?rT(r.H):{},r.s?(r.u||(r.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,n)):(r.u="GET",r.g.ea(r.A,r.u,null,n)),ap(1),function fE(r,n,t,i,o,u){r.info(function(){if(r.g)if(u)for(var d="",g=u.split("&"),v=0;v<g.length;v++){var w=g[v].split("=");if(1<w.length){var S=w[0];w=w[1];var N=S.split("_");d=2<=N.length&&"type"==N[1]?d+(S+"=")+w+"&":d+(S+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+n+"\n"+t+"\n"+d})}(r.j,r.u,r.A,r.m,r.X,r.s)}function DT(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function ST(r,n,t){let o,i=!0;for(;!r.I&&r.C<t.length;){if(o=_E(r,t),o==qy){4==n&&(r.o=4,Pi(14),i=!1),sp(r.j,r.m,null,"[Incomplete Response]");break}if(o==cp){r.o=4,Pi(15),sp(r.j,r.m,t,"[Invalid Chunk]"),i=!1;break}sp(r.j,r.m,o,null),jy(r,o)}DT(r)&&o!=qy&&o!=cp&&(r.h.g="",r.C=0),4!=n||0!=t.length||r.h.h||(r.o=1,Pi(16),i=!1),r.i=r.i&&i,i?0<t.length&&!r.aa&&(r.aa=!0,(n=r.l).g==r&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),JT(n),n.L=!0,Pi(11))):(sp(r.j,r.m,t,"[Invalid Chunked Response]"),Lu(r),yd(r))}function _E(r,n){var t=r.C,i=n.indexOf("\n",t);return-1==i?qy:(t=Number(n.substring(t,i)),isNaN(t)?cp:(i+=1)+t>n.length?qy:(n=n.substr(i,t),r.C=i+t,n))}function _d(r){r.Y=Date.now()+r.P,By(r,r.P)}function By(r,n){if(null!=r.B)throw Error("WatchDog timer not null");r.B=aa(Pr(r.eb,r),n)}function Ag(r){r.B&&(Lt.clearTimeout(r.B),r.B=null)}function yd(r){0==r.l.G||r.I||av(r.l,r)}function Lu(r){Ag(r);var n=r.L;n&&"function"==typeof n.na&&n.na(),r.L=null,_g(r.W),vi(r.V),r.g&&(n=r.g,r.g=null,n.abort(),n.na())}function jy(r,n){try{var t=r.l;if(0!=t.G&&(t.g==r||OT(t.i,r)))if(t.I=r.N,!r.J&&OT(t.i,r)&&3==t.G){try{var i=t.Ca.g.parse(n)}catch(w){i=null}if(Array.isArray(i)&&3==i.length){var o=i;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<r.F))break e;gp(t),rv(t)}Fg(t),Pi(18)}}else t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=aa(Pr(t.ab,t),6e3));if(1>=wE(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else qu(t,11)}else if((r.J||t.g==r)&&gp(t),!ag(n))for(o=t.Ca.g.parse(n),n=0;n<o.length;n++){let w=o[n];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const S=w[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const N=w[4];null!=N&&(t.za=N,t.h.info("SVER="+t.za));const R=w[5];null!=R&&"number"==typeof R&&0<R&&(t.K=i=1.5*R,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const z=r.g;if(z){const te=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(te){var u=i.i;!u.g&&(to(te,"spdy")||to(te,"quic")||to(te,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(RT(u,u.h),u.h=null))}if(i.D){const Pe=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;Pe&&(i.sa=Pe,rr(i.F,i.D,Pe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-r.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=r;if((i=t).oa=mp(i,i.H?i.la:null,i.W),d.J){LT(i.i,d);var g=d,v=i.K;v&&g.setTimeout(v),g.B&&(Ag(g),_d(g)),i.g=d}else GT(i);0<t.l.length&&Rg(t)}else"stop"!=w[0]&&"close"!=w[0]||qu(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?qu(t,7):nv(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}ap(4)}catch(w){}}function Ig(r,n){if(r.forEach&&"function"==typeof r.forEach)r.forEach(n,void 0);else if(Uu(r)||"string"==typeof r)Ty(r,n,void 0);else{if(r.T&&"function"==typeof r.T)var t=r.T();else if(r.R&&"function"==typeof r.R)t=void 0;else if(Uu(r)||"string"==typeof r){t=[];for(var i=r.length,o=0;o<i;o++)t.push(o)}else for(o in t=[],i=0,r)t[i++]=o;i=function yE(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(Uu(r)){for(var n=[],t=r.length,i=0;i<t;i++)n.push(r[i]);return n}for(i in n=[],t=0,r)n[t++]=r[i];return n}(r),o=i.length;for(var u=0;u<o;u++)n.call(void 0,i[u],t&&t[u],r)}}function vd(r,n){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(r)if(r instanceof vd)for(t=r.T(),i=0;i<t.length;i++)this.set(t[i],r.get(t[i]));else for(i in r)this.set(i,r[i])}function Eg(r){if(r.i!=r.g.length){for(var n=0,t=0;n<r.g.length;){var i=r.g[n];Fu(r.h,i)&&(r.g[t++]=i),n++}r.g.length=t}if(r.i!=r.g.length){var o={};for(t=n=0;n<r.g.length;)Fu(o,i=r.g[n])||(r.g[t++]=i,o[i]=1),n++;r.g.length=t}}function Fu(r,n){return Object.prototype.hasOwnProperty.call(r,n)}(pt=ua.prototype).setTimeout=function(r){this.P=r},pt.gb=function(r){r=r.target;const n=this.L;n&&3==Ya(r)?n.l():this.Ia(r)},pt.Ia=function(r){try{if(r==this.g)e:{const S=Ya(this.g);var n=this.g.Da();const N=this.g.ba();if(!(3>S)&&(3!=S||Ay||this.g&&(this.h.h||this.g.ga()||Cd(this.g)))){this.I||4!=S||7==n||ap(8==n||0>=N?3:2),Ag(this);var t=this.g.ba();this.N=t;t:if(DT(this)){var i=Cd(this.g);r="";var o=i.length,u=4==Ya(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Lu(this),yd(this);var d="";break t}this.h.i=new Lt.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,r+=this.h.i.decode(i[n],{stream:u&&n==o-1});i.splice(0,o),this.h.g+=r,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function gE(r,n,t,i,o,u,d){r.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+n+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var g,v=this.g;if((g=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ag(g)){var w=g;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Pi(12),Lu(this),yd(this);break e}sp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,jy(this,t)}this.U?(ST(this,S,d),Ay&&this.i&&3==S&&(TT(this.V,this.W,"tick",this.fb),this.W.start())):(sp(this.j,this.m,d,null),jy(this,d)),4==S&&Lu(this),this.i&&!this.I&&(4==S?av(this.l,this):(this.i=!1,_d(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Pi(12)):(this.o=0,Pi(13)),Lu(this),yd(this)}}}catch(S){}},pt.fb=function(){if(this.g){var r=Ya(this.g),n=this.g.ga();this.C<n.length&&(Ag(this),ST(this,r,n),this.i&&4!=r&&_d(this))}},pt.cancel=function(){this.I=!0,Lu(this)},pt.eb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function J2(r,n){r.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(ap(3),Pi(17)),Lu(this),this.o=2,yd(this)):By(this,this.Y-r)},(pt=vd.prototype).R=function(){Eg(this);for(var r=[],n=0;n<this.g.length;n++)r.push(this.h[this.g[n]]);return r},pt.T=function(){return Eg(this),this.g.concat()},pt.get=function(r,n){return Fu(this.h,r)?this.h[r]:n},pt.set=function(r,n){Fu(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=n},pt.forEach=function(r,n){for(var t=this.T(),i=0;i<t.length;i++){var o=t[i],u=this.get(o);r.call(n,u,o,this)}};var $y=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wl(r,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof Wl){this.g=void 0!==n?n:r.g,Hy(this,r.j),this.s=r.s,dp(this,r.i),Gy(this,r.m),this.l=r.l,n=r.h;var t=new Zg;t.i=n.i,n.g&&(t.g=new vd(n.g),t.h=n.h),vE(this,t),this.o=r.o}else r&&(t=String(r).match($y))?(this.g=!!n,Hy(this,t[1]||"",!0),this.s=Dg(t[2]||""),dp(this,t[3]||"",!0),Gy(this,t[4]),this.l=Dg(t[5]||"",!0),vE(this,t[6]||"",!0),this.o=Dg(t[7]||"")):(this.g=!!n,this.h=new Zg(null,this.g))}function Ka(r){return new Wl(r)}function Hy(r,n,t){r.j=t?Dg(n,!0):n,r.j&&(r.j=r.j.replace(/:$/,""))}function dp(r,n,t){r.i=t?Dg(n,!0):n}function Gy(r,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);r.m=n}else r.m=null}function vE(r,n,t){n instanceof Zg?(r.h=n,function Q2(r,n){n&&!r.j&&(la(r),r.i=null,r.g.forEach(function(t,i){var o=i.toLowerCase();i!=o&&(Wy(this,i),zy(this,o,t))},r)),r.j=n}(r.h,r.g)):(t||(n=Sg(n,ZT)),r.h=new Zg(n,r.g))}function rr(r,n,t){r.h.set(n,t)}function Jy(r){return rr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Dg(r,n){return r?n?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Sg(r,n,t){return"string"==typeof r?(r=encodeURI(r).replace(n,xg),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function xg(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Wl.prototype.toString=function(){var r=[],n=this.j;n&&r.push(Sg(n,CE,!0),":");var t=this.i;return(t||"file"==n)&&(r.push("//"),(n=this.s)&&r.push(Sg(n,CE,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&r.push("/"),r.push(Sg(t,"/"==t.charAt(0)?kg:kT,!0))),(t=this.h.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Sg(t,NT)),r.join("")};var CE=/[#\/\?@]/g,kT=/[#\?:]/g,kg=/[#\?]/g,ZT=/[#\?@]/g,NT=/#/g;function Zg(r,n){this.h=this.g=null,this.i=r||null,this.j=!!n}function la(r){r.g||(r.g=new vd,r.h=0,r.i&&function xT(r,n){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var i=r[t].indexOf("="),o=null;if(0<=i){var u=r[t].substring(0,i);o=r[t].substring(i+1)}else u=r[t];n(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(r.i,function(n,t){r.add(decodeURIComponent(n.replace(/\+/g," ")),t)}))}function Wy(r,n){la(r),n=hp(r,n),Fu(r.g.h,n)&&(r.i=null,r.h-=r.g.get(n).length,Fu((r=r.g).h,n)&&(delete r.h[n],r.i--,r.g.length>2*r.i&&Eg(r)))}function MT(r,n){return la(r),n=hp(r,n),Fu(r.g.h,n)}function zy(r,n,t){Wy(r,n),0<t.length&&(r.i=null,r.g.set(hp(r,n),wy(t)),r.h+=t.length)}function hp(r,n){return n=String(n),r.j&&(n=n.toLowerCase()),n}function PT(r){this.l=r||Ng,r=Lt.PerformanceNavigationTiming?0<(r=Lt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Lt.g&&Lt.g.Ea&&Lt.g.Ea()&&Lt.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=Zg.prototype).add=function(r,n){la(this),this.i=null,r=hp(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(n),this.h+=1,this},pt.forEach=function(r,n){la(this),this.g.forEach(function(t,i){Ty(t,function(o){r.call(n,o,i,this)},this)},this)},pt.T=function(){la(this);for(var r=this.g.R(),n=this.g.T(),t=[],i=0;i<n.length;i++)for(var o=r[i],u=0;u<o.length;u++)t.push(n[i]);return t},pt.R=function(r){la(this);var n=[];if("string"==typeof r)MT(this,r)&&(n=eT(n,this.g.get(hp(this,r))));else{r=this.g.R();for(var t=0;t<r.length;t++)n=eT(n,r[t])}return n},pt.set=function(r,n){return la(this),this.i=null,MT(this,r=hp(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[n]),this.h+=1,this},pt.get=function(r,n){return r&&0<(r=this.R(r)).length?String(r[0]):n},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],n=this.g.T(),t=0;t<n.length;t++){var i=n[t],o=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var d=o;""!==i[u]&&(d+="="+encodeURIComponent(String(i[u]))),r.push(d)}}return this.i=r.join("&")};var Ng=10;function UT(r){return!!r.h||!!r.g&&r.g.size>=r.j}function wE(r){return r.h?1:r.g?r.g.size:0}function OT(r,n){return r.h?r.h==n:!!r.g&&r.g.has(n)}function RT(r,n){r.g?r.g.add(n):r.h=n}function LT(r,n){r.h&&r.h==n?r.h=null:r.g&&r.g.has(n)&&r.g.delete(n)}function FT(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let n=r.i;for(const t of r.g.values())n=n.concat(t.D);return n}return wy(r.i)}function Qy(){}function K2(){this.g=new Qy}function bE(r,n,t){const i=t||"";try{Ig(r,function(o,u){let d=o;hd(o)&&(d=np(o)),n.push(i+u+"="+encodeURIComponent(d))})}catch(o){throw n.push(i+"type="+encodeURIComponent("_badmap")),o}}function pp(r,n,t,i,o){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,o(i)}catch(u){}}function Mg(r){this.l=r.$b||null,this.j=r.ib||!1}function no(r,n){Gr.call(this),this.D=r,this.u=n,this.m=void 0,this.readyState=Ky,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}PT.prototype.cancel=function(){if(this.i=FT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},Qy.prototype.stringify=function(r){return Lt.JSON.stringify(r,void 0)},Qy.prototype.parse=function(r){return Lt.JSON.parse(r,void 0)},ii(Mg,wg),Mg.prototype.g=function(){return new no(this.l,this.j)},Mg.prototype.i=function(r){return function(){return r}}({}),ii(no,Gr);var Ky=0;function Pg(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function fp(r){r.readyState=4,r.l=null,r.j=null,r.A=null,oi(r)}function oi(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(pt=no.prototype).open=function(r,n){if(this.readyState!=Ky)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=n,this.readyState=1,oi(this)},pt.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(n.body=r),(this.D||Lt).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fp(this)),this.readyState=Ky},pt.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Lt.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pg(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},pt.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var n=r.value?r.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!r.done}))&&(this.response=this.responseText+=n)}r.done?fp(this):oi(this),3==this.readyState&&Pg(this)}},pt.Ua=function(r){this.g&&(this.response=this.responseText=r,fp(this))},pt.Ta=function(r){this.g&&(this.response=r,fp(this))},pt.ha=function(){this.g&&fp(this)},pt.setRequestHeader=function(r,n){this.v.append(r,n)},pt.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],n=this.h.entries();for(var t=n.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=n.next();return r.join("\r\n")},Object.defineProperty(no.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var AE=Lt.JSON.parse;function hr(r){Gr.call(this),this.headers=new vd,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=VT,this.K=this.L=!1}ii(hr,Gr);var VT="",IE=/^https?$/i,Yy=["POST","PUT"];function jT(r){return"content-type"==r.toLowerCase()}function $T(r,n){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=n,r.m=5,Xy(r),Ug(r)}function Xy(r){r.D||(r.D=!0,yi(r,"complete"),yi(r,"error"))}function ev(r){if(r.h&&void 0!==Wh&&(!r.C[1]||4!=Ya(r)||2!=r.ba()))if(r.v&&4==Ya(r))Py(r.Fa,0,r);else if(yi(r,"readystatechange"),4==Ya(r)){r.h=!1;try{const g=r.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var t;if(!(t=n)){var i;if(i=0===g){var o=String(r.H).match($y)[1]||null;if(!o&&Lt.self&&Lt.self.location){var u=Lt.self.location.protocol;o=u.substr(0,u.length-1)}i=!IE.test(o?o.toLowerCase():"")}t=i}if(t)yi(r,"complete"),yi(r,"success");else{r.m=6;try{var d=2<Ya(r)?r.g.statusText:""}catch(v){d=""}r.j=d+" ["+r.ba()+"]",Xy(r)}}finally{Ug(r)}}}function Ug(r,n){if(r.g){tv(r);const t=r.g,i=r.C[0]?zh:null;r.g=null,r.C=null,n||yi(r,"ready");try{t.onreadystatechange=i}catch(o){}}}function tv(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(Lt.clearTimeout(r.A),r.A=null)}function Ya(r){return r.g?r.g.readyState:0}function Cd(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case VT:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(n){return null}}function Og(r,n,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function ca(r){let n="";return nT(r,function(t,i){n+=i,n+=":",n+=t,n+="\r\n"}),n}(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):rr(r,n,t))}function zl(r,n,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||n}function da(r){this.za=0,this.l=[],this.h=new Qa,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=zl("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=zl("baseRetryDelayMs",5e3,r),this.$a=zl("retryDelaySeedMs",1e4,r),this.Ya=zl("forwardChannelMaxRetries",2,r),this.ra=zl("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new PT(r&&r.concurrentRequestLimit),this.Ca=new K2,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function nv(r){if(HT(r),3==r.G){var n=r.V++,t=Ka(r.F);rr(t,"SID",r.J),rr(t,"RID",n),rr(t,"TYPE","terminate"),Lg(r,t),(n=new ua(r,r.h,n,void 0)).K=2,n.v=Jy(Ka(t)),t=!1,Lt.navigator&&Lt.navigator.sendBeacon&&(t=Lt.navigator.sendBeacon(n.v.toString(),"")),!t&&Lt.Image&&((new Image).src=n.v,t=!0),t||(n.g=_p(n.l,null),n.g.ea(n.v)),n.F=Date.now(),_d(n)}uv(r)}function rv(r){r.g&&(JT(r),r.g.cancel(),r.g=null)}function HT(r){rv(r),r.u&&(Lt.clearTimeout(r.u),r.u=null),gp(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Lt.clearTimeout(r.m),r.m=null)}function iv(r,n){r.l.push(new class{constructor(r,n){this.h=r,this.g=n}}(r.Za++,n)),3==r.G&&Rg(r)}function Rg(r){UT(r.i)||r.m||(r.m=!0,Zy(r.Ha,r),r.C=0)}function ov(r,n){var t;t=n?n.m:r.V++;const i=Ka(r.F);rr(i,"SID",r.J),rr(i,"RID",t),rr(i,"AID",r.U),Lg(r,i),r.o&&r.s&&Og(i,r.o,r.s),t=new ua(r,r.h,t,r.C+1),null===r.o&&(t.H=r.s),n&&(r.l=n.D.concat(r.l)),n=sv(r,t,1e3),t.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),RT(r.i,t),Vy(t,i,n)}function Lg(r,n){r.j&&Ig({},function(t,i){rr(n,i,t)})}function sv(r,n,t){t=Math.min(r.l.length,t);var i=r.j?Pr(r.j.Oa,r.j,r):null;e:{var o=r.l;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=o[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let g=!0;for(let v=0;v<t;v++){let w=o[v].h;const S=o[v].g;if(w-=u,0>w)u=Math.max(0,o[v].h-100),g=!1;else try{bE(S,d,"req"+w+"_")}catch(N){i&&i(S)}}if(g){i=d.join("&");break e}}}return r=r.l.splice(0,t),n.D=r,i}function GT(r){r.g||r.u||(r.Y=1,Zy(r.Ga,r),r.A=0)}function Fg(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=aa(Pr(r.Ga,r),WT(r,r.A)),r.A++,0))}function JT(r){null!=r.B&&(Lt.clearTimeout(r.B),r.B=null)}function qg(r){r.g=new ua(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var n=Ka(r.oa);rr(n,"RID","rpc"),rr(n,"SID",r.J),rr(n,"CI",r.N?"0":"1"),rr(n,"AID",r.U),Lg(r,n),rr(n,"TYPE","xmlhttp"),r.o&&r.s&&Og(n,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.la,t.K=1,t.v=Jy(Ka(n)),t.s=null,t.U=!0,mE(t,r)}function gp(r){null!=r.v&&(Lt.clearTimeout(r.v),r.v=null)}function av(r,n){var t=null;if(r.g==n){gp(r),JT(r),r.g=null;var i=2}else{if(!OT(r.i,n))return;t=n.D,LT(r.i,n),i=1}if(r.I=n.N,0!=r.G)if(n.i)if(1==i){t=n.s?n.s.length:0,n=Date.now()-n.F;var o=r.C;yi(i=yg(),new bT(i,t,n,o)),Rg(r)}else GT(r);else if(3==(o=n.o)||0==o&&0<r.I||!(1==i&&function EE(r,n){return!(wE(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=n.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=aa(Pr(r.Ha,r,n),WT(r,r.C)),r.C++,0)))}(r,n)||2==i&&Fg(r)))switch(t&&0<t.length&&(n=r.i,n.i=n.i.concat(t)),o){case 1:qu(r,5);break;case 4:qu(r,10);break;case 3:qu(r,6);break;default:qu(r,2)}}function WT(r,n){let t=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(t*=2),t*n}function qu(r,n){if(r.h.info("Error code "+n),2==n){var t=null;r.j&&(t=null);var i=Pr(r.jb,r);t||(t=new Wl("//www.google.com/images/cleardot.gif"),Lt.location&&"http"==Lt.location.protocol||Hy(t,"https"),Jy(t)),function qT(r,n){const t=new Qa;if(Lt.Image){const i=new Image;i.onload=sg(pp,t,i,"TestLoadImage: loaded",!0,n),i.onerror=sg(pp,t,i,"TestLoadImage: error",!1,n),i.onabort=sg(pp,t,i,"TestLoadImage: abort",!1,n),i.ontimeout=sg(pp,t,i,"TestLoadImage: timeout",!1,n),Lt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=r}else n(!1)}(t.toString(),i)}else Pi(2);r.G=0,r.j&&r.j.va(n),uv(r),HT(r)}function uv(r){r.G=0,r.I=-1,r.j&&((0!=FT(r.i).length||0!=r.l.length)&&(r.i.i.length=0,wy(r.l),r.l.length=0),r.j.ua())}function mp(r,n,t){let i=function W2(r){return r instanceof Wl?Ka(r):new Wl(r,void 0)}(t);if(""!=i.i)n&&dp(i,n+"."+i.i),Gy(i,i.m);else{const o=Lt.location;i=function z2(r,n,t,i){var o=new Wl(null,void 0);return r&&Hy(o,r),n&&dp(o,n),t&&Gy(o,t),i&&(o.l=i),o}(o.protocol,n?n+"."+o.hostname:o.hostname,+o.port,t)}return r.aa&&nT(r.aa,function(o,u){rr(i,u,o)}),t=r.sa,(n=r.D)&&t&&rr(i,n,t),rr(i,"VER",r.ma),Lg(r,i),i}function _p(r,n,t){if(n&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new hr(t&&r.Ba&&!r.qa?new Mg({ib:!0}):r.qa)).L=r.H,n}function lv(){}function Vg(){if(pd&&!(10<=Number(G2)))throw Error("Environmental error: no available transport.")}function ro(r,n){Gr.call(this),this.g=new da(n),this.l=r,this.h=n&&n.messageUrlParams||null,r=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(r?r["X-WebChannel-Content-Type"]=n.messageContentType:r={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(r?r["X-WebChannel-Client-Profile"]=n.ya:r={"X-WebChannel-Client-Profile":n.ya}),this.g.P=r,(r=n&&n.httpHeadersOverwriteParam)&&!ag(r)&&(this.g.o=r),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!ag(n)&&(this.g.D=n,null!==(r=this.h)&&n in r&&n in(r=this.h)&&delete r[n]),this.j=new Td(this)}function cv(r){AT.call(this);var n=r.__sm__;if(n){e:{for(const t in n){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,n=null!==n&&r in n?n[r]:void 0),this.data=n}else this.data=r}function zT(){bg.call(this),this.status=1}function Td(r){this.g=r}(pt=hr.prototype).ea=function(r,n,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);n=n?n.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Fy.g(),this.C=function Ly(r){return r.h||(r.h=r.i())}(this.u?this.u:Fy),this.g.onreadystatechange=Pr(this.Fa,this);try{this.F=!0,this.g.open(n,String(r),!0),this.F=!1}catch(u){return void $T(this,u)}r=t||"";const o=new vd(this.headers);i&&Ig(i,function(u,d){o.set(d,u)}),i=function oE(r){e:{var n=jT;const t=r.length,i="string"==typeof r?r.split(""):r;for(let o=0;o<t;o++)if(o in i&&n.call(void 0,i[o],o,r)){n=o;break e}n=-1}return 0>n?null:"string"==typeof r?r.charAt(n):r[n]}(o.T()),t=Lt.FormData&&r instanceof Lt.FormData,!(0<=Cy(Yy,n))||i||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,d){this.g.setRequestHeader(d,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{tv(this),0<this.B&&((this.K=function BT(r){return pd&&function cT(){return function aE(r){var n=lT;return Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=r(9)}(function(){let r=0;const n=by(String(Ou)).split("."),t=by("9").split("."),i=Math.max(n.length,t.length);for(let d=0;0==r&&d<i;d++){var o=n[d]||"",u=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;r=ug(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||ug(0==o[2].length,0==u[2].length)||ug(o[2],u[2]),o=o[3],u=u[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pr(this.pa,this)):this.A=Py(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){$T(this,u)}},pt.pa=function(){void 0!==Wh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yi(this,"timeout"),this.abort(8))},pt.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,yi(this,"complete"),yi(this,"abort"),Ug(this))},pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ug(this,!0)),hr.Z.M.call(this)},pt.Fa=function(){this.s||(this.F||this.v||this.l?ev(this):this.cb())},pt.cb=function(){ev(this)},pt.ba=function(){try{return 2<Ya(this)?this.g.status:-1}catch(r){return-1}},pt.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},pt.Qa=function(r){if(this.g){var n=this.g.responseText;return r&&0==n.indexOf(r)&&(n=n.substring(r.length)),AE(n)}},pt.Da=function(){return this.m},pt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=da.prototype).ma=8,pt.G=1,pt.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(n){}},pt.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;const o=new ua(this,this.h,r,void 0);let u=this.s;if(this.P&&(u?(u=rT(u),oT(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var n=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(n+=i)){n=t;break e}if(4096===n||t===this.l.length-1){n=t+1;break e}}n=1e3}else n=1e3;n=sv(this,o,n),rr(t=Ka(this.F),"RID",r),rr(t,"CVER",22),this.D&&rr(t,"X-HTTP-Session-Id",this.D),Lg(this,t),this.o&&u&&Og(t,this.o,u),RT(this.i,o),this.Ra&&rr(t,"TYPE","init"),this.ja?(rr(t,"$req",n),rr(t,"SID","null"),o.$=!0,Vy(o,t,null)):Vy(o,t,n),this.G=2}}else 3==this.G&&(r?ov(this,r):0==this.l.length||UT(this.i)||ov(this))},pt.Ga=function(){if(this.u=null,qg(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=aa(Pr(this.bb,this),r)}},pt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pi(10),rv(this),qg(this))},pt.ab=function(){null!=this.v&&(this.v=null,rv(this),Fg(this),Pi(19))},pt.jb=function(r){r?(this.h.info("Successfully pinged google.com"),Pi(2)):(this.h.info("Failed to ping google.com"),Pi(1))},(pt=lv.prototype).xa=function(){},pt.wa=function(){},pt.va=function(){},pt.ua=function(){},pt.Oa=function(){},Vg.prototype.g=function(r,n){return new ro(r,n)},ii(ro,Gr),ro.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,n=this.l,t=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),Zy(Pr(r.hb,r,n))),Pi(0),r.W=n,r.aa=t||{},r.N=r.X,r.F=mp(r,null,r.W),Rg(r)},ro.prototype.close=function(){nv(this.g)},ro.prototype.u=function(r){if("string"==typeof r){var n={};n.__data__=r,iv(this.g,n)}else this.v?((n={}).__data__=np(r),iv(this.g,n)):iv(this.g,r)},ro.prototype.M=function(){this.g.j=null,delete this.j,nv(this.g),delete this.g,ro.Z.M.call(this)},ii(cv,AT),ii(zT,bg),ii(Td,lv),Td.prototype.xa=function(){yi(this.g,"a")},Td.prototype.wa=function(r){yi(this.g,new cv(r))},Td.prototype.va=function(r){yi(this.g,new zT(r))},Td.prototype.ua=function(){yi(this.g,"b")},Vg.prototype.createWebChannel=Vg.prototype.g,ro.prototype.send=ro.prototype.u,ro.prototype.open=ro.prototype.m,ro.prototype.close=ro.prototype.close,Cg.NO_ERROR=0,Cg.TIMEOUT=8,Cg.HTTP_ERROR=6,Tg.COMPLETE="complete",up.EventType=Jl,Jl.OPEN="a",Jl.CLOSE="b",Jl.ERROR="c",Jl.MESSAGE="d",Gr.prototype.listen=Gr.prototype.N,hr.prototype.listenOnce=hr.prototype.O,hr.prototype.getLastError=hr.prototype.La,hr.prototype.getLastErrorCode=hr.prototype.Da,hr.prototype.getStatus=hr.prototype.ba,hr.prototype.getResponseJson=hr.prototype.Qa,hr.prototype.getResponseText=hr.prototype.ga,hr.prototype.send=hr.prototype.ea;var Y2=za.createWebChannelTransport=function(){return new Vg},X2=za.getStatEventTarget=function(){return yg()},Bg=za.ErrorCode=Cg,DE=za.EventType=Tg,SE=za.Event=Ru,QT=za.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ex=za.FetchXmlHttpFactory=Mg,dv=za.WebChannel=up,tx=za.XhrIo=hr;const xE="@firebase/firestore";class si{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}si.UNAUTHENTICATED=new si(null),si.GOOGLE_CREDENTIALS=new si("google-credentials-uid"),si.FIRST_PARTY=new si("first-party-uid"),si.MOCK_USER=new si("mock-user");let wd="9.9.1";const ws=new Wa.Yd("@firebase/firestore");function hv(){return ws.logLevel}function Fe(r,...n){if(ws.logLevel<=Wa.in.DEBUG){const t=n.map(yp);ws.debug(`Firestore (${wd}): ${r}`,...t)}}function Bn(r,...n){if(ws.logLevel<=Wa.in.ERROR){const t=n.map(yp);ws.error(`Firestore (${wd}): ${r}`,...t)}}function bd(r,...n){if(ws.logLevel<=Wa.in.WARN){const t=n.map(yp);ws.warn(`Firestore (${wd}): ${r}`,...t)}}function yp(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(t){return r}}function lt(r="Unexpected state"){const n=`FIRESTORE (${wd}) INTERNAL ASSERTION FAILED: `+r;throw Bn(n),new Error(n)}function Mt(r,n){r||lt()}function nt(r,n){return r}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends Yt.ZR{constructor(n,t){super(n,t),this.code=n,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ai{constructor(){this.promise=new Promise((n,t)=>{this.resolve=n,this.reject=t})}}class ZE{constructor(n,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class nx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,t){n.enqueueRetryable(()=>t(si.UNAUTHENTICATED))}shutdown(){}}class KT{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,t){this.changeListener=t,n.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class NE{constructor(n){this.t=n,this.currentUser=si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,t){var i=this;let o=this.i;const u=w=>this.i!==o?(o=this.i,t(w)):Promise.resolve();let d=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new ai,n.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const w=d;n.enqueueRetryable((0,Ie.Z)(function*(){yield w.promise,yield u(i.currentUser)}))},v=w=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(w=>v(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?v(w):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new ai)}},0),g()}getToken(){const n=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==n?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Mt("string"==typeof i.accessToken),new ZE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return Mt(null===n||"string"==typeof n),new si(n)}}class ME{constructor(n,t,i){this.type="FirstParty",this.user=si.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=n.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class PE{constructor(n,t,i){this.h=n,this.l=t,this.m=i}getToken(){return Promise.resolve(new ME(this.h,this.l,this.m))}start(n,t){n.enqueueRetryable(()=>t(si.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YT{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XT{constructor(n){this.g=n,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(n,t){const i=u=>{null!=u.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.p;return this.p=u.token,Fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{n.enqueueRetryable(()=>i(u))};const o=u=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(t=>t?(Mt("string"==typeof t.token),this.p=t.token,new YT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ew(r){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}class tw{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/n.length)*n.length;let i="";for(;i.length<20;){const o=ew(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<t&&(i+=n.charAt(o[u]%n.length))}return i}}function Bt(r,n){return r<n?-1:r>n?1:0}function Ql(r,n,t){return r.length===n.length&&r.every((i,o)=>t(i,n[o]))}function jg(r){return r+"\0"}class ir{constructor(n,t){if(this.seconds=n,this.nanoseconds=t,t<0)throw new Ue(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(n<-62135596800)throw new Ue(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Ue(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return ir.fromMillis(Date.now())}static fromDate(n){return ir.fromMillis(n.getTime())}static fromMillis(n){const t=Math.floor(n/1e3),i=Math.floor(1e6*(n-1e3*t));return new ir(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Bt(this.nanoseconds,n.nanoseconds):Bt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(n){this.timestamp=n}static fromTimestamp(n){return new St(n)}static min(){return new St(new ir(0,0))}static max(){return new St(new ir(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Kl{constructor(n,t,i){void 0===t?t=0:t>n.length&&lt(),void 0===i?i=n.length-t:i>n.length-t&&lt(),this.segments=n,this.offset=t,this.len=i}get length(){return this.len}isEqual(n){return 0===Kl.comparator(this,n)}child(n){const t=this.segments.slice(this.offset,this.limit());return n instanceof Kl?n.forEach(i=>{t.push(i)}):t.push(n),this.construct(t)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==n.get(t))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==n.get(t))return!1;return!0}forEach(n){for(let t=this.offset,i=this.limit();t<i;t++)n(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,t){const i=Math.min(n.length,t.length);for(let o=0;o<i;o++){const u=n.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return n.length<t.length?-1:n.length>t.length?1:0}}class dn extends Kl{construct(n,t,i){return new dn(n,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const t=[];for(const i of n){if(i.indexOf("//")>=0)throw new Ue(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new dn(t)}static emptyPath(){return new dn([])}}const OE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Er extends Kl{construct(n,t,i){return new Er(n,t,i)}static isValidIdentifier(n){return OE.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Er.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Er(["__name__"])}static fromServerFormat(n){const t=[];let i="",o=0;const u=()=>{if(0===i.length)throw new Ue(pe.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let d=!1;for(;o<n.length;){const g=n[o];if("\\"===g){if(o+1===n.length)throw new Ue(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const v=n[o+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Ue(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=v,o+=2}else"`"===g?(d=!d,o++):"."!==g||d?(i+=g,o++):(u(),o++)}if(u(),d)throw new Ue(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Er(t)}static emptyPath(){return new Er([])}}class tt{constructor(n){this.path=n}static fromPath(n){return new tt(dn.fromString(n))}static fromName(n){return new tt(dn.fromString(n).popFirst(5))}static empty(){return new tt(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===dn.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,t){return dn.comparator(n.path,t.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new tt(new dn(n.slice()))}}class $g{constructor(n,t,i,o){this.indexId=n,this.collectionGroup=t,this.fields=i,this.indexState=o}}function fv(r){return r.fields.find(n=>2===n.kind)}function Yl(r){return r.fields.filter(n=>2!==n.kind)}$g.UNKNOWN_ID=-1;class gv{constructor(n,t){this.fieldPath=n,this.kind=t}}class Hg{constructor(n,t){this.sequenceNumber=n,this.offset=t}static empty(){return new Hg(0,Go.min())}}function RE(r,n){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(1e9===i?new ir(t+1,0):new ir(t,i));return new Go(o,tt.empty(),n)}function LE(r){return new Go(r.readTime,r.key,-1)}class Go{constructor(n,t,i){this.readTime=n,this.documentKey=t,this.largestBatchId=i}static min(){return new Go(St.min(),tt.empty(),-1)}static max(){return new Go(St.max(),tt.empty(),-1)}}function mv(r,n){let t=r.readTime.compareTo(n.readTime);return 0!==t?t:(t=tt.comparator(r.documentKey,n.documentKey),0!==t?t:Bt(r.largestBatchId,n.largestBatchId))}const FE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Xl(r){return nw.apply(this,arguments)}function nw(){return nw=(0,Ie.Z)(function*(r){if(r.code!==pe.FAILED_PRECONDITION||r.message!==FE)throw r;Fe("LocalStore","Unexpectedly lost primary lease")}),nw.apply(this,arguments)}class ce{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(n){return this.next(void 0,n)}next(n,t){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(n,this.result):new ce((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(n,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(i,o)}})}toPromise(){return new Promise((n,t)=>{this.next(n,t)})}wrapUserFunction(n){try{const t=n();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(n,t){return n?this.wrapUserFunction(()=>n(t)):ce.resolve(t)}wrapFailure(n,t){return n?this.wrapUserFunction(()=>n(t)):ce.reject(t)}static resolve(n){return new ce((t,i)=>{t(n)})}static reject(n){return new ce((t,i)=>{i(n)})}static waitFor(n){return new ce((t,i)=>{let o=0,u=0,d=!1;n.forEach(g=>{++o,g.next(()=>{++u,d&&u===o&&t()},v=>i(v))}),d=!0,u===o&&t()})}static or(n){let t=ce.resolve(!1);for(const i of n)t=t.next(o=>o?ce.resolve(o):i());return t}static forEach(n,t){const i=[];return n.forEach((o,u)=>{i.push(t.call(this,o,u))}),this.waitFor(i)}static mapArray(n,t){return new ce((i,o)=>{const u=n.length,d=new Array(u);let g=0;for(let v=0;v<u;v++){const w=v;t(n[w]).next(S=>{d[w]=S,++g,g===u&&i(d)},S=>o(S))}})}static doWhile(n,t){return new ce((i,o)=>{const u=()=>{!0===n()?t().next(()=>{u()},o):i()};u()})}}class _v{constructor(n,t){this.action=n,this.transaction=t,this.aborted=!1,this.T=new ai,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new l(n,t.error)):this.T.resolve()},this.transaction.onerror=i=>{const o=T(i.target.error);this.T.reject(new l(n,o))}}static open(n,t,i,o){try{return new _v(t,n.transaction(o,i))}catch(u){throw new l(t,u)}}get A(){return this.T.promise}abort(n){n&&this.T.reject(n),this.aborted||(Fe("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const t=this.transaction.objectStore(n);return new h(t)}}class s{constructor(n,t,i){this.name=n,this.version=t,this.P=i,12.2===s.v((0,Yt.z$)())&&Bn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Fe("SimpleDb","Removing database:",n),f(window.indexedDB.deleteDatabase(n)).toPromise()}static V(){if(!(0,Yt.hl)())return!1;if(s.S())return!0;const n=(0,Yt.z$)(),t=s.v(n),i=0<t&&t<10,o=s.D(n),u=0<o&&o<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||i||u)}static S(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.C)}static N(n,t){return n.store(t)}static v(n){const t=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(n){var t=this;return(0,Ie.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{i(d.target.result)},u.onblocked=()=>{o(new l(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const g=d.target.error;o("VersionError"===g.name?new Ue(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Ue(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new l(n,g))},u.onupgradeneeded=d=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.P.O(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=i=>t.M(i)),t.db})()}F(n){this.M=n,this.db&&(this.db.onversionchange=t=>n(t))}runTransaction(n,t,i,o){var u=this;return(0,Ie.Z)(function*(){const d="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.k(n);const v=_v.open(u.db,n,d?"readonly":"readwrite",i),w=o(v).next(S=>(v.R(),S)).catch(S=>(v.abort(S),ce.reject(S))).toPromise();return w.catch(()=>{}),yield v.A,w}catch(v){const w=v,S="FirebaseError"!==w.name&&g<3;if(Fe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",S),u.close(),!S)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class a{constructor(n){this.$=n,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(n){this.$=n}done(){this.B=!0}q(n){this.L=n}delete(){return f(this.$.delete())}}class l extends Ue{constructor(n,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function c(r){return"IndexedDbTransactionError"===r.name}class h{constructor(n){this.store=n}put(n,t){let i;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,n,t),i=this.store.put(t,n)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",n),i=this.store.put(n)),f(i)}add(n){return Fe("SimpleDb","ADD",this.store.name,n,n),f(this.store.add(n))}get(n){return f(this.store.get(n)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,n,t),t))}delete(n){return Fe("SimpleDb","DELETE",this.store.name,n),f(this.store.delete(n))}count(){return Fe("SimpleDb","COUNT",this.store.name),f(this.store.count())}K(n,t){const i=this.options(n,t);if(i.index||"function"!=typeof this.store.getAll){const o=this.cursor(i),u=[];return this.G(o,(d,g)=>{u.push(g)}).next(()=>u)}{const o=this.store.getAll(i.range);return new ce((u,d)=>{o.onerror=g=>{d(g.target.error)},o.onsuccess=g=>{u(g.target.result)}})}}j(n,t){const i=this.store.getAll(n,null===t?void 0:t);return new ce((o,u)=>{i.onerror=d=>{u(d.target.error)},i.onsuccess=d=>{o(d.target.result)}})}W(n,t){Fe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(n,t);i.H=!1;const o=this.cursor(i);return this.G(o,(u,d,g)=>g.delete())}J(n,t){let i;t?i=n:(i={},t=n);const o=this.cursor(i);return this.G(o,t)}Y(n){const t=this.cursor({});return new ce((i,o)=>{t.onerror=u=>{const d=T(u.target.error);o(d)},t.onsuccess=u=>{const d=u.target.result;d?n(d.primaryKey,d.value).next(g=>{g?d.continue():i()}):i()}})}G(n,t){const i=[];return new ce((o,u)=>{n.onerror=d=>{u(d.target.error)},n.onsuccess=d=>{const g=d.target.result;if(!g)return void o();const v=new a(g),w=t(g.primaryKey,g.value,v);if(w instanceof ce){const S=w.catch(N=>(v.done(),ce.reject(N)));i.push(S)}v.isDone?o():null===v.U?g.continue():g.continue(v.U)}}).next(()=>ce.waitFor(i))}options(n,t){let i;return void 0!==n&&("string"==typeof n?i=n:t=n),{index:i,range:t}}cursor(n){let t="next";if(n.reverse&&(t="prev"),n.index){const i=this.store.index(n.index);return n.H?i.openKeyCursor(n.range,t):i.openCursor(n.range,t)}return this.store.openCursor(n.range,t)}}function f(r){return new ce((n,t)=>{r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{const o=T(i.target.error);t(o)}})}let _=!1;function T(r){const n=s.v((0,Yt.z$)());if(n>=12.2&&n<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const i=new Ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _||(_=!0,setTimeout(()=>{throw i},0)),i}}return r}class b{constructor(n,t){this.asyncQueue=n,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(n){var t=this;Fe("IndexBackiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,Ie.Z)(function*(){t.task=null;try{Fe("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(i){c(i)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Xl(i)}yield t.Z(1)}))}}class E{constructor(n,t){this.localStore=n,this.persistence=t}tt(n=50){var t=this;return(0,Ie.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.et(i,n))})()}et(n,t){const i=new Set;let o=t,u=!0;return ce.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(d=>{if(null!==d&&!i.has(d))return Fe("IndexBackiller",`Processing collection: ${d}`),this.nt(n,d,o).next(g=>{o-=g,i.add(d)});u=!1})).next(()=>t-o)}nt(n,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,t).next(o=>this.localStore.localDocuments.getNextDocuments(n,t,o,i).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(n,d).next(()=>this.st(o,u)).next(g=>(Fe("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(n,t,g))).next(()=>d.size)}))}st(n,t){let i=n;return t.changes.forEach((o,u)=>{const d=LE(u);mv(d,i)>0&&(i=d)}),new Go(i.readTime,i.documentKey,Math.max(t.batchId,n.largestBatchId))}}class x{constructor(n,t){this.previousValue=n,t&&(t.sequenceNumberHandler=i=>this.it(i),this.rt=i=>t.writeSequenceNumber(i))}it(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.rt&&this.rt(n),n}}function U(r){let n=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&n++;return n}function W(r,n){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&n(t,r[t])}function ne(r){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n))return!1;return!0}x.ot=-1;class he{constructor(n,t){this.comparator=n,this.root=t||Be.EMPTY}insert(n,t){return new he(this.comparator,this.root.insert(n,t,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(n){return new he(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Be.BLACK,null,null))}get(n){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(n,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(n){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(n,i.key);if(0===o)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((t,i)=>(n(t,i),!1))}toString(){const n=[];return this.inorderTraversal((t,i)=>(n.push(`${t}:${i}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Re(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Re(this.root,n,this.comparator,!1)}getReverseIterator(){return new Re(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Re(this.root,n,this.comparator,!0)}}class Re{constructor(n,t,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!n.isEmpty();)if(u=t?i(n.key,t):1,t&&o&&(u*=-1),u<0)n=this.isReverse?n.left:n.right;else{if(0===u){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const t={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Be{constructor(n,t,i,o,u){this.key=n,this.value=t,this.color=null!=i?i:Be.RED,this.left=null!=o?o:Be.EMPTY,this.right=null!=u?u:Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,t,i,o,u){return new Be(null!=n?n:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,t,i){let o=this;const u=i(n,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(n,t,i),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(n,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,t){let i,o=this;if(t(n,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(n,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(n,o.key)){if(o.right.isEmpty())return Be.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(n,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,t)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const n=this.left.check();if(n!==this.right.check())throw lt();return n+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1,Be.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(r,n,t,i,o){return this}insert(r,n,t){return new Be(r,n)}remove(r,n){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(n){this.comparator=n,this.data=new he(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((t,i)=>(n(t),!1))}forEachInRange(n,t){const i=this.data.getIteratorFrom(n[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,n[1])>=0)return;t(o.key)}}forEachWhile(n,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!n(i.getNext().key))return}firstAfterOrEqual(n){const t=this.data.getIteratorFrom(n);return t.hasNext()?t.getNext().key:null}getIterator(){return new Dt(this.data.getIterator())}getIteratorFrom(n){return new Dt(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let t=this;return t.size<n.size&&(t=n,n=this),n.forEach(i=>{t=t.add(i)}),t}isEqual(n){if(!(n instanceof je)||this.size!==n.size)return!1;const t=this.data.getIterator(),i=n.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=i.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const n=[];return this.forEach(t=>{n.push(t)}),n}toString(){const n=[];return this.forEach(t=>n.push(t)),"SortedSet("+n.toString()+")"}copy(n){const t=new je(this.comparator);return t.data=n,t}}class Dt{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ze(r){return r.hasNext()?r.getNext():void 0}class ct{constructor(n){this.fields=n,n.sort(Er.comparator)}static empty(){return new ct([])}unionWith(n){let t=new je(Er.comparator);for(const i of this.fields)t=t.add(i);for(const i of n)t=t.add(i);return new ct(t.toArray())}covers(n){for(const t of this.fields)if(t.isPrefixOf(n))return!0;return!1}isEqual(n){return Ql(this.fields,n.fields,(t,i)=>t.isEqual(i))}}class qt{constructor(n){this.binaryString=n}static fromBase64String(n){const t=atob(n);return new qt(t)}static fromUint8Array(n){const t=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(n);return new qt(t)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const t=new Uint8Array(n.length);for(let i=0;i<n.length;i++)t[i]=n.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Bt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const ec=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(r){if(Mt(!!r),"string"==typeof r){let n=0;const t=ec.exec(r);if(Mt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),n=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:n}}return{seconds:Qn(r.seconds),nanos:Qn(r.nanos)}}function Qn(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Xa(r){return"string"==typeof r?qt.fromBase64String(r):qt.fromUint8Array(r)}function vp(r){var n,t;return"server_timestamp"===(null===(t=((null===(n=null==r?void 0:r.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Gg(r){const n=r.mapValue.fields.__previous_value__;return vp(n)?Gg(n):n}function tc(r){const n=ha(r.mapValue.fields.__local_write_time__.timestampValue);return new ir(n.seconds,n.nanos)}class yv{constructor(n,t,i,o,u,d,g,v){this.databaseId=n,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.useFetchStreams=v}}class bs{constructor(n,t){this.projectId=n,this.database=t||"(default)"}static empty(){return new bs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof bs&&n.projectId===this.projectId&&n.database===this.database}}function nc(r){return null==r}function vv(r){return 0===r&&1/r==-1/0}function rx(r){return"number"==typeof r&&Number.isInteger(r)&&!vv(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Ad={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},rw={nullValue:"NULL_VALUE"};function Cp(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vp(r)?4:ax(r)?9007199254740991:10:lt()}function Vu(r,n){if(r===n)return!0;const t=Cp(r);if(t!==Cp(n))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===n.booleanValue;case 4:return tc(r).isEqual(tc(n));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=ha(i.timestampValue),d=ha(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(r,n);case 5:return r.stringValue===n.stringValue;case 6:return o=n,Xa(r.bytesValue).isEqual(Xa(o.bytesValue));case 7:return r.referenceValue===n.referenceValue;case 8:return function(i,o){return Qn(i.geoPointValue.latitude)===Qn(o.geoPointValue.latitude)&&Qn(i.geoPointValue.longitude)===Qn(o.geoPointValue.longitude)}(r,n);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Qn(i.integerValue)===Qn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=Qn(i.doubleValue),d=Qn(o.doubleValue);return u===d?vv(u)===vv(d):isNaN(u)&&isNaN(d)}return!1}(r,n);case 9:return Ql(r.arrayValue.values||[],n.arrayValue.values||[],Vu);case 10:return function(i,o){const u=i.mapValue.fields||{},d=o.mapValue.fields||{};if(U(u)!==U(d))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===d[g]||!Vu(u[g],d[g])))return!1;return!0}(r,n);default:return lt()}var o}function Cv(r,n){return void 0!==(r.values||[]).find(t=>Vu(t,n))}function Id(r,n){if(r===n)return 0;const t=Cp(r),i=Cp(n);if(t!==i)return Bt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bt(r.booleanValue,n.booleanValue);case 2:return function(o,u){const d=Qn(o.integerValue||o.doubleValue),g=Qn(u.integerValue||u.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(r,n);case 3:return ix(r.timestampValue,n.timestampValue);case 4:return ix(tc(r),tc(n));case 5:return Bt(r.stringValue,n.stringValue);case 6:return function(o,u){const d=Xa(o),g=Xa(u);return d.compareTo(g)}(r.bytesValue,n.bytesValue);case 7:return function(o,u){const d=o.split("/"),g=u.split("/");for(let v=0;v<d.length&&v<g.length;v++){const w=Bt(d[v],g[v]);if(0!==w)return w}return Bt(d.length,g.length)}(r.referenceValue,n.referenceValue);case 8:return function(o,u){const d=Bt(Qn(o.latitude),Qn(u.latitude));return 0!==d?d:Bt(Qn(o.longitude),Qn(u.longitude))}(r.geoPointValue,n.geoPointValue);case 9:return function(o,u){const d=o.values||[],g=u.values||[];for(let v=0;v<d.length&&v<g.length;++v){const w=Id(d[v],g[v]);if(w)return w}return Bt(d.length,g.length)}(r.arrayValue,n.arrayValue);case 10:return function(o,u){if(o===Ad.mapValue&&u===Ad.mapValue)return 0;if(o===Ad.mapValue)return 1;if(u===Ad.mapValue)return-1;const d=o.fields||{},g=Object.keys(d),v=u.fields||{},w=Object.keys(v);g.sort(),w.sort();for(let S=0;S<g.length&&S<w.length;++S){const N=Bt(g[S],w[S]);if(0!==N)return N;const R=Id(d[g[S]],v[w[S]]);if(0!==R)return R}return Bt(g.length,w.length)}(r.mapValue,n.mapValue);default:throw lt()}}function ix(r,n){if("string"==typeof r&&"string"==typeof n&&r.length===n.length)return Bt(r,n);const t=ha(r),i=ha(n),o=Bt(t.seconds,i.seconds);return 0!==o?o:Bt(t.nanos,i.nanos)}function Jg(r){return VE(r)}function VE(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const o=ha(i);return`time(${o.seconds},${o.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Xa(r.bytesValue).toBase64():"referenceValue"in r?tt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(n=r.geoPointValue).latitude},${n.longitude})`:"arrayValue"in r?function(i){let o="[",u=!0;for(const d of i.values||[])u?u=!1:o+=",",o+=VE(d);return o+"]"}(r.arrayValue):"mapValue"in r?function(i){const o=Object.keys(i.fields||{}).sort();let u="{",d=!0;for(const g of o)d?d=!1:u+=",",u+=`${g}:${VE(i.fields[g])}`;return u+"}"}(r.mapValue):lt();var n}function Tp(r,n){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${n.path.canonicalString()}`}}function BE(r){return!!r&&"integerValue"in r}function Tv(r){return!!r&&"arrayValue"in r}function ox(r){return!!r&&"nullValue"in r}function sx(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function iw(r){return!!r&&"mapValue"in r}function wv(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const n={mapValue:{fields:{}}};return W(r.mapValue.fields,(t,i)=>n.mapValue.fields[t]=wv(i)),n}if(r.arrayValue){const n={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)n.arrayValue.values[t]=wv(r.arrayValue.values[t]);return n}return Object.assign({},r)}function ax(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function nM(r){return"nullValue"in r?rw:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Tp(bs.empty(),tt.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:lt()}function rM(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Tp(bs.empty(),tt.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Ad:lt()}function ux(r,n){const t=Id(r.value,n.value);return 0!==t?t:r.inclusive&&!n.inclusive?-1:!r.inclusive&&n.inclusive?1:0}function lx(r,n){const t=Id(r.value,n.value);return 0!==t?t:r.inclusive&&!n.inclusive?1:!r.inclusive&&n.inclusive?-1:0}class Ui{constructor(n){this.value=n}static empty(){return new Ui({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let t=this.value;for(let i=0;i<n.length-1;++i)if(t=(t.mapValue.fields||{})[n.get(i)],!iw(t))return null;return t=(t.mapValue.fields||{})[n.lastSegment()],t||null}}set(n,t){this.getFieldsMap(n.popLast())[n.lastSegment()]=wv(t)}setAll(n){let t=Er.emptyPath(),i={},o=[];n.forEach((d,g)=>{if(!t.isImmediateParentOf(g)){const v=this.getFieldsMap(t);this.applyChanges(v,i,o),i={},o=[],t=g.popLast()}d?i[g.lastSegment()]=wv(d):o.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,i,o)}delete(n){const t=this.field(n.popLast());iw(t)&&t.mapValue.fields&&delete t.mapValue.fields[n.lastSegment()]}isEqual(n){return Vu(this.value,n.value)}getFieldsMap(n){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<n.length;++i){let o=t.mapValue.fields[n.get(i)];iw(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[n.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(n,t,i){W(t,(o,u)=>n[o]=u);for(const o of i)delete n[o]}clone(){return new Ui(wv(this.value))}}function cx(r){const n=[];return W(r.fields,(t,i)=>{const o=new Er([t]);if(iw(i)){const u=cx(i.mapValue).fields;if(0===u.length)n.push(o);else for(const d of u)n.push(o.child(d))}else n.push(o)}),new ct(n)}class Kn{constructor(n,t,i,o,u,d){this.key=n,this.documentType=t,this.version=i,this.readTime=o,this.data=u,this.documentState=d}static newInvalidDocument(n){return new Kn(n,0,St.min(),St.min(),Ui.empty(),0)}static newFoundDocument(n,t,i){return new Kn(n,1,t,St.min(),i,0)}static newNoDocument(n,t){return new Kn(n,2,t,St.min(),Ui.empty(),0)}static newUnknownDocument(n,t){return new Kn(n,3,t,St.min(),Ui.empty(),2)}convertToFoundDocument(n,t){return this.version=n,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Ui.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Kn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class iM{constructor(n,t=null,i=[],o=[],u=null,d=null,g=null){this.path=n,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=d,this.endAt=g,this.ut=null}}function dx(r,n=null,t=[],i=[],o=null,u=null,d=null){return new iM(r,n,t,i,o,u,d)}function wp(r){const n=nt(r);if(null===n.ut){let t=n.path.canonicalString();null!==n.collectionGroup&&(t+="|cg:"+n.collectionGroup),t+="|f:",t+=n.filters.map(i=>{return(o=i).field.canonicalString()+o.op.toString()+Jg(o.value);var o}).join(","),t+="|ob:",t+=n.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),nc(n.limit)||(t+="|l:",t+=n.limit),n.startAt&&(t+="|lb:",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(i=>Jg(i)).join(",")),n.endAt&&(t+="|ub:",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(i=>Jg(i)).join(",")),n.ut=t}return n.ut}function bv(r,n){if(r.limit!==n.limit||r.orderBy.length!==n.orderBy.length)return!1;for(let o=0;o<r.orderBy.length;o++)if(!pM(r.orderBy[o],n.orderBy[o]))return!1;if(r.filters.length!==n.filters.length)return!1;for(let o=0;o<r.filters.length;o++)if((t=r.filters[o]).op!==(i=n.filters[o]).op||!t.field.isEqual(i.field)||!Vu(t.value,i.value))return!1;var t,i;return r.collectionGroup===n.collectionGroup&&!!r.path.isEqual(n.path)&&!!mx(r.startAt,n.startAt)&&mx(r.endAt,n.endAt)}function ow(r){return tt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function sw(r,n){return r.filters.filter(t=>t instanceof Oi&&t.field.isEqual(n))}function hx(r,n,t){let i=rw,o=!0;for(const u of sw(r,n)){let d=rw,g=!0;switch(u.op){case"<":case"<=":d=nM(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,g=!1;break;case"!=":case"not-in":d=rw}ux({value:i,inclusive:o},{value:d,inclusive:g})<0&&(i=d,o=g)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(n)){const d=t.position[u];ux({value:i,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(i=d,o=t.inclusive);break}return{value:i,inclusive:o}}function px(r,n,t){let i=Ad,o=!0;for(const u of sw(r,n)){let d=Ad,g=!0;switch(u.op){case">=":case">":d=rM(u.value),g=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,g=!1;break;case"!=":case"not-in":d=Ad}lx({value:i,inclusive:o},{value:d,inclusive:g})>0&&(i=d,o=g)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(n)){const d=t.position[u];lx({value:i,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(i=d,o=t.inclusive);break}return{value:i,inclusive:o}}class Oi extends class{}{constructor(n,t,i){super(),this.field=n,this.op=t,this.value=i}static create(n,t,i){return n.isKeyField()?"in"===t||"not-in"===t?this.ct(n,t,i):new sM(n,t,i):"array-contains"===t?new lM(n,i):"in"===t?new cM(n,i):"not-in"===t?new dM(n,i):"array-contains-any"===t?new hM(n,i):new Oi(n,t,i)}static ct(n,t,i){return"in"===t?new aM(n,i):new uM(n,i)}matches(n){const t=n.data.field(this.field);return"!="===this.op?null!==t&&this.at(Id(t,this.value)):null!==t&&Cp(this.value)===Cp(t)&&this.at(Id(t,this.value))}at(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return lt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class sM extends Oi{constructor(n,t,i){super(n,t,i),this.key=tt.fromName(i.referenceValue)}matches(n){const t=tt.comparator(n.key,this.key);return this.at(t)}}class aM extends Oi{constructor(n,t){super(n,"in",t),this.keys=fx(0,t)}matches(n){return this.keys.some(t=>t.isEqual(n.key))}}class uM extends Oi{constructor(n,t){super(n,"not-in",t),this.keys=fx(0,t)}matches(n){return!this.keys.some(t=>t.isEqual(n.key))}}function fx(r,n){var t;return((null===(t=n.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>tt.fromName(i.referenceValue))}class lM extends Oi{constructor(n,t){super(n,"array-contains",t)}matches(n){const t=n.data.field(this.field);return Tv(t)&&Cv(t.arrayValue,this.value)}}class cM extends Oi{constructor(n,t){super(n,"in",t)}matches(n){const t=n.data.field(this.field);return null!==t&&Cv(this.value.arrayValue,t)}}class dM extends Oi{constructor(n,t){super(n,"not-in",t)}matches(n){if(Cv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=n.data.field(this.field);return null!==t&&!Cv(this.value.arrayValue,t)}}class hM extends Oi{constructor(n,t){super(n,"array-contains-any",t)}matches(n){const t=n.data.field(this.field);return!(!Tv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Cv(this.value.arrayValue,i))}}class Ed{constructor(n,t){this.position=n,this.inclusive=t}}class Wg{constructor(n,t="asc"){this.field=n,this.dir=t}}function pM(r,n){return r.dir===n.dir&&r.field.isEqual(n.field)}function gx(r,n,t){let i=0;for(let o=0;o<r.position.length;o++){const u=n[o],d=r.position[o];if(i=u.field.isKeyField()?tt.comparator(tt.fromName(d.referenceValue),t.key):Id(d,t.data.field(u.field)),"desc"===u.dir&&(i*=-1),0!==i)break}return i}function mx(r,n){if(null===r)return null===n;if(null===n||r.inclusive!==n.inclusive||r.position.length!==n.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Vu(r.position[t],n.position[t]))return!1;return!0}class rc{constructor(n,t=null,i=[],o=[],u=null,d="F",g=null,v=null){this.path=n,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=v,this.lt=null,this.ft=null}}function _x(r,n,t,i,o,u,d,g){return new rc(r,n,t,i,o,u,d,g)}function zg(r){return new rc(r)}function jE(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function $E(r){for(const n of r.filters)if(n.ht())return n.field;return null}function HE(r){return null!==r.collectionGroup}function Qg(r){const n=nt(r);if(null===n.lt){n.lt=[];const t=$E(n),i=jE(n);if(null!==t&&null===i)t.isKeyField()||n.lt.push(new Wg(t)),n.lt.push(new Wg(Er.keyField(),"asc"));else{let o=!1;for(const u of n.explicitOrderBy)n.lt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.lt.push(new Wg(Er.keyField(),u))}}}return n.lt}function pa(r){const n=nt(r);if(!n.ft)if("F"===n.limitType)n.ft=dx(n.path,n.collectionGroup,Qg(n),n.filters,n.limit,n.startAt,n.endAt);else{const t=[];for(const u of Qg(n))t.push(new Wg(u.field,"desc"===u.dir?"asc":"desc"));const i=n.endAt?new Ed(n.endAt.position,n.endAt.inclusive):null,o=n.startAt?new Ed(n.startAt.position,n.startAt.inclusive):null;n.ft=dx(n.path,n.collectionGroup,t,n.filters,n.limit,i,o)}return n.ft}function yx(r,n,t){return new rc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),n,t,r.startAt,r.endAt)}function Av(r,n){return bv(pa(r),pa(n))&&r.limitType===n.limitType}function vx(r){return`${wp(pa(r))}|lt:${r.limitType}`}function GE(r){return`Query(target=${function oM(r){let n=r.path.canonicalString();return null!==r.collectionGroup&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Jg(i.value)}`;var i}).join(", ")}]`),nc(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(t=>Jg(t)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(t=>Jg(t)).join(",")),`Target(${n})`}(pa(r))}; limitType=${r.limitType})`}function JE(r,n){return n.isFoundDocument()&&function(t,i){const o=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):tt.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(r,n)&&function(t,i){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(r,n)&&function(t,i){for(const o of t.filters)if(!o.matches(i))return!1;return!0}(r,n)&&(i=n,!((t=r).startAt&&!function(o,u,d){const g=gx(o,u,d);return o.inclusive?g<=0:g<0}(t.startAt,Qg(t),i)||t.endAt&&!function(o,u,d){const g=gx(o,u,d);return o.inclusive?g>=0:g>0}(t.endAt,Qg(t),i)));var t,i}function Cx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Tx(r){return(n,t)=>{let i=!1;for(const o of Qg(r)){const u=gM(o,n,t);if(0!==u)return u;i=i||o.field.isKeyField()}return 0}}function gM(r,n,t){const i=r.field.isKeyField()?tt.comparator(n.key,t.key):function(o,u,d){const g=u.data.field(o),v=d.data.field(o);return null!==g&&null!==v?Id(g,v):lt()}(r.field,n,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return lt()}}function wx(r,n){if(r.dt){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vv(n)?"-0":n}}function bx(r){return{integerValue:""+r}}function Ax(r,n){return rx(n)?bx(n):wx(r,n)}class aw{constructor(){this._=void 0}}function mM(r,n,t){return r instanceof Kg?function(i,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,n):r instanceof bp?Ex(r,n):r instanceof Ap?Dx(r,n):function(i,o){const u=Ix(i,o),d=Sx(u)+Sx(i._t);return BE(u)&&BE(i._t)?bx(d):wx(i.wt,d)}(r,n)}function _M(r,n,t){return r instanceof bp?Ex(r,n):r instanceof Ap?Dx(r,n):t}function Ix(r,n){return r instanceof Yg?BE(t=n)||(i=t)&&"doubleValue"in i?n:{integerValue:0}:null;var i,t}class Kg extends aw{}class bp extends aw{constructor(n){super(),this.elements=n}}function Ex(r,n){const t=xx(n);for(const i of r.elements)t.some(o=>Vu(o,i))||t.push(i);return{arrayValue:{values:t}}}class Ap extends aw{constructor(n){super(),this.elements=n}}function Dx(r,n){let t=xx(n);for(const i of r.elements)t=t.filter(o=>!Vu(o,i));return{arrayValue:{values:t}}}class Yg extends aw{constructor(n,t){super(),this.wt=n,this._t=t}}function Sx(r){return Qn(r.integerValue||r.doubleValue)}function xx(r){return Tv(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Iv{constructor(n,t){this.field=n,this.transform=t}}class vM{constructor(n,t){this.version=n,this.transformResults=t}}class yr{constructor(n,t){this.updateTime=n,this.exists=t}static none(){return new yr}static exists(n){return new yr(void 0,n)}static updateTime(n){return new yr(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function uw(r,n){return void 0!==r.updateTime?n.isFoundDocument()&&n.version.isEqual(r.updateTime):void 0===r.exists||r.exists===n.isFoundDocument()}class lw{}function kx(r,n){if(!r.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return r.isNoDocument()?new em(r.key,yr.none()):new Xg(r.key,r.data,yr.none());{const t=r.data,i=Ui.empty();let o=new je(Er.comparator);for(let u of n.fields)if(!o.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?i.delete(u):i.set(u,d),o=o.add(u)}return new ic(r.key,i,new ct(o.toArray()),yr.none())}}function CM(r,n,t){r instanceof Xg?function(i,o,u){const d=i.value.clone(),g=Mx(i.fieldTransforms,o,u.transformResults);d.setAll(g),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(r,n,t):r instanceof ic?function(i,o,u){if(!uw(i.precondition,o))return void o.convertToUnknownDocument(u.version);const d=Mx(i.fieldTransforms,o,u.transformResults),g=o.data;g.setAll(Nx(i)),g.setAll(d),o.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(r,n,t):n.convertToNoDocument(t.version).setHasCommittedMutations()}function Ev(r,n,t,i){return r instanceof Xg?function(o,u,d,g){if(!uw(o.precondition,u))return d;const v=o.value.clone(),w=Px(o.fieldTransforms,g,u);return v.setAll(w),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null}(r,n,t,i):r instanceof ic?function(o,u,d,g){if(!uw(o.precondition,u))return d;const v=Px(o.fieldTransforms,g,u),w=u.data;return w.setAll(Nx(o)),w.setAll(v),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(S=>S.field))}(r,n,t,i):(d=t,uw(r.precondition,u=n)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function TM(r,n){let t=null;for(const i of r.fieldTransforms){const o=n.data.field(i.field),u=Ix(i.transform,o||null);null!=u&&(null===t&&(t=Ui.empty()),t.set(i.field,u))}return t||null}function Zx(r,n){return r.type===n.type&&!!r.key.isEqual(n.key)&&!!r.precondition.isEqual(n.precondition)&&(i=n.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===i||t&&i&&Ql(t,i,(o,u)=>function yM(r,n){return r.field.isEqual(n.field)&&(i=n.transform,(t=r.transform)instanceof bp&&i instanceof bp||t instanceof Ap&&i instanceof Ap?Ql(t.elements,i.elements,Vu):t instanceof Yg&&i instanceof Yg?Vu(t._t,i._t):t instanceof Kg&&i instanceof Kg);var t,i}(o,u))))&&(0===r.type?r.value.isEqual(n.value):1!==r.type||r.data.isEqual(n.data)&&r.fieldMask.isEqual(n.fieldMask));var t,i}class Xg extends lw{constructor(n,t,i,o=[]){super(),this.key=n,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ic extends lw{constructor(n,t,i,o,u=[]){super(),this.key=n,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Nx(r){const n=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=r.data.field(t);n.set(t,i)}}),n}function Mx(r,n,t){const i=new Map;Mt(r.length===t.length);for(let o=0;o<t.length;o++){const u=r[o],d=u.transform,g=n.data.field(u.field);i.set(u.field,_M(d,g,t[o]))}return i}function Px(r,n,t){const i=new Map;for(const o of r){const u=o.transform,d=t.data.field(o.field);i.set(o.field,mM(u,d,n))}return i}class em extends lw{constructor(n,t){super(),this.key=n,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WE extends lw{constructor(n,t){super(),this.key=n,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wM{constructor(n){this.count=n}}var Jr,vn;function Ux(r){switch(r){default:return lt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function Ox(r){if(void 0===r)return Bn("GRPC error has no .code"),pe.UNKNOWN;switch(r){case Jr.OK:return pe.OK;case Jr.CANCELLED:return pe.CANCELLED;case Jr.UNKNOWN:return pe.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return pe.INTERNAL;case Jr.UNAVAILABLE:return pe.UNAVAILABLE;case Jr.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Jr.NOT_FOUND:return pe.NOT_FOUND;case Jr.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Jr.ABORTED:return pe.ABORTED;case Jr.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Jr.DATA_LOSS:return pe.DATA_LOSS;default:return lt()}}(vn=Jr||(Jr={}))[vn.OK=0]="OK",vn[vn.CANCELLED=1]="CANCELLED",vn[vn.UNKNOWN=2]="UNKNOWN",vn[vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vn[vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vn[vn.NOT_FOUND=5]="NOT_FOUND",vn[vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",vn[vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",vn[vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",vn[vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vn[vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vn[vn.ABORTED=10]="ABORTED",vn[vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",vn[vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",vn[vn.INTERNAL=13]="INTERNAL",vn[vn.UNAVAILABLE=14]="UNAVAILABLE",vn[vn.DATA_LOSS=15]="DATA_LOSS";class Dd{constructor(n,t){this.mapKeyFn=n,this.equalsFn=t,this.inner={},this.innerSize=0}get(n){const t=this.mapKeyFn(n),i=this.inner[t];if(void 0!==i)for(const[o,u]of i)if(this.equalsFn(o,n))return u}has(n){return void 0!==this.get(n)}set(n,t){const i=this.mapKeyFn(n),o=this.inner[i];if(void 0===o)return this.inner[i]=[[n,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],n))return void(o[u]=[n,t]);o.push([n,t]),this.innerSize++}delete(n){const t=this.mapKeyFn(n),i=this.inner[t];if(void 0===i)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],n))return 1===i.length?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(n){W(this.inner,(t,i)=>{for(const[o,u]of i)n(o,u)})}isEmpty(){return ne(this.inner)}size(){return this.innerSize}}const bM=new he(tt.comparator);function Jo(){return bM}const Rx=new he(tt.comparator);function Dv(...r){let n=Rx;for(const t of r)n=n.insert(t.key,t);return n}function Lx(r){let n=Rx;return r.forEach((t,i)=>n=n.insert(t,i.overlayedDocument)),n}function Bu(){return Sv()}function Fx(){return Sv()}function Sv(){return new Dd(r=>r.toString(),(r,n)=>r.isEqual(n))}const AM=new he(tt.comparator),IM=new je(tt.comparator);function Wt(...r){let n=IM;for(const t of r)n=n.add(t);return n}const EM=new je(Bt);function cw(){return EM}class xv{constructor(n,t,i,o,u){this.snapshotVersion=n,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(n,t){const i=new Map;return i.set(n,kv.createSynthesizedTargetChangeForCurrentChange(n,t)),new xv(St.min(),i,cw(),Jo(),Wt())}}class kv{constructor(n,t,i,o,u){this.resumeToken=n,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(n,t){return new kv(qt.EMPTY_BYTE_STRING,t,Wt(),Wt(),Wt())}}class dw{constructor(n,t,i,o){this.gt=n,this.removedTargetIds=t,this.key=i,this.yt=o}}class qx{constructor(n,t){this.targetId=n,this.It=t}}class Vx{constructor(n,t,i=qt.EMPTY_BYTE_STRING,o=null){this.state=n,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Bx{constructor(){this.Tt=0,this.Et=$x(),this.At=qt.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(n){n.approximateByteSize()>0&&(this.bt=!0,this.At=n)}St(){let n=Wt(),t=Wt(),i=Wt();return this.Et.forEach((o,u)=>{switch(u){case 0:n=n.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:lt()}}),new kv(this.At,this.Rt,n,t,i)}Dt(){this.bt=!1,this.Et=$x()}Ct(n,t){this.bt=!0,this.Et=this.Et.insert(n,t)}xt(n){this.bt=!0,this.Et=this.Et.remove(n)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class DM{constructor(n){this.Mt=n,this.Ft=new Map,this.$t=Jo(),this.Bt=jx(),this.Lt=new je(Bt)}Ut(n){for(const t of n.gt)n.yt&&n.yt.isFoundDocument()?this.qt(t,n.yt):this.Kt(t,n.key,n.yt);for(const t of n.removedTargetIds)this.Kt(t,n.key,n.yt)}Gt(n){this.forEachTarget(n,t=>{const i=this.Qt(t);switch(n.state){case 0:this.jt(t)&&i.Vt(n.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(n.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(i.Ot(),i.Vt(n.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),i.Vt(n.resumeToken));break;default:lt()}})}forEachTarget(n,t){n.targetIds.length>0?n.targetIds.forEach(t):this.Ft.forEach((i,o)=>{this.jt(o)&&t(o)})}zt(n){const t=n.targetId,i=n.It.count,o=this.Ht(t);if(o){const u=o.target;if(ow(u))if(0===i){const d=new tt(u.path);this.Kt(t,d,Kn.newNoDocument(d,St.min()))}else Mt(1===i);else this.Jt(t)!==i&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(n){const t=new Map;this.Ft.forEach((u,d)=>{const g=this.Ht(d);if(g){if(u.current&&ow(g.target)){const v=new tt(g.target.path);null!==this.$t.get(v)||this.Xt(d,v)||this.Kt(d,v,Kn.newNoDocument(v,n))}u.vt&&(t.set(d,u.St()),u.Dt())}});let i=Wt();this.Bt.forEach((u,d)=>{let g=!0;d.forEachWhile(v=>{const w=this.Ht(v);return!w||2===w.purpose||(g=!1,!1)}),g&&(i=i.add(u))}),this.$t.forEach((u,d)=>d.setReadTime(n));const o=new xv(n,t,this.Lt,this.$t,i);return this.$t=Jo(),this.Bt=jx(),this.Lt=new je(Bt),o}qt(n,t){if(!this.jt(n))return;const i=this.Xt(n,t.key)?2:0;this.Qt(n).Ct(t.key,i),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(n))}Kt(n,t,i){if(!this.jt(n))return;const o=this.Qt(n);this.Xt(n,t)?o.Ct(t,1):o.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(n)),i&&(this.$t=this.$t.insert(t,i))}removeTarget(n){this.Ft.delete(n)}Jt(n){const t=this.Qt(n).St();return this.Mt.getRemoteKeysForTarget(n).size+t.addedDocuments.size-t.removedDocuments.size}Nt(n){this.Qt(n).Nt()}Qt(n){let t=this.Ft.get(n);return t||(t=new Bx,this.Ft.set(n,t)),t}Zt(n){let t=this.Bt.get(n);return t||(t=new je(Bt),this.Bt=this.Bt.insert(n,t)),t}jt(n){const t=null!==this.Ht(n);return t||Fe("WatchChangeAggregator","Detected inactive target",n),t}Ht(n){const t=this.Ft.get(n);return t&&t.Pt?null:this.Mt.te(n)}Wt(n){this.Ft.set(n,new Bx),this.Mt.getRemoteKeysForTarget(n).forEach(t=>{this.Kt(n,t,null)})}Xt(n,t){return this.Mt.getRemoteKeysForTarget(n).has(t)}}function jx(){return new he(tt.comparator)}function $x(){return new he(tt.comparator)}const SM={asc:"ASCENDING",desc:"DESCENDING"},xM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class kM{constructor(n,t){this.databaseId=n,this.dt=t}}function Zv(r,n){return r.dt?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Hx(r,n){return r.dt?n.toBase64():n.toUint8Array()}function ZM(r,n){return Zv(r,n.toTimestamp())}function Ci(r){return Mt(!!r),St.fromTimestamp(function(n){const t=ha(n);return new ir(t.seconds,t.nanos)}(r))}function zE(r,n){return(t=r,new dn(["projects",t.projectId,"databases",t.database])).child("documents").child(n).canonicalString();var t}function Gx(r){const n=dn.fromString(r);return Mt(tk(n)),n}function Nv(r,n){return zE(r.databaseId,n.path)}function ju(r,n){const t=Gx(n);if(t.get(1)!==r.databaseId.projectId)throw new Ue(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ue(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new tt(Wx(t))}function QE(r,n){return zE(r.databaseId,n)}function Jx(r){const n=Gx(r);return 4===n.length?dn.emptyPath():Wx(n)}function Mv(r){return new dn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Wx(r){return Mt(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function zx(r,n,t){return{name:Nv(r,n),fields:t.value.mapValue.fields}}function Qx(r,n,t){const i=ju(r,n.name),o=Ci(n.updateTime),u=new Ui({mapValue:{fields:n.fields}}),d=Kn.newFoundDocument(i,o,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Pv(r,n){let t;if(n instanceof Xg)t={update:zx(r,n.key,n.value)};else if(n instanceof em)t={delete:Nv(r,n.key)};else if(n instanceof ic)t={update:zx(r,n.key,n.data),updateMask:qM(n.fieldMask)};else{if(!(n instanceof WE))return lt();t={verify:Nv(r,n.key)}}return n.fieldTransforms.length>0&&(t.updateTransforms=n.fieldTransforms.map(i=>function(o,u){const d=u.transform;if(d instanceof Kg)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof bp)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ap)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Yg)return{fieldPath:u.field.canonicalString(),increment:d._t};throw lt()}(0,i))),n.precondition.isNone||(t.currentDocument=void 0!==(o=n.precondition).updateTime?{updateTime:ZM(r,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:lt()),t;var o}function KE(r,n){const t=n.currentDocument?void 0!==(o=n.currentDocument).updateTime?yr.updateTime(Ci(o.updateTime)):void 0!==o.exists?yr.exists(o.exists):yr.none():yr.none(),i=n.updateTransforms?n.updateTransforms.map(o=>function(u,d){let g=null;"setToServerValue"in d?(Mt("REQUEST_TIME"===d.setToServerValue),g=new Kg):"appendMissingElements"in d?g=new bp(d.appendMissingElements.values||[]):"removeAllFromArray"in d?g=new Ap(d.removeAllFromArray.values||[]):"increment"in d?g=new Yg(u,d.increment):lt();const v=Er.fromServerFormat(d.fieldPath);return new Iv(v,g)}(r,o)):[];var o;if(n.update){const o=ju(r,n.update.name),u=new Ui({mapValue:{fields:n.update.fields}});if(n.updateMask){const d=new ct((n.updateMask.fieldPaths||[]).map(w=>Er.fromServerFormat(w)));return new ic(o,u,d,t,i)}return new Xg(o,u,t,i)}if(n.delete){const o=ju(r,n.delete);return new em(o,t)}if(n.verify){const o=ju(r,n.verify);return new WE(o,t)}return lt()}function Kx(r,n){return{documents:[QE(r,n.path)]}}function Yx(r,n){const t={structuredQuery:{}},i=n.path;null!==n.collectionGroup?(t.parent=QE(r,i),t.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(t.parent=QE(r,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const o=function(v){if(0===v.length)return;const w=v.map(S=>function(N){if("=="===N.op){if(sx(N.value))return{unaryFilter:{field:tm(N.field),op:"IS_NAN"}};if(ox(N.value))return{unaryFilter:{field:tm(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(sx(N.value))return{unaryFilter:{field:tm(N.field),op:"IS_NOT_NAN"}};if(ox(N.value))return{unaryFilter:{field:tm(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tm(N.field),op:RM(N.op),value:N.value}}}(S));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(n.filters);o&&(t.structuredQuery.where=o);const u=function(v){if(0!==v.length)return v.map(w=>{return{field:tm((S=w).field),direction:OM(S.dir)};var S})}(n.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(w=n.limit,r.dt||nc(w)?w:{value:w});var w,g,v;return null!==d&&(t.structuredQuery.limit=d),n.startAt&&(t.structuredQuery.startAt={before:(g=n.startAt).inclusive,values:g.position}),n.endAt&&(t.structuredQuery.endAt={before:!(v=n.endAt).inclusive,values:v.position}),t}function Xx(r){let n=Jx(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Mt(1===i);const S=t.from[0];S.allDescendants?o=S.collectionId:n=n.child(S.collectionId)}let u=[];t.where&&(u=ek(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(S=>{return new Wg(nm((N=S).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let g=null;t.limit&&(g=function(S){let N;return N="object"==typeof S?S.value:S,nc(N)?null:N}(t.limit));let v=null;var S;t.startAt&&(v=new Ed((S=t.startAt).values||[],!!S.before));let w=null;return t.endAt&&(w=function(S){return new Ed(S.values||[],!S.before)}(t.endAt)),_x(n,o,d,u,g,"F",v,w)}function ek(r){return r?void 0!==r.unaryFilter?[FM(r)]:void 0!==r.fieldFilter?[LM(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(n=>ek(n)).reduce((n,t)=>n.concat(t)):lt():[]}function OM(r){return SM[r]}function RM(r){return xM[r]}function tm(r){return{fieldPath:r.canonicalString()}}function nm(r){return Er.fromServerFormat(r.fieldPath)}function LM(r){return Oi.create(nm(r.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(r.fieldFilter.op),r.fieldFilter.value)}function FM(r){switch(r.unaryFilter.op){case"IS_NAN":const n=nm(r.unaryFilter.field);return Oi.create(n,"==",{doubleValue:NaN});case"IS_NULL":const t=nm(r.unaryFilter.field);return Oi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=nm(r.unaryFilter.field);return Oi.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=nm(r.unaryFilter.field);return Oi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}function qM(r){const n=[];return r.fields.forEach(t=>n.push(t.canonicalString())),{fieldPaths:n}}function tk(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function wo(r){let n="";for(let t=0;t<r.length;t++)n.length>0&&(n=nk(n)),n=VM(r.get(t),n);return nk(n)}function VM(r,n){let t=n;const i=r.length;for(let o=0;o<i;o++){const u=r.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function nk(r){return r+"\x01\x01"}function $u(r){const n=r.length;if(Mt(n>=2),2===n)return Mt("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),dn.emptyPath();const t=n-2,i=[];let o="";for(let u=0;u<n;){const d=r.indexOf("\x01",u);switch((d<0||d>t)&&lt(),r.charAt(d+1)){case"\x01":const g=r.substring(u,d);let v;0===o.length?v=g:(o+=g,v=o,o=""),i.push(v);break;case"\x10":o+=r.substring(u,d),o+="\0";break;case"\x11":o+=r.substring(u,d+1);break;default:lt()}u=d+2}return new dn(i)}const rk=["userId","batchId"];function hw(r,n){return[r,wo(n)]}function ik(r,n,t){return[r,wo(n),t]}const BM={},jM=["prefixPath","collectionGroup","readTime","documentId"],$M=["prefixPath","collectionGroup","documentId"],HM=["collectionGroup","readTime","prefixPath","documentId"],GM=["canonicalId","targetId"],JM=["targetId","path"],WM=["path","targetId"],zM=["collectionId","parent"],QM=["indexId","uid"],KM=["uid","sequenceNumber"],YM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],XM=["indexId","uid","orderedDocumentKey"],eP=["userId","collectionPath","documentId"],tP=["userId","collectionPath","largestBatchId"],nP=["userId","collectionGroup","largestBatchId"],ok=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rP=[...ok,"documentOverlays"],sk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ak=sk,iP=[...ak,"indexConfiguration","indexState","indexEntries"];class YE extends qE{constructor(n,t){super(),this.ee=n,this.currentSequenceNumber=t}}function Ti(r,n){const t=nt(r);return s.N(t.ee,n)}class XE{constructor(n,t,i,o){this.batchId=n,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(n,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(n.key)&&CM(u,n,i[o])}}applyToLocalView(n,t){for(const i of this.baseMutations)i.key.isEqual(n.key)&&(t=Ev(i,n,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(n.key)&&(t=Ev(i,n,t,this.localWriteTime));return t}applyToLocalDocumentSet(n,t){const i=Fx();return this.mutations.forEach(o=>{const u=n.get(o.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=t.has(o.key)?null:g;const v=kx(d,g);null!==v&&i.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(St.min())}),i}keys(){return this.mutations.reduce((n,t)=>n.add(t.key),Wt())}isEqual(n){return this.batchId===n.batchId&&Ql(this.mutations,n.mutations,(t,i)=>Zx(t,i))&&Ql(this.baseMutations,n.baseMutations,(t,i)=>Zx(t,i))}}class eD{constructor(n,t,i,o){this.batch=n,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(n,t,i){Mt(n.mutations.length===i.length);let o=AM;const u=n.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,i[d].version);return new eD(n,t,i,o)}}class tD{constructor(n,t){this.largestBatchId=n,this.mutation=t}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sd{constructor(n,t,i,o,u=St.min(),d=St.min(),g=qt.EMPTY_BYTE_STRING){this.target=n,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g}withSequenceNumber(n){return new Sd(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,t){return new Sd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new Sd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class uk{constructor(n){this.ne=n}}function lk(r,n){const t=n.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:pw(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())i.document={name:Nv(o=r.ne,(u=n).key),fields:u.data.value.mapValue.fields,updateTime:Zv(o,u.version.toTimestamp())};else if(n.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Ip(n.version)};else{if(!n.isUnknownDocument())return lt();i.unknownDocument={path:t.path.toArray(),version:Ip(n.version)}}var o,u;return i}function pw(r){const n=r.toTimestamp();return[n.seconds,n.nanoseconds]}function Ip(r){const n=r.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function Ep(r){const n=new ir(r.seconds,r.nanoseconds);return St.fromTimestamp(n)}function Dp(r,n){const t=(n.baseMutations||[]).map(u=>KE(r.ne,u));for(let u=0;u<n.mutations.length-1;++u){const d=n.mutations[u];u+1<n.mutations.length&&void 0!==n.mutations[u+1].transform&&(d.updateTransforms=n.mutations[u+1].transform.fieldTransforms,n.mutations.splice(u+1,1),++u)}const i=n.mutations.map(u=>KE(r.ne,u)),o=ir.fromMillis(n.localWriteTimeMs);return new XE(n.batchId,o,t,i)}function Uv(r){const n=Ep(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Ep(r.lastLimboFreeSnapshotVersion):St.min();let i;var o;return void 0!==r.query.documents?(Mt(1===(o=r.query).documents.length),i=pa(zg(Jx(o.documents[0])))):i=pa(Xx(r.query)),new Sd(i,r.targetId,0,r.lastListenSequenceNumber,n,t,qt.fromBase64String(r.resumeToken))}function ck(r,n){const t=Ip(n.snapshotVersion),i=Ip(n.lastLimboFreeSnapshotVersion);let o;o=ow(n.target)?Kx(r.ne,n.target):Yx(r.ne,n.target);const u=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:wp(n.target),readTime:t,resumeToken:u,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:o}}function nD(r){const n=Xx({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?yx(n,n.limit,"L"):n}function rD(r,n){return new tD(n.largestBatchId,KE(r.ne,n.overlayMutation))}function dk(r,n){const t=n.path.lastSegment();return[r,wo(n.path.popLast()),t]}function hk(r,n,t,i){return{indexId:r,uid:n.uid||"",sequenceNumber:t,readTime:Ip(i.readTime),documentKey:wo(i.documentKey.path),largestBatchId:i.largestBatchId}}class sP{getBundleMetadata(n,t){return pk(n).get(t).next(i=>{if(i)return{id:(o=i).bundleId,createTime:Ep(o.createTime),version:o.version};var o})}saveBundleMetadata(n,t){return pk(n).put({bundleId:(i=t).id,createTime:Ip(Ci(i.createTime)),version:i.version});var i}getNamedQuery(n,t){return fk(n).get(t).next(i=>{if(i)return{name:(o=i).name,query:nD(o.bundledQuery),readTime:Ep(o.readTime)};var o})}saveNamedQuery(n,t){return fk(n).put({name:(i=t).name,readTime:Ip(Ci(i.readTime)),bundledQuery:i.bundledQuery});var i}}function pk(r){return Ti(r,"bundles")}function fk(r){return Ti(r,"namedQueries")}class fw{constructor(n,t){this.wt=n,this.userId=t}static se(n,t){return new fw(n,t.uid||"")}getOverlay(n,t){return Ov(n).get(dk(this.userId,t)).next(i=>i?rD(this.wt,i):null)}getOverlays(n,t){const i=Bu();return ce.forEach(t,o=>this.getOverlay(n,o).next(u=>{null!==u&&i.set(o,u)})).next(()=>i)}saveOverlays(n,t,i){const o=[];return i.forEach((u,d)=>{const g=new tD(t,d);o.push(this.ie(n,g))}),ce.waitFor(o)}removeOverlaysForBatchId(n,t,i){const o=new Set;t.forEach(d=>o.add(wo(d.getCollectionPath())));const u=[];return o.forEach(d=>{const g=IDBKeyRange.bound([this.userId,d,i],[this.userId,d,i+1],!1,!0);u.push(Ov(n).W("collectionPathOverlayIndex",g))}),ce.waitFor(u)}getOverlaysForCollection(n,t,i){const o=Bu(),u=wo(t),d=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Ov(n).K("collectionPathOverlayIndex",d).next(g=>{for(const v of g){const w=rD(this.wt,v);o.set(w.getKey(),w)}return o})}getOverlaysForCollectionGroup(n,t,i,o){const u=Bu();let d;const g=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ov(n).J({index:"collectionGroupOverlayIndex",range:g},(v,w,S)=>{const N=rD(this.wt,w);u.size()<o||N.largestBatchId===d?(u.set(N.getKey(),N),d=N.largestBatchId):S.done()}).next(()=>u)}ie(n,t){return Ov(n).put(function(i,o,u){const[d,g,v]=dk(o,u.mutation.key);return{userId:o,collectionPath:g,documentId:v,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Pv(i.ne,u.mutation)}}(this.wt,this.userId,t))}}function Ov(r){return Ti(r,"documentOverlays")}class Sp{constructor(){}re(n,t){this.oe(n,t),t.ue()}oe(n,t){if("nullValue"in n)this.ce(t,5);else if("booleanValue"in n)this.ce(t,10),t.ae(n.booleanValue?1:0);else if("integerValue"in n)this.ce(t,15),t.ae(Qn(n.integerValue));else if("doubleValue"in n){const i=Qn(n.doubleValue);isNaN(i)?this.ce(t,13):(this.ce(t,15),vv(i)?t.ae(0):t.ae(i))}else if("timestampValue"in n){const i=n.timestampValue;this.ce(t,20),"string"==typeof i?t.he(i):(t.he(`${i.seconds||""}`),t.ae(i.nanos||0))}else if("stringValue"in n)this.le(n.stringValue,t),this.fe(t);else if("bytesValue"in n)this.ce(t,30),t.de(Xa(n.bytesValue)),this.fe(t);else if("referenceValue"in n)this._e(n.referenceValue,t);else if("geoPointValue"in n){const i=n.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in n?ax(n)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(n.mapValue,t),this.fe(t)):"arrayValue"in n?(this.me(n.arrayValue,t),this.fe(t)):lt()}le(n,t){this.ce(t,25),this.ge(n,t)}ge(n,t){t.he(n)}we(n,t){const i=n.fields||{};this.ce(t,55);for(const o of Object.keys(i))this.le(o,t),this.oe(i[o],t)}me(n,t){const i=n.values||[];this.ce(t,50);for(const o of i)this.oe(o,t)}_e(n,t){this.ce(t,37),tt.fromName(n).path.forEach(i=>{this.ce(t,60),this.ge(i,t)})}ce(n,t){n.ae(t)}fe(n){n.ae(2)}}function aP(r){if(0===r)return 8;let n=0;return r>>4==0&&(n+=4,r<<=4),r>>6==0&&(n+=2,r<<=2),r>>7==0&&(n+=1),n}function gk(r){const n=64-function(t){let i=0;for(let o=0;o<8;++o){const u=aP(255&t[o]);if(i+=u,8!==u)break}return i}(r);return Math.ceil(n/8)}Sp.ye=new Sp;class uP{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(n){const t=n[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ie(i.value),i=t.next();this.Te()}Ee(n){const t=n[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(n){for(const t of n){const i=t.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const o=t.codePointAt(0);this.Ie(240|o>>>18),this.Ie(128|63&o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o)}}this.Te()}Pe(n){for(const t of n){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}ve(n){const t=this.Ve(n),i=gk(t);this.Se(1+i),this.buffer[this.position++]=255&i;for(let o=t.length-i;o<t.length;++o)this.buffer[this.position++]=255&t[o]}De(n){const t=this.Ve(n),i=gk(t);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let o=t.length-i;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(n){this.Se(n.length),this.buffer.set(n,this.position),this.position+=n.length}Oe(){return this.buffer.slice(0,this.position)}Ve(n){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(n),i=0!=(128&t[0]);t[0]^=i?255:128;for(let o=1;o<t.length;++o)t[o]^=i?255:0;return t}Ie(n){const t=255&n;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(n){const t=255&n;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(n)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(n){this.Se(1),this.buffer[this.position++]=n}ke(n){this.Se(1),this.buffer[this.position++]=~n}Se(n){const t=n+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const o=new Uint8Array(i);o.set(this.buffer),this.buffer=o}}class lP{constructor(n){this.Me=n}de(n){this.Me.pe(n)}he(n){this.Me.be(n)}ae(n){this.Me.ve(n)}ue(){this.Me.Ce()}}class cP{constructor(n){this.Me=n}de(n){this.Me.Ee(n)}he(n){this.Me.Pe(n)}ae(n){this.Me.De(n)}ue(){this.Me.Ne()}}class Rv{constructor(){this.Me=new uP,this.Fe=new lP(this.Me),this.$e=new cP(this.Me)}seed(n){this.Me.seed(n)}Be(n){return 0===n?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class xp{constructor(n,t,i,o){this.indexId=n,this.documentKey=t,this.arrayValue=i,this.directionalValue=o}Le(){const n=this.directionalValue.length,t=0===n||255===this.directionalValue[n-1]?n+1:n,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==n?i.set([0],this.directionalValue.length):++i[i.length-1],new xp(this.indexId,this.documentKey,this.arrayValue,i)}}function kp(r,n){let t=r.indexId-n.indexId;return 0!==t?t:(t=mk(r.arrayValue,n.arrayValue),0!==t?t:(t=mk(r.directionalValue,n.directionalValue),0!==t?t:tt.comparator(r.documentKey,n.documentKey)))}function mk(r,n){for(let t=0;t<r.length&&t<n.length;++t){const i=r[t]-n[t];if(0!==i)return i}return r.length-n.length}class dP{constructor(n){this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.Ue=n.orderBy,this.qe=[];for(const t of n.filters){const i=t;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(n){const t=fv(n);if(void 0!==t&&!this.Qe(t))return!1;const i=Yl(n);let o=0,u=0;for(;o<i.length&&this.Qe(i[o]);++o);if(o===i.length)return!0;if(void 0!==this.Ke){const d=i[o];if(!this.je(this.Ke,d)||!this.We(this.Ue[u++],d))return!1;++o}for(;o<i.length;++o){const d=i[o];if(u>=this.Ue.length||!this.We(this.Ue[u++],d))return!1}return!0}Qe(n){for(const t of this.qe)if(this.je(t,n))return!0;return!1}je(n,t){return!(void 0===n||!n.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===n.op||"array-contains-any"===n.op)}We(n,t){return!!n.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===n.dir||1===t.kind&&"desc"===n.dir)}}class hP{constructor(){this.ze=new iD}addToCollectionParentIndex(n,t){return this.ze.add(t),ce.resolve()}getCollectionParents(n,t){return ce.resolve(this.ze.getEntries(t))}addFieldIndex(n,t){return ce.resolve()}deleteFieldIndex(n,t){return ce.resolve()}getDocumentsMatchingTarget(n,t){return ce.resolve(null)}getIndexType(n,t){return ce.resolve(0)}getFieldIndexes(n,t){return ce.resolve([])}getNextCollectionGroupToUpdate(n){return ce.resolve(null)}getMinOffset(n,t){return ce.resolve(Go.min())}getMinOffsetFromCollectionGroup(n,t){return ce.resolve(Go.min())}updateCollectionGroup(n,t,i){return ce.resolve()}updateIndexEntries(n,t){return ce.resolve()}}class iD{constructor(){this.index={}}add(n){const t=n.lastSegment(),i=n.popLast(),o=this.index[t]||new je(dn.comparator),u=!o.has(i);return this.index[t]=o.add(i),u}has(n){const t=n.lastSegment(),i=n.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(n){return(this.index[n]||new je(dn.comparator)).toArray()}}const gw=new Uint8Array(0);class pP{constructor(n,t){this.user=n,this.databaseId=t,this.He=new iD,this.Je=new Dd(i=>wp(i),(i,o)=>bv(i,o)),this.uid=n.uid||""}addToCollectionParentIndex(n,t){if(!this.He.has(t)){const i=t.lastSegment(),o=t.popLast();n.addOnCommittedListener(()=>{this.He.add(t)});const u={collectionId:i,parent:wo(o)};return _k(n).put(u)}return ce.resolve()}getCollectionParents(n,t){const i=[],o=IDBKeyRange.bound([t,""],[jg(t),""],!1,!0);return _k(n).K(o).next(u=>{for(const d of u){if(d.collectionId!==t)break;i.push($u(d.parent))}return i})}addFieldIndex(n,t){const i=mw(n),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var d;delete o.indexId;const u=i.add(o);if(t.indexState){const d=Fv(n);return u.next(g=>{d.put(hk(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(n,t){const i=mw(n),o=Fv(n),u=Lv(n);return i.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(n,t){const i=Lv(n);let o=!0;const u=new Map;return ce.forEach(this.Ye(t),d=>this.Xe(n,d).next(g=>{o&&(o=!!g),u.set(d,g)})).next(()=>{if(o){let d=Wt();const g=[];return ce.forEach(u,(v,w)=>{var S;Fe("IndexedDbIndexManager",`Using index ${S=v,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(Xt=>`${Xt.fieldPath}:${Xt.kind}`).join(",")}`} to execute ${wp(t)}`);const N=function(Xt,bt){const en=fv(bt);if(void 0===en)return null;for(const xn of sw(Xt,en.fieldPath))switch(xn.op){case"array-contains-any":return xn.value.arrayValue.values||[];case"array-contains":return[xn.value]}return null}(w,v),R=function(Xt,bt){const en=new Map;for(const xn of Yl(bt))for(const oo of sw(Xt,xn.fieldPath))switch(oo.op){case"==":case"in":en.set(xn.fieldPath.canonicalString(),oo.value);break;case"not-in":case"!=":return en.set(xn.fieldPath.canonicalString(),oo.value),Array.from(en.values())}return null}(w,v),z=function(Xt,bt){const en=[];let xn=!0;for(const oo of Yl(bt)){const r0=0===oo.kind?hx(Xt,oo.fieldPath,Xt.startAt):px(Xt,oo.fieldPath,Xt.startAt);en.push(r0.value),xn&&(xn=r0.inclusive)}return new Ed(en,xn)}(w,v),te=function(Xt,bt){const en=[];let xn=!0;for(const oo of Yl(bt)){const r0=0===oo.kind?px(Xt,oo.fieldPath,Xt.endAt):hx(Xt,oo.fieldPath,Xt.endAt);en.push(r0.value),xn&&(xn=r0.inclusive)}return new Ed(en,xn)}(w,v),Pe=this.Ze(v,w,z),Ge=this.Ze(v,w,te),ft=this.tn(v,w,R),Ut=this.en(v.indexId,N,Pe,z.inclusive,Ge,te.inclusive,ft);return ce.forEach(Ut,Xt=>i.j(Xt,t.limit).next(bt=>{bt.forEach(en=>{const xn=tt.fromSegments(en.documentKey);d.has(xn)||(d=d.add(xn),g.push(xn))})}))}).next(()=>g)}return ce.resolve(null)})}Ye(n){let t=this.Je.get(n);return t||(t=[n],this.Je.set(n,t),t)}en(n,t,i,o,u,d,g){const v=(null!=t?t.length:1)*Math.max(i.length,u.length),w=v/(null!=t?t.length:1),S=[];for(let N=0;N<v;++N){const R=t?this.nn(t[N/w]):gw,z=this.sn(n,R,i[N%w],o),te=this.rn(n,R,u[N%w],d),Pe=g.map(Ge=>this.sn(n,R,Ge,!0));S.push(...this.createRange(z,te,Pe))}return S}sn(n,t,i,o){const u=new xp(n,tt.empty(),t,i);return o?u:u.Le()}rn(n,t,i,o){const u=new xp(n,tt.empty(),t,i);return o?u.Le():u}Xe(n,t){const i=new dP(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(n,o).next(u=>{let d=null;for(const g of u)i.Ge(g)&&(!d||g.fields.length>d.fields.length)&&(d=g);return d})}getIndexType(n,t){let i=2;return ce.forEach(this.Ye(t),o=>this.Xe(n,o).next(u=>{u?0!==i&&u.fields.length<function(d){let g=new je(Er.comparator),v=!1;for(const w of d.filters){const S=w;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?v=!0:g=g.add(S.field))}for(const w of d.orderBy)w.field.isKeyField()||(g=g.add(w.field));return g.size+(v?1:0)}(o)&&(i=1):i=0})).next(()=>i)}on(n,t){const i=new Rv;for(const o of Yl(n)){const u=t.data.field(o.fieldPath);if(null==u)return null;const d=i.Be(o.kind);Sp.ye.re(u,d)}return i.Oe()}nn(n){const t=new Rv;return Sp.ye.re(n,t.Be(0)),t.Oe()}un(n,t){const i=new Rv;return Sp.ye.re(Tp(this.databaseId,t),i.Be(function(o){const u=Yl(o);return 0===u.length?0:u[u.length-1].kind}(n))),i.Oe()}tn(n,t,i){if(null===i)return[];let o=[];o.push(new Rv);let u=0;for(const d of Yl(n)){const g=i[u++];for(const v of o)if(this.cn(t,d.fieldPath)&&Tv(g))o=this.an(o,d,g);else{const w=v.Be(d.kind);Sp.ye.re(g,w)}}return this.hn(o)}Ze(n,t,i){return this.tn(n,t,i.position)}hn(n){const t=[];for(let i=0;i<n.length;++i)t[i]=n[i].Oe();return t}an(n,t,i){const o=[...n],u=[];for(const d of i.arrayValue.values||[])for(const g of o){const v=new Rv;v.seed(g.Oe()),Sp.ye.re(d,v.Be(t.kind)),u.push(v)}return u}cn(n,t){return!!n.filters.find(i=>i instanceof Oi&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(n,t){const i=mw(n),o=Fv(n);return(t?i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.K()).next(u=>{const d=[];return ce.forEach(u,g=>o.get([g.indexId,this.uid]).next(v=>{d.push(function(w,S){const N=S?new Hg(S.sequenceNumber,new Go(Ep(S.readTime),new tt($u(S.documentKey)),S.largestBatchId)):Hg.empty(),R=w.fields.map(([z,te])=>new gv(Er.fromServerFormat(z),te));return new $g(w.indexId,w.collectionGroup,R,N)}(g,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(t=>0===t.length?null:(t.sort((i,o)=>{const u=i.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Bt(i.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(n,t,i){const o=mw(n),u=Fv(n);return this.ln(n).next(d=>o.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>ce.forEach(g,v=>u.put(hk(v.indexId,this.user,d,i)))))}updateIndexEntries(n,t){const i=new Map;return ce.forEach(t,(o,u)=>{const d=i.get(o.collectionGroup);return(d?ce.resolve(d):this.getFieldIndexes(n,o.collectionGroup)).next(g=>(i.set(o.collectionGroup,g),ce.forEach(g,v=>this.fn(n,o,v).next(w=>{const S=this.dn(u,v);return w.isEqual(S)?ce.resolve():this._n(n,u,v,w,S)}))))})}wn(n,t,i,o){return Lv(n).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.un(i,t.key),documentKey:t.key.path.toArray()})}mn(n,t,i,o){return Lv(n).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.un(i,t.key),t.key.path.toArray()])}fn(n,t,i){const o=Lv(n);let u=new je(kp);return o.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,t)])},(d,g)=>{u=u.add(new xp(i.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>u)}dn(n,t){let i=new je(kp);const o=this.on(t,n);if(null==o)return i;const u=fv(t);if(null!=u){const d=n.data.field(u.fieldPath);if(Tv(d))for(const g of d.arrayValue.values||[])i=i.add(new xp(t.indexId,n.key,this.nn(g),o))}else i=i.add(new xp(t.indexId,n.key,gw,o));return i}_n(n,t,i,o,u){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(g,v,w,S,N){const R=g.getIterator(),z=v.getIterator();let te=Ze(R),Pe=Ze(z);for(;te||Pe;){let Ge=!1,ft=!1;if(te&&Pe){const Ut=w(te,Pe);Ut<0?ft=!0:Ut>0&&(Ge=!0)}else null!=te?ft=!0:Ge=!0;Ge?(S(Pe),Pe=Ze(z)):ft?(N(te),te=Ze(R)):(te=Ze(R),Pe=Ze(z))}}(o,u,kp,g=>{d.push(this.wn(n,t,i,g))},g=>{d.push(this.mn(n,t,i,g))}),ce.waitFor(d)}ln(n){let t=1;return Fv(n).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(n,t,i){i=i.sort((d,g)=>kp(d,g)).filter((d,g,v)=>!g||0!==kp(d,v[g-1]));const o=[];o.push(n);for(const d of i){const g=kp(d,n),v=kp(d,t);if(0===g)o[0]=n.Le();else if(g>0&&v<0)o.push(d),o.push(d.Le());else if(v>0)break}o.push(t);const u=[];for(let d=0;d<o.length;d+=2)u.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,gw,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,gw,[]]));return u}getMinOffsetFromCollectionGroup(n,t){return this.getFieldIndexes(n,t).next(yk)}getMinOffset(n,t){return ce.mapArray(this.Ye(t),i=>this.Xe(n,i).next(o=>o||lt())).next(yk)}}function _k(r){return Ti(r,"collectionParents")}function Lv(r){return Ti(r,"indexEntries")}function mw(r){return Ti(r,"indexConfiguration")}function Fv(r){return Ti(r,"indexState")}function yk(r){Mt(0!==r.length);let n=r[0].indexState.offset,t=n.largestBatchId;for(let i=1;i<r.length;i++){const o=r[i].indexState.offset;mv(o,n)<0&&(n=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Go(n.readTime,n.documentKey,t)}const vk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wo{constructor(n,t,i){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(n){return new Wo(n,Wo.DEFAULT_COLLECTION_PERCENTILE,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ck(r,n,t){const i=r.store("mutations"),o=r.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let g=0;const v=i.J({range:d},(S,N,R)=>(g++,R.delete()));u.push(v.next(()=>{Mt(1===g)}));const w=[];for(const S of t.mutations){const N=ik(n,S.key.path,t.batchId);u.push(o.delete(N)),w.push(S.key)}return ce.waitFor(u).next(()=>w)}function _w(r){if(!r)return 0;let n;if(r.document)n=r.document;else if(r.unknownDocument)n=r.unknownDocument;else{if(!r.noDocument)throw lt();n=r.noDocument}return JSON.stringify(n).length}Wo.DEFAULT_COLLECTION_PERCENTILE=10,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wo.DEFAULT=new Wo(41943040,Wo.DEFAULT_COLLECTION_PERCENTILE,Wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wo.DISABLED=new Wo(-1,0,0);class yw{constructor(n,t,i,o){this.userId=n,this.wt=t,this.indexManager=i,this.referenceDelegate=o,this.gn={}}static se(n,t,i,o){Mt(""!==n.uid);const u=n.isAuthenticated()?n.uid:"";return new yw(u,t,i,o)}checkEmpty(n){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xd(n).J({index:"userMutationsIndex",range:i},(o,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(n,t,i,o){const u=rm(n),d=xd(n);return d.add({}).next(g=>{Mt("number"==typeof g);const v=new XE(g,t,i,o),w=function(R,z,te){const Pe=te.baseMutations.map(ft=>Pv(R.ne,ft)),Ge=te.mutations.map(ft=>Pv(R.ne,ft));return{userId:z,batchId:te.batchId,localWriteTimeMs:te.localWriteTime.toMillis(),baseMutations:Pe,mutations:Ge}}(this.wt,this.userId,v),S=[];let N=new je((R,z)=>Bt(R.canonicalString(),z.canonicalString()));for(const R of o){const z=ik(this.userId,R.key.path,g);N=N.add(R.key.path.popLast()),S.push(d.put(w)),S.push(u.put(z,BM))}return N.forEach(R=>{S.push(this.indexManager.addToCollectionParentIndex(n,R))}),n.addOnCommittedListener(()=>{this.gn[g]=v.keys()}),ce.waitFor(S).next(()=>v)})}lookupMutationBatch(n,t){return xd(n).get(t).next(i=>i?(Mt(i.userId===this.userId),Dp(this.wt,i)):null)}yn(n,t){return this.gn[t]?ce.resolve(this.gn[t]):this.lookupMutationBatch(n,t).next(i=>{if(i){const o=i.keys();return this.gn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(n,t){const i=t+1,o=IDBKeyRange.lowerBound([this.userId,i]);let u=null;return xd(n).J({index:"userMutationsIndex",range:o},(d,g,v)=>{g.userId===this.userId&&(Mt(g.batchId>=i),u=Dp(this.wt,g)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(n){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return xd(n).J({index:"userMutationsIndex",range:t,reverse:!0},(o,u,d)=>{i=u.batchId,d.done()}).next(()=>i)}getAllMutationBatches(n){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xd(n).K("userMutationsIndex",t).next(i=>i.map(o=>Dp(this.wt,o)))}getAllMutationBatchesAffectingDocumentKey(n,t){const i=hw(this.userId,t.path),o=IDBKeyRange.lowerBound(i),u=[];return rm(n).J({range:o},(d,g,v)=>{const[w,S,N]=d,R=$u(S);if(w===this.userId&&t.path.isEqual(R))return xd(n).get(N).next(z=>{if(!z)throw lt();Mt(z.userId===this.userId),u.push(Dp(this.wt,z))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(n,t){let i=new je(Bt);const o=[];return t.forEach(u=>{const d=hw(this.userId,u.path),g=IDBKeyRange.lowerBound(d),v=rm(n).J({range:g},(w,S,N)=>{const[R,z,te]=w,Pe=$u(z);R===this.userId&&u.path.isEqual(Pe)?i=i.add(te):N.done()});o.push(v)}),ce.waitFor(o).next(()=>this.pn(n,i))}getAllMutationBatchesAffectingQuery(n,t){const i=t.path,o=i.length+1,u=hw(this.userId,i),d=IDBKeyRange.lowerBound(u);let g=new je(Bt);return rm(n).J({range:d},(v,w,S)=>{const[N,R,z]=v,te=$u(R);N===this.userId&&i.isPrefixOf(te)?te.length===o&&(g=g.add(z)):S.done()}).next(()=>this.pn(n,g))}pn(n,t){const i=[],o=[];return t.forEach(u=>{o.push(xd(n).get(u).next(d=>{if(null===d)throw lt();Mt(d.userId===this.userId),i.push(Dp(this.wt,d))}))}),ce.waitFor(o).next(()=>i)}removeMutationBatch(n,t){return Ck(n.ee,this.userId,t).next(i=>(n.addOnCommittedListener(()=>{this.In(t.batchId)}),ce.forEach(i,o=>this.referenceDelegate.markPotentiallyOrphaned(n,o))))}In(n){delete this.gn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(t=>{if(!t)return ce.resolve();const i=IDBKeyRange.lowerBound([this.userId]),o=[];return rm(n).J({range:i},(u,d,g)=>{if(u[0]===this.userId){const v=$u(u[1]);o.push(v)}else g.done()}).next(()=>{Mt(0===o.length)})})}containsKey(n,t){return Tk(n,this.userId,t)}Tn(n){return wk(n).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Tk(r,n,t){const i=hw(n,t.path),o=i[1],u=IDBKeyRange.lowerBound(i);let d=!1;return rm(r).J({range:u,H:!0},(g,v,w)=>{const[S,N,R]=g;S===n&&N===o&&(d=!0),w.done()}).next(()=>d)}function xd(r){return Ti(r,"mutations")}function rm(r){return Ti(r,"documentMutations")}function wk(r){return Ti(r,"mutationQueues")}class Zp{constructor(n){this.En=n}next(){return this.En+=2,this.En}static An(){return new Zp(0)}static Rn(){return new Zp(-1)}}class fP{constructor(n,t){this.referenceDelegate=n,this.wt=t}allocateTargetId(n){return this.bn(n).next(t=>{const i=new Zp(t.highestTargetId);return t.highestTargetId=i.next(),this.Pn(n,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.bn(n).next(t=>St.fromTimestamp(new ir(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.bn(n).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(n,t,i){return this.bn(n).next(o=>(o.highestListenSequenceNumber=t,i&&(o.lastRemoteSnapshotVersion=i.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Pn(n,o)))}addTargetData(n,t){return this.vn(n,t).next(()=>this.bn(n).next(i=>(i.targetCount+=1,this.Vn(t,i),this.Pn(n,i))))}updateTargetData(n,t){return this.vn(n,t)}removeTargetData(n,t){return this.removeMatchingKeysForTargetId(n,t.targetId).next(()=>im(n).delete(t.targetId)).next(()=>this.bn(n)).next(i=>(Mt(i.targetCount>0),i.targetCount-=1,this.Pn(n,i)))}removeTargets(n,t,i){let o=0;const u=[];return im(n).J((d,g)=>{const v=Uv(g);v.sequenceNumber<=t&&null===i.get(v.targetId)&&(o++,u.push(this.removeTargetData(n,v)))}).next(()=>ce.waitFor(u)).next(()=>o)}forEachTarget(n,t){return im(n).J((i,o)=>{const u=Uv(o);t(u)})}bn(n){return bk(n).get("targetGlobalKey").next(t=>(Mt(null!==t),t))}Pn(n,t){return bk(n).put("targetGlobalKey",t)}vn(n,t){return im(n).put(ck(this.wt,t))}Vn(n,t){let i=!1;return n.targetId>t.highestTargetId&&(t.highestTargetId=n.targetId,i=!0),n.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=n.sequenceNumber,i=!0),i}getTargetCount(n){return this.bn(n).next(t=>t.targetCount)}getTargetData(n,t){const i=wp(t),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let u=null;return im(n).J({range:o,index:"queryTargetsIndex"},(d,g,v)=>{const w=Uv(g);bv(t,w.target)&&(u=w,v.done())}).next(()=>u)}addMatchingKeys(n,t,i){const o=[],u=kd(n);return t.forEach(d=>{const g=wo(d.path);o.push(u.put({targetId:i,path:g})),o.push(this.referenceDelegate.addReference(n,i,d))}),ce.waitFor(o)}removeMatchingKeys(n,t,i){const o=kd(n);return ce.forEach(t,u=>{const d=wo(u.path);return ce.waitFor([o.delete([i,d]),this.referenceDelegate.removeReference(n,i,u)])})}removeMatchingKeysForTargetId(n,t){const i=kd(n),o=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(o)}getMatchingKeysForTargetId(n,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),o=kd(n);let u=Wt();return o.J({range:i,H:!0},(d,g,v)=>{const w=$u(d[1]),S=new tt(w);u=u.add(S)}).next(()=>u)}containsKey(n,t){const i=wo(t.path),o=IDBKeyRange.bound([i],[jg(i)],!1,!0);let u=0;return kd(n).J({index:"documentTargetsIndex",H:!0,range:o},([d,g],v,w)=>{0!==d&&(u++,w.done())}).next(()=>u>0)}te(n,t){return im(n).get(t).next(i=>i?Uv(i):null)}}function im(r){return Ti(r,"targets")}function bk(r){return Ti(r,"targetGlobal")}function kd(r){return Ti(r,"targetDocuments")}function Ak([r,n],[t,i]){const o=Bt(r,t);return 0===o?Bt(n,i):o}class gP{constructor(n){this.Sn=n,this.buffer=new je(Ak),this.Dn=0}Cn(){return++this.Dn}xn(n){const t=[n,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Ak(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mP{constructor(n,t,i){this.garbageCollector=n,this.asyncQueue=t,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(n){var t=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Ie.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){c(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Xl(i)}yield t.kn(3e5)}))}}class _P{constructor(n,t){this.On=n,this.params=t}calculateTargetCount(n,t){return this.On.Mn(n).next(i=>Math.floor(t/100*i))}nthSequenceNumber(n,t){if(0===t)return ce.resolve(x.ot);const i=new gP(t);return this.On.forEachTarget(n,o=>i.xn(o.sequenceNumber)).next(()=>this.On.Fn(n,o=>i.xn(o))).next(()=>i.maxValue)}removeTargets(n,t,i){return this.On.removeTargets(n,t,i)}removeOrphanedDocuments(n,t){return this.On.removeOrphanedDocuments(n,t)}collect(n,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(vk)):this.getCacheSize(n).next(i=>i<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vk):this.$n(n,t))}getCacheSize(n){return this.On.getCacheSize(n)}$n(n,t){let i,o,u,d,g,v,w;const S=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(n,o))).next(N=>(i=N,g=Date.now(),this.removeTargets(n,i,t))).next(N=>(u=N,v=Date.now(),this.removeOrphanedDocuments(n,i))).next(N=>(w=Date.now(),hv()<=Wa.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-S}ms\n\tDetermined least recently used ${o} in `+(g-d)+`ms\n\tRemoved ${u} targets in `+(v-g)+`ms\n\tRemoved ${N} documents in `+(w-v)+`ms\nTotal Duration: ${w-S}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:N})))}}class yP{constructor(n,t){this.db=n,this.garbageCollector=new _P(this,t)}Mn(n){const t=this.Bn(n);return this.db.getTargetCache().getTargetCount(n).next(i=>t.next(o=>i+o))}Bn(n){let t=0;return this.Fn(n,i=>{t++}).next(()=>t)}forEachTarget(n,t){return this.db.getTargetCache().forEachTarget(n,t)}Fn(n,t){return this.Ln(n,(i,o)=>t(o))}addReference(n,t,i){return vw(n,i)}removeReference(n,t,i){return vw(n,i)}removeTargets(n,t,i){return this.db.getTargetCache().removeTargets(n,t,i)}markPotentiallyOrphaned(n,t){return vw(n,t)}Un(n,t){return function(i,o){let u=!1;return wk(i).Y(d=>Tk(i,d,o).next(g=>(g&&(u=!0),ce.resolve(!g)))).next(()=>u)}(n,t)}removeOrphanedDocuments(n,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Ln(n,(d,g)=>{if(g<=t){const v=this.Un(n,d).next(w=>{if(!w)return u++,i.getEntry(n,d).next(()=>(i.removeEntry(d,St.min()),kd(n).delete([0,wo(d.path)])))});o.push(v)}}).next(()=>ce.waitFor(o)).next(()=>i.apply(n)).next(()=>u)}removeTarget(n,t){const i=t.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,i)}updateLimboDocument(n,t){return vw(n,t)}Ln(n,t){const i=kd(n);let o,u=x.ot;return i.J({index:"documentTargetsIndex"},([d,g],{path:v,sequenceNumber:w})=>{0===d?(u!==x.ot&&t(new tt($u(o)),u),u=w,o=v):u=x.ot}).next(()=>{u!==x.ot&&t(new tt($u(o)),u)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function vw(r,n){return kd(r).put((i=r.currentSequenceNumber,{targetId:0,path:wo(n.path),sequenceNumber:i}));var i}class Ik{constructor(){this.changes=new Dd(n=>n.toString(),(n,t)=>n.isEqual(t)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,t){this.assertNotApplied(),this.changes.set(n,Kn.newInvalidDocument(n).setReadTime(t))}getEntry(n,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ce.resolve(i):this.getFromCache(n,t)}getEntries(n,t){return this.getAllFromCache(n,t)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class vP{constructor(n){this.wt=n}setIndexManager(n){this.indexManager=n}addEntry(n,t,i){return Np(n).put(i)}removeEntry(n,t,i){return Np(n).delete(function(o,u){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],pw(u),d[d.length-1]]}(t,i))}updateMetadata(n,t){return this.getMetadata(n).next(i=>(i.byteSize+=t,this.qn(n,i)))}getEntry(n,t){let i=Kn.newInvalidDocument(t);return Np(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(qv(t))},(o,u)=>{i=this.Kn(t,u)}).next(()=>i)}Gn(n,t){let i={size:0,document:Kn.newInvalidDocument(t)};return Np(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(qv(t))},(o,u)=>{i={document:this.Kn(t,u),size:_w(u)}}).next(()=>i)}getEntries(n,t){let i=Jo();return this.Qn(n,t,(o,u)=>{const d=this.Kn(o,u);i=i.insert(o,d)}).next(()=>i)}jn(n,t){let i=Jo(),o=new he(tt.comparator);return this.Qn(n,t,(u,d)=>{const g=this.Kn(u,d);i=i.insert(u,g),o=o.insert(u,_w(d))}).next(()=>({documents:i,Wn:o}))}Qn(n,t,i){if(t.isEmpty())return ce.resolve();let o=new je(xk);t.forEach(v=>o=o.add(v));const u=IDBKeyRange.bound(qv(o.first()),qv(o.last())),d=o.getIterator();let g=d.getNext();return Np(n).J({index:"documentKeyIndex",range:u},(v,w,S)=>{const N=tt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;g&&xk(g,N)<0;)i(g,null),g=d.getNext();g&&g.isEqual(N)&&(i(g,w),g=d.hasNext()?d.getNext():null),g?S.q(qv(g)):S.done()}).next(()=>{for(;g;)i(g,null),g=d.hasNext()?d.getNext():null})}getAllFromCollection(n,t,i){const o=[t.popLast().toArray(),t.lastSegment(),pw(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Np(n).K(IDBKeyRange.bound(o,u,!0)).next(d=>{let g=Jo();for(const v of d){const w=this.Kn(tt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);g=g.insert(w.key,w)}return g})}getAllFromCollectionGroup(n,t,i,o){let u=Jo();const d=Sk(t,i),g=Sk(t,Go.max());return Np(n).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,g,!0)},(v,w,S)=>{const N=this.Kn(tt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);u=u.insert(N.key,N),u.size===o&&S.done()}).next(()=>u)}newChangeBuffer(n){return new CP(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(t=>t.byteSize)}getMetadata(n){return Dk(n).get("remoteDocumentGlobalKey").next(t=>(Mt(!!t),t))}qn(n,t){return Dk(n).put("remoteDocumentGlobalKey",t)}Kn(n,t){if(t){const i=function oP(r,n){let t;if(n.document)t=Qx(r.ne,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const i=tt.fromSegments(n.noDocument.path),o=Ep(n.noDocument.readTime);t=Kn.newNoDocument(i,o),n.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!n.unknownDocument)return lt();{const i=tt.fromSegments(n.unknownDocument.path),o=Ep(n.unknownDocument.version);t=Kn.newUnknownDocument(i,o)}}return n.readTime&&t.setReadTime(function(i){const o=new ir(i[0],i[1]);return St.fromTimestamp(o)}(n.readTime)),t}(this.wt,t);if(!i.isNoDocument()||!i.version.isEqual(St.min()))return i}return Kn.newInvalidDocument(n)}}function Ek(r){return new vP(r)}class CP extends Ik{constructor(n,t){super(),this.zn=n,this.trackRemovals=t,this.Hn=new Dd(i=>i.toString(),(i,o)=>i.isEqual(o))}applyChanges(n){const t=[];let i=0,o=new je((u,d)=>Bt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const g=this.Hn.get(u);if(t.push(this.zn.removeEntry(n,u,g.readTime)),d.isValidDocument()){const v=lk(this.zn.wt,d);o=o.add(u.path.popLast()),i+=_w(v)-g.size,t.push(this.zn.addEntry(n,u,v))}else if(i-=g.size,this.trackRemovals){const v=lk(this.zn.wt,d.convertToNoDocument(St.min()));t.push(this.zn.addEntry(n,u,v))}}),o.forEach(u=>{t.push(this.zn.indexManager.addToCollectionParentIndex(n,u))}),t.push(this.zn.updateMetadata(n,i)),ce.waitFor(t)}getFromCache(n,t){return this.zn.Gn(n,t).next(i=>(this.Hn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(n,t){return this.zn.jn(n,t).next(({documents:i,Wn:o})=>(o.forEach((u,d)=>{this.Hn.set(u,{size:d,readTime:i.get(u).readTime})}),i))}}function Dk(r){return Ti(r,"remoteDocumentGlobal")}function Np(r){return Ti(r,"remoteDocumentsV14")}function qv(r){const n=r.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function Sk(r,n){const t=n.documentKey.path.toArray();return[r,pw(n.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function xk(r,n){const t=r.path.toArray(),i=n.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<i.length-2;++u)if(o=Bt(t[u],i[u]),o)return o;return o=Bt(t.length,i.length),o||(o=Bt(t[t.length-2],i[i.length-2]),o||Bt(t[t.length-1],i[i.length-1]))}class TP{constructor(n,t){this.overlayedDocument=n,this.mutatedFields=t}}class kk{constructor(n,t,i,o){this.remoteDocumentCache=n,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(n,t){let i=null;return this.documentOverlayCache.getOverlay(n,t).next(o=>(i=o,this.getBaseDocument(n,t,i))).next(o=>(null!==i&&Ev(i.mutation,o,ct.empty(),ir.now()),o))}getDocuments(n,t){return this.remoteDocumentCache.getEntries(n,t).next(i=>this.getLocalViewOfDocuments(n,i,Wt()).next(()=>i))}getLocalViewOfDocuments(n,t,i=Wt()){const o=Bu();return this.populateOverlays(n,o,t).next(()=>this.computeViews(n,t,o,i).next(u=>{let d=Dv();return u.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(n,t){const i=Bu();return this.populateOverlays(n,i,t).next(()=>this.computeViews(n,t,i,Wt()))}populateOverlays(n,t,i){const o=[];return i.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(n,o).next(u=>{u.forEach((d,g)=>{t.set(d,g)})})}computeViews(n,t,i,o){let u=Jo();const d=Sv(),g=Sv();return t.forEach((v,w)=>{const S=i.get(w.key);o.has(w.key)&&(void 0===S||S.mutation instanceof ic)?u=u.insert(w.key,w):void 0!==S&&(d.set(w.key,S.mutation.getFieldMask()),Ev(S.mutation,w,S.mutation.getFieldMask(),ir.now()))}),this.recalculateAndSaveOverlays(n,u).next(v=>(v.forEach((w,S)=>d.set(w,S)),t.forEach((w,S)=>{var N;return g.set(w,new TP(S,null!==(N=d.get(w))&&void 0!==N?N:null))}),g))}recalculateAndSaveOverlays(n,t){const i=Sv();let o=new he((d,g)=>d-g),u=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,t).next(d=>{for(const g of d)g.keys().forEach(v=>{const w=t.get(v);if(null===w)return;let S=i.get(v)||ct.empty();S=g.applyToLocalView(w,S),i.set(v,S);const N=(o.get(g.batchId)||Wt()).add(v);o=o.insert(g.batchId,N)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),w=v.key,S=v.value,N=Fx();S.forEach(R=>{if(!u.has(R)){const z=kx(t.get(R),i.get(R));null!==z&&N.set(R,z),u=u.add(R)}}),d.push(this.documentOverlayCache.saveOverlays(n,w,N))}return ce.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(n,t){return this.remoteDocumentCache.getEntries(n,t).next(i=>this.recalculateAndSaveOverlays(n,i))}getDocumentsMatchingQuery(n,t,i){return tt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(n,t.path):HE(t)?this.getDocumentsMatchingCollectionGroupQuery(n,t,i):this.getDocumentsMatchingCollectionQuery(n,t,i);var o}getNextDocuments(n,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(n,t,i,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,t,i.largestBatchId,o-u.size):ce.resolve(Bu());let g=-1,v=u;return d.next(w=>ce.forEach(w,(S,N)=>(g<N.largestBatchId&&(g=N.largestBatchId),u.get(S)?ce.resolve():this.getBaseDocument(n,S,N).next(R=>{v=v.insert(S,R)}))).next(()=>this.populateOverlays(n,w,u)).next(()=>this.computeViews(n,v,w,Wt())).next(S=>({batchId:g,changes:Lx(S)})))})}getDocumentsMatchingDocumentQuery(n,t){return this.getDocument(n,new tt(t)).next(i=>{let o=Dv();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(n,t,i){const o=t.collectionGroup;let u=Dv();return this.indexManager.getCollectionParents(n,o).next(d=>ce.forEach(d,g=>{const v=(w=t,S=g.child(o),new rc(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,S;return this.getDocumentsMatchingCollectionQuery(n,v,i).next(w=>{w.forEach((S,N)=>{u=u.insert(S,N)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(n,t,i){let o;return this.remoteDocumentCache.getAllFromCollection(n,t.path,i).next(u=>(o=u,this.documentOverlayCache.getOverlaysForCollection(n,t.path,i.largestBatchId))).next(u=>{u.forEach((g,v)=>{const w=v.getKey();null===o.get(w)&&(o=o.insert(w,Kn.newInvalidDocument(w)))});let d=Dv();return o.forEach((g,v)=>{const w=u.get(g);void 0!==w&&Ev(w.mutation,v,ct.empty(),ir.now()),JE(t,v)&&(d=d.insert(g,v))}),d})}getBaseDocument(n,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(n,t):ce.resolve(Kn.newInvalidDocument(t))}}class wP{constructor(n){this.wt=n,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(n,t){return ce.resolve(this.Jn.get(t))}saveBundleMetadata(n,t){var i;return this.Jn.set(t.id,{id:(i=t).id,version:i.version,createTime:Ci(i.createTime)}),ce.resolve()}getNamedQuery(n,t){return ce.resolve(this.Yn.get(t))}saveNamedQuery(n,t){return this.Yn.set(t.name,{name:(i=t).name,query:nD(i.bundledQuery),readTime:Ci(i.readTime)}),ce.resolve();var i}}class bP{constructor(){this.overlays=new he(tt.comparator),this.Xn=new Map}getOverlay(n,t){return ce.resolve(this.overlays.get(t))}getOverlays(n,t){const i=Bu();return ce.forEach(t,o=>this.getOverlay(n,o).next(u=>{null!==u&&i.set(o,u)})).next(()=>i)}saveOverlays(n,t,i){return i.forEach((o,u)=>{this.ie(n,t,u)}),ce.resolve()}removeOverlaysForBatchId(n,t,i){const o=this.Xn.get(i);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Xn.delete(i)),ce.resolve()}getOverlaysForCollection(n,t,i){const o=Bu(),u=t.length+1,d=new tt(t.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,w=v.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===u&&v.largestBatchId>i&&o.set(v.getKey(),v)}return ce.resolve(o)}getOverlaysForCollectionGroup(n,t,i,o){let u=new he((w,S)=>w-S);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>i){let S=u.get(w.largestBatchId);null===S&&(S=Bu(),u=u.insert(w.largestBatchId,S)),S.set(w.getKey(),w)}}const g=Bu(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((w,S)=>g.set(w,S)),!(g.size()>=o)););return ce.resolve(g)}ie(n,t,i){const o=this.overlays.get(i.key);if(null!==o){const d=this.Xn.get(o.largestBatchId).delete(i.key);this.Xn.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new tD(t,i));let u=this.Xn.get(t);void 0===u&&(u=Wt(),this.Xn.set(t,u)),this.Xn.set(t,u.add(i.key))}}class oD{constructor(){this.Zn=new je(wi.ts),this.es=new je(wi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,t){const i=new wi(n,t);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(n,t){n.forEach(i=>this.addReference(i,t))}removeReference(n,t){this.rs(new wi(n,t))}os(n,t){n.forEach(i=>this.removeReference(i,t))}us(n){const t=new tt(new dn([])),i=new wi(t,n),o=new wi(t,n+1),u=[];return this.es.forEachInRange([i,o],d=>{this.rs(d),u.push(d.key)}),u}cs(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const t=new tt(new dn([])),i=new wi(t,n),o=new wi(t,n+1);let u=Wt();return this.es.forEachInRange([i,o],d=>{u=u.add(d.key)}),u}containsKey(n){const t=new wi(n,0),i=this.Zn.firstAfterOrEqual(t);return null!==i&&n.isEqual(i.key)}}class wi{constructor(n,t){this.key=n,this.ls=t}static ts(n,t){return tt.comparator(n.key,t.key)||Bt(n.ls,t.ls)}static ns(n,t){return Bt(n.ls,t.ls)||tt.comparator(n.key,t.key)}}class AP{constructor(n,t){this.indexManager=n,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new je(wi.ts)}checkEmpty(n){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(n,t,i,o){const u=this.fs;this.fs++;const d=new XE(u,t,i,o);this.mutationQueue.push(d);for(const g of o)this.ds=this.ds.add(new wi(g.key,u)),this.indexManager.addToCollectionParentIndex(n,g.key.path.popLast());return ce.resolve(d)}lookupMutationBatch(n,t){return ce.resolve(this._s(t))}getNextMutationBatchAfterBatchId(n,t){const o=this.ws(t+1),u=o<0?0:o;return ce.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(n){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,t){const i=new wi(t,0),o=new wi(t,Number.POSITIVE_INFINITY),u=[];return this.ds.forEachInRange([i,o],d=>{const g=this._s(d.ls);u.push(g)}),ce.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(n,t){let i=new je(Bt);return t.forEach(o=>{const u=new wi(o,0),d=new wi(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([u,d],g=>{i=i.add(g.ls)})}),ce.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(n,t){const i=t.path,o=i.length+1;let u=i;tt.isDocumentKey(u)||(u=u.child(""));const d=new wi(new tt(u),0);let g=new je(Bt);return this.ds.forEachWhile(v=>{const w=v.key.path;return!!i.isPrefixOf(w)&&(w.length===o&&(g=g.add(v.ls)),!0)},d),ce.resolve(this.gs(g))}gs(n){const t=[];return n.forEach(i=>{const o=this._s(i);null!==o&&t.push(o)}),t}removeMutationBatch(n,t){Mt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return ce.forEach(t.mutations,o=>{const u=new wi(o.key,t.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(n,o.key)}).next(()=>{this.ds=i})}In(n){}containsKey(n,t){const i=new wi(t,0),o=this.ds.firstAfterOrEqual(i);return ce.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(n){return ce.resolve()}ys(n,t){return this.ws(n)}ws(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}_s(n){const t=this.ws(n);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class IP{constructor(n){this.ps=n,this.docs=new he(tt.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,t){const i=t.key,o=this.docs.get(i),u=o?o.size:0,d=this.ps(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(n,i.path.popLast())}removeEntry(n){const t=this.docs.get(n);t&&(this.docs=this.docs.remove(n),this.size-=t.size)}getEntry(n,t){const i=this.docs.get(t);return ce.resolve(i?i.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(n,t){let i=Jo();return t.forEach(o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():Kn.newInvalidDocument(o))}),ce.resolve(i)}getAllFromCollection(n,t,i){let o=Jo();const u=new tt(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:g,value:{document:v}}=d.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||mv(LE(v),i)<=0||(o=o.insert(v.key,v.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(n,t,i,o){lt()}Is(n,t){return ce.forEach(this.docs,i=>t(i))}newChangeBuffer(n){return new EP(this)}getSize(n){return ce.resolve(this.size)}}class EP extends Ik{constructor(n){super(),this.zn=n}applyChanges(n){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.zn.addEntry(n,o)):this.zn.removeEntry(i)}),ce.waitFor(t)}getFromCache(n,t){return this.zn.getEntry(n,t)}getAllFromCache(n,t){return this.zn.getEntries(n,t)}}class DP{constructor(n){this.persistence=n,this.Ts=new Dd(t=>wp(t),bv),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Es=0,this.As=new oD,this.targetCount=0,this.Rs=Zp.An()}forEachTarget(n,t){return this.Ts.forEach((i,o)=>t(o)),ce.resolve()}getLastRemoteSnapshotVersion(n){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return ce.resolve(this.Es)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(n,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Es&&(this.Es=t),ce.resolve()}vn(n){this.Ts.set(n.target,n);const t=n.targetId;t>this.highestTargetId&&(this.Rs=new Zp(t),this.highestTargetId=t),n.sequenceNumber>this.Es&&(this.Es=n.sequenceNumber)}addTargetData(n,t){return this.vn(t),this.targetCount+=1,ce.resolve()}updateTargetData(n,t){return this.vn(t),ce.resolve()}removeTargetData(n,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(n,t,i){let o=0;const u=[];return this.Ts.forEach((d,g)=>{g.sequenceNumber<=t&&null===i.get(g.targetId)&&(this.Ts.delete(d),u.push(this.removeMatchingKeysForTargetId(n,g.targetId)),o++)}),ce.waitFor(u).next(()=>o)}getTargetCount(n){return ce.resolve(this.targetCount)}getTargetData(n,t){const i=this.Ts.get(t)||null;return ce.resolve(i)}addMatchingKeys(n,t,i){return this.As.ss(t,i),ce.resolve()}removeMatchingKeys(n,t,i){this.As.os(t,i);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(n,d))}),ce.waitFor(u)}removeMatchingKeysForTargetId(n,t){return this.As.us(t),ce.resolve()}getMatchingKeysForTargetId(n,t){const i=this.As.hs(t);return ce.resolve(i)}containsKey(n,t){return ce.resolve(this.As.containsKey(t))}}class Zk{constructor(n,t){this.bs={},this.overlays={},this.Ps=new x(0),this.vs=!1,this.vs=!0,this.referenceDelegate=n(this),this.Vs=new DP(this),this.indexManager=new hP,this.remoteDocumentCache=new IP(i=>this.referenceDelegate.Ss(i)),this.wt=new uk(t),this.Ds=new wP(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let t=this.overlays[n.toKey()];return t||(t=new bP,this.overlays[n.toKey()]=t),t}getMutationQueue(n,t){let i=this.bs[n.toKey()];return i||(i=new AP(t,this.referenceDelegate),this.bs[n.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(n,t,i){Fe("MemoryPersistence","Starting transaction:",n);const o=new SP(this.Ps.next());return this.referenceDelegate.Cs(),i(o).next(u=>this.referenceDelegate.xs(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ns(n,t){return ce.or(Object.values(this.bs).map(i=>()=>i.containsKey(n,t)))}}class SP extends qE{constructor(n){super(),this.currentSequenceNumber=n}}class Cw{constructor(n){this.persistence=n,this.ks=new oD,this.Os=null}static Ms(n){return new Cw(n)}get Fs(){if(this.Os)return this.Os;throw lt()}addReference(n,t,i){return this.ks.addReference(i,t),this.Fs.delete(i.toString()),ce.resolve()}removeReference(n,t,i){return this.ks.removeReference(i,t),this.Fs.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(n,t){return this.Fs.add(t.toString()),ce.resolve()}removeTarget(n,t){this.ks.us(t.targetId).forEach(o=>this.Fs.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(n,t.targetId).next(o=>{o.forEach(u=>this.Fs.add(u.toString()))}).next(()=>i.removeTargetData(n,t))}Cs(){this.Os=new Set}xs(n){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Fs,i=>{const o=tt.fromPath(i);return this.$s(n,o).next(u=>{u||t.removeEntry(o,St.min())})}).next(()=>(this.Os=null,t.apply(n)))}updateLimboDocument(n,t){return this.$s(n,t).next(i=>{i?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(n){return 0}$s(n,t){return ce.or([()=>ce.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(n,t),()=>this.persistence.Ns(n,t)])}}class xP{constructor(n){this.wt=n}O(n,t,i,o){const u=new _v("createOrUpgrade",t);var g;i<1&&o>=1&&(n.createObjectStore("owner"),(g=n).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rk,{unique:!0}),g.createObjectStore("documentMutations"),Nk(n),function(g){g.createObjectStore("remoteDocuments")}(n));let d=ce.resolve();return i<3&&o>=3&&(0!==i&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(n),Nk(n)),d=d.next(()=>function(g){const v=g.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",w)}(u))),i<4&&o>=4&&(0!==i&&(d=d.next(()=>function(g,v){return v.store("mutations").K().next(w=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rk,{unique:!0});const S=v.store("mutations"),N=w.map(R=>S.put(R));return ce.waitFor(N)})}(n,u))),d=d.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),i<5&&o>=5&&(d=d.next(()=>this.Bs(u))),i<6&&o>=6&&(d=d.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(n),this.Ls(u)))),i<7&&o>=7&&(d=d.next(()=>this.Us(u))),i<8&&o>=8&&(d=d.next(()=>this.qs(n,u))),i<9&&o>=9&&(d=d.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(n)})),i<10&&o>=10&&(d=d.next(()=>this.Ks(u))),i<11&&o>=11&&(d=d.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),i<12&&o>=12&&(d=d.next(()=>{!function(g){const v=g.createObjectStore("documentOverlays",{keyPath:eP});v.createIndex("collectionPathOverlayIndex",tP,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",nP,{unique:!1})}(n)})),i<13&&o>=13&&(d=d.next(()=>function(g){const v=g.createObjectStore("remoteDocumentsV14",{keyPath:jM});v.createIndex("documentKeyIndex",$M),v.createIndex("collectionGroupIndex",HM)}(n)).next(()=>this.Gs(n,u)).next(()=>n.deleteObjectStore("remoteDocuments"))),i<14&&o>=14&&(d=d.next(()=>this.Qs(n,u))),i<15&&o>=15&&(d=d.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:QM}).createIndex("sequenceNumberIndex",KM,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:YM}).createIndex("documentKeyIndex",XM,{unique:!1})}(n))),d}Ls(n){let t=0;return n.store("remoteDocuments").J((i,o)=>{t+=_w(o)}).next(()=>{const i={byteSize:t};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(n){const t=n.store("mutationQueues"),i=n.store("mutations");return t.K().next(o=>ce.forEach(o,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",d).next(g=>ce.forEach(g,v=>{Mt(v.userId===u.userId);const w=Dp(this.wt,v);return Ck(n,u.userId,w).next(()=>{})}))}))}Us(n){const t=n.store("targetDocuments"),i=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return i.J((d,g)=>{const v=new dn(d),w=[0,wo(v)];u.push(t.get(w).next(S=>S?ce.resolve():t.put({targetId:0,path:wo(v),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ce.waitFor(u))})}qs(n,t){n.createObjectStore("collectionParents",{keyPath:zM});const i=t.store("collectionParents"),o=new iD,u=d=>{if(o.add(d)){const g=d.lastSegment(),v=d.popLast();return i.put({collectionId:g,parent:wo(v)})}};return t.store("remoteDocuments").J({H:!0},(d,g)=>{const v=new dn(d);return u(v.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([d,g,v],w)=>{const S=$u(g);return u(S.popLast())}))}Ks(n){const t=n.store("targets");return t.J((i,o)=>{const u=Uv(o),d=ck(this.wt,u);return t.put(d)})}Gs(n,t){const i=t.store("remoteDocuments"),o=[];return i.J((u,d)=>{const g=t.store("remoteDocumentsV14"),v=(w=d,w.document?new tt(dn.fromString(w.document.name).popFirst(5)):w.noDocument?tt.fromSegments(w.noDocument.path):w.unknownDocument?tt.fromSegments(w.unknownDocument.path):lt()).path.toArray();var w;const S={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(g.put(S))}).next(()=>ce.waitFor(o))}Qs(n,t){const i=t.store("mutations"),o=Ek(this.wt),u=new Zk(Cw.Ms,this.wt.ne);return i.K().next(d=>{const g=new Map;return d.forEach(v=>{var w;let S=null!==(w=g.get(v.userId))&&void 0!==w?w:Wt();Dp(this.wt,v).keys().forEach(N=>S=S.add(N)),g.set(v.userId,S)}),ce.forEach(g,(v,w)=>{const S=new si(w),N=fw.se(this.wt,S),R=u.getIndexManager(S),z=yw.se(S,this.wt,R,u.referenceDelegate);return new kk(o,z,N,R).recalculateAndSaveOverlaysForDocumentKeys(new YE(t,x.ot),v).next()})})}}function Nk(r){r.createObjectStore("targetDocuments",{keyPath:JM}).createIndex("documentTargetsIndex",WM,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",GM,{unique:!0}),r.createObjectStore("targetGlobal")}const sD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class aD{constructor(n,t,i,o,u,d,g,v,w,S,N=14){if(this.allowTabSynchronization=n,this.persistenceKey=t,this.clientId=i,this.js=u,this.window=d,this.document=g,this.Ws=w,this.zs=S,this.Hs=N,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=R=>Promise.resolve(),!aD.V())throw new Ue(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yP(this,o),this.ei=t+"main",this.wt=new uk(v),this.ni=new s(this.ei,this.Hs,new xP(this.wt)),this.Vs=new fP(this.referenceDelegate,this.wt),this.remoteDocumentCache=Ek(this.wt),this.Ds=new sP,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===S&&Bn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ue(pe.FAILED_PRECONDITION,sD);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Vs.getHighestSequenceNumber(n))}).then(n=>{this.Ps=new x(n,this.Ws)}).then(()=>{this.vs=!0}).catch(n=>(this.ni&&this.ni.close(),Promise.reject(n)))}ci(n){var t=this;return this.ti=function(){var i=(0,Ie.Z)(function*(o){if(t.started)return n(o)});return function(o){return i.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.ni.F(function(){var t=(0,Ie.Z)(function*(i){null===i.newVersion&&(yield n())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(n){var t=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.js.enqueueAndForget((0,Ie.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>Tw(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(n).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(n)).next(t=>this.isPrimary&&!t?this.li(n).next(()=>!1):!!t&&this.fi(n).next(()=>!0))).catch(n=>{if(c(n))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.js.enqueueRetryable(()=>this.ti(n)),this.isPrimary=n})}ai(n){return Vv(n).get("owner").next(t=>ce.resolve(this.di(t)))}_i(n){return Tw(n).delete(this.clientId)}wi(){var n=this;return(0,Ie.Z)(function*(){if(n.isPrimary&&!n.mi(n.Zs,18e5)){n.Zs=Date.now();const t=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const o=Ti(i,"clientMetadata");return o.K().next(u=>{const d=n.gi(u,18e5),g=u.filter(v=>-1===d.indexOf(v));return ce.forEach(g,v=>o.delete(v.clientId)).next(()=>g)})}).catch(()=>[]);if(n.si)for(const i of t)n.si.removeItem(n.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(n){return!!n&&n.ownerId===this.clientId}hi(n){return this.zs?ce.resolve(!0):Vv(n).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Ue(pe.FAILED_PRECONDITION,sD);return!1}}return!(!this.networkEnabled||!this.inForeground)||Tw(n).K().next(i=>void 0===this.gi(i,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,g=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var n=this;return(0,Ie.Z)(function*(){n.vs=!1,n.Ii(),n.Xs&&(n.Xs.cancel(),n.Xs=null),n.Ti(),n.Ei(),yield n.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new YE(t,x.ot);return n.li(i).next(()=>n._i(i))}),n.ni.close(),n.Ai()})()}gi(n,t){return n.filter(i=>this.mi(i.updateTimeMs,t)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",n=>Tw(n).K().next(t=>this.gi(t,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(n,t){return yw.se(n,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new pP(n,this.wt.ne.databaseId)}getDocumentOverlayCache(n){return fw.se(this.wt,n)}getBundleCache(){return this.Ds}runTransaction(n,t,i){Fe("IndexedDbPersistence","Starting transaction:",n);const o="readonly"===t?"readonly":"readwrite",u=15===(d=this.Hs)?iP:14===d?ak:13===d?sk:12===d?rP:11===d?ok:void lt();var d;let g;return this.ni.runTransaction(n,o,u,v=>(g=new YE(v,this.Ps?this.Ps.next():x.ot),"readwrite-primary"===t?this.ai(g).next(w=>!!w||this.hi(g)).next(w=>{if(!w)throw Bn(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Ue(pe.FAILED_PRECONDITION,FE);return i(g)}).next(w=>this.fi(g).next(()=>w)):this.bi(g).next(()=>i(g)))).then(v=>(g.raiseOnCommittedEvent(),v))}bi(n){return Vv(n).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ue(pe.FAILED_PRECONDITION,sD)})}fi(n){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vv(n).put("owner",t)}static V(){return s.V()}li(n){const t=Vv(n);return t.get("owner").next(i=>this.di(i)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ce.resolve())}mi(n,t){const i=Date.now();return!(n<i-t||n>i&&(Bn(`Detected an update time that is in the future: ${n} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Yt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(n){var t;try{const i=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(n)));return Fe("IndexedDbPersistence",`Client '${n}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Bn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(n){Bn("Failed to set zombie client id.",n)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(n){}}yi(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Vv(r){return Ti(r,"owner")}function Tw(r){return Ti(r,"clientMetadata")}function uD(r,n){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+n+"/"+t+"/"}class lD{constructor(n,t,i,o){this.targetId=n,this.fromCache=t,this.Pi=i,this.vi=o}static Vi(n,t){let i=Wt(),o=Wt();for(const u of t.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new lD(n,t.fromCache,i,o)}}class Mk{constructor(){this.Si=!1}initialize(n,t){this.Di=n,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(n,t,i,o){return this.Ci(n,t).next(u=>u||this.xi(n,t,o,i)).next(u=>u||this.Ni(n,t))}Ci(n,t){return ce.resolve(null)}xi(n,t,i,o){return function fM(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}(t)||o.isEqual(St.min())?this.Ni(n,t):this.Di.getDocuments(n,i).next(u=>{const d=this.ki(t,u);return this.Oi(t,d,i,o)?this.Ni(n,t):(hv()<=Wa.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),GE(t)),this.Mi(n,d,t,RE(o,-1)))})}ki(n,t){let i=new je(Tx(n));return t.forEach((o,u)=>{JE(n,u)&&(i=i.add(u))}),i}Oi(n,t,i,o){if(null===n.limit)return!1;if(i.size!==t.size)return!0;const u="F"===n.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ni(n,t){return hv()<=Wa.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",GE(t)),this.Di.getDocumentsMatchingQuery(n,t,Go.min())}Mi(n,t,i,o){return this.Di.getDocumentsMatchingQuery(n,i,o).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class kP{constructor(n,t,i,o){this.persistence=n,this.Fi=t,this.wt=o,this.$i=new he(Bt),this.Bi=new Dd(u=>wp(u),bv),this.Li=new Map,this.Ui=n.getRemoteDocumentCache(),this.Vs=n.getTargetCache(),this.Ds=n.getBundleCache(),this.qi(i)}qi(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new kk(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>n.collect(t,this.$i))}}function Pk(r,n,t,i){return new kP(r,n,t,i)}function Uk(r,n){return cD.apply(this,arguments)}function cD(){return cD=(0,Ie.Z)(function*(r,n){const t=nt(r);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(u=>(o=u,t.qi(n),t.mutationQueue.getAllMutationBatches(i))).next(u=>{const d=[],g=[];let v=Wt();for(const w of o){d.push(w.batchId);for(const S of w.mutations)v=v.add(S.key)}for(const w of u){g.push(w.batchId);for(const S of w.mutations)v=v.add(S.key)}return t.localDocuments.getDocuments(i,v).next(w=>({Ki:w,removedBatchIds:d,addedBatchIds:g}))})})}),cD.apply(this,arguments)}function ZP(r,n){const t=nt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=n.batch.keys(),u=t.Ui.newChangeBuffer({trackRemovals:!0});return function(d,g,v,w){const S=v.batch,N=S.keys();let R=ce.resolve();return N.forEach(z=>{R=R.next(()=>w.getEntry(g,z)).next(te=>{const Pe=v.docVersions.get(z);Mt(null!==Pe),te.version.compareTo(Pe)<0&&(S.applyToRemoteDocument(te,v),te.isValidDocument()&&(te.setReadTime(v.commitVersion),w.addEntry(te)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(g,S))}(t,i,n,u).next(()=>u.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,n.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let g=Wt();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(g=g.add(d.batch.mutations[v].key));return g}(n))).next(()=>t.localDocuments.getDocuments(i,o))})}function Ok(r){const n=nt(r);return n.persistence.runTransaction("Get last remote snapshot version","readonly",t=>n.Vs.getLastRemoteSnapshotVersion(t))}function NP(r,n){const t=nt(r),i=n.snapshotVersion;let o=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Ui.newChangeBuffer({trackRemovals:!0});o=t.$i;const g=[];n.targetChanges.forEach((S,N)=>{const R=o.get(N);if(!R)return;g.push(t.Vs.removeMatchingKeys(u,S.removedDocuments,N).next(()=>t.Vs.addMatchingKeys(u,S.addedDocuments,N)));let z=R.withSequenceNumber(u.currentSequenceNumber);var te,Pe,Ge;n.targetMismatches.has(N)?z=z.withResumeToken(qt.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):S.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(S.resumeToken,i)),o=o.insert(N,z),Pe=z,Ge=S,(0===(te=R).resumeToken.approximateByteSize()||Pe.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=3e8||Ge.addedDocuments.size+Ge.modifiedDocuments.size+Ge.removedDocuments.size>0)&&g.push(t.Vs.updateTargetData(u,z))});let v=Jo(),w=Wt();if(n.documentUpdates.forEach(S=>{n.resolvedLimboDocuments.has(S)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),g.push(Rk(u,d,n.documentUpdates).next(S=>{v=S.Gi,w=S.Qi})),!i.isEqual(St.min())){const S=t.Vs.getLastRemoteSnapshotVersion(u).next(N=>t.Vs.setTargetsMetadata(u,u.currentSequenceNumber,i));g.push(S)}return ce.waitFor(g).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,v,w)).next(()=>v)}).then(u=>(t.$i=o,u))}function Rk(r,n,t){let i=Wt(),o=Wt();return t.forEach(u=>i=i.add(u)),n.getEntries(r,i).next(u=>{let d=Jo();return t.forEach((g,v)=>{const w=u.get(g);v.isFoundDocument()!==w.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(St.min())?(n.removeEntry(g,v.readTime),d=d.insert(g,v)):!w.isValidDocument()||v.version.compareTo(w.version)>0||0===v.version.compareTo(w.version)&&w.hasPendingWrites?(n.addEntry(v),d=d.insert(g,v)):Fe("LocalStore","Ignoring outdated watch update for ",g,". Current version:",w.version," Watch version:",v.version)}),{Gi:d,Qi:o}})}function MP(r,n){const t=nt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===n&&(n=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,n)))}function om(r,n){const t=nt(r);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Vs.getTargetData(i,n).next(u=>u?(o=u,ce.resolve(o)):t.Vs.allocateTargetId(i).next(d=>(o=new Sd(n,d,0,i.currentSequenceNumber),t.Vs.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.$i.get(i.targetId);return(null===o||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.$i=t.$i.insert(i.targetId,i),t.Bi.set(n,i.targetId)),i})}function sm(r,n,t){return dD.apply(this,arguments)}function dD(){return dD=(0,Ie.Z)(function*(r,n,t){const i=nt(r),o=i.$i.get(n),u=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",u,d=>i.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!c(d))throw d;Fe("LocalStore",`Failed to update sequence numbers for target ${n}: ${d}`)}i.$i=i.$i.remove(n),i.Bi.delete(o.target)}),dD.apply(this,arguments)}function ww(r,n,t){const i=nt(r);let o=St.min(),u=Wt();return i.persistence.runTransaction("Execute query","readonly",d=>function(g,v,w){const S=nt(g),N=S.Bi.get(w);return void 0!==N?ce.resolve(S.$i.get(N)):S.Vs.getTargetData(v,w)}(i,d,pa(n)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(d,g.targetId).next(v=>{u=v})}).next(()=>i.Fi.getDocumentsMatchingQuery(d,n,t?o:St.min(),t?u:Wt())).next(g=>(qk(i,Cx(n),g),{documents:g,ji:u})))}function Lk(r,n){const t=nt(r),i=nt(t.Vs),o=t.$i.get(n);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>i.te(u,n).next(d=>d?d.target:null))}function Fk(r,n){const t=nt(r),i=t.Li.get(n)||St.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Ui.getAllFromCollectionGroup(o,n,RE(i,-1),Number.MAX_SAFE_INTEGER)).then(o=>(qk(t,n,o),o))}function qk(r,n,t){let i=St.min();t.forEach((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),r.Li.set(n,i)}function hD(){return hD=(0,Ie.Z)(function*(r,n,t,i){const o=nt(r);let u=Wt(),d=Jo();for(const w of t){const S=n.Wi(w.metadata.name);w.document&&(u=u.add(S));const N=n.zi(w);N.setReadTime(n.Hi(w.metadata.readTime)),d=d.insert(S,N)}const g=o.Ui.newChangeBuffer({trackRemovals:!0}),v=yield om(o,(w=i,pa(zg(dn.fromString(`__bundle__/docs/${w}`)))));var w;return o.persistence.runTransaction("Apply bundle documents","readwrite",w=>Rk(w,g,d).next(S=>(g.apply(w),S)).next(S=>o.Vs.removeMatchingKeysForTargetId(w,v.targetId).next(()=>o.Vs.addMatchingKeys(w,u,v.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(w,S.Gi,S.Qi)).next(()=>S.Gi)))}),hD.apply(this,arguments)}function UP(r,n){return pD.apply(this,arguments)}function pD(){return pD=(0,Ie.Z)(function*(r,n,t=Wt()){const i=yield om(r,pa(nD(n.bundledQuery))),o=nt(r);return o.persistence.runTransaction("Save named query","readwrite",u=>{const d=Ci(n.readTime);if(i.snapshotVersion.compareTo(d)>=0)return o.Ds.saveNamedQuery(u,n);const g=i.withResumeToken(qt.EMPTY_BYTE_STRING,d);return o.$i=o.$i.insert(g.targetId,g),o.Vs.updateTargetData(u,g).next(()=>o.Vs.removeMatchingKeysForTargetId(u,i.targetId)).next(()=>o.Vs.addMatchingKeys(u,t,i.targetId)).next(()=>o.Ds.saveNamedQuery(u,n))})}),pD.apply(this,arguments)}function Vk(r,n){return`firestore_clients_${r}_${n}`}function Bk(r,n,t){let i=`firestore_mutations_${r}_${t}`;return n.isAuthenticated()&&(i+=`_${n.uid}`),i}function fD(r,n){return`firestore_targets_${r}_${n}`}class bw{constructor(n,t,i,o){this.user=n,this.batchId=t,this.state=i,this.error=o}static Ji(n,t,i){const o=JSON.parse(i);let u,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new Ue(o.error.code,o.error.message))),d?new bw(n,t,o.state,u):(Bn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Yi(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Bv{constructor(n,t,i){this.targetId=n,this.state=t,this.error=i}static Ji(n,t){const i=JSON.parse(t);let o,u="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(o=new Ue(i.error.code,i.error.message))),u?new Bv(n,i.state,o):(Bn("SharedClientState",`Failed to parse target state for ID '${n}': ${t}`),null)}Yi(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Aw{constructor(n,t){this.clientId=n,this.activeTargetIds=t}static Ji(n,t){const i=JSON.parse(t);let o="object"==typeof i&&i.activeTargetIds instanceof Array,u=cw();for(let d=0;o&&d<i.activeTargetIds.length;++d)o=rx(i.activeTargetIds[d]),u=u.add(i.activeTargetIds[d]);return o?new Aw(n,u):(Bn("SharedClientState",`Failed to parse client data for instance '${n}': ${t}`),null)}}class gD{constructor(n,t){this.clientId=n,this.onlineState=t}static Ji(n){const t=JSON.parse(n);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gD(t.clientId,t.onlineState):(Bn("SharedClientState",`Failed to parse online state: ${n}`),null)}}class mD{constructor(){this.activeTargetIds=cw()}Xi(n){this.activeTargetIds=this.activeTargetIds.add(n)}Zi(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Yi(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class _D{constructor(n,t,i,o,u){this.window=n,this.js=t,this.persistenceKey=i,this.tr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new he(Bt),this.started=!1,this.ir=[];const d=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.rr=Vk(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new mD),this.cr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,Ie.Z)(function*(){const t=yield n.syncEngine.Ri();for(const o of t){if(o===n.tr)continue;const u=n.getItem(Vk(n.persistenceKey,o));if(u){const d=Aw.Ji(o,u);d&&(n.sr=n.sr.insert(d.clientId,d))}}n._r();const i=n.storage.getItem(n.lr);if(i){const o=n.wr(i);o&&n.mr(o)}for(const o of n.ir)n.nr(o);n.ir=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.ur,JSON.stringify(n))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(n){let t=!1;return this.sr.forEach((i,o)=>{o.activeTargetIds.has(n)&&(t=!0)}),t}addPendingMutation(n){this.yr(n,"pending")}updateMutationState(n,t,i){this.yr(n,t,i),this.pr(n)}addLocalQueryTarget(n){let t="not-current";if(this.isActiveQueryTarget(n)){const i=this.storage.getItem(fD(this.persistenceKey,n));if(i){const o=Bv.Ji(n,i);o&&(t=o.state)}}return this.Ir.Xi(n),this._r(),t}removeLocalQueryTarget(n){this.Ir.Zi(n),this._r()}isLocalQueryTarget(n){return this.Ir.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(fD(this.persistenceKey,n))}updateQueryState(n,t,i){this.Tr(n,t,i)}handleUserChange(n,t,i){t.forEach(o=>{this.pr(o)}),this.currentUser=n,i.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(n){this.Er(n)}notifyBundleLoaded(n){this.Ar(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(n){const t=this.storage.getItem(n);return Fe("SharedClientState","READ",n,t),t}setItem(n,t){Fe("SharedClientState","SET",n,t),this.storage.setItem(n,t)}removeItem(n){Fe("SharedClientState","REMOVE",n),this.storage.removeItem(n)}nr(n){var t=this;const i=n;if(i.storageArea===this.storage){if(Fe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void Bn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Ie.Z)(function*(){if(t.started){if(null!==i.key)if(t.cr.test(i.key)){if(null==i.newValue){const o=t.Rr(i.key);return t.br(o,null)}{const o=t.Pr(i.key,i.newValue);if(o)return t.br(o.clientId,o)}}else if(t.ar.test(i.key)){if(null!==i.newValue){const o=t.vr(i.key,i.newValue);if(o)return t.Vr(o)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const o=t.Sr(i.key,i.newValue);if(o)return t.Dr(o)}}else if(i.key===t.lr){if(null!==i.newValue){const o=t.wr(i.newValue);if(o)return t.mr(o)}}else if(i.key===t.ur){const o=function(u){let d=x.ot;if(null!=u)try{const g=JSON.parse(u);Mt("number"==typeof g),d=g}catch(g){Bn("SharedClientState","Failed to read sequence number from WebStorage",g)}return d}(i.newValue);o!==x.ot&&t.sequenceNumberHandler(o)}else if(i.key===t.dr){const o=t.Cr(i.newValue);yield Promise.all(o.map(u=>t.syncEngine.Nr(u)))}}else t.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(n,t,i){const o=new bw(this.currentUser,n,t,i),u=Bk(this.persistenceKey,this.currentUser,n);this.setItem(u,o.Yi())}pr(n){const t=Bk(this.persistenceKey,this.currentUser,n);this.removeItem(t)}Er(n){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:n}))}Tr(n,t,i){const o=fD(this.persistenceKey,n),u=new Bv(n,t,i);this.setItem(o,u.Yi())}Ar(n){const t=JSON.stringify(Array.from(n));this.setItem(this.dr,t)}Rr(n){const t=this.cr.exec(n);return t?t[1]:null}Pr(n,t){const i=this.Rr(n);return Aw.Ji(i,t)}vr(n,t){const i=this.ar.exec(n),o=Number(i[1]);return bw.Ji(new si(void 0!==i[2]?i[2]:null),o,t)}Sr(n,t){const i=this.hr.exec(n),o=Number(i[1]);return Bv.Ji(o,t)}wr(n){return gD.Ji(n)}Cr(n){return JSON.parse(n)}Vr(n){var t=this;return(0,Ie.Z)(function*(){if(n.user.uid===t.currentUser.uid)return t.syncEngine.kr(n.batchId,n.state,n.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Dr(n){return this.syncEngine.Or(n.targetId,n.state,n.error)}br(n,t){const i=t?this.sr.insert(n,t):this.sr.remove(n),o=this.gr(this.sr),u=this.gr(i),d=[],g=[];return u.forEach(v=>{o.has(v)||d.push(v)}),o.forEach(v=>{u.has(v)||g.push(v)}),this.syncEngine.Mr(d,g).then(()=>{this.sr=i})}mr(n){this.sr.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}gr(n){let t=cw();return n.forEach((i,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class jk{constructor(){this.Fr=new mD,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,t,i){}addLocalQueryTarget(n){return this.Fr.Xi(n),this.$r[n]||"not-current"}updateQueryState(n,t,i){this.$r[n]=t}removeLocalQueryTarget(n){this.Fr.Zi(n)}isLocalQueryTarget(n){return this.Fr.activeTargetIds.has(n)}clearQueryState(n){delete this.$r[n]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(n){return this.Fr.activeTargetIds.has(n)}start(){return this.Fr=new mD,Promise.resolve()}handleUserChange(n,t,i){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class OP{Br(n){}shutdown(){}}class $k{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(n){this.Gr.push(n)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.Gr)n(0)}Kr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.Gr)n(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const RP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class LP{constructor(n){this.jr=n.jr,this.Wr=n.Wr}zr(n){this.Hr=n}Jr(n){this.Yr=n}onMessage(n){this.Xr=n}close(){this.Wr()}send(n){this.jr(n)}Zr(){this.Hr()}eo(n){this.Yr(n)}no(n){this.Xr(n)}}class FP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.so=(n.ssl?"https":"http")+"://"+n.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(n,t,i,o,u){const d=this.oo(n,t);Fe("RestConnection","Sending: ",d,i);const g={};return this.uo(g,o,u),this.co(n,d,g,i).then(v=>(Fe("RestConnection","Received: ",v),v),v=>{throw bd("RestConnection",`${n} failed with error: `,v,"url: ",d,"request:",i),v})}ao(n,t,i,o,u,d){return this.ro(n,t,i,o,u)}uo(n,t,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+wd,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>n[u]=o),i&&i.headers.forEach((o,u)=>n[u]=o)}oo(n,t){return`${this.so}/v1/${t}:${RP[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}co(n,t,i,o){return new Promise((u,d)=>{const g=new tx;g.listenOnce(DE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Bg.NO_ERROR:const w=g.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(w)),u(w);break;case Bg.TIMEOUT:Fe("Connection",'RPC "'+n+'" timed out'),d(new Ue(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Bg.HTTP_ERROR:const S=g.getStatus();if(Fe("Connection",'RPC "'+n+'" failed with status:',S,"response text:",g.getResponseText()),S>0){const N=g.getResponseJson().error;if(N&&N.status&&N.message){const R=function(z){const te=z.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(te)>=0?te:pe.UNKNOWN}(N.status);d(new Ue(R,N.message))}else d(new Ue(pe.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Ue(pe.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{Fe("Connection",'RPC "'+n+'" completed.')}});const v=JSON.stringify(o);g.send(t,"POST",v,i,15)})}ho(n,t,i){const o=[this.so,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=Y2(),d=X2(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new ex({})),this.uo(g.initMessageHeaders,t,i),(0,Yt.uI)()||(0,Yt.b$)()||(0,Yt.d)()||(0,Yt.w1)()||(0,Yt.Mn)()||(0,Yt.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const v=o.join("");Fe("Connection","Creating WebChannel: "+v,g);const w=u.createWebChannel(v,g);let S=!1,N=!1;const R=new LP({jr:te=>{N?Fe("Connection","Not sending because WebChannel is closed:",te):(S||(Fe("Connection","Opening WebChannel transport."),w.open(),S=!0),Fe("Connection","WebChannel sending:",te),w.send(te))},Wr:()=>w.close()}),z=(te,Pe,Ge)=>{te.listen(Pe,ft=>{try{Ge(ft)}catch(Ut){setTimeout(()=>{throw Ut},0)}})};return z(w,dv.EventType.OPEN,()=>{N||Fe("Connection","WebChannel transport opened.")}),z(w,dv.EventType.CLOSE,()=>{N||(N=!0,Fe("Connection","WebChannel transport closed"),R.eo())}),z(w,dv.EventType.ERROR,te=>{N||(N=!0,bd("Connection","WebChannel transport errored:",te),R.eo(new Ue(pe.UNAVAILABLE,"The operation could not be completed")))}),z(w,dv.EventType.MESSAGE,te=>{var Pe;if(!N){const Ge=te.data[0];Mt(!!Ge);const ft=Ge,Ut=ft.error||(null===(Pe=ft[0])||void 0===Pe?void 0:Pe.error);if(Ut){Fe("Connection","WebChannel received error:",Ut);const Xt=Ut.status;let bt=function(xn){const oo=Jr[xn];if(void 0!==oo)return Ox(oo)}(Xt),en=Ut.message;void 0===bt&&(bt=pe.INTERNAL,en="Unknown error status: "+Xt+" with message "+Ut.message),N=!0,R.eo(new Ue(bt,en)),w.close()}else Fe("Connection","WebChannel received:",Ge),R.no(Ge)}}),z(d,SE.STAT_EVENT,te=>{te.stat===QT.PROXY?Fe("Connection","Detected buffering proxy"):te.stat===QT.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{R.Zr()},0),R}}function Hk(){return"undefined"!=typeof window?window:null}function Iw(){return"undefined"!=typeof document?document:null}function jv(r){return new kM(r,!0)}class yD{constructor(n,t,i=1e3,o=1.5,u=6e4){this.js=n,this.timerId=t,this.lo=i,this.fo=o,this._o=u,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(n){this.cancel();const t=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),o=Math.max(0,t-i);o>0&&Fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),n())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Gk{constructor(n,t,i,o,u,d,g,v){this.js=n,this.Ao=i,this.Ro=o,this.bo=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new yD(n,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var n=this;return(0,Ie.Z)(function*(){n.Do()&&(yield n.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(n){this.Fo(),this.stream.send(n)}Oo(){var n=this;return(0,Ie.Z)(function*(){if(n.Co())return n.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(n,t){var i=this;return(0,Ie.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==n?i.So.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(Bn(t.toString()),Bn("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):t&&t.code===pe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=n,yield i.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const n=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Po===t&&this.Uo(i,o)},i=>{n(()=>{const o=new Ue(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(o)})})}Uo(n,t){const i=this.Lo(this.Po);this.stream=this.Ko(n,t),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{i(()=>this.qo(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}xo(){var n=this;this.state=5,this.So.Io((0,Ie.Z)(function*(){n.state=0,n.start()}))}qo(n){return Fe("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}Lo(n){return t=>{this.js.enqueueAndForget(()=>this.Po===n?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qP extends Gk{constructor(n,t,i,o,u,d){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,d),this.wt=u}Ko(n,t){return this.bo.ho("Listen",n,t)}onMessage(n){this.So.reset();const t=function MM(r,n){let t;if("targetChange"in n){const i="NO_CHANGE"===(v=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:lt(),o=n.targetChange.targetIds||[],u=function(v,w){return v.dt?(Mt(void 0===w||"string"==typeof w),qt.fromBase64String(w||"")):(Mt(void 0===w||w instanceof Uint8Array),qt.fromUint8Array(w||new Uint8Array))}(r,n.targetChange.resumeToken),d=n.targetChange.cause,g=d&&function(v){const w=void 0===v.code?pe.UNKNOWN:Ox(v.code);return new Ue(w,v.message||"")}(d);t=new Vx(i,o,u,g||null)}else if("documentChange"in n){const i=n.documentChange,o=ju(r,i.document.name),u=Ci(i.document.updateTime),d=new Ui({mapValue:{fields:i.document.fields}}),g=Kn.newFoundDocument(o,u,d);t=new dw(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in n){const i=n.documentDelete,o=ju(r,i.document),u=i.readTime?Ci(i.readTime):St.min(),d=Kn.newNoDocument(o,u);t=new dw([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in n){const i=n.documentRemove,o=ju(r,i.document);t=new dw([],i.removedTargetIds||[],o,null)}else{if(!("filter"in n))return lt();{const i=n.filter,u=new wM(i.count||0);t=new qx(i.targetId,u)}}var v;return t}(this.wt,n),i=function(o){if(!("targetChange"in o))return St.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?St.min():u.readTime?Ci(u.readTime):St.min()}(n);return this.listener.Go(t,i)}Qo(n){const t={};t.database=Mv(this.wt),t.addTarget=function(o,u){let d;const g=u.target;return d=ow(g)?{documents:Kx(o,g)}:{query:Yx(o,g)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=Hx(o,u.resumeToken):u.snapshotVersion.compareTo(St.min())>0&&(d.readTime=Zv(o,u.snapshotVersion.toTimestamp())),d}(this.wt,n);const i=function UM(r,n){const t=function(i,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lt()}}(0,n.purpose);return null==t?null:{"goog-listen-tags":t}}(0,n);i&&(t.labels=i),this.Mo(t)}jo(n){const t={};t.database=Mv(this.wt),t.removeTarget=n,this.Mo(t)}}class VP extends Gk{constructor(n,t,i,o,u,d){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,d),this.wt=u,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(n,t){return this.bo.ho("Write",n,t)}onMessage(n){if(Mt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Wo){this.So.reset();const t=function PM(r,n){return r&&r.length>0?(Mt(void 0!==n),r.map(t=>function(i,o){let u=Ci(i.updateTime?i.updateTime:o);return u.isEqual(St.min())&&(u=Ci(o)),new vM(u,i.transformResults||[])}(t,n))):[]}(n.writeResults,n.commitTime),i=Ci(n.commitTime);return this.listener.Jo(i,t)}return Mt(!n.writeResults||0===n.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const n={};n.database=Mv(this.wt),this.Mo(n)}Ho(n){const t={streamToken:this.lastStreamToken,writes:n.map(i=>Pv(this.wt,i))};this.Mo(t)}}class BP extends class{}{constructor(n,t,i,o){super(),this.authCredentials=n,this.appCheckCredentials=t,this.bo=i,this.wt=o,this.Zo=!1}tu(){if(this.Zo)throw new Ue(pe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(n,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.ro(n,t,i,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ue(pe.UNKNOWN,o.toString())})}ao(n,t,i,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.bo.ao(n,t,i,u,d,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ue(pe.UNKNOWN,u.toString())})}terminate(){this.Zo=!0}}class jP{constructor(n,t){this.asyncQueue=n,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(n){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.ru("Offline")))}set(n){this.cu(),this.eu=0,"Online"===n&&(this.su=!1),this.ru(n)}ru(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}ou(n){const t=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Bn(t),this.su=!1):Fe("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class $P{constructor(n,t,i,o,u){var d=this;this.localStore=n,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=u,this.du.Br(g=>{i.enqueueAndForget((0,Ie.Z)(function*(){var v;Zd(d)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Ie.Z)(function*(w){const S=nt(w);S.lu.add(4),yield am(S),S._u.set("Unknown"),S.lu.delete(4),yield $v(S)}),function(w){return v.apply(this,arguments)})(d))}))}),this._u=new jP(i,o)}}function $v(r){return vD.apply(this,arguments)}function vD(){return vD=(0,Ie.Z)(function*(r){if(Zd(r))for(const n of r.fu)yield n(!0)}),vD.apply(this,arguments)}function am(r){return CD.apply(this,arguments)}function CD(){return CD=(0,Ie.Z)(function*(r){for(const n of r.fu)yield n(!1)}),CD.apply(this,arguments)}function Ew(r,n){const t=nt(r);t.hu.has(n.targetId)||(t.hu.set(n.targetId,n),bD(t)?wD(t):lm(t).Co()&&TD(t,n))}function Hv(r,n){const t=nt(r),i=lm(t);t.hu.delete(n),i.Co()&&Jk(t,n),0===t.hu.size&&(i.Co()?i.ko():Zd(t)&&t._u.set("Unknown"))}function TD(r,n){r.wu.Nt(n.targetId),lm(r).Qo(n)}function Jk(r,n){r.wu.Nt(n),lm(r).jo(n)}function wD(r){r.wu=new DM({getRemoteKeysForTarget:n=>r.remoteSyncer.getRemoteKeysForTarget(n),te:n=>r.hu.get(n)||null}),lm(r).start(),r._u.iu()}function bD(r){return Zd(r)&&!lm(r).Do()&&r.hu.size>0}function Zd(r){return 0===nt(r).lu.size}function Wk(r){r.wu=void 0}function HP(r){return AD.apply(this,arguments)}function AD(){return AD=(0,Ie.Z)(function*(r){r.hu.forEach((n,t)=>{TD(r,n)})}),AD.apply(this,arguments)}function GP(r,n){return ID.apply(this,arguments)}function ID(){return ID=(0,Ie.Z)(function*(r,n){Wk(r),bD(r)?(r._u.uu(n),wD(r)):r._u.set("Unknown")}),ID.apply(this,arguments)}function JP(r,n,t){return ED.apply(this,arguments)}function ED(){return ED=(0,Ie.Z)(function*(r,n,t){if(r._u.set("Online"),n instanceof Vx&&2===n.state&&n.cause)try{yield(i=(0,Ie.Z)(function*(o,u){const d=u.cause;for(const g of u.targetIds)o.hu.has(g)&&(yield o.remoteSyncer.rejectListen(g,d),o.hu.delete(g),o.wu.removeTarget(g))}),function(o,u){return i.apply(this,arguments)})(r,n)}catch(i){Fe("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),i),yield Dw(r,i)}else if(n instanceof dw?r.wu.Ut(n):n instanceof qx?r.wu.zt(n):r.wu.Gt(n),!t.isEqual(St.min()))try{const i=yield Ok(r.localStore);t.compareTo(i)>=0&&(yield function(o,u){const d=o.wu.Yt(u);return d.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const w=o.hu.get(v);w&&o.hu.set(v,w.withResumeToken(g.resumeToken,u))}}),d.targetMismatches.forEach(g=>{const v=o.hu.get(g);if(!v)return;o.hu.set(g,v.withResumeToken(qt.EMPTY_BYTE_STRING,v.snapshotVersion)),Jk(o,g);const w=new Sd(v.target,g,1,v.sequenceNumber);TD(o,w)}),o.remoteSyncer.applyRemoteEvent(d)}(r,t))}catch(i){Fe("RemoteStore","Failed to raise snapshot:",i),yield Dw(r,i)}var i}),ED.apply(this,arguments)}function Dw(r,n,t){return DD.apply(this,arguments)}function DD(){return DD=(0,Ie.Z)(function*(r,n,t){if(!c(n))throw n;r.lu.add(1),yield am(r),r._u.set("Offline"),t||(t=()=>Ok(r.localStore)),r.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),r.lu.delete(1),yield $v(r)}))}),DD.apply(this,arguments)}function zk(r,n){return n().catch(t=>Dw(r,t,n))}function um(r){return SD.apply(this,arguments)}function SD(){return SD=(0,Ie.Z)(function*(r){const n=nt(r),t=Nd(n);let i=n.au.length>0?n.au[n.au.length-1].batchId:-1;for(;WP(n);)try{const o=yield MP(n.localStore,i);if(null===o){0===n.au.length&&t.ko();break}i=o.batchId,zP(n,o)}catch(o){yield Dw(n,o)}Qk(n)&&Kk(n)}),SD.apply(this,arguments)}function WP(r){return Zd(r)&&r.au.length<10}function zP(r,n){r.au.push(n);const t=Nd(r);t.Co()&&t.zo&&t.Ho(n.mutations)}function Qk(r){return Zd(r)&&!Nd(r).Do()&&r.au.length>0}function Kk(r){Nd(r).start()}function QP(r){return xD.apply(this,arguments)}function xD(){return xD=(0,Ie.Z)(function*(r){Nd(r).Xo()}),xD.apply(this,arguments)}function KP(r){return kD.apply(this,arguments)}function kD(){return kD=(0,Ie.Z)(function*(r){const n=Nd(r);for(const t of r.au)n.Ho(t.mutations)}),kD.apply(this,arguments)}function YP(r,n,t){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,Ie.Z)(function*(r,n,t){const i=r.au.shift(),o=eD.from(i,n,t);yield zk(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),yield um(r)}),ZD.apply(this,arguments)}function XP(r,n){return ND.apply(this,arguments)}function ND(){return ND=(0,Ie.Z)(function*(r,n){var t;n&&Nd(r).zo&&(yield(t=(0,Ie.Z)(function*(i,o){if(Ux(u=o.code)&&u!==pe.ABORTED){const d=i.au.shift();Nd(i).No(),yield zk(i,()=>i.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield um(i)}var u}),function(i,o){return t.apply(this,arguments)})(r,n)),Qk(r)&&Kk(r)}),ND.apply(this,arguments)}function Yk(r,n){return MD.apply(this,arguments)}function MD(){return MD=(0,Ie.Z)(function*(r,n){const t=nt(r);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const i=Zd(t);t.lu.add(3),yield am(t),i&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(n),t.lu.delete(3),yield $v(t)}),MD.apply(this,arguments)}function PD(r,n){return UD.apply(this,arguments)}function UD(){return UD=(0,Ie.Z)(function*(r,n){const t=nt(r);n?(t.lu.delete(2),yield $v(t)):n||(t.lu.add(2),yield am(t),t._u.set("Unknown"))}),UD.apply(this,arguments)}function lm(r){return r.mu||(r.mu=function(n,t,i){const o=nt(n);return o.tu(),new qP(t,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,i)}(r.datastore,r.asyncQueue,{zr:HP.bind(null,r),Jr:GP.bind(null,r),Go:JP.bind(null,r)}),r.fu.push(function(){var n=(0,Ie.Z)(function*(t){t?(r.mu.No(),bD(r)?wD(r):r._u.set("Unknown")):(yield r.mu.stop(),Wk(r))});return function(t){return n.apply(this,arguments)}}())),r.mu}function Nd(r){return r.gu||(r.gu=function(n,t,i){const o=nt(n);return o.tu(),new VP(t,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,i)}(r.datastore,r.asyncQueue,{zr:QP.bind(null,r),Jr:XP.bind(null,r),Yo:KP.bind(null,r),Jo:YP.bind(null,r)}),r.fu.push(function(){var n=(0,Ie.Z)(function*(t){t?(r.gu.No(),yield um(r)):(yield r.gu.stop(),r.au.length>0&&(Fe("RemoteStore",`Stopping write stream with ${r.au.length} pending writes`),r.au=[]))});return function(t){return n.apply(this,arguments)}}())),r.gu}class OD{constructor(n,t,i,o,u){this.asyncQueue=n,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(n,t,i,o,u){const d=Date.now()+i,g=new OD(n,t,d,o,u);return g.start(i),g}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(pe.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cm(r,n){if(Bn("AsyncQueue",`${n}: ${r}`),c(r))return new Ue(pe.UNAVAILABLE,`${n}: ${r}`);throw r}class dm{constructor(n){this.comparator=n?(t,i)=>n(t,i)||tt.comparator(t.key,i.key):(t,i)=>tt.comparator(t.key,i.key),this.keyedMap=Dv(),this.sortedSet=new he(this.comparator)}static emptySet(n){return new dm(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const t=this.keyedMap.get(n);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((t,i)=>(n(t),!1))}add(n){const t=this.delete(n.key);return t.copy(t.keyedMap.insert(n.key,n),t.sortedSet.insert(n,null))}delete(n){const t=this.get(n);return t?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(t)):this}isEqual(n){if(!(n instanceof dm)||this.size!==n.size)return!1;const t=this.sortedSet.getIterator(),i=n.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const n=[];return this.forEach(t=>{n.push(t.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,t){const i=new dm;return i.comparator=this.comparator,i.keyedMap=n,i.sortedSet=t,i}}class Xk{constructor(){this.yu=new he(tt.comparator)}track(n){const t=n.doc.key,i=this.yu.get(t);i?0!==n.type&&3===i.type?this.yu=this.yu.insert(t,n):3===n.type&&1!==i.type?this.yu=this.yu.insert(t,{type:i.type,doc:n.doc}):2===n.type&&2===i.type?this.yu=this.yu.insert(t,{type:2,doc:n.doc}):2===n.type&&0===i.type?this.yu=this.yu.insert(t,{type:0,doc:n.doc}):1===n.type&&0===i.type?this.yu=this.yu.remove(t):1===n.type&&2===i.type?this.yu=this.yu.insert(t,{type:1,doc:i.doc}):0===n.type&&1===i.type?this.yu=this.yu.insert(t,{type:2,doc:n.doc}):lt():this.yu=this.yu.insert(t,n)}pu(){const n=[];return this.yu.inorderTraversal((t,i)=>{n.push(i)}),n}}class hm{constructor(n,t,i,o,u,d,g,v){this.query=n,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v}static fromInitialDocuments(n,t,i,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new hm(n,t,dm.emptySet(t),u,i,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Av(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const t=this.docChanges,i=n.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}class eU{constructor(){this.Iu=void 0,this.listeners=[]}}class tU{constructor(){this.queries=new Dd(n=>vx(n),Av),this.onlineState="Unknown",this.Tu=new Set}}function RD(r,n){return LD.apply(this,arguments)}function LD(){return LD=(0,Ie.Z)(function*(r,n){const t=nt(r),i=n.query;let o=!1,u=t.queries.get(i);if(u||(o=!0,u=new eU),o)try{u.Iu=yield t.onListen(i)}catch(d){const g=cm(d,`Initialization of query '${GE(n.query)}' failed`);return void n.onError(g)}t.queries.set(i,u),u.listeners.push(n),n.Eu(t.onlineState),u.Iu&&n.Au(u.Iu)&&VD(t)}),LD.apply(this,arguments)}function FD(r,n){return qD.apply(this,arguments)}function qD(){return qD=(0,Ie.Z)(function*(r,n){const t=nt(r),i=n.query;let o=!1;const u=t.queries.get(i);if(u){const d=u.listeners.indexOf(n);d>=0&&(u.listeners.splice(d,1),o=0===u.listeners.length)}if(o)return t.queries.delete(i),t.onUnlisten(i)}),qD.apply(this,arguments)}function nU(r,n){const t=nt(r);let i=!1;for(const o of n){const d=t.queries.get(o.query);if(d){for(const g of d.listeners)g.Au(o)&&(i=!0);d.Iu=o}}i&&VD(t)}function rU(r,n,t){const i=nt(r),o=i.queries.get(n);if(o)for(const u of o.listeners)u.onError(t);i.queries.delete(n)}function VD(r){r.Tu.forEach(n=>{n.next()})}class BD{constructor(n,t,i){this.query=n,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(n){if(!this.options.includeMetadataChanges){const i=[];for(const o of n.docChanges)3!==o.type&&i.push(o);n=new hm(n.query,n.docs,n.oldDocs,i,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(n)&&(this.Ru.next(n),t=!0):this.Vu(n,this.onlineState)&&(this.Su(n),t=!0),this.Pu=n,t}onError(n){this.Ru.error(n)}Eu(n){this.onlineState=n;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,n)&&(this.Su(this.Pu),t=!0),t}Vu(n,t){return!n.fromCache||!(this.options.Du&&"Offline"!==t||n.docs.isEmpty()&&"Offline"!==t)}vu(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(n){n=hm.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.bu=!0,this.Ru.next(n)}}class iU{constructor(n,t){this.payload=n,this.byteLength=t}Cu(){return"metadata"in this.payload}}class eZ{constructor(n){this.wt=n}Wi(n){return ju(this.wt,n)}zi(n){return n.metadata.exists?Qx(this.wt,n.document,!1):Kn.newNoDocument(this.Wi(n.metadata.name),this.Hi(n.metadata.readTime))}Hi(n){return Ci(n)}}class oU{constructor(n,t,i){this.xu=n,this.localStore=t,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tZ(n)}Nu(n){this.progress.bytesLoaded+=n.byteLength;let t=this.progress.documentsLoaded;if(n.payload.namedQuery)this.queries.push(n.payload.namedQuery);else if(n.payload.documentMetadata){this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++t;const i=dn.fromString(n.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(n){const t=new Map,i=new eZ(this.wt);for(const o of n)if(o.metadata.queries){const u=i.Wi(o.metadata.name);for(const d of o.metadata.queries){const g=(t.get(d)||Wt()).add(u);t.set(d,g)}}return t}complete(){var n=this;return(0,Ie.Z)(function*(){const t=yield function PP(r,n,t,i){return hD.apply(this,arguments)}(n.localStore,new eZ(n.wt),n.documents,n.xu.id),i=n.ku(n.documents);for(const o of n.queries)yield UP(n.localStore,o,i.get(o.name));return n.progress.taskState="Success",{progress:n.progress,Ou:n.collectionGroups,Mu:t}})()}}function tZ(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class nZ{constructor(n){this.key=n}}class rZ{constructor(n){this.key=n}}class iZ{constructor(n,t){this.query=n,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Wt(),this.mutatedKeys=Wt(),this.Lu=Tx(n),this.Uu=new dm(this.Lu)}get qu(){return this.Fu}Ku(n,t){const i=t?t.Gu:new Xk,o=t?t.Uu:this.Uu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,w="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(n.inorderTraversal((S,N)=>{const R=o.get(S),z=JE(this.query,N)?N:null,te=!!R&&this.mutatedKeys.has(R.key),Pe=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Ge=!1;R&&z?R.data.isEqual(z.data)?te!==Pe&&(i.track({type:3,doc:z}),Ge=!0):this.Qu(R,z)||(i.track({type:2,doc:z}),Ge=!0,(v&&this.Lu(z,v)>0||w&&this.Lu(z,w)<0)&&(g=!0)):!R&&z?(i.track({type:0,doc:z}),Ge=!0):R&&!z&&(i.track({type:1,doc:R}),Ge=!0,(v||w)&&(g=!0)),Ge&&(z?(d=d.add(z),u=Pe?u.add(S):u.delete(S)):(d=d.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const S="F"===this.query.limitType?d.last():d.first();d=d.delete(S.key),u=u.delete(S.key),i.track({type:1,doc:S})}return{Uu:d,Gu:i,Oi:g,mutatedKeys:u}}Qu(n,t){return n.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(n,t,i){const o=this.Uu;this.Uu=n.Uu,this.mutatedKeys=n.mutatedKeys;const u=n.Gu.pu();u.sort((w,S)=>function(N,R){const z=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return z(N)-z(R)}(w.type,S.type)||this.Lu(w.doc,S.doc)),this.ju(i);const d=t?this.Wu():[],g=0===this.Bu.size&&this.current?1:0,v=g!==this.$u;return this.$u=g,0!==u.length||v?{snapshot:new hm(this.query,n.Uu,o,u,n.mutatedKeys,0===g,v,!1),zu:d}:{zu:d}}Eu(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Xk,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(n){return!this.Fu.has(n)&&!!this.Uu.has(n)&&!this.Uu.get(n).hasLocalMutations}ju(n){n&&(n.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),n.modifiedDocuments.forEach(t=>{}),n.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=n.current)}Wu(){if(!this.current)return[];const n=this.Bu;this.Bu=Wt(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const t=[];return n.forEach(i=>{this.Bu.has(i)||t.push(new rZ(i))}),this.Bu.forEach(i=>{n.has(i)||t.push(new nZ(i))}),t}Ju(n){this.Fu=n.ji,this.Bu=Wt();const t=this.Ku(n.documents);return this.applyChanges(t,!0)}Yu(){return hm.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class sU{constructor(n,t,i){this.query=n,this.targetId=t,this.view=i}}class aU{constructor(n){this.key=n,this.Xu=!1}}class uU{constructor(n,t,i,o,u,d){this.localStore=n,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Zu={},this.tc=new Dd(g=>vx(g),Av),this.ec=new Map,this.nc=new Set,this.sc=new he(tt.comparator),this.ic=new Map,this.rc=new oD,this.oc={},this.uc=new Map,this.cc=Zp.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function lU(r,n){return jD.apply(this,arguments)}function jD(){return jD=(0,Ie.Z)(function*(r,n){const t=hS(r);let i,o;const u=t.tc.get(n);if(u)i=u.targetId,t.sharedClientState.addLocalQueryTarget(i),o=u.view.Yu();else{const d=yield om(t.localStore,pa(n));t.isPrimaryClient&&Ew(t.remoteStore,d);const g=t.sharedClientState.addLocalQueryTarget(d.targetId);i=d.targetId,o=yield $D(t,n,i,"current"===g)}return o}),jD.apply(this,arguments)}function $D(r,n,t,i){return HD.apply(this,arguments)}function HD(){return HD=(0,Ie.Z)(function*(r,n,t,i){r.hc=(S,N,R)=>{return(z=(0,Ie.Z)(function*(te,Pe,Ge,ft){let Ut=Pe.view.Ku(Ge);Ut.Oi&&(Ut=yield ww(te.localStore,Pe.query,!1).then(({documents:en})=>Pe.view.Ku(en,Ut)));const Xt=ft&&ft.targetChanges.get(Pe.targetId),bt=Pe.view.applyChanges(Ut,te.isPrimaryClient,Xt);return tS(te,Pe.targetId,bt.zu),bt.snapshot}),function(te,Pe,Ge,ft){return z.apply(this,arguments)})(r,S,N,R);var z};const o=yield ww(r.localStore,n,!0),u=new iZ(n,o.ji),d=u.Ku(o.documents),g=kv.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==r.onlineState),v=u.applyChanges(d,r.isPrimaryClient,g);tS(r,t,v.zu);const w=new sU(n,t,u);return r.tc.set(n,w),r.ec.has(t)?r.ec.get(t).push(n):r.ec.set(t,[n]),v.snapshot}),HD.apply(this,arguments)}function cU(r,n){return GD.apply(this,arguments)}function GD(){return GD=(0,Ie.Z)(function*(r,n){const t=nt(r),i=t.tc.get(n),o=t.ec.get(i.targetId);if(o.length>1)return t.ec.set(i.targetId,o.filter(u=>!Av(u,n))),void t.tc.delete(n);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield sm(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Hv(t.remoteStore,i.targetId),pm(t,i.targetId)}).catch(Xl))):(pm(t,i.targetId),yield sm(t.localStore,i.targetId,!0))}),GD.apply(this,arguments)}function JD(){return JD=(0,Ie.Z)(function*(r,n,t){const i=pS(r);try{const o=yield function(u,d){const g=nt(u),v=ir.now(),w=d.reduce((R,z)=>R.add(z.key),Wt());let S,N;return g.persistence.runTransaction("Locally write mutations","readwrite",R=>{let z=Jo(),te=Wt();return g.Ui.getEntries(R,w).next(Pe=>{z=Pe,z.forEach((Ge,ft)=>{ft.isValidDocument()||(te=te.add(Ge))})}).next(()=>g.localDocuments.getOverlayedDocuments(R,z)).next(Pe=>{S=Pe;const Ge=[];for(const ft of d){const Ut=TM(ft,S.get(ft.key).overlayedDocument);null!=Ut&&Ge.push(new ic(ft.key,Ut,cx(Ut.value.mapValue),yr.exists(!0)))}return g.mutationQueue.addMutationBatch(R,v,Ge,d)}).next(Pe=>{N=Pe;const Ge=Pe.applyToLocalDocumentSet(S,te);return g.documentOverlayCache.saveOverlays(R,Pe.batchId,Ge)})}).then(()=>({batchId:N.batchId,changes:Lx(S)}))}(i.localStore,n);i.sharedClientState.addPendingMutation(o.batchId),function(u,d,g){let v=u.oc[u.currentUser.toKey()];v||(v=new he(Bt)),v=v.insert(d,g),u.oc[u.currentUser.toKey()]=v}(i,o.batchId,t),yield oc(i,o.changes),yield um(i.remoteStore)}catch(o){const u=cm(o,"Failed to persist write");t.reject(u)}}),JD.apply(this,arguments)}function oZ(r,n){return WD.apply(this,arguments)}function WD(){return WD=(0,Ie.Z)(function*(r,n){const t=nt(r);try{const i=yield NP(t.localStore,n);n.targetChanges.forEach((o,u)=>{const d=t.ic.get(u);d&&(Mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Xu=!0:o.modifiedDocuments.size>0?Mt(d.Xu):o.removedDocuments.size>0&&(Mt(d.Xu),d.Xu=!1))}),yield oc(t,i,n)}catch(i){yield Xl(i)}}),WD.apply(this,arguments)}function sZ(r,n,t){const i=nt(r);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const o=[];i.tc.forEach((u,d)=>{const g=d.view.Eu(n);g.snapshot&&o.push(g.snapshot)}),function(u,d){const g=nt(u);g.onlineState=d;let v=!1;g.queries.forEach((w,S)=>{for(const N of S.listeners)N.Eu(d)&&(v=!0)}),v&&VD(g)}(i.eventManager,n),o.length&&i.Zu.Go(o),i.onlineState=n,i.isPrimaryClient&&i.sharedClientState.setOnlineState(n)}}function hU(r,n,t){return zD.apply(this,arguments)}function zD(){return zD=(0,Ie.Z)(function*(r,n,t){const i=nt(r);i.sharedClientState.updateQueryState(n,"rejected",t);const o=i.ic.get(n),u=o&&o.key;if(u){let d=new he(tt.comparator);d=d.insert(u,Kn.newNoDocument(u,St.min()));const g=Wt().add(u),v=new xv(St.min(),new Map,new je(Bt),d,g);yield oZ(i,v),i.sc=i.sc.remove(u),i.ic.delete(n),nS(i)}else yield sm(i.localStore,n,!1).then(()=>pm(i,n,t)).catch(Xl)}),zD.apply(this,arguments)}function pU(r,n){return QD.apply(this,arguments)}function QD(){return QD=(0,Ie.Z)(function*(r,n){const t=nt(r),i=n.batch.batchId;try{const o=yield ZP(t.localStore,n);eS(t,i,null),XD(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield oc(t,o)}catch(o){yield Xl(o)}}),QD.apply(this,arguments)}function fU(r,n,t){return KD.apply(this,arguments)}function KD(){return KD=(0,Ie.Z)(function*(r,n,t){const i=nt(r);try{const o=yield function(u,d){const g=nt(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return g.mutationQueue.lookupMutationBatch(v,d).next(S=>(Mt(null!==S),w=S.keys(),g.mutationQueue.removeMutationBatch(v,S))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,w,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>g.localDocuments.getDocuments(v,w))})}(i.localStore,n);eS(i,n,t),XD(i,n),i.sharedClientState.updateMutationState(n,"rejected",t),yield oc(i,o)}catch(o){yield Xl(o)}}),KD.apply(this,arguments)}function YD(){return YD=(0,Ie.Z)(function*(r,n){const t=nt(r);Zd(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(u){const d=nt(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>d.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===i)return void n.resolve();const o=t.uc.get(i)||[];o.push(n),t.uc.set(i,o)}catch(i){const o=cm(i,"Initialization of waitForPendingWrites() operation failed");n.reject(o)}}),YD.apply(this,arguments)}function XD(r,n){(r.uc.get(n)||[]).forEach(t=>{t.resolve()}),r.uc.delete(n)}function eS(r,n,t){const i=nt(r);let o=i.oc[i.currentUser.toKey()];if(o){const u=o.get(n);u&&(t?u.reject(t):u.resolve(),o=o.remove(n)),i.oc[i.currentUser.toKey()]=o}}function pm(r,n,t=null){r.sharedClientState.removeLocalQueryTarget(n);for(const i of r.ec.get(n))r.tc.delete(i),t&&r.Zu.lc(i,t);r.ec.delete(n),r.isPrimaryClient&&r.rc.us(n).forEach(i=>{r.rc.containsKey(i)||aZ(r,i)})}function aZ(r,n){r.nc.delete(n.path.canonicalString());const t=r.sc.get(n);null!==t&&(Hv(r.remoteStore,t),r.sc=r.sc.remove(n),r.ic.delete(t),nS(r))}function tS(r,n,t){for(const i of t)i instanceof nZ?(r.rc.addReference(i.key,n),mU(r,i)):i instanceof rZ?(Fe("SyncEngine","Document no longer in limbo: "+i.key),r.rc.removeReference(i.key,n),r.rc.containsKey(i.key)||aZ(r,i.key)):lt()}function mU(r,n){const t=n.key,i=t.path.canonicalString();r.sc.get(t)||r.nc.has(i)||(Fe("SyncEngine","New document in limbo: "+t),r.nc.add(i),nS(r))}function nS(r){for(;r.nc.size>0&&r.sc.size<r.maxConcurrentLimboResolutions;){const n=r.nc.values().next().value;r.nc.delete(n);const t=new tt(dn.fromString(n)),i=r.cc.next();r.ic.set(i,new aU(t)),r.sc=r.sc.insert(t,i),Ew(r.remoteStore,new Sd(pa(zg(t.path)),i,2,x.ot))}}function oc(r,n,t){return rS.apply(this,arguments)}function rS(){return rS=(0,Ie.Z)(function*(r,n,t){const i=nt(r),o=[],u=[],d=[];var g;i.tc.isEmpty()||(i.tc.forEach((g,v)=>{d.push(i.hc(v,n,t).then(w=>{if(w){i.isPrimaryClient&&i.sharedClientState.updateQueryState(v.targetId,w.fromCache?"not-current":"current"),o.push(w);const S=lD.Vi(v.targetId,w);u.push(S)}}))}),yield Promise.all(d),i.Zu.Go(o),yield(g=(0,Ie.Z)(function*(v,w){const S=nt(v);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>ce.forEach(w,R=>ce.forEach(R.Pi,z=>S.persistence.referenceDelegate.addReference(N,R.targetId,z)).next(()=>ce.forEach(R.vi,z=>S.persistence.referenceDelegate.removeReference(N,R.targetId,z)))))}catch(N){if(!c(N))throw N;Fe("LocalStore","Failed to update sequence numbers: "+N)}for(const N of w){const R=N.targetId;if(!N.fromCache){const z=S.$i.get(R),Pe=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);S.$i=S.$i.insert(R,Pe)}}}),function(v,w){return g.apply(this,arguments)})(i.localStore,u))}),rS.apply(this,arguments)}function _U(r,n){return iS.apply(this,arguments)}function iS(){return iS=(0,Ie.Z)(function*(r,n){const t=nt(r);if(!t.currentUser.isEqual(n)){Fe("SyncEngine","User change. New user:",n.toKey());const i=yield Uk(t.localStore,n);t.currentUser=n,(o=t).uc.forEach(d=>{d.forEach(g=>{g.reject(new Ue(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.uc.clear(),t.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),yield oc(t,i.Ki)}var o}),iS.apply(this,arguments)}function yU(r,n){const t=nt(r),i=t.ic.get(n);if(i&&i.Xu)return Wt().add(i.key);{let o=Wt();const u=t.ec.get(n);if(!u)return o;for(const d of u){const g=t.tc.get(d);o=o.unionWith(g.view.qu)}return o}}function vU(r,n){return oS.apply(this,arguments)}function oS(){return oS=(0,Ie.Z)(function*(r,n){const t=nt(r),i=yield ww(t.localStore,n.query,!0),o=n.view.Ju(i);return t.isPrimaryClient&&tS(t,n.targetId,o.zu),o}),oS.apply(this,arguments)}function CU(r,n){return sS.apply(this,arguments)}function sS(){return sS=(0,Ie.Z)(function*(r,n){const t=nt(r);return Fk(t.localStore,n).then(i=>oc(t,i))}),sS.apply(this,arguments)}function TU(r,n,t,i){return aS.apply(this,arguments)}function aS(){return aS=(0,Ie.Z)(function*(r,n,t,i){const o=nt(r),u=yield function(d,g){const v=nt(d),w=nt(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",S=>w.yn(S,g).next(N=>N?v.localDocuments.getDocuments(S,N):ce.resolve(null)))}(o.localStore,n);var g;null!==u?("pending"===t?yield um(o.remoteStore):"acknowledged"===t||"rejected"===t?(eS(o,n,i||null),XD(o,n),g=n,nt(nt(o.localStore).mutationQueue).In(g)):lt(),yield oc(o,u)):Fe("SyncEngine","Cannot apply mutation batch with id: "+n)}),aS.apply(this,arguments)}function uS(){return uS=(0,Ie.Z)(function*(r,n){const t=nt(r);if(hS(t),pS(t),!0===n&&!0!==t.ac){const i=t.sharedClientState.getAllActiveQueryTargets(),o=yield uZ(t,i.toArray());t.ac=!0,yield PD(t.remoteStore,!0);for(const u of o)Ew(t.remoteStore,u)}else if(!1===n&&!1!==t.ac){const i=[];let o=Promise.resolve();t.ec.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?i.push(d):o=o.then(()=>(pm(t,d),sm(t.localStore,d,!0))),Hv(t.remoteStore,d)}),yield o,yield uZ(t,i),function(u){const d=nt(u);d.ic.forEach((g,v)=>{Hv(d.remoteStore,v)}),d.rc.cs(),d.ic=new Map,d.sc=new he(tt.comparator)}(t),t.ac=!1,yield PD(t.remoteStore,!1)}}),uS.apply(this,arguments)}function uZ(r,n,t){return lS.apply(this,arguments)}function lS(){return lS=(0,Ie.Z)(function*(r,n,t){const i=nt(r),o=[],u=[];for(const d of n){let g;const v=i.ec.get(d);if(v&&0!==v.length){g=yield om(i.localStore,pa(v[0]));for(const w of v){const S=i.tc.get(w),N=yield vU(i,S);N.snapshot&&u.push(N.snapshot)}}else{const w=yield Lk(i.localStore,d);g=yield om(i.localStore,w),yield $D(i,lZ(w),d,!1)}o.push(g)}return i.Zu.Go(u),o}),lS.apply(this,arguments)}function lZ(r){return _x(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function bU(r){const n=nt(r);return nt(nt(n.localStore).persistence).Ri()}function AU(r,n,t,i){return cS.apply(this,arguments)}function cS(){return cS=(0,Ie.Z)(function*(r,n,t,i){const o=nt(r);if(o.ac)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const u=o.ec.get(n);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield Fk(o.localStore,Cx(u[0])),g=xv.createSynthesizedRemoteEventForCurrentChange(n,"current"===t);yield oc(o,d,g);break}case"rejected":yield sm(o.localStore,n,!0),pm(o,n,i);break;default:lt()}}),cS.apply(this,arguments)}function IU(r,n,t){return dS.apply(this,arguments)}function dS(){return dS=(0,Ie.Z)(function*(r,n,t){const i=hS(r);if(i.ac){for(const o of n){if(i.ec.has(o)){Fe("SyncEngine","Adding an already active target "+o);continue}const u=yield Lk(i.localStore,o),d=yield om(i.localStore,u);yield $D(i,lZ(u),d.targetId,!1),Ew(i.remoteStore,d)}for(const o of t)i.ec.has(o)&&(yield sm(i.localStore,o,!1).then(()=>{Hv(i.remoteStore,o),pm(i,o)}).catch(Xl))}}),dS.apply(this,arguments)}function hS(r){const n=nt(r);return n.remoteStore.remoteSyncer.applyRemoteEvent=oZ.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=yU.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=hU.bind(null,n),n.Zu.Go=nU.bind(null,n.eventManager),n.Zu.lc=rU.bind(null,n.eventManager),n}function pS(r){const n=nt(r);return n.remoteStore.remoteSyncer.applySuccessfulWrite=pU.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=fU.bind(null,n),n}class cZ{constructor(){this.synchronizeTabs=!1}initialize(n){var t=this;return(0,Ie.Z)(function*(){t.wt=jv(n.databaseInfo.databaseId),t.sharedClientState=t.dc(n),t.persistence=t._c(n),yield t.persistence.start(),t.localStore=t.wc(n),t.gcScheduler=t.mc(n,t.localStore),t.indexBackfillerScheduler=t.gc(n,t.localStore)})()}mc(n,t){return null}gc(n,t){return null}wc(n){return Pk(this.persistence,new Mk,n.initialUser,this.wt)}_c(n){return new Zk(Cw.Ms,this.wt)}dc(n){return new jk}terminate(){var n=this;return(0,Ie.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class dZ extends cZ{constructor(n,t,i){super(),this.yc=n,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(n){var t=()=>super.initialize,i=this;return(0,Ie.Z)(function*(){yield t().call(i,n),yield i.yc.initialize(i,n),yield pS(i.yc.syncEngine),yield um(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(n){return Pk(this.persistence,new Mk,n.initialUser,this.wt)}mc(n,t){return new mP(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,t)}gc(n,t){const i=new E(t,this.persistence);return new b(n.asyncQueue,i)}_c(n){const t=uD(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Wo.withCacheSize(this.cacheSizeBytes):Wo.DEFAULT;return new aD(this.synchronizeTabs,t,n.clientId,i,n.asyncQueue,Hk(),Iw(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(n){return new jk}}class DU extends dZ{constructor(n,t){super(n,t,!1),this.yc=n,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(n){var t=()=>super.initialize,i=this;return(0,Ie.Z)(function*(){yield t().call(i,n);const o=i.yc.syncEngine;i.sharedClientState instanceof _D&&(i.sharedClientState.syncEngine={kr:TU.bind(null,o),Or:AU.bind(null,o),Mr:IU.bind(null,o),Ri:bU.bind(null,o),Nr:CU.bind(null,o)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var u=(0,Ie.Z)(function*(d){yield function wU(r,n){return uS.apply(this,arguments)}(i.yc.syncEngine,d),i.gcScheduler&&(d&&!i.gcScheduler.started?i.gcScheduler.start():d||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(d&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():d||i.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}dc(n){const t=Hk();if(!_D.V(t))throw new Ue(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=uD(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new _D(t,n.asyncQueue,i,n.clientId,n.initialUser)}}class fS{initialize(n,t){var i=this;return(0,Ie.Z)(function*(){i.localStore||(i.localStore=n.localStore,i.sharedClientState=n.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!n.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>sZ(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=_U.bind(null,i.syncEngine),yield PD(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(n){return new tU}createDatastore(n){const t=jv(n.databaseInfo.databaseId),i=new FP(n.databaseInfo);return new BP(n.authCredentials,n.appCheckCredentials,i,t)}createRemoteStore(n){return t=this.localStore,i=this.datastore,o=n.asyncQueue,u=g=>sZ(this.syncEngine,g,0),d=$k.V()?new $k:new OP,new $P(t,i,o,u,d);var t,i,o,u,d}createSyncEngine(n,t){return function(i,o,u,d,g,v,w){const S=new uU(i,o,u,d,g,v);return w&&(S.ac=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,t)}terminate(){return(n=(0,Ie.Z)(function*(t){const i=nt(t);Fe("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield am(i),i.du.shutdown(),i._u.set("Unknown")}),function(t){return n.apply(this,arguments)})(this.remoteStore);var n}}function hZ(r,n=10240){let t=0;return{read:()=>(0,Ie.Z)(function*(){if(t<r.byteLength){const i={value:r.slice(t,t+n),done:!1};return t+=n,i}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Sw{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Ic(this.observer.next,n)}error(n){this.observer.error?this.Ic(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Tc(){this.muted=!0}Ic(n,t){this.muted||setTimeout(()=>{this.muted||n(t)},0)}}class SU{constructor(n,t){this.Ec=n,this.wt=t,this.metadata=new ai,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var n=this;return(0,Ie.Z)(function*(){return n.metadata.promise})()}fc(){var n=this;return(0,Ie.Z)(function*(){return yield n.getMetadata(),n.Rc()})()}Rc(){var n=this;return(0,Ie.Z)(function*(){const t=yield n.bc();if(null===t)return null;const i=n.Ac.decode(t),o=Number(i);isNaN(o)&&n.Pc(`length string (${i}) is not valid number`);const u=yield n.vc(o);return new iU(JSON.parse(u),t.length+o)})()}Vc(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}bc(){var n=this;return(0,Ie.Z)(function*(){for(;n.Vc()<0&&!(yield n.Sc()););if(0===n.buffer.length)return null;const t=n.Vc();t<0&&n.Pc("Reached the end of bundle when a length string is expected.");const i=n.buffer.slice(0,t);return n.buffer=n.buffer.slice(t),i})()}vc(n){var t=this;return(0,Ie.Z)(function*(){for(;t.buffer.length<n;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const i=t.Ac.decode(t.buffer.slice(0,n));return t.buffer=t.buffer.slice(n),i})()}Pc(n){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${n}`)}Sc(){var n=this;return(0,Ie.Z)(function*(){const t=yield n.Ec.read();if(!t.done){const i=new Uint8Array(n.buffer.length+t.value.length);i.set(n.buffer),i.set(t.value,n.buffer.length),n.buffer=i}return t.done})()}}class xU{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var t=this;return(0,Ie.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ue(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(o=(0,Ie.Z)(function*(u,d){const g=nt(u),v=Mv(g.wt)+"/documents",w={documents:d.map(z=>Nv(g.wt,z))},S=yield g.ao("BatchGetDocuments",v,w,d.length),N=new Map;S.forEach(z=>{const te=function NM(r,n){return"found"in n?function(t,i){Mt(!!i.found);const o=ju(t,i.found.name),u=Ci(i.found.updateTime),d=new Ui({mapValue:{fields:i.found.fields}});return Kn.newFoundDocument(o,u,d)}(r,n):"missing"in n?function(t,i){Mt(!!i.missing),Mt(!!i.readTime);const o=ju(t,i.missing),u=Ci(i.readTime);return Kn.newNoDocument(o,u)}(r,n):lt()}(g.wt,z);N.set(te.key.toString(),te)});const R=[];return d.forEach(z=>{const te=N.get(z.toString());Mt(!!te),R.push(te)}),R}),function(u,d){return o.apply(this,arguments)})(t.datastore,n);var o;return i.forEach(o=>t.recordVersion(o)),i})()}set(n,t){this.write(t.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,t){try{this.write(t.toMutation(n,this.preconditionForUpdate(n)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(n.toString())}delete(n){this.write(new em(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,Ie.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const t=n.readVersions;var i;n.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,o)=>{const u=tt.fromPath(o);n.mutations.push(new WE(u,n.precondition(u)))}),yield(i=(0,Ie.Z)(function*(o,u){const d=nt(o),g=Mv(d.wt)+"/documents",v={writes:u.map(w=>Pv(d.wt,w))};yield d.ro("Commit",g,v)}),function(o,u){return i.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let t;if(n.isFoundDocument())t=n.version;else{if(!n.isNoDocument())throw lt();t=St.min()}const i=this.readVersions.get(n.key.toString());if(i){if(!t.isEqual(i))throw new Ue(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),t)}precondition(n){const t=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&t?yr.updateTime(t):yr.none()}preconditionForUpdate(n){const t=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&t){if(t.isEqual(St.min()))throw new Ue(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yr.updateTime(t)}return yr.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class kU{constructor(n,t,i,o,u){this.asyncQueue=n,this.datastore=t,this.options=i,this.updateFunction=o,this.deferred=u,this.Dc=i.maxAttempts,this.So=new yD(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var n=this;this.So.Io((0,Ie.Z)(function*(){const t=new xU(n.datastore),i=n.xc(t);i&&i.then(o=>{n.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{n.deferred.resolve(o)}).catch(u=>{n.Nc(u)}))}).catch(o=>{n.Nc(o)})}))}xc(n){try{const t=this.updateFunction(n);return!nc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(n){this.Dc>0&&this.kc(n)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(n)}kc(n){if("FirebaseError"===n.name){const t=n.code;return"aborted"===t||"failed-precondition"===t||!Ux(t)}return!1}}class ZU{constructor(n,t,i,o){var u=this;this.authCredentials=n,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=si.UNAUTHENTICATED,this.clientId=tw.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=(0,Ie.Z)(function*(g){Fe("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(Fe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var n=this;return(0,Ie.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,authCredentials:n.authCredentials,appCheckCredentials:n.appCheckCredentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const t=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),t.resolve()}catch(i){const o=cm(i,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function pZ(r,n){return gS.apply(this,arguments)}function gS(){return gS=(0,Ie.Z)(function*(r,n){r.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield n.initialize(t);let i=t.initialUser;r.setCredentialChangeListener(function(){var o=(0,Ie.Z)(function*(u){i.isEqual(u)||(yield Uk(n.localStore,u),i=u)});return function(u){return o.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=n}),gS.apply(this,arguments)}function fZ(r,n){return mS.apply(this,arguments)}function mS(){return mS=(0,Ie.Z)(function*(r,n){r.asyncQueue.verifyOperationInProgress();const t=yield _S(r);Fe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield r.getConfiguration();yield n.initialize(t,i),r.setCredentialChangeListener(o=>Yk(n.remoteStore,o)),r.setAppCheckTokenChangeListener((o,u)=>Yk(n.remoteStore,u)),r.onlineComponents=n}),mS.apply(this,arguments)}function _S(r){return yS.apply(this,arguments)}function yS(){return yS=(0,Ie.Z)(function*(r){return r.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield pZ(r,new cZ)),r.offlineComponents}),yS.apply(this,arguments)}function xw(r){return vS.apply(this,arguments)}function vS(){return vS=(0,Ie.Z)(function*(r){return r.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield fZ(r,new fS)),r.onlineComponents}),vS.apply(this,arguments)}function gZ(r){return _S(r).then(n=>n.persistence)}function CS(r){return _S(r).then(n=>n.localStore)}function mZ(r){return xw(r).then(n=>n.remoteStore)}function TS(r){return xw(r).then(n=>n.syncEngine)}function fm(r){return wS.apply(this,arguments)}function wS(){return wS=(0,Ie.Z)(function*(r){const n=yield xw(r),t=n.eventManager;return t.onListen=lU.bind(null,n.syncEngine),t.onUnlisten=cU.bind(null,n.syncEngine),t}),wS.apply(this,arguments)}function _Z(r,n,t={}){const i=new ai;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(o,u,d,g,v){const w=new Sw({next:N=>{u.enqueueAndForget(()=>FD(o,S));const R=N.docs.has(d);!R&&N.fromCache?v.reject(new Ue(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&N.fromCache&&g&&"server"===g.source?v.reject(new Ue(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(N)},error:N=>v.reject(N)}),S=new BD(zg(d.path),w,{includeMetadataChanges:!0,Du:!0});return RD(o,S)}(yield fm(r),r.asyncQueue,n,t,i)})),i.promise}function yZ(r,n,t={}){const i=new ai;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(o,u,d,g,v){const w=new Sw({next:N=>{u.enqueueAndForget(()=>FD(o,S)),N.fromCache&&"server"===g.source?v.reject(new Ue(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),S=new BD(d,w,{includeMetadataChanges:!0,Du:!0});return RD(o,S)}(yield fm(r),r.asyncQueue,n,t,i)})),i.promise}const vZ=new Map;function bS(r,n,t){if(!t)throw new Ue(pe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${n}.`)}function CZ(r,n,t,i){if(!0===n&&!0===i)throw new Ue(pe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function TZ(r){if(!tt.isDocumentKey(r))throw new Ue(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function wZ(r){if(tt.isDocumentKey(r))throw new Ue(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function kw(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const n=(t=r).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof r?"a function":lt()}function mn(r,n){if("_delegate"in r&&(r=r._delegate),!(r instanceof n)){if(n.name===r.constructor.name)throw new Ue(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kw(r);throw new Ue(pe.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${t}`)}}return r}function bZ(r,n){if(n<=0)throw new Ue(pe.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${n}.`)}class AZ{constructor(n){var t;if(void 0===n.host){if(void 0!==n.ssl)throw new Ue(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(t=n.ssl)||void 0===t||t;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Ue(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,CZ("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Gv{constructor(n,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AZ({}),this._settingsFrozen=!1,n instanceof bs?this._databaseId=n:(this._app=n,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Ue(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bs(o.options.projectId)}(n))}get app(){if(!this._app)throw new Ue(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Ue(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AZ(n),void 0!==n.credentials&&(this._authCredentials=function(t){if(!t)return new nx;switch(t.type){case"gapi":const i=t.client;return Mt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new PE(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ue(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const t=vZ.get(n);t&&(Fe("ComponentProvider","Removing Datastore"),vZ.delete(n),t.terminate())}(this),Promise.resolve()}}class or{constructor(n,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hu(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new or(this.firestore,n,this._key)}}class io{constructor(n,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=n}withConverter(n){return new io(this.firestore,n,this._query)}}class Hu extends io{constructor(n,t,i){super(n,t,zg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new or(this.firestore,null,new tt(n))}withConverter(n){return new Hu(this.firestore,n,this._path)}}function IZ(r,n,...t){if(r=(0,Yt.m9)(r),bS("collection","path",n),r instanceof Gv){const i=dn.fromString(n,...t);return wZ(i),new Hu(r,null,i)}{if(!(r instanceof or||r instanceof Hu))throw new Ue(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(dn.fromString(n,...t));return wZ(i),new Hu(r.firestore,null,i)}}function Zw(r,n,...t){if(r=(0,Yt.m9)(r),1===arguments.length&&(n=tw.I()),bS("doc","path",n),r instanceof Gv){const i=dn.fromString(n,...t);return TZ(i),new or(r,null,new tt(i))}{if(!(r instanceof or||r instanceof Hu))throw new Ue(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(dn.fromString(n,...t));return TZ(i),new or(r.firestore,r instanceof Hu?r.converter:null,new tt(i))}}function EZ(r,n){return r=(0,Yt.m9)(r),n=(0,Yt.m9)(n),(r instanceof or||r instanceof Hu)&&(n instanceof or||n instanceof Hu)&&r.firestore===n.firestore&&r.path===n.path&&r.converter===n.converter}function DZ(r,n){return r=(0,Yt.m9)(r),n=(0,Yt.m9)(n),r instanceof io&&n instanceof io&&r.firestore===n.firestore&&Av(r._query,n._query)&&r.converter===n.converter}class BU{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new yD(this,"async_queue_retry"),this.Kc=()=>{const t=Iw();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const n=Iw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Gc(),this.Qc(n)}enterRestrictedMode(n){if(!this.Fc){this.Fc=!0,this.Uc=n||!1;const t=Iw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(n){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new ai;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(n().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Mc.push(n),this.jc()))}jc(){var n=this;return(0,Ie.Z)(function*(){if(0!==n.Mc.length){try{yield n.Mc[0](),n.Mc.shift(),n.So.reset()}catch(t){if(!c(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}n.Mc.length>0&&n.So.Io(()=>n.jc())}})()}Qc(n){const t=this.Oc.then(()=>(this.Lc=!0,n().catch(i=>{throw this.Bc=i,this.Lc=!1,Bn("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Oc=t,t}enqueueAfterDelay(n,t,i){this.Gc(),this.qc.indexOf(n)>-1&&(t=0);const o=OD.createAndSchedule(this,n,t,i,u=>this.Wc(u));return this.$c.push(o),o}Gc(){this.Bc&&lt()}verifyOperationInProgress(){}zc(){var n=this;return(0,Ie.Z)(function*(){let t;do{t=n.Oc,yield t}while(t!==n.Oc)})()}Hc(n){for(const t of this.$c)if(t.timerId===n)return!0;return!1}Jc(n){return this.zc().then(()=>{this.$c.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==n&&t.timerId===n)break;return this.zc()})}Yc(n){this.qc.push(n)}Wc(n){const t=this.$c.indexOf(n);this.$c.splice(t,1)}}function AS(r){return function(n,t){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(r)}class jU{constructor(){this._progressObserver={},this._taskCompletionResolver=new ai,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,t,i){this._progressObserver={next:n,error:t,complete:i}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,t){return this._taskCompletionResolver.promise.then(n,t)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class pr extends Gv{constructor(n,t,i){super(n,t,i),this.type="firestore",this._queue=new BU,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||SZ(this),this._firestoreClient.terminate()}}function Wr(r){return r._firestoreClient||SZ(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function SZ(r){var n;const t=r._freezeSettings(),i=(u=(null===(n=r._app)||void 0===n?void 0:n.options.appId)||"",new yv(r._databaseId,u,r._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var u,g;r._firestoreClient=new ZU(r._authCredentials,r._appCheckCredentials,r._queue,i)}function xZ(r,n,t){const i=new ai;return r.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield pZ(r,t),yield fZ(r,n),i.resolve()}catch(o){const u=o;if(!("FirebaseError"===(d=u).name?d.code===pe.FAILED_PRECONDITION||d.code===pe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),i.reject(u)}var d})).then(()=>i.promise)}function kZ(r){if(r._initialized||r._terminated)throw new Ue(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class sc{constructor(...n){for(let t=0;t<n.length;++t)if(0===n[t].length)throw new Ue(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Er(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Gu{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Gu(qt.fromBase64String(n))}catch(t){throw new Ue(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(n){return new Gu(qt.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Mp{constructor(n){this._methodName=n}}class Nw{constructor(n,t){if(!isFinite(n)||n<-90||n>90)throw new Ue(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(t)||t<-180||t>180)throw new Ue(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=n,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Bt(this._lat,n._lat)||Bt(this._long,n._long)}}const XU=/^__.*__$/;class eO{constructor(n,t,i){this.data=n,this.fieldMask=t,this.fieldTransforms=i}toMutation(n,t){return null!==this.fieldMask?new ic(n,this.data,this.fieldMask,t,this.fieldTransforms):new Xg(n,this.data,t,this.fieldTransforms)}}class ZZ{constructor(n,t,i){this.data=n,this.fieldMask=t,this.fieldTransforms=i}toMutation(n,t){return new ic(n,this.data,this.fieldMask,t,this.fieldTransforms)}}function NZ(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class Mw{constructor(n,t,i,o,u,d){this.settings=n,this.databaseId=t,this.wt=i,this.ignoreUndefinedProperties=o,void 0===u&&this.Xc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(n){return new Mw(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(n){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(n),o=this.ta({path:i,na:!1});return o.sa(n),o}ia(n){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(n),o=this.ta({path:i,na:!1});return o.Xc(),o}ra(n){return this.ta({path:void 0,na:!0})}oa(n){return Ow(n,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(n){return void 0!==this.fieldMask.find(t=>n.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>n.isPrefixOf(t.field))}Xc(){if(this.path)for(let n=0;n<this.path.length;n++)this.sa(this.path.get(n))}sa(n){if(0===n.length)throw this.oa("Document fields must not be empty");if(NZ(this.Zc)&&XU.test(n))throw this.oa('Document fields cannot begin and end with "__"')}}class tO{constructor(n,t,i){this.databaseId=n,this.ignoreUndefinedProperties=t,this.wt=i||jv(n)}aa(n,t,i,o=!1){return new Mw({Zc:n,methodName:t,ca:i,path:Er.emptyPath(),na:!1,ua:o},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Pp(r){const n=r._freezeSettings(),t=jv(r._databaseId);return new tO(r._databaseId,!!n.ignoreUndefinedProperties,t)}function Pw(r,n,t,i,o,u={}){const d=r.aa(u.merge||u.mergeFields?2:0,n,t,o);SS("Data must be an object, but it was:",d,i);const g=UZ(i,d);let v,w;if(u.merge)v=new ct(d.fieldMask),w=d.fieldTransforms;else if(u.mergeFields){const S=[];for(const N of u.mergeFields){const R=xS(n,N,t);if(!d.contains(R))throw new Ue(pe.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);RZ(S,R)||S.push(R)}v=new ct(S),w=d.fieldTransforms.filter(N=>v.covers(N.field))}else v=null,w=d.fieldTransforms;return new eO(new Ui(g),v,w)}class Jv extends Mp{_toFieldTransform(n){if(2!==n.Zc)throw n.oa(1===n.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Jv}}function MZ(r,n,t){return new Mw({Zc:3,ca:n.settings.ca,methodName:r._methodName,na:t},n.databaseId,n.wt,n.ignoreUndefinedProperties)}class IS extends Mp{_toFieldTransform(n){return new Iv(n.path,new Kg)}isEqual(n){return n instanceof IS}}class nO extends Mp{constructor(n,t){super(n),this.ha=t}_toFieldTransform(n){const t=MZ(this,n,!0),i=this.ha.map(u=>Up(u,t)),o=new bp(i);return new Iv(n.path,o)}isEqual(n){return this===n}}class rO extends Mp{constructor(n,t){super(n),this.ha=t}_toFieldTransform(n){const t=MZ(this,n,!0),i=this.ha.map(u=>Up(u,t)),o=new Ap(i);return new Iv(n.path,o)}isEqual(n){return this===n}}class iO extends Mp{constructor(n,t){super(n),this.la=t}_toFieldTransform(n){const t=new Yg(n.wt,Ax(n.wt,this.la));return new Iv(n.path,t)}isEqual(n){return this===n}}function ES(r,n,t,i){const o=r.aa(1,n,t);SS("Data must be an object, but it was:",o,i);const u=[],d=Ui.empty();W(i,(v,w)=>{const S=Uw(n,v,t);w=(0,Yt.m9)(w);const N=o.ia(S);if(w instanceof Jv)u.push(S);else{const R=Up(w,N);null!=R&&(u.push(S),d.set(S,R))}});const g=new ct(u);return new ZZ(d,g,o.fieldTransforms)}function DS(r,n,t,i,o,u){const d=r.aa(1,n,t),g=[xS(n,i,t)],v=[o];if(u.length%2!=0)throw new Ue(pe.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)g.push(xS(n,u[R])),v.push(u[R+1]);const w=[],S=Ui.empty();for(let R=g.length-1;R>=0;--R)if(!RZ(w,g[R])){const z=g[R];let te=v[R];te=(0,Yt.m9)(te);const Pe=d.ia(z);if(te instanceof Jv)w.push(z);else{const Ge=Up(te,Pe);null!=Ge&&(w.push(z),S.set(z,Ge))}}const N=new ct(w);return new ZZ(S,N,d.fieldTransforms)}function PZ(r,n,t,i=!1){return Up(t,r.aa(i?4:3,n))}function Up(r,n){if(OZ(r=(0,Yt.m9)(r)))return SS("Unsupported field value:",n,r),UZ(r,n);if(r instanceof Mp)return function(t,i){if(!NZ(i.Zc))throw i.oa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(r,n),null;if(void 0===r&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),r instanceof Array){if(n.settings.na&&4!==n.Zc)throw n.oa("Nested arrays are not supported");return function(t,i){const o=[];let u=0;for(const d of t){let g=Up(d,i.ra(u));null==g&&(g={nullValue:"NULL_VALUE"}),o.push(g),u++}return{arrayValue:{values:o}}}(r,n)}return function(t,i){if(null===(t=(0,Yt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ax(i.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=ir.fromDate(t);return{timestampValue:Zv(i.wt,o)}}if(t instanceof ir){const o=new ir(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Zv(i.wt,o)}}if(t instanceof Nw)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Gu)return{bytesValue:Hx(i.wt,t._byteString)};if(t instanceof or){const o=i.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw i.oa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:zE(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.oa(`Unsupported field value: ${kw(t)}`)}(r,n)}function UZ(r,n){const t={};return ne(r)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):W(r,(i,o)=>{const u=Up(o,n.ea(i));null!=u&&(t[i]=u)}),{mapValue:{fields:t}}}function OZ(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof ir||r instanceof Nw||r instanceof Gu||r instanceof or||r instanceof Mp)}function SS(r,n,t){if(!OZ(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=kw(t);throw n.oa("an object"===i?r+" a custom object":r+" "+i)}var i}function xS(r,n,t){if((n=(0,Yt.m9)(n))instanceof sc)return n._internalPath;if("string"==typeof n)return Uw(r,n);throw Ow("Field path arguments must be of type string or ",r,!1,void 0,t)}const oO=new RegExp("[~\\*/\\[\\]]");function Uw(r,n,t){if(n.search(oO)>=0)throw Ow(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new sc(...n.split("."))._internalPath}catch(i){throw Ow(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ow(r,n,t,i,o){const u=i&&!i.isEmpty(),d=void 0!==o;let g=`Function ${n}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(u||d)&&(v+=" (found",u&&(v+=` in field ${i}`),d&&(v+=` in document ${o}`),v+=")"),new Ue(pe.INVALID_ARGUMENT,g+r+v)}function RZ(r,n){return r.some(t=>t.isEqual(n))}class Wv{constructor(n,t,i,o,u){this._firestore=n,this._userDataWriter=t,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new or(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new sO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const t=this._document.data.field(Rw("DocumentSnapshot.get",n));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sO extends Wv{data(){return super.data()}}function Rw(r,n){return"string"==typeof n?Uw(r,n):n instanceof sc?n._internalPath:n._delegate._internalPath}class Op{constructor(n,t){this.hasPendingWrites=n,this.fromCache=t}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class ac extends Wv{constructor(n,t,i,o,u,d){super(n,t,i,o,d),this._firestore=n,this._firestoreImpl=n,this.metadata=u}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const t=new zv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,t={}){if(this._document){const i=this._document.data.field(Rw("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class zv extends ac{data(n={}){return super.data(n)}}class Md{constructor(n,t,i,o){this._firestore=n,this._userDataWriter=t,this._snapshot=o,this.metadata=new Op(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const n=[];return this.forEach(t=>n.push(t)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,t){this._snapshot.docs.forEach(i=>{n.call(t,new zv(this._firestore,this._userDataWriter,i.key,i,new Op(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const t=!!n.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ue(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(d=>({type:"added",doc:new zv(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Op(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const g=new zv(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Op(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let v=-1,w=-1;return 0!==d.type&&(v=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),w=u.indexOf(d.doc.key)),{type:aO(d.type),doc:g,oldIndex:v,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function aO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}function LZ(r,n){return r instanceof ac&&n instanceof ac?r._firestore===n._firestore&&r._key.isEqual(n._key)&&(null===r._document?null===n._document:r._document.isEqual(n._document))&&r._converter===n._converter:r instanceof Md&&n instanceof Md&&r._firestore===n._firestore&&DZ(r.query,n.query)&&r.metadata.isEqual(n.metadata)&&r._snapshot.isEqual(n._snapshot)}function FZ(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Ue(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qv{}function Pd(r,...n){for(const t of n)r=t._apply(r);return r}class uO extends Qv{constructor(n,t,i){super(),this.fa=n,this.da=t,this._a=i,this.type="where"}_apply(n){const t=Pp(n.firestore),i=function(o,u,d,g,v,w,S){let N;if(v.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Ue(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){HZ(S,w);const z=[];for(const te of S)z.push($Z(g,o,te));N={arrayValue:{values:z}}}else N=$Z(g,o,S)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||HZ(S,w),N=PZ(d,"where",S,"in"===w||"not-in"===w);const R=Oi.create(v,w,N);return function(z,te){if(te.ht()){const Ge=$E(z);if(null!==Ge&&!Ge.isEqual(te.field))throw new Ue(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ge.toString()}' and '${te.field.toString()}'`);const ft=jE(z);null!==ft&&GZ(0,te.field,ft)}const Pe=function(Ge,ft){for(const Ut of Ge.filters)if(ft.indexOf(Ut.op)>=0)return Ut.op;return null}(z,function(Ge){switch(Ge){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(te.op));if(null!==Pe)throw new Ue(pe.INVALID_ARGUMENT,Pe===te.op?`Invalid query. You cannot use more than one '${te.op.toString()}' filter.`:`Invalid query. You cannot use '${te.op.toString()}' filters with '${Pe.toString()}' filters.`)}(o,R),R}(n._query,0,t,n.firestore._databaseId,this.fa,this.da,this._a);return new io(n.firestore,n.converter,function(o,u){const d=o.filters.concat([u]);return new rc(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))}}class cO extends Qv{constructor(n,t){super(),this.fa=n,this.wa=t,this.type="orderBy"}_apply(n){const t=function(i,o,u){if(null!==i.startAt)throw new Ue(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ue(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Wg(o,u);return function(g,v){if(null===jE(g)){const w=$E(g);null!==w&&GZ(0,w,v.field)}}(i,d),d}(n._query,this.fa,this.wa);return new io(n.firestore,n.converter,function(i,o){const u=i.explicitOrderBy.concat([o]);return new rc(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,t))}}class qZ extends Qv{constructor(n,t,i){super(),this.type=n,this.ma=t,this.ga=i}_apply(n){return new io(n.firestore,n.converter,yx(n._query,this.ma,this.ga))}}class VZ extends Qv{constructor(n,t,i){super(),this.type=n,this.ya=t,this.pa=i}_apply(n){const t=jZ(n,this.type,this.ya,this.pa);return new io(n.firestore,n.converter,(o=t,new rc((i=n._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class BZ extends Qv{constructor(n,t,i){super(),this.type=n,this.ya=t,this.pa=i}_apply(n){const t=jZ(n,this.type,this.ya,this.pa);return new io(n.firestore,n.converter,(o=t,new rc((i=n._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function jZ(r,n,t,i){if(t[0]=(0,Yt.m9)(t[0]),t[0]instanceof Wv)return function(o,u,d,g,v){if(!g)throw new Ue(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const S of Qg(o))if(S.field.isKeyField())w.push(Tp(u,g.key));else{const N=g.data.field(S.field);if(vp(N))throw new Ue(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const R=S.field.canonicalString();throw new Ue(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}w.push(N)}return new Ed(w,v)}(r._query,r.firestore._databaseId,n,t[0]._document,i);{const o=Pp(r.firestore);return function(u,d,g,v,w,S){const N=u.explicitOrderBy;if(w.length>N.length)throw new Ue(pe.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let z=0;z<w.length;z++){const te=w[z];if(N[z].field.isKeyField()){if("string"!=typeof te)throw new Ue(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof te}`);if(!HE(u)&&-1!==te.indexOf("/"))throw new Ue(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${te}' contains a slash.`);const Pe=u.path.child(dn.fromString(te));if(!tt.isDocumentKey(Pe))throw new Ue(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Pe}' is not because it contains an odd number of segments.`);const Ge=new tt(Pe);R.push(Tp(d,Ge))}else{const Pe=PZ(g,v,te);R.push(Pe)}}return new Ed(R,S)}(r._query,r.firestore._databaseId,o,n,t,i)}}function $Z(r,n,t){if("string"==typeof(t=(0,Yt.m9)(t))){if(""===t)throw new Ue(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HE(n)&&-1!==t.indexOf("/"))throw new Ue(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=n.path.child(dn.fromString(t));if(!tt.isDocumentKey(i))throw new Ue(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Tp(r,new tt(i))}if(t instanceof or)return Tp(r,t._key);throw new Ue(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kw(t)}.`)}function HZ(r,n){if(!Array.isArray(r)||0===r.length)throw new Ue(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(r.length>10)throw new Ue(pe.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function GZ(r,n,t){if(!t.isEqual(n))throw new Ue(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const yO={maxAttempts:5};class kS{convertValue(n,t="none"){switch(Cp(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Qn(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,t);case 5:return n.stringValue;case 6:return this.convertBytes(Xa(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,t);case 10:return this.convertObject(n.mapValue,t);default:throw lt()}}convertObject(n,t){const i={};return W(n.fields,(o,u)=>{i[o]=this.convertValue(u,t)}),i}convertGeoPoint(n){return new Nw(Qn(n.latitude),Qn(n.longitude))}convertArray(n,t){return(n.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(n,t){switch(t){case"previous":const i=Gg(n);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(tc(n));default:return null}}convertTimestamp(n){const t=ha(n);return new ir(t.seconds,t.nanos)}convertDocumentKey(n,t){const i=dn.fromString(n);Mt(tk(i));const o=new bs(i.get(1),i.get(3)),u=new tt(i.popFirst(5));return o.isEqual(t)||Bn(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Lw(r,n,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(n,t):r.toFirestore(n):n,i}class vO extends kS{constructor(n){super(),this.firestore=n}convertBytes(n){return new Gu(n)}convertReference(n){const t=this.convertDocumentKey(n,this.firestore._databaseId);return new or(this.firestore,null,t)}}class JZ{constructor(n,t){this._firestore=n,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Pp(n)}set(n,t,i){this._verifyNotCommitted();const o=Ud(n,this._firestore),u=Lw(o.converter,t,i),d=Pw(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,i);return this._mutations.push(d.toMutation(o._key,yr.none())),this}update(n,t,i,...o){this._verifyNotCommitted();const u=Ud(n,this._firestore);let d;return d="string"==typeof(t=(0,Yt.m9)(t))||t instanceof sc?DS(this._dataReader,"WriteBatch.update",u._key,t,i,o):ES(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,yr.exists(!0))),this}delete(n){this._verifyNotCommitted();const t=Ud(n,this._firestore);return this._mutations=this._mutations.concat(new em(t._key,yr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ud(r,n){if((r=(0,Yt.m9)(r)).firestore!==n)throw new Ue(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Rp extends kS{constructor(n){super(),this.firestore=n}convertBytes(n){return new Gu(n)}convertReference(n){const t=this.convertDocumentKey(n,this.firestore._databaseId);return new or(this.firestore,null,t)}}function WZ(r,n,t){r=mn(r,or);const i=mn(r.firestore,pr),o=Lw(r.converter,n,t);return gm(i,[Pw(Pp(i),"setDoc",r._key,o,null!==r.converter,t).toMutation(r._key,yr.none())])}function zZ(r,n,t,...i){r=mn(r,or);const o=mn(r.firestore,pr),u=Pp(o);let d;return d="string"==typeof(n=(0,Yt.m9)(n))||n instanceof sc?DS(u,"updateDoc",r._key,n,t,i):ES(u,"updateDoc",r._key,n),gm(o,[d.toMutation(r._key,yr.exists(!0))])}function QZ(r,...n){var t,i,o;r=(0,Yt.m9)(r);let u={includeMetadataChanges:!1},d=0;"object"!=typeof n[d]||AS(n[d])||(u=n[d],d++);const g={includeMetadataChanges:u.includeMetadataChanges};if(AS(n[d])){const N=n[d];n[d]=null===(t=N.next)||void 0===t?void 0:t.bind(N),n[d+1]=null===(i=N.error)||void 0===i?void 0:i.bind(N),n[d+2]=null===(o=N.complete)||void 0===o?void 0:o.bind(N)}let v,w,S;if(r instanceof or)w=mn(r.firestore,pr),S=zg(r._key.path),v={next:N=>{n[d]&&n[d](ZS(w,r,N))},error:n[d+1],complete:n[d+2]};else{const N=mn(r,io);w=mn(N.firestore,pr),S=N._query;const R=new Rp(w);v={next:z=>{n[d]&&n[d](new Md(w,R,N,z))},error:n[d+1],complete:n[d+2]},FZ(r._query)}return function(N,R,z,te){const Pe=new Sw(te),Ge=new BD(R,Pe,z);return N.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return RD(yield fm(N),Ge)})),()=>{Pe.Tc(),N.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return FD(yield fm(N),Ge)}))}}(Wr(w),S,g,v)}function gm(r,n){return function(t,i){const o=new ai;return t.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function dU(r,n,t){return JD.apply(this,arguments)}(yield TS(t),i,o)})),o.promise}(Wr(r),n)}function ZS(r,n,t){const i=t.docs.get(n._key),o=new Rp(r);return new ac(r,o,n._key,i,new Op(t.hasPendingWrites,t.fromCache),n.converter)}class xO extends class{constructor(n,t){this._firestore=n,this._transaction=t,this._dataReader=Pp(n)}get(n){const t=Ud(n,this._firestore),i=new vO(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return lt();const u=o[0];if(u.isFoundDocument())return new Wv(this._firestore,i,u.key,u,t.converter);if(u.isNoDocument())return new Wv(this._firestore,i,t._key,null,t.converter);throw lt()})}set(n,t,i){const o=Ud(n,this._firestore),u=Lw(o.converter,t,i),d=Pw(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,i);return this._transaction.set(o._key,d),this}update(n,t,i,...o){const u=Ud(n,this._firestore);let d;return d="string"==typeof(t=(0,Yt.m9)(t))||t instanceof sc?DS(this._dataReader,"Transaction.update",u._key,t,i,o):ES(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(n){const t=Ud(n,this._firestore);return this._transaction.delete(t._key),this}}{constructor(n,t){super(n,t),this._firestore=n}get(n){const t=Ud(n,this._firestore),i=new Rp(this._firestore);return super.get(n).then(o=>new ac(this._firestore,i,t._key,o._document,new Op(!1,!1),t.converter))}}function NS(r,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Ue("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return n}function YZ(){if("undefined"==typeof Uint8Array)throw new Ue("unimplemented","Uint8Arrays are not available in this environment.")}function XZ(){if(!function Jt(){return"undefined"!=typeof atob}())throw new Ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,n=!0){wd=Pu.SDK_VERSION,(0,Pu._registerComponent)(new ig.wA("firestore",(t,{options:i})=>{const o=t.getProvider("app").getImmediate(),u=new pr(o,new NE(t.getProvider("auth-internal")),new XT(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:n},i),u._setSettings(i),u},"PUBLIC")),(0,Pu.registerVersion)(xE,"3.4.13",r),(0,Pu.registerVersion)(xE,"3.4.13","esm2017")}();class Kv{constructor(n){this._delegate=n}static fromBase64String(n){return XZ(),new Kv(Gu.fromBase64String(n))}static fromUint8Array(n){return YZ(),new Kv(Gu.fromUint8Array(n))}toBase64(){return XZ(),this._delegate.toBase64()}toUint8Array(){return YZ(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function MS(r){return function LO(r,n){if("object"!=typeof r||null===r)return!1;const t=r;for(const i of n)if(i in t&&"function"==typeof t[i])return!0;return!1}(r,["next","error","complete"])}class FO{enableIndexedDbPersistence(n,t){return function HU(r,n){kZ(r=mn(r,pr));const t=Wr(r),i=r._freezeSettings(),o=new fS;return xZ(t,o,new dZ(o,i.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(n){return function GU(r){kZ(r=mn(r,pr));const n=Wr(r),t=r._freezeSettings(),i=new fS;return xZ(n,i,new DU(i,t.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function JU(r){if(r._initialized&&!r._terminated)throw new Ue(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new ai;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(t=(0,Ie.Z)(function*(i){if(!s.V())return Promise.resolve();const o=i+"main";yield s.delete(o)}),function(i){return t.apply(this,arguments)})(uD(r._databaseId,r._persistenceKey)),n.resolve()}catch(t){n.reject(t)}var t})),n.promise}(n._delegate)}}class eN{constructor(n,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},n instanceof bs||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const t=this._delegate._getSettings();!n.merge&&t.host!==n.host&&bd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},t),n)).merge,this._delegate._setSettings(n)}useEmulator(n,t,i={}){!function qU(r,n,t,i={}){var o;const u=(r=mn(r,Gv))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==n&&bd("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},u),{host:`${n}:${t}`,ssl:!1})),i.mockUserToken){let d,g;if("string"==typeof i.mockUserToken)d=i.mockUserToken,g=si.MOCK_USER;else{d=(0,Yt.Sg)(i.mockUserToken,null===(o=r._app)||void 0===o?void 0:o.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Ue(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new si(v)}r._authCredentials=new KT(new ZE(d,g))}}(this._delegate,n,t,i)}enableNetwork(){return function zU(r){return function NU(r){return r.asyncQueue.enqueue((0,Ie.Z)(function*(){const n=yield gZ(r),t=yield mZ(r);return n.setNetworkEnabled(!0),function(i){const o=nt(i);return o.lu.delete(0),$v(o)}(t)}))}(Wr(r=mn(r,pr)))}(this._delegate)}disableNetwork(){return function QU(r){return function MU(r){return r.asyncQueue.enqueue((0,Ie.Z)(function*(){const n=yield gZ(r),t=yield mZ(r);return n.setNetworkEnabled(!1),(i=(0,Ie.Z)(function*(o){const u=nt(o);u.lu.add(0),yield am(u),u._u.set("Offline")}),function(o){return i.apply(this,arguments)})(t);var i}))}(Wr(r=mn(r,pr)))}(this._delegate)}enablePersistence(n){let t=!1,i=!1;return n&&(t=!!n.synchronizeTabs,i=!!n.experimentalForceOwningTab,CZ("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function WU(r){return function(n){const t=new ai;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function gU(r,n){return YD.apply(this,arguments)}(yield TS(n),t)})),t.promise}(Wr(r=mn(r,pr)))}(this._delegate)}onSnapshotsInSync(n){return function SO(r,n){return function OU(r,n){const t=new Sw(n);return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return i=yield fm(r),o=t,nt(i).Tu.add(o),void o.next();var i,o})),()=>{t.Tc(),r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return i=yield fm(r),o=t,void nt(i).Tu.delete(o);var i,o}))}}(Wr(r=mn(r,pr)),AS(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Ue("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new mm(this,IZ(this._delegate,n))}catch(t){throw bo(t,"collection()","Firestore.collection()")}}doc(n){try{return new fa(this,Zw(this._delegate,n))}catch(t){throw bo(t,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Ao(this,function VU(r,n){if(r=mn(r,Gv),bS("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Ue(pe.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new io(r,null,(t=n,new rc(dn.emptyPath(),t)));var t}(this._delegate,n))}catch(t){throw bo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function kO(r,n,t){r=mn(r,pr);const i=Object.assign(Object.assign({},yO),t);return function(o){if(o.maxAttempts<1)throw new Ue(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function RU(r,n,t){const i=new ai;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const o=yield(u=r,xw(u).then(d=>d.datastore));var u;new kU(r.asyncQueue,o,t,n,i).run()})),i.promise}(Wr(r),o=>n(new xO(r,o)),i)}(this._delegate,t=>n(new tN(this,t)))}batch(){return Wr(this._delegate),new nN(new JZ(this._delegate,n=>gm(this._delegate,n)))}loadBundle(n){return function KU(r,n){const t=Wr(r=mn(r,pr)),i=new jU;return function LU(r,n,t,i){const o=function(u,d){let g;return g="string"==typeof u?(new TextEncoder).encode(u):u,v=function(v,w){if(v instanceof Uint8Array)return hZ(v,w);if(v instanceof ArrayBuffer)return hZ(new Uint8Array(v),w);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new SU(v,d);var v}(t,jv(n));r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function EU(r,n,t){const i=nt(r);var o;(o=(0,Ie.Z)(function*(u,d,g){try{const v=yield d.getMetadata();if(yield function(R,z){const te=nt(R),Pe=Ci(z.createTime);return te.persistence.runTransaction("hasNewerBundle","readonly",Ge=>te.Ds.getBundleMetadata(Ge,z.id)).then(Ge=>!!Ge&&Ge.createTime.compareTo(Pe)>=0)}(u.localStore,v))return yield d.close(),g._completeWith({taskState:"Success",documentsLoaded:(R=v).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);g._updateProgress(tZ(v));const w=new oU(v,u.localStore,d.wt);let S=yield d.fc();for(;S;){const R=yield w.Nu(S);R&&g._updateProgress(R),S=yield d.fc()}const N=yield w.complete();return yield oc(u,N.Mu,void 0),yield function(R,z){const te=nt(R);return te.persistence.runTransaction("Save bundle","readwrite",Pe=>te.Ds.saveBundleMetadata(Pe,z))}(u.localStore,v),g._completeWith(N.progress),Promise.resolve(N.Ou)}catch(v){return bd("SyncEngine",`Loading bundle failed with ${v}`),g._failWith(v),Promise.resolve(new Set)}var R}),function(u,d,g){return o.apply(this,arguments)})(i,n,t).then(o=>{i.sharedClientState.notifyBundleLoaded(o)})}(yield TS(r),o,i)}))}(t,r._databaseId,n,i),i}(this._delegate,n)}namedQuery(n){return function YU(r,n){return function FU(r,n){return r.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(t,i){const o=nt(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ds.getNamedQuery(u,i))}(yield CS(r),n)}))}(Wr(r=mn(r,pr)),n).then(t=>t?new io(r,null,t.query):null)}(this._delegate,n).then(t=>t?new Ao(this,t):null)}}class Fw extends kS{constructor(n){super(),this.firestore=n}convertBytes(n){return new Kv(new Gu(n))}convertReference(n){const t=this.convertDocumentKey(n,this.firestore._databaseId);return fa.forKey(t,this.firestore,null)}}class tN{constructor(n,t){this._firestore=n,this._delegate=t,this._userDataWriter=new Fw(n)}get(n){const t=Fp(n);return this._delegate.get(t).then(i=>new Yv(this._firestore,new ac(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(n,t,i){const o=Fp(n);return i?(NS("Transaction.set",i),this._delegate.set(o,t,i)):this._delegate.set(o,t),this}update(n,t,i,...o){const u=Fp(n);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,i,...o),this}delete(n){const t=Fp(n);return this._delegate.delete(t),this}}class nN{constructor(n){this._delegate=n}set(n,t,i){const o=Fp(n);return i?(NS("WriteBatch.set",i),this._delegate.set(o,t,i)):this._delegate.set(o,t),this}update(n,t,i,...o){const u=Fp(n);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,i,...o),this}delete(n){const t=Fp(n);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Lp{constructor(n,t,i){this._firestore=n,this._userDataWriter=t,this._delegate=i}fromFirestore(n,t){const i=new zv(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new Xv(this._firestore,i),null!=t?t:{})}toFirestore(n,t){return t?this._delegate.toFirestore(n,t):this._delegate.toFirestore(n)}static getInstance(n,t){const i=Lp.INSTANCES;let o=i.get(n);o||(o=new WeakMap,i.set(n,o));let u=o.get(t);return u||(u=new Lp(n,new Fw(n),t),o.set(t,u)),u}}Lp.INSTANCES=new WeakMap;class fa{constructor(n,t){this.firestore=n,this._delegate=t,this._userDataWriter=new Fw(n)}static forPath(n,t,i){if(n.length%2!=0)throw new Ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new fa(t,new or(t._delegate,i,new tt(n)))}static forKey(n,t,i){return new fa(t,new or(t._delegate,i,n))}get id(){return this._delegate.id}get parent(){return new mm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new mm(this.firestore,IZ(this._delegate,n))}catch(t){throw bo(t,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,Yt.m9)(n))instanceof or&&EZ(this._delegate,n)}set(n,t){t=NS("DocumentReference.set",t);try{return t?WZ(this._delegate,n,t):WZ(this._delegate,n)}catch(i){throw bo(i,"setDoc()","DocumentReference.set()")}}update(n,t,...i){try{return 1===arguments.length?zZ(this._delegate,n):zZ(this._delegate,n,t,...i)}catch(o){throw bo(o,"updateDoc()","DocumentReference.update()")}}delete(){return function EO(r){return gm(mn(r.firestore,pr),[new em(r._key,yr.none())])}(this._delegate)}onSnapshot(...n){const t=rN(n),i=iN(n,o=>new Yv(this.firestore,new ac(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return QZ(this._delegate,t,i)}get(n){let t;return t="cache"===(null==n?void 0:n.source)?function TO(r){r=mn(r,or);const n=mn(r.firestore,pr),t=Wr(n),i=new Rp(n);return function PU(r,n){const t=new ai;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(i=(0,Ie.Z)(function*(o,u,d){try{const g=yield function(v,w){const S=nt(v);return S.persistence.runTransaction("read document","readonly",N=>S.localDocuments.getDocument(N,w))}(o,u);g.isFoundDocument()?d.resolve(g):g.isNoDocument()?d.resolve(null):d.reject(new Ue(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const v=cm(g,`Failed to get document '${u} from cache`);d.reject(v)}}),function(o,u,d){return i.apply(this,arguments)})(yield CS(r),n,t);var i})),t.promise}(t,r._key).then(o=>new ac(n,i,r._key,o,new Op(null!==o&&o.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function wO(r){r=mn(r,or);const n=mn(r.firestore,pr);return _Z(Wr(n),r._key,{source:"server"}).then(t=>ZS(n,r,t))}(this._delegate):function CO(r){r=mn(r,or);const n=mn(r.firestore,pr);return _Z(Wr(n),r._key).then(t=>ZS(n,r,t))}(this._delegate),t.then(i=>new Yv(this.firestore,new ac(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(n){return new fa(this.firestore,this._delegate.withConverter(n?Lp.getInstance(this.firestore,n):null))}}function bo(r,n,t){return r.message=r.message.replace(n,t),r}function rN(r){for(const n of r)if("object"==typeof n&&!MS(n))return n;return{}}function iN(r,n){var t,i;let o;return o=MS(r[0])?r[0]:MS(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:u=>{o.next&&o.next(n(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(i=o.complete)||void 0===i?void 0:i.bind(o)}}class Yv{constructor(n,t){this._firestore=n,this._delegate=t}get ref(){return new fa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,t){return this._delegate.get(n,t)}isEqual(n){return LZ(this._delegate,n._delegate)}}class Xv extends Yv{data(n){const t=this._delegate.data(n);return function pv(r,n){r||lt()}(void 0!==t),t}}class Ao{constructor(n,t){this.firestore=n,this._delegate=t,this._userDataWriter=new Fw(n)}where(n,t,i){try{return new Ao(this.firestore,Pd(this._delegate,function lO(r,n,t){const i=n,o=Rw("where",r);return new uO(o,i,t)}(n,t,i)))}catch(o){throw bo(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,t){try{return new Ao(this.firestore,Pd(this._delegate,function dO(r,n="asc"){const t=n,i=Rw("orderBy",r);return new cO(i,t)}(n,t)))}catch(i){throw bo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Ao(this.firestore,Pd(this._delegate,function hO(r){return bZ("limit",r),new qZ("limit",r,"F")}(n)))}catch(t){throw bo(t,"limit()","Query.limit()")}}limitToLast(n){try{return new Ao(this.firestore,Pd(this._delegate,function pO(r){return bZ("limitToLast",r),new qZ("limitToLast",r,"L")}(n)))}catch(t){throw bo(t,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Ao(this.firestore,Pd(this._delegate,function fO(...r){return new VZ("startAt",r,!0)}(...n)))}catch(t){throw bo(t,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Ao(this.firestore,Pd(this._delegate,function gO(...r){return new VZ("startAfter",r,!1)}(...n)))}catch(t){throw bo(t,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Ao(this.firestore,Pd(this._delegate,function mO(...r){return new BZ("endBefore",r,!1)}(...n)))}catch(t){throw bo(t,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Ao(this.firestore,Pd(this._delegate,function _O(...r){return new BZ("endAt",r,!0)}(...n)))}catch(t){throw bo(t,"endAt()","Query.endAt()")}}isEqual(n){return DZ(this._delegate,n._delegate)}get(n){let t;return t="cache"===(null==n?void 0:n.source)?function AO(r){r=mn(r,io);const n=mn(r.firestore,pr),t=Wr(n),i=new Rp(n);return function UU(r,n){const t=new ai;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(i=(0,Ie.Z)(function*(o,u,d){try{const g=yield ww(o,u,!0),v=new iZ(u,g.ji),w=v.Ku(g.documents),S=v.applyChanges(w,!1);d.resolve(S.snapshot)}catch(g){const v=cm(g,`Failed to execute query '${u} against cache`);d.reject(v)}}),function(o,u,d){return i.apply(this,arguments)})(yield CS(r),n,t);var i})),t.promise}(t,r._query).then(o=>new Md(n,i,r,o))}(this._delegate):"server"===(null==n?void 0:n.source)?function IO(r){r=mn(r,io);const n=mn(r.firestore,pr),t=Wr(n),i=new Rp(n);return yZ(t,r._query,{source:"server"}).then(o=>new Md(n,i,r,o))}(this._delegate):function bO(r){r=mn(r,io);const n=mn(r.firestore,pr),t=Wr(n),i=new Rp(n);return FZ(r._query),yZ(t,r._query).then(o=>new Md(n,i,r,o))}(this._delegate),t.then(i=>new PS(this.firestore,new Md(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...n){const t=rN(n),i=iN(n,o=>new PS(this.firestore,new Md(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return QZ(this._delegate,t,i)}withConverter(n){return new Ao(this.firestore,this._delegate.withConverter(n?Lp.getInstance(this.firestore,n):null))}}class VO{constructor(n,t){this._firestore=n,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Xv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class PS{constructor(n,t){this._firestore=n,this._delegate=t}get query(){return new Ao(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new Xv(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(t=>new VO(this._firestore,t))}forEach(n,t){this._delegate.forEach(i=>{n.call(t,new Xv(this._firestore,i))})}isEqual(n){return LZ(this._delegate,n._delegate)}}class mm extends Ao{constructor(n,t){super(n,t),this.firestore=n,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new fa(this.firestore,n):null}doc(n){try{return new fa(this.firestore,void 0===n?Zw(this._delegate):Zw(this._delegate,n))}catch(t){throw bo(t,"doc()","CollectionReference.doc()")}}add(n){return function DO(r,n){const t=mn(r.firestore,pr),i=Zw(r),o=Lw(r.converter,n);return gm(t,[Pw(Pp(r.firestore),"addDoc",i._key,o,null!==r.converter,{}).toMutation(i._key,yr.exists(!1))]).then(()=>i)}(this._delegate,n).then(t=>new fa(this.firestore,t))}isEqual(n){return EZ(this._delegate,n._delegate)}withConverter(n){return new mm(this.firestore,this._delegate.withConverter(n?Lp.getInstance(this.firestore,n):null))}}function Fp(r){return mn(r,or)}class US{constructor(...n){this._delegate=new sc(...n)}static documentId(){return new US(Er.keyField().canonicalString())}isEqual(n){return(n=(0,Yt.m9)(n))instanceof sc&&this._delegate._internalPath.isEqual(n._internalPath)}}class qp{constructor(n){this._delegate=n}static serverTimestamp(){const n=function NO(){return new IS("serverTimestamp")}();return n._methodName="FieldValue.serverTimestamp",new qp(n)}static delete(){const n=function ZO(){return new Jv("deleteField")}();return n._methodName="FieldValue.delete",new qp(n)}static arrayUnion(...n){const t=function MO(...r){return new nO("arrayUnion",r)}(...n);return t._methodName="FieldValue.arrayUnion",new qp(t)}static arrayRemove(...n){const t=function PO(...r){return new rO("arrayRemove",r)}(...n);return t._methodName="FieldValue.arrayRemove",new qp(t)}static increment(n){const t=function UO(r){return new iO("increment",r)}(n);return t._methodName="FieldValue.increment",new qp(t)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const BO={Firestore:eN,GeoPoint:Nw,Timestamp:ir,Blob:Kv,Transaction:tN,WriteBatch:nN,DocumentReference:fa,DocumentSnapshot:Yv,Query:Ao,QueryDocumentSnapshot:Xv,QuerySnapshot:PS,CollectionReference:mm,FieldPath:US,FieldValue:qp,setLogLevel:function qO(r){!function kE(r){ws.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function $O(r){(function jO(r,n){r.INTERNAL.registerComponent(new ig.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return n(i,o)},"PUBLIC").setServiceProps(Object.assign({},BO)))})(r,(n,t)=>new eN(n,t,new FO)),r.registerVersion("@firebase/firestore-compat","0.1.22")}(_y.Z);var HO=P(6451),qw=P(5363),GO=P(6063);class oN extends jo.x{constructor(n=1/0,t=1/0,i=GO.l){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){const{isStopped:t,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:d}=this;t||(i.push(n),!o&&i.push(u.now()+d)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:o}=this,u=o.slice();for(let d=0;d<u.length&&!n.closed;d+=i?1:2)n.next(u[d]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){const{_bufferSize:n,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:o}=this,u=(o?1:2)*n;if(n<1/0&&u<i.length&&i.splice(0,i.length-u),!o){const d=t.now();let g=0;for(let v=1;v<i.length&&i[v]<=d;v+=2)g=v;g&&i.splice(0,g+1)}}}var JO=P(3099);function sN(r,n,t){let i,o=!1;return r&&"object"==typeof r?({bufferSize:i=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:t}=r):i=null!=r?r:1/0,(0,JO.B)({connector:()=>new oN(i,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function aN(r,n){return(0,mh.m)(n)?ni(()=>r,n):ni(()=>r)}var OS=P(9468);P(5867);const lN=new Map,YO={activated:!1,tokenObservers:[]},XO={initialized:!1,enabled:!1};function bi(r){return lN.get(r)||YO}function eu(r,n){lN.set(r,n)}function Bw(){return XO}class iR{constructor(n,t,i,o,u){if(this.operation=n,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var t=this;return(0,Ie.Z)(function*(){t.stop();try{t.pending=new Yt.BH,yield function oR(r){return new Promise(n=>{setTimeout(n,r)})}(t.getNextRun(n)),t.pending.resolve(),yield t.pending.promise,t.pending=new Yt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Io=new Yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dN(r){if(!bi(r).activated)throw Io.create("use-before-activation",{appName:r.name})}function qS(r,n){return VS.apply(this,arguments)}function VS(){return VS=(0,Ie.Z)(function*({url:r,body:n},t){var i,o;const u={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const z=yield d.getHeartbeatsHeader();z&&(u["X-Firebase-Client"]=z)}const g={method:"POST",body:JSON.stringify(n),headers:u};let v,w;try{v=yield fetch(r,g)}catch(z){throw Io.create("fetch-network-error",{originalErrorMessage:null===(i=z)||void 0===i?void 0:i.message})}if(200!==v.status)throw Io.create("fetch-status-error",{httpStatus:v.status});try{w=yield v.json()}catch(z){throw Io.create("fetch-parse-error",{originalErrorMessage:null===(o=z)||void 0===o?void 0:o.message})}const S=w.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw Io.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const N=1e3*Number(S[1]),R=Date.now();return{token:w.token,expireTimeMillis:R+N,issuedAtTimeMillis:R}}),VS.apply(this,arguments)}function lR(r,n){const{projectId:t,appId:i,apiKey:o}=r.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${o}`,body:{debug_token:n}}}const e0="firebase-app-check-store";let Hw=null;function pN(){return Hw||(Hw=new Promise((r,n)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=o=>{r(o.target.result)},i.onerror=o=>{var u;n(Io.create("storage-open",{originalErrorMessage:null===(u=o.target.error)||void 0===u?void 0:u.message}))},i.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(e0,{keyPath:"compositeKey"})}}catch(i){n(Io.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),Hw)}function BS(){return BS=(0,Ie.Z)(function*(r,n){const i=(yield pN()).transaction(e0,"readwrite"),u=i.objectStore(e0).put({compositeKey:r,value:n});return new Promise((d,g)=>{u.onsuccess=v=>{d()},i.onerror=v=>{var w;g(Io.create("storage-set",{originalErrorMessage:null===(w=v.target.error)||void 0===w?void 0:w.message}))}})}),BS.apply(this,arguments)}const t0=new Wa.Yd("@firebase/app-check");function _N(r,n){return(0,Yt.hl)()?function pR(r,n){return function fN(r,n){return BS.apply(this,arguments)}(function mN(r){return`${r.options.appId}-${r.name}`}(r),n)}(r,n).catch(t=>{t0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function yN(){return Bw().enabled}function vN(){return GS.apply(this,arguments)}function GS(){return GS=(0,Ie.Z)(function*(){const r=Bw();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),GS.apply(this,arguments)}const vR={error:"UNKNOWN_ERROR"};function CR(r){return Yt.US.encodeString(JSON.stringify(r),!1)}function Gw(r){return JS.apply(this,arguments)}function JS(){return JS=(0,Ie.Z)(function*(r,n=!1){const t=r.app;dN(t);const i=bi(t);let u,o=i.token;if(!o){const v=yield i.cachedTokenPromise;v&&Jw(v)&&(o=v)}if(!n&&o&&Jw(o))return{token:o.token};let g,d=!1;if(yN()){i.exchangeTokenPromise||(i.exchangeTokenPromise=qS(lR(t,yield vN()),r.heartbeatServiceProvider).then(w=>(i.exchangeTokenPromise=void 0,w)),d=!0);const v=yield i.exchangeTokenPromise;return yield _N(t,v),eu(t,Object.assign(Object.assign({},i),{token:v})),{token:v.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(v=>(i.exchangeTokenPromise=void 0,v)),d=!0),o=yield i.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?t0.warn(v.message):t0.error(v),u=v}return o?(g={token:o.token},eu(t,Object.assign(Object.assign({},i),{token:o})),yield _N(t,o)):g=wR(u),d&&TN(t,g),g}),JS.apply(this,arguments)}function zS(r,n){const t=bi(r),i=t.tokenObservers.filter(o=>o.next!==n);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),eu(r,Object.assign(Object.assign({},t),{tokenObservers:i}))}function CN(r){const{app:n}=r,t=bi(n);let i=t.tokenRefresher;i||(i=function TR(r){const{app:n}=r;return new iR((0,Ie.Z)(function*(){let i;if(i=bi(n).token?yield Gw(r,!0):yield Gw(r),i.error)throw i.error}),()=>!0,()=>{const t=bi(n);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(r),eu(n,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function TN(r,n){const t=bi(r).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=n.error?i.error(n.error):i.next(n)}catch(o){}}function Jw(r){return r.expireTimeMillis-Date.now()>0}function wR(r){return{token:CR(vR),error:r}}class bR{constructor(n,t){this.app=n,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:n}=bi(this.app);for(const t of n)zS(this.app,t.next);return Promise.resolve()}}const xN="app-check-internal";!function RR(){(0,Pu._registerComponent)(new ig.wA("app-check",r=>function AR(r,n){return new bR(r,n)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,n,t)=>{r.getProvider(xN).initialize()})),(0,Pu._registerComponent)(new ig.wA(xN,r=>function IR(r){return{getToken:n=>Gw(r,n),addTokenListener:n=>function WS(r,n,t,i){const{app:o}=r,u=bi(o),d={next:t,error:i,type:n};if(eu(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&Jw(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),CN(r)}).catch(()=>{})}u.cachedTokenPromise.then(()=>CN(r))}(r,"INTERNAL",n),removeTokenListener:n=>zS(r.app,n)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Pu.registerVersion)("@firebase/app-check","0.5.12")}();class XS{constructor(){return(0,ri.vb)("app-check")}}"undefined"!=typeof window&&window;var BR=P(127);const ZN=new e.OlP("angularfire2.auth.use-emulator"),NN=new e.OlP("angularfire2.auth.settings"),MN=new e.OlP("angularfire2.auth.tenant-id"),PN=new e.OlP("angularfire2.auth.langugage-code"),UN=new e.OlP("angularfire2.auth.use-device-language"),ON=new e.OlP("angularfire.auth.persistence"),RN=(r,n,t,i,o,u,d,g)=>(0,Ts.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const v=n.runOutsideAngular(()=>r.auth());if(t&&v.useEmulator(...t),i&&(v.tenantId=i),v.languageCode=o,u&&v.useDeviceLanguage(),d)for(const[w,S]of Object.entries(d))v.settings[w]=S;return g&&v.setPersistence(g),v},[t,i,o,u,d,g]);let zw=(()=>{class r{constructor(t,i,o,u,d,g,v,w,S,N,R,z){const te=new jo.x,Pe=wt(void 0).pipe((0,qw.Q)(d.outsideAngular),ni(()=>u.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5881)))),(0,se.U)(()=>(0,Ts.on)(t,u,i)),(0,se.U)(Ge=>RN(Ge,u,g,w,S,N,v,R)),sN({bufferSize:1,refCount:!1}));if(Vd(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=wt(null);else{Pe.pipe(Ks()).subscribe();const ft=Pe.pipe(ni(bt=>bt.getRedirectResult().then(en=>en,()=>null)),ri.iC,sN({bufferSize:1,refCount:!1})),Ut=Pe.pipe(ni(bt=>new Br.y(en=>({unsubscribe:u.runOutsideAngular(()=>bt.onAuthStateChanged(xn=>en.next(xn),xn=>en.error(xn),()=>en.complete()))})))),Xt=Pe.pipe(ni(bt=>new Br.y(en=>({unsubscribe:u.runOutsideAngular(()=>bt.onIdTokenChanged(xn=>en.next(xn),xn=>en.error(xn),()=>en.complete()))}))));this.authState=ft.pipe(aN(Ut),(0,OS.R)(d.outsideAngular),(0,qw.Q)(d.insideAngular)),this.user=ft.pipe(aN(Xt),(0,OS.R)(d.outsideAngular),(0,qw.Q)(d.insideAngular)),this.idToken=this.user.pipe(ni(bt=>bt?(0,Sn.D)(bt.getIdToken()):wt(null))),this.idTokenResult=this.user.pipe(ni(bt=>bt?(0,Sn.D)(bt.getIdTokenResult()):wt(null))),this.credential=(0,HO.T)(ft,te,this.authState.pipe(gt(bt=>!bt))).pipe((0,se.U)(bt=>null!=bt&&bt.user?bt:null),(0,OS.R)(d.outsideAngular),(0,qw.Q)(d.insideAngular))}return(0,Ts.pX)(this,Pe,u,{spy:{apply:(Ge,ft,Ut)=>{(Ge.startsWith("signIn")||Ge.startsWith("createUser"))&&Ut.then(Xt=>te.next(Xt))}}})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ts.Dh),e.LFG(Ts.xv,8),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(ri.HU),e.LFG(ZN,8),e.LFG(NN,8),e.LFG(MN,8),e.LFG(PN,8),e.LFG(UN,8),e.LFG(ON,8),e.LFG(XS,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),$R=(()=>{class r{constructor(){BR.Z.registerVersion("angularfire",ri.q4.full,"auth-compat")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[zw]}),r})();function LN(r,n){return function HR(r,n=ys.z){return new Br.y(t=>{let i;return null!=n?n.schedule(()=>{i=r.onSnapshot({includeMetadataChanges:!0},t)}):i=r.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(r,n)}function t2(r,n){return LN(r,n).pipe((0,se.U)(t=>({payload:t,type:"query"})))}function Qw(r,n){return t2(r,n).pipe(bu(void 0),og(),(0,se.U)(([t,i])=>{const o=i.payload.docChanges(),u=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((d,g)=>{const v=o.find(S=>S.doc.ref.isEqual(d.ref)),w=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(d.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:d}})}),u}))}function FN(r,n,t){return Qw(r,t).pipe(jc((i,o)=>function JR(r,n,t){return n.forEach(i=>{t.indexOf(i.type)>-1&&(r=function WR(r,n){switch(n.type){case"added":if(!r[n.newIndex]||!r[n.newIndex].doc.ref.isEqual(n.doc.ref))return n2(r,n.newIndex,0,n);break;case"modified":if(null==r[n.oldIndex]||r[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const t=r.slice();return t.splice(n.oldIndex,1),t.splice(n.newIndex,0,n),t}return n2(r,n.newIndex,1,n)}break;case"removed":if(r[n.oldIndex]&&r[n.oldIndex].doc.ref.isEqual(n.doc.ref))return n2(r,n.oldIndex,1)}return r}(r,i))}),r}(i,o.map(u=>u.payload),n),[]),function tE(r,n=fh.y){return r=null!=r?r:nE,(0,pi.e)((t,i)=>{let o,u=!0;t.subscribe((0,_r.x)(i,d=>{const g=n(d);(u||!r(o,g))&&(u=!1,o=g,i.next(d))}))})}(),(0,se.U)(i=>i.map(o=>({type:o.type,payload:o}))))}function n2(r,n,t,...i){const o=r.slice();return o.splice(n,t,...i),o}function qN(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class VN{constructor(n,t,i){this.ref=n,this.query=t,this.afs=i}stateChanges(n){let t=Qw(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(t=t.pipe((0,se.U)(i=>i.filter(o=>n.indexOf(o.type)>-1)))),t.pipe(bu(void 0),og(),gt(([i,o])=>o.length>0||!i),(0,se.U)(([i,o])=>o),ri.iC)}auditTrail(n){return this.stateChanges(n).pipe(jc((t,i)=>[...t,...i],[]))}snapshotChanges(n){const t=qN(n);return FN(this.query,t,this.afs.schedulers.outsideAngular).pipe(ri.iC)}valueChanges(n={}){return t2(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(t=>t.payload.docs.map(i=>n.idField?Object.assign(Object.assign({},i.data()),{[n.idField]:i.id}):i.data())),ri.iC)}get(n){return(0,Sn.D)(this.query.get(n)).pipe(ri.iC)}add(n){return this.ref.add(n)}doc(n){return new BN(this.ref.doc(n),this.afs)}}class BN{constructor(n,t){this.ref=n,this.afs=t}set(n,t){return this.ref.set(n,t)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,t){const i=this.ref.collection(n),{ref:o,query:u}=jN(i,t);return new VN(o,u,this.afs)}snapshotChanges(){return function GR(r,n){return LN(r,n).pipe(bu(void 0),og(),(0,se.U)(([t,i])=>i.exists?null!=t&&t.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ri.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,se.U)(({payload:t})=>n.idField?Object.assign(Object.assign({},t.data()),{[n.idField]:t.id}):t.data()))}get(n){return(0,Sn.D)(this.ref.get(n)).pipe(ri.iC)}}class zR{constructor(n,t){this.query=n,this.afs=t}stateChanges(n){return n&&0!==n.length?Qw(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(t=>t.filter(i=>n.indexOf(i.type)>-1)),gt(t=>t.length>0),ri.iC):Qw(this.query,this.afs.schedulers.outsideAngular).pipe(ri.iC)}auditTrail(n){return this.stateChanges(n).pipe(jc((t,i)=>[...t,...i],[]))}snapshotChanges(n){const t=qN(n);return FN(this.query,t,this.afs.schedulers.outsideAngular).pipe(ri.iC)}valueChanges(n={}){return t2(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(i=>i.payload.docs.map(o=>n.idField?Object.assign({[n.idField]:o.id},o.data()):o.data())),ri.iC)}get(n){return(0,Sn.D)(this.query.get(n)).pipe(ri.iC)}}const QR=new e.OlP("angularfire2.enableFirestorePersistence"),KR=new e.OlP("angularfire2.firestore.persistenceSettings"),YR=new e.OlP("angularfire2.firestore.settings"),XR=new e.OlP("angularfire2.firestore.use-emulator");function jN(r,n=(t=>t)){return{query:n(r),ref:r}}let eL=(()=>{class r{constructor(t,i,o,u,d,g,v,w,S,N,R,z,te,Pe,Ge,ft,Ut){this.schedulers=v;const Xt=(0,Ts.on)(t,g,i),bt=S;N&&RN(Xt,g,R,te,Pe,Ge,z,ft),[this.firestore,this.persistenceEnabled$]=(0,Ts.cc)(`${Xt.name}.firestore`,"AngularFirestore",Xt.name,()=>{const en=g.runOutsideAngular(()=>Xt.firestore());if(u&&en.settings(u),bt&&en.useEmulator(...bt),o&&!Vd(d)){const xn=()=>{try{return(0,Sn.D)(en.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(oo){return"undefined"!=typeof console&&console.warn(oo),wt(!1)}};return[en,g.runOutsideAngular(xn)]}return[en,wt(!1)]},[u,bt,o])}collection(t,i){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=jN(o,i),g=this.schedulers.ngZone.run(()=>u);return new VN(g,d,this)}collectionGroup(t,i){const o=i||(d=>d),u=this.firestore.collectionGroup(t);return new zR(o(u),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>i);return new BN(o,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ts.Dh),e.LFG(Ts.xv,8),e.LFG(QR,8),e.LFG(YR,8),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(ri.HU),e.LFG(KR,8),e.LFG(XR,8),e.LFG(zw,8),e.LFG(ZN,8),e.LFG(NN,8),e.LFG(MN,8),e.LFG(PN,8),e.LFG(UN,8),e.LFG(ON,8),e.LFG(XS,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),r2=(()=>{class r{constructor(t,i){this.afs=t,this.afAuth=i,this.afAuth.authState.subscribe(o=>{o?(this.userData=o,localStorage.setItem("fire.user",JSON.stringify(this.userData))):localStorage.setItem("fire.user","null")})}get isLoggedIn(){const t=localStorage.getItem("fire.user"),i=JSON.parse(t||"null");return null!==i&&!1!==i.emailVerified}GoogleAuth(){return this.AuthLogin(new eE.Q).then(t=>{})}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(i=>{this.SetUserData(i.user)}).catch(i=>{window.alert(i)})}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("fire.user")})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(eL),e.LFG(zw))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function tL(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",2),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.logOut())}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.hij("[",t.userName,"]")}}function nL(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",3),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.GoogleAuth())}),e._uU(1,"[LOGIN]"),e.qZA()}}let rL=(()=>{class r{constructor(t){this.fireAuthService=t}get loggedIn(){return this.fireAuthService.isLoggedIn}get userName(){return this.fireAuthService.userData.displayName||"Logged In"}ngOnInit(){}GoogleAuth(){this.fireAuthService.GoogleAuth()}logOut(){this.fireAuthService.SignOut()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(r2))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-login"]],decls:2,vars:2,consts:[["class","text-grey link-btn",3,"click",4,"ngIf"],["class","text-main link-btn",3,"click",4,"ngIf"],[1,"text-grey","link-btn",3,"click"],[1,"text-main","link-btn",3,"click"]],template:function(t,i){1&t&&(e.YNc(0,tL,2,1,"a",0),e.YNc(1,nL,2,0,"a",1)),2&t&&(e.Q6J("ngIf",i.loggedIn),e.xp6(1),e.Q6J("ngIf",!i.loggedIn))},dependencies:[Pt]}),r})(),iL=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-header"]],decls:11,vars:8,consts:[[1,"nav","text-grey-dull"],[3,"name","route"],[1,"nav-login"]],template:function(t,i){1&t&&(e.TgZ(0,"nav")(1,"div",0),e._UZ(2,"app-header-nav-link",1),e._uU(3," - "),e._UZ(4,"app-header-nav-link",1),e._uU(5," - "),e._UZ(6,"app-header-nav-link",1),e._uU(7," - "),e._UZ(8,"app-header-nav-link",1),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"app-login"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("name","[ Languages ]")("route","language"),e.xp6(2),e.Q6J("name","[ Evolutions ]")("route","evolutions/connections"),e.xp6(2),e.Q6J("name","[ Words ]")("route","words/list"),e.xp6(2),e.Q6J("name","[ Trace ]")("route","trace"))},dependencies:[XI,rL],styles:[".nav[_ngcontent-%COMP%]{width:100%;display:flex;margin-left:0;margin-right:auto}.nav-login[_ngcontent-%COMP%]{margin-left:auto;margin-right:0;padding-right:8px}nav[_ngcontent-%COMP%]{display:flex;margin-top:4px}"]}),r})();function oL(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"span"),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(", ",t.version," ")}}let sL=(()=>{class r{constructor(){}ngOnInit(){const t=(new Date).getFullYear();this.year=2022!==t?`2022\u2013${t}`:`${t}`}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-version-footer"]],inputs:{version:"version"},decls:21,vars:2,consts:[[1,"left","text-grey-dull"],["href","https://github.com/owlbeardm/language-parser-ui",1,"text-grey","link-btn"],["href","https://twitter.com/OwlbearDm",1,"text-grey","link-btn"],["href","mailto:owlbeardm@gmail.com?subject=Kedom Language: ",1,"text-grey","link-btn"],["href","https://c7d5a6.com/",1,"text-grey","link-btn"],[1,"right","text-grey-dull"],[1,"copyright","float-md-right"],[1,"col-md","pl-0"],["href","https://owlbeardm.com/","rel","noreferrer","target","_blank",1,"text-grey","link-btn"],[4,"ngIf"]],template:function(t,i){1&t&&(e.TgZ(0,"span",0)(1,"a",1),e._uU(2,"[ GITHUB ]"),e.qZA(),e._uU(3," - "),e.TgZ(4,"a",2),e._uU(5,"[ TWITTER ]"),e.qZA(),e._uU(6," - "),e.TgZ(7,"a",3),e._uU(8,"[ EMAIL ]"),e.qZA(),e._uU(9," - "),e.TgZ(10,"a",4),e._uU(11," [ CONTACTS ]"),e.qZA()(),e.TgZ(12,"span",5)(13,"span",6)(14,"span"),e._uU(15),e.TgZ(16,"span")(17,"span",7)(18,"a",8),e._uU(19,"OwlbearDM"),e.qZA(),e.YNc(20,oL,3,1,"span",9),e.qZA()()()()()),2&t&&(e.xp6(15),e.hij("",i.year," \xa9 Mikita Kukavenka, "),e.xp6(5),e.Q6J("ngIf",i.version))},dependencies:[Pt],styles:[".left[_ngcontent-%COMP%]{margin-left:4px;margin-right:auto}.right[_ngcontent-%COMP%]{margin-left:auto;margin-right:4px}"]}),r})(),aL=(()=>{class r{constructor(){this.title="language-parser-ui",this.version="0.2.4"}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-root"]],decls:7,vars:1,consts:[["align","center",1,"main"],[1,"content-wrapper"],["align","left",1,"content"],[1,"app-footer",3,"version"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-header"),e.TgZ(2,"div",1)(3,"div",2),e._UZ(4,"router-outlet")(5,"app-footer"),e.qZA()(),e._UZ(6,"app-version-footer",3),e.qZA()),2&t&&(e.xp6(6),e.Q6J("version",i.version))},dependencies:[Yi,QI,iL,sL],styles:[".main[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]{width:100%;display:block}.content[_ngcontent-%COMP%]{max-width:1320px}.app-footer[_ngcontent-%COMP%]{width:100%;display:flex;background:#212121;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;margin-top:auto;margin-bottom:0}"]}),r})(),uL=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[ko]}),r})(),lL=(()=>{class r{constructor(t){this.errorService=t}intercept(t,i){return i.handle(t).pipe(La(o=>(o.error instanceof ErrorEvent?this.errorService.addError({message:o.error.message}):this.errorService.addError({message:o.message,details:o.error}),qc(o))))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(eo))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),cL=(()=>{class r extends rd{constructor(t,i){super(t,i)}ping$Response(t){const i=new Nt(this.rootUrl,r.PingPath,"get");return this.http.request(i.build({responseType:"json",accept:"application/json"})).pipe(gt(o=>o instanceof It),(0,se.U)(o=>o))}ping(t){return this.ping$Response(t).pipe((0,se.U)(i=>i.body))}}return r.PingPath="/api/ping",r.\u0275fac=function(t){return new(t||r)(e.LFG(Ga),e.LFG(Ha))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),dL=(()=>{class r{constructor(t,i){if(t)throw new Error("ApiModule is already loaded. Import in your base AppModule only.");if(!i)throw new Error("You need to import the HttpClientModule in your AppModule! \nSee also https://github.com/angular/angular/issues/20575")}static forRoot(t){return{ngModule:r,providers:[{provide:Ga,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(r,12),e.LFG(Ha,8))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[Ja,Ni,cL,Zu,zn,Nu,Ga]}),r})();function HN(r,n,t,i){return new(t||(t=Promise))(function(u,d){function g(S){try{w(i.next(S))}catch(N){d(N)}}function v(S){try{w(i.throw(S))}catch(N){d(N)}}function w(S){S.done?u(S.value):function o(u){return u instanceof t?u:new t(function(d){d(u)})}(S.value).then(g,v)}w((i=i.apply(r,n||[])).next())})}function WN(r){return gt((n,t)=>r<=t)}class fL extends jo.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(n){const{hasError:t,_hasValue:i,_value:o,thrownError:u,isStopped:d,_isComplete:g}=this;t?n.error(u):(d||g)&&(i&&n.next(o),n.complete())}next(n){this.isStopped||(this._value=n,this._hasValue=!0)}complete(){const{_hasValue:n,_value:t,_isComplete:i}=this;i||(this._isComplete=!0,n&&super.next(t),super.complete())}}class _L{}const yL={oneTapEnabled:!0};let n0=(()=>{class r extends class mL{constructor(){}loadScript(n,t,i,o=null){if("undefined"!=typeof document&&!document.getElementById(n)){let u=document.createElement("script");u.async=!0,u.src=t,u.onload=i,o||(o=document.head),o.appendChild(u)}}}{constructor(t,i){super(),this.clientId=t,this.initOptions=i,this.changeUser=new e.vpe,this._socialUser=new ti(null),this._accessToken=new ti(null),this._receivedAccessToken=new e.vpe,this.initOptions=Object.assign(Object.assign({},yL),this.initOptions),this._socialUser.pipe(WN(1)).subscribe(this.changeUser),this._accessToken.pipe(WN(1)).subscribe(this._receivedAccessToken)}initialize(t){return new Promise((i,o)=>{try{this.loadScript(r.PROVIDER_ID,"https://accounts.google.com/gsi/client",()=>{var u;if(google.accounts.id.initialize({client_id:this.clientId,auto_select:t,callback:({credential:d})=>{const g=this.createSocialUser(d);this._socialUser.next(g)},prompt_parent_id:null===(u=this.initOptions)||void 0===u?void 0:u.prompt_parent_id}),this.initOptions.oneTapEnabled&&this._socialUser.pipe(gt(d=>null===d)).subscribe(()=>google.accounts.id.prompt(console.debug)),this.initOptions.scopes){const d=this.initOptions.scopes instanceof Array?this.initOptions.scopes.filter(g=>g).join(" "):this.initOptions.scopes;this._tokenClient=google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:d,callback:g=>{g.error?this._accessToken.error({code:g.error,description:g.error_description,uri:g.error_uri}):this._accessToken.next(g.access_token)}})}i()})}catch(u){o(u)}})}getLoginStatus(){return new Promise((t,i)=>{this._socialUser.value?t(this._socialUser.value):i(`No user is currently logged in with ${r.PROVIDER_ID}`)})}refreshToken(){return new Promise((t,i)=>{google.accounts.id.revoke(this._socialUser.value.id,o=>{o.error?i(o.error):t(this._socialUser.value)})})}getAccessToken(){return new Promise((t,i)=>{var o;this._tokenClient?(this._tokenClient.requestAccessToken({hint:null===(o=this._socialUser.value)||void 0===o?void 0:o.email}),this._receivedAccessToken.pipe(Bc(1)).subscribe(t)):i(this._socialUser.value?"No token client was instantiated, you should specify some scopes.":"You should be logged-in first.")})}revokeAccessToken(){return new Promise((t,i)=>{this._tokenClient?this._accessToken.value?google.accounts.oauth2.revoke(this._accessToken.value,()=>{this._accessToken.next(null),t()}):i("No access token to revoke"):i("No token client was instantiated, you should specify some scopes.")})}signIn(){return Promise.reject('You should not call this method directly for Google, use "<asl-google-signin-button>" wrapper or generate the button yourself with "google.accounts.id.renderButton()" (https://developers.google.com/identity/gsi/web/guides/display-button#javascript)')}signOut(){return HN(this,void 0,void 0,function*(){google.accounts.id.disableAutoSelect(),this._socialUser.next(null)})}createSocialUser(t){const i=new _L;i.idToken=t;const o=this.decodeJwt(t);return i.id=o.sub,i.name=o.name,i.email=o.email,i.photoUrl=o.picture,i.firstName=o.given_name,i.lastName=o.family_name,i}decodeJwt(t){return JSON.parse(window.atob(t.split(".")[1]))}}return r.PROVIDER_ID="GOOGLE",r})(),zN=(()=>{class r{constructor(t,i,o){this._ngZone=i,this._injector=o,this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new oN(1),this.initialized=!1,this._initState=new fL,t instanceof Promise?t.then(u=>{this.initialize(u)}):this.initialize(t)}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}initialize(t){this.autoLogin=void 0!==t.autoLogin&&t.autoLogin;const{onError:i=console.error}=t;t.providers.forEach(o=>{this.providers.set(o.id,"prototype"in o.provider?this._injector.get(o.provider):o.provider)}),Promise.all(Array.from(this.providers.values()).map(o=>o.initialize(this.autoLogin))).then(()=>{if(this.autoLogin){const o=[];let u=!1;this.providers.forEach((d,g)=>{const v=d.getLoginStatus();o.push(v),v.then(w=>{this.setUser(w,g),u=!0}).catch(console.debug)}),Promise.all(o).catch(()=>{u||(this._user=null,this._authState.next(null))})}this.providers.forEach((o,u)=>{(function gL(r){return!!r&&(r instanceof Br.y||(0,mh.m)(r.lift)&&(0,mh.m)(r.subscribe))})(o.changeUser)&&o.changeUser.subscribe(d=>{this._ngZone.run(()=>{this.setUser(d,u)})})})}).catch(o=>{i(o)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}getAccessToken(t){return HN(this,void 0,void 0,function*(){const i=this.providers.get(t);if(!this.initialized)throw r.ERR_NOT_INITIALIZED;if(!i)throw r.ERR_LOGIN_PROVIDER_NOT_FOUND;if(!(i instanceof n0))throw r.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN;return yield i.getAccessToken()})}refreshAuthToken(t){return new Promise((i,o)=>{if(this.initialized){const u=this.providers.get(t);u?"function"!=typeof u.refreshToken?o(r.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN):u.refreshToken().then(d=>{this.setUser(d,t),i()}).catch(d=>{o(d)}):o(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else o(r.ERR_NOT_INITIALIZED)})}refreshAccessToken(t){return new Promise((i,o)=>{if(this.initialized)if(t!==n0.PROVIDER_ID)o(r.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const u=this.providers.get(t);u instanceof n0?u.revokeAccessToken().then(i).catch(o):o(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else o(r.ERR_NOT_INITIALIZED)})}signIn(t,i){return new Promise((o,u)=>{if(this.initialized){let d=this.providers.get(t);d?d.signIn(i).then(g=>{this.setUser(g,t),o(g)}).catch(g=>{u(g)}):u(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else u(r.ERR_NOT_INITIALIZED)})}signOut(t=!1){return new Promise((i,o)=>{if(this.initialized)if(this._user){let d=this.providers.get(this._user.provider);d?d.signOut(t).then(()=>{i(),this.setUser(null)}).catch(g=>{o(g)}):o(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else o(r.ERR_NOT_LOGGED_IN);else o(r.ERR_NOT_INITIALIZED)})}setUser(t,i){t&&i&&(t.provider=i),this._user=t,this._authState.next(t)}}return r.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",r.ERR_NOT_LOGGED_IN="Not logged in",r.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",r.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",r.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN="Chosen login provider is not supported for getting an access token",r.\u0275fac=function(t){return new(t||r)(e.LFG("SocialAuthServiceConfig"),e.LFG(e.R0b),e.LFG(e.zs3))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),vL=(()=>{class r{constructor(t){if(t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}static initialize(t){return{ngModule:r,providers:[zN,{provide:"SocialAuthServiceConfig",useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(r,12))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[zN],imports:[ko]}),r})(),CL=(()=>{class r{constructor(t){this.fireAuthService=t}intercept(t,i){var o;const u=localStorage.getItem("fire.user"),d=JSON.parse(u||"null"),g=null===(o=null==d?void 0:d.stsTokenManager)||void 0===o?void 0:o.accessToken;if(!g)return i.handle(t);const v=t.clone({headers:t.headers.set("Authorization",`Bearer ${g}`)});return i.handle(v)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(r2))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),TL=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r,bootstrap:[aL]}),r.\u0275inj=e.cJS({providers:[r2,{provide:Lh,useClass:CL,multi:!0},{provide:Lh,useClass:lL,multi:!0},{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:n0.PROVIDER_ID,provider:new n0("457941235931-ta7f430pcvim9inavtg97ngqav65394i.apps.googleusercontent.com")}],onError:n=>{console.error(n)}}},eo],imports:[Ts.hO.initializeApp(nd_firebase),$R,Vn,A1,my,_f,ph,vL,uL,dL.forRoot({rootUrl:nd_rootUrl})]}),r})();(0,e.G48)(),au().bootstrapModule(TL).catch(r=>console.error(r))},5867:(rt,be,P)=>{P.d(be,{C6:()=>e.getApps,Mq:()=>e.getApp});var e=P(9681);(0,e.registerVersion)("firebase","9.9.1","app")},127:(rt,be,P)=>{P.d(be,{Z:()=>e.Z});var e=P(3942);e.Z.registerVersion("firebase","9.9.1","app-compat")},5881:(rt,be,P)=>{P.r(be);var e=P(5861),L=P(3942),M=P(2227),re=P(2090),fe=(P(9681),P(1877),P(4859));function de(){return window}function H(){return(H=(0,e.Z)(function*(ee,q,V){var Ce;const{BuildInfo:Ve}=de();(0,M.aq)(q.sessionId,"AuthEvent did not contain a session ID");const xt=yield _e(q.sessionId),At={};return(0,M.ar)()?At.ibi=Ve.packageName:(0,M.as)()?At.apn=Ve.packageName:(0,M.at)(ee,"operation-not-supported-in-this-environment"),Ve.displayName&&(At.appDisplayName=Ve.displayName),At.sessionId=xt,(0,M.au)(ee,V,q.type,void 0,null!==(Ce=q.eventId)&&void 0!==Ce?Ce:void 0,At)})).apply(this,arguments)}function $e(){return($e=(0,e.Z)(function*(ee){const{BuildInfo:q}=de(),V={};(0,M.ar)()?V.iosBundleId=q.packageName:(0,M.as)()?V.androidPackageName=q.packageName:(0,M.at)(ee,"operation-not-supported-in-this-environment"),yield(0,M.av)(ee,V)})).apply(this,arguments)}function ot(){return(ot=(0,e.Z)(function*(ee,q,V){const{cordova:Ce}=de();let Ve=()=>{};try{yield new Promise((xt,At)=>{let Gt=null;function An(){var Vt;xt();const kn=null===(Vt=Ce.plugins.browsertab)||void 0===Vt?void 0:Vt.close;"function"==typeof kn&&kn(),"function"==typeof(null==V?void 0:V.close)&&V.close()}function Rn(){Gt||(Gt=window.setTimeout(()=>{At((0,M.aw)(ee,"redirect-cancelled-by-user"))},2e3))}function wn(){"visible"===(null==document?void 0:document.visibilityState)&&Rn()}q.addPassiveListener(An),document.addEventListener("resume",Rn,!1),(0,M.as)()&&document.addEventListener("visibilitychange",wn,!1),Ve=()=>{q.removePassiveListener(An),document.removeEventListener("resume",Rn,!1),document.removeEventListener("visibilitychange",wn,!1),Gt&&window.clearTimeout(Gt)}})}finally{Ve()}})).apply(this,arguments)}function _e(ee){return it.apply(this,arguments)}function it(){return(it=(0,e.Z)(function*(ee){const q=dt(ee),V=yield crypto.subtle.digest("SHA-256",q);return Array.from(new Uint8Array(V)).map(Ve=>Ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function dt(ee){if((0,M.aq)(/[0-9a-zA-Z]+/.test(ee),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ee);const q=new ArrayBuffer(ee.length),V=new Uint8Array(q);for(let Ce=0;Ce<ee.length;Ce++)V[Ce]=ee.charCodeAt(Ce);return V}class ke extends M.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(q=>{this.resolveInialized=q})}addPassiveListener(q){this.passiveListeners.add(q)}removePassiveListener(q){this.passiveListeners.delete(q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(q){return this.resolveInialized(),this.passiveListeners.forEach(V=>V(q)),super.onEvent(q)}initialized(){var q=this;return(0,e.Z)(function*(){yield q.initPromise})()}}function Je(ee){return we.apply(this,arguments)}function we(){return(we=(0,e.Z)(function*(ee){const q=yield oe()._get(ie(ee));return q&&(yield oe()._remove(ie(ee))),q})).apply(this,arguments)}function Y(){const ee=[],q="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let V=0;V<20;V++){const Ce=Math.floor(Math.random()*q.length);ee.push(q.charAt(Ce))}return ee.join("")}function oe(){return(0,M.ay)(M.b)}function ie(ee){return(0,M.az)("authEvent",ee.config.apiKey,ee.name)}function qe(ee){if(null==ee||!ee.includes("?"))return{};const[q,...V]=ee.split("?");return(0,re.zd)(V.join("?"))}function Ye(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,M.aw)("no-auth-event")}}function $n(){var ee;return(null===(ee=null==self?void 0:self.location)||void 0===ee?void 0:ee.protocol)||null}function Un(ee=(0,re.z$)()){return!("file:"!==$n()&&"ionic:"!==$n()&&"capacitor:"!==$n()||!ee.toLowerCase().match(/iphone|ipad|ipod|android/))}function vr(){try{const ee=self.localStorage,q=M.aI();if(ee)return ee.setItem(q,"1"),ee.removeItem(q),!function Eo(ee=(0,re.z$)()){return function Tn(){return(0,re.w1)()&&11===(null==document?void 0:document.documentMode)}()||function _n(ee=(0,re.z$)()){return/Edge\/\d+/.test(ee)}(ee)}()||(0,re.hl)()}catch(ee){return zr()&&(0,re.hl)()}return!1}function zr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Oe(){return(function Ur(){return"http:"===$n()||"https:"===$n()}()||(0,re.ru)()||Un())&&!function ui(){return(0,re.b$)()||(0,re.UG)()}()&&vr()&&!zr()}function sr(){return Un()&&"undefined"!=typeof document}function Cr(){return(Cr=(0,e.Z)(function*(){return!!sr()&&new Promise(ee=>{const q=setTimeout(()=>{ee(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(q),ee(!0)})})})).apply(this,arguments)}const zt={LOCAL:"local",NONE:"none",SESSION:"session"},Tr=M.ax,Or="persistence";function En(ee){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,e.Z)(function*(ee){yield ee._initializationPromise;const q=jt(),V=M.az(Or,ee.config.apiKey,ee.name);q&&q.setItem(V,ee._getPersistence())})).apply(this,arguments)}function jt(){var ee;try{return(null===(ee=function on(){return"undefined"!=typeof window?window:null}())||void 0===ee?void 0:ee.sessionStorage)||null}catch(q){return null}}const Qe=M.ax;class _t{constructor(){this.browserResolver=M.ay(M.k),this.cordovaResolver=M.ay(class nn{constructor(){this._redirectPersistence=M.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=M.aB,this._overrideRedirectResult=M.aC}_initialize(q){var V=this;return(0,e.Z)(function*(){const Ce=q._key();let Ve=V.eventManagers.get(Ce);return Ve||(Ve=new ke(q),V.eventManagers.set(Ce,Ve),V.attachCallbackListeners(q,Ve)),Ve})()}_openPopup(q){(0,M.at)(q,"operation-not-supported-in-this-environment")}_openRedirect(q,V,Ce,Ve){var xt=this;return(0,e.Z)(function*(){!function Te(ee){var q,V,Ce,Ve,xt,At,Gt,An,Rn,wn;const Vt=de();(0,M.ax)("function"==typeof(null===(q=null==Vt?void 0:Vt.universalLinks)||void 0===q?void 0:q.subscribe),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,M.ax)(void 0!==(null===(V=null==Vt?void 0:Vt.BuildInfo)||void 0===V?void 0:V.packageName),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,M.ax)("function"==typeof(null===(xt=null===(Ve=null===(Ce=null==Vt?void 0:Vt.cordova)||void 0===Ce?void 0:Ce.plugins)||void 0===Ve?void 0:Ve.browsertab)||void 0===xt?void 0:xt.openUrl),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.ax)("function"==typeof(null===(An=null===(Gt=null===(At=null==Vt?void 0:Vt.cordova)||void 0===At?void 0:At.plugins)||void 0===Gt?void 0:Gt.browsertab)||void 0===An?void 0:An.isAvailable),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.ax)("function"==typeof(null===(wn=null===(Rn=null==Vt?void 0:Vt.cordova)||void 0===Rn?void 0:Rn.InAppBrowser)||void 0===wn?void 0:wn.open),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(q);const At=yield xt._initialize(q);yield At.initialized(),At.resetRedirect(),(0,M.aD)(),yield xt._originValidation(q);const Gt=function Ee(ee,q,V=null){return{type:q,eventId:V,urlResponse:null,sessionId:Y(),postBody:null,tenantId:ee.tenantId,error:(0,M.aw)(ee,"no-auth-event")}}(q,Ce,Ve);yield function Ke(ee,q){return oe()._set(ie(ee),q)}(q,Gt);const An=yield function G(ee,q,V){return H.apply(this,arguments)}(q,Gt,V),Rn=yield function Me(ee){const{cordova:q}=de();return new Promise(V=>{q.plugins.browsertab.isAvailable(Ce=>{let Ve=null;Ce?q.plugins.browsertab.openUrl(ee):Ve=q.InAppBrowser.open(ee,(0,M.ap)()?"_blank":"_system","location=yes"),V(Ve)})})}(An);return function Ae(ee,q,V){return ot.apply(this,arguments)}(q,At,Rn)})()}_isIframeWebStorageSupported(q,V){throw new Error("Method not implemented.")}_originValidation(q){const V=q._key();return this.originValidationPromises[V]||(this.originValidationPromises[V]=function X(ee){return $e.apply(this,arguments)}(q)),this.originValidationPromises[V]}attachCallbackListeners(q,V){const{universalLinks:Ce,handleOpenURL:Ve,BuildInfo:xt}=de(),At=setTimeout((0,e.Z)(function*(){yield Je(q),V.onEvent(Ye())}),500),Gt=function(){var wn=(0,e.Z)(function*(Vt){clearTimeout(At);const kn=yield Je(q);let et=null;kn&&(null==Vt?void 0:Vt.url)&&(et=function De(ee,q){var V,Ce;const Ve=function le(ee){const q=qe(ee),V=q.link?decodeURIComponent(q.link):void 0,Ce=qe(V).link,Ve=q.deep_link_id?decodeURIComponent(q.deep_link_id):void 0;return qe(Ve).link||Ve||Ce||V||ee}(q);if(Ve.includes("/__/auth/callback")){const xt=qe(Ve),At=xt.firebaseError?function ye(ee){try{return JSON.parse(ee)}catch(q){return null}}(decodeURIComponent(xt.firebaseError)):null,Gt=null===(Ce=null===(V=null==At?void 0:At.code)||void 0===V?void 0:V.split("auth/"))||void 0===Ce?void 0:Ce[1],An=Gt?(0,M.aw)(Gt):null;return An?{type:ee.type,eventId:ee.eventId,tenantId:ee.tenantId,error:An,urlResponse:null,sessionId:null,postBody:null}:{type:ee.type,eventId:ee.eventId,tenantId:ee.tenantId,sessionId:ee.sessionId,urlResponse:Ve,postBody:null}}return null}(kn,Vt.url)),V.onEvent(et||Ye())});return function(kn){return wn.apply(this,arguments)}}();void 0!==Ce&&"function"==typeof Ce.subscribe&&Ce.subscribe(null,Gt);const An=Ve,Rn=`${xt.packageName.toLowerCase()}://`;de().handleOpenURL=function(){var wn=(0,e.Z)(function*(Vt){if(Vt.toLowerCase().startsWith(Rn)&&Gt({url:Vt}),"function"==typeof An)try{An(Vt)}catch(kn){console.error(kn)}});return function(Vt){return wn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=M.a,this._completeRedirectFn=M.aB,this._overrideRedirectResult=M.aC}_initialize(q){var V=this;return(0,e.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._initialize(q)})()}_openPopup(q,V,Ce,Ve){var xt=this;return(0,e.Z)(function*(){return yield xt.selectUnderlyingResolver(),xt.assertedUnderlyingResolver._openPopup(q,V,Ce,Ve)})()}_openRedirect(q,V,Ce,Ve){var xt=this;return(0,e.Z)(function*(){return yield xt.selectUnderlyingResolver(),xt.assertedUnderlyingResolver._openRedirect(q,V,Ce,Ve)})()}_isIframeWebStorageSupported(q,V){this.assertedUnderlyingResolver._isIframeWebStorageSupported(q,V)}_originValidation(q){return this.assertedUnderlyingResolver._originValidation(q)}get _shouldInitProactively(){return sr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var q=this;return(0,e.Z)(function*(){if(q.underlyingResolver)return;const V=yield function st(){return Cr.apply(this,arguments)}();q.underlyingResolver=V?q.cordovaResolver:q.browserResolver})()}}function so(ee){return ee.unwrap()}function at(ee){return qn(ee)}function qn(ee){const{_tokenResponse:q}=ee instanceof re.ZR?ee.customData:ee;if(!q)return null;if(!(ee instanceof re.ZR)&&"temporaryProof"in q&&"phoneNumber"in q)return M.P.credentialFromResult(ee);const V=q.providerId;if(!V||V===M.o.PASSWORD)return null;let Ce;switch(V){case M.o.GOOGLE:Ce=M.Q;break;case M.o.FACEBOOK:Ce=M.N;break;case M.o.GITHUB:Ce=M.T;break;case M.o.TWITTER:Ce=M.W;break;default:const{oauthIdToken:Ve,oauthAccessToken:xt,oauthTokenSecret:At,pendingToken:Gt,nonce:An}=q;return xt||At||Ve||Gt?Gt?V.startsWith("saml.")?M.aL._create(V,Gt):M.J._fromParams({providerId:V,signInMethod:V,pendingToken:Gt,idToken:Ve,accessToken:xt}):new M.U(V).credential({idToken:Ve,accessToken:xt,rawNonce:An}):null}return ee instanceof re.ZR?Ce.credentialFromError(ee):Ce.credentialFromResult(ee)}function On(ee,q){return q.catch(V=>{throw V instanceof re.ZR&&function sn(ee,q){var V,Ce;const Ve=null===(V=q.customData)||void 0===V?void 0:V._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Ce=q)||void 0===Ce?void 0:Ce.code))q.resolver=new B(ee,M.an(ee,q));else if(Ve){const xt=qn(q),At=q;xt&&(At.credential=xt,At.tenantId=Ve.tenantId||void 0,At.email=Ve.email||void 0,At.phoneNumber=Ve.phoneNumber||void 0)}}(ee,V),V}).then(V=>{const Ve=V.user;return{operationType:V.operationType,credential:at(V),additionalUserInfo:M.al(V),user:j.getOrCreate(Ve)}})}function tn(ee,q){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,e.Z)(function*(ee,q){const V=yield q;return{verificationId:V.verificationId,confirm:Ce=>On(ee,V.confirm(Ce))}})).apply(this,arguments)}class B{constructor(q,V){this.resolver=V,this.auth=function ar(ee){return ee.wrapped()}(q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(q){return On(so(this.auth),this.resolver.resolveSignIn(q))}}class j{constructor(q){this._delegate=q,this.multiFactor=M.ao(q)}static getOrCreate(q){return j.USER_MAP.has(q)||j.USER_MAP.set(q,new j(q)),j.USER_MAP.get(q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(q){return this._delegate.getIdTokenResult(q)}getIdToken(q){return this._delegate.getIdToken(q)}linkAndRetrieveDataWithCredential(q){return this.linkWithCredential(q)}linkWithCredential(q){var V=this;return(0,e.Z)(function*(){return On(V.auth,M.Z(V._delegate,q))})()}linkWithPhoneNumber(q,V){var Ce=this;return(0,e.Z)(function*(){return tn(Ce.auth,M.l(Ce._delegate,q,V))})()}linkWithPopup(q){var V=this;return(0,e.Z)(function*(){return On(V.auth,M.d(V._delegate,q,_t))})()}linkWithRedirect(q){var V=this;return(0,e.Z)(function*(){return yield En(M.aE(V.auth)),M.g(V._delegate,q,_t)})()}reauthenticateAndRetrieveDataWithCredential(q){return this.reauthenticateWithCredential(q)}reauthenticateWithCredential(q){var V=this;return(0,e.Z)(function*(){return On(V.auth,M._(V._delegate,q))})()}reauthenticateWithPhoneNumber(q,V){return tn(this.auth,M.r(this._delegate,q,V))}reauthenticateWithPopup(q){return On(this.auth,M.e(this._delegate,q,_t))}reauthenticateWithRedirect(q){var V=this;return(0,e.Z)(function*(){return yield En(M.aE(V.auth)),M.h(V._delegate,q,_t)})()}sendEmailVerification(q){return M.ab(this._delegate,q)}unlink(q){var V=this;return(0,e.Z)(function*(){return yield M.ak(V._delegate,q),V})()}updateEmail(q){return M.ag(this._delegate,q)}updatePassword(q){return M.ah(this._delegate,q)}updatePhoneNumber(q){return M.u(this._delegate,q)}updateProfile(q){return M.af(this._delegate,q)}verifyBeforeUpdateEmail(q,V){return M.ac(this._delegate,q,V)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}j.USER_MAP=new WeakMap;const F=M.ax;let J=(()=>{class ee{constructor(V,Ce){if(this.app=V,Ce.isInitialized())return this._delegate=Ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ve}=V.options;F(Ve,"invalid-api-key",{appName:V.name}),F(Ve,"invalid-api-key",{appName:V.name});const xt="undefined"!=typeof window?_t:void 0;this._delegate=Ce.initialize({options:{persistence:Ne(Ve,V.name),popupRedirectResolver:xt}}),this._delegate._updateErrorMap(M.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?j.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(V){this._delegate.languageCode=V}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(V){this._delegate.tenantId=V}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(V,Ce){M.G(this._delegate,V,Ce)}applyActionCode(V){return M.a2(this._delegate,V)}checkActionCode(V){return M.a3(this._delegate,V)}confirmPasswordReset(V,Ce){return M.a1(this._delegate,V,Ce)}createUserWithEmailAndPassword(V,Ce){var Ve=this;return(0,e.Z)(function*(){return On(Ve._delegate,M.a5(Ve._delegate,V,Ce))})()}fetchProvidersForEmail(V){return this.fetchSignInMethodsForEmail(V)}fetchSignInMethodsForEmail(V){return M.aa(this._delegate,V)}isSignInWithEmailLink(V){return M.a8(this._delegate,V)}getRedirectResult(){var V=this;return(0,e.Z)(function*(){F(Oe(),V._delegate,"operation-not-supported-in-this-environment");const Ce=yield M.j(V._delegate,_t);return Ce?On(V._delegate,Promise.resolve(Ce)):{credential:null,user:null}})()}addFrameworkForLogging(V){!function bn(ee,q){(0,M.aE)(ee)._logFramework(q)}(this._delegate,V)}onAuthStateChanged(V,Ce,Ve){const{next:xt,error:At,complete:Gt}=Q(V,Ce,Ve);return this._delegate.onAuthStateChanged(xt,At,Gt)}onIdTokenChanged(V,Ce,Ve){const{next:xt,error:At,complete:Gt}=Q(V,Ce,Ve);return this._delegate.onIdTokenChanged(xt,At,Gt)}sendSignInLinkToEmail(V,Ce){return M.a7(this._delegate,V,Ce)}sendPasswordResetEmail(V,Ce){return M.a0(this._delegate,V,Ce||void 0)}setPersistence(V){var Ce=this;return(0,e.Z)(function*(){let Ve;switch(function Gn(ee,q){Tr(Object.values(zt).includes(q),ee,"invalid-persistence-type"),(0,re.b$)()?Tr(q!==zt.SESSION,ee,"unsupported-persistence-type"):(0,re.UG)()?Tr(q===zt.NONE,ee,"unsupported-persistence-type"):zr()?Tr(q===zt.NONE||q===zt.LOCAL&&(0,re.hl)(),ee,"unsupported-persistence-type"):Tr(q===zt.NONE||vr(),ee,"unsupported-persistence-type")}(Ce._delegate,V),V){case zt.SESSION:Ve=M.a;break;case zt.LOCAL:Ve=(yield M.ay(M.i)._isAvailable())?M.i:M.b;break;case zt.NONE:Ve=M.L;break;default:return M.at("argument-error",{appName:Ce._delegate.name})}return Ce._delegate.setPersistence(Ve)})()}signInAndRetrieveDataWithCredential(V){return this.signInWithCredential(V)}signInAnonymously(){return On(this._delegate,M.X(this._delegate))}signInWithCredential(V){return On(this._delegate,M.Y(this._delegate,V))}signInWithCustomToken(V){return On(this._delegate,M.$(this._delegate,V))}signInWithEmailAndPassword(V,Ce){return On(this._delegate,M.a6(this._delegate,V,Ce))}signInWithEmailLink(V,Ce){return On(this._delegate,M.a9(this._delegate,V,Ce))}signInWithPhoneNumber(V,Ce){return tn(this._delegate,M.s(this._delegate,V,Ce))}signInWithPopup(V){var Ce=this;return(0,e.Z)(function*(){return F(Oe(),Ce._delegate,"operation-not-supported-in-this-environment"),On(Ce._delegate,M.c(Ce._delegate,V,_t))})()}signInWithRedirect(V){var Ce=this;return(0,e.Z)(function*(){return F(Oe(),Ce._delegate,"operation-not-supported-in-this-environment"),yield En(Ce._delegate),M.f(Ce._delegate,V,_t)})()}updateCurrentUser(V){return this._delegate.updateCurrentUser(V)}verifyPasswordResetCode(V){return M.a4(this._delegate,V)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ee.Persistence=zt,ee})();function Q(ee,q,V){let Ce=ee;"function"!=typeof ee&&({next:Ce,error:q,complete:V}=ee);const Ve=Ce;return{next:At=>Ve(At&&j.getOrCreate(At)),error:q,complete:V}}function Ne(ee,q){const V=function As(ee,q){const V=jt();if(!V)return[];const Ce=M.az(Or,ee,q);switch(V.getItem(Ce)){case zt.NONE:return[M.L];case zt.LOCAL:return[M.i,M.a];case zt.SESSION:return[M.a];default:return[]}}(ee,q);if("undefined"!=typeof self&&!V.includes(M.i)&&V.push(M.i),"undefined"!=typeof window)for(const Ce of[M.b,M.a])V.includes(Ce)||V.push(Ce);return V.includes(M.L)||V.push(M.L),V}class Xe{constructor(){this.providerId="phone",this._delegate=new M.P(so(L.Z.auth()))}static credential(q,V){return M.P.credential(q,V)}verifyPhoneNumber(q,V){return this._delegate.verifyPhoneNumber(q,V)}unwrap(){return this._delegate}}Xe.PHONE_SIGN_IN_METHOD=M.P.PHONE_SIGN_IN_METHOD,Xe.PROVIDER_ID=M.P.PROVIDER_ID;const vt=M.ax;class hn{constructor(q,V,Ce=L.Z.app()){var Ve;vt(null===(Ve=Ce.options)||void 0===Ve?void 0:Ve.apiKey,"invalid-api-key",{appName:Ce.name}),this._delegate=new M.R(q,V,Ce.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function fr(ee){ee.INTERNAL.registerComponent(new fe.wA("auth-compat",q=>{const V=q.getProvider("app-compat").getImmediate(),Ce=q.getProvider("auth");return new J(V,Ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:M.A.EMAIL_SIGNIN,PASSWORD_RESET:M.A.PASSWORD_RESET,RECOVER_EMAIL:M.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:M.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:M.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:M.A.VERIFY_EMAIL}},EmailAuthProvider:M.M,FacebookAuthProvider:M.N,GithubAuthProvider:M.T,GoogleAuthProvider:M.Q,OAuthProvider:M.U,SAMLAuthProvider:M.V,PhoneAuthProvider:Xe,PhoneMultiFactorGenerator:M.m,RecaptchaVerifier:hn,TwitterAuthProvider:M.W,Auth:J,AuthCredential:M.H,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ee.registerVersion("@firebase/auth-compat","0.2.18")}(L.Z)},9751:(rt,be,P)=>{P.d(be,{y:()=>de});var e=P(2961),L=P(727),M=P(8822),re=P(9635),ue=P(2416),ge=P(576),fe=P(2806);let de=(()=>{class X{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Ae=new X;return Ae.source=this,Ae.operator=Me,Ae}subscribe(Me,Ae,ot){const Te=function H(X){return X&&X instanceof e.Lv||function G(X){return X&&(0,ge.m)(X.next)&&(0,ge.m)(X.error)&&(0,ge.m)(X.complete)}(X)&&(0,L.Nn)(X)}(Me)?Me:new e.Hp(Me,Ae,ot);return(0,fe.x)(()=>{const{operator:_e,source:it}=this;Te.add(_e?_e.call(Te,it):it?this._subscribe(Te):this._trySubscribe(Te))}),Te}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Ae){Me.error(Ae)}}forEach(Me,Ae){return new(Ae=ve(Ae))((ot,Te)=>{const _e=new e.Hp({next:it=>{try{Me(it)}catch(dt){Te(dt),_e.unsubscribe()}},error:Te,complete:ot});this.subscribe(_e)})}_subscribe(Me){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(Me)}[M.L](){return this}pipe(...Me){return(0,re.U)(Me)(this)}toPromise(Me){return new(Me=ve(Me))((Ae,ot)=>{let Te;this.subscribe(_e=>Te=_e,_e=>ot(_e),()=>Ae(Te))})}}return X.create=$e=>new X($e),X})();function ve(X){var $e;return null!==($e=null!=X?X:ue.v.Promise)&&void 0!==$e?$e:Promise}},7579:(rt,be,P)=>{P.d(be,{x:()=>fe});var e=P(9751),L=P(727);const re=(0,P(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=P(8737),ge=P(2806);let fe=(()=>{class ve extends e.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const X=new de(this,this);return X.operator=H,X}_throwIfClosed(){if(this.closed)throw new re}next(H){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(H)}})}error(H){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:X}=this;for(;X.length;)X.shift().error(H)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:X,isStopped:$e,observers:Me}=this;return X||$e?L.Lc:(this.currentObservers=null,Me.push(H),new L.w0(()=>{this.currentObservers=null,(0,ue.P)(Me,H)}))}_checkFinalizedStatuses(H){const{hasError:X,thrownError:$e,isStopped:Me}=this;X?H.error($e):Me&&H.complete()}asObservable(){const H=new e.y;return H.source=this,H}}return ve.create=(G,H)=>new de(G,H),ve})();class de extends fe{constructor(G,H){super(),this.destination=G,this.source=H}next(G){var H,X;null===(X=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===X||X.call(H,G)}error(G){var H,X;null===(X=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===X||X.call(H,G)}complete(){var G,H;null===(H=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===H||H.call(G)}_subscribe(G){var H,X;return null!==(X=null===(H=this.source)||void 0===H?void 0:H.subscribe(G))&&void 0!==X?X:L.Lc}}},2961:(rt,be,P)=>{P.d(be,{Hp:()=>ot,Lv:()=>X});var e=P(576),L=P(727),M=P(2416),re=P(7849);function ue(){}const ge=ve("C",void 0,void 0);function ve(He,ke,Ee){return{kind:He,value:ke,error:Ee}}var G=P(3410),H=P(2806);class X extends L.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,L.Nn)(ke)&&ke.add(this)):this.destination=dt}static create(ke,Ee,Ke){return new ot(ke,Ee,Ke)}next(ke){this.isStopped?it(function de(He){return ve("N",He,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?it(function fe(He){return ve("E",void 0,He)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?it(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Me(He,ke){return $e.call(He,ke)}class Ae{constructor(ke){this.partialObserver=ke}next(ke){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(ke)}catch(Ke){Te(Ke)}}error(ke){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(ke)}catch(Ke){Te(Ke)}else Te(ke)}complete(){const{partialObserver:ke}=this;if(ke.complete)try{ke.complete()}catch(Ee){Te(Ee)}}}class ot extends X{constructor(ke,Ee,Ke){let Je;if(super(),(0,e.m)(ke)||!ke)Je={next:null!=ke?ke:void 0,error:null!=Ee?Ee:void 0,complete:null!=Ke?Ke:void 0};else{let we;this&&M.v.useDeprecatedNextContext?(we=Object.create(ke),we.unsubscribe=()=>this.unsubscribe(),Je={next:ke.next&&Me(ke.next,we),error:ke.error&&Me(ke.error,we),complete:ke.complete&&Me(ke.complete,we)}):Je=ke}this.destination=new Ae(Je)}}function Te(He){M.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(He):(0,re.h)(He)}function it(He,ke){const{onStoppedNotification:Ee}=M.v;Ee&&G.z.setTimeout(()=>Ee(He,ke))}const dt={closed:!0,next:ue,error:function _e(He){throw He},complete:ue}},727:(rt,be,P)=>{P.d(be,{Lc:()=>ge,w0:()=>ue,Nn:()=>fe});var e=P(576);const M=(0,P(3888).d)(ve=>function(H){ve(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((X,$e)=>`${$e+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var re=P(8737);class ue{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Me of H)Me.remove(this);else H.remove(this);const{initialTeardown:X}=this;if((0,e.m)(X))try{X()}catch(Me){G=Me instanceof M?Me.errors:[Me]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Me of $e)try{de(Me)}catch(Ae){G=null!=G?G:[],Ae instanceof M?G=[...G,...Ae.errors]:G.push(Ae)}}if(G)throw new M(G)}}add(G){var H;if(G&&G!==this)if(this.closed)de(G);else{if(G instanceof ue){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(G)}}_hasParent(G){const{_parentage:H}=this;return H===G||Array.isArray(H)&&H.includes(G)}_addParent(G){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(G),H):H?[H,G]:G}_removeParent(G){const{_parentage:H}=this;H===G?this._parentage=null:Array.isArray(H)&&(0,re.P)(H,G)}remove(G){const{_finalizers:H}=this;H&&(0,re.P)(H,G),G instanceof ue&&G._removeParent(this)}}ue.EMPTY=(()=>{const ve=new ue;return ve.closed=!0,ve})();const ge=ue.EMPTY;function fe(ve){return ve instanceof ue||ve&&"closed"in ve&&(0,e.m)(ve.remove)&&(0,e.m)(ve.add)&&(0,e.m)(ve.unsubscribe)}function de(ve){(0,e.m)(ve)?ve():ve.unsubscribe()}},2416:(rt,be,P)=>{P.d(be,{v:()=>e});const e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(rt,be,P)=>{P.d(be,{E:()=>L});const L=new(P(9751).y)(ue=>ue.complete())},8996:(rt,be,P)=>{P.d(be,{D:()=>ke});var e=P(8421),L=P(5363),M=P(9468),ge=P(9751),de=P(2202),ve=P(576),G=P(9672);function X(Ee,Ke){if(!Ee)throw new Error("Iterable cannot be null");return new ge.y(Je=>{(0,G.f)(Je,Ke,()=>{const we=Ee[Symbol.asyncIterator]();(0,G.f)(Je,Ke,()=>{we.next().then(De=>{De.done?Je.complete():Je.next(De.value)})},0,!0)})})}var $e=P(3670),Me=P(8239),Ae=P(1144),ot=P(6495),Te=P(2206),_e=P(4532),it=P(3260);function ke(Ee,Ke){return Ke?function He(Ee,Ke){if(null!=Ee){if((0,$e.c)(Ee))return function re(Ee,Ke){return(0,e.Xf)(Ee).pipe((0,M.R)(Ke),(0,L.Q)(Ke))}(Ee,Ke);if((0,Ae.z)(Ee))return function fe(Ee,Ke){return new ge.y(Je=>{let we=0;return Ke.schedule(function(){we===Ee.length?Je.complete():(Je.next(Ee[we++]),Je.closed||this.schedule())})})}(Ee,Ke);if((0,Me.t)(Ee))return function ue(Ee,Ke){return(0,e.Xf)(Ee).pipe((0,M.R)(Ke),(0,L.Q)(Ke))}(Ee,Ke);if((0,Te.D)(Ee))return X(Ee,Ke);if((0,ot.T)(Ee))return function H(Ee,Ke){return new ge.y(Je=>{let we;return(0,G.f)(Je,Ke,()=>{we=Ee[de.h](),(0,G.f)(Je,Ke,()=>{let De,Y;try{({value:De,done:Y}=we.next())}catch(oe){return void Je.error(oe)}Y?Je.complete():Je.next(De)},0,!0)}),()=>(0,ve.m)(null==we?void 0:we.return)&&we.return()})}(Ee,Ke);if((0,it.L)(Ee))return function dt(Ee,Ke){return X((0,it.Q)(Ee),Ke)}(Ee,Ke)}throw(0,_e.z)(Ee)}(Ee,Ke):(0,e.Xf)(Ee)}},8421:(rt,be,P)=>{P.d(be,{Xf:()=>$e});var e=P(5987),L=P(1144),M=P(8239),re=P(9751),ue=P(3670),ge=P(2206),fe=P(4532),de=P(6495),ve=P(3260),G=P(576),H=P(7849),X=P(8822);function $e(He){if(He instanceof re.y)return He;if(null!=He){if((0,ue.c)(He))return function Me(He){return new re.y(ke=>{const Ee=He[X.L]();if((0,G.m)(Ee.subscribe))return Ee.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,L.z)(He))return function Ae(He){return new re.y(ke=>{for(let Ee=0;Ee<He.length&&!ke.closed;Ee++)ke.next(He[Ee]);ke.complete()})}(He);if((0,M.t)(He))return function ot(He){return new re.y(ke=>{He.then(Ee=>{ke.closed||(ke.next(Ee),ke.complete())},Ee=>ke.error(Ee)).then(null,H.h)})}(He);if((0,ge.D)(He))return _e(He);if((0,de.T)(He))return function Te(He){return new re.y(ke=>{for(const Ee of He)if(ke.next(Ee),ke.closed)return;ke.complete()})}(He);if((0,ve.L)(He))return function it(He){return _e((0,ve.Q)(He))}(He)}throw(0,fe.z)(He)}function _e(He){return new re.y(ke=>{(function dt(He,ke){var Ee,Ke,Je,we;return(0,e.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,e.KL)(He);!(Ke=yield Ee.next()).done;)if(ke.next(Ke.value),ke.closed)return}catch(De){Je={error:De}}finally{try{Ke&&!Ke.done&&(we=Ee.return)&&(yield we.call(Ee))}finally{if(Je)throw Je.error}}ke.complete()})})(He,ke).catch(Ee=>ke.error(Ee))})}},6451:(rt,be,P)=>{P.d(be,{T:()=>ge});var e=P(8189),L=P(8421),M=P(515),re=P(3269),ue=P(8996);function ge(...fe){const de=(0,re.yG)(fe),ve=(0,re._6)(fe,1/0),G=fe;return G.length?1===G.length?(0,L.Xf)(G[0]):(0,e.J)(ve)((0,ue.D)(G,de)):M.E}},5403:(rt,be,P)=>{P.d(be,{x:()=>L});var e=P(2961);function L(re,ue,ge,fe,de){return new M(re,ue,ge,fe,de)}class M extends e.Lv{constructor(ue,ge,fe,de,ve,G){super(ue),this.onFinalize=ve,this.shouldUnsubscribe=G,this._next=ge?function(H){try{ge(H)}catch(X){ue.error(X)}}:super._next,this._error=de?function(H){try{de(H)}catch(X){ue.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(H){ue.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(rt,be,P)=>{P.d(be,{U:()=>M});var e=P(4482),L=P(5403);function M(re,ue){return(0,e.e)((ge,fe)=>{let de=0;ge.subscribe((0,L.x)(fe,ve=>{fe.next(re.call(ue,ve,de++))}))})}},8189:(rt,be,P)=>{P.d(be,{J:()=>M});var e=P(5577),L=P(4671);function M(re=1/0){return(0,e.z)(L.y,re)}},5577:(rt,be,P)=>{P.d(be,{z:()=>de});var e=P(4004),L=P(8421),M=P(4482),re=P(9672),ue=P(5403),fe=P(576);function de(ve,G,H=1/0){return(0,fe.m)(G)?de((X,$e)=>(0,e.U)((Me,Ae)=>G(X,Me,$e,Ae))((0,L.Xf)(ve(X,$e))),H):("number"==typeof G&&(H=G),(0,M.e)((X,$e)=>function ge(ve,G,H,X,$e,Me,Ae,ot){const Te=[];let _e=0,it=0,dt=!1;const He=()=>{dt&&!Te.length&&!_e&&G.complete()},ke=Ke=>_e<X?Ee(Ke):Te.push(Ke),Ee=Ke=>{Me&&G.next(Ke),_e++;let Je=!1;(0,L.Xf)(H(Ke,it++)).subscribe((0,ue.x)(G,we=>{null==$e||$e(we),Me?ke(we):G.next(we)},()=>{Je=!0},void 0,()=>{if(Je)try{for(_e--;Te.length&&_e<X;){const we=Te.shift();Ae?(0,re.f)(G,Ae,()=>Ee(we)):Ee(we)}He()}catch(we){G.error(we)}}))};return ve.subscribe((0,ue.x)(G,ke,()=>{dt=!0,He()})),()=>{null==ot||ot()}}(X,$e,ve,H)))}},5363:(rt,be,P)=>{P.d(be,{Q:()=>re});var e=P(9672),L=P(4482),M=P(5403);function re(ue,ge=0){return(0,L.e)((fe,de)=>{fe.subscribe((0,M.x)(de,ve=>(0,e.f)(de,ue,()=>de.next(ve),ge),()=>(0,e.f)(de,ue,()=>de.complete(),ge),ve=>(0,e.f)(de,ue,()=>de.error(ve),ge)))})}},3099:(rt,be,P)=>{P.d(be,{B:()=>ue});var e=P(8421),L=P(7579),M=P(2961),re=P(4482);function ue(fe={}){const{connector:de=(()=>new L.x),resetOnError:ve=!0,resetOnComplete:G=!0,resetOnRefCountZero:H=!0}=fe;return X=>{let $e,Me,Ae,ot=0,Te=!1,_e=!1;const it=()=>{null==Me||Me.unsubscribe(),Me=void 0},dt=()=>{it(),$e=Ae=void 0,Te=_e=!1},He=()=>{const ke=$e;dt(),null==ke||ke.unsubscribe()};return(0,re.e)((ke,Ee)=>{ot++,!_e&&!Te&&it();const Ke=Ae=null!=Ae?Ae:de();Ee.add(()=>{ot--,0===ot&&!_e&&!Te&&(Me=ge(He,H))}),Ke.subscribe(Ee),!$e&&ot>0&&($e=new M.Hp({next:Je=>Ke.next(Je),error:Je=>{_e=!0,it(),Me=ge(dt,ve,Je),Ke.error(Je)},complete:()=>{Te=!0,it(),Me=ge(dt,G),Ke.complete()}}),(0,e.Xf)(ke).subscribe($e))})(X)}}function ge(fe,de,...ve){if(!0===de)return void fe();if(!1===de)return;const G=new M.Hp({next:()=>{G.unsubscribe(),fe()}});return de(...ve).subscribe(G)}},9468:(rt,be,P)=>{P.d(be,{R:()=>L});var e=P(4482);function L(M,re=0){return(0,e.e)((ue,ge)=>{ge.add(M.schedule(()=>ue.subscribe(ge),re))})}},8505:(rt,be,P)=>{P.d(be,{b:()=>ue});var e=P(576),L=P(4482),M=P(5403),re=P(4671);function ue(ge,fe,de){const ve=(0,e.m)(ge)||fe||de?{next:ge,error:fe,complete:de}:ge;return ve?(0,L.e)((G,H)=>{var X;null===(X=ve.subscribe)||void 0===X||X.call(ve);let $e=!0;G.subscribe((0,M.x)(H,Me=>{var Ae;null===(Ae=ve.next)||void 0===Ae||Ae.call(ve,Me),H.next(Me)},()=>{var Me;$e=!1,null===(Me=ve.complete)||void 0===Me||Me.call(ve),H.complete()},Me=>{var Ae;$e=!1,null===(Ae=ve.error)||void 0===Ae||Ae.call(ve,Me),H.error(Me)},()=>{var Me,Ae;$e&&(null===(Me=ve.unsubscribe)||void 0===Me||Me.call(ve)),null===(Ae=ve.finalize)||void 0===Ae||Ae.call(ve)}))}):re.y}},4408:(rt,be,P)=>{P.d(be,{o:()=>ue});var e=P(727);class L extends e.w0{constructor(fe,de){super()}schedule(fe,de=0){return this}}const M={setInterval(ge,fe,...de){const{delegate:ve}=M;return null!=ve&&ve.setInterval?ve.setInterval(ge,fe,...de):setInterval(ge,fe,...de)},clearInterval(ge){const{delegate:fe}=M;return((null==fe?void 0:fe.clearInterval)||clearInterval)(ge)},delegate:void 0};var re=P(8737);class ue extends L{constructor(fe,de){super(fe,de),this.scheduler=fe,this.work=de,this.pending=!1}schedule(fe,de=0){if(this.closed)return this;this.state=fe;const ve=this.id,G=this.scheduler;return null!=ve&&(this.id=this.recycleAsyncId(G,ve,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId(G,this.id,de),this}requestAsyncId(fe,de,ve=0){return M.setInterval(fe.flush.bind(fe,this),ve)}recycleAsyncId(fe,de,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return de;M.clearInterval(de)}execute(fe,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(fe,de);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,de){let G,ve=!1;try{this.work(fe)}catch(H){ve=!0,G=H||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:fe,scheduler:de}=this,{actions:ve}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(ve,this),null!=fe&&(this.id=this.recycleAsyncId(de,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(rt,be,P)=>{P.d(be,{v:()=>M});var e=P(6063);class L{constructor(ue,ge=L.now){this.schedulerActionCtor=ue,this.now=ge}schedule(ue,ge=0,fe){return new this.schedulerActionCtor(this,ue).schedule(fe,ge)}}L.now=e.l.now;class M extends L{constructor(ue,ge=L.now){super(ue,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ue){const{actions:ge}=this;if(this._active)return void ge.push(ue);let fe;this._active=!0;do{if(fe=ue.execute(ue.state,ue.delay))break}while(ue=ge.shift());if(this._active=!1,fe){for(;ue=ge.shift();)ue.unsubscribe();throw fe}}}},4986:(rt,be,P)=>{P.d(be,{P:()=>re,z:()=>M});var e=P(4408);const M=new(P(7565).v)(e.o),re=M},6063:(rt,be,P)=>{P.d(be,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},3410:(rt,be,P)=>{P.d(be,{z:()=>e});const e={setTimeout(L,M,...re){const{delegate:ue}=e;return null!=ue&&ue.setTimeout?ue.setTimeout(L,M,...re):setTimeout(L,M,...re)},clearTimeout(L){const{delegate:M}=e;return((null==M?void 0:M.clearTimeout)||clearTimeout)(L)},delegate:void 0}},2202:(rt,be,P)=>{P.d(be,{h:()=>L});const L=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rt,be,P)=>{P.d(be,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(rt,be,P)=>{P.d(be,{_6:()=>ge,jO:()=>re,yG:()=>ue});var e=P(576),L=P(3532);function M(fe){return fe[fe.length-1]}function re(fe){return(0,e.m)(M(fe))?fe.pop():void 0}function ue(fe){return(0,L.K)(M(fe))?fe.pop():void 0}function ge(fe,de){return"number"==typeof M(fe)?fe.pop():de}},8737:(rt,be,P)=>{function e(L,M){if(L){const re=L.indexOf(M);0<=re&&L.splice(re,1)}}P.d(be,{P:()=>e})},3888:(rt,be,P)=>{function e(L){const re=L(ue=>{Error.call(ue),ue.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}P.d(be,{d:()=>e})},2806:(rt,be,P)=>{P.d(be,{O:()=>re,x:()=>M});var e=P(2416);let L=null;function M(ue){if(e.v.useDeprecatedSynchronousErrorHandling){const ge=!L;if(ge&&(L={errorThrown:!1,error:null}),ue(),ge){const{errorThrown:fe,error:de}=L;if(L=null,fe)throw de}}else ue()}function re(ue){e.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=ue)}},9672:(rt,be,P)=>{function e(L,M,re,ue=0,ge=!1){const fe=M.schedule(function(){re(),ge?L.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(L.add(fe),!ge)return fe}P.d(be,{f:()=>e})},4671:(rt,be,P)=>{function e(L){return L}P.d(be,{y:()=>e})},1144:(rt,be,P)=>{P.d(be,{z:()=>e});const e=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(rt,be,P)=>{P.d(be,{D:()=>L});var e=P(576);function L(M){return Symbol.asyncIterator&&(0,e.m)(null==M?void 0:M[Symbol.asyncIterator])}},576:(rt,be,P)=>{function e(L){return"function"==typeof L}P.d(be,{m:()=>e})},3670:(rt,be,P)=>{P.d(be,{c:()=>M});var e=P(8822),L=P(576);function M(re){return(0,L.m)(re[e.L])}},6495:(rt,be,P)=>{P.d(be,{T:()=>M});var e=P(2202),L=P(576);function M(re){return(0,L.m)(null==re?void 0:re[e.h])}},8239:(rt,be,P)=>{P.d(be,{t:()=>L});var e=P(576);function L(M){return(0,e.m)(null==M?void 0:M.then)}},3260:(rt,be,P)=>{P.d(be,{L:()=>re,Q:()=>M});var e=P(5987),L=P(576);function M(ue){return(0,e.FC)(this,arguments,function*(){const fe=ue.getReader();try{for(;;){const{value:de,done:ve}=yield(0,e.qq)(fe.read());if(ve)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(de)}}finally{fe.releaseLock()}})}function re(ue){return(0,L.m)(null==ue?void 0:ue.getReader)}},3532:(rt,be,P)=>{P.d(be,{K:()=>L});var e=P(576);function L(M){return M&&(0,e.m)(M.schedule)}},4482:(rt,be,P)=>{P.d(be,{A:()=>L,e:()=>M});var e=P(576);function L(re){return(0,e.m)(null==re?void 0:re.lift)}function M(re){return ue=>{if(L(ue))return ue.lift(function(ge){try{return re(ge,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(rt,be,P)=>{P.d(be,{U:()=>M,z:()=>L});var e=P(4671);function L(...re){return M(re)}function M(re){return 0===re.length?e.y:1===re.length?re[0]:function(ge){return re.reduce((fe,de)=>de(fe),ge)}}},7849:(rt,be,P)=>{P.d(be,{h:()=>M});var e=P(2416),L=P(3410);function M(re){L.z.setTimeout(()=>{const{onUnhandledError:ue}=e.v;if(!ue)throw re;ue(re)})}},4532:(rt,be,P)=>{function e(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(be,{z:()=>e})},5987:(rt,be,P)=>{function de(Y,oe,ie,ye){return new(ie||(ie=Promise))(function(qe,Ct){function nn(bn){try{Ye(ye.next(bn))}catch(jn){Ct(jn)}}function $t(bn){try{Ye(ye.throw(bn))}catch(jn){Ct(jn)}}function Ye(bn){bn.done?qe(bn.value):function le(qe){return qe instanceof ie?qe:new ie(function(Ct){Ct(qe)})}(bn.value).then(nn,$t)}Ye((ye=ye.apply(Y,oe||[])).next())})}function Te(Y){return this instanceof Te?(this.v=Y,this):new Te(Y)}function _e(Y,oe,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,ye=ie.apply(Y,oe||[]),qe=[];return le={},Ct("next"),Ct("throw"),Ct("return"),le[Symbol.asyncIterator]=function(){return this},le;function Ct(Cn){ye[Cn]&&(le[Cn]=function(rn){return new Promise(function($n,Ur){qe.push([Cn,rn,$n,Ur])>1||nn(Cn,rn)})})}function nn(Cn,rn){try{!function $t(Cn){Cn.value instanceof Te?Promise.resolve(Cn.value.v).then(Ye,bn):jn(qe[0][2],Cn)}(ye[Cn](rn))}catch($n){jn(qe[0][3],$n)}}function Ye(Cn){nn("next",Cn)}function bn(Cn){nn("throw",Cn)}function jn(Cn,rn){Cn(rn),qe.shift(),qe.length&&nn(qe[0][0],qe[0][1])}}function dt(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,oe=Y[Symbol.asyncIterator];return oe?oe.call(Y):(Y=function X(Y){var oe="function"==typeof Symbol&&Symbol.iterator,ie=oe&&Y[oe],ye=0;if(ie)return ie.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&ye>=Y.length&&(Y=void 0),{value:Y&&Y[ye++],done:!Y}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ie={},ye("next"),ye("throw"),ye("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function ye(qe){ie[qe]=Y[qe]&&function(Ct){return new Promise(function(nn,$t){!function le(qe,Ct,nn,$t){Promise.resolve($t).then(function(Ye){qe({value:Ye,done:nn})},Ct)}(nn,$t,(Ct=Y[qe](Ct)).done,Ct.value)})}}}P.d(be,{FC:()=>_e,KL:()=>dt,mG:()=>de,qq:()=>Te})},5e3:(rt,be,P)=>{P.d(be,{$8M:()=>xa,$Z:()=>Sh,AFp:()=>ZT,ALo:()=>pg,AaK:()=>de,AsE:()=>uy,BQk:()=>Kf,CHM:()=>Ms,CRH:()=>_g,CZH:()=>kg,Ckj:()=>ze,CqO:()=>L1,D6c:()=>Yl,EJc:()=>UT,EpF:()=>O1,F4k:()=>R1,FYo:()=>Ks,FiY:()=>xe,G48:()=>Td,Gf:()=>vT,GfV:()=>h0,Gpc:()=>H,JOm:()=>Ki,Jf7:()=>I0,KtG:()=>Xo,LFG:()=>fn,LSH:()=>Le,Lbi:()=>MT,Lck:()=>rE,MMx:()=>Pr,NdJ:()=>ty,OlP:()=>cn,Oqu:()=>ay,PXZ:()=>iv,Q6J:()=>Y_,QGY:()=>ey,QP$:()=>aa,Qsj:()=>Iu,R0b:()=>oi,RDi:()=>nh,Rgc:()=>Gl,SBq:()=>Au,Sil:()=>FT,Suo:()=>ip,TTD:()=>Ds,TgZ:()=>Wf,VKq:()=>lg,X6Q:()=>zT,XFs:()=>st,Xpm:()=>F,Xts:()=>Rc,Y36:()=>Xc,YKP:()=>hd,YNc:()=>P1,Yjl:()=>ee,Yz7:()=>rn,ZZ4:()=>jg,_Bn:()=>zh,_UZ:()=>ad,_Vd:()=>bu,_c5:()=>$g,_uU:()=>cC,aQg:()=>Kl,c2e:()=>TE,cJS:()=>Ur,cg1:()=>py,dDg:()=>Ug,deG:()=>_u,dqk:()=>Qe,eFA:()=>sv,ekj:()=>oy,eoX:()=>tv,f3M:()=>Ua,g9A:()=>Wy,h0i:()=>Uu,hGG:()=>fv,hij:()=>Xf,iGM:()=>My,ifc:()=>jt,ip1:()=>kT,kL8:()=>DC,lG2:()=>fr,lcZ:()=>hT,lnq:()=>ly,lqb:()=>bl,lri:()=>Xy,n5z:()=>Sa,oAB:()=>vt,oxw:()=>B1,q4F:()=>jc,qLn:()=>$c,qOj:()=>I1,qZA:()=>zf,rWj:()=>ev,sBO:()=>DE,sIi:()=>Ni,s_b:()=>ep,soG:()=>Ng,tb:()=>zy,tp0:()=>ut,uIk:()=>ku,vHH:()=>Ae,vpe:()=>To,wAp:()=>Et,xp6:()=>$0,ynx:()=>Qf,z2F:()=>mp,zSh:()=>jo,zs3:()=>Ml});var e=P(7579),L=P(727),M=P(9751),re=P(6451),ue=P(3099);function ge(s){for(let a in s)if(s[a]===ge)return a;throw Error("Could not find renamed property on target object.")}function fe(s,a){for(const l in a)a.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=a[l])}function de(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(de).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function ve(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const G=ge({__forward_ref__:ge});function H(s){return s.__forward_ref__=H,s.toString=function(){return de(this())},s}function X(s){return $e(s)?s():s}function $e(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===H}class Ae extends Error{constructor(a,l){super(function ot(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,l)),this.code=a}}function Te(s){return"string"==typeof s?s:null==s?"":String(s)}function ke(s,a){throw new Ae(-201,!1)}function $t(s,a){null==s&&function Ye(s,a,l,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${l} ${c} ${a} <=Actual]`))}(a,s,null,"!=")}function rn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ur(s){return{providers:s.providers||[],imports:s.imports||[]}}function Un(s){return ui(s,vr)||ui(s,Oe)}function ui(s,a){return s.hasOwnProperty(a)?s[a]:null}function Eo(s){return s&&(s.hasOwnProperty(zr)||s.hasOwnProperty(sr))?s[zr]:null}const vr=ge({\u0275prov:ge}),zr=ge({\u0275inj:ge}),Oe=ge({ngInjectableDef:ge}),sr=ge({ngInjectorDef:ge});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let Cr;function zt(s){const a=Cr;return Cr=s,a}function Tr(s,a,l){const c=Un(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&st.Optional?null:void 0!==a?a:void ke(de(s))}function Gn(s){return{toString:s}.toString()}var En=(()=>((En=En||{})[En.OnPush=0]="OnPush",En[En.Default=1]="Default",En))(),jt=(()=>{return(s=jt||(jt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",jt;var s})();const Qe=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),ar={},at=[],sn=ge({\u0275cmp:ge}),qn=ge({\u0275dir:ge}),On=ge({\u0275pipe:ge}),tn=ge({\u0275mod:ge}),Dn=ge({\u0275fac:ge}),B=ge({__NG_ELEMENT_ID__:ge});let j=0;function F(s){return Gn(()=>{const l=!0===s.standalone,c={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===En.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||at,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||jt.Emulated,id:"c"+j++,styles:s.styles||at,_:null,setInput:null,schemas:s.schemas||null,tView:null},f=s.dependencies,_=s.features;return h.inputs=an(s.inputs,c),h.outputs=an(s.outputs),_&&_.forEach(T=>T(h)),h.directiveDefs=f?()=>("function"==typeof f?f():f).map(Q).filter(Ne):null,h.pipeDefs=f?()=>("function"==typeof f?f():f).map(Ce).filter(Ne):null,h})}function Q(s){return q(s)||V(s)}function Ne(s){return null!==s}const Xe={};function vt(s){return Gn(()=>{const a={type:s.type,bootstrap:s.bootstrap||at,declarations:s.declarations||at,imports:s.imports||at,exports:s.exports||at,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Xe[s.id]=s.type),a})}function an(s,a){if(null==s)return ar;const l={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),l[h]=c,a&&(a[h]=f)}return l}const fr=F;function ee(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function q(s){return s[sn]||null}function V(s){return s[qn]||null}function Ce(s){return s[On]||null}function Ve(s,a){const l=s[tn]||null;if(!l&&!0===a)throw new Error(`Type ${de(s)} does not have '\u0275mod' property.`);return l}function Pt(s){return Array.isArray(s)&&"object"==typeof s[1]}function qr(s){return Array.isArray(s)&&!0===s[1]}function Ju(s){return 0!=(8&s.flags)}function Es(s){return 2==(2&s.flags)}function ga(s){return 1==(1&s.flags)}function Li(s){return null!==s.template}function Xn(s){return 0!=(256&s[2])}function Ii(s,a){return s.hasOwnProperty(Dn)?s[Dn]:null}class qd{constructor(a,l,c){this.previousValue=a,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ds(){return Qu}function Qu(s){return s.type.prototype.ngOnChanges&&(s.setInput=mc),Ku}function Ku(){const s=xo(this),a=null==s?void 0:s.current;if(a){const l=s.previous;if(l===ar)s.previous=a;else for(let c in a)l[c]=a[c];s.current=null,this.ngOnChanges(a)}}function mc(s,a,l,c){const h=xo(s)||function ao(s,a){return s[Ss]=a}(s,{previous:ar,current:null}),f=h.current||(h.current={}),_=h.previous,T=this.declaredInputs[l],b=_[T];f[T]=new qd(b&&b.currentValue,a,_===ar),s[c]=a}Ds.ngInherit=!0;const Ss="__ngSimpleChanges__";function xo(s){return s[Ss]||null}function Ln(s){for(;Array.isArray(s);)s=s[0];return s}function xs(s,a){return Ln(a[s])}function Zn(s,a){return Ln(a[s.index])}function ya(s,a){return s.data[a]}function xr(s,a){const l=a[s];return Pt(l)?l:l[0]}function ks(s){return 4==(4&s[2])}function kr(s){return 64==(64&s[2])}function Vr(s,a){return null==a?null:s[a]}function Ko(s){s[18]=0}function nl(s,a){s[5]+=a;let l=s,c=s[3];for(;null!==c&&(1===a&&1===l[5]||-1===a&&0===l[5]);)c[5]+=a,l=c,c=c[3]}const ht={lFrame:vc(null),bindingsEnabled:!0};function Zo(){return ht.bindingsEnabled}function Se(){return ht.lFrame.lView}function Ht(){return ht.lFrame.tView}function Ms(s){return ht.lFrame.contextLView=s,s[8]}function Xo(s){return ht.lFrame.contextLView=null,s}function Fn(){let s=Ca();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ca(){return ht.lFrame.currentTNode}function ci(s,a){const l=ht.lFrame;l.currentTNode=s,l.isParent=a}function ts(){return ht.lFrame.isParent}function Ps(){ht.lFrame.isParent=!1}function er(){const s=ht.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function Ei(){return ht.lFrame.bindingIndex}function uo(){return ht.lFrame.bindingIndex++}function Vi(s){const a=ht.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,l}function Os(s,a){const l=ht.lFrame;l.bindingIndex=l.bindingRootIndex=s,Rs(a)}function Rs(s){ht.lFrame.currentDirectiveIndex=s}function su(){return ht.lFrame.currentQueryIndex}function Po(s){ht.lFrame.currentQueryIndex=s}function il(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function lo(s,a,l){if(l&st.SkipSelf){let h=a,f=s;for(;!(h=h.parent,null!==h||l&st.Host||(h=il(f),null===h||(f=f[15],10&h.type))););if(null===h)return!1;a=h,s=f}const c=ht.lFrame=Ta();return c.currentTNode=a,c.lView=s,!0}function ol(s){const a=Ta(),l=s[1];ht.lFrame=a,a.currentTNode=l.firstChild,a.lView=s,a.tView=l,a.contextLView=s,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function Ta(){const s=ht.lFrame,a=null===s?null:s.child;return null===a?vc(s):a}function vc(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Fs(){const s=ht.lFrame;return ht.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Cc=Fs;function qs(){const s=Fs();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function mr(){return ht.lFrame.selectedIndex}function Di(s){ht.lFrame.selectedIndex=s}function Vn(){const s=ht.lFrame;return ya(s.tView,s.selectedIndex)}function ba(s,a){for(let l=a.directiveStart,c=a.directiveEnd;l<c;l++){const f=s.data[l].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:T,ngAfterViewInit:b,ngAfterViewChecked:E,ngOnDestroy:x}=f;_&&(s.contentHooks||(s.contentHooks=[])).push(-l,_),T&&((s.contentHooks||(s.contentHooks=[])).push(l,T),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,T)),b&&(s.viewHooks||(s.viewHooks=[])).push(-l,b),E&&((s.viewHooks||(s.viewHooks=[])).push(l,E),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,E)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(l,x)}}function Ac(s,a,l){Bi(s,a,3,l)}function ns(s,a,l,c){(3&s[2])===l&&Bi(s,a,l,c)}function al(s,a){let l=s[2];(3&l)===a&&(l&=2047,l+=1,s[2]=l)}function Bi(s,a,l,c){const f=null!=c?c:-1,_=a.length-1;let T=0;for(let b=void 0!==c?65535&s[18]:0;b<_;b++)if("number"==typeof a[b+1]){if(T=a[b],null!=c&&T>=c)break}else a[b]<0&&(s[18]+=65536),(T<f||-1==f)&&(lu(s,l,a,b),s[18]=(4294901760&s[18])+b+2),b++}function lu(s,a,l,c){const h=l[c]<0,f=l[c+1],T=s[h?-l[c]:l[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{f.call(T)}finally{}}}else try{f.call(T)}finally{}}class rs{constructor(a,l,c){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function os(s,a,l){let c=0;for(;c<l.length;){const h=l[c];if("number"==typeof h){if(0!==h)break;c++;const f=l[c++],_=l[c++],T=l[c++];s.setAttribute(a,_,T,f)}else{const f=h,_=l[++c];co(f)?s.setProperty(a,f,_):s.setAttribute(a,f,_),c++}}return c}function Hd(s){return 3===s||4===s||6===s}function co(s){return 64===s.charCodeAt(0)}function hu(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let l=-1;for(let c=0;c<a.length;c++){const h=a[c];"number"==typeof h?l=h:0===l||Gd(s,l,h,null,-1===l||2===l?a[++c]:null)}}return s}function Gd(s,a,l,c,h){let f=0,_=s.length;if(-1===a)_=-1;else for(;f<s.length;){const T=s[f++];if("number"==typeof T){if(T===a){_=-1;break}if(T>a){_=f-1;break}}}for(;f<s.length;){const T=s[f];if("number"==typeof T)break;if(T===l){if(null===c)return void(null!==h&&(s[f+1]=h));if(c===s[f+1])return void(s[f+2]=h)}f++,null!==c&&f++,null!==h&&f++}-1!==_&&(s.splice(_,0,a),f=_+1),s.splice(f++,0,l),null!==c&&s.splice(f++,0,c),null!==h&&s.splice(f++,0,h)}function Jd(s){return-1!==s}function Aa(s){return 32767&s}function Ia(s,a){let l=function di(s){return s>>16}(s),c=a;for(;l>0;)c=c[15],l--;return c}let Wd=!0;function Ic(s){const a=Wd;return Wd=s,a}let Br=0;const ho={};function Uo(s,a){const l=Vs(s,a);if(-1!==l)return l;const c=a[1];c.firstCreatePass&&(s.injectorIndex=a.length,Si(c.data,s),Si(a,null),Si(c.blueprint,null));const h=pu(s,a),f=s.injectorIndex;if(Jd(h)){const _=Aa(h),T=Ia(h,a),b=T[1].data;for(let E=0;E<8;E++)a[f+E]=T[_+E]|b[_+E]}return a[f+8]=h,f}function Si(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Vs(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function pu(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,c=null,h=a;for(;null!==h;){if(c=Wn(h),null===c)return-1;if(l++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function ss(s,a,l){!function Ec(s,a,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(B)&&(c=l[B]),null==c&&(c=l[B]=Br++);const h=255&c;a.data[s+(h>>5)]|=1<<h}(s,a,l)}function _r(s,a,l){if(l&st.Optional)return s;ke()}function se(s,a,l,c){if(l&st.Optional&&void 0===c&&(c=null),0==(l&(st.Self|st.Host))){const h=s[9],f=zt(void 0);try{return h?h.get(a,c,l&st.Optional):Tr(a,c,l&st.Optional)}finally{zt(f)}}return _r(c,0,l)}function fu(s,a,l,c=st.Default,h){if(null!==s){if(1024&a[2]){const _=function ll(s,a,l,c,h){let f=s,_=a;for(;null!==f&&null!==_&&1024&_[2]&&!(256&_[2]);){const T=gu(f,_,l,c|st.Self,ho);if(T!==ho)return T;let b=f.parent;if(!b){const E=_[21];if(E){const x=E.get(l,ho,c);if(x!==ho)return x}b=Wn(_),_=_[15]}f=b}return h}(s,a,l,c,ho);if(_!==ho)return _}const f=gu(s,a,l,c,ho);if(f!==ho)return f}return se(a,l,c,h)}function gu(s,a,l,c,h){const f=function mu(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(B)?s[B]:void 0;return"number"==typeof a?a>=0?255&a:Dc:a}(l);if("function"==typeof f){if(!lo(a,s,c))return c&st.Host?_r(h,0,c):se(a,l,c,h);try{const _=f(c);if(null!=_||c&st.Optional)return _;ke()}finally{Cc()}}else if("number"==typeof f){let _=null,T=Vs(s,a),b=-1,E=c&st.Host?a[16][6]:null;for((-1===T||c&st.SkipSelf)&&(b=-1===T?pu(s,a):a[T+8],-1!==b&&hi(c,!1)?(_=a[1],T=Aa(b),a=Ia(b,a)):T=-1);-1!==T;){const x=a[1];if(Lo(f,T,x.data)){const U=Ea(T,a,l,_,c,E);if(U!==ho)return U}b=a[T+8],-1!==b&&hi(c,a[1].data[T+8]===E)&&Lo(f,T,a)?(_=x,T=Aa(b),a=Ia(b,a)):T=-1}}return h}function Ea(s,a,l,c,h,f){const _=a[1],T=_.data[s+8],x=Ro(T,_,l,null==c?Es(T)&&Wd:c!=_&&0!=(3&T.type),h&st.Host&&f===T);return null!==x?Da(a,_,x,T):ho}function Ro(s,a,l,c,h){const f=s.providerIndexes,_=a.data,T=1048575&f,b=s.directiveStart,x=f>>20,W=h?T+x:s.directiveEnd;for(let ne=c?T:T+x;ne<W;ne++){const he=_[ne];if(ne<b&&l===he||ne>=b&&he.type===l)return ne}if(h){const ne=_[b];if(ne&&Li(ne)&&ne.type===l)return b}return null}function Da(s,a,l,c){let h=s[l];const f=a.data;if(function cu(s){return s instanceof rs}(h)){const _=h;_.resolving&&function it(s,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${s}${l}`)}(function _e(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Te(s)}(f[l]));const T=Ic(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?zt(_.injectImpl):null;lo(s,c,st.Default);try{h=s[l]=_.factory(void 0,f,s,c),a.firstCreatePass&&l>=c.directiveStart&&function $d(s,a,l){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:f}=a.type.prototype;if(c){const _=Qu(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,_)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),f&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,f),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,f))}(l,f[l],a)}finally{null!==b&&zt(b),Ic(T),_.resolving=!1,Cc()}}return h}function Lo(s,a,l){return!!(l[a+(s>>5)]&1<<s)}function hi(s,a){return!(s&st.Self||s&st.Host&&a)}class po{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,c){return fu(this._tNode,this._lView,a,c,l)}}function Dc(){return new po(Fn(),Se())}function Sa(s){return Gn(()=>{const a=s.prototype.constructor,l=a[Dn]||ul(a),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const f=h[Dn]||ul(h);if(f&&f!==l)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function ul(s){return $e(s)?()=>{const a=ul(X(s));return a&&a()}:Ii(s)}function Wn(s){const a=s[1],l=a.type;return 2===l?a.declTNode:1===l?s[6]:null}function xa(s){return function Oo(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const l=s.attrs;if(l){const c=l.length;let h=0;for(;h<c;){const f=l[h];if(Hd(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<c&&"string"==typeof l[h];)h++;else{if(f===a)return l[h+1];h+=2}}}return null}(Fn(),s)}const Nr="__parameters__";function Yr(s,a,l){return Gn(()=>{const c=function Fo(s){return function(...l){if(s){const c=s(...l);for(const h in c)this[h]=c[h]}}}(a);function h(...f){if(this instanceof h)return c.apply(this,f),this;const _=new h(...f);return T.annotation=_,T;function T(b,E,x){const U=b.hasOwnProperty(Nr)?b[Nr]:Object.defineProperty(b,Nr,{value:[]})[Nr];for(;U.length<=x;)U.push(null);return(U[x]=U[x]||[]).push(_),b}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class cn{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=rn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const _u=new cn("AnalyzeForEntryComponents");function wr(s,a){void 0===a&&(a=s);for(let l=0;l<s.length;l++){let c=s[l];Array.isArray(c)?(a===s&&(a=s.slice(0,l)),wr(c,a)):a!==s&&a.push(c)}return a}function Hi(s,a){s.forEach(l=>Array.isArray(l)?Hi(l,a):a(l))}function hl(s,a,l){a>=s.length?s.push(l):s.splice(a,0,l)}function us(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function jr(s,a,l){let c=fo(s,a);return c>=0?s[1|c]=l:(c=~c,function Qd(s,a,l,c){let h=s.length;if(h==a)s.push(l,c);else if(1===h)s.push(c,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=l,s[a+1]=c}}(s,c,a,l)),c}function Zc(s,a){const l=fo(s,a);if(l>=0)return s[1|l]}function fo(s,a){return function cs(s,a,l){let c=0,h=s.length>>l;for(;h!==c;){const f=c+(h-c>>1),_=s[f<<l];if(a===_)return f<<l;_>a?h=f:c=f+1}return~(h<<l)}(s,a,1)}const ki={},gl="__NG_DI_FLAG__",Pa="ngTempTokenPath",Ji=/\n/gm,Wi="__source";let Tu;function go(s){const a=Tu;return Tu=s,a}function Gs(s,a=st.Default){if(void 0===Tu)throw new Ae(-203,!1);return null===Tu?Tr(s,void 0,a):Tu.get(s,a&st.Optional?null:void 0,a)}function fn(s,a=st.Default){return(function on(){return Cr}()||Gs)(X(s),a)}function Ua(s,a=st.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),fn(s,a)}function A(s){const a=[];for(let l=0;l<s.length;l++){const c=X(s[l]);if(Array.isArray(c)){if(0===c.length)throw new Ae(900,!1);let h,f=st.Default;for(let _=0;_<c.length;_++){const T=c[_],b=Z(T);"number"==typeof b?-1===b?h=T.token:f|=b:h=T}a.push(fn(h,f))}else a.push(fn(c))}return a}function I(s,a){return s[gl]=a,s.prototype[gl]=a,s}function Z(s){return s[gl]}const xe=I(Yr("Optional"),8),ut=I(Yr("SkipSelf"),4);let Oa;function nh(s){Oa=s}class Sm{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Mn(s){return s instanceof Sm?s.changingThisBreaksApplicationSecurity:s}function Ws(s,a){const l=function km(s){return s instanceof Sm&&s.getTypeName()||null}(s);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}const Mm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Um=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var $=(()=>(($=$||{})[$.NONE=0]="NONE",$[$.HTML=1]="HTML",$[$.STYLE=2]="STYLE",$[$.SCRIPT=3]="SCRIPT",$[$.URL=4]="URL",$[$.RESOURCE_URL=5]="RESOURCE_URL",$))();function ze(s){const a=Ra();return a?a.sanitize($.STYLE,s)||"":Ws(s,"Style")?Mn(s):Te(s)}function Le(s){const a=Ra();return a?a.sanitize($.URL,s)||"":Ws(s,"URL")?Mn(s):function Bo(s){return(s=String(s)).match(Mm)||s.match(Um)?s:"unsafe:"+s}(Te(s))}function Ra(){const s=Se();return s&&s[12]}const Rc=new cn("ENVIRONMENT_INITIALIZER"),gf=new cn("INJECTOR",-1),mf=new cn("INJECTOR_DEF_TYPES");class Tl{get(a,l=ki){if(l===ki){const c=new Error(`NullInjectorError: No provider for ${de(a)}!`);throw c.name="NullInjectorError",c}return l}}function _f(...s){return{\u0275providers:ph(0,s)}}function ph(s,...a){const l=[],c=new Set;let h;return Hi(a,f=>{const _=f;yf(_,l,[],c)&&(h||(h=[]),h.push(_))}),void 0!==h&&wl(h,l),l}function wl(s,a){for(let l=0;l<s.length;l++){const{providers:h}=s[l];Hi(h,f=>{a.push(f)})}}function yf(s,a,l,c){if(!(s=X(s)))return!1;let h=null,f=Eo(s);const _=!f&&q(s);if(f||_){if(_&&!_.standalone)return!1;h=s}else{const b=s.ngModule;if(f=Eo(b),!f)return!1;h=b}const T=c.has(h);if(_){if(T)return!1;if(c.add(h),_.dependencies){const b="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const E of b)yf(E,a,l,c)}}else{if(!f)return!1;{if(null!=f.imports&&!T){let E;c.add(h);try{Hi(f.imports,x=>{yf(x,a,l,c)&&(E||(E=[]),E.push(x))})}finally{}void 0!==E&&wl(E,a)}if(!T){const E=Ii(h)||(()=>new h);a.push({provide:h,useFactory:E,deps:at},{provide:mf,useValue:h,multi:!0},{provide:Rc,useValue:()=>fn(h),multi:!0})}const b=f.providers;null==b||T||Hi(b,x=>{a.push(x)})}}return h!==s&&void 0!==s.providers}const l0=ge({provide:String,useValue:ge});function Lm(s){return null!==s&&"object"==typeof s&&l0 in s}function Lc(s){return"function"==typeof s}const jo=new cn("Set Injector scope."),ti={},fh={};let Fm;function gh(){return void 0===Fm&&(Fm=new Tl),Fm}class bl{}class qm extends bl{constructor(a,l,c,h){super(),this.parent=l,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qs(a,_=>this.processProvider(_)),this.records.set(gf,Fc(void 0,this)),h.has("environment")&&this.records.set(bl,Fc(void 0,this));const f=this.records.get(jo);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(mf.multi,at,st.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const l=go(this),c=zt(void 0);try{return a()}finally{go(l),zt(c)}}get(a,l=ki,c=st.Default){this.assertNotDestroyed();const h=go(this),f=zt(void 0);try{if(!(c&st.SkipSelf)){let T=this.records.get(a);if(void 0===T){const b=function nb(s){return"function"==typeof s||"object"==typeof s&&s instanceof cn}(a)&&Un(a);T=b&&this.injectableDefInScope(b)?Fc(Al(a),ti):null,this.records.set(a,T)}if(null!=T)return this.hydrate(a,T)}return(c&st.Self?gh():this.parent).get(a,l=c&st.Optional&&l===ki?null:l)}catch(_){if("NullInjectorError"===_.name){if((_[Pa]=_[Pa]||[]).unshift(de(a)),h)throw _;return function O(s,a,l,c){const h=s[Pa];throw a[Wi]&&h.unshift(a[Wi]),s.message=function K(s,a,l,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=de(a);if(Array.isArray(a))h=a.map(de).join(" -> ");else if("object"==typeof a){let f=[];for(let _ in a)if(a.hasOwnProperty(_)){let T=a[_];f.push(_+":"+("string"==typeof T?JSON.stringify(T):de(T)))}h=`{${f.join(", ")}}`}return`${l}${c?"("+c+")":""}[${h}]: ${s.replace(Ji,"\n  ")}`}("\n"+s.message,h,l,c),s.ngTokenPath=h,s[Pa]=null,s}(_,a,"R3InjectorError",this.source)}throw _}finally{zt(f),go(h)}}resolveInjectorInitializers(){const a=go(this),l=zt(void 0);try{const c=this.get(Rc.multi,at,st.Self);for(const h of c)h()}finally{go(a),zt(l)}}toString(){const a=[],l=this.records;for(const c of l.keys())a.push(de(c));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(a){let l=Lc(a=X(a))?a:X(a&&a.provide);const c=function Vm(s){return Lm(s)?Fc(void 0,s.useValue):Fc(Bm(s),ti)}(a);if(Lc(a)||!0!==a.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Fc(void 0,ti,!0),h.factory=()=>A(h.multi),this.records.set(l,h)),l=a,h.multi.push(a)}this.records.set(l,c)}hydrate(a,l){return l.value===ti&&(l.value=fh,l.value=l.factory()),"object"==typeof l.value&&l.value&&function qc(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=X(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Al(s){const a=Un(s),l=null!==a?a.factory:Ii(s);if(null!==l)return l;if(s instanceof cn)throw new Ae(204,!1);if(s instanceof Function)return function tb(s){const a=s.length;if(a>0)throw function ls(s,a){const l=[];for(let c=0;c<s;c++)l.push(a);return l}(a,"?"),new Ae(204,!1);const l=function Tn(s){const a=s&&(s[vr]||s[Oe]);if(a){const l=function _n(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Ae(204,!1)}function Bm(s,a,l){let c;if(Lc(s)){const h=X(s);return Ii(h)||Al(h)}if(Lm(s))c=()=>X(s.useValue);else if(function eb(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...A(s.deps||[]));else if(function Xw(s){return!(!s||!s.useExisting)}(s))c=()=>fn(X(s.useExisting));else{const h=X(s&&(s.useClass||s.provide));if(!function mh(s){return!!s.deps}(s))return Ii(h)||Al(h);c=()=>new h(...A(s.deps))}return c}function Fc(s,a,l=!1){return{factory:s,value:a,multi:l?[]:void 0}}function Vc(s){return!!s.\u0275providers}function Qs(s,a){for(const l of s)Array.isArray(l)?Qs(l,a):Vc(l)?Qs(l.\u0275providers,a):a(l)}class pi{}class Bc{resolveComponentFactory(a){throw function jm(s){const a=Error(`No component factory found for ${de(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let bu=(()=>{class s{}return s.NULL=new Bc,s})();function gt(){return Ir(Fn(),Se())}function Ir(s,a){return new Au(Zn(s,a))}let Au=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=gt,s})();function d0(s){return s instanceof Au?s.nativeElement:s}class Ks{}let Iu=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function fi(){const s=Se(),l=xr(Fn().index,s);return(Pt(l)?l:s)[11]}(),s})(),La=(()=>{class s{}return s.\u0275prov=rn({token:s,providedIn:"root",factory:()=>null}),s})();class h0{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const jc=new h0("14.1.0"),_h={};function Cf(s){return s.ngOriginalError}class $c{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&Cf(a);for(;l&&Cf(l);)l=Cf(l);return l||null}}const El=new Map;let ub=0;const Hc="__ngContext__";function gi(s,a){Pt(a)?(s[Hc]=a[20],function lb(s){El.set(s[20],s)}(a)):s[Hc]=a}function xl(s){const a=s[Hc];return"number"==typeof a?function Qm(s){return El.get(s)||null}(a):a||null}function Gc(s){const a=xl(s);return a?Pt(a)?a:a.lView:null}const fb=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qe))();function I0(s){return s.ownerDocument.defaultView}function Zi(s){return s instanceof Function?s():s}var Ki=(()=>((Ki=Ki||{})[Ki.Important=1]="Important",Ki[Ki.DashCase=2]="DashCase",Ki))();function If(s,a){return undefined(s,a)}function vh(s){const a=s[3];return qr(a)?a[3]:a}function n_(s){return zc(s[13])}function Ch(s){return zc(s[4])}function zc(s){for(;null!==s&&!qr(s);)s=s[4];return s}function Du(s,a,l,c,h){if(null!=c){let f,_=!1;qr(c)?f=c:Pt(c)&&(_=!0,c=c[0]);const T=Ln(c);0===s&&null!==l?null==h?u_(a,l,T):kl(a,l,T,h||null,!0):1===s&&null!==l?kl(a,l,T,h||null,!0):2===s?function xf(s,a,l){const c=Qc(s,a);c&&function U0(s,a,l,c){s.removeChild(a,l,c)}(s,c,a,l)}(a,T,_):3===s&&a.destroyNode(T),null!=f&&function bh(s,a,l,c,h){const f=l[7];f!==Ln(l)&&Du(a,s,c,f,h);for(let T=10;T<l.length;T++){const b=l[T];Nl(b[1],b,s,a,c,f)}}(a,s,f,l,h)}}function _s(s,a,l){return s.createElement(a,l)}function k0(s,a){const l=s[9],c=l.indexOf(a),h=a[3];512&a[2]&&(a[2]&=-513,nl(h,-1)),l.splice(c,1)}function s_(s,a){if(s.length<=10)return;const l=10+a,c=s[l];if(c){const h=c[17];null!==h&&h!==s&&k0(h,c),a>0&&(s[l-1][4]=c[4]);const f=us(s,10+a);!function o_(s,a){Nl(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(c[1],c);const _=f[19];null!==_&&_.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function Z0(s,a){if(!(128&a[2])){const l=a[11];l.destroyNode&&Nl(s,a,l,3,null,null),function x0(s){let a=s[13];if(!a)return a_(s[1],s);for(;a;){let l=null;if(Pt(a))l=a[13];else{const c=a[10];c&&(l=c)}if(!l){for(;a&&!a[4]&&a!==s;)Pt(a)&&a_(a[1],a),a=a[3];null===a&&(a=s),Pt(a)&&a_(a[1],a),l=a&&a[4]}a=l}}(a)}}function a_(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function vb(s,a){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let c=0;c<l.length;c+=2){const h=a[l[c]];if(!(h instanceof rs)){const f=l[c+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const T=h[f[_]],b=f[_+1];try{b.call(T)}finally{}}else try{f.call(h)}finally{}}}}(s,a),function yb(s,a){const l=s.cleanup,c=a[7];let h=-1;if(null!==l)for(let f=0;f<l.length-1;f+=2)if("string"==typeof l[f]){const _=l[f+1],T="function"==typeof _?_(a):Ln(a[_]),b=c[h=l[f+2]],E=l[f+3];"boolean"==typeof E?T.removeEventListener(l[f],b,E):E>=0?c[h=E]():c[h=-E].unsubscribe(),f+=2}else{const _=c[h=l[f+1]];l[f].call(_)}if(null!==c){for(let f=h+1;f<c.length;f++)(0,c[f])();a[7]=null}}(s,a),1===a[1].type&&a[11].destroy();const l=a[17];if(null!==l&&qr(a[3])){l!==a[3]&&k0(l,a);const c=a[19];null!==c&&c.detachView(s)}!function v0(s){El.delete(s[20])}(a)}}function N0(s,a,l){return function M0(s,a,l){let c=a;for(;null!==c&&40&c.type;)c=(a=c).parent;if(null===c)return l[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===jt.None||h===jt.Emulated)return null}return Zn(c,l)}(s,a.parent,l)}function kl(s,a,l,c,h){s.insertBefore(a,l,c,h)}function u_(s,a,l){s.appendChild(a,l)}function P0(s,a,l,c,h){null!==c?kl(s,a,l,c,h):u_(s,a,l)}function Qc(s,a){return s.parentNode(a)}let c_=function l_(s,a,l){return 40&s.type?Zn(s,l):null};function Th(s,a,l,c){const h=N0(s,c,a),f=a[11],T=function Zl(s,a,l){return c_(s,a,l)}(c.parent||a[6],c,a);if(null!=h)if(Array.isArray(l))for(let b=0;b<l.length;b++)P0(f,h,l[b],T,!1);else P0(f,h,l,T,!1)}function Df(s,a){if(null!==a){const l=a.type;if(3&l)return Zn(a,s);if(4&l)return Sf(-1,s[a.index]);if(8&l){const c=a.child;if(null!==c)return Df(s,c);{const h=s[a.index];return qr(h)?Sf(-1,h):Ln(h)}}if(32&l)return If(a,s)()||Ln(s[a.index]);{const c=wh(s,a);return null!==c?Array.isArray(c)?c[0]:Df(vh(s[16]),c):Df(s,a.next)}}return null}function wh(s,a){return null!==a?s[16][6].projection[a.projection]:null}function Sf(s,a){const l=10+s+1;if(l<a.length){const c=a[l],h=c[1].firstChild;if(null!==h)return Df(c,h)}return a[7]}function kf(s,a,l,c,h,f,_){for(;null!=l;){const T=c[l.index],b=l.type;if(_&&0===a&&(T&&gi(Ln(T),c),l.flags|=4),64!=(64&l.flags))if(8&b)kf(s,a,l.child,c,h,f,!1),Du(a,s,h,T,f);else if(32&b){const E=If(l,c);let x;for(;x=E();)Du(a,s,h,x,f);Du(a,s,h,T,f)}else 16&b?R0(s,a,c,l,h,f):Du(a,s,h,T,f);l=_?l.projectionNext:l.next}}function Nl(s,a,l,c,h,f){kf(l,c,s.firstChild,a,h,f,!1)}function R0(s,a,l,c,h,f){const _=l[16],b=_[6].projection[c.projection];if(Array.isArray(b))for(let E=0;E<b.length;E++)Du(a,s,h,b[E],f);else kf(s,a,b,_[3],h,f,!0)}function L0(s,a,l){s.setAttribute(a,"style",l)}function Ah(s,a,l){""===l?s.removeAttribute(a,"class"):s.setAttribute(a,"class",l)}function p_(s,a,l){let c=s.length;for(;;){const h=s.indexOf(a,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const f=a.length;if(h+f===c||s.charCodeAt(h+f)<=32)return h}l=h+1}}const f_="ng-template";function F0(s,a,l){let c=0;for(;c<s.length;){let h=s[c++];if(l&&"class"===h){if(h=s[c],-1!==p_(h.toLowerCase(),a,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function q0(s){return 4===s.type&&s.value!==f_}function Ih(s,a,l){return a===(4!==s.type||l?s.value:f_)}function Zf(s,a,l){let c=4;const h=s.attrs||[],f=function j0(s){for(let a=0;a<s.length;a++)if(Hd(s[a]))return a;return s.length}(h);let _=!1;for(let T=0;T<a.length;T++){const b=a[T];if("number"!=typeof b){if(!_)if(4&c){if(c=2|1&c,""!==b&&!Ih(s,b,l)||""===b&&1===a.length){if(Yi(c))return!1;_=!0}}else{const E=8&c?b:a[++T];if(8&c&&null!==s.attrs){if(!F0(s.attrs,E,l)){if(Yi(c))return!1;_=!0}continue}const U=wb(8&c?"class":b,h,q0(s),l);if(-1===U){if(Yi(c))return!1;_=!0;continue}if(""!==E){let W;W=U>f?"":h[U+1].toLowerCase();const ne=8&c?W:null;if(ne&&-1!==p_(ne,E,0)||2&c&&E!==W){if(Yi(c))return!1;_=!0}}}}else{if(!_&&!Yi(c)&&!Yi(b))return!1;if(_&&Yi(b))continue;_=!1,c=b|1&c}}return Yi(c)||_}function Yi(s){return 0==(1&s)}function wb(s,a,l,c){if(null===a)return-1;let h=0;if(c||!l){let f=!1;for(;h<a.length;){const _=a[h];if(_===s)return h;if(3===_||6===_)f=!0;else{if(1===_||2===_){let T=a[++h];for(;"string"==typeof T;)T=a[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=f?1:2}return-1}return function h2(s,a){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const c=s[l];if("number"==typeof c)return-1;if(c===a)return l;l++}return-1}(a,s)}function V0(s,a,l=!1){for(let c=0;c<a.length;c++)if(Zf(s,a[c],l))return!0;return!1}function bb(s,a){return s?":not("+a.trim()+")":a}function f2(s){let a=s[0],l=1,c=2,h="",f=!1;for(;l<s.length;){let _=s[l];if("string"==typeof _)if(2&c){const T=s[++l];h+="["+_+(T.length>0?'="'+T+'"':"")+"]"}else 8&c?h+="."+_:4&c&&(h+=" "+_);else""!==h&&!Yi(_)&&(a+=bb(f,h),h=""),c=_,f=f||!Yi(c);l++}return""!==h&&(a+=bb(f,h)),a}const Ft={};function $0(s){Nf(Ht(),Se(),mr()+s,!1)}function Nf(s,a,l,c){if(!c)if(3==(3&a[2])){const f=s.preOrderCheckHooks;null!==f&&Ac(a,f,l)}else{const f=s.preOrderHooks;null!==f&&ns(a,f,0,l)}Di(l)}function Eh(s,a=null,l=null,c){const h=Kc(s,a,l,c);return h.resolveInjectorInitializers(),h}function Kc(s,a=null,l=null,c,h=new Set){const f=[l||at,_f(s)];return c=c||("object"==typeof s?void 0:de(s)),new qm(f,a||gh(),c||null,h)}let Ml=(()=>{class s{static create(l,c){var h;if(Array.isArray(l))return Eh({name:""},c,l,"");{const f=null!==(h=l.name)&&void 0!==h?h:"";return Eh({name:f},l.parent,l.providers,f)}}}return s.THROW_IF_NOT_FOUND=ki,s.NULL=new Tl,s.\u0275prov=rn({token:s,providedIn:"any",factory:()=>fn(gf)}),s.__NG_ELEMENT_ID__=-1,s})();function Xc(s,a=st.Default){const l=Se();return null===l?fn(s,a):fu(Fn(),l,X(s),a)}function Sh(){throw new Error("invalid")}function xh(s,a){return s<<17|a<<2}function Xi(s){return s>>17&32767}function Ol(s){return 2|s}function Xs(s){return(131068&s)>>2}function w_(s,a){return-131069&s|a<<2}function b_(s){return 1|s}function l1(s,a){const l=s.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const h=l[c],f=l[c+1];if(-1!==f){const _=s.data[f];Po(h),_.contentQueries(2,a[f],f)}}}function Ff(s,a,l,c,h,f,_,T,b,E,x){const U=a.blueprint.slice();return U[0]=h,U[2]=76|c,(null!==x||s&&1024&s[2])&&(U[2]|=1024),Ko(U),U[3]=U[15]=s,U[8]=l,U[10]=_||s&&s[10],U[11]=T||s&&s[11],U[12]=b||s&&s[12]||null,U[9]=E||s&&s[9]||null,U[6]=f,U[20]=function Dl(){return ub++}(),U[21]=x,U[16]=2==a.type?s[16]:U,U}function Rl(s,a,l,c,h){let f=s.data[a];if(null===f)f=function d1(s,a,l,c,h){const f=Ca(),_=ts(),b=s.data[a]=function eA(s,a,l,c,h,f){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,l,a,c,h);return null===s.firstChild&&(s.firstChild=b),null!==f&&(_?null==f.child&&null!==b.parent&&(f.child=b):null===f.next&&(f.next=b)),b}(s,a,l,c,h),function ou(){return ht.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=l,f.value=c,f.attrs=h;const _=function es(){const s=ht.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return ci(f,!0),f}function Mh(s,a,l,c){if(0===l)return-1;const h=a.length;for(let f=0;f<l;f++)a.push(c),s.blueprint.push(c),s.data.push(null);return h}function Ph(s,a,l){ol(a);try{const c=s.viewQuery;null!==c&&$f(1,c,l);const h=s.template;null!==h&&ta(s,a,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&l1(s,a),s.staticViewQueries&&$f(2,s.viewQuery,l);const f=s.components;null!==f&&function c1(s,a){for(let l=0;l<a.length;l++)hA(s,a[l])}(a,f)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{a[2]&=-5,qs()}}function ed(s,a,l,c){const h=a[2];if(128!=(128&h)){ol(a);try{Ko(a),function Us(s){return ht.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&ta(s,a,l,2,c);const _=3==(3&h);if(_){const E=s.preOrderCheckHooks;null!==E&&Ac(a,E,null)}else{const E=s.preOrderHooks;null!==E&&ns(a,E,0,null),al(a,0)}if(function $a(s){for(let a=n_(s);null!==a;a=Ch(a)){if(!a[2])continue;const l=a[9];for(let c=0;c<l.length;c++){const h=l[c],f=h[3];0==(512&h[2])&&nl(f,1),h[2]|=512}}}(a),function Vf(s){for(let a=n_(s);null!==a;a=Ch(a))for(let l=10;l<a.length;l++){const c=a[l],h=c[1];kr(c)&&ed(h,c,h.template,c[8])}}(a),null!==s.contentQueries&&l1(s,a),_){const E=s.contentCheckHooks;null!==E&&Ac(a,E)}else{const E=s.contentHooks;null!==E&&ns(a,E,1),al(a,1)}!function $o(s,a){const l=s.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const h=l[c];if(h<0)Di(~h);else{const f=h,_=l[++c],T=l[++c];Os(_,f),T(2,a[f])}}}finally{Di(-1)}}(s,a);const T=s.components;null!==T&&function Wb(s,a){for(let l=0;l<a.length;l++)x2(s,a[l])}(a,T);const b=s.viewQuery;if(null!==b&&$f(2,b,c),_){const E=s.viewCheckHooks;null!==E&&Ac(a,E)}else{const E=s.viewHooks;null!==E&&ns(a,E,2),al(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,nl(a[3],-1))}finally{qs()}}}function zb(s,a,l,c){const h=a[10],_=ks(a);try{!_&&h.begin&&h.begin(),_&&Ph(s,a,c),ed(s,a,l,c)}finally{!_&&h.end&&h.end()}}function ta(s,a,l,c,h){const f=mr(),_=2&c;try{Di(-1),_&&a.length>22&&Nf(s,a,22,!1),l(c,h)}finally{Di(f)}}function Qb(s,a,l){if(Ju(a)){const h=a.directiveEnd;for(let f=a.directiveStart;f<h;f++){const _=s.data[f];_.contentQueries&&_.contentQueries(1,l[f],f)}}}function Uh(s,a,l){!Zo()||(function L_(s,a,l,c){const h=l.directiveStart,f=l.directiveEnd;s.firstCreatePass||Uo(l,a),gi(c,a);const _=l.initialInputs;for(let T=h;T<f;T++){const b=s.data[T],E=Li(b);E&&na(a,l,b);const x=Da(a,s,T,l);gi(x,a),null!==_&&cA(0,T-h,x,b,0,_),E&&(xr(l.index,a)[8]=x)}}(s,a,l,Zn(l,a)),128==(128&l.flags)&&function sA(s,a,l){const c=l.directiveStart,h=l.directiveEnd,f=l.index,_=function jd(){return ht.lFrame.currentDirectiveIndex}();try{Di(f);for(let T=c;T<h;T++){const b=s.data[T],E=a[T];Rs(T),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&g1(b,E)}}finally{Di(-1),Rs(_)}}(s,a,l))}function qf(s,a,l=Zn){const c=a.localNames;if(null!==c){let h=a.index+1;for(let f=0;f<c.length;f+=2){const _=c[f+1],T=-1===_?l(a,s):s[_];s[h++]=T}}}function M_(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=P_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function P_(s,a,l,c,h,f,_,T,b,E){const x=22+c,U=x+h,W=function Kb(s,a){const l=[];for(let c=0;c<a;c++)l.push(c<s?null:Ft);return l}(x,U),ne="function"==typeof E?E():E;return W[1]={type:s,blueprint:W,template:l,queries:null,viewQuery:T,declTNode:a,data:W.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:ne,incompleteFirstPass:!1}}function h1(s,a,l,c){const h=$_(a);null===l?h.push(c):(h.push(l),s.firstCreatePass&&Lh(s).push(c,h.length-1))}function p1(s,a,l){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(a,h):l[c]=[a,h]}return l}function U_(s,a){const c=a.directiveEnd,h=s.data,f=a.attrs,_=[];let T=null,b=null;for(let E=a.directiveStart;E<c;E++){const x=h[E],U=x.inputs,W=null===f||q0(a)?null:dA(U,f);_.push(W),T=p1(U,E,T),b=p1(x.outputs,E,b)}null!==T&&(T.hasOwnProperty("class")&&(a.flags|=16),T.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=_,a.inputs=T,a.outputs=b}function f1(s,a){const l=xr(a,s);16&l[2]||(l[2]|=32)}function O_(s,a,l,c){let h=!1;if(Zo()){const f=function aA(s,a,l){const c=s.directiveRegistry;let h=null;if(c)for(let f=0;f<c.length;f++){const _=c[f];V0(l,_.selectors,!1)&&(h||(h=[]),ss(Uo(l,a),s,_.type),Li(_)?(uA(s,l),h.unshift(_)):h.push(_))}return h}(s,a,l),_=null===c?null:{"":-1};if(null!==f){h=!0,F_(l,s.data.length,f.length);for(let x=0;x<f.length;x++){const U=f[x];U.providersResolver&&U.providersResolver(U)}let T=!1,b=!1,E=Mh(s,a,f.length,null);for(let x=0;x<f.length;x++){const U=f[x];l.mergedAttrs=hu(l.mergedAttrs,U.hostAttrs),q_(s,l,a,E,U),Oh(E,U,_),null!==U.contentQueries&&(l.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(l.flags|=128);const W=U.type.prototype;!T&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),T=!0),!b&&(W.ngOnChanges||W.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),b=!0),E++}U_(s,l)}_&&function lA(s,a,l){if(a){const c=s.localNames=[];for(let h=0;h<a.length;h+=2){const f=l[a[h+1]];if(null==f)throw new Ae(-301,!1);c.push(a[h],f)}}}(l,c,_)}return l.mergedAttrs=hu(l.mergedAttrs,l.attrs),h}function R_(s,a,l,c,h,f){const _=f.hostBindings;if(_){let T=s.hostBindingOpCodes;null===T&&(T=s.hostBindingOpCodes=[]);const b=~a.index;(function oA(s){let a=s.length;for(;a>0;){const l=s[--a];if("number"==typeof l&&l<0)return l}return 0})(T)!=b&&T.push(b),T.push(c,h,_)}}function g1(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function uA(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function Oh(s,a,l){if(l){if(a.exportAs)for(let c=0;c<a.exportAs.length;c++)l[a.exportAs[c]]=s;Li(a)&&(l[""]=s)}}function F_(s,a,l){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+l,s.providerIndexes=a}function q_(s,a,l,c,h){s.data[c]=h;const f=h.factory||(h.factory=Ii(h.type)),_=new rs(f,Li(h),Xc);s.blueprint[c]=_,l[c]=_,R_(s,a,0,c,Mh(s,l,h.hostVars,Ft),h)}function na(s,a,l){const c=Zn(a,s),h=M_(l),f=s[10],_=Rh(s,Ff(s,h,null,l.onPush?32:16,c,a,f,f.createRenderer(c,l),null,null,null));s[a.index]=_}function ja(s,a,l,c,h,f){const _=Zn(s,a);!function V_(s,a,l,c,h,f,_){if(null==f)s.removeAttribute(a,h,l);else{const T=null==_?Te(f):_(f,c||"",h);s.setAttribute(a,h,T,l)}}(a[11],_,f,s.value,l,c,h)}function cA(s,a,l,c,h,f){const _=f[a];if(null!==_){const T=c.setInput;for(let b=0;b<_.length;){const E=_[b++],x=_[b++],U=_[b++];null!==T?c.setInput(l,U,E,x):l[x]=U}}}function dA(s,a){let l=null,c=0;for(;c<a.length;){const h=a[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],a[c+1])),c+=2}else c+=2;else c+=4}return l}function B_(s,a,l,c){return new Array(s,!0,!1,a,null,0,c,l,null,null)}function x2(s,a){const l=xr(a,s);if(kr(l)){const c=l[1];48&l[2]?ed(c,l,c.template,l[8]):l[5]>0&&j_(l)}}function j_(s){for(let c=n_(s);null!==c;c=Ch(c))for(let h=10;h<c.length;h++){const f=c[h];if(512&f[2]){const _=f[1];ed(_,f,_.template,f[8])}else f[5]>0&&j_(f)}const l=s[1].components;if(null!==l)for(let c=0;c<l.length;c++){const h=xr(l[c],s);kr(h)&&h[5]>0&&j_(h)}}function hA(s,a){const l=xr(a,s),c=l[1];(function m1(s,a){for(let l=a.length;l<s.blueprint.length;l++)a.push(s.blueprint[l])})(c,l),Ph(c,l,l[8])}function Rh(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function Bf(s){for(;s;){s[2]|=32;const a=vh(s);if(Xn(s)&&!a)return s;s=a}return null}function jf(s){!function Ll(s){for(let a=0;a<s.components.length;a++){const l=s.components[a],c=Gc(l);if(null!==c){const h=c[1];zb(h,c,h.template,l)}}}(s[8])}function $f(s,a,l){Po(0),a(s,l)}const Ha=(()=>Promise.resolve(null))();function $_(s){return s[7]||(s[7]=[])}function Lh(s){return s.cleanup||(s.cleanup=[])}function fA(s,a){const l=s[9],c=l?l.get($c,null):null;c&&c.handleError(a)}function C1(s,a,l,c,h){for(let f=0;f<l.length;){const _=l[f++],T=l[f++],b=a[_],E=s.data[_];null!==E.setInput?E.setInput(b,h,c,T):b[T]=h}}function xu(s,a,l){const c=xs(a,s);!function i_(s,a,l){s.setValue(a,l)}(s[11],c,l)}function H_(s,a,l){let c=l?s.styles:null,h=l?s.classes:null,f=0;if(null!==a)for(let _=0;_<a.length;_++){const T=a[_];"number"==typeof T?f=T:1==f?h=ve(h,T):2==f&&(c=ve(c,T+": "+a[++_]+";"))}l?s.styles=c:s.stylesWithoutHost=c,l?s.classes=h:s.classesWithoutHost=h}function G_(s,a,l,c,h=!1){for(;null!==l;){const f=a[l.index];if(null!==f&&c.push(Ln(f)),qr(f))for(let T=10;T<f.length;T++){const b=f[T],E=b[1].firstChild;null!==E&&G_(b[1],b,E,c)}const _=l.type;if(8&_)G_(s,a,l.child,c);else if(32&_){const T=If(l,a);let b;for(;b=T();)c.push(b)}else if(16&_){const T=wh(a,l);if(Array.isArray(T))c.push(...T);else{const b=vh(a[16]);G_(b[1],b,T,c,!0)}}l=h?l.projectionNext:l.next}return c}class Hf{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return G_(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(qr(a)){const l=a[8],c=l?l.indexOf(this):-1;c>-1&&(s_(a,c),us(l,c))}this._attachedToViewContainer=!1}Z0(this._lView[1],this._lView)}onDestroy(a){h1(this._lView[1],this._lView,null,a)}markForCheck(){Bf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function dr(s,a,l){const c=a[10];c.begin&&c.begin();try{ed(s,a,s.template,l)}catch(h){throw fA(a,h),h}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ef(s,a){Nl(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=a}}class k2 extends Hf{constructor(a){super(a),this._view=a}detectChanges(){jf(this._view)}checkNoChanges(){}get context(){return null}}class T1 extends bu{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=q(a);return new td(l,this.ngModule)}}function gA(s){const a=[];for(let l in s)s.hasOwnProperty(l)&&a.push({propName:s[l],templateName:l});return a}class _A{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,c){const h=this.injector.get(a,_h,c);return h!==_h||l===_h?h:this.parentInjector.get(a,l,c)}}class td extends pi{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function g_(s){return s.map(f2).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return gA(this.componentDef.inputs)}get outputs(){return gA(this.componentDef.outputs)}create(a,l,c,h){let f=(h=h||this.ngModule)instanceof bl?h:null==h?void 0:h.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const _=f?new _A(a,f):a,T=_.get(Ks,null);if(null===T)throw new Ae(407,!1);const b=_.get(La,null),E=T.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",U=c?function Xb(s,a,l){return s.selectRootElement(a,l===jt.ShadowDom)}(E,c,this.componentDef.encapsulation):_s(T.createRenderer(null,this.componentDef),x,function mA(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(x)),W=this.componentDef.onPush?288:272,ne=function N2(s,a){return{components:[],scheduler:s||fb,clean:Ha,playerHandler:a||null,flags:0}}(),he=P_(0,null,null,1,0,null,null,null,null,null),Re=Ff(null,he,ne,W,null,null,T,E,b,_,null);let Be,je;ol(Re);try{const Dt=function W_(s,a,l,c,h,f){const _=l[1];l[22]=s;const b=Rl(_,22,2,"#host",null),E=b.mergedAttrs=a.hostAttrs;null!==E&&(H_(b,E,!0),null!==s&&(os(h,s,E),null!==b.classes&&Ah(h,s,b.classes),null!==b.styles&&L0(h,s,b.styles)));const x=c.createRenderer(s,a),U=Ff(l,M_(a),null,a.onPush?32:16,l[22],b,c,x,f||null,null,null);return _.firstCreatePass&&(ss(Uo(b,l),_,a.type),uA(_,b),F_(b,l.length,1)),Rh(l,U),l[22]=U}(U,this.componentDef,Re,T,E);if(U)if(c)os(E,U,["ng-version",jc.full]);else{const{attrs:Ze,classes:ct}=function Ab(s){const a=[],l=[];let c=1,h=2;for(;c<s.length;){let f=s[c];if("string"==typeof f)2===h?""!==f&&a.push(f,s[++c]):8===h&&l.push(f);else{if(!Yi(h))break;h=f}c++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);Ze&&os(E,U,Ze),ct&&ct.length>0&&Ah(E,U,ct.join(" "))}if(je=ya(he,22),void 0!==l){const Ze=je.projection=[];for(let ct=0;ct<this.ngContentSelectors.length;ct++){const Jt=l[ct];Ze.push(null!=Jt?Array.from(Jt):null)}}Be=function yA(s,a,l,c,h){const f=l[1],_=function iA(s,a,l){const c=Fn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),q_(s,c,a,Mh(s,a,1,null),l),U_(s,c));const h=Da(a,s,c.directiveStart,c);gi(h,a);const f=Zn(c,a);return f&&gi(f,a),h}(f,l,a);if(c.components.push(_),s[8]=_,null!==h)for(const b of h)b(_,a);if(a.contentQueries){const b=Fn();a.contentQueries(1,_,b.directiveStart)}const T=Fn();return!f.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Di(T.index),R_(l[1],T,0,T.directiveStart,T.directiveEnd,a),g1(a,_)),_}(Dt,this.componentDef,Re,ne,[M2]),Ph(he,Re,null)}finally{qs()}return new b1(this.componentType,Be,Ir(je,Re),Re,je)}}class b1 extends class c0{}{constructor(a,l,c,h,f){super(),this.location=c,this._rootLView=h,this._tNode=f,this.instance=l,this.hostView=this.changeDetectorRef=new k2(h),this.componentType=a}setInput(a,l){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[a])){const f=this._rootLView;C1(f[1],f,h,a,l),f1(f,this._tNode.index)}}get injector(){return new po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function M2(){const s=Fn();ba(Se()[1],s)}function I1(s){let a=function A1(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const c=[s];for(;a;){let h;if(Li(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ae(903,!1);h=a.\u0275dir}if(h){if(l){c.push(h);const _=s;_.inputs=nd(s.inputs),_.declaredInputs=nd(s.declaredInputs),_.outputs=nd(s.outputs);const T=h.hostBindings;T&&vA(s,T);const b=h.viewQuery,E=h.contentQueries;if(b&&Ga(s,b),E&&rd(s,E),fe(s.inputs,h.inputs),fe(s.declaredInputs,h.declaredInputs),fe(s.outputs,h.outputs),Li(h)&&h.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let _=0;_<f.length;_++){const T=f[_];T&&T.ngInherit&&T(s),T===I1&&(l=!1)}}a=Object.getPrototypeOf(a)}!function U2(s){let a=0,l=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=a+=h.hostVars,h.hostAttrs=hu(h.hostAttrs,l=hu(l,h.hostAttrs))}}(c)}function nd(s){return s===ar?{}:s===at?[]:s}function Ga(s,a){const l=s.viewQuery;s.viewQuery=l?(c,h)=>{a(c,h),l(c,h)}:a}function rd(s,a){const l=s.contentQueries;s.contentQueries=l?(c,h,f)=>{a(c,h,f),l(c,h,f)}:a}function vA(s,a){const l=s.hostBindings;s.hostBindings=l?(c,h)=>{a(c,h),l(c,h)}:a}let Gf=null;function Fl(){if(!Gf){const s=Qe.Symbol;if(s&&s.iterator)Gf=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const c=a[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Gf=c)}}}return Gf}function Ni(s){return!!Q_(s)&&(Array.isArray(s)||!(s instanceof Map)&&Fl()in s)}function Q_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function mi(s,a,l){return!Object.is(s[a],l)&&(s[a]=l,!0)}function ql(s,a,l,c){const h=mi(s,a,l);return mi(s,a+1,c)||h}function ku(s,a,l,c){const h=Se();return mi(h,uo(),a)&&(Ht(),ja(Vn(),h,s,a,l,c)),ku}function jh(s,a,l,c,h,f,_,T){const E=function Jf(s,a,l,c,h){const f=ql(s,a,l,c);return mi(s,a+2,h)||f}(s,Ei(),l,h,_);return Vi(3),E?a+Te(l)+c+Te(h)+f+Te(_)+T:Ft}function P1(s,a,l,c,h,f,_,T){const b=Se(),E=Ht(),x=s+22,U=E.firstCreatePass?function IA(s,a,l,c,h,f,_,T,b){const E=a.consts,x=Rl(a,s,4,_||null,Vr(E,T));O_(a,l,x,Vr(E,b)),ba(a,x);const U=x.tViews=P_(2,x,c,h,f,a.directiveRegistry,a.pipeRegistry,null,a.schemas,E);return null!==a.queries&&(a.queries.template(a,x),U.queries=a.queries.embeddedTView(x)),x}(x,E,b,a,l,c,h,f,_):E.data[x];ci(U,!1);const W=b[11].createComment("");Th(E,b,W,U),gi(W,b),Rh(b,b[x]=B_(W,b,W,U)),ga(U)&&Uh(E,b,U),null!=_&&qf(b,U,T)}function Y_(s,a,l){const c=Se();return mi(c,uo(),a)&&function Co(s,a,l,c,h,f,_,T){const b=Zn(a,l);let x,E=a.inputs;!T&&null!=E&&(x=E[c])?(C1(s,l,x,c,h),Es(a)&&f1(l,a.index)):3&a.type&&(c=function tA(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=_?_(h,a.value||"",c):h,f.setProperty(b,c,h))}(Ht(),Vn(),c,s,a,c[11],l,!1),Y_}function X_(s,a,l,c,h){const _=h?"class":"style";C1(s,l,a.inputs[_],_,c)}function Wf(s,a,l,c){const h=Se(),f=Ht(),_=22+s,T=h[11],b=h[_]=_s(T,a,function uu(){return ht.lFrame.currentNamespace}()),E=f.firstCreatePass?function SA(s,a,l,c,h,f,_){const T=a.consts,E=Rl(a,s,2,h,Vr(T,f));return O_(a,l,E,Vr(T,_)),null!==E.attrs&&H_(E,E.attrs,!1),null!==E.mergedAttrs&&H_(E,E.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,E),E}(_,f,h,0,a,l,c):f.data[_];ci(E,!0);const x=E.mergedAttrs;null!==x&&os(T,b,x);const U=E.classes;null!==U&&Ah(T,b,U);const W=E.styles;return null!==W&&L0(T,b,W),64!=(64&E.flags)&&Th(f,h,b,E),0===function Bd(){return ht.lFrame.elementDepthCount}()&&gi(b,h),function Zs(){ht.lFrame.elementDepthCount++}(),ga(E)&&(Uh(f,h,E),Qb(f,E,h)),null!==c&&qf(h,E),Wf}function zf(){let s=Fn();ts()?Ps():(s=s.parent,ci(s,!1));const a=s;!function va(){ht.lFrame.elementDepthCount--}();const l=Ht();return l.firstCreatePass&&(ba(l,s),Ju(s)&&l.queries.elementEnd(s)),null!=a.classesWithoutHost&&function du(s){return 0!=(16&s.flags)}(a)&&X_(l,a,Se(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Gp(s){return 0!=(32&s.flags)}(a)&&X_(l,a,Se(),a.stylesWithoutHost,!1),zf}function ad(s,a,l,c){return Wf(s,a,l,c),zf(),ad}function Qf(s,a,l){const c=Se(),h=Ht(),f=s+22,_=h.firstCreatePass?function xA(s,a,l,c,h){const f=a.consts,_=Vr(f,c),T=Rl(a,s,8,"ng-container",_);return null!==_&&H_(T,_,!0),O_(a,l,T,Vr(f,h)),null!==a.queries&&a.queries.elementStart(a,T),T}(f,h,c,a,l):h.data[f];ci(_,!0);const T=c[f]=c[11].createComment("");return Th(h,c,T,_),gi(T,c),ga(_)&&(Uh(h,c,_),Qb(h,_,c)),null!=l&&qf(c,_),Qf}function Kf(){let s=Fn();const a=Ht();return ts()?Ps():(s=s.parent,ci(s,!1)),a.firstCreatePass&&(ba(a,s),Ju(s)&&a.queries.elementEnd(s)),Kf}function O1(){return Se()}function ey(s){return!!s&&"function"==typeof s.then}function R1(s){return!!s&&"function"==typeof s.subscribe}const L1=R1;function ty(s,a,l,c){const h=Se(),f=Ht(),_=Fn();return function Ja(s,a,l,c,h,f,_,T){const b=ga(c),x=s.firstCreatePass&&Lh(s),U=a[8],W=$_(a);let ne=!0;if(3&c.type||T){const Be=Zn(c,a),je=T?T(Be):Be,Dt=W.length,Ze=T?Jt=>T(Ln(Jt[c.index])):c.index;let ct=null;if(!T&&b&&(ct=function F1(s,a,l,c){const h=s.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const _=h[f];if(_===l&&h[f+1]===c){const T=a[7],b=h[f+2];return T.length>b?T[b]:null}"string"==typeof _&&(f+=2)}return null}(s,a,h,c.index)),null!==ct)(ct.__ngLastListenerFn__||ct).__ngNextListenerFn__=f,ct.__ngLastListenerFn__=f,ne=!1;else{f=V1(c,a,U,f,!1);const Jt=l.listen(je,h,f);W.push(f,Jt),x&&x.push(h,Ze,Dt,Dt+1)}}else f=V1(c,a,U,f,!1);const he=c.outputs;let Re;if(ne&&null!==he&&(Re=he[h])){const Be=Re.length;if(Be)for(let je=0;je<Be;je+=2){const qt=a[Re[je]][Re[je+1]].subscribe(f),ec=W.length;W.push(f,qt),x&&x.push(h,c.index,ec,-(ec+1))}}}(f,h,h[11],_,s,a,0,c),ty}function q1(s,a,l,c){try{return!1!==l(c)}catch(h){return fA(s,h),!1}}function V1(s,a,l,c,h){return function f(_){if(_===Function)return c;Bf(2&s.flags?xr(s.index,a):a);let b=q1(a,0,c,_),E=f.__ngNextListenerFn__;for(;E;)b=q1(a,0,E,_)&&b,E=E.__ngNextListenerFn__;return h&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function B1(s=1){return function au(s){return(ht.lFrame.contextLView=function wa(s,a){for(;s>0;)a=a[15],s--;return a}(s,ht.lFrame.contextLView))[8]}(s)}function Q1(s,a,l,c,h){const f=s[l+1],_=null===a;let T=c?Xi(f):Xs(f),b=!1;for(;0!==T&&(!1===b||_);){const x=s[T+1];UA(s[T],a)&&(b=!0,s[T+1]=c?b_(x):Ol(x)),T=c?Xi(x):Xs(x)}b&&(s[l+1]=c?Ol(f):b_(f))}function UA(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&fo(s,a)>=0}function oy(s,a){return function eo(s,a,l,c){const h=Se(),f=Ht(),_=Vi(2);f.firstUpdatePass&&function oC(s,a,l,c){const h=s.data;if(null===h[l+1]){const f=h[mr()],_=function iC(s,a){return a>=s.expandoStartIndex}(s,l);(function lC(s,a){return 0!=(s.flags&(a?16:32))})(f,c)&&null===a&&!_&&(a=!1),a=function $A(s,a,l,c){const h=function Ls(s){const a=ht.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let f=c?a.residualClasses:a.residualStyles;if(null===h)0===(c?a.classBindings:a.styleBindings)&&(l=$h(l=sy(null,s,a,l,c),a.attrs,c),f=null);else{const _=a.directiveStylingLast;if(-1===_||s[_]!==h)if(l=sy(h,s,a,l,c),null===f){let b=function HA(s,a,l){const c=l?a.classBindings:a.styleBindings;if(0!==Xs(c))return s[Xi(c)]}(s,a,c);void 0!==b&&Array.isArray(b)&&(b=sy(null,s,a,b[1],c),b=$h(b,a.attrs,c),function GA(s,a,l,c){s[Xi(l?a.classBindings:a.styleBindings)]=c}(s,a,c,b))}else f=function JA(s,a,l){let c;const h=a.directiveEnd;for(let f=1+a.directiveStylingLast;f<h;f++)c=$h(c,s[f].hostAttrs,l);return $h(c,a.attrs,l)}(s,a,c)}return void 0!==f&&(c?a.residualClasses=f:a.residualStyles=f),l}(h,f,a,c),function MA(s,a,l,c,h,f){let _=f?a.classBindings:a.styleBindings,T=Xi(_),b=Xs(_);s[c]=l;let x,E=!1;if(Array.isArray(l)){const U=l;x=U[1],(null===x||fo(U,x)>0)&&(E=!0)}else x=l;if(h)if(0!==b){const W=Xi(s[T+1]);s[c+1]=xh(W,T),0!==W&&(s[W+1]=w_(s[W+1],c)),s[T+1]=function K0(s,a){return 131071&s|a<<17}(s[T+1],c)}else s[c+1]=xh(T,0),0!==T&&(s[T+1]=w_(s[T+1],c)),T=c;else s[c+1]=xh(b,0),0===T?T=c:s[b+1]=w_(s[b+1],c),b=c;E&&(s[c+1]=Ol(s[c+1])),Q1(s,x,c,!0),Q1(s,x,c,!1),function PA(s,a,l,c,h){const f=h?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof a&&fo(f,a)>=0&&(l[c+1]=b_(l[c+1]))}(a,x,s,c,f),_=xh(T,b),f?a.classBindings=_:a.styleBindings=_}(h,f,a,l,_,c)}}(f,s,_,c),a!==Ft&&mi(h,_,a)&&function aC(s,a,l,c,h,f,_,T){if(!(3&a.type))return;const b=s.data,E=b[T+1];Yf(function Y0(s){return 1==(1&s)}(E)?uC(b,a,l,h,Xs(E),_):void 0)||(Yf(f)||function kh(s){return 2==(2&s)}(E)&&(f=uC(b,null,l,h,T,_)),function Cb(s,a,l,c,h){if(a)h?s.addClass(l,c):s.removeClass(l,c);else{let f=-1===c.indexOf("-")?void 0:Ki.DashCase;null==h?s.removeStyle(l,c,f):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),f|=Ki.Important),s.setStyle(l,c,h,f))}}(c,_,xs(mr(),l),h,f))}(f,f.data[mr()],h,h[11],s,h[_+1]=function QA(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=de(Mn(s)))),s}(a,l),c,_)}(s,a,null,!0),oy}function sy(s,a,l,c,h){let f=null;const _=l.directiveEnd;let T=l.directiveStylingLast;for(-1===T?T=l.directiveStart:T++;T<_&&(f=a[T],c=$h(c,f.hostAttrs,h),f!==s);)T++;return null!==s&&(l.directiveStylingLast=T),c}function $h(s,a,l){const c=l?1:2;let h=-1;if(null!==a)for(let f=0;f<a.length;f++){const _=a[f];"number"==typeof _?h=_:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),jr(s,_,!!l||a[++f]))}return void 0===s?null:s}function uC(s,a,l,c,h,f){const _=null===a;let T;for(;h>0;){const b=s[h],E=Array.isArray(b),x=E?b[1]:b,U=null===x;let W=l[h+1];W===Ft&&(W=U?at:void 0);let ne=U?Zc(W,c):x===c?W:void 0;if(E&&!Yf(ne)&&(ne=Zc(b,c)),Yf(ne)&&(T=ne,_))return T;const he=s[h+1];h=_?Xi(he):Xs(he)}if(null!==a){let b=f?a.residualClasses:a.residualStyles;null!=b&&(T=Zc(b,c))}return T}function Yf(s){return void 0!==s}function cC(s,a=""){const l=Se(),c=Ht(),h=s+22,f=c.firstCreatePass?Rl(c,h,1,a,null):c.data[h],_=l[h]=function r_(s,a){return s.createText(a)}(l[11],a);Th(c,l,_,f),ci(f,!1)}function ay(s){return Xf("",s,""),ay}function Xf(s,a,l){const c=Se(),h=function Vh(s,a,l,c){return mi(s,uo(),l)?a+Te(l)+c:Ft}(c,s,a,l);return h!==Ft&&xu(c,mr(),h),Xf}function uy(s,a,l,c,h){const f=Se(),_=function Bh(s,a,l,c,h,f){const T=ql(s,Ei(),l,h);return Vi(2),T?a+Te(l)+c+Te(h)+f:Ft}(f,s,a,l,c,h);return _!==Ft&&xu(f,mr(),_),uy}function ly(s,a,l,c,h,f,_){const T=Se(),b=jh(T,s,a,l,c,h,f,_);return b!==Ft&&xu(T,mr(),b),ly}const $l=void 0;var hI=["en",[["a","p"],["AM","PM"],$l],[["AM","PM"],$l,$l],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$l,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$l,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$l,"{1} 'at' {0}",$l],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dI(s){const l=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let Hl={};function py(s){const a=function pI(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=SC(a);if(l)return l;const c=a.split("-")[0];if(l=SC(c),l)return l;if("en"===c)return hI;throw new Ae(701,!1)}function DC(s){return py(s)[Et.PluralCase]}function SC(s){return s in Hl||(Hl[s]=Qe.ng&&Qe.ng.common&&Qe.ng.common.locales&&Qe.ng.common.locales[s]),Hl[s]}var Et=(()=>((Et=Et||{})[Et.LocaleId=0]="LocaleId",Et[Et.DayPeriodsFormat=1]="DayPeriodsFormat",Et[Et.DayPeriodsStandalone=2]="DayPeriodsStandalone",Et[Et.DaysFormat=3]="DaysFormat",Et[Et.DaysStandalone=4]="DaysStandalone",Et[Et.MonthsFormat=5]="MonthsFormat",Et[Et.MonthsStandalone=6]="MonthsStandalone",Et[Et.Eras=7]="Eras",Et[Et.FirstDayOfWeek=8]="FirstDayOfWeek",Et[Et.WeekendRange=9]="WeekendRange",Et[Et.DateFormat=10]="DateFormat",Et[Et.TimeFormat=11]="TimeFormat",Et[Et.DateTimeFormat=12]="DateTimeFormat",Et[Et.NumberSymbols=13]="NumberSymbols",Et[Et.NumberFormats=14]="NumberFormats",Et[Et.CurrencyCode=15]="CurrencyCode",Et[Et.CurrencySymbol=16]="CurrencySymbol",Et[Et.CurrencyName=17]="CurrencyName",Et[Et.Currencies=18]="Currencies",Et[Et.Directionality=19]="Directionality",Et[Et.PluralCase=20]="PluralCase",Et[Et.ExtraData=21]="ExtraData",Et))();const ld="en-US";let cd=ld;function zC(s,a,l,c,h){if(s=X(s),Array.isArray(s))for(let f=0;f<s.length;f++)zC(s[f],a,l,c,h);else{const f=Ht(),_=Se();let T=Lc(s)?s:X(s.provide),b=Bm(s);const E=Fn(),x=1048575&E.providerIndexes,U=E.directiveStart,W=E.providerIndexes>>20;if(Lc(s)||!s.multi){const ne=new rs(b,h,Xc),he=yy(T,a,h?x:x+W,U);-1===he?(ss(Uo(E,_),f,T),_y(f,s,a.length),a.push(T),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),l.push(ne),_.push(ne)):(l[he]=ne,_[he]=ne)}else{const ne=yy(T,a,x+W,U),he=yy(T,a,x,x+W),Re=ne>=0&&l[ne],Be=he>=0&&l[he];if(h&&!Be||!h&&!Re){ss(Uo(E,_),f,T);const je=function Lt(s,a,l,c,h){const f=new rs(s,l,Xc);return f.multi=[],f.index=a,f.componentProviders=0,Ie(f,h,c&&!l),f}(h?pt:za,l.length,h,c,b);!h&&Be&&(l[he].providerFactory=je),_y(f,s,a.length,0),a.push(T),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),l.push(je),_.push(je)}else _y(f,s,ne>-1?ne:he,Ie(l[h?he:ne],b,!h&&c));!h&&c&&Be&&l[he].componentProviders++}}}function _y(s,a,l,c){const h=Lc(a),f=function wt(s){return!!s.useClass}(a);if(h||f){const b=(f?X(a.useClass):a).prototype.ngOnDestroy;if(b){const E=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const x=E.indexOf(l);-1===x?E.push(l,[c,b]):E[x+1].push(c,b)}else E.push(l,b)}}}function Ie(s,a,l){return l&&s.componentProviders++,s.multi.push(a)-1}function yy(s,a,l,c){for(let h=l;h<c;h++)if(a[h]===s)return h;return-1}function za(s,a,l,c){return Wh(this.multi,[])}function pt(s,a,l,c){const h=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,T=Da(l,l[1],this.providerFactory.index,c);f=T.slice(0,_),Wh(h,f);for(let b=_;b<T.length;b++)f.push(T[b])}else f=[],Wh(h,f);return f}function Wh(s,a){for(let l=0;l<s.length;l++)a.push((0,s[l])());return a}function zh(s,a=[]){return l=>{l.providersResolver=(c,h)=>function Ts(s,a,l){const c=Ht();if(c.firstCreatePass){const h=Li(s);zC(l,c.data,c.blueprint,h,!0),zC(a,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,a)}}class Uu{}class hd{}function rE(s,a){return new KC(s,null!=a?a:null)}class KC extends Uu{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new T1(this);const c=Ve(a);this._bootstrapComponents=Zi(c.bootstrap),this._r3Injector=Kc(a,l,[{provide:Uu,useValue:this},{provide:bu,useValue:this.componentFactoryResolver}],de(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class vy extends hd{constructor(a){super(),this.moduleType=a}create(a){return new KC(this.moduleType,a)}}class iE extends Uu{constructor(a,l,c){super(),this.componentFactoryResolver=new T1(this),this.instance=null;const h=new qm([...a,{provide:Uu,useValue:this},{provide:bu,useValue:this.componentFactoryResolver}],l||gh(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Pr(s,a,l=null){return new iE(s,a,l).injector}function lg(s,a,l,c){return cg(Se(),er(),s,a,l,c)}function cg(s,a,l,c,h,f){const _=a+l;return mi(s,_,h)?function ys(s,a,l){return s[a]=l}(s,_+1,f?c.call(f,h):c(h)):function Ou(s,a){const l=s[a];return l===Ft?void 0:l}(s,_+1)}function pg(s,a){const l=Ht();let c;const h=s+22;l.firstCreatePass?(c=function dT(s,a){if(a)for(let l=a.length-1;l>=0;l--){const c=a[l];if(s===c.name)return c}}(a,l.pipeRegistry),l.data[h]=c,c.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,c.onDestroy)):c=l.data[h];const f=c.factory||(c.factory=Ii(c.type)),_=zt(Xc);try{const T=Ic(!1),b=f();return Ic(T),function EA(s,a,l,c){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),a[l]=c}(l,Se(),h,b),b}finally{zt(_)}}function hT(s,a,l){const c=s+22,h=Se(),f=function Fi(s,a){return s[a]}(h,c);return function Yh(s,a){return s[1].data[a].pure}(h,c)?cg(h,er(),a,f.transform,l,f):f.transform(l)}function fd(s){return a=>{setTimeout(s,void 0,a)}}const To=class dE extends e.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,c){var h,f,_;let T=a,b=l||(()=>null),E=c;if(a&&"object"==typeof a){const U=a;T=null===(h=U.next)||void 0===h?void 0:h.bind(U),b=null===(f=U.error)||void 0===f?void 0:f.bind(U),E=null===(_=U.complete)||void 0===_?void 0:_.bind(U)}this.__isAsync&&(b=fd(b),T&&(T=fd(T)),E&&(E=fd(E)));const x=super.subscribe({next:T,error:b,complete:E});return a instanceof L.w0&&a.add(x),x}};function Iy(){return this._results[Fl()]()}class Xh{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Fl(),c=Xh.prototype;c[l]||(c[l]=Iy)}get changes(){return this._changes||(this._changes=new To)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const c=this;c.dirty=!1;const h=wr(a);(this._changesDetected=!function vu(s,a,l){if(s.length!==a.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],f=a[c];if(l&&(h=l(h),f=l(f)),f!==h)return!1}return!0}(c._results,h,l))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Gl=(()=>{class s{}return s.__NG_ELEMENT_ID__=fT,s})();const Ey=Gl,pT=class extends Ey{constructor(a,l,c){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(a,l){const c=this._declarationTContainer.tViews,h=Ff(this._declarationLView,c,a,16,null,c.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(c)),Ph(c,h,a),new Hf(h)}};function fT(){return fg(Fn(),Se())}function fg(s,a){return 4&s.type?new pT(a,s,Ir(s,a)):null}let ep=(()=>{class s{}return s.__NG_ELEMENT_ID__=gT,s})();function gT(){return gg(Fn(),Se())}const Dy=ep,Sy=class extends Dy{constructor(a,l,c){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=c}get element(){return Ir(this._hostTNode,this._hostLView)}get injector(){return new po(this._hostTNode,this._hostLView)}get parentInjector(){const a=pu(this._hostTNode,this._hostLView);if(Jd(a)){const l=Ia(a,this._hostLView),c=Aa(a);return new po(l[1].data[c+8],l)}return new po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=mT(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,c){let h,f;"number"==typeof c?h=c:null!=c&&(h=c.index,f=c.injector);const _=a.createEmbeddedView(l||{},f);return this.insert(_,h),_}createComponent(a,l,c,h,f){const _=a&&!function Bs(s){return"function"==typeof s}(a);let T;if(_)T=l;else{const U=l||{};T=U.index,c=U.injector,h=U.projectableNodes,f=U.environmentInjector||U.ngModuleRef}const b=_?a:new td(q(a)),E=c||this.parentInjector;if(!f&&null==b.ngModule){const W=(_?E:this.parentInjector).get(bl,null);W&&(f=W)}const x=b.create(E,h,void 0,f);return this.insert(x.hostView,T),x}insert(a,l){const c=a._lView,h=c[1];if(function qi(s){return qr(s[3])}(c)){const x=this.indexOf(a);if(-1!==x)this.detach(x);else{const U=c[3],W=new Sy(U,U[6],U[3]);W.detach(W.indexOf(a))}}const f=this._adjustIndex(l),_=this._lContainer;!function mb(s,a,l,c){const h=10+c,f=l.length;c>0&&(l[h-1][4]=a),c<f-10?(a[4]=l[h],hl(l,10+c,a)):(l.push(a),a[4]=null),a[3]=l;const _=a[17];null!==_&&l!==_&&function _b(s,a){const l=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===l?s[9]=[a]:l.push(a)}(_,a);const T=a[19];null!==T&&T.insertView(s),a[2]|=64}(h,c,_,f);const T=Sf(f,_),b=c[11],E=Qc(b,_[7]);return null!==E&&function Su(s,a,l,c,h,f){c[0]=h,c[6]=a,Nl(s,c,l,1,h,f)}(h,_[6],b,c,E,T),a.attachToViewContainerRef(),hl(tp(_),f,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=mT(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),c=s_(this._lContainer,l);c&&(us(tp(this._lContainer),l),Z0(c[1],c))}detach(a){const l=this._adjustIndex(a,-1),c=s_(this._lContainer,l);return c&&null!=us(tp(this._lContainer),l)?new Hf(c):null}_adjustIndex(a,l=0){return null==a?this.length+l:a}};function mT(s){return s[8]}function tp(s){return s[8]||(s[8]=[])}function gg(s,a){let l;const c=a[s.index];if(qr(c))l=c;else{let h;if(8&s.type)h=Ln(c);else{const f=a[11];h=f.createComment("");const _=Zn(s,a);kl(f,Qc(f,_),h,function Va(s,a){return s.nextSibling(a)}(f,_),!1)}a[s.index]=l=B_(c,a,h,s),Rh(a,l)}return new Sy(l,s,a)}class gd{constructor(a){this.queryList=a,this.matches=null}clone(){return new gd(this.queryList)}setDirty(){this.queryList.setDirty()}}class np{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const c=null!==a.contentQueries?a.contentQueries[0]:l.length,h=[];for(let f=0;f<c;f++){const _=l.getByIndex(f);h.push(this.queries[_.indexInDeclarationView].clone())}return new np(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==Oy(a,l).matches&&this.queries[l].setDirty()}}class _T{constructor(a,l,c=null){this.predicate=a,this.flags=l,this.read=c}}class ky{constructor(a=[]){this.queries=a}elementStart(a,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let c=0;c<this.length;c++){const h=null!==l?l.length:0,f=this.getByIndex(c).embeddedTView(a,h);f&&(f.indexInDeclarationView=c,null!==l?l.push(f):l=[f])}return null!==l?new ky(l):null}template(a,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class mg{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new mg(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=a.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const f=c[h];this.matchTNodeWithReadOption(a,l,hE(l,f)),this.matchTNodeWithReadOption(a,l,Ro(l,a,f,!1,!1))}else c===Gl?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Ro(l,a,c,!1,!1))}matchTNodeWithReadOption(a,l,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Au||h===ep||h===Gl&&4&l.type)this.addMatch(l.index,-2);else{const f=Ro(l,a,h,!1,!1);null!==f&&this.addMatch(l.index,f)}else this.addMatch(l.index,c)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function hE(s,a){const l=s.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===a)return l[c+1];return null}function Zy(s,a,l,c){return-1===l?function pE(s,a){return 11&s.type?Ir(s,a):4&s.type?fg(s,a):null}(a,s):-2===l?function Ny(s,a,l){return l===Au?Ir(a,s):l===Gl?fg(a,s):l===ep?gg(a,s):void 0}(s,a,c):Da(s,s[1],l,a)}function yT(s,a,l,c){const h=a[19].queries[c];if(null===h.matches){const f=s.data,_=l.matches,T=[];for(let b=0;b<_.length;b+=2){const E=_[b];T.push(E<0?null:Zy(a,f[E],_[b+1],l.metadata.read))}h.matches=T}return h.matches}function rp(s,a,l,c){const h=s.queries.getByIndex(l),f=h.matches;if(null!==f){const _=yT(s,a,h,l);for(let T=0;T<f.length;T+=2){const b=f[T];if(b>0)c.push(_[T/2]);else{const E=f[T+1],x=a[-b];for(let U=10;U<x.length;U++){const W=x[U];W[17]===W[3]&&rp(W[1],W,E,c)}if(null!==x[9]){const U=x[9];for(let W=0;W<U.length;W++){const ne=U[W];rp(ne[1],ne,E,c)}}}}}return c}function My(s){const a=Se(),l=Ht(),c=su();Po(c+1);const h=Oy(l,c);if(s.dirty&&ks(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const f=h.crossesNgTemplate?rp(l,a,c,[]):yT(l,a,h,c);s.reset(f,d0),s.notifyOnChanges()}return!0}return!1}function vT(s,a,l){const c=Ht();c.firstCreatePass&&(CT(c,new _T(s,a,l),-1),2==(2&a)&&(c.staticViewQueries=!0)),Uy(c,Se(),a)}function ip(s,a,l,c){const h=Ht();if(h.firstCreatePass){const f=Fn();CT(h,new _T(a,l,c),f.index),function op(s,a){const l=s.contentQueries||(s.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,a)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}Uy(h,Se(),l)}function _g(){return function Py(s,a){return s[19].queries[a].queryList}(Se(),su())}function Uy(s,a,l){const c=new Xh(4==(4&l));h1(s,a,c,c.destroy),null===a[19]&&(a[19]=new np),a[19].queries.push(new gd(c))}function CT(s,a,l){null===s.queries&&(s.queries=new ky),s.queries.track(new mg(a,l))}function Oy(s,a){return s.queries.getByIndex(a)}function aa(s){const a=q(s)||V(s)||Ce(s);return null!==a&&a.standalone}function xg(...s){}const kT=new cn("Application Initializer");let kg=(()=>{class s{constructor(l){this.appInits=l,this.resolve=xg,this.reject=xg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const f=this.appInits[h]();if(ey(f))l.push(f);else if(L1(f)){const _=new Promise((T,b)=>{f.subscribe({complete:T,error:b})});l.push(_)}}Promise.all(l).then(()=>{c()}).catch(h=>{this.reject(h)}),0===l.length&&c(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(fn(kT,8))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ZT=new cn("AppId",{providedIn:"root",factory:function NT(){return`${la()}${la()}${la()}`}});function la(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wy=new cn("Platform Initializer"),MT=new cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zy=new cn("appBootstrapListener");let TE=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Ng=new cn("LocaleId",{providedIn:"root",factory:()=>Ua(Ng,st.Optional|st.SkipSelf)||function PT(){return"undefined"!=typeof $localize&&$localize.locale||ld}()}),UT=new cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class LT{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let FT=(()=>{class s{compileModuleSync(l){return new vy(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const c=this.compileModuleSync(l),f=Zi(Ve(l).declarations).reduce((_,T)=>{const b=q(T);return b&&_.push(new td(b)),_},[]);return new LT(c,f)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ky=(()=>Promise.resolve(0))();function Pg(s){"undefined"==typeof Zone?Ky.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class oi{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new To(!1),this.onMicrotaskEmpty=new To(!1),this.onStable=new To(!1),this.onError=new To(!1),"undefined"==typeof Zone)throw new Ae(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const f=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new f("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&l,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function fp(){let s=Qe.requestAnimationFrame,a=Qe.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&a){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function IE(s){const a=()=>{!function VT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Qe,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Yy(s),s.isCheckStableRunning=!0,hr(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Yy(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,h,f,_,T)=>{try{return BT(s),l.invokeTask(h,f,_,T)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&a(),jT(s)}},onInvoke:(l,c,h,f,_,T,b)=>{try{return BT(s),l.invoke(h,f,_,T,b)}finally{s.shouldCoalesceRunChangeDetection&&a(),jT(s)}},onHasTask:(l,c,h,f)=>{l.hasTask(h,f),c===h&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,Yy(s),hr(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(l,c,h,f)=>(l.handleError(h,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!oi.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(oi.isInAngularZone())throw new Ae(909,!1)}run(a,l,c){return this._inner.run(a,l,c)}runTask(a,l,c,h){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+h,a,AE,xg,xg);try{return f.runTask(_,l,c)}finally{f.cancelTask(_)}}runGuarded(a,l,c){return this._inner.runGuarded(a,l,c)}runOutsideAngular(a){return this._outer.run(a)}}const AE={};function hr(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Yy(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function BT(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function jT(s){s._nesting--,hr(s)}class $T{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new To,this.onMicrotaskEmpty=new To,this.onStable=new To,this.onError=new To}run(a,l,c){return a.apply(l,c)}runGuarded(a,l,c){return a.apply(l,c)}runOutsideAngular(a){return a()}runTask(a,l,c,h){return a.apply(l,c)}}const Xy=new cn(""),ev=new cn("");let Cd,Ug=(()=>{class s{constructor(l,c,h){this._ngZone=l,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Cd||(function Ya(s){Cd=s}(h),h.addToWindow(c)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{oi.assertNotInAngularZone(),Pg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pg(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,h){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:f,updateCb:h})}whenStable(l,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,c,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(fn(oi),fn(tv),fn(ev))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})(),tv=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){var h;return null!==(h=null==Cd?void 0:Cd.findTestabilityInTree(this,l,c))&&void 0!==h?h:null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),ca=null;const Og=new cn("AllowMultipleToken"),zl=new cn("PlatformDestroyListeners");class iv{constructor(a,l){this.name=a,this.token=l}}function sv(s,a,l=[]){const c=`Platform: ${a}`,h=new cn(c);return(f=[])=>{let _=qg();if(!_||_.injector.get(Og,!1)){const T=[...l,...f,{provide:h,useValue:!0}];s?s(T):function Rg(s){if(ca&&!ca.get(Og,!1))throw new Ae(400,!1);ca=s;const a=s.get(gp);(function ov(s){const a=s.get(Wy,null);a&&a.forEach(l=>l())})(s)}(function Fg(s=[],a){return Ml.create({name:a,providers:[{provide:jo,useValue:"platform"},{provide:zl,useValue:new Set([()=>ca=null])},...s]})}(T,c))}return function GT(s){const a=qg();if(!a)throw new Ae(401,!1);return a}()}}function qg(){var s;return null!==(s=null==ca?void 0:ca.get(gp))&&void 0!==s?s:null}let gp=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const h=function WT(s,a){let l;return l="noop"===s?new $T:("zone.js"===s?void 0:s)||new oi(a),l}(null==c?void 0:c.ngZone,function av(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),f=[{provide:oi,useValue:h}];return h.run(()=>{const _=Ml.create({providers:f,parent:this.injector,name:l.moduleType.name}),T=l.create(_),b=T.injector.get($c,null);if(!b)throw new Ae(402,!1);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:x=>{b.handleError(x)}});T.onDestroy(()=>{_p(this._modules,T),E.unsubscribe()})}),function qu(s,a,l){try{const c=l();return ey(c)?c.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw a.runOutsideAngular(()=>s.handleError(c)),c}}(b,h,()=>{const E=T.injector.get(kg);return E.runInitializers(),E.donePromise.then(()=>(function xC(s){$t(s,"Expected localeId to be defined"),"string"==typeof s&&(cd=s.toLowerCase().replace(/_/g,"-"))}(T.injector.get(Ng,ld)||ld),this._moduleDoBootstrap(T),T))})})}bootstrapModule(l,c=[]){const h=uv({},c);return function nv(s,a,l){const c=new vy(l);return Promise.resolve(c)}(0,0,l).then(f=>this.bootstrapModuleFactory(f,h))}_moduleDoBootstrap(l){const c=l.injector.get(mp);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Ae(403,!1);l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const l=this._injector.get(zl,null);l&&(l.forEach(c=>c()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(fn(Ml))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function uv(s,a){return Array.isArray(a)?a.reduce(uv,s):Object.assign(Object.assign({},s),a)}let mp=(()=>{class s{constructor(l,c,h){this._zone=l,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new M.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),_=new M.y(T=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{oi.assertNotInAngularZone(),Pg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const E=this._zone.onUnstable.subscribe(()=>{oi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{b.unsubscribe(),E.unsubscribe()}});this.isStable=(0,re.T)(f,_.pipe((0,ue.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,c){const h=l instanceof pi;if(!this._injector.get(kg).done)throw!h&&aa(l),new Ae(405,false);let _;_=h?l:this._injector.get(bu).resolveComponentFactory(l),this.componentTypes.push(_.componentType);const T=function HT(s){return s.isBoundToModule}(_)?void 0:this._injector.get(Uu),E=_.create(Ml.NULL,[],c||_.selector,T),x=E.location.nativeElement,U=E.injector.get(Xy,null);return null==U||U.registerApplication(x),E.onDestroy(()=>{this.detachView(E.hostView),_p(this.components,E),null==U||U.unregisterApplication(x)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;_p(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(zy,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>_p(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Ae(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(fn(oi),fn(bl),fn($c))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function _p(s,a){const l=s.indexOf(a);l>-1&&s.splice(l,1)}let ro=!0,cv=!1;function zT(){return cv=!0,ro}function Td(){if(cv)throw new Error("Cannot enable prod mode after platform setup.");ro=!1}let DE=(()=>{class s{}return s.__NG_ELEMENT_ID__=SE,s})();function SE(s){return function QT(s,a,l){if(Es(s)&&!l){const c=xr(s.index,a);return new Hf(c,c)}return 47&s.type?new Hf(a[16],a):null}(Fn(),Se(),16==(16&s))}class KT{constructor(){}supports(a){return Ni(a)}create(a){return new ME(a)}}const NE=(s,a)=>a;class ME{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||NE}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,c=this._removalsHead,h=0,f=null;for(;l||c;){const _=!c||l&&l.currentIndex<UE(c,h,f)?l:c,T=UE(_,h,f),b=_.currentIndex;if(_===c)h--,c=c._nextRemoved;else if(l=l._next,null==_.previousIndex)h++;else{f||(f=[]);const E=T-h,x=b-h;if(E!=x){for(let W=0;W<E;W++){const ne=W<f.length?f[W]:f[W]=0,he=ne+W;x<=he&&he<E&&(f[W]=ne+1)}f[_.previousIndex]=x-E}}T!==b&&a(_,T,b)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!Ni(a))throw new Ae(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,f,_,l=this._itHead,c=!1;if(Array.isArray(a)){this.length=a.length;for(let T=0;T<this.length;T++)f=a[T],_=this._trackByFn(T,f),null!==l&&Object.is(l.trackById,_)?(c&&(l=this._verifyReinsertion(l,f,_,T)),Object.is(l.item,f)||this._addIdentityChange(l,f)):(l=this._mismatch(l,f,_,T),c=!0),l=l._next}else h=0,function wA(s,a){if(Array.isArray(s))for(let l=0;l<s.length;l++)a(s[l]);else{const l=s[Fl()]();let c;for(;!(c=l.next()).done;)a(c.value)}}(a,T=>{_=this._trackByFn(h,T),null!==l&&Object.is(l.trackById,_)?(c&&(l=this._verifyReinsertion(l,T,_,h)),Object.is(l.item,T)||this._addIdentityChange(l,T)):(l=this._mismatch(l,T,_,h),c=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,c,h){let f;return null===a?f=this._itTail:(f=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,f,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,f,h)):a=this._addAfter(new PE(l,c),f,h),a}_verifyReinsertion(a,l,c,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?a=this._reinsertAfter(f,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,f=a._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(a,l,c),this._addToMoves(a,c),a}_moveAfter(a,l,c){return this._unlink(a),this._insertAfter(a,l,c),this._addToMoves(a,c),a}_addAfter(a,l,c){return this._insertAfter(a,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,c){const h=null===l?this._itHead:l._next;return a._next=h,a._prev=l,null===h?this._itTail=a:h._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new XT),this._linkedRecords.put(a),a.currentIndex=c,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,c=a._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new XT),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class PE{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YT{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,a))return c;return null}remove(a){const l=a._prevDup,c=a._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class XT{constructor(){this.map=new Map}put(a){const l=a.trackById;let c=this.map.get(l);c||(c=new YT,this.map.set(l,c)),c.add(a)}get(a,l){const h=this.map.get(a);return h?h.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UE(s,a,l){const c=s.previousIndex;if(null===c)return c;let h=0;return l&&c<l.length&&(h=l[c]),c+a+h}class ew{constructor(){}supports(a){return a instanceof Map||Q_(a)}create(){return new tw}}class tw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||Q_(a)))throw new Ae(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(c,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const f=this._getOrCreateRecordForKey(h,c);l=this._insertBeforeOrAppend(l,f)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const c=a._prev;return l._next=a,l._prev=c,a._prev=l,c&&(c._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,l);const f=h._prev,_=h._next;return f&&(f._next=_),_&&(_._prev=f),h._next=null,h._prev=null,h}const c=new Bt(a);return this._records.set(a,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(c=>l(a[c],c))}}class Bt{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ql(){return new jg([new KT])}let jg=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(null!=c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||Ql()),deps:[[s,new ut,new xe]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(null!=c)return c;throw new Ae(901,!1)}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:Ql}),s})();function St(){return new Kl([new ew])}let Kl=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||St()),deps:[[s,new ut,new xe]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(c)return c;throw new Ae(901,!1)}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:St}),s})();const $g=sv(null,"core",[]);let fv=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(fn(mp))},s.\u0275mod=vt({type:s}),s.\u0275inj=Ur({}),s})();function Yl(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(rt,be,P)=>{P.d(be,{Z:()=>Ae});var e=P(2090),L=P(4859),M=P(9681),re=P(1877);class ue{constructor(Te,_e){this._delegate=Te,this.firebase=_e,(0,M._addComponent)(Te,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=Te.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this._delegate.automaticDataCollectionEnabled=Te}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Te=>{this._delegate.checkDestroyed(),Te()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,M.deleteApp)(this._delegate)))}_getService(Te,_e=M._DEFAULT_ENTRY_NAME){var it;this._delegate.checkDestroyed();const dt=this._delegate.container.getProvider(Te);return!dt.isInitialized()&&"EXPLICIT"===(null===(it=dt.getComponent())||void 0===it?void 0:it.instantiationMode)&&dt.initialize(),dt.getImmediate({identifier:_e})}_removeServiceInstance(Te,_e=M._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Te).clearInstance(_e)}_addComponent(Te){(0,M._addComponent)(this._delegate,Te)}_addOrOverwriteComponent(Te){(0,M._addOrOverwriteComponent)(this._delegate,Te)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new e.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ve(){const ot=function de(ot){const Te={},_e={__esModule:!0,initializeApp:function He(Je,we={}){const De=M.initializeApp(Je,we);if((0,e.r3)(Te,De.name))return Te[De.name];const Y=new ot(De,_e);return Te[De.name]=Y,Y},app:dt,registerVersion:M.registerVersion,setLogLevel:M.setLogLevel,onLog:M.onLog,apps:null,SDK_VERSION:M.SDK_VERSION,INTERNAL:{registerComponent:function Ee(Je){const we=Je.name,De=we.replace("-compat","");if(M._registerComponent(Je)&&"PUBLIC"===Je.type){const Y=(oe=dt())=>{if("function"!=typeof oe[De])throw fe.create("invalid-app-argument",{appName:we});return oe[De]()};void 0!==Je.serviceProps&&(0,e.ZB)(Y,Je.serviceProps),_e[De]=Y,ot.prototype[De]=function(...oe){return this._getService.bind(this,we).apply(this,Je.multipleInstances?oe:[])}}return"PUBLIC"===Je.type?_e[De]:null},removeApp:function it(Je){delete Te[Je]},useAsService:function Ke(Je,we){return"serverAuth"===we?null:we},modularAPIs:M}};function dt(Je){if(!(0,e.r3)(Te,Je=Je||M._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:Je});return Te[Je]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function ke(){return Object.keys(Te).map(Je=>Te[Je])}}),dt.App=ot,_e}(ue);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function Te(_e){(0,e.ZB)(ot,_e)},createSubscribe:e.ne,ErrorFactory:e.LL,deepExtend:e.ZB}),ot}(),H=new re.Yd("@firebase/app-compat");if((0,e.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=G;!function Me(ot){(0,M.registerVersion)("@firebase/app-compat","0.1.30",ot)}()},9681:(rt,be,P)=>{P.r(be),P.d(be,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>vr,_DEFAULT_ENTRY_NAME:()=>$t,_addComponent:()=>Cn,_addOrOverwriteComponent:()=>rn,_apps:()=>bn,_clearComponents:()=>ui,_components:()=>jn,_getProvider:()=>Ur,_registerComponent:()=>$n,_removeServiceInstance:()=>Un,deleteApp:()=>st,getApp:()=>Oe,getApps:()=>sr,initializeApp:()=>zr,onLog:()=>zt,registerVersion:()=>on,setLogLevel:()=>Tr});var e=P(5861),L=P(4859),M=P(1877),re=P(2090),ue=P(8766);class ge{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(Q=>{if(function fe(F){const J=F.getComponent();return"VERSION"===(null==J?void 0:J.type)}(Q)){const Ne=Q.getImmediate();return`${Ne.library}/${Ne.version}`}return null}).filter(Q=>Q).join(" ")}}const de="@firebase/app",G=new M.Yd("@firebase/app"),$t="[DEFAULT]",Ye={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bn=new Map,jn=new Map;function Cn(F,J){try{F.container.addComponent(J)}catch(Q){G.debug(`Component ${J.name} failed to register with FirebaseApp ${F.name}`,Q)}}function rn(F,J){F.container.addOrOverwriteComponent(J)}function $n(F){const J=F.name;if(jn.has(J))return G.debug(`There were multiple attempts to register component ${J}.`),!1;jn.set(J,F);for(const Q of bn.values())Cn(Q,F);return!0}function Ur(F,J){const Q=F.container.getProvider("heartbeat").getImmediate({optional:!0});return Q&&Q.triggerHeartbeat(),F.container.getProvider(J)}function Un(F,J,Q=$t){Ur(F,J).clearInstance(Q)}function ui(){jn.clear()}const _n=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Eo{constructor(J,Q,Ne){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},Q),this._name=Q.name,this._automaticDataCollectionEnabled=Q.automaticDataCollectionEnabled,this._container=Ne,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}const vr="9.9.1";function zr(F,J={}){"object"!=typeof J&&(J={name:J});const Q=Object.assign({name:$t,automaticDataCollectionEnabled:!1},J),Ne=Q.name;if("string"!=typeof Ne||!Ne)throw _n.create("bad-app-name",{appName:String(Ne)});const Xe=bn.get(Ne);if(Xe){if((0,re.vZ)(F,Xe.options)&&(0,re.vZ)(Q,Xe.config))return Xe;throw _n.create("duplicate-app",{appName:Ne})}const vt=new L.H0(Ne);for(const an of jn.values())vt.addComponent(an);const hn=new Eo(F,Q,vt);return bn.set(Ne,hn),hn}function Oe(F=$t){const J=bn.get(F);if(!J)throw _n.create("no-app",{appName:F});return J}function sr(){return Array.from(bn.values())}function st(F){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,e.Z)(function*(F){const J=F.name;bn.has(J)&&(bn.delete(J),yield Promise.all(F.container.getProviders().map(Q=>Q.delete())),F.isDeleted=!0)})).apply(this,arguments)}function on(F,J,Q){var Ne;let Xe=null!==(Ne=Ye[F])&&void 0!==Ne?Ne:F;Q&&(Xe+=`-${Q}`);const vt=Xe.match(/\s|\//),hn=J.match(/\s|\//);if(vt||hn){const an=[`Unable to register library "${Xe}" with version "${J}":`];return vt&&an.push(`library name "${Xe}" contains illegal characters (whitespace or "/")`),vt&&hn&&an.push("and"),hn&&an.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void G.warn(an.join(" "))}$n(new L.wA(`${Xe}-version`,()=>({library:Xe,version:J}),"VERSION"))}function zt(F,J){if(null!==F&&"function"!=typeof F)throw _n.create("invalid-log-argument");(0,M.Am)(F,J)}function Tr(F){(0,M.Ub)(F)}const En="firebase-heartbeat-store";let Dr=null;function As(){return Dr||(Dr=(0,ue.X3)("firebase-heartbeat-database",1,{upgrade:(F,J)=>{0===J&&F.createObjectStore(En)}}).catch(F=>{throw _n.create("storage-open",{originalErrorMessage:F.message})})),Dr}function Qe(){return(Qe=(0,e.Z)(function*(F){var J;try{return(yield As()).transaction(En).objectStore(En).get(ar(F))}catch(Q){throw _n.create("storage-get",{originalErrorMessage:null===(J=Q)||void 0===J?void 0:J.message})}})).apply(this,arguments)}function _t(F,J){return so.apply(this,arguments)}function so(){return(so=(0,e.Z)(function*(F,J){var Q;try{const Xe=(yield As()).transaction(En,"readwrite");return yield Xe.objectStore(En).put(J,ar(F)),Xe.done}catch(Ne){throw _n.create("storage-set",{originalErrorMessage:null===(Q=Ne)||void 0===Q?void 0:Q.message})}})).apply(this,arguments)}function ar(F){return`${F.name}!${F.options.appId}`}class qn{constructor(J){this.container=J,this._heartbeatsCache=null;const Q=this.container.getProvider("app").getImmediate();this._storage=new Dn(Q),this._heartbeatsCachePromise=this._storage.read().then(Ne=>(this._heartbeatsCache=Ne,Ne))}triggerHeartbeat(){var J=this;return(0,e.Z)(function*(){const Ne=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Xe=On();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==Xe&&!J._heartbeatsCache.heartbeats.some(vt=>vt.date===Xe))return J._heartbeatsCache.heartbeats.push({date:Xe,agent:Ne}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(vt=>{const hn=new Date(vt.date).valueOf();return Date.now()-hn<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,e.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const Q=On(),{heartbeatsToSend:Ne,unsentEntries:Xe}=function tn(F,J=1024){const Q=[];let Ne=F.slice();for(const Xe of F){const vt=Q.find(hn=>hn.agent===Xe.agent);if(vt){if(vt.dates.push(Xe.date),B(Q)>J){vt.dates.pop();break}}else if(Q.push({agent:Xe.agent,dates:[Xe.date]}),B(Q)>J){Q.pop();break}Ne=Ne.slice(1)}return{heartbeatsToSend:Q,unsentEntries:Ne}}(J._heartbeatsCache.heartbeats),vt=(0,re.L)(JSON.stringify({version:2,heartbeats:Ne}));return J._heartbeatsCache.lastSentHeartbeatDate=Q,Xe.length>0?(J._heartbeatsCache.heartbeats=Xe,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),vt})()}}function On(){return(new Date).toISOString().substring(0,10)}class Dn{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,e.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,e.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function jt(F){return Qe.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var Q=this;return(0,e.Z)(function*(){var Ne;if(yield Q._canUseIndexedDBPromise){const vt=yield Q.read();return _t(Q.app,{lastSentHeartbeatDate:null!==(Ne=J.lastSentHeartbeatDate)&&void 0!==Ne?Ne:vt.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var Q=this;return(0,e.Z)(function*(){var Ne;if(yield Q._canUseIndexedDBPromise){const vt=yield Q.read();return _t(Q.app,{lastSentHeartbeatDate:null!==(Ne=J.lastSentHeartbeatDate)&&void 0!==Ne?Ne:vt.lastSentHeartbeatDate,heartbeats:[...vt.heartbeats,...J.heartbeats]})}})()}}function B(F){return(0,re.L)(JSON.stringify({version:2,heartbeats:F})).length}!function j(F){$n(new L.wA("platform-logger",J=>new ge(J),"PRIVATE")),$n(new L.wA("heartbeat",J=>new qn(J),"PRIVATE")),on(de,"0.7.29",F),on(de,"0.7.29","esm2017"),on("fire-js","")}("")},4859:(rt,be,P)=>{P.d(be,{H0:()=>de,wA:()=>M});var e=P(5861),L=P(2090);class M{constructor(G,H,X){this.name=G,this.instanceFactory=H,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const re="[DEFAULT]";class ue{constructor(G,H){this.name=G,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const H=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(H)){const X=new L.BH;if(this.instancesDeferred.set(H,X),this.isInitialized(H)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:H});$e&&X.resolve($e)}catch($e){}}return this.instancesDeferred.get(H).promise}getImmediate(G){var H;const X=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),$e=null!==(H=null==G?void 0:G.optional)&&void 0!==H&&H;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Me){if($e)return null;throw Me}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function fe(ve){return"EAGER"===ve.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:re})}catch(H){}for(const[H,X]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(H);try{const Me=this.getOrInitializeService({instanceIdentifier:$e});X.resolve(Me)}catch(Me){}}}}clearInstance(G=re){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,e.Z)(function*(){const H=Array.from(G.instances.values());yield Promise.all([...H.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...H.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=re){return this.instances.has(G)}getOptions(G=re){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:H={}}=G,X=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:X,options:H});for(const[Me,Ae]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Me)&&Ae.resolve($e);return $e}onInit(G,H){var X;const $e=this.normalizeInstanceIdentifier(H),Me=null!==(X=this.onInitCallbacks.get($e))&&void 0!==X?X:new Set;Me.add(G),this.onInitCallbacks.set($e,Me);const Ae=this.instances.get($e);return Ae&&G(Ae,$e),()=>{Me.delete(G)}}invokeOnInitCallbacks(G,H){const X=this.onInitCallbacks.get(H);if(X)for(const $e of X)try{$e(G,H)}catch(Me){}}getOrInitializeService({instanceIdentifier:G,options:H={}}){let X=this.instances.get(G);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=G,ve===re?void 0:ve),options:H}),this.instances.set(G,X),this.instancesOptions.set(G,H),this.invokeOnInitCallbacks(X,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,X)}catch($e){}var ve;return X||null}normalizeInstanceIdentifier(G=re){return this.component?this.component.multipleInstances?G:re:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const H=this.getProvider(G.name);if(H.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);H.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const H=new ue(G,this);return this.providers.set(G,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(rt,be,P)=>{P.d(be,{Am:()=>ve,Ub:()=>de,Yd:()=>fe,in:()=>L});const e=[];var L=(()=>{return(G=L||(L={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",L;var G})();const M={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},re=L.INFO,ue={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},ge=(G,H,...X)=>{if(H<G.logLevel)return;const $e=(new Date).toISOString(),Me=ue[H];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Me](`[${$e}]  ${G.name}:`,...X)};class fe{constructor(H){this.name=H,this._logLevel=re,this._logHandler=ge,this._userLogHandler=null,e.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in L))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?M[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...H),this._logHandler(this,L.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...H),this._logHandler(this,L.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,L.INFO,...H),this._logHandler(this,L.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,L.WARN,...H),this._logHandler(this,L.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...H),this._logHandler(this,L.ERROR,...H)}}function de(G){e.forEach(H=>{H.setLogLevel(G)})}function ve(G,H){for(const X of e){let $e=null;H&&H.level&&($e=M[H.level]),X.userLogHandler=null===G?null:(Me,Ae,...ot)=>{const Te=ot.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch(it){return null}}).filter(_e=>_e).join(" ");Ae>=(null!=$e?$e:Me.logLevel)&&G({level:L[Ae].toLowerCase(),message:Te,args:ot,type:Me.name})}}}},8766:(rt,be,P)=>{P.d(be,{Lj:()=>He,X3:()=>dt});var e=P(5861);let M,re;const fe=new WeakMap,de=new WeakMap,ve=new WeakMap,G=new WeakMap,H=new WeakMap;let Me={get(we,De,Y){if(we instanceof IDBTransaction){if("done"===De)return de.get(we);if("objectStoreNames"===De)return we.objectStoreNames||ve.get(we);if("store"===De)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return _e(we[De])},set:(we,De,Y)=>(we[De]=Y,!0),has:(we,De)=>we instanceof IDBTransaction&&("done"===De||"store"===De)||De in we};function Te(we){return"function"==typeof we?function ot(we){return we!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(we)?function(...De){return we.apply(it(this),De),_e(fe.get(this))}:function(...De){return _e(we.apply(it(this),De))}:function(De,...Y){const oe=we.call(it(this),De,...Y);return ve.set(oe,De.sort?De.sort():[De]),_e(oe)}}(we):(we instanceof IDBTransaction&&function $e(we){if(de.has(we))return;const De=new Promise((Y,oe)=>{const ie=()=>{we.removeEventListener("complete",ye),we.removeEventListener("error",le),we.removeEventListener("abort",le)},ye=()=>{Y(),ie()},le=()=>{oe(we.error||new DOMException("AbortError","AbortError")),ie()};we.addEventListener("complete",ye),we.addEventListener("error",le),we.addEventListener("abort",le)});de.set(we,De)}(we),((we,De)=>De.some(Y=>we instanceof Y))(we,function ue(){return M||(M=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(we,Me):we)}function _e(we){if(we instanceof IDBRequest)return function X(we){const De=new Promise((Y,oe)=>{const ie=()=>{we.removeEventListener("success",ye),we.removeEventListener("error",le)},ye=()=>{Y(_e(we.result)),ie()},le=()=>{oe(we.error),ie()};we.addEventListener("success",ye),we.addEventListener("error",le)});return De.then(Y=>{Y instanceof IDBCursor&&fe.set(Y,we)}).catch(()=>{}),H.set(De,we),De}(we);if(G.has(we))return G.get(we);const De=Te(we);return De!==we&&(G.set(we,De),H.set(De,we)),De}const it=we=>H.get(we);function dt(we,De,{blocked:Y,upgrade:oe,blocking:ie,terminated:ye}={}){const le=indexedDB.open(we,De),qe=_e(le);return oe&&le.addEventListener("upgradeneeded",Ct=>{oe(_e(le.result),Ct.oldVersion,Ct.newVersion,_e(le.transaction))}),Y&&le.addEventListener("blocked",()=>Y()),qe.then(Ct=>{ye&&Ct.addEventListener("close",()=>ye()),ie&&Ct.addEventListener("versionchange",()=>ie())}).catch(()=>{}),qe}function He(we,{blocked:De}={}){const Y=indexedDB.deleteDatabase(we);return De&&Y.addEventListener("blocked",()=>De()),_e(Y).then(()=>{})}const ke=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],Ke=new Map;function Je(we,De){if(!(we instanceof IDBDatabase)||De in we||"string"!=typeof De)return;if(Ke.get(De))return Ke.get(De);const Y=De.replace(/FromIndex$/,""),oe=De!==Y,ie=Ee.includes(Y);if(!(Y in(oe?IDBIndex:IDBObjectStore).prototype)||!ie&&!ke.includes(Y))return;const ye=function(){var le=(0,e.Z)(function*(qe,...Ct){const nn=this.transaction(qe,ie?"readwrite":"readonly");let $t=nn.store;return oe&&($t=$t.index(Ct.shift())),(yield Promise.all([$t[Y](...Ct),ie&&nn.done]))[0]});return function(Ct){return le.apply(this,arguments)}}();return Ke.set(De,ye),ye}!function Ae(we){Me=we(Me)}(we=>XN(YN({},we),{get:(De,Y,oe)=>Je(De,Y)||we.get(De,Y,oe),has:(De,Y)=>!!Je(De,Y)||we.has(De,Y)}))},5861:(rt,be,P)=>{function e(M,re,ue,ge,fe,de,ve){try{var G=M[de](ve),H=G.value}catch(X){return void ue(X)}G.done?re(H):Promise.resolve(H).then(ge,fe)}function L(M){return function(){var re=this,ue=arguments;return new Promise(function(ge,fe){var de=M.apply(re,ue);function ve(H){e(de,ge,fe,ve,G,"next",H)}function G(H){e(de,ge,fe,ve,G,"throw",H)}ve(void 0)})}}P.d(be,{Z:()=>L})}},rt=>{rt(rt.s=6299)}]);