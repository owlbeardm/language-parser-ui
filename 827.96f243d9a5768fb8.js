"use strict";(self.webpackChunklanguage_parser_ui=self.webpackChunklanguage_parser_ui||[]).push([[827],{3827:(R,d,s)=>{s.r(d),s.d(d,{ListEvolutionComponent:()=>T});var _=s(7868),u=s(177),c=s(6814),g=s(4341),p=s(764),E=s(4378),n=s(3953),v=s(5680),F=s(136);const h=a=>["/words/word",a];function m(a,i){if(1&a&&(n.j41(0,"span",9),n.EFF(1),n.k0s()),2&a){const o=n.XpG().$implicit;n.Y8G("ngClass",null!=o&&null!=o.word&&o.word.forgotten?"text-grey":"text-green-dull"),n.R7$(),n.JRh(o.calculatedEvolution)}}function f(a,i){if(1&a){const o=n.RV6();n.j41(0,"span")(1,"span",9),n.EFF(2),n.k0s(),n.EFF(3," ("),n.j41(4,"a",28),n.bIt("click",function(){n.eBV(o);const l=n.XpG().$implicit,t=n.XpG();return n.Njj(t.evolveSingleWord(l))}),n.EFF(5),n.k0s(),n.EFF(6,")"),n.k0s()}if(2&a){const o=n.XpG().$implicit;n.R7$(),n.Y8G("ngClass",null!=o&&null!=o.word&&o.word.forgotten?"text-grey":"text-red-dull"),n.R7$(),n.JRh(null==o.wordEvolved?null:o.wordEvolved.word),n.R7$(3),n.JRh(o.calculatedEvolution)}}function w(a,i){if(1&a){const o=n.RV6();n.j41(0,"span")(1,"a",28),n.bIt("click",function(){n.eBV(o);const l=n.XpG().$implicit,t=n.XpG();return n.Njj(t.evolveSingleWord(l))}),n.EFF(2),n.k0s()()}if(2&a){const o=n.XpG().$implicit;n.R7$(2),n.JRh(o.calculatedEvolution)}}function C(a,i){if(1&a){const o=n.RV6();n.j41(0,"a",18),n.bIt("click",function(){n.eBV(o);const l=n.XpG().$implicit,t=n.XpG();return n.Njj(t.forget(l.word))}),n.EFF(1,"unforget"),n.k0s()}}function k(a,i){if(1&a){const o=n.RV6();n.j41(0,"a",28),n.bIt("click",function(){n.eBV(o);const l=n.XpG().$implicit,t=n.XpG();return n.Njj(t.forget(l.word))}),n.EFF(1,"forget"),n.k0s()}}function j(a,i){if(1&a&&(n.j41(0,"tr",12)(1,"th",4),n.EFF(2,"|"),n.k0s(),n.j41(3,"th",21),n.EFF(4),n.j41(5,"i"),n.EFF(6),n.k0s()(),n.j41(7,"th",4),n.EFF(8,"|"),n.k0s(),n.j41(9,"th")(10,"a",22),n.EFF(11),n.k0s()(),n.j41(12,"th",4),n.EFF(13,"|"),n.k0s(),n.j41(14,"th"),n.DNE(15,m,2,2,"span",23)(16,f,7,3,"span",24)(17,w,3,1,"span",24),n.k0s(),n.j41(18,"th",4),n.EFF(19,"|"),n.k0s(),n.j41(20,"th",25),n.EFF(21),n.j41(22,"i"),n.EFF(23),n.k0s()(),n.j41(24,"th",4),n.EFF(25,"|"),n.k0s(),n.j41(26,"th",4),n.DNE(27,C,2,0,"a",26)(28,k,2,0,"a",27),n.k0s(),n.j41(29,"th",4),n.EFF(30,"|"),n.k0s()()),2&a){const o=i.$implicit;n.R7$(3),n.Y8G("ngClass",null!=o&&null!=o.word&&o.word.forgotten?"text-grey-dull":"text-grey"),n.R7$(),n.SpI(" ",null==o.word||null==o.word.partOfSpeech?null:o.word.partOfSpeech.abbreviation," "),n.R7$(2),n.JRh(null==o.word||null==o.word.language?null:o.word.language.displayName),n.R7$(4),n.Y8G("ngClass",null!=o&&null!=o.word&&o.word.forgotten?"text-grey":"text-main")("routerLink",n.eq3(14,h,null==o.word?null:o.word.word)),n.R7$(),n.JRh(null==o.word?null:o.word.word),n.R7$(4),n.Y8G("ngIf",!!o.calculatedEvolution&&o.calculatedEvolution===(null==o.wordEvolved?null:o.wordEvolved.word)),n.R7$(),n.Y8G("ngIf",!(null==o.wordEvolved||!o.wordEvolved.word)&&o.calculatedEvolution!=(null==o.wordEvolved?null:o.wordEvolved.word)),n.R7$(),n.Y8G("ngIf",!(null!=o.wordEvolved&&o.wordEvolved.word)),n.R7$(3),n.Y8G("ngClass",null!=o&&null!=o.word&&o.word.forgotten?"text-grey-dull":"text-grey"),n.R7$(),n.SpI(" ",null==o.wordEvolved||null==o.wordEvolved.partOfSpeech?null:o.wordEvolved.partOfSpeech.abbreviation," "),n.R7$(2),n.JRh(null==o.languageConnection||null==o.languageConnection.langTo?null:o.languageConnection.langTo.displayName),n.R7$(4),n.Y8G("ngIf",null==o||null==o.word?null:o.word.forgotten),n.R7$(),n.Y8G("ngIf",!(null!=o&&null!=o.word&&o.word.forgotten))}}let T=(()=>{class a{languagesEvolutionService;wordsService;words={};languageFrom;languageTo;wordSearch;pageSize=250;withoutForgotten=!0;onlyUnevolved=!1;constructor(o,e){this.languagesEvolutionService=o,this.wordsService=e}static wordWEtoWTE(o){return{languageConnection:o.languageConnection,word:o.word}}ngOnInit(){}load(o){this.languagesEvolutionService.getAllWordsWithEvolutions({filter:o}).subscribe(e=>{this.words=e})}loadDefault(o){o||(o={}),this.load(o={page:o.page?o.page:void 0,size:o.size?o.size:this.pageSize,word:o.word?o.word:""===o.word?void 0:this.wordSearch,languageFromId:o.languageFromId?o.languageFromId:null===o.languageFromId?void 0:this.languageFrom?.id,languageToId:o.languageToId?o.languageToId:null===o.languageToId?void 0:this.languageTo?.id,canBeForgotten:!this.withoutForgotten})}resetFilter(){this.languageFrom=void 0,this.languageTo=void 0,this.wordSearch=void 0,this.loadDefault({})}forget(o){o&&(o.forgotten=!o.forgotten,console.log("forget word",o.forgotten,o),this.wordsService.addWord({body:o}).subscribe(e=>{this.withoutForgotten?this.loadDefault(void 0):this.words.data?.forEach(l=>{const t=l.word;t&&t.id===e.id&&(t.forgotten=e.forgotten,t.id=e.id,t.word=e.word,t.language=e.language,t.partOfSpeech=e.partOfSpeech,t.version=e.version)})}))}evolveSingleWord(o){const e=a.wordWEtoWTE(o);this.languagesEvolutionService.addEvolvedWord({body:e}).subscribe(l=>{o.word=l.word,o.wordEvolved=l.wordEvolved,o.calculatedEvolution=l.calculatedEvolution,o.wordEvolvedType=l.wordEvolvedType,o.languageConnection=l.languageConnection})}filterWithoutForgotten(){this.withoutForgotten=!this.withoutForgotten,this.loadDefault(void 0)}filterOnlyUnevolved(){this.onlyUnevolved=!this.onlyUnevolved}evolvePage(){if(this.words.data){const o=this.words.data.filter(e=>!(e.word?.forgotten||e.wordEvolved&&e.wordEvolved.word===e.calculatedEvolution)).map(e=>a.wordWEtoWTE(e));console.log(o),this.languagesEvolutionService.addEvolvedWord1({body:o}).subscribe(()=>{this.loadDefault(void 0)})}}static \u0275fac=function(e){return new(e||a)(n.rXU(v.e),n.rXU(F.t))};static \u0275cmp=n.VBU({type:a,selectors:[["app-list-evolution"]],standalone:!0,features:[n.aNF],decls:98,vars:14,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","9px"],["span","1",2,"width","70px"],[1,"border"],[1,"border",2,"text-align","left","display","flex"],[3,"selectedLanguageChange","selectedLanguage","label"],["type","text",2,"height","16px","margin-left","8px","margin-top","30px","margin-right","0px",3,"ngModelChange","ngModel"],[2,"height","16px","margin-left","16px","margin-top","34px",3,"click","ngClass"],[3,"ngClass"],[1,"text-red-dull",3,"click"],["app-horizontal-dash","","colspan","3",1,"border"],[1,"table-content"],["span","1",2,"width","15%"],["span","1",2,"width","max-content"],["span","1",2,"width","65px"],["class","table-content",4,"ngFor","ngForOf"],[3,"load","page","size","totalPages","total"],[1,"text-green-dull",3,"click"],[1,"text-green-dull",2,"margin-left","16px"],["app-horizontal-dash","",1,"border"],[2,"text-align","left",3,"ngClass"],[1,"link-btn",3,"ngClass","routerLink"],[3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"border",2,"text-align","left",3,"ngClass"],["class","text-green-dull",3,"click",4,"ngIf"],["class","text-yellow-dull",3,"click",4,"ngIf"],[1,"text-yellow-dull",3,"click"]],template:function(e,l){1&e&&(n.j41(0,"table")(1,"colgroup"),n.nrm(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",0),n.k0s(),n.j41(7,"tbody")(8,"tr")(9,"th",4),n.EFF(10,"|"),n.nrm(11,"br"),n.EFF(12,"|"),n.nrm(13,"br"),n.EFF(14,"|"),n.nrm(15,"br"),n.EFF(16,"|"),n.k0s(),n.j41(17,"th",5)(18,"app-all-languages",6),n.bIt("selectedLanguageChange",function(r){return l.loadDefault({languageFromId:r.id})}),n.mxI("selectedLanguageChange",function(r){return n.DH7(l.languageFrom,r)||(l.languageFrom=r),r}),n.k0s(),n.j41(19,"app-all-languages",6),n.bIt("selectedLanguageChange",function(r){return l.loadDefault({languageToId:r.id})}),n.mxI("selectedLanguageChange",function(r){return n.DH7(l.languageTo,r)||(l.languageTo=r),r}),n.k0s(),n.j41(20,"input",7),n.bIt("ngModelChange",function(r){return l.loadDefault({word:r})}),n.mxI("ngModelChange",function(r){return n.DH7(l.wordSearch,r)||(l.wordSearch=r),r}),n.k0s(),n.j41(21,"a",8),n.bIt("click",function(){return l.filterWithoutForgotten()}),n.EFF(22,"[ "),n.j41(23,"span",9),n.EFF(24,"W"),n.k0s(),n.EFF(25,"ithout Forgotten ]"),n.k0s(),n.j41(26,"a",8),n.bIt("click",function(){return l.filterOnlyUnevolved()}),n.EFF(27,"[ "),n.j41(28,"span",9),n.EFF(29,"O"),n.k0s(),n.EFF(30,"nly Unevolved ]"),n.k0s()(),n.j41(31,"th",4),n.EFF(32,"|"),n.nrm(33,"br"),n.EFF(34,"|"),n.nrm(35,"br"),n.EFF(36,"|"),n.nrm(37,"br"),n.EFF(38,"|"),n.k0s(),n.j41(39,"th")(40,"a",10),n.bIt("click",function(){return l.resetFilter()}),n.EFF(41,"[ x ]"),n.k0s()(),n.j41(42,"th",4),n.EFF(43,"|"),n.nrm(44,"br"),n.EFF(45,"|"),n.nrm(46,"br"),n.EFF(47,"|"),n.nrm(48,"br"),n.EFF(49,"|"),n.k0s()(),n.j41(50,"tr")(51,"th",4),n.EFF(52,"+"),n.k0s(),n.nrm(53,"th",11),n.j41(54,"th",4),n.EFF(55,"+"),n.k0s()()()(),n.j41(56,"table",12)(57,"colgroup"),n.nrm(58,"col",0)(59,"col",13)(60,"col",0)(61,"col",14)(62,"col",0)(63,"col",14)(64,"col",0)(65,"col",1)(66,"col",0)(67,"col",15)(68,"col",0),n.k0s(),n.j41(69,"tbody",12),n.DNE(70,j,31,16,"tr",16),n.k0s()(),n.j41(71,"app-list-paginator",17),n.bIt("load",function(r){return l.loadDefault(r)}),n.k0s(),n.j41(72,"table")(73,"colgroup"),n.nrm(74,"col",0)(75,"col",1)(76,"col",0),n.k0s(),n.j41(77,"tbody")(78,"tr")(79,"th",4),n.EFF(80,"|"),n.nrm(81,"br"),n.EFF(82,"|"),n.k0s(),n.j41(83,"th",4)(84,"a",18),n.bIt("click",function(){return l.evolvePage()}),n.EFF(85,"[ Evolve Page ]"),n.k0s(),n.j41(86,"a",19),n.EFF(87,"[ Evolve All Words ]"),n.k0s()(),n.j41(88,"th",4),n.EFF(89,"|"),n.nrm(90,"br"),n.EFF(91,"|"),n.k0s()(),n.j41(92,"tr")(93,"th",4),n.EFF(94,"+"),n.k0s(),n.nrm(95,"th",20),n.j41(96,"th",4),n.EFF(97,"+"),n.k0s()()()()),2&e&&(n.R7$(18),n.R50("selectedLanguage",l.languageFrom),n.Y8G("label","From"),n.R7$(),n.R50("selectedLanguage",l.languageTo),n.Y8G("label","To"),n.R7$(),n.R50("ngModel",l.wordSearch),n.R7$(),n.Y8G("ngClass",l.withoutForgotten?"text-green-dull":"text-grey-dull"),n.R7$(2),n.Y8G("ngClass",l.withoutForgotten?"text-green":"text-grey"),n.R7$(3),n.Y8G("ngClass",l.onlyUnevolved?"text-green-dull":"text-grey-dull"),n.R7$(2),n.Y8G("ngClass",l.onlyUnevolved?"text-green":"text-grey"),n.R7$(42),n.Y8G("ngForOf",l.words.data),n.R7$(),n.Y8G("page",l.words.page?l.words.page:0)("size",l.pageSize)("totalPages",l.words.totalPages?l.words.totalPages:0)("total",l.words.total?l.words.total:0))},dependencies:[_.n,u.MD,u.YU,u.Sq,u.bT,c.Wk,g.YN,g.me,g.BC,g.vS,p.E,E.g]})}return a})()}}]);