"use strict";(self.webpackChunklanguage_parser_ui=self.webpackChunklanguage_parser_ui||[]).push([[911],{911:(S,c,g)=>{g.r(c),g.d(c,{LanguageConnectionsComponent:()=>I});var r=g(5615),C=g(7787),p=g(8943),m=g(1579),n=g(3953),h=g(5042),u=g(4341),d=g(177);function _(o,i){if(1&o&&(n.j41(0,"option",4),n.EFF(1),n.k0s()),2&o){const e=i.$implicit;n.Y8G("ngValue",e),n.R7$(),n.JRh(e)}}let f=(()=>{class o{label;selectedLanguageConnection;selectedLanguageConnectionChange=new n.bkB;allConnectionTypes=[h.L.Evolving,h.L.Borrowing];constructor(){}ngOnInit(){}changeConnection(){console.log("changeLanguage",this.selectedLanguageConnection),this.selectedLanguageConnectionChange.emit(this.selectedLanguageConnection)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=n.VBU({type:o,selectors:[["app-language-connection"]],inputs:{label:"label",selectedLanguageConnection:"selectedLanguageConnection"},outputs:{selectedLanguageConnectionChange:"selectedLanguageConnectionChange"},standalone:!0,features:[n.aNF],decls:8,vars:4,consts:[[1,"selector"],["for","languageConnectionSelector",1,"languageConnectionSelectorLabel"],[1,"input-group"],["id","languageConnectionSelector","name","languageConnectionSelector",1,"languageConnectionSelector",3,"ngModelChange","change","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(t,a){1&t&&(n.j41(0,"div",0)(1,"label",1),n.EFF(2),n.k0s(),n.j41(3,"div",2)(4,"select",3),n.mxI("ngModelChange",function(l){return n.DH7(a.selectedLanguageConnection,l)||(a.selectedLanguageConnection=l),l}),n.bIt("change",function(){return a.changeConnection()}),n.j41(5,"option",4),n.EFF(6,"No connection"),n.k0s(),n.DNE(7,_,2,2,"option",5),n.k0s()()()),2&t&&(n.R7$(2),n.JRh(a.label),n.R7$(2),n.R50("ngModel",a.selectedLanguageConnection),n.R7$(),n.Y8G("ngValue",void 0),n.R7$(2),n.Y8G("ngForOf",a.allConnectionTypes))},dependencies:[u.YN,u.xH,u.y7,u.wz,u.BC,u.vS,d.Sq],styles:[".languageConnectionSelector[_ngcontent-%COMP%]{margin-top:4px}.languageConnectionSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]})}return o})();var F=g(764),L=g(4378),T=g(5680);function b(o,i){if(1&o){const e=n.RV6();n.j41(0,"span")(1,"app-language-connection",12),n.bIt("selectedLanguageConnectionChange",function(a){n.eBV(e);const s=n.XpG();return n.Njj(s.languagesConnectionTypeChanged(a))}),n.k0s()()}if(2&o){const e=n.XpG();n.R7$(),n.Y8G("label","Type")("selectedLanguageConnection",e.connectionType)}}function y(o,i){1&o&&n.nrm(0,"th",7)}function R(o,i){if(1&o){const e=n.RV6();n.j41(0,"th",3),n.EFF(1,"[ "),n.j41(2,"a",13),n.bIt("click",function(){n.eBV(e);const a=n.XpG();return n.Njj(a.editSoundChanges())}),n.j41(3,"b"),n.EFF(4,"E"),n.k0s(),n.EFF(5,"dit"),n.k0s(),n.EFF(6," ]-"),n.k0s()}}function E(o,i){if(1&o){const e=n.RV6();n.j41(0,"th",3),n.EFF(1,"[ "),n.j41(2,"a",14),n.bIt("click",function(){n.eBV(e);const a=n.XpG();return n.Njj(a.saveSoundChanges())}),n.j41(3,"b"),n.EFF(4,"S"),n.k0s(),n.EFF(5,"ave"),n.k0s(),n.EFF(6," ]-["),n.j41(7,"a",15),n.bIt("click",function(){n.eBV(e);const a=n.XpG();return n.Njj(a.cancelSoundChanges())}),n.EFF(8," x "),n.k0s(),n.EFF(9,"]-"),n.k0s()}}function j(o,i){if(1&o){const e=n.RV6();n.j41(0,"app-sound-changes-table",16),n.bIt("soundChangesChanges",function(){n.eBV(e);const a=n.XpG();return n.Njj(a.soundChangesChanges(a.soundChanges))}),n.k0s()}if(2&o){const e=n.XpG();n.Y8G("soundChanges",e.soundChanges)}}function v(o,i){if(1&o){const e=n.RV6();n.j41(0,"app-sound-changes-edit",17),n.mxI("soundChangesRawChange",function(a){n.eBV(e);const s=n.XpG();return n.DH7(s.soundChangesRaw,a)||(s.soundChangesRaw=a),n.Njj(a)}),n.bIt("soundChangesRawChange",function(){n.eBV(e);const a=n.XpG();return n.Njj(a.soundChangesRawChange())}),n.k0s()}if(2&o){const e=n.XpG();n.R50("soundChangesRaw",e.soundChangesRaw)}}let I=(()=>{class o extends r.F{languagesEvolutionService;languageFrom;languageTo;connectionType;constructor(e){super(C._.SoundChange),this.languagesEvolutionService=e}ngOnChanges(e){}editSoundChanges(){console.log("hello",this.languageFrom?.displayName),this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.getSoundChangesRawLinesByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,soundChangePurpose:this.soundChangePurpose}).subscribe(e=>{this.soundChangesRaw=e,console.log("editSoundChanges soundChangesRaw",this.soundChangesRaw),this.editMode=!0})}saveSoundChanges(){this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.saveSoundChangesRawLinesByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,body:this.soundChangesRaw,soundChangePurpose:this.soundChangePurpose}).subscribe(()=>{this.editMode=!1,this.refresh()})}refresh(){this.connectionType=void 0,this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.getSoundChangesByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,soundChangePurpose:this.soundChangePurpose}).subscribe(e=>{this.soundChanges=e,this.refreshConnectionType()})}languageChanged(){this.editMode=!1,this.refresh()}languageFromChanged(e){this.languageFrom=e,this.languageChanged()}languageToChanged(e){this.languageTo=e,this.languageChanged()}languagesConnectionTypeChanged(e){console.log("languagesConnectionTypeChanged",e),this.connectionType=e,this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&(this.connectionType?this.languagesEvolutionService.updateConnectionByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,body:{languageConnectionType:this.connectionType}}).subscribe(()=>{this.refresh()}):this.languagesEvolutionService.deleteConnectionByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id}).subscribe(()=>{this.refresh()}))}refreshConnectionType(){this.connectionType=void 0,this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.getConnectionByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id}).subscribe(e=>{this.connectionType=e.connectionType})}static \u0275fac=function(t){return new(t||o)(n.rXU(T.e))};static \u0275cmp=n.VBU({type:o,selectors:[["app-language-connections"]],standalone:!0,features:[n.Vt3,n.OA$,n.aNF],decls:42,vars:10,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",1,"border",2,"width","max-content"],[1,"border"],[2,"text-align","left","display","flex"],[3,"selectedLanguageChange","label","selectedLanguage"],[4,"ngIf"],["app-horizontal-dash","",1,"border"],["app-horizontal-dash","","class","border",4,"ngIf"],["class","border",4,"ngIf"],[3,"soundChanges","soundChangesChanges",4,"ngIf"],[3,"soundChangesRaw","soundChangesRawChange",4,"ngIf"],[3,"selectedLanguageConnectionChange","label","selectedLanguageConnection"],[1,"text-yellow-dull",3,"click"],[1,"text-green-dull",3,"click"],[1,"text-red-dull",3,"click"],[3,"soundChangesChanges","soundChanges"],[3,"soundChangesRawChange","soundChangesRaw"]],template:function(t,a){1&t&&(n.j41(0,"table")(1,"colgroup"),n.nrm(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",0),n.k0s(),n.j41(6,"tbody")(7,"tr")(8,"th",3),n.EFF(9,"|"),n.nrm(10,"br"),n.EFF(11,"|"),n.nrm(12,"br"),n.EFF(13,"|"),n.nrm(14,"br"),n.EFF(15,"|"),n.k0s(),n.j41(16,"th",4)(17,"span")(18,"app-all-languages",5),n.bIt("selectedLanguageChange",function(l){return a.languageFromChanged(l)}),n.k0s()(),n.j41(19,"span")(20,"app-all-languages",5),n.bIt("selectedLanguageChange",function(l){return a.languageToChanged(l)}),n.k0s()(),n.DNE(21,b,2,2,"span",6),n.k0s(),n.nrm(22,"th",3),n.j41(23,"th",3),n.EFF(24,"|"),n.nrm(25,"br"),n.EFF(26,"|"),n.nrm(27,"br"),n.EFF(28,"|"),n.nrm(29,"br"),n.EFF(30,"|"),n.k0s()(),n.j41(31,"tr")(32,"th",3),n.EFF(33,"+"),n.k0s(),n.nrm(34,"th",7),n.DNE(35,y,1,0,"th",8)(36,R,7,0,"th",9)(37,E,10,0,"th",9),n.j41(38,"th",3),n.EFF(39,"+"),n.k0s()()()(),n.DNE(40,j,1,1,"app-sound-changes-table",10)(41,v,1,1,"app-sound-changes-edit",11)),2&t&&(n.R7$(18),n.Y8G("label","From")("selectedLanguage",a.languageFrom),n.R7$(2),n.Y8G("label","To")("selectedLanguage",a.languageTo),n.R7$(),n.Y8G("ngIf",a.languageFrom&&a.languageTo&&!a.editMode),n.R7$(14),n.Y8G("ngIf",!a.connectionType),n.R7$(),n.Y8G("ngIf",!a.editMode&&a.connectionType),n.R7$(),n.Y8G("ngIf",a.editMode&&a.connectionType),n.R7$(3),n.Y8G("ngIf",!a.editMode&&a.connectionType),n.R7$(),n.Y8G("ngIf",a.editMode&&a.connectionType))},dependencies:[p.m,m.e,f,F.E,d.bT,L.g]})}return o})()}}]);