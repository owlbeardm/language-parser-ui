"use strict";(self.webpackChunklanguage_parser_ui=self.webpackChunklanguage_parser_ui||[]).push([[763],{9594:(W,f,l)=>{l.d(f,{K:()=>d});var c=l(3953),m=l(6814);const F=["row"],u=["app-vertical-dash",""];let d=(()=>{class t{cdRef;router;row;brow="";symbol;deleted=!1;constructor(_,p){this.cdRef=_,this.router=p}ngAfterContentInit(){this.resizeDash()}ngAfterContentChecked(){}ngOnInit(){}onResize(){}resizeDash(){const _=Math.max(0,Math.floor(this.row?.nativeElement.parentNode.offsetHeight/16)),p=this.brow;this.brow=_?"|\n".repeat(_):"",p!==this.brow&&this.cdRef.detectChanges()}static \u0275fac=function(p){return new(p||t)(c.rXU(c.gRc),c.rXU(m.Ix))};static \u0275cmp=c.VBU({type:t,selectors:[["th","app-vertical-dash",""]],viewQuery:function(p,g){if(1&p&&c.GBs(F,5),2&p){let h;c.mGM(h=c.lsd())&&(g.row=h.first)}},hostBindings:function(p,g){1&p&&c.bIt("resize",function(w){return g.onResize(w)},!1,c.tSv)},inputs:{symbol:"symbol"},standalone:!0,features:[c.aNF],attrs:u,decls:3,vars:1,consts:[["row",""],[1,"border","td-span"]],template:function(p,g){1&p&&(c.j41(0,"div",1,0),c.EFF(2),c.k0s()),2&p&&(c.R7$(2),c.JRh(g.brow))},styles:[".td-span[_ngcontent-%COMP%]{width:100%;height:100%;min-height:10px}"]})}return t})()},2763:(W,f,l)=>{l.r(f),l.d(f,{WordsDetailComponent:()=>Xt});var c=l(6814),m=l(4341),F=l(1311),u=l(8608),d=l(177),t=l(3953);const k=["wordWithTranslations",""],_=e=>["/words/word",e];function p(e,r){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.SpI(" /",n.wordWithTranslations.word,"/")}}function g(e,r){if(1&e&&(t.qex(0),t.EFF(1),t.nrm(2,"app-translation-word",3),t.bVm()),2&e){const n=r.$implicit,o=r.index;t.R7$(),t.JRh(o>0?", ":""),t.R7$(),t.Y8G("translation",n)}}function h(e,r){if(1&e&&(t.j41(0,"span")(1,"span"),t.EFF(2," ("),t.k0s(),t.DNE(3,g,3,2,"ng-container",2),t.EFF(4,")"),t.k0s()),2&e){const n=t.XpG();t.R7$(3),t.Y8G("ngForOf",n.wordWithTranslations.translations)}}let w=(()=>{class e{wordWithTranslations;constructor(){}ngOnInit(){}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=t.VBU({type:e,selectors:[["app-word-written-with-translations","wordWithTranslations",""]],inputs:{wordWithTranslations:"wordWithTranslations"},standalone:!0,features:[t.aNF],attrs:k,decls:5,vars:8,consts:[[1,"text-main","link-btn",3,"routerLink"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"translation"]],template:function(o,a){1&o&&(t.j41(0,"a",0),t.EFF(1),t.nI1(2,"writtenWord"),t.k0s(),t.DNE(3,p,2,1,"span",1)(4,h,5,1,"span",1)),2&o&&(t.Y8G("routerLink",t.eq3(6,_,a.wordWithTranslations.word)),t.R7$(),t.JRh(t.bMT(2,4,a.wordWithTranslations.writtenWord)),t.R7$(2),t.Y8G("ngIf",a.wordWithTranslations.word!==a.wordWithTranslations.writtenWord),t.R7$(),t.Y8G("ngIf",null==a.wordWithTranslations.translations?null:a.wordWithTranslations.translations.length))},dependencies:[F.P,u.g,c.Wk,d.bT,d.pM]})}return e})();const j=["app-word-detail-descendants",""];function G(e,r){if(1&e&&t.nrm(0,"app-word-written-with-translations",2),2&e){const n=t.XpG();t.Y8G("wordWithTranslations",n.descendant.word)}}function v(e,r){1&e&&t.nrm(0,"li",3),2&e&&t.Y8G("descendant",r.$implicit)}let b=(()=>{class e{descendant;constructor(){}ngOnInit(){}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=t.VBU({type:e,selectors:[["li","app-word-detail-descendants",""]],inputs:{descendant:"descendant"},standalone:!0,features:[t.aNF],attrs:j,decls:5,vars:3,consts:[[3,"wordWithTranslations",4,"ngIf"],["app-word-detail-descendants","",3,"descendant",4,"ngFor","ngForOf"],[3,"wordWithTranslations"],["app-word-detail-descendants","",3,"descendant"]],template:function(o,a){1&o&&(t.EFF(0),t.DNE(1,G,1,1,"app-word-written-with-translations",0),t.EFF(2,".\n"),t.j41(3,"ul"),t.DNE(4,v,1,1,"li",1),t.k0s()),2&o&&(t.SpI("",null==a.descendant.word||null==a.descendant.word.language?null:a.descendant.word.language.displayName,": "),t.R7$(),t.Y8G("ngIf",a.descendant.word),t.R7$(3),t.Y8G("ngForOf",a.descendant.descendants))},dependencies:[e,w]})}return e})();var R=l(856),$=l(5380);function V(e,r){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.nrm(2,"app-translation-word",1),t.k0s()),2&e){const n=r.$implicit,o=r.index;t.R7$(),t.JRh(0==o?"":"; "),t.R7$(),t.Y8G("translation",n)}}function x(e,r){if(1&e&&(t.qex(0),t.j41(1,"dt"),t.EFF(2),t.nI1(3,"translationType"),t.k0s(),t.j41(4,"dd"),t.DNE(5,V,3,2,"span",0),t.k0s(),t.bVm()),2&e){const n=r.$implicit,o=t.XpG().$implicit,a=t.XpG();t.R7$(2),t.Lme("",o," ",t.bMT(3,3,n),""),t.R7$(3),t.Y8G("ngForOf",a.getTranslationForWordAndType(n,!0,o))}}function D(e,r){if(1&e&&(t.j41(0,"li"),t.nrm(1,"app-translation-word",1),t.k0s()),2&e){const n=r.$implicit;t.R7$(),t.Y8G("translation",n)}}function Y(e,r){if(1&e&&(t.qex(0),t.j41(1,"dt"),t.EFF(2),t.nI1(3,"translationType"),t.k0s(),t.j41(4,"dd")(5,"ol"),t.DNE(6,D,2,1,"li",0),t.k0s()(),t.bVm()),2&e){const n=r.$implicit,o=t.XpG().$implicit,a=t.XpG();t.R7$(2),t.Lme("",o," ",t.bMT(3,3,n),""),t.R7$(4),t.Y8G("ngForOf",a.getTranslationForWordAndType(n,!1,o))}}function I(e,r){if(1&e&&(t.qex(0),t.DNE(1,x,6,5,"ng-container",0)(2,Y,7,5,"ng-container",0),t.bVm()),2&e){const n=r.$implicit,o=t.XpG();t.R7$(),t.Y8G("ngForOf",o.getWordTranslationsTypes(n)),t.R7$(),t.Y8G("ngForOf",o.getPhraseTranslationsTypes(n))}}let O=(()=>{class e{translations;constructor(){}get getTranslationLangs(){const n=this.translations?.map(a=>a.wordTo?.language?a.wordTo?.language:a.phraseTo?.language).map(a=>a?a.displayName:"Unknown");return[...new Set(n)]||[]}getWordTranslationsTypes(n){return this.getTranslationTypes(!0,n)}getPhraseTranslationsTypes(n){return this.getTranslationTypes(!1,n)}getTranslationTypes(n,o){const a=this.translations?.filter(i=>n?i.wordTo&&i.wordTo.language?.displayName===o:i.phraseTo&&i.phraseTo.language?.displayName===o).map(i=>i.type).map(i=>i||R.y.General);return[...new Set(a)]||[]}getTranslationForWordAndType(n,o,a){const s=this.translations?.filter(i=>(o?i.wordTo&&i.wordTo.language?.displayName===a:i.phraseTo&&i.phraseTo.language?.displayName===a)&&i.type===n);return s||[]}ngOnInit(){}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=t.VBU({type:e,selectors:[["app-word-detail-translations"]],inputs:{translations:"translations"},standalone:!0,features:[t.aNF],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"translation"]],template:function(o,a){1&o&&(t.j41(0,"dl"),t.DNE(1,I,3,2,"ng-container",0),t.k0s()),2&o&&(t.R7$(),t.Y8G("ngForOf",a.getTranslationLangs))},dependencies:[F.P,$._,d.pM]})}return e})();function S(e,r){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.j41(2,"a",1)(3,"i"),t.EFF(4),t.k0s()(),t.EFF(5," *"),t.nrm(6,"app-word-written-with-translations",2),t.k0s()),2&e){const n=r.$implicit,o=r.index;t.R7$(),t.JRh(0==o?"":", "),t.R7$(3),t.JRh(null==n.language?null:n.language.displayName),t.R7$(2),t.Y8G("wordWithTranslations",n)}}let N=(()=>{class e{wordsWithTranslations;constructor(){}ngOnInit(){}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=t.VBU({type:e,selectors:[["app-word-detail-list"]],inputs:{wordsWithTranslations:"wordsWithTranslations"},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"text-grey"],[3,"wordWithTranslations"]],template:function(o,a){1&o&&t.DNE(0,S,7,3,"span",0),2&o&&t.Y8G("ngForOf",a.wordsWithTranslations)},dependencies:[w,d.pM]})}return e})();var y=l(4378);const M=["app-word-declension-table",""],X=(e,r)=>[e,r],z=e=>[e];function A(e,r){if(1&e&&(t.qex(0),t.j41(1,"th",3),t.EFF(2),t.k0s(),t.j41(3,"th",2),t.EFF(4,"|"),t.k0s(),t.bVm()),2&e){const n=r.$implicit;t.R7$(2),t.JRh(n.name)}}function B(e,r){if(1&e&&(t.j41(0,"tr"),t.nrm(1,"th"),t.j41(2,"th",2),t.EFF(3,"|"),t.k0s(),t.nrm(4,"th",2),t.j41(5,"th",2),t.EFF(6,"|"),t.k0s(),t.DNE(7,A,5,1,"ng-container",1),t.k0s()),2&e){const n=t.XpG();t.R7$(7),t.Y8G("ngForOf",n.horisontalValues)}}function L(e,r){1&e&&(t.qex(0),t.nrm(1,"th",4),t.j41(2,"th",2),t.EFF(3,"+"),t.k0s(),t.bVm())}function P(e,r){if(1&e&&(t.j41(0,"tr"),t.nrm(1,"th"),t.j41(2,"th",2),t.EFF(3,"+"),t.k0s(),t.nrm(4,"th",4),t.j41(5,"th",2),t.EFF(6,"+"),t.k0s(),t.DNE(7,L,4,0,"ng-container",1),t.k0s()),2&e){const n=t.XpG();t.R7$(7),t.Y8G("ngForOf",n.horisontalValues)}}function U(e,r){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.R7$(),t.SpI("",n," ")}}function J(e,r){if(1&e&&(t.qex(0),t.j41(1,"th",5),t.DNE(2,U,2,1,"span",1),t.k0s(),t.j41(3,"th",2),t.EFF(4,"|"),t.k0s(),t.bVm()),2&e){const n=r.$implicit,o=t.XpG().$implicit,a=t.XpG();t.R7$(2),t.Y8G("ngForOf",a.findWordsForValues(t.l_i(1,X,n,o)))}}function q(e,r){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.R7$(),t.SpI("",n," ")}}function H(e,r){if(1&e&&(t.qex(0),t.j41(1,"th",6),t.DNE(2,q,2,1,"span",1),t.k0s(),t.j41(3,"th",2),t.EFF(4,"|"),t.k0s(),t.bVm()),2&e){const n=t.XpG().$implicit,o=t.XpG();t.R7$(2),t.Y8G("ngForOf",o.findWordsForValues(t.eq3(1,z,n)))}}function K(e,r){1&e&&(t.qex(0),t.nrm(1,"th",4),t.j41(2,"th",2),t.EFF(3,"+"),t.k0s(),t.bVm())}function Q(e,r){1&e&&(t.qex(0),t.nrm(1,"th",7),t.j41(2,"th",2),t.EFF(3,"+"),t.k0s(),t.bVm())}function Z(e,r){if(1&e&&(t.qex(0),t.j41(1,"tr"),t.nrm(2,"th"),t.j41(3,"th",2),t.EFF(4,"|"),t.k0s(),t.j41(5,"th",3),t.EFF(6),t.k0s(),t.j41(7,"th",2),t.EFF(8,"|"),t.k0s(),t.DNE(9,J,5,4,"ng-container",1)(10,H,5,3,"ng-container",0),t.k0s(),t.j41(11,"tr"),t.nrm(12,"th"),t.j41(13,"th",2),t.EFF(14,"+"),t.k0s(),t.nrm(15,"th",4),t.j41(16,"th",2),t.EFF(17,"+"),t.k0s(),t.DNE(18,K,4,0,"ng-container",1)(19,Q,4,0,"ng-container",0),t.k0s(),t.bVm()),2&e){const n=r.$implicit,o=t.XpG();t.R7$(6),t.JRh(n.name),t.R7$(3),t.Y8G("ngForOf",o.horisontalValues),t.R7$(),t.Y8G("ngIf",!(null!=o.horisontalValues&&o.horisontalValues.length)),t.R7$(8),t.Y8G("ngForOf",o.horisontalValues),t.R7$(),t.Y8G("ngIf",!(null!=o.horisontalValues&&o.horisontalValues.length))}}let tt=(()=>{class e{columnSize;declinedWord;horisontalValues;verticalValues;wordSearchValues;constructor(){}get array(){return[...Array(this.columnSize).keys()]}ngOnInit(){}findWordsForValues(n){let o=this.declinedWord?.declensionList;for(const s of n.concat(this.wordSearchValues))o=o?.filter(i=>!!i.declension?.values?.filter(zt=>zt.id===s.id).length);const a=o?.map(s=>s.wordDeclensions).reduce((s,i)=>s?i?s.concat(i):s:i||[],[]);return a||[]}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=t.VBU({type:e,selectors:[["tbody","app-word-declension-table",""]],inputs:{columnSize:"columnSize",declinedWord:"declinedWord",horisontalValues:"horisontalValues",verticalValues:"verticalValues",wordSearchValues:"wordSearchValues"},standalone:!0,features:[t.aNF],attrs:M,decls:3,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-border"],[1,"text","title"],["app-horizontal-dash","",1,"text-border"],[1,"text","text-yellow-dull"],["colspan","1",1,"text","text-yellow-dull"],["app-horizontal-dash","","colspan","1",1,"text-border"]],template:function(o,a){1&o&&t.DNE(0,B,8,1,"tr",0)(1,P,8,1,"tr",0)(2,Z,20,5,"ng-container",1),2&o&&(t.Y8G("ngIf",null==a.horisontalValues?null:a.horisontalValues.length),t.R7$(),t.Y8G("ngIf",null==a.horisontalValues?null:a.horisontalValues.length),t.R7$(),t.Y8G("ngForOf",a.verticalValues))},dependencies:[d.bT,d.pM,y.g],styles:[".text[_ngcontent-%COMP%]{width:1%;white-space:nowrap;padding-left:8px;padding-right:8px;text-align:center}.title[_ngcontent-%COMP%]{text-transform:capitalize}.text-border[_ngcontent-%COMP%]{width:1%;white-space:nowrap;text-align:center}"]})}return e})();var nt=l(9602);const et=["word",""],C=()=>[];function ot(e,r){1&e&&(t.qex(0),t.nrm(1,"col",3)(2,"col",2),t.bVm())}function at(e,r){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.R7$(),t.SpI("",n.name," ")}}function rt(e,r){if(1&e&&(t.qex(0),t.j41(1,"tbody")(2,"tr"),t.nrm(3,"th"),t.j41(4,"th",5),t.EFF(5,"|"),t.k0s(),t.j41(6,"th",7),t.DNE(7,at,2,1,"span",4),t.k0s(),t.j41(8,"th",5),t.EFF(9,"|"),t.k0s()(),t.j41(10,"tr"),t.nrm(11,"th"),t.j41(12,"th",5),t.EFF(13,"+"),t.k0s(),t.nrm(14,"th",6),t.j41(15,"th",5),t.EFF(16,"+"),t.k0s()()(),t.nrm(17,"tbody",8),t.bVm()),2&e){const n=r.$implicit,o=t.XpG(3);t.R7$(6),t.Y8G("colSpan",2*o.columnSize+1),t.R7$(),t.Y8G("ngForOf",n),t.R7$(7),t.Y8G("colSpan",2*o.columnSize+1),t.R7$(3),t.Y8G("columnSize",o.columnSize)("declinedWord",o.declinedWord)("horisontalValues",o.valuesArray[o.valuesArray.length-2])("verticalValues",o.valuesArray[o.valuesArray.length-1])("wordSearchValues",n)}}function st(e,r){if(1&e&&(t.qex(0),t.DNE(1,rt,18,8,"ng-container",4),t.bVm()),2&e){const n=t.XpG(2);t.R7$(),t.Y8G("ngForOf",n.restValues)}}function it(e,r){if(1&e&&(t.qex(0),t.nrm(1,"tbody",8),t.bVm()),2&e){const n=t.XpG(2);t.R7$(),t.Y8G("columnSize",n.columnSize)("declinedWord",n.declinedWord)("horisontalValues",n.valuesArray[0])("verticalValues",n.valuesArray[1])("wordSearchValues",t.lJ4(5,C))}}function lt(e,r){if(1&e&&(t.qex(0),t.nrm(1,"tbody",9),t.bVm()),2&e){const n=t.XpG(2);t.R7$(),t.Y8G("columnSize",n.columnSize)("declinedWord",n.declinedWord)("verticalValues",n.valuesArray[0])("wordSearchValues",t.lJ4(4,C))}}function ct(e,r){if(1&e&&(t.j41(0,"table")(1,"colgroup"),t.nrm(2,"col",1)(3,"col",2)(4,"col",3)(5,"col",2),t.DNE(6,ot,3,0,"ng-container",4),t.k0s(),t.j41(7,"tbody")(8,"tr"),t.nrm(9,"th"),t.j41(10,"th",5),t.EFF(11,"+"),t.k0s(),t.nrm(12,"th",6),t.j41(13,"th",5),t.EFF(14,"+"),t.k0s()()(),t.DNE(15,st,2,1,"ng-container",0)(16,it,2,6,"ng-container",0)(17,lt,2,5,"ng-container",0),t.k0s()),2&e){const n=t.XpG();t.R7$(6),t.Y8G("ngForOf",n.array),t.R7$(6),t.Y8G("colSpan",2*n.columnSize+1),t.R7$(3),t.Y8G("ngIf",n.valuesArray.length>2),t.R7$(),t.Y8G("ngIf",2==n.valuesArray.length),t.R7$(),t.Y8G("ngIf",1==n.valuesArray.length)}}let dt=(()=>{class e{declensionService;word;declinedWord;valuesMap=new Map;valuesArray=[];restValues=[];constructor(n){this.declensionService=n}get columnSize(){return this.valuesArray.length?1===this.valuesArray.length?1:this.valuesArray[this.valuesArray.length-2].length:0}get arrayCircle(){const n=this.valuesArray.map(o=>o.length).reduce((o,a)=>Math.max(o,a),0);return[...Array(n).keys()]}get arrayOfValues(){return[...Array(this.valuesArray.length).keys()]}get array(){return[...Array(this.columnSize).keys()]}ngOnInit(){this.word.id&&this.declensionService.getDeclineWord({wordId:this.word.id}).subscribe(n=>{this.declinedWord=n,this.declinedWord?.declensionList?.forEach(o=>{o.declension?.values?.forEach(a=>{const s=a.category?.id;s&&(this.valuesMap.has(s)||this.valuesMap.set(s,[]),this.valuesMap.get(s)?.filter(i=>i.id===a.id).length||this.valuesMap.get(s)?.push(a))})}),this.valuesArray=Array.from(this.valuesMap.values()).sort((o,a)=>o.length-a.length),this.calculateRestValues(),console.log(this.valuesArray)})}calculateRestValues(){this.restValues=[],this.restValues.push([]);for(let n=0;n<this.valuesArray.length-2;n++){const o=[];this.restValues.forEach(a=>{this.valuesArray[n].forEach(s=>{o.push([...a,s])})}),this.restValues=o}console.log("rest values",this.restValues)}static \u0275fac=function(o){return new(o||e)(t.rXU(nt.A))};static \u0275cmp=t.VBU({type:e,selectors:[["app-word-declensions","word",""]],inputs:{word:"word"},standalone:!0,features:[t.aNF],attrs:et,decls:1,vars:1,consts:[[4,"ngIf"],["span","1",2,"width","100%"],["span","1",2,"width","8px"],["span","1",2,"width","1%","text-align","right"],[4,"ngFor","ngForOf"],[1,"text-border"],["app-horizontal-dash","",1,"text-border",3,"colSpan"],[1,"text","title",3,"colSpan"],["app-word-declension-table","",3,"columnSize","declinedWord","horisontalValues","verticalValues","wordSearchValues"],["app-word-declension-table","",3,"columnSize","declinedWord","verticalValues","wordSearchValues"]],template:function(o,a){1&o&&t.DNE(0,ct,18,5,"table",0),2&o&&t.Y8G("ngIf",a.columnSize)},dependencies:[tt,d.bT,d.pM,y.g],styles:[".text[_ngcontent-%COMP%]{width:1%;white-space:nowrap;padding-left:8px;padding-right:8px;text-align:center}.title[_ngcontent-%COMP%]{text-transform:capitalize}.text-border[_ngcontent-%COMP%]{width:1%;white-space:nowrap;text-align:center}"]})}return e})();var E=l(6419);const pt=["word","","category","","connected",""];function mt(e,r){if(1&e&&(t.j41(0,"option",3),t.EFF(1),t.k0s()),2&e){const n=r.$implicit;t.Y8G("ngValue",n),t.R7$(),t.JRh(n.name)}}let _t=(()=>{class e{categoryService;category;categoryValues;value;connected;word;constructor(n){this.categoryService=n}ngOnInit(){console.log("ngOnInit value",this.value),this.value=this.categoryValues?.find(n=>n.id==this.value?.id)}valueChanged(n){console.log("Value changed",n),n.value?this.categoryService.replaceGrammaticalValuesByWord({body:{value:n.value,word:this.word}}).subscribe(()=>console.log("Saved value")):this.word.id&&this.category.id&&this.categoryService.removeGrammaticalValuesByWord({wordId:this.word.id,categoryId:this.category.id}).subscribe(()=>console.log("Removed value"))}static \u0275fac=function(o){return new(o||e)(t.rXU(E.M))};static \u0275cmp=t.VBU({type:e,selectors:[["app-word-grammar-category","word","","category","","connected",""]],inputs:{category:"category",categoryValues:"categoryValues",value:"value",connected:"connected",word:"word"},standalone:!0,features:[t.aNF],attrs:pt,decls:7,vars:5,consts:[[3,"ngClass"],[1,"input-group",2,"margin-right","12px"],["id","newWordTypeSelector",1,"posSelector",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(o,a){1&o&&(t.j41(0,"span",0),t.EFF(1),t.k0s(),t.EFF(2,":\n"),t.j41(3,"span",1)(4,"select",2),t.bIt("ngModelChange",function(i){return a.valueChanged({value:i})}),t.mxI("ngModelChange",function(i){return t.DH7(a.value,i)||(a.value=i),i}),t.nrm(5,"option",3),t.DNE(6,mt,2,2,"option",4),t.k0s()()),2&o&&(t.Y8G("ngClass",a.connected?"":"text-red-dull"),t.R7$(),t.JRh(a.category.name),t.R7$(3),t.R50("ngModel",a.value),t.R7$(),t.Y8G("ngValue",void 0),t.R7$(),t.Y8G("ngForOf",a.categoryValues))},dependencies:[d.MD,d.YU,d.Sq,m.YN,m.xH,m.y7,m.wz,m.BC,m.vS]})}return e})();const gt=["word",""];function ut(e,r){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.j41(2,"span",9),t.EFF(3),t.k0s()()),2&e){const n=r.$implicit,o=r.index,a=t.XpG(2);t.R7$(),t.JRh(0==o?"":", "),t.R7$(),t.Y8G("ngClass",a.isValueConnected(n)?"":"text-red-dull"),t.R7$(),t.JRh(null==n.value?null:n.value.name)}}function ht(e,r){if(1&e){const n=t.RV6();t.j41(0,"span",6),t.DNE(1,ut,4,3,"span",7),t.j41(2,"a",8),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.isEditCategories=!0)}),t.EFF(3," [e]"),t.k0s()()}if(2&e){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.wordValues)}}function ft(e,r){if(1&e&&t.nrm(0,"app-word-grammar-category",11),2&e){const n=t.XpG().$implicit,o=t.XpG(2);t.Y8G("categoryValues",o.categoryValues.get(n))("category",n)("connected",o.isCategoryConnected(n))("value",o.getWordCategoryValue(n))("word",o.word)}}function Ft(e,r){if(1&e&&(t.j41(0,"span"),t.DNE(1,ft,1,5,"app-word-grammar-category",10),t.k0s()),2&e){const n=r.$implicit,o=t.XpG(2);t.R7$(),t.Y8G("ngIf",o.isCategoryConnected(n)||o.getWordCategoryValue(n))}}function wt(e,r){if(1&e){const n=t.RV6();t.j41(0,"span",6),t.DNE(1,Ft,2,1,"span",7),t.j41(2,"a",8),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.save())}),t.EFF(3," [close]"),t.k0s()()}if(2&e){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.categories)}}let yt=(()=>{class e{categoryService;word;categoryValues=new Map;categoryConnections=new Map;wordValues=[];isEditCategories=!1;constructor(n){this.categoryService=n}get categories(){return[...this.categoryValues.keys()].sort((n,o)=>n.name?n.name.localeCompare(o.name?o.name:""):-1)}ngOnInit(){this.categoryService.getAllCategories().subscribe(n=>{n.forEach(o=>{this.categoryValues.set(o,[]),o.id&&this.word.language?.id&&this.categoryService.getCategoryValuesByCategoryAndLang({categoryId:o.id,langId:this.word.language.id}).subscribe(a=>{this.categoryValues.set(o,a)}),this.word.language?.id&&o.id&&this.categoryService.getGrammaticalCategoryConnectionsForLang({categoryId:o.id,languageId:this.word.language.id}).subscribe(a=>{o.id&&this.categoryConnections.set(o.id,!!a.find(s=>s?.pos?.id===this.word.partOfSpeech?.id))})})}),this.reloadWordValues()}save(){this.reloadWordValues(),this.isEditCategories=!1}getWordCategoryValue(n){const o=this.wordValues?.find(a=>a.value?.category?.id==n.id)?.value;return o??void 0}isValueConnected(n){return this.isCategoryConnected(n?.value?.category)}isCategoryConnected(n){return!!n?.id&&!!this.categoryConnections.get(n.id)}reloadWordValues(){this.word.id&&this.categoryService.getGrammaticalValuesByWord({wordId:this.word.id}).subscribe(n=>{this.wordValues=n})}static \u0275fac=function(o){return new(o||e)(t.rXU(E.M))};static \u0275cmp=t.VBU({type:e,selectors:[["app-word-grammar","word",""]],inputs:{word:"word"},standalone:!0,features:[t.aNF],attrs:gt,decls:12,vars:7,consts:[[1,"grammar-container"],[1,"word-grammar"],[1,"text-green-dull","text-line",2,"text-transform","capitalize"],["style","margin-left: 8px;",4,"ngIf"],[1,"declension"],[3,"word"],[2,"margin-left","8px"],[4,"ngFor","ngForOf"],[1,"text-grey-dull","link-btn",3,"click"],[3,"ngClass"],[3,"categoryValues","category","connected","value","word",4,"ngIf"],[3,"categoryValues","category","connected","value","word"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"span",2)(3,"i"),t.EFF(4),t.nI1(5,"writtenWord"),t.k0s()(),t.j41(6,"span"),t.EFF(7),t.k0s(),t.DNE(8,ht,4,1,"span",3)(9,wt,4,1,"span",3),t.k0s(),t.j41(10,"div",4),t.nrm(11,"app-word-declensions",5),t.k0s()()),2&o&&(t.R7$(4),t.JRh(t.bMT(5,5,a.word.writtenWord)),t.R7$(3),t.SpI(" ",null==a.word.partOfSpeech||null==a.word.partOfSpeech.name?null:a.word.partOfSpeech.name.toLowerCase(),";"),t.R7$(),t.Y8G("ngIf",!a.isEditCategories),t.R7$(),t.Y8G("ngIf",a.isEditCategories),t.R7$(2),t.Y8G("word",a.word))},dependencies:[d.MD,d.YU,d.Sq,d.bT,dt,_t,u.g],styles:[".grammar-container[_ngcontent-%COMP%]{display:flex}.word-grammar[_ngcontent-%COMP%]{min-width:40%}.declension[_ngcontent-%COMP%]{text-align:right;width:100%}"]})}return e})();var Ct=l(9594),Et=l(136);const T=e=>["/words",e];function Tt(e,r){1&e&&(t.j41(0,"span"),t.EFF(1," - "),t.k0s())}function Wt(e,r){if(1&e&&(t.j41(0,"span"),t.DNE(1,Tt,2,0,"span",6),t.j41(2,"a",7),t.EFF(3),t.k0s()()),2&e){const n=r.$implicit,o=r.index;t.R7$(),t.Y8G("ngIf",o>0),t.R7$(),t.Y8G("fragment",n.displayName)("routerLink","."),t.R7$(),t.JRh(n.displayName)}}function kt(e,r){if(1&e){const n=t.RV6();t.j41(0,"span")(1,"span",3),t.EFF(2),t.k0s(),t.j41(3,"a",14),t.bIt("click",function(){t.eBV(n);const a=t.XpG(3);return t.Njj(a.editComment())}),t.EFF(4," [e]"),t.k0s()()}if(2&e){const n=t.XpG().$implicit;t.R7$(2),t.SpI(" ",null==n.word?null:n.word.comment,"")}}function jt(e,r){if(1&e){const n=t.RV6();t.j41(0,"input",18),t.bIt("ngModelChange",function(a){t.eBV(n);const s=t.XpG(2).$implicit,i=t.XpG(2);return t.Njj(i.changeComment(a,s.word))}),t.mxI("ngModelChange",function(a){t.eBV(n);const s=t.XpG(2).$implicit;return t.DH7(s.word.comment,a)||(s.word.comment=a),t.Njj(a)}),t.k0s()}if(2&e){const n=t.XpG(2).$implicit;t.R50("ngModel",n.word.comment)}}function Gt(e,r){if(1&e){const n=t.RV6();t.j41(0,"span"),t.DNE(1,jt,1,1,"input",15),t.j41(2,"a",16),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,s=t.XpG(2);return t.Njj(s.saveComment(a.word))}),t.EFF(3," [s]"),t.k0s(),t.j41(4,"a",17),t.bIt("click",function(){t.eBV(n);const a=t.XpG(3);return t.Njj(a.editComment())}),t.EFF(5," [c]"),t.k0s()()}if(2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",n.word)}}function vt(e,r){if(1&e&&(t.j41(0,"tr")(1,"th",2),t.EFF(2,"|"),t.k0s(),t.j41(3,"th",11)(4,"a",12),t.EFF(5),t.nI1(6,"writtenWord"),t.k0s(),t.EFF(7),t.j41(8,"a",13),t.EFF(9),t.k0s(),t.DNE(10,kt,5,1,"span",6)(11,Gt,6,1,"span",6),t.k0s(),t.j41(12,"th",2),t.EFF(13,"|"),t.k0s()()),2&e){const n=r.$implicit,o=t.XpG(2);t.R7$(4),t.Y8G("routerLink",t.eq3(9,T,null==n.word?null:n.word.word)),t.R7$(),t.JRh(t.bMT(6,7,null==n.word?null:n.word.writtenWord)),t.R7$(2),t.SpI(" ",null==n.word||null==n.word.partOfSpeech?null:n.word.partOfSpeech.abbreviation," "),t.R7$(),t.Y8G("routerLink",t.eq3(11,T,null==n.word?null:n.word.word)),t.R7$(),t.SpI("/ ",null==n.word?null:n.word.word," /"),t.R7$(),t.Y8G("ngIf",!o.isEditComment),t.R7$(),t.Y8G("ngIf",o.isEditComment)}}function bt(e,r){if(1&e&&t.nrm(0,"app-word-grammar",24),2&e){const n=t.XpG().$implicit;t.Y8G("word",n.word)}}function Rt(e,r){if(1&e&&(t.j41(0,"p"),t.EFF(1," From "),t.nrm(2,"app-word-detail-list",25),t.EFF(3," . "),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(2),t.Y8G("wordsWithTranslations",null==n.etymology?null:n.etymology.from)}}function $t(e,r){1&e&&(t.j41(0,"p"),t.EFF(1,"New word."),t.k0s())}function Vt(e,r){if(1&e&&(t.j41(0,"p"),t.EFF(1," Cognate with "),t.nrm(2,"app-word-detail-list",25),t.EFF(3," . "),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(2),t.Y8G("wordsWithTranslations",null==n.etymology?null:n.etymology.cognate)}}function xt(e,r){if(1&e&&(t.j41(0,"div",27),t.nrm(1,"app-word-detail-translations",28),t.k0s()),2&e){const n=t.XpG(2).$implicit;t.R7$(),t.Y8G("translations",n.translations)}}function Dt(e,r){if(1&e&&(t.qex(0),t.j41(1,"tr")(2,"th",2),t.EFF(3,"|"),t.k0s(),t.j41(4,"th",2)(5,"span",19),t.EFF(6,"Translations"),t.k0s()(),t.j41(7,"th",2),t.EFF(8,"|"),t.k0s()(),t.j41(9,"tr")(10,"th",2),t.EFF(11,"+"),t.k0s(),t.nrm(12,"th",5),t.j41(13,"th",2),t.EFF(14,"+"),t.k0s()(),t.j41(15,"tr"),t.nrm(16,"th",20),t.j41(17,"th",21),t.DNE(18,xt,2,1,"div",26),t.k0s(),t.nrm(19,"th",20),t.k0s(),t.j41(20,"tr")(21,"th",2),t.EFF(22,"+"),t.k0s(),t.nrm(23,"th",5),t.j41(24,"th",2),t.EFF(25,"+"),t.k0s()(),t.bVm()),2&e){const n=t.XpG().$implicit;t.R7$(18),t.Y8G("ngIf",n.translations)}}function Yt(e,r){if(1&e&&(t.j41(0,"p"),t.EFF(1," Derived to "),t.nrm(2,"app-word-detail-list",25),t.EFF(3," . "),t.k0s()),2&e){const n=t.XpG(2).$implicit;t.R7$(2),t.Y8G("wordsWithTranslations",n.derived)}}function It(e,r){if(1&e&&(t.qex(0),t.j41(1,"tr")(2,"th",2),t.EFF(3,"|"),t.k0s(),t.j41(4,"th",2)(5,"span",19),t.EFF(6,"Derived"),t.k0s()(),t.j41(7,"th",2),t.EFF(8,"|"),t.k0s()(),t.j41(9,"tr")(10,"th",2),t.EFF(11,"+"),t.k0s(),t.nrm(12,"th",5),t.j41(13,"th",2),t.EFF(14,"+"),t.k0s()(),t.j41(15,"tr"),t.nrm(16,"th",20),t.j41(17,"th",21)(18,"div",22),t.DNE(19,Yt,4,1,"p",6),t.k0s()(),t.nrm(20,"th",20),t.k0s(),t.j41(21,"tr")(22,"th",2),t.EFF(23,"+"),t.k0s(),t.nrm(24,"th",5),t.j41(25,"th",2),t.EFF(26,"+"),t.k0s()(),t.bVm()),2&e){const n=t.XpG().$implicit;t.R7$(19),t.Y8G("ngIf",n.derived)}}function Ot(e,r){1&e&&t.nrm(0,"li",30),2&e&&t.Y8G("descendant",r.$implicit)}function St(e,r){if(1&e&&(t.qex(0),t.j41(1,"tr")(2,"th",2),t.EFF(3,"|"),t.k0s(),t.j41(4,"th",2)(5,"span",19),t.EFF(6,"Descendants"),t.k0s()(),t.j41(7,"th",2),t.EFF(8,"|"),t.k0s()(),t.j41(9,"tr")(10,"th",2),t.EFF(11,"+"),t.k0s(),t.nrm(12,"th",5),t.j41(13,"th",2),t.EFF(14,"+"),t.k0s()(),t.j41(15,"tr"),t.nrm(16,"th",20),t.j41(17,"th",21)(18,"div",27)(19,"ul"),t.DNE(20,Ot,1,1,"li",29),t.k0s()()(),t.nrm(21,"th",20),t.k0s(),t.j41(22,"tr")(23,"th",2),t.EFF(24,"+"),t.k0s(),t.nrm(25,"th",5),t.j41(26,"th",2),t.EFF(27,"+"),t.k0s()(),t.bVm()),2&e){const n=t.XpG().$implicit;t.R7$(20),t.Y8G("ngForOf",n.descendants.descendants)}}function Nt(e,r){if(1&e&&(t.qex(0),t.j41(1,"tr")(2,"th",2),t.EFF(3,"|"),t.k0s(),t.j41(4,"th",2)(5,"span",19),t.EFF(6,"Grammar"),t.k0s()(),t.j41(7,"th",2),t.EFF(8,"|"),t.k0s()(),t.j41(9,"tr")(10,"th",2),t.EFF(11,"+"),t.k0s(),t.nrm(12,"th",5),t.j41(13,"th",2),t.EFF(14,"+"),t.k0s()(),t.j41(15,"tr"),t.nrm(16,"th",20),t.j41(17,"th",21)(18,"div",22),t.DNE(19,bt,1,1,"app-word-grammar",23),t.k0s()(),t.nrm(20,"th",20),t.k0s(),t.j41(21,"tr")(22,"th",2),t.EFF(23,"+"),t.k0s(),t.nrm(24,"th",5),t.j41(25,"th",2),t.EFF(26,"+"),t.k0s()(),t.j41(27,"tr")(28,"th",2),t.EFF(29,"|"),t.k0s(),t.j41(30,"th",2)(31,"span",19),t.EFF(32,"Etymology "),t.j41(33,"span"),t.EFF(34),t.k0s()()(),t.j41(35,"th",2),t.EFF(36,"|"),t.k0s()(),t.j41(37,"tr")(38,"th",2),t.EFF(39,"+"),t.k0s(),t.nrm(40,"th",5),t.j41(41,"th",2),t.EFF(42,"+"),t.k0s()(),t.j41(43,"tr"),t.nrm(44,"th",20),t.j41(45,"th",21)(46,"div",22),t.DNE(47,Rt,4,1,"p",6)(48,$t,2,0,"p",6)(49,Vt,4,1,"p",6),t.k0s()(),t.nrm(50,"th",20),t.k0s(),t.j41(51,"tr")(52,"th",2),t.EFF(53,"+"),t.k0s(),t.nrm(54,"th",5),t.j41(55,"th",2),t.EFF(56,"+"),t.k0s()(),t.DNE(57,Dt,26,1,"ng-container",6)(58,It,27,1,"ng-container",6)(59,St,28,1,"ng-container",6),t.bVm()),2&e){const n=r.$implicit,o=r.index;t.R7$(19),t.Y8G("ngIf",n.word),t.R7$(15),t.JRh(o+1),t.R7$(13),t.Y8G("ngIf",null==n.etymology||null==n.etymology.from?null:n.etymology.from.length),t.R7$(),t.Y8G("ngIf",!(null!=n.etymology&&null!=n.etymology.from&&n.etymology.from.length)),t.R7$(),t.Y8G("ngIf",null==n.etymology||null==n.etymology.cognate?null:n.etymology.cognate.length),t.R7$(8),t.Y8G("ngIf",n.translations&&n.translations.length),t.R7$(),t.Y8G("ngIf",n.derived&&n.derived.length),t.R7$(),t.Y8G("ngIf",n.descendants&&(null==n.descendants||null==n.descendants.descendants?null:n.descendants.descendants.length))}}function Mt(e,r){if(1&e&&(t.j41(0,"tbody")(1,"tr")(2,"th",2),t.EFF(3,"|"),t.k0s(),t.j41(4,"th",8)(5,"a",9),t.EFF(6),t.k0s()(),t.j41(7,"th",2),t.EFF(8,"|"),t.k0s()(),t.j41(9,"tr")(10,"th",2),t.EFF(11,"+"),t.k0s(),t.nrm(12,"th",5),t.j41(13,"th",2),t.EFF(14,"+"),t.k0s()(),t.DNE(15,vt,14,13,"tr",4),t.j41(16,"tr")(17,"th",2),t.EFF(18,"+"),t.k0s(),t.nrm(19,"th",10),t.j41(20,"th",2),t.EFF(21,"+"),t.k0s()(),t.DNE(22,Nt,60,8,"ng-container",4),t.k0s()),2&e){const n=r.$implicit,o=t.XpG();t.R7$(5),t.Y8G("fragment",n.displayName)("id",n.displayName)("routerLink","."),t.R7$(),t.JRh(n.displayName),t.R7$(9),t.Y8G("ngForOf",o.detailedWords.get(n)),t.R7$(7),t.Y8G("ngForOf",o.detailedWords.get(n))}}let Xt=(()=>{class e{activatedRoute;wordsService;detailedWords=new Map;languages=[];isEditComment=!1;constructor(n,o){this.activatedRoute=n,this.wordsService=o}get detailedWordsKeys(){return this.languages}ngOnInit(){this.activatedRoute.data.subscribe(n=>{if(n&&n.wordDetails){const o=n.wordDetails;console.log("WordsDetailComponent ngOnInit",o);const a={displayName:""};this.languages=o.filter(s=>s.word?.language).map(s=>s.word?.language?s.word.language:a),o.forEach(s=>{if(s.word?.language){const i=this.detailedWords.get(s.word.language);i?i.push(s):this.detailedWords.set(s.word.language,[s])}})}})}ngOnDestroy(){console.log("WordsDetailComponent ngOnDestroy")}editComment(){this.isEditComment=!this.isEditComment}saveComment(n){console.log(n),n&&this.wordsService.addWord({body:n}).subscribe(o=>{n.comment=o.comment,this.isEditComment=!1})}changeComment(n,o){o.comment=n}static \u0275fac=function(o){return new(o||e)(t.rXU(c.nX),t.rXU(Et.t))};static \u0275cmp=t.VBU({type:e,selectors:[["app-words"]],standalone:!0,features:[t.aNF],decls:20,vars:2,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],[1,"border"],[1,"text-grey"],[4,"ngFor","ngForOf"],["app-horizontal-dash","",1,"border"],[4,"ngIf"],[1,"text-main","link-btn",3,"fragment","routerLink"],[1,"text-white"],[1,"text-white","link-btn",2,"text-transform","uppercase",3,"fragment","id","routerLink"],["app-horizontal-dash","",1,"border-dull"],[1,"border",2,"text-align","left"],[1,"text-green-dull","text-line","link-btn",3,"routerLink"],[1,"text-main","link-btn",3,"routerLink"],[1,"text-grey-dull","link-btn",3,"click"],["type","text","style","height: 16px; margin-left: 8px; margin-right: 0px;",3,"ngModel","ngModelChange",4,"ngIf"],[1,"text-green-dull","link-btn",3,"click"],[1,"text-red-dull","link-btn",3,"click"],["type","text",2,"height","16px","margin-left","8px","margin-right","0px",3,"ngModelChange","ngModel"],[2,"text-transform","capitalize"],["app-vertical-dash","",1,"border"],[2,"text-align","left"],[1,"cell-content","text-cell-content"],[3,"word",4,"ngIf"],[3,"word"],[3,"wordsWithTranslations"],["class","cell-content",4,"ngIf"],[1,"cell-content"],[3,"translations"],["app-word-detail-descendants","",3,"descendant",4,"ngFor","ngForOf"],["app-word-detail-descendants","",3,"descendant"]],template:function(o,a){1&o&&(t.j41(0,"table")(1,"colgroup"),t.nrm(2,"col",0)(3,"col",1)(4,"col",0),t.k0s(),t.j41(5,"tbody")(6,"tr")(7,"th",2),t.EFF(8,"|"),t.k0s(),t.j41(9,"th",3),t.DNE(10,Wt,4,4,"span",4),t.k0s(),t.j41(11,"th",2),t.EFF(12,"|"),t.k0s()(),t.j41(13,"tr")(14,"th",2),t.EFF(15,"+"),t.k0s(),t.nrm(16,"th",5),t.j41(17,"th",2),t.EFF(18,"+"),t.k0s()()(),t.DNE(19,Mt,23,6,"tbody",4),t.k0s()),2&o&&(t.R7$(10),t.Y8G("ngForOf",a.detailedWordsKeys),t.R7$(9),t.Y8G("ngForOf",a.detailedWordsKeys))},dependencies:[m.YN,m.me,m.BC,m.vS,c.Wk,b,yt,O,N,u.g,d.pM,d.bT,y.g,Ct.K],styles:[".text-line[_ngcontent-%COMP%]{margin-left:32px;text-transform:capitalize}.cell-content[_ngcontent-%COMP%]{margin:16px}.text-cell-content[_ngcontent-%COMP%]{text-indent:16px}.word-description[_ngcontent-%COMP%]{margin-block-start:.5em;padding-inline-start:40px}.border-dull[_ngcontent-%COMP%]{color:#3d3d3d!important}"]})}return e})()}}]);