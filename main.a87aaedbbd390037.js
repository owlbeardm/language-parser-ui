"use strict";(self.webpackChunklanguage_parser_ui=self.webpackChunklanguage_parser_ui||[]).push([[792],{576:(Kt,nt,O)=>{O.d(nt,{$:()=>bi,A:()=>ee,G:()=>Ve,K:()=>Yi,L:()=>Wr,N:()=>Uo,P:()=>Tl,R:()=>tt,U:()=>Sn,V:()=>Ui,W:()=>ps,X:()=>tu,Y:()=>Nr,Z:()=>Yo,_:()=>zi,a:()=>oo,a0:()=>gn,a1:()=>L,a2:()=>S,a3:()=>Ie,a4:()=>ms,a5:()=>zs,a6:()=>qu,a7:()=>ou,a8:()=>qs,a9:()=>Bi,aA:()=>lo,aB:()=>ge,aC:()=>ce,aD:()=>Vt,aE:()=>Nt,aF:()=>Pn,aG:()=>Id,aH:()=>Zu,aI:()=>_d,aJ:()=>te,aN:()=>ns,aQ:()=>ze,aa:()=>Fa,ab:()=>hd,ac:()=>ri,ad:()=>Ei,ae:()=>br,af:()=>su,ag:()=>rn,ah:()=>Qs,ak:()=>Cu,al:()=>er,am:()=>Ds,ap:()=>po,aq:()=>M,as:()=>Or,at:()=>Js,au:()=>ot,av:()=>co,aw:()=>Ni,ax:()=>Ae,ay:()=>nc,az:()=>ao,b:()=>bc,c:()=>md,d:()=>os,e:()=>gi,f:()=>Ou,g:()=>Lc,h:()=>so,i:()=>El,j:()=>ap,k:()=>Ad,l:()=>xr,m:()=>ku,p:()=>Ye,r:()=>vo,s:()=>Ut,u:()=>pd});var d=O(467),z=O(7852),F=O(1076),ae=O(8041),ie=O(1635),pe=O(1362);const Ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ee={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ve=function me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Xe=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mt=new F.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fe=new ae.Vy("@firebase/auth");function Pe(_,...f){Fe.logLevel<=ae.$b.ERROR&&Fe.error(`Auth (${z.SDK_VERSION}): ${_}`,...f)}function Ae(_,...f){throw K(_,...f)}function ge(_,...f){return K(_,...f)}function Se(_,f,g){const w=Object.assign(Object.assign({},Xe()),{[f]:g});return new F.FA("auth","Firebase",w).create(f,{appName:_.name})}function Te(_){return Se(_,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function De(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ae(_,"argument-error"),Se(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function K(_,...f){if("string"!=typeof _){const g=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(g,...w)}return mt.create(_,...f)}function ce(_,f,...g){if(!_)throw K(f,...g)}function vt(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Pe(f),new Error(f)}function ot(_,f){_||vt(f)}function bn(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function hn(){return"http:"===sr()||"https:"===sr()}function sr(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class ar{constructor(f,g){this.shortDelay=f,this.longDelay=g,ot(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,F.jZ)()||(0,F.lV)()}get(){return function Kn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(hn()||(0,F.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qe(_,f){ot(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class at{static initialize(f,g,w){this.fetchImpl=f,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void vt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void vt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void vt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},lt=new ar(3e4,6e4);function ke(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Oe(_,f,g,w){return se.apply(this,arguments)}function se(){return(se=(0,d.A)(function*(_,f,g,w,j={}){return _e(_,j,(0,d.A)(function*(){let Z={},Ne={};w&&("GET"===f?Ne=w:Z={body:JSON.stringify(w)});const pt=(0,F.Am)(Object.assign({key:_.config.apiKey},Ne)).slice(1),Pt=yield _._getAdditionalHeaders();return Pt["Content-Type"]="application/json",_.languageCode&&(Pt["X-Firebase-Locale"]=_.languageCode),at.fetch()(Zn(_,_.config.apiHost,g,pt),Object.assign({method:f,headers:Pt,referrerPolicy:"no-referrer"},Z))}))})).apply(this,arguments)}function _e(_,f,g){return Re.apply(this,arguments)}function Re(){return(Re=(0,d.A)(function*(_,f,g){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},yt),f);try{const j=new Un(_),Z=yield Promise.race([g(),j.promise]);j.clearNetworkTimeout();const Ne=yield Z.json();if("needConfirmation"in Ne)throw Gn(_,"account-exists-with-different-credential",Ne);if(Z.ok&&!("errorMessage"in Ne))return Ne;{const pt=Z.ok?Ne.errorMessage:Ne.error.message,[Pt,an]=pt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pt)throw Gn(_,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===Pt)throw Gn(_,"email-already-in-use",Ne);if("USER_DISABLED"===Pt)throw Gn(_,"user-disabled",Ne);const _n=w[Pt]||Pt.toLowerCase().replace(/[_\s]+/g,"-");if(an)throw Se(_,_n,an);Ae(_,_n)}}catch(j){if(j instanceof F.g)throw j;Ae(_,"network-request-failed",{message:String(j)})}})).apply(this,arguments)}function Ue(_,f,g,w){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,d.A)(function*(_,f,g,w,j={}){const Z=yield Oe(_,f,g,w,j);return"mfaPendingCredential"in Z&&Ae(_,"multi-factor-auth-required",{_serverResponse:Z}),Z})).apply(this,arguments)}function Zn(_,f,g,w){const j=`${f}${g}?${w}`;return _.config.emulator?qe(_.config,j):`${_.config.apiScheme}://${j}`}function Ci(_){switch(_){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Un{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(ge(this.auth,"network-request-failed")),lt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gn(_,f,g){const w={appName:_.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const j=ge(_,f,w);return j.customData._tokenResponse=g,j}function lr(_){return void 0!==_&&void 0!==_.getResponse}function zt(_){return void 0!==_&&void 0!==_.enterprise}class Fr{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===f)return Ci(g.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function ui(){return(ui=(0,d.A)(function*(_){return(yield Oe(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $n(_,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,d.A)(function*(_,f){return Oe(_,"GET","/v2/recaptchaConfig",ke(_,f))})).apply(this,arguments)}function uo(){return(uo=(0,d.A)(function*(_,f){return Oe(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function wn(){return(wn=(0,d.A)(function*(_,f){return Oe(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Mt(_,f){return Br.apply(this,arguments)}function Br(){return(Br=(0,d.A)(function*(_,f){return Oe(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function jr(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function yr(){return(yr=(0,d.A)(function*(_,f=!1){const g=(0,F.Ku)(_),w=yield g.getIdToken(f),j=tr(w);ce(j&&j.exp&&j.auth_time&&j.iat,g.auth,"internal-error");const Z="object"==typeof j.firebase?j.firebase:void 0,Ne=Z?.sign_in_provider;return{claims:j,token:w,authTime:jr(_o(j.auth_time)),issuedAtTime:jr(_o(j.iat)),expirationTime:jr(_o(j.exp)),signInProvider:Ne||null,signInSecondFactor:Z?.sign_in_second_factor||null}})).apply(this,arguments)}function _o(_){return 1e3*Number(_)}function tr(_){const[f,g,w]=_.split(".");if(void 0===f||void 0===g||void 0===w)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,F.u)(g);return j?JSON.parse(j):(Pe("Failed to decode base64 JWT payload"),null)}catch(j){return Pe("Caught error parsing JWT payload as JSON",j?.toString()),null}}function Di(_){const f=tr(_);return ce(f,"internal-error"),ce(typeof f.exp<"u","internal-error"),ce(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}function sn(_,f){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.A)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(w){throw w instanceof F.g&&function Bn({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}class Yr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const j=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,d.A)(function*(){yield g.iteration()}),w)}iteration(){var f=this;return(0,d.A)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class Jr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=jr(this.lastLoginAt),this.creationTime=jr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $r(_){return vi.apply(this,arguments)}function vi(){return(vi=(0,d.A)(function*(_){var f;const g=_.auth,w=yield _.getIdToken(),j=yield sn(_,Mt(g,{idToken:w}));ce(j?.users.length,g,"internal-error");const Z=j.users[0];_._notifyReloadListener(Z);const Ne=null!==(f=Z.providerUserInfo)&&void 0!==f&&f.length?it(Z.providerUserInfo):[],pt=function ht(_,f){return[..._.filter(w=>!f.some(j=>j.providerId===w.providerId)),...f]}(_.providerData,Ne),_n=!!_.isAnonymous&&!(_.email&&Z.passwordHash||pt?.length),cr={uid:Z.localId,displayName:Z.displayName||null,photoURL:Z.photoUrl||null,email:Z.email||null,emailVerified:Z.emailVerified||!1,phoneNumber:Z.phoneNumber||null,tenantId:Z.tenantId||null,providerData:pt,metadata:new Jr(Z.createdAt,Z.lastLoginAt),isAnonymous:_n};Object.assign(_,cr)})).apply(this,arguments)}function ci(){return(ci=(0,d.A)(function*(_){const f=(0,F.Ku)(_);yield $r(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function it(_){return _.map(f=>{var{providerId:g}=f,w=(0,ie.Tt)(f,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function xe(){return(xe=(0,d.A)(function*(_,f){const g=yield _e(_,{},(0,d.A)(function*(){const w=(0,F.Am)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:j,apiKey:Z}=_.config,Ne=Zn(_,j,"/v1/token",`key=${Z}`),pt=yield _._getAdditionalHeaders();return pt["Content-Type"]="application/x-www-form-urlencoded",at.fetch()(Ne,{method:"POST",headers:pt,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function H(){return(H=(0,d.A)(function*(_,f){return Oe(_,"POST","/v2/accounts:revokeToken",ke(_,f))})).apply(this,arguments)}class G{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ce(f.idToken,"internal-error"),ce(typeof f.idToken<"u","internal-error"),ce(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):Di(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}updateFromIdToken(f){ce(0!==f.length,"internal-error");const g=Di(f);this.updateTokensAndExpiration(f,null,g)}getToken(f,g=!1){var w=this;return(0,d.A)(function*(){return g||!w.accessToken||w.isExpired?(ce(w.refreshToken,f,"user-token-expired"),w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null):w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var w=this;return(0,d.A)(function*(){const{accessToken:j,refreshToken:Z,expiresIn:Ne}=yield function he(_,f){return xe.apply(this,arguments)}(f,g);w.updateTokensAndExpiration(j,Z,Number(Ne))})()}updateTokensAndExpiration(f,g,w){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,g){const{refreshToken:w,accessToken:j,expirationTime:Z}=g,Ne=new G;return w&&(ce("string"==typeof w,"internal-error",{appName:f}),Ne.refreshToken=w),j&&(ce("string"==typeof j,"internal-error",{appName:f}),Ne.accessToken=j),Z&&(ce("number"==typeof Z,"internal-error",{appName:f}),Ne.expirationTime=Z),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new G,this.toJSON())}_performRefresh(){return vt("not implemented")}}function Y(_,f){ce("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class le{constructor(f){var{uid:g,auth:w,stsTokenManager:j}=f,Z=(0,ie.Tt)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=Z.displayName||null,this.email=Z.email||null,this.emailVerified=Z.emailVerified||!1,this.phoneNumber=Z.phoneNumber||null,this.photoURL=Z.photoURL||null,this.isAnonymous=Z.isAnonymous||!1,this.tenantId=Z.tenantId||null,this.providerData=Z.providerData?[...Z.providerData]:[],this.metadata=new Jr(Z.createdAt||void 0,Z.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,d.A)(function*(){const w=yield sn(g,g.stsTokenManager.getToken(g.auth,f));return ce(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(f){return function mr(_){return yr.apply(this,arguments)}(this,f)}reload(){return function Hr(_){return ci.apply(this,arguments)}(this)}_assign(f){this!==f&&(ce(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new le(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var w=this;return(0,d.A)(function*(){let j=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),j=!0),g&&(yield $r(w)),yield w.auth._persistUserIfCurrent(w),j&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,d.A)(function*(){if((0,z._isFirebaseServerApp)(f.auth.app))return Promise.reject(Te(f.auth));const g=yield f.getIdToken();return yield sn(f,function gr(_,f){return uo.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var w,j,Z,Ne,pt,Pt,an,_n;const cr=null!==(w=g.displayName)&&void 0!==w?w:void 0,Go=null!==(j=g.email)&&void 0!==j?j:void 0,Fu=null!==(Z=g.phoneNumber)&&void 0!==Z?Z:void 0,Do=null!==(Ne=g.photoURL)&&void 0!==Ne?Ne:void 0,hu=null!==(pt=g.tenantId)&&void 0!==pt?pt:void 0,Ea=null!==(Pt=g._redirectEventId)&&void 0!==Pt?Pt:void 0,Ar=null!==(an=g.createdAt)&&void 0!==an?an:void 0,xl=null!==(_n=g.lastLoginAt)&&void 0!==_n?_n:void 0,{uid:Vu,emailVerified:Wo,isAnonymous:Cd,providerData:fu,stsTokenManager:pu}=g;ce(Vu&&pu,f,"internal-error");const ss=G.fromJSON(this.name,pu);ce("string"==typeof Vu,f,"internal-error"),Y(cr,f.name),Y(Go,f.name),ce("boolean"==typeof Wo,f,"internal-error"),ce("boolean"==typeof Cd,f,"internal-error"),Y(Fu,f.name),Y(Do,f.name),Y(hu,f.name),Y(Ea,f.name),Y(Ar,f.name),Y(xl,f.name);const Ll=new le({uid:Vu,auth:f,email:Go,emailVerified:Wo,displayName:cr,isAnonymous:Cd,photoURL:Do,phoneNumber:Fu,tenantId:hu,stsTokenManager:ss,createdAt:Ar,lastLoginAt:xl});return fu&&Array.isArray(fu)&&(Ll.providerData=fu.map(Dd=>Object.assign({},Dd))),Ea&&(Ll._redirectEventId=Ea),Ll}static _fromIdTokenResponse(f,g,w=!1){return(0,d.A)(function*(){const j=new G;j.updateFromServerResponse(g);const Z=new le({uid:g.localId,auth:f,stsTokenManager:j,isAnonymous:w});return yield $r(Z),Z})()}static _fromGetAccountInfoResponse(f,g,w){return(0,d.A)(function*(){const j=g.users[0];ce(void 0!==j.localId,"internal-error");const Z=void 0!==j.providerUserInfo?it(j.providerUserInfo):[],Ne=!(j.email&&j.passwordHash||Z?.length),pt=new G;pt.updateFromIdToken(w);const Pt=new le({uid:j.localId,auth:f,stsTokenManager:pt,isAnonymous:Ne}),an={uid:j.localId,displayName:j.displayName||null,photoURL:j.photoUrl||null,email:j.email||null,emailVerified:j.emailVerified||!1,phoneNumber:j.phoneNumber||null,tenantId:j.tenantId||null,providerData:Z,metadata:new Jr(j.createdAt,j.lastLoginAt),isAnonymous:!(j.email&&j.passwordHash||Z?.length)};return Object.assign(Pt,an),Pt})()}}const et=new Map;function Nt(_){ot(_ instanceof Function,"Expected a class definition");let f=et.get(_);return f?(ot(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,et.set(_,f),f)}const Sn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.A)(function*(){return!0})()}_set(g,w){var j=this;return(0,d.A)(function*(){j.storage[g]=w})()}_get(g){var w=this;return(0,d.A)(function*(){const j=w.storage[g];return void 0===j?null:j})()}_remove(g){var w=this;return(0,d.A)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return _.type="NONE",_})();function Pn(_,f,g){return`firebase:${_}:${f}:${g}`}class qn{constructor(f,g,w){this.persistence=f,this.auth=g,this.userKey=w;const{config:j,name:Z}=this.auth;this.fullUserKey=Pn(this.userKey,j.apiKey,Z),this.fullPersistenceKey=Pn("persistence",j.apiKey,Z),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.A)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?le._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,d.A)(function*(){if(g.persistence===f)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,w="authUser"){return(0,d.A)(function*(){if(!g.length)return new qn(Nt(Sn),f,w);const j=(yield Promise.all(g.map(function(){var an=(0,d.A)(function*(_n){if(yield _n._isAvailable())return _n});return function(_n){return an.apply(this,arguments)}}()))).filter(an=>an);let Z=j[0]||Nt(Sn);const Ne=Pn(w,f.config.apiKey,f.name);let pt=null;for(const an of g)try{const _n=yield an._get(Ne);if(_n){const cr=le._fromJSON(f,_n);an!==Z&&(pt=cr),Z=an;break}}catch{}const Pt=j.filter(an=>an._shouldAllowMigration);return Z._shouldAllowMigration&&Pt.length?(Z=Pt[0],pt&&(yield Z._set(Ne,pt.toJSON())),yield Promise.all(g.map(function(){var an=(0,d.A)(function*(_n){if(_n!==Z)try{yield _n._remove(Ne)}catch{}});return function(_n){return an.apply(this,arguments)}}())),new qn(Z,f,w)):new qn(Z,f,w)})()}}function An(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Eo(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Tn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Lo(f))return"Blackberry";if(ko(f))return"Webos";if(nr(f))return"Safari";if((f.includes("chrome/")||ro(f))&&!f.includes("edge/"))return"Chrome";if(Ni(f))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Tn(_=(0,F.ZQ)()){return/firefox\//i.test(_)}function nr(_=(0,F.ZQ)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function ro(_=(0,F.ZQ)()){return/crios\//i.test(_)}function Eo(_=(0,F.ZQ)()){return/iemobile/i.test(_)}function Ni(_=(0,F.ZQ)()){return/android/i.test(_)}function Lo(_=(0,F.ZQ)()){return/blackberry/i.test(_)}function ko(_=(0,F.ZQ)()){return/webos/i.test(_)}function co(_=(0,F.ZQ)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function lo(_=(0,F.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function Et(_=(0,F.ZQ)()){return co(_)||Ni(_)||ko(_)||Lo(_)||/windows phone/i.test(_)||Eo(_)}function jt(_,f=[]){let g;switch(_){case"Browser":g=An((0,F.ZQ)());break;case"Worker":g=`${An((0,F.ZQ)())}-${_}`;break;default:g=_}const w=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${z.SDK_VERSION}/${w}`}class pn{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const w=Z=>new Promise((Ne,pt)=>{try{Ne(f(Z))}catch(Pt){pt(Pt)}});w.onAbort=g,this.queue.push(w);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,d.A)(function*(){if(g.auth.currentUser===f)return;const w=[];try{for(const j of g.queue)yield j(f),j.onAbort&&w.push(j.onAbort)}catch(j){w.reverse();for(const Z of w)try{Z()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:j?.message})}})()}}function Cn(){return(Cn=(0,d.A)(function*(_,f={}){return Oe(_,"GET","/v2/passwordPolicy",ke(_,f))})).apply(this,arguments)}class ur{constructor(f){var g,w,j,Z;const Ne=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=Ne.minPasswordLength)&&void 0!==g?g:6,Ne.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ne.maxPasswordLength),void 0!==Ne.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ne.containsLowercaseCharacter),void 0!==Ne.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ne.containsUppercaseCharacter),void 0!==Ne.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ne.containsNumericCharacter),void 0!==Ne.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ne.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(j=null===(w=f.allowedNonAlphanumericCharacters)||void 0===w?void 0:w.join(""))&&void 0!==j?j:"",this.forceUpgradeOnSignin=null!==(Z=f.forceUpgradeOnSignin)&&void 0!==Z&&Z,this.schemaVersion=f.schemaVersion}validatePassword(f){var g,w,j,Z,Ne,pt;const Pt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,Pt),this.validatePasswordCharacterOptions(f,Pt),Pt.isValid&&(Pt.isValid=null===(g=Pt.meetsMinPasswordLength)||void 0===g||g),Pt.isValid&&(Pt.isValid=null===(w=Pt.meetsMaxPasswordLength)||void 0===w||w),Pt.isValid&&(Pt.isValid=null===(j=Pt.containsLowercaseLetter)||void 0===j||j),Pt.isValid&&(Pt.isValid=null===(Z=Pt.containsUppercaseLetter)||void 0===Z||Z),Pt.isValid&&(Pt.isValid=null===(Ne=Pt.containsNumericCharacter)||void 0===Ne||Ne),Pt.isValid&&(Pt.isValid=null===(pt=Pt.containsNonAlphanumericCharacter)||void 0===pt||pt),Pt}validatePasswordLengthOptions(f,g){const w=this.customStrengthOptions.minPasswordLength,j=this.customStrengthOptions.maxPasswordLength;w&&(g.meetsMinPasswordLength=f.length>=w),j&&(g.meetsMaxPasswordLength=f.length<=j)}validatePasswordCharacterOptions(f,g){let w;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let j=0;j<f.length;j++)w=f.charAt(j),this.updatePasswordCharacterOptionsStatuses(g,w>="a"&&w<="z",w>="A"&&w<="Z",w>="0"&&w<="9",this.allowedNonAlphanumericCharacters.includes(w))}updatePasswordCharacterOptionsStatuses(f,g,w,j,Z){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=w)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=j)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=Z))}}class Gr{constructor(f,g,w,j){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=w,this.config=j,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new we(this),this.idTokenSubscription=new we(this),this.beforeStateQueue=new pn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=j.sdkClientVersion}_initializeWithPersistence(f,g){var w=this;return g&&(this._popupRedirectResolver=Nt(g)),this._initializationPromise=this.queue((0,d.A)(function*(){var j,Z;if(!w._deleted&&(w.persistenceManager=yield qn.create(w,f),!w._deleted)){if(null!==(j=w._popupRedirectResolver)&&void 0!==j&&j._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(Z=w.currentUser)||void 0===Z?void 0:Z.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.A)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(f){var g=this;return(0,d.A)(function*(){try{const w=yield Mt(g,{idToken:f}),j=yield le._fromGetAccountInfoResponse(g,w,f);yield g.directlySetCurrentUser(j)}catch(w){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",w),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(f){var g=this;return(0,d.A)(function*(){var w;if((0,z._isFirebaseServerApp)(g.app)){const pt=g.app.settings.authIdToken;return pt?new Promise(Pt=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(pt).then(Pt,Pt))}):g.directlySetCurrentUser(null)}const j=yield g.assertedPersistence.getCurrentUser();let Z=j,Ne=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const pt=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Pt=Z?._redirectEventId,an=yield g.tryRedirectSignIn(f);(!pt||pt===Pt)&&an?.user&&(Z=an.user,Ne=!0)}if(!Z)return g.directlySetCurrentUser(null);if(!Z._redirectEventId){if(Ne)try{yield g.beforeStateQueue.runMiddleware(Z)}catch(pt){Z=j,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(pt))}return Z?g.reloadAndSetCurrentUserOrClear(Z):g.directlySetCurrentUser(null)}return ce(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===Z._redirectEventId?g.directlySetCurrentUser(Z):g.reloadAndSetCurrentUserOrClear(Z)})()}tryRedirectSignIn(f){var g=this;return(0,d.A)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,d.A)(function*(){try{yield $r(f)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function kr(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,d.A)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,d.A)(function*(){if((0,z._isFirebaseServerApp)(g.app))return Promise.reject(Te(g));const w=f?(0,F.Ku)(f):null;return w&&ce(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(f,g=!1){var w=this;return(0,d.A)(function*(){if(!w._deleted)return f&&ce(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,d.A)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.A)(function*(){return(0,z._isFirebaseServerApp)(f.app)?Promise.reject(Te(f)):(yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0))})()}setPersistence(f){var g=this;return(0,z._isFirebaseServerApp)(this.app)?Promise.reject(Te(this)):this.queue((0,d.A)(function*(){yield g.assertedPersistence.setPersistence(Nt(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var g=this;return(0,d.A)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const w=g._getPasswordPolicyInternal();return w.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):w.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,d.A)(function*(){const g=yield function En(_){return Cn.apply(this,arguments)}(f),w=new ur(g);null===f.tenantId?f._projectPasswordPolicy=w:f._tenantPasswordPolicies[f.tenantId]=w})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new F.FA("auth","Firebase",f())}onAuthStateChanged(f,g,w){return this.registerStateListener(this.authStateSubscription,f,g,w)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,w){return this.registerStateListener(this.idTokenSubscription,f,g,w)}authStateReady(){return new Promise((f,g)=>{if(this.currentUser)f();else{const w=this.onAuthStateChanged(()=>{w(),f()},g)}})}revokeAccessToken(f){var g=this;return(0,d.A)(function*(){if(g.currentUser){const w=yield g.currentUser.getIdToken(),j={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:w};null!=g.tenantId&&(j.tenantId=g.tenantId),yield function ne(_,f){return H.apply(this,arguments)}(g,j)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var w=this;return(0,d.A)(function*(){const j=yield w.getOrInitRedirectPersistenceManager(g);return null===f?j.removeCurrentUser():j.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,d.A)(function*(){if(!g.redirectPersistenceManager){const w=f&&Nt(f)||g._popupRedirectResolver;ce(w,g,"argument-error"),g.redirectPersistenceManager=yield qn.create(g,[Nt(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,d.A)(function*(){var w,j;return g._isInitialized&&(yield g.queue((0,d.A)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===f?g._currentUser:(null===(j=g.redirectUser)||void 0===j?void 0:j._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,d.A)(function*(){if(f===g.currentUser)return g.queue((0,d.A)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,w,j){if(this._deleted)return()=>{};const Z="function"==typeof g?g:g.next.bind(g);let Ne=!1;const pt=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(pt,this,"internal-error"),pt.then(()=>{Ne||Z(this.currentUser)}),"function"==typeof g){const Pt=f.addObserver(g,w,j);return()=>{Ne=!0,Pt()}}{const Pt=f.addObserver(g);return()=>{Ne=!0,Pt()}}}directlySetCurrentUser(f){var g=this;return(0,d.A)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=jt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.A)(function*(){var g;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const j=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();j&&(w["X-Firebase-Client"]=j);const Z=yield f._getAppCheckToken();return Z&&(w["X-Firebase-AppCheck"]=Z),w})()}_getAppCheckToken(){var f=this;return(0,d.A)(function*(){var g;const w=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return w?.error&&function Tt(_,...f){Fe.logLevel<=ae.$b.WARN&&Fe.warn(`Auth (${z.SDK_VERSION}): ${_}`,...f)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function te(_){return(0,F.Ku)(_)}class we{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,F.tD)(g=>this.observer=g)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ve={loadJS:()=>(0,d.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dt(_){return ve.loadJS(_)}function un(_){return`__${_}${Math.floor(1e6*Math.random())}`}class tn{constructor(f){this.type="recaptcha-enterprise",this.auth=te(f)}verify(f="verify",g=!1){var w=this;return(0,d.A)(function*(){function Z(){return Z=(0,d.A)(function*(pt){if(!g){if(null==pt.tenantId&&null!=pt._agentRecaptchaConfig)return pt._agentRecaptchaConfig.siteKey;if(null!=pt.tenantId&&void 0!==pt._tenantRecaptchaConfigs[pt.tenantId])return pt._tenantRecaptchaConfigs[pt.tenantId].siteKey}return new Promise(function(){var Pt=(0,d.A)(function*(an,_n){$n(pt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(cr=>{if(void 0!==cr.recaptchaKey){const Go=new Fr(cr);return null==pt.tenantId?pt._agentRecaptchaConfig=Go:pt._tenantRecaptchaConfigs[pt.tenantId]=Go,an(Go.siteKey)}_n(new Error("recaptcha Enterprise site key undefined"))}).catch(cr=>{_n(cr)})});return function(an,_n){return Pt.apply(this,arguments)}}())}),Z.apply(this,arguments)}function Ne(pt,Pt,an){const _n=window.grecaptcha;zt(_n)?_n.enterprise.ready(()=>{_n.enterprise.execute(pt,{action:f}).then(cr=>{Pt(cr)}).catch(()=>{Pt("NO_RECAPTCHA")})}):an(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((pt,Pt)=>{(function j(pt){return Z.apply(this,arguments)})(w.auth).then(an=>{if(!g&&zt(window.grecaptcha))Ne(an,pt,Pt);else{if(typeof window>"u")return void Pt(new Error("RecaptchaVerifier is only supported in browser"));let _n=function Wt(){return ve.recaptchaEnterpriseScript}();0!==_n.length&&(_n+=an),Dt(_n).then(()=>{Ne(an,pt,Pt)}).catch(cr=>{Pt(cr)})}}).catch(an=>{Pt(an)})})})()}}function _r(_,f,g){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,d.A)(function*(_,f,g,w=!1){const j=new tn(_);let Z;try{Z=yield j.verify(g)}catch{Z=yield j.verify(g,!0)}const Ne=Object.assign({},f);return Object.assign(Ne,w?{captchaResp:Z}:{captchaResponse:Z}),Object.assign(Ne,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ne,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ne})).apply(this,arguments)}function Wn(_,f,g,w){return Ln.apply(this,arguments)}function Ln(){return Ln=(0,d.A)(function*(_,f,g,w){var j;if(null!==(j=_._getRecaptchaConfig())&&void 0!==j&&j.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Z=yield _r(_,f,g,"getOobCode"===g);return w(_,Z)}return w(_,f).catch(function(){var Z=(0,d.A)(function*(Ne){if("auth/missing-recaptcha-token"===Ne.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const pt=yield _r(_,f,g,"getOobCode"===g);return w(_,pt)}return Promise.reject(Ne)});return function(Ne){return Z.apply(this,arguments)}}())}),Ln.apply(this,arguments)}function Yi(_,f,g){const w=te(_);ce(w._canInitEmulator,w,"emulator-config-failed"),ce(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const j=!!g?.disableWarnings,Z=Fo(f),{host:Ne,port:pt}=function Gi(_){const f=Fo(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(w);if(j){const Z=j[1];return{host:Z,port:js(w.substr(Z.length+1))}}{const[Z,Ne]=w.split(":");return{host:Z,port:js(Ne)}}}(f);w.config.emulator={url:`${Z}//${Ne}${null===pt?"":`:${pt}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Ne,port:pt,protocol:Z.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function ia(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function Fo(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function js(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Wr{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return vt("not implemented")}_getIdTokenResponse(f){return vt("not implemented")}_linkToIdToken(f,g){return vt("not implemented")}_getReauthenticationResolver(f){return vt("not implemented")}}function ds(_,f){return qo.apply(this,arguments)}function qo(){return(qo=(0,d.A)(function*(_,f){return Oe(_,"POST","/v1/accounts:resetPassword",ke(_,f))})).apply(this,arguments)}function Iu(){return(Iu=(0,d.A)(function*(_,f){return Oe(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function xt(_,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,d.A)(function*(_,f){return Oe(_,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function hs(){return(hs=(0,d.A)(function*(_,f){return Oe(_,"POST","/v1/accounts:update",ke(_,f))})).apply(this,arguments)}function en(_,f){return on.apply(this,arguments)}function on(){return(on=(0,d.A)(function*(_,f){return Ue(_,"POST","/v1/accounts:signInWithPassword",ke(_,f))})).apply(this,arguments)}function Ja(_,f){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,d.A)(function*(_,f){return Oe(_,"POST","/v1/accounts:sendOobCode",ke(_,f))})).apply(this,arguments)}function St(){return(St=(0,d.A)(function*(_,f){return Ja(_,f)})).apply(this,arguments)}function _i(_,f){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,d.A)(function*(_,f){return Ja(_,f)})).apply(this,arguments)}function Ts(_,f){return oa.apply(this,arguments)}function oa(){return(oa=(0,d.A)(function*(_,f){return Ja(_,f)})).apply(this,arguments)}function Za(){return(Za=(0,d.A)(function*(_,f){return Ja(_,f)})).apply(this,arguments)}function Na(){return(Na=(0,d.A)(function*(_,f){return Ue(_,"POST","/v1/accounts:signInWithEmailLink",ke(_,f))})).apply(this,arguments)}function eu(){return(eu=(0,d.A)(function*(_,f){return Ue(_,"POST","/v1/accounts:signInWithEmailLink",ke(_,f))})).apply(this,arguments)}class Xo extends Wr{constructor(f,g,w,j=null){super("password",w),this._email=f,this._password=g,this._tenantId=j}static _fromEmailAndPassword(f,g){return new Xo(f,g,"password")}static _fromEmailAndCode(f,g,w=null){return new Xo(f,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,d.A)(function*(){switch(g.signInMethod){case"password":return Wn(f,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",en);case"emailLink":return function ws(_,f){return Na.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Ae(f,"internal-error")}})()}_linkToIdToken(f,g){var w=this;return(0,d.A)(function*(){switch(w.signInMethod){case"password":return Wn(f,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xt);case"emailLink":return function Qo(_,f){return eu.apply(this,arguments)}(f,{idToken:g,email:w._email,oobCode:w._password});default:Ae(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Io(_,f){return cn.apply(this,arguments)}function cn(){return(cn=(0,d.A)(function*(_,f){return Ue(_,"POST","/v1/accounts:signInWithIdp",ke(_,f))})).apply(this,arguments)}class Uo extends Wr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Uo(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ae("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:j}=g,Z=(0,ie.Tt)(g,["providerId","signInMethod"]);if(!w||!j)return null;const Ne=new Uo(w,j);return Ne.idToken=Z.idToken||void 0,Ne.accessToken=Z.accessToken||void 0,Ne.secret=Z.secret,Ne.nonce=Z.nonce,Ne.pendingToken=Z.pendingToken||null,Ne}_getIdTokenResponse(f){return Io(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,Io(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Io(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,F.Am)(g)}return f}}function ln(){return(ln=(0,d.A)(function*(_,f){return Oe(_,"POST","/v1/accounts:sendVerificationCode",ke(_,f))})).apply(this,arguments)}function On(){return(On=(0,d.A)(function*(_,f){return Ue(_,"POST","/v1/accounts:signInWithPhoneNumber",ke(_,f))})).apply(this,arguments)}function Ot(){return(Ot=(0,d.A)(function*(_,f){const g=yield Ue(_,"POST","/v1/accounts:signInWithPhoneNumber",ke(_,f));if(g.temporaryProof)throw Gn(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const $t={USER_NOT_FOUND:"user-not-found"};function fs(){return(fs=(0,d.A)(function*(_,f){return Ue(_,"POST","/v1/accounts:signInWithPhoneNumber",ke(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),$t)})).apply(this,arguments)}class io extends Wr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new io({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new io({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function To(_,f){return On.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function As(_,f){return Ot.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ho(_,f){return fs.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:w,verificationCode:j}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:w,code:j}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:w,phoneNumber:j,temporaryProof:Z}=f;return w||g||j||Z?new io({verificationId:g,verificationCode:w,phoneNumber:j,temporaryProof:Z}):null}}class Wi{constructor(f){var g,w,j,Z,Ne,pt;const Pt=(0,F.I9)((0,F.hp)(f)),an=null!==(g=Pt.apiKey)&&void 0!==g?g:null,_n=null!==(w=Pt.oobCode)&&void 0!==w?w:null,cr=function Cs(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=Pt.mode)&&void 0!==j?j:null);ce(an&&_n&&cr,"argument-error"),this.apiKey=an,this.operation=cr,this.code=_n,this.continueUrl=null!==(Z=Pt.continueUrl)&&void 0!==Z?Z:null,this.languageCode=null!==(Ne=Pt.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(pt=Pt.tenantId)&&void 0!==pt?pt:null}static parseLink(f){const g=function fo(_){const f=(0,F.I9)((0,F.hp)(_)).link,g=f?(0,F.I9)((0,F.hp)(f)).deep_link_id:null,w=(0,F.I9)((0,F.hp)(_)).deep_link_id;return(w?(0,F.I9)((0,F.hp)(w)).link:null)||w||g||f||_}(f);try{return new Wi(g)}catch{return null}}}let Ui=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,w){return Xo._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const j=Wi.parseLink(w);return ce(j,"argument-error"),Xo._fromEmailAndCode(g,j.code,j.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class eo{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Zr extends eo{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Yo extends Zr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return ce("providerId"in g&&"signInMethod"in g,"argument-error"),Uo._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ce(f.idToken||f.accessToken,"argument-error"),Uo._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Yo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Yo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:j,pendingToken:Z,nonce:Ne,providerId:pt}=f;if(!w&&!j&&!g&&!Z||!pt)return null;try{return new Yo(pt)._credential({idToken:g,accessToken:w,nonce:Ne,pendingToken:Z})}catch{return null}}}let ps=(()=>{class _ extends Zr{constructor(){super("facebook.com")}static credential(g){return Uo._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),tu=(()=>{class _ extends Zr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Uo._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:j}=g;if(!w&&!j)return null;try{return _.credential(w,j)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Nr=(()=>{class _ extends Zr{constructor(){super("github.com")}static credential(g){return Uo._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class ze extends Wr{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Io(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,Io(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Io(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:j,pendingToken:Z}=g;return w&&j&&Z&&w===j?new ze(w,Z):null}static _create(f,g){return new ze(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zi extends eo{constructor(f){ce(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return zi.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return zi.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=ze.fromJSON(f);return ce(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:w}=f;if(!g||!w)return null;try{return ze._create(w,g)}catch{return null}}}let bi=(()=>{class _ extends Zr{constructor(){super("twitter.com")}static credential(g,w){return Uo._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:j}=g;if(!w||!j)return null;try{return _.credential(w,j)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Oa(_,f){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,d.A)(function*(_,f){return Ue(_,"POST","/v1/accounts:signUp",ke(_,f))})).apply(this,arguments)}class di{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,w,j=!1){return(0,d.A)(function*(){const Z=yield le._fromIdTokenResponse(f,w,j),Ne=gs(w);return new di({user:Z,providerId:Ne,_tokenResponse:w,operationType:g})})()}static _forOperation(f,g,w){return(0,d.A)(function*(){yield f._updateTokensIfNecessary(w,!0);const j=gs(w);return new di({user:f,providerId:j,_tokenResponse:w,operationType:g})})()}}function gs(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function gn(_){return sa.apply(this,arguments)}function sa(){return(sa=(0,d.A)(function*(_){var f;if((0,z._isFirebaseServerApp)(_.app))return Promise.reject(Te(_));const g=te(_);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new di({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Oa(g,{returnSecureToken:!0}),j=yield di._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(j.user),j})).apply(this,arguments)}class ni extends F.g{constructor(f,g,w,j){var Z;super(g.code,g.message),this.operationType=w,this.user=j,Object.setPrototypeOf(this,ni.prototype),this.customData={appName:f.name,tenantId:null!==(Z=f.tenantId)&&void 0!==Z?Z:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,g,w,j){return new ni(f,g,w,j)}}function xa(_,f,g,w){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(Z=>{throw"auth/multi-factor-auth-required"===Z.code?ni._fromErrorAndOperation(_,Z,f,w):Z})}function nu(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function po(_,f){return Si.apply(this,arguments)}function Si(){return Si=(0,d.A)(function*(_,f){const g=(0,F.Ku)(_);yield Oi(!0,g,f);const{providerUserInfo:w}=yield function Ur(_,f){return wn.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),j=nu(w||[]);return g.providerData=g.providerData.filter(Z=>j.has(Z.providerId)),j.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Si.apply(this,arguments)}function Jo(_,f){return hr.apply(this,arguments)}function hr(){return(hr=(0,d.A)(function*(_,f,g=!1){const w=yield sn(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return di._forOperation(_,"link",w)})).apply(this,arguments)}function Oi(_,f,g){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,d.A)(function*(_,f,g){yield $r(f);const j=!1===_?"provider-already-linked":"no-such-provider";ce(nu(f.providerData).has(g)===_,f.auth,j)})).apply(this,arguments)}function Ku(_,f){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,d.A)(function*(_,f,g=!1){const{auth:w}=_;if((0,z._isFirebaseServerApp)(w.app))return Promise.reject(Te(w));const j="reauthenticate";try{const Z=yield sn(_,xa(w,j,f,_),g);ce(Z.idToken,w,"internal-error");const Ne=tr(Z.idToken);ce(Ne,w,"internal-error");const{sub:pt}=Ne;return ce(_.uid===pt,w,"user-mismatch"),di._forOperation(_,j,Z)}catch(Z){throw"auth/user-not-found"===Z?.code&&Ae(w,"user-mismatch"),Z}})).apply(this,arguments)}function Tu(_,f){return aa.apply(this,arguments)}function aa(){return(aa=(0,d.A)(function*(_,f,g=!1){if((0,z._isFirebaseServerApp)(_.app))return Promise.reject(Te(_));const w="signIn",j=yield xa(_,w,f),Z=yield di._fromIdTokenResponse(_,w,j);return g||(yield _._updateCurrentUser(Z.user)),Z})).apply(this,arguments)}function L(_,f){return x.apply(this,arguments)}function x(){return(x=(0,d.A)(function*(_,f){return Tu(te(_),f)})).apply(this,arguments)}function S(_,f){return X.apply(this,arguments)}function X(){return(X=(0,d.A)(function*(_,f){const g=(0,F.Ku)(_);return yield Oi(!1,g,f.providerId),Jo(g,f)})).apply(this,arguments)}function Ie(_,f){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,d.A)(function*(_,f){return Ku((0,F.Ku)(_),f)})).apply(this,arguments)}function kn(){return(kn=(0,d.A)(function*(_,f){return Ue(_,"POST","/v1/accounts:signInWithCustomToken",ke(_,f))})).apply(this,arguments)}function ms(_,f){return Ki.apply(this,arguments)}function Ki(){return Ki=(0,d.A)(function*(_,f){if((0,z._isFirebaseServerApp)(_.app))return Promise.reject(Te(_));const g=te(_),w=yield function Nn(_,f){return kn.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),j=yield di._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(j.user),j}),Ki.apply(this,arguments)}class Bo{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?La._fromServerResponse(f,g):"totpInfo"in g?Gs._fromServerResponse(f,g):Ae(f,"internal-error")}}class La extends Bo{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new La(g)}}class Gs extends Bo{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new Gs(g)}}function ru(_,f,g){var w;ce((null===(w=g.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),ce(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ce(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(ce(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function ua(_){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,d.A)(function*(_){const f=te(_);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function zs(_,f,g){return iu.apply(this,arguments)}function iu(){return(iu=(0,d.A)(function*(_,f,g){const w=te(_),j={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};g&&ru(w,j,g),yield Wn(w,j,"getOobCode",_i)})).apply(this,arguments)}function qu(_,f,g){return Dn.apply(this,arguments)}function Dn(){return Dn=(0,d.A)(function*(_,f,g){yield ds((0,F.Ku)(_),{oobCode:f,newPassword:g}).catch(function(){var w=(0,d.A)(function*(j){throw"auth/password-does-not-meet-requirements"===j.code&&ua(_),j});return function(j){return w.apply(this,arguments)}}())}),Dn.apply(this,arguments)}function ou(_,f){return Ks.apply(this,arguments)}function Ks(){return Ks=(0,d.A)(function*(_,f){yield function Vi(_,f){return hs.apply(this,arguments)}((0,F.Ku)(_),{oobCode:f})}),Ks.apply(this,arguments)}function qs(_,f){return ca.apply(this,arguments)}function ca(){return(ca=(0,d.A)(function*(_,f){const g=(0,F.Ku)(_),w=yield ds(g,{oobCode:f}),j=w.requestType;switch(ce(j,g,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(w.mfaInfo,g,"internal-error");default:ce(w.email,g,"internal-error")}let Z=null;return w.mfaInfo&&(Z=Bo._fromServerResponse(te(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:Z},operation:j}})).apply(this,arguments)}function Bi(_,f){return ka.apply(this,arguments)}function ka(){return(ka=(0,d.A)(function*(_,f){const{data:g}=yield qs((0,F.Ku)(_),f);return g.email})).apply(this,arguments)}function Fa(_,f,g){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,d.A)(function*(_,f,g){if((0,z._isFirebaseServerApp)(_.app))return Promise.reject(Te(_));const w=te(_),Ne=yield Wn(w,{returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Oa).catch(Pt=>{throw"auth/password-does-not-meet-requirements"===Pt.code&&ua(_),Pt}),pt=yield di._fromIdTokenResponse(w,"signIn",Ne);return yield w._updateCurrentUser(pt.user),pt})).apply(this,arguments)}function hd(_,f,g){return(0,z._isFirebaseServerApp)(_.app)?Promise.reject(Te(_)):L((0,F.Ku)(_),Ui.credential(f,g)).catch(function(){var w=(0,d.A)(function*(j){throw"auth/password-does-not-meet-requirements"===j.code&&ua(_),j});return function(j){return w.apply(this,arguments)}}())}function ri(_,f,g){return ys.apply(this,arguments)}function ys(){return(ys=(0,d.A)(function*(_,f,g){const w=te(_),j={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function Z(Ne,pt){ce(pt.handleCodeInApp,w,"argument-error"),pt&&ru(w,Ne,pt)})(j,g),yield Wn(w,j,"getOobCode",Ts)})).apply(this,arguments)}function Ei(_,f){const g=Wi.parseLink(f);return"EMAIL_SIGNIN"===g?.operation}function br(_,f,g){return Va.apply(this,arguments)}function Va(){return(Va=(0,d.A)(function*(_,f,g){if((0,z._isFirebaseServerApp)(_.app))return Promise.reject(Te(_));const w=(0,F.Ku)(_),j=Ui.credentialWithLink(f,g||bn());return ce(j._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),L(w,j)})).apply(this,arguments)}function ii(){return(ii=(0,d.A)(function*(_,f){return Oe(_,"POST","/v1/accounts:createAuthUri",ke(_,f))})).apply(this,arguments)}function su(_,f){return wu.apply(this,arguments)}function wu(){return wu=(0,d.A)(function*(_,f){const w={identifier:f,continueUri:hn()?bn():"http://localhost"},{signinMethods:j}=yield function Ua(_,f){return ii.apply(this,arguments)}((0,F.Ku)(_),w);return j||[]}),wu.apply(this,arguments)}function rn(_,f){return Er.apply(this,arguments)}function Er(){return Er=(0,d.A)(function*(_,f){const g=(0,F.Ku)(_),j={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&ru(g.auth,j,f);const{email:Z}=yield function ft(_,f){return St.apply(this,arguments)}(g.auth,j);Z!==_.email&&(yield _.reload())}),Er.apply(this,arguments)}function Qs(_,f,g){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,d.A)(function*(_,f,g){const w=(0,F.Ku)(_),Z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&ru(w.auth,Z,g);const{email:Ne}=yield function Ji(_,f){return Za.apply(this,arguments)}(w.auth,Z);Ne!==_.email&&(yield _.reload())}),Kr.apply(this,arguments)}function Au(){return(Au=(0,d.A)(function*(_,f){return Oe(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Cu(_,f){return Ys.apply(this,arguments)}function Ys(){return Ys=(0,d.A)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const w=(0,F.Ku)(_),Z={idToken:yield w.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},Ne=yield sn(w,function Xs(_,f){return Au.apply(this,arguments)}(w.auth,Z));w.displayName=Ne.displayName||null,w.photoURL=Ne.photoUrl||null;const pt=w.providerData.find(({providerId:Pt})=>"password"===Pt);pt&&(pt.displayName=w.displayName,pt.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Ne)}),Ys.apply(this,arguments)}function er(_,f){const g=(0,F.Ku)(_);return(0,z._isFirebaseServerApp)(g.auth.app)?Promise.reject(Te(g.auth)):es(g,f,null)}function Ds(_,f){return es((0,F.Ku)(_),null,f)}function es(_,f,g){return xi.apply(this,arguments)}function xi(){return xi=(0,d.A)(function*(_,f,g){const{auth:w}=_,Z={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(Z.email=f),g&&(Z.password=g);const Ne=yield sn(_,function Pa(_,f){return Iu.apply(this,arguments)}(w,Z));yield _._updateTokensIfNecessary(Ne,!0)}),xi.apply(this,arguments)}class qi{constructor(f,g,w={}){this.isNewUser=f,this.providerId=g,this.profile=w}}class bs extends qi{constructor(f,g,w,j){super(f,g,w),this.username=j}}class wo extends qi{constructor(f,g){super(f,"facebook.com",g)}}class Ba extends bs{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class C extends qi{constructor(f,g){super(f,"google.com",g)}}class W extends bs{constructor(f,g,w){super(f,"twitter.com",g,w)}}function M(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function ts(_){var f,g;if(!_)return null;const{providerId:w}=_,j=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},Z=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&_?.idToken){const Ne=null===(g=null===(f=tr(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ne)return new qi(Z,"anonymous"!==Ne&&"custom"!==Ne?Ne:null)}if(!w)return null;switch(w){case"facebook.com":return new wo(Z,j);case"github.com":return new Ba(Z,j);case"google.com":return new C(Z,j);case"twitter.com":return new W(Z,j,_.screenName||null);case"custom":case"anonymous":return new qi(Z,null);default:return new qi(Z,w,j)}}(g)}class ji{constructor(f,g,w){this.type=f,this.credential=g,this.user=w}static _fromIdtoken(f,g){return new ji("enroll",f,g)}static _fromMfaPendingCredential(f){return new ji("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,w;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return ji._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(w=f.multiFactorSession)&&void 0!==w&&w.idToken)return ji._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ss{constructor(f,g,w){this.session=f,this.hints=g,this.signInResolver=w}static _fromError(f,g){const w=te(f),j=g.customData._serverResponse,Z=(j.mfaInfo||[]).map(pt=>Bo._fromServerResponse(w,pt));ce(j.mfaPendingCredential,w,"internal-error");const Ne=ji._fromMfaPendingCredential(j.mfaPendingCredential);return new Ss(Ne,Z,function(){var pt=(0,d.A)(function*(Pt){const an=yield Pt._process(w,Ne);delete j.mfaInfo,delete j.mfaPendingCredential;const _n=Object.assign(Object.assign({},j),{idToken:an.idToken,refreshToken:an.refreshToken});switch(g.operationType){case"signIn":const cr=yield di._fromIdTokenResponse(w,g.operationType,_n);return yield w._updateCurrentUser(cr.user),cr;case"reauthenticate":return ce(g.user,w,"internal-error"),di._forOperation(g.user,g.operationType,_n);default:Ae(w,"internal-error")}});return function(Pt){return pt.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,d.A)(function*(){return g.signInResolver(f)})()}}function Or(_,f){var g;const w=(0,F.Ku)(_),j=f;return ce(f.customData.operationType,w,"argument-error"),ce(null===(g=j.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Ss._fromError(w,j)}class au{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Bo._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new au(f)}getSession(){var f=this;return(0,d.A)(function*(){return ji._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,g){var w=this;return(0,d.A)(function*(){const j=f,Z=yield w.getSession(),Ne=yield sn(w.user,j._process(w.user.auth,Z,g));return yield w.user._updateTokensIfNecessary(Ne),w.user.reload()})()}unenroll(f){var g=this;return(0,d.A)(function*(){const w="string"==typeof f?f:f.uid,j=yield g.user.getIdToken();try{const Z=yield sn(g.user,function mo(_,f){return Oe(_,"POST","/v2/accounts/mfaEnrollment:withdraw",ke(_,f))}(g.user.auth,{idToken:j,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ne})=>Ne!==w),yield g.user._updateTokensIfNecessary(Z),yield g.user.reload()}catch(Z){throw Z}})()}}const yo=new WeakMap;function Js(_){const f=(0,F.Ku)(_);return yo.has(f)||yo.set(f,au._fromUser(f)),yo.get(f)}const Qn="__sak";class Tr{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Qn,"1"),this.storage.removeItem(Qn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const bc=(()=>{class _ extends Tr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Et(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const j=this.storage.getItem(w),Z=this.localCache[w];j!==Z&&g(w,Z,j)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((pt,Pt,an)=>{this.notifyListeners(pt,an)});const j=g.key;w?this.detachListener():this.stopPolling();const Z=()=>{const pt=this.storage.getItem(j);!w&&this.localCache[j]===pt||this.notifyListeners(j,pt)},Ne=this.storage.getItem(j);!function $e(){return(0,F.lT)()&&10===document.documentMode}()||Ne===g.newValue||g.newValue===g.oldValue?Z():setTimeout(Z,10)}notifyListeners(g,w){this.localCache[g]=w;const j=this.listeners[g];if(j)for(const Z of Array.from(j))Z(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var j=()=>super._set,Z=this;return(0,d.A)(function*(){yield j().call(Z,g,w),Z.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,j=this;return(0,d.A)(function*(){const Z=yield w().call(j,g);return j.localCache[g]=JSON.stringify(Z),Z})()}_remove(g){var w=()=>super._remove,j=this;return(0,d.A)(function*(){yield w().call(j,g),delete j.localCache[g]})()}}return _.type="LOCAL",_})(),oo=(()=>{class _ extends Tr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return _.type="SESSION",_})();let ja=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(Z=>Z.isListeningto(g));if(w)return w;const j=new _(g);return this.receivers.push(j),j}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,d.A)(function*(){const j=g,{eventId:Z,eventType:Ne,data:pt}=j.data,Pt=w.handlersMap[Ne];if(!Pt?.size)return;j.ports[0].postMessage({status:"ack",eventId:Z,eventType:Ne});const an=Array.from(Pt).map(function(){var cr=(0,d.A)(function*(Go){return Go(j.origin,pt)});return function(Go){return cr.apply(this,arguments)}}()),_n=yield function Sc(_){return Promise.all(_.map(function(){var f=(0,d.A)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return f.apply(this,arguments)}}()))}(an);j.ports[0].postMessage({status:"done",eventId:Z,eventType:Ne,response:_n})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function ns(_="",f=10){let g="";for(let w=0;w<f;w++)g+=Math.floor(10*Math.random());return _+g}class fd{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,w=50){var j=this;return(0,d.A)(function*(){const Z=typeof MessageChannel<"u"?new MessageChannel:null;if(!Z)throw new Error("connection_unavailable");let Ne,pt;return new Promise((Pt,an)=>{const _n=ns("",20);Z.port1.start();const cr=setTimeout(()=>{an(new Error("unsupported_event"))},w);pt={messageChannel:Z,onMessage(Go){const Fu=Go;if(Fu.data.eventId===_n)switch(Fu.data.status){case"ack":clearTimeout(cr),Ne=setTimeout(()=>{an(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),Pt(Fu.data.response);break;default:clearTimeout(cr),clearTimeout(Ne),an(new Error("invalid_response"))}}},j.handlers.add(pt),Z.port1.addEventListener("message",pt.onMessage),j.target.postMessage({eventType:f,eventId:_n,data:g},[Z.port2])}).finally(()=>{pt&&j.removeMessageHandler(pt)})})()}}function Qr(){return window}function _s(){return typeof Qr().WorkerGlobalScope<"u"&&"function"==typeof Qr().importScripts}function bu(){return(bu=(0,d.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Rs="firebaseLocalStorageDb",da="firebaseLocalStorage",Ru="fbase_key";class ha{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Qu(_,f){return _.transaction([da],f?"readwrite":"readonly").objectStore(da)}function Ps(){const _=indexedDB.open(Rs,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(da,{keyPath:Ru})}catch(j){g(j)}}),_.addEventListener("success",(0,d.A)(function*(){const w=_.result;w.objectStoreNames.contains(da)?f(w):(w.close(),yield function Xu(){const _=indexedDB.deleteDatabase(Rs);return new ha(_).toPromise()}(),f(yield Ps()))}))})}function vl(_,f,g){return uu.apply(this,arguments)}function uu(){return(uu=(0,d.A)(function*(_,f,g){const w=Qu(_,!0).put({[Ru]:f,value:g});return new ha(w).toPromise()})).apply(this,arguments)}function Mc(){return(Mc=(0,d.A)(function*(_,f){const g=Qu(_,!1).get(f),w=yield new ha(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Pu(_,f){const g=Qu(_,!0).delete(f);return new ha(g).toPromise()}const El=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.A)(function*(){return g.db||(g.db=yield Ps()),g.db})()}_withRetries(g){var w=this;return(0,d.A)(function*(){let j=0;for(;;)try{const Z=yield w._openDb();return yield g(Z)}catch(Z){if(j++>3)throw Z;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.A)(function*(){return _s()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.A)(function*(){g.receiver=ja._getInstance(function Pc(){return _s()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,d.A)(function*(j,Z){return{keyProcessed:(yield g._poll()).includes(Z.key)}});return function(j,Z){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,d.A)(function*(j,Z){return["keyChanged"]});return function(j,Z){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.A)(function*(){var w,j;if(g.activeServiceWorker=yield function Rc(){return bu.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new fd(g.activeServiceWorker);const Z=yield g.sender._send("ping",{},800);Z&&null!==(w=Z[0])&&void 0!==w&&w.fulfilled&&null!==(j=Z[0])&&void 0!==j&&j.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,d.A)(function*(){if(w.sender&&w.activeServiceWorker&&function Su(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.A)(function*(){try{if(!indexedDB)return!1;const g=yield Ps();return yield vl(g,Qn,"1"),yield Pu(g,Qn),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,d.A)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var j=this;return(0,d.A)(function*(){return j._withPendingWrite((0,d.A)(function*(){return yield j._withRetries(Z=>vl(Z,g,w)),j.localCache[g]=w,j.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,d.A)(function*(){const j=yield w._withRetries(Z=>function _l(_,f){return Mc.apply(this,arguments)}(Z,g));return w.localCache[g]=j,j})()}_remove(g){var w=this;return(0,d.A)(function*(){return w._withPendingWrite((0,d.A)(function*(){return yield w._withRetries(j=>Pu(j,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.A)(function*(){const w=yield g._withRetries(Ne=>{const pt=Qu(Ne,!1).getAll();return new ha(pt).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const j=[],Z=new Set;if(0!==w.length)for(const{fbase_key:Ne,value:pt}of w)Z.add(Ne),JSON.stringify(g.localCache[Ne])!==JSON.stringify(pt)&&(g.notifyListeners(Ne,pt),j.push(Ne));for(const Ne of Object.keys(g.localCache))g.localCache[Ne]&&!Z.has(Ne)&&(g.notifyListeners(Ne,null),j.push(Ne));return j})()}notifyListeners(g,w){this.localCache[g]=w;const j=this.listeners[g];if(j)for(const Z of Array.from(j))Z(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.A)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),Oc=1e12;class Dh{constructor(f){this.auth=f,this.counter=Oc,this._widgets=new Map}render(f,g){const w=this.counter;return this._widgets.set(w,new bh(f,this.auth.name,g||{})),this.counter++,w}reset(f){var g;const w=f||Oc;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Oc))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,d.A)(function*(){var w;return null===(w=g._widgets.get(f||Oc))||void 0===w||w.execute(),""})()}}class bh{constructor(f,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof f?document.getElementById(f):f;ce(j,"argument-error",{appName:g}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function $a(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)f.push(g.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const E=un("rcb"),D=new ar(3e4,6e4);class T{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Qr().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return ce(function R(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&lr(Qr().grecaptcha)?Promise.resolve(Qr().grecaptcha):new Promise((w,j)=>{const Z=Qr().setTimeout(()=>{j(ge(f,"network-request-failed"))},D.get());Qr()[E]=()=>{Qr().clearTimeout(Z),delete Qr()[E];const pt=Qr().grecaptcha;if(!pt||!lr(pt))return void j(ge(f,"internal-error"));const Pt=pt.render;pt.render=(an,_n)=>{const cr=Pt(an,_n);return this.counter++,cr},this.hostLanguage=g,w(pt)},Dt(`${function Bt(){return ve.recaptchaV2Script}()}?${(0,F.Am)({onload:E,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(Z),j(ge(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=Qr().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class V{load(f){return(0,d.A)(function*(){return new Dh(f)})()}clearedOneInstance(){}}const q="recaptcha",de={theme:"light",type:"image"};class tt{constructor(f,g,w=Object.assign({},de)){this.parameters=w,this.type=q,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=te(f),this.isInvisible="invisible"===this.parameters.size,ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof g?document.getElementById(g):g;ce(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new V:new T,this.validateStartingState()}verify(){var f=this;return(0,d.A)(function*(){f.assertNotDestroyed();const g=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(g)||new Promise(Z=>{const Ne=pt=>{pt&&(f.tokenChangeListeners.delete(Ne),Z(pt))};f.tokenChangeListeners.add(Ne),f.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof f)f(g);else if("string"==typeof f){const w=Qr()[f];"function"==typeof w&&w(g)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.A)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.A)(function*(){ce(hn()&&!_s(),f.auth,"internal-error"),yield function Be(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function yi(_){return ui.apply(this,arguments)}(f.auth);ce(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ft{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=io._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Ut(_,f,g){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,d.A)(function*(_,f,g){if((0,z._isFirebaseServerApp)(_.app))return Promise.reject(Te(_));const w=te(_),j=yield to(w,f,(0,F.Ku)(g));return new Ft(j,Z=>L(w,Z))})).apply(this,arguments)}function xr(_,f,g){return $o.apply(this,arguments)}function $o(){return($o=(0,d.A)(function*(_,f,g){const w=(0,F.Ku)(_);yield Oi(!1,w,"phone");const j=yield to(w.auth,f,(0,F.Ku)(g));return new Ft(j,Z=>S(w,Z))})).apply(this,arguments)}function vo(_,f,g){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,d.A)(function*(_,f,g){const w=(0,F.Ku)(_);if((0,z._isFirebaseServerApp)(w.auth.app))return Promise.reject(Te(w.auth));const j=yield to(w.auth,f,(0,F.Ku)(g));return new Ft(j,Z=>Ie(w,Z))})).apply(this,arguments)}function to(_,f,g){return fa.apply(this,arguments)}function fa(){return fa=(0,d.A)(function*(_,f,g){var w;const j=yield g.verify();try{let Z;if(ce("string"==typeof j,_,"argument-error"),ce(g.type===q,_,"argument-error"),Z="string"==typeof f?{phoneNumber:f}:f,"session"in Z){const Ne=Z.session;if("phoneNumber"in Z)return ce("enroll"===Ne.type,_,"internal-error"),(yield function jo(_,f){return Oe(_,"POST","/v2/accounts/mfaEnrollment:start",ke(_,f))}(_,{idToken:Ne.credential,phoneEnrollmentInfo:{phoneNumber:Z.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{ce("signin"===Ne.type,_,"internal-error");const pt=(null===(w=Z.multiFactorHint)||void 0===w?void 0:w.uid)||Z.multiFactorUid;return ce(pt,_,"missing-multi-factor-info"),(yield function Il(_,f){return Oe(_,"POST","/v2/accounts/mfaSignIn:start",ke(_,f))}(_,{mfaPendingCredential:Ne.credential,mfaEnrollmentId:pt,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ne}=yield function Mr(_,f){return ln.apply(this,arguments)}(_,{phoneNumber:Z.phoneNumber,recaptchaToken:j});return Ne}}finally{g._reset()}}),fa.apply(this,arguments)}function pd(_,f){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,d.A)(function*(_,f){const g=(0,F.Ku)(_);if((0,z._isFirebaseServerApp)(g.auth.app))return Promise.reject(Te(g.auth));yield Jo(g,f)})).apply(this,arguments)}let Tl=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=te(g)}verifyPhoneNumber(g,w){return to(this.auth,g,(0,F.Ku)(w))}static credential(g,w){return io._fromVerification(g,w)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:j}=g;return w&&j?io._fromTokenResponse(w,j):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function is(_,f){return f?Nt(f):(ce(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class gd extends Wr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Io(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Io(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Io(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function cu(_){return Tu(_.auth,new gd(_),_.bypassAuthState)}function Sh(_){const{auth:f,user:g}=_;return ce(g,f,"internal-error"),Ku(g,new gd(_),_.bypassAuthState)}function Yu(_){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,d.A)(function*(_){const{auth:f,user:g}=_;return ce(g,f,"internal-error"),Jo(g,new gd(_),_.bypassAuthState)})).apply(this,arguments)}class Rh{constructor(f,g,w,j,Z=!1){this.auth=f,this.resolver=w,this.user=j,this.bypassAuthState=Z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,d.A)(function*(w,j){f.pendingPromise={resolve:w,reject:j};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(Z){f.reject(Z)}});return function(w,j){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,d.A)(function*(){const{urlResponse:w,sessionId:j,postBody:Z,tenantId:Ne,error:pt,type:Pt}=f;if(pt)return void g.reject(pt);const an={auth:g.auth,requestUri:w,sessionId:j,tenantId:Ne||void 0,postBody:Z||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Pt)(an))}catch(_n){g.reject(_n)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return cu;case"linkViaPopup":case"linkViaRedirect":return Yu;case"reauthViaPopup":case"reauthViaRedirect":return Sh;default:Ae(this.auth,"internal-error")}}resolve(f){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ju=new ar(2e3,1e4);function md(_,f,g){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,d.A)(function*(_,f,g){if((0,z._isFirebaseServerApp)(_.app))return Promise.reject(ge(_,"operation-not-supported-in-this-environment"));const w=te(_);De(_,f,eo);const j=is(w,g);return new wl(w,"signInViaPopup",f,j).executeNotNull()})).apply(this,arguments)}function gi(_,f,g){return lu.apply(this,arguments)}function lu(){return(lu=(0,d.A)(function*(_,f,g){const w=(0,F.Ku)(_);if((0,z._isFirebaseServerApp)(w.auth.app))return Promise.reject(ge(w.auth,"operation-not-supported-in-this-environment"));De(w.auth,f,eo);const j=is(w.auth,g);return new wl(w.auth,"reauthViaPopup",f,j,w).executeNotNull()})).apply(this,arguments)}function os(_,f,g){return du.apply(this,arguments)}function du(){return(du=(0,d.A)(function*(_,f,g){const w=(0,F.Ku)(_);De(w.auth,f,eo);const j=is(w.auth,g);return new wl(w.auth,"linkViaPopup",f,j,w).executeNotNull()})).apply(this,arguments)}let wl=(()=>{class _ extends Rh{constructor(g,w,j,Z,Ne){super(g,w,Z,Ne),this.provider=j,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.A)(function*(){const w=yield g.execute();return ce(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,d.A)(function*(){ot(1===g.filter.length,"Popup operations only handle one event");const w=ns();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(j=>{g.reject(j)}),g.resolver._isIframeWebStorageSupported(g.auth,j=>{j||g.reject(ge(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,j;this.pollId=null!==(j=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==j&&j.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Ju.get())};g()}}return _.currentPopupAction=null,_})();const Al="pendingRedirect",Cl=new Map;class Mh extends Rh{constructor(f,g,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,d.A)(function*(){let w=Cl.get(g.auth._key());if(!w){try{const Z=(yield function pa(_,f){return ga.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;w=()=>Promise.resolve(Z)}catch(j){w=()=>Promise.reject(j)}Cl.set(g.auth._key(),w)}return g.bypassAuthState||Cl.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,w=this;return(0,d.A)(function*(){if("signInViaRedirect"===f.type)return g().call(w,f);if("unknown"!==f.type){if(f.eventId){const j=yield w.auth._redirectUserForId(f.eventId);if(j)return w.user=j,g().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,d.A)(function*(){})()}cleanUp(){}}function ga(){return(ga=(0,d.A)(function*(_,f){const g=xc(f),w=Dl(_);if(!(yield w._isAvailable()))return!1;const j="true"===(yield w._get(g));return yield w._remove(g),j})).apply(this,arguments)}function yd(_,f){return vd.apply(this,arguments)}function vd(){return(vd=(0,d.A)(function*(_,f){return Dl(_)._set(xc(f),"true")})).apply(this,arguments)}function _d(){Cl.clear()}function Zu(_,f){Cl.set(_._key(),f)}function Dl(_){return Nt(_._redirectPersistence)}function xc(_){return Pn(Al,_.config.apiKey,_.name)}function Ou(_,f,g){return function Nh(_,f,g){return Ed.apply(this,arguments)}(_,f,g)}function Ed(){return(Ed=(0,d.A)(function*(_,f,g){if((0,z._isFirebaseServerApp)(_.app))return Promise.reject(Te(_));const w=te(_);De(_,f,eo),yield w._initializationPromise;const j=is(w,g);return yield yd(j,w),j._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function so(_,f,g){return function Qi(_,f,g){return pr.apply(this,arguments)}(_,f,g)}function pr(){return(pr=(0,d.A)(function*(_,f,g){const w=(0,F.Ku)(_);if(De(w.auth,f,eo),(0,z._isFirebaseServerApp)(w.auth.app))return Promise.reject(Te(w.auth));yield w.auth._initializationPromise;const j=is(w.auth,g);yield yd(j,w.auth);const Z=yield Fc(w);return j._openRedirect(w.auth,f,"reauthViaRedirect",Z)})).apply(this,arguments)}function Lc(_,f,g){return function sp(_,f,g){return kc.apply(this,arguments)}(_,f,g)}function kc(){return(kc=(0,d.A)(function*(_,f,g){const w=(0,F.Ku)(_);De(w.auth,f,eo),yield w.auth._initializationPromise;const j=is(w.auth,g);yield Oi(!1,w,f.providerId),yield yd(j,w.auth);const Z=yield Fc(w);return j._openRedirect(w.auth,f,"linkViaRedirect",Z)})).apply(this,arguments)}function ap(_,f){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,d.A)(function*(_,f){return yield te(_)._initializationPromise,Id(_,f,!1)})).apply(this,arguments)}function Id(_,f){return Td.apply(this,arguments)}function Td(){return(Td=(0,d.A)(function*(_,f,g=!1){if((0,z._isFirebaseServerApp)(_.app))return Promise.reject(Te(_));const w=te(_),j=is(w,f),Ne=yield new Mh(w,j,g).execute();return Ne&&!g&&(delete Ne.user._redirectEventId,yield w._persistUserIfCurrent(Ne.user),yield w._setRedirectUser(null,f)),Ne})).apply(this,arguments)}function Fc(_){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,d.A)(function*(_){const f=ns(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Vt{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(g=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function ea(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $i(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var w;if(f.error&&!$i(f)){const j=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(ge(this.auth,j))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const w=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vn(f))}saveEventToCache(f){this.cachedEventUids.add(vn(f)),this.lastProcessedEventTime=Date.now()}}function vn(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function $i({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function ao(_){return Co.apply(this,arguments)}function Co(){return(Co=(0,d.A)(function*(_,f={}){return Oe(_,"GET","/v1/projects",f)})).apply(this,arguments)}const ec=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fi=/^https?/;function ta(){return(ta=(0,d.A)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield ao(_);for(const g of f)try{if(Vn(g))return}catch{}Ae(_,"unauthorized-domain")})).apply(this,arguments)}function Vn(_){const f=bn(),{protocol:g,hostname:w}=new URL(f);if(_.startsWith("chrome-extension://")){const Ne=new URL(_);return""===Ne.hostname&&""===w?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&Ne.hostname===w}if(!fi.test(g))return!1;if(ec.test(_))return w===_;const j=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(w)}const bl=new ar(3e4,6e4);function Sl(){const _=Qr().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let si=null;const mi=new ar(5e3,15e3),ya="__/auth/iframe",xu="emulator/auth/iframe",xh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},na=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ms(_){const f=_.config;ce(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?qe(f,xu):`https://${_.config.authDomain}/${ya}`,w={apiKey:f.apiKey,appName:_.name,v:z.SDK_VERSION},j=na.get(_.config.apiHost);j&&(w.eid=j);const Z=_._getFrameworks();return Z.length&&(w.fw=Z.join(",")),`${g}?${(0,F.Am)(w).slice(1)}`}function fn(){return fn=(0,d.A)(function*(_){const f=yield function tc(_){return si=si||function ma(_){return new Promise((f,g)=>{var w,j,Z;function Ne(){Sl(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Sl(),g(ge(_,"network-request-failed"))},timeout:bl.get()})}if(null!==(j=null===(w=Qr().gapi)||void 0===w?void 0:w.iframes)&&void 0!==j&&j.Iframe)f(gapi.iframes.getContext());else{if(null===(Z=Qr().gapi)||void 0===Z||!Z.load){const pt=un("iframefcb");return Qr()[pt]=()=>{gapi.load?Ne():g(ge(_,"network-request-failed"))},Dt(`${function Rn(){return ve.gapiScript}()}?onload=${pt}`).catch(Pt=>g(Pt))}Ne()}}).catch(f=>{throw si=null,f})}(_),si}(_),g=Qr().gapi;return ce(g,_,"internal-error"),f.open({where:document.body,url:Ms(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xh,dontclear:!0},w=>new Promise(function(){var j=(0,d.A)(function*(Z,Ne){yield w.restyle({setHideOnLeave:!1});const pt=ge(_,"network-request-failed"),Pt=Qr().setTimeout(()=>{Ne(pt)},mi.get());function an(){Qr().clearTimeout(Pt),Z(w)}w.ping(an).then(an,()=>{Ne(pt)})});return function(Z,Ne){return j.apply(this,arguments)}}()))}),fn.apply(this,arguments)}const Rl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hi{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ho="__/auth/handler",wd="emulator/auth/handler",Wa=encodeURIComponent("fac");function nc(_,f,g,w,j,Z){return Es.apply(this,arguments)}function Es(){return(Es=(0,d.A)(function*(_,f,g,w,j,Z){ce(_.config.authDomain,_,"auth-domain-config-required"),ce(_.config.apiKey,_,"invalid-api-key");const Ne={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:w,v:z.SDK_VERSION,eventId:j};if(f instanceof eo){f.setDefaultLanguage(_.languageCode),Ne.providerId=f.providerId||"",(0,F.Im)(f.getCustomParameters())||(Ne.customParameters=JSON.stringify(f.getCustomParameters()));for(const[_n,cr]of Object.entries(Z||{}))Ne[_n]=cr}if(f instanceof Zr){const _n=f.getScopes().filter(cr=>""!==cr);_n.length>0&&(Ne.scopes=_n.join(","))}_.tenantId&&(Ne.tid=_.tenantId);const pt=Ne;for(const _n of Object.keys(pt))void 0===pt[_n]&&delete pt[_n];const Pt=yield _._getAppCheckToken(),an=Pt?`#${Wa}=${encodeURIComponent(Pt)}`:"";return`${function Ml({config:_}){return _.emulator?qe(_,wd):`https://${_.authDomain}/${Ho}`}(_)}?${(0,F.Am)(pt).slice(1)}${an}`})).apply(this,arguments)}const Nl="webStorageSupport",Ad=class Om{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oo,this._completeRedirectFn=Id,this._overrideRedirectResult=Zu}_openPopup(f,g,w,j){var Z=this;return(0,d.A)(function*(){var Ne;ot(null===(Ne=Z.eventManagers[f._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const pt=yield nc(f,g,w,bn(),j);return function Lu(_,f,g,w=500,j=600){const Z=Math.max((window.screen.availHeight-j)/2,0).toString(),Ne=Math.max((window.screen.availWidth-w)/2,0).toString();let pt="";const Pt=Object.assign(Object.assign({},Rl),{width:w.toString(),height:j.toString(),top:Z,left:Ne}),an=(0,F.ZQ)().toLowerCase();g&&(pt=ro(an)?"_blank":g),Tn(an)&&(f=f||"http://localhost",Pt.scrollbars="yes");const _n=Object.entries(Pt).reduce((Go,[Fu,Do])=>`${Go}${Fu}=${Do},`,"");if(function dt(_=(0,F.ZQ)()){var f;return co(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(an)&&"_self"!==pt)return function Xi(_,f){const g=document.createElement("a");g.href=_,g.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(f||"",pt),new Hi(null);const cr=window.open(f||"",pt,_n);ce(cr,_,"popup-blocked");try{cr.focus()}catch{}return new Hi(cr)}(f,pt,ns())})()}_openRedirect(f,g,w,j){var Z=this;return(0,d.A)(function*(){return yield Z._originValidation(f),function wr(_){Qr().location.href=_}(yield nc(f,g,w,bn(),j)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:j,promise:Z}=this.eventManagers[g];return j?Promise.resolve(j):(ot(Z,"If manager is not set, promise should be"),Z)}const w=this.initAndGetManager(f);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(f){var g=this;return(0,d.A)(function*(){const w=yield function Ns(_){return fn.apply(this,arguments)}(f),j=new Vt(f);return w.register("authEvent",Z=>(ce(Z?.authEvent,f,"invalid-auth-event"),{status:j.onEvent(Z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:j},g.iframes[f._key()]=w,j})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Nl,{type:Nl},j=>{var Z;const Ne=null===(Z=j?.[0])||void 0===Z?void 0:Z[Nl];void 0!==Ne&&g(!!Ne),Ae(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function no(_){return ta.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Et()||nr()||co()}};class Lh{constructor(f){this.factorId=f}_process(f,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,w);case"signin":return this._finalizeSignIn(f,g.credential);default:return vt("unexpected MultiFactorSessionType")}}}class za extends Lh{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new za(f)}_finalizeEnroll(f,g,w){return function fr(_,f){return Oe(_,"POST","/v2/accounts/mfaEnrollment:finalize",ke(_,f))}(f,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Mu(_,f){return Oe(_,"POST","/v2/accounts/mfaSignIn:finalize",ke(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ku=(()=>{class _{constructor(){}static assertion(g){return za._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var lp="@firebase/auth";class Lm{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,d.A)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(w=>{f(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,F.XA)("authIdTokenMaxAge"),function gt(_){ve=_}({loadJS:_=>new Promise((f,g)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=f,w.onerror=j=>{const Z=ge("internal-error");Z.customData=j,g(Z)},w.type="text/javascript",w.charset="UTF-8",function dp(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(w)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Bc(_){(0,z._registerComponent)(new pe.uA("auth",(f,{options:g})=>{const w=f.getProvider("app").getImmediate(),j=f.getProvider("heartbeat"),Z=f.getProvider("app-check-internal"),{apiKey:Ne,authDomain:pt}=w.options;ce(Ne&&!Ne.includes(":"),"invalid-api-key",{appName:w.name});const Pt={apiKey:Ne,authDomain:pt,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jt(_)},an=new Gr(w,j,Z,Pt);return function jn(_,f){const g=f?.persistence||[],w=(Array.isArray(g)?g:[g]).map(Nt);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(w,f?.popupRedirectResolver)}(an,g),an},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,w)=>{f.getProvider("auth-internal").initialize()})),(0,z._registerComponent)(new pe.uA("auth-internal",f=>{const g=te(f.getProvider("auth").getImmediate());return new Lm(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,z.registerVersion)(lp,"1.7.8",function kh(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(_)),(0,z.registerVersion)(lp,"1.7.8","esm2017")}("Browser")},1076:(Kt,nt,O)=>{O.d(nt,{Am:()=>uo,Bd:()=>vt,FA:()=>se,Fy:()=>Te,I9:()=>Ur,Im:()=>yi,Ku:()=>xe,Ll:()=>ce,T9:()=>Ae,Uj:()=>je,XA:()=>ge,ZQ:()=>De,bD:()=>$n,cY:()=>Se,eX:()=>yt,g:()=>Oe,gR:()=>zt,hp:()=>wn,jZ:()=>K,lT:()=>Kn,lV:()=>hn,mS:()=>Ve,nr:()=>qe,p7:()=>ot,sr:()=>bn,tD:()=>Br,u:()=>J,zW:()=>at,zw:()=>me});const ae=function(ne){const H=[];let G=0;for(let Y=0;Y<ne.length;Y++){let le=ne.charCodeAt(Y);le<128?H[G++]=le:le<2048?(H[G++]=le>>6|192,H[G++]=63&le|128):55296==(64512&le)&&Y+1<ne.length&&56320==(64512&ne.charCodeAt(Y+1))?(le=65536+((1023&le)<<10)+(1023&ne.charCodeAt(++Y)),H[G++]=le>>18|240,H[G++]=le>>12&63|128,H[G++]=le>>6&63|128,H[G++]=63&le|128):(H[G++]=le>>12|224,H[G++]=le>>6&63|128,H[G++]=63&le|128)}return H},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ne,H){if(!Array.isArray(ne))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,Y=[];for(let le=0;le<ne.length;le+=3){const et=ne[le],Nt=le+1<ne.length,Xt=Nt?ne[le+1]:0,Sn=le+2<ne.length,Pn=Sn?ne[le+2]:0;let Tn=(15&Xt)<<2|Pn>>6,nr=63&Pn;Sn||(nr=64,Nt||(Tn=64)),Y.push(G[et>>2],G[(3&et)<<4|Xt>>4],G[Tn],G[nr])}return Y.join("")},encodeString(ne,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(ne):this.encodeByteArray(ae(ne),H)},decodeString(ne,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(ne):function(ne){const H=[];let G=0,Y=0;for(;G<ne.length;){const le=ne[G++];if(le<128)H[Y++]=String.fromCharCode(le);else if(le>191&&le<224){const et=ne[G++];H[Y++]=String.fromCharCode((31&le)<<6|63&et)}else if(le>239&&le<365){const Sn=((7&le)<<18|(63&ne[G++])<<12|(63&ne[G++])<<6|63&ne[G++])-65536;H[Y++]=String.fromCharCode(55296+(Sn>>10)),H[Y++]=String.fromCharCode(56320+(1023&Sn))}else{const et=ne[G++],Nt=ne[G++];H[Y++]=String.fromCharCode((15&le)<<12|(63&et)<<6|63&Nt)}}return H.join("")}(this.decodeStringToByteArray(ne,H))},decodeStringToByteArray(ne,H){this.init_();const G=H?this.charToByteMapWebSafe_:this.charToByteMap_,Y=[];for(let le=0;le<ne.length;){const et=G[ne.charAt(le++)],Xt=le<ne.length?G[ne.charAt(le)]:0;++le;const Pn=le<ne.length?G[ne.charAt(le)]:64;++le;const An=le<ne.length?G[ne.charAt(le)]:64;if(++le,null==et||null==Xt||null==Pn||null==An)throw new Qe;Y.push(et<<2|Xt>>4),64!==Pn&&(Y.push(Xt<<4&240|Pn>>2),64!==An&&Y.push(Pn<<6&192|An))}return Y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ne=0;ne<this.ENCODED_VALS.length;ne++)this.byteToCharMap_[ne]=this.ENCODED_VALS.charAt(ne),this.charToByteMap_[this.byteToCharMap_[ne]]=ne,this.byteToCharMapWebSafe_[ne]=this.ENCODED_VALS_WEBSAFE.charAt(ne),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ne]]=ne,ne>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ne)]=ne,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ne)]=ne)}}};class Qe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const je=function(ne){return function(ne){const H=ae(ne);return pe.encodeByteArray(H,!0)}(ne).replace(/\./g,"")},J=function(ne){try{return pe.decodeString(ne,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function me(ne,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===ne&&(ne={});break;case Array:ne=[];break;default:return H}for(const G in H)!H.hasOwnProperty(G)||!Ge(G)||(ne[G]=me(ne[G],H[G]));return ne}function Ge(ne){return"__proto__"!==ne}function Ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Fe=()=>{try{return Ve().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ne=process.env.__FIREBASE_DEFAULTS__;return ne?JSON.parse(ne):void 0})()||(()=>{if(typeof document>"u")return;let ne;try{ne=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=ne&&J(ne[1]);return H&&JSON.parse(H)})()}catch(ne){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ne}`)}},Ae=()=>{var ne;return null===(ne=Fe())||void 0===ne?void 0:ne.config},ge=ne=>{var H;return null===(H=Fe())||void 0===H?void 0:H[`_${ne}`]};class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,G)=>{this.resolve=H,this.reject=G})}wrapCallback(H){return(G,Y)=>{G?this.reject(G):this.resolve(Y),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(G):H(G,Y))}}}function Te(ne,H){if(ne.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Y=H||"demo-project",le=ne.iat||0,et=ne.sub||ne.user_id;if(!et)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Nt=Object.assign({iss:`https://securetoken.google.com/${Y}`,aud:Y,iat:le,exp:le+3600,auth_time:le,sub:et,user_id:et,firebase:{sign_in_provider:"custom",identities:{}}},ne);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(Nt)),""].join(".")}function De(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function K(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function ce(){var ne;const H=null===(ne=Fe())||void 0===ne?void 0:ne.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function vt(){return typeof window<"u"||ot()}function ot(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function bn(){const ne="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ne&&void 0!==ne.id}function hn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Kn(){const ne=De();return ne.indexOf("MSIE ")>=0||ne.indexOf("Trident/")>=0}function qe(){return!ce()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function at(){try{return"object"==typeof indexedDB}catch{return!1}}function yt(){return new Promise((ne,H)=>{try{let G=!0;const Y="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(Y);le.onsuccess=()=>{le.result.close(),G||self.indexedDB.deleteDatabase(Y),ne(!0)},le.onupgradeneeded=()=>{G=!1},le.onerror=()=>{var et;H((null===(et=le.error)||void 0===et?void 0:et.message)||"")}}catch(G){H(G)}})}class Oe extends Error{constructor(H,G,Y){super(G),this.code=H,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,Oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,se.prototype.create)}}class se{constructor(H,G,Y){this.service=H,this.serviceName=G,this.errors=Y}create(H,...G){const Y=G[0]||{},le=`${this.service}/${H}`,et=this.errors[H],Nt=et?function _e(ne,H){return ne.replace(Re,(G,Y)=>{const le=H[Y];return null!=le?String(le):`<${Y}?>`})}(et,Y):"Error";return new Oe(le,`${this.serviceName}: ${Nt} (${le}).`,Y)}}const Re=/\{\$([^}]+)}/g;function zt(ne,H){return Object.prototype.hasOwnProperty.call(ne,H)}function yi(ne){for(const H in ne)if(Object.prototype.hasOwnProperty.call(ne,H))return!1;return!0}function $n(ne,H){if(ne===H)return!0;const G=Object.keys(ne),Y=Object.keys(H);for(const le of G){if(!Y.includes(le))return!1;const et=ne[le],Nt=H[le];if(dr(et)&&dr(Nt)){if(!$n(et,Nt))return!1}else if(et!==Nt)return!1}for(const le of Y)if(!G.includes(le))return!1;return!0}function dr(ne){return null!==ne&&"object"==typeof ne}function uo(ne){const H=[];for(const[G,Y]of Object.entries(ne))Array.isArray(Y)?Y.forEach(le=>{H.push(encodeURIComponent(G)+"="+encodeURIComponent(le))}):H.push(encodeURIComponent(G)+"="+encodeURIComponent(Y));return H.length?"&"+H.join("&"):""}function Ur(ne){const H={};return ne.replace(/^\?/,"").split("&").forEach(Y=>{if(Y){const[le,et]=Y.split("=");H[decodeURIComponent(le)]=decodeURIComponent(et)}}),H}function wn(ne){const H=ne.indexOf("?");if(!H)return"";const G=ne.indexOf("#",H);return ne.substring(H,G>0?G:void 0)}function Br(ne,H){const G=new jr(ne,H);return G.subscribe.bind(G)}class jr{constructor(H,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{H(this)}).catch(Y=>{this.error(Y)})}next(H){this.forEachObserver(G=>{G.next(H)})}error(H){this.forEachObserver(G=>{G.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,G,Y){let le;if(void 0===H&&void 0===G&&void 0===Y)throw new Error("Missing Observer.");le=function mr(ne,H){if("object"!=typeof ne||null===ne)return!1;for(const G of H)if(G in ne&&"function"==typeof ne[G])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:G,complete:Y},void 0===le.next&&(le.next=yr),void 0===le.error&&(le.error=yr),void 0===le.complete&&(le.complete=yr);const et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch{}}),this.observers.push(le),et}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,H)}sendOne(H,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{G(this.observers[H])}catch(Y){typeof console<"u"&&console.error&&console.error(Y)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yr(){}function xe(ne){return ne&&ne._delegate?ne._delegate:ne}},7942:(Kt,nt,O)=>{O.d(nt,{J:()=>z});var d=O(3953);let z=(()=>{class F{rootUrl="http://localhost:8080/";static \u0275fac=function(pe){return new(pe||F)};static \u0275prov=d.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})()},442:(Kt,nt,O)=>{O.d(nt,{d:()=>ae});var d=O(3953),z=O(7942),F=O(1626);let ae=(()=>{class ie{config;http;constructor(Qe,Ye){this.config=Qe,this.http=Ye}_rootUrl;get rootUrl(){return this._rootUrl||this.config.rootUrl}set rootUrl(Qe){this._rootUrl=Qe}static \u0275fac=function(Ye){return new(Ye||ie)(d.KVO(z.J),d.KVO(F.Qq))};static \u0275prov=d.jDH({token:ie,factory:ie.\u0275fac})}return ie})()},9522:(Kt,nt,O)=>{O.d(nt,{t:()=>Ye});var d=O(1626);const F=new class z{encodeKey(J){return encodeURIComponent(J)}encodeValue(J){return encodeURIComponent(J)}decodeKey(J){return decodeURIComponent(J)}decodeValue(J){return decodeURIComponent(J)}};class ae{name;value;options;constructor(J,ee,me,Ge,Ve){this.name=J,this.value=ee,this.options=me,this.options=me||{},null==this.options.style&&(this.options.style=Ge),null==this.options.explode&&(this.options.explode=Ve)}serializeValue(J,ee=","){if(null==J)return"";if(J instanceof Array)return J.map(me=>this.serializeValue(me).split(ee).join(encodeURIComponent(ee))).join(ee);if("object"==typeof J){const me=[];for(const Ge of Object.keys(J)){let Ve=J[Ge];null!=Ve&&(Ve=this.serializeValue(Ve).split(ee).join(encodeURIComponent(ee)),this.options.explode?me.push(`${Ge}=${Ve}`):(me.push(Ge),me.push(Ve)))}return me.join(ee)}return String(J)}}class ie extends ae{constructor(J,ee,me){super(J,ee,me,"simple",!1)}append(J){let ee=this.value;null==ee&&(ee="");let me="label"===this.options.style?".":"",Ge=this.options.explode?""===me?",":me:",",Ve=!1;return"matrix"===this.options.style&&(me=`;${this.name}=`,this.options.explode&&"object"==typeof ee&&(me=";",ee instanceof Array?(ee=ee.map(Xe=>`${this.name}=${this.serializeValue(Xe,";")}`),ee=ee.join(";"),Ve=!0):(ee=this.serializeValue(ee,";"),Ve=!0))),ee=me+(Ve?ee:this.serializeValue(ee,Ge)),(J=J.replace(`{${this.name}}`,ee)).replace(`{${me}${this.name}${this.options.explode?"*":""}}`,ee)}serializeValue(J,ee=","){var me="string"==typeof J?encodeURIComponent(J):super.serializeValue(J,ee);return(me=(me=me.replace(/%3D/g,"=")).replace(/%3B/g,";")).replace(/%2C/g,",")}}class pe extends ae{constructor(J,ee,me){super(J,ee,me,"form",!0)}append(J){if(this.value instanceof Array){if(!this.options.explode)return J.append(this.name,this.serializeValue(this.value,"spaceDelimited"===this.options.style?" ":"pipeDelimited"===this.options.style?"|":","));for(const ee of this.value)J=J.append(this.name,this.serializeValue(ee))}else if(null!==this.value&&"object"==typeof this.value)if("deepObject"===this.options.style)for(const ee of Object.keys(this.value)){const me=this.value[ee];null!=me&&(J=J.append(`${this.name}[${ee}]`,this.serializeValue(me)))}else if(this.options.explode)for(const ee of Object.keys(this.value)){const me=this.value[ee];null!=me&&(J=J.append(ee,this.serializeValue(me)))}else{const ee=[];for(const me of Object.keys(this.value)){const Ge=this.value[me];null!=Ge&&(ee.push(me),ee.push(Ge))}J=J.append(this.name,this.serializeValue(ee))}else null!=this.value&&(J=J.append(this.name,this.serializeValue(this.value)));return J}}class Qe extends ae{constructor(J,ee,me){super(J,ee,me,"simple",!1)}append(J){if(null!=this.value)if(this.value instanceof Array)for(const ee of this.value)J=J.append(this.name,this.serializeValue(ee));else J=J.append(this.name,this.serializeValue(this.value));return J}}class Ye{rootUrl;operationPath;method;_path=new Map;_query=new Map;_header=new Map;_bodyContent;_bodyContentType;constructor(J,ee,me){this.rootUrl=J,this.operationPath=ee,this.method=me}path(J,ee,me){this._path.set(J,new ie(J,ee,me||{}))}query(J,ee,me){this._query.set(J,new pe(J,ee,me||{}))}header(J,ee,me){this._header.set(J,new Qe(J,ee,me||{}))}body(J,ee="application/json"){if(this._bodyContentType=J instanceof Blob?J.type:ee,"application/x-www-form-urlencoded"===this._bodyContentType&&null!==J&&"object"==typeof J){const me=[];for(const Ge of Object.keys(J)){let Ve=J[Ge];Ve instanceof Array||(Ve=[Ve]);for(const Xe of Ve){const mt=this.formDataValue(Xe);null!==mt&&me.push([Ge,mt])}}this._bodyContent=me.map(Ge=>`${encodeURIComponent(Ge[0])}=${encodeURIComponent(Ge[1])}`).join("&")}else if("multipart/form-data"===this._bodyContentType){const me=new FormData;if(null!=J)for(const Ge of Object.keys(J)){const Ve=J[Ge];if(Ve instanceof Array)for(const Xe of Ve){const mt=this.formDataValue(Xe);null!==mt&&me.append(Ge,mt)}else{const Xe=this.formDataValue(Ve);null!==Xe&&me.set(Ge,Xe)}}this._bodyContent=me}else this._bodyContent=J}formDataValue(J){return null==J?null:J instanceof Blob?J:"object"==typeof J?new Blob([JSON.stringify(J)],{type:"application/json"}):String(J)}build(J){J=J||{};let ee=this.operationPath;for(const Xe of this._path.values())ee=Xe.append(ee);const me=this.rootUrl+ee;let Ge=new d.Nl({encoder:F});for(const Xe of this._query.values())Ge=Xe.append(Ge);let Ve=new d.Lr;J.accept&&(Ve=Ve.append("Accept",J.accept));for(const Xe of this._header.values())Ve=Xe.append(Ve);return this._bodyContentType&&!(this._bodyContent instanceof FormData)&&(Ve=Ve.set("Content-Type",this._bodyContentType)),new d.Kd(this.method.toUpperCase(),me,this._bodyContent,{params:Ge,headers:Ve,responseType:J.responseType,reportProgress:J.reportProgress,context:J.context})}}},6419:(Kt,nt,O)=>{O.d(nt,{M:()=>Se});var d=O(6354),z=O(442),F=O(1626),ae=O(5964),ie=O(9522);function pe(Te,De,K,ce){const vt=new ie.t(De,pe.PATH,"delete");return K&&vt.path("connectionId",K.connectionId,{}),Te.request(vt.build({responseType:"text",accept:"*/*",context:ce})).pipe((0,ae.p)(ot=>ot instanceof F.cS),(0,d.T)(ot=>ot.clone({body:void 0})))}function Qe(Te,De,K,ce){const vt=new ie.t(De,Qe.PATH,"get");return Te.request(vt.build({responseType:"json",accept:"application/json",context:ce})).pipe((0,ae.p)(ot=>ot instanceof F.cS),(0,d.T)(ot=>ot))}function Ye(Te,De,K,ce){const vt=new ie.t(De,Ye.PATH,"get");return K&&vt.path("categoryId",K.categoryId,{}),Te.request(vt.build({responseType:"json",accept:"application/json",context:ce})).pipe((0,ae.p)(ot=>ot instanceof F.cS),(0,d.T)(ot=>ot))}function je(Te,De,K,ce){const vt=new ie.t(De,je.PATH,"get");return K&&(vt.path("categoryId",K.categoryId,{}),vt.path("langId",K.langId,{})),Te.request(vt.build({responseType:"json",accept:"application/json",context:ce})).pipe((0,ae.p)(ot=>ot instanceof F.cS),(0,d.T)(ot=>ot))}function J(Te,De,K,ce){const vt=new ie.t(De,J.PATH,"get");return K&&(vt.path("categoryId",K.categoryId,{}),vt.path("languageId",K.languageId,{})),Te.request(vt.build({responseType:"json",accept:"application/json",context:ce})).pipe((0,ae.p)(ot=>ot instanceof F.cS),(0,d.T)(ot=>ot))}function ee(Te,De,K,ce){const vt=new ie.t(De,ee.PATH,"get");return K&&(vt.path("posId",K.posId,{}),vt.path("languageId",K.languageId,{})),Te.request(vt.build({responseType:"json",accept:"application/json",context:ce})).pipe((0,ae.p)(ot=>ot instanceof F.cS),(0,d.T)(ot=>ot))}function me(Te,De,K,ce){const vt=new ie.t(De,me.PATH,"get");return K&&vt.path("wordId",K.wordId,{}),Te.request(vt.build({responseType:"json",accept:"application/json",context:ce})).pipe((0,ae.p)(ot=>ot instanceof F.cS),(0,d.T)(ot=>ot))}function Ge(Te,De,K,ce){const vt=new ie.t(De,Ge.PATH,"get");return K&&vt.path("langId",K.langId,{}),Te.request(vt.build({responseType:"json",accept:"application/json",context:ce})).pipe((0,ae.p)(ot=>ot instanceof F.cS),(0,d.T)(ot=>ot))}function Ve(Te,De,K,ce){const vt=new ie.t(De,Ve.PATH,"delete");return K&&vt.path("gcvcId",K.gcvcId,{}),Te.request(vt.build({responseType:"text",accept:"*/*",context:ce})).pipe((0,ae.p)(ot=>ot instanceof F.cS),(0,d.T)(ot=>ot.clone({body:void 0})))}function Xe(Te,De,K,ce){const vt=new ie.t(De,Xe.PATH,"delete");return K&&(vt.path("wordId",K.wordId,{}),vt.path("categoryId",K.categoryId,{})),Te.request(vt.build({responseType:"text",accept:"*/*",context:ce})).pipe((0,ae.p)(ot=>ot instanceof F.cS),(0,d.T)(ot=>ot.clone({body:void 0})))}function mt(Te,De,K,ce){const vt=new ie.t(De,mt.PATH,"post");return K&&vt.body(K.body,"application/json"),Te.request(vt.build({responseType:"json",accept:"application/json",context:ce})).pipe((0,ae.p)(ot=>ot instanceof F.cS),(0,d.T)(ot=>ot))}function st(Te,De,K,ce){const vt=new ie.t(De,st.PATH,"post");return K&&vt.body(K.body,"application/json"),Te.request(vt.build({responseType:"json",accept:"application/json",context:ce})).pipe((0,ae.p)(ot=>ot instanceof F.cS),(0,d.T)(ot=>ot.clone({body:parseFloat(String(ot.body))})))}function Fe(Te,De,K,ce){const vt=new ie.t(De,Fe.PATH,"post");return K&&vt.body(K.body,"application/json"),Te.request(vt.build({responseType:"json",accept:"application/json",context:ce})).pipe((0,ae.p)(ot=>ot instanceof F.cS),(0,d.T)(ot=>ot.clone({body:parseFloat(String(ot.body))})))}function Tt(Te,De,K,ce){const vt=new ie.t(De,Tt.PATH,"post");return K&&vt.body(K.body,"application/json"),Te.request(vt.build({responseType:"json",accept:"application/json",context:ce})).pipe((0,ae.p)(ot=>ot instanceof F.cS),(0,d.T)(ot=>ot.clone({body:parseFloat(String(ot.body))})))}function Pe(Te,De,K,ce){const vt=new ie.t(De,Pe.PATH,"post");return K&&vt.body(K.body,"application/json"),Te.request(vt.build({responseType:"json",accept:"application/json",context:ce})).pipe((0,ae.p)(ot=>ot instanceof F.cS),(0,d.T)(ot=>ot.clone({body:parseFloat(String(ot.body))})))}pe.PATH="/api/category/connection/{connectionId}",Qe.PATH="/api/category",Ye.PATH="/api/category/{categoryId}/values",je.PATH="/api/category/{categoryId}/{langId}/values",J.PATH="/api/category/{categoryId}/{languageId}/connections",ee.PATH="/api/category/{posId}/{languageId}/connectionspos",me.PATH="/api/category/{wordId}/valuebyword",Ge.PATH="/api/category/{langId}/valuelangconnection",Ve.PATH="/api/category/valuelangconnection/{gcvcId}",Xe.PATH="/api/category/valuebyword/{wordId}/{categoryId}",mt.PATH="/api/category/valuebyword/replace",st.PATH="/api/category",Fe.PATH="/api/category/connection",Tt.PATH="/api/category/value",Pe.PATH="/api/category/valuelangconnection";var Ae=O(3953),ge=O(7942);let Se=(()=>{class Te extends z.d{constructor(K,ce){super(K,ce)}static GetAllCategoriesPath="/api/category";getAllCategories$Response(K,ce){return Qe(this.http,this.rootUrl,0,ce)}getAllCategories(K,ce){return this.getAllCategories$Response(K,ce).pipe((0,d.T)(vt=>vt.body))}static SaveGrammaticalCategoryPath="/api/category";saveGrammaticalCategory$Response(K,ce){return st(this.http,this.rootUrl,K,ce)}saveGrammaticalCategory(K,ce){return this.saveGrammaticalCategory$Response(K,ce).pipe((0,d.T)(vt=>vt.body))}static SaveGrammaticalCategoryConnectionPath="/api/category/connection";saveGrammaticalCategoryConnection$Response(K,ce){return Fe(this.http,this.rootUrl,K,ce)}saveGrammaticalCategoryConnection(K,ce){return this.saveGrammaticalCategoryConnection$Response(K,ce).pipe((0,d.T)(vt=>vt.body))}static DeleteGrammaticalCategoryConnectionPath="/api/category/connection/{connectionId}";deleteGrammaticalCategoryConnection$Response(K,ce){return pe(this.http,this.rootUrl,K,ce)}deleteGrammaticalCategoryConnection(K,ce){return this.deleteGrammaticalCategoryConnection$Response(K,ce).pipe((0,d.T)(vt=>vt.body))}static SaveGrammaticalCategoryValuePath="/api/category/value";saveGrammaticalCategoryValue$Response(K,ce){return Tt(this.http,this.rootUrl,K,ce)}saveGrammaticalCategoryValue(K,ce){return this.saveGrammaticalCategoryValue$Response(K,ce).pipe((0,d.T)(vt=>vt.body))}static ReplaceGrammaticalValuesByWordPath="/api/category/valuebyword/replace";replaceGrammaticalValuesByWord$Response(K,ce){return mt(this.http,this.rootUrl,K,ce)}replaceGrammaticalValuesByWord(K,ce){return this.replaceGrammaticalValuesByWord$Response(K,ce).pipe((0,d.T)(vt=>vt.body))}static RemoveGrammaticalValuesByWordPath="/api/category/valuebyword/{wordId}/{categoryId}";removeGrammaticalValuesByWord$Response(K,ce){return Xe(this.http,this.rootUrl,K,ce)}removeGrammaticalValuesByWord(K,ce){return this.removeGrammaticalValuesByWord$Response(K,ce).pipe((0,d.T)(vt=>vt.body))}static SaveGrammaticalCategoryValueConnectionPath="/api/category/valuelangconnection";saveGrammaticalCategoryValueConnection$Response(K,ce){return Pe(this.http,this.rootUrl,K,ce)}saveGrammaticalCategoryValueConnection(K,ce){return this.saveGrammaticalCategoryValueConnection$Response(K,ce).pipe((0,d.T)(vt=>vt.body))}static RemoveGrammaticalCategoryValueConnectionPath="/api/category/valuelangconnection/{gcvcId}";removeGrammaticalCategoryValueConnection$Response(K,ce){return Ve(this.http,this.rootUrl,K,ce)}removeGrammaticalCategoryValueConnection(K,ce){return this.removeGrammaticalCategoryValueConnection$Response(K,ce).pipe((0,d.T)(vt=>vt.body))}static GetCategoryValuesByCategoryPath="/api/category/{categoryId}/values";getCategoryValuesByCategory$Response(K,ce){return Ye(this.http,this.rootUrl,K,ce)}getCategoryValuesByCategory(K,ce){return this.getCategoryValuesByCategory$Response(K,ce).pipe((0,d.T)(vt=>vt.body))}static GetCategoryValuesByCategoryAndLangPath="/api/category/{categoryId}/{langId}/values";getCategoryValuesByCategoryAndLang$Response(K,ce){return je(this.http,this.rootUrl,K,ce)}getCategoryValuesByCategoryAndLang(K,ce){return this.getCategoryValuesByCategoryAndLang$Response(K,ce).pipe((0,d.T)(vt=>vt.body))}static GetGrammaticalCategoryConnectionsForLangPath="/api/category/{categoryId}/{languageId}/connections";getGrammaticalCategoryConnectionsForLang$Response(K,ce){return J(this.http,this.rootUrl,K,ce)}getGrammaticalCategoryConnectionsForLang(K,ce){return this.getGrammaticalCategoryConnectionsForLang$Response(K,ce).pipe((0,d.T)(vt=>vt.body))}static GetGrammaticalValuesConnectionByLangPath="/api/category/{langId}/valuelangconnection";getGrammaticalValuesConnectionByLang$Response(K,ce){return Ge(this.http,this.rootUrl,K,ce)}getGrammaticalValuesConnectionByLang(K,ce){return this.getGrammaticalValuesConnectionByLang$Response(K,ce).pipe((0,d.T)(vt=>vt.body))}static GetGrammaticalCategoryConnectionsForLangAndPosPath="/api/category/{posId}/{languageId}/connectionspos";getGrammaticalCategoryConnectionsForLangAndPos$Response(K,ce){return ee(this.http,this.rootUrl,K,ce)}getGrammaticalCategoryConnectionsForLangAndPos(K,ce){return this.getGrammaticalCategoryConnectionsForLangAndPos$Response(K,ce).pipe((0,d.T)(vt=>vt.body))}static GetGrammaticalValuesByWordPath="/api/category/{wordId}/valuebyword";getGrammaticalValuesByWord$Response(K,ce){return me(this.http,this.rootUrl,K,ce)}getGrammaticalValuesByWord(K,ce){return this.getGrammaticalValuesByWord$Response(K,ce).pipe((0,d.T)(vt=>vt.body))}static \u0275fac=function(ce){return new(ce||Te)(Ae.KVO(ge.J),Ae.KVO(F.Qq))};static \u0275prov=Ae.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})()},9602:(Kt,nt,O)=>{O.d(nt,{A:()=>Ae});var d=O(6354),z=O(442),F=O(1626),ae=O(5964),ie=O(9522);function pe(ge,Se,Te,De){const K=new ie.t(Se,pe.PATH,"delete");return Te&&K.path("declensionId",Te.declensionId,{}),ge.request(K.build({responseType:"text",accept:"*/*",context:De})).pipe((0,ae.p)(ce=>ce instanceof F.cS),(0,d.T)(ce=>ce.clone({body:void 0})))}function Qe(ge,Se,Te,De){const K=new ie.t(Se,Qe.PATH,"delete");return Te&&K.path("connectionId",Te.connectionId,{}),ge.request(K.build({responseType:"text",accept:"*/*",context:De})).pipe((0,ae.p)(ce=>ce instanceof F.cS),(0,d.T)(ce=>ce.clone({body:void 0})))}function Ye(ge,Se,Te,De){const K=new ie.t(Se,Ye.PATH,"delete");return Te&&K.path("declensionRuleId",Te.declensionRuleId,{}),ge.request(K.build({responseType:"text",accept:"*/*",context:De})).pipe((0,ae.p)(ce=>ce instanceof F.cS),(0,d.T)(ce=>ce.clone({body:void 0})))}function je(ge,Se,Te,De){const K=new ie.t(Se,je.PATH,"get");return Te&&(K.path("languageId",Te.languageId,{}),K.path("posId",Te.posId,{})),ge.request(K.build({responseType:"json",accept:"application/json",context:De})).pipe((0,ae.p)(ce=>ce instanceof F.cS),(0,d.T)(ce=>ce))}function J(ge,Se,Te,De){const K=new ie.t(Se,J.PATH,"get");return Te&&K.path("declensionId",Te.declensionId,{}),ge.request(K.build({responseType:"json",accept:"application/json",context:De})).pipe((0,ae.p)(ce=>ce instanceof F.cS),(0,d.T)(ce=>ce))}function ee(ge,Se,Te,De){const K=new ie.t(Se,ee.PATH,"get");return Te&&(K.path("languageId",Te.languageId,{}),K.path("posId",Te.posId,{})),ge.request(K.build({responseType:"json",accept:"application/json",context:De})).pipe((0,ae.p)(ce=>ce instanceof F.cS),(0,d.T)(ce=>ce))}function me(ge,Se,Te,De){const K=new ie.t(Se,me.PATH,"get");return Te&&K.path("wordId",Te.wordId,{}),ge.request(K.build({responseType:"json",accept:"application/json",context:De})).pipe((0,ae.p)(ce=>ce instanceof F.cS),(0,d.T)(ce=>ce))}function Ge(ge,Se,Te,De){const K=new ie.t(Se,Ge.PATH,"get");return Te&&K.path("declensionId",Te.declensionId,{}),ge.request(K.build({responseType:"json",accept:"application/json",context:De})).pipe((0,ae.p)(ce=>ce instanceof F.cS),(0,d.T)(ce=>ce.clone({body:"true"===String(ce.body)})))}function Ve(ge,Se,Te,De){const K=new ie.t(Se,Ve.PATH,"post");return Te&&K.path("declensionId",Te.declensionId,{}),ge.request(K.build({responseType:"text",accept:"*/*",context:De})).pipe((0,ae.p)(ce=>ce instanceof F.cS),(0,d.T)(ce=>ce.clone({body:void 0})))}function Xe(ge,Se,Te,De){const K=new ie.t(Se,Xe.PATH,"post");return Te&&K.body(Te.body,"application/json"),ge.request(K.build({responseType:"json",accept:"application/json",context:De})).pipe((0,ae.p)(ce=>ce instanceof F.cS),(0,d.T)(ce=>ce))}function mt(ge,Se,Te,De){const K=new ie.t(Se,mt.PATH,"post");return Te&&K.body(Te.body,"application/json"),ge.request(K.build({responseType:"json",accept:"application/json",context:De})).pipe((0,ae.p)(ce=>ce instanceof F.cS),(0,d.T)(ce=>ce.clone({body:parseFloat(String(ce.body))})))}function st(ge,Se,Te,De){const K=new ie.t(Se,st.PATH,"post");return Te&&K.body(Te.body,"application/json"),ge.request(K.build({responseType:"json",accept:"application/json",context:De})).pipe((0,ae.p)(ce=>ce instanceof F.cS),(0,d.T)(ce=>ce))}function Fe(ge,Se,Te,De){const K=new ie.t(Se,Fe.PATH,"post");return Te&&K.path("declensionId",Te.declensionId,{}),ge.request(K.build({responseType:"text",accept:"*/*",context:De})).pipe((0,ae.p)(ce=>ce instanceof F.cS),(0,d.T)(ce=>ce.clone({body:void 0})))}pe.PATH="/api/declension/declension/{declensionId}",Qe.PATH="/api/declension/connections/{connectionId}",Ye.PATH="/api/declension/rule/{declensionRuleId}",je.PATH="/api/declension/connections/{languageId}/{posId}",J.PATH="/api/declension/rules/{declensionId}",ee.PATH="/api/declension/declensions/{languageId}/{posId}",me.PATH="/api/declension/word/{wordId}",Ge.PATH="/api/declension/ismain/{declensionId}",Ve.PATH="/api/declension/removemain/{declensionId}",Xe.PATH="/api/declension/declension",mt.PATH="/api/declension/connections",st.PATH="/api/declension/rule",Fe.PATH="/api/declension/setmain/{declensionId}";var Tt=O(3953),Pe=O(7942);let Ae=(()=>{class ge extends z.d{constructor(Te,De){super(Te,De)}static SaveDeclensionConnectionPath="/api/declension/connections";saveDeclensionConnection$Response(Te,De){return mt(this.http,this.rootUrl,Te,De)}saveDeclensionConnection(Te,De){return this.saveDeclensionConnection$Response(Te,De).pipe((0,d.T)(K=>K.body))}static DeleteDeclensionConnectionPath="/api/declension/connections/{connectionId}";deleteDeclensionConnection$Response(Te,De){return Qe(this.http,this.rootUrl,Te,De)}deleteDeclensionConnection(Te,De){return this.deleteDeclensionConnection$Response(Te,De).pipe((0,d.T)(K=>K.body))}static GetDeclensionConnectionWithLangAndPosPath="/api/declension/connections/{languageId}/{posId}";getDeclensionConnectionWithLangAndPos$Response(Te,De){return je(this.http,this.rootUrl,Te,De)}getDeclensionConnectionWithLangAndPos(Te,De){return this.getDeclensionConnectionWithLangAndPos$Response(Te,De).pipe((0,d.T)(K=>K.body))}static SaveDeclensionPath="/api/declension/declension";saveDeclension$Response(Te,De){return Xe(this.http,this.rootUrl,Te,De)}saveDeclension(Te,De){return this.saveDeclension$Response(Te,De).pipe((0,d.T)(K=>K.body))}static DeleteDeclensionPath="/api/declension/declension/{declensionId}";deleteDeclension$Response(Te,De){return pe(this.http,this.rootUrl,Te,De)}deleteDeclension(Te,De){return this.deleteDeclension$Response(Te,De).pipe((0,d.T)(K=>K.body))}static GetDeclensionsByLangAndPosPath="/api/declension/declensions/{languageId}/{posId}";getDeclensionsByLangAndPos$Response(Te,De){return ee(this.http,this.rootUrl,Te,De)}getDeclensionsByLangAndPos(Te,De){return this.getDeclensionsByLangAndPos$Response(Te,De).pipe((0,d.T)(K=>K.body))}static IsMainDelcensionPath="/api/declension/ismain/{declensionId}";isMainDelcension$Response(Te,De){return Ge(this.http,this.rootUrl,Te,De)}isMainDelcension(Te,De){return this.isMainDelcension$Response(Te,De).pipe((0,d.T)(K=>K.body))}static RemoveFromMainDeclensionPath="/api/declension/removemain/{declensionId}";removeFromMainDeclension$Response(Te,De){return Ve(this.http,this.rootUrl,Te,De)}removeFromMainDeclension(Te,De){return this.removeFromMainDeclension$Response(Te,De).pipe((0,d.T)(K=>K.body))}static SaveDeclensionRulePath="/api/declension/rule";saveDeclensionRule$Response(Te,De){return st(this.http,this.rootUrl,Te,De)}saveDeclensionRule(Te,De){return this.saveDeclensionRule$Response(Te,De).pipe((0,d.T)(K=>K.body))}static DeleteDeclensionRulePath="/api/declension/rule/{declensionRuleId}";deleteDeclensionRule$Response(Te,De){return Ye(this.http,this.rootUrl,Te,De)}deleteDeclensionRule(Te,De){return this.deleteDeclensionRule$Response(Te,De).pipe((0,d.T)(K=>K.body))}static GetDeclensionRulesPath="/api/declension/rules/{declensionId}";getDeclensionRules$Response(Te,De){return J(this.http,this.rootUrl,Te,De)}getDeclensionRules(Te,De){return this.getDeclensionRules$Response(Te,De).pipe((0,d.T)(K=>K.body))}static SetAsMainDeclensionPath="/api/declension/setmain/{declensionId}";setAsMainDeclension$Response(Te,De){return Fe(this.http,this.rootUrl,Te,De)}setAsMainDeclension(Te,De){return this.setAsMainDeclension$Response(Te,De).pipe((0,d.T)(K=>K.body))}static GetDeclineWordPath="/api/declension/word/{wordId}";getDeclineWord$Response(Te,De){return me(this.http,this.rootUrl,Te,De)}getDeclineWord(Te,De){return this.getDeclineWord$Response(Te,De).pipe((0,d.T)(K=>K.body))}static \u0275fac=function(De){return new(De||ge)(Tt.KVO(Pe.J),Tt.KVO(F.Qq))};static \u0275prov=Tt.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})()},5680:(Kt,nt,O)=>{O.d(nt,{e:()=>lt});var d=O(6354),z=O(442),F=O(1626),ae=O(5964),ie=O(9522);function pe(ke,Oe,se,_e){const Re=new ie.t(Oe,pe.PATH,"post");return se&&Re.body(se.body,"application/json"),ke.request(Re.build({responseType:"json",accept:"application/json",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function Qe(ke,Oe,se,_e){const Re=new ie.t(Oe,Qe.PATH,"post");return se&&Re.body(se.body,"application/json"),ke.request(Re.build({responseType:"json",accept:"application/json",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function Ye(ke,Oe,se,_e){const Re=new ie.t(Oe,Ye.PATH,"post");return se&&Re.body(se.body,"application/json"),ke.request(Re.build({responseType:"json",accept:"application/json",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function je(ke,Oe,se,_e){const Re=new ie.t(Oe,je.PATH,"delete");return se&&(Re.path("fromLangId",se.fromLangId,{}),Re.path("toLangId",se.toLangId,{})),ke.request(Re.build({responseType:"text",accept:"*/*",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue.clone({body:void 0})))}function J(ke,Oe,se,_e){const Re=new ie.t(Oe,J.PATH,"delete");return se&&Re.path("id",se.id,{}),ke.request(Re.build({responseType:"text",accept:"*/*",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue.clone({body:void 0})))}function ee(ke,Oe,se,_e){const Re=new ie.t(Oe,ee.PATH,"get");return se&&Re.path("fromId",se.fromId,{}),ke.request(Re.build({responseType:"json",accept:"application/json",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function me(ke,Oe,se,_e){const Re=new ie.t(Oe,me.PATH,"get");return se&&(Re.path("fromId",se.fromId,{}),Re.path("toId",se.toId,{})),ke.request(Re.build({responseType:"json",accept:"application/json",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function Ge(ke,Oe,se,_e){const Re=new ie.t(Oe,Ge.PATH,"get");return se&&Re.query("filter",se.filter,{}),ke.request(Re.build({responseType:"json",accept:"application/json",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function Ve(ke,Oe,se,_e){const Re=new ie.t(Oe,Ve.PATH,"get");return se&&Re.query("filter",se.filter,{}),ke.request(Re.build({responseType:"json",accept:"application/json",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function Xe(ke,Oe,se,_e){const Re=new ie.t(Oe,Xe.PATH,"get");return se&&(Re.path("fromLangId",se.fromLangId,{}),Re.path("toLangId",se.toLangId,{})),ke.request(Re.build({responseType:"json",accept:"application/json",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function mt(ke,Oe,se,_e){const Re=new ie.t(Oe,mt.PATH,"get");return se&&Re.path("fromLangId",se.fromLangId,{}),ke.request(Re.build({responseType:"json",accept:"application/json",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function st(ke,Oe,se,_e){const Re=new ie.t(Oe,st.PATH,"get");return ke.request(Re.build({responseType:"json",accept:"application/json",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function Fe(ke,Oe,se,_e){const Re=new ie.t(Oe,Fe.PATH,"get");return se&&Re.path("toLangId",se.toLangId,{}),ke.request(Re.build({responseType:"json",accept:"application/json",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function Tt(ke,Oe,se,_e){const Re=new ie.t(Oe,Tt.PATH,"get");return se&&(Re.path("langFromId",se.langFromId,{}),Re.path("langToId",se.langToId,{}),Re.path("posId",se.posId,{}),Re.path("valueFromId",se.valueFromId,{})),ke.request(Re.build({responseType:"json",accept:"application/json",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function Pe(ke,Oe,se,_e){const Re=new ie.t(Oe,Pe.PATH,"get");return ke.request(Re.build({responseType:"json",accept:"application/json",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function Ae(ke,Oe,se,_e){const Re=new ie.t(Oe,Ae.PATH,"get");return se&&Re.path("id",se.id,{}),ke.request(Re.build({responseType:"json",accept:"application/json",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function ge(ke,Oe,se,_e){const Re=new ie.t(Oe,ge.PATH,"get");return se&&Re.path("id",se.id,{}),ke.request(Re.build({responseType:"text",accept:"text/plain",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function Se(ke,Oe,se,_e){const Re=new ie.t(Oe,Se.PATH,"get");return se&&(Re.path("soundChangePurpose",se.soundChangePurpose,{}),Re.path("fromLangId",se.fromLangId,{})),ke.request(Re.build({responseType:"json",accept:"application/json",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function Te(ke,Oe,se,_e){const Re=new ie.t(Oe,Te.PATH,"get");return se&&(Re.path("soundChangePurpose",se.soundChangePurpose,{}),Re.path("fromLangId",se.fromLangId,{}),Re.path("toLangId",se.toLangId,{})),ke.request(Re.build({responseType:"json",accept:"application/json",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function De(ke,Oe,se,_e){const Re=new ie.t(Oe,De.PATH,"get");return se&&(Re.path("soundChangePurpose",se.soundChangePurpose,{}),Re.path("ruleId",se.ruleId,{})),ke.request(Re.build({responseType:"json",accept:"application/json",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function K(ke,Oe,se,_e){const Re=new ie.t(Oe,K.PATH,"get");return se&&(Re.path("soundChangePurpose",se.soundChangePurpose,{}),Re.path("fromLangId",se.fromLangId,{})),ke.request(Re.build({responseType:"text",accept:"text/plain",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function ce(ke,Oe,se,_e){const Re=new ie.t(Oe,ce.PATH,"get");return se&&(Re.path("soundChangePurpose",se.soundChangePurpose,{}),Re.path("fromLangId",se.fromLangId,{}),Re.path("toLangId",se.toLangId,{})),ke.request(Re.build({responseType:"text",accept:"text/plain",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function vt(ke,Oe,se,_e){const Re=new ie.t(Oe,vt.PATH,"get");return se&&(Re.path("soundChangePurpose",se.soundChangePurpose,{}),Re.path("declensionId",se.declensionId,{})),ke.request(Re.build({responseType:"text",accept:"text/plain",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function ot(ke,Oe,se,_e){const Re=new ie.t(Oe,ot.PATH,"delete");return se&&Re.path("id",se.id,{}),ke.request(Re.build({responseType:"text",accept:"*/*",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue.clone({body:void 0})))}function bn(ke,Oe,se,_e){const Re=new ie.t(Oe,bn.PATH,"post");return se&&Re.body(se.body,"application/json"),ke.request(Re.build({responseType:"json",accept:"application/json",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue.clone({body:parseFloat(String(Ue.body))})))}function hn(ke,Oe,se,_e){const Re=new ie.t(Oe,hn.PATH,"post");return se&&(Re.path("soundChangePurpose",se.soundChangePurpose,{}),Re.path("fromLangId",se.fromLangId,{}),Re.body(se.body,"application/json")),ke.request(Re.build({responseType:"text",accept:"*/*",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue.clone({body:void 0})))}function sr(ke,Oe,se,_e){const Re=new ie.t(Oe,sr.PATH,"post");return se&&(Re.path("soundChangePurpose",se.soundChangePurpose,{}),Re.path("fromLangId",se.fromLangId,{}),Re.path("toLangId",se.toLangId,{}),Re.body(se.body,"application/json")),ke.request(Re.build({responseType:"text",accept:"*/*",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue.clone({body:void 0})))}function Kn(ke,Oe,se,_e){const Re=new ie.t(Oe,Kn.PATH,"post");return se&&(Re.path("soundChangePurpose",se.soundChangePurpose,{}),Re.path("declensionId",se.declensionId,{}),Re.body(se.body,"application/json")),ke.request(Re.build({responseType:"text",accept:"*/*",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue.clone({body:void 0})))}function kr(ke,Oe,se,_e){const Re=new ie.t(Oe,kr.PATH,"post");return se&&(Re.path("word",se.word,{}),Re.body(se.body,"application/json")),ke.request(Re.build({responseType:"json",accept:"application/json",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue))}function ar(ke,Oe,se,_e){const Re=new ie.t(Oe,ar.PATH,"post");return se&&(Re.path("fromLangId",se.fromLangId,{}),Re.path("toLangId",se.toLangId,{}),Re.body(se.body,"application/json")),ke.request(Re.build({responseType:"text",accept:"*/*",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue.clone({body:void 0})))}function qe(ke,Oe,se,_e){const Re=new ie.t(Oe,qe.PATH,"post");return se&&(Re.path("id",se.id,{}),Re.body(se.body,"application/json")),ke.request(Re.build({responseType:"text",accept:"*/*",context:_e})).pipe((0,ae.p)(Ue=>Ue instanceof F.cS),(0,d.T)(Ue=>Ue.clone({body:void 0})))}pe.PATH="/api/evolve/words/borrow",Qe.PATH="/api/evolve/words/evolve",Ye.PATH="/api/evolve/words/evolve/all",je.PATH="/api/evolve/connection/{fromLangId}/{toLangId}",J.PATH="/api/evolve/sc/{id}",ee.PATH="/api/evolve/allfrom/{fromId}",me.PATH="/api/evolve/routes/{fromId}/{toId}",Ge.PATH="/api/evolve/words/borrowed",Ve.PATH="/api/evolve/words",Xe.PATH="/api/evolve/connection/{fromLangId}/{toLangId}",mt.PATH="/api/evolve/connection/from/{fromLangId}",st.PATH="/api/evolve/connection/all",Fe.PATH="/api/evolve/connection/to/{toLangId}",Tt.PATH="/api/evolve/grammaticalvalue/{langFromId}/{langToId}/{posId}/{valueFromId}",Pe.PATH="/api/evolve/graph",Ae.PATH="/api/evolve/sc/{id}",ge.PATH="/api/evolve/sc/raw/{id}",Se.PATH="/api/evolve/sc/lang/{soundChangePurpose}/{fromLangId}",Te.PATH="/api/evolve/sc/lang/{soundChangePurpose}/{fromLangId}/{toLangId}",De.PATH="/api/evolve/sc/rule/{soundChangePurpose}/{ruleId}",K.PATH="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}",ce.PATH="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}/{toLangId}",vt.PATH="/api/evolve/sc/raw/rule/{soundChangePurpose}/{declensionId}",ot.PATH="/api/evolve/grammaticalvalue/{id}",bn.PATH="/api/evolve/grammaticalvalue",hn.PATH="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}",sr.PATH="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}/{toLangId}",Kn.PATH="/api/evolve/sc/raw/rule/{soundChangePurpose}/{declensionId}",kr.PATH="/api/evolve/trace/{word}",ar.PATH="/api/evolve/connection/{fromLangId}/{toLangId}",qe.PATH="/api/evolve/sc/raw/{id}";var at=O(3953),yt=O(7942);let lt=(()=>{class ke extends z.d{constructor(se,_e){super(se,_e)}static GetAllLanguagesFromPath="/api/evolve/allfrom/{fromId}";getAllLanguagesFrom$Response(se,_e){return ee(this.http,this.rootUrl,se,_e)}getAllLanguagesFrom(se,_e){return this.getAllLanguagesFrom$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static GetConnectionsPath="/api/evolve/connection/all";getConnections$Response(se,_e){return st(this.http,this.rootUrl,0,_e)}getConnections(se,_e){return this.getConnections$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static GetConnectionFromLangPath="/api/evolve/connection/from/{fromLangId}";getConnectionFromLang$Response(se,_e){return mt(this.http,this.rootUrl,se,_e)}getConnectionFromLang(se,_e){return this.getConnectionFromLang$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static GetConnectionToLangPath="/api/evolve/connection/to/{toLangId}";getConnectionToLang$Response(se,_e){return Fe(this.http,this.rootUrl,se,_e)}getConnectionToLang(se,_e){return this.getConnectionToLang$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static GetConnectionByLangsPath="/api/evolve/connection/{fromLangId}/{toLangId}";getConnectionByLangs$Response(se,_e){return Xe(this.http,this.rootUrl,se,_e)}getConnectionByLangs(se,_e){return this.getConnectionByLangs$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static UpdateConnectionByLangsPath="/api/evolve/connection/{fromLangId}/{toLangId}";updateConnectionByLangs$Response(se,_e){return ar(this.http,this.rootUrl,se,_e)}updateConnectionByLangs(se,_e){return this.updateConnectionByLangs$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static DeleteConnectionByLangsPath="/api/evolve/connection/{fromLangId}/{toLangId}";deleteConnectionByLangs$Response(se,_e){return je(this.http,this.rootUrl,se,_e)}deleteConnectionByLangs(se,_e){return this.deleteConnectionByLangs$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static SaveGrammaticalValueEvolutionPath="/api/evolve/grammaticalvalue";saveGrammaticalValueEvolution$Response(se,_e){return bn(this.http,this.rootUrl,se,_e)}saveGrammaticalValueEvolution(se,_e){return this.saveGrammaticalValueEvolution$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static RemoveGrammaticalValueEvolutionPath="/api/evolve/grammaticalvalue/{id}";removeGrammaticalValueEvolution$Response(se,_e){return ot(this.http,this.rootUrl,se,_e)}removeGrammaticalValueEvolution(se,_e){return this.removeGrammaticalValueEvolution$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static GetGrammaticalValueEvolutionPath="/api/evolve/grammaticalvalue/{langFromId}/{langToId}/{posId}/{valueFromId}";getGrammaticalValueEvolution$Response(se,_e){return Tt(this.http,this.rootUrl,se,_e)}getGrammaticalValueEvolution(se,_e){return this.getGrammaticalValueEvolution$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static GetLanguageGraphPath="/api/evolve/graph";getLanguageGraph$Response(se,_e){return Pe(this.http,this.rootUrl,0,_e)}getLanguageGraph(se,_e){return this.getLanguageGraph$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static GetAllRoutesPath="/api/evolve/routes/{fromId}/{toId}";getAllRoutes$Response(se,_e){return me(this.http,this.rootUrl,se,_e)}getAllRoutes(se,_e){return this.getAllRoutes$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static GetSoundChangesByLangPath="/api/evolve/sc/lang/{soundChangePurpose}/{fromLangId}";getSoundChangesByLang$Response(se,_e){return Se(this.http,this.rootUrl,se,_e)}getSoundChangesByLang(se,_e){return this.getSoundChangesByLang$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static GetSoundChangesByLangsPath="/api/evolve/sc/lang/{soundChangePurpose}/{fromLangId}/{toLangId}";getSoundChangesByLangs$Response(se,_e){return Te(this.http,this.rootUrl,se,_e)}getSoundChangesByLangs(se,_e){return this.getSoundChangesByLangs$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static GetSoundChangesRawLinesByLangPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}";getSoundChangesRawLinesByLang$Response(se,_e){return K(this.http,this.rootUrl,se,_e)}getSoundChangesRawLinesByLang(se,_e){return this.getSoundChangesRawLinesByLang$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static SaveSoundChangesRawLinesByLangPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}";saveSoundChangesRawLinesByLang$Response(se,_e){return hn(this.http,this.rootUrl,se,_e)}saveSoundChangesRawLinesByLang(se,_e){return this.saveSoundChangesRawLinesByLang$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static GetSoundChangesRawLinesByLangsPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}/{toLangId}";getSoundChangesRawLinesByLangs$Response(se,_e){return ce(this.http,this.rootUrl,se,_e)}getSoundChangesRawLinesByLangs(se,_e){return this.getSoundChangesRawLinesByLangs$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static SaveSoundChangesRawLinesByLangsPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}/{toLangId}";saveSoundChangesRawLinesByLangs$Response(se,_e){return sr(this.http,this.rootUrl,se,_e)}saveSoundChangesRawLinesByLangs(se,_e){return this.saveSoundChangesRawLinesByLangs$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static GetSoundChangesRawLinesByRulePath="/api/evolve/sc/raw/rule/{soundChangePurpose}/{declensionId}";getSoundChangesRawLinesByRule$Response(se,_e){return vt(this.http,this.rootUrl,se,_e)}getSoundChangesRawLinesByRule(se,_e){return this.getSoundChangesRawLinesByRule$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static SaveSoundChangesRawLinesByRulePath="/api/evolve/sc/raw/rule/{soundChangePurpose}/{declensionId}";saveSoundChangesRawLinesByRule$Response(se,_e){return Kn(this.http,this.rootUrl,se,_e)}saveSoundChangesRawLinesByRule(se,_e){return this.saveSoundChangesRawLinesByRule$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static GetSoundChangeRawPath="/api/evolve/sc/raw/{id}";getSoundChangeRaw$Response(se,_e){return ge(this.http,this.rootUrl,se,_e)}getSoundChangeRaw(se,_e){return this.getSoundChangeRaw$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static UpdateSoundChangePath="/api/evolve/sc/raw/{id}";updateSoundChange$Response(se,_e){return qe(this.http,this.rootUrl,se,_e)}updateSoundChange(se,_e){return this.updateSoundChange$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static GetSoundChangesByRulePath="/api/evolve/sc/rule/{soundChangePurpose}/{ruleId}";getSoundChangesByRule$Response(se,_e){return De(this.http,this.rootUrl,se,_e)}getSoundChangesByRule(se,_e){return this.getSoundChangesByRule$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static GetSoundChangePath="/api/evolve/sc/{id}";getSoundChange$Response(se,_e){return Ae(this.http,this.rootUrl,se,_e)}getSoundChange(se,_e){return this.getSoundChange$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static DeleteSoundChangePath="/api/evolve/sc/{id}";deleteSoundChange$Response(se,_e){return J(this.http,this.rootUrl,se,_e)}deleteSoundChange(se,_e){return this.deleteSoundChange$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static TracePath="/api/evolve/trace/{word}";trace$Response(se,_e){return kr(this.http,this.rootUrl,se,_e)}trace(se,_e){return this.trace$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static GetAllWordsWithEvolutionsPath="/api/evolve/words";getAllWordsWithEvolutions$Response(se,_e){return Ve(this.http,this.rootUrl,se,_e)}getAllWordsWithEvolutions(se,_e){return this.getAllWordsWithEvolutions$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static AddBorrowedWordPath="/api/evolve/words/borrow";addBorrowedWord$Response(se,_e){return pe(this.http,this.rootUrl,se,_e)}addBorrowedWord(se,_e){return this.addBorrowedWord$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static GetAllWords1Path="/api/evolve/words/borrowed";getAllWords1$Response(se,_e){return Ge(this.http,this.rootUrl,se,_e)}getAllWords1(se,_e){return this.getAllWords1$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static AddEvolvedWordPath="/api/evolve/words/evolve";addEvolvedWord$Response(se,_e){return Qe(this.http,this.rootUrl,se,_e)}addEvolvedWord(se,_e){return this.addEvolvedWord$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static AddEvolvedWord1Path="/api/evolve/words/evolve/all";addEvolvedWord1$Response(se,_e){return Ye(this.http,this.rootUrl,se,_e)}addEvolvedWord1(se,_e){return this.addEvolvedWord1$Response(se,_e).pipe((0,d.T)(Re=>Re.body))}static \u0275fac=function(_e){return new(_e||ke)(at.KVO(yt.J),at.KVO(F.Qq))};static \u0275prov=at.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}return ke})()},3050:(Kt,nt,O)=>{O.d(nt,{D:()=>st});var d=O(6354),z=O(442),F=O(1626),ae=O(5964),ie=O(9522);function pe(Fe,Tt,Pe,Ae){const ge=new ie.t(Tt,pe.PATH,"get");return Pe&&ge.path("languageId",Pe.languageId,{}),Fe.request(ge.build({responseType:"json",accept:"application/json",context:Ae})).pipe((0,ae.p)(Se=>Se instanceof F.cS),(0,d.T)(Se=>Se.clone({body:"true"===String(Se.body)})))}function Qe(Fe,Tt,Pe,Ae){const ge=new ie.t(Tt,Qe.PATH,"delete");return Pe&&ge.path("languageId",Pe.languageId,{}),Fe.request(ge.build({responseType:"text",accept:"*/*",context:Ae})).pipe((0,ae.p)(Se=>Se instanceof F.cS),(0,d.T)(Se=>Se.clone({body:void 0})))}function Ye(Fe,Tt,Pe,Ae){const ge=new ie.t(Tt,Ye.PATH,"delete");return Pe&&ge.path("phonemeId",Pe.phonemeId,{}),Fe.request(ge.build({responseType:"text",accept:"*/*",context:Ae})).pipe((0,ae.p)(Se=>Se instanceof F.cS),(0,d.T)(Se=>Se.clone({body:void 0})))}function je(Fe,Tt,Pe,Ae){const ge=new ie.t(Tt,je.PATH,"get");return Fe.request(ge.build({responseType:"json",accept:"application/json",context:Ae})).pipe((0,ae.p)(Se=>Se instanceof F.cS),(0,d.T)(Se=>Se))}function J(Fe,Tt,Pe,Ae){const ge=new ie.t(Tt,J.PATH,"get");return Pe&&ge.path("languageId",Pe.languageId,{}),Fe.request(ge.build({responseType:"json",accept:"application/json",context:Ae})).pipe((0,ae.p)(Se=>Se instanceof F.cS),(0,d.T)(Se=>Se))}function ee(Fe,Tt,Pe,Ae){const ge=new ie.t(Tt,ee.PATH,"get");return Pe&&ge.path("languageId",Pe.languageId,{}),Fe.request(ge.build({responseType:"json",accept:"application/json",context:Ae})).pipe((0,ae.p)(Se=>Se instanceof F.cS),(0,d.T)(Se=>Se))}function me(Fe,Tt,Pe,Ae){const ge=new ie.t(Tt,me.PATH,"get");return Pe&&ge.path("languageId",Pe.languageId,{}),Fe.request(ge.build({responseType:"json",accept:"application/json",context:Ae})).pipe((0,ae.p)(Se=>Se instanceof F.cS),(0,d.T)(Se=>Se))}function Ge(Fe,Tt,Pe,Ae){const ge=new ie.t(Tt,Ge.PATH,"post");return Pe&&ge.body(Pe.body,"application/json"),Fe.request(ge.build({responseType:"json",accept:"application/json",context:Ae})).pipe((0,ae.p)(Se=>Se instanceof F.cS),(0,d.T)(Se=>Se))}function Ve(Fe,Tt,Pe,Ae){const ge=new ie.t(Tt,Ve.PATH,"post");return Pe&&(ge.path("languageId",Pe.languageId,{}),ge.body(Pe.body,"application/json")),Fe.request(ge.build({responseType:"json",accept:"application/json",context:Ae})).pipe((0,ae.p)(Se=>Se instanceof F.cS),(0,d.T)(Se=>Se))}pe.PATH="/api/language/{languageId}/candelete",Qe.PATH="/api/language/{languageId}",Ye.PATH="/api/language/phoneme/{phonemeId}",je.PATH="/api/language/all",J.PATH="/api/language/pos/{languageId}",ee.PATH="/api/language/phoneme/{languageId}",me.PATH="/api/language/clusters/{languageId}",Ge.PATH="/api/language/",Ve.PATH="/api/language/phoneme/{languageId}";var Xe=O(3953),mt=O(7942);let st=(()=>{class Fe extends z.d{constructor(Pe,Ae){super(Pe,Ae)}static SaveLanguagePath="/api/language/";saveLanguage$Response(Pe,Ae){return Ge(this.http,this.rootUrl,Pe,Ae)}saveLanguage(Pe,Ae){return this.saveLanguage$Response(Pe,Ae).pipe((0,d.T)(ge=>ge.body))}static GetAllLanguagesPath="/api/language/all";getAllLanguages$Response(Pe,Ae){return je(this.http,this.rootUrl,0,Ae)}getAllLanguages(Pe,Ae){return this.getAllLanguages$Response(Pe,Ae).pipe((0,d.T)(ge=>ge.body))}static GetLanguageSoundClustersPath="/api/language/clusters/{languageId}";getLanguageSoundClusters$Response(Pe,Ae){return me(this.http,this.rootUrl,Pe,Ae)}getLanguageSoundClusters(Pe,Ae){return this.getLanguageSoundClusters$Response(Pe,Ae).pipe((0,d.T)(ge=>ge.body))}static GetLanguagePhonemesPath="/api/language/phoneme/{languageId}";getLanguagePhonemes$Response(Pe,Ae){return ee(this.http,this.rootUrl,Pe,Ae)}getLanguagePhonemes(Pe,Ae){return this.getLanguagePhonemes$Response(Pe,Ae).pipe((0,d.T)(ge=>ge.body))}static SaveLanguagePhonemePath="/api/language/phoneme/{languageId}";saveLanguagePhoneme$Response(Pe,Ae){return Ve(this.http,this.rootUrl,Pe,Ae)}saveLanguagePhoneme(Pe,Ae){return this.saveLanguagePhoneme$Response(Pe,Ae).pipe((0,d.T)(ge=>ge.body))}static DeleteLanguagePhonemePath="/api/language/phoneme/{phonemeId}";deleteLanguagePhoneme$Response(Pe,Ae){return Ye(this.http,this.rootUrl,Pe,Ae)}deleteLanguagePhoneme(Pe,Ae){return this.deleteLanguagePhoneme$Response(Pe,Ae).pipe((0,d.T)(ge=>ge.body))}static GetAllPartsOfSpeechByLanguagePath="/api/language/pos/{languageId}";getAllPartsOfSpeechByLanguage$Response(Pe,Ae){return J(this.http,this.rootUrl,Pe,Ae)}getAllPartsOfSpeechByLanguage(Pe,Ae){return this.getAllPartsOfSpeechByLanguage$Response(Pe,Ae).pipe((0,d.T)(ge=>ge.body))}static DeleteLanguagePath="/api/language/{languageId}";deleteLanguage$Response(Pe,Ae){return Qe(this.http,this.rootUrl,Pe,Ae)}deleteLanguage(Pe,Ae){return this.deleteLanguage$Response(Pe,Ae).pipe((0,d.T)(ge=>ge.body))}static CanDeleteLanguagePath="/api/language/{languageId}/candelete";canDeleteLanguage$Response(Pe,Ae){return pe(this.http,this.rootUrl,Pe,Ae)}canDeleteLanguage(Pe,Ae){return this.canDeleteLanguage$Response(Pe,Ae).pipe((0,d.T)(ge=>ge.body))}static \u0275fac=function(Ae){return new(Ae||Fe)(Xe.KVO(mt.J),Xe.KVO(F.Qq))};static \u0275prov=Xe.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})()},9407:(Kt,nt,O)=>{O.d(nt,{Q:()=>Ve});var d=O(6354),z=O(442),F=O(1626),ae=O(5964),ie=O(9522);function pe(Xe,mt,st,Fe){const Tt=new ie.t(mt,pe.PATH,"delete");return st&&Tt.path("id",st.id,{}),Xe.request(Tt.build({responseType:"text",accept:"*/*",context:Fe})).pipe((0,ae.p)(Pe=>Pe instanceof F.cS),(0,d.T)(Pe=>Pe.clone({body:void 0})))}function Qe(Xe,mt,st,Fe){const Tt=new ie.t(mt,Qe.PATH,"get");return Xe.request(Tt.build({responseType:"json",accept:"application/json",context:Fe})).pipe((0,ae.p)(Pe=>Pe instanceof F.cS),(0,d.T)(Pe=>Pe))}function Ye(Xe,mt,st,Fe){const Tt=new ie.t(mt,Ye.PATH,"get");return st&&Tt.path("languageId",st.languageId,{}),Xe.request(Tt.build({responseType:"json",accept:"application/json",context:Fe})).pipe((0,ae.p)(Pe=>Pe instanceof F.cS),(0,d.T)(Pe=>Pe))}function je(Xe,mt,st,Fe){const Tt=new ie.t(mt,je.PATH,"get");return st&&Tt.path("languageId",st.languageId,{}),Xe.request(Tt.build({responseType:"json",accept:"application/json",context:Fe})).pipe((0,ae.p)(Pe=>Pe instanceof F.cS),(0,d.T)(Pe=>Pe))}function J(Xe,mt,st,Fe){const Tt=new ie.t(mt,J.PATH,"post");return st&&Tt.body(st.body,"application/json"),Xe.request(Tt.build({responseType:"json",accept:"application/json",context:Fe})).pipe((0,ae.p)(Pe=>Pe instanceof F.cS),(0,d.T)(Pe=>Pe.clone({body:parseFloat(String(Pe.body))})))}function ee(Xe,mt,st,Fe){const Tt=new ie.t(mt,ee.PATH,"post");return st&&Tt.body(st.body,"application/json"),Xe.request(Tt.build({responseType:"json",accept:"application/json",context:Fe})).pipe((0,ae.p)(Pe=>Pe instanceof F.cS),(0,d.T)(Pe=>Pe.clone({body:parseFloat(String(Pe.body))})))}pe.PATH="/api/pos/languagepos/{id}",Qe.PATH="/api/pos",Ye.PATH="/api/pos/language/{languageId}",je.PATH="/api/pos/languagepos/{languageId}",J.PATH="/api/pos/languagepos",ee.PATH="/api/pos";var me=O(3953),Ge=O(7942);let Ve=(()=>{class Xe extends z.d{constructor(st,Fe){super(st,Fe)}static GetAllPosPath="/api/pos";getAllPos$Response(st,Fe){return Qe(this.http,this.rootUrl,0,Fe)}getAllPos(st,Fe){return this.getAllPos$Response(st,Fe).pipe((0,d.T)(Tt=>Tt.body))}static SavePosPath="/api/pos";savePos$Response(st,Fe){return ee(this.http,this.rootUrl,st,Fe)}savePos(st,Fe){return this.savePos$Response(st,Fe).pipe((0,d.T)(Tt=>Tt.body))}static GetAllPosByLanguagePath="/api/pos/language/{languageId}";getAllPosByLanguage$Response(st,Fe){return Ye(this.http,this.rootUrl,st,Fe)}getAllPosByLanguage(st,Fe){return this.getAllPosByLanguage$Response(st,Fe).pipe((0,d.T)(Tt=>Tt.body))}static SaveLanguagePosPath="/api/pos/languagepos";saveLanguagePos$Response(st,Fe){return J(this.http,this.rootUrl,st,Fe)}saveLanguagePos(st,Fe){return this.saveLanguagePos$Response(st,Fe).pipe((0,d.T)(Tt=>Tt.body))}static DeleteLanguagePosPath="/api/pos/languagepos/{id}";deleteLanguagePos$Response(st,Fe){return pe(this.http,this.rootUrl,st,Fe)}deleteLanguagePos(st,Fe){return this.deleteLanguagePos$Response(st,Fe).pipe((0,d.T)(Tt=>Tt.body))}static GetPosByLanguagePath="/api/pos/languagepos/{languageId}";getPosByLanguage$Response(st,Fe){return je(this.http,this.rootUrl,st,Fe)}getPosByLanguage(st,Fe){return this.getPosByLanguage$Response(st,Fe).pipe((0,d.T)(Tt=>Tt.body))}static \u0275fac=function(Fe){return new(Fe||Xe)(me.KVO(Ge.J),me.KVO(F.Qq))};static \u0275prov=me.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})()},3594:(Kt,nt,O)=>{O.d(nt,{L:()=>me});var d=O(6354),z=O(442),F=O(1626),ae=O(5964),ie=O(9522);function pe(Ge,Ve,Xe,mt){const st=new ie.t(Ve,pe.PATH,"post");return Xe&&st.body(Xe.body,"application/json"),Ge.request(st.build({responseType:"json",accept:"application/json",context:mt})).pipe((0,ae.p)(Fe=>Fe instanceof F.cS),(0,d.T)(Fe=>Fe.clone({body:parseFloat(String(Fe.body))})))}function Qe(Ge,Ve,Xe,mt){const st=new ie.t(Ve,Qe.PATH,"delete");return Xe&&st.path("id",Xe.id,{}),Ge.request(st.build({responseType:"text",accept:"*/*",context:mt})).pipe((0,ae.p)(Fe=>Fe instanceof F.cS),(0,d.T)(Fe=>Fe.clone({body:void 0})))}function Ye(Ge,Ve,Xe,mt){const st=new ie.t(Ve,Ye.PATH,"get");return Xe&&st.query("filter",Xe.filter,{}),Ge.request(st.build({responseType:"json",accept:"application/json",context:mt})).pipe((0,ae.p)(Fe=>Fe instanceof F.cS),(0,d.T)(Fe=>Fe))}function je(Ge,Ve,Xe,mt){const st=new ie.t(Ve,je.PATH,"get");return Xe&&st.path("id",Xe.id,{}),Ge.request(st.build({responseType:"json",accept:"application/json",context:mt})).pipe((0,ae.p)(Fe=>Fe instanceof F.cS),(0,d.T)(Fe=>Fe))}pe.PATH="/api/translation/",Qe.PATH="/api/translation/{id}",Ye.PATH="/api/translation/page",je.PATH="/api/translation/tranlationsfor/{id}";var J=O(3953),ee=O(7942);let me=(()=>{class Ge extends z.d{constructor(Xe,mt){super(Xe,mt)}static AddTranslationPath="/api/translation/";addTranslation$Response(Xe,mt){return pe(this.http,this.rootUrl,Xe,mt)}addTranslation(Xe,mt){return this.addTranslation$Response(Xe,mt).pipe((0,d.T)(st=>st.body))}static GetAllWordsWithTranslationsFromLang1Path="/api/translation/page";getAllWordsWithTranslationsFromLang1$Response(Xe,mt){return Ye(this.http,this.rootUrl,Xe,mt)}getAllWordsWithTranslationsFromLang1(Xe,mt){return this.getAllWordsWithTranslationsFromLang1$Response(Xe,mt).pipe((0,d.T)(st=>st.body))}static GetTranslationsForWordPath="/api/translation/tranlationsfor/{id}";getTranslationsForWord$Response(Xe,mt){return je(this.http,this.rootUrl,Xe,mt)}getTranslationsForWord(Xe,mt){return this.getTranslationsForWord$Response(Xe,mt).pipe((0,d.T)(st=>st.body))}static DeleteTranslationPath="/api/translation/{id}";deleteTranslation$Response(Xe,mt){return Qe(this.http,this.rootUrl,Xe,mt)}deleteTranslation(Xe,mt){return this.deleteTranslation$Response(Xe,mt).pipe((0,d.T)(st=>st.body))}static \u0275fac=function(mt){return new(mt||Ge)(J.KVO(ee.J),J.KVO(F.Qq))};static \u0275prov=J.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})()},136:(Kt,nt,O)=>{O.d(nt,{t:()=>st});var d=O(6354),z=O(442),F=O(1626),ae=O(5964),ie=O(9522);function pe(Fe,Tt,Pe,Ae){const ge=new ie.t(Tt,pe.PATH,"post");return Pe&&ge.body(Pe.body,"application/json"),Fe.request(ge.build({responseType:"json",accept:"application/json",context:Ae})).pipe((0,ae.p)(Se=>Se instanceof F.cS),(0,d.T)(Se=>Se))}function Qe(Fe,Tt,Pe,Ae){const ge=new ie.t(Tt,Qe.PATH,"post");return Pe&&ge.body(Pe.body,"application/json"),Fe.request(ge.build({responseType:"json",accept:"application/json",context:Ae})).pipe((0,ae.p)(Se=>Se instanceof F.cS),(0,d.T)(Se=>Se))}function Ye(Fe,Tt,Pe,Ae){const ge=new ie.t(Tt,Ye.PATH,"get");return Pe&&ge.path("wordId",Pe.wordId,{}),Fe.request(ge.build({responseType:"json",accept:"application/json",context:Ae})).pipe((0,ae.p)(Se=>Se instanceof F.cS),(0,d.T)(Se=>Se.clone({body:"true"===String(Se.body)})))}function je(Fe,Tt,Pe,Ae){const ge=new ie.t(Tt,je.PATH,"post");return Fe.request(ge.build({responseType:"text",accept:"*/*",context:Ae})).pipe((0,ae.p)(Se=>Se instanceof F.cS),(0,d.T)(Se=>Se.clone({body:void 0})))}function J(Fe,Tt,Pe,Ae){const ge=new ie.t(Tt,J.PATH,"delete");return Pe&&ge.path("id",Pe.id,{}),Fe.request(ge.build({responseType:"text",accept:"*/*",context:Ae})).pipe((0,ae.p)(Se=>Se instanceof F.cS),(0,d.T)(Se=>Se.clone({body:void 0})))}function ee(Fe,Tt,Pe,Ae){const ge=new ie.t(Tt,ee.PATH,"get");return Pe&&ge.query("filter",Pe.filter,{}),Fe.request(ge.build({responseType:"json",accept:"application/json",context:Ae})).pipe((0,ae.p)(Se=>Se instanceof F.cS),(0,d.T)(Se=>Se))}function me(Fe,Tt,Pe,Ae){const ge=new ie.t(Tt,me.PATH,"get");return Pe&&ge.path("from",Pe.from,{}),Fe.request(ge.build({responseType:"json",accept:"application/json",context:Ae})).pipe((0,ae.p)(Se=>Se instanceof F.cS),(0,d.T)(Se=>Se))}function Ge(Fe,Tt,Pe,Ae){const ge=new ie.t(Tt,Ge.PATH,"get");return Pe&&ge.path("from",Pe.from,{}),Fe.request(ge.build({responseType:"json",accept:"application/json",context:Ae})).pipe((0,ae.p)(Se=>Se instanceof F.cS),(0,d.T)(Se=>Se))}function Ve(Fe,Tt,Pe,Ae){const ge=new ie.t(Tt,Ve.PATH,"get");return Pe&&ge.path("word",Pe.word,{}),Fe.request(ge.build({responseType:"json",accept:"application/json",context:Ae})).pipe((0,ae.p)(Se=>Se instanceof F.cS),(0,d.T)(Se=>Se))}pe.PATH="/api/words/derive",Qe.PATH="/api/words/add",Ye.PATH="/api/words/{wordId}/candelete",je.PATH="/api/words/clean",J.PATH="/api/words/{id}",ee.PATH="/api/words/all",me.PATH="/api/words/all/{from}",Ge.PATH="/api/words/page/{from}",Ve.PATH="/api/words/{word}";var Xe=O(3953),mt=O(7942);let st=(()=>{class Fe extends z.d{constructor(Pe,Ae){super(Pe,Ae)}static AddWordPath="/api/words/add";addWord$Response(Pe,Ae){return Qe(this.http,this.rootUrl,Pe,Ae)}addWord(Pe,Ae){return this.addWord$Response(Pe,Ae).pipe((0,d.T)(ge=>ge.body))}static GetAllWordsPath="/api/words/all";getAllWords$Response(Pe,Ae){return ee(this.http,this.rootUrl,Pe,Ae)}getAllWords(Pe,Ae){return this.getAllWords$Response(Pe,Ae).pipe((0,d.T)(ge=>ge.body))}static GetAllWordsFromLangPath="/api/words/all/{from}";getAllWordsFromLang$Response(Pe,Ae){return me(this.http,this.rootUrl,Pe,Ae)}getAllWordsFromLang(Pe,Ae){return this.getAllWordsFromLang$Response(Pe,Ae).pipe((0,d.T)(ge=>ge.body))}static CleanIpaWordsPath="/api/words/clean";cleanIpaWords$Response(Pe,Ae){return je(this.http,this.rootUrl,0,Ae)}cleanIpaWords(Pe,Ae){return this.cleanIpaWords$Response(Pe,Ae).pipe((0,d.T)(ge=>ge.body))}static AddDerivedWordPath="/api/words/derive";addDerivedWord$Response(Pe,Ae){return pe(this.http,this.rootUrl,Pe,Ae)}addDerivedWord(Pe,Ae){return this.addDerivedWord$Response(Pe,Ae).pipe((0,d.T)(ge=>ge.body))}static GetAllWordsWithTranslationsFromLangPath="/api/words/page/{from}";getAllWordsWithTranslationsFromLang$Response(Pe,Ae){return Ge(this.http,this.rootUrl,Pe,Ae)}getAllWordsWithTranslationsFromLang(Pe,Ae){return this.getAllWordsWithTranslationsFromLang$Response(Pe,Ae).pipe((0,d.T)(ge=>ge.body))}static DeleteWordPath="/api/words/{id}";deleteWord$Response(Pe,Ae){return J(this.http,this.rootUrl,Pe,Ae)}deleteWord(Pe,Ae){return this.deleteWord$Response(Pe,Ae).pipe((0,d.T)(ge=>ge.body))}static CanDeleteWordPath="/api/words/{wordId}/candelete";canDeleteWord$Response(Pe,Ae){return Ye(this.http,this.rootUrl,Pe,Ae)}canDeleteWord(Pe,Ae){return this.canDeleteWord$Response(Pe,Ae).pipe((0,d.T)(ge=>ge.body))}static GetDetailedWordsByPhoneticsPath="/api/words/{word}";getDetailedWordsByPhonetics$Response(Pe,Ae){return Ve(this.http,this.rootUrl,Pe,Ae)}getDetailedWordsByPhonetics(Pe,Ae){return this.getDetailedWordsByPhonetics$Response(Pe,Ae).pipe((0,d.T)(ge=>ge.body))}static \u0275fac=function(Ae){return new(Ae||Fe)(Xe.KVO(mt.J),Xe.KVO(F.Qq))};static \u0275prov=Xe.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})()},4378:(Kt,nt,O)=>{O.d(nt,{g:()=>ie});var d=O(3953),z=O(6814);const F=["col"],ae=["app-horizontal-dash",""];let ie=(()=>{class pe{cdRef;router;col;bcol="";symbol;change=!1;constructor(Ye,je){this.cdRef=Ye,this.router=je}ngOnInit(){}onResize(){}ngAfterViewChecked(){this.resizeDash()}resizeDash(){const Ye=Math.max(0,Math.floor((this.col?.nativeElement.offsetWidth-1)/8)),je=this.bcol;this.bcol=Ye?(this.symbol?this.symbol:"-").repeat(Ye):"",je!==this.bcol&&this.cdRef.detectChanges()}static \u0275fac=function(je){return new(je||pe)(d.rXU(d.gRc),d.rXU(z.Ix))};static \u0275cmp=d.VBU({type:pe,selectors:[["th","app-horizontal-dash",""]],viewQuery:function(je,J){if(1&je&&d.GBs(F,5),2&je){let ee;d.mGM(ee=d.lsd())&&(J.col=ee.first)}},hostBindings:function(je,J){1&je&&d.bIt("resize",function(me){return J.onResize(me)},!1,d.tSv)},inputs:{symbol:"symbol"},standalone:!0,features:[d.aNF],attrs:ae,decls:3,vars:1,consts:[["col",""],[1,"border","th-span"]],template:function(je,J){1&je&&(d.j41(0,"div",1,0),d.EFF(2),d.k0s()),2&je&&(d.R7$(2),d.JRh(J.bcol))},styles:[".th-span[_ngcontent-%COMP%]{width:100%;min-width:10px}"]})}return pe})()},8608:(Kt,nt,O)=>{O.d(nt,{g:()=>z});var d=O(3953);let z=(()=>{class F{transform(ie,...pe){return ie&&ie.replace(/\u0261/g,"g").replace(/\ua7ac/g,"G")}static \u0275fac=function(pe){return new(pe||F)};static \u0275pipe=d.EJ8({name:"writtenWord",type:F,pure:!0,standalone:!0})}return F})()},5424:(Kt,nt,O)=>{O.d(nt,{I:()=>ae});var d=O(4412),z=O(3953),F=O(8368);let ae=(()=>{class ie{keybind;_errors=new d.t([]);dataStore={errors:[]};errors=this._errors.asObservable();constructor(Qe){this.keybind=Qe,this.keybind.match(["ESCAPE"],[]).subscribe(()=>{this.clearErrors()})}addError(Qe){this.dataStore.errors.push(Qe),this._errors.next(Object.assign({},this.dataStore).errors)}clearErrors(){this.dataStore.errors.length&&(this.dataStore.errors=[],this._errors.next(Object.assign({},this.dataStore).errors))}static \u0275fac=function(Ye){return new(Ye||ie)(z.KVO(F.S))};static \u0275prov=z.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})()},8368:(Kt,nt,O)=>{O.d(nt,{S:()=>Ye});class ie{constructor(J){Object.assign(this,J)}}var pe=O(1985),Qe=O(3953);let Ye=(()=>{class je{constructor(){}match(ee,me=[],Ge){return new ie(Ge||{}),new pe.c(Xe=>{})}static \u0275fac=function(me){return new(me||je)};static \u0275prov=Qe.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})()},974:(Kt,nt,O)=>{O.d(nt,{m:()=>z});var d=O(3953);let z=(()=>{class F{dataStore={selectedLanguage:void 0};constructor(){}changeSelectedLanguage(ie){this.dataStore.selectedLanguage=ie}ngOnInit(){console.log("LangService onInit")}ngOnDestroy(){console.log("LangService onDestroy")}shortPOS(ie){return"Adjective"==ie?"adj.":"Adverb"==ie?"adv.":"Conjunction"==ie?"cnj.":"Determiner"==ie?"det.":"Noun"==ie?"n.":"Numeral"==ie?"num.":"Preposition"==ie?"prep.":"Pronoun"==ie?"pn.":"Verb"==ie?"v.":"Prefix"==ie?"prefix":"Suffix"==ie?"suffix":ie}static \u0275fac=function(pe){return new(pe||F)};static \u0275prov=d.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})()},7189:(Kt,nt,O)=>{var d=O(3953),z=O(345);var ae=O(177),ie=O(4378),pe=O(5424);const Qe=["col"];function Ye(a,t){if(1&a&&(d.j41(0,"tr"),d.nrm(1,"td",16),d.j41(2,"td",15)(3,"span",17),d.EFF(4),d.k0s(),d.j41(5,"span"),d.EFF(6),d.k0s()(),d.nrm(7,"td",16),d.k0s()),2&a){const r=t.$implicit;d.R7$(4),d.SpI("",r.message,". "),d.R7$(2),d.JRh(r.details)}}function je(a,t){if(1&a){const r=d.RV6();d.j41(0,"div",1)(1,"div",2)(2,"table")(3,"colgroup"),d.nrm(4,"col",3)(5,"col",4)(6,"col",5)(7,"col",6)(8,"col",3)(9,"col",7)(10,"col",3),d.k0s(),d.j41(11,"tbody")(12,"tr")(13,"th",8),d.EFF(14,"+"),d.k0s(),d.j41(15,"th",8),d.EFF(16,"--"),d.k0s(),d.j41(17,"th",8),d.EFF(18,"[ "),d.j41(19,"div",9),d.EFF(20,"Esc"),d.k0s(),d.EFF(21," ] Close "),d.k0s(),d.nrm(22,"th",10),d.j41(23,"th",8),d.EFF(24,"+"),d.k0s(),d.j41(25,"th",8),d.EFF(26,"--"),d.k0s(),d.j41(27,"th",8),d.EFF(28,"+"),d.k0s()(),d.j41(29,"tr")(30,"th",8),d.EFF(31,"|"),d.k0s(),d.j41(32,"th",11),d.EFF(33," WARNING "),d.k0s(),d.j41(34,"th",8),d.EFF(35,"|"),d.k0s(),d.j41(36,"th")(37,"a",12),d.bIt("click",function(c){d.eBV(r);const h=d.XpG();return d.Njj(h.clear(c))}),d.EFF(38,"x"),d.k0s()(),d.j41(39,"th",8),d.EFF(40,"|"),d.k0s()(),d.j41(41,"tr")(42,"th",8),d.EFF(43,"+"),d.k0s(),d.nrm(44,"th",13),d.j41(45,"th",8),d.EFF(46,"+"),d.k0s(),d.j41(47,"th",8),d.EFF(48,"--"),d.k0s(),d.j41(49,"th",8),d.EFF(50,"+"),d.k0s()()(),d.j41(51,"tbody"),d.DNE(52,Ye,8,2,"tr",14),d.j41(53,"tr")(54,"td",8),d.EFF(55,"|"),d.k0s(),d.nrm(56,"td",15),d.j41(57,"td",8),d.EFF(58,"|"),d.k0s()()()()()()}if(2&a){const r=d.XpG();d.R7$(52),d.Y8G("ngForOf",r.errors)}}let J=(()=>{class a{cdRef;errorService;col;bcol="";errors=[];constructor(r,s){this.cdRef=r,this.errorService=s}ngOnInit(){this.errorService.errors.subscribe(r=>{this.errors=r})}onResize(){this.resizeTable()}ngAfterViewChecked(){this.resizeTable()}resizeTable(){const s=Math.floor((this.col?.nativeElement.offsetWidth-2)/8),c=this.bcol;this.bcol="--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------".substr(0,s),c!=this.bcol&&this.cdRef.detectChanges()}clear(r){r.stopPropagation(),this.errorService.clearErrors()}static \u0275fac=function(s){return new(s||a)(d.rXU(d.gRc),d.rXU(pe.I))};static \u0275cmp=d.VBU({type:a,selectors:[["app-footer"]],viewQuery:function(s,c){if(1&s&&d.GBs(Qe,5),2&s){let h;d.mGM(h=d.lsd())&&(c.col=h.first)}},hostBindings:function(s,c){1&s&&d.bIt("resize",function(y){return c.onResize(y)},!1,d.tSv)},standalone:!0,features:[d.aNF],decls:1,vars:1,consts:[["class","footer-wrapper",4,"ngIf"],[1,"footer-wrapper"],[1,"footer"],["span","1",1,"border"],["span","1",2,"width","16px"],["span","1",2,"width","112px"],["span","1",2,"width","auto"],["span","1",2,"width","18px"],[1,"border"],[1,"text-yellow-dull",2,"display","inline"],["app-horizontal-dash","",1,"border"],["colspan","3",1,"text-grey"],[1,"text-red-dull","link-btn",3,"click"],["app-horizontal-dash","","colspan","3",1,"border"],[4,"ngFor","ngForOf"],["colspan","5",1,"break-word","text-grey"],["app-vertical-dash","",1,"border"],[1,"text-red-dull"]],template:function(s,c){1&s&&d.DNE(0,je,59,1,"div",0),2&s&&d.Y8G("ngIf",c.errors.length>0)},dependencies:[ae.bT,ae.pM,ie.g],styles:[".footer-wrapper[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;height:fit-content}.footer[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;z-index:100;background-color:#252525}"]})}return a})();var ee=O(6354),me=O(442),Ge=O(1626),Ve=O(5964),Xe=O(9522);function mt(a,t,r,s){const c=new Xe.t(t,mt.PATH,"get");return a.request(c.build({responseType:"json",accept:"application/json",context:s})).pipe((0,Ve.p)(h=>h instanceof Ge.cS),(0,ee.T)(h=>h))}function st(a,t,r,s){const c=new Xe.t(t,st.PATH,"post");return r&&(c.path("uid",r.uid,{}),c.body(r.body,"application/json")),a.request(c.build({responseType:"text",accept:"*/*",context:s})).pipe((0,Ve.p)(h=>h instanceof Ge.cS),(0,ee.T)(h=>h.clone({body:void 0})))}function Fe(a,t,r,s){const c=new Xe.t(t,Fe.PATH,"get");return a.request(c.build({responseType:"text",accept:"text/plain",context:s})).pipe((0,Ve.p)(h=>h instanceof Ge.cS),(0,ee.T)(h=>h))}mt.PATH="/api/ping",st.PATH="/api/ping/user-claims/{uid}",Fe.PATH="/api/ping/version";var Tt=O(7942);let Pe=(()=>{class a extends me.d{constructor(r,s){super(r,s)}static PingPath="/api/ping";ping$Response(r,s){return mt(this.http,this.rootUrl,0,s)}ping(r,s){return this.ping$Response(r,s).pipe((0,ee.T)(c=>c.body))}static SetUserClaimsPath="/api/ping/user-claims/{uid}";setUserClaims$Response(r,s){return st(this.http,this.rootUrl,r,s)}setUserClaims(r,s){return this.setUserClaims$Response(r,s).pipe((0,ee.T)(c=>c.body))}static VersionPath="/api/ping/version";version$Response(r,s){return Fe(this.http,this.rootUrl,0,s)}version(r,s){return this.version$Response(r,s).pipe((0,ee.T)(c=>c.body))}static \u0275fac=function(s){return new(s||a)(d.KVO(Tt.J),d.KVO(Ge.Qq))};static \u0275prov=d.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function Ae(a,t){1&a&&(d.j41(0,"span"),d.EFF(1,"-"),d.k0s())}function ge(a,t){if(1&a&&(d.j41(0,"span"),d.EFF(1),d.nrm(2,"span"),d.k0s()),2&a){const r=d.XpG(2);d.R7$(),d.JRh(r.apiVersion)}}function Se(a,t){if(1&a&&(d.j41(0,"span"),d.EFF(1),d.j41(2,"span"),d.DNE(3,Ae,2,0,"span",9)(4,ge,3,1,"span",9),d.k0s()()),2&a){const r=d.XpG();d.R7$(),d.SpI(", ",r.version,""),d.R7$(2),d.Y8G("ngIf",r.version&&r.apiVersion),d.R7$(),d.Y8G("ngIf",r.apiVersion)}}let Te=(()=>{class a{pingService;version;year;apiVersion;constructor(r){this.pingService=r}ngOnInit(){const r=(new Date).getFullYear();this.year=2022!==r?`2022\u2013${r}`:`${r}`,this.pingService.version().subscribe(s=>this.apiVersion=s)}static \u0275fac=function(s){return new(s||a)(d.rXU(Pe))};static \u0275cmp=d.VBU({type:a,selectors:[["app-version-footer"]],inputs:{version:"version"},standalone:!0,features:[d.aNF],decls:21,vars:2,consts:[[1,"left","text-grey-dull"],["href","https://github.com/owlbeardm/language-parser-ui",1,"text-grey","link-btn"],["href","https://twitter.com/OwlbearDm",1,"text-grey","link-btn"],["href","mailto:owlbeardm@gmail.com?subject=Kedom Language: ",1,"text-grey","link-btn"],["href","https://c7d5a6.com/",1,"text-grey","link-btn"],[1,"right","text-grey-dull"],[1,"copyright","float-md-right"],[1,"col-md","pl-0"],["href","https://owlbeardm.com/","rel","noreferrer","target","_blank",1,"text-grey","link-btn"],[4,"ngIf"]],template:function(s,c){1&s&&(d.j41(0,"span",0)(1,"a",1),d.EFF(2,"[ GITHUB ]"),d.k0s(),d.EFF(3," - "),d.j41(4,"a",2),d.EFF(5,"[ TWITTER ]"),d.k0s(),d.EFF(6," - "),d.j41(7,"a",3),d.EFF(8,"[ EMAIL ]"),d.k0s(),d.EFF(9," - "),d.j41(10,"a",4),d.EFF(11," [ CONTACTS ]"),d.k0s()(),d.j41(12,"span",5)(13,"span",6)(14,"span"),d.EFF(15),d.j41(16,"span")(17,"span",7)(18,"a",8),d.EFF(19,"OwlbearDM"),d.k0s(),d.DNE(20,Se,5,3,"span",9),d.k0s()()()()()),2&s&&(d.R7$(15),d.SpI("",c.year," \xa9 Mikita Kukavenka, "),d.R7$(5),d.Y8G("ngIf",c.version))},dependencies:[ae.bT],styles:[".left[_ngcontent-%COMP%]{margin-left:4px;margin-right:auto}.right[_ngcontent-%COMP%]{margin-left:auto;margin-right:4px}"]})}return a})();var De=O(6814),K=O(467),ce=O(576),vt=O(7852),ot=O(1076),bn=O(8041),hn=O(1362);(0,vt.registerVersion)("firebase","10.13.1","app");var kr=O(8359);class ar extends kr.yU{constructor(t,r){super()}schedule(t,r=0){return this}}const qe={setInterval(a,t,...r){const{delegate:s}=qe;return s?.setInterval?s.setInterval(a,t,...r):setInterval(a,t,...r)},clearInterval(a){const{delegate:t}=qe;return(t?.clearInterval||clearInterval)(a)},delegate:void 0};var at=O(7908);class yt extends ar{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){var s;if(this.closed)return this;this.state=t;const c=this.id,h=this.scheduler;return null!=c&&(this.id=this.recycleAsyncId(h,c,r)),this.pending=!0,this.delay=r,this.id=null!==(s=this.id)&&void 0!==s?s:this.requestAsyncId(h,this.id,r),this}requestAsyncId(t,r,s=0){return qe.setInterval(t.flush.bind(t,this),s)}recycleAsyncId(t,r,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return r;null!=r&&qe.clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(t,r);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let c,s=!1;try{this.work(t)}catch(h){s=!0,c=h||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),c}unsubscribe(){if(!this.closed){const{id:t,scheduler:r}=this,{actions:s}=r;this.work=this.state=this.scheduler=null,this.pending=!1,(0,at.o)(s,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,super.unsubscribe()}}}const ke={now:()=>(ke.delegate||Date).now(),delegate:void 0};class Oe{constructor(t,r=Oe.now){this.schedulerActionCtor=t,this.now=r}schedule(t,r=0,s){return new this.schedulerActionCtor(this,t).schedule(s,r)}}Oe.now=ke.now;class se extends Oe{constructor(t,r=Oe.now){super(t,r),this.actions=[],this._active=!1}flush(t){const{actions:r}=this;if(this._active)return void r.push(t);let s;this._active=!0;do{if(s=t.execute(t.state,t.delay))break}while(t=r.shift());if(this._active=!1,s){for(;t=r.shift();)t.unsubscribe();throw s}}}const Re=new class _e extends se{}(class lt extends yt{constructor(t,r){super(t,r),this.scheduler=t,this.work=r}schedule(t,r=0){return r>0?super.schedule(t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)}execute(t,r){return r>0||this.closed?super.execute(t,r):this._execute(t,r)}requestAsyncId(t,r,s=0){return null!=s&&s>0||null==s&&this.delay>0?super.requestAsyncId(t,r,s):(t.flush(this),0)}}),Hn=new se(yt);var Ci=O(8141),Un=O(6745),Gn=O(941);const lr=new d.RxE("ANGULARFIRE2_VERSION");class ui{constructor(){return(a=>{const r=(0,vt.getApps)(),s=[];return r.forEach(c=>{c.container.getProvider(a).instances.forEach(y=>{s.includes(y)||s.push(y)})}),s})($n)}}const $n="app-check";function dr(){}class gr{zone;delegate;constructor(t,r=Re){this.zone=t,this.delegate=r}now(){return this.delegate.now()}schedule(t,r,s){const c=this.zone;return this.delegate.schedule(function(y){c.runGuarded(()=>{t.apply(this,[y])})},r,s)}}class uo{zone;task=null;constructor(t){this.zone=t}call(t,r){const s=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",dr,{},dr,dr)),r.pipe((0,Ci.M)({next:s,complete:s,error:s})).subscribe(t).add(s)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ur=(()=>{class a{ngZone;outsideAngular;insideAngular;constructor(r){this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new gr(Zone.current)),this.insideAngular=r.run(()=>new gr(Zone.current,Hn)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(s){return new(s||a)(d.KVO(d.SKi))};static \u0275prov=d.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function mr(a){return function yr(a){return function(r){return(r=r.lift(new uo(a.ngZone))).pipe((0,Un._)(a.outsideAngular),(0,Gn.Q)(a.insideAngular))}}(function wn(){const a=globalThis.\u0275AngularFireScheduler;if(!a)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return a}())(a)}var Di=O(3345);Di.A.registerVersion("firebase","10.13.1","app-compat");const Bn=["ngOnDestroy"];class $r{constructor(t){return t}}const vi=new d.nKC("angularfire2.app.options"),Hr=new d.nKC("angularfire2.app.name");function ci(a,t,r){const c="object"==typeof r&&r||{};c.name=c.name||"string"==typeof r&&r||"[DEFAULT]";const y=Di.A.apps.filter(I=>I&&I.name===c.name)[0]||t.runOutsideAngular(()=>Di.A.initializeApp(a,c));try{if(JSON.stringify(a)!==JSON.stringify(y.options)){const I=!!module.hot;ht("error",`${y.name} Firebase App already initialized with different options${I?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new $r(y)}const ht=(a,...t)=>{(0,d.naY)()&&typeof console<"u"&&console[a](...t)},it={provide:$r,useFactory:ci,deps:[vi,d.SKi,[new d.Xx1,Hr]]};let he=(()=>{class a{static initializeApp(r,s){return{ngModule:a,providers:[{provide:vi,useValue:r},{provide:Hr,useValue:s}]}}constructor(r){Di.A.registerVersion("angularfire",lr.full,"core"),Di.A.registerVersion("angularfire",lr.full,"app-compat"),Di.A.registerVersion("angular",d.xvI.full,r.toString())}static \u0275fac=function(s){return new(s||a)(d.KVO(d.Agw))};static \u0275mod=d.$C({type:a});static \u0275inj=d.G2t({providers:[it]})}return a})();function xe(a,t,r,s,c){const[,h,y]=globalThis.\u0275AngularfireInstanceCache.find(I=>I[0]===a)||[];if(h)return function ne(a,t){try{return a.toString()===t.toString()}catch{return a===t}}(c,y)||(G("error",`${t} was already initialized on the ${r} Firebase App with different settings.${H?" You may need to reload as Firebase is not HMR aware.":""}`),G("warn",{is:c,was:y})),h;{const I=s();return globalThis.\u0275AngularfireInstanceCache.push([a,I,c]),I}}const H=typeof module<"u"&&!!module.hot,G=(a,...t)=>{(0,d.naY)()&&typeof console<"u"&&console[a](...t)};globalThis.\u0275AngularfireInstanceCache||=[],O(2438);var le=O(1413),et=O(7673),Nt=O(1985),Xt=O(8455),Sn=O(6365),Pn=O(8750),qn=O(983),An=O(3794),nr=O(5558);class ro extends le.B{constructor(t=1/0,r=1/0,s=ke){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:s,_infiniteTimeWindow:c,_timestampProvider:h,_windowTime:y}=this;r||(s.push(t),!c&&s.push(h.now()+y)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:c}=this,h=c.slice();for(let y=0;y<h.length&&!t.closed;y+=s?1:2)t.next(h[y]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:s,_infiniteTimeWindow:c}=this,h=(c?1:2)*t;if(t<1/0&&h<s.length&&s.splice(0,s.length-h),!c){const y=r.now();let I=0;for(let b=1;b<s.length&&s[b]<=y;b+=2)I=b;I&&s.splice(0,I+1)}}}var Eo=O(7707),Ni=O(9974);function ko(a,t,...r){if(!0===t)return void a();if(!1===t)return;const s=new Eo.Ms({next:()=>{s.unsubscribe(),a()}});return(0,Pn.Tg)(t(...r)).subscribe(s)}function co(a,t,r){let s,c=!1;return a&&"object"==typeof a?({bufferSize:s=1/0,windowTime:t=1/0,refCount:c=!1,scheduler:r}=a):s=a??1/0,function Lo(a={}){const{connector:t=()=>new le.B,resetOnError:r=!0,resetOnComplete:s=!0,resetOnRefCountZero:c=!0}=a;return h=>{let y,I,b,k=0,Q=!1,ue=!1;const Ce=()=>{I?.unsubscribe(),I=void 0},Je=()=>{Ce(),y=b=void 0,Q=ue=!1},wt=()=>{const Lt=y;Je(),Lt?.unsubscribe()};return(0,Ni.N)((Lt,Rt)=>{k++,!ue&&!Q&&Ce();const nn=b=b??t();Rt.add(()=>{k--,0===k&&!ue&&!Q&&(I=ko(wt,c))}),nn.subscribe(Rt),!y&&k>0&&(y=new Eo.Ms({next:dn=>nn.next(dn),error:dn=>{ue=!0,Ce(),I=ko(Je,r,dn),nn.error(dn)},complete:()=>{Q=!0,Ce(),I=ko(Je,s),nn.complete()}}),(0,Pn.Tg)(Lt).subscribe(y))})(h)}}({connector:()=>new ro(s,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}var lo=O(1594),dt=O(8071);function $e(a,t){return(0,dt.T)(t)?(0,nr.n)(()=>a,t):(0,nr.n)(()=>a)}const jt=new d.nKC("angularfire2.auth.use-emulator"),pn=new d.nKC("angularfire2.auth.settings"),En=new d.nKC("angularfire2.auth.tenant-id"),Cn=new d.nKC("angularfire2.auth.langugage-code"),Yn=new d.nKC("angularfire2.auth.use-device-language"),ur=new d.nKC("angularfire.auth.persistence"),Gr=(a,t,r,s,c,h,y,I)=>xe(`${a.name}.auth`,"AngularFireAuth",a.name,()=>{const b=t.runOutsideAngular(()=>a.auth());if(r&&b.useEmulator(...r),s&&(b.tenantId=s),b.languageCode=c,h&&b.useDeviceLanguage(),y)for(const[k,Q]of Object.entries(y))b.settings[k]=Q;return I&&b.setPersistence(I),b},[r,s,c,h,y,I]);let te=(()=>{class a{authState;idToken;user;idTokenResult;credential;constructor(r,s,c,h,y,I,b,k,Q,ue,Ce,Je){const wt=new le.B,Lt=(0,et.of)(void 0).pipe((0,Gn.Q)(y.outsideAngular),(0,nr.n)(()=>h.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,2438)))),(0,ee.T)(()=>ci(r,h,s)),(0,ee.T)(Rt=>Gr(Rt,h,I,k,Q,ue,b,Ce)),co({bufferSize:1,refCount:!1}));if((0,ae.Vy)(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,et.of)(null);else{Lt.pipe((0,lo.$)()).subscribe();const Rt=Lt.pipe((0,nr.n)(qt=>qt.getRedirectResult().then(yn=>yn,()=>null)),mr,co({bufferSize:1,refCount:!1})),nn=Lt.pipe((0,nr.n)(qt=>new Nt.c(yn=>({unsubscribe:h.runOutsideAngular(()=>qt.onAuthStateChanged(zn=>yn.next(zn),zn=>yn.error(zn),()=>yn.complete()))})))),dn=Lt.pipe((0,nr.n)(qt=>new Nt.c(yn=>({unsubscribe:h.runOutsideAngular(()=>qt.onIdTokenChanged(zn=>yn.next(zn),zn=>yn.error(zn),()=>yn.complete()))}))));this.authState=Rt.pipe($e(nn),(0,Un._)(y.outsideAngular),(0,Gn.Q)(y.insideAngular)),this.user=Rt.pipe($e(dn),(0,Un._)(y.outsideAngular),(0,Gn.Q)(y.insideAngular)),this.idToken=this.user.pipe((0,nr.n)(qt=>qt?(0,Xt.H)(qt.getIdToken()):(0,et.of)(null))),this.idTokenResult=this.user.pipe((0,nr.n)(qt=>qt?(0,Xt.H)(qt.getIdTokenResult()):(0,et.of)(null))),this.credential=function Tn(...a){const t=(0,An.lI)(a),r=(0,An.R0)(a,1/0),s=a;return s.length?1===s.length?(0,Pn.Tg)(s[0]):(0,Sn.U)(r)((0,Xt.H)(s,t)):qn.w}(Rt,wt,this.authState.pipe((0,Ve.p)(qt=>!qt))).pipe((0,ee.T)(qt=>qt?.user?qt:null),(0,Un._)(y.outsideAngular),(0,Gn.Q)(y.insideAngular))}return((a,t,r,s={})=>new Proxy(a,{get:(c,h)=>r.runOutsideAngular(()=>{if(a[h])return s?.spy?.get&&s.spy.get(h,a[h]),a[h];if(Bn.indexOf(h)>-1)return()=>{};const y=t.toPromise().then(I=>{const b=I?.[h];return"function"==typeof b?b.bind(I):b?.then?b.then(k=>r.run(()=>k)):r.run(()=>b)});return new Proxy(()=>{},{get:(I,b)=>y[b],apply:(I,b,k)=>y.then(Q=>{const ue=Q?.(...k);return s?.spy?.apply&&s.spy.apply(h,k,ue),ue})})})}))(this,Lt,h,{spy:{apply:(Rt,nn,dn)=>{(Rt.startsWith("signIn")||Rt.startsWith("createUser"))&&dn.then(qt=>wt.next(qt))}}})}static \u0275fac=function(s){return new(s||a)(d.KVO(vi),d.KVO(Hr,8),d.KVO(d.Agw),d.KVO(d.SKi),d.KVO(Ur),d.KVO(jt,8),d.KVO(pn,8),d.KVO(En,8),d.KVO(Cn,8),d.KVO(Yn,8),d.KVO(ur,8),d.KVO(ui,8))};static \u0275prov=d.jDH({token:a,factory:a.\u0275fac,providedIn:"any"})}return a})(),we=(()=>{class a{constructor(){Di.A.registerVersion("angularfire",lr.full,"auth-compat")}static \u0275fac=function(s){return new(s||a)};static \u0275mod=d.$C({type:a});static \u0275inj=d.G2t({providers:[te]})}return a})();var ve=O(9172),gt=O(4360);function Dt(){return(0,Ni.N)((a,t)=>{let r,s=!1;a.subscribe((0,gt._)(t,c=>{const h=r;r=c,s&&t.next([h,c]),s=!0}))})}var Bt=O(2816),Wt=O(3669);function un(a,t){return a===t}var tn,_r,vr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},li={};(function(){var a;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function c(He,Ee,Le){Le||(Le=0);var Ke=Array(16);if("string"==typeof Ee)for(var Ze=0;16>Ze;++Ze)Ke[Ze]=Ee.charCodeAt(Le++)|Ee.charCodeAt(Le++)<<8|Ee.charCodeAt(Le++)<<16|Ee.charCodeAt(Le++)<<24;else for(Ze=0;16>Ze;++Ze)Ke[Ze]=Ee[Le++]|Ee[Le++]<<8|Ee[Le++]<<16|Ee[Le++]<<24;var ct=He.g[3],Me=(Ee=He.g[0])+(ct^(Le=He.g[1])&((Ze=He.g[2])^ct))+Ke[0]+3614090360&4294967295;Me=(Le=(Ze=(ct=(Ee=(Le=(Ze=(ct=(Ee=(Le=(Ze=(ct=(Ee=(Le=(Ze=(ct=(Ee=(Le=(Ze=(ct=(Ee=(Le=(Ze=(ct=(Ee=(Le=(Ze=(ct=(Ee=(Le=(Ze=(ct=(Ee=(Le=(Ze=(ct=(Ee=(Le=(Ze=(ct=(Ee=(Le=(Ze=(ct=(Ee=(Le=(Ze=(ct=(Ee=(Le=(Ze=(ct=(Ee=(Le=(Ze=(ct=(Ee=(Le=(Ze=(ct=(Ee=Le+(Me<<7&4294967295|Me>>>25))+((Me=ct+(Ze^Ee&(Le^Ze))+Ke[1]+3905402710&4294967295)<<12&4294967295|Me>>>20))+((Me=Ze+(Le^ct&(Ee^Le))+Ke[2]+606105819&4294967295)<<17&4294967295|Me>>>15))+((Me=Le+(Ee^Ze&(ct^Ee))+Ke[3]+3250441966&4294967295)<<22&4294967295|Me>>>10))+((Me=Ee+(ct^Le&(Ze^ct))+Ke[4]+4118548399&4294967295)<<7&4294967295|Me>>>25))+((Me=ct+(Ze^Ee&(Le^Ze))+Ke[5]+1200080426&4294967295)<<12&4294967295|Me>>>20))+((Me=Ze+(Le^ct&(Ee^Le))+Ke[6]+2821735955&4294967295)<<17&4294967295|Me>>>15))+((Me=Le+(Ee^Ze&(ct^Ee))+Ke[7]+4249261313&4294967295)<<22&4294967295|Me>>>10))+((Me=Ee+(ct^Le&(Ze^ct))+Ke[8]+1770035416&4294967295)<<7&4294967295|Me>>>25))+((Me=ct+(Ze^Ee&(Le^Ze))+Ke[9]+2336552879&4294967295)<<12&4294967295|Me>>>20))+((Me=Ze+(Le^ct&(Ee^Le))+Ke[10]+4294925233&4294967295)<<17&4294967295|Me>>>15))+((Me=Le+(Ee^Ze&(ct^Ee))+Ke[11]+2304563134&4294967295)<<22&4294967295|Me>>>10))+((Me=Ee+(ct^Le&(Ze^ct))+Ke[12]+1804603682&4294967295)<<7&4294967295|Me>>>25))+((Me=ct+(Ze^Ee&(Le^Ze))+Ke[13]+4254626195&4294967295)<<12&4294967295|Me>>>20))+((Me=Ze+(Le^ct&(Ee^Le))+Ke[14]+2792965006&4294967295)<<17&4294967295|Me>>>15))+((Me=Le+(Ee^Ze&(ct^Ee))+Ke[15]+1236535329&4294967295)<<22&4294967295|Me>>>10))+((Me=Ee+(Ze^ct&(Le^Ze))+Ke[1]+4129170786&4294967295)<<5&4294967295|Me>>>27))+((Me=ct+(Le^Ze&(Ee^Le))+Ke[6]+3225465664&4294967295)<<9&4294967295|Me>>>23))+((Me=Ze+(Ee^Le&(ct^Ee))+Ke[11]+643717713&4294967295)<<14&4294967295|Me>>>18))+((Me=Le+(ct^Ee&(Ze^ct))+Ke[0]+3921069994&4294967295)<<20&4294967295|Me>>>12))+((Me=Ee+(Ze^ct&(Le^Ze))+Ke[5]+3593408605&4294967295)<<5&4294967295|Me>>>27))+((Me=ct+(Le^Ze&(Ee^Le))+Ke[10]+38016083&4294967295)<<9&4294967295|Me>>>23))+((Me=Ze+(Ee^Le&(ct^Ee))+Ke[15]+3634488961&4294967295)<<14&4294967295|Me>>>18))+((Me=Le+(ct^Ee&(Ze^ct))+Ke[4]+3889429448&4294967295)<<20&4294967295|Me>>>12))+((Me=Ee+(Ze^ct&(Le^Ze))+Ke[9]+568446438&4294967295)<<5&4294967295|Me>>>27))+((Me=ct+(Le^Ze&(Ee^Le))+Ke[14]+3275163606&4294967295)<<9&4294967295|Me>>>23))+((Me=Ze+(Ee^Le&(ct^Ee))+Ke[3]+4107603335&4294967295)<<14&4294967295|Me>>>18))+((Me=Le+(ct^Ee&(Ze^ct))+Ke[8]+1163531501&4294967295)<<20&4294967295|Me>>>12))+((Me=Ee+(Ze^ct&(Le^Ze))+Ke[13]+2850285829&4294967295)<<5&4294967295|Me>>>27))+((Me=ct+(Le^Ze&(Ee^Le))+Ke[2]+4243563512&4294967295)<<9&4294967295|Me>>>23))+((Me=Ze+(Ee^Le&(ct^Ee))+Ke[7]+1735328473&4294967295)<<14&4294967295|Me>>>18))+((Me=Le+(ct^Ee&(Ze^ct))+Ke[12]+2368359562&4294967295)<<20&4294967295|Me>>>12))+((Me=Ee+(Le^Ze^ct)+Ke[5]+4294588738&4294967295)<<4&4294967295|Me>>>28))+((Me=ct+(Ee^Le^Ze)+Ke[8]+2272392833&4294967295)<<11&4294967295|Me>>>21))+((Me=Ze+(ct^Ee^Le)+Ke[11]+1839030562&4294967295)<<16&4294967295|Me>>>16))+((Me=Le+(Ze^ct^Ee)+Ke[14]+4259657740&4294967295)<<23&4294967295|Me>>>9))+((Me=Ee+(Le^Ze^ct)+Ke[1]+2763975236&4294967295)<<4&4294967295|Me>>>28))+((Me=ct+(Ee^Le^Ze)+Ke[4]+1272893353&4294967295)<<11&4294967295|Me>>>21))+((Me=Ze+(ct^Ee^Le)+Ke[7]+4139469664&4294967295)<<16&4294967295|Me>>>16))+((Me=Le+(Ze^ct^Ee)+Ke[10]+3200236656&4294967295)<<23&4294967295|Me>>>9))+((Me=Ee+(Le^Ze^ct)+Ke[13]+681279174&4294967295)<<4&4294967295|Me>>>28))+((Me=ct+(Ee^Le^Ze)+Ke[0]+3936430074&4294967295)<<11&4294967295|Me>>>21))+((Me=Ze+(ct^Ee^Le)+Ke[3]+3572445317&4294967295)<<16&4294967295|Me>>>16))+((Me=Le+(Ze^ct^Ee)+Ke[6]+76029189&4294967295)<<23&4294967295|Me>>>9))+((Me=Ee+(Le^Ze^ct)+Ke[9]+3654602809&4294967295)<<4&4294967295|Me>>>28))+((Me=ct+(Ee^Le^Ze)+Ke[12]+3873151461&4294967295)<<11&4294967295|Me>>>21))+((Me=Ze+(ct^Ee^Le)+Ke[15]+530742520&4294967295)<<16&4294967295|Me>>>16))+((Me=Le+(Ze^ct^Ee)+Ke[2]+3299628645&4294967295)<<23&4294967295|Me>>>9))+((Me=Ee+(Ze^(Le|~ct))+Ke[0]+4096336452&4294967295)<<6&4294967295|Me>>>26))+((Me=ct+(Le^(Ee|~Ze))+Ke[7]+1126891415&4294967295)<<10&4294967295|Me>>>22))+((Me=Ze+(Ee^(ct|~Le))+Ke[14]+2878612391&4294967295)<<15&4294967295|Me>>>17))+((Me=Le+(ct^(Ze|~Ee))+Ke[5]+4237533241&4294967295)<<21&4294967295|Me>>>11))+((Me=Ee+(Ze^(Le|~ct))+Ke[12]+1700485571&4294967295)<<6&4294967295|Me>>>26))+((Me=ct+(Le^(Ee|~Ze))+Ke[3]+2399980690&4294967295)<<10&4294967295|Me>>>22))+((Me=Ze+(Ee^(ct|~Le))+Ke[10]+4293915773&4294967295)<<15&4294967295|Me>>>17))+((Me=Le+(ct^(Ze|~Ee))+Ke[1]+2240044497&4294967295)<<21&4294967295|Me>>>11))+((Me=Ee+(Ze^(Le|~ct))+Ke[8]+1873313359&4294967295)<<6&4294967295|Me>>>26))+((Me=ct+(Le^(Ee|~Ze))+Ke[15]+4264355552&4294967295)<<10&4294967295|Me>>>22))+((Me=Ze+(Ee^(ct|~Le))+Ke[6]+2734768916&4294967295)<<15&4294967295|Me>>>17))+((Me=Le+(ct^(Ze|~Ee))+Ke[13]+1309151649&4294967295)<<21&4294967295|Me>>>11))+((ct=(Ee=Le+((Me=Ee+(Ze^(Le|~ct))+Ke[4]+4149444226&4294967295)<<6&4294967295|Me>>>26))+((Me=ct+(Le^(Ee|~Ze))+Ke[11]+3174756917&4294967295)<<10&4294967295|Me>>>22))^((Ze=ct+((Me=Ze+(Ee^(ct|~Le))+Ke[2]+718787259&4294967295)<<15&4294967295|Me>>>17))|~Ee))+Ke[9]+3951481745&4294967295,He.g[0]=He.g[0]+Ee&4294967295,He.g[1]=He.g[1]+(Ze+(Me<<21&4294967295|Me>>>11))&4294967295,He.g[2]=He.g[2]+Ze&4294967295,He.g[3]=He.g[3]+ct&4294967295}function y(He,Ee){this.h=Ee;for(var Le=[],Ke=!0,Ze=He.length-1;0<=Ze;Ze--){var ct=0|He[Ze];Ke&&ct==Ee||(Le[Ze]=ct,Ke=!1)}this.g=Le}(function t(He,Ee){function Le(){}Le.prototype=Ee.prototype,He.D=Ee.prototype,He.prototype=new Le,He.prototype.constructor=He,He.C=function(Ke,Ze,ct){for(var Me=Array(arguments.length-2),ba=2;ba<arguments.length;ba++)Me[ba-2]=arguments[ba];return Ee.prototype[Ze].apply(Ke,Me)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(He,Ee){void 0===Ee&&(Ee=He.length);for(var Le=Ee-this.blockSize,Ke=this.B,Ze=this.h,ct=0;ct<Ee;){if(0==Ze)for(;ct<=Le;)c(this,He,ct),ct+=this.blockSize;if("string"==typeof He){for(;ct<Ee;)if(Ke[Ze++]=He.charCodeAt(ct++),Ze==this.blockSize){c(this,Ke),Ze=0;break}}else for(;ct<Ee;)if(Ke[Ze++]=He[ct++],Ze==this.blockSize){c(this,Ke),Ze=0;break}}this.h=Ze,this.o+=Ee},s.prototype.v=function(){var He=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);He[0]=128;for(var Ee=1;Ee<He.length-8;++Ee)He[Ee]=0;var Le=8*this.o;for(Ee=He.length-8;Ee<He.length;++Ee)He[Ee]=255&Le,Le/=256;for(this.u(He),He=Array(16),Ee=Le=0;4>Ee;++Ee)for(var Ke=0;32>Ke;Ke+=8)He[Le++]=this.g[Ee]>>>Ke&255;return He};var I={};function b(He){return-128<=He&&128>He?function h(He,Ee){var Le=I;return Object.prototype.hasOwnProperty.call(Le,He)?Le[He]:Le[He]=Ee(He)}(He,function(Ee){return new y([0|Ee],0>Ee?-1:0)}):new y([0|He],0>He?-1:0)}function k(He){if(isNaN(He)||!isFinite(He))return ue;if(0>He)return Rt(k(-He));for(var Ee=[],Le=1,Ke=0;He>=Le;Ke++)Ee[Ke]=He/Le|0,Le*=4294967296;return new y(Ee,0)}var ue=b(0),Ce=b(1),Je=b(16777216);function wt(He){if(0!=He.h)return!1;for(var Ee=0;Ee<He.g.length;Ee++)if(0!=He.g[Ee])return!1;return!0}function Lt(He){return-1==He.h}function Rt(He){for(var Ee=He.g.length,Le=[],Ke=0;Ke<Ee;Ke++)Le[Ke]=~He.g[Ke];return new y(Le,~He.h).add(Ce)}function nn(He,Ee){return He.add(Rt(Ee))}function dn(He,Ee){for(;(65535&He[Ee])!=He[Ee];)He[Ee+1]+=He[Ee]>>>16,He[Ee]&=65535,Ee++}function qt(He,Ee){this.g=He,this.h=Ee}function yn(He,Ee){if(wt(Ee))throw Error("division by zero");if(wt(He))return new qt(ue,ue);if(Lt(He))return Ee=yn(Rt(He),Ee),new qt(Rt(Ee.g),Rt(Ee.h));if(Lt(Ee))return Ee=yn(He,Rt(Ee)),new qt(Rt(Ee.g),Ee.h);if(30<He.g.length){if(Lt(He)||Lt(Ee))throw Error("slowDivide_ only works with positive integers.");for(var Le=Ce,Ke=Ee;0>=Ke.l(He);)Le=zn(Le),Ke=zn(Ke);var Ze=Jn(Le,1),ct=Jn(Ke,1);for(Ke=Jn(Ke,2),Le=Jn(Le,2);!wt(Ke);){var Me=ct.add(Ke);0>=Me.l(He)&&(Ze=Ze.add(Le),ct=Me),Ke=Jn(Ke,1),Le=Jn(Le,1)}return Ee=nn(He,Ze.j(Ee)),new qt(Ze,Ee)}for(Ze=ue;0<=He.l(Ee);){for(Le=Math.max(1,Math.floor(He.m()/Ee.m())),Ke=48>=(Ke=Math.ceil(Math.log(Le)/Math.LN2))?1:Math.pow(2,Ke-48),Me=(ct=k(Le)).j(Ee);Lt(Me)||0<Me.l(He);)Me=(ct=k(Le-=Ke)).j(Ee);wt(ct)&&(ct=Ce),Ze=Ze.add(ct),He=nn(He,Me)}return new qt(Ze,He)}function zn(He){for(var Ee=He.g.length+1,Le=[],Ke=0;Ke<Ee;Ke++)Le[Ke]=He.i(Ke)<<1|He.i(Ke-1)>>>31;return new y(Le,He.h)}function Jn(He,Ee){var Le=Ee>>5;Ee%=32;for(var Ke=He.g.length-Le,Ze=[],ct=0;ct<Ke;ct++)Ze[ct]=0<Ee?He.i(ct+Le)>>>Ee|He.i(ct+Le+1)<<32-Ee:He.i(ct+Le);return new y(Ze,He.h)}(a=y.prototype).m=function(){if(Lt(this))return-Rt(this).m();for(var He=0,Ee=1,Le=0;Le<this.g.length;Le++){var Ke=this.i(Le);He+=(0<=Ke?Ke:4294967296+Ke)*Ee,Ee*=4294967296}return He},a.toString=function(He){if(2>(He=He||10)||36<He)throw Error("radix out of range: "+He);if(wt(this))return"0";if(Lt(this))return"-"+Rt(this).toString(He);for(var Ee=k(Math.pow(He,6)),Le=this,Ke="";;){var Ze=yn(Le,Ee).g,ct=((0<(Le=nn(Le,Ze.j(Ee))).g.length?Le.g[0]:Le.h)>>>0).toString(He);if(wt(Le=Ze))return ct+Ke;for(;6>ct.length;)ct="0"+ct;Ke=ct+Ke}},a.i=function(He){return 0>He?0:He<this.g.length?this.g[He]:this.h},a.l=function(He){return Lt(He=nn(this,He))?-1:wt(He)?0:1},a.abs=function(){return Lt(this)?Rt(this):this},a.add=function(He){for(var Ee=Math.max(this.g.length,He.g.length),Le=[],Ke=0,Ze=0;Ze<=Ee;Ze++){var ct=Ke+(65535&this.i(Ze))+(65535&He.i(Ze)),Me=(ct>>>16)+(this.i(Ze)>>>16)+(He.i(Ze)>>>16);Ke=Me>>>16,Le[Ze]=(Me&=65535)<<16|(ct&=65535)}return new y(Le,-2147483648&Le[Le.length-1]?-1:0)},a.j=function(He){if(wt(this)||wt(He))return ue;if(Lt(this))return Lt(He)?Rt(this).j(Rt(He)):Rt(Rt(this).j(He));if(Lt(He))return Rt(this.j(Rt(He)));if(0>this.l(Je)&&0>He.l(Je))return k(this.m()*He.m());for(var Ee=this.g.length+He.g.length,Le=[],Ke=0;Ke<2*Ee;Ke++)Le[Ke]=0;for(Ke=0;Ke<this.g.length;Ke++)for(var Ze=0;Ze<He.g.length;Ze++){var ct=this.i(Ke)>>>16,Me=65535&this.i(Ke),ba=He.i(Ze)>>>16,mc=65535&He.i(Ze);Le[2*Ke+2*Ze]+=Me*mc,dn(Le,2*Ke+2*Ze),Le[2*Ke+2*Ze+1]+=ct*mc,dn(Le,2*Ke+2*Ze+1),Le[2*Ke+2*Ze+1]+=Me*ba,dn(Le,2*Ke+2*Ze+1),Le[2*Ke+2*Ze+2]+=ct*ba,dn(Le,2*Ke+2*Ze+2)}for(Ke=0;Ke<Ee;Ke++)Le[Ke]=Le[2*Ke+1]<<16|Le[2*Ke];for(Ke=Ee;Ke<2*Ee;Ke++)Le[Ke]=0;return new y(Le,0)},a.A=function(He){return yn(this,He).h},a.and=function(He){for(var Ee=Math.max(this.g.length,He.g.length),Le=[],Ke=0;Ke<Ee;Ke++)Le[Ke]=this.i(Ke)&He.i(Ke);return new y(Le,this.h&He.h)},a.or=function(He){for(var Ee=Math.max(this.g.length,He.g.length),Le=[],Ke=0;Ke<Ee;Ke++)Le[Ke]=this.i(Ke)|He.i(Ke);return new y(Le,this.h|He.h)},a.xor=function(He){for(var Ee=Math.max(this.g.length,He.g.length),Le=[],Ke=0;Ke<Ee;Ke++)Le[Ke]=this.i(Ke)^He.i(Ke);return new y(Le,this.h^He.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,_r=li.Md5=s,y.prototype.add=y.prototype.add,y.prototype.multiply=y.prototype.j,y.prototype.modulo=y.prototype.A,y.prototype.compare=y.prototype.l,y.prototype.toNumber=y.prototype.m,y.prototype.toString=y.prototype.toString,y.prototype.getBits=y.prototype.i,y.fromNumber=k,y.fromString=function Q(He,Ee){if(0==He.length)throw Error("number format error: empty string");if(2>(Ee=Ee||10)||36<Ee)throw Error("radix out of range: "+Ee);if("-"==He.charAt(0))return Rt(Q(He.substring(1),Ee));if(0<=He.indexOf("-"))throw Error('number format error: interior "-" character');for(var Le=k(Math.pow(Ee,8)),Ke=ue,Ze=0;Ze<He.length;Ze+=8){var ct=Math.min(8,He.length-Ze),Me=parseInt(He.substring(Ze,Ze+ct),Ee);8>ct?(ct=k(Math.pow(Ee,ct)),Ke=Ke.j(ct).add(k(Me))):Ke=(Ke=Ke.j(Le)).add(k(Me))}return Ke},tn=li.Integer=y}).apply(typeof vr<"u"?vr:typeof self<"u"?self:typeof window<"u"?window:{});var Ln,Dr,Pr,Fi,jn,Yi,Fo,Gi,js,Cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wn={};(function(){var a,t="function"==typeof Object.defineProperties?Object.defineProperty:function(m,P,B){return m==Array.prototype||m==Object.prototype||(m[P]=B.value),m},s=function r(m){m=["object"==typeof globalThis&&globalThis,m,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Cr&&Cr];for(var P=0;P<m.length;++P){var B=m[P];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}(this);!function c(m,P){if(P)e:{var B=s;m=m.split(".");for(var oe=0;oe<m.length-1;oe++){var rt=m[oe];if(!(rt in B))break e;B=B[rt]}(P=P(oe=B[m=m[m.length-1]]))!=oe&&null!=P&&t(B,m,{configurable:!0,writable:!0,value:P})}}("Array.prototype.values",function(m){return m||function(){return function h(m,P){m instanceof String&&(m+="");var B=0,oe=!1,rt={next:function(){if(!oe&&B<m.length){var _t=B++;return{value:P(_t,m[_t]),done:!1}}return oe=!0,{done:!0,value:void 0}}};return rt[Symbol.iterator]=function(){return rt},rt}(this,function(P,B){return B})}});var y=y||{},I=this||self;function b(m){var P=typeof m;return"array"==(P="object"!=P?P:m?Array.isArray(m)?"array":P:"null")||"object"==P&&"number"==typeof m.length}function k(m){var P=typeof m;return"object"==P&&null!=m||"function"==P}function Q(m,P,B){return m.call.apply(m.bind,arguments)}function ue(m,P,B){if(!m)throw Error();if(2<arguments.length){var oe=Array.prototype.slice.call(arguments,2);return function(){var rt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(rt,oe),m.apply(P,rt)}}return function(){return m.apply(P,arguments)}}function Ce(m,P,B){return(Ce=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Q:ue).apply(null,arguments)}function Je(m,P){var B=Array.prototype.slice.call(arguments,1);return function(){var oe=B.slice();return oe.push.apply(oe,arguments),m.apply(this,oe)}}function wt(m,P){function B(){}B.prototype=P.prototype,m.aa=P.prototype,m.prototype=new B,m.prototype.constructor=m,m.Qb=function(oe,rt,_t){for(var Jt=Array(arguments.length-2),Ai=2;Ai<arguments.length;Ai++)Jt[Ai-2]=arguments[Ai];return P.prototype[rt].apply(oe,Jt)}}function Lt(m){const P=m.length;if(0<P){const B=Array(P);for(let oe=0;oe<P;oe++)B[oe]=m[oe];return B}return[]}function Rt(m,P){for(let B=1;B<arguments.length;B++){const oe=arguments[B];if(b(oe)){const rt=m.length||0,_t=oe.length||0;m.length=rt+_t;for(let Jt=0;Jt<_t;Jt++)m[rt+Jt]=oe[Jt]}else m.push(oe)}}function dn(m){return/^[\s\xa0]*$/.test(m)}function qt(){var m=I.navigator;return m&&(m=m.userAgent)?m:""}function yn(m){return yn[" "](m),m}yn[" "]=function(){};var zn=!(-1==qt().indexOf("Gecko")||-1!=qt().toLowerCase().indexOf("webkit")&&-1==qt().indexOf("Edge")||-1!=qt().indexOf("Trident")||-1!=qt().indexOf("MSIE")||-1!=qt().indexOf("Edge"));function Jn(m,P,B){for(const oe in m)P.call(B,m[oe],oe,m)}function Ee(m){const P={};for(const B in m)P[B]=m[B];return P}const Le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ke(m,P){let B,oe;for(let rt=1;rt<arguments.length;rt++){for(B in oe=arguments[rt],oe)m[B]=oe[B];for(let _t=0;_t<Le.length;_t++)B=Le[_t],Object.prototype.hasOwnProperty.call(oe,B)&&(m[B]=oe[B])}}function Ze(m){var P=1;m=m.split(":");const B=[];for(;0<P&&m.length;)B.push(m.shift()),P--;return m.length&&B.push(m.join(":")),B}function ct(m){I.setTimeout(()=>{throw m},0)}function Me(){var m=vv;let P=null;return m.g&&(P=m.g,m.g=m.g.next,m.g||(m.h=null),P.next=null),P}var mc=new class nn{constructor(P,B){this.i=P,this.j=B,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}(()=>new Nf,m=>m.reset());class Nf{constructor(){this.next=this.g=this.h=null}set(P,B){this.h=P,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let Of,xf=!1,vv=new class ba{constructor(){this.h=this.g=null}add(P,B){const oe=mc.get();oe.set(P,B),this.h?this.h.next=oe:this.g=oe,this.h=oe}},Lf=()=>{const m=I.Promise.resolve(void 0);Of=()=>{m.then(_v)}};var _v=()=>{for(var m;m=Me();){try{m.h.call(m.g)}catch(B){ct(B)}var P=mc;P.j(m),100>P.h&&(P.h++,m.next=P.g,P.g=m)}xf=!1};function sl(){this.s=this.s,this.C=this.C}function Vs(m,P){this.type=m,this.g=this.target=P,this.defaultPrevented=!1}sl.prototype.s=!1,sl.prototype.ma=function(){this.s||(this.s=!0,this.N())},sl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Vs.prototype.h=function(){this.defaultPrevented=!0};var LC=function(){if(!I.addEventListener||!Object.defineProperty)return!1;var m=!1,P=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const B=()=>{};I.addEventListener("test",B,P),I.removeEventListener("test",B,P)}catch{}return m}();function kf(m,P){if(Vs.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var B=this.type=m.type,oe=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=P,P=m.relatedTarget){if(zn){e:{try{yn(P.nodeName);var rt=!0;break e}catch{}rt=!1}rt||(P=null)}}else"mouseover"==B?P=m.fromElement:"mouseout"==B&&(P=m.toElement);this.relatedTarget=P,oe?(this.clientX=void 0!==oe.clientX?oe.clientX:oe.pageX,this.clientY=void 0!==oe.clientY?oe.clientY:oe.pageY,this.screenX=oe.screenX||0,this.screenY=oe.screenY||0):(this.clientX=void 0!==m.clientX?m.clientX:m.pageX,this.clientY=void 0!==m.clientY?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType="string"==typeof m.pointerType?m.pointerType:jw[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&kf.aa.h.call(this)}}wt(kf,Vs);var jw={2:"touch",3:"pen",4:"mouse"};kf.prototype.h=function(){kf.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Lg="closure_listenable_"+(1e6*Math.random()|0),$w=0;function kC(m,P,B,oe,rt){this.listener=m,this.proxy=null,this.src=P,this.type=B,this.capture=!!oe,this.ha=rt,this.key=++$w,this.da=this.fa=!1}function kg(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Fg(m){this.src=m,this.g={},this.h=0}function Ev(m,P){var B=P.type;if(B in m.g){var _t,oe=m.g[B],rt=Array.prototype.indexOf.call(oe,P,void 0);(_t=0<=rt)&&Array.prototype.splice.call(oe,rt,1),_t&&(kg(P),0==m.g[B].length&&(delete m.g[B],m.h--))}}function Ff(m,P,B,oe){for(var rt=0;rt<m.length;++rt){var _t=m[rt];if(!_t.da&&_t.listener==P&&_t.capture==!!B&&_t.ha==oe)return rt}return-1}Fg.prototype.add=function(m,P,B,oe,rt){var _t=m.toString();(m=this.g[_t])||(m=this.g[_t]=[],this.h++);var Jt=Ff(m,P,oe,rt);return-1<Jt?(P=m[Jt],B||(P.fa=!1)):((P=new kC(P,this.src,_t,!!oe,rt)).fa=B,m.push(P)),P};var od="closure_lm_"+(1e6*Math.random()|0),Vf={};function Uf(m,P,B,oe,rt){if(oe&&oe.once)return Tv(m,P,B,oe,rt);if(Array.isArray(P)){for(var _t=0;_t<P.length;_t++)Uf(m,P[_t],B,oe,rt);return null}return B=Av(B),m&&m[Lg]?m.K(P,B,k(oe)?!!oe.capture:!!oe,rt):Iv(m,P,B,!1,oe,rt)}function Iv(m,P,B,oe,rt,_t){if(!P)throw Error("Invalid event type");var Jt=k(rt)?!!rt.capture:!!rt,Ai=Vg(m);if(Ai||(m[od]=Ai=new Fg(m)),(B=Ai.add(P,B,oe,Jt,_t)).proxy)return B;if(oe=function Bf(){const P=tI;return function m(B){return P.call(m.src,m.listener,B)}}(),B.proxy=oe,oe.src=m,oe.listener=B,m.addEventListener)LC||(rt=Jt),void 0===rt&&(rt=!1),m.addEventListener(P.toString(),oe,rt);else if(m.attachEvent)m.attachEvent(wv(P.toString()),oe);else{if(!m.addListener||!m.removeListener)throw Error("addEventListener and attachEvent are unavailable.");m.addListener(oe)}return B}function Tv(m,P,B,oe,rt){if(Array.isArray(P)){for(var _t=0;_t<P.length;_t++)Tv(m,P[_t],B,oe,rt);return null}return B=Av(B),m&&m[Lg]?m.L(P,B,k(oe)?!!oe.capture:!!oe,rt):Iv(m,P,B,!0,oe,rt)}function eI(m,P,B,oe,rt){if(Array.isArray(P))for(var _t=0;_t<P.length;_t++)eI(m,P[_t],B,oe,rt);else oe=k(oe)?!!oe.capture:!!oe,B=Av(B),m&&m[Lg]?(m=m.i,(P=String(P).toString())in m.g&&-1<(B=Ff(_t=m.g[P],B,oe,rt))&&(kg(_t[B]),Array.prototype.splice.call(_t,B,1),0==_t.length&&(delete m.g[P],m.h--))):m&&(m=Vg(m))&&(P=m.g[P.toString()],m=-1,P&&(m=Ff(P,B,oe,rt)),(B=-1<m?P[m]:null)&&sd(B))}function sd(m){if("number"!=typeof m&&m&&!m.da){var P=m.src;if(P&&P[Lg])Ev(P.i,m);else{var B=m.type,oe=m.proxy;P.removeEventListener?P.removeEventListener(B,oe,m.capture):P.detachEvent?P.detachEvent(wv(B),oe):P.addListener&&P.removeListener&&P.removeListener(oe),(B=Vg(P))?(Ev(B,m),0==B.h&&(B.src=null,P[od]=null)):kg(m)}}}function wv(m){return m in Vf?Vf[m]:Vf[m]="on"+m}function tI(m,P){if(m.da)m=!0;else{P=new kf(P,this);var B=m.listener,oe=m.ha||m.src;m.fa&&sd(m),m=B.call(oe,P)}return m}function Vg(m){return(m=m[od])instanceof Fg?m:null}var Ug="__closure_events_fn_"+(1e9*Math.random()>>>0);function Av(m){return"function"==typeof m?m:(m[Ug]||(m[Ug]=function(P){return m.handleEvent(P)}),m[Ug])}function Is(){sl.call(this),this.i=new Fg(this),this.M=this,this.F=null}function Us(m,P){var B,oe=m.F;if(oe)for(B=[];oe;oe=oe.F)B.push(oe);if(m=m.M,oe=P.type||P,"string"==typeof P)P=new Vs(P,m);else if(P instanceof Vs)P.target=P.target||m;else{var rt=P;Ke(P=new Vs(oe,m),rt)}if(rt=!0,B)for(var _t=B.length-1;0<=_t;_t--){var Jt=P.g=B[_t];rt=al(Jt,oe,!0,P)&&rt}if(rt=al(Jt=P.g=m,oe,!0,P)&&rt,rt=al(Jt,oe,!1,P)&&rt,B)for(_t=0;_t<B.length;_t++)rt=al(Jt=P.g=B[_t],oe,!1,P)&&rt}function al(m,P,B,oe){if(!(P=m.i.g[String(P)]))return!0;P=P.concat();for(var rt=!0,_t=0;_t<P.length;++_t){var Jt=P[_t];if(Jt&&!Jt.da&&Jt.capture==B){var Ai=Jt.listener,Po=Jt.ha||Jt.src;Jt.fa&&Ev(m.i,Jt),rt=!1!==Ai.call(Po,oe)&&rt}}return rt&&!oe.defaultPrevented}function nI(m,P,B){if("function"==typeof m)B&&(m=Ce(m,B));else{if(!m||"function"!=typeof m.handleEvent)throw Error("Invalid listener argument");m=Ce(m.handleEvent,m)}return 2147483647<Number(P)?-1:I.setTimeout(m,P||0)}function rI(m){m.g=nI(()=>{m.g=null,m.i&&(m.i=!1,rI(m))},m.l);const P=m.h;m.h=null,m.m.apply(null,P)}wt(Is,sl),Is.prototype[Lg]=!0,Is.prototype.removeEventListener=function(m,P,B,oe){eI(this,m,P,B,oe)},Is.prototype.N=function(){if(Is.aa.N.call(this),this.i){var P,m=this.i;for(P in m.g){for(var B=m.g[P],oe=0;oe<B.length;oe++)kg(B[oe]);delete m.g[P],m.h--}}this.F=null},Is.prototype.K=function(m,P,B,oe){return this.i.add(String(m),P,!1,B,oe)},Is.prototype.L=function(m,P,B,oe){return this.i.add(String(m),P,!0,B,oe)};class Hw extends sl{constructor(P,B){super(),this.m=P,this.l=B,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:rI(this)}N(){super.N(),this.g&&(I.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ul(m){sl.call(this),this.h=m,this.g={}}wt(ul,sl);var Cv=[];function Dv(m){Jn(m.g,function(P,B){this.g.hasOwnProperty(B)&&sd(P)},m),m.g={}}ul.prototype.N=function(){ul.aa.N.call(this),Dv(this)},ul.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bg=I.JSON.stringify,Gw=I.JSON.parse,iI=class{stringify(m){return I.JSON.stringify(m,void 0)}parse(m){return I.JSON.parse(m,void 0)}};function jf(){}function oI(){}jf.prototype.h=null;var Hf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bv(){Vs.call(this,"d")}function Sv(){Vs.call(this,"c")}wt(bv,Vs),wt(Sv,Vs);var ad={},sI=null;function lh(){return sI=sI||new Is}function dh(m){Vs.call(this,ad.La,m)}function hh(m){const P=lh();Us(P,new dh(P))}function Rv(m,P){Vs.call(this,ad.STAT_EVENT,m),this.stat=P}function Bs(m){const P=lh();Us(P,new Rv(P,m))}function fh(m,P){Vs.call(this,ad.Ma,m),this.size=P}function cl(m,P){if("function"!=typeof m)throw Error("Fn must not be null and must be a function");return I.setTimeout(function(){m()},P)}function jg(){this.g=!0}function ll(m,P,B,oe){m.info(function(){return"XMLHTTP TEXT ("+P+"): "+function uI(m,P){if(!m.g)return P;if(!P)return null;try{var B=JSON.parse(P);if(B)for(m=0;m<B.length;m++)if(Array.isArray(B[m])){var oe=B[m];if(!(2>oe.length)){var rt=oe[1];if(Array.isArray(rt)&&!(1>rt.length)){var _t=rt[0];if("noop"!=_t&&"stop"!=_t&&"close"!=_t)for(var Jt=1;Jt<rt.length;Jt++)rt[Jt]=""}}}return Bg(B)}catch{return P}}(m,B)+(oe?" "+oe:"")})}ad.La="serverreachability",wt(dh,Vs),ad.STAT_EVENT="statevent",wt(Rv,Vs),ad.Ma="timingevent",wt(fh,Vs),jg.prototype.xa=function(){this.g=!1},jg.prototype.info=function(){};var Hg,$g={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Gf(){}function Gu(m,P,B,oe){this.j=m,this.i=P,this.l=B,this.R=oe||1,this.U=new ul(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cI}function cI(){this.i=null,this.g="",this.h=!1}wt(Gf,jf),Gf.prototype.g=function(){return new XMLHttpRequest},Gf.prototype.i=function(){return{}},Hg=new Gf;var lI={},Mv={};function Nv(m,P,B){m.L=1,m.v=vc(yc(P)),m.m=B,m.P=!0,dI(m,null)}function dI(m,P){m.F=Date.now(),Gg(m),m.A=yc(m.v);var B=m.A,oe=m.R;Array.isArray(oe)||(oe=[String(oe)]),wI(B.i,"t",oe),m.C=0,B=m.j.J,m.h=new cI,m.g=om(m.j,B?P:null,!m.m),0<m.O&&(m.M=new Hw(Ce(m.Y,m,m.g),m.O)),P=m.U,B=m.g,oe=m.ca;var rt="readystatechange";Array.isArray(rt)||(rt&&(Cv[0]=rt.toString()),rt=Cv);for(var _t=0;_t<rt.length;_t++){var Jt=Uf(B,rt[_t],oe||P.handleEvent,!1,P.h||P);if(!Jt)break;P.g[Jt.key]=Jt}P=m.H?Ee(m.H):{},m.m?(m.u||(m.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,P)):(m.u="GET",m.g.ea(m.A,m.u,null,P)),hh(),function Ww(m,P,B,oe,rt,_t){m.info(function(){if(m.g)if(_t)for(var Jt="",Ai=_t.split("&"),Po=0;Po<Ai.length;Po++){var Vr=Ai[Po].split("=");if(1<Vr.length){var us=Vr[0];Vr=Vr[1];var ai=us.split("_");Jt=2<=ai.length&&"type"==ai[1]?Jt+(us+"=")+Vr+"&":Jt+(us+"=redacted&")}}else Jt=null;else Jt=_t;return"XMLHTTP REQ ("+oe+") [attempt "+rt+"]: "+P+"\n"+B+"\n"+Jt})}(m.i,m.u,m.A,m.l,m.R,m.m)}function hI(m){return!!m.g&&"GET"==m.u&&2!=m.L&&m.j.Ca}function Ov(m,P){var B=m.C,oe=P.indexOf("\n",B);return-1==oe?Mv:(B=Number(P.substring(B,oe)),isNaN(B)?lI:(oe+=1)+B>P.length?Mv:(P=P.slice(oe,oe+B),m.C=oe+B,P))}function Gg(m){m.S=Date.now()+m.I,fI(m,m.I)}function fI(m,P){if(null!=m.B)throw Error("WatchDog timer not null");m.B=cl(Ce(m.ba,m),P)}function xv(m){m.B&&(I.clearTimeout(m.B),m.B=null)}function yu(m){0==m.j.G||m.J||kI(m.j,m)}function vu(m){xv(m);var P=m.M;P&&"function"==typeof P.ma&&P.ma(),m.M=null,Dv(m.U),m.g&&(P=m.g,m.g=null,P.abort(),P.ma())}function Wf(m,P){try{var B=m.j;if(0!=B.G&&(B.g==m||Fv(B.h,m)))if(!m.K&&Fv(B.h,m)&&3==B.G){try{var oe=B.Da.g.parse(P)}catch{oe=null}if(Array.isArray(oe)&&3==oe.length){var rt=oe;if(0==rt[0]){e:if(!B.u){if(B.g){if(!(B.g.F+3e3<m.F))break e;rm(B),em(B)}Jf(B),Bs(18)}}else B.za=rt[1],0<B.za-B.T&&37500>rt[2]&&B.F&&0==B.v&&!B.C&&(B.C=cl(Ce(B.Za,B),6e3));if(1>=kv(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else Ic(B,11)}else if((m.K||B.g==m)&&rm(B),!dn(P))for(rt=B.Da.g.parse(P),P=0;P<rt.length;P++){let Vr=rt[P];if(B.T=Vr[0],Vr=Vr[1],2==B.G)if("c"==Vr[0]){B.K=Vr[1],B.ia=Vr[2];const us=Vr[3];null!=us&&(B.la=us,B.j.info("VER="+B.la));const ai=Vr[4];null!=ai&&(B.Aa=ai,B.j.info("SVER="+B.Aa));const dd=Vr[5];null!=dd&&"number"==typeof dd&&0<dd&&(B.L=oe=1.5*dd,B.j.info("backChannelRequestTimeoutMs_="+oe)),oe=B;const Wu=m.g;if(Wu){const Gv=Wu.g?Wu.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gv){var _t=oe.h;_t.g||-1==Gv.indexOf("spdy")&&-1==Gv.indexOf("quic")&&-1==Gv.indexOf("h2")||(_t.j=_t.l,_t.g=new Set,_t.h&&(Vv(_t,_t.h),_t.h=null))}if(oe.D){const um=Wu.g?Wu.g.getResponseHeader("X-HTTP-Session-Id"):null;um&&(oe.ya=um,ti(oe.I,oe.D,um))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-m.F,B.j.info("Handshake RTT: "+B.R+"ms"));var Jt=m;if((oe=B).qa=Hv(oe,oe.J?oe.ia:null,oe.W),Jt.K){gI(oe.h,Jt);var Ai=Jt,Po=oe.L;Po&&(Ai.I=Po),Ai.B&&(xv(Ai),Gg(Ai)),oe.g=Jt}else jv(oe);0<B.i.length&&Yf(B)}else"stop"!=Vr[0]&&"close"!=Vr[0]||Ic(B,7);else 3==B.G&&("stop"==Vr[0]||"close"==Vr[0]?"stop"==Vr[0]?Ic(B,7):vh(B):"noop"!=Vr[0]&&B.l&&B.l.ta(Vr),B.v=0)}hh()}catch{}}Gu.prototype.ca=function(m){m=m.target;const P=this.M;P&&3==Ec(m)?P.j():this.Y(m)},Gu.prototype.Y=function(m){try{if(m==this.g)e:{const ai=Ec(this.g);var P=this.g.Ba();if(this.g.Z(),!(3>ai)&&(3!=ai||this.g&&(this.h.h||this.g.oa()||MI(this.g)))){this.J||4!=ai||7==P||hh(),xv(this);var B=this.g.Z();this.X=B;t:if(hI(this)){var oe=MI(this.g);m="";var rt=oe.length,_t=4==Ec(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){vu(this),yu(this);var Jt="";break t}this.h.i=new I.TextDecoder}for(P=0;P<rt;P++)this.h.h=!0,m+=this.h.i.decode(oe[P],{stream:!(_t&&P==rt-1)});oe.length=0,this.h.g+=m,this.C=0,Jt=this.h.g}else Jt=this.g.oa();if(this.o=200==B,function aI(m,P,B,oe,rt,_t,Jt){m.info(function(){return"XMLHTTP RESP ("+oe+") [ attempt "+rt+"]: "+P+"\n"+B+"\n"+_t+" "+Jt})}(this.i,this.u,this.A,this.l,this.R,ai,B),this.o){if(this.T&&!this.K){t:{if(this.g){var Ai,Po=this.g;if((Ai=Po.g?Po.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dn(Ai)){var Vr=Ai;break t}}Vr=null}if(!(B=Vr)){this.o=!1,this.s=3,Bs(12),vu(this),yu(this);break e}ll(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wf(this,B)}if(this.P){let Wu;for(B=!0;!this.J&&this.C<Jt.length;){if(Wu=Ov(this,Jt),Wu==Mv){4==ai&&(this.s=4,Bs(14),B=!1),ll(this.i,this.l,null,"[Incomplete Response]");break}if(Wu==lI){this.s=4,Bs(15),ll(this.i,this.l,Jt,"[Invalid Chunk]"),B=!1;break}ll(this.i,this.l,Wu,null),Wf(this,Wu)}if(hI(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ai||0!=Jt.length||this.h.h||(this.s=1,Bs(16),B=!1),this.o=this.o&&B,B){if(0<Jt.length&&!this.W){this.W=!0;var us=this.j;us.g==this&&us.ba&&!us.M&&(us.j.info("Great, no buffering proxy detected. Bytes received: "+Jt.length),nm(us),us.M=!0,Bs(11))}}else ll(this.i,this.l,Jt,"[Invalid Chunked Response]"),vu(this),yu(this)}else ll(this.i,this.l,Jt,null),Wf(this,Jt);4==ai&&vu(this),this.o&&!this.J&&(4==ai?kI(this.j,this):(this.o=!1,Gg(this)))}else(function Yw(m){const P={};m=(m.g&&2<=Ec(m)&&m.g.getAllResponseHeaders()||"").split("\r\n");for(let oe=0;oe<m.length;oe++){if(dn(m[oe]))continue;var B=Ze(m[oe]);const rt=B[0];if("string"!=typeof(B=B[1]))continue;B=B.trim();const _t=P[rt]||[];P[rt]=_t,_t.push(B)}!function He(m,P){for(const B in m)P.call(void 0,m[B],B,m)}(P,function(oe){return oe.join(", ")})})(this.g),400==B&&0<Jt.indexOf("Unknown SID")?(this.s=3,Bs(12)):(this.s=0,Bs(13)),vu(this),yu(this)}}}catch{}},Gu.prototype.cancel=function(){this.J=!0,vu(this)},Gu.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(function zw(m,P){m.info(function(){return"TIMEOUT: "+P})}(this.i,this.A),2!=this.L&&(hh(),Bs(17)),vu(this),this.s=2,yu(this)):fI(this,this.S-m)};var Lv=class{constructor(m,P){this.g=m,this.map=P}};function pI(m){this.l=m||10,m=I.PerformanceNavigationTiming?0<(m=I.performance.getEntriesByType("navigation")).length&&("hq"==m[0].nextHopProtocol||"h2"==m[0].nextHopProtocol):!!(I.chrome&&I.chrome.loadTimes&&I.chrome.loadTimes()&&I.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ud(m){return!!m.h||!!m.g&&m.g.size>=m.j}function kv(m){return m.h?1:m.g?m.g.size:0}function Fv(m,P){return m.h?m.h==P:!!m.g&&m.g.has(P)}function Vv(m,P){m.g?m.g.add(P):m.h=P}function gI(m,P){m.h&&m.h==P?m.h=null:m.g&&m.g.has(P)&&m.g.delete(P)}function mI(m){if(null!=m.h)return m.i.concat(m.h.D);if(null!=m.g&&0!==m.g.size){let P=m.i;for(const B of m.g.values())P=P.concat(B.D);return P}return Lt(m.i)}function vI(m,P){if(m.forEach&&"function"==typeof m.forEach)m.forEach(P,void 0);else if(b(m)||"string"==typeof m)Array.prototype.forEach.call(m,P,void 0);else for(var B=function yI(m){if(m.na&&"function"==typeof m.na)return m.na();if(!m.V||"function"!=typeof m.V){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(b(m)||"string"==typeof m){var P=[];m=m.length;for(var B=0;B<m;B++)P.push(B);return P}P=[],B=0;for(const oe in m)P[B++]=oe;return P}}}(m),oe=function Kw(m){if(m.V&&"function"==typeof m.V)return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if("string"==typeof m)return m.split("");if(b(m)){for(var P=[],B=m.length,oe=0;oe<B;oe++)P.push(m[oe]);return P}for(oe in P=[],B=0,m)P[B++]=m[oe];return P}(m),rt=oe.length,_t=0;_t<rt;_t++)P.call(void 0,oe[_t],B&&B[_t],m)}pI.prototype.cancel=function(){if(this.i=mI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const m of this.g.values())m.cancel();this.g.clear()}};var Uv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cd(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof cd){this.h=m.h,zf(this,m.j),this.o=m.o,this.g=m.g,zg(this,m.s),this.l=m.l;var P=m.i,B=new Qg;B.i=P.i,P.g&&(B.g=new Map(P.g),B.h=P.h),_I(this,B),this.m=m.m}else m&&(P=String(m).match(Uv))?(this.h=!1,zf(this,P[1]||"",!0),this.o=_c(P[2]||""),this.g=_c(P[3]||"",!0),zg(this,P[4]),this.l=_c(P[5]||"",!0),_I(this,P[6]||"",!0),this.m=_c(P[7]||"")):(this.h=!1,this.i=new Qg(null,this.h))}function yc(m){return new cd(m)}function zf(m,P,B){m.j=B?_c(P,!0):P,m.j&&(m.j=m.j.replace(/:$/,""))}function zg(m,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);m.s=P}else m.s=null}function _I(m,P,B){P instanceof Qg?(m.i=P,function Xw(m,P){P&&!m.j&&(dl(m),m.i=null,m.g.forEach(function(B,oe){var rt=oe.toLowerCase();oe!=rt&&(Kf(this,oe),wI(this,rt,B))},m)),m.j=P}(m.i,m.h)):(B||(P=Kg(P,Qw)),m.i=new Qg(P,m.h))}function ti(m,P,B){m.i.set(P,B)}function vc(m){return ti(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function _c(m,P){return m?P?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Kg(m,P,B){return"string"==typeof m?(m=encodeURI(m).replace(P,EI),B&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function EI(m){return"%"+((m=m.charCodeAt(0))>>4&15).toString(16)+(15&m).toString(16)}cd.prototype.toString=function(){var m=[],P=this.j;P&&m.push(Kg(P,qg,!0),":");var B=this.g;return(B||"file"==P)&&(m.push("//"),(P=this.o)&&m.push(Kg(P,qg,!0),"@"),m.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(B=this.s)&&m.push(":",String(B))),(B=this.l)&&(this.g&&"/"!=B.charAt(0)&&m.push("/"),m.push(Kg(B,"/"==B.charAt(0)?II:qw,!0))),(B=this.i.toString())&&m.push("?",B),(B=this.m)&&m.push("#",Kg(B,TI)),m.join("")};var qg=/[#\/\?@]/g,qw=/[#\?:]/g,II=/[#\?]/g,Qw=/[#\?@]/g,TI=/#/g;function Qg(m,P){this.h=this.g=null,this.i=m||null,this.j=!!P}function dl(m){m.g||(m.g=new Map,m.h=0,m.i&&function Wg(m,P){if(m){m=m.split("&");for(var B=0;B<m.length;B++){var oe=m[B].indexOf("="),rt=null;if(0<=oe){var _t=m[B].substring(0,oe);rt=m[B].substring(oe+1)}else _t=m[B];P(_t,rt?decodeURIComponent(rt.replace(/\+/g," ")):"")}}}(m.i,function(P,B){m.add(decodeURIComponent(P.replace(/\+/g," ")),B)}))}function Kf(m,P){dl(m),P=ph(m,P),m.g.has(P)&&(m.i=null,m.h-=m.g.get(P).length,m.g.delete(P))}function Xg(m,P){return dl(m),P=ph(m,P),m.g.has(P)}function wI(m,P,B){Kf(m,P),0<B.length&&(m.i=null,m.g.set(ph(m,P),Lt(B)),m.h+=B.length)}function ph(m,P){return P=String(P),m.j&&(P=P.toLowerCase()),P}function _u(m,P,B,oe,rt){try{rt&&(rt.onload=null,rt.onerror=null,rt.onabort=null,rt.ontimeout=null),oe(B)}catch{}}function AI(){this.g=new iI}function qf(m,P,B){const oe=B||"";try{vI(m,function(rt,_t){let Jt=rt;k(rt)&&(Jt=Bg(rt)),P.push(oe+_t+"="+encodeURIComponent(Jt))})}catch(rt){throw P.push(oe+"type="+encodeURIComponent("_badmap")),rt}}function Qf(m){this.l=m.Ub||null,this.j=m.eb||!1}function Yg(m,P){Is.call(this),this.D=m,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Jg(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}function gh(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Qa(m)}function Qa(m){m.onreadystatechange&&m.onreadystatechange.call(m)}function mh(m){let P="";return Jn(m,function(B,oe){P+=oe,P+=":",P+=B,P+="\r\n"}),P}function CI(m,P,B){e:{for(oe in B){var oe=!1;break e}oe=!0}oe||(B=mh(B),"string"==typeof m?null!=B&&encodeURIComponent(String(B)):ti(m,P,B))}function ki(m){Is.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=Qg.prototype).add=function(m,P){dl(this),this.i=null,m=ph(this,m);var B=this.g.get(m);return B||this.g.set(m,B=[]),B.push(P),this.h+=1,this},a.forEach=function(m,P){dl(this),this.g.forEach(function(B,oe){B.forEach(function(rt){m.call(P,rt,oe,this)},this)},this)},a.na=function(){dl(this);const m=Array.from(this.g.values()),P=Array.from(this.g.keys()),B=[];for(let oe=0;oe<P.length;oe++){const rt=m[oe];for(let _t=0;_t<rt.length;_t++)B.push(P[oe])}return B},a.V=function(m){dl(this);let P=[];if("string"==typeof m)Xg(this,m)&&(P=P.concat(this.g.get(ph(this,m))));else{m=Array.from(this.g.values());for(let B=0;B<m.length;B++)P=P.concat(m[B])}return P},a.set=function(m,P){return dl(this),this.i=null,Xg(this,m=ph(this,m))&&(this.h-=this.g.get(m).length),this.g.set(m,[P]),this.h+=1,this},a.get=function(m,P){return m&&0<(m=this.V(m)).length?String(m[0]):P},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],P=Array.from(this.g.keys());for(var B=0;B<P.length;B++){var oe=P[B];const _t=encodeURIComponent(String(oe)),Jt=this.V(oe);for(oe=0;oe<Jt.length;oe++){var rt=_t;""!==Jt[oe]&&(rt+="="+encodeURIComponent(String(Jt[oe]))),m.push(rt)}}return this.i=m.join("&")},wt(Qf,jf),Qf.prototype.g=function(){return new Yg(this.l,this.j)},Qf.prototype.i=function(m){return function(){return m}}({}),wt(Yg,Is),(a=Yg.prototype).open=function(m,P){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=P,this.readyState=1,Qa(this)},a.send=function(m){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(P.body=m),(this.D||I).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gh(this)),this.readyState=0},a.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Qa(this)),this.g&&(this.readyState=3,Qa(this),this.g)))if("arraybuffer"===this.responseType)m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof I.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jg(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var P=m.value?m.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!m.done}))&&(this.response=this.responseText+=P)}m.done?gh(this):Qa(this),3==this.readyState&&Jg(this)}},a.Ra=function(m){this.g&&(this.response=this.responseText=m,gh(this))},a.Qa=function(m){this.g&&(this.response=m,gh(this))},a.ga=function(){this.g&&gh(this)},a.setRequestHeader=function(m,P){this.u.append(m,P)},a.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],P=this.h.entries();for(var B=P.next();!B.done;)m.push((B=B.value)[0]+": "+B[1]),B=P.next();return m.join("\r\n")},Object.defineProperty(Yg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(m){this.m=m?"include":"same-origin"}}),wt(ki,Is);var DI=/^https?$/i,bI=["POST","PUT"];function SI(m,P){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=P,m.m=5,yh(m),Zg(m)}function yh(m){m.A||(m.A=!0,Us(m,"complete"),Us(m,"error"))}function RI(m){if(m.h&&typeof y<"u"&&(!m.v[1]||4!=Ec(m)||2!=m.Z()))if(m.u&&4==Ec(m))nI(m.Ea,0,m);else if(Us(m,"readystatechange"),4==Ec(m)){m.h=!1;try{const Jt=m.Z();e:switch(Jt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var B;if(!(B=P)){var oe;if(oe=0===Jt){var rt=String(m.D).match(Uv)[1]||null;!rt&&I.self&&I.self.location&&(rt=I.self.location.protocol.slice(0,-1)),oe=!DI.test(rt?rt.toLowerCase():"")}B=oe}if(B)Us(m,"complete"),Us(m,"success");else{m.m=6;try{var _t=2<Ec(m)?m.g.statusText:""}catch{_t=""}m.l=_t+" ["+m.Z()+"]",yh(m)}}finally{Zg(m)}}}function Zg(m,P){if(m.g){PI(m);const B=m.g,oe=m.v[0]?()=>{}:null;m.g=null,m.v=null,P||Us(m,"ready");try{B.onreadystatechange=oe}catch{}}}function PI(m){m.I&&(I.clearTimeout(m.I),m.I=null)}function Ec(m){return m.g?m.g.readyState:0}function MI(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Xf(m,P,B){return B&&B.internalChannelParams&&B.internalChannelParams[m]||P}function NI(m){this.Aa=0,this.i=[],this.j=new jg,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xf("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xf("baseRetryDelayMs",5e3,m),this.cb=Xf("retryDelaySeedMs",1e4,m),this.Wa=Xf("forwardChannelMaxRetries",2,m),this.wa=Xf("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new pI(m&&m.concurrentRequestLimit),this.Da=new AI,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function vh(m){if(OI(m),3==m.G){var P=m.U++,B=yc(m.I);if(ti(B,"SID",m.K),ti(B,"RID",P),ti(B,"TYPE","terminate"),_h(m,B),(P=new Gu(m,m.j,P)).L=2,P.v=vc(yc(B)),B=!1,I.navigator&&I.navigator.sendBeacon)try{B=I.navigator.sendBeacon(P.v.toString(),"")}catch{}!B&&I.Image&&((new Image).src=P.v,B=!0),B||(P.g=om(P.j,null),P.g.ea(P.v)),P.F=Date.now(),Gg(P)}im(m)}function em(m){m.g&&(nm(m),m.g.cancel(),m.g=null)}function OI(m){em(m),m.u&&(I.clearTimeout(m.u),m.u=null),rm(m),m.h.cancel(),m.s&&("number"==typeof m.s&&I.clearTimeout(m.s),m.s=null)}function Yf(m){if(!ud(m.h)&&!m.s){m.s=!0;var P=m.Ga;Of||Lf(),xf||(Of(),xf=!0),vv.add(P,m),m.B=0}}function tm(m,P){var B;B=P?P.l:m.U++;const oe=yc(m.I);ti(oe,"SID",m.K),ti(oe,"RID",B),ti(oe,"AID",m.T),_h(m,oe),m.m&&m.o&&CI(oe,m.m,m.o),B=new Gu(m,m.j,B,m.B+1),null===m.m&&(B.H=m.o),P&&(m.i=P.D.concat(m.i)),P=LI(m,B,1e3),B.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Vv(m.h,B),Nv(B,oe,P)}function _h(m,P){m.H&&Jn(m.H,function(B,oe){ti(P,oe,B)}),m.l&&vI({},function(B,oe){ti(P,oe,B)})}function LI(m,P,B){B=Math.min(m.i.length,B);var oe=m.l?Ce(m.l.Na,m.l,m):null;e:{var rt=m.i;let _t=-1;for(;;){const Jt=["count="+B];-1==_t?0<B?(_t=rt[0].g,Jt.push("ofs="+_t)):_t=0:Jt.push("ofs="+_t);let Ai=!0;for(let Po=0;Po<B;Po++){let Vr=rt[Po].g;const us=rt[Po].map;if(Vr-=_t,0>Vr)_t=Math.max(0,rt[Po].g-100),Ai=!1;else try{qf(us,Jt,"req"+Vr+"_")}catch{oe&&oe(us)}}if(Ai){oe=Jt.join("&");break e}}}return m=m.i.splice(0,B),P.D=m,oe}function jv(m){if(!m.g&&!m.u){m.Y=1;var P=m.Fa;Of||Lf(),xf||(Of(),xf=!0),vv.add(P,m),m.v=0}}function Jf(m){return!(m.g||m.u||3<=m.v||(m.Y++,m.u=cl(Ce(m.Fa,m),FI(m,m.v)),m.v++,0))}function nm(m){null!=m.A&&(I.clearTimeout(m.A),m.A=null)}function $v(m){m.g=new Gu(m,m.j,"rpc",m.Y),null===m.m&&(m.g.H=m.o),m.g.O=0;var P=yc(m.qa);ti(P,"RID","rpc"),ti(P,"SID",m.K),ti(P,"AID",m.T),ti(P,"CI",m.F?"0":"1"),!m.F&&m.ja&&ti(P,"TO",m.ja),ti(P,"TYPE","xmlhttp"),_h(m,P),m.m&&m.o&&CI(P,m.m,m.o),m.L&&(m.g.I=m.L);var B=m.g;m=m.ia,B.L=1,B.v=vc(yc(P)),B.m=null,B.P=!0,dI(B,m)}function rm(m){null!=m.C&&(I.clearTimeout(m.C),m.C=null)}function kI(m,P){var B=null;if(m.g==P){rm(m),nm(m),m.g=null;var oe=2}else{if(!Fv(m.h,P))return;B=P.D,gI(m.h,P),oe=1}if(0!=m.G)if(P.o)if(1==oe){B=P.m?P.m.length:0,P=Date.now()-P.F;var rt=m.B;Us(oe=lh(),new fh(oe,B)),Yf(m)}else jv(m);else if(3==(rt=P.s)||0==rt&&0<P.X||!(1==oe&&function xI(m,P){return!(kv(m.h)>=m.h.j-(m.s?1:0)||(m.s?(m.i=P.D.concat(m.i),0):1==m.G||2==m.G||m.B>=(m.Va?0:m.Wa)||(m.s=cl(Ce(m.Ga,m,P),FI(m,m.B)),m.B++,0)))}(m,P)||2==oe&&Jf(m)))switch(B&&0<B.length&&(P=m.h,P.i=P.i.concat(B)),rt){case 1:Ic(m,5);break;case 4:Ic(m,10);break;case 3:Ic(m,6);break;default:Ic(m,2)}}function FI(m,P){let B=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(B*=2),B*P}function Ic(m,P){if(m.j.info("Error code "+P),2==P){var B=Ce(m.fb,m),oe=m.Xa;const rt=!oe;oe=new cd(oe||"//www.google.com/images/cleardot.gif"),I.location&&"http"==I.location.protocol||zf(oe,"https"),vc(oe),rt?function Bv(m,P){const B=new jg;if(I.Image){const oe=new Image;oe.onload=Je(_u,B,"TestLoadImage: loaded",!0,P,oe),oe.onerror=Je(_u,B,"TestLoadImage: error",!1,P,oe),oe.onabort=Je(_u,B,"TestLoadImage: abort",!1,P,oe),oe.ontimeout=Je(_u,B,"TestLoadImage: timeout",!1,P,oe),I.setTimeout(function(){oe.ontimeout&&oe.ontimeout()},1e4),oe.src=m}else P(!1)}(oe.toString(),B):function hl(m,P){new jg;const oe=new AbortController,rt=setTimeout(()=>{oe.abort(),_u(0,0,!1,P)},1e4);fetch(m,{signal:oe.signal}).then(_t=>{clearTimeout(rt),_u(0,0,!!_t.ok,P)}).catch(()=>{clearTimeout(rt),_u(0,0,!1,P)})}(oe.toString(),B)}else Bs(2);m.G=0,m.l&&m.l.sa(P),im(m),OI(m)}function im(m){if(m.G=0,m.ka=[],m.l){const P=mI(m.h);(0!=P.length||0!=m.i.length)&&(Rt(m.ka,P),Rt(m.ka,m.i),m.h.i.length=0,Lt(m.i),m.i.length=0),m.l.ra()}}function Hv(m,P,B){var oe=B instanceof cd?yc(B):new cd(B);if(""!=oe.g)P&&(oe.g=P+"."+oe.g),zg(oe,oe.s);else{var rt=I.location;oe=rt.protocol,P=P?P+"."+rt.hostname:rt.hostname,rt=+rt.port;var _t=new cd(null);oe&&zf(_t,oe),P&&(_t.g=P),rt&&zg(_t,rt),B&&(_t.l=B),oe=_t}return P=m.ya,(B=m.D)&&P&&ti(oe,B,P),ti(oe,"VER",m.la),_h(m,oe),oe}function om(m,P,B){if(P&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return(P=new ki(m.Ca&&!m.pa?new Qf({eb:B}):m.pa)).Ha(m.J),P}function sm(){}function am(){}function Sa(m,P){Is.call(this),this.g=new NI(P),this.l=m,this.h=P&&P.messageUrlParams||null,m=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(m?m["X-WebChannel-Content-Type"]=P.messageContentType:m={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(m?m["X-WebChannel-Client-Profile"]=P.va:m={"X-WebChannel-Client-Profile":P.va}),this.g.S=m,(m=P&&P.Sb)&&!dn(m)&&(this.g.m=m),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!dn(P)&&(this.g.D=P,null!==(m=this.h)&&P in m&&P in(m=this.h)&&delete m[P]),this.j=new ld(this)}function VI(m){bv.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var P=m.__sm__;if(P){e:{for(const B in P){m=B;break e}m=void 0}(this.i=m)&&(m=this.i,P=null!==P&&m in P?P[m]:void 0),this.data=P}else this.data=m}function UI(){Sv.call(this),this.status=1}function ld(m){this.g=m}(a=ki.prototype).Ha=function(m){this.J=m},a.ea=function(m,P,B,oe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);P=P?P.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hg.g(),this.v=function $f(m){return m.h||(m.h=m.i())}(this.o?this.o:Hg),this.g.onreadystatechange=Ce(this.Ea,this);try{this.B=!0,this.g.open(P,String(m),!0),this.B=!1}catch(_t){return void SI(this,_t)}if(m=B||"",B=new Map(this.headers),oe)if(Object.getPrototypeOf(oe)===Object.prototype)for(var rt in oe)B.set(rt,oe[rt]);else{if("function"!=typeof oe.keys||"function"!=typeof oe.get)throw Error("Unknown input type for opt_headers: "+String(oe));for(const _t of oe.keys())B.set(_t,oe.get(_t))}oe=Array.from(B.keys()).find(_t=>"content-type"==_t.toLowerCase()),rt=I.FormData&&m instanceof I.FormData,!(0<=Array.prototype.indexOf.call(bI,P,void 0))||oe||rt||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_t,Jt]of B)this.g.setRequestHeader(_t,Jt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{PI(this),this.u=!0,this.g.send(m),this.u=!1}catch(_t){SI(this,_t)}},a.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Us(this,"complete"),Us(this,"abort"),Zg(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zg(this,!0)),ki.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?RI(this):this.bb())},a.bb=function(){RI(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<Ec(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(m){if(this.g){var P=this.g.responseText;return m&&0==P.indexOf(m)&&(P=P.substring(m.length)),Gw(P)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=NI.prototype).la=8,a.G=1,a.connect=function(m,P,B,oe){Bs(0),this.W=m,this.H=P||{},B&&void 0!==oe&&(this.H.OSID=B,this.H.OAID=oe),this.F=this.X,this.I=Hv(this,null,this.W),Yf(this)},a.Ga=function(m){if(this.s)if(this.s=null,1==this.G){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const rt=new Gu(this,this.j,m);let _t=this.o;if(this.S&&(_t?(_t=Ee(_t),Ke(_t,this.S)):_t=this.S),null!==this.m||this.O||(rt.H=_t,_t=null),this.P)e:{for(var P=0,B=0;B<this.i.length;B++){var oe=this.i[B];if(void 0===(oe="__data__"in oe.map&&"string"==typeof(oe=oe.map.__data__)?oe.length:void 0))break;if(4096<(P+=oe)){P=B;break e}if(4096===P||B===this.i.length-1){P=B+1;break e}}P=1e3}else P=1e3;P=LI(this,rt,P),ti(B=yc(this.I),"RID",m),ti(B,"CVER",22),this.D&&ti(B,"X-HTTP-Session-Id",this.D),_h(this,B),_t&&(this.O?P="headers="+encodeURIComponent(String(mh(_t)))+"&"+P:this.m&&CI(B,this.m,_t)),Vv(this.h,rt),this.Ua&&ti(B,"TYPE","init"),this.P?(ti(B,"$req",P),ti(B,"SID","null"),rt.T=!0,Nv(rt,B,null)):Nv(rt,B,P),this.G=2}}else 3==this.G&&(m?tm(this,m):0==this.i.length||ud(this.h)||tm(this))},a.Fa=function(){if(this.u=null,$v(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=cl(Ce(this.ab,this),m)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bs(10),em(this),$v(this))},a.Za=function(){null!=this.C&&(this.C=null,em(this),Jf(this),Bs(19))},a.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Bs(2)):(this.j.info("Failed to ping google.com"),Bs(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=sm.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},am.prototype.g=function(m,P){return new Sa(m,P)},wt(Sa,Is),Sa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sa.prototype.close=function(){vh(this.g)},Sa.prototype.o=function(m){var P=this.g;if("string"==typeof m){var B={};B.__data__=m,m=B}else this.u&&((B={}).__data__=Bg(m),m=B);P.i.push(new Lv(P.Ya++,m)),3==P.G&&Yf(P)},Sa.prototype.N=function(){this.g.l=null,delete this.j,vh(this.g),delete this.g,Sa.aa.N.call(this)},wt(VI,bv),wt(UI,Sv),wt(ld,sm),ld.prototype.ua=function(){Us(this.g,"a")},ld.prototype.ta=function(m){Us(this.g,new VI(m))},ld.prototype.sa=function(m){Us(this.g,new UI)},ld.prototype.ra=function(){Us(this.g,"b")},am.prototype.createWebChannel=am.prototype.g,Sa.prototype.send=Sa.prototype.o,Sa.prototype.open=Sa.prototype.m,Sa.prototype.close=Sa.prototype.close,js=Wn.createWebChannelTransport=function(){return new am},Gi=Wn.getStatEventTarget=function(){return lh()},Fo=Wn.Event=ad,Yi=Wn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$g.NO_ERROR=0,$g.TIMEOUT=8,$g.HTTP_ERROR=6,jn=Wn.ErrorCode=$g,Pv.COMPLETE="complete",Fi=Wn.EventType=Pv,oI.EventType=Hf,Hf.OPEN="a",Hf.CLOSE="b",Hf.ERROR="c",Hf.MESSAGE="d",Is.prototype.listen=Is.prototype.K,Pr=Wn.WebChannel=oI,Dr=Wn.FetchXmlHttpFactory=Qf,ki.prototype.listenOnce=ki.prototype.L,ki.prototype.getLastError=ki.prototype.Ka,ki.prototype.getLastErrorCode=ki.prototype.Ba,ki.prototype.getStatus=ki.prototype.Z,ki.prototype.getResponseJson=ki.prototype.Oa,ki.prototype.getResponseText=ki.prototype.oa,ki.prototype.send=ki.prototype.ea,ki.prototype.setWithCredentials=ki.prototype.Ha,Ln=Wn.XhrIo=ki}).apply(typeof Cr<"u"?Cr:typeof self<"u"?self:typeof window<"u"?window:{});const ia="@firebase/firestore";class Wr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");let ds="10.13.1";const qo=new bn.Vy("@firebase/firestore");function Pa(){return qo.logLevel}function xt(a,...t){if(qo.logLevel<=bn.$b.DEBUG){const r=t.map(hs);qo.debug(`Firestore (${ds}): ${a}`,...r)}}function zr(a,...t){if(qo.logLevel<=bn.$b.ERROR){const r=t.map(hs);qo.error(`Firestore (${ds}): ${a}`,...r)}}function Vi(a,...t){if(qo.logLevel<=bn.$b.WARN){const r=t.map(hs);qo.warn(`Firestore (${ds}): ${a}`,...r)}}function hs(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function en(a="Unexpected state"){const t=`FIRESTORE (${ds}) INTERNAL ASSERTION FAILED: `+a;throw zr(t),new Error(t)}function on(a,t){a||en()}function Ht(a,t){return a}const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends ot.g{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _i{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}class Ma{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ts{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Wr.UNAUTHENTICATED))}shutdown(){}}class oa{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Ji{constructor(t){this.t=t,this.currentUser=Wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){var s=this;let c=this.i;const h=k=>this.i!==c?(c=this.i,r(k)):Promise.resolve();let y=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new _i,t.enqueueRetryable(()=>h(this.currentUser))};const I=()=>{const k=y;t.enqueueRetryable((0,K.A)(function*(){yield k.promise,yield h(s.currentUser)}))},b=k=>{xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=k,this.auth.addAuthTokenListener(this.o),I()};this.t.onInit(k=>b(k)),setTimeout(()=>{if(!this.auth){const k=this.t.getImmediate({optional:!0});k?b(k):(xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new _i)}},0),I()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==t?(xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(on("string"==typeof s.accessToken),new Ma(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return on(null===t||"string"==typeof t),new Wr(t)}}class Za{constructor(t,r,s){this.l=t,this.h=r,this.P=s,this.type="FirstParty",this.user=Wr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ws{constructor(t,r,s){this.l=t,this.h=r,this.P=s}getToken(){return Promise.resolve(new Za(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Na{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qo{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){const s=h=>{null!=h.error&&xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const y=h.token!==this.R;return this.R=h.token,xt("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?r(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>s(h))};const c=h=>{xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>c(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?c(h):xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(on("string"==typeof r.token),this.R=r.token,new Na(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xo(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}class Io{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const c=Xo(40);for(let h=0;h<c.length;++h)s.length<20&&c[h]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[h]%62))}return s}}function cn(a,t){return a<t?-1:a>t?1:0}function Vo(a,t,r){return a.length===t.length&&a.every((s,c)=>r(s,t[c]))}function Uo(a){return a+"\0"}class Mr{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new St(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new St(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new St(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new St(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Mr.fromMillis(Date.now())}static fromDate(t){return Mr.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*r));return new Mr(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?cn(this.nanoseconds,t.nanoseconds):cn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ln{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ln(t)}static min(){return new ln(new Mr(0,0))}static max(){return new ln(new Mr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class To{constructor(t,r,s){void 0===r?r=0:r>t.length&&en(),void 0===s?s=t.length-r:s>t.length-r&&en(),this.segments=t,this.offset=r,this.len=s}get length(){return this.len}isEqual(t){return 0===To.comparator(this,t)}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof To?t.forEach(s=>{r.push(s)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,s=this.limit();r<s;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const s=Math.min(t.length,r.length);for(let c=0;c<s;c++){const h=t.get(c),y=r.get(c);if(h<y)return-1;if(h>y)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class On extends To{construct(t,r,s){return new On(t,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const s of t){if(s.indexOf("//")>=0)throw new St(ft.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(c=>c.length>0))}return new On(r)}static emptyPath(){return new On([])}}const As=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends To{construct(t,r,s){return new Ot(t,r,s)}static isValidIdentifier(t){return As.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ot(["__name__"])}static fromServerFormat(t){const r=[];let s="",c=0;const h=()=>{if(0===s.length)throw new St(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let y=!1;for(;c<t.length;){const I=t[c];if("\\"===I){if(c+1===t.length)throw new St(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const b=t[c+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new St(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=b,c+=2}else"`"===I?(y=!y,c++):"."!==I||y?(s+=I,c++):(h(),c++)}if(h(),y)throw new St(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ot(r)}static emptyPath(){return new Ot([])}}class $t{constructor(t){this.path=t}static fromPath(t){return new $t(On.fromString(t))}static fromName(t){return new $t(On.fromString(t).popFirst(5))}static empty(){return new $t(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===On.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,r){return On.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new $t(new On(t.slice()))}}class ho{constructor(t,r,s,c){this.indexId=t,this.collectionGroup=r,this.fields=s,this.indexState=c}}function fs(a){return a.fields.find(t=>2===t.kind)}function io(a){return a.fields.filter(t=>2!==t.kind)}ho.UNKNOWN_ID=-1;class fo{constructor(t,r){this.fieldPath=t,this.kind=r}}class Zi{constructor(t,r){this.sequenceNumber=t,this.offset=r}static empty(){return new Zi(0,Zr.min())}}function Ui(a,t){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,c=ln.fromTimestamp(1e9===s?new Mr(r+1,0):new Mr(r,s));return new Zr(c,$t.empty(),t)}function eo(a){return new Zr(a.readTime,a.key,-1)}class Zr{constructor(t,r,s){this.readTime=t,this.documentKey=r,this.largestBatchId=s}static min(){return new Zr(ln.min(),$t.empty(),-1)}static max(){return new Zr(ln.max(),$t.empty(),-1)}}function Yo(a,t){let r=a.readTime.compareTo(t.readTime);return 0!==r?r:(r=$t.comparator(a.documentKey,t.documentKey),0!==r?r:cn(a.largestBatchId,t.largestBatchId))}const ps="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Nr(a){return $s.apply(this,arguments)}function $s(){return($s=(0,K.A)(function*(a){if(a.code!==ft.FAILED_PRECONDITION||a.message!==ps)throw a;xt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ze{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&en(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new ze((s,c)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(s,c)},this.catchCallback=h=>{this.wrapFailure(r,h).next(s,c)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof ze?r:ze.resolve(r)}catch(r){return ze.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):ze.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):ze.reject(r)}static resolve(t){return new ze((r,s)=>{r(t)})}static reject(t){return new ze((r,s)=>{s(t)})}static waitFor(t){return new ze((r,s)=>{let c=0,h=0,y=!1;t.forEach(I=>{++c,I.next(()=>{++h,y&&h===c&&r()},b=>s(b))}),y=!0,h===c&&r()})}static or(t){let r=ze.resolve(!1);for(const s of t)r=r.next(c=>c?ze.resolve(c):s());return r}static forEach(t,r){const s=[];return t.forEach((c,h)=>{s.push(r.call(this,c,h))}),this.waitFor(s)}static mapArray(t,r){return new ze((s,c)=>{const h=t.length,y=new Array(h);let I=0;for(let b=0;b<h;b++){const k=b;r(t[k]).next(Q=>{y[k]=Q,++I,I===h&&s(y)},Q=>c(Q))}})}static doWhile(t,r){return new ze((s,c)=>{const h=()=>{!0===t()?r().next(()=>{h()},c):s()};h()})}}class rr{constructor(t,r){this.action=t,this.transaction=r,this.aborted=!1,this.V=new _i,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Hs(t,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const c=ni(s.target.error);this.V.reject(new Hs(t,c))}}static open(t,r,s,c){try{return new rr(r,t.transaction(c,s))}catch(h){throw new Hs(r,h)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(xt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const r=this.transaction.objectStore(t);return new gs(r)}}class zi{constructor(t,r,s){this.name=t,this.version=r,this.p=s,12.2===zi.S((0,ot.ZQ)())&&zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return xt("SimpleDb","Removing database:",t),gn(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,ot.zW)())return!1;if(zi.v())return!0;const t=(0,ot.ZQ)(),r=zi.S(t),s=0<r&&r<10,c=bi(t),h=0<c&&c<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||s||h)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,r){return t.store(r)}static S(t){const r=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(t){var r=this;return(0,K.A)(function*(){return r.db||(xt("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,c)=>{const h=indexedDB.open(r.name,r.version);h.onsuccess=y=>{s(y.target.result)},h.onblocked=()=>{c(new Hs(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=y=>{const I=y.target.error;c("VersionError"===I.name?new St(ft.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===I.name?new St(ft.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+I):new Hs(t,I))},h.onupgradeneeded=y=>{xt("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',y.oldVersion),r.p.O(y.target.result,h.transaction,y.oldVersion,r.version).next(()=>{xt("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=r=>t(r))}runTransaction(t,r,s,c){var h=this;return(0,K.A)(function*(){const y="readonly"===r;let I=0;for(;;){++I;try{h.db=yield h.M(t);const b=rr.open(h.db,t,y?"readonly":"readwrite",s),k=c(b).next(Q=>(b.g(),Q)).catch(Q=>(b.abort(Q),ze.reject(Q))).toPromise();return k.catch(()=>{}),yield b.m,k}catch(b){const k=b,Q="FirebaseError"!==k.name&&I<3;if(xt("SimpleDb","Transaction failed with error:",k.message,"Retrying:",Q),h.close(),!Q)return Promise.reject(k)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function bi(a){const t=a.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class Oa{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return gn(this.B.delete())}}class Hs extends St{constructor(t,r){super(ft.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function di(a){return"IndexedDbTransactionError"===a.name}class gs{constructor(t){this.store=t}put(t,r){let s;return void 0!==r?(xt("SimpleDb","PUT",this.store.name,t,r),s=this.store.put(r,t)):(xt("SimpleDb","PUT",this.store.name,"<auto-key>",t),s=this.store.put(t)),gn(s)}add(t){return xt("SimpleDb","ADD",this.store.name,t,t),gn(this.store.add(t))}get(t){return gn(this.store.get(t)).next(r=>(void 0===r&&(r=null),xt("SimpleDb","GET",this.store.name,t,r),r))}delete(t){return xt("SimpleDb","DELETE",this.store.name,t),gn(this.store.delete(t))}count(){return xt("SimpleDb","COUNT",this.store.name),gn(this.store.count())}U(t,r){const s=this.options(t,r),c=s.index?this.store.index(s.index):this.store;if("function"==typeof c.getAll){const h=c.getAll(s.range);return new ze((y,I)=>{h.onerror=b=>{I(b.target.error)},h.onsuccess=b=>{y(b.target.result)}})}{const h=this.cursor(s),y=[];return this.W(h,(I,b)=>{y.push(b)}).next(()=>y)}}G(t,r){const s=this.store.getAll(t,null===r?void 0:r);return new ze((c,h)=>{s.onerror=y=>{h(y.target.error)},s.onsuccess=y=>{c(y.target.result)}})}j(t,r){xt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(t,r);s.H=!1;const c=this.cursor(s);return this.W(c,(h,y,I)=>I.delete())}J(t,r){let s;r?s=t:(s={},r=t);const c=this.cursor(s);return this.W(c,r)}Y(t){const r=this.cursor({});return new ze((s,c)=>{r.onerror=h=>{const y=ni(h.target.error);c(y)},r.onsuccess=h=>{const y=h.target.result;y?t(y.primaryKey,y.value).next(I=>{I?y.continue():s()}):s()}})}W(t,r){const s=[];return new ze((c,h)=>{t.onerror=y=>{h(y.target.error)},t.onsuccess=y=>{const I=y.target.result;if(!I)return void c();const b=new Oa(I),k=r(I.primaryKey,I.value,b);if(k instanceof ze){const Q=k.catch(ue=>(b.done(),ze.reject(ue)));s.push(Q)}b.isDone?c():null===b.K?I.continue():I.continue(b.K)}}).next(()=>ze.waitFor(s))}options(t,r){let s;return void 0!==t&&("string"==typeof t?s=t:r=t),{index:s,range:r}}cursor(t){let r="next";if(t.reverse&&(r="prev"),t.index){const s=this.store.index(t.index);return t.H?s.openKeyCursor(t.range,r):s.openCursor(t.range,r)}return this.store.openCursor(t.range,r)}}function gn(a){return new ze((t,r)=>{a.onsuccess=s=>{t(s.target.result)},a.onerror=s=>{const c=ni(s.target.error);r(c)}})}let sa=!1;function ni(a){const t=zi.S((0,ot.ZQ)());if(t>=12.2&&t<13){const r="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(r)>=0){const s=new St("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sa||(sa=!0,setTimeout(()=>{throw s},0)),s}}return a}class xa{constructor(t,r){this.asyncQueue=t,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var r=this;xt("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,K.A)(function*(){r.task=null;try{xt("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){di(s)?xt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield Nr(s)}yield r.X(6e4)}))}}class nu{constructor(t,r){this.localStore=t,this.persistence=r}ee(t=50){var r=this;return(0,K.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,t))})()}te(t,r){const s=new Set;let c=r,h=!0;return ze.doWhile(()=>!0===h&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(y=>{if(null!==y&&!s.has(y))return xt("IndexBackfiller",`Processing collection: ${y}`),this.ne(t,y,c).next(I=>{c-=I,s.add(y)});h=!1})).next(()=>r-c)}ne(t,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,r).next(c=>this.localStore.localDocuments.getNextDocuments(t,r,c,s).next(h=>{const y=h.changes;return this.localStore.indexManager.updateIndexEntries(t,y).next(()=>this.re(c,h)).next(I=>(xt("IndexBackfiller",`Updating offset: ${I}`),this.localStore.indexManager.updateCollectionGroup(t,r,I))).next(()=>y.size)}))}re(t,r){let s=t;return r.changes.forEach((c,h)=>{const y=eo(h);Yo(y,s)>0&&(s=y)}),new Zr(s.readTime,s.documentKey,Math.max(r.batchId,t.largestBatchId))}}let po=(()=>{class a{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=c=>this.ie(c),this.se=c=>s.writeSequenceNumber(c))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function Si(a){return null==a}function Jo(a){return 0===a&&1/a==-1/0}function hr(a){return"number"==typeof a&&Number.isInteger(a)&&!Jo(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}function Oi(a){let t="";for(let r=0;r<a.length;r++)t.length>0&&(t=Ku(t)),t=Ac(a.get(r),t);return Ku(t)}function Ac(a,t){let r=t;const s=a.length;for(let c=0;c<s;c++){const h=a.charAt(c);switch(h){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=h}}return r}function Ku(a){return a+"\x01\x01"}function Zo(a){const t=a.length;if(on(t>=2),2===t)return on("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),On.emptyPath();const r=t-2,s=[];let c="";for(let h=0;h<t;){const y=a.indexOf("\x01",h);switch((y<0||y>r)&&en(),a.charAt(y+1)){case"\x01":const I=a.substring(h,y);let b;0===c.length?b=I:(c+=I,b=c,c=""),s.push(b);break;case"\x10":c+=a.substring(h,y),c+="\0";break;case"\x11":c+=a.substring(h,y+1);break;default:en()}h=y+2}return new On(s)}const Tu=["userId","batchId"];function aa(a,t){return[a,Oi(t)]}function L(a,t,r){return[a,Oi(t),r]}const x={},S=["prefixPath","collectionGroup","readTime","documentId"],X=["prefixPath","collectionGroup","documentId"],Ie=["collectionGroup","readTime","prefixPath","documentId"],Zt=["canonicalId","targetId"],Nn=["targetId","path"],kn=["path","targetId"],ms=["collectionId","parent"],Ki=["indexId","uid"],Bo=["uid","sequenceNumber"],La=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Gs=["indexId","uid","orderedDocumentKey"],ru=["userId","collectionPath","documentId"],ua=["userId","collectionPath","largestBatchId"],Ws=["userId","collectionGroup","largestBatchId"],zs=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],iu=[...zs,"documentOverlays"],qu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Dn=qu,ou=[...Dn,"indexConfiguration","indexState","indexEntries"],Ks=ou,qs=[...ou,"globals"];class ca extends tu{constructor(t,r){super(),this._e=t,this.currentSequenceNumber=r}}function Bi(a,t){const r=Ht(a);return zi.F(r._e,t)}function ka(a){let t=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t++;return t}function Fa(a,t){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t(r,a[r])}function hd(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class ri{constructor(t,r){this.comparator=t,this.root=r||Ei.EMPTY}insert(t,r){return new ri(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Ei.BLACK,null,null))}remove(t){return new ri(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ei.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(t){let r=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(t,s.key);if(0===c)return r+s.left.size;c<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,s)=>(t(r,s),!1))}toString(){const t=[];return this.inorderTraversal((r,s)=>(t.push(`${r}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ys(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ys(this.root,t,this.comparator,!1)}getReverseIterator(){return new ys(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ys(this.root,t,this.comparator,!0)}}class ys{constructor(t,r,s,c){this.isReverse=c,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=r?s(t.key,r):1,r&&c&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(0===h){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ei{constructor(t,r,s,c,h){this.key=t,this.value=r,this.color=s??Ei.RED,this.left=c??Ei.EMPTY,this.right=h??Ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,s,c,h){return new Ei(t??this.key,r??this.value,s??this.color,c??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,s){let c=this;const h=s(t,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(t,r,s),null):0===h?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(t,r,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Ei.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let s,c=this;if(r(t,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(t,r),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===r(t,c.key)){if(c.right.isEmpty())return Ei.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(t,r))}return c.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw en();const t=this.left.check();if(t!==this.right.check())throw en();return t+(this.isRed()?0:1)}}Ei.EMPTY=null,Ei.RED=!0,Ei.BLACK=!1,Ei.EMPTY=new class{constructor(){this.size=0}get key(){throw en()}get value(){throw en()}get color(){throw en()}get left(){throw en()}get right(){throw en()}copy(t,r,s,c,h){return this}insert(t,r,s){return new Ei(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class br{constructor(t){this.comparator=t,this.data=new ri(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,s)=>(t(r),!1))}forEachInRange(t,r){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,t[1])>=0)return;r(c.key)}}forEachWhile(t,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new Va(this.data.getIterator())}getIteratorFrom(t){return new Va(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(s=>{r=r.add(s)}),r}isEqual(t){if(!(t instanceof br)||this.size!==t.size)return!1;const r=this.data.getIterator(),s=t.data.getIterator();for(;r.hasNext();){const c=r.getNext().key,h=s.getNext().key;if(0!==this.comparator(c,h))return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new br(this.comparator);return r.data=t,r}}class Va{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ua(a){return a.hasNext()?a.getNext():void 0}class ii{constructor(t){this.fields=t,t.sort(Ot.comparator)}static empty(){return new ii([])}unionWith(t){let r=new br(Ot.comparator);for(const s of this.fields)r=r.add(s);for(const s of t)r=r.add(s);return new ii(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Vo(this.fields,t.fields,(r,s)=>r.isEqual(s))}}class su extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(c){try{return atob(c)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new su("Invalid base64 string: "+h):h}}(t);return new rn(r)}static fromUint8Array(t){const r=function(c){let h="";for(let y=0;y<c.length;++y)h+=String.fromCharCode(c[y]);return h}(t);return new rn(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let c=0;c<r.length;c++)s[c]=r.charCodeAt(c);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return cn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const Er=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(a){if(on(!!a),"string"==typeof a){let t=0;const r=Er.exec(a);if(on(!!r),r[1]){let c=r[1];c=(c+"000000000").substr(0,9),t=Number(c)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Kr(a.seconds),nanos:Kr(a.nanos)}}function Kr(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function Xs(a){return"string"==typeof a?rn.fromBase64String(a):rn.fromUint8Array(a)}function Au(a){var t,r;return"server_timestamp"===(null===(r=((null===(t=a?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Cu(a){const t=a.mapValue.fields.__previous_value__;return Au(t)?Cu(t):t}function Ys(a){const t=Qs(a.mapValue.fields.__local_write_time__.timestampValue);return new Mr(t.seconds,t.nanos)}class er{constructor(t,r,s,c,h,y,I,b,k){this.databaseId=t,this.appId=r,this.persistenceKey=s,this.host=c,this.ssl=h,this.forceLongPolling=y,this.autoDetectLongPolling=I,this.longPollingOptions=b,this.useFetchStreams=k}}class Ds{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new Ds("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Ds&&t.projectId===this.projectId&&t.database===this.database}}const es={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},xi={nullValue:"NULL_VALUE"};function ts(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Au(a)?4:ei(a)?9007199254740991:Ir(a)?10:11:en()}function qi(a,t){if(a===t)return!0;const r=ts(a);if(r!==ts(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Ys(a).isEqual(Ys(t));case 3:return function(c,h){if("string"==typeof c.timestampValue&&"string"==typeof h.timestampValue&&c.timestampValue.length===h.timestampValue.length)return c.timestampValue===h.timestampValue;const y=Qs(c.timestampValue),I=Qs(h.timestampValue);return y.seconds===I.seconds&&y.nanos===I.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return h=t,Xs(a.bytesValue).isEqual(Xs(h.bytesValue));case 7:return a.referenceValue===t.referenceValue;case 8:return function(c,h){return Kr(c.geoPointValue.latitude)===Kr(h.geoPointValue.latitude)&&Kr(c.geoPointValue.longitude)===Kr(h.geoPointValue.longitude)}(a,t);case 2:return function(c,h){if("integerValue"in c&&"integerValue"in h)return Kr(c.integerValue)===Kr(h.integerValue);if("doubleValue"in c&&"doubleValue"in h){const y=Kr(c.doubleValue),I=Kr(h.doubleValue);return y===I?Jo(y)===Jo(I):isNaN(y)&&isNaN(I)}return!1}(a,t);case 9:return Vo(a.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return function(c,h){const y=c.mapValue.fields||{},I=h.mapValue.fields||{};if(ka(y)!==ka(I))return!1;for(const b in y)if(y.hasOwnProperty(b)&&(void 0===I[b]||!qi(y[b],I[b])))return!1;return!0}(a,t);default:return en()}var h}function bs(a,t){return void 0!==(a.values||[]).find(r=>qi(r,t))}function wo(a,t){if(a===t)return 0;const r=ts(a),s=ts(t);if(r!==s)return cn(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return cn(a.booleanValue,t.booleanValue);case 2:return function(h,y){const I=Kr(h.integerValue||h.doubleValue),b=Kr(y.integerValue||y.doubleValue);return I<b?-1:I>b?1:I===b?0:isNaN(I)?isNaN(b)?0:-1:1}(a,t);case 3:return Ba(a.timestampValue,t.timestampValue);case 4:return Ba(Ys(a),Ys(t));case 5:return cn(a.stringValue,t.stringValue);case 6:return function(h,y){const I=Xs(h),b=Xs(y);return I.compareTo(b)}(a.bytesValue,t.bytesValue);case 7:return function(h,y){const I=h.split("/"),b=y.split("/");for(let k=0;k<I.length&&k<b.length;k++){const Q=cn(I[k],b[k]);if(0!==Q)return Q}return cn(I.length,b.length)}(a.referenceValue,t.referenceValue);case 8:return function(h,y){const I=cn(Kr(h.latitude),Kr(y.latitude));return 0!==I?I:cn(Kr(h.longitude),Kr(y.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return C(a.arrayValue,t.arrayValue);case 10:return function(h,y){var I,b,k,Q;const Je=null===(I=(h.fields||{}).value)||void 0===I?void 0:I.arrayValue,wt=null===(b=(y.fields||{}).value)||void 0===b?void 0:b.arrayValue,Lt=cn((null===(k=Je?.values)||void 0===k?void 0:k.length)||0,(null===(Q=wt?.values)||void 0===Q?void 0:Q.length)||0);return 0!==Lt?Lt:C(Je,wt)}(a.mapValue,t.mapValue);case 11:return function(h,y){if(h===es.mapValue&&y===es.mapValue)return 0;if(h===es.mapValue)return 1;if(y===es.mapValue)return-1;const I=h.fields||{},b=Object.keys(I),k=y.fields||{},Q=Object.keys(k);b.sort(),Q.sort();for(let ue=0;ue<b.length&&ue<Q.length;++ue){const Ce=cn(b[ue],Q[ue]);if(0!==Ce)return Ce;const Je=wo(I[b[ue]],k[Q[ue]]);if(0!==Je)return Je}return cn(b.length,Q.length)}(a.mapValue,t.mapValue);default:throw en()}}function Ba(a,t){if("string"==typeof a&&"string"==typeof t&&a.length===t.length)return cn(a,t);const r=Qs(a),s=Qs(t),c=cn(r.seconds,s.seconds);return 0!==c?c:cn(r.nanos,s.nanos)}function C(a,t){const r=a.values||[],s=t.values||[];for(let c=0;c<r.length&&c<s.length;++c){const h=wo(r[c],s[c]);if(h)return h}return cn(r.length,s.length)}function W(a){return M(a)}function M(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const s=Qs(r);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?Xs(a.bytesValue).toBase64():"referenceValue"in a?$t.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let s="[",c=!0;for(const h of r.values||[])c?c=!1:s+=",",s+=M(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(r){const s=Object.keys(r.fields||{}).sort();let c="{",h=!0;for(const y of s)h?h=!1:c+=",",c+=`${y}:${M(r.fields[y])}`;return c+"}"}(a.mapValue):en()}function fe(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function ut(a){return!!a&&"integerValue"in a}function bt(a){return!!a&&"arrayValue"in a}function Yt(a){return!!a&&"nullValue"in a}function qr(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Fn(a){return!!a&&"mapValue"in a}function Ir(a){var t,r;return"__vector__"===(null===(r=((null===(t=a?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function kt(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return Fa(a.mapValue.fields,(r,s)=>t.mapValue.fields[r]=kt(s)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=kt(a.arrayValue.values[r]);return t}return Object.assign({},a)}function ei(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}const Sr={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Ii(a){return"nullValue"in a?xi:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?fe(Ds.empty(),$t.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?Ir(a)?Sr:{mapValue:{}}:en()}function vs(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?fe(Ds.empty(),$t.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?Sr:"mapValue"in a?Ir(a)?{mapValue:{}}:es:en()}function ji(a,t){const r=wo(a.value,t.value);return 0!==r?r:a.inclusive&&!t.inclusive?-1:!a.inclusive&&t.inclusive?1:0}function Ss(a,t){const r=wo(a.value,t.value);return 0!==r?r:a.inclusive&&!t.inclusive?1:!a.inclusive&&t.inclusive?-1:0}class Or{constructor(t){this.value=t}static empty(){return new Or({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let s=0;s<t.length-1;++s)if(r=(r.mapValue.fields||{})[t.get(s)],!Fn(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=kt(r)}setAll(t){let r=Ot.emptyPath(),s={},c=[];t.forEach((y,I)=>{if(!r.isImmediateParentOf(I)){const b=this.getFieldsMap(r);this.applyChanges(b,s,c),s={},c=[],r=I.popLast()}y?s[I.lastSegment()]=kt(y):c.push(I.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,s,c)}delete(t){const r=this.field(t.popLast());Fn(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<t.length;++s){let c=r.mapValue.fields[t.get(s)];Fn(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},r.mapValue.fields[t.get(s)]=c),r=c}return r.mapValue.fields}applyChanges(t,r,s){Fa(r,(c,h)=>t[c]=h);for(const c of s)delete t[c]}clone(){return new Or(kt(this.value))}}function jo(a){const t=[];return Fa(a.fields,(r,s)=>{const c=new Ot([r]);if(Fn(s)){const h=jo(s.mapValue).fields;if(0===h.length)t.push(c);else for(const y of h)t.push(c.child(y))}else t.push(c)}),new ii(t)}class fr{constructor(t,r,s,c,h,y,I){this.key=t,this.documentType=r,this.version=s,this.readTime=c,this.createTime=h,this.data=y,this.documentState=I}static newInvalidDocument(t){return new fr(t,0,ln.min(),ln.min(),ln.min(),Or.empty(),0)}static newFoundDocument(t,r,s,c){return new fr(t,1,r,ln.min(),s,c,0)}static newNoDocument(t,r){return new fr(t,2,r,ln.min(),ln.min(),Or.empty(),0)}static newUnknownDocument(t,r){return new fr(t,3,r,ln.min(),ln.min(),Or.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(ln.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Or.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ln.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof fr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class go{constructor(t,r){this.position=t,this.inclusive=r}}function Du(a,t,r){let s=0;for(let c=0;c<a.position.length;c++){const h=t[c],y=a.position[c];if(s=h.field.isKeyField()?$t.comparator($t.fromName(y.referenceValue),r.key):wo(y,r.data.field(h.field)),"desc"===h.dir&&(s*=-1),0!==s)break}return s}function mo(a,t){if(null===a)return null===t;if(null===t||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!qi(a.position[r],t.position[r]))return!1;return!0}class au{constructor(t,r="asc"){this.field=t,this.dir=r}}function yo(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class Js{}class Qn extends Js{constructor(t,r,s){super(),this.field=t,this.op=r,this.value=s}static create(t,r,s){return t.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(t,r,s):new ns(t,r,s):"array-contains"===r?new _s(t,s):"in"===r?new Rc(t,s):"not-in"===r?new bu(t,s):"array-contains-any"===r?new Su(t,s):new Qn(t,r,s)}static createKeyFieldInFilter(t,r,s){return"in"===r?new fd(t,s):new Qr(t,s)}matches(t){const r=t.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(wo(r,this.value)):null!==r&&ts(this.value)===ts(r)&&this.matchesComparison(wo(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return en()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends Js{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new Tr(t,r)}matches(t){return la(this)?void 0===this.filters.find(r=>!r.matches(t)):void 0!==this.filters.find(r=>r.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function la(a){return"and"===a.op}function Dc(a){return"or"===a.op}function op(a){return bc(a)&&la(a)}function bc(a){for(const t of a.filters)if(t instanceof Tr)return!1;return!0}function yl(a){if(a instanceof Qn)return a.field.canonicalString()+a.op.toString()+W(a.value);if(op(a))return a.filters.map(t=>yl(t)).join(",");{const t=a.filters.map(r=>yl(r)).join(",");return`${a.op}(${t})`}}function oo(a,t){return a instanceof Qn?(s=a,(c=t)instanceof Qn&&s.op===c.op&&s.field.isEqual(c.field)&&qi(s.value,c.value)):a instanceof Tr?function(s,c){return c instanceof Tr&&s.op===c.op&&s.filters.length===c.filters.length&&s.filters.reduce((h,y,I)=>h&&oo(y,c.filters[I]),!0)}(a,t):void en();var s,c}function Sc(a,t){const r=a.filters.concat(t);return Tr.create(r,a.op)}function ja(a){return a instanceof Qn?`${(r=a).field.canonicalString()} ${r.op} ${W(r.value)}`:a instanceof Tr?function(r){return r.op.toString()+" {"+r.getFilters().map(ja).join(" ,")+"}"}(a):"Filter";var r}class ns extends Qn{constructor(t,r,s){super(t,r,s),this.key=$t.fromName(s.referenceValue)}matches(t){const r=$t.comparator(t.key,this.key);return this.matchesComparison(r)}}class fd extends Qn{constructor(t,r){super(t,"in",r),this.keys=wr(0,r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Qr extends Qn{constructor(t,r){super(t,"not-in",r),this.keys=wr(0,r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function wr(a,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>$t.fromName(s.referenceValue))}class _s extends Qn{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return bt(r)&&bs(r.arrayValue,this.value)}}class Rc extends Qn{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return null!==r&&bs(this.value.arrayValue,r)}}class bu extends Qn{constructor(t,r){super(t,"not-in",r)}matches(t){if(bs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return null!==r&&!bs(this.value.arrayValue,r)}}class Su extends Qn{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!bt(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>bs(this.value.arrayValue,s))}}class Pc{constructor(t,r=null,s=[],c=[],h=null,y=null,I=null){this.path=t,this.collectionGroup=r,this.orderBy=s,this.filters=c,this.limit=h,this.startAt=y,this.endAt=I,this.ue=null}}function Rs(a,t=null,r=[],s=[],c=null,h=null,y=null){return new Pc(a,t,r,s,c,h,y)}function rs(a){const t=Ht(a);if(null===t.ue){let r=t.path.canonicalString();null!==t.collectionGroup&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(s=>yl(s)).join(","),r+="|ob:",r+=t.orderBy.map(s=>{return(h=s).field.canonicalString()+h.dir;var h}).join(","),Si(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>W(s)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>W(s)).join(",")),t.ue=r}return t.ue}function da(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!yo(a.orderBy[r],t.orderBy[r]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!oo(a.filters[r],t.filters[r]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!mo(a.startAt,t.startAt)&&mo(a.endAt,t.endAt)}function Ru(a){return $t.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function ha(a,t){return a.filters.filter(r=>r instanceof Qn&&r.field.isEqual(t))}function Qu(a,t,r){let s=xi,c=!0;for(const h of ha(a,t)){let y=xi,I=!0;switch(h.op){case"<":case"<=":y=Ii(h.value);break;case"==":case"in":case">=":y=h.value;break;case">":y=h.value,I=!1;break;case"!=":case"not-in":y=xi}ji({value:s,inclusive:c},{value:y,inclusive:I})<0&&(s=y,c=I)}if(null!==r)for(let h=0;h<a.orderBy.length;++h)if(a.orderBy[h].field.isEqual(t)){const y=r.position[h];ji({value:s,inclusive:c},{value:y,inclusive:r.inclusive})<0&&(s=y,c=r.inclusive);break}return{value:s,inclusive:c}}function Xu(a,t,r){let s=es,c=!0;for(const h of ha(a,t)){let y=es,I=!0;switch(h.op){case">=":case">":y=vs(h.value),I=!1;break;case"==":case"in":case"<=":y=h.value;break;case"<":y=h.value,I=!1;break;case"!=":case"not-in":y=es}Ss({value:s,inclusive:c},{value:y,inclusive:I})>0&&(s=y,c=I)}if(null!==r)for(let h=0;h<a.orderBy.length;++h)if(a.orderBy[h].field.isEqual(t)){const y=r.position[h];Ss({value:s,inclusive:c},{value:y,inclusive:r.inclusive})>0&&(s=y,c=r.inclusive);break}return{value:s,inclusive:c}}class Ps{constructor(t,r=null,s=[],c=[],h=null,y="F",I=null,b=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=c,this.limit=h,this.limitType=y,this.startAt=I,this.endAt=b,this.ce=null,this.le=null,this.he=null}}function vl(a,t,r,s,c,h,y,I){return new Ps(a,t,r,s,c,h,y,I)}function uu(a){return new Ps(a)}function _l(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function Mc(a){return null!==a.collectionGroup}function Pu(a){const t=Ht(a);if(null===t.ce){t.ce=[];const r=new Set;for(const h of t.explicitOrderBy)t.ce.push(h),r.add(h.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(y){let I=new br(Ot.comparator);return y.filters.forEach(b=>{b.getFlattenedFilters().forEach(k=>{k.isInequality()&&(I=I.add(k.field))})}),I})(t).forEach(h=>{r.has(h.canonicalString())||h.isKeyField()||t.ce.push(new au(h,s))}),r.has(Ot.keyField().canonicalString())||t.ce.push(new au(Ot.keyField(),s))}return t.ce}function hi(a){const t=Ht(a);return t.le||(t.le=function Ah(a,t){if("F"===a.limitType)return Rs(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(c=>new au(c.field,"desc"===c.dir?"asc":"desc"));const r=a.endAt?new go(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new go(a.startAt.position,a.startAt.inclusive):null;return Rs(a.path,a.collectionGroup,t,a.filters,a.limit,r,s)}}(t,Pu(a))),t.le}function El(a,t){const r=a.filters.concat([t]);return new Ps(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function Il(a,t,r){return new Ps(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,r,a.startAt,a.endAt)}function Mu(a,t){return da(hi(a),hi(t))&&a.limitType===t.limitType}function Ch(a){return`${rs(hi(a))}|lt:${a.limitType}`}function Nu(a){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(c=>ja(c)).join(", ")}]`),Si(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(c=>{return`${(y=c).field.canonicalString()} (${y.dir})`;var y}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(c=>W(c)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(c=>W(c)).join(",")),`Target(${s})`}(hi(a))}; limitType=${a.limitType})`}function Nc(a,t){return t.isFoundDocument()&&function(s,c){const h=c.key.path;return null!==s.collectionGroup?c.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):$t.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,t)&&function(s,c){for(const h of Pu(s))if(!h.field.isKeyField()&&null===c.data.field(h.field))return!1;return!0}(a,t)&&function(s,c){for(const h of s.filters)if(!h.matches(c))return!1;return!0}(a,t)&&(c=t,!((s=a).startAt&&!function(y,I,b){const k=Du(y,I,b);return y.inclusive?k<=0:k<0}(s.startAt,Pu(s),c)||s.endAt&&!function(y,I,b){const k=Du(y,I,b);return y.inclusive?k>=0:k>0}(s.endAt,Pu(s),c)));var s,c}function Oc(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Dh(a){return(t,r)=>{let s=!1;for(const c of Pu(a)){const h=bh(c,t,r);if(0!==h)return h;s=s||c.field.isKeyField()}return 0}}function bh(a,t,r){const s=a.field.isKeyField()?$t.comparator(t.key,r.key):function(h,y,I){const b=y.data.field(h),k=I.data.field(h);return null!==b&&null!==k?wo(b,k):en()}(a.field,t,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return en()}}class $a{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),s=this.inner[r];if(void 0!==s)for(const[c,h]of s)if(this.equalsFn(c,t))return h}has(t){return void 0!==this.get(t)}set(t,r){const s=this.mapKeyFn(t),c=this.inner[s];if(void 0===c)return this.inner[s]=[[t,r]],void this.innerSize++;for(let h=0;h<c.length;h++)if(this.equalsFn(c[h][0],t))return void(c[h]=[t,r]);c.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),s=this.inner[r];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],t))return 1===s.length?delete this.inner[r]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(t){Fa(this.inner,(r,s)=>{for(const[c,h]of s)t(c,h)})}isEmpty(){return hd(this.inner)}size(){return this.innerSize}}const E=new ri($t.comparator);function D(){return E}const T=new ri($t.comparator);function R(...a){let t=T;for(const r of a)t=t.insert(r.key,r);return t}function V(a){let t=T;return a.forEach((r,s)=>t=t.insert(r,s.overlayedDocument)),t}function q(){return tt()}function de(){return tt()}function tt(){return new $a(a=>a.toString(),(a,t)=>a.isEqual(t))}const Be=new ri($t.comparator),Ft=new br($t.comparator);function Ut(...a){let t=Ft;for(const r of a)t=t.add(r);return t}const Mn=new br(cn);function xr(){return Mn}function $o(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jo(t)?"-0":t}}function vo(a){return{integerValue:""+a}}function Ao(a,t){return hr(t)?vo(t):$o(a,t)}class to{constructor(){this._=void 0}}function fa(a,t,r){return a instanceof Tl?function(c,h){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return h&&Au(h)&&(h=Cu(h)),h&&(y.fields.__previous_value__=h),{mapValue:y}}(r,t):a instanceof is?gd(a,t):a instanceof cu?Sh(a,t):function(c,h){const y=Zs(c,h),I=Ha(y)+Ha(c.Pe);return ut(y)&&ut(c.Pe)?vo(I):$o(c.serializer,I)}(a,t)}function pd(a,t,r){return a instanceof is?gd(a,t):a instanceof cu?Sh(a,t):r}function Zs(a,t){return a instanceof Yu?ut(s=t)||(h=s)&&"doubleValue"in h?t:{integerValue:0}:null;var s,h}class Tl extends to{}class is extends to{constructor(t){super(),this.elements=t}}function gd(a,t){const r=Rh(t);for(const s of a.elements)r.some(c=>qi(c,s))||r.push(s);return{arrayValue:{values:r}}}class cu extends to{constructor(t){super(),this.elements=t}}function Sh(a,t){let r=Rh(t);for(const s of a.elements)r=r.filter(c=>!qi(c,s));return{arrayValue:{values:r}}}class Yu extends to{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function Ha(a){return Kr(a.integerValue||a.doubleValue)}function Rh(a){return bt(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Ju{constructor(t,r){this.field=t,this.transform=r}}class Ph{constructor(t,r){this.version=t,this.transformResults=r}}class gi{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new gi}static exists(t){return new gi(void 0,t)}static updateTime(t){return new gi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lu(a,t){return void 0!==a.updateTime?t.isFoundDocument()&&t.version.isEqual(a.updateTime):void 0===a.exists||a.exists===t.isFoundDocument()}class os{}function du(a,t){if(!a.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return a.isNoDocument()?new Zu(a.key,gi.none()):new pa(a.key,a.data,gi.none());{const r=a.data,s=Or.empty();let c=new br(Ot.comparator);for(let h of t.fields)if(!c.has(h)){let y=r.field(h);null===y&&h.length>1&&(h=h.popLast(),y=r.field(h)),null===y?s.delete(h):s.set(h,y),c=c.add(h)}return new ga(a.key,s,new ii(c.toArray()),gi.none())}}function wl(a,t,r){a instanceof pa?function(c,h,y){const I=c.value.clone(),b=vd(c.fieldTransforms,h,y.transformResults);I.setAll(b),h.convertToFoundDocument(y.version,I).setHasCommittedMutations()}(a,t,r):a instanceof ga?function(c,h,y){if(!lu(c.precondition,h))return void h.convertToUnknownDocument(y.version);const I=vd(c.fieldTransforms,h,y.transformResults),b=h.data;b.setAll(yd(c)),b.setAll(I),h.convertToFoundDocument(y.version,b).setHasCommittedMutations()}(a,t,r):t.convertToNoDocument(r.version).setHasCommittedMutations()}function Al(a,t,r,s){return a instanceof pa?function(h,y,I,b){if(!lu(h.precondition,y))return I;const k=h.value.clone(),Q=_d(h.fieldTransforms,b,y);return k.setAll(Q),y.convertToFoundDocument(y.version,k).setHasLocalMutations(),null}(a,t,r,s):a instanceof ga?function(h,y,I,b){if(!lu(h.precondition,y))return I;const k=_d(h.fieldTransforms,b,y),Q=y.data;return Q.setAll(yd(h)),Q.setAll(k),y.convertToFoundDocument(y.version,Q).setHasLocalMutations(),null===I?null:I.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(ue=>ue.field))}(a,t,r,s):(I=r,lu(a.precondition,y=t)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):I);var y,I}function Cl(a,t){let r=null;for(const s of a.fieldTransforms){const c=t.data.field(s.field),h=Zs(s.transform,c||null);null!=h&&(null===r&&(r=Or.empty()),r.set(s.field,h))}return r||null}function Mh(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&(c=t.fieldTransforms,!!(void 0===(s=a.fieldTransforms)&&void 0===c||s&&c&&Vo(s,c,(h,y)=>function md(a,t){return a.field.isEqual(t.field)&&(c=t.transform,(s=a.transform)instanceof is&&c instanceof is||s instanceof cu&&c instanceof cu?Vo(s.elements,c.elements,qi):s instanceof Yu&&c instanceof Yu?qi(s.Pe,c.Pe):s instanceof Tl&&c instanceof Tl);var s,c}(h,y))))&&(0===a.type?a.value.isEqual(t.value):1!==a.type||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask));var s,c}class pa extends os{constructor(t,r,s,c=[]){super(),this.key=t,this.value=r,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class ga extends os{constructor(t,r,s,c,h=[]){super(),this.key=t,this.data=r,this.fieldMask=s,this.precondition=c,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function yd(a){const t=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=a.data.field(r);t.set(r,s)}}),t}function vd(a,t,r){const s=new Map;on(a.length===r.length);for(let c=0;c<r.length;c++){const h=a[c],y=h.transform,I=t.data.field(h.field);s.set(h.field,pd(y,I,r[c]))}return s}function _d(a,t,r){const s=new Map;for(const c of a){const h=c.transform,y=r.data.field(c.field);s.set(c.field,fa(h,y,t))}return s}class Zu extends os{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dl extends os{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xc{constructor(t,r,s,c){this.batchId=t,this.localWriteTime=r,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(t,r){const s=r.mutationResults;for(let c=0;c<this.mutations.length;c++){const h=this.mutations[c];h.key.isEqual(t.key)&&wl(h,t,s[c])}}applyToLocalView(t,r){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(r=Al(s,t,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(r=Al(s,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const s=de();return this.mutations.forEach(c=>{const h=t.get(c.key),y=h.overlayedDocument;let I=this.applyToLocalView(y,h.mutatedFields);I=r.has(c.key)?null:I;const b=du(y,I);null!==b&&s.set(c.key,b),y.isValidDocument()||y.convertToNoDocument(ln.min())}),s}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Ut())}isEqual(t){return this.batchId===t.batchId&&Vo(this.mutations,t.mutations,(r,s)=>Mh(r,s))&&Vo(this.baseMutations,t.baseMutations,(r,s)=>Mh(r,s))}}class Ou{constructor(t,r,s,c){this.batch=t,this.commitVersion=r,this.mutationResults=s,this.docVersions=c}static from(t,r,s){on(t.mutations.length===s.length);let c=function(){return Be}();const h=t.mutations;for(let y=0;y<h.length;y++)c=c.insert(h[y].key,s[y].version);return new Ou(t,r,s,c)}}class Nh{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class so{constructor(t,r){this.count=t,this.unchangedNames=r}}var Qi,pr;function Lc(a){switch(a){default:return en();case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0}}function sp(a){if(void 0===a)return zr("GRPC error has no .code"),ft.UNKNOWN;switch(a){case Qi.OK:return ft.OK;case Qi.CANCELLED:return ft.CANCELLED;case Qi.UNKNOWN:return ft.UNKNOWN;case Qi.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case Qi.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case Qi.INTERNAL:return ft.INTERNAL;case Qi.UNAVAILABLE:return ft.UNAVAILABLE;case Qi.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case Qi.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case Qi.NOT_FOUND:return ft.NOT_FOUND;case Qi.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case Qi.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case Qi.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case Qi.ABORTED:return ft.ABORTED;case Qi.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case Qi.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case Qi.DATA_LOSS:return ft.DATA_LOSS;default:return en()}}(pr=Qi||(Qi={}))[pr.OK=0]="OK",pr[pr.CANCELLED=1]="CANCELLED",pr[pr.UNKNOWN=2]="UNKNOWN",pr[pr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pr[pr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pr[pr.NOT_FOUND=5]="NOT_FOUND",pr[pr.ALREADY_EXISTS=6]="ALREADY_EXISTS",pr[pr.PERMISSION_DENIED=7]="PERMISSION_DENIED",pr[pr.UNAUTHENTICATED=16]="UNAUTHENTICATED",pr[pr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pr[pr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pr[pr.ABORTED=10]="ABORTED",pr[pr.OUT_OF_RANGE=11]="OUT_OF_RANGE",pr[pr.UNIMPLEMENTED=12]="UNIMPLEMENTED",pr[pr.INTERNAL=13]="INTERNAL",pr[pr.UNAVAILABLE=14]="UNAVAILABLE",pr[pr.DATA_LOSS=15]="DATA_LOSS";function ap(){return new TextEncoder}const Oh=new tn([4294967295,4294967295],0);function Id(a){const t=ap().encode(a),r=new _r;return r.update(t),new Uint8Array(r.digest())}function Td(a){const t=new DataView(a.buffer),r=t.getUint32(0,!0),s=t.getUint32(4,!0),c=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new tn([r,s],0),new tn([c,h],0)]}class Fc{constructor(t,r,s){if(this.bitmap=t,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Ga(`Invalid padding: ${r}`);if(s<0)throw new Ga(`Invalid hash count: ${s}`);if(t.length>0&&0===this.hashCount)throw new Ga(`Invalid hash count: ${s}`);if(0===t.length&&0!==r)throw new Ga(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*t.length-r,this.Te=tn.fromNumber(this.Ie)}Ee(t,r,s){let c=t.add(r.multiply(tn.fromNumber(s)));return 1===c.compare(Oh)&&(c=new tn([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const r=Id(t),[s,c]=Td(r);for(let h=0;h<this.hashCount;h++){const y=this.Ee(s,c,h);if(!this.de(y))return!1}return!0}static create(t,r,s){const c=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),y=new Fc(h,c,r);return s.forEach(I=>y.insert(I)),y}insert(t){if(0===this.Ie)return;const r=Id(t),[s,c]=Td(r);for(let h=0;h<this.hashCount;h++){const y=this.Ee(s,c,h);this.Ae(y)}}Ae(t){const r=Math.floor(t/8);this.bitmap[r]|=1<<t%8}}class Ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class oi{constructor(t,r,s,c,h){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,r,s){const c=new Map;return c.set(t,Vt.createSynthesizedTargetChangeForCurrentChange(t,r,s)),new oi(ln.min(),c,new ri(cn),D(),Ut())}}class Vt{constructor(t,r,s,c,h){this.resumeToken=t,this.current=r,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,r,s){return new Vt(s,r,Ut(),Ut(),Ut())}}class vn{constructor(t,r,s,c){this.Re=t,this.removedTargetIds=r,this.key=s,this.Ve=c}}class $i{constructor(t,r){this.targetId=t,this.me=r}}class ea{constructor(t,r,s=rn.EMPTY_BYTE_STRING,c=null){this.state=t,this.targetIds=r,this.resumeToken=s,this.cause=c}}class ao{constructor(){this.fe=0,this.ge=fi(),this.pe=rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Ut(),r=Ut(),s=Ut();return this.ge.forEach((c,h)=>{switch(h){case 0:t=t.add(c);break;case 2:r=r.add(c);break;case 1:s=s.add(c);break;default:en()}}),new Vt(this.pe,this.ye,t,r,s)}Ce(){this.we=!1,this.ge=fi()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,on(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Co{constructor(t){this.Le=t,this.Be=new Map,this.ke=D(),this.qe=ec(),this.Qe=new ri(cn)}Ke(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(r,t.Ve):this.Ue(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.Ue(r,t.key,t.Ve)}We(t){this.forEachTarget(t,r=>{const s=this.Ge(r);switch(t.state){case 0:this.ze(r)&&s.De(t.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(t.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(t.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(t.resumeToken));break;default:en()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((s,c)=>{this.ze(c)&&r(c)})}He(t){const r=t.targetId,s=t.me.count,c=this.Je(r);if(c){const h=c.target;if(Ru(h))if(0===s){const y=new $t(h.path);this.Ue(r,y,fr.newNoDocument(y,ln.min()))}else on(1===s);else{const y=this.Ye(r);if(y!==s){const I=this.Ze(t),b=I?this.Xe(I,t,y):1;0!==b&&(this.je(r),this.Qe=this.Qe.insert(r,2===b?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:c=0},hashCount:h=0}=r;let y,I;try{y=Xs(s).toUint8Array()}catch(b){if(b instanceof su)return Vi("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{I=new Fc(y,c,h)}catch(b){return Vi(b instanceof Ga?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return 0===I.Ie?null:I}Xe(t,r,s){return r.me.count===s-this.nt(t,r.targetId)?0:2}nt(t,r){const s=this.Le.getRemoteKeysForTarget(r);let c=0;return s.forEach(h=>{const y=this.Le.tt(),I=`projects/${y.projectId}/databases/${y.database}/documents/${h.path.canonicalString()}`;t.mightContain(I)||(this.Ue(r,h,null),c++)}),c}rt(t){const r=new Map;this.Be.forEach((h,y)=>{const I=this.Je(y);if(I){if(h.current&&Ru(I.target)){const b=new $t(I.target.path);null!==this.ke.get(b)||this.it(y,b)||this.Ue(y,b,fr.newNoDocument(b,t))}h.be&&(r.set(y,h.ve()),h.Ce())}});let s=Ut();this.qe.forEach((h,y)=>{let I=!0;y.forEachWhile(b=>{const k=this.Je(b);return!k||"TargetPurposeLimboResolution"===k.purpose||(I=!1,!1)}),I&&(s=s.add(h))}),this.ke.forEach((h,y)=>y.setReadTime(t));const c=new oi(t,r,this.Qe,this.ke,s);return this.ke=D(),this.qe=ec(),this.Qe=new ri(cn),c}$e(t,r){if(!this.ze(t))return;const s=this.it(t,r.key)?2:0;this.Ge(t).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t))}Ue(t,r,s){if(!this.ze(t))return;const c=this.Ge(t);this.it(t,r)?c.Fe(r,1):c.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(t)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(t){this.Be.delete(t)}Ye(t){const r=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let r=this.Be.get(t);return r||(r=new ao,this.Be.set(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new br(cn),this.qe=this.qe.insert(t,r)),r}ze(t){const r=null!==this.Je(t);return r||xt("WatchChangeAggregator","Detected inactive target",t),r}Je(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new ao),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.Ue(t,r,null)})}it(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function ec(){return new ri($t.comparator)}function fi(){return new ri($t.comparator)}const no={asc:"ASCENDING",desc:"DESCENDING"},ta={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vn={and:"AND",or:"OR"};class bl{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Sl(a,t){return a.useProto3Json||Si(t)?t:{value:t}}function ma(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function si(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function tc(a,t){return ma(a,t.toTimestamp())}function mi(a){return on(!!a),ln.fromTimestamp(function(r){const s=Qs(r);return new Mr(s.seconds,s.nanos)}(a))}function ya(a,t){return xu(a,t).canonicalString()}function xu(a,t){const r=(c=a,new On(["projects",c.projectId,"databases",c.database])).child("documents");var c;return void 0===t?r:r.child(t)}function xh(a){const t=On.fromString(a);return on(cp(t)),t}function na(a,t){return ya(a.databaseId,t.path)}function Ms(a,t){const r=xh(t);if(r.get(1)!==a.databaseId.projectId)throw new St(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new St(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new $t(Vc(r))}function Ns(a,t){return ya(a.databaseId,t)}function fn(a){const t=xh(a);return 4===t.length?On.emptyPath():Vc(t)}function Rl(a){return new On(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Vc(a){return on(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function va(a,t,r){return{name:na(a,t),fields:r.value.mapValue.fields}}function Pl(a,t,r){const s=Ms(a,t.name),c=mi(t.updateTime),h=t.createTime?mi(t.createTime):ln.min(),y=new Or({mapValue:{fields:t.fields}}),I=fr.newFoundDocument(s,c,h,y);return r&&I.setHasCommittedMutations(),r?I.setHasCommittedMutations():I}function Lu(a,t){let r;if(t instanceof pa)r={update:va(a,t.key,t.value)};else if(t instanceof Zu)r={delete:na(a,t.key)};else if(t instanceof ga)r={update:va(a,t.key,t.data),updateMask:up(t.fieldMask)};else{if(!(t instanceof Dl))return en();r={verify:na(a,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(s=>function(h,y){const I=y.transform;if(I instanceof Tl)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(I instanceof is)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:I.elements}};if(I instanceof cu)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:I.elements}};if(I instanceof Yu)return{fieldPath:y.field.canonicalString(),increment:I.Pe};throw en()}(0,s))),t.precondition.isNone||(r.currentDocument=void 0!==(h=t.precondition).updateTime?{updateTime:tc(a,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:en()),r;var h}function Xi(a,t){const r=t.currentDocument?void 0!==(h=t.currentDocument).updateTime?gi.updateTime(mi(h.updateTime)):void 0!==h.exists?gi.exists(h.exists):gi.none():gi.none(),s=t.updateTransforms?t.updateTransforms.map(c=>function(y,I){let b=null;"setToServerValue"in I?(on("REQUEST_TIME"===I.setToServerValue),b=new Tl):"appendMissingElements"in I?b=new is(I.appendMissingElements.values||[]):"removeAllFromArray"in I?b=new cu(I.removeAllFromArray.values||[]):"increment"in I?b=new Yu(y,I.increment):en();const k=Ot.fromServerFormat(I.fieldPath);return new Ju(k,b)}(a,c)):[];var h;if(t.update){const c=Ms(a,t.update.name),h=new Or({mapValue:{fields:t.update.fields}});if(t.updateMask){const y=new ii((t.updateMask.fieldPaths||[]).map(Q=>Ot.fromServerFormat(Q)));return new ga(c,h,y,r,s)}return new pa(c,h,r,s)}if(t.delete){const c=Ms(a,t.delete);return new Zu(c,r)}if(t.verify){const c=Ms(a,t.verify);return new Dl(c,r)}return en()}function wd(a,t){return{documents:[Ns(a,t.path)]}}function Wa(a,t){const r={structuredQuery:{}},s=t.path;let c;null!==t.collectionGroup?(c=s,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(c=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=Ns(a,c);const h=function(k){if(0!==k.length)return h_(Tr.create(k,"and"))}(t.filters);h&&(r.structuredQuery.where=h);const y=function(k){if(0!==k.length)return k.map(Q=>{return{field:za((Ce=Q).field),direction:Om(Ce.dir)};var Ce})}(t.orderBy);y&&(r.structuredQuery.orderBy=y);const I=Sl(a,t.limit);return null!==I&&(r.structuredQuery.limit=I),t.startAt&&(r.structuredQuery.startAt={before:(k=t.startAt).inclusive,values:k.position}),t.endAt&&(r.structuredQuery.endAt=function(k){return{before:!k.inclusive,values:k.position}}(t.endAt)),{_t:r,parent:c};var k}function Es(a){let t=fn(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let c=null;if(s>0){on(1===s);const Q=r.from[0];Q.allDescendants?c=Q.collectionId:t=t.child(Q.collectionId)}let h=[];r.where&&(h=function(ue){const Ce=Nl(ue);return Ce instanceof Tr&&op(Ce)?Ce.getFilters():[Ce]}(r.where));let y=[];r.orderBy&&(y=r.orderBy.map(Ce=>{return new au(ku((wt=Ce).field),function(Rt){switch(Rt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(wt.direction));var wt}));let I=null;r.limit&&(I=function(ue){let Ce;return Ce="object"==typeof ue?ue.value:ue,Si(Ce)?null:Ce}(r.limit));let b=null;var ue;r.startAt&&(b=new go((ue=r.startAt).values||[],!!ue.before));let k=null;return r.endAt&&(k=function(ue){return new go(ue.values||[],!ue.before)}(r.endAt)),vl(t,c,y,h,I,"F",b,k)}function Nl(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=ku(r.unaryFilter.field);return Qn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const c=ku(r.unaryFilter.field);return Qn.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ku(r.unaryFilter.field);return Qn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=ku(r.unaryFilter.field);return Qn.create(y,"!=",{nullValue:"NULL_VALUE"});default:return en()}}(a):void 0!==a.fieldFilter?Qn.create(ku((r=a).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return en()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return Tr.create(r.compositeFilter.filters.map(s=>Nl(s)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return en()}}(r.compositeFilter.op))}(a):en();var r}function Om(a){return no[a]}function Ad(a){return ta[a]}function Lh(a){return Vn[a]}function za(a){return{fieldPath:a.canonicalString()}}function ku(a){return Ot.fromServerFormat(a.fieldPath)}function h_(a){return a instanceof Qn?function(r){if("=="===r.op){if(qr(r.value))return{unaryFilter:{field:za(r.field),op:"IS_NAN"}};if(Yt(r.value))return{unaryFilter:{field:za(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(qr(r.value))return{unaryFilter:{field:za(r.field),op:"IS_NOT_NAN"}};if(Yt(r.value))return{unaryFilter:{field:za(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(r.field),op:Ad(r.op),value:r.value}}}(a):a instanceof Tr?function(r){const s=r.getFilters().map(c=>h_(c));return 1===s.length?s[0]:{compositeFilter:{op:Lh(r.op),filters:s}}}(a):en()}function up(a){const t=[];return a.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function cp(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class _a{constructor(t,r,s,c,h=ln.min(),y=ln.min(),I=rn.EMPTY_BYTE_STRING,b=null){this.target=t,this.targetId=r,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=I,this.expectedCount=b}withSequenceNumber(t){return new _a(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class lp{constructor(t){this.ct=t}}function Lm(a,t){const r=t.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:kh(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())s.document={name:na(h=a.ct,(y=t).key),fields:y.data.value.mapValue.fields,updateTime:ma(h,y.version.toTimestamp()),createTime:ma(h,y.createTime.toTimestamp())};else if(t.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:Bc(t.version)};else{if(!t.isUnknownDocument())return en();s.unknownDocument={path:r.path.toArray(),version:Bc(t.version)}}var h,y;return s}function kh(a){const t=a.toTimestamp();return[t.seconds,t.nanoseconds]}function Bc(a){const t=a.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function jc(a){const t=new Mr(a.seconds,a.nanoseconds);return ln.fromTimestamp(t)}function $c(a,t){const r=(t.baseMutations||[]).map(h=>Xi(a.ct,h));for(let h=0;h<t.mutations.length-1;++h)h+1<t.mutations.length&&void 0!==t.mutations[h+1].transform&&(t.mutations[h].updateTransforms=t.mutations[h+1].transform.fieldTransforms,t.mutations.splice(h+1,1),++h);const s=t.mutations.map(h=>Xi(a.ct,h)),c=Mr.fromMillis(t.localWriteTimeMs);return new xc(t.batchId,c,r,s)}function Ol(a){const t=jc(a.readTime),r=void 0!==a.lastLimboFreeSnapshotVersion?jc(a.lastLimboFreeSnapshotVersion):ln.min();let s;return s=void 0!==a.query.documents?(on(1===(h=a.query).documents.length),hi(uu(fn(h.documents[0])))):function(h){return hi(Es(h))}(a.query),new _a(s,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,t,r,rn.fromBase64String(a.resumeToken));var h}function Fh(a,t){const r=Bc(t.snapshotVersion),s=Bc(t.lastLimboFreeSnapshotVersion);let c;c=Ru(t.target)?wd(a.ct,t.target):Wa(a.ct,t.target)._t;const h=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:rs(t.target),readTime:r,resumeToken:h,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:c}}function Vh(a){const t=Es({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?Il(t,t.limit,"L"):t}function dp(a,t){return new Nh(t.largestBatchId,Xi(a.ct,t.overlayMutation))}function _(a,t){const r=t.path.lastSegment();return[a,Oi(t.path.popLast()),r]}function f(a,t,r,s){return{indexId:a,uid:t,sequenceNumber:r,readTime:Bc(s.readTime),documentKey:Oi(s.documentKey.path),largestBatchId:s.largestBatchId}}class g{getBundleMetadata(t,r){return w(t).get(r).next(s=>{if(s)return{id:(h=s).bundleId,createTime:jc(h.createTime),version:h.version};var h})}saveBundleMetadata(t,r){return w(t).put({bundleId:(c=r).id,createTime:Bc(mi(c.createTime)),version:c.version});var c}getNamedQuery(t,r){return j(t).get(r).next(s=>{if(s)return{name:(h=s).name,query:Vh(h.bundledQuery),readTime:jc(h.readTime)};var h})}saveNamedQuery(t,r){return j(t).put({name:(c=r).name,readTime:Bc(mi(c.readTime)),bundledQuery:c.bundledQuery});var c}}function w(a){return Bi(a,"bundles")}function j(a){return Bi(a,"namedQueries")}class Z{constructor(t,r){this.serializer=t,this.userId=r}static lt(t,r){return new Z(t,r.uid||"")}getOverlay(t,r){return Ne(t).get(_(this.userId,r)).next(s=>s?dp(this.serializer,s):null)}getOverlays(t,r){const s=q();return ze.forEach(r,c=>this.getOverlay(t,c).next(h=>{null!==h&&s.set(c,h)})).next(()=>s)}saveOverlays(t,r,s){const c=[];return s.forEach((h,y)=>{const I=new Nh(r,y);c.push(this.ht(t,I))}),ze.waitFor(c)}removeOverlaysForBatchId(t,r,s){const c=new Set;r.forEach(y=>c.add(Oi(y.getCollectionPath())));const h=[];return c.forEach(y=>{const I=IDBKeyRange.bound([this.userId,y,s],[this.userId,y,s+1],!1,!0);h.push(Ne(t).j("collectionPathOverlayIndex",I))}),ze.waitFor(h)}getOverlaysForCollection(t,r,s){const c=q(),h=Oi(r),y=IDBKeyRange.bound([this.userId,h,s],[this.userId,h,Number.POSITIVE_INFINITY],!0);return Ne(t).U("collectionPathOverlayIndex",y).next(I=>{for(const b of I){const k=dp(this.serializer,b);c.set(k.getKey(),k)}return c})}getOverlaysForCollectionGroup(t,r,s,c){const h=q();let y;const I=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Ne(t).J({index:"collectionGroupOverlayIndex",range:I},(b,k,Q)=>{const ue=dp(this.serializer,k);h.size()<c||ue.largestBatchId===y?(h.set(ue.getKey(),ue),y=ue.largestBatchId):Q.done()}).next(()=>h)}ht(t,r){return Ne(t).put(function(c,h,y){const[I,b,k]=_(h,y.mutation.key);return{userId:h,collectionPath:b,documentId:k,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:Lu(c.ct,y.mutation)}}(this.serializer,this.userId,r))}}function Ne(a){return Bi(a,"documentOverlays")}class pt{Pt(t){return Bi(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(r=>{const s=r?.value;return s?rn.fromUint8Array(s):rn.EMPTY_BYTE_STRING})}setSessionToken(t,r){return this.Pt(t).put({name:"sessionToken",value:r.toUint8Array()})}}class Pt{constructor(){}It(t,r){this.Tt(t,r),r.Et()}Tt(t,r){if("nullValue"in t)this.dt(r,5);else if("booleanValue"in t)this.dt(r,10),r.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(r,15),r.At(Kr(t.integerValue));else if("doubleValue"in t){const s=Kr(t.doubleValue);isNaN(s)?this.dt(r,13):(this.dt(r,15),Jo(s)?r.At(0):r.At(s))}else if("timestampValue"in t){let s=t.timestampValue;this.dt(r,20),"string"==typeof s&&(s=Qs(s)),r.Rt(`${s.seconds||""}`),r.At(s.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,r),this.ft(r);else if("bytesValue"in t)this.dt(r,30),r.gt(Xs(t.bytesValue)),this.ft(r);else if("referenceValue"in t)this.yt(t.referenceValue,r);else if("geoPointValue"in t){const s=t.geoPointValue;this.dt(r,45),r.At(s.latitude||0),r.At(s.longitude||0)}else"mapValue"in t?ei(t)?this.dt(r,Number.MAX_SAFE_INTEGER):Ir(t)?this.wt(t.mapValue,r):(this.St(t.mapValue,r),this.ft(r)):"arrayValue"in t?(this.bt(t.arrayValue,r),this.ft(r)):en()}Vt(t,r){this.dt(r,25),this.Dt(t,r)}Dt(t,r){r.Rt(t)}St(t,r){const s=t.fields||{};this.dt(r,55);for(const c of Object.keys(s))this.Vt(c,r),this.Tt(s[c],r)}wt(t,r){var s,c;const h=t.fields||{};this.dt(r,53);const y="value",I=(null===(c=null===(s=h[y].arrayValue)||void 0===s?void 0:s.values)||void 0===c?void 0:c.length)||0;this.dt(r,15),r.At(Kr(I)),this.Vt(y,r),this.Tt(h[y],r)}bt(t,r){const s=t.values||[];this.dt(r,50);for(const c of s)this.Tt(c,r)}yt(t,r){this.dt(r,37),$t.fromName(t).path.forEach(s=>{this.dt(r,60),this.Dt(s,r)})}dt(t,r){t.At(r)}ft(t){t.At(2)}}function an(a){if(0===a)return 8;let t=0;return!(a>>4)&&(t+=4,a<<=4),!(a>>6)&&(t+=2,a<<=2),!(a>>7)&&(t+=1),t}function _n(a){const t=64-function(s){let c=0;for(let h=0;h<8;++h){const y=an(255&s[h]);if(c+=y,8!==y)break}return c}(a);return Math.ceil(t/8)}Pt.vt=new Pt;class cr{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const r=t[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ft(s.value),s=r.next();this.Mt()}xt(t){const r=t[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ot(s.value),s=r.next();this.Nt()}Lt(t){for(const r of t){const s=r.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const c=r.codePointAt(0);this.Ft(240|c>>>18),this.Ft(128|63&c>>>12),this.Ft(128|63&c>>>6),this.Ft(128|63&c)}}this.Mt()}Bt(t){for(const r of t){const s=r.charCodeAt(0);if(s<128)this.Ot(s);else if(s<2048)this.Ot(960|s>>>6),this.Ot(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s);else{const c=r.codePointAt(0);this.Ot(240|c>>>18),this.Ot(128|63&c>>>12),this.Ot(128|63&c>>>6),this.Ot(128|63&c)}}this.Nt()}kt(t){const r=this.qt(t),s=_n(r);this.Qt(1+s),this.buffer[this.position++]=255&s;for(let c=r.length-s;c<r.length;++c)this.buffer[this.position++]=255&r[c]}Kt(t){const r=this.qt(t),s=_n(r);this.Qt(1+s),this.buffer[this.position++]=~(255&s);for(let c=r.length-s;c<r.length;++c)this.buffer[this.position++]=~(255&r[c])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const r=function(h){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,h,!1),new Uint8Array(y.buffer)}(t),s=!!(128&r[0]);r[0]^=s?255:128;for(let c=1;c<r.length;++c)r[c]^=s?255:0;return r}Ft(t){const r=255&t;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(t){const r=255&t;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const r=t+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const c=new Uint8Array(s);c.set(this.buffer),this.buffer=c}}class Go{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class Fu{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class Do{constructor(){this.jt=new cr,this.Ht=new Go(this.jt),this.Jt=new Fu(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class hu{constructor(t,r,s,c){this.indexId=t,this.documentKey=r,this.arrayValue=s,this.directionalValue=c}Zt(){const t=this.directionalValue.length,r=0===t||255===this.directionalValue[t-1]?t+1:t,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==t?s.set([0],this.directionalValue.length):++s[s.length-1],new hu(this.indexId,this.documentKey,this.arrayValue,s)}}function Ea(a,t){let r=a.indexId-t.indexId;return 0!==r?r:(r=Ar(a.arrayValue,t.arrayValue),0!==r?r:(r=Ar(a.directionalValue,t.directionalValue),0!==r?r:$t.comparator(a.documentKey,t.documentKey)))}function Ar(a,t){for(let r=0;r<a.length&&r<t.length;++r){const s=a[r]-t[r];if(0!==s)return s}return a.length-t.length}class xl{constructor(t){this.Xt=new br((r,s)=>Ot.comparator(r.field,s.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const r of t.filters){const s=r;s.isInequality()?this.Xt=this.Xt.add(s):this.tn.push(s)}}get nn(){return this.Xt.size>1}rn(t){if(on(t.collectionGroup===this.collectionId),this.nn)return!1;const r=fs(t);if(void 0!==r&&!this.sn(r))return!1;const s=io(t);let c=new Set,h=0,y=0;for(;h<s.length&&this.sn(s[h]);++h)c=c.add(s[h].fieldPath.canonicalString());if(h===s.length)return!0;if(this.Xt.size>0){const I=this.Xt.getIterator().getNext();if(!c.has(I.field.canonicalString())){const b=s[h];if(!this.on(I,b)||!this._n(this.en[y++],b))return!1}++h}for(;h<s.length;++h)if(y>=this.en.length||!this._n(this.en[y++],s[h]))return!1;return!0}an(){if(this.nn)return null;let t=new br(Ot.comparator);const r=[];for(const s of this.tn)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new fo(s.field,2));else{if(t.has(s.field))continue;t=t.add(s.field),r.push(new fo(s.field,0))}for(const s of this.en)s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),r.push(new fo(s.field,"asc"===s.dir?0:1)));return new ho(ho.UNKNOWN_ID,this.collectionId,r,Zi.empty())}sn(t){for(const r of this.tn)if(this.on(r,t))return!0;return!1}on(t,r){return!(void 0===t||!t.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,r){return!!t.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===t.dir||1===r.kind&&"desc"===t.dir)}}function Vu(a){var t,r;if(on(a instanceof Qn||a instanceof Tr),a instanceof Qn){if(a instanceof Rc){const c=(null===(r=null===(t=a.value.arrayValue)||void 0===t?void 0:t.values)||void 0===r?void 0:r.map(h=>Qn.create(a.field,"==",h)))||[];return Tr.create(c,"or")}return a}const s=a.filters.map(c=>Vu(c));return Tr.create(s,a.op)}function Wo(a){if(0===a.getFilters().length)return[];const t=ss(Vu(a));return on(pu(t)),Cd(t)||fu(t)?[t]:t.getFilters()}function Cd(a){return a instanceof Qn}function fu(a){return a instanceof Tr&&op(a)}function pu(a){return Cd(a)||fu(a)||function(r){if(r instanceof Tr&&Dc(r)){for(const s of r.getFilters())if(!Cd(s)&&!fu(s))return!1;return!0}return!1}(a)}function ss(a){if(on(a instanceof Qn||a instanceof Tr),a instanceof Qn)return a;if(1===a.filters.length)return ss(a.filters[0]);const t=a.filters.map(s=>ss(s));let r=Tr.create(t,a.op);return r=hp(r),pu(r)?r:(on(r instanceof Tr),on(la(r)),on(r.filters.length>1),r.filters.reduce((s,c)=>Ll(s,c)))}function Ll(a,t){let r;return on(a instanceof Qn||a instanceof Tr),on(t instanceof Qn||t instanceof Tr),r=a instanceof Qn?t instanceof Qn?Tr.create([a,t],"and"):Dd(a,t):t instanceof Qn?Dd(t,a):function(c,h){if(on(c.filters.length>0&&h.filters.length>0),la(c)&&la(h))return Sc(c,h.getFilters());const y=Dc(c)?c:h,I=Dc(c)?h:c,b=y.filters.map(k=>Ll(k,I));return Tr.create(b,"or")}(a,t),hp(r)}function Dd(a,t){if(la(t))return Sc(t,a.getFilters());{const r=t.filters.map(s=>Ll(a,s));return Tr.create(r,"or")}}function hp(a){if(on(a instanceof Qn||a instanceof Tr),a instanceof Qn)return a;const t=a.getFilters();if(1===t.length)return hp(t[0]);if(bc(a))return a;const r=t.map(c=>hp(c)),s=[];return r.forEach(c=>{c instanceof Qn?s.push(c):c instanceof Tr&&(c.op===a.op?s.push(...c.filters):s.push(c))}),1===s.length?s[0]:Tr.create(s,a.op)}class Ka{constructor(){this.un=new fp}addToCollectionParentIndex(t,r){return this.un.add(r),ze.resolve()}getCollectionParents(t,r){return ze.resolve(this.un.getEntries(r))}addFieldIndex(t,r){return ze.resolve()}deleteFieldIndex(t,r){return ze.resolve()}deleteAllFieldIndexes(t){return ze.resolve()}createTargetIndexes(t,r){return ze.resolve()}getDocumentsMatchingTarget(t,r){return ze.resolve(null)}getIndexType(t,r){return ze.resolve(0)}getFieldIndexes(t,r){return ze.resolve([])}getNextCollectionGroupToUpdate(t){return ze.resolve(null)}getMinOffset(t,r){return ze.resolve(Zr.min())}getMinOffsetFromCollectionGroup(t,r){return ze.resolve(Zr.min())}updateCollectionGroup(t,r,s){return ze.resolve()}updateIndexEntries(t,r){return ze.resolve()}}class fp{constructor(){this.index={}}add(t){const r=t.lastSegment(),s=t.popLast(),c=this.index[r]||new br(On.comparator),h=!c.has(s);return this.index[r]=c.add(s),h}has(t){const r=t.lastSegment(),s=t.popLast(),c=this.index[r];return c&&c.has(s)}getEntries(t){return(this.index[t]||new br(On.comparator)).toArray()}}const Uh=new Uint8Array(0);class f_{constructor(t,r){this.databaseId=r,this.cn=new fp,this.ln=new $a(s=>rs(s),(s,c)=>da(s,c)),this.uid=t.uid||""}addToCollectionParentIndex(t,r){if(!this.cn.has(r)){const s=r.lastSegment(),c=r.popLast();t.addOnCommittedListener(()=>{this.cn.add(r)});const h={collectionId:s,parent:Oi(c)};return Bh(t).put(h)}return ze.resolve()}getCollectionParents(t,r){const s=[],c=IDBKeyRange.bound([r,""],[Uo(r),""],!1,!0);return Bh(t).U(c).next(h=>{for(const y of h){if(y.collectionId!==r)break;s.push(Zo(y.parent))}return s})}addFieldIndex(t,r){const s=Gc(t),c={indexId:(I=r).indexId,collectionGroup:I.collectionGroup,fields:I.fields.map(b=>[b.fieldPath.canonicalString(),b.kind])};var I;delete c.indexId;const h=s.add(c);if(r.indexState){const y=rc(t);return h.next(I=>{y.put(f(I,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return h.next()}deleteFieldIndex(t,r){const s=Gc(t),c=rc(t),h=Hc(t);return s.delete(r.indexId).next(()=>c.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>h.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const r=Gc(t),s=Hc(t),c=rc(t);return r.j().next(()=>s.j()).next(()=>c.j())}createTargetIndexes(t,r){return ze.forEach(this.hn(r),s=>this.getIndexType(t,s).next(c=>{if(0===c||1===c){const h=new xl(s).an();if(null!=h)return this.addFieldIndex(t,h)}}))}getDocumentsMatchingTarget(t,r){const s=Hc(t);let c=!0;const h=new Map;return ze.forEach(this.hn(r),y=>this.Pn(t,y).next(I=>{c&&(c=!!I),h.set(y,I)})).next(()=>{if(c){let y=Ut();const I=[];return ze.forEach(h,(b,k)=>{var qt;xt("IndexedDbIndexManager",`Using index ${qt=b,`id=${qt.indexId}|cg=${qt.collectionGroup}|f=${qt.fields.map(yn=>`${yn.fieldPath}:${yn.kind}`).join(",")}`} to execute ${rs(r)}`);const Q=function(qt,yn){const zn=fs(yn);if(void 0===zn)return null;for(const Jn of ha(qt,zn.fieldPath))switch(Jn.op){case"array-contains-any":return Jn.value.arrayValue.values||[];case"array-contains":return[Jn.value]}return null}(k,b),ue=function(qt,yn){const zn=new Map;for(const Jn of io(yn))for(const He of ha(qt,Jn.fieldPath))switch(He.op){case"==":case"in":zn.set(Jn.fieldPath.canonicalString(),He.value);break;case"not-in":case"!=":return zn.set(Jn.fieldPath.canonicalString(),He.value),Array.from(zn.values())}return null}(k,b),Ce=function(qt,yn){const zn=[];let Jn=!0;for(const He of io(yn)){const Ee=0===He.kind?Qu(qt,He.fieldPath,qt.startAt):Xu(qt,He.fieldPath,qt.startAt);zn.push(Ee.value),Jn&&(Jn=Ee.inclusive)}return new go(zn,Jn)}(k,b),Je=function(qt,yn){const zn=[];let Jn=!0;for(const He of io(yn)){const Ee=0===He.kind?Xu(qt,He.fieldPath,qt.endAt):Qu(qt,He.fieldPath,qt.endAt);zn.push(Ee.value),Jn&&(Jn=Ee.inclusive)}return new go(zn,Jn)}(k,b),wt=this.In(b,k,Ce),Lt=this.In(b,k,Je),Rt=this.Tn(b,k,ue),nn=this.En(b.indexId,Q,wt,Ce.inclusive,Lt,Je.inclusive,Rt);return ze.forEach(nn,dn=>s.G(dn,r.limit).next(qt=>{qt.forEach(yn=>{const zn=$t.fromSegments(yn.documentKey);y.has(zn)||(y=y.add(zn),I.push(zn))})}))}).next(()=>I)}return ze.resolve(null)})}hn(t){let r=this.ln.get(t);return r||(r=0===t.filters.length?[t]:Wo(Tr.create(t.filters,"and")).map(s=>Rs(t.path,t.collectionGroup,t.orderBy,s.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,r),r)}En(t,r,s,c,h,y,I){const b=(null!=r?r.length:1)*Math.max(s.length,h.length),k=b/(null!=r?r.length:1),Q=[];for(let ue=0;ue<b;++ue){const Ce=r?this.dn(r[ue/k]):Uh,Je=this.An(t,Ce,s[ue%k],c),wt=this.Rn(t,Ce,h[ue%k],y),Lt=I.map(Rt=>this.An(t,Ce,Rt,!0));Q.push(...this.createRange(Je,wt,Lt))}return Q}An(t,r,s,c){const h=new hu(t,$t.empty(),r,s);return c?h:h.Zt()}Rn(t,r,s,c){const h=new hu(t,$t.empty(),r,s);return c?h.Zt():h}Pn(t,r){const s=new xl(r),c=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(t,c).next(h=>{let y=null;for(const I of h)s.rn(I)&&(!y||I.fields.length>y.fields.length)&&(y=I);return y})}getIndexType(t,r){let s=2;const c=this.hn(r);return ze.forEach(c,h=>this.Pn(t,h).next(y=>{y?0!==s&&y.fields.length<function(b){let k=new br(Ot.comparator),Q=!1;for(const ue of b.filters)for(const Ce of ue.getFlattenedFilters())Ce.field.isKeyField()||("array-contains"===Ce.op||"array-contains-any"===Ce.op?Q=!0:k=k.add(Ce.field));for(const ue of b.orderBy)ue.field.isKeyField()||(k=k.add(ue.field));return k.size+(Q?1:0)}(h)&&(s=1):s=0})).next(()=>null!==r.limit&&c.length>1&&2===s?1:s)}Vn(t,r){const s=new Do;for(const c of io(t)){const h=r.data.field(c.fieldPath);if(null==h)return null;const y=s.Yt(c.kind);Pt.vt.It(h,y)}return s.zt()}dn(t){const r=new Do;return Pt.vt.It(t,r.Yt(0)),r.zt()}mn(t,r){const s=new Do;return Pt.vt.It(fe(this.databaseId,r),s.Yt(function(h){const y=io(h);return 0===y.length?0:y[y.length-1].kind}(t))),s.zt()}Tn(t,r,s){if(null===s)return[];let c=[];c.push(new Do);let h=0;for(const y of io(t)){const I=s[h++];for(const b of c)if(this.fn(r,y.fieldPath)&&bt(I))c=this.gn(c,y,I);else{const k=b.Yt(y.kind);Pt.vt.It(I,k)}}return this.pn(c)}In(t,r,s){return this.Tn(t,r,s.position)}pn(t){const r=[];for(let s=0;s<t.length;++s)r[s]=t[s].zt();return r}gn(t,r,s){const c=[...t],h=[];for(const y of s.arrayValue.values||[])for(const I of c){const b=new Do;b.seed(I.zt()),Pt.vt.It(y,b.Yt(r.kind)),h.push(b)}return h}fn(t,r){return!!t.filters.find(s=>s instanceof Qn&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(t,r){const s=Gc(t),c=rc(t);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(h=>{const y=[];return ze.forEach(h,I=>c.get([I.indexId,this.uid]).next(b=>{y.push(function(Q,ue){const Ce=ue?new Zi(ue.sequenceNumber,new Zr(jc(ue.readTime),new $t(Zo(ue.documentKey)),ue.largestBatchId)):Zi.empty(),Je=Q.fields.map(([wt,Lt])=>new fo(Ot.fromServerFormat(wt),Lt));return new ho(Q.indexId,Q.collectionGroup,Je,Ce)}(I,b))})).next(()=>y)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(r=>0===r.length?null:(r.sort((s,c)=>{const h=s.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==h?h:cn(s.collectionGroup,c.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(t,r,s){const c=Gc(t),h=rc(t);return this.yn(t).next(y=>c.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(I=>ze.forEach(I,b=>h.put(f(b.indexId,this.uid,y,s)))))}updateIndexEntries(t,r){const s=new Map;return ze.forEach(r,(c,h)=>{const y=s.get(c.collectionGroup);return(y?ze.resolve(y):this.getFieldIndexes(t,c.collectionGroup)).next(I=>(s.set(c.collectionGroup,I),ze.forEach(I,b=>this.wn(t,c,b).next(k=>{const Q=this.Sn(h,b);return k.isEqual(Q)?ze.resolve():this.bn(t,h,b,k,Q)}))))})}Dn(t,r,s,c){return Hc(t).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.mn(s,r.key),documentKey:r.key.path.toArray()})}vn(t,r,s,c){return Hc(t).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.mn(s,r.key),r.key.path.toArray()])}wn(t,r,s){const c=Hc(t);let h=new br(Ea);return c.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,r)])},(y,I)=>{h=h.add(new hu(s.indexId,r,I.arrayValue,I.directionalValue))}).next(()=>h)}Sn(t,r){let s=new br(Ea);const c=this.Vn(r,t);if(null==c)return s;const h=fs(r);if(null!=h){const y=t.data.field(h.fieldPath);if(bt(y))for(const I of y.arrayValue.values||[])s=s.add(new hu(r.indexId,t.key,this.dn(I),c))}else s=s.add(new hu(r.indexId,t.key,Uh,c));return s}bn(t,r,s,c,h){xt("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const y=[];return function(b,k,Q,ue,Ce){const Je=b.getIterator(),wt=k.getIterator();let Lt=Ua(Je),Rt=Ua(wt);for(;Lt||Rt;){let nn=!1,dn=!1;if(Lt&&Rt){const qt=Q(Lt,Rt);qt<0?dn=!0:qt>0&&(nn=!0)}else null!=Lt?dn=!0:nn=!0;nn?(ue(Rt),Rt=Ua(wt)):dn?(Ce(Lt),Lt=Ua(Je)):(Lt=Ua(Je),Rt=Ua(wt))}}(c,h,Ea,I=>{y.push(this.Dn(t,r,s,I))},I=>{y.push(this.vn(t,r,s,I))}),ze.waitFor(y)}yn(t){let r=1;return rc(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,c,h)=>{h.done(),r=c.sequenceNumber+1}).next(()=>r)}createRange(t,r,s){s=s.sort((y,I)=>Ea(y,I)).filter((y,I,b)=>!I||0!==Ea(y,b[I-1]));const c=[];c.push(t);for(const y of s){const I=Ea(y,t),b=Ea(y,r);if(0===I)c[0]=t.Zt();else if(I>0&&b<0)c.push(y),c.push(y.Zt());else if(b>0)break}c.push(r);const h=[];for(let y=0;y<c.length;y+=2){if(this.Cn(c[y],c[y+1]))return[];h.push(IDBKeyRange.bound([c[y].indexId,this.uid,c[y].arrayValue,c[y].directionalValue,Uh,[]],[c[y+1].indexId,this.uid,c[y+1].arrayValue,c[y+1].directionalValue,Uh,[]]))}return h}Cn(t,r){return Ea(t,r)>0}getMinOffsetFromCollectionGroup(t,r){return this.getFieldIndexes(t,r).next(pp)}getMinOffset(t,r){return ze.mapArray(this.hn(r),s=>this.Pn(t,s).next(c=>c||en())).next(pp)}}function Bh(a){return Bi(a,"collectionParents")}function Hc(a){return Bi(a,"indexEntries")}function Gc(a){return Bi(a,"indexConfiguration")}function rc(a){return Bi(a,"indexState")}function pp(a){on(0!==a.length);let t=a[0].indexState.offset,r=t.largestBatchId;for(let s=1;s<a.length;s++){const c=a[s].indexState.offset;Yo(c,t)<0&&(t=c),r<c.largestBatchId&&(r=c.largestBatchId)}return new Zr(t.readTime,t.documentKey,r)}const Uu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mn{constructor(t,r,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function jh(a,t,r){const s=a.store("mutations"),c=a.store("documentMutations"),h=[],y=IDBKeyRange.only(r.batchId);let I=0;const b=s.J({range:y},(Q,ue,Ce)=>(I++,Ce.delete()));h.push(b.next(()=>{on(1===I)}));const k=[];for(const Q of r.mutations){const ue=L(t,Q.key.path,r.batchId);h.push(c.delete(ue)),k.push(Q.key)}return ze.waitFor(h).next(()=>k)}function bd(a){if(!a)return 0;let t;if(a.document)t=a.document;else if(a.unknownDocument)t=a.unknownDocument;else{if(!a.noDocument)throw en();t=a.noDocument}return JSON.stringify(t).length}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(41943040,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class $h{constructor(t,r,s,c){this.userId=t,this.serializer=r,this.indexManager=s,this.referenceDelegate=c,this.Fn={}}static lt(t,r,s,c){on(""!==t.uid);const h=t.isAuthenticated()?t.uid:"";return new $h(h,r,s,c)}checkEmpty(t){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wc(t).J({index:"userMutationsIndex",range:s},(c,h,y)=>{r=!1,y.done()}).next(()=>r)}addMutationBatch(t,r,s,c){const h=Sd(t),y=Wc(t);return y.add({}).next(I=>{on("number"==typeof I);const b=new xc(I,r,s,c),k=function(Je,wt,Lt){const Rt=Lt.baseMutations.map(dn=>Lu(Je.ct,dn)),nn=Lt.mutations.map(dn=>Lu(Je.ct,dn));return{userId:wt,batchId:Lt.batchId,localWriteTimeMs:Lt.localWriteTime.toMillis(),baseMutations:Rt,mutations:nn}}(this.serializer,this.userId,b),Q=[];let ue=new br((Ce,Je)=>cn(Ce.canonicalString(),Je.canonicalString()));for(const Ce of c){const Je=L(this.userId,Ce.key.path,I);ue=ue.add(Ce.key.path.popLast()),Q.push(y.put(k)),Q.push(h.put(Je,x))}return ue.forEach(Ce=>{Q.push(this.indexManager.addToCollectionParentIndex(t,Ce))}),t.addOnCommittedListener(()=>{this.Fn[I]=b.keys()}),ze.waitFor(Q).next(()=>b)})}lookupMutationBatch(t,r){return Wc(t).get(r).next(s=>s?(on(s.userId===this.userId),$c(this.serializer,s)):null)}Mn(t,r){return this.Fn[r]?ze.resolve(this.Fn[r]):this.lookupMutationBatch(t,r).next(s=>{if(s){const c=s.keys();return this.Fn[r]=c,c}return null})}getNextMutationBatchAfterBatchId(t,r){const s=r+1,c=IDBKeyRange.lowerBound([this.userId,s]);let h=null;return Wc(t).J({index:"userMutationsIndex",range:c},(y,I,b)=>{I.userId===this.userId&&(on(I.batchId>=s),h=$c(this.serializer,I)),b.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(t){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Wc(t).J({index:"userMutationsIndex",range:r,reverse:!0},(c,h,y)=>{s=h.batchId,y.done()}).next(()=>s)}getAllMutationBatches(t){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wc(t).U("userMutationsIndex",r).next(s=>s.map(c=>$c(this.serializer,c)))}getAllMutationBatchesAffectingDocumentKey(t,r){const s=aa(this.userId,r.path),c=IDBKeyRange.lowerBound(s),h=[];return Sd(t).J({range:c},(y,I,b)=>{const[k,Q,ue]=y,Ce=Zo(Q);if(k===this.userId&&r.path.isEqual(Ce))return Wc(t).get(ue).next(Je=>{if(!Je)throw en();on(Je.userId===this.userId),h.push($c(this.serializer,Je))});b.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(t,r){let s=new br(cn);const c=[];return r.forEach(h=>{const y=aa(this.userId,h.path),I=IDBKeyRange.lowerBound(y),b=Sd(t).J({range:I},(k,Q,ue)=>{const[Ce,Je,wt]=k,Lt=Zo(Je);Ce===this.userId&&h.path.isEqual(Lt)?s=s.add(wt):ue.done()});c.push(b)}),ze.waitFor(c).next(()=>this.xn(t,s))}getAllMutationBatchesAffectingQuery(t,r){const s=r.path,c=s.length+1,h=aa(this.userId,s),y=IDBKeyRange.lowerBound(h);let I=new br(cn);return Sd(t).J({range:y},(b,k,Q)=>{const[ue,Ce,Je]=b,wt=Zo(Ce);ue===this.userId&&s.isPrefixOf(wt)?wt.length===c&&(I=I.add(Je)):Q.done()}).next(()=>this.xn(t,I))}xn(t,r){const s=[],c=[];return r.forEach(h=>{c.push(Wc(t).get(h).next(y=>{if(null===y)throw en();on(y.userId===this.userId),s.push($c(this.serializer,y))}))}),ze.waitFor(c).next(()=>s)}removeMutationBatch(t,r){return jh(t._e,this.userId,r).next(s=>(t.addOnCommittedListener(()=>{this.On(r.batchId)}),ze.forEach(s,c=>this.referenceDelegate.markPotentiallyOrphaned(t,c))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(r=>{if(!r)return ze.resolve();const s=IDBKeyRange.lowerBound(function(y){return[y]}(this.userId)),c=[];return Sd(t).J({range:s},(h,y,I)=>{if(h[0]===this.userId){const b=Zo(h[1]);c.push(b)}else I.done()}).next(()=>{on(0===c.length)})})}containsKey(t,r){return wT(t,this.userId,r)}Nn(t){return p_(t).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function wT(a,t,r){const s=aa(t,r.path),c=s[1],h=IDBKeyRange.lowerBound(s);let y=!1;return Sd(a).J({range:h,H:!0},(I,b,k)=>{const[Q,ue,Ce]=I;Q===t&&ue===c&&(y=!0),k.done()}).next(()=>y)}function Wc(a){return Bi(a,"mutations")}function Sd(a){return Bi(a,"documentMutations")}function p_(a){return Bi(a,"mutationQueues")}class zc{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new zc(0)}static kn(){return new zc(-1)}}class kl{constructor(t,r){this.referenceDelegate=t,this.serializer=r}allocateTargetId(t){return this.qn(t).next(r=>{const s=new zc(r.highestTargetId);return r.highestTargetId=s.next(),this.Qn(t,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(r=>ln.fromTimestamp(new Mr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(t,r,s){return this.qn(t).next(c=>(c.highestListenSequenceNumber=r,s&&(c.lastRemoteSnapshotVersion=s.toTimestamp()),r>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=r),this.Qn(t,c)))}addTargetData(t,r){return this.Kn(t,r).next(()=>this.qn(t).next(s=>(s.targetCount+=1,this.$n(r,s),this.Qn(t,s))))}updateTargetData(t,r){return this.Kn(t,r)}removeTargetData(t,r){return this.removeMatchingKeysForTargetId(t,r.targetId).next(()=>Rd(t).delete(r.targetId)).next(()=>this.qn(t)).next(s=>(on(s.targetCount>0),s.targetCount-=1,this.Qn(t,s)))}removeTargets(t,r,s){let c=0;const h=[];return Rd(t).J((y,I)=>{const b=Ol(I);b.sequenceNumber<=r&&null===s.get(b.targetId)&&(c++,h.push(this.removeTargetData(t,b)))}).next(()=>ze.waitFor(h)).next(()=>c)}forEachTarget(t,r){return Rd(t).J((s,c)=>{const h=Ol(c);r(h)})}qn(t){return g_(t).get("targetGlobalKey").next(r=>(on(null!==r),r))}Qn(t,r){return g_(t).put("targetGlobalKey",r)}Kn(t,r){return Rd(t).put(Fh(this.serializer,r))}$n(t,r){let s=!1;return t.targetId>r.highestTargetId&&(r.highestTargetId=t.targetId,s=!0),t.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t.sequenceNumber,s=!0),s}getTargetCount(t){return this.qn(t).next(r=>r.targetCount)}getTargetData(t,r){const s=rs(r),c=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let h=null;return Rd(t).J({range:c,index:"queryTargetsIndex"},(y,I,b)=>{const k=Ol(I);da(r,k.target)&&(h=k,b.done())}).next(()=>h)}addMatchingKeys(t,r,s){const c=[],h=Kc(t);return r.forEach(y=>{const I=Oi(y.path);c.push(h.put({targetId:s,path:I})),c.push(this.referenceDelegate.addReference(t,s,y))}),ze.waitFor(c)}removeMatchingKeys(t,r,s){const c=Kc(t);return ze.forEach(r,h=>{const y=Oi(h.path);return ze.waitFor([c.delete([s,y]),this.referenceDelegate.removeReference(t,s,h)])})}removeMatchingKeysForTargetId(t,r){const s=Kc(t),c=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(c)}getMatchingKeysForTargetId(t,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),c=Kc(t);let h=Ut();return c.J({range:s,H:!0},(y,I,b)=>{const k=Zo(y[1]),Q=new $t(k);h=h.add(Q)}).next(()=>h)}containsKey(t,r){const s=Oi(r.path),c=IDBKeyRange.bound([s],[Uo(s)],!1,!0);let h=0;return Kc(t).J({index:"documentTargetsIndex",H:!0,range:c},([y,I],b,k)=>{0!==y&&(h++,k.done())}).next(()=>h>0)}ot(t,r){return Rd(t).get(r).next(s=>s?Ol(s):null)}}function Rd(a){return Bi(a,"targets")}function g_(a){return Bi(a,"targetGlobal")}function Kc(a){return Bi(a,"targetDocuments")}function m_([a,t],[r,s]){const c=cn(a,r);return 0===c?cn(t,s):c}class AT{constructor(t){this.Un=t,this.buffer=new br(m_),this.Wn=0}Gn(){return++this.Wn}zn(t){const r=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();m_(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class It{constructor(t,r,s){this.garbageCollector=t,this.asyncQueue=r,this.localStore=s,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var r=this;xt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,K.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){di(s)?xt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Nr(s)}yield r.Hn(3e5)}))}}class ir{constructor(t,r){this.Jn=t,this.params=r}calculateTargetCount(t,r){return this.Jn.Yn(t).next(s=>Math.floor(r/100*s))}nthSequenceNumber(t,r){if(0===r)return ze.resolve(po.oe);const s=new AT(r);return this.Jn.forEachTarget(t,c=>s.zn(c.sequenceNumber)).next(()=>this.Jn.Zn(t,c=>s.zn(c))).next(()=>s.maxValue)}removeTargets(t,r,s){return this.Jn.removeTargets(t,r,s)}removeOrphanedDocuments(t,r){return this.Jn.removeOrphanedDocuments(t,r)}collect(t,r){return-1===this.params.cacheSizeCollectionThreshold?(xt("LruGarbageCollector","Garbage collection skipped; disabled"),ze.resolve(Uu)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uu):this.Xn(t,r))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,r){let s,c,h,y,I,b,k;const Q=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(ue=>(ue>this.params.maximumSequenceNumbersToCollect?(xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ue}`),c=this.params.maximumSequenceNumbersToCollect):c=ue,y=Date.now(),this.nthSequenceNumber(t,c))).next(ue=>(s=ue,I=Date.now(),this.removeTargets(t,s,r))).next(ue=>(h=ue,b=Date.now(),this.removeOrphanedDocuments(t,s))).next(ue=>(k=Date.now(),Pa()<=bn.$b.DEBUG&&xt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-Q}ms\n\tDetermined least recently used ${c} in `+(I-y)+`ms\n\tRemoved ${h} targets in `+(b-I)+`ms\n\tRemoved ${ue} documents in `+(k-b)+`ms\nTotal Duration: ${k-Q}ms`),ze.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:h,documentsRemoved:ue})))}}class y_{constructor(t,r){this.db=t,this.garbageCollector=function km(a,t){return new ir(a,t)}(this,r)}Yn(t){const r=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(s=>r.next(c=>s+c))}er(t){let r=0;return this.Zn(t,s=>{r++}).next(()=>r)}forEachTarget(t,r){return this.db.getTargetCache().forEachTarget(t,r)}Zn(t,r){return this.tr(t,(s,c)=>r(c))}addReference(t,r,s){return Xr(t,s)}removeReference(t,r,s){return Xr(t,s)}removeTargets(t,r,s){return this.db.getTargetCache().removeTargets(t,r,s)}markPotentiallyOrphaned(t,r){return Xr(t,r)}nr(t,r){return function(c,h){let y=!1;return p_(c).Y(I=>wT(c,I,h).next(b=>(b&&(y=!0),ze.resolve(!b)))).next(()=>y)}(t,r)}removeOrphanedDocuments(t,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let h=0;return this.tr(t,(y,I)=>{if(I<=r){const b=this.nr(t,y).next(k=>{if(!k)return h++,s.getEntry(t,y).next(()=>(s.removeEntry(y,ln.min()),Kc(t).delete([0,Oi(y.path)])))});c.push(b)}}).next(()=>ze.waitFor(c)).next(()=>s.apply(t)).next(()=>h)}removeTarget(t,r){const s=r.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,s)}updateLimboDocument(t,r){return Xr(t,r)}tr(t,r){const s=Kc(t);let c,h=po.oe;return s.J({index:"documentTargetsIndex"},([y,I],{path:b,sequenceNumber:k})=>{0===y?(h!==po.oe&&r(new $t(Zo(c)),h),h=k,c=b):h=po.oe}).next(()=>{h!==po.oe&&r(new $t(Zo(c)),h)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Xr(a,t){return Kc(a).put((c=a.currentSequenceNumber,{targetId:0,path:Oi(t.path),sequenceNumber:c}));var c}class Fm{constructor(){this.changes=new $a(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,fr.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?ze.resolve(s):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Hh{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,r,s){return qc(t).put(s)}removeEntry(t,r,s){return qc(t).delete(function(h,y){const I=h.path.toArray();return[I.slice(0,I.length-2),I[I.length-2],kh(y),I[I.length-1]]}(r,s))}updateMetadata(t,r){return this.getMetadata(t).next(s=>(s.byteSize+=r,this.rr(t,s)))}getEntry(t,r){let s=fr.newInvalidDocument(r);return qc(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(mp(r))},(c,h)=>{s=this.ir(r,h)}).next(()=>s)}sr(t,r){let s={size:0,document:fr.newInvalidDocument(r)};return qc(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(mp(r))},(c,h)=>{s={document:this.ir(r,h),size:bd(h)}}).next(()=>s)}getEntries(t,r){let s=D();return this._r(t,r,(c,h)=>{const y=this.ir(c,h);s=s.insert(c,y)}).next(()=>s)}ar(t,r){let s=D(),c=new ri($t.comparator);return this._r(t,r,(h,y)=>{const I=this.ir(h,y);s=s.insert(h,I),c=c.insert(h,bd(y))}).next(()=>({documents:s,ur:c}))}_r(t,r,s){if(r.isEmpty())return ze.resolve();let c=new br(Um);r.forEach(b=>c=c.add(b));const h=IDBKeyRange.bound(mp(c.first()),mp(c.last())),y=c.getIterator();let I=y.getNext();return qc(t).J({index:"documentKeyIndex",range:h},(b,k,Q)=>{const ue=$t.fromSegments([...k.prefixPath,k.collectionGroup,k.documentId]);for(;I&&Um(I,ue)<0;)s(I,null),I=y.getNext();I&&I.isEqual(ue)&&(s(I,k),I=y.hasNext()?y.getNext():null),I?Q.$(mp(I)):Q.done()}).next(()=>{for(;I;)s(I,null),I=y.hasNext()?y.getNext():null})}getDocumentsMatchingQuery(t,r,s,c,h){const y=r.path,I=[y.popLast().toArray(),y.lastSegment(),kh(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],b=[y.popLast().toArray(),y.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qc(t).U(IDBKeyRange.bound(I,b,!0)).next(k=>{h?.incrementDocumentReadCount(k.length);let Q=D();for(const ue of k){const Ce=this.ir($t.fromSegments(ue.prefixPath.concat(ue.collectionGroup,ue.documentId)),ue);Ce.isFoundDocument()&&(Nc(r,Ce)||c.has(Ce.key))&&(Q=Q.insert(Ce.key,Ce))}return Q})}getAllFromCollectionGroup(t,r,s,c){let h=D();const y=CT(r,s),I=CT(r,Zr.max());return qc(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,I,!0)},(b,k,Q)=>{const ue=this.ir($t.fromSegments(k.prefixPath.concat(k.collectionGroup,k.documentId)),k);h=h.insert(ue.key,ue),h.size===c&&Q.done()}).next(()=>h)}newChangeBuffer(t){return new Vm(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(r=>r.byteSize)}getMetadata(t){return gp(t).get("remoteDocumentGlobalKey").next(r=>(on(!!r),r))}rr(t,r){return gp(t).put("remoteDocumentGlobalKey",r)}ir(t,r){if(r){const s=function xm(a,t){let r;if(t.document)r=Pl(a.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const s=$t.fromSegments(t.noDocument.path),c=jc(t.noDocument.readTime);r=fr.newNoDocument(s,c),t.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!t.unknownDocument)return en();{const s=$t.fromSegments(t.unknownDocument.path),c=jc(t.unknownDocument.version);r=fr.newUnknownDocument(s,c)}}return t.readTime&&r.setReadTime(function(c){const h=new Mr(c[0],c[1]);return ln.fromTimestamp(h)}(t.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(ln.min()))return s}return fr.newInvalidDocument(t)}}function qa(a){return new Hh(a)}class Vm extends Fm{constructor(t,r){super(),this.cr=t,this.trackRemovals=r,this.lr=new $a(s=>s.toString(),(s,c)=>s.isEqual(c))}applyChanges(t){const r=[];let s=0,c=new br((h,y)=>cn(h.canonicalString(),y.canonicalString()));return this.changes.forEach((h,y)=>{const I=this.lr.get(h);if(r.push(this.cr.removeEntry(t,h,I.readTime)),y.isValidDocument()){const b=Lm(this.cr.serializer,y);c=c.add(h.path.popLast());const k=bd(b);s+=k-I.size,r.push(this.cr.addEntry(t,h,b))}else if(s-=I.size,this.trackRemovals){const b=Lm(this.cr.serializer,y.convertToNoDocument(ln.min()));r.push(this.cr.addEntry(t,h,b))}}),c.forEach(h=>{r.push(this.cr.indexManager.addToCollectionParentIndex(t,h))}),r.push(this.cr.updateMetadata(t,s)),ze.waitFor(r)}getFromCache(t,r){return this.cr.sr(t,r).next(s=>(this.lr.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(t,r){return this.cr.ar(t,r).next(({documents:s,ur:c})=>(c.forEach((h,y)=>{this.lr.set(h,{size:y,readTime:s.get(h).readTime})}),s))}}function gp(a){return Bi(a,"remoteDocumentGlobal")}function qc(a){return Bi(a,"remoteDocumentsV14")}function mp(a){const t=a.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function CT(a,t){const r=t.documentKey.path.toArray();return[a,kh(t.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Um(a,t){const r=a.path.toArray(),s=t.path.toArray();let c=0;for(let h=0;h<r.length-2&&h<s.length-2;++h)if(c=cn(r[h],s[h]),c)return c;return c=cn(r.length,s.length),c||(c=cn(r[r.length-2],s[s.length-2]),c||cn(r[r.length-1],s[s.length-1]))}class v_{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}class Bm{constructor(t,r,s,c){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=c}getDocument(t,r){let s=null;return this.documentOverlayCache.getOverlay(t,r).next(c=>(s=c,this.remoteDocumentCache.getEntry(t,r))).next(c=>(null!==s&&Al(s.mutation,c,ii.empty(),Mr.now()),c))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.getLocalViewOfDocuments(t,s,Ut()).next(()=>s))}getLocalViewOfDocuments(t,r,s=Ut()){const c=q();return this.populateOverlays(t,c,r).next(()=>this.computeViews(t,r,c,s).next(h=>{let y=R();return h.forEach((I,b)=>{y=y.insert(I,b.overlayedDocument)}),y}))}getOverlayedDocuments(t,r){const s=q();return this.populateOverlays(t,s,r).next(()=>this.computeViews(t,r,s,Ut()))}populateOverlays(t,r,s){const c=[];return s.forEach(h=>{r.has(h)||c.push(h)}),this.documentOverlayCache.getOverlays(t,c).next(h=>{h.forEach((y,I)=>{r.set(y,I)})})}computeViews(t,r,s,c){let h=D();const y=tt(),I=tt();return r.forEach((b,k)=>{const Q=s.get(k.key);c.has(k.key)&&(void 0===Q||Q.mutation instanceof ga)?h=h.insert(k.key,k):void 0!==Q?(y.set(k.key,Q.mutation.getFieldMask()),Al(Q.mutation,k,Q.mutation.getFieldMask(),Mr.now())):y.set(k.key,ii.empty())}),this.recalculateAndSaveOverlays(t,h).next(b=>(b.forEach((k,Q)=>y.set(k,Q)),r.forEach((k,Q)=>{var ue;return I.set(k,new v_(Q,null!==(ue=y.get(k))&&void 0!==ue?ue:null))}),I))}recalculateAndSaveOverlays(t,r){const s=tt();let c=new ri((y,I)=>y-I),h=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(y=>{for(const I of y)I.keys().forEach(b=>{const k=r.get(b);if(null===k)return;let Q=s.get(b)||ii.empty();Q=I.applyToLocalView(k,Q),s.set(b,Q);const ue=(c.get(I.batchId)||Ut()).add(b);c=c.insert(I.batchId,ue)})}).next(()=>{const y=[],I=c.getReverseIterator();for(;I.hasNext();){const b=I.getNext(),k=b.key,Q=b.value,ue=de();Q.forEach(Ce=>{if(!h.has(Ce)){const Je=du(r.get(Ce),s.get(Ce));null!==Je&&ue.set(Ce,Je),h=h.add(Ce)}}),y.push(this.documentOverlayCache.saveOverlays(t,k,ue))}return ze.waitFor(y)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,r,s,c){return $t.isDocumentKey((y=r).path)&&null===y.collectionGroup&&0===y.filters.length?this.getDocumentsMatchingDocumentQuery(t,r.path):Mc(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,s,c):this.getDocumentsMatchingCollectionQuery(t,r,s,c);var y}getNextDocuments(t,r,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,s,c).next(h=>{const y=c-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,s.largestBatchId,c-h.size):ze.resolve(q());let I=-1,b=h;return y.next(k=>ze.forEach(k,(Q,ue)=>(I<ue.largestBatchId&&(I=ue.largestBatchId),h.get(Q)?ze.resolve():this.remoteDocumentCache.getEntry(t,Q).next(Ce=>{b=b.insert(Q,Ce)}))).next(()=>this.populateOverlays(t,k,h)).next(()=>this.computeViews(t,b,k,Ut())).next(Q=>({batchId:I,changes:V(Q)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new $t(r)).next(s=>{let c=R();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(t,r,s,c){const h=r.collectionGroup;let y=R();return this.indexManager.getCollectionParents(t,h).next(I=>ze.forEach(I,b=>{const k=(ue=r,Ce=b.child(h),new Ps(Ce,null,ue.explicitOrderBy.slice(),ue.filters.slice(),ue.limit,ue.limitType,ue.startAt,ue.endAt));var ue,Ce;return this.getDocumentsMatchingCollectionQuery(t,k,s,c).next(Q=>{Q.forEach((ue,Ce)=>{y=y.insert(ue,Ce)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(t,r,s,c){let h;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,s.largestBatchId).next(y=>(h=y,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,s,h,c))).next(y=>{h.forEach((b,k)=>{const Q=k.getKey();null===y.get(Q)&&(y=y.insert(Q,fr.newInvalidDocument(Q)))});let I=R();return y.forEach((b,k)=>{const Q=h.get(b);void 0!==Q&&Al(Q.mutation,k,ii.empty(),Mr.now()),Nc(r,k)&&(I=I.insert(b,k))}),I})}}class Os{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,r){return ze.resolve(this.hr.get(r))}saveBundleMetadata(t,r){return this.hr.set(r.id,{id:(c=r).id,version:c.version,createTime:mi(c.createTime)}),ze.resolve();var c}getNamedQuery(t,r){return ze.resolve(this.Pr.get(r))}saveNamedQuery(t,r){return this.Pr.set(r.name,{name:(c=r).name,query:Vh(c.bundledQuery),readTime:mi(c.readTime)}),ze.resolve();var c}}class ic{constructor(){this.overlays=new ri($t.comparator),this.Ir=new Map}getOverlay(t,r){return ze.resolve(this.overlays.get(r))}getOverlays(t,r){const s=q();return ze.forEach(r,c=>this.getOverlay(t,c).next(h=>{null!==h&&s.set(c,h)})).next(()=>s)}saveOverlays(t,r,s){return s.forEach((c,h)=>{this.ht(t,r,h)}),ze.resolve()}removeOverlaysForBatchId(t,r,s){const c=this.Ir.get(s);return void 0!==c&&(c.forEach(h=>this.overlays=this.overlays.remove(h)),this.Ir.delete(s)),ze.resolve()}getOverlaysForCollection(t,r,s){const c=q(),h=r.length+1,y=new $t(r.child("")),I=this.overlays.getIteratorFrom(y);for(;I.hasNext();){const b=I.getNext().value,k=b.getKey();if(!r.isPrefixOf(k.path))break;k.path.length===h&&b.largestBatchId>s&&c.set(b.getKey(),b)}return ze.resolve(c)}getOverlaysForCollectionGroup(t,r,s,c){let h=new ri((k,Q)=>k-Q);const y=this.overlays.getIterator();for(;y.hasNext();){const k=y.getNext().value;if(k.getKey().getCollectionGroup()===r&&k.largestBatchId>s){let Q=h.get(k.largestBatchId);null===Q&&(Q=q(),h=h.insert(k.largestBatchId,Q)),Q.set(k.getKey(),k)}}const I=q(),b=h.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((k,Q)=>I.set(k,Q)),!(I.size()>=c)););return ze.resolve(I)}ht(t,r,s){const c=this.overlays.get(s.key);if(null!==c){const y=this.Ir.get(c.largestBatchId).delete(s.key);this.Ir.set(c.largestBatchId,y)}this.overlays=this.overlays.insert(s.key,new Nh(r,s));let h=this.Ir.get(r);void 0===h&&(h=Ut(),this.Ir.set(r,h)),this.Ir.set(r,h.add(s.key))}}class __{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(t){return ze.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,ze.resolve()}}class Ia{constructor(){this.Tr=new br(Ri.Er),this.dr=new br(Ri.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,r){const s=new Ri(t,r);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(t,r){t.forEach(s=>this.addReference(s,r))}removeReference(t,r){this.Vr(new Ri(t,r))}mr(t,r){t.forEach(s=>this.removeReference(s,r))}gr(t){const r=new $t(new On([])),s=new Ri(r,t),c=new Ri(r,t+1),h=[];return this.dr.forEachInRange([s,c],y=>{this.Vr(y),h.push(y.key)}),h}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const r=new $t(new On([])),s=new Ri(r,t),c=new Ri(r,t+1);let h=Ut();return this.dr.forEachInRange([s,c],y=>{h=h.add(y.key)}),h}containsKey(t){const r=new Ri(t,0),s=this.Tr.firstAfterOrEqual(r);return null!==s&&t.isEqual(s.key)}}class Ri{constructor(t,r){this.key=t,this.wr=r}static Er(t,r){return $t.comparator(t.key,r.key)||cn(t.wr,r.wr)}static Ar(t,r){return cn(t.wr,r.wr)||$t.comparator(t.key,r.key)}}class DT{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new br(Ri.Er)}checkEmpty(t){return ze.resolve(0===this.mutationQueue.length)}addMutationBatch(t,r,s,c){const h=this.Sr;this.Sr++;const y=new xc(h,r,s,c);this.mutationQueue.push(y);for(const I of c)this.br=this.br.add(new Ri(I.key,h)),this.indexManager.addToCollectionParentIndex(t,I.key.path.popLast());return ze.resolve(y)}lookupMutationBatch(t,r){return ze.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(t,r){const c=this.vr(r+1),h=c<0?0:c;return ze.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const s=new Ri(r,0),c=new Ri(r,Number.POSITIVE_INFINITY),h=[];return this.br.forEachInRange([s,c],y=>{const I=this.Dr(y.wr);h.push(I)}),ze.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,r){let s=new br(cn);return r.forEach(c=>{const h=new Ri(c,0),y=new Ri(c,Number.POSITIVE_INFINITY);this.br.forEachInRange([h,y],I=>{s=s.add(I.wr)})}),ze.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(t,r){const s=r.path,c=s.length+1;let h=s;$t.isDocumentKey(h)||(h=h.child(""));const y=new Ri(new $t(h),0);let I=new br(cn);return this.br.forEachWhile(b=>{const k=b.key.path;return!!s.isPrefixOf(k)&&(k.length===c&&(I=I.add(b.wr)),!0)},y),ze.resolve(this.Cr(I))}Cr(t){const r=[];return t.forEach(s=>{const c=this.Dr(s);null!==c&&r.push(c)}),r}removeMutationBatch(t,r){on(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return ze.forEach(r.mutations,c=>{const h=new Ri(c.key,r.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,c.key)}).next(()=>{this.br=s})}On(t){}containsKey(t,r){const s=new Ri(r,0),c=this.br.firstAfterOrEqual(s);return ze.resolve(r.isEqual(c&&c.key))}performConsistencyCheck(t){return ze.resolve()}Fr(t,r){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const r=this.vr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class E_{constructor(t){this.Mr=t,this.docs=new ri($t.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const s=r.key,c=this.docs.get(s),h=c?c.size:0,y=this.Mr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:y}),this.size+=y-h,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const s=this.docs.get(r);return ze.resolve(s?s.document.mutableCopy():fr.newInvalidDocument(r))}getEntries(t,r){let s=D();return r.forEach(c=>{const h=this.docs.get(c);s=s.insert(c,h?h.document.mutableCopy():fr.newInvalidDocument(c))}),ze.resolve(s)}getDocumentsMatchingQuery(t,r,s,c){let h=D();const y=r.path,I=new $t(y.child("")),b=this.docs.getIteratorFrom(I);for(;b.hasNext();){const{key:k,value:{document:Q}}=b.getNext();if(!y.isPrefixOf(k.path))break;k.path.length>y.length+1||Yo(eo(Q),s)<=0||(c.has(Q.key)||Nc(r,Q))&&(h=h.insert(Q.key,Q.mutableCopy()))}return ze.resolve(h)}getAllFromCollectionGroup(t,r,s,c){en()}Or(t,r){return ze.forEach(this.docs,s=>r(s))}newChangeBuffer(t){return new bT(this)}getSize(t){return ze.resolve(this.size)}}class bT extends Fm{constructor(t){super(),this.cr=t}applyChanges(t){const r=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?r.push(this.cr.addEntry(t,c)):this.cr.removeEntry(s)}),ze.waitFor(r)}getFromCache(t,r){return this.cr.getEntry(t,r)}getAllFromCache(t,r){return this.cr.getEntries(t,r)}}class ST{constructor(t){this.persistence=t,this.Nr=new $a(r=>rs(r),da),this.lastRemoteSnapshotVersion=ln.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ia,this.targetCount=0,this.kr=zc.Bn()}forEachTarget(t,r){return this.Nr.forEach((s,c)=>r(c)),ze.resolve()}getLastRemoteSnapshotVersion(t){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ze.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(t,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Lr&&(this.Lr=r),ze.resolve()}Kn(t){this.Nr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.kr=new zc(r),this.highestTargetId=r),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,r){return this.Kn(r),this.targetCount+=1,ze.resolve()}updateTargetData(t,r){return this.Kn(r),ze.resolve()}removeTargetData(t,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ze.resolve()}removeTargets(t,r,s){let c=0;const h=[];return this.Nr.forEach((y,I)=>{I.sequenceNumber<=r&&null===s.get(I.targetId)&&(this.Nr.delete(y),h.push(this.removeMatchingKeysForTargetId(t,I.targetId)),c++)}),ze.waitFor(h).next(()=>c)}getTargetCount(t){return ze.resolve(this.targetCount)}getTargetData(t,r){const s=this.Nr.get(r)||null;return ze.resolve(s)}addMatchingKeys(t,r,s){return this.Br.Rr(r,s),ze.resolve()}removeMatchingKeys(t,r,s){this.Br.mr(r,s);const c=this.persistence.referenceDelegate,h=[];return c&&r.forEach(y=>{h.push(c.markPotentiallyOrphaned(t,y))}),ze.waitFor(h)}removeMatchingKeysForTargetId(t,r){return this.Br.gr(r),ze.resolve()}getMatchingKeysForTargetId(t,r){const s=this.Br.yr(r);return ze.resolve(s)}containsKey(t,r){return ze.resolve(this.Br.containsKey(r))}}class Gh{constructor(t,r){this.qr={},this.overlays={},this.Qr=new po(0),this.Kr=!1,this.Kr=!0,this.$r=new __,this.referenceDelegate=t(this),this.Ur=new ST(this),this.indexManager=new Ka,this.remoteDocumentCache=new E_(s=>this.referenceDelegate.Wr(s)),this.serializer=new lp(r),this.Gr=new Os(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new ic,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let s=this.qr[t.toKey()];return s||(s=new DT(r,this.referenceDelegate),this.qr[t.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,r,s){xt("MemoryPersistence","Starting transaction:",t);const c=new jm(this.Qr.next());return this.referenceDelegate.zr(),s(c).next(h=>this.referenceDelegate.jr(c).next(()=>h)).toPromise().then(h=>(c.raiseOnCommittedEvent(),h))}Hr(t,r){return ze.or(Object.values(this.qr).map(s=>()=>s.containsKey(t,r)))}}class jm extends tu{constructor(t){super(),this.currentSequenceNumber=t}}class Pd{constructor(t){this.persistence=t,this.Jr=new Ia,this.Yr=null}static Zr(t){return new Pd(t)}get Xr(){if(this.Yr)return this.Yr;throw en()}addReference(t,r,s){return this.Jr.addReference(s,r),this.Xr.delete(s.toString()),ze.resolve()}removeReference(t,r,s){return this.Jr.removeReference(s,r),this.Xr.add(s.toString()),ze.resolve()}markPotentiallyOrphaned(t,r){return this.Xr.add(r.toString()),ze.resolve()}removeTarget(t,r){this.Jr.gr(r.targetId).forEach(c=>this.Xr.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,r.targetId).next(c=>{c.forEach(h=>this.Xr.add(h.toString()))}).next(()=>s.removeTargetData(t,r))}zr(){this.Yr=new Set}jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.Xr,s=>{const c=$t.fromPath(s);return this.ei(t,c).next(h=>{h||r.removeEntry(c,ln.min())})}).next(()=>(this.Yr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ei(t,r).next(s=>{s?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(t){return 0}ei(t,r){return ze.or([()=>ze.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Hr(t,r)])}}class RT{constructor(t){this.serializer=t}O(t,r,s,c){const h=new rr("createOrUpgrade",r);var b;s<1&&c>=1&&(t.createObjectStore("owner"),(b=t).createObjectStore("mutationQueues",{keyPath:"userId"}),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Tu,{unique:!0}),b.createObjectStore("documentMutations"),$m(t),function(b){b.createObjectStore("remoteDocuments")}(t));let y=ze.resolve();return s<3&&c>=3&&(0!==s&&(function(b){b.deleteObjectStore("targetDocuments"),b.deleteObjectStore("targets"),b.deleteObjectStore("targetGlobal")}(t),$m(t)),y=y.next(()=>function(b){const k=b.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ln.min().toTimestamp(),targetCount:0};return k.put("targetGlobalKey",Q)}(h))),s<4&&c>=4&&(0!==s&&(y=y.next(()=>function(b,k){return k.store("mutations").U().next(Q=>{b.deleteObjectStore("mutations"),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Tu,{unique:!0});const ue=k.store("mutations"),Ce=Q.map(Je=>ue.put(Je));return ze.waitFor(Ce)})}(t,h))),y=y.next(()=>{!function(b){b.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),s<5&&c>=5&&(y=y.next(()=>this.ni(h))),s<6&&c>=6&&(y=y.next(()=>(function(b){b.createObjectStore("remoteDocumentGlobal")}(t),this.ri(h)))),s<7&&c>=7&&(y=y.next(()=>this.ii(h))),s<8&&c>=8&&(y=y.next(()=>this.si(t,h))),s<9&&c>=9&&(y=y.next(()=>{!function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")}(t)})),s<10&&c>=10&&(y=y.next(()=>this.oi(h))),s<11&&c>=11&&(y=y.next(()=>{(function(b){b.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(b){b.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),s<12&&c>=12&&(y=y.next(()=>{!function(b){const k=b.createObjectStore("documentOverlays",{keyPath:ru});k.createIndex("collectionPathOverlayIndex",ua,{unique:!1}),k.createIndex("collectionGroupOverlayIndex",Ws,{unique:!1})}(t)})),s<13&&c>=13&&(y=y.next(()=>function(b){const k=b.createObjectStore("remoteDocumentsV14",{keyPath:S});k.createIndex("documentKeyIndex",X),k.createIndex("collectionGroupIndex",Ie)}(t)).next(()=>this._i(t,h)).next(()=>t.deleteObjectStore("remoteDocuments"))),s<14&&c>=14&&(y=y.next(()=>this.ai(t,h))),s<15&&c>=15&&(y=y.next(()=>function(b){b.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),b.createObjectStore("indexState",{keyPath:Ki}).createIndex("sequenceNumberIndex",Bo,{unique:!1}),b.createObjectStore("indexEntries",{keyPath:La}).createIndex("documentKeyIndex",Gs,{unique:!1})}(t))),s<16&&c>=16&&(y=y.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),s<17&&c>=17&&(y=y.next(()=>{!function(b){b.createObjectStore("globals",{keyPath:"name"})}(t)})),y}ri(t){let r=0;return t.store("remoteDocuments").J((s,c)=>{r+=bd(c)}).next(()=>{const s={byteSize:r};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}ni(t){const r=t.store("mutationQueues"),s=t.store("mutations");return r.U().next(c=>ze.forEach(c,h=>{const y=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",y).next(I=>ze.forEach(I,b=>{on(b.userId===h.userId);const k=$c(this.serializer,b);return jh(t,h.userId,k).next(()=>{})}))}))}ii(t){const r=t.store("targetDocuments"),s=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(c=>{const h=[];return s.J((y,I)=>{const b=new On(y),k=[0,Oi(b)];h.push(r.get(k).next(Q=>Q?ze.resolve():r.put({targetId:0,path:Oi(b),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>ze.waitFor(h))})}si(t,r){t.createObjectStore("collectionParents",{keyPath:ms});const s=r.store("collectionParents"),c=new fp,h=y=>{if(c.add(y)){const I=y.lastSegment(),b=y.popLast();return s.put({collectionId:I,parent:Oi(b)})}};return r.store("remoteDocuments").J({H:!0},(y,I)=>{const b=new On(y);return h(b.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([y,I,b],k)=>{const Q=Zo(I);return h(Q.popLast())}))}oi(t){const r=t.store("targets");return r.J((s,c)=>{const h=Ol(c),y=Fh(this.serializer,h);return r.put(y)})}_i(t,r){const s=r.store("remoteDocuments"),c=[];return s.J((h,y)=>{const I=r.store("remoteDocumentsV14"),b=(ue=y,ue.document?new $t(On.fromString(ue.document.name).popFirst(5)):ue.noDocument?$t.fromSegments(ue.noDocument.path):ue.unknownDocument?$t.fromSegments(ue.unknownDocument.path):en()).path.toArray(),k={prefixPath:b.slice(0,b.length-2),collectionGroup:b[b.length-2],documentId:b[b.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};var ue;c.push(I.put(k))}).next(()=>ze.waitFor(c))}ai(t,r){const s=r.store("mutations"),c=qa(this.serializer),h=new Gh(Pd.Zr,this.serializer.ct);return s.U().next(y=>{const I=new Map;return y.forEach(b=>{var k;let Q=null!==(k=I.get(b.userId))&&void 0!==k?k:Ut();$c(this.serializer,b).keys().forEach(ue=>Q=Q.add(ue)),I.set(b.userId,Q)}),ze.forEach(I,(b,k)=>{const Q=new Wr(k),ue=Z.lt(this.serializer,Q),Ce=h.getIndexManager(Q),Je=$h.lt(Q,this.serializer,Ce,h.referenceDelegate);return new Bm(c,Je,ue,Ce).recalculateAndSaveOverlaysForDocumentKeys(new ca(r,po.oe),b).next()})})}}function $m(a){a.createObjectStore("targetDocuments",{keyPath:Nn}).createIndex("documentTargetsIndex",kn,{unique:!0}),a.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Zt,{unique:!0}),a.createObjectStore("targetGlobal")}const Wh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yp{constructor(t,r,s,c,h,y,I,b,k,Q,ue=17){if(this.allowTabSynchronization=t,this.persistenceKey=r,this.clientId=s,this.ui=h,this.window=y,this.document=I,this.ci=k,this.li=Q,this.hi=ue,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Ce=>Promise.resolve(),!yp.D())throw new St(ft.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new y_(this,c),this.Ai=r+"main",this.serializer=new lp(b),this.Ri=new zi(this.Ai,this.hi,new RT(this.serializer)),this.$r=new pt,this.Ur=new kl(this.referenceDelegate,this.serializer),this.remoteDocumentCache=qa(this.serializer),this.Gr=new g,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===Q&&zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new St(ft.FAILED_PRECONDITION,Wh);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new po(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var r=this;return this.di=function(){var s=(0,K.A)(function*(c){if(r.started)return t(c)});return function(c){return s.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var r=(0,K.A)(function*(s){null===s.newVersion&&(yield t())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(t){var r=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,K.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>zh(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(r=>this.isPrimary&&!r?this.bi(t).next(()=>!1):!!r&&this.Di(t).next(()=>!0))).catch(t=>{if(di(t))return xt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return xt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return Md(t).get("owner").next(r=>ze.resolve(this.vi(r)))}Ci(t){return zh(t).delete(this.clientId)}Fi(){var t=this;return(0,K.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const r=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const c=Bi(s,"clientMetadata");return c.U().next(h=>{const y=t.xi(h,18e5),I=h.filter(b=>-1===y.indexOf(b));return ze.forEach(I,b=>c.delete(b.clientId)).next(()=>I)})}).catch(()=>[]);if(t.Vi)for(const s of r)t.Vi.removeItem(t.Oi(s.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?ze.resolve(!0):Md(t).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new St(ft.FAILED_PRECONDITION,Wh);return!1}}return!(!this.networkEnabled||!this.inForeground)||zh(t).U().next(s=>void 0===this.xi(s,5e3).find(c=>!(this.clientId===c.clientId||!(!this.networkEnabled&&c.networkEnabled||!this.inForeground&&c.inForeground&&this.networkEnabled===c.networkEnabled))))}).next(r=>(this.isPrimary!==r&&xt("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var t=this;return(0,K.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new ca(r,po.oe);return t.bi(s).next(()=>t.Ci(s))}),t.Ri.close(),t.qi()})()}xi(t,r){return t.filter(s=>this.Mi(s.updateTimeMs,r)&&!this.Ni(s.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>zh(t).U().next(r=>this.xi(r,18e5).map(s=>s.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,r){return $h.lt(t,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new f_(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return Z.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,r,s){xt("IndexedDbPersistence","Starting transaction:",t);const c="readonly"===r?"readonly":"readwrite",h=17===(b=this.hi)?qs:16===b?Ks:15===b?ou:14===b?Dn:13===b?qu:12===b?iu:11===b?zs:void en();var b;let y;return this.Ri.runTransaction(t,c,h,I=>(y=new ca(I,this.Qr?this.Qr.next():po.oe),"readwrite-primary"===r?this.wi(y).next(b=>!!b||this.Si(y)).next(b=>{if(!b)throw zr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new St(ft.FAILED_PRECONDITION,ps);return s(y)}).next(b=>this.Di(y).next(()=>b)):this.Ki(y).next(()=>s(y)))).then(I=>(y.raiseOnCommittedEvent(),I))}Ki(t){return Md(t).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new St(ft.FAILED_PRECONDITION,Wh)})}Di(t){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Md(t).put("owner",r)}static D(){return zi.D()}bi(t){const r=Md(t);return r.get("owner").next(s=>this.vi(s)?(xt("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):ze.resolve())}Mi(t,r){const s=Date.now();return!(t<s-r||t>s&&(zr(`Detected an update time that is in the future: ${t} > ${s}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,ot.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var r;try{const s=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(t)));return xt("IndexedDbPersistence",`Client '${t}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return zr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){zr("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Md(a){return Bi(a,"owner")}function zh(a){return Bi(a,"clientMetadata")}function vp(a,t){let r=a.projectId;return a.isDefaultDatabase||(r+="."+a.database),"firestore/"+t+"/"+r+"/"}class Kh{constructor(t,r,s,c){this.targetId=t,this.fromCache=r,this.$i=s,this.Ui=c}static Wi(t,r){let s=Ut(),c=Ut();for(const h of r.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:c=c.add(h.doc.key)}return new Kh(t,r.fromCache,s,c)}}class PT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class zo{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,ot.nr)()?8:bi((0,ot.ZQ)())>0?6:4}initialize(t,r){this.Ji=t,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(t,r,s,c){const h={result:null};return this.Yi(t,r).next(y=>{h.result=y}).next(()=>{if(!h.result)return this.Zi(t,r,c,s).next(y=>{h.result=y})}).next(()=>{if(h.result)return;const y=new PT;return this.Xi(t,r,y).next(I=>{if(h.result=I,this.zi)return this.es(t,r,y,I.size)})}).next(()=>h.result)}es(t,r,s,c){return s.documentReadCount<this.ji?(Pa()<=bn.$b.DEBUG&&xt("QueryEngine","SDK will not create cache indexes for query:",Nu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ze.resolve()):(Pa()<=bn.$b.DEBUG&&xt("QueryEngine","Query:",Nu(r),"scans",s.documentReadCount,"local documents and returns",c,"documents as results."),s.documentReadCount>this.Hi*c?(Pa()<=bn.$b.DEBUG&&xt("QueryEngine","The SDK decides to create cache indexes for query:",Nu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,hi(r))):ze.resolve())}Yi(t,r){if(_l(r))return ze.resolve(null);let s=hi(r);return this.indexManager.getIndexType(t,s).next(c=>0===c?null:(null!==r.limit&&1===c&&(r=Il(r,null,"F"),s=hi(r)),this.indexManager.getDocumentsMatchingTarget(t,s).next(h=>{const y=Ut(...h);return this.Ji.getDocuments(t,y).next(I=>this.indexManager.getMinOffset(t,s).next(b=>{const k=this.ts(r,I);return this.ns(r,k,y,b.readTime)?this.Yi(t,Il(r,null,"F")):this.rs(t,k,r,b)}))})))}Zi(t,r,s,c){return _l(r)||c.isEqual(ln.min())?ze.resolve(null):this.Ji.getDocuments(t,s).next(h=>{const y=this.ts(r,h);return this.ns(r,y,s,c)?ze.resolve(null):(Pa()<=bn.$b.DEBUG&&xt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Nu(r)),this.rs(t,y,r,Ui(c,-1)).next(I=>I))})}ts(t,r){let s=new br(Dh(t));return r.forEach((c,h)=>{Nc(t,h)&&(s=s.add(h))}),s}ns(t,r,s,c){if(null===t.limit)return!1;if(s.size!==r.size)return!0;const h="F"===t.limitType?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(c)>0)}Xi(t,r,s){return Pa()<=bn.$b.DEBUG&&xt("QueryEngine","Using full collection scan to execute query:",Nu(r)),this.Ji.getDocumentsMatchingQuery(t,r,Zr.min(),s)}rs(t,r,s,c){return this.Ji.getDocumentsMatchingQuery(t,s,c).next(h=>(r.forEach(y=>{h=h.insert(y.key,y)}),h))}}class Vl{constructor(t,r,s,c){this.persistence=t,this.ss=r,this.serializer=c,this.os=new ri(cn),this._s=new $a(h=>rs(h),da),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(s)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Bm(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.os))}}function Ti(a,t,r,s){return new Vl(a,t,r,s)}function I_(a,t){return Hm.apply(this,arguments)}function Hm(){return(Hm=(0,K.A)(function*(a,t){const r=Ht(a);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let c;return r.mutationQueue.getAllMutationBatches(s).next(h=>(c=h,r.ls(t),r.mutationQueue.getAllMutationBatches(s))).next(h=>{const y=[],I=[];let b=Ut();for(const k of c){y.push(k.batchId);for(const Q of k.mutations)b=b.add(Q.key)}for(const k of h){I.push(k.batchId);for(const Q of k.mutations)b=b.add(Q.key)}return r.localDocuments.getDocuments(s,b).next(k=>({hs:k,removedBatchIds:y,addedBatchIds:I}))})})})).apply(this,arguments)}function T_(a){const t=Ht(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Ur.getLastRemoteSnapshotVersion(r))}function Gm(a,t,r){let s=Ut(),c=Ut();return r.forEach(h=>s=s.add(h)),t.getEntries(a,s).next(h=>{let y=D();return r.forEach((I,b)=>{const k=h.get(I);b.isFoundDocument()!==k.isFoundDocument()&&(c=c.add(I)),b.isNoDocument()&&b.version.isEqual(ln.min())?(t.removeEntry(I,b.readTime),y=y.insert(I,b)):!k.isValidDocument()||b.version.compareTo(k.version)>0||0===b.version.compareTo(k.version)&&k.hasPendingWrites?(t.addEntry(b),y=y.insert(I,b)):xt("LocalStore","Ignoring outdated watch update for ",I,". Current version:",k.version," Watch version:",b.version)}),{Ps:y,Is:c}})}function qh(a,t){const r=Ht(a);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===t&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function xs(a,t){const r=Ht(a);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return r.Ur.getTargetData(s,t).next(h=>h?(c=h,ze.resolve(c)):r.Ur.allocateTargetId(s).next(y=>(c=new _a(t,y,"TargetPurposeListen",s.currentSequenceNumber),r.Ur.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=r.os.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(r.os=r.os.insert(s.targetId,s),r._s.set(t,s.targetId)),s})}function Nd(a,t,r){return Od.apply(this,arguments)}function Od(){return(Od=(0,K.A)(function*(a,t,r){const s=Ht(a),c=s.os.get(t),h=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",h,y=>s.persistence.referenceDelegate.removeTarget(y,c)))}catch(y){if(!di(y))throw y;xt("LocalStore",`Failed to update sequence numbers for target ${t}: ${y}`)}s.os=s.os.remove(t),s._s.delete(c.target)})).apply(this,arguments)}function Ul(a,t,r){const s=Ht(a);let c=ln.min(),h=Ut();return s.persistence.runTransaction("Execute query","readwrite",y=>function(b,k,Q){const ue=Ht(b),Ce=ue._s.get(Q);return void 0!==Ce?ze.resolve(ue.os.get(Ce)):ue.Ur.getTargetData(k,Q)}(s,y,hi(t)).next(I=>{if(I)return c=I.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(y,I.targetId).next(b=>{h=b})}).next(()=>s.ss.getDocumentsMatchingQuery(y,t,r?c:ln.min(),r?h:Ut())).next(I=>(Wm(s,Oc(t),I),{documents:I,Ts:h})))}function Qh(a,t){const r=Ht(a),s=Ht(r.Ur),c=r.os.get(t);return c?Promise.resolve(c.target):r.persistence.runTransaction("Get target data","readonly",h=>s.ot(h,t).next(y=>y?y.target:null))}function _p(a,t){const r=Ht(a),s=r.us.get(t)||ln.min();return r.persistence.runTransaction("Get new document changes","readonly",c=>r.cs.getAllFromCollectionGroup(c,t,Ui(s,-1),Number.MAX_SAFE_INTEGER)).then(c=>(Wm(r,t,c),c))}function Wm(a,t,r){let s=a.us.get(t)||ln.min();r.forEach((c,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.us.set(t,s)}function zm(){return(zm=(0,K.A)(function*(a,t,r,s){const c=Ht(a);let h=Ut(),y=D();for(const k of r){const Q=t.Es(k.metadata.name);k.document&&(h=h.add(Q));const ue=t.ds(k);ue.setReadTime(t.As(k.metadata.readTime)),y=y.insert(Q,ue)}const I=c.cs.newChangeBuffer({trackRemovals:!0}),b=yield xs(c,(Q=s,hi(uu(On.fromString(`__bundle__/docs/${Q}`)))));var Q;return c.persistence.runTransaction("Apply bundle documents","readwrite",k=>Gm(k,I,y).next(Q=>(I.apply(k),Q)).next(Q=>c.Ur.removeMatchingKeysForTargetId(k,b.targetId).next(()=>c.Ur.addMatchingKeys(k,h,b.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(k,Q.Ps,Q.Is)).next(()=>Q.Ps)))})).apply(this,arguments)}function xd(a,t){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,K.A)(function*(a,t,r=Ut()){const s=yield xs(a,hi(Vh(t.bundledQuery))),c=Ht(a);return c.persistence.runTransaction("Save named query","readwrite",h=>{const y=mi(t.readTime);if(s.snapshotVersion.compareTo(y)>=0)return c.Gr.saveNamedQuery(h,t);const I=s.withResumeToken(rn.EMPTY_BYTE_STRING,y);return c.os=c.os.insert(I.targetId,I),c.Ur.updateTargetData(h,I).next(()=>c.Ur.removeMatchingKeysForTargetId(h,s.targetId)).next(()=>c.Ur.addMatchingKeys(h,r,s.targetId)).next(()=>c.Gr.saveNamedQuery(h,t))})})).apply(this,arguments)}function C_(a,t){return`firestore_clients_${a}_${t}`}function Ep(a,t,r){let s=`firestore_mutations_${a}_${r}`;return t.isAuthenticated()&&(s+=`_${t.uid}`),s}function Ip(a,t){return`firestore_targets_${a}_${t}`}class Tp{constructor(t,r,s,c){this.user=t,this.batchId=r,this.state=s,this.error=c}static Rs(t,r,s){const c=JSON.parse(s);let h,y="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return y&&c.error&&(y="string"==typeof c.error.message&&"string"==typeof c.error.code,y&&(h=new St(c.error.code,c.error.message))),y?new Tp(t,r,c.state,h):(zr("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Xh{constructor(t,r,s){this.targetId=t,this.state=r,this.error=s}static Rs(t,r){const s=JSON.parse(r);let c,h="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return h&&s.error&&(h="string"==typeof s.error.message&&"string"==typeof s.error.code,h&&(c=new St(s.error.code,s.error.message))),h?new Xh(t,s.state,c):(zr("SharedClientState",`Failed to parse target state for ID '${t}': ${r}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Km{constructor(t,r){this.clientId=t,this.activeTargetIds=r}static Rs(t,r){const s=JSON.parse(r);let c="object"==typeof s&&s.activeTargetIds instanceof Array,h=xr();for(let y=0;c&&y<s.activeTargetIds.length;++y)c=hr(s.activeTargetIds[y]),h=h.add(s.activeTargetIds[y]);return c?new Km(t,h):(zr("SharedClientState",`Failed to parse client data for instance '${t}': ${r}`),null)}}class D_{constructor(t,r){this.clientId=t,this.onlineState=r}static Rs(t){const r=JSON.parse(t);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new D_(r.clientId,r.onlineState):(zr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Yh{constructor(){this.activeTargetIds=xr()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class oc{constructor(t,r,s,c,h){this.window=t,this.ui=r,this.persistenceKey=s,this.ps=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ri(cn),this.started=!1,this.bs=[];const y=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.Ds=C_(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new Yh),this.Cs=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(b){return`firestore_bundle_loaded_v2_${b}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,K.A)(function*(){const r=yield t.syncEngine.Qi();for(const c of r){if(c===t.ps)continue;const h=t.getItem(C_(t.persistenceKey,c));if(h){const y=Km.Rs(c,h);y&&(t.Ss=t.Ss.insert(y.clientId,y))}}t.Ns();const s=t.storage.getItem(t.xs);if(s){const c=t.Ls(s);c&&t.Bs(c)}for(const c of t.bs)t.ws(c);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let r=!1;return this.Ss.forEach((s,c)=>{c.activeTargetIds.has(t)&&(r=!0)}),r}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,r,s){this.qs(t,r,s),this.Qs(t)}addLocalQueryTarget(t){let r="not-current";if(this.isActiveQueryTarget(t)){const s=this.storage.getItem(Ip(this.persistenceKey,t));if(s){const c=Xh.Rs(t,s);c&&(r=c.state)}}return this.Ks.fs(t),this.Ns(),r}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Ip(this.persistenceKey,t))}updateQueryState(t,r,s){this.$s(t,r,s)}handleUserChange(t,r,s){r.forEach(c=>{this.Qs(c)}),this.currentUser=t,s.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const r=this.storage.getItem(t);return xt("SharedClientState","READ",t,r),r}setItem(t,r){xt("SharedClientState","SET",t,r),this.storage.setItem(t,r)}removeItem(t){xt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var r=this;const s=t;if(s.storageArea===this.storage){if(xt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Ds)return void zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,K.A)(function*(){if(r.started){if(null!==s.key)if(r.Cs.test(s.key)){if(null==s.newValue){const c=r.Gs(s.key);return r.zs(c,null)}{const c=r.js(s.key,s.newValue);if(c)return r.zs(c.clientId,c)}}else if(r.Fs.test(s.key)){if(null!==s.newValue){const c=r.Hs(s.key,s.newValue);if(c)return r.Js(c)}}else if(r.Ms.test(s.key)){if(null!==s.newValue){const c=r.Ys(s.key,s.newValue);if(c)return r.Zs(c)}}else if(s.key===r.xs){if(null!==s.newValue){const c=r.Ls(s.newValue);if(c)return r.Bs(c)}}else if(s.key===r.vs){const c=function(y){let I=po.oe;if(null!=y)try{const b=JSON.parse(y);on("number"==typeof b),I=b}catch(b){zr("SharedClientState","Failed to read sequence number from WebStorage",b)}return I}(s.newValue);c!==po.oe&&r.sequenceNumberHandler(c)}else if(s.key===r.Os){const c=r.Xs(s.newValue);yield Promise.all(c.map(h=>r.syncEngine.eo(h)))}}else r.bs.push(s)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,r,s){const c=new Tp(this.currentUser,t,r,s),h=Ep(this.persistenceKey,this.currentUser,t);this.setItem(h,c.Vs())}Qs(t){const r=Ep(this.persistenceKey,this.currentUser,t);this.removeItem(r)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,r,s){const c=Ip(this.persistenceKey,t),h=new Xh(t,r,s);this.setItem(c,h.Vs())}Ws(t){const r=JSON.stringify(Array.from(t));this.setItem(this.Os,r)}Gs(t){const r=this.Cs.exec(t);return r?r[1]:null}js(t,r){const s=this.Gs(t);return Km.Rs(s,r)}Hs(t,r){const s=this.Fs.exec(t),c=Number(s[1]);return Tp.Rs(new Wr(void 0!==s[2]?s[2]:null),c,r)}Ys(t,r){const s=this.Ms.exec(t),c=Number(s[1]);return Xh.Rs(c,r)}Ls(t){return D_.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var r=this;return(0,K.A)(function*(){if(t.user.uid===r.currentUser.uid)return r.syncEngine.no(t.batchId,t.state,t.error);xt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,r){const s=r?this.Ss.insert(t,r):this.Ss.remove(t),c=this.ks(this.Ss),h=this.ks(s),y=[],I=[];return h.forEach(b=>{c.has(b)||y.push(b)}),c.forEach(b=>{h.has(b)||I.push(b)}),this.syncEngine.io(y,I).then(()=>{this.Ss=s})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let r=xr();return t.forEach((s,c)=>{r=r.unionWith(c.activeTargetIds)}),r}}class wp{constructor(){this.so=new Yh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,s){}addLocalQueryTarget(t){return this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,r,s){this.oo[t]=r}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Yh,Promise.resolve()}handleUserChange(t,r,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Jh{_o(t){}shutdown(){}}class b_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qc=null;function qm(){return null===Qc?Qc=268435456+Math.round(2147483648*Math.random()):Qc++,"0x"+Qc.toString(16)}const Qm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ap{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const Ls="WebChannelConnection";class S_ extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),h=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+r.host,this.vo=`projects/${c}/databases/${h}`,this.Co="(default)"===this.databaseId.database?`project_id=${c}`:`project_id=${c}&database_id=${h}`}get Fo(){return!1}Mo(r,s,c,h,y){const I=qm(),b=this.xo(r,s.toUriEncodedString());xt("RestConnection",`Sending RPC '${r}' ${I}:`,b,c);const k={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(k,h,y),this.No(r,b,k,c).then(Q=>(xt("RestConnection",`Received RPC '${r}' ${I}: `,Q),Q),Q=>{throw Vi("RestConnection",`RPC '${r}' ${I} failed with error: `,Q,"url: ",b,"request:",c),Q})}Lo(r,s,c,h,y,I){return this.Mo(r,s,c,h,y)}Oo(r,s,c){r["X-Goog-Api-Client"]="gl-js/ fire/"+ds,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((h,y)=>r[y]=h),c&&c.headers.forEach((h,y)=>r[y]=h)}xo(r,s){return`${this.Do}/v1/${s}:${Qm[r]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,r,s,c){const h=qm();return new Promise((y,I)=>{const b=new Ln;b.setWithCredentials(!0),b.listenOnce(Fi.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case jn.NO_ERROR:const Q=b.getResponseJson();xt(Ls,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(Q)),y(Q);break;case jn.TIMEOUT:xt(Ls,`RPC '${t}' ${h} timed out`),I(new St(ft.DEADLINE_EXCEEDED,"Request time out"));break;case jn.HTTP_ERROR:const ue=b.getStatus();if(xt(Ls,`RPC '${t}' ${h} failed with status:`,ue,"response text:",b.getResponseText()),ue>0){let Ce=b.getResponseJson();Array.isArray(Ce)&&(Ce=Ce[0]);const Je=Ce?.error;if(Je&&Je.status&&Je.message){const wt=function(Rt){const nn=Rt.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(nn)>=0?nn:ft.UNKNOWN}(Je.status);I(new St(wt,Je.message))}else I(new St(ft.UNKNOWN,"Server responded with status "+b.getStatus()))}else I(new St(ft.UNAVAILABLE,"Connection failed."));break;default:en()}}finally{xt(Ls,`RPC '${t}' ${h} completed.`)}});const k=JSON.stringify(c);xt(Ls,`RPC '${t}' ${h} sending request:`,c),b.send(r,"POST",k,s,15)})}Bo(t,r,s){const c=qm(),h=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],y=js(),I=Gi(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},k=this.longPollingOptions.timeoutSeconds;void 0!==k&&(b.longPollingTimeout=Math.round(1e3*k)),this.useFetchStreams&&(b.xmlHttpFactory=new Dr({})),this.Oo(b.initMessageHeaders,r,s),b.encodeInitMessageHeaders=!0;const Q=h.join("");xt(Ls,`Creating RPC '${t}' stream ${c}: ${Q}`,b);const ue=y.createWebChannel(Q,b);let Ce=!1,Je=!1;const wt=new Ap({Io:Rt=>{Je?xt(Ls,`Not sending because RPC '${t}' stream ${c} is closed:`,Rt):(Ce||(xt(Ls,`Opening RPC '${t}' stream ${c} transport.`),ue.open(),Ce=!0),xt(Ls,`RPC '${t}' stream ${c} sending:`,Rt),ue.send(Rt))},To:()=>ue.close()}),Lt=(Rt,nn,dn)=>{Rt.listen(nn,qt=>{try{dn(qt)}catch(yn){setTimeout(()=>{throw yn},0)}})};return Lt(ue,Pr.EventType.OPEN,()=>{Je||(xt(Ls,`RPC '${t}' stream ${c} transport opened.`),wt.yo())}),Lt(ue,Pr.EventType.CLOSE,()=>{Je||(Je=!0,xt(Ls,`RPC '${t}' stream ${c} transport closed`),wt.So())}),Lt(ue,Pr.EventType.ERROR,Rt=>{Je||(Je=!0,Vi(Ls,`RPC '${t}' stream ${c} transport errored:`,Rt),wt.So(new St(ft.UNAVAILABLE,"The operation could not be completed")))}),Lt(ue,Pr.EventType.MESSAGE,Rt=>{var nn;if(!Je){const dn=Rt.data[0];on(!!dn);const yn=dn.error||(null===(nn=dn[0])||void 0===nn?void 0:nn.error);if(yn){xt(Ls,`RPC '${t}' stream ${c} received error:`,yn);const zn=yn.status;let Jn=function(Le){const Ke=Qi[Le];if(void 0!==Ke)return sp(Ke)}(zn),He=yn.message;void 0===Jn&&(Jn=ft.INTERNAL,He="Unknown error status: "+zn+" with message "+yn.message),Je=!0,wt.So(new St(Jn,He)),ue.close()}else xt(Ls,`RPC '${t}' stream ${c} received:`,dn),wt.bo(dn)}}),Lt(I,Fo.STAT_EVENT,Rt=>{Rt.stat===Yi.PROXY?xt(Ls,`RPC '${t}' stream ${c} detected buffering proxy`):Rt.stat===Yi.NOPROXY&&xt(Ls,`RPC '${t}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{wt.wo()},0),wt}}function Xm(){return typeof window<"u"?window:null}function Cp(){return typeof document<"u"?document:null}function ra(a){return new bl(a,!0)}class Ym{constructor(t,r,s=1e3,c=1.5,h=6e4){this.ui=t,this.timerId=r,this.ko=s,this.qo=c,this.Qo=h,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const r=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),c=Math.max(0,r-s);c>0&&xt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,c,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Zh{constructor(t,r,s,c,h,y,I,b){this.ui=t,this.Ho=s,this.Jo=c,this.connection=h,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=I,this.listener=b,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ym(t,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,K.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,K.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,r){var s=this;return(0,K.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==t?s.t_.reset():r&&r.code===ft.RESOURCE_EXHAUSTED?(zr(r.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):r&&r.code===ft.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=t,yield s.listener.mo(r)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.Yo===r&&this.P_(s,c)},s=>{t(()=>{const c=new St(ft.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(c)})})}P_(t,r){const s=this.h_(this.Yo);this.stream=this.T_(t,r),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(c=>{s(()=>this.I_(c))}),this.stream.onMessage(c=>{s(()=>1==++this.e_?this.E_(c):this.onNext(c))})}i_(){var t=this;this.state=5,this.t_.Go((0,K.A)(function*(){t.state=0,t.start()}))}I_(t){return xt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return r=>{this.ui.enqueueAndForget(()=>this.Yo===t?r():(xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jm extends Zh{constructor(t,r,s,c,h,y){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,c,y),this.serializer=h}T_(t,r){return this.connection.Bo("Listen",t,r)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const r=function Hi(a,t){let r;if("targetChange"in t){const s="NO_CHANGE"===(k=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===k?1:"REMOVE"===k?2:"CURRENT"===k?3:"RESET"===k?4:en(),c=t.targetChange.targetIds||[],h=function(k,Q){return k.useProto3Json?(on(void 0===Q||"string"==typeof Q),rn.fromBase64String(Q||"")):(on(void 0===Q||Q instanceof Buffer||Q instanceof Uint8Array),rn.fromUint8Array(Q||new Uint8Array))}(a,t.targetChange.resumeToken),y=t.targetChange.cause,I=y&&function(k){const Q=void 0===k.code?ft.UNKNOWN:sp(k.code);return new St(Q,k.message||"")}(y);r=new ea(s,c,h,I||null)}else if("documentChange"in t){const s=t.documentChange,c=Ms(a,s.document.name),h=mi(s.document.updateTime),y=s.document.createTime?mi(s.document.createTime):ln.min(),I=new Or({mapValue:{fields:s.document.fields}}),b=fr.newFoundDocument(c,h,y,I);r=new vn(s.targetIds||[],s.removedTargetIds||[],b.key,b)}else if("documentDelete"in t){const s=t.documentDelete,c=Ms(a,s.document),h=s.readTime?mi(s.readTime):ln.min(),y=fr.newNoDocument(c,h);r=new vn([],s.removedTargetIds||[],y.key,y)}else if("documentRemove"in t){const s=t.documentRemove,c=Ms(a,s.document);r=new vn([],s.removedTargetIds||[],c,null)}else{if(!("filter"in t))return en();{const s=t.filter,{count:c=0,unchangedNames:h}=s,y=new so(c,h);r=new $i(s.targetId,y)}}var k;return r}(this.serializer,t),s=function(h){if(!("targetChange"in h))return ln.min();const y=h.targetChange;return y.targetIds&&y.targetIds.length?ln.min():y.readTime?mi(y.readTime):ln.min()}(t);return this.listener.d_(r,s)}A_(t){const r={};r.database=Rl(this.serializer),r.addTarget=function(h,y){let I;const b=y.target;if(I=Ru(b)?{documents:wd(h,b)}:{query:Wa(h,b)._t},I.targetId=y.targetId,y.resumeToken.approximateByteSize()>0){I.resumeToken=si(h,y.resumeToken);const k=Sl(h,y.expectedCount);null!==k&&(I.expectedCount=k)}else if(y.snapshotVersion.compareTo(ln.min())>0){I.readTime=ma(h,y.snapshotVersion.toTimestamp());const k=Sl(h,y.expectedCount);null!==k&&(I.expectedCount=k)}return I}(this.serializer,t);const s=function Ml(a,t){const r=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return en()}}(t.purpose);return null==r?null:{"goog-listen-tags":r}}(0,t);s&&(r.labels=s),this.a_(r)}R_(t){const r={};r.database=Rl(this.serializer),r.removeTarget=t,this.a_(r)}}class R_ extends Zh{constructor(t,r,s,c,h,y){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,c,y),this.serializer=h}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,r){return this.connection.Bo("Write",t,r)}E_(t){return on(!!t.streamToken),this.lastStreamToken=t.streamToken,on(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){on(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const r=function Ho(a,t){return a&&a.length>0?(on(void 0!==t),a.map(r=>function(c,h){let y=mi(c.updateTime?c.updateTime:h);return y.isEqual(ln.min())&&(y=mi(h)),new Ph(y,c.transformResults||[])}(r,t))):[]}(t.writeResults,t.commitTime),s=mi(t.commitTime);return this.listener.g_(s,r)}p_(){const t={};t.database=Rl(this.serializer),this.a_(t)}m_(t){const r={streamToken:this.lastStreamToken,writes:t.map(s=>Lu(this.serializer,s))};this.a_(r)}}class Dp extends class{}{constructor(t,r,s,c){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=s,this.serializer=c,this.y_=!1}w_(){if(this.y_)throw new St(ft.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,r,s,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,y])=>this.connection.Mo(t,xu(r,s),c,h,y)).catch(h=>{throw"FirebaseError"===h.name?(h.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new St(ft.UNKNOWN,h.toString())})}Lo(t,r,s,c,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,I])=>this.connection.Lo(t,xu(r,s),c,y,I,h)).catch(y=>{throw"FirebaseError"===y.name?(y.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new St(ft.UNKNOWN,y.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Zm{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const r=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zr(r),this.D_=!1):xt("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class NT{constructor(t,r,s,c,h){var y=this;this.localStore=t,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=h,this.k_._o(I=>{s.enqueueAndForget((0,K.A)(function*(){var b;Ta(y)&&(xt("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,K.A)(function*(Q){const ue=Ht(Q);ue.L_.add(4),yield jl(ue),ue.q_.set("Unknown"),ue.L_.delete(4),yield Ld(ue)}),function k(Q){return b.apply(this,arguments)})(y))}))}),this.q_=new Zm(s,c)}}function Ld(a){return bp.apply(this,arguments)}function bp(){return(bp=(0,K.A)(function*(a){if(Ta(a))for(const t of a.B_)yield t(!0)})).apply(this,arguments)}function jl(a){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,K.A)(function*(a){for(const t of a.B_)yield t(!1)})).apply(this,arguments)}function Rp(a,t){const r=Ht(a);r.N_.has(t.targetId)||(r.N_.set(t.targetId,t),Mp(r)?Pp(r):Xc(r).r_()&&ac(r,t))}function sc(a,t){const r=Ht(a),s=Xc(r);r.N_.delete(t),s.r_()&&P_(r,t),0===r.N_.size&&(s.r_()?s.o_():Ta(r)&&r.q_.set("Unknown"))}function ac(a,t){if(a.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ln.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Xc(a).A_(t)}function P_(a,t){a.Q_.xe(t),Xc(a).R_(t)}function Pp(a){a.Q_=new Co({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>a.N_.get(t)||null,tt:()=>a.datastore.serializer.databaseId}),Xc(a).start(),a.q_.v_()}function Mp(a){return Ta(a)&&!Xc(a).n_()&&a.N_.size>0}function Ta(a){return 0===Ht(a).L_.size}function $l(a){a.Q_=void 0}function bo(a){return ey.apply(this,arguments)}function ey(){return(ey=(0,K.A)(function*(a){a.q_.set("Online")})).apply(this,arguments)}function M_(a){return ef.apply(this,arguments)}function ef(){return(ef=(0,K.A)(function*(a){a.N_.forEach((t,r)=>{ac(a,t)})})).apply(this,arguments)}function OT(a,t){return Np.apply(this,arguments)}function Np(){return(Np=(0,K.A)(function*(a,t){$l(a),Mp(a)?(a.q_.M_(t),Pp(a)):a.q_.set("Unknown")})).apply(this,arguments)}function Op(a,t,r){return ty.apply(this,arguments)}function ty(){return ty=(0,K.A)(function*(a,t,r){if(a.q_.set("Online"),t instanceof ea&&2===t.state&&t.cause)try{yield(s=(0,K.A)(function*(h,y){const I=y.cause;for(const b of y.targetIds)h.N_.has(b)&&(yield h.remoteSyncer.rejectListen(b,I),h.N_.delete(b),h.Q_.removeTarget(b))}),function c(h,y){return s.apply(this,arguments)})(a,t)}catch(s){xt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),yield tf(a,s)}else if(t instanceof vn?a.Q_.Ke(t):t instanceof $i?a.Q_.He(t):a.Q_.We(t),!r.isEqual(ln.min()))try{const s=yield T_(a.localStore);r.compareTo(s)>=0&&(yield function(h,y){const I=h.Q_.rt(y);return I.targetChanges.forEach((b,k)=>{if(b.resumeToken.approximateByteSize()>0){const Q=h.N_.get(k);Q&&h.N_.set(k,Q.withResumeToken(b.resumeToken,y))}}),I.targetMismatches.forEach((b,k)=>{const Q=h.N_.get(b);if(!Q)return;h.N_.set(b,Q.withResumeToken(rn.EMPTY_BYTE_STRING,Q.snapshotVersion)),P_(h,b);const ue=new _a(Q.target,b,k,Q.sequenceNumber);ac(h,ue)}),h.remoteSyncer.applyRemoteEvent(I)}(a,r))}catch(s){xt("RemoteStore","Failed to raise snapshot:",s),yield tf(a,s)}var s}),ty.apply(this,arguments)}function tf(a,t,r){return nf.apply(this,arguments)}function nf(){return(nf=(0,K.A)(function*(a,t,r){if(!di(t))throw t;a.L_.add(1),yield jl(a),a.q_.set("Offline"),r||(r=()=>T_(a.localStore)),a.asyncQueue.enqueueRetryable((0,K.A)(function*(){xt("RemoteStore","Retrying IndexedDB access"),yield r(),a.L_.delete(1),yield Ld(a)}))})).apply(this,arguments)}function rf(a,t){return t().catch(r=>tf(a,r,t))}function Hl(a){return ny.apply(this,arguments)}function ny(){return(ny=(0,K.A)(function*(a){const t=Ht(a),r=uc(t);let s=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;xT(t);)try{const c=yield qh(t.localStore,s);if(null===c){0===t.O_.length&&r.o_();break}s=c.batchId,LT(t,c)}catch(c){yield tf(t,c)}ry(t)&&N_(t)})).apply(this,arguments)}function xT(a){return Ta(a)&&a.O_.length<10}function LT(a,t){a.O_.push(t);const r=uc(a);r.r_()&&r.V_&&r.m_(t.mutations)}function ry(a){return Ta(a)&&!uc(a).n_()&&a.O_.length>0}function N_(a){uc(a).start()}function O_(a){return iy.apply(this,arguments)}function iy(){return(iy=(0,K.A)(function*(a){uc(a).p_()})).apply(this,arguments)}function kT(a){return x_.apply(this,arguments)}function x_(){return(x_=(0,K.A)(function*(a){const t=uc(a);for(const r of a.O_)t.m_(r.mutations)})).apply(this,arguments)}function L_(a,t,r){return xp.apply(this,arguments)}function xp(){return(xp=(0,K.A)(function*(a,t,r){const s=a.O_.shift(),c=Ou.from(s,t,r);yield rf(a,()=>a.remoteSyncer.applySuccessfulWrite(c)),yield Hl(a)})).apply(this,arguments)}function as(a,t){return k_.apply(this,arguments)}function k_(){return k_=(0,K.A)(function*(a,t){var r;t&&uc(a).V_&&(yield(r=(0,K.A)(function*(c,h){if(Lc(I=h.code)&&I!==ft.ABORTED){const y=c.O_.shift();uc(c).s_(),yield rf(c,()=>c.remoteSyncer.rejectFailedWrite(y.batchId,h)),yield Hl(c)}var I}),function s(c,h){return r.apply(this,arguments)})(a,t)),ry(a)&&N_(a)}),k_.apply(this,arguments)}function F_(a,t){return V_.apply(this,arguments)}function V_(){return(V_=(0,K.A)(function*(a,t){const r=Ht(a);r.asyncQueue.verifyOperationInProgress(),xt("RemoteStore","RemoteStore received new credentials");const s=Ta(r);r.L_.add(3),yield jl(r),s&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(t),r.L_.delete(3),yield Ld(r)})).apply(this,arguments)}function Lp(a,t){return U_.apply(this,arguments)}function U_(){return(U_=(0,K.A)(function*(a,t){const r=Ht(a);t?(r.L_.delete(2),yield Ld(r)):t||(r.L_.add(2),yield jl(r),r.q_.set("Unknown"))})).apply(this,arguments)}function Xc(a){return a.K_||(a.K_=function(r,s,c){const h=Ht(r);return h.w_(),new Jm(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,c)}(a.datastore,a.asyncQueue,{Eo:bo.bind(null,a),Ro:M_.bind(null,a),mo:OT.bind(null,a),d_:Op.bind(null,a)}),a.B_.push(function(){var t=(0,K.A)(function*(r){r?(a.K_.s_(),Mp(a)?Pp(a):a.q_.set("Unknown")):(yield a.K_.stop(),$l(a))});return function(r){return t.apply(this,arguments)}}())),a.K_}function uc(a){return a.U_||(a.U_=function(r,s,c){const h=Ht(r);return h.w_(),new R_(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,c)}(a.datastore,a.asyncQueue,{Eo:()=>Promise.resolve(),Ro:O_.bind(null,a),mo:as.bind(null,a),f_:kT.bind(null,a),g_:L_.bind(null,a)}),a.B_.push(function(){var t=(0,K.A)(function*(r){r?(a.U_.s_(),yield Hl(a)):(yield a.U_.stop(),a.O_.length>0&&(xt("RemoteStore",`Stopping write stream with ${a.O_.length} pending writes`),a.O_=[]))});return function(r){return t.apply(this,arguments)}}())),a.U_}class Gl{constructor(t,r,s,c,h){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=s,this.op=c,this.removalCallback=h,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,s,c,h){const y=Date.now()+s,I=new Gl(t,r,y,c,h);return I.start(s),I}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new St(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kd(a,t){if(zr("AsyncQueue",`${t}: ${a}`),di(a))return new St(ft.UNAVAILABLE,`${t}: ${a}`);throw a}class Fd{constructor(t){this.comparator=t?(r,s)=>t(r,s)||$t.comparator(r.key,s.key):(r,s)=>$t.comparator(r.key,s.key),this.keyedMap=R(),this.sortedSet=new ri(this.comparator)}static emptySet(t){return new Fd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,s)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Fd)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;r.hasNext();){const c=r.getNext().key,h=s.getNext().key;if(!c.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,r){const s=new Fd;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=r,s}}class Yc{constructor(){this.W_=new ri($t.comparator)}track(t){const r=t.doc.key,s=this.W_.get(r);s?0!==t.type&&3===s.type?this.W_=this.W_.insert(r,t):3===t.type&&1!==s.type?this.W_=this.W_.insert(r,{type:s.type,doc:t.doc}):2===t.type&&2===s.type?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):2===t.type&&0===s.type?this.W_=this.W_.insert(r,{type:0,doc:t.doc}):1===t.type&&0===s.type?this.W_=this.W_.remove(r):1===t.type&&2===s.type?this.W_=this.W_.insert(r,{type:1,doc:s.doc}):0===t.type&&1===s.type?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):en():this.W_=this.W_.insert(r,t)}G_(){const t=[];return this.W_.inorderTraversal((r,s)=>{t.push(s)}),t}}class sf{constructor(t,r,s,c,h,y,I,b,k){this.query=t,this.docs=r,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=h,this.fromCache=y,this.syncStateChanged=I,this.excludesMetadataChanges=b,this.hasCachedResults=k}static fromInitialDocuments(t,r,s,c,h){const y=[];return r.forEach(I=>{y.push({type:0,doc:I})}),new sf(t,r,Fd.emptySet(r),y,s,c,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,s=t.docChanges;if(r.length!==s.length)return!1;for(let c=0;c<r.length;c++)if(r[c].type!==s[c].type||!r[c].doc.isEqual(s[c].doc))return!1;return!0}}class FT{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class Bu{constructor(){this.queries=af(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,s){const c=Ht(r),h=c.queries;c.queries=af(),h.forEach((y,I)=>{for(const b of I.j_)b.onError(s)})}(this,new St(ft.ABORTED,"Firestore shutting down"))}}function af(){return new $a(a=>Ch(a),Mu)}function kp(a,t){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,K.A)(function*(a,t){const r=Ht(a);let s=3;const c=t.query;let h=r.queries.get(c);h?!h.H_()&&t.J_()&&(s=2):(h=new FT,s=t.J_()?0:1);try{switch(s){case 0:h.z_=yield r.onListen(c,!0);break;case 1:h.z_=yield r.onListen(c,!1);break;case 2:yield r.onFirstRemoteStoreListen(c)}}catch(y){const I=kd(y,`Initialization of query '${Nu(t.query)}' failed`);return void t.onError(I)}r.queries.set(c,h),h.j_.push(t),t.Z_(r.onlineState),h.z_&&t.X_(h.z_)&&Pi(r)})).apply(this,arguments)}function B_(a,t){return uf.apply(this,arguments)}function uf(){return(uf=(0,K.A)(function*(a,t){const r=Ht(a),s=t.query;let c=3;const h=r.queries.get(s);if(h){const y=h.j_.indexOf(t);y>=0&&(h.j_.splice(y,1),0===h.j_.length?c=t.J_()?0:1:!h.H_()&&t.J_()&&(c=2))}switch(c){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Vp(a,t){const r=Ht(a);let s=!1;for(const c of t){const y=r.queries.get(c.query);if(y){for(const I of y.j_)I.X_(c)&&(s=!0);y.z_=c}}s&&Pi(r)}function VT(a,t,r){const s=Ht(a),c=s.queries.get(t);if(c)for(const h of c.j_)h.onError(r);s.queries.delete(t)}function Pi(a){a.Y_.forEach(t=>{t.next()})}var oy,Up;(Up=oy||(oy={})).ea="default",Up.Cache="cache";class sy{constructor(t,r,s){this.query=t,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(t){if(!this.options.includeMetadataChanges){const s=[];for(const c of t.docChanges)3!==c.type&&s.push(c);t=new sf(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.na?this.ia(t)&&(this.ta.next(t),r=!0):this.sa(t,this.onlineState)&&(this.oa(t),r=!0),this.ra=t,r}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),r=!0),r}sa(t,r){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===r)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=sf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==oy.Cache}}class UT{constructor(t,r){this.aa=t,this.byteLength=r}ua(){return"metadata"in this.aa}}class Bp{constructor(t){this.serializer=t}Es(t){return Ms(this.serializer,t)}ds(t){return t.metadata.exists?Pl(this.serializer,t.document,!1):fr.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return mi(t)}}class j_{constructor(t,r,s){this.ca=t,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ay(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let r=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++r;const s=On.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(t){const r=new Map,s=new Bp(this.serializer);for(const c of t)if(c.metadata.queries){const h=s.Es(c.metadata.name);for(const y of c.metadata.queries){const I=(r.get(y)||Ut()).add(h);r.set(y,I)}}return r}complete(){var t=this;return(0,K.A)(function*(){const r=yield function A_(a,t,r,s){return zm.apply(this,arguments)}(t.localStore,new Bp(t.serializer),t.documents,t.ca.id),s=t.ha(t.documents);for(const c of t.queries)yield xd(t.localStore,c,s.get(c.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:r}})()}}function ay(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class jp{constructor(t){this.key=t}}class $_{constructor(t){this.key=t}}class H_{constructor(t,r){this.query=t,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ut(),this.mutatedKeys=Ut(),this.Aa=Dh(t),this.Ra=new Fd(this.Aa)}get Va(){return this.Ta}ma(t,r){const s=r?r.fa:new Yc,c=r?r.Ra:this.Ra;let h=r?r.mutatedKeys:this.mutatedKeys,y=c,I=!1;const b="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,k="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(t.inorderTraversal((Q,ue)=>{const Ce=c.get(Q),Je=Nc(this.query,ue)?ue:null,wt=!!Ce&&this.mutatedKeys.has(Ce.key),Lt=!!Je&&(Je.hasLocalMutations||this.mutatedKeys.has(Je.key)&&Je.hasCommittedMutations);let Rt=!1;Ce&&Je?Ce.data.isEqual(Je.data)?wt!==Lt&&(s.track({type:3,doc:Je}),Rt=!0):this.ga(Ce,Je)||(s.track({type:2,doc:Je}),Rt=!0,(b&&this.Aa(Je,b)>0||k&&this.Aa(Je,k)<0)&&(I=!0)):!Ce&&Je?(s.track({type:0,doc:Je}),Rt=!0):Ce&&!Je&&(s.track({type:1,doc:Ce}),Rt=!0,(b||k)&&(I=!0)),Rt&&(Je?(y=y.add(Je),h=Lt?h.add(Q):h.delete(Q)):(y=y.delete(Q),h=h.delete(Q)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const Q="F"===this.query.limitType?y.last():y.first();y=y.delete(Q.key),h=h.delete(Q.key),s.track({type:1,doc:Q})}return{Ra:y,fa:s,ns:I,mutatedKeys:h}}ga(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,s,c){const h=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const y=t.fa.G_();y.sort((Q,ue)=>function(Je,wt){const Lt=Rt=>{switch(Rt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return en()}};return Lt(Je)-Lt(wt)}(Q.type,ue.type)||this.Aa(Q.doc,ue.doc)),this.pa(s),c=null!=c&&c;const I=r&&!c?this.ya():[],b=0===this.da.size&&this.current&&!c?1:0,k=b!==this.Ea;return this.Ea=b,0!==y.length||k?{snapshot:new sf(this.query,t.Ra,h,y,t.mutatedKeys,0===b,k,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:I}:{wa:I}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Yc,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Ut(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const r=[];return t.forEach(s=>{this.da.has(s)||r.push(new $_(s))}),this.da.forEach(s=>{t.has(s)||r.push(new jp(s))}),r}ba(t){this.Ta=t.Ts,this.da=Ut();const r=this.ma(t.documents);return this.applyChanges(r,!0)}Da(){return sf.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class G_{constructor(t,r,s){this.query=t,this.targetId=r,this.view=s}}class BT{constructor(t){this.key=t,this.va=!1}}class cc{constructor(t,r,s,c,h,y){this.localStore=t,this.remoteStore=r,this.eventManager=s,this.sharedClientState=c,this.currentUser=h,this.maxConcurrentLimboResolutions=y,this.Ca={},this.Fa=new $a(I=>Ch(I),Mu),this.Ma=new Map,this.xa=new Set,this.Oa=new ri($t.comparator),this.Na=new Map,this.La=new Ia,this.Ba={},this.ka=new Map,this.qa=zc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function jT(a,t){return $p.apply(this,arguments)}function $p(){return($p=(0,K.A)(function*(a,t,r=!0){const s=ff(a);let c;const h=s.Fa.get(t);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),c=h.view.Da()):c=yield $T(s,t,r,!0),c})).apply(this,arguments)}function hC(a,t){return W_.apply(this,arguments)}function W_(){return(W_=(0,K.A)(function*(a,t){const r=ff(a);yield $T(r,t,!0,!1)})).apply(this,arguments)}function $T(a,t,r,s){return z_.apply(this,arguments)}function z_(){return(z_=(0,K.A)(function*(a,t,r,s){const c=yield xs(a.localStore,hi(t)),h=c.targetId,y=r?a.sharedClientState.addLocalQueryTarget(h):"not-current";let I;return s&&(I=yield K_(a,t,h,"current"===y,c.resumeToken)),a.isPrimaryClient&&r&&Rp(a.remoteStore,c),I})).apply(this,arguments)}function K_(a,t,r,s,c){return uy.apply(this,arguments)}function uy(){return uy=(0,K.A)(function*(a,t,r,s,c){a.Ka=(ue,Ce,Je)=>{return(wt=(0,K.A)(function*(Rt,nn,dn,qt){let yn=nn.view.ma(dn);yn.ns&&(yn=yield Ul(Rt.localStore,nn.query,!1).then(({documents:Ee})=>nn.view.ma(Ee,yn)));const zn=qt&&qt.targetChanges.get(nn.targetId),Jn=qt&&null!=qt.targetMismatches.get(nn.targetId),He=nn.view.applyChanges(yn,Rt.isPrimaryClient,zn,Jn);return Wp(Rt,nn.targetId,He.wa),He.snapshot}),function Lt(Rt,nn,dn,qt){return wt.apply(this,arguments)})(a,ue,Ce,Je);var wt};const h=yield Ul(a.localStore,t,!0),y=new H_(t,h.Ts),I=y.ma(h.documents),b=Vt.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==a.onlineState,c),k=y.applyChanges(I,a.isPrimaryClient,b);Wp(a,r,k.wa);const Q=new G_(t,r,y);return a.Fa.set(t,Q),a.Ma.has(r)?a.Ma.get(r).push(t):a.Ma.set(r,[t]),k.snapshot}),uy.apply(this,arguments)}function Vd(a,t,r){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,K.A)(function*(a,t,r){const s=Ht(a),c=s.Fa.get(t),h=s.Ma.get(c.targetId);if(h.length>1)return s.Ma.set(c.targetId,h.filter(y=>!Mu(y,t))),void s.Fa.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(c.targetId),s.sharedClientState.isActiveQueryTarget(c.targetId)||(yield Nd(s.localStore,c.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(c.targetId),r&&sc(s.remoteStore,c.targetId),So(s,c.targetId)}).catch(Nr))):(So(s,c.targetId),yield Nd(s.localStore,c.targetId,!0))})).apply(this,arguments)}function q_(a,t){return cy.apply(this,arguments)}function cy(){return(cy=(0,K.A)(function*(a,t){const r=Ht(a),s=r.Fa.get(t),c=r.Ma.get(s.targetId);r.isPrimaryClient&&1===c.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),sc(r.remoteStore,s.targetId))})).apply(this,arguments)}function zl(){return(zl=(0,K.A)(function*(a,t,r){const s=Jp(a);try{const c=yield function(y,I){const b=Ht(y),k=Mr.now(),Q=I.reduce((Je,wt)=>Je.add(wt.key),Ut());let ue,Ce;return b.persistence.runTransaction("Locally write mutations","readwrite",Je=>{let wt=D(),Lt=Ut();return b.cs.getEntries(Je,Q).next(Rt=>{wt=Rt,wt.forEach((nn,dn)=>{dn.isValidDocument()||(Lt=Lt.add(nn))})}).next(()=>b.localDocuments.getOverlayedDocuments(Je,wt)).next(Rt=>{ue=Rt;const nn=[];for(const dn of I){const qt=Cl(dn,ue.get(dn.key).overlayedDocument);null!=qt&&nn.push(new ga(dn.key,qt,jo(qt.value.mapValue),gi.exists(!0)))}return b.mutationQueue.addMutationBatch(Je,k,nn,I)}).next(Rt=>{Ce=Rt;const nn=Rt.applyToLocalDocumentSet(ue,Lt);return b.documentOverlayCache.saveOverlays(Je,Rt.batchId,nn)})}).then(()=>({batchId:Ce.batchId,changes:V(ue)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(c.batchId),function(y,I,b){let k=y.Ba[y.currentUser.toKey()];k||(k=new ri(cn)),k=k.insert(I,b),y.Ba[y.currentUser.toKey()]=k}(s,c.batchId,r),yield Jc(s,c.changes),yield Hl(s.remoteStore)}catch(c){const h=kd(c,"Failed to persist write");r.reject(h)}})).apply(this,arguments)}function Q_(a,t){return cf.apply(this,arguments)}function cf(){return(cf=(0,K.A)(function*(a,t){const r=Ht(a);try{const s=yield function w_(a,t){const r=Ht(a),s=t.snapshotVersion;let c=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const y=r.cs.newChangeBuffer({trackRemovals:!0});c=r.os;const I=[];t.targetChanges.forEach((Q,ue)=>{const Ce=c.get(ue);if(!Ce)return;I.push(r.Ur.removeMatchingKeys(h,Q.removedDocuments,ue).next(()=>r.Ur.addMatchingKeys(h,Q.addedDocuments,ue)));let Je=Ce.withSequenceNumber(h.currentSequenceNumber);var Lt,Rt,nn;null!==t.targetMismatches.get(ue)?Je=Je.withResumeToken(rn.EMPTY_BYTE_STRING,ln.min()).withLastLimboFreeSnapshotVersion(ln.min()):Q.resumeToken.approximateByteSize()>0&&(Je=Je.withResumeToken(Q.resumeToken,s)),c=c.insert(ue,Je),Rt=Je,nn=Q,(0===(Lt=Ce).resumeToken.approximateByteSize()||Rt.snapshotVersion.toMicroseconds()-Lt.snapshotVersion.toMicroseconds()>=3e8||nn.addedDocuments.size+nn.modifiedDocuments.size+nn.removedDocuments.size>0)&&I.push(r.Ur.updateTargetData(h,Je))});let b=D(),k=Ut();if(t.documentUpdates.forEach(Q=>{t.resolvedLimboDocuments.has(Q)&&I.push(r.persistence.referenceDelegate.updateLimboDocument(h,Q))}),I.push(Gm(h,y,t.documentUpdates).next(Q=>{b=Q.Ps,k=Q.Is})),!s.isEqual(ln.min())){const Q=r.Ur.getLastRemoteSnapshotVersion(h).next(ue=>r.Ur.setTargetsMetadata(h,h.currentSequenceNumber,s));I.push(Q)}return ze.waitFor(I).next(()=>y.apply(h)).next(()=>r.localDocuments.getLocalViewOfDocuments(h,b,k)).next(()=>b)}).then(h=>(r.os=c,h))}(r.localStore,t);t.targetChanges.forEach((c,h)=>{const y=r.Na.get(h);y&&(on(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?y.va=!0:c.modifiedDocuments.size>0?on(y.va):c.removedDocuments.size>0&&(on(y.va),y.va=!1))}),yield Jc(r,s,t)}catch(s){yield Nr(s)}})).apply(this,arguments)}function dy(a,t,r){const s=Ht(a);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const c=[];s.Fa.forEach((h,y)=>{const I=y.view.Z_(t);I.snapshot&&c.push(I.snapshot)}),function(y,I){const b=Ht(y);b.onlineState=I;let k=!1;b.queries.forEach((Q,ue)=>{for(const Ce of ue.j_)Ce.Z_(I)&&(k=!0)}),k&&Pi(b)}(s.eventManager,t),c.length&&s.Ca.d_(c),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}function lf(a,t,r){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,K.A)(function*(a,t,r){const s=Ht(a);s.sharedClientState.updateQueryState(t,"rejected",r);const c=s.Na.get(t),h=c&&c.key;if(h){let y=new ri($t.comparator);y=y.insert(h,fr.newNoDocument(h,ln.min()));const I=Ut().add(h),b=new oi(ln.min(),new Map,new ri(cn),y,I);yield Q_(s,b),s.Oa=s.Oa.remove(h),s.Na.delete(t),Y_(s)}else yield Nd(s.localStore,t,!1).then(()=>So(s,t,r)).catch(Nr)})).apply(this,arguments)}function X_(a,t){return df.apply(this,arguments)}function df(){return(df=(0,K.A)(function*(a,t){const r=Ht(a),s=t.batch.batchId;try{const c=yield function MT(a,t){const r=Ht(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=t.batch.keys(),h=r.cs.newChangeBuffer({trackRemovals:!0});return function(I,b,k,Q){const ue=k.batch,Ce=ue.keys();let Je=ze.resolve();return Ce.forEach(wt=>{Je=Je.next(()=>Q.getEntry(b,wt)).next(Lt=>{const Rt=k.docVersions.get(wt);on(null!==Rt),Lt.version.compareTo(Rt)<0&&(ue.applyToRemoteDocument(Lt,k),Lt.isValidDocument()&&(Lt.setReadTime(k.commitVersion),Q.addEntry(Lt)))})}),Je.next(()=>I.mutationQueue.removeMutationBatch(b,ue))}(r,s,t,h).next(()=>h.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,c,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(I){let b=Ut();for(let k=0;k<I.mutationResults.length;++k)I.mutationResults[k].transformResults.length>0&&(b=b.add(I.batch.mutations[k].key));return b}(t))).next(()=>r.localDocuments.getDocuments(s,c))})}(r.localStore,t);fy(r,s,null),hf(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Jc(r,c)}catch(c){yield Nr(c)}})).apply(this,arguments)}function HT(a,t,r){return hy.apply(this,arguments)}function hy(){return(hy=(0,K.A)(function*(a,t,r){const s=Ht(a);try{const c=yield function(y,I){const b=Ht(y);return b.persistence.runTransaction("Reject batch","readwrite-primary",k=>{let Q;return b.mutationQueue.lookupMutationBatch(k,I).next(ue=>(on(null!==ue),Q=ue.keys(),b.mutationQueue.removeMutationBatch(k,ue))).next(()=>b.mutationQueue.performConsistencyCheck(k)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(k,Q,I)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(k,Q)).next(()=>b.localDocuments.getDocuments(k,Q))})}(s.localStore,t);fy(s,t,r),hf(s,t),s.sharedClientState.updateMutationState(t,"rejected",r),yield Jc(s,c)}catch(c){yield Nr(c)}})).apply(this,arguments)}function Hp(){return(Hp=(0,K.A)(function*(a,t){const r=Ht(a);Ta(r.remoteStore)||xt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(y){const I=Ht(y);return I.persistence.runTransaction("Get highest unacknowledged batch id","readonly",b=>I.mutationQueue.getHighestUnacknowledgedBatchId(b))}(r.localStore);if(-1===s)return void t.resolve();const c=r.ka.get(s)||[];c.push(t),r.ka.set(s,c)}catch(s){const c=kd(s,"Initialization of waitForPendingWrites() operation failed");t.reject(c)}})).apply(this,arguments)}function hf(a,t){(a.ka.get(t)||[]).forEach(r=>{r.resolve()}),a.ka.delete(t)}function fy(a,t,r){const s=Ht(a);let c=s.Ba[s.currentUser.toKey()];if(c){const h=c.get(t);h&&(r?h.reject(r):h.resolve(),c=c.remove(t)),s.Ba[s.currentUser.toKey()]=c}}function So(a,t,r=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Ma.get(t))a.Fa.delete(s),r&&a.Ca.$a(s,r);a.Ma.delete(t),a.isPrimaryClient&&a.La.gr(t).forEach(s=>{a.La.containsKey(s)||Gp(a,s)})}function Gp(a,t){a.xa.delete(t.path.canonicalString());const r=a.Oa.get(t);null!==r&&(sc(a.remoteStore,r),a.Oa=a.Oa.remove(t),a.Na.delete(r),Y_(a))}function Wp(a,t,r){for(const s of r)s instanceof jp?(a.La.addReference(s.key,t),zp(a,s)):s instanceof $_?(xt("SyncEngine","Document no longer in limbo: "+s.key),a.La.removeReference(s.key,t),a.La.containsKey(s.key)||Gp(a,s.key)):en()}function zp(a,t){const r=t.key,s=r.path.canonicalString();a.Oa.get(r)||a.xa.has(s)||(xt("SyncEngine","New document in limbo: "+r),a.xa.add(s),Y_(a))}function Y_(a){for(;a.xa.size>0&&a.Oa.size<a.maxConcurrentLimboResolutions;){const t=a.xa.values().next().value;a.xa.delete(t);const r=new $t(On.fromString(t)),s=a.qa.next();a.Na.set(s,new BT(r)),a.Oa=a.Oa.insert(r,s),Rp(a.remoteStore,new _a(hi(uu(r.path)),s,"TargetPurposeLimboResolution",po.oe))}}function Jc(a,t,r){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,K.A)(function*(a,t,r){const s=Ht(a),c=[],h=[],y=[];var I;s.Fa.isEmpty()||(s.Fa.forEach((I,b)=>{y.push(s.Ka(b,t,r).then(k=>{var Q;if((k||r)&&s.isPrimaryClient){const ue=k?!k.fromCache:null===(Q=r?.targetChanges.get(b.targetId))||void 0===Q?void 0:Q.current;s.sharedClientState.updateQueryState(b.targetId,ue?"current":"not-current")}if(k){c.push(k);const ue=Kh.Wi(b.targetId,k);h.push(ue)}}))}),yield Promise.all(y),s.Ca.d_(c),yield(I=(0,K.A)(function*(k,Q){const ue=Ht(k);try{yield ue.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ce=>ze.forEach(Q,Je=>ze.forEach(Je.$i,wt=>ue.persistence.referenceDelegate.addReference(Ce,Je.targetId,wt)).next(()=>ze.forEach(Je.Ui,wt=>ue.persistence.referenceDelegate.removeReference(Ce,Je.targetId,wt)))))}catch(Ce){if(!di(Ce))throw Ce;xt("LocalStore","Failed to update sequence numbers: "+Ce)}for(const Ce of Q){const Je=Ce.targetId;if(!Ce.fromCache){const wt=ue.os.get(Je),Rt=wt.withLastLimboFreeSnapshotVersion(wt.snapshotVersion);ue.os=ue.os.insert(Je,Rt)}}}),function b(k,Q){return I.apply(this,arguments)})(s.localStore,h))}),Ko.apply(this,arguments)}function Ud(a,t){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,K.A)(function*(a,t){const r=Ht(a);if(!r.currentUser.isEqual(t)){xt("SyncEngine","User change. New user:",t.toKey());const s=yield I_(r.localStore,t);r.currentUser=t,(h=r).ka.forEach(I=>{I.forEach(b=>{b.reject(new St(ft.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.ka.clear(),r.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),yield Jc(r,s.hs)}var h})).apply(this,arguments)}function J_(a,t){const r=Ht(a),s=r.Na.get(t);if(s&&s.va)return Ut().add(s.key);{let c=Ut();const h=r.Ma.get(t);if(!h)return c;for(const y of h){const I=r.Fa.get(y);c=c.unionWith(I.view.Va)}return c}}function WT(a,t){return qp.apply(this,arguments)}function qp(){return(qp=(0,K.A)(function*(a,t){const r=Ht(a),s=yield Ul(r.localStore,t.query,!0),c=t.view.ba(s);return r.isPrimaryClient&&Wp(r,t.targetId,c.wa),c})).apply(this,arguments)}function zT(a,t){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,K.A)(function*(a,t){const r=Ht(a);return _p(r.localStore,t).then(s=>Jc(r,s))})).apply(this,arguments)}function KT(a,t,r,s){return Xp.apply(this,arguments)}function Xp(){return(Xp=(0,K.A)(function*(a,t,r,s){const c=Ht(a),h=yield function(I,b){const k=Ht(I),Q=Ht(k.mutationQueue);return k.persistence.runTransaction("Lookup mutation documents","readonly",ue=>Q.Mn(ue,b).next(Ce=>Ce?k.localDocuments.getDocuments(ue,Ce):ze.resolve(null)))}(c.localStore,t);var b;null!==h?("pending"===r?yield Hl(c.remoteStore):"acknowledged"===r||"rejected"===r?(fy(c,t,s||null),hf(c,t),b=t,Ht(Ht(c.localStore).mutationQueue).On(b)):en(),yield Jc(c,h)):xt("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function py(){return(py=(0,K.A)(function*(a,t){const r=Ht(a);if(ff(r),Jp(r),!0===t&&!0!==r.Qa){const s=r.sharedClientState.getAllActiveQueryTargets(),c=yield Z_(r,s.toArray());r.Qa=!0,yield Lp(r.remoteStore,!0);for(const h of c)Rp(r.remoteStore,h)}else if(!1===t&&!1!==r.Qa){const s=[];let c=Promise.resolve();r.Ma.forEach((h,y)=>{r.sharedClientState.isLocalQueryTarget(y)?s.push(y):c=c.then(()=>(So(r,y),Nd(r.localStore,y,!0))),sc(r.remoteStore,y)}),yield c,yield Z_(r,s),function(y){const I=Ht(y);I.Na.forEach((b,k)=>{sc(I.remoteStore,k)}),I.La.pr(),I.Na=new Map,I.Oa=new ri($t.comparator)}(r),r.Qa=!1,yield Lp(r.remoteStore,!1)}})).apply(this,arguments)}function Z_(a,t,r){return gy.apply(this,arguments)}function gy(){return(gy=(0,K.A)(function*(a,t,r){const s=Ht(a),c=[],h=[];for(const y of t){let I;const b=s.Ma.get(y);if(b&&0!==b.length){I=yield xs(s.localStore,hi(b[0]));for(const k of b){const Q=s.Fa.get(k),ue=yield WT(s,Q);ue.snapshot&&h.push(ue.snapshot)}}else{const k=yield Qh(s.localStore,y);I=yield xs(s.localStore,k),yield K_(s,my(k),y,!1,I.resumeToken)}c.push(I)}return s.Ca.d_(h),c})).apply(this,arguments)}function my(a){return vl(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function eE(a){return r=Ht(a).localStore,Ht(Ht(r).persistence).Qi();var r}function tE(a,t,r,s){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,K.A)(function*(a,t,r,s){const c=Ht(a);if(c.Qa)return void xt("SyncEngine","Ignoring unexpected query state notification.");const h=c.Ma.get(t);if(h&&h.length>0)switch(r){case"current":case"not-current":{const y=yield _p(c.localStore,Oc(h[0])),I=oi.createSynthesizedRemoteEventForCurrentChange(t,"current"===r,rn.EMPTY_BYTE_STRING);yield Jc(c,y,I);break}case"rejected":yield Nd(c.localStore,t,!0),So(c,t,s);break;default:en()}})).apply(this,arguments)}function nE(a,t,r){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,K.A)(function*(a,t,r){const s=ff(a);if(s.Qa){for(const c of t){if(s.Ma.has(c)&&s.sharedClientState.isActiveQueryTarget(c)){xt("SyncEngine","Adding an already active target "+c);continue}const h=yield Qh(s.localStore,c),y=yield xs(s.localStore,h);yield K_(s,my(h),y.targetId,!1,y.resumeToken),Rp(s.remoteStore,y)}for(const c of r)s.Ma.has(c)&&(yield Nd(s.localStore,c,!1).then(()=>{sc(s.remoteStore,c),So(s,c)}).catch(Nr))}})).apply(this,arguments)}function ff(a){const t=Ht(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=Q_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=J_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lf.bind(null,t),t.Ca.d_=Vp.bind(null,t.eventManager),t.Ca.$a=VT.bind(null,t.eventManager),t}function Jp(a){const t=Ht(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=X_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HT.bind(null,t),t}class jd{constructor(){this.synchronizeTabs=!1}initialize(t){var r=this;return(0,K.A)(function*(){r.serializer=ra(t.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(t),r.persistence=r.createPersistence(t),yield r.persistence.start(),r.localStore=r.createLocalStore(t),r.gcScheduler=r.createGarbageCollectionScheduler(t,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(t,r.localStore)})()}createGarbageCollectionScheduler(t,r){return null}createIndexBackfillerScheduler(t,r){return null}createLocalStore(t){return Ti(this.persistence,new zo,t.initialUser,this.serializer)}createPersistence(t){return new Gh(Pd.Zr,this.serializer)}createSharedClientState(t){return new wp}terminate(){var t=this;return(0,K.A)(function*(){var r,s;null===(r=t.gcScheduler)||void 0===r||r.stop(),null===(s=t.indexBackfillerScheduler)||void 0===s||s.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class yy extends jd{constructor(t,r,s){super(),this.Wa=t,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(t){var r=()=>super.initialize,s=this;return(0,K.A)(function*(){yield r().call(s,t),yield s.Wa.initialize(s,t),yield Jp(s.Wa.syncEngine),yield Hl(s.Wa.remoteStore),yield s.persistence.yi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return Ti(this.persistence,new zo,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,r){return new It(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,r)}createIndexBackfillerScheduler(t,r){const s=new nu(r,this.persistence);return new xa(t.asyncQueue,s)}createPersistence(t){const r=vp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new yp(this.synchronizeTabs,r,t.clientId,s,t.asyncQueue,Xm(),Cp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new wp}}class vy extends yy{constructor(t,r){super(t,r,!1),this.Wa=t,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(t){var r=()=>super.initialize,s=this;return(0,K.A)(function*(){yield r().call(s,t);const c=s.Wa.syncEngine;s.sharedClientState instanceof oc&&(s.sharedClientState.syncEngine={no:KT.bind(null,c),ro:tE.bind(null,c),io:nE.bind(null,c),Qi:eE.bind(null,c),eo:zT.bind(null,c)},yield s.sharedClientState.start()),yield s.persistence.yi(function(){var h=(0,K.A)(function*(y){yield function qT(a,t){return py.apply(this,arguments)}(s.Wa.syncEngine,y),s.gcScheduler&&(y&&!s.gcScheduler.started?s.gcScheduler.start():y||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(y&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():y||s.indexBackfillerScheduler.stop())});return function(y){return h.apply(this,arguments)}}())})()}createSharedClientState(t){const r=Xm();if(!oc.D(r))throw new St(ft.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=vp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new oc(r,t.asyncQueue,s,t.clientId,t.initialUser)}}class pf{initialize(t,r){var s=this;return(0,K.A)(function*(){s.localStore||(s.localStore=t.localStore,s.sharedClientState=t.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!t.synchronizeTabs),s.sharedClientState.onlineStateHandler=c=>dy(s.syncEngine,c,1),s.remoteStore.remoteSyncer.handleCredentialChange=Ud.bind(null,s.syncEngine),yield Lp(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Bu}createDatastore(t){const r=ra(t.databaseInfo.databaseId),s=new S_(t.databaseInfo);return new Dp(t.authCredentials,t.appCheckCredentials,s,r)}createRemoteStore(t){return s=this.localStore,c=this.datastore,h=t.asyncQueue,y=r=>dy(this.syncEngine,r,0),I=b_.D()?new b_:new Jh,new NT(s,c,h,y,I);var s,c,h,y,I}createSyncEngine(t,r){return function(c,h,y,I,b,k,Q){const ue=new cc(c,h,y,I,b,k);return Q&&(ue.Qa=!0),ue}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){var t=this;return(0,K.A)(function*(){var r,s,c;yield(c=(0,K.A)(function*(y){const I=Ht(y);xt("RemoteStore","RemoteStore shutting down."),I.L_.add(5),yield jl(I),I.k_.shutdown(),I.q_.set("Unknown")}),function h(y){return c.apply(this,arguments)})(t.remoteStore),null===(r=t.datastore)||void 0===r||r.terminate(),null===(s=t.eventManager)||void 0===s||s.terminate()})()}}function _y(a,t=10240){let r=0;return{read:()=>(0,K.A)(function*(){if(r<a.byteLength){const s={value:a.slice(r,r+t),done:!1};return r+=t,s}return{done:!0}})(),cancel:()=>(0,K.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Zp{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ga(this.observer.next,t)}error(t){this.observer.error?this.Ga(this.observer.error,t):zr("Uncaught Error in snapshot listener:",t.toString())}za(){this.muted=!0}Ga(t,r){this.muted||setTimeout(()=>{this.muted||t(r)},0)}}class YT{constructor(t,r){this.ja=t,this.serializer=r,this.metadata=new _i,this.buffer=new Uint8Array,this.Ha=new TextDecoder("utf-8"),this.Ja().then(s=>{s&&s.ua()?this.metadata.resolve(s.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.aa)}`))},s=>this.metadata.reject(s))}close(){return this.ja.cancel()}getMetadata(){var t=this;return(0,K.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,K.A)(function*(){return yield t.getMetadata(),t.Ja()})()}Ja(){var t=this;return(0,K.A)(function*(){const r=yield t.Ya();if(null===r)return null;const s=t.Ha.decode(r),c=Number(s);isNaN(c)&&t.Za(`length string (${s}) is not valid number`);const h=yield t.Xa(c);return new UT(JSON.parse(h),r.length+c)})()}eu(){return this.buffer.findIndex(t=>123===t)}Ya(){var t=this;return(0,K.A)(function*(){for(;t.eu()<0&&!(yield t.tu()););if(0===t.buffer.length)return null;const r=t.eu();r<0&&t.Za("Reached the end of bundle when a length string is expected.");const s=t.buffer.slice(0,r);return t.buffer=t.buffer.slice(r),s})()}Xa(t){var r=this;return(0,K.A)(function*(){for(;r.buffer.length<t;)(yield r.tu())&&r.Za("Reached the end of bundle when more is expected.");const s=r.Ha.decode(r.buffer.slice(0,t));return r.buffer=r.buffer.slice(t),s})()}Za(t){throw this.ja.cancel(),new Error(`Invalid bundle format: ${t}`)}tu(){var t=this;return(0,K.A)(function*(){const r=yield t.ja.read();if(!r.done){const s=new Uint8Array(t.buffer.length+r.value.length);s.set(t.buffer),s.set(r.value,t.buffer.length),t.buffer=s}return r.done})()}}class fC{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var r=this;return(0,K.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new St(ft.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(c=(0,K.A)(function*(y,I){const b=Ht(y),k={documents:I.map(Je=>na(b.serializer,Je))},Q=yield b.Lo("BatchGetDocuments",b.serializer.databaseId,On.emptyPath(),k,I.length),ue=new Map;Q.forEach(Je=>{const wt=function Uc(a,t){return"found"in t?function(s,c){on(!!c.found);const h=Ms(s,c.found.name),y=mi(c.found.updateTime),I=c.found.createTime?mi(c.found.createTime):ln.min(),b=new Or({mapValue:{fields:c.found.fields}});return fr.newFoundDocument(h,y,I,b)}(a,t):"missing"in t?function(s,c){on(!!c.missing),on(!!c.readTime);const h=Ms(s,c.missing),y=mi(c.readTime);return fr.newNoDocument(h,y)}(a,t):en()}(b.serializer,Je);ue.set(wt.key.toString(),wt)});const Ce=[];return I.forEach(Je=>{const wt=ue.get(Je.toString());on(!!wt),Ce.push(wt)}),Ce}),function h(y,I){return c.apply(this,arguments)})(r.datastore,t);var c;return s.forEach(c=>r.recordVersion(c)),s})()}set(t,r){this.write(r.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,r){try{this.write(r.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new Zu(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,K.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const r=t.readVersions;var s;t.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,c)=>{const h=$t.fromPath(c);t.mutations.push(new Dl(h,t.precondition(h)))}),yield(s=(0,K.A)(function*(h,y){const I=Ht(h),b={writes:y.map(k=>Lu(I.serializer,k))};yield I.Mo("Commit",I.serializer.databaseId,On.emptyPath(),b)}),function c(h,y){return s.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let r;if(t.isFoundDocument())r=t.version;else{if(!t.isNoDocument())throw en();r=ln.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!r.isEqual(s))throw new St(ft.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),r)}precondition(t){const r=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&r?r.isEqual(ln.min())?gi.exists(!1):gi.updateTime(r):gi.none()}preconditionForUpdate(t){const r=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&r){if(r.isEqual(ln.min()))throw new St(ft.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gi.updateTime(r)}return gi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class JT{constructor(t,r,s,c,h){this.asyncQueue=t,this.datastore=r,this.options=s,this.updateFunction=c,this.deferred=h,this.nu=s.maxAttempts,this.t_=new Ym(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){var t=this;this.t_.Go((0,K.A)(function*(){const r=new fC(t.datastore),s=t.su(r);s&&s.then(c=>{t.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{t.deferred.resolve(c)}).catch(h=>{t.ou(h)}))}).catch(c=>{t.ou(c)})}))}su(t){try{const r=this.updateFunction(t);return!Si(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ou(t){this.nu>0&&this._u(t)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(t)}_u(t){if("FirebaseError"===t.name){const r=t.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Lc(r)}return!1}}class rE{constructor(t,r,s,c){var h=this;this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=c,this.user=Wr.UNAUTHENTICATED,this.clientId=Io.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var y=(0,K.A)(function*(I){xt("FirestoreClient","Received user=",I.uid),yield h.authCredentialListener(I),h.user=I});return function(I){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(s,y=>(xt("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new St(ft.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const r=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,K.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),r.resolve()}catch(s){const c=kd(s,"Failed to shutdown persistence");r.reject(c)}})),r.promise}}function $d(a,t){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,K.A)(function*(a,t){a.asyncQueue.verifyOperationInProgress(),xt("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield t.initialize(r);let s=r.initialUser;a.setCredentialChangeListener(function(){var c=(0,K.A)(function*(h){s.isEqual(h)||(yield I_(t.localStore,h),s=h)});return function(h){return c.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}),Ey.apply(this,arguments)}function ju(a,t){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,K.A)(function*(a,t){a.asyncQueue.verifyOperationInProgress();const r=yield eg(a);xt("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(r,a.configuration),a.setCredentialChangeListener(s=>F_(t.remoteStore,s)),a.setAppCheckTokenChangeListener((s,c)=>F_(t.remoteStore,c)),a._onlineComponents=t})).apply(this,arguments)}function iE(a){return"FirebaseError"===a.name?a.code===ft.FAILED_PRECONDITION||a.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code}function eg(a){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,K.A)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){xt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $d(a,a._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!iE(r))throw r;Vi("Error using user provided cache. Falling back to memory cache: "+r),yield $d(a,new jd)}}else xt("FirestoreClient","Using default OfflineComponentProvider"),yield $d(a,new jd);return a._offlineComponents})).apply(this,arguments)}function Iy(a){return oE.apply(this,arguments)}function oE(){return(oE=(0,K.A)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(xt("FirestoreClient","Using user provided OnlineComponentProvider"),yield ju(a,a._uninitializedComponentsProvider._online)):(xt("FirestoreClient","Using default OnlineComponentProvider"),yield ju(a,new pf))),a._onlineComponents})).apply(this,arguments)}function sE(a){return eg(a).then(t=>t.persistence)}function Wd(a){return eg(a).then(t=>t.localStore)}function aE(a){return Iy(a).then(t=>t.remoteStore)}function uE(a){return Iy(a).then(t=>t.syncEngine)}function lc(a){return Ty.apply(this,arguments)}function Ty(){return(Ty=(0,K.A)(function*(a){const t=yield Iy(a),r=t.eventManager;return r.onListen=jT.bind(null,t.syncEngine),r.onUnlisten=Vd.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=hC.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=q_.bind(null,t.syncEngine),r})).apply(this,arguments)}function gf(a,t,r={}){const s=new _i;return a.asyncQueue.enqueueAndForget((0,K.A)(function*(){return function(h,y,I,b,k){const Q=new Zp({next:Ce=>{y.enqueueAndForget(()=>B_(h,ue));const Je=Ce.docs.has(I);!Je&&Ce.fromCache?k.reject(new St(ft.UNAVAILABLE,"Failed to get document because the client is offline.")):Je&&Ce.fromCache&&b&&"server"===b.source?k.reject(new St(ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):k.resolve(Ce)},error:Ce=>k.reject(Ce)}),ue=new sy(uu(I.path),Q,{includeMetadataChanges:!0,_a:!0});return kp(h,ue)}(yield lc(a),a.asyncQueue,t,r,s)})),s.promise}function Kd(a,t,r={}){const s=new _i;return a.asyncQueue.enqueueAndForget((0,K.A)(function*(){return function(h,y,I,b,k){const Q=new Zp({next:Ce=>{y.enqueueAndForget(()=>B_(h,ue)),Ce.fromCache&&"server"===b.source?k.reject(new St(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):k.resolve(Ce)},error:Ce=>k.reject(Ce)}),ue=new sy(I,Q,{includeMetadataChanges:!0,_a:!0});return kp(h,ue)}(yield lc(a),a.asyncQueue,t,r,s)})),s.promise}function rg(a){const t={};return void 0!==a.timeoutSeconds&&(t.timeoutSeconds=a.timeoutSeconds),t}const Qd=new Map;function Sy(a,t,r){if(!r)throw new St(ft.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function Ry(a,t,r,s){if(!0===t&&!0===s)throw new St(ft.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function cE(a){if(!$t.isDocumentKey(a))throw new St(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function lE(a){if($t.isDocumentKey(a))throw new St(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Xd(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const t=(s=a).constructor?s.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var s;return"function"==typeof a?"a function":en()}function or(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new St(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Xd(a);throw new St(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return a}function dE(a,t){if(t<=0)throw new St(ft.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${t}.`)}class hE{constructor(t){var r,s;if(void 0===t.host){if(void 0!==t.ssl)throw new St(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(r=t.ssl)||void 0===r||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new St(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ry("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=rg(null!==(s=t.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new St(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new St(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new St(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class dc{constructor(t,r,s,c){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new St(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new St(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hE(t),void 0!==t.credentials&&(this._authCredentials=function(s){if(!s)return new Ts;switch(s.type){case"firstParty":return new ws(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new St(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Qd.get(r);s&&(xt("ComponentProvider","Removing Datastore"),Qd.delete(r),s.terminate())}(this),Promise.resolve()}}class Ro{constructor(t,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ro(this.firestore,t,this._query)}}class Li{constructor(t,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Li(this.firestore,t,this._key)}}class hc extends Ro{constructor(t,r,s){super(t,r,uu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Li(this.firestore,null,new $t(t))}withConverter(t){return new hc(this.firestore,t,this._path)}}function ew(a,t,...r){if(a=(0,ot.Ku)(a),Sy("collection","path",t),a instanceof dc){const s=On.fromString(t,...r);return lE(s),new hc(a,null,s)}{if(!(a instanceof Li||a instanceof hc))throw new St(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(On.fromString(t,...r));return lE(s),new hc(a.firestore,null,s)}}function ig(a,t,...r){if(a=(0,ot.Ku)(a),1===arguments.length&&(t=Io.newId()),Sy("doc","path",t),a instanceof dc){const s=On.fromString(t,...r);return cE(s),new Li(a,null,new $t(s))}{if(!(a instanceof Li||a instanceof hc))throw new St(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(On.fromString(t,...r));return cE(s),new Li(a.firestore,a instanceof hc?a.converter:null,new $t(s))}}function vf(a,t){return a=(0,ot.Ku)(a),t=(0,ot.Ku)(t),(a instanceof Li||a instanceof hc)&&(t instanceof Li||t instanceof hc)&&a.firestore===t.firestore&&a.path===t.path&&a.converter===t.converter}function _f(a,t){return a=(0,ot.Ku)(a),t=(0,ot.Ku)(t),a instanceof Ro&&t instanceof Ro&&a.firestore===t.firestore&&Mu(a._query,t._query)&&a.converter===t.converter}class fE{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Ym(this,"async_queue_retry"),this.Eu=()=>{const r=Cp();r&&xt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()};const t=Cp();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.du(),this.Au(t)}enterRestrictedMode(t){if(!this.cu){this.cu=!0,this.Iu=t||!1;const r=Cp();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Eu)}}enqueue(t){if(this.du(),this.cu)return new Promise(()=>{});const r=new _i;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.uu.push(t),this.Ru()))}Ru(){var t=this;return(0,K.A)(function*(){if(0!==t.uu.length){try{yield t.uu[0](),t.uu.shift(),t.t_.reset()}catch(r){if(!di(r))throw r;xt("AsyncQueue","Operation failed with retryable error: "+r)}t.uu.length>0&&t.t_.Go(()=>t.Ru())}})()}Au(t){const r=this.au.then(()=>(this.Pu=!0,t().catch(s=>{throw this.hu=s,this.Pu=!1,zr("INTERNAL UNHANDLED ERROR: ",function(y){let I=y.message||"";return y.stack&&(I=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),I}(s)),s}).then(s=>(this.Pu=!1,s))));return this.au=r,r}enqueueAfterDelay(t,r,s){this.du(),this.Tu.indexOf(t)>-1&&(r=0);const c=Gl.createAndSchedule(this,t,r,s,h=>this.Vu(h));return this.lu.push(c),c}du(){this.hu&&en()}verifyOperationInProgress(){}mu(){var t=this;return(0,K.A)(function*(){let r;do{r=t.au,yield r}while(r!==t.au)})()}fu(t){for(const r of this.lu)if(r.timerId===t)return!0;return!1}gu(t){return this.mu().then(()=>{this.lu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.lu)if(r.skipDelay(),"all"!==t&&r.timerId===t)break;return this.mu()})}pu(t){this.Tu.push(t)}Vu(t){const r=this.lu.indexOf(t);this.lu.splice(r,1)}}function My(a){return function(r){if("object"!=typeof r||null===r)return!1;const c=r;for(const h of["next","error","complete"])if(h in c&&"function"==typeof c[h])return!0;return!1}(a)}class pE{constructor(){this._progressObserver={},this._taskCompletionResolver=new _i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,r,s){this._progressObserver={next:t,error:r,complete:s}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,r){return this._taskCompletionResolver.promise.then(t,r)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class pi extends dc{constructor(t,r,s,c){super(t,r,s,c),this.type="firestore",this._queue=new fE,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Oy(this),this._firestoreClient.terminate()}}function wi(a){return a._firestoreClient||Oy(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function Oy(a){var t,r,s;const c=a._freezeSettings(),h=(b=(null===(t=a._app)||void 0===t?void 0:t.options.appId)||"",new er(a._databaseId,b,a._persistenceKey,(Q=c).host,Q.ssl,Q.experimentalForceLongPolling,Q.experimentalAutoDetectLongPolling,rg(Q.experimentalLongPollingOptions),Q.useFetchStreams));var b,Q;a._firestoreClient=new rE(a._authCredentials,a._appCheckCredentials,a._queue,h),null!==(r=c.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=c.localCache)&&void 0!==s&&s._onlineComponentProvider&&(a._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.localCache.kind,_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider})}function Ef(a,t,r){const s=new _i;return a.asyncQueue.enqueue((0,K.A)(function*(){try{yield $d(a,r),yield ju(a,t),s.resolve()}catch(c){const h=c;if(!iE(h))throw h;Vi("Error enabling indexeddb cache. Falling back to memory cache: "+h),s.reject(h)}})).then(()=>s.promise)}function iw(a){if(a._initialized||a._terminated)throw new St(ft.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new gu(rn.fromBase64String(t))}catch(r){throw new St(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new gu(rn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class $u{constructor(...t){for(let r=0;r<t.length;++r)if(0===t[r].length)throw new St(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class el{constructor(t){this._methodName=t}}class sg{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new St(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new St(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return cn(this._lat,t._lat)||cn(this._long,t._long)}}class ag{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,c){if(s.length!==c.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==c[h])return!1;return!0}(this._values,t._values)}}const sw=/^__.*__$/;class aw{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return null!==this.fieldMask?new ga(t,this.data,this.fieldMask,r,this.fieldTransforms):new pa(t,this.data,r,this.fieldTransforms)}}class vE{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return new ga(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function fc(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw en()}}class tl{constructor(t,r,s,c,h,y){this.settings=t,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=c,void 0===h&&this.yu(),this.fieldTransforms=h||[],this.fieldMask=y||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(t){return new tl(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(t){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(t),c=this.Su({path:s,Du:!1});return c.vu(t),c}Cu(t){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(t),c=this.Su({path:s,Du:!1});return c.yu(),c}Fu(t){return this.Su({path:void 0,Du:!0})}Mu(t){return Gy(t,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(t){return void 0!==this.fieldMask.find(r=>t.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>t.isPrefixOf(r.field))}yu(){if(this.path)for(let t=0;t<this.path.length;t++)this.vu(this.path.get(t))}vu(t){if(0===t.length)throw this.Mu("Document fields must not be empty");if(fc(this.wu)&&sw.test(t))throw this.Mu('Document fields cannot begin and end with "__"')}}class uw{constructor(t,r,s){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=s||ra(t)}Nu(t,r,s,c=!1){return new tl({wu:t,methodName:r,Ou:s,path:Ot.emptyPath(),Du:!1,xu:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jd(a){const t=a._freezeSettings(),r=ra(a._databaseId);return new uw(a._databaseId,!!t.ignoreUndefinedProperties,r)}function Fy(a,t,r,s,c,h={}){const y=a.Nu(h.merge||h.mergeFields?2:0,t,r,c);dg("Data must be an object, but it was:",y,s);const I=Zd(s,y);let b,k;if(h.merge)b=new ii(y.fieldMask),k=y.fieldTransforms;else if(h.mergeFields){const Q=[];for(const ue of h.mergeFields){const Ce=eh(t,ue,r);if(!y.contains(Ce))throw new St(ft.INVALID_ARGUMENT,`Field '${Ce}' is specified in your field mask but missing from your input data.`);hg(Q,Ce)||Q.push(Ce)}b=new ii(Q),k=y.fieldTransforms.filter(ue=>b.covers(ue.field))}else b=null,k=y.fieldTransforms;return new aw(new Or(I),b,k)}class ug extends el{_toFieldTransform(t){if(2!==t.wu)throw t.Mu(1===t.wu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ug}}function cw(a,t,r){return new tl({wu:3,Ou:t.settings.Ou,methodName:a._methodName,Du:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class _E extends el{_toFieldTransform(t){return new Ju(t.path,new Tl)}isEqual(t){return t instanceof _E}}class cg extends el{constructor(t,r){super(t),this.Lu=r}_toFieldTransform(t){const r=cw(this,t,!0),s=this.Lu.map(h=>ks(h,r)),c=new is(s);return new Ju(t.path,c)}isEqual(t){return t instanceof cg&&(0,ot.bD)(this.Lu,t.Lu)}}class Vy extends el{constructor(t,r){super(t),this.Lu=r}_toFieldTransform(t){const r=cw(this,t,!0),s=this.Lu.map(h=>ks(h,r)),c=new cu(s);return new Ju(t.path,c)}isEqual(t){return t instanceof Vy&&(0,ot.bD)(this.Lu,t.Lu)}}class Uy extends el{constructor(t,r){super(t),this.Bu=r}_toFieldTransform(t){const r=new Yu(t.serializer,Ao(t.serializer,this.Bu));return new Ju(t.path,r)}isEqual(t){return t instanceof Uy&&this.Bu===t.Bu}}function By(a,t,r,s){const c=a.Nu(1,t,r);dg("Data must be an object, but it was:",c,s);const h=[],y=Or.empty();Fa(s,(b,k)=>{const Q=Hy(t,b,r);k=(0,ot.Ku)(k);const ue=c.Cu(Q);if(k instanceof ug)h.push(Q);else{const Ce=ks(k,ue);null!=Ce&&(h.push(Q),y.set(Q,Ce))}});const I=new ii(h);return new vE(y,I,c.fieldTransforms)}function jy(a,t,r,s,c,h){const y=a.Nu(1,t,r),I=[eh(t,s,r)],b=[c];if(h.length%2!=0)throw new St(ft.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ce=0;Ce<h.length;Ce+=2)I.push(eh(t,h[Ce])),b.push(h[Ce+1]);const k=[],Q=Or.empty();for(let Ce=I.length-1;Ce>=0;--Ce)if(!hg(k,I[Ce])){const Je=I[Ce];let wt=b[Ce];wt=(0,ot.Ku)(wt);const Lt=y.Cu(Je);if(wt instanceof ug)k.push(Je);else{const Rt=ks(wt,Lt);null!=Rt&&(k.push(Je),Q.set(Je,Rt))}}const ue=new ii(k);return new vE(Q,ue,y.fieldTransforms)}function lg(a,t,r,s=!1){return ks(r,a.Nu(s?4:3,t))}function ks(a,t){if($y(a=(0,ot.Ku)(a)))return dg("Unsupported field value:",t,a),Zd(a,t);if(a instanceof el)return function(s,c){if(!fc(c.wu))throw c.Mu(`${s._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Mu(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(c);h&&c.fieldTransforms.push(h)}(a,t),null;if(void 0===a&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.Du&&4!==t.wu)throw t.Mu("Nested arrays are not supported");return function(s,c){const h=[];let y=0;for(const I of s){let b=ks(I,c.Fu(y));null==b&&(b={nullValue:"NULL_VALUE"}),h.push(b),y++}return{arrayValue:{values:h}}}(a,t)}return function(s,c){if(null===(s=(0,ot.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Ao(c.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const h=Mr.fromDate(s);return{timestampValue:ma(c.serializer,h)}}if(s instanceof Mr){const h=new Mr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ma(c.serializer,h)}}if(s instanceof sg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof gu)return{bytesValue:si(c.serializer,s._byteString)};if(s instanceof Li){const h=c.databaseId,y=s.firestore._databaseId;if(!y.isEqual(h))throw c.Mu(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:ya(s.firestore._databaseId||c.databaseId,s._key.path)}}if(s instanceof ag)return I=c,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(b=>{if("number"!=typeof b)throw I.Mu("VectorValues must only contain numeric values.");return $o(I.serializer,b)})}}}}};var I;throw c.Mu(`Unsupported field value: ${Xd(s)}`)}(a,t)}function Zd(a,t){const r={};return hd(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fa(a,(s,c)=>{const h=ks(c,t.bu(s));null!=h&&(r[s]=h)}),{mapValue:{fields:r}}}function $y(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Mr||a instanceof sg||a instanceof gu||a instanceof Li||a instanceof el||a instanceof ag)}function dg(a,t,r){if(!$y(r)||"object"!=typeof(c=r)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const s=Xd(r);throw t.Mu("an object"===s?a+" a custom object":a+" "+s)}var c}function eh(a,t,r){if((t=(0,ot.Ku)(t))instanceof $u)return t._internalPath;if("string"==typeof t)return Hy(a,t);throw Gy("Field path arguments must be of type string or ",a,!1,void 0,r)}const gC=new RegExp("[~\\*/\\[\\]]");function Hy(a,t,r){if(t.search(gC)>=0)throw Gy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new $u(...t.split("."))._internalPath}catch{throw Gy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function Gy(a,t,r,s,c){const h=s&&!s.isEmpty(),y=void 0!==c;let I=`Function ${t}() called with invalid data`;r&&(I+=" (via `toFirestore()`)"),I+=". ";let b="";return(h||y)&&(b+=" (found",h&&(b+=` in field ${s}`),y&&(b+=` in document ${c}`),b+=")"),new St(ft.INVALID_ARGUMENT,I+a+b)}function hg(a,t){return a.some(r=>r.isEqual(t))}class ql{constructor(t,r,s,c,h){this._firestore=t,this._userDataWriter=r,this._key=s,this._document=c,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Li(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new mC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Wy("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r)}}}class mC extends ql{data(){return super.data()}}function Wy(a,t){return"string"==typeof t?Hy(a,t):t instanceof $u?t._internalPath:t._delegate._internalPath}function zy(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new St(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ky{}class Tf extends Ky{}function nl(a,t,...r){let s=[];t instanceof Ky&&s.push(t),s=s.concat(r),function(h){const y=h.filter(b=>b instanceof Ql).length,I=h.filter(b=>b instanceof wf).length;if(y>1||y>0&&I>0)throw new St(ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const c of s)a=c._apply(a);return a}class wf extends Tf{constructor(t,r,s){super(),this._field=t,this._op=r,this._value=s,this.type="where"}static _create(t,r,s){return new wf(t,r,s)}_apply(t){const r=this._parse(t);return DE(t._query,r),new Ro(t.firestore,t.converter,El(t._query,r))}_parse(t){const r=Jd(t.firestore);return function(h,y,I,b,k,Q,ue){let Ce;if(k.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new St(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){CE(ue,Q);const Je=[];for(const wt of ue)Je.push(AE(b,h,wt));Ce={arrayValue:{values:Je}}}else Ce=AE(b,h,ue)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||CE(ue,Q),Ce=lg(I,"where",ue,"in"===Q||"not-in"===Q);return Qn.create(k,Q,Ce)}(t._query,0,r,t.firestore._databaseId,this._field,this._op,this._value)}}class Ql extends Ky{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Ql(t,r)}_parse(t){const r=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:Tr.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return 0===r.getFilters().length?t:(function(c,h){let y=c;const I=h.getFlattenedFilters();for(const b of I)DE(y,b),y=El(y,b)}(t._query,r),new Ro(t.firestore,t.converter,El(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class qy extends Tf{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new qy(t,r)}_apply(t){const r=function(c,h,y){if(null!==c.startAt)throw new St(ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new St(ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new au(h,y)}(t._query,this._field,this._direction);return new Ro(t.firestore,t.converter,function(c,h){const y=c.explicitOrderBy.concat([h]);return new Ps(c.path,c.collectionGroup,y,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(t._query,r))}}class Xl extends Tf{constructor(t,r,s){super(),this.type=t,this._limit=r,this._limitType=s}static _create(t,r,s){return new Xl(t,r,s)}_apply(t){return new Ro(t.firestore,t.converter,Il(t._query,this._limit,this._limitType))}}class fg extends Tf{constructor(t,r,s){super(),this.type=t,this._docOrFields=r,this._inclusive=s}static _create(t,r,s){return new fg(t,r,s)}_apply(t){const r=wE(t,this.type,this._docOrFields,this._inclusive);return new Ro(t.firestore,t.converter,(h=r,new Ps((c=t._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,h,c.endAt)));var c,h}}class Af extends Tf{constructor(t,r,s){super(),this.type=t,this._docOrFields=r,this._inclusive=s}static _create(t,r,s){return new Af(t,r,s)}_apply(t){const r=wE(t,this.type,this._docOrFields,this._inclusive);return new Ro(t.firestore,t.converter,(h=r,new Ps((c=t._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,h)));var c,h}}function wE(a,t,r,s){if(r[0]=(0,ot.Ku)(r[0]),r[0]instanceof ql)return function(h,y,I,b,k){if(!b)throw new St(ft.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${I}().`);const Q=[];for(const ue of Pu(h))if(ue.field.isKeyField())Q.push(fe(y,b.key));else{const Ce=b.data.field(ue.field);if(Au(Ce))throw new St(ft.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ue.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ce){const Je=ue.field.canonicalString();throw new St(ft.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Je}' (used as the orderBy) does not exist.`)}Q.push(Ce)}return new go(Q,k)}(a._query,a.firestore._databaseId,t,r[0]._document,s);{const c=Jd(a.firestore);return function(y,I,b,k,Q,ue){const Ce=y.explicitOrderBy;if(Q.length>Ce.length)throw new St(ft.INVALID_ARGUMENT,`Too many arguments provided to ${k}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Je=[];for(let wt=0;wt<Q.length;wt++){const Lt=Q[wt];if(Ce[wt].field.isKeyField()){if("string"!=typeof Lt)throw new St(ft.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${k}(), but got a ${typeof Lt}`);if(!Mc(y)&&-1!==Lt.indexOf("/"))throw new St(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${k}() must be a plain document ID, but '${Lt}' contains a slash.`);const Rt=y.path.child(On.fromString(Lt));if(!$t.isDocumentKey(Rt))throw new St(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${k}() must result in a valid document path, but '${Rt}' is not because it contains an odd number of segments.`);const nn=new $t(Rt);Je.push(fe(I,nn))}else{const Rt=lg(b,k,Lt);Je.push(Rt)}}return new go(Je,ue)}(a._query,a.firestore._databaseId,c,t,r,s)}}function AE(a,t,r){if("string"==typeof(r=(0,ot.Ku)(r))){if(""===r)throw new St(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mc(t)&&-1!==r.indexOf("/"))throw new St(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=t.path.child(On.fromString(r));if(!$t.isDocumentKey(s))throw new St(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return fe(a,new $t(s))}if(r instanceof Li)return fe(a,r._key);throw new St(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xd(r)}.`)}function CE(a,t){if(!Array.isArray(a)||0===a.length)throw new St(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function DE(a,t){const r=function(c,h){for(const y of c)for(const I of y.getFlattenedFilters())if(h.indexOf(I.op)>=0)return I.op;return null}(a.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==r)throw new St(ft.INVALID_ARGUMENT,r===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class bE{convertValue(t,r="none"){switch(ts(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Kr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Xs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw en()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const s={};return Fa(t,(c,h)=>{s[c]=this.convertValue(h,r)}),s}convertVectorValue(t){var r,s,c;const h=null===(c=null===(s=null===(r=t.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===s?void 0:s.values)||void 0===c?void 0:c.map(y=>Kr(y.doubleValue));return new ag(h)}convertGeoPoint(t){return new sg(Kr(t.latitude),Kr(t.longitude))}convertArray(t,r){return(t.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(t,r){switch(r){case"previous":const s=Cu(t);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Ys(t));default:return null}}convertTimestamp(t){const r=Qs(t);return new Mr(r.seconds,r.nanos)}convertDocumentKey(t,r){const s=On.fromString(t);on(cp(s));const c=new Ds(s.get(1),s.get(3)),h=new $t(s.popFirst(5));return c.isEqual(r)||zr(`Document ${h} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}function Yy(a,t,r){let s;return s=a?r&&(r.merge||r.mergeFields)?a.toFirestore(t,r):a.toFirestore(t):t,s}class Cf extends bE{constructor(t){super(),this.firestore=t}convertBytes(t){return new gu(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Li(this.firestore,null,r)}}class Yl{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class pc extends ql{constructor(t,r,s,c,h,y){super(t,r,s,c,y),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const s=this._document.data.field(Wy("DocumentSnapshot.get",t));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Df extends pc{data(t={}){return super.data(t)}}class rl{constructor(t,r,s,c){this._firestore=t,this._userDataWriter=r,this._snapshot=c,this.metadata=new Yl(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,r){this._snapshot.docs.forEach(s=>{t.call(r,new Df(this._firestore,this._userDataWriter,s.key,s,new Yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new St(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(c,h){if(c._snapshot.oldDocs.isEmpty()){let y=0;return c._snapshot.docChanges.map(I=>({type:"added",doc:new Df(c._firestore,c._userDataWriter,I.doc.key,I.doc,new Yl(c._snapshot.mutatedKeys.has(I.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:y++}))}{let y=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(I=>h||3!==I.type).map(I=>{const b=new Df(c._firestore,c._userDataWriter,I.doc.key,I.doc,new Yl(c._snapshot.mutatedKeys.has(I.doc.key),c._snapshot.fromCache),c.query.converter);let k=-1,Q=-1;return 0!==I.type&&(k=y.indexOf(I.doc.key),y=y.delete(I.doc.key)),1!==I.type&&(y=y.add(I.doc),Q=y.indexOf(I.doc.key)),{type:mw(I.type),doc:b,oldIndex:k,newIndex:Q}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function mw(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return en()}}function pg(a,t){return a instanceof pc&&t instanceof pc?a._firestore===t._firestore&&a._key.isEqual(t._key)&&(null===a._document?null===t._document:a._document.isEqual(t._document))&&a._converter===t._converter:a instanceof rl&&t instanceof rl&&a._firestore===t._firestore&&_f(a.query,t.query)&&a.metadata.isEqual(t.metadata)&&a._snapshot.isEqual(t._snapshot)}class Jl extends bE{constructor(t){super(),this.firestore=t}convertBytes(t){return new gu(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Li(this.firestore,null,r)}}function yw(a,t,r){a=or(a,Li);const s=or(a.firestore,pi),c=Yy(a.converter,t,r);return Zl(s,[Fy(Jd(s),"setDoc",a._key,c,null!==a.converter,r).toMutation(a._key,gi.none())])}function SE(a,t,r,...s){a=or(a,Li);const c=or(a.firestore,pi),h=Jd(c);let y;return y="string"==typeof(t=(0,ot.Ku)(t))||t instanceof $u?jy(h,"updateDoc",a._key,t,r,s):By(h,"updateDoc",a._key,t),Zl(c,[y.toMutation(a._key,gi.exists(!0))])}function Zy(a,...t){var r,s,c;a=(0,ot.Ku)(a);let h={includeMetadataChanges:!1,source:"default"},y=0;"object"!=typeof t[y]||My(t[y])||(h=t[y],y++);const I={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(My(t[y])){const ue=t[y];t[y]=null===(r=ue.next)||void 0===r?void 0:r.bind(ue),t[y+1]=null===(s=ue.error)||void 0===s?void 0:s.bind(ue),t[y+2]=null===(c=ue.complete)||void 0===c?void 0:c.bind(ue)}let b,k,Q;if(a instanceof Li)k=or(a.firestore,pi),Q=uu(a._key.path),b={next:ue=>{t[y]&&t[y](yg(k,a,ue))},error:t[y+1],complete:t[y+2]};else{const ue=or(a,Ro);k=or(ue.firestore,pi),Q=ue._query;const Ce=new Jl(k);b={next:Je=>{t[y]&&t[y](new rl(k,Ce,ue,Je))},error:t[y+1],complete:t[y+2]},zy(a._query)}return function(Ce,Je,wt,Lt){const Rt=new Zp(Lt),nn=new sy(Je,Rt,wt);return Ce.asyncQueue.enqueueAndForget((0,K.A)(function*(){return kp(yield lc(Ce),nn)})),()=>{Rt.za(),Ce.asyncQueue.enqueueAndForget((0,K.A)(function*(){return B_(yield lc(Ce),nn)}))}}(wi(k),Q,I,b)}function Zl(a,t){return function(s,c){const h=new _i;return s.asyncQueue.enqueueAndForget((0,K.A)(function*(){return function ly(a,t,r){return zl.apply(this,arguments)}(yield uE(s),c,h)})),h.promise}(wi(a),t)}function yg(a,t,r){const s=r.docs.get(t._key),c=new Jl(a);return new pc(a,c,t._key,s,new Yl(r.hasPendingWrites,r.fromCache),t.converter)}const tv={maxAttempts:5};class vg{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Jd(t)}set(t,r,s){this._verifyNotCommitted();const c=il(t,this._firestore),h=Yy(c.converter,r,s),y=Fy(this._dataReader,"WriteBatch.set",c._key,h,null!==c.converter,s);return this._mutations.push(y.toMutation(c._key,gi.none())),this}update(t,r,s,...c){this._verifyNotCommitted();const h=il(t,this._firestore);let y;return y="string"==typeof(r=(0,ot.Ku)(r))||r instanceof $u?jy(this._dataReader,"WriteBatch.update",h._key,r,s,c):By(this._dataReader,"WriteBatch.update",h._key,r),this._mutations.push(y.toMutation(h._key,gi.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=il(t,this._firestore);return this._mutations=this._mutations.concat(new Zu(r._key,gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new St(ft.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function il(a,t){if((a=(0,ot.Ku)(a)).firestore!==t)throw new St(ft.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class rh extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Jd(r)}get(r){const s=il(r,this._firestore),c=new Cf(this._firestore);return this._transaction.lookup([s._key]).then(h=>{if(!h||1!==h.length)return en();const y=h[0];if(y.isFoundDocument())return new ql(this._firestore,c,y.key,y,s.converter);if(y.isNoDocument())return new ql(this._firestore,c,s._key,null,s.converter);throw en()})}set(r,s,c){const h=il(r,this._firestore),y=Yy(h.converter,s,c),I=Fy(this._dataReader,"Transaction.set",h._key,y,null!==h.converter,c);return this._transaction.set(h._key,I),this}update(r,s,c,...h){const y=il(r,this._firestore);let I;return I="string"==typeof(s=(0,ot.Ku)(s))||s instanceof $u?jy(this._dataReader,"Transaction.update",y._key,s,c,h):By(this._dataReader,"Transaction.update",y._key,s),this._transaction.update(y._key,I),this}delete(r){const s=il(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(t,r){super(t,r),this._firestore=t}get(t){const r=il(t,this._firestore),s=new Jl(this._firestore);return super.get(t).then(c=>new pc(this._firestore,s,r._key,c._document,new Yl(!1,!1),r.converter))}}function wg(a,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new St("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return t}function av(){if(typeof Uint8Array>"u")throw new St("unimplemented","Uint8Arrays are not available in this environment.")}function Ag(){if(!function wu(){return typeof atob<"u"}())throw new St("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,r=!0){ds=vt.SDK_VERSION,(0,vt._registerComponent)(new hn.uA("firestore",(s,{instanceIdentifier:c,options:h})=>{const y=s.getProvider("app").getImmediate(),I=new pi(new Ji(s.getProvider("auth-internal")),new Qo(s.getProvider("app-check-internal")),function(k,Q){if(!Object.prototype.hasOwnProperty.apply(k.options,["projectId"]))throw new St(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ds(k.options.projectId,Q)}(y,c),y);return h=Object.assign({useFetchStreams:r},h),I._setSettings(h),I},"PUBLIC").setMultipleInstances(!0)),(0,vt.registerVersion)(ia,"4.7.1",t),(0,vt.registerVersion)(ia,"4.7.1","esm2017")}();class sh{constructor(t){this._delegate=t}static fromBase64String(t){return Ag(),new sh(gu.fromBase64String(t))}static fromUint8Array(t){return av(),new sh(gu.fromUint8Array(t))}toBase64(){return Ag(),this._delegate.toBase64()}toUint8Array(){return av(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ah(a){return function ed(a,t){if("object"!=typeof a||null===a)return!1;const r=a;for(const s of t)if(s in r&&"function"==typeof r[s])return!0;return!1}(a,["next","error","complete"])}class VE{enableIndexedDbPersistence(t,r){return function gE(a,t){iw(a=or(a,pi));const r=wi(a);if(r._uninitializedComponentsProvider)throw new St(ft.FAILED_PRECONDITION,"SDK cache is already specified.");Vi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=a._freezeSettings(),c=new pf;return Ef(r,c,new yy(c,s.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(t){return function mE(a){iw(a=or(a,pi));const t=wi(a);if(t._uninitializedComponentsProvider)throw new St(ft.FAILED_PRECONDITION,"SDK cache is already specified.");Vi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=a._freezeSettings(),s=new pf;return Ef(t,s,new vy(s,r.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function xy(a){if(a._initialized&&!a._terminated)throw new St(ft.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new _i;return a._queue.enqueueAndForgetEvenWhileRestricted((0,K.A)(function*(){try{yield(r=(0,K.A)(function*(c){if(!zi.D())return Promise.resolve();const h=c+"main";yield zi.delete(h)}),function s(c){return r.apply(this,arguments)})(vp(a._databaseId,a._persistenceKey)),t.resolve()}catch(r){t.reject(r)}var r})),t.promise}(t._delegate)}}class Cg{constructor(t,r,s){this._delegate=r,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},t instanceof Ds||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const r=this._delegate._getSettings();!t.merge&&r.host!==t.host&&Vi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},r),t)).merge,this._delegate._setSettings(t)}useEmulator(t,r,s={}){!function Py(a,t,r,s={}){var c;const h=(a=or(a,dc))._getSettings(),y=`${t}:${r}`;if("firestore.googleapis.com"!==h.host&&h.host!==y&&Vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},h),{host:y,ssl:!1})),s.mockUserToken){let I,b;if("string"==typeof s.mockUserToken)I=s.mockUserToken,b=Wr.MOCK_USER;else{I=(0,ot.Fy)(s.mockUserToken,null===(c=a._app)||void 0===c?void 0:c.options.projectId);const k=s.mockUserToken.sub||s.mockUserToken.user_id;if(!k)throw new St(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Wr(k)}a._authCredentials=new oa(new Ma(I,b))}}(this._delegate,t,r,s)}enableNetwork(){return function og(a){return function wy(a){return a.asyncQueue.enqueue((0,K.A)(function*(){const t=yield sE(a),r=yield aE(a);return t.setNetworkEnabled(!0),function(c){const h=Ht(c);return h.L_.delete(0),Ld(h)}(r)}))}(wi(a=or(a,pi)))}(this._delegate)}disableNetwork(){return function Ly(a){return function Ay(a){return a.asyncQueue.enqueue((0,K.A)(function*(){const t=yield sE(a),r=yield aE(a);return t.setNetworkEnabled(!1),(s=(0,K.A)(function*(h){const y=Ht(h);y.L_.add(0),yield jl(y),y.q_.set("Offline")}),function c(h){return s.apply(this,arguments)})(r);var s}))}(wi(a=or(a,pi)))}(this._delegate)}enablePersistence(t){let r=!1,s=!1;return t&&(r=!!t.synchronizeTabs,s=!!t.experimentalForceOwningTab,Ry("synchronizeTabs",r,"experimentalForceOwningTab",s)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function yE(a){return function(r){const s=new _i;return r.asyncQueue.enqueueAndForget((0,K.A)(function*(){return function GT(a,t){return Hp.apply(this,arguments)}(yield uE(r),s)})),s.promise}(wi(a=or(a,pi)))}(this._delegate)}onSnapshotsInSync(t){return function RE(a,t){return function qd(a,t){const r=new Zp(t);return a.asyncQueue.enqueueAndForget((0,K.A)(function*(){return c=yield lc(a),h=r,Ht(c).Y_.add(h),void h.next();var c,h})),()=>{r.za(),a.asyncQueue.enqueueAndForget((0,K.A)(function*(){return c=yield lc(a),h=r,void Ht(c).Y_.delete(h);var c,h}))}}(wi(a=or(a,pi)),My(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new St("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new mu(this,ew(this._delegate,t))}catch(r){throw Fs(r,"collection()","Firestore.collection()")}}doc(t){try{return new Ca(this,ig(this._delegate,t))}catch(r){throw Fs(r,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new In(this,function yf(a,t){if(a=or(a,dc),Sy("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new St(ft.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ro(a,null,(s=t,new Ps(On.emptyPath(),s)));var s}(this._delegate,t))}catch(r){throw Fs(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function nv(a,t,r){a=or(a,pi);const s=Object.assign(Object.assign({},tv),r);return function(h){if(h.maxAttempts<1)throw new St(ft.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(h,y,I){const b=new _i;return h.asyncQueue.enqueueAndForget((0,K.A)(function*(){const k=yield function ZT(a){return Iy(a).then(t=>t.datastore)}(h);new JT(h.asyncQueue,k,I,y,b).ru()})),b.promise}(wi(a),c=>t(new rh(a,c)),s)}(this._delegate,r=>t(new Dg(this,r)))}batch(){return wi(this._delegate),new bf(new vg(this._delegate,t=>Zl(this._delegate,t)))}loadBundle(t){return function nw(a,t){const r=wi(a=or(a,pi)),s=new pE;return function Dy(a,t,r,s){const c=function(y,I){let b;return b="string"==typeof y?ap().encode(y):y,Q=function(Q){if(Q instanceof Uint8Array)return _y(Q,void 0);if(Q instanceof ArrayBuffer)return _y(new Uint8Array(Q),void 0);if(Q instanceof ReadableStream)return Q.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(b),new YT(Q,I);var Q}(r,ra(t));a.asyncQueue.enqueueAndForget((0,K.A)(function*(){!function QT(a,t,r){const s=Ht(a);var c;(c=(0,K.A)(function*(y,I,b){try{const k=yield I.getMetadata();if(yield function(wt,Lt){const Rt=Ht(wt),nn=mi(Lt.createTime);return Rt.persistence.runTransaction("hasNewerBundle","readonly",dn=>Rt.Gr.getBundleMetadata(dn,Lt.id)).then(dn=>!!dn&&dn.createTime.compareTo(nn)>=0)}(y.localStore,k))return yield I.close(),b._completeWith({taskState:"Success",documentsLoaded:(wt=k).totalDocuments,bytesLoaded:wt.totalBytes,totalDocuments:wt.totalDocuments,totalBytes:wt.totalBytes}),Promise.resolve(new Set);b._updateProgress(ay(k));const Q=new j_(k,y.localStore,I.serializer);let ue=yield I.Ua();for(;ue;){const Je=yield Q.la(ue);Je&&b._updateProgress(Je),ue=yield I.Ua()}const Ce=yield Q.complete();return yield Jc(y,Ce.Ia,void 0),yield function(wt,Lt){const Rt=Ht(wt);return Rt.persistence.runTransaction("Save bundle","readwrite",nn=>Rt.Gr.saveBundleMetadata(nn,Lt))}(y.localStore,k),b._completeWith(Ce.progress),Promise.resolve(Ce.Pa)}catch(k){return Vi("SyncEngine",`Loading bundle failed with ${k}`),b._failWith(k),Promise.resolve(new Set)}var wt}),function h(y,I,b){return c.apply(this,arguments)})(s,t,r).then(c=>{s.sharedClientState.notifyBundleLoaded(c)})}(yield uE(a),c,s)}))}(r,a._databaseId,t,s),s}(this._delegate,t)}namedQuery(t){return function rw(a,t){return function ng(a,t){return a.asyncQueue.enqueue((0,K.A)(function*(){return function(s,c){const h=Ht(s);return h.persistence.runTransaction("Get named query","readonly",y=>h.Gr.getNamedQuery(y,c))}(yield Wd(a),t)}))}(wi(a=or(a,pi)),t).then(r=>r?new Ro(a,null,r.query):null)}(this._delegate,t).then(r=>r?new In(this,r):null)}}class ol extends bE{constructor(t){super(),this.firestore=t}convertBytes(t){return new sh(new gu(t))}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return Ca.forKey(r,this.firestore,null)}}class Dg{constructor(t,r){this._firestore=t,this._delegate=r,this._userDataWriter=new ol(t)}get(t){const r=nd(t);return this._delegate.get(r).then(s=>new uh(this._firestore,new pc(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,r.converter)))}set(t,r,s){const c=nd(t);return s?(wg("Transaction.set",s),this._delegate.set(c,r,s)):this._delegate.set(c,r),this}update(t,r,s,...c){const h=nd(t);return 2===arguments.length?this._delegate.update(h,r):this._delegate.update(h,r,s,...c),this}delete(t){const r=nd(t);return this._delegate.delete(r),this}}class bf{constructor(t){this._delegate=t}set(t,r,s){const c=nd(t);return s?(wg("WriteBatch.set",s),this._delegate.set(c,r,s)):this._delegate.set(c,r),this}update(t,r,s,...c){const h=nd(t);return 2===arguments.length?this._delegate.update(h,r):this._delegate.update(h,r,s,...c),this}delete(t){const r=nd(t);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class td{constructor(t,r,s){this._firestore=t,this._userDataWriter=r,this._delegate=s}fromFirestore(t,r){const s=new Df(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ch(this._firestore,s),r??{})}toFirestore(t,r){return r?this._delegate.toFirestore(t,r):this._delegate.toFirestore(t)}static getInstance(t,r){const s=td.INSTANCES;let c=s.get(t);c||(c=new WeakMap,s.set(t,c));let h=c.get(r);return h||(h=new td(t,new ol(t),r),c.set(r,h)),h}}td.INSTANCES=new WeakMap;class Ca{constructor(t,r){this.firestore=t,this._delegate=r,this._userDataWriter=new ol(t)}static forPath(t,r,s){if(t.length%2!=0)throw new St("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ca(r,new Li(r._delegate,s,new $t(t)))}static forKey(t,r,s){return new Ca(r,new Li(r._delegate,s,t))}get id(){return this._delegate.id}get parent(){return new mu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new mu(this.firestore,ew(this._delegate,t))}catch(r){throw Fs(r,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,ot.Ku)(t))instanceof Li&&vf(this._delegate,t)}set(t,r){r=wg("DocumentReference.set",r);try{return r?yw(this._delegate,t,r):yw(this._delegate,t)}catch(s){throw Fs(s,"setDoc()","DocumentReference.set()")}}update(t,r,...s){try{return 1===arguments.length?SE(this._delegate,t):SE(this._delegate,t,r,...s)}catch(c){throw Fs(c,"updateDoc()","DocumentReference.update()")}}delete(){return function gg(a){return Zl(or(a.firestore,pi),[new Zu(a._key,gi.none())])}(this._delegate)}onSnapshot(...t){const r=BE(t),s=jE(t,c=>new uh(this.firestore,new pc(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return Zy(this._delegate,r,s)}get(t){let r;return r="cache"===t?.source?function Jy(a){a=or(a,Li);const t=or(a.firestore,pi),r=wi(t),s=new Jl(t);return function zd(a,t){const r=new _i;return a.asyncQueue.enqueueAndForget((0,K.A)(function*(){return(s=(0,K.A)(function*(h,y,I){try{const b=yield function(Q,ue){const Ce=Ht(Q);return Ce.persistence.runTransaction("read document","readonly",Je=>Ce.localDocuments.getDocument(Je,ue))}(h,y);b.isFoundDocument()?I.resolve(b):b.isNoDocument()?I.resolve(null):I.reject(new St(ft.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(b){const k=kd(b,`Failed to get document '${y} from cache`);I.reject(k)}}),function c(h,y,I){return s.apply(this,arguments)})(yield Wd(a),t,r);var s})),r.promise}(r,a._key).then(c=>new pc(t,s,a._key,c,new Yl(null!==c&&c.hasLocalMutations,!0),a.converter))}(this._delegate):"server"===t?.source?function TC(a){a=or(a,Li);const t=or(a.firestore,pi);return gf(wi(t),a._key,{source:"server"}).then(r=>yg(t,a,r))}(this._delegate):function IC(a){a=or(a,Li);const t=or(a.firestore,pi);return gf(wi(t),a._key).then(r=>yg(t,a,r))}(this._delegate),r.then(s=>new uh(this.firestore,new pc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(t){return new Ca(this.firestore,this._delegate.withConverter(t?td.getInstance(this.firestore,t):null))}}function Fs(a,t,r){return a.message=a.message.replace(t,r),a}function BE(a){for(const t of a)if("object"==typeof t&&!ah(t))return t;return{}}function jE(a,t){var r,s;let c;return c=ah(a[0])?a[0]:ah(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]},{next:h=>{c.next&&c.next(t(h))},error:null===(r=c.error)||void 0===r?void 0:r.bind(c),complete:null===(s=c.complete)||void 0===s?void 0:s.bind(c)}}class uh{constructor(t,r){this._firestore=t,this._delegate=r}get ref(){return new Ca(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,r){return this._delegate.get(t,r)}isEqual(t){return pg(this._delegate,t._delegate)}}class ch extends uh{data(t){const r=this._delegate.data(t);return this._delegate._converter||function Ja(a){a||en()}(void 0!==r),r}}class In{constructor(t,r){this.firestore=t,this._delegate=r,this._userDataWriter=new ol(t)}where(t,r,s){try{return new In(this.firestore,nl(this._delegate,function lw(a,t,r){const s=t,c=Wy("where",a);return wf._create(c,s,r)}(t,r,s)))}catch(c){throw Fs(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,r){try{return new In(this.firestore,nl(this._delegate,function EE(a,t="asc"){const r=t,s=Wy("orderBy",a);return qy._create(s,r)}(t,r)))}catch(s){throw Fs(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new In(this.firestore,nl(this._delegate,function hw(a){return dE("limit",a),Xl._create("limit",a,"F")}(t)))}catch(r){throw Fs(r,"limit()","Query.limit()")}}limitToLast(t){try{return new In(this.firestore,nl(this._delegate,function Qy(a){return dE("limitToLast",a),Xl._create("limitToLast",a,"L")}(t)))}catch(r){throw Fs(r,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new In(this.firestore,nl(this._delegate,function th(...a){return fg._create("startAt",a,!0)}(...t)))}catch(r){throw Fs(r,"startAt()","Query.startAt()")}}startAfter(...t){try{return new In(this.firestore,nl(this._delegate,function fw(...a){return fg._create("startAfter",a,!1)}(...t)))}catch(r){throw Fs(r,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new In(this.firestore,nl(this._delegate,function IE(...a){return Af._create("endBefore",a,!1)}(...t)))}catch(r){throw Fs(r,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new In(this.firestore,nl(this._delegate,function TE(...a){return Af._create("endAt",a,!0)}(...t)))}catch(r){throw Fs(r,"endAt()","Query.endAt()")}}isEqual(t){return _f(this._delegate,t._delegate)}get(t){let r;return r="cache"===t?.source?function AC(a){a=or(a,Ro);const t=or(a.firestore,pi),r=wi(t),s=new Jl(t);return function Cy(a,t){const r=new _i;return a.asyncQueue.enqueueAndForget((0,K.A)(function*(){return(s=(0,K.A)(function*(h,y,I){try{const b=yield Ul(h,y,!0),k=new H_(y,b.Ts),Q=k.ma(b.documents),ue=k.applyChanges(Q,!1);I.resolve(ue.snapshot)}catch(b){const k=kd(b,`Failed to execute query '${y} against cache`);I.reject(k)}}),function c(h,y,I){return s.apply(this,arguments)})(yield Wd(a),t,r);var s})),r.promise}(r,a._query).then(c=>new rl(t,s,a,c))}(this._delegate):"server"===t?.source?function CC(a){a=or(a,Ro);const t=or(a.firestore,pi),r=wi(t),s=new Jl(t);return Kd(r,a._query,{source:"server"}).then(c=>new rl(t,s,a,c))}(this._delegate):function wC(a){a=or(a,Ro);const t=or(a.firestore,pi),r=wi(t),s=new Jl(t);return zy(a._query),Kd(r,a._query).then(c=>new rl(t,s,a,c))}(this._delegate),r.then(s=>new bg(this.firestore,new rl(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...t){const r=BE(t),s=jE(t,c=>new bg(this.firestore,new rl(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return Zy(this._delegate,r,s)}withConverter(t){return new In(this.firestore,this._delegate.withConverter(t?td.getInstance(this.firestore,t):null))}}class $E{constructor(t,r){this._firestore=t,this._delegate=r}get type(){return this._delegate.type}get doc(){return new ch(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bg{constructor(t,r){this._firestore=t,this._delegate=r}get query(){return new In(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new ch(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(r=>new $E(this._firestore,r))}forEach(t,r){this._delegate.forEach(s=>{t.call(r,new ch(this._firestore,s))})}isEqual(t){return pg(this._delegate,t._delegate)}}class mu extends In{constructor(t,r){super(t,r),this.firestore=t,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ca(this.firestore,t):null}doc(t){try{return new Ca(this.firestore,void 0===t?ig(this._delegate):ig(this._delegate,t))}catch(r){throw Fs(r,"doc()","CollectionReference.doc()")}}add(t){return function mg(a,t){const r=or(a.firestore,pi),s=ig(a),c=Yy(a.converter,t);return Zl(r,[Fy(Jd(a.firestore),"addDoc",s._key,c,null!==a.converter,{}).toMutation(s._key,gi.exists(!1))]).then(()=>s)}(this._delegate,t).then(r=>new Ca(this.firestore,r))}isEqual(t){return vf(this._delegate,t._delegate)}withConverter(t){return new mu(this.firestore,this._delegate.withConverter(t?td.getInstance(this.firestore,t):null))}}function nd(a){return or(a,Li)}class Sg{constructor(...t){this._delegate=new $u(...t)}static documentId(){return new Sg(Ot.keyField().canonicalString())}isEqual(t){return(t=(0,ot.Ku)(t))instanceof $u&&this._delegate._internalPath.isEqual(t._internalPath)}}class rd{constructor(t){this._delegate=t}static serverTimestamp(){const t=function rv(){return new _E("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new rd(t)}static delete(){const t=function xE(){return new ug("deleteField")}();return t._methodName="FieldValue.delete",new rd(t)}static arrayUnion(...t){const r=function _g(...a){return new cg("arrayUnion",a)}(...t);return r._methodName="FieldValue.arrayUnion",new rd(r)}static arrayRemove(...t){const r=function vw(...a){return new Vy("arrayRemove",a)}(...t);return r._methodName="FieldValue.arrayRemove",new rd(r)}static increment(t){const r=function _w(a){return new Uy("increment",a)}(t);return r._methodName="FieldValue.increment",new rd(r)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Rg={Firestore:Cg,GeoPoint:sg,Timestamp:Mr,Blob:sh,Transaction:Dg,WriteBatch:bf,DocumentReference:Ca,DocumentSnapshot:uh,Query:In,QueryDocumentSnapshot:ch,QuerySnapshot:bg,CollectionReference:mu,FieldPath:Sg,FieldValue:rd,setLogLevel:function UE(a){!function Iu(a){qo.setLogLevel(a)}(a)},CACHE_SIZE_UNLIMITED:-1};function cv(a,t){return function Sf(a,t=Hn){return new Nt.c(r=>{let s;return null!=t?t.schedule(()=>{s=a.onSnapshot({includeMetadataChanges:!0},r)}):s=a.onSnapshot({includeMetadataChanges:!0},r),()=>{s?.()}})}(a,t)}function Rf(a,t){return cv(a,t).pipe((0,ee.T)(r=>({payload:r,type:"query"})))}!function uv(a){(function id(a,t){a.INTERNAL.registerComponent(new hn.uA("firestore-compat",r=>{const s=r.getProvider("app-compat").getImmediate(),c=r.getProvider("firestore").getImmediate();return t(s,c)},"PUBLIC").setServiceProps(Object.assign({},Rg)))})(a,(t,r)=>new Cg(t,r,new VE)),a.registerVersion("@firebase/firestore-compat","0.3.36")}(Di.A);class Pg{ref;afs;constructor(t,r){this.ref=t,this.afs=r}set(t,r){return this.ref.set(t,r)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,r){const s=this.ref.collection(t),{ref:c,query:h}=zE(s,r);return new HE(c,h,this.afs)}snapshotChanges(){return function lv(a,t){return cv(a,t).pipe((0,ve.Z)(void 0),Dt(),(0,ee.T)(r=>{const[s,c]=r;return c.exists?s?.exists?{payload:c,type:"modified"}:{payload:c,type:"added"}:{payload:c,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(mr)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ee.T)(({payload:r})=>t.idField?{...r.data(),[t.idField]:r.id}:r.data()))}get(t){return(0,Xt.H)(this.ref.get(t)).pipe(mr)}}function Pf(a,t){return Rf(a,t).pipe((0,ve.Z)(void 0),Dt(),(0,ee.T)(r=>{const[s,c]=r,h=c.payload.docChanges(),y=h.map(I=>({type:I.type,payload:I}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(c.payload.metadata)&&c.payload.docs.forEach((I,b)=>{const k=h.find(ue=>ue.doc.ref.isEqual(I.ref)),Q=s?.payload.docs.find(ue=>ue.ref.isEqual(I.ref));k&&JSON.stringify(k.doc.metadata)===JSON.stringify(I.metadata)||!k&&Q&&JSON.stringify(Q.metadata)===JSON.stringify(I.metadata)||y.push({type:"modified",payload:{oldIndex:b,newIndex:b,type:"modified",doc:I}})}),y}))}function Mg(a,t,r){return Pf(a,r).pipe((0,Bt.S)((s,c)=>function Aw(a,t,r){return t.forEach(s=>{r.indexOf(s.type)>-1&&(a=function Cw(a,t){switch(t.type){case"added":if(!a[t.newIndex]||!a[t.newIndex].doc.ref.isEqual(t.doc.ref))return dv(a,t.newIndex,0,t);break;case"modified":if(null==a[t.oldIndex]||a[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const r=a.slice();return r.splice(t.oldIndex,1),r.splice(t.newIndex,0,t),r}return dv(a,t.newIndex,1,t)}break;case"removed":if(a[t.oldIndex]&&a[t.oldIndex].doc.ref.isEqual(t.doc.ref))return dv(a,t.oldIndex,1)}return a}(a,s))}),a}(s,c.map(h=>h.payload),t),[]),function Rn(a,t=Wt.D){return a=a??un,(0,Ni.N)((r,s)=>{let c,h=!0;r.subscribe((0,gt._)(s,y=>{const I=t(y);(h||!a(c,I))&&(h=!1,c=I,s.next(y))}))})}(),(0,ee.T)(s=>s.map(c=>({type:c.type,payload:c}))))}function dv(a,t,r,...s){const c=a.slice();return c.splice(t,r,...s),c}function hv(a){return(!a||0===a.length)&&(a=["added","removed","modified"]),a}class HE{ref;query;afs;constructor(t,r,s){this.ref=t,this.query=r,this.afs=s}stateChanges(t){let r=Pf(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(r=r.pipe((0,ee.T)(s=>s.filter(c=>t.indexOf(c.type)>-1)))),r.pipe((0,ve.Z)(void 0),Dt(),(0,Ve.p)(([s,c])=>c.length>0||!s),(0,ee.T)(([,s])=>s),mr)}auditTrail(t){return this.stateChanges(t).pipe((0,Bt.S)((r,s)=>[...r,...s],[]))}snapshotChanges(t){const r=hv(t);return Mg(this.query,r,this.afs.schedulers.outsideAngular).pipe(mr)}valueChanges(t={}){return Rf(this.query,this.afs.schedulers.outsideAngular).pipe((0,ee.T)(r=>r.payload.docs.map(s=>t.idField?{...s.data(),[t.idField]:s.id}:s.data())),mr)}get(t){return(0,Xt.H)(this.query.get(t)).pipe(mr)}add(t){return this.ref.add(t)}doc(t){return new Pg(this.ref.doc(t),this.afs)}}class Dw{query;afs;constructor(t,r){this.query=t,this.afs=r}stateChanges(t){return t&&0!==t.length?Pf(this.query,this.afs.schedulers.outsideAngular).pipe((0,ee.T)(r=>r.filter(s=>t.indexOf(s.type)>-1)),(0,Ve.p)(r=>r.length>0),mr):Pf(this.query,this.afs.schedulers.outsideAngular).pipe(mr)}auditTrail(t){return this.stateChanges(t).pipe((0,Bt.S)((r,s)=>[...r,...s],[]))}snapshotChanges(t){const r=hv(t);return Mg(this.query,r,this.afs.schedulers.outsideAngular).pipe(mr)}valueChanges(t={}){return Rf(this.query,this.afs.schedulers.outsideAngular).pipe((0,ee.T)(s=>s.payload.docs.map(c=>t.idField?{[t.idField]:c.id,...c.data()}:c.data())),mr)}get(t){return(0,Xt.H)(this.query.get(t)).pipe(mr)}}const bw=new d.nKC("angularfire2.enableFirestorePersistence"),Sw=new d.nKC("angularfire2.firestore.persistenceSettings"),GE=new d.nKC("angularfire2.firestore.settings"),WE=new d.nKC("angularfire2.firestore.use-emulator");function zE(a,t=r=>r){return{query:t(a),ref:a}}let Rw=(()=>{class a{schedulers;firestore;persistenceEnabled$;constructor(r,s,c,h,y,I,b,k,Q,ue,Ce,Je,wt,Lt,Rt,nn,dn){this.schedulers=b;const qt=ci(r,I,s),yn=Q;ue&&Gr(qt,I,Ce,wt,Lt,Rt,Je,nn),[this.firestore,this.persistenceEnabled$]=xe(`${qt.name}.firestore`,"AngularFirestore",qt.name,()=>{const zn=I.runOutsideAngular(()=>qt.firestore());if(h&&zn.settings(h),yn&&zn.useEmulator(...yn),c&&!(0,ae.Vy)(y)){const Jn=()=>{try{return(0,Xt.H)(zn.enablePersistence(k||void 0).then(()=>!0,()=>!1))}catch(He){return typeof console<"u"&&console.warn(He),(0,et.of)(!1)}};return[zn,I.runOutsideAngular(Jn)]}return[zn,(0,et.of)(!1)]},[h,yn,c])}collection(r,s){let c;c="string"==typeof r?this.firestore.collection(r):r;const{ref:h,query:y}=zE(c,s),I=this.schedulers.ngZone.run(()=>h);return new HE(I,y,this)}collectionGroup(r,s){const c=s||(y=>y),h=this.firestore.collectionGroup(r);return new Dw(c(h),this)}doc(r){let s;s="string"==typeof r?this.firestore.doc(r):r;const c=this.schedulers.ngZone.run(()=>s);return new Pg(c,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(s){return new(s||a)(d.KVO(vi),d.KVO(Hr,8),d.KVO(bw,8),d.KVO(GE,8),d.KVO(d.Agw),d.KVO(d.SKi),d.KVO(Ur),d.KVO(Sw,8),d.KVO(WE,8),d.KVO(te,8),d.KVO(jt,8),d.KVO(pn,8),d.KVO(En,8),d.KVO(Cn,8),d.KVO(Yn,8),d.KVO(ur,8),d.KVO(ui,8))};static \u0275prov=d.jDH({token:a,factory:a.\u0275fac,providedIn:"any"})}return a})(),KE=(()=>{class a{afs;afAuth;userData;constructor(r,s){this.afs=r,this.afAuth=s,this.afAuth.authState.subscribe(c=>{c?(this.userData=c,localStorage.setItem("fire.user",JSON.stringify(this.userData))):localStorage.setItem("fire.user","null")})}get isLoggedIn(){const r=localStorage.getItem("fire.user"),s=JSON.parse(r||"null");return null!==s&&!1!==s.emailVerified}GoogleAuth(){return this.AuthLogin(new ce.X).then(r=>{})}getToken(){var r=this;return(0,K.A)(function*(){var s=yield r.afAuth.currentUser;return yield s?.getIdToken(!1)})()}AuthLogin(r){return this.afAuth.signInWithPopup(r).then(s=>{this.SetUserData(s.user)}).catch(s=>{window.alert(s)})}SetUserData(r){return this.afs.doc(`users/${r.uid}`).set({uid:r.uid,email:r.email,displayName:r.displayName,photoURL:r.photoURL,emailVerified:r.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("fire.user")})}static \u0275fac=function(s){return new(s||a)(d.KVO(Rw),d.KVO(te))};static \u0275prov=d.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function Pw(a,t){if(1&a){const r=d.RV6();d.j41(0,"a",2),d.bIt("click",function(){d.eBV(r);const c=d.XpG();return d.Njj(c.logOut())}),d.EFF(1),d.k0s()}if(2&a){const r=d.XpG();d.R7$(),d.SpI("[",r.userName,"]")}}function NC(a,t){if(1&a){const r=d.RV6();d.j41(0,"a",3),d.bIt("click",function(){d.eBV(r);const c=d.XpG();return d.Njj(c.GoogleAuth())}),d.EFF(1,"[LOGIN]"),d.k0s()}}let fv=(()=>{class a{fireAuthService;constructor(r){this.fireAuthService=r}get loggedIn(){return this.fireAuthService.isLoggedIn}get userName(){const r=this.fireAuthService?.userData?.displayName;return r||"Logged In"}ngOnInit(){}GoogleAuth(){this.fireAuthService.GoogleAuth()}logOut(){this.fireAuthService.SignOut()}static \u0275fac=function(s){return new(s||a)(d.rXU(KE))};static \u0275cmp=d.VBU({type:a,selectors:[["app-login"]],standalone:!0,features:[d.aNF],decls:2,vars:2,consts:[["class","text-grey link-btn",3,"click",4,"ngIf"],["class","text-main link-btn",3,"click",4,"ngIf"],[1,"text-grey","link-btn",3,"click"],[1,"text-main","link-btn",3,"click"]],template:function(s,c){1&s&&d.DNE(0,Pw,2,1,"a",0)(1,NC,2,0,"a",1),2&s&&(d.Y8G("ngIf",c.loggedIn),d.R7$(),d.Y8G("ngIf",!c.loggedIn))},dependencies:[ae.bT]})}return a})(),pv=(()=>{class a{transform(r,...s){switch(r){case"ZERO":return"0";case"ONE":return"1";case"TWO":return"2";case"THREE":return"3";case"FOUR":return"4";case"FIVE":return"5";default:return r}}static \u0275fac=function(s){return new(s||a)};static \u0275pipe=d.EJ8({name:"keySymbols",type:a,pure:!0,standalone:!0})}return a})();var Mw=O(8368);function Nw(a,t){if(1&a&&(d.j41(0,"span",3),d.EFF(1),d.nI1(2,"keySymbols"),d.k0s()),2&a){const r=d.XpG();d.R7$(),d.SpI(" [",d.bMT(2,1,r.key)," ]")}}let Ow=(()=>{class a{activeRoute;router;keybind;route;name;key;constructor(r,s,c){this.activeRoute=r,this.router=s,this.keybind=c}ngOnInit(){this.key&&this.keybind.match([this.key],["altKey"]).subscribe(s=>{s.preventDefault();const c=this.activeRoute.snapshot.queryParamMap.get("lang");this.router.navigate([this.route],{queryParams:{lang:c}})})}static \u0275fac=function(s){return new(s||a)(d.rXU(De.nX),d.rXU(De.Ix),d.rXU(Mw.S))};static \u0275cmp=d.VBU({type:a,selectors:[["app-header-nav-link"]],inputs:{route:"route",name:"name",key:"key"},standalone:!0,features:[d.aNF],decls:4,vars:3,consts:[[1,"nav-link"],[1,"link-btn",3,"routerLink"],["class","text-grey-dull",4,"ngIf"],[1,"text-grey-dull"]],template:function(s,c){1&s&&(d.j41(0,"span",0)(1,"a",1),d.EFF(2),d.DNE(3,Nw,3,3,"span",2),d.k0s()()),2&s&&(d.R7$(),d.Y8G("routerLink",c.route),d.R7$(),d.JRh(c.name),d.R7$(),d.Y8G("ngIf",c.key))},dependencies:[pv,De.Wk,ae.bT],styles:[".nav-link[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}"]})}return a})(),qE=(()=>{class a{constructor(){}ngOnInit(){}static \u0275fac=function(s){return new(s||a)};static \u0275cmp=d.VBU({type:a,selectors:[["app-header"]],standalone:!0,features:[d.aNF],decls:11,vars:8,consts:[[1,"nav","text-grey-dull"],[3,"name","route"],[1,"nav-login"]],template:function(s,c){1&s&&(d.j41(0,"nav")(1,"div",0),d.nrm(2,"app-header-nav-link",1),d.EFF(3," - "),d.nrm(4,"app-header-nav-link",1),d.EFF(5," - "),d.nrm(6,"app-header-nav-link",1),d.EFF(7," - "),d.nrm(8,"app-header-nav-link",1),d.k0s(),d.j41(9,"div",2),d.nrm(10,"app-login"),d.k0s()()),2&s&&(d.R7$(2),d.Y8G("name","[ Languages ]")("route","language"),d.R7$(2),d.Y8G("name","[ Evolutions ]")("route","evolutions/connections"),d.R7$(2),d.Y8G("name","[ Words ]")("route","words/list"),d.R7$(2),d.Y8G("name","[ Trace ]")("route","trace"))},dependencies:[fv,Ow],styles:[".nav[_ngcontent-%COMP%]{width:100%;display:flex;margin-left:0;margin-right:auto}.nav-login[_ngcontent-%COMP%]{margin-left:auto;margin-right:0;padding-right:8px}nav[_ngcontent-%COMP%]{display:flex;margin-top:4px}"]})}return a})(),xw=(()=>{class a{title="language-parser-ui";version="0.5.3";static \u0275fac=function(s){return new(s||a)};static \u0275cmp=d.VBU({type:a,selectors:[["app-root"]],standalone:!0,features:[d.aNF],decls:7,vars:1,consts:[["align","center",1,"main"],[1,"content-wrapper"],["align","left",1,"content"],[1,"app-footer",3,"version"]],template:function(s,c){1&s&&(d.j41(0,"div",0),d.nrm(1,"app-header"),d.j41(2,"div",1)(3,"div",2),d.nrm(4,"router-outlet")(5,"app-footer"),d.k0s()(),d.nrm(6,"app-version-footer",3),d.k0s()),2&s&&(d.R7$(6),d.Y8G("version",c.version))},dependencies:[Te,J,De.n3,qE],styles:[".main[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]{width:100%;display:block}.content[_ngcontent-%COMP%]{max-width:1320px}.selectedTh[_ngcontent-%COMP%]{background-color:#333}.app-footer[_ngcontent-%COMP%]{width:100%;display:flex;background:#212121;height:fit-content;margin-top:auto;margin-bottom:0}"]})}return a})();function Ng(a,t){return t.params[a]||(t.parent?Ng(a,t.parent):null)}var QE=O(136);const kw=[{path:"trace",loadComponent:()=>O.e(170).then(O.bind(O,2170)).then(a=>a.TraceComponent)},{path:"words",loadComponent:()=>Promise.all([O.e(76),O.e(191)]).then(O.bind(O,9191)).then(a=>a.WordsComponent),children:[{path:"new",loadComponent:()=>Promise.all([O.e(76),O.e(983)]).then(O.bind(O,1983)).then(a=>a.WordNewComponent)},{path:"list",loadComponent:()=>Promise.all([O.e(76),O.e(503)]).then(O.bind(O,1503)).then(a=>a.WordsListComponent)},{path:"translations",loadComponent:()=>Promise.all([O.e(76),O.e(342)]).then(O.bind(O,3342)).then(a=>a.TranslationsComponent)},{path:"word/:word",loadComponent:()=>Promise.all([O.e(76),O.e(763)]).then(O.bind(O,2763)).then(a=>a.WordsDetailComponent),pathMatch:"full",resolve:{wordDetails:(()=>{class a{wordService;constructor(r){this.wordService=r}resolve(r,s){const c=Ng("word",r);return console.log("WorldDetailsResolver resolve",c),c?this.wordService.getDetailedWordsByPhonetics({word:c}):qn.w}static \u0275fac=function(s){return new(s||a)(d.KVO(QE.t))};static \u0275prov=d.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()}}]},{path:"evolutions",loadComponent:()=>Promise.all([O.e(76),O.e(855)]).then(O.bind(O,9855)).then(a=>a.EvolutionComponent),children:[{path:"connections",loadComponent:()=>Promise.all([O.e(991),O.e(76),O.e(911)]).then(O.bind(O,911)).then(a=>a.LanguageConnectionsComponent)},{path:"category",loadComponent:()=>Promise.all([O.e(76),O.e(578)]).then(O.bind(O,2578)).then(a=>a.CategoryEvolutionComponent)},{path:"list",loadComponent:()=>Promise.all([O.e(76),O.e(827)]).then(O.bind(O,3827)).then(a=>a.ListEvolutionComponent)}]},{path:"language",loadComponent:()=>Promise.all([O.e(991),O.e(76),O.e(7)]).then(O.bind(O,9007)).then(a=>a.LanguagesComponent),children:[{path:"description",loadComponent:()=>O.e(76).then(O.bind(O,431)).then(a=>a.LanguageDescriptionComponent)},{path:"clusters",loadComponent:()=>O.e(76).then(O.bind(O,7723)).then(a=>a.ClustersComponent)},{path:"laws",loadComponent:()=>O.e(221).then(O.bind(O,3221)).then(a=>a.LawsComponent)}]}];var Fw=O(974);let Vw=(()=>{class a{langService;constructor(r){this.langService=r}transform(r,...s){return this.langService.shortPOS(r)}static \u0275fac=function(s){return new(s||a)(d.rXU(Fw.m,16))};static \u0275pipe=d.EJ8({name:"shortPos",type:a,pure:!0})}return a})();var Hu=O(8608),gv=O(8810),Uw=O(9437);var Mf=O(4341),mv=O(6419),xC=O(9602),YE=O(5680),JE=O(3050),ZE=O(9407),xg=O(3594);let yv=(()=>{class a{static forRoot(r){return{ngModule:a,providers:[{provide:Tt.J,useValue:r}]}}constructor(r,s){if(r)throw new Error("ApiModule is already loaded. Import in your base AppModule only.");if(!s)throw new Error("You need to import the HttpClientModule in your AppModule! \nSee also https://github.com/angular/angular/issues/20575")}static \u0275fac=function(s){return new(s||a)(d.KVO(a,12),d.KVO(Ge.Qq,8))};static \u0275mod=d.$C({type:a});static \u0275inj=d.G2t({providers:[mv.M,xC.A,YE.e,JE.D,Pe,ZE.Q,xg.L,QE.t,Tt.J]})}return a})();const gc={providers:[(0,Ge.$R)((0,Ge.b$)([(a,t)=>{const r=(0,d.WQX)(pe.I);return t(a).pipe((0,Uw.W)(s=>(s.error instanceof ErrorEvent?r.addError({message:s.error.message}):r.addError({message:s.message,details:s.error}),(0,gv.$)(()=>s))))},(a,t)=>(0,Xt.H)((0,d.WQX)(KE).getToken()).pipe((0,ee.T)(s=>null==s?a:a.clone({setHeaders:{Authorization:`Bearer ${s}`}})),(0,nr.n)(s=>t(s)))]),(0,Ge.Sx)()),(0,De.lh)(kw,(0,De.Ii)({onSameUrlNavigation:"reload"})),(0,d.oKB)(z.Bb,Mf.X1.withConfig({warnOnNgModelWithFormControl:"always"}),yv.forRoot({rootUrl:"https://api.language.owlbeardm.com"}),Mf.YN,he.initializeApp({apiKey:"AIzaSyCXYvy7VEEXvSUDGnRzB_0kJhcs6k6mFeQ",authDomain:"language-parser-358314.firebaseapp.com",projectId:"language-parser-358314",storageBucket:"language-parser-358314.appspot.com",messagingSenderId:"457941235931",appId:"1:457941235931:web:3d318384aff9c40965b4fe",measurementId:"G-S1PTJS0DPB"}),we),Vw,pv,Hu.g]};(0,d.SmG)(),(0,z.B8)(xw,gc).catch(a=>console.error(a))},4412:(Kt,nt,O)=>{O.d(nt,{t:()=>z});var d=O(1413);class z extends d.B{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const ie=super._subscribe(ae);return!ie.closed&&ae.next(this._value),ie}getValue(){const{hasError:ae,thrownError:ie,_value:pe}=this;if(ae)throw ie;return this._throwIfClosed(),pe}next(ae){super.next(this._value=ae)}}},1985:(Kt,nt,O)=>{O.d(nt,{c:()=>Ye});var d=O(7707),z=O(8359),F=O(3494),ae=O(1203),ie=O(1026),pe=O(8071),Qe=O(9786);let Ye=(()=>{class me{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const Xe=new me;return Xe.source=this,Xe.operator=Ve,Xe}subscribe(Ve,Xe,mt){const st=function ee(me){return me&&me instanceof d.vU||function J(me){return me&&(0,pe.T)(me.next)&&(0,pe.T)(me.error)&&(0,pe.T)(me.complete)}(me)&&(0,z.Uv)(me)}(Ve)?Ve:new d.Ms(Ve,Xe,mt);return(0,Qe.Y)(()=>{const{operator:Fe,source:Tt}=this;st.add(Fe?Fe.call(st,Tt):Tt?this._subscribe(st):this._trySubscribe(st))}),st}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(Xe){Ve.error(Xe)}}forEach(Ve,Xe){return new(Xe=je(Xe))((mt,st)=>{const Fe=new d.Ms({next:Tt=>{try{Ve(Tt)}catch(Pe){st(Pe),Fe.unsubscribe()}},error:st,complete:mt});this.subscribe(Fe)})}_subscribe(Ve){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(Ve)}[F.s](){return this}pipe(...Ve){return(0,ae.m)(Ve)(this)}toPromise(Ve){return new(Ve=je(Ve))((Xe,mt)=>{let st;this.subscribe(Fe=>st=Fe,Fe=>mt(Fe),()=>Xe(st))})}}return me.create=Ge=>new me(Ge),me})();function je(me){var Ge;return null!==(Ge=me??ie.$.Promise)&&void 0!==Ge?Ge:Promise}},1413:(Kt,nt,O)=>{O.d(nt,{B:()=>Qe});var d=O(1985),z=O(8359);const ae=(0,O(1853).L)(je=>function(){je(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=O(7908),pe=O(9786);let Qe=(()=>{class je extends d.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const me=new Ye(this,this);return me.operator=ee,me}_throwIfClosed(){if(this.closed)throw new ae}next(ee){(0,pe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(ee)}})}error(ee){(0,pe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:me}=this;for(;me.length;)me.shift().error(ee)}})}complete(){(0,pe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:me,isStopped:Ge,observers:Ve}=this;return me||Ge?z.Kn:(this.currentObservers=null,Ve.push(ee),new z.yU(()=>{this.currentObservers=null,(0,ie.o)(Ve,ee)}))}_checkFinalizedStatuses(ee){const{hasError:me,thrownError:Ge,isStopped:Ve}=this;me?ee.error(Ge):Ve&&ee.complete()}asObservable(){const ee=new d.c;return ee.source=this,ee}}return je.create=(J,ee)=>new Ye(J,ee),je})();class Ye extends Qe{constructor(J,ee){super(),this.destination=J,this.source=ee}next(J){var ee,me;null===(me=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===me||me.call(ee,J)}error(J){var ee,me;null===(me=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===me||me.call(ee,J)}complete(){var J,ee;null===(ee=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===ee||ee.call(J)}_subscribe(J){var ee,me;return null!==(me=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(J))&&void 0!==me?me:z.Kn}}},7707:(Kt,nt,O)=>{O.d(nt,{Ms:()=>mt,vU:()=>me});var d=O(8071),z=O(8359),F=O(1026),ae=O(5334),ie=O(5343);const pe=je("C",void 0,void 0);function je(Ae,ge,Se){return{kind:Ae,value:ge,error:Se}}var J=O(9270),ee=O(9786);class me extends z.yU{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,z.Uv)(ge)&&ge.add(this)):this.destination=Pe}static create(ge,Se,Te){return new mt(ge,Se,Te)}next(ge){this.isStopped?Tt(function Ye(Ae){return je("N",Ae,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?Tt(function Qe(Ae){return je("E",void 0,Ae)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?Tt(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Ve(Ae,ge){return Ge.call(Ae,ge)}class Xe{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:Se}=this;if(Se.next)try{Se.next(ge)}catch(Te){st(Te)}}error(ge){const{partialObserver:Se}=this;if(Se.error)try{Se.error(ge)}catch(Te){st(Te)}else st(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(Se){st(Se)}}}class mt extends me{constructor(ge,Se,Te){let De;if(super(),(0,d.T)(ge)||!ge)De={next:ge??void 0,error:Se??void 0,complete:Te??void 0};else{let K;this&&F.$.useDeprecatedNextContext?(K=Object.create(ge),K.unsubscribe=()=>this.unsubscribe(),De={next:ge.next&&Ve(ge.next,K),error:ge.error&&Ve(ge.error,K),complete:ge.complete&&Ve(ge.complete,K)}):De=ge}this.destination=new Xe(De)}}function st(Ae){F.$.useDeprecatedSynchronousErrorHandling?(0,ee.l)(Ae):(0,ae.m)(Ae)}function Tt(Ae,ge){const{onStoppedNotification:Se}=F.$;Se&&J.f.setTimeout(()=>Se(Ae,ge))}const Pe={closed:!0,next:ie.l,error:function Fe(Ae){throw Ae},complete:ie.l}},8359:(Kt,nt,O)=>{O.d(nt,{Kn:()=>pe,yU:()=>ie,Uv:()=>Qe});var d=O(8071);const F=(0,O(1853).L)(je=>function(ee){je(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((me,Ge)=>`${Ge+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var ae=O(7908);class ie{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Ve of ee)Ve.remove(this);else ee.remove(this);const{initialTeardown:me}=this;if((0,d.T)(me))try{me()}catch(Ve){J=Ve instanceof F?Ve.errors:[Ve]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Ve of Ge)try{Ye(Ve)}catch(Xe){J=J??[],Xe instanceof F?J=[...J,...Xe.errors]:J.push(Xe)}}if(J)throw new F(J)}}add(J){var ee;if(J&&J!==this)if(this.closed)Ye(J);else{if(J instanceof ie){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(J)}}_hasParent(J){const{_parentage:ee}=this;return ee===J||Array.isArray(ee)&&ee.includes(J)}_addParent(J){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(J),ee):ee?[ee,J]:J}_removeParent(J){const{_parentage:ee}=this;ee===J?this._parentage=null:Array.isArray(ee)&&(0,ae.o)(ee,J)}remove(J){const{_finalizers:ee}=this;ee&&(0,ae.o)(ee,J),J instanceof ie&&J._removeParent(this)}}ie.EMPTY=(()=>{const je=new ie;return je.closed=!0,je})();const pe=ie.EMPTY;function Qe(je){return je instanceof ie||je&&"closed"in je&&(0,d.T)(je.remove)&&(0,d.T)(je.add)&&(0,d.T)(je.unsubscribe)}function Ye(je){(0,d.T)(je)?je():je.unsubscribe()}},1026:(Kt,nt,O)=>{O.d(nt,{$:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(Kt,nt,O)=>{O.d(nt,{x:()=>ie});var d=O(6365),F=O(3794),ae=O(8455);function ie(...pe){return function z(){return(0,d.U)(1)}()((0,ae.H)(pe,(0,F.lI)(pe)))}},983:(Kt,nt,O)=>{O.d(nt,{w:()=>z});const z=new(O(1985).c)(ie=>ie.complete())},8455:(Kt,nt,O)=>{O.d(nt,{H:()=>ge});var d=O(8750),z=O(941),F=O(6745),pe=O(1985),Ye=O(4761),je=O(8071),J=O(5225);function me(Se,Te){if(!Se)throw new Error("Iterable cannot be null");return new pe.c(De=>{(0,J.N)(De,Te,()=>{const K=Se[Symbol.asyncIterator]();(0,J.N)(De,Te,()=>{K.next().then(ce=>{ce.done?De.complete():De.next(ce.value)})},0,!0)})})}var Ge=O(5055),Ve=O(9858),Xe=O(7441),mt=O(5397),st=O(7953),Fe=O(591),Tt=O(5196);function ge(Se,Te){return Te?function Ae(Se,Te){if(null!=Se){if((0,Ge.l)(Se))return function ae(Se,Te){return(0,d.Tg)(Se).pipe((0,F._)(Te),(0,z.Q)(Te))}(Se,Te);if((0,Xe.X)(Se))return function Qe(Se,Te){return new pe.c(De=>{let K=0;return Te.schedule(function(){K===Se.length?De.complete():(De.next(Se[K++]),De.closed||this.schedule())})})}(Se,Te);if((0,Ve.y)(Se))return function ie(Se,Te){return(0,d.Tg)(Se).pipe((0,F._)(Te),(0,z.Q)(Te))}(Se,Te);if((0,st.T)(Se))return me(Se,Te);if((0,mt.x)(Se))return function ee(Se,Te){return new pe.c(De=>{let K;return(0,J.N)(De,Te,()=>{K=Se[Ye.l](),(0,J.N)(De,Te,()=>{let ce,vt;try{({value:ce,done:vt}=K.next())}catch(ot){return void De.error(ot)}vt?De.complete():De.next(ce)},0,!0)}),()=>(0,je.T)(K?.return)&&K.return()})}(Se,Te);if((0,Tt.U)(Se))return function Pe(Se,Te){return me((0,Tt.C)(Se),Te)}(Se,Te)}throw(0,Fe.L)(Se)}(Se,Te):(0,d.Tg)(Se)}},8750:(Kt,nt,O)=>{O.d(nt,{Tg:()=>Ge});var d=O(1635),z=O(7441),F=O(9858),ae=O(1985),ie=O(5055),pe=O(7953),Qe=O(591),Ye=O(5397),je=O(5196),J=O(8071),ee=O(5334),me=O(3494);function Ge(Ae){if(Ae instanceof ae.c)return Ae;if(null!=Ae){if((0,ie.l)(Ae))return function Ve(Ae){return new ae.c(ge=>{const Se=Ae[me.s]();if((0,J.T)(Se.subscribe))return Se.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,z.X)(Ae))return function Xe(Ae){return new ae.c(ge=>{for(let Se=0;Se<Ae.length&&!ge.closed;Se++)ge.next(Ae[Se]);ge.complete()})}(Ae);if((0,F.y)(Ae))return function mt(Ae){return new ae.c(ge=>{Ae.then(Se=>{ge.closed||(ge.next(Se),ge.complete())},Se=>ge.error(Se)).then(null,ee.m)})}(Ae);if((0,pe.T)(Ae))return Fe(Ae);if((0,Ye.x)(Ae))return function st(Ae){return new ae.c(ge=>{for(const Se of Ae)if(ge.next(Se),ge.closed)return;ge.complete()})}(Ae);if((0,je.U)(Ae))return function Tt(Ae){return Fe((0,je.C)(Ae))}(Ae)}throw(0,Qe.L)(Ae)}function Fe(Ae){return new ae.c(ge=>{(function Pe(Ae,ge){var Se,Te,De,K;return(0,d.sH)(this,void 0,void 0,function*(){try{for(Se=(0,d.xN)(Ae);!(Te=yield Se.next()).done;)if(ge.next(Te.value),ge.closed)return}catch(ce){De={error:ce}}finally{try{Te&&!Te.done&&(K=Se.return)&&(yield K.call(Se))}finally{if(De)throw De.error}}ge.complete()})})(Ae,ge).catch(Se=>ge.error(Se))})}},7673:(Kt,nt,O)=>{O.d(nt,{of:()=>F});var d=O(3794),z=O(8455);function F(...ae){const ie=(0,d.lI)(ae);return(0,z.H)(ae,ie)}},8810:(Kt,nt,O)=>{O.d(nt,{$:()=>F});var d=O(1985),z=O(8071);function F(ae,ie){const pe=(0,z.T)(ae)?ae:()=>ae,Qe=Ye=>Ye.error(pe());return new d.c(ie?Ye=>ie.schedule(Qe,0,Ye):Qe)}},4360:(Kt,nt,O)=>{O.d(nt,{_:()=>z});var d=O(7707);function z(ae,ie,pe,Qe,Ye){return new F(ae,ie,pe,Qe,Ye)}class F extends d.vU{constructor(ie,pe,Qe,Ye,je,J){super(ie),this.onFinalize=je,this.shouldUnsubscribe=J,this._next=pe?function(ee){try{pe(ee)}catch(me){ie.error(me)}}:super._next,this._error=Ye?function(ee){try{Ye(ee)}catch(me){ie.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=Qe?function(){try{Qe()}catch(ee){ie.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},9437:(Kt,nt,O)=>{O.d(nt,{W:()=>ae});var d=O(8750),z=O(4360),F=O(9974);function ae(ie){return(0,F.N)((pe,Qe)=>{let J,Ye=null,je=!1;Ye=pe.subscribe((0,z._)(Qe,void 0,void 0,ee=>{J=(0,d.Tg)(ie(ee,ae(ie)(pe))),Ye?(Ye.unsubscribe(),Ye=null,J.subscribe(Qe)):je=!0})),je&&(Ye.unsubscribe(),Ye=null,J.subscribe(Qe))})}},274:(Kt,nt,O)=>{O.d(nt,{H:()=>F});var d=O(1397),z=O(8071);function F(ae,ie){return(0,z.T)(ie)?(0,d.Z)(ae,ie,1):(0,d.Z)(ae,1)}},9901:(Kt,nt,O)=>{O.d(nt,{U:()=>F});var d=O(9974),z=O(4360);function F(ae){return(0,d.N)((ie,pe)=>{let Qe=!1;ie.subscribe((0,z._)(pe,Ye=>{Qe=!0,pe.next(Ye)},()=>{Qe||pe.next(ae),pe.complete()}))})}},5964:(Kt,nt,O)=>{O.d(nt,{p:()=>F});var d=O(9974),z=O(4360);function F(ae,ie){return(0,d.N)((pe,Qe)=>{let Ye=0;pe.subscribe((0,z._)(Qe,je=>ae.call(ie,je,Ye++)&&Qe.next(je)))})}},980:(Kt,nt,O)=>{O.d(nt,{j:()=>z});var d=O(9974);function z(F){return(0,d.N)((ae,ie)=>{try{ae.subscribe(ie)}finally{ie.add(F)}})}},1594:(Kt,nt,O)=>{O.d(nt,{$:()=>Qe});var d=O(9350),z=O(5964),F=O(6697),ae=O(9901),ie=O(3774),pe=O(3669);function Qe(Ye,je){const J=arguments.length>=2;return ee=>ee.pipe(Ye?(0,z.p)((me,Ge)=>Ye(me,Ge,ee)):pe.D,(0,F.s)(1),J?(0,ae.U)(je):(0,ie.v)(()=>new d.G))}},6354:(Kt,nt,O)=>{O.d(nt,{T:()=>F});var d=O(9974),z=O(4360);function F(ae,ie){return(0,d.N)((pe,Qe)=>{let Ye=0;pe.subscribe((0,z._)(Qe,je=>{Qe.next(ae.call(ie,je,Ye++))}))})}},6365:(Kt,nt,O)=>{O.d(nt,{U:()=>F});var d=O(1397),z=O(3669);function F(ae=1/0){return(0,d.Z)(z.D,ae)}},1397:(Kt,nt,O)=>{O.d(nt,{Z:()=>Ye});var d=O(6354),z=O(8750),F=O(9974),ae=O(5225),ie=O(4360),Qe=O(8071);function Ye(je,J,ee=1/0){return(0,Qe.T)(J)?Ye((me,Ge)=>(0,d.T)((Ve,Xe)=>J(me,Ve,Ge,Xe))((0,z.Tg)(je(me,Ge))),ee):("number"==typeof J&&(ee=J),(0,F.N)((me,Ge)=>function pe(je,J,ee,me,Ge,Ve,Xe,mt){const st=[];let Fe=0,Tt=0,Pe=!1;const Ae=()=>{Pe&&!st.length&&!Fe&&J.complete()},ge=Te=>Fe<me?Se(Te):st.push(Te),Se=Te=>{Ve&&J.next(Te),Fe++;let De=!1;(0,z.Tg)(ee(Te,Tt++)).subscribe((0,ie._)(J,K=>{Ge?.(K),Ve?ge(K):J.next(K)},()=>{De=!0},void 0,()=>{if(De)try{for(Fe--;st.length&&Fe<me;){const K=st.shift();Xe?(0,ae.N)(J,Xe,()=>Se(K)):Se(K)}Ae()}catch(K){J.error(K)}}))};return je.subscribe((0,ie._)(J,ge,()=>{Pe=!0,Ae()})),()=>{mt?.()}}(me,Ge,je,ee)))}},941:(Kt,nt,O)=>{O.d(nt,{Q:()=>ae});var d=O(5225),z=O(9974),F=O(4360);function ae(ie,pe=0){return(0,z.N)((Qe,Ye)=>{Qe.subscribe((0,F._)(Ye,je=>(0,d.N)(Ye,ie,()=>Ye.next(je),pe),()=>(0,d.N)(Ye,ie,()=>Ye.complete(),pe),je=>(0,d.N)(Ye,ie,()=>Ye.error(je),pe)))})}},2816:(Kt,nt,O)=>{O.d(nt,{S:()=>ae});var d=O(9974),z=O(4360);function ae(ie,pe){return(0,d.N)(function F(ie,pe,Qe,Ye,je){return(J,ee)=>{let me=Qe,Ge=pe,Ve=0;J.subscribe((0,z._)(ee,Xe=>{const mt=Ve++;Ge=me?ie(Ge,Xe,mt):(me=!0,Xe),Ye&&ee.next(Ge)},je&&(()=>{me&&ee.next(Ge),ee.complete()})))}}(ie,pe,arguments.length>=2,!0))}},9172:(Kt,nt,O)=>{O.d(nt,{Z:()=>ae});var d=O(8793),z=O(3794),F=O(9974);function ae(...ie){const pe=(0,z.lI)(ie);return(0,F.N)((Qe,Ye)=>{(pe?(0,d.x)(ie,Qe,pe):(0,d.x)(ie,Qe)).subscribe(Ye)})}},6745:(Kt,nt,O)=>{O.d(nt,{_:()=>z});var d=O(9974);function z(F,ae=0){return(0,d.N)((ie,pe)=>{pe.add(F.schedule(()=>ie.subscribe(pe),ae))})}},5558:(Kt,nt,O)=>{O.d(nt,{n:()=>ae});var d=O(8750),z=O(9974),F=O(4360);function ae(ie,pe){return(0,z.N)((Qe,Ye)=>{let je=null,J=0,ee=!1;const me=()=>ee&&!je&&Ye.complete();Qe.subscribe((0,F._)(Ye,Ge=>{je?.unsubscribe();let Ve=0;const Xe=J++;(0,d.Tg)(ie(Ge,Xe)).subscribe(je=(0,F._)(Ye,mt=>Ye.next(pe?pe(Ge,mt,Xe,Ve++):mt),()=>{je=null,me()}))},()=>{ee=!0,me()}))})}},6697:(Kt,nt,O)=>{O.d(nt,{s:()=>ae});var d=O(983),z=O(9974),F=O(4360);function ae(ie){return ie<=0?()=>d.w:(0,z.N)((pe,Qe)=>{let Ye=0;pe.subscribe((0,F._)(Qe,je=>{++Ye<=ie&&(Qe.next(je),ie<=Ye&&Qe.complete())}))})}},8141:(Kt,nt,O)=>{O.d(nt,{M:()=>ie});var d=O(8071),z=O(9974),F=O(4360),ae=O(3669);function ie(pe,Qe,Ye){const je=(0,d.T)(pe)||Qe||Ye?{next:pe,error:Qe,complete:Ye}:pe;return je?(0,z.N)((J,ee)=>{var me;null===(me=je.subscribe)||void 0===me||me.call(je);let Ge=!0;J.subscribe((0,F._)(ee,Ve=>{var Xe;null===(Xe=je.next)||void 0===Xe||Xe.call(je,Ve),ee.next(Ve)},()=>{var Ve;Ge=!1,null===(Ve=je.complete)||void 0===Ve||Ve.call(je),ee.complete()},Ve=>{var Xe;Ge=!1,null===(Xe=je.error)||void 0===Xe||Xe.call(je,Ve),ee.error(Ve)},()=>{var Ve,Xe;Ge&&(null===(Ve=je.unsubscribe)||void 0===Ve||Ve.call(je)),null===(Xe=je.finalize)||void 0===Xe||Xe.call(je)}))}):ae.D}},3774:(Kt,nt,O)=>{O.d(nt,{v:()=>ae});var d=O(9350),z=O(9974),F=O(4360);function ae(pe=ie){return(0,z.N)((Qe,Ye)=>{let je=!1;Qe.subscribe((0,F._)(Ye,J=>{je=!0,Ye.next(J)},()=>je?Ye.complete():Ye.error(pe())))})}function ie(){return new d.G}},9270:(Kt,nt,O)=>{O.d(nt,{f:()=>d});const d={setTimeout(z,F,...ae){const{delegate:ie}=d;return ie?.setTimeout?ie.setTimeout(z,F,...ae):setTimeout(z,F,...ae)},clearTimeout(z){const{delegate:F}=d;return(F?.clearTimeout||clearTimeout)(z)},delegate:void 0}},4761:(Kt,nt,O)=>{O.d(nt,{l:()=>z});const z=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Kt,nt,O)=>{O.d(nt,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Kt,nt,O)=>{O.d(nt,{G:()=>z});const z=(0,O(1853).L)(F=>function(){F(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(Kt,nt,O)=>{O.d(nt,{R0:()=>pe,ms:()=>ae,lI:()=>ie});var d=O(8071);function F(Qe){return Qe[Qe.length-1]}function ae(Qe){return(0,d.T)(F(Qe))?Qe.pop():void 0}function ie(Qe){return function z(Qe){return Qe&&(0,d.T)(Qe.schedule)}(F(Qe))?Qe.pop():void 0}function pe(Qe,Ye){return"number"==typeof F(Qe)?Qe.pop():Ye}},3073:(Kt,nt,O)=>{O.d(nt,{D:()=>ie});const{isArray:d}=Array,{getPrototypeOf:z,prototype:F,keys:ae}=Object;function ie(Qe){if(1===Qe.length){const Ye=Qe[0];if(d(Ye))return{args:Ye,keys:null};if(function pe(Qe){return Qe&&"object"==typeof Qe&&z(Qe)===F}(Ye)){const je=ae(Ye);return{args:je.map(J=>Ye[J]),keys:je}}}return{args:Qe,keys:null}}},7908:(Kt,nt,O)=>{function d(z,F){if(z){const ae=z.indexOf(F);0<=ae&&z.splice(ae,1)}}O.d(nt,{o:()=>d})},1853:(Kt,nt,O)=>{function d(z){const ae=z(ie=>{Error.call(ie),ie.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}O.d(nt,{L:()=>d})},8496:(Kt,nt,O)=>{function d(z,F){return z.reduce((ae,ie,pe)=>(ae[ie]=F[pe],ae),{})}O.d(nt,{e:()=>d})},9786:(Kt,nt,O)=>{O.d(nt,{Y:()=>F,l:()=>ae});var d=O(1026);let z=null;function F(ie){if(d.$.useDeprecatedSynchronousErrorHandling){const pe=!z;if(pe&&(z={errorThrown:!1,error:null}),ie(),pe){const{errorThrown:Qe,error:Ye}=z;if(z=null,Qe)throw Ye}}else ie()}function ae(ie){d.$.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=ie)}},5225:(Kt,nt,O)=>{function d(z,F,ae,ie=0,pe=!1){const Qe=F.schedule(function(){ae(),pe?z.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(z.add(Qe),!pe)return Qe}O.d(nt,{N:()=>d})},3669:(Kt,nt,O)=>{function d(z){return z}O.d(nt,{D:()=>d})},7441:(Kt,nt,O)=>{O.d(nt,{X:()=>d});const d=z=>z&&"number"==typeof z.length&&"function"!=typeof z},7953:(Kt,nt,O)=>{O.d(nt,{T:()=>z});var d=O(8071);function z(F){return Symbol.asyncIterator&&(0,d.T)(F?.[Symbol.asyncIterator])}},8071:(Kt,nt,O)=>{function d(z){return"function"==typeof z}O.d(nt,{T:()=>d})},5055:(Kt,nt,O)=>{O.d(nt,{l:()=>F});var d=O(3494),z=O(8071);function F(ae){return(0,z.T)(ae[d.s])}},5397:(Kt,nt,O)=>{O.d(nt,{x:()=>F});var d=O(4761),z=O(8071);function F(ae){return(0,z.T)(ae?.[d.l])}},9858:(Kt,nt,O)=>{O.d(nt,{y:()=>z});var d=O(8071);function z(F){return(0,d.T)(F?.then)}},5196:(Kt,nt,O)=>{O.d(nt,{C:()=>F,U:()=>ae});var d=O(1635),z=O(8071);function F(ie){return(0,d.AQ)(this,arguments,function*(){const Qe=ie.getReader();try{for(;;){const{value:Ye,done:je}=yield(0,d.N3)(Qe.read());if(je)return yield(0,d.N3)(void 0);yield yield(0,d.N3)(Ye)}}finally{Qe.releaseLock()}})}function ae(ie){return(0,z.T)(ie?.getReader)}},9974:(Kt,nt,O)=>{O.d(nt,{N:()=>F,S:()=>z});var d=O(8071);function z(ae){return(0,d.T)(ae?.lift)}function F(ae){return ie=>{if(z(ie))return ie.lift(function(pe){try{return ae(pe,this)}catch(Qe){this.error(Qe)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Kt,nt,O)=>{O.d(nt,{I:()=>ae});var d=O(6354);const{isArray:z}=Array;function ae(ie){return(0,d.T)(pe=>function F(ie,pe){return z(pe)?ie(...pe):ie(pe)}(ie,pe))}},5343:(Kt,nt,O)=>{function d(){}O.d(nt,{l:()=>d})},1203:(Kt,nt,O)=>{O.d(nt,{F:()=>z,m:()=>F});var d=O(3669);function z(...ae){return F(ae)}function F(ae){return 0===ae.length?d.D:1===ae.length?ae[0]:function(pe){return ae.reduce((Qe,Ye)=>Ye(Qe),pe)}}},5334:(Kt,nt,O)=>{O.d(nt,{m:()=>F});var d=O(1026),z=O(9270);function F(ae){z.f.setTimeout(()=>{const{onUnhandledError:ie}=d.$;if(!ie)throw ae;ie(ae)})}},591:(Kt,nt,O)=>{function d(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(nt,{L:()=>d})},177:(Kt,nt,O)=>{O.d(nt,{AJ:()=>Qo,MD:()=>Na,N0:()=>To,QT:()=>F,Sq:()=>ve,VF:()=>ie,Vy:()=>Io,YU:()=>ur,ZD:()=>ae,_b:()=>En,aZ:()=>Fe,bT:()=>Bt,hb:()=>Ve,pM:()=>ve,qQ:()=>Qe});var d=O(3953);let z=null;function F(){return z}function ae(C){z??=C}class ie{}const Qe=new d.nKC("");let Ye=(()=>{class C{historyGo(M){throw new Error("")}static{this.\u0275fac=function($){return new($||C)}}static{this.\u0275prov=d.jDH({token:C,factory:()=>(0,d.WQX)(J),providedIn:"platform"})}}return C})(),J=(()=>{class C extends Ye{constructor(){super(),this._doc=(0,d.WQX)(Qe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(M){const $=F().getGlobalEventTarget(this._doc,"window");return $.addEventListener("popstate",M,!1),()=>$.removeEventListener("popstate",M)}onHashChange(M){const $=F().getGlobalEventTarget(this._doc,"window");return $.addEventListener("hashchange",M,!1),()=>$.removeEventListener("hashchange",M)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(M){this._location.pathname=M}pushState(M,$,fe){this._history.pushState(M,$,fe)}replaceState(M,$,fe){this._history.replaceState(M,$,fe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}static{this.\u0275fac=function($){return new($||C)}}static{this.\u0275prov=d.jDH({token:C,factory:()=>new C,providedIn:"platform"})}}return C})();function ee(C,W){if(0==C.length)return W;if(0==W.length)return C;let M=0;return C.endsWith("/")&&M++,W.startsWith("/")&&M++,2==M?C+W.substring(1):1==M?C+W:C+"/"+W}function me(C){const W=C.match(/#|\?|$/),M=W&&W.index||C.length;return C.slice(0,M-("/"===C[M-1]?1:0))+C.slice(M)}function Ge(C){return C&&"?"!==C[0]?"?"+C:C}let Ve=(()=>{class C{historyGo(M){throw new Error("")}static{this.\u0275fac=function($){return new($||C)}}static{this.\u0275prov=d.jDH({token:C,factory:()=>(0,d.WQX)(mt),providedIn:"root"})}}return C})();const Xe=new d.nKC("");let mt=(()=>{class C extends Ve{constructor(M,$){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=$??this._platformLocation.getBaseHrefFromDOM()??(0,d.WQX)(Qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return ee(this._baseHref,M)}path(M=!1){const $=this._platformLocation.pathname+Ge(this._platformLocation.search),fe=this._platformLocation.hash;return fe&&M?`${$}${fe}`:$}pushState(M,$,fe,ut){const bt=this.prepareExternalUrl(fe+Ge(ut));this._platformLocation.pushState(M,$,bt)}replaceState(M,$,fe,ut){const bt=this.prepareExternalUrl(fe+Ge(ut));this._platformLocation.replaceState(M,$,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static{this.\u0275fac=function($){return new($||C)(d.KVO(Ye),d.KVO(Xe,8))}}static{this.\u0275prov=d.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})(),Fe=(()=>{class C{constructor(M){this._subject=new d.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const $=this._locationStrategy.getBaseHref();this._basePath=function ge(C){if(new RegExp("^(https?:)?//").test(C)){const[,M]=C.split(/\/\/[^\/]+/);return M}return C}(me(Ae($))),this._locationStrategy.onPopState(fe=>{this._subject.emit({url:this.path(!0),pop:!0,state:fe.state,type:fe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,$=""){return this.path()==this.normalize(M+Ge($))}normalize(M){return C.stripTrailingSlash(function Pe(C,W){if(!C||!W.startsWith(C))return W;const M=W.substring(C.length);return""===M||["/",";","?","#"].includes(M[0])?M:W}(this._basePath,Ae(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,$="",fe=null){this._locationStrategy.pushState(fe,"",M,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Ge($)),fe)}replaceState(M,$="",fe=null){this._locationStrategy.replaceState(fe,"",M,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Ge($)),fe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription??=this.subscribe($=>{this._notifyUrlChangeListeners($.url,$.state)}),()=>{const $=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice($,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",$){this._urlChangeListeners.forEach(fe=>fe(M,$))}subscribe(M,$,fe){return this._subject.subscribe({next:M,error:$,complete:fe})}static{this.normalizeQueryParams=Ge}static{this.joinWithSlash=ee}static{this.stripTrailingSlash=me}static{this.\u0275fac=function($){return new($||C)(d.KVO(Ve))}}static{this.\u0275prov=d.jDH({token:C,factory:()=>function Tt(){return new Fe((0,d.KVO)(Ve))}(),providedIn:"root"})}}return C})();function Ae(C){return C.replace(/\/index.html$/,"")}function En(C,W){W=encodeURIComponent(W);for(const M of C.split(";")){const $=M.indexOf("="),[fe,ut]=-1==$?[M,""]:[M.slice(0,$),M.slice($+1)];if(fe.trim()===W)return decodeURIComponent(ut)}return null}const Cn=/\s+/,Yn=[];let ur=(()=>{class C{constructor(M,$){this._ngEl=M,this._renderer=$,this.initialClasses=Yn,this.stateMap=new Map}set klass(M){this.initialClasses=null!=M?M.trim().split(Cn):Yn}set ngClass(M){this.rawClass="string"==typeof M?M.trim().split(Cn):M}ngDoCheck(){for(const $ of this.initialClasses)this._updateState($,!0);const M=this.rawClass;if(Array.isArray(M)||M instanceof Set)for(const $ of M)this._updateState($,!0);else if(null!=M)for(const $ of Object.keys(M))this._updateState($,!!M[$]);this._applyStateDiff()}_updateState(M,$){const fe=this.stateMap.get(M);void 0!==fe?(fe.enabled!==$&&(fe.changed=!0,fe.enabled=$),fe.touched=!0):this.stateMap.set(M,{enabled:$,changed:!0,touched:!0})}_applyStateDiff(){for(const M of this.stateMap){const $=M[0],fe=M[1];fe.changed?(this._toggleClass($,fe.enabled),fe.changed=!1):fe.touched||(fe.enabled&&this._toggleClass($,!1),this.stateMap.delete($)),fe.touched=!1}}_toggleClass(M,$){(M=M.trim()).length>0&&M.split(Cn).forEach(fe=>{$?this._renderer.addClass(this._ngEl.nativeElement,fe):this._renderer.removeClass(this._ngEl.nativeElement,fe)})}static{this.\u0275fac=function($){return new($||C)(d.rXU(d.aKT),d.rXU(d.sFG))}}static{this.\u0275dir=d.FsC({type:C,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return C})();class we{constructor(W,M,$,fe){this.$implicit=W,this.ngForOf=M,this.index=$,this.count=fe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ve=(()=>{class C{set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}constructor(M,$,fe){this._viewContainer=M,this._template=$,this._differs=fe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const $=this._viewContainer;M.forEachOperation((fe,ut,bt)=>{if(null==fe.previousIndex)$.createEmbeddedView(this._template,new we(fe.item,this._ngForOf,-1,-1),null===bt?void 0:bt);else if(null==bt)$.remove(null===ut?void 0:ut);else if(null!==ut){const Yt=$.get(ut);$.move(Yt,bt),gt(Yt,fe)}});for(let fe=0,ut=$.length;fe<ut;fe++){const Yt=$.get(fe).context;Yt.index=fe,Yt.count=ut,Yt.ngForOf=this._ngForOf}M.forEachIdentityChange(fe=>{gt($.get(fe.currentIndex),fe)})}static ngTemplateContextGuard(M,$){return!0}static{this.\u0275fac=function($){return new($||C)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(d._q3))}}static{this.\u0275dir=d.FsC({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return C})();function gt(C,W){C.context.$implicit=W.item}let Bt=(()=>{class C{constructor(M,$){this._viewContainer=M,this._context=new Wt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=$}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){Rn("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){Rn("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,$){return!0}static{this.\u0275fac=function($){return new($||C)(d.rXU(d.c1b),d.rXU(d.C4Q))}}static{this.\u0275dir=d.FsC({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return C})();class Wt{constructor(){this.$implicit=null,this.ngIf=null}}function Rn(C,W){if(W&&!W.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,d.Tbb)(W)}'.`)}let Na=(()=>{class C{static{this.\u0275fac=function($){return new($||C)}}static{this.\u0275mod=d.$C({type:C})}static{this.\u0275inj=d.G2t({})}}return C})();const Qo="browser",eu="server";function Io(C){return C===eu}class To{}},1626:(Kt,nt,O)=>{O.d(nt,{$R:()=>ne,Kd:()=>bn,Lr:()=>Ve,Nl:()=>ge,Qq:()=>ke,Sx:()=>Y,b$:()=>H,cS:()=>kr});var d=O(467),z=O(3953),F=O(7673),ae=O(1985),ie=O(8455),pe=O(274),Qe=O(5964),Ye=O(6354),je=O(980),J=O(5558),ee=O(177);class me{}class Ge{}class Ve{constructor(we){this.normalizedNames=new Map,this.lazyUpdate=null,we?"string"==typeof we?this.lazyInit=()=>{this.headers=new Map,we.split("\n").forEach(ve=>{const gt=ve.indexOf(":");if(gt>0){const Dt=ve.slice(0,gt),Bt=Dt.toLowerCase(),Wt=ve.slice(gt+1).trim();this.maybeSetNormalizedName(Dt,Bt),this.headers.has(Bt)?this.headers.get(Bt).push(Wt):this.headers.set(Bt,[Wt])}})}:typeof Headers<"u"&&we instanceof Headers?(this.headers=new Map,we.forEach((ve,gt)=>{this.setHeaderEntries(gt,ve)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(we).forEach(([ve,gt])=>{this.setHeaderEntries(ve,gt)})}:this.headers=new Map}has(we){return this.init(),this.headers.has(we.toLowerCase())}get(we){this.init();const ve=this.headers.get(we.toLowerCase());return ve&&ve.length>0?ve[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(we){return this.init(),this.headers.get(we.toLowerCase())||null}append(we,ve){return this.clone({name:we,value:ve,op:"a"})}set(we,ve){return this.clone({name:we,value:ve,op:"s"})}delete(we,ve){return this.clone({name:we,value:ve,op:"d"})}maybeSetNormalizedName(we,ve){this.normalizedNames.has(ve)||this.normalizedNames.set(ve,we)}init(){this.lazyInit&&(this.lazyInit instanceof Ve?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(we=>this.applyUpdate(we)),this.lazyUpdate=null))}copyFrom(we){we.init(),Array.from(we.headers.keys()).forEach(ve=>{this.headers.set(ve,we.headers.get(ve)),this.normalizedNames.set(ve,we.normalizedNames.get(ve))})}clone(we){const ve=new Ve;return ve.lazyInit=this.lazyInit&&this.lazyInit instanceof Ve?this.lazyInit:this,ve.lazyUpdate=(this.lazyUpdate||[]).concat([we]),ve}applyUpdate(we){const ve=we.name.toLowerCase();switch(we.op){case"a":case"s":let gt=we.value;if("string"==typeof gt&&(gt=[gt]),0===gt.length)return;this.maybeSetNormalizedName(we.name,ve);const Dt=("a"===we.op?this.headers.get(ve):void 0)||[];Dt.push(...gt),this.headers.set(ve,Dt);break;case"d":const Bt=we.value;if(Bt){let Wt=this.headers.get(ve);if(!Wt)return;Wt=Wt.filter(Rn=>-1===Bt.indexOf(Rn)),0===Wt.length?(this.headers.delete(ve),this.normalizedNames.delete(ve)):this.headers.set(ve,Wt)}else this.headers.delete(ve),this.normalizedNames.delete(ve)}}setHeaderEntries(we,ve){const gt=(Array.isArray(ve)?ve:[ve]).map(Bt=>Bt.toString()),Dt=we.toLowerCase();this.headers.set(Dt,gt),this.maybeSetNormalizedName(we,Dt)}forEach(we){this.init(),Array.from(this.normalizedNames.keys()).forEach(ve=>we(this.normalizedNames.get(ve),this.headers.get(ve)))}}class mt{encodeKey(we){return Pe(we)}encodeValue(we){return Pe(we)}decodeKey(we){return decodeURIComponent(we)}decodeValue(we){return decodeURIComponent(we)}}const Fe=/%(\d[a-f0-9])/gi,Tt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Pe(te){return encodeURIComponent(te).replace(Fe,(we,ve)=>Tt[ve]??we)}function Ae(te){return`${te}`}class ge{constructor(we={}){if(this.updates=null,this.cloneFrom=null,this.encoder=we.encoder||new mt,we.fromString){if(we.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function st(te,we){const ve=new Map;return te.length>0&&te.replace(/^\?/,"").split("&").forEach(Dt=>{const Bt=Dt.indexOf("="),[Wt,Rn]=-1==Bt?[we.decodeKey(Dt),""]:[we.decodeKey(Dt.slice(0,Bt)),we.decodeValue(Dt.slice(Bt+1))],un=ve.get(Wt)||[];un.push(Rn),ve.set(Wt,un)}),ve}(we.fromString,this.encoder)}else we.fromObject?(this.map=new Map,Object.keys(we.fromObject).forEach(ve=>{const gt=we.fromObject[ve],Dt=Array.isArray(gt)?gt.map(Ae):[Ae(gt)];this.map.set(ve,Dt)})):this.map=null}has(we){return this.init(),this.map.has(we)}get(we){this.init();const ve=this.map.get(we);return ve?ve[0]:null}getAll(we){return this.init(),this.map.get(we)||null}keys(){return this.init(),Array.from(this.map.keys())}append(we,ve){return this.clone({param:we,value:ve,op:"a"})}appendAll(we){const ve=[];return Object.keys(we).forEach(gt=>{const Dt=we[gt];Array.isArray(Dt)?Dt.forEach(Bt=>{ve.push({param:gt,value:Bt,op:"a"})}):ve.push({param:gt,value:Dt,op:"a"})}),this.clone(ve)}set(we,ve){return this.clone({param:we,value:ve,op:"s"})}delete(we,ve){return this.clone({param:we,value:ve,op:"d"})}toString(){return this.init(),this.keys().map(we=>{const ve=this.encoder.encodeKey(we);return this.map.get(we).map(gt=>ve+"="+this.encoder.encodeValue(gt)).join("&")}).filter(we=>""!==we).join("&")}clone(we){const ve=new ge({encoder:this.encoder});return ve.cloneFrom=this.cloneFrom||this,ve.updates=(this.updates||[]).concat(we),ve}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(we=>this.map.set(we,this.cloneFrom.map.get(we))),this.updates.forEach(we=>{switch(we.op){case"a":case"s":const ve=("a"===we.op?this.map.get(we.param):void 0)||[];ve.push(Ae(we.value)),this.map.set(we.param,ve);break;case"d":if(void 0===we.value){this.map.delete(we.param);break}{let gt=this.map.get(we.param)||[];const Dt=gt.indexOf(Ae(we.value));-1!==Dt&&gt.splice(Dt,1),gt.length>0?this.map.set(we.param,gt):this.map.delete(we.param)}}}),this.cloneFrom=this.updates=null)}}class Te{constructor(){this.map=new Map}set(we,ve){return this.map.set(we,ve),this}get(we){return this.map.has(we)||this.map.set(we,we.defaultValue()),this.map.get(we)}delete(we){return this.map.delete(we),this}has(we){return this.map.has(we)}keys(){return this.map.keys()}}function K(te){return typeof ArrayBuffer<"u"&&te instanceof ArrayBuffer}function ce(te){return typeof Blob<"u"&&te instanceof Blob}function vt(te){return typeof FormData<"u"&&te instanceof FormData}class bn{constructor(we,ve,gt,Dt){let Bt;if(this.url=ve,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=we.toUpperCase(),function De(te){switch(te){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Dt?(this.body=void 0!==gt?gt:null,Bt=Dt):Bt=gt,Bt&&(this.reportProgress=!!Bt.reportProgress,this.withCredentials=!!Bt.withCredentials,Bt.responseType&&(this.responseType=Bt.responseType),Bt.headers&&(this.headers=Bt.headers),Bt.context&&(this.context=Bt.context),Bt.params&&(this.params=Bt.params),this.transferCache=Bt.transferCache),this.headers??=new Ve,this.context??=new Te,this.params){const Wt=this.params.toString();if(0===Wt.length)this.urlWithParams=ve;else{const Rn=ve.indexOf("?");this.urlWithParams=ve+(-1===Rn?"?":Rn<ve.length-1?"&":"")+Wt}}else this.params=new ge,this.urlWithParams=ve}serializeBody(){return null===this.body?null:"string"==typeof this.body||K(this.body)||ce(this.body)||vt(this.body)||function ot(te){return typeof URLSearchParams<"u"&&te instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ge?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vt(this.body)?null:ce(this.body)?this.body.type||null:K(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ge?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(we={}){const ve=we.method||this.method,gt=we.url||this.url,Dt=we.responseType||this.responseType,Bt=we.transferCache??this.transferCache,Wt=void 0!==we.body?we.body:this.body,Rn=we.withCredentials??this.withCredentials,un=we.reportProgress??this.reportProgress;let vr=we.headers||this.headers,li=we.params||this.params;const tn=we.context??this.context;return void 0!==we.setHeaders&&(vr=Object.keys(we.setHeaders).reduce((_r,Cr)=>_r.set(Cr,we.setHeaders[Cr]),vr)),we.setParams&&(li=Object.keys(we.setParams).reduce((_r,Cr)=>_r.set(Cr,we.setParams[Cr]),li)),new bn(ve,gt,Wt,{params:li,headers:vr,context:tn,reportProgress:un,responseType:Dt,withCredentials:Rn,transferCache:Bt})}}var hn=function(te){return te[te.Sent=0]="Sent",te[te.UploadProgress=1]="UploadProgress",te[te.ResponseHeader=2]="ResponseHeader",te[te.DownloadProgress=3]="DownloadProgress",te[te.Response=4]="Response",te[te.User=5]="User",te}(hn||{});class sr{constructor(we,ve=200,gt="OK"){this.headers=we.headers||new Ve,this.status=void 0!==we.status?we.status:ve,this.statusText=we.statusText||gt,this.url=we.url||null,this.ok=this.status>=200&&this.status<300}}class Kn extends sr{constructor(we={}){super(we),this.type=hn.ResponseHeader}clone(we={}){return new Kn({headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class kr extends sr{constructor(we={}){super(we),this.type=hn.Response,this.body=void 0!==we.body?we.body:null}clone(we={}){return new kr({body:void 0!==we.body?we.body:this.body,headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class ar extends sr{constructor(we){super(we,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${we.url||"(unknown url)"}`:`Http failure response for ${we.url||"(unknown url)"}: ${we.status} ${we.statusText}`,this.error=we.error||null}}function lt(te,we){return{body:we,headers:te.headers,context:te.context,observe:te.observe,params:te.params,reportProgress:te.reportProgress,responseType:te.responseType,withCredentials:te.withCredentials,transferCache:te.transferCache}}let ke=(()=>{class te{constructor(ve){this.handler=ve}request(ve,gt,Dt={}){let Bt;if(ve instanceof bn)Bt=ve;else{let un,vr;un=Dt.headers instanceof Ve?Dt.headers:new Ve(Dt.headers),Dt.params&&(vr=Dt.params instanceof ge?Dt.params:new ge({fromObject:Dt.params})),Bt=new bn(ve,gt,void 0!==Dt.body?Dt.body:null,{headers:un,context:Dt.context,params:vr,reportProgress:Dt.reportProgress,responseType:Dt.responseType||"json",withCredentials:Dt.withCredentials,transferCache:Dt.transferCache})}const Wt=(0,F.of)(Bt).pipe((0,pe.H)(un=>this.handler.handle(un)));if(ve instanceof bn||"events"===Dt.observe)return Wt;const Rn=Wt.pipe((0,Qe.p)(un=>un instanceof kr));switch(Dt.observe||"body"){case"body":switch(Bt.responseType){case"arraybuffer":return Rn.pipe((0,Ye.T)(un=>{if(null!==un.body&&!(un.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return un.body}));case"blob":return Rn.pipe((0,Ye.T)(un=>{if(null!==un.body&&!(un.body instanceof Blob))throw new Error("Response is not a Blob.");return un.body}));case"text":return Rn.pipe((0,Ye.T)(un=>{if(null!==un.body&&"string"!=typeof un.body)throw new Error("Response is not a string.");return un.body}));default:return Rn.pipe((0,Ye.T)(un=>un.body))}case"response":return Rn;default:throw new Error(`Unreachable: unhandled observe type ${Dt.observe}}`)}}delete(ve,gt={}){return this.request("DELETE",ve,gt)}get(ve,gt={}){return this.request("GET",ve,gt)}head(ve,gt={}){return this.request("HEAD",ve,gt)}jsonp(ve,gt){return this.request("JSONP",ve,{params:(new ge).append(gt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ve,gt={}){return this.request("OPTIONS",ve,gt)}patch(ve,gt,Dt={}){return this.request("PATCH",ve,lt(Dt,gt))}post(ve,gt,Dt={}){return this.request("POST",ve,lt(Dt,gt))}put(ve,gt,Dt={}){return this.request("PUT",ve,lt(Dt,gt))}static{this.\u0275fac=function(gt){return new(gt||te)(z.KVO(me))}}static{this.\u0275prov=z.jDH({token:te,factory:te.\u0275fac})}}return te})();const Oe=/^\)\]\}',?\n/;function _e(te){if(te.url)return te.url;const we="X-Request-URL".toLocaleLowerCase();return te.headers.get(we)}let Re=(()=>{class te{constructor(){this.fetchImpl=(0,z.WQX)(Ue,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=(0,z.WQX)(z.SKi)}handle(ve){return new ae.c(gt=>{const Dt=new AbortController;return this.doRequest(ve,Dt.signal,gt).then(Hn,Bt=>gt.error(new ar({error:Bt}))),()=>Dt.abort()})}doRequest(ve,gt,Dt){var Bt=this;return(0,d.A)(function*(){const Wt=Bt.createRequestInit(ve);let Rn;try{const Wn=Bt.ngZone.runOutsideAngular(()=>Bt.fetchImpl(ve.urlWithParams,{signal:gt,...Wt}));(function Zn(te){te.then(Hn,Hn)})(Wn),Dt.next({type:hn.Sent}),Rn=yield Wn}catch(Wn){return void Dt.error(new ar({error:Wn,status:Wn.status??0,statusText:Wn.statusText,url:ve.urlWithParams,headers:Wn.headers}))}const un=new Ve(Rn.headers),vr=Rn.statusText,li=_e(Rn)??ve.urlWithParams;let tn=Rn.status,_r=null;if(ve.reportProgress&&Dt.next(new Kn({headers:un,status:tn,statusText:vr,url:li})),Rn.body){const Wn=Rn.headers.get("content-length"),Ln=[],Dr=Rn.body.getReader();let Fi,jn,Pr=0;const Yi=typeof Zone<"u"&&Zone.current;yield Bt.ngZone.runOutsideAngular((0,d.A)(function*(){for(;;){const{done:Gi,value:js}=yield Dr.read();if(Gi)break;if(Ln.push(js),Pr+=js.length,ve.reportProgress){jn="text"===ve.responseType?(jn??"")+(Fi??=new TextDecoder).decode(js,{stream:!0}):void 0;const ia=()=>Dt.next({type:hn.DownloadProgress,total:Wn?+Wn:void 0,loaded:Pr,partialText:jn});Yi?Yi.run(ia):ia()}}}));const Fo=Bt.concatChunks(Ln,Pr);try{const Gi=Rn.headers.get("Content-Type")??"";_r=Bt.parseBody(ve,Fo,Gi)}catch(Gi){return void Dt.error(new ar({error:Gi,headers:new Ve(Rn.headers),status:Rn.status,statusText:Rn.statusText,url:_e(Rn)??ve.urlWithParams}))}}0===tn&&(tn=_r?200:0),tn>=200&&tn<300?(Dt.next(new kr({body:_r,headers:un,status:tn,statusText:vr,url:li})),Dt.complete()):Dt.error(new ar({error:_r,headers:un,status:tn,statusText:vr,url:li}))})()}parseBody(ve,gt,Dt){switch(ve.responseType){case"json":const Bt=(new TextDecoder).decode(gt).replace(Oe,"");return""===Bt?null:JSON.parse(Bt);case"text":return(new TextDecoder).decode(gt);case"blob":return new Blob([gt],{type:Dt});case"arraybuffer":return gt.buffer}}createRequestInit(ve){const gt={},Dt=ve.withCredentials?"include":void 0;if(ve.headers.forEach((Bt,Wt)=>gt[Bt]=Wt.join(",")),ve.headers.has("Accept")||(gt.Accept="application/json, text/plain, */*"),!ve.headers.has("Content-Type")){const Bt=ve.detectContentTypeHeader();null!==Bt&&(gt["Content-Type"]=Bt)}return{body:ve.serializeBody(),method:ve.method,headers:gt,credentials:Dt}}concatChunks(ve,gt){const Dt=new Uint8Array(gt);let Bt=0;for(const Wt of ve)Dt.set(Wt,Bt),Bt+=Wt.length;return Dt}static{this.\u0275fac=function(gt){return new(gt||te)}}static{this.\u0275prov=z.jDH({token:te,factory:te.\u0275fac})}}return te})();class Ue{}function Hn(){}function Ci(te,we){return we(te)}function Un(te,we){return(ve,gt)=>we.intercept(ve,{handle:Dt=>te(Dt,gt)})}const lr=new z.nKC(""),zt=new z.nKC(""),Fr=new z.nKC(""),yi=new z.nKC("",{providedIn:"root",factory:()=>!0});function ui(){let te=null;return(we,ve)=>{null===te&&(te=((0,z.WQX)(lr,{optional:!0})??[]).reduceRight(Un,Ci));const gt=(0,z.WQX)(z.TgB);if((0,z.WQX)(yi)){const Bt=gt.add();return te(we,ve).pipe((0,je.j)(()=>gt.remove(Bt)))}return te(we,ve)}}let gr=(()=>{class te extends me{constructor(ve,gt){super(),this.backend=ve,this.injector=gt,this.chain=null,this.pendingTasks=(0,z.WQX)(z.TgB),this.contributeToStability=(0,z.WQX)(yi)}handle(ve){if(null===this.chain){const gt=Array.from(new Set([...this.injector.get(zt),...this.injector.get(Fr,[])]));this.chain=gt.reduceRight((Dt,Bt)=>function Gn(te,we,ve){return(gt,Dt)=>(0,z.N4e)(ve,()=>we(gt,Bt=>te(Bt,Dt)))}(Dt,Bt,this.injector),Ci)}if(this.contributeToStability){const gt=this.pendingTasks.add();return this.chain(ve,Dt=>this.backend.handle(Dt)).pipe((0,je.j)(()=>this.pendingTasks.remove(gt)))}return this.chain(ve,gt=>this.backend.handle(gt))}static{this.\u0275fac=function(gt){return new(gt||te)(z.KVO(Ge),z.KVO(z.uvJ))}}static{this.\u0275prov=z.jDH({token:te,factory:te.\u0275fac})}}return te})();const Di=/^\)\]\}',?\n/;let xn=(()=>{class te{constructor(ve){this.xhrFactory=ve}handle(ve){if("JSONP"===ve.method)throw new z.wOt(-2800,!1);const gt=this.xhrFactory;return(gt.\u0275loadImpl?(0,ie.H)(gt.\u0275loadImpl()):(0,F.of)(null)).pipe((0,J.n)(()=>new ae.c(Bt=>{const Wt=gt.build();if(Wt.open(ve.method,ve.urlWithParams),ve.withCredentials&&(Wt.withCredentials=!0),ve.headers.forEach((Ln,Dr)=>Wt.setRequestHeader(Ln,Dr.join(","))),ve.headers.has("Accept")||Wt.setRequestHeader("Accept","application/json, text/plain, */*"),!ve.headers.has("Content-Type")){const Ln=ve.detectContentTypeHeader();null!==Ln&&Wt.setRequestHeader("Content-Type",Ln)}if(ve.responseType){const Ln=ve.responseType.toLowerCase();Wt.responseType="json"!==Ln?Ln:"text"}const Rn=ve.serializeBody();let un=null;const vr=()=>{if(null!==un)return un;const Ln=Wt.statusText||"OK",Dr=new Ve(Wt.getAllResponseHeaders()),Pr=function sn(te){return"responseURL"in te&&te.responseURL?te.responseURL:/^X-Request-URL:/m.test(te.getAllResponseHeaders())?te.getResponseHeader("X-Request-URL"):null}(Wt)||ve.url;return un=new Kn({headers:Dr,status:Wt.status,statusText:Ln,url:Pr}),un},li=()=>{let{headers:Ln,status:Dr,statusText:Pr,url:Fi}=vr(),jn=null;204!==Dr&&(jn=typeof Wt.response>"u"?Wt.responseText:Wt.response),0===Dr&&(Dr=jn?200:0);let Yi=Dr>=200&&Dr<300;if("json"===ve.responseType&&"string"==typeof jn){const Fo=jn;jn=jn.replace(Di,"");try{jn=""!==jn?JSON.parse(jn):null}catch(Gi){jn=Fo,Yi&&(Yi=!1,jn={error:Gi,text:jn})}}Yi?(Bt.next(new kr({body:jn,headers:Ln,status:Dr,statusText:Pr,url:Fi||void 0})),Bt.complete()):Bt.error(new ar({error:jn,headers:Ln,status:Dr,statusText:Pr,url:Fi||void 0}))},tn=Ln=>{const{url:Dr}=vr(),Pr=new ar({error:Ln,status:Wt.status||0,statusText:Wt.statusText||"Unknown Error",url:Dr||void 0});Bt.error(Pr)};let _r=!1;const Cr=Ln=>{_r||(Bt.next(vr()),_r=!0);let Dr={type:hn.DownloadProgress,loaded:Ln.loaded};Ln.lengthComputable&&(Dr.total=Ln.total),"text"===ve.responseType&&Wt.responseText&&(Dr.partialText=Wt.responseText),Bt.next(Dr)},Wn=Ln=>{let Dr={type:hn.UploadProgress,loaded:Ln.loaded};Ln.lengthComputable&&(Dr.total=Ln.total),Bt.next(Dr)};return Wt.addEventListener("load",li),Wt.addEventListener("error",tn),Wt.addEventListener("timeout",tn),Wt.addEventListener("abort",tn),ve.reportProgress&&(Wt.addEventListener("progress",Cr),null!==Rn&&Wt.upload&&Wt.upload.addEventListener("progress",Wn)),Wt.send(Rn),Bt.next({type:hn.Sent}),()=>{Wt.removeEventListener("error",tn),Wt.removeEventListener("abort",tn),Wt.removeEventListener("load",li),Wt.removeEventListener("timeout",tn),ve.reportProgress&&(Wt.removeEventListener("progress",Cr),null!==Rn&&Wt.upload&&Wt.upload.removeEventListener("progress",Wn)),Wt.readyState!==Wt.DONE&&Wt.abort()}})))}static{this.\u0275fac=function(gt){return new(gt||te)(z.KVO(ee.N0))}}static{this.\u0275prov=z.jDH({token:te,factory:te.\u0275fac})}}return te})();const Bn=new z.nKC(""),Jr=new z.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),vi=new z.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Hr{}let ci=(()=>{class te{constructor(ve,gt,Dt){this.doc=ve,this.platform=gt,this.cookieName=Dt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ve=this.doc.cookie||"";return ve!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ee._b)(ve,this.cookieName),this.lastCookieString=ve),this.lastToken}static{this.\u0275fac=function(gt){return new(gt||te)(z.KVO(ee.qQ),z.KVO(z.Agw),z.KVO(Jr))}}static{this.\u0275prov=z.jDH({token:te,factory:te.\u0275fac})}}return te})();function ht(te,we){const ve=te.url.toLowerCase();if(!(0,z.WQX)(Bn)||"GET"===te.method||"HEAD"===te.method||ve.startsWith("http://")||ve.startsWith("https://"))return we(te);const gt=(0,z.WQX)(Hr).getToken(),Dt=(0,z.WQX)(vi);return null!=gt&&!te.headers.has(Dt)&&(te=te.clone({headers:te.headers.set(Dt,gt)})),we(te)}var he=function(te){return te[te.Interceptors=0]="Interceptors",te[te.LegacyInterceptors=1]="LegacyInterceptors",te[te.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",te[te.NoXsrfProtection=3]="NoXsrfProtection",te[te.JsonpSupport=4]="JsonpSupport",te[te.RequestsMadeViaParent=5]="RequestsMadeViaParent",te[te.Fetch=6]="Fetch",te}(he||{});function xe(te,we){return{\u0275kind:te,\u0275providers:we}}function ne(...te){const we=[ke,xn,gr,{provide:me,useExisting:gr},{provide:Ge,useFactory:()=>(0,z.WQX)(Re,{optional:!0})??(0,z.WQX)(xn)},{provide:zt,useValue:ht,multi:!0},{provide:Bn,useValue:!0},{provide:Hr,useClass:ci}];for(const ve of te)we.push(...ve.\u0275providers);return(0,z.EmA)(we)}function H(te){return xe(he.Interceptors,te.map(we=>({provide:zt,useValue:we,multi:!0})))}const G=new z.nKC("");function Y(){return xe(he.LegacyInterceptors,[{provide:G,useFactory:ui},{provide:zt,useExisting:G,multi:!0}])}},3953:(Kt,nt,O)=>{function d(e,n){return Object.is(e,n)}O.d(nt,{iLQ:()=>dT,sZ2:()=>Hd,Hbi:()=>hx,o8S:()=>ml,BIS:()=>sE,gRc:()=>hS,Ql9:()=>LO,Ocv:()=>$O,Z63:()=>_s,aKT:()=>Wl,uvJ:()=>os,zcH:()=>cc,bkB:()=>Bu,$GK:()=>er,nKC:()=>Dn,zZn:()=>as,_q3:()=>aC,MKu:()=>uC,xe9:()=>eC,Co$:()=>e0,Vns:()=>Zf,SKi:()=>Pi,Xx1:()=>jo,Agw:()=>Gd,PLl:()=>eg,sFG:()=>wI,_9s:()=>Xg,czy:()=>ev,C4Q:()=>Nf,NYb:()=>bO,giA:()=>Xb,xvI:()=>tO,RxE:()=>$b,c1b:()=>vh,gXe:()=>Rs,L39:()=>Gx,EWP:()=>zx,Ol2:()=>nA,w6W:()=>mR,SmG:()=>JO,Rfq:()=>gs,oKB:()=>to,WQX:()=>kt,naY:()=>YO,QuC:()=>Be,EmA:()=>Ao,N4e:()=>Zu,vPA:()=>um,O8t:()=>Kx,H3F:()=>Hb,zAP:()=>FS,H8p:()=>Ju,KH2:()=>Rm,TgB:()=>Yc,wOt:()=>Ot,WHO:()=>qb,e01:()=>Qb,H5H:()=>SA,Zy3:()=>$t,mq5:()=>aD,JZv:()=>Nr,TL3:()=>Ax,LfX:()=>La,plB:()=>hl,jNT:()=>XA,zjR:()=>Yb,TL$:()=>Ey,Tbb:()=>bi,Vt3:()=>Zw,GFd:()=>ZC,OA$:()=>Z,Jv_:()=>fb,aNF:()=>pb,R7$:()=>$E,BMQ:()=>mA,AVh:()=>TA,wni:()=>$D,VBU:()=>bh,FsC:()=>R,jDH:()=>kn,G2t:()=>Ki,$C:()=>D,EJ8:()=>V,rXU:()=>mu,nrm:()=>bA,bVm:()=>tT,qex:()=>eT,k0s:()=>ZI,j41:()=>JI,RV6:()=>iD,xGo:()=>M_,KVO:()=>Fn,kS0:()=>Op,bIt:()=>MA,lsd:()=>WD,XpG:()=>ND,nI1:()=>Cb,bMT:()=>Db,Y8G:()=>EA,lJ4:()=>yb,eq3:()=>vb,l_i:()=>_b,mGM:()=>GD,Njj:()=>y_,tSv:()=>yg,eBV:()=>km,$dS:()=>Af,n$t:()=>Xy,DNE:()=>iA,EFF:()=>tb,JRh:()=>LA,SpI:()=>sT,Lme:()=>kA,E5c:()=>FA,DH7:()=>cb,mxI:()=>UA,R50:()=>VA,GBs:()=>HD});let z=null,F=!1,ae=1;const ie=Symbol("SIGNAL");function pe(e){const n=z;return z=e,n}const J={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ee(e){if(F)throw new Error("");if(null===z)return;z.consumerOnSignalRead(e);const n=z.nextProducerIndex++;Te(z),n<z.producerNode.length&&z.producerNode[n]!==e&&Se(z)&&ge(z.producerNode[n],z.producerIndexOfThis[n]),z.producerNode[n]!==e&&(z.producerNode[n]=e,z.producerIndexOfThis[n]=Se(z)?Ae(e,z,n):0),z.producerLastReadVersion[n]=e.version}function Ge(e){if((!Se(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==ae)){if(!e.producerMustRecompute(e)&&!Tt(e))return e.dirty=!1,void(e.lastCleanEpoch=ae);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=ae}}function Ve(e){if(void 0===e.liveConsumerNode)return;const n=F;F=!0;try{for(const i of e.liveConsumerNode)i.dirty||mt(i)}finally{F=n}}function Xe(){return!1!==z?.consumerAllowSignalWrites}function mt(e){e.dirty=!0,Ve(e),e.consumerMarkedDirty?.(e)}function st(e){return e&&(e.nextProducerIndex=0),pe(e)}function Fe(e,n){if(pe(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Se(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)ge(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Tt(e){Te(e);for(let n=0;n<e.producerNode.length;n++){const i=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==i.version||(Ge(i),o!==i.version))return!0}return!1}function Pe(e){if(Te(e),Se(e))for(let n=0;n<e.producerNode.length;n++)ge(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ae(e,n,i){if(De(e),0===e.liveConsumerNode.length&&K(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=Ae(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(i),e.liveConsumerNode.push(n)-1}function ge(e,n){if(De(e),1===e.liveConsumerNode.length&&K(e))for(let o=0;o<e.producerNode.length;o++)ge(e.producerNode[o],e.producerIndexOfThis[o]);const i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[n],u=e.liveConsumerNode[n];Te(u),u.producerIndexOfThis[o]=n}}function Se(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Te(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function De(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function K(e){return void 0!==e.producerNode}const vt=Symbol("UNSET"),ot=Symbol("COMPUTING"),bn=Symbol("ERRORED"),hn={...J,value:vt,dirty:!0,error:null,equal:d,producerMustRecompute:e=>e.value===vt||e.value===ot,producerRecomputeValue(e){if(e.value===ot)throw new Error("Detected cycle in computations.");const n=e.value;e.value=ot;const i=st(e);let o;try{o=e.computation()}catch(u){o=bn,e.error=u}finally{Fe(e,i)}n!==vt&&n!==bn&&o!==bn&&e.equal(n,o)?e.value=n:(e.value=o,e.version++)}};let Kn=function sr(){throw new Error};function kr(){Kn()}let qe=null;function ke(e,n){Xe()||kr(),e.equal(e.value,n)||(e.value=n,function Re(e){e.version++,function me(){ae++}(),Ve(e),qe?.()}(e))}const _e={...J,equal:d,value:void 0};var Un=O(4412),Gn=O(1413),lr=O(8359),zt=O(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const As="https://g.co/ng/security#xss";class Ot extends Error{constructor(n,i){super($t(n,i)),this.code=n}}function $t(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}function Wi(e){return{toString:e}.toString()}const Ui="__parameters__";function ps(e,n,i){return Wi(()=>{const o=function Yo(e){return function(...i){if(e){const o=e(...i);for(const u in o)this[u]=o[u]}}}(n);function u(...l){if(this instanceof u)return o.apply(this,l),this;const p=new u(...l);return v.annotation=p,v;function v(A,N,U){const re=A.hasOwnProperty(Ui)?A[Ui]:Object.defineProperty(A,Ui,{value:[]})[Ui];for(;re.length<=U;)re.push(null);return(re[U]=re[U]||[]).push(p),A}}return i&&(u.prototype=Object.create(i.prototype)),u.prototype.ngMetadataName=e,u.annotationCls=u,u})}const Nr=globalThis;function rr(e){for(let n in e)if(e[n]===rr)return n;throw Error("Could not find renamed property on target object.")}function zi(e,n){for(const i in n)n.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=n[i])}function bi(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(bi).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Oa(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const di=rr({__forward_ref__:rr});function gs(e){return e.__forward_ref__=gs,e.toString=function(){return bi(this())},e}function gn(e){return sa(e)?e():e}function sa(e){return"function"==typeof e&&e.hasOwnProperty(di)&&e.__forward_ref__===gs}function kn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ki(e){return{providers:e.providers||[],imports:e.imports||[]}}function Bo(e){return Gs(e,Ws)||Gs(e,iu)}function La(e){return null!==Bo(e)}function Gs(e,n){return e.hasOwnProperty(n)?e[n]:null}function ua(e){return e&&(e.hasOwnProperty(zs)||e.hasOwnProperty(qu))?e[zs]:null}const Ws=rr({\u0275prov:rr}),zs=rr({\u0275inj:rr}),iu=rr({ngInjectableDef:rr}),qu=rr({ngInjectorDef:rr});class Dn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=kn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ys(e){return e&&!!e.\u0275providers}const Ei=rr({\u0275cmp:rr}),br=rr({\u0275dir:rr}),Va=rr({\u0275pipe:rr}),Ua=rr({\u0275mod:rr}),ii=rr({\u0275fac:rr}),su=rr({__NG_ELEMENT_ID__:rr}),wu=rr({__NG_ENV_ID__:rr});function rn(e){return"string"==typeof e?e:null==e?"":String(e)}function Ys(e,n){throw new Ot(-201,!1)}var er=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(er||{});let Ds;function es(){return Ds}function xi(e){const n=Ds;return Ds=e,n}function ts(e,n,i){const o=Bo(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&er.Optional?null:void 0!==n?n:void Ys()}const wo={},Ba="__NG_DI_FLAG__",C="ngTempTokenPath",M=/\n/gm,fe="__source";let ut;function Yt(e){const n=ut;return ut=e,n}function qr(e,n=er.Default){if(void 0===ut)throw new Ot(-203,!1);return null===ut?ts(e,void 0,n):ut.get(e,n&er.Optional?null:void 0,n)}function Fn(e,n=er.Default){return(es()||qr)(gn(e),n)}function kt(e,n=er.Default){return Fn(e,ei(n))}function ei(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Sr(e){const n=[];for(let i=0;i<e.length;i++){const o=gn(e[i]);if(Array.isArray(o)){if(0===o.length)throw new Ot(900,!1);let u,l=er.Default;for(let p=0;p<o.length;p++){const v=o[p],A=vs(v);"number"==typeof A?-1===A?u=v.token:l|=A:u=v}n.push(Fn(u,l))}else n.push(Fn(o))}return n}function Ii(e,n){return e[Ba]=n,e.prototype[Ba]=n,e}function vs(e){return e[Ba]}const jo=Ii(ps("Optional"),8),go=Ii(ps("SkipSelf"),4);function mo(e,n){return e.hasOwnProperty(ii)?e[ii]:null}function Js(e,n){e.forEach(i=>Array.isArray(i)?Js(i,n):n(i))}function Qn(e,n,i){n>=e.length?e.push(i):e.splice(n,0,i)}function Tr(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function oo(e,n,i){let o=ja(e,n);return o>=0?e[1|o]=i:(o=~o,function bc(e,n,i,o){let u=e.length;if(u==n)e.push(i,o);else if(1===u)e.push(o,e[0]),e[0]=i;else{for(u--,e.push(e[u-1],e[u]);u>n;)e[u]=e[u-2],u--;e[n]=i,e[n+1]=o}}(e,o,n,i)),o}function Sc(e,n){const i=ja(e,n);if(i>=0)return e[1|i]}function ja(e,n){return function fd(e,n,i){let o=0,u=e.length>>i;for(;u!==o;){const l=o+(u-o>>1),p=e[l<<i];if(n===p)return l<<i;p>n?u=l:o=l+1}return~(u<<i)}(e,n,1)}const Qr={},wr=[],_s=new Dn(""),Rc=new Dn("",-1),bu=new Dn("");class Su{get(n,i=wo){if(i===wo){const o=new Error(`NullInjectorError: No provider for ${bi(n)}!`);throw o.name="NullInjectorError",o}return i}}var Pc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Pc||{}),Rs=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Rs||{}),rs=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(rs||{});function da(e,n,i){let o=e.length;for(;;){const u=e.indexOf(n,i);if(-1===u)return u;if(0===u||e.charCodeAt(u-1)<=32){const l=n.length;if(u+l===o||e.charCodeAt(u+l)<=32)return u}i=u+1}}function Ru(e,n,i){let o=0;for(;o<i.length;){const u=i[o];if("number"==typeof u){if(0!==u)break;o++;const l=i[o++],p=i[o++],v=i[o++];e.setAttribute(n,p,v,l)}else{const l=u,p=i[++o];Qu(l)?e.setProperty(n,l,p):e.setAttribute(n,l,p),o++}}return o}function ha(e){return 3===e||4===e||6===e}function Qu(e){return 64===e.charCodeAt(0)}function Xu(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const u=n[o];"number"==typeof u?i=u:0===i||Ps(e,i,u,null,-1===i||2===i?n[++o]:null)}}return e}function Ps(e,n,i,o,u){let l=0,p=e.length;if(-1===n)p=-1;else for(;l<e.length;){const v=e[l++];if("number"==typeof v){if(v===n){p=-1;break}if(v>n){p=l-1;break}}}for(;l<e.length;){const v=e[l];if("number"==typeof v)break;if(v===i){if(null===o)return void(null!==u&&(e[l+1]=u));if(o===e[l+1])return void(e[l+2]=u)}l++,null!==o&&l++,null!==u&&l++}-1!==p&&(e.splice(p,0,n),l=p+1),e.splice(l++,0,i),null!==o&&e.splice(l++,0,o),null!==u&&e.splice(l++,0,u)}const vl="ng-template";function uu(e,n,i,o){let u=0;if(o){for(;u<n.length&&"string"==typeof n[u];u+=2)if("class"===n[u]&&-1!==da(n[u+1].toLowerCase(),i,0))return!0}else if(_l(e))return!1;if(u=n.indexOf(1,u),u>-1){let l;for(;++u<n.length&&"string"==typeof(l=n[u]);)if(l.toLowerCase()===i)return!0}return!1}function _l(e){return 4===e.type&&e.value!==vl}function Mc(e,n,i){return n===(4!==e.type||i?e.value:vl)}function Pu(e,n,i){let o=4;const u=e.attrs,l=null!==u?function Il(e){for(let n=0;n<e.length;n++)if(ha(e[n]))return n;return e.length}(u):0;let p=!1;for(let v=0;v<n.length;v++){const A=n[v];if("number"!=typeof A){if(!p)if(4&o){if(o=2|1&o,""!==A&&!Mc(e,A,i)||""===A&&1===n.length){if(hi(o))return!1;p=!0}}else if(8&o){if(null===u||!uu(e,u,A,i)){if(hi(o))return!1;p=!0}}else{const N=n[++v],U=wh(A,u,_l(e),i);if(-1===U){if(hi(o))return!1;p=!0;continue}if(""!==N){let re;if(re=U>l?"":u[U+1].toLowerCase(),2&o&&N!==re){if(hi(o))return!1;p=!0}}}}else{if(!p&&!hi(o)&&!hi(A))return!1;if(p&&hi(A))continue;p=!1,o=A|1&o}}return hi(o)||p}function hi(e){return!(1&e)}function wh(e,n,i,o){if(null===n)return-1;let u=0;if(o||!i){let l=!1;for(;u<n.length;){const p=n[u];if(p===e)return u;if(3===p||6===p)l=!0;else{if(1===p||2===p){let v=n[++u];for(;"string"==typeof v;)v=n[++u];continue}if(4===p)break;if(0===p){u+=4;continue}}u+=l?1:2}return-1}return function Mu(e,n){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const o=e[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,e)}function Ah(e,n,i=!1){for(let o=0;o<n.length;o++)if(Pu(e,n[o],i))return!0;return!1}function Nu(e,n){return e?":not("+n.trim()+")":n}function Nc(e){let n=e[0],i=1,o=2,u="",l=!1;for(;i<e.length;){let p=e[i];if("string"==typeof p)if(2&o){const v=e[++i];u+="["+p+(v.length>0?'="'+v+'"':"")+"]"}else 8&o?u+="."+p:4&o&&(u+=" "+p);else""!==u&&!hi(p)&&(n+=Nu(l,u),u=""),o=p,l=l||!hi(o);i++}return""!==u&&(n+=Nu(l,u)),n}function bh(e){return Wi(()=>{const n=Ut(e),i={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Pc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Rs.Emulated,styles:e.styles||wr,_:null,schemas:e.schemas||null,tView:null,id:""};Mn(i);const o=e.dependencies;return i.directiveDefs=xr(o,!1),i.pipeDefs=xr(o,!0),i.id=function vo(e){let n=0;const i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const u of i)n=Math.imul(31,n)+u.charCodeAt(0)|0;return n+=2147483648,"c"+n}(i),i})}function $a(e){return q(e)||de(e)}function E(e){return null!==e}function D(e){return Wi(()=>({type:e.type,bootstrap:e.bootstrap||wr,declarations:e.declarations||wr,imports:e.imports||wr,exports:e.exports||wr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function T(e,n){if(null==e)return Qr;const i={};for(const o in e)if(e.hasOwnProperty(o)){const u=e[o];let l,p,v=rs.None;Array.isArray(u)?(v=u[0],l=u[1],p=u[2]??l):(l=u,p=u),n?(i[l]=v!==rs.None?[o,v]:o,n[l]=p):i[l]=o}return i}function R(e){return Wi(()=>{const n=Ut(e);return Mn(n),n})}function V(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function q(e){return e[Ei]||null}function de(e){return e[br]||null}function tt(e){return e[Va]||null}function Be(e){const n=q(e)||de(e)||tt(e);return null!==n&&n.standalone}function Ft(e,n){const i=e[Ua]||null;if(!i&&!0===n)throw new Error(`Type ${bi(e)} does not have '\u0275mod' property.`);return i}function Ut(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Qr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||wr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:T(e.inputs,n),outputs:T(e.outputs),debugInfo:null}}function Mn(e){e.features?.forEach(n=>n(e))}function xr(e,n){if(!e)return null;const i=n?tt:$a;return()=>("function"==typeof e?e():e).map(o=>i(o)).filter(E)}function Ao(e){return{\u0275providers:e}}function to(...e){return{\u0275providers:fa(0,e),\u0275fromNgModule:!0}}function fa(e,...n){const i=[],o=new Set;let u;const l=p=>{i.push(p)};return Js(n,p=>{const v=p;Zs(v,l,[],o)&&(u||=[],u.push(v))}),void 0!==u&&pd(u,l),i}function pd(e,n){for(let i=0;i<e.length;i++){const{ngModule:o,providers:u}=e[i];is(u,l=>{n(l,o)})}}function Zs(e,n,i,o){if(!(e=gn(e)))return!1;let u=null,l=ua(e);const p=!l&&q(e);if(l||p){if(p&&!p.standalone)return!1;u=e}else{const A=e.ngModule;if(l=ua(A),!l)return!1;u=A}const v=o.has(u);if(p){if(v)return!1;if(o.add(u),p.dependencies){const A="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const N of A)Zs(N,n,i,o)}}else{if(!l)return!1;{if(null!=l.imports&&!v){let N;o.add(u);try{Js(l.imports,U=>{Zs(U,n,i,o)&&(N||=[],N.push(U))})}finally{}void 0!==N&&pd(N,n)}if(!v){const N=mo(u)||(()=>new u);n({provide:u,useFactory:N,deps:wr},u),n({provide:bu,useValue:u,multi:!0},u),n({provide:_s,useValue:()=>Fn(u),multi:!0},u)}const A=l.providers;if(null!=A&&!v){const N=e;is(A,U=>{n(U,N)})}}}return u!==e&&void 0!==e.providers}function is(e,n){for(let i of e)ys(i)&&(i=i.\u0275providers),Array.isArray(i)?is(i,n):n(i)}const gd=rr({provide:String,useValue:rr});function cu(e){return null!==e&&"object"==typeof e&&gd in e}function Ha(e){return"function"==typeof e}const Ju=new Dn(""),md={},Ph={};let gi;function lu(){return void 0===gi&&(gi=new Su),gi}class os{}class du extends os{get destroyed(){return this._destroyed}constructor(n,i,o,u){super(),this.parent=i,this.source=o,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_d(n,p=>this.processProvider(p)),this.records.set(Rc,pa(void 0,this)),u.has("environment")&&this.records.set(os,pa(void 0,this));const l=this.records.get(Ju);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(bu,wr,er.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=pe(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of i)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Yt(this),o=xi(void 0);try{return n()}finally{Yt(i),xi(o)}}get(n,i=wo,o=er.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(wu))return n[wu](this);o=ei(o);const l=Yt(this),p=xi(void 0);try{if(!(o&er.SkipSelf)){let A=this.records.get(n);if(void 0===A){const N=function vd(e){return"function"==typeof e||"object"==typeof e&&e instanceof Dn}(n)&&Bo(n);A=N&&this.injectableDefInScope(N)?pa(wl(n),md):null,this.records.set(n,A)}if(null!=A)return this.hydrate(n,A)}return(o&er.Self?lu():this.parent).get(n,i=o&er.Optional&&i===wo?null:i)}catch(v){if("NullInjectorError"===v.name){if((v[C]=v[C]||[]).unshift(bi(n)),l)throw v;return function ji(e,n,i,o){const u=e[C];throw n[fe]&&u.unshift(n[fe]),e.message=function Ss(e,n,i,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let u=bi(n);if(Array.isArray(n))u=n.map(bi).join(" -> ");else if("object"==typeof n){let l=[];for(let p in n)if(n.hasOwnProperty(p)){let v=n[p];l.push(p+":"+("string"==typeof v?JSON.stringify(v):bi(v)))}u=`{${l.join(", ")}}`}return`${i}${o?"("+o+")":""}[${u}]: ${e.replace(M,"\n  ")}`}("\n"+e.message,u,i,o),e.ngTokenPath=u,e[C]=null,e}(v,n,"R3InjectorError",this.source)}throw v}finally{xi(p),Yt(l)}}resolveInjectorInitializers(){const n=pe(null),i=Yt(this),o=xi(void 0);try{const l=this.get(_s,wr,er.Self);for(const p of l)p()}finally{Yt(i),xi(o),pe(n)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(bi(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ot(205,!1)}processProvider(n){let i=Ha(n=gn(n))?n:gn(n&&n.provide);const o=function Cl(e){return cu(e)?pa(void 0,e.useValue):pa(Mh(e),md)}(n);if(!Ha(n)&&!0===n.multi){let u=this.records.get(i);u||(u=pa(void 0,md,!0),u.factory=()=>Sr(u.multi),this.records.set(i,u)),i=n,u.multi.push(n)}this.records.set(i,o)}hydrate(n,i){const o=pe(null);try{return i.value===md&&(i.value=Ph,i.value=i.factory()),"object"==typeof i.value&&i.value&&function yd(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{pe(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const i=gn(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function wl(e){const n=Bo(e),i=null!==n?n.factory:mo(e);if(null!==i)return i;if(e instanceof Dn)throw new Ot(204,!1);if(e instanceof Function)return function Al(e){if(e.length>0)throw new Ot(204,!1);const i=function ru(e){return e&&(e[Ws]||e[iu])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new Ot(204,!1)}function Mh(e,n,i){let o;if(Ha(e)){const u=gn(e);return mo(u)||wl(u)}if(cu(e))o=()=>gn(e.useValue);else if(function Yu(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Sr(e.deps||[]));else if(function Sh(e){return!(!e||!e.useExisting)}(e))o=()=>Fn(gn(e.useExisting));else{const u=gn(e&&(e.useClass||e.provide));if(!function ga(e){return!!e.deps}(e))return mo(u)||wl(u);o=()=>new u(...Sr(e.deps))}return o}function pa(e,n,i=!1){return{factory:e,value:n,multi:i?[]:void 0}}function _d(e,n){for(const i of e)Array.isArray(i)?_d(i,n):i&&ys(i)?_d(i.\u0275providers,n):n(i)}function Zu(e,n){e instanceof du&&e.assertNotDestroyed();const o=Yt(e),u=xi(void 0);try{return n()}finally{Yt(o),xi(u)}}const oi=0,Vt=1,vn=2,$i=3,ea=4,ao=5,Co=6,ec=7,fi=8,no=9,ta=10,Vn=11,bl=12,Sl=13,ma=14,si=15,tc=16,mi=17,ya=18,xu=19,xh=20,na=21,Ms=22,Ns=23,fn=25,Rl=1,va=7,Uc=9,Hi=10;var Lu=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Lu||{});function Xi(e){return Array.isArray(e)&&"object"==typeof e[Rl]}function Ho(e){return Array.isArray(e)&&!0===e[Rl]}function wd(e){return!!(4&e.flags)}function Wa(e){return e.componentOffset>-1}function nc(e){return!(1&~e.flags)}function Es(e){return!!e.template}function Ml(e){return!!(512&e[vn])}class w{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function j(e,n,i,o){null!==n?n.applyValueToInputSignal(n,o):e[i]=o}function Z(){return Ne}function Ne(e){return e.type.prototype.ngOnChanges&&(e.setInput=Pt),pt}function pt(){const e=_n(this),n=e?.current;if(n){const i=e.previous;if(i===Qr)e.previous=n;else for(let o in n)i[o]=n[o];e.current=null,this.ngOnChanges(n)}}function Pt(e,n,i,o,u){const l=this.declaredInputs[o],p=_n(e)||function cr(e,n){return e[an]=n}(e,{previous:Qr,current:null}),v=p.current||(p.current={}),A=p.previous,N=A[l];v[l]=new w(N&&N.currentValue,i,A===Qr),j(e,n,u,i)}Z.ngInherit=!0;const an="__ngSimpleChanges__";function _n(e){return e[an]||null}const Do=function(e,n,i){};function Ar(e){for(;Array.isArray(e);)e=e[oi];return e}function Vu(e,n){return Ar(n[e])}function Wo(e,n){return Ar(n[e.index])}function fu(e,n){return e.data[n]}function ss(e,n){const i=n[e];return Xi(i)?i:i[oi]}function Dd(e){return!(128&~e[vn])}function Ka(e,n){return null==n?null:e[n]}function fp(e){e[mi]=0}function Uh(e){1024&e[vn]||(e[vn]|=1024,Dd(e)&&Gc(e))}function Bh(e){return!!(9216&e[vn]||e[Ns]?.dirty)}function Hc(e){e[ta].changeDetectionScheduler?.notify(8),64&e[vn]&&(e[vn]|=1024),Bh(e)&&Gc(e)}function Gc(e){e[ta].changeDetectionScheduler?.notify(0);let n=Uu(e);for(;null!==n&&!(8192&n[vn])&&(n[vn]|=8192,Dd(n));)n=Uu(n)}function rc(e,n){if(!(256&~e[vn]))throw new Ot(911,!1);null===e[na]&&(e[na]=[]),e[na].push(n)}function Uu(e){const n=e[$i];return Ho(n)?n[$i]:n}const mn={lFrame:Md(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let $h=!1;function zc(){return mn.bindingsEnabled}function It(){return mn.lFrame.lView}function ir(){return mn.lFrame.tView}function km(e){return mn.lFrame.contextLView=e,e[fi]}function y_(e){return mn.lFrame.contextLView=null,e}function Xr(){let e=Fm();for(;null!==e&&64===e.type;)e=e.parent;return e}function Fm(){return mn.lFrame.currentTNode}function qa(e,n){const i=mn.lFrame;i.currentTNode=e,i.isParent=n}function Vm(){return mn.lFrame.isParent}function gp(){mn.lFrame.isParent=!1}function v_(){return $h}function Bm(e){$h=e}function Os(){const e=mn.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function ic(){return mn.lFrame.bindingIndex}function Ia(){return mn.lFrame.bindingIndex++}function Ri(e){const n=mn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,i}function bT(e,n){const i=mn.lFrame;i.bindingIndex=i.bindingRootIndex=e,Gh(n)}function Gh(e){mn.lFrame.currentDirectiveIndex=e}function Pd(){return mn.lFrame.currentQueryIndex}function Fl(e){mn.lFrame.currentQueryIndex=e}function RT(e){const n=e[Vt];return 2===n.type?n.declTNode:1===n.type?e[ao]:null}function $m(e,n,i){if(i&er.SkipSelf){let u=n,l=e;for(;!(u=u.parent,null!==u||i&er.Host||(u=RT(l),null===u||(l=l[ma],10&u.type))););if(null===u)return!1;n=u,e=l}const o=mn.lFrame=yp();return o.currentTNode=n,o.lView=e,!0}function Wh(e){const n=yp(),i=e[Vt];mn.lFrame=n,n.currentTNode=i.firstChild,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function yp(){const e=mn.lFrame,n=null===e?null:e.child;return null===n?Md(e):n}function Md(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function zh(){const e=mn.lFrame;return mn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const vp=zh;function Kh(){const e=zh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function zo(){return mn.lFrame.selectedIndex}function Vl(e){mn.lFrame.selectedIndex=e}function Ti(){const e=mn.lFrame;return fu(e.tView,e.selectedIndex)}let Gm=!0;function qh(){return Gm}function xs(e){Gm=e}function Od(e,n){for(let i=n.directiveStart,o=n.directiveEnd;i<o;i++){const l=e.data[i].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:v,ngAfterViewInit:A,ngAfterViewChecked:N,ngOnDestroy:U}=l;p&&(e.contentHooks??=[]).push(-i,p),v&&((e.contentHooks??=[]).push(i,v),(e.contentCheckHooks??=[]).push(i,v)),A&&(e.viewHooks??=[]).push(-i,A),N&&((e.viewHooks??=[]).push(i,N),(e.viewCheckHooks??=[]).push(i,N)),null!=U&&(e.destroyHooks??=[]).push(i,U)}}function Ul(e,n,i){Wm(e,n,3,i)}function Qh(e,n,i,o){(3&e[vn])===i&&Wm(e,n,i,o)}function _p(e,n){let i=e[vn];(3&i)===n&&(i&=16383,i+=1,e[vn]=i)}function Wm(e,n,i,o){const l=o??-1,p=n.length-1;let v=0;for(let A=void 0!==o?65535&e[mi]:0;A<p;A++)if("number"==typeof n[A+1]){if(v=n[A],null!=o&&v>=o)break}else n[A]<0&&(e[mi]+=65536),(v<l||-1==l)&&(zm(e,i,n,A),e[mi]=(4294901760&e[mi])+A+2),A++}function A_(e,n){Do(4,e,n);const i=pe(null);try{n.call(e)}finally{pe(i),Do(5,e,n)}}function zm(e,n,i,o){const u=i[o]<0,l=i[o+1],v=e[u?-i[o]:i[o]];u?e[vn]>>14<e[mi]>>16&&(3&e[vn])===n&&(e[vn]+=16384,A_(v,l)):A_(v,l)}const xd=-1;class Bl{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}const Yh={};class oc{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=ei(o);const u=this.injector.get(n,Yh,o);return u!==Yh||i===Yh?u:this.parentInjector.get(n,i,o)}}function wp(e){return e!==xd}function Jh(e){return 32767&e}function Qc(e,n){let i=function b_(e){return e>>16}(e),o=n;for(;i>0;)o=o[ma],i--;return o}let Qm=!0;function Ap(e){const n=Qm;return Qm=e,n}const S_=255,Xm=5;let Cp=0;const ra={};function Zh(e,n){const i=R_(e,n);if(-1!==i)return i;const o=n[Vt];o.firstCreatePass&&(e.injectorIndex=n.length,Jm(o.data,e),Jm(n,null),Jm(o.blueprint,null));const u=Dp(e,n),l=e.injectorIndex;if(wp(u)){const p=Jh(u),v=Qc(u,n),A=v[Vt].data;for(let N=0;N<8;N++)n[l+N]=v[p+N]|A[p+N]}return n[l+8]=u,l}function Jm(e,n){e.push(0,0,0,0,0,0,0,0,n)}function R_(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Dp(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,o=null,u=n;for(;null!==u;){if(o=Np(u),null===o)return xd;if(i++,u=u[ma],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return xd}function Zm(e,n,i){!function Ym(e,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(su)&&(o=i[su]),null==o&&(o=i[su]=Cp++);const u=o&S_;n.data[e+(u>>Xm)]|=1<<u}(e,n,i)}function Ld(e,n,i){if(i&er.Optional||void 0!==e)return e;Ys()}function bp(e,n,i,o){if(i&er.Optional&&void 0===o&&(o=null),!(i&(er.Self|er.Host))){const u=e[no],l=xi(void 0);try{return u?u.get(n,o,i&er.Optional):ts(n,o,i&er.Optional)}finally{xi(l)}}return Ld(o,0,i)}function jl(e,n,i,o=er.Default,u){if(null!==e){if(2048&n[vn]&&!(o&er.Self)){const p=function OT(e,n,i,o,u){let l=e,p=n;for(;null!==l&&null!==p&&2048&p[vn]&&!(512&p[vn]);){const v=Sp(l,p,i,o|er.Self,ra);if(v!==ra)return v;let A=l.parent;if(!A){const N=p[xh];if(N){const U=N.get(i,ra,o);if(U!==ra)return U}A=Np(p),p=p[ma]}l=A}return u}(e,n,i,o,ra);if(p!==ra)return p}const l=Sp(e,n,i,o,ra);if(l!==ra)return l}return bp(n,i,o,u)}function Sp(e,n,i,o,u){const l=function P_(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(su)?e[su]:void 0;return"number"==typeof n?n>=0?n&S_:ey:n}(i);if("function"==typeof l){if(!$m(n,e,o))return o&er.Host?Ld(u,0,o):bp(n,i,o,u);try{let p;if(p=l(o),null!=p||o&er.Optional)return p;Ys()}finally{vp()}}else if("number"==typeof l){let p=null,v=R_(e,n),A=xd,N=o&er.Host?n[si][ao]:null;for((-1===v||o&er.SkipSelf)&&(A=-1===v?Dp(e,n):n[v+8],A!==xd&&Mp(o,!1)?(p=n[Vt],v=Jh(A),n=Qc(A,n)):v=-1);-1!==v;){const U=n[Vt];if(Pp(l,v,U.data)){const re=Rp(v,n,i,p,o,N);if(re!==ra)return re}A=n[v+8],A!==xd&&Mp(o,n[Vt].data[v+8]===N)&&Pp(l,v,n)?(p=U,v=Jh(A),n=Qc(A,n)):v=-1}}return u}function Rp(e,n,i,o,u,l){const p=n[Vt],v=p.data[e+8],U=sc(v,p,i,null==o?Wa(v)&&Qm:o!=p&&!!(3&v.type),u&er.Host&&l===v);return null!==U?ac(n,p,U,v):ra}function sc(e,n,i,o,u){const l=e.providerIndexes,p=n.data,v=1048575&l,A=e.directiveStart,U=l>>20,ye=u?v+U:e.directiveEnd;for(let be=o?v:v+U;be<ye;be++){const We=p[be];if(be<A&&i===We||be>=A&&We.type===i)return be}if(u){const be=p[A];if(be&&Es(be)&&be.type===i)return A}return null}function ac(e,n,i,o){let u=e[i];const l=n.data;if(function C_(e){return e instanceof Bl}(u)){const p=u;p.resolving&&function Xs(e,n){throw n&&n.join(" > "),new Ot(-200,e)}(function Er(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():rn(e)}(l[i]));const v=Ap(p.canSeeViewProviders);p.resolving=!0;const N=p.injectImpl?xi(p.injectImpl):null;$m(e,o,er.Default);try{u=e[i]=p.factory(void 0,l,e,o),n.firstCreatePass&&i>=o.directiveStart&&function Nd(e,n,i){const{ngOnChanges:o,ngOnInit:u,ngDoCheck:l}=n.type.prototype;if(o){const p=Ne(n);(i.preOrderHooks??=[]).push(e,p),(i.preOrderCheckHooks??=[]).push(e,p)}u&&(i.preOrderHooks??=[]).push(0-e,u),l&&((i.preOrderHooks??=[]).push(e,l),(i.preOrderCheckHooks??=[]).push(e,l))}(i,l[i],n)}finally{null!==N&&xi(N),Ap(v),p.resolving=!1,vp()}}return u}function Pp(e,n,i){return!!(i[n+(e>>Xm)]&1<<e)}function Mp(e,n){return!(e&er.Self||e&er.Host&&n)}class bo{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return jl(this._tNode,this._lView,n,ei(o),i)}}function ey(){return new bo(Xr(),It())}function M_(e){return Wi(()=>{const n=e.prototype.constructor,i=n[ii]||ef(n),o=Object.prototype;let u=Object.getPrototypeOf(e.prototype).constructor;for(;u&&u!==o;){const l=u[ii]||ef(u);if(l&&l!==i)return l;u=Object.getPrototypeOf(u)}return l=>new l})}function ef(e){return sa(e)?()=>{const n=ef(gn(e));return n&&n()}:mo(e)}function Np(e){const n=e[Vt],i=n.type;return 2===i?n.declTNode:1===i?e[ao]:null}function Op(e){return function NT(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const i=e.attrs;if(i){const o=i.length;let u=0;for(;u<o;){const l=i[u];if(ha(l))break;if(0===l)u+=2;else if("number"==typeof l)for(u++;u<o&&"string"==typeof i[u];)u++;else{if(l===n)return i[u+1];u+=2}}}return null}(Xr(),e)}function L_(e,n=null,i=null,o){const u=xp(e,n,i,o);return u.resolveInjectorInitializers(),u}function xp(e,n=null,i=null,o,u=new Set){const l=[i||wr,to(e)];return o=o||("object"==typeof e?void 0:bi(e)),new du(l,n||lu(),o||null,u)}class as{static{this.THROW_IF_NOT_FOUND=wo}static{this.NULL=new Su}static create(n,i){if(Array.isArray(n))return L_({name:""},i,n,"");{const o=n.name??"";return L_({name:o},n.parent,n.providers,o)}}static{this.\u0275prov=kn({token:as,providedIn:"any",factory:()=>Fn(Rc)})}static{this.__NG_ELEMENT_ID__=-1}}new Dn("").__NG_ELEMENT_ID__=e=>{const n=Xr();if(null===n)throw new Ot(204,!1);if(2&n.type)return n.value;if(e&er.Optional)return null;throw new Ot(204,!1)};function Xc(e){return e.ngOriginalError}const uc=!0;let Gl=(()=>{class e{static{this.__NG_ELEMENT_ID__=Fd}static{this.__NG_ENV_ID__=i=>i}}return e})();class kd extends Gl{constructor(n){super(),this._lView=n}onDestroy(n){return rc(this._lView,n),()=>function pp(e,n){if(null===e[na])return;const i=e[na].indexOf(n);-1!==i&&e[na].splice(i,1)}(this._lView,n)}}function Fd(){return new kd(It())}let Yc=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Un.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=kn({token:e,providedIn:"root",factory:()=>new e})}}return e})();const Bu=class FT extends Gn.B{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,function Dl(){return void 0!==es()||null!=function bt(){return ut}()}()&&(this.destroyRef=kt(Gl,{optional:!0})??void 0,this.pendingTasks=kt(Yc,{optional:!0})??void 0)}emit(n){const i=pe(null);try{super.next(n)}finally{pe(i)}}subscribe(n,i,o){let u=n,l=i||(()=>null),p=o;if(n&&"object"==typeof n){const A=n;u=A.next?.bind(A),l=A.error?.bind(A),p=A.complete?.bind(A)}this.__isAsync&&(l=this.wrapInTimeout(l),u&&(u=this.wrapInTimeout(u)),p&&(p=this.wrapInTimeout(p)));const v=super.subscribe({next:u,error:l,complete:p});return n instanceof lr.yU&&n.add(v),v}wrapInTimeout(n){return i=>{const o=this.pendingTasks?.add();setTimeout(()=>{n(i),void 0!==o&&this.pendingTasks?.remove(o)})}}};function af(...e){}function kp(e){let n,i;function o(){e=af;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Fp(e){return queueMicrotask(()=>e()),()=>{e=af}}const uf="isAngularZone",Vp=uf+"_ID";let VT=0;class Pi{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bu(!1),this.onMicrotaskEmpty=new Bu(!1),this.onStable=new Bu(!1),this.onError=new Bu(!1);const{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1,scheduleInRootZone:l=uc}=n;if(typeof Zone>"u")throw new Ot(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!u&&o,p.shouldCoalesceRunChangeDetection=u,p.callbackScheduled=!1,p.scheduleInRootZone=l,function UT(e){const n=()=>{!function sy(e){function n(){kp(()=>{e.callbackScheduled=!1,Bp(e),e.isCheckStableRunning=!0,Up(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Bp(e))}(e)},i=VT++;e._inner=e._inner.fork({name:"angular",properties:{[uf]:!0,[Vp]:i,[Vp+i]:!0},onInvokeTask:(o,u,l,p,v,A)=>{if(function $_(e){return G_(e,"__ignore_ng_zone__")}(A))return o.invokeTask(l,p,v,A);try{return j_(e),o.invokeTask(l,p,v,A)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||e.shouldCoalesceRunChangeDetection)&&n(),ay(e)}},onInvoke:(o,u,l,p,v,A,N)=>{try{return j_(e),o.invoke(l,p,v,A,N)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function H_(e){return G_(e,"__scheduler_tick__")}(A)&&n(),ay(e)}},onHasTask:(o,u,l,p)=>{o.hasTask(l,p),u===l&&("microTask"==p.change?(e._hasPendingMicrotasks=p.microTask,Bp(e),Up(e)):"macroTask"==p.change&&(e.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,u,l,p)=>(o.handleError(l,p),e.runOutsideAngular(()=>e.onError.emit(p)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(uf)}static assertInAngularZone(){if(!Pi.isInAngularZone())throw new Ot(909,!1)}static assertNotInAngularZone(){if(Pi.isInAngularZone())throw new Ot(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,u){const l=this._inner,p=l.scheduleEventTask("NgZoneEvent: "+u,n,oy,af,af);try{return l.runTask(p,i,o)}finally{l.cancelTask(p)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const oy={};function Up(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Bp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function j_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ay(e){e._nesting--,Up(e)}class jp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bu,this.onMicrotaskEmpty=new Bu,this.onStable=new Bu,this.onError=new Bu}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,u){return n.apply(i,o)}}function G_(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}class cc{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Xc(n);for(;i&&Xc(i);)i=Xc(i);return i||null}}const jT=new Dn("",{providedIn:"root",factory:()=>{const e=kt(Pi),n=kt(cc);return i=>e.runOutsideAngular(()=>n.handleError(i))}});function uy(){return Vd(Xr(),It())}function Vd(e,n){return new Wl(Wo(e,n))}let Wl=(()=>{class e{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=uy}}return e})();function q_(e){return e instanceof Wl?e.nativeElement:e}function cy(){return this._results[Symbol.iterator]()}class ly{get changes(){return this._changes??=new Bu}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=ly.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=cy)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const o=function yo(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function au(e,n,i){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let u=e[o],l=n[o];if(i&&(u=i(u),l=i(l)),l!==u)return!1}return!0}(this._results,o,i))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function lf(e){return!(128&~e.flags)}const df=new Map;let HT=0;function hf(e){df.delete(e[xu])}const zp="__ngContext__";function Ko(e,n){Xi(n)?(e[zp]=n[xu],function GT(e){df.set(e[xu],e)}(n)):e[zp]=n}function my(e){return tE(e[bl])}function eE(e){return tE(e[ea])}function tE(e){for(;null!==e&&!Ho(e);)e=e[ea];return e}let $d;function Ey(e){$d=e}const Hd=new Dn("",{providedIn:"root",factory:()=>iE}),iE="ng",eg=new Dn(""),Gd=new Dn("",{providedIn:"platform",factory:()=>"unknown"}),sE=new Dn("",{providedIn:"root",factory:()=>function ju(){if(void 0!==$d)return $d;if(typeof document<"u")return document;throw new Ot(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ry=()=>null;function Xd(e,n,i=!1){return Ry(e,n,i)}const gE=new Dn("",{providedIn:"root",factory:()=>!1});let Zc;function ow(e){return function ky(){if(void 0===Zc&&(Zc=null,Nr.trustedTypes))try{Zc=Nr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Zc}()?.createScriptURL(e)||e}class el{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${As})`}}function fc(e){return e instanceof el?e.changingThisBreaksApplicationSecurity:e}function tl(e,n){const i=function uw(e){return e instanceof el&&e.getTypeName()||null}(e);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${As})`)}return i===n}const jy=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var th=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(th||{});function Af(e){const n=Cf();return n?n.sanitize(th.STYLE,e)||"":tl(e,"Style")?fc(e):rn(e)}function IE(e){const n=Cf();return n?n.sanitize(th.URL,e)||"":tl(e,"URL")?fc(e):function lg(e){return(e=String(e)).match(jy)?e:"unsafe:"+e}(rn(e))}function TE(e){const n=Cf();if(n)return ow(n.sanitize(th.RESOURCE_URL,e)||"");if(tl(e,"ResourceURL"))return ow(fc(e));throw new Ot(904,!1)}function Xy(e,n,i){return function DE(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?TE:IE}(n,i)(e)}function Cf(){const e=It();return e&&e[ta].sanitizer}const vC=/^>|^->|<!--|-->|--!>|<!-$/g,_C=/(<|>)/g,pw="\u200b$1\u200b";function yg(e){return e.ownerDocument.defaultView}function wa(e){return e instanceof Function?e():e}var ev=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ev||{});let tv;function vg(e,n){return tv(e,n)}function rh(e,n,i,o,u){if(null!=o){let l,p=!1;Ho(o)?l=o:Xi(o)&&(p=!0,o=o[oi]);const v=Ar(o);0===e&&null!==i?null==u?Tw(n,i,v):ih(n,i,v,u||null,!0):1===e&&null!==i?ih(n,i,v,u||null,!0):2===e?function ol(e,n,i){e.removeChild(null,n,i)}(n,v,p):3===e&&n.destroyNode(v),null!=l&&function Fs(e,n,i,o,u){const l=i[va];l!==Ar(i)&&rh(n,e,o,l,u);for(let v=Hi;v<i.length;v++){const A=i[v];bf(A[Vt],A,e,n,o,l)}}(n,e,l,i,u)}}function rv(e,n){return e.createComment(function gw(e){return e.replace(vC,n=>n.replace(_C,pw))}(n))}function _g(e,n,i){return e.createElement(n,i)}function Ew(e,n){n[ta].changeDetectionScheduler?.notify(9),bf(e,n,n[Vn],2,null,null)}function iv(e,n){const i=e[Uc],o=n[$i];(Xi(o)||n[si]!==o[$i][si])&&(e[vn]|=Lu.HasTransplantedViews),null===i?e[Uc]=[n]:i.push(n)}function ov(e,n){const i=e[Uc],o=i.indexOf(n);i.splice(o,1)}function Eg(e,n){if(e.length<=Hi)return;const i=Hi+n,o=e[i];if(o){const u=o[tc];null!==u&&u!==e&&ov(u,o),n>0&&(e[i-1][ea]=o[ea]);const l=Tr(e,Hi+n);!function vw(e,n){Ew(e,n),n[oi]=null,n[ao]=null}(o[Vt],o);const p=l[ya];null!==p&&p.detachView(l[Vt]),o[$i]=null,o[ea]=null,o[vn]&=-129}return o}function sv(e,n){if(!(256&n[vn])){const i=n[Vn];i.destroyNode&&bf(e,n,i,3,null,null),function RC(e){let n=e[bl];if(!n)return LE(e[Vt],e);for(;n;){let i=null;if(Xi(n))i=n[bl];else{const o=n[Hi];o&&(i=o)}if(!i){for(;n&&!n[ea]&&n!==e;)Xi(n)&&LE(n[Vt],n),n=n[$i];null===n&&(n=e),Xi(n)&&LE(n[Vt],n),i=n&&n[ea]}n=i}}(n)}}function LE(e,n){if(256&n[vn])return;const i=pe(null);try{n[vn]&=-129,n[vn]|=256,n[Ns]&&Pe(n[Ns]),function kE(e,n){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let o=0;o<i.length;o+=2){const u=n[i[o]];if(!(u instanceof Bl)){const l=i[o+1];if(Array.isArray(l))for(let p=0;p<l.length;p+=2){const v=u[l[p]],A=l[p+1];Do(4,v,A);try{A.call(v)}finally{Do(5,v,A)}}else{Do(4,u,l);try{l.call(u)}finally{Do(5,u,l)}}}}}(e,n),function MC(e,n){const i=e.cleanup,o=n[ec];if(null!==i)for(let l=0;l<i.length-1;l+=2)if("string"==typeof i[l]){const p=i[l+3];p>=0?o[p]():o[-p].unsubscribe(),l+=2}else i[l].call(o[i[l+1]]);null!==o&&(n[ec]=null);const u=n[na];if(null!==u){n[na]=null;for(let l=0;l<u.length;l++)(0,u[l])()}}(e,n),1===n[Vt].type&&n[Vn].destroy();const o=n[tc];if(null!==o&&Ho(n[$i])){o!==n[$i]&&ov(o,n);const u=n[ya];null!==u&&u.detachView(e)}hf(n)}finally{pe(i)}}function Ig(e,n,i){return function Iw(e,n,i){let o=n;for(;null!==o&&168&o.type;)o=(n=o).parent;if(null===o)return i[oi];{const{componentOffset:u}=o;if(u>-1){const{encapsulation:l}=e.data[o.directiveStart+u];if(l===Rs.None||l===Rs.Emulated)return null}return Wo(o,i)}}(e,n.parent,i)}function ih(e,n,i,o,u){e.insertBefore(n,i,o,u)}function Tw(e,n,i){e.appendChild(n,i)}function Tg(e,n,i,o,u){null!==o?ih(e,n,i,o,u):Tw(e,n,i)}function oh(e,n){return e.parentNode(n)}let Ag,av=function wg(e,n,i){return 40&e.type?Wo(e,i):null};function ah(e,n,i,o){const u=Ig(e,o,n),l=n[Vn],v=function FE(e,n,i){return av(e,n,i)}(o.parent||n[ao],o,n);if(null!=u)if(Array.isArray(i))for(let A=0;A<i.length;A++)Tg(l,u,i[A],v,!1);else Tg(l,u,i,v,!1);void 0!==Ag&&Ag(l,o,n,i,u)}function ed(e,n){if(null!==n){const i=n.type;if(3&i)return Wo(n,e);if(4&i)return Cg(-1,e[n.index]);if(8&i){const o=n.child;if(null!==o)return ed(e,o);{const u=e[n.index];return Ho(u)?Cg(-1,u):Ar(u)}}if(128&i)return ed(e,n.next);if(32&i)return vg(n,e)()||Ar(e[n.index]);{const o=VE(e,n);return null!==o?Array.isArray(o)?o[0]:ed(Uu(e[si]),o):ed(e,n.next)}}return null}function VE(e,n){return null!==n?e[si][ao].projection[n.projection]:null}function Cg(e,n){const i=Hi+e+1;if(i<n.length){const o=n[i],u=o[Vt].firstChild;if(null!==u)return ed(o,u)}return n[va]}function Dg(e,n,i,o,u,l,p){for(;null!=i;){if(128===i.type){i=i.next;continue}const v=o[i.index],A=i.type;if(p&&0===n&&(v&&Ko(Ar(v),o),i.flags|=2),32&~i.flags)if(8&A)Dg(e,n,i.child,o,u,l,!1),rh(n,e,u,v,l);else if(32&A){const N=vg(i,o);let U;for(;U=N();)rh(n,e,u,U,l);rh(n,e,u,v,l)}else 16&A?Ca(e,n,o,i,u,l):rh(n,e,u,v,l);i=p?i.projectionNext:i.next}}function bf(e,n,i,o,u,l){Dg(i,o,e.firstChild,n,u,l,!1)}function Ca(e,n,i,o,u,l){const p=i[si],A=p[ao].projection[o.projection];if(Array.isArray(A))for(let N=0;N<A.length;N++)rh(n,e,u,A[N],l);else{let N=A;const U=p[$i];lf(o)&&(N.flags|=128),Dg(e,n,N,U,u,l,!0)}}function uh(e,n,i){""===i?e.removeAttribute(n,"class"):e.setAttribute(n,"class",i)}function ch(e,n,i){const{mergedAttrs:o,classes:u,styles:l}=i;null!==o&&Ru(e,n,o),null!==u&&uh(e,n,u),null!==l&&function jE(e,n,i){e.setAttribute(n,"style",i)}(e,n,l)}const In={};function $E(e=1){bg(ir(),It(),zo()+e,!1)}function bg(e,n,i,o){if(!o)if(3&~n[vn]){const l=e.preOrderHooks;null!==l&&Qh(n,l,0,i)}else{const l=e.preOrderCheckHooks;null!==l&&Ul(n,l,i)}Vl(i)}function mu(e,n=er.Default){const i=It();return null===i?Fn(e,n):jl(Xr(),i,gn(e),n)}function Sg(e,n,i,o,u,l){const p=pe(null);try{let v=null;u&rs.SignalBased&&(v=n[o][ie]),null!==v&&void 0!==v.transformFn&&(l=v.transformFn(l)),u&rs.HasDecoratorInputTransform&&(l=e.inputTransforms[o].call(n,l)),null!==e.setInput?e.setInput(n,v,l,i,o):j(n,v,o,l)}finally{pe(p)}}function Rg(e,n,i,o,u,l,p,v,A,N,U){const re=n.blueprint.slice();return re[oi]=u,re[vn]=204|o,(null!==N||e&&2048&e[vn])&&(re[vn]|=2048),fp(re),re[$i]=re[ma]=e,re[fi]=i,re[ta]=p||e&&e[ta],re[Vn]=v||e&&e[Vn],re[no]=A||e&&e[no]||null,re[ao]=l,re[xu]=function hy(){return HT++}(),re[Co]=U,re[xh]=N,re[si]=2==n.type?e[si]:re,re}function id(e,n,i,o,u){let l=e.data[n];if(null===l)l=function uv(e,n,i,o,u){const l=Fm(),p=Vm(),A=e.data[n]=function Sw(e,n,i,o,u,l){let p=n?n.injectorIndex:-1,v=0;return function kl(){return null!==mn.skipHydrationRootTNode}()&&(v|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:p,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:u,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?l:l&&l.parent,i,n,o,u);return null===e.firstChild&&(e.firstChild=A),null!==l&&(p?null==l.child&&null!==A.parent&&(l.child=A):null===l.next&&(l.next=A,A.prev=l)),A}(e,n,i,o,u),function DT(){return mn.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=i,l.value=o,l.attrs=u;const p=function Hh(){const e=mn.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();l.injectorIndex=null===p?-1:p.injectorIndex}return qa(l,!0),l}function Sf(e,n,i,o){if(0===i)return-1;const u=n.length;for(let l=0;l<i;l++)n.push(o),e.blueprint.push(o),e.data.push(null);return u}function cv(e,n,i,o,u){const l=zo(),p=2&o;try{Vl(-1),p&&n.length>fn&&bg(e,n,fn,!1),Do(p?2:0,u),i(o,u)}finally{Vl(l),Do(p?3:1,u)}}function lv(e,n,i){if(wd(n)){const o=pe(null);try{const l=n.directiveEnd;for(let p=n.directiveStart;p<l;p++){const v=e.data[p];v.contentQueries&&v.contentQueries(1,i[p],p)}}finally{pe(o)}}}function Rf(e,n,i){zc()&&(function Ow(e,n,i,o){const u=i.directiveStart,l=i.directiveEnd;Wa(i)&&function Vw(e,n,i){const o=Wo(n,e),u=Pf(i);let p=16;i.signals?p=4096:i.onPush&&(p=64);const v=Mf(e,Rg(e,u,null,p,o,n,null,e[ta].rendererFactory.createRenderer(o,i),null,null,null));e[n.index]=v}(n,i,e.data[u+i.componentOffset]),e.firstCreatePass||Zh(i,n),Ko(o,n);const p=i.initialInputs;for(let v=u;v<l;v++){const A=e.data[v],N=ac(n,e,v,i);Ko(N,n),null!==p&&Uw(0,v-u,N,A,0,p),Es(A)&&(ss(i.index,n)[fi]=ac(n,e,v,i))}}(e,n,i,Wo(i,n)),!(64&~i.flags)&&qE(e,n,i))}function Pg(e,n,i=Wo){const o=n.localNames;if(null!==o){let u=n.index+1;for(let l=0;l<o.length;l+=2){const p=o[l+1],v=-1===p?i(n,e):e[p];e[u++]=v}}}function Pf(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Mg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Mg(e,n,i,o,u,l,p,v,A,N,U){const re=fn+o,ye=re+u,be=function Aw(e,n){const i=[];for(let o=0;o<n;o++)i.push(o<e?null:In);return i}(re,ye),We="function"==typeof N?N():N;return be[Vt]={type:e,blueprint:be,template:i,queries:null,viewQuery:v,declTNode:n,data:be.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:ye,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:A,consts:We,incompleteFirstPass:!1,ssrId:U}}let hv=()=>null;function GE(e,n,i,o,u){for(let l in n){if(!n.hasOwnProperty(l))continue;const p=n[l];if(void 0===p)continue;o??={};let v,A=rs.None;Array.isArray(p)?(v=p[0],A=p[1]):v=p;let N=l;if(null!==u){if(!u.hasOwnProperty(l))continue;N=u[l]}0===e?WE(o,i,N,v,A):WE(o,i,N,v)}return o}function WE(e,n,i,o,u){let l;e.hasOwnProperty(i)?(l=e[i]).push(n,o):l=e[i]=[n,o],void 0!==u&&l.push(u)}function Da(e,n,i,o,u,l,p,v){const A=Wo(n,i);let U,N=n.inputs;!v&&null!=N&&(U=N[o])?(yv(e,i,U,o,u),Wa(n)&&function KE(e,n){const i=ss(n,e);16&i[vn]||(i[vn]|=64)}(i,n.index)):3&n.type&&(o=function Rw(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),u=null!=p?p(u,n.value||"",o):u,l.setProperty(A,o,u))}function fv(e,n,i,o){if(zc()){const u=null===o?null:{"":-1},l=function Lw(e,n){const i=e.directiveRegistry;let o=null,u=null;if(i)for(let l=0;l<i.length;l++){const p=i[l];if(Ah(n,p.selectors,!1))if(o||(o=[]),Es(p))if(null!==p.findHostDirectiveDefs){const v=[];u=u||new Map,p.findHostDirectiveDefs(p,v,u),o.unshift(...v,p),Ng(e,n,v.length)}else o.unshift(p),Ng(e,n,0);else u=u||new Map,p.findHostDirectiveDefs?.(p,o,u),o.push(p)}return null===o?null:[o,u]}(e,i);let p,v;null===l?p=v=null:[p,v]=l,null!==p&&pv(e,n,i,p,u,v),u&&function QE(e,n,i){if(n){const o=e.localNames=[];for(let u=0;u<n.length;u+=2){const l=i[n[u+1]];if(null==l)throw new Ot(-301,!1);o.push(n[u],l)}}}(i,o,u)}i.mergedAttrs=Xu(i.mergedAttrs,i.attrs)}function pv(e,n,i,o,u,l){for(let N=0;N<o.length;N++)Zm(Zh(i,n),e,o[N].type);!function kw(e,n,i){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+i,e.providerIndexes=n}(i,e.data.length,o.length);for(let N=0;N<o.length;N++){const U=o[N];U.providersResolver&&U.providersResolver(U)}let p=!1,v=!1,A=Sf(e,n,o.length,null);for(let N=0;N<o.length;N++){const U=o[N];i.mergedAttrs=Xu(i.mergedAttrs,U.hostAttrs),Fw(e,i,n,A,U),OC(A,U,u),null!==U.contentQueries&&(i.flags|=4),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(i.flags|=64);const re=U.type.prototype;!p&&(re.ngOnChanges||re.ngOnInit||re.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),p=!0),!v&&(re.ngOnChanges||re.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),v=!0),A++}!function zE(e,n,i){const u=n.directiveEnd,l=e.data,p=n.attrs,v=[];let A=null,N=null;for(let U=n.directiveStart;U<u;U++){const re=l[U],ye=i?i.get(re):null,We=ye?ye.outputs:null;A=GE(0,re.inputs,U,A,ye?ye.inputs:null),N=GE(1,re.outputs,U,N,We);const At=null===A||null===p||_l(n)?null:Bw(A,U,p);v.push(At)}null!==A&&(A.hasOwnProperty("class")&&(n.flags|=8),A.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=v,n.inputs=A,n.outputs=N}(e,i,l)}function qE(e,n,i){const o=i.directiveStart,u=i.directiveEnd,l=i.index,p=function ST(){return mn.lFrame.currentDirectiveIndex}();try{Vl(l);for(let v=o;v<u;v++){const A=e.data[v],N=n[v];Gh(v),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&xw(A,N)}}finally{Vl(-1),Gh(p)}}function xw(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Ng(e,n,i){n.componentOffset=i,(e.components??=[]).push(n.index)}function OC(e,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=e;Es(n)&&(i[""]=e)}}function Fw(e,n,i,o,u){e.data[o]=u;const l=u.factory||(u.factory=mo(u.type)),p=new Bl(l,Es(u),mu);e.blueprint[o]=p,i[o]=p,function Mw(e,n,i,o,u){const l=u.hostBindings;if(l){let p=e.hostBindingOpCodes;null===p&&(p=e.hostBindingOpCodes=[]);const v=~n.index;(function Nw(e){let n=e.length;for(;n>0;){const i=e[--n];if("number"==typeof i&&i<0)return i}return 0})(p)!=v&&p.push(v),p.push(i,o,l)}}(e,n,o,Sf(e,i,u.hostVars,In),u)}function Hu(e,n,i,o,u,l){const p=Wo(e,n);!function gv(e,n,i,o,u,l,p){if(null==l)e.removeAttribute(n,u,i);else{const v=null==p?rn(l):p(l,o||"",u);e.setAttribute(n,u,v,i)}}(n[Vn],p,l,e.value,i,o,u)}function Uw(e,n,i,o,u,l){const p=l[n];if(null!==p)for(let v=0;v<p.length;)Sg(o,i,p[v++],p[v++],p[v++],p[v++])}function Bw(e,n,i){let o=null,u=0;for(;u<i.length;){const l=i[u];if(0!==l)if(5!==l){if("number"==typeof l)break;if(e.hasOwnProperty(l)){null===o&&(o=[]);const p=e[l];for(let v=0;v<p.length;v+=3)if(p[v]===n){o.push(l,p[v+1],p[v+2],i[u+1]);break}}u+=2}else u+=2;else u+=4}return o}function XE(e,n,i,o){return[e,!0,0,n,null,o,null,i,null,null]}function Og(e,n){const i=e.contentQueries;if(null!==i){const o=pe(null);try{for(let u=0;u<i.length;u+=2){const p=i[u+1];if(-1!==p){const v=e.data[p];Fl(i[u]),v.contentQueries(2,n[p],p)}}}finally{pe(o)}}}function Mf(e,n){return e[bl]?e[Sl][ea]=n:e[bl]=n,e[Sl]=n,n}function mv(e,n,i){Fl(0);const o=pe(null);try{n(e,i)}finally{pe(o)}}function YE(e){return e[ec]??=[]}function JE(e){return e.cleanup??=[]}function xg(e,n){const i=e[no],o=i?i.get(cc,null):null;o&&o.handleError(n)}function yv(e,n,i,o,u){for(let l=0;l<i.length;){const p=i[l++],v=i[l++],A=i[l++];Sg(e.data[p],n[p],o,v,A,u)}}function gc(e,n,i){const o=Vu(n,e);!function xE(e,n,i){e.setValue(n,i)}(e[Vn],o,i)}function a(e,n){const i=ss(n,e),o=i[Vt];!function t(e,n){for(let i=n.length;i<e.blueprint.length;i++)n.push(e.blueprint[i])}(o,i);const u=i[oi];null!==u&&null===i[Co]&&(i[Co]=Xd(u,i[no])),r(o,i,i[fi])}function r(e,n,i){Wh(n);try{const o=e.viewQuery;null!==o&&mv(1,o,i);const u=e.template;null!==u&&cv(e,n,u,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),n[ya]?.finishViewCreation(e),e.staticContentQueries&&Og(e,n),e.staticViewQueries&&mv(2,e.viewQuery,i);const l=e.components;null!==l&&function s(e,n){for(let i=0;i<n.length;i++)a(e,n[i])}(n,l)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{n[vn]&=-5,Kh()}}function y(e,n){return!n||null===n.firstChild||lf(e)}function k(e,n,i,o,u=!1){for(;null!==i;){if(128===i.type){i=u?i.projectionNext:i.next;continue}const l=n[i.index];null!==l&&o.push(Ar(l)),Ho(l)&&Q(l,o);const p=i.type;if(8&p)k(e,n,i.child,o);else if(32&p){const v=vg(i,n);let A;for(;A=v();)o.push(A)}else if(16&p){const v=VE(n,i);if(Array.isArray(v))o.push(...v);else{const A=Uu(n[si]);k(A[Vt],A,v,o,!0)}}i=u?i.projectionNext:i.next}return o}function Q(e,n){for(let i=Hi;i<e.length;i++){const o=e[i],u=o[Vt].firstChild;null!==u&&k(o[Vt],o,u,n)}e[va]!==e[oi]&&n.push(e[va])}let ue=[];const Lt={...J,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Gc(e.lView)},consumerOnSignalRead(){this.lView[Ns]=this}},nn={...J,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=Uu(e.lView);for(;n&&!dn(n[Vt]);)n=Uu(n);n&&Uh(n)},consumerOnSignalRead(){this.lView[Ns]=this}};function dn(e){return 2!==e.type}const qt=100;function yn(e,n=!0,i=0){const o=e[ta],u=o.rendererFactory;u.begin?.();try{!function zn(e,n){const i=v_();try{Bm(!0),ct(e,n);let o=0;for(;Bh(e);){if(o===qt)throw new Ot(103,!1);o++,ct(e,1)}}finally{Bm(i)}}(e,i)}catch(p){throw n&&xg(e,p),p}finally{u.end?.(),o.inlineEffectRunner?.flush()}}function He(e,n,i,o){const u=n[vn];if(!(256&~u))return;n[ta].inlineEffectRunner?.flush(),Wh(n);let v=!0,A=null,N=null;dn(e)?(N=function Ce(e){return e[Ns]??function Je(e){const n=ue.pop()??Object.create(Lt);return n.lView=e,n}(e)}(n),A=st(N)):null===function Qe(){return z}()?(v=!1,N=function Rt(e){const n=e[Ns]??Object.create(nn);return n.lView=e,n}(n),A=st(N)):n[Ns]&&(Pe(n[Ns]),n[Ns]=null);try{fp(n),function __(e){return mn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&cv(e,n,i,2,o);const U=!(3&~u);if(U){const be=e.preOrderCheckHooks;null!==be&&Ul(n,be,null)}else{const be=e.preOrderHooks;null!==be&&Qh(n,be,0,null),_p(n,0)}if(function Le(e){for(let n=my(e);null!==n;n=eE(n)){if(!(n[vn]&Lu.HasTransplantedViews))continue;const i=n[Uc];for(let o=0;o<i.length;o++)Uh(i[o])}}(n),Ee(n,0),null!==e.contentQueries&&Og(e,n),U){const be=e.contentCheckHooks;null!==be&&Ul(n,be)}else{const be=e.contentHooks;null!==be&&Qh(n,be,1),_p(n,1)}!function rd(e,n){const i=e.hostBindingOpCodes;if(null!==i)try{for(let o=0;o<i.length;o++){const u=i[o];if(u<0)Vl(~u);else{const l=u,p=i[++o],v=i[++o];bT(p,l),v(2,n[l])}}}finally{Vl(-1)}}(e,n);const re=e.components;null!==re&&Me(n,re,0);const ye=e.viewQuery;if(null!==ye&&mv(2,ye,o),U){const be=e.viewCheckHooks;null!==be&&Ul(n,be)}else{const be=e.viewHooks;null!==be&&Qh(n,be,2),_p(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Ms]){for(const be of n[Ms])be();n[Ms]=null}n[vn]&=-73}catch(U){throw Gc(n),U}finally{null!==N&&(Fe(N,A),v&&function wt(e){e.lView[Ns]!==e&&(e.lView=null,ue.push(e))}(N)),Kh()}}function Ee(e,n){for(let i=my(e);null!==i;i=eE(i))for(let o=Hi;o<i.length;o++)Ze(i[o],n)}function Ke(e,n,i){Ze(ss(n,e),i)}function Ze(e,n){Dd(e)&&ct(e,n)}function ct(e,n){const o=e[Vt],u=e[vn],l=e[Ns];let p=!!(0===n&&16&u);if(p||=!!(64&u&&0===n),p||=!!(1024&u),p||=!(!l?.dirty||!Tt(l)),p||=!1,l&&(l.dirty=!1),e[vn]&=-9217,p)He(o,e,o.template,e[fi]);else if(8192&u){Ee(e,1);const v=o.components;null!==v&&Me(e,v,1)}}function Me(e,n,i){for(let o=0;o<n.length;o++)Ke(e,n[o],i)}function ba(e,n){const i=v_()?64:1088;for(e[ta].changeDetectionScheduler?.notify(n);e;){e[vn]|=i;const o=Uu(e);if(Ml(e)&&!o)return e;e=o}return null}class mc{get rootNodes(){const n=this._lView,i=n[Vt];return k(i,n,i.firstChild,[])}constructor(n,i,o=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fi]}set context(n){this._lView[fi]=n}get destroyed(){return!(256&~this._lView[vn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[$i];if(Ho(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(Eg(n,o),Tr(i,o))}this._attachedToViewContainer=!1}sv(this._lView[Vt],this._lView)}onDestroy(n){rc(this._lView,n)}markForCheck(){ba(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[vn]&=-129}reattach(){Hc(this._lView),this._lView[vn]|=128}detectChanges(){this._lView[vn]|=1024,yn(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ot(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Ml(this._lView),i=this._lView[tc];null!==i&&!n&&ov(i,this._lView),Ew(this._lView[Vt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ot(902,!1);this._appRef=n;const i=Ml(this._lView),o=this._lView[tc];null!==o&&!i&&iv(o,this._lView),Hc(this._lView)}}let Nf=(()=>{class e{static{this.__NG_ELEMENT_ID__=vv}}return e})();const Of=Nf,xf=class extends Of{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const u=function c(e,n,i,o){const u=pe(null);try{const l=n.tView,A=Rg(e,l,i,4096&e[vn]?4096:16,null,n,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);A[tc]=e[n.index];const U=e[ya];return null!==U&&(A[ya]=U.createEmbeddedView(l)),r(l,A,i),A}finally{pe(u)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:o});return new mc(u)}};function vv(){return Lf(Xr(),It())}function Lf(e,n){return 4&e.type?new xf(n,e,Vd(e,n)):null}class vc{}const _c=new Dn("",{providedIn:"root",factory:()=>!1}),EI=new Dn(""),qg=new Dn("");class qw{}class II{}class dl{resolveComponentFactory(n){throw function Qw(e){const n=Error(`No component factory found for ${bi(e)}.`);return n.ngComponent=e,n}(n)}}class Kf{static{this.NULL=new dl}}class Xg{}let wI=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function ph(){const e=It(),i=ss(Xr().index,e);return(Xi(i)?i:e)[Vn]}()}}return e})(),Xw=(()=>{class e{static{this.\u0275prov=kn({token:e,providedIn:"root",factory:()=>null})}}return e})();function hl(e){return!!Ft(e)}function ki(e,n,i){let o=i?e.styles:null,u=i?e.classes:null,l=0;if(null!==n)for(let p=0;p<n.length;p++){const v=n[p];"number"==typeof v?l=v:1==l?u=Oa(u,v):2==l&&(o=Oa(o,v+": "+n[++p]+";"))}i?e.styles=o:e.stylesWithoutHost=o,i?e.classes=u:e.classesWithoutHost=u}class DI extends Kf{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=q(n);return new yh(i,this.ngModule)}}function bI(e,n){const i=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const u=e[o];if(void 0===u)continue;const l=Array.isArray(u),p=l?u[0]:u;i.push(n?{propName:p,templateName:o,isSignal:!!((l?u[1]:rs.None)&rs.SignalBased)}:{propName:p,templateName:o})}return i}class yh extends II{get inputs(){const n=this.componentDef,i=n.inputTransforms,o=bI(n.inputs,!0);if(null!==i)for(const u of o)i.hasOwnProperty(u.propName)&&(u.transform=i[u.propName]);return o}get outputs(){return bI(this.componentDef.outputs,!1)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Oc(e){return e.map(Nc).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,o,u){const l=pe(null);try{let p=(u=u||this.ngModule)instanceof os?u:u?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new oc(n,p):n,A=v.get(Xg,null);if(null===A)throw new Ot(407,!1);const re={rendererFactory:A,sanitizer:v.get(Xw,null),inlineEffectRunner:null,changeDetectionScheduler:v.get(vc,null)},ye=A.createRenderer(null,this.componentDef),be=this.componentDef.selectors[0][0]||"div",We=o?function dv(e,n,i,o){const l=o.get(gE,!1)||i===Rs.ShadowDom,p=e.selectRootElement(n,l);return function Cw(e){hv(e)}(p),p}(ye,o,this.componentDef.encapsulation,v):_g(ye,be,function SI(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(be));let At=512;this.componentDef.signals?At|=4096:this.componentDef.onPush||(At|=16);let Gt=null;null!==We&&(Gt=Xd(We,v,!0));const Qt=Mg(0,null,null,1,0,null,null,null,null,null,null),Ct=Rg(null,Qt,null,At,null,null,re,ye,v,null,Gt);Wh(Ct);let Xn,Lr,Mi=null;try{const xo=this.componentDef;let Ya,Nm=null;xo.findHostDirectiveDefs?(Ya=[],Nm=new Map,xo.findHostDirectiveDefs(xo,Ya,Nm),Ya.push(xo)):Ya=[xo];const KS=function Zg(e,n){const i=e[Vt],o=fn;return e[o]=n,id(i,o,2,"#host",null)}(Ct,We);Mi=function PI(e,n,i,o,u,l,p){const v=u[Vt];!function Ec(e,n,i,o){for(const u of e)n.mergedAttrs=Xu(n.mergedAttrs,u.hostAttrs);null!==n.mergedAttrs&&(ki(n,n.mergedAttrs,!0),null!==i&&ch(o,i,n))}(o,e,n,p);let A=null;null!==n&&(A=Xd(n,u[no]));const N=l.rendererFactory.createRenderer(n,i);let U=16;i.signals?U=4096:i.onPush&&(U=64);const re=Rg(u,Pf(i),null,U,u[e.index],e,l,N,null,null,A);return v.firstCreatePass&&Ng(v,e,o.length-1),Mf(u,re),u[e.index]=re}(KS,We,xo,Ya,Ct,re,ye),Lr=fu(Qt,fn),We&&function Yw(e,n,i,o){if(o)Ru(e,i,["ng-version","18.2.2"]);else{const{attrs:u,classes:l}=function Dh(e){const n=[],i=[];let o=1,u=2;for(;o<e.length;){let l=e[o];if("string"==typeof l)2===u?""!==l&&n.push(l,e[++o]):8===u&&i.push(l);else{if(!hi(u))break;u=l}o++}return{attrs:n,classes:i}}(n.selectors[0]);u&&Ru(e,i,u),l&&l.length>0&&uh(e,i,l.join(" "))}}(ye,xo,We,o),void 0!==i&&function Xf(e,n,i){const o=e.projection=[];for(let u=0;u<n.length;u++){const l=i[u];o.push(null!=l?Array.from(l):null)}}(Lr,this.ngContentSelectors,i),Xn=function MI(e,n,i,o,u,l){const p=Xr(),v=u[Vt],A=Wo(p,u);pv(v,u,p,i,null,o);for(let U=0;U<i.length;U++)Ko(ac(u,v,p.directiveStart+U,p),u);qE(v,u,p),A&&Ko(A,u);const N=ac(u,v,p.directiveStart+p.componentOffset,p);if(e[fi]=u[fi]=N,null!==l)for(const U of l)U(N,n);return lv(v,p,u),N}(Mi,xo,Ya,Nm,Ct,[NI]),r(Qt,Ct,null)}catch(xo){throw null!==Mi&&hf(Mi),hf(Ct),xo}finally{Kh()}return new RI(this.componentType,Xn,Vd(Lr,Ct),Ct,Lr)}finally{pe(l)}}}class RI extends qw{constructor(n,i,o,u,l){super(),this.location=o,this._rootLView=u,this._tNode=l,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new mc(u,void 0,!1),this.componentType=n}setInput(n,i){const o=this._tNode.inputs;let u;if(null!==o&&(u=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const l=this._rootLView;yv(l[Vt],l,u,n,i),this.previousInputValues.set(n,i),ba(ss(this._tNode.index,l),1)}}get injector(){return new bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function NI(){const e=Xr();Od(It()[Vt],e)}let vh=(()=>{class e{static{this.__NG_ELEMENT_ID__=em}}return e})();function em(){return _h(Xr(),It())}const OI=vh,Yf=class extends OI{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return Vd(this._hostTNode,this._hostLView)}get injector(){return new bo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Dp(this._hostTNode,this._hostLView);if(wp(n)){const i=Qc(n,this._hostLView),o=Jh(n);return new bo(i[Vt].data[o+8],i)}return new bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=xI(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Hi}createEmbeddedView(n,i,o){let u,l;"number"==typeof o?u=o:null!=o&&(u=o.index,l=o.injector);const v=n.createEmbeddedViewImpl(i||{},l,null);return this.insertImpl(v,u,y(this._hostTNode,null)),v}createComponent(n,i,o,u,l){const p=n&&!function Lc(e){return"function"==typeof e}(n);let v;if(p)v=i;else{const We=i||{};v=We.index,o=We.injector,u=We.projectableNodes,l=We.environmentInjector||We.ngModuleRef}const A=p?n:new yh(q(n)),N=o||this.parentInjector;if(!l&&null==A.ngModule){const At=(p?N:this.parentInjector).get(os,null);At&&(l=At)}q(A.componentType??{});const be=A.create(N,u,null,l);return this.insertImpl(be.hostView,v,y(this._hostTNode,null)),be}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,o){const u=n._lView;if(function hp(e){return Ho(e[$i])}(u)){const v=this.indexOf(n);if(-1!==v)this.detach(v);else{const A=u[$i],N=new Yf(A,A[ao],A[$i]);N.detach(N.indexOf(n))}}const l=this._adjustIndex(i),p=this._lContainer;return function I(e,n,i,o=!0){const u=n[Vt];if(function PC(e,n,i,o){const u=Hi+o,l=i.length;o>0&&(i[u-1][ea]=n),o<l-Hi?(n[ea]=i[u],Qn(i,Hi+o,n)):(i.push(n),n[ea]=null),n[$i]=i;const p=n[tc];null!==p&&i!==p&&iv(p,n);const v=n[ya];null!==v&&v.insertView(e),Hc(n),n[vn]|=128}(u,n,e,i),o){const p=Cg(i,e),v=n[Vn],A=oh(v,e[va]);null!==A&&function _w(e,n,i,o,u,l){o[oi]=u,o[ao]=n,bf(e,o,i,1,u,l)}(u,e[ao],v,n,A,p)}const l=n[Co];null!==l&&null!==l.firstChild&&(l.firstChild=null)}(p,u,l,o),n.attachToViewContainerRef(),Qn(tm(p),l,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=xI(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=Eg(this._lContainer,i);o&&(Tr(tm(this._lContainer),i),sv(o[Vt],o))}detach(n){const i=this._adjustIndex(n,-1),o=Eg(this._lContainer,i);return o&&null!=Tr(tm(this._lContainer),i)?new mc(o):null}_adjustIndex(n,i=0){return n??this.length+i}};function xI(e){return e[8]}function tm(e){return e[8]||(e[8]=[])}function _h(e,n){let i;const o=n[e.index];return Ho(o)?i=o:(i=XE(o,n,null,e),n[e.index]=i,Mf(n,i)),jv(i,n,e,o),new Yf(i,e,n)}let jv=function $v(e,n,i,o){if(e[va])return;let u;u=8&i.type?Ar(o):function LI(e,n){const i=e[Vn],o=i.createComment(""),u=Wo(n,e);return ih(i,oh(i,u),o,function ww(e,n){return e.nextSibling(n)}(i,u),!1),o}(n,i),e[va]=u},Jf=()=>!1;class Ic{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ic(this.queryList)}setDirty(){this.queryList.setDirty()}}class im{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,u=[];for(let l=0;l<o;l++){const p=i.getByIndex(l);u.push(this.queries[p.indexInDeclarationView].clone())}return new im(u)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==Po(n,i).matches&&this.queries[i].setDirty()}}class Hv{constructor(n,i,o=null){this.flags=i,this.read=o,this.predicate="string"==typeof n?function _t(e){return e.split(",").map(n=>n.trim())}(n):n}}class om{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const u=null!==i?i.length:0,l=this.getByIndex(o).embeddedTView(n,u);l&&(l.indexInDeclarationView=o,null!==i?i.push(l):i=[l])}return null!==i?new om(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class sm{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new sm(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let u=0;u<o.length;u++){const l=o[u];this.matchTNodeWithReadOption(n,i,am(i,l)),this.matchTNodeWithReadOption(n,i,sc(i,n,l,!1,!1))}else o===Nf?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,sc(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const u=this.metadata.read;if(null!==u)if(u===Wl||u===vh||u===Nf&&4&i.type)this.addMatch(i.index,-2);else{const l=sc(i,n,u,!1,!1);null!==l&&this.addMatch(i.index,l)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function am(e,n){const i=e.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function VI(e,n,i,o){return-1===i?function Sa(e,n){return 11&e.type?Vd(e,n):4&e.type?Lf(e,n):null}(n,e):-2===i?function UI(e,n,i){return i===Wl?Vd(n,e):i===Nf?Lf(n,e):i===vh?_h(n,e):void 0}(e,n,o):ac(e,e[Vt],i,n)}function ld(e,n,i,o){const u=n[ya].queries[o];if(null===u.matches){const l=e.data,p=i.matches,v=[];for(let A=0;null!==p&&A<p.length;A+=2){const N=p[A];v.push(N<0?null:VI(n,l[N],p[A+1],i.metadata.read))}u.matches=v}return u.matches}function m(e,n,i,o){const u=e.queries.getByIndex(i),l=u.matches;if(null!==l){const p=ld(e,n,u,i);for(let v=0;v<l.length;v+=2){const A=l[v];if(A>0)o.push(p[v/2]);else{const N=l[v+1],U=n[-A];for(let re=Hi;re<U.length;re++){const ye=U[re];ye[tc]===ye[$i]&&m(ye[Vt],ye,N,o)}if(null!==U[Uc]){const re=U[Uc];for(let ye=0;ye<re.length;ye++){const be=re[ye];m(be[Vt],be,N,o)}}}}}return o}function B(e,n,i){const o=new ly(!(4&~i));return function bw(e,n,i,o){const u=YE(n);u.push(i),e.firstCreatePass&&JE(e).push(o,u.length-1)}(e,n,o,o.destroy),(n[ya]??=new im).queries.push(new Ic(o))-1}function Jt(e,n,i){null===e.queries&&(e.queries=new om),e.queries.track(new sm(n,i))}function Po(e,n){return e.queries.getByIndex(n)}function Vr(e,n){const i=e[Vt],o=Po(i,n);return o.crossesNgTemplate?m(i,e,n,[]):ld(i,e,o,n)}const us=new Set;function ai(e){us.has(e)||(us.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function um(e,n){ai("NgSignals");const i=function at(e){const n=Object.create(_e);n.value=e;const i=()=>(ee(n),n.value);return i[ie]=n,i}(e),o=i[ie];return n?.equal&&(o.equal=n.equal),i.set=u=>ke(o,u),i.update=u=>function Oe(e,n){Xe()||kr(),ke(e,n(e.value))}(o,u),i.asReadonly=FC.bind(i),i}function FC(){const e=this[ie];if(void 0===e.readonlyFn){const n=()=>this();n[ie]=e,e.readonlyFn=n}return e.readonlyFn}function VC(e){return function dd(e){return"function"==typeof e&&void 0!==e[ie]}(e)&&"function"==typeof e.set}function Zw(e){let n=function QC(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const o=[e];for(;n;){let u;if(Es(e))u=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ot(903,!1);u=n.\u0275dir}if(u){if(i){o.push(u);const p=e;p.inputs=jI(e.inputs),p.inputTransforms=jI(e.inputTransforms),p.declaredInputs=jI(e.declaredInputs),p.outputs=jI(e.outputs);const v=u.hostBindings;v&&lR(e,v);const A=u.viewQuery,N=u.contentQueries;if(A&&uR(e,A),N&&cR(e,N),sR(e,u),zi(e.outputs,u.outputs),Es(u)&&u.data.animation){const U=e.data;U.animation=(U.animation||[]).concat(u.data.animation)}}const l=u.features;if(l)for(let p=0;p<l.length;p++){const v=l[p];v&&v.ngInherit&&v(e),v===Zw&&(i=!1)}}n=Object.getPrototypeOf(n)}!function aR(e){let n=0,i=null;for(let o=e.length-1;o>=0;o--){const u=e[o];u.hostVars=n+=u.hostVars,u.hostAttrs=Xu(u.hostAttrs,i=Xu(i,u.hostAttrs))}}(o)}function sR(e,n){for(const i in n.inputs){if(!n.inputs.hasOwnProperty(i)||e.inputs.hasOwnProperty(i))continue;const o=n.inputs[i];if(void 0!==o&&(e.inputs[i]=o,e.declaredInputs[i]=n.declaredInputs[i],null!==n.inputTransforms)){const u=Array.isArray(o)?o[0]:o;if(!n.inputTransforms.hasOwnProperty(u))continue;e.inputTransforms??={},e.inputTransforms[u]=n.inputTransforms[u]}}}function jI(e){return e===Qr?{}:e===wr?[]:e}function uR(e,n){const i=e.viewQuery;e.viewQuery=i?(o,u)=>{n(o,u),i(o,u)}:n}function cR(e,n){const i=e.contentQueries;e.contentQueries=i?(o,u,l)=>{n(o,u,l),i(o,u,l)}:n}function lR(e,n){const i=e.hostBindings;e.hostBindings=i?(o,u)=>{n(o,u),i(o,u)}:n}function ZC(e){const n=e.inputConfig,i={};for(const o in n)if(n.hasOwnProperty(o)){const u=n[o];Array.isArray(u)&&u[3]&&(i[o]=u[3])}e.inputTransforms=i}class Zf{}class e0{}function mR(e,n){return new eA(e,n??null,[])}class eA extends Zf{constructor(n,i,o,u=!0){super(),this.ngModuleType=n,this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new DI(this);const l=Ft(n);this._bootstrapComponents=wa(l.bootstrap),this._r3Injector=xp(n,i,[{provide:Zf,useValue:this},{provide:Kf,useValue:this.componentFactoryResolver},...o],bi(n),new Set(["environment"])),u&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class tA extends e0{constructor(n){super(),this.moduleType=n}create(n){return new eA(this.moduleType,n,[])}}class t0 extends Zf{constructor(n){super(),this.componentFactoryResolver=new DI(this),this.instance=null;const i=new du([...n.providers,{provide:Zf,useValue:this},{provide:Kf,useValue:this.componentFactoryResolver}],n.parent||lu(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function nA(e,n,i=null){return new t0({providers:e,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}function $I(e){return!!rA(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function rA(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function fl(e,n,i){return e[n]=i}function Mo(e,n,i){return!Object.is(e[n],i)&&(e[n]=i,!0)}function ep(e,n,i,o){const u=Mo(e,n,i);return Mo(e,n+1,o)||u}function Kv(e,n,i,o,u,l,p,v,A,N){const U=i+fn,re=n.firstCreatePass?function TR(e,n,i,o,u,l,p,v,A){const N=n.consts,U=id(n,e,4,p||null,v||null);fv(n,i,U,Ka(N,A)),Od(n,U);const re=U.tView=Mg(2,U,o,u,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,N,null);return null!==n.queries&&(n.queries.template(n,U),re.queries=n.queries.embeddedTView(U)),U}(U,n,e,o,u,l,p,v,A):n.data[U];qa(re,!1);const ye=n0(n,e,re,i);qh()&&ah(n,e,ye,re),Ko(ye,e);const be=XE(ye,e,ye,re);return e[U]=be,Mf(e,be),function nm(e,n,i){return Jf(e,n,i)}(be,re,e),nc(re)&&Rf(n,e,re),null!=A&&Pg(e,re,N),re}function iA(e,n,i,o,u,l,p,v){const A=It(),N=ir();return Kv(A,N,e,n,i,o,u,Ka(N.consts,l),p,v),iA}let n0=function r0(e,n,i,o){return xs(!0),n[Vn].createComment("")};var hm=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(hm||{});let l0=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=kn({token:e,providedIn:"root",factory:()=>new e})}}return e})();class Xv{constructor(){this.ngZone=kt(Pi),this.scheduler=kt(vc),this.errorHandler=kt(cc,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[hm.EarlyRead,hm.Write,hm.MixedReadWrite,hm.Read]}execute(){this.executing=!0;for(const n of Xv.PHASES)for(const i of this.sequences)if(!i.erroredOrDestroyed&&i.hooks[n])try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>i.hooks[n](i.pipelinedValue))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const n of this.sequences)n.afterRun(),n.once&&this.sequences.delete(n);for(const n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=kn({token:Xv,providedIn:"root",factory:()=>new Xv})}}function mA(e,n,i,o){const u=It();return Mo(u,Ia(),n)&&(ir(),Hu(Ti(),u,e,n,i,o)),mA}function Im(e,n,i,o,u,l,p,v){const N=function HI(e,n,i,o,u){const l=ep(e,n,i,o);return Mo(e,n+2,u)||l}(e,ic(),i,u,p);return Ri(3),N?n+rn(i)+o+rn(u)+l+rn(p)+v:In}function QI(e,n){return e<<17|n<<2}function Ih(e){return e>>17&32767}function yA(e){return 2|e}function np(e){return(131068&e)>>2}function vA(e,n){return-131069&e|n<<2}function _A(e){return 1|e}function V0(e,n,i,o){const u=e[i+1],l=null===n;let p=o?Ih(u):np(u),v=!1;for(;0!==p&&(!1===v||l);){const N=e[p+1];lP(e[p],n)&&(v=!0,e[p+1]=o?_A(N):yA(N)),p=o?Ih(N):np(N)}v&&(e[i+1]=o?yA(u):_A(u))}function lP(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&ja(e,n)>=0}function EA(e,n,i){const o=It();return Mo(o,Ia(),n)&&Da(ir(),Ti(),o,e,n,o[Vn],i,!1),EA}function IA(e,n,i,o,u){const p=u?"class":"style";yv(e,i,n.inputs[p],p,o)}function TA(e,n){return function Tc(e,n,i,o){const u=It(),l=ir(),p=Ri(2);l.firstUpdatePass&&function K0(e,n,i,o){const u=e.data;if(null===u[i+1]){const l=u[zo()],p=function z0(e,n){return n>=e.expandoStartIndex}(e,i);(function Y0(e,n){return!!(e.flags&(n?8:16))})(l,o)&&null===n&&!p&&(n=!1),n=function _P(e,n,i,o){const u=function jm(e){const n=mn.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let l=o?n.residualClasses:n.residualStyles;if(null===u)0===(o?n.classBindings:n.styleBindings)&&(i=Jv(i=wA(null,e,n,i,o),n.attrs,o),l=null);else{const p=n.directiveStylingLast;if(-1===p||e[p]!==u)if(i=wA(u,e,n,i,o),null===l){let A=function EP(e,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==np(o))return e[Ih(o)]}(e,n,o);void 0!==A&&Array.isArray(A)&&(A=wA(null,e,n,A[1],o),A=Jv(A,n.attrs,o),function IP(e,n,i,o){e[Ih(i?n.classBindings:n.styleBindings)]=o}(e,n,o,A))}else l=function TP(e,n,i){let o;const u=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<u;l++)o=Jv(o,e[l].hostAttrs,i);return Jv(o,n.attrs,i)}(e,n,o)}return void 0!==l&&(o?n.residualClasses=l:n.residualStyles=l),i}(u,l,n,o),function uP(e,n,i,o,u,l){let p=l?n.classBindings:n.styleBindings,v=Ih(p),A=np(p);e[o]=i;let U,N=!1;if(Array.isArray(i)?(U=i[1],(null===U||ja(i,U)>0)&&(N=!0)):U=i,u)if(0!==A){const ye=Ih(e[v+1]);e[o+1]=QI(ye,v),0!==ye&&(e[ye+1]=vA(e[ye+1],o)),e[v+1]=function sP(e,n){return 131071&e|n<<17}(e[v+1],o)}else e[o+1]=QI(v,0),0!==v&&(e[v+1]=vA(e[v+1],o)),v=o;else e[o+1]=QI(A,0),0===v?v=o:e[A+1]=vA(e[A+1],o),A=o;N&&(e[o+1]=yA(e[o+1])),V0(e,U,o,!0),V0(e,U,o,!1),function cP(e,n,i,o,u){const l=u?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof n&&ja(l,n)>=0&&(i[o+1]=_A(i[o+1]))}(n,U,e,o,l),p=QI(v,A),l?n.classBindings=p:n.styleBindings=p}(u,l,n,i,p,o)}}(l,e,p,o),n!==In&&Mo(u,p,n)&&function Q0(e,n,i,o,u,l,p,v){if(!(3&n.type))return;const A=e.data,N=A[v+1],U=function aP(e){return!(1&~e)}(N)?X0(A,n,i,u,np(N),p):void 0;XI(U)||(XI(l)||function oP(e){return!(2&~e)}(N)&&(l=X0(A,null,i,u,v,p)),function BE(e,n,i,o,u){if(n)u?e.addClass(i,o):e.removeClass(i,o);else{let l=-1===o.indexOf("-")?void 0:ev.DashCase;null==u?e.removeStyle(i,o,l):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),l|=ev.Important),e.setStyle(i,o,u,l))}}(o,p,Vu(zo(),i),u,l))}(l,l.data[zo()],u,u[Vn],e,u[p+1]=function DP(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=bi(fc(e)))),e}(n,i),o,p)}(e,n,null,!0),TA}function wA(e,n,i,o,u){let l=null;const p=i.directiveEnd;let v=i.directiveStylingLast;for(-1===v?v=i.directiveStart:v++;v<p&&(l=n[v],o=Jv(o,l.hostAttrs,u),l!==e);)v++;return null!==e&&(i.directiveStylingLast=v),o}function Jv(e,n,i){const o=i?1:2;let u=-1;if(null!==n)for(let l=0;l<n.length;l++){const p=n[l];"number"==typeof p?u=p:u===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),oo(e,p,!!i||n[++l]))}return void 0===e?null:e}function X0(e,n,i,o,u,l){const p=null===n;let v;for(;u>0;){const A=e[u],N=Array.isArray(A),U=N?A[1]:A,re=null===U;let ye=i[u+1];ye===In&&(ye=re?wr:void 0);let be=re?Sc(ye,o):U===o?ye:void 0;if(N&&!XI(be)&&(be=Sc(A,o)),XI(be)&&(v=be,p))return v;const We=e[u+1];u=p?Ih(We):np(We)}if(null!==n){let A=l?n.residualClasses:n.residualStyles;null!=A&&(v=Sc(A,o))}return v}function XI(e){return void 0!==e}function JI(e,n,i,o){const u=It(),l=ir(),p=fn+e,v=u[Vn],A=l.firstCreatePass?function QP(e,n,i,o,u,l){const p=n.consts,A=id(n,e,2,o,Ka(p,u));return fv(n,i,A,Ka(p,l)),null!==A.attrs&&ki(A,A.attrs,!1),null!==A.mergedAttrs&&ki(A,A.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,A),A}(p,l,u,n,i,o):l.data[p],N=tD(l,u,A,v,n,e);u[p]=N;const U=nc(A);return qa(A,!0),ch(v,N,A),!function lm(e){return!(32&~e.flags)}(A)&&qh()&&ah(l,u,N,A),0===function Wc(){return mn.lFrame.elementDepthCount}()&&Ko(N,u),function Sd(){mn.lFrame.elementDepthCount++}(),U&&(Rf(l,u,A),lv(l,A,u)),null!==o&&Pg(u,A),JI}function ZI(){let e=Xr();Vm()?gp():(e=e.parent,qa(e,!1));const n=e;(function Rd(e){return mn.skipHydrationRootTNode===e})(n)&&function AT(){mn.skipHydrationRootTNode=null}(),function p_(){mn.lFrame.elementDepthCount--}();const i=ir();return i.firstCreatePass&&(Od(i,e),wd(e)&&i.queries.elementEnd(e)),null!=n.classesWithoutHost&&function Tp(e){return!!(8&e.flags)}(n)&&IA(i,n,It(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Xh(e){return!!(16&e.flags)}(n)&&IA(i,n,It(),n.stylesWithoutHost,!1),ZI}function bA(e,n,i,o){return JI(e,n,i,o),ZI(),bA}let tD=(e,n,i,o,u,l)=>(xs(!0),_g(o,u,function w_(){return mn.lFrame.currentNamespace}()));function eT(e,n,i){const o=It(),u=ir(),l=e+fn,p=u.firstCreatePass?function JP(e,n,i,o,u){const l=n.consts,p=Ka(l,o),v=id(n,e,8,"ng-container",p);return null!==p&&ki(v,p,!0),fv(n,i,v,Ka(l,u)),null!==n.queries&&n.queries.elementStart(n,v),v}(l,u,o,n,i):u.data[l];qa(p,!0);const v=rD(u,o,p,e);return o[l]=v,qh()&&ah(u,o,v,p),Ko(v,o),nc(p)&&(Rf(u,o,p),lv(u,p,o)),null!=i&&Pg(o,p),eT}function tT(){let e=Xr();const n=ir();return Vm()?gp():(e=e.parent,qa(e,!1)),n.firstCreatePass&&(Od(n,e),wd(e)&&n.queries.elementEnd(e)),tT}let rD=(e,n,i,o)=>(xs(!0),rv(n[Vn],""));function iD(){return It()}const rp=void 0;var nM=["en",[["a","p"],["AM","PM"],rp],[["AM","PM"],rp,rp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rp,"{1} 'at' {0}",rp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function tM(e){const i=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let Sm={};function SA(e){const n=function rM(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=uD(n);if(i)return i;const o=n.split("-")[0];if(i=uD(o),i)return i;if("en"===o)return nM;throw new Ot(701,!1)}function aD(e){return SA(e)[Rm.PluralCase]}function uD(e){return e in Sm||(Sm[e]=Nr.ng&&Nr.ng.common&&Nr.ng.common.locales&&Nr.ng.common.locales[e]),Sm[e]}var Rm=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Rm||{});const nT="en-US";let cD=nT,bD=(e,n,i)=>{};function MA(e,n,i,o){const u=It(),l=ir(),p=Xr();return NA(l,u,u[Vn],p,e,n,o),MA}function NA(e,n,i,o,u,l,p){const v=nc(o),N=e.firstCreatePass&&JE(e),U=n[fi],re=YE(n);let ye=!0;if(3&o.type||p){const At=Wo(o,n),Gt=p?p(At):At,Qt=re.length,Ct=p?Lr=>p(Ar(Lr[o.index])):o.index;let Xn=null;if(!p&&v&&(Xn=function WM(e,n,i,o){const u=e.cleanup;if(null!=u)for(let l=0;l<u.length-1;l+=2){const p=u[l];if(p===i&&u[l+1]===o){const v=n[ec],A=u[l+2];return v.length>A?v[A]:null}"string"==typeof p&&(l+=2)}return null}(e,n,u,o.index)),null!==Xn)(Xn.__ngLastListenerFn__||Xn).__ngNextListenerFn__=l,Xn.__ngLastListenerFn__=l,ye=!1;else{l=MD(o,n,U,l),bD(At,u,l);const Lr=i.listen(Gt,u,l);re.push(l,Lr),N&&N.push(u,Ct,Qt,Qt+1)}}else l=MD(o,n,U,l);const be=o.outputs;let We;if(ye&&null!==be&&(We=be[u])){const At=We.length;if(At)for(let Gt=0;Gt<At;Gt+=2){const Mi=n[We[Gt]][We[Gt+1]].subscribe(l),xo=re.length;re.push(l,Mi),N&&N.push(u,o.index,xo,-(xo+1))}}}function PD(e,n,i,o){const u=pe(null);try{return Do(6,n,i),!1!==i(o)}catch(l){return xg(e,l),!1}finally{Do(7,n,i),pe(u)}}function MD(e,n,i,o){return function u(l){if(l===Function)return o;ba(e.componentOffset>-1?ss(e.index,n):n,5);let v=PD(n,i,o,l),A=u.__ngNextListenerFn__;for(;A;)v=PD(n,i,A,l)&&v,A=A.__ngNextListenerFn__;return v}}function ND(e=1){return function PT(e){return(mn.lFrame.contextLView=function f_(e,n){for(;e>0;)n=n[ma],e--;return n}(e,mn.lFrame.contextLView))[fi]}(e)}function $D(e,n,i,o){!function rt(e,n,i,o){const u=ir();if(u.firstCreatePass){const l=Xr();Jt(u,new Hv(n,i,o),l.index),function Ai(e,n){const i=e.contentQueries||(e.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,n)}(u,e),!(2&~i)&&(u.staticContentQueries=!0)}return B(u,It(),i)}(e,n,i,o)}function HD(e,n,i){!function oe(e,n,i){const o=ir();return o.firstCreatePass&&(Jt(o,new Hv(e,n,i),-1),!(2&~n)&&(o.staticViewQueries=!0)),B(o,It(),n)}(e,n,i)}function GD(e){const n=It(),i=ir(),o=Pd();Fl(o+1);const u=Po(i,o);if(e.dirty&&function Ll(e){return!(4&~e[vn])}(n)===!(2&~u.metadata.flags)){if(null===u.matches)e.reset([]);else{const l=Vr(n,o);e.reset(l,q_),e.notifyOnChanges()}return!0}return!1}function WD(){return function P(e,n){return e[ya].queries[n].queryList}(It(),Pd())}function tb(e,n=""){const i=It(),o=ir(),u=e+fn,l=o.firstCreatePass?id(o,u,1,n,null):o.data[u],p=nb(o,i,l,n,e);i[u]=p,qh()&&ah(o,i,p,l),qa(l,!1)}let nb=(e,n,i,o,u)=>(xs(!0),function nv(e,n){return e.createText(n)}(n[Vn],o));function LA(e){return sT("",e,""),LA}function sT(e,n,i){const o=It(),u=function _m(e,n,i,o){return Mo(e,Ia(),i)?n+rn(i)+o:In}(o,e,n,i);return u!==In&&gc(o,zo(),u),sT}function kA(e,n,i,o,u){const l=It(),p=function Em(e,n,i,o,u,l){const v=ep(e,ic(),i,u);return Ri(2),v?n+rn(i)+o+rn(u)+l:In}(l,e,n,i,o,u);return p!==In&&gc(l,zo(),p),kA}function FA(e,n,i,o,u,l,p){const v=It(),A=Im(v,e,n,i,o,u,l,p);return A!==In&&gc(v,zo(),A),FA}function VA(e,n,i){VC(n)&&(n=n());const o=It();return Mo(o,Ia(),n)&&Da(ir(),Ti(),o,e,n,o[Vn],i,!1),VA}function cb(e,n){const i=VC(e);return i&&e.set(n),i}function UA(e,n){const i=It(),o=ir(),u=Xr();return NA(o,i,i[Vn],u,e,n),UA}function BA(e,n,i,o,u){if(e=gn(e),Array.isArray(e))for(let l=0;l<e.length;l++)BA(e[l],n,i,o,u);else{const l=ir(),p=It(),v=Xr();let A=Ha(e)?e:gn(e.provide);const N=Mh(e),U=1048575&v.providerIndexes,re=v.directiveStart,ye=v.providerIndexes>>20;if(Ha(e)||!e.multi){const be=new Bl(N,u,mu),We=$A(A,n,u?U:U+ye,re);-1===We?(Zm(Zh(v,p),l,A),jA(l,e,n.length),n.push(A),v.directiveStart++,v.directiveEnd++,u&&(v.providerIndexes+=1048576),i.push(be),p.push(be)):(i[We]=be,p[We]=be)}else{const be=$A(A,n,U+ye,re),We=$A(A,n,U,U+ye),Gt=We>=0&&i[We];if(u&&!Gt||!u&&!(be>=0&&i[be])){Zm(Zh(v,p),l,A);const Qt=function mN(e,n,i,o,u){const l=new Bl(e,i,mu);return l.multi=[],l.index=n,l.componentProviders=0,hb(l,u,o&&!i),l}(u?gN:pN,i.length,u,o,N);!u&&Gt&&(i[We].providerFactory=Qt),jA(l,e,n.length,0),n.push(A),v.directiveStart++,v.directiveEnd++,u&&(v.providerIndexes+=1048576),i.push(Qt),p.push(Qt)}else jA(l,e,be>-1?be:We,hb(i[u?We:be],N,!u&&o));!u&&o&&Gt&&i[We].componentProviders++}}}function jA(e,n,i,o){const u=Ha(n),l=function Rh(e){return!!e.useClass}(n);if(u||l){const A=(l?gn(n.useClass):n).prototype.ngOnDestroy;if(A){const N=e.destroyHooks||(e.destroyHooks=[]);if(!u&&n.multi){const U=N.indexOf(i);-1===U?N.push(i,[o,A]):N[U+1].push(o,A)}else N.push(i,A)}}}function hb(e,n,i){return i&&e.componentProviders++,e.multi.push(n)-1}function $A(e,n,i,o){for(let u=i;u<o;u++)if(n[u]===e)return u;return-1}function pN(e,n,i,o){return HA(this.multi,[])}function gN(e,n,i,o){const u=this.multi;let l;if(this.providerFactory){const p=this.providerFactory.componentProviders,v=ac(i,i[Vt],this.providerFactory.index,o);l=v.slice(0,p),HA(u,l);for(let A=p;A<v.length;A++)l.push(v[A])}else l=[],HA(u,l);return l}function HA(e,n){for(let i=0;i<e.length;i++)n.push((0,e[i])());return n}function fb(e,n=[]){return i=>{i.providersResolver=(o,u)=>function fN(e,n,i){const o=ir();if(o.firstCreatePass){const u=Es(e);BA(i,o.data,o.blueprint,u,!0),BA(n,o.data,o.blueprint,u,!1)}}(o,u?u(e):e,n)}}let yN=(()=>{class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const o=fa(0,i.type),u=o.length>0?nA([o],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,u)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=kn({token:e,providedIn:"environment",factory:()=>new e(Fn(os))})}}return e})();function pb(e){ai("NgStandalone"),e.getStandaloneInjector=n=>n.get(yN).getOrCreateStandaloneInjector(e)}function yb(e,n,i){const o=Os()+e,u=It();return u[o]===In?fl(u,o,i?n.call(i):n()):function zv(e,n){return e[n]}(u,o)}function vb(e,n,i,o){return Eb(It(),Os(),e,n,i,o)}function _b(e,n,i,o,u){return function Ib(e,n,i,o,u,l,p){const v=n+i;return ep(e,v,u,l)?fl(e,v+2,p?o.call(p,u,l):o(u,l)):i_(e,v+2)}(It(),Os(),e,n,i,o,u)}function i_(e,n){const i=e[n];return i===In?void 0:i}function Eb(e,n,i,o,u,l){const p=n+i;return Mo(e,p,u)?fl(e,p+1,l?o.call(l,u):o(u)):i_(e,p+1)}function Cb(e,n){const i=ir();let o;const u=e+fn;i.firstCreatePass?(o=function SN(e,n){if(n)for(let i=n.length-1;i>=0;i--){const o=n[i];if(e===o.name)return o}}(n,i.pipeRegistry),i.data[u]=o,o.onDestroy&&(i.destroyHooks??=[]).push(u,o.onDestroy)):o=i.data[u];const l=o.factory||(o.factory=mo(o.type)),v=xi(mu);try{const A=Ap(!1),N=l();return Ap(A),function xA(e,n,i,o){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),n[i]=o}(i,It(),u,N),N}finally{xi(v)}}function Db(e,n,i){const o=e+fn,u=It(),l=function pu(e,n){return e[n]}(u,o);return function o_(e,n){return e[Vt].data[n].pure}(u,o)?Eb(u,Os(),n,l.transform,i,l):l.transform(i)}class $b{constructor(n){this.full=n;const i=n.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const tO=new $b("18.2.2");let Hb=(()=>{class e{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=kn({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const qb=new Dn(""),Qb=new Dn("");let QA,bO=(()=>{class e{constructor(i,o,u){this._ngZone=i,this.registry=o,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,QA||(function SO(e){QA=e}(u),u.addToWindow(o)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(i)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,o,u){let l=-1;o&&o>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==l),i()},o)),this._callbacks.push({doneCb:i,timeoutId:l,updateCb:u})}whenStable(i,o,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,o,u),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,o,u){return[]}static{this.\u0275fac=function(o){return new(o||e)(Fn(Pi),Fn(Xb),Fn(Qb))}}static{this.\u0275prov=kn({token:e,factory:e.\u0275fac})}}return e})(),Xb=(()=>{class e{constructor(){this._applications=new Map}registerApplication(i,o){this._applications.set(i,o)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,o=!0){return QA?.findTestabilityInTree(this,i,o)??null}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=kn({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function XA(e){return!!e&&"function"==typeof e.then}function Yb(e){return!!e&&"function"==typeof e.subscribe}const RO=new Dn("");let Jb=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=kt(RO,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const u of this.appInits){const l=u();if(XA(l))i.push(l);else if(Yb(l)){const p=new Promise((v,A)=>{l.subscribe({complete:v,error:A})});i.push(p)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{o()}).catch(u=>{this.reject(u)}),0===i.length&&o(),this.initialized=!0}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=kn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const dT=new Dn("");let ml=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=kt(jT),this.afterRenderManager=kt(l0),this.zonelessEnabled=kt(_c),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Gn.B,this.afterTick=new Gn.B,this.componentTypes=[],this.components=[],this.isStable=kt(Yc).hasPendingTasks.pipe((0,zt.T)(i=>!i)),this._injector=kt(os)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let i;return new Promise(o=>{i=this.isStable.subscribe({next:u=>{u&&o()}})}).finally(()=>{i.unsubscribe()})}get injector(){return this._injector}bootstrap(i,o){const u=i instanceof II;if(!this._injector.get(Jb).done)throw!u&&Be(i),new Ot(405,!1);let p;p=u?i:this._injector.get(Kf).resolveComponentFactory(i),this.componentTypes.push(p.componentType);const v=function PO(e){return e.isBoundToModule}(p)?void 0:this._injector.get(Zf),N=p.create(as.NULL,[],o||p.selector,v),U=N.location.nativeElement,re=N.injector.get(qb,null);return re?.registerApplication(U),N.onDestroy(()=>{this.detachView(N.hostView),hT(this.components,N),re?.unregisterApplication(U)}),this._loadComponent(N),N}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Ot(101,!1);const i=pe(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,pe(i),this.afterTick.next()}}synchronize(){let i=null;this._injector.destroyed||(i=this._injector.get(Xg,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let o=0;for(;0!==this.dirtyFlags&&o++<10;)this.synchronizeOnce(i)}synchronizeOnce(i){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const o=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(o);for(let{_lView:u,notifyErrorHandler:l}of this._views)OO(u,l,o,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else i?.begin?.(),i?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:i})=>Bh(i))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(i){const o=i;this._views.push(o),o.attachToAppRef(this)}detachView(i){const o=i;hT(this._views,o),o.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const o=this._injector.get(dT,[]);[...this._bootstrapListeners,...o].forEach(u=>u(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>hT(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Ot(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=kn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function hT(e,n){const i=e.indexOf(n);i>-1&&e.splice(i,1)}function OO(e,n,i,o){(i||Bh(e))&&yn(e,n,i&&!o?0:1)}class xO{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let LO=(()=>{class e{compileModuleSync(i){return new tA(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const o=this.compileModuleSync(i),l=wa(Ft(i).declarations).reduce((p,v)=>{const A=q(v);return A&&p.push(new yh(A)),p},[]);return new xO(o,l)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=kn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),VO=(()=>{class e{constructor(){this.zone=kt(Pi),this.changeDetectionScheduler=kt(vc),this.applicationRef=kt(ml)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=kn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function YA({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:i}){return e??=()=>new Pi({...JA(),scheduleInRootZone:i}),[{provide:Pi,useFactory:e},{provide:_s,multi:!0,useFactory:()=>{const o=kt(VO,{optional:!0});return()=>o.initialize()}},{provide:_s,multi:!0,useFactory:()=>{const o=kt(BO);return()=>{o.initialize()}}},!0===n?{provide:EI,useValue:!0}:[],{provide:qg,useValue:i??uc}]}function JA(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let BO=(()=>{class e{constructor(){this.subscription=new lr.yU,this.initialized=!1,this.zone=kt(Pi),this.pendingTasks=kt(Yc)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Pi.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Pi.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=kn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),u_=(()=>{class e{constructor(){this.appRef=kt(ml),this.taskService=kt(Yc),this.ngZone=kt(Pi),this.zonelessEnabled=kt(_c),this.disableScheduling=kt(EI,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new lr.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Vp):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(kt(qg,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof jp||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&5===i)return;switch(i){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const o=this.useMicrotaskScheduler?Fp:kp;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Vp+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Fp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=kn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const eC=new Dn("",{providedIn:"root",factory:()=>kt(eC,er.Optional|er.SkipSelf)||function jO(){return typeof $localize<"u"&&$localize.locale||nT}()}),$O=new Dn("",{providedIn:"root",factory:()=>"USD"}),tC=new Dn("");function pT(e){return!!e.platformInjector}let Th=null;function YO(){return!1}function JO(){}let hS=(()=>{class e{static{this.__NG_ELEMENT_ID__=ZO}}return e})();function ZO(e){return function ex(e,n,i){if(Wa(e)&&!i){const o=ss(e.index,n);return new mc(o,o)}return 175&e.type?new mc(n[si],n):null}(Xr(),It(),!(16&~e))}class mS{constructor(){}supports(n){return $I(n)}create(n){return new ox(n)}}const ix=(e,n)=>n;class ox{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||ix}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,u=0,l=null;for(;i||o;){const p=!o||i&&i.currentIndex<vS(o,u,l)?i:o,v=vS(p,u,l),A=p.currentIndex;if(p===o)u--,o=o._nextRemoved;else if(i=i._next,null==p.previousIndex)u++;else{l||(l=[]);const N=v-u,U=A-u;if(N!=U){for(let ye=0;ye<N;ye++){const be=ye<l.length?l[ye]:l[ye]=0,We=be+ye;U<=We&&We<N&&(l[ye]=be+1)}l[p.previousIndex]=U-N}}v!==A&&n(p,v,A)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!$I(n))throw new Ot(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let u,l,p,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let v=0;v<this.length;v++)l=n[v],p=this._trackByFn(v,l),null!==i&&Object.is(i.trackById,p)?(o&&(i=this._verifyReinsertion(i,l,p,v)),Object.is(i.item,l)||this._addIdentityChange(i,l)):(i=this._mismatch(i,l,p,v),o=!0),i=i._next}else u=0,function ER(e,n){if(Array.isArray(e))for(let i=0;i<e.length;i++)n(e[i]);else{const i=e[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,v=>{p=this._trackByFn(u,v),null!==i&&Object.is(i.trackById,p)?(o&&(i=this._verifyReinsertion(i,v,p,u)),Object.is(i.item,v)||this._addIdentityChange(i,v)):(i=this._mismatch(i,v,p,u),o=!0),i=i._next,u++}),this.length=u;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,u){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,l,u)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,u))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,l,u)):n=this._addAfter(new sx(i,o),l,u),n}_verifyReinsertion(n,i,o,u){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==l?n=this._reinsertAfter(l,n._prev,u):n.currentIndex!=u&&(n.currentIndex=u,this._addToMoves(n,u)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const u=n._prevRemoved,l=n._nextRemoved;return null===u?this._removalsHead=l:u._nextRemoved=l,null===l?this._removalsTail=u:l._prevRemoved=u,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const u=null===i?this._itHead:i._next;return n._next=u,n._prev=i,null===u?this._itTail=n:u._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new yS),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yS),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class sx{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ax{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class yS{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new ax,this.map.set(i,o)),o.add(n)}get(n,i){const u=this.map.get(n);return u?u.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vS(e,n,i){const o=e.previousIndex;if(null===o)return o;let u=0;return i&&o<i.length&&(u=i[o]),o+n+u}class _S{constructor(){}supports(n){return n instanceof Map||rA(n)}create(){return new ux}}class ux{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||rA(n)))throw new Ot(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,u)=>{if(i&&i.key===u)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const l=this._getOrCreateRecordForKey(u,o);i=this._insertBeforeOrAppend(i,l)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const u=this._records.get(n);this._maybeAddToChanges(u,i);const l=u._prev,p=u._next;return l&&(l._next=p),p&&(p._prev=l),u._next=null,u._prev=null,u}const o=new cx(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class cx{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ES(){return new aC([new mS])}let aC=(()=>{class e{static{this.\u0275prov=kn({token:e,providedIn:"root",factory:ES})}constructor(i){this.factories=i}static create(i,o){if(null!=o){const u=o.factories.slice();i=i.concat(u)}return new e(i)}static extend(i){return{provide:e,useFactory:o=>e.create(i,o||ES()),deps:[[e,new go,new jo]]}}find(i){const o=this.factories.find(u=>u.supports(i));if(null!=o)return o;throw new Ot(901,!1)}}return e})();function IS(){return new uC([new _S])}let uC=(()=>{class e{static{this.\u0275prov=kn({token:e,providedIn:"root",factory:IS})}constructor(i){this.factories=i}static create(i,o){if(o){const u=o.factories.slice();i=i.concat(u)}return new e(i)}static extend(i){return{provide:e,useFactory:o=>e.create(i,o||IS()),deps:[[e,new go,new jo]]}}find(i){const o=this.factories.find(u=>u.supports(i));if(o)return o;throw new Ot(901,!1)}}return e})(),hx=(()=>{class e{constructor(i){}static{this.\u0275fac=function(o){return new(o||e)(Fn(ml))}}static{this.\u0275mod=D({type:e})}static{this.\u0275inj=Ki({})}}return e})();function Ax(e){try{const{rootComponent:n,appProviders:i,platformProviders:o}=e,u=function XO(e=[]){if(Th)return Th;const n=function cS(e=[],n){return as.create({name:n,providers:[{provide:Ju,useValue:"platform"},{provide:tC,useValue:new Set([()=>Th=null])},...e]})}(e);return Th=n,function Zb(){!function ar(e){Kn=e}(()=>{throw new Ot(600,!1)})}(),function lS(e){e.get(eg,null)?.forEach(i=>i())}(n),n}(o),l=[YA({}),{provide:vc,useExisting:u_},...i||[]];return function sS(e){const n=pT(e)?e.r3Injector:e.moduleRef.injector,i=n.get(Pi);return i.run(()=>{pT(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=n.get(cc,null);let u;if(i.runOutsideAngular(()=>{u=i.onError.subscribe({next:l=>{o.handleError(l)}})}),pT(e)){const l=()=>n.destroy(),p=e.platformInjector.get(tC);p.add(l),n.onDestroy(()=>{u.unsubscribe(),p.delete(l)})}else e.moduleRef.onDestroy(()=>{hT(e.allPlatformModules,e.moduleRef),u.unsubscribe()});return function NO(e,n,i){try{const o=i();return XA(o)?o.catch(u=>{throw n.runOutsideAngular(()=>e.handleError(u)),u}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}(o,i,()=>{const l=n.get(Jb);return l.runInitializers(),l.donePromise.then(()=>{if(function aM(e){"string"==typeof e&&(cD=e.toLowerCase().replace(/_/g,"-"))}(n.get(eC,nT)||nT),pT(e)){const v=n.get(ml);return void 0!==e.rootComponent&&v.bootstrap(e.rootComponent),v}return function KO(e,n){const i=e.injector.get(ml);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new Ot(-403,!1);e.instance.ngDoBootstrap(i)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new t0({providers:l,parent:u,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:u,rootComponent:n})}catch(n){return Promise.reject(n)}}const FS=new Dn("");function Gx(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function zx(e,n){ai("NgSignals");const i=function ce(e){const n=Object.create(hn);n.computation=e;const i=()=>{if(Ge(n),ee(n),n.value===bn)throw n.error;return n.value};return i[ie]=n,i}(e);return n?.equal&&(i[ie].equal=n.equal),i}function Kx(e){const n=pe(null);try{return e()}finally{pe(n)}}},4341:(Kt,nt,O)=>{O.d(nt,{me:()=>ge,ok:()=>Oi,MJ:()=>Gi,JD:()=>Mr,gE:()=>Ni,j4:()=>Qo,YN:()=>Tu,BC:()=>wn,cb:()=>Mt,vS:()=>en,xH:()=>Ot,X1:()=>aa,wz:()=>As,k0:()=>vt,qT:()=>on,y7:()=>fo});var d=O(3953),z=O(177),F=O(8455),ae=O(1985),ie=O(3073),pe=O(8750),Qe=O(3794),Ye=O(4360),je=O(6450),J=O(8496),me=O(1413),Ge=O(6354);let Ve=(()=>{class L{constructor(S,X){this._renderer=S,this._elementRef=X,this.onChange=Ie=>{},this.onTouched=()=>{}}setProperty(S,X){this._renderer.setProperty(this._elementRef.nativeElement,S,X)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}static{this.\u0275fac=function(X){return new(X||L)(d.rXU(d.sFG),d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:L})}}return L})(),Xe=(()=>{class L extends Ve{static{this.\u0275fac=(()=>{let S;return function(Ie){return(S||(S=d.xGo(L)))(Ie||L)}})()}static{this.\u0275dir=d.FsC({type:L,features:[d.Vt3]})}}return L})();const mt=new d.nKC(""),Tt={provide:mt,useExisting:(0,d.Rfq)(()=>ge),multi:!0},Ae=new d.nKC("");let ge=(()=>{class L extends Ve{constructor(S,X,Ie){super(S,X),this._compositionMode=Ie,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pe(){const L=(0,z.QT)()?(0,z.QT)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(S){this.setProperty("value",S??"")}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}static{this.\u0275fac=function(X){return new(X||L)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(Ae,8))}}static{this.\u0275dir=d.FsC({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(X,Ie){1&X&&d.bIt("input",function(Nn){return Ie._handleInput(Nn.target.value)})("blur",function(){return Ie.onTouched()})("compositionstart",function(){return Ie._compositionStart()})("compositionend",function(Nn){return Ie._compositionEnd(Nn.target.value)})},features:[d.Jv_([Tt]),d.Vt3]})}}return L})();function Se(L){return null==L||("string"==typeof L||Array.isArray(L))&&0===L.length}function Te(L){return null!=L&&"number"==typeof L.length}const De=new d.nKC(""),K=new d.nKC(""),ce=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class vt{static min(x){return function ot(L){return x=>{if(Se(x.value)||Se(L))return null;const S=parseFloat(x.value);return!isNaN(S)&&S<L?{min:{min:L,actual:x.value}}:null}}(x)}static max(x){return function bn(L){return x=>{if(Se(x.value)||Se(L))return null;const S=parseFloat(x.value);return!isNaN(S)&&S>L?{max:{max:L,actual:x.value}}:null}}(x)}static required(x){return function hn(L){return Se(L.value)?{required:!0}:null}(x)}static requiredTrue(x){return function sr(L){return!0===L.value?null:{required:!0}}(x)}static email(x){return function Kn(L){return Se(L.value)||ce.test(L.value)?null:{email:!0}}(x)}static minLength(x){return function kr(L){return x=>Se(x.value)||!Te(x.value)?null:x.value.length<L?{minlength:{requiredLength:L,actualLength:x.value.length}}:null}(x)}static maxLength(x){return function ar(L){return x=>Te(x.value)&&x.value.length>L?{maxlength:{requiredLength:L,actualLength:x.value.length}}:null}(x)}static pattern(x){return function qe(L){if(!L)return at;let x,S;return"string"==typeof L?(S="","^"!==L.charAt(0)&&(S+="^"),S+=L,"$"!==L.charAt(L.length-1)&&(S+="$"),x=new RegExp(S)):(S=L.toString(),x=L),X=>{if(Se(X.value))return null;const Ie=X.value;return x.test(Ie)?null:{pattern:{requiredPattern:S,actualValue:Ie}}}}(x)}static nullValidator(x){return null}static compose(x){return Re(x)}static composeAsync(x){return Hn(x)}}function at(L){return null}function yt(L){return null!=L}function lt(L){return(0,d.jNT)(L)?(0,F.H)(L):L}function ke(L){let x={};return L.forEach(S=>{x=null!=S?{...x,...S}:x}),0===Object.keys(x).length?null:x}function Oe(L,x){return x.map(S=>S(L))}function _e(L){return L.map(x=>function se(L){return!L.validate}(x)?x:S=>x.validate(S))}function Re(L){if(!L)return null;const x=L.filter(yt);return 0==x.length?null:function(S){return ke(Oe(S,x))}}function Ue(L){return null!=L?Re(_e(L)):null}function Hn(L){if(!L)return null;const x=L.filter(yt);return 0==x.length?null:function(S){return function ee(...L){const x=(0,Qe.ms)(L),{args:S,keys:X}=(0,ie.D)(L),Ie=new ae.c(Zt=>{const{length:Nn}=S;if(!Nn)return void Zt.complete();const kn=new Array(Nn);let ms=Nn,Ki=Nn;for(let Bo=0;Bo<Nn;Bo++){let La=!1;(0,pe.Tg)(S[Bo]).subscribe((0,Ye._)(Zt,Gs=>{La||(La=!0,Ki--),kn[Bo]=Gs},()=>ms--,void 0,()=>{(!ms||!La)&&(Ki||Zt.next(X?(0,J.e)(X,kn):kn),Zt.complete())}))}});return x?Ie.pipe((0,je.I)(x)):Ie}(Oe(S,x).map(lt)).pipe((0,Ge.T)(ke))}}function Zn(L){return null!=L?Hn(_e(L)):null}function Ci(L,x){return null===L?[x]:Array.isArray(L)?[...L,x]:[L,x]}function Un(L){return L._rawValidators}function Gn(L){return L._rawAsyncValidators}function lr(L){return L?Array.isArray(L)?L:[L]:[]}function zt(L,x){return Array.isArray(L)?L.includes(x):L===x}function Fr(L,x){const S=lr(x);return lr(L).forEach(Ie=>{zt(S,Ie)||S.push(Ie)}),S}function yi(L,x){return lr(x).filter(S=>!zt(L,S))}class ui{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=Ue(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=Zn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x=void 0){this.control&&this.control.reset(x)}hasError(x,S){return!!this.control&&this.control.hasError(x,S)}getError(x,S){return this.control?this.control.getError(x,S):null}}class $n extends ui{get formDirective(){return null}get path(){return null}}class dr extends ui{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gr{constructor(x){this._cd=x}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let wn=(()=>{class L extends gr{constructor(S){super(S)}static{this.\u0275fac=function(X){return new(X||L)(d.rXU(dr,2))}}static{this.\u0275dir=d.FsC({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(X,Ie){2&X&&d.AVh("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)},features:[d.Vt3]})}}return L})(),Mt=(()=>{class L extends gr{constructor(S){super(S)}static{this.\u0275fac=function(X){return new(X||L)(d.rXU($n,10))}}static{this.\u0275dir=d.FsC({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(X,Ie){2&X&&d.AVh("ng-untouched",Ie.isUntouched)("ng-touched",Ie.isTouched)("ng-pristine",Ie.isPristine)("ng-dirty",Ie.isDirty)("ng-valid",Ie.isValid)("ng-invalid",Ie.isInvalid)("ng-pending",Ie.isPending)("ng-submitted",Ie.isSubmitted)},features:[d.Vt3]})}}return L})();const it="VALID",he="INVALID",xe="PENDING",ne="DISABLED";class H{}class G extends H{constructor(x,S){super(),this.value=x,this.source=S}}class Y extends H{constructor(x,S){super(),this.pristine=x,this.source=S}}class le extends H{constructor(x,S){super(),this.touched=x,this.source=S}}class et extends H{constructor(x,S){super(),this.status=x,this.source=S}}class Nt extends H{constructor(x){super(),this.source=x}}class Xt extends H{constructor(x){super(),this.source=x}}function Sn(L){return(Tn(L)?L.validators:L)||null}function qn(L,x){return(Tn(x)?x.asyncValidators:L)||null}function Tn(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}function nr(L,x,S){const X=L.controls;if(!(x?Object.keys(X):X).length)throw new d.wOt(1e3,"");if(!X[S])throw new d.wOt(1001,"")}function ro(L,x,S){L._forEachChild((X,Ie)=>{if(void 0===S[Ie])throw new d.wOt(1002,"")})}class Eo{constructor(x,S){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,d.EWP)(()=>this.statusReactive()),this.statusReactive=(0,d.vPA)(void 0),this._pristine=(0,d.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,d.vPA)(!0),this._touched=(0,d.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,d.vPA)(!1),this._events=new me.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(x),this._assignAsyncValidators(S)}get validator(){return this._composedValidatorFn}set validator(x){this._rawValidators=this._composedValidatorFn=x}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(x){this._rawAsyncValidators=this._composedAsyncValidatorFn=x}get parent(){return this._parent}get status(){return(0,d.O8t)(this.statusReactive)}set status(x){(0,d.O8t)(()=>this.statusReactive.set(x))}get valid(){return this.status===it}get invalid(){return this.status===he}get pending(){return this.status==xe}get disabled(){return this.status===ne}get enabled(){return this.status!==ne}get pristine(){return(0,d.O8t)(this.pristineReactive)}set pristine(x){(0,d.O8t)(()=>this.pristineReactive.set(x))}get dirty(){return!this.pristine}get touched(){return(0,d.O8t)(this.touchedReactive)}set touched(x){(0,d.O8t)(()=>this.touchedReactive.set(x))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(x){this._assignValidators(x)}setAsyncValidators(x){this._assignAsyncValidators(x)}addValidators(x){this.setValidators(Fr(x,this._rawValidators))}addAsyncValidators(x){this.setAsyncValidators(Fr(x,this._rawAsyncValidators))}removeValidators(x){this.setValidators(yi(x,this._rawValidators))}removeAsyncValidators(x){this.setAsyncValidators(yi(x,this._rawAsyncValidators))}hasValidator(x){return zt(this._rawValidators,x)}hasAsyncValidator(x){return zt(this._rawAsyncValidators,x)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(x={}){const S=!1===this.touched;this.touched=!0;const X=x.sourceControl??this;this._parent&&!x.onlySelf&&this._parent.markAsTouched({...x,sourceControl:X}),S&&!1!==x.emitEvent&&this._events.next(new le(!0,X))}markAllAsTouched(x={}){this.markAsTouched({onlySelf:!0,emitEvent:x.emitEvent,sourceControl:this}),this._forEachChild(S=>S.markAllAsTouched(x))}markAsUntouched(x={}){const S=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const X=x.sourceControl??this;this._forEachChild(Ie=>{Ie.markAsUntouched({onlySelf:!0,emitEvent:x.emitEvent,sourceControl:X})}),this._parent&&!x.onlySelf&&this._parent._updateTouched(x,X),S&&!1!==x.emitEvent&&this._events.next(new le(!1,X))}markAsDirty(x={}){const S=!0===this.pristine;this.pristine=!1;const X=x.sourceControl??this;this._parent&&!x.onlySelf&&this._parent.markAsDirty({...x,sourceControl:X}),S&&!1!==x.emitEvent&&this._events.next(new Y(!1,X))}markAsPristine(x={}){const S=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const X=x.sourceControl??this;this._forEachChild(Ie=>{Ie.markAsPristine({onlySelf:!0,emitEvent:x.emitEvent})}),this._parent&&!x.onlySelf&&this._parent._updatePristine(x,X),S&&!1!==x.emitEvent&&this._events.next(new Y(!0,X))}markAsPending(x={}){this.status=xe;const S=x.sourceControl??this;!1!==x.emitEvent&&(this._events.next(new et(this.status,S)),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.markAsPending({...x,sourceControl:S})}disable(x={}){const S=this._parentMarkedDirty(x.onlySelf);this.status=ne,this.errors=null,this._forEachChild(Ie=>{Ie.disable({...x,onlySelf:!0})}),this._updateValue();const X=x.sourceControl??this;!1!==x.emitEvent&&(this._events.next(new G(this.value,X)),this._events.next(new et(this.status,X)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...x,skipPristineCheck:S},this),this._onDisabledChange.forEach(Ie=>Ie(!0))}enable(x={}){const S=this._parentMarkedDirty(x.onlySelf);this.status=it,this._forEachChild(X=>{X.enable({...x,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent}),this._updateAncestors({...x,skipPristineCheck:S},this),this._onDisabledChange.forEach(X=>X(!1))}_updateAncestors(x,S){this._parent&&!x.onlySelf&&(this._parent.updateValueAndValidity(x),x.skipPristineCheck||this._parent._updatePristine({},S),this._parent._updateTouched({},S))}setParent(x){this._parent=x}getRawValue(){return this.value}updateValueAndValidity(x={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const X=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===it||this.status===xe)&&this._runAsyncValidator(X,x.emitEvent)}const S=x.sourceControl??this;!1!==x.emitEvent&&(this._events.next(new G(this.value,S)),this._events.next(new et(this.status,S)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.updateValueAndValidity({...x,sourceControl:S})}_updateTreeValidity(x={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(x)),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ne:it}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(x,S){if(this.asyncValidator){this.status=xe,this._hasOwnPendingAsyncValidator={emitEvent:!1!==S};const X=lt(this.asyncValidator(this));this._asyncValidationSubscription=X.subscribe(Ie=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Ie,{emitEvent:S,shouldHaveEmitted:x})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const x=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,x}return!1}setErrors(x,S={}){this.errors=x,this._updateControlsErrors(!1!==S.emitEvent,this,S.shouldHaveEmitted)}get(x){let S=x;return null==S||(Array.isArray(S)||(S=S.split(".")),0===S.length)?null:S.reduce((X,Ie)=>X&&X._find(Ie),this)}getError(x,S){const X=S?this.get(S):this;return X&&X.errors?X.errors[x]:null}hasError(x,S){return!!this.getError(x,S)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(x,S,X){this.status=this._calculateStatus(),x&&this.statusChanges.emit(this.status),(x||X)&&this._events.next(new et(this.status,S)),this._parent&&this._parent._updateControlsErrors(x,S,X)}_initObservables(){this.valueChanges=new d.bkB,this.statusChanges=new d.bkB}_calculateStatus(){return this._allControlsDisabled()?ne:this.errors?he:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xe)?xe:this._anyControlsHaveStatus(he)?he:it}_anyControlsHaveStatus(x){return this._anyControls(S=>S.status===x)}_anyControlsDirty(){return this._anyControls(x=>x.dirty)}_anyControlsTouched(){return this._anyControls(x=>x.touched)}_updatePristine(x,S){const X=!this._anyControlsDirty(),Ie=this.pristine!==X;this.pristine=X,this._parent&&!x.onlySelf&&this._parent._updatePristine(x,S),Ie&&this._events.next(new Y(this.pristine,S))}_updateTouched(x={},S){this.touched=this._anyControlsTouched(),this._events.next(new le(this.touched,S)),this._parent&&!x.onlySelf&&this._parent._updateTouched(x,S)}_registerOnCollectionChange(x){this._onCollectionChange=x}_setUpdateStrategy(x){Tn(x)&&null!=x.updateOn&&(this._updateOn=x.updateOn)}_parentMarkedDirty(x){return!x&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(x){return null}_assignValidators(x){this._rawValidators=Array.isArray(x)?x.slice():x,this._composedValidatorFn=function Pn(L){return Array.isArray(L)?Ue(L):L||null}(this._rawValidators)}_assignAsyncValidators(x){this._rawAsyncValidators=Array.isArray(x)?x.slice():x,this._composedAsyncValidatorFn=function An(L){return Array.isArray(L)?Zn(L):L||null}(this._rawAsyncValidators)}}class Ni extends Eo{constructor(x,S,X){super(Sn(S),qn(X,S)),this.controls=x,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(x,S){return this.controls[x]?this.controls[x]:(this.controls[x]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(x,S,X={}){this.registerControl(x,S),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}removeControl(x,S={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(x,S,X={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],S&&this.registerControl(x,S),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}contains(x){return this.controls.hasOwnProperty(x)&&this.controls[x].enabled}setValue(x,S={}){ro(this,0,x),Object.keys(x).forEach(X=>{nr(this,!0,X),this.controls[X].setValue(x[X],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(x,S={}){null!=x&&(Object.keys(x).forEach(X=>{const Ie=this.controls[X];Ie&&Ie.patchValue(x[X],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(x={},S={}){this._forEachChild((X,Ie)=>{X.reset(x?x[Ie]:null,{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S,this),this._updateTouched(S,this),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(x,S,X)=>(x[X]=S.getRawValue(),x))}_syncPendingControls(){let x=this._reduceChildren(!1,(S,X)=>!!X._syncPendingControls()||S);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){Object.keys(this.controls).forEach(S=>{const X=this.controls[S];X&&x(X,S)})}_setUpControls(){this._forEachChild(x=>{x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(x){for(const[S,X]of Object.entries(this.controls))if(this.contains(S)&&x(X))return!0;return!1}_reduceValue(){return this._reduceChildren({},(S,X,Ie)=>((X.enabled||this.disabled)&&(S[Ie]=X.value),S))}_reduceChildren(x,S){let X=x;return this._forEachChild((Ie,Zt)=>{X=S(X,Ie,Zt)}),X}_allControlsDisabled(){for(const x of Object.keys(this.controls))if(this.controls[x].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(x){return this.controls.hasOwnProperty(x)?this.controls[x]:null}}class lo extends Ni{}const $e=new d.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Et}),Et="always";function jt(L,x){return[...x.path,L]}function pn(L,x,S=Et){ur(L,x),x.valueAccessor.writeValue(L.value),(L.disabled||"always"===S)&&x.valueAccessor.setDisabledState?.(L.disabled),function te(L,x){x.valueAccessor.registerOnChange(S=>{L._pendingValue=S,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&ve(L,x)})}(L,x),function gt(L,x){const S=(X,Ie)=>{x.valueAccessor.writeValue(X),Ie&&x.viewToModelUpdate(X)};L.registerOnChange(S),x._registerOnDestroy(()=>{L._unregisterOnChange(S)})}(L,x),function we(L,x){x.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&ve(L,x),"submit"!==L.updateOn&&L.markAsTouched()})}(L,x),function Yn(L,x){if(x.valueAccessor.setDisabledState){const S=X=>{x.valueAccessor.setDisabledState(X)};L.registerOnDisabledChange(S),x._registerOnDestroy(()=>{L._unregisterOnDisabledChange(S)})}}(L,x)}function En(L,x,S=!0){const X=()=>{};x.valueAccessor&&(x.valueAccessor.registerOnChange(X),x.valueAccessor.registerOnTouched(X)),Gr(L,x),L&&(x._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function Cn(L,x){L.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(x)})}function ur(L,x){const S=Un(L);null!==x.validator?L.setValidators(Ci(S,x.validator)):"function"==typeof S&&L.setValidators([S]);const X=Gn(L);null!==x.asyncValidator?L.setAsyncValidators(Ci(X,x.asyncValidator)):"function"==typeof X&&L.setAsyncValidators([X]);const Ie=()=>L.updateValueAndValidity();Cn(x._rawValidators,Ie),Cn(x._rawAsyncValidators,Ie)}function Gr(L,x){let S=!1;if(null!==L){if(null!==x.validator){const Ie=Un(L);if(Array.isArray(Ie)&&Ie.length>0){const Zt=Ie.filter(Nn=>Nn!==x.validator);Zt.length!==Ie.length&&(S=!0,L.setValidators(Zt))}}if(null!==x.asyncValidator){const Ie=Gn(L);if(Array.isArray(Ie)&&Ie.length>0){const Zt=Ie.filter(Nn=>Nn!==x.asyncValidator);Zt.length!==Ie.length&&(S=!0,L.setAsyncValidators(Zt))}}}const X=()=>{};return Cn(x._rawValidators,X),Cn(x._rawAsyncValidators,X),S}function ve(L,x){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),x.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function tn(L,x){if(!L.hasOwnProperty("model"))return!1;const S=L.model;return!!S.isFirstChange()||!Object.is(x,S.currentValue)}function Wn(L,x){if(!x)return null;let S,X,Ie;return Array.isArray(x),x.forEach(Zt=>{Zt.constructor===ge?S=Zt:function _r(L){return Object.getPrototypeOf(L.constructor)===Xe}(Zt)?X=Zt:Ie=Zt}),Ie||X||S||null}function Yi(L,x){const S=L.indexOf(x);S>-1&&L.splice(S,1)}function Fo(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}Promise.resolve();const Gi=class extends Eo{constructor(x=null,S,X){super(Sn(S),qn(X,S)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(x),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tn(S)&&(S.nonNullable||S.initialValueIsDefault)&&(this.defaultValue=Fo(x)?x.value:x)}setValue(x,S={}){this.value=this._pendingValue=x,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(X=>X(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(x,S={}){this.setValue(x,S)}reset(x=this.defaultValue,S={}){this._applyFormState(x),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(x){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(x){this._onChange.push(x)}_unregisterOnChange(x){Yi(this._onChange,x)}registerOnDisabledChange(x){this._onDisabledChange.push(x)}_unregisterOnDisabledChange(x){Yi(this._onDisabledChange,x)}_forEachChild(x){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(x){Fo(x)?(this.value=this._pendingValue=x.value,x.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=x}},Vi={provide:dr,useExisting:(0,d.Rfq)(()=>en)},hs=Promise.resolve();let en=(()=>{class L extends dr{constructor(S,X,Ie,Zt,Nn,kn){super(),this._changeDetectorRef=Nn,this.callSetDisabledState=kn,this.control=new Gi,this._registered=!1,this.name="",this.update=new d.bkB,this._parent=S,this._setValidators(X),this._setAsyncValidators(Ie),this.valueAccessor=Wn(0,Zt)}ngOnChanges(S){if(this._checkForErrors(),!this._registered||"name"in S){if(this._registered&&(this._checkName(),this.formDirective)){const X=S.name.previousValue;this.formDirective.removeControl({name:X,path:this._getPath(X)})}this._setUpControl()}"isDisabled"in S&&this._updateDisabled(S),tn(S,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(S){hs.then(()=>{this.control.setValue(S,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(S){const X=S.isDisabled.currentValue,Ie=0!==X&&(0,d.L39)(X);hs.then(()=>{Ie&&!this.control.disabled?this.control.disable():!Ie&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(S){return this._parent?jt(S,this._parent):[S]}static{this.\u0275fac=function(X){return new(X||L)(d.rXU($n,9),d.rXU(De,10),d.rXU(K,10),d.rXU(mt,10),d.rXU(d.gRc,8),d.rXU($e,8))}}static{this.\u0275dir=d.FsC({type:L,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d.Jv_([Vi]),d.Vt3,d.OA$]})}}return L})(),on=(()=>{class L{static{this.\u0275fac=function(X){return new(X||L)}}static{this.\u0275dir=d.FsC({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return L})();const Ji=new d.nKC(""),Na={provide:$n,useExisting:(0,d.Rfq)(()=>Qo)};let Qo=(()=>{class L extends $n{get submitted(){return(0,d.O8t)(this._submittedReactive)}set submitted(S){this._submittedReactive.set(S)}constructor(S,X,Ie){super(),this.callSetDisabledState=Ie,this._submitted=(0,d.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,d.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.bkB,this._setValidators(S),this._setAsyncValidators(X)}ngOnChanges(S){this._checkFormPresent(),S.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(S){const X=this.form.get(S.path);return pn(X,S,this.callSetDisabledState),X.updateValueAndValidity({emitEvent:!1}),this.directives.push(S),X}getControl(S){return this.form.get(S.path)}removeControl(S){En(S.control||null,S,!1),function Ln(L,x){const S=L.indexOf(x);S>-1&&L.splice(S,1)}(this.directives,S)}addFormGroup(S){this._setUpFormContainer(S)}removeFormGroup(S){this._cleanUpFormContainer(S)}getFormGroup(S){return this.form.get(S.path)}addFormArray(S){this._setUpFormContainer(S)}removeFormArray(S){this._cleanUpFormContainer(S)}getFormArray(S){return this.form.get(S.path)}updateModel(S,X){this.form.get(S.path).setValue(X)}onSubmit(S){return this._submittedReactive.set(!0),function Cr(L,x){L._syncPendingControls(),x.forEach(S=>{const X=S.control;"submit"===X.updateOn&&X._pendingChange&&(S.viewToModelUpdate(X._pendingValue),X._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(S),this.form._events.next(new Nt(this.control)),"dialog"===S?.target?.method}onReset(){this.resetForm()}resetForm(S=void 0){this.form.reset(S),this._submittedReactive.set(!1),this.form._events.next(new Xt(this.form))}_updateDomValue(){this.directives.forEach(S=>{const X=S.control,Ie=this.form.get(S.path);X!==Ie&&(En(X||null,S),(L=>L instanceof Gi)(Ie)&&(pn(Ie,S,this.callSetDisabledState),S.control=Ie))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(S){const X=this.form.get(S.path);(function Dt(L,x){ur(L,x)})(X,S),X.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(S){if(this.form){const X=this.form.get(S.path);X&&function Bt(L,x){return Gr(L,x)}(X,S)&&X.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ur(this.form,this),this._oldForm&&Gr(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(X){return new(X||L)(d.rXU(De,10),d.rXU(K,10),d.rXU($e,8))}}static{this.\u0275dir=d.FsC({type:L,selectors:[["","formGroup",""]],hostBindings:function(X,Ie){1&X&&d.bIt("submit",function(Nn){return Ie.onSubmit(Nn)})("reset",function(){return Ie.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([Na]),d.Vt3,d.OA$]})}}return L})();const Uo={provide:dr,useExisting:(0,d.Rfq)(()=>Mr)};let Mr=(()=>{class L extends dr{set isDisabled(S){}static{this._ngModelWarningSentOnce=!1}constructor(S,X,Ie,Zt,Nn){super(),this._ngModelWarningConfig=Nn,this._added=!1,this.name=null,this.update=new d.bkB,this._ngModelWarningSent=!1,this._parent=S,this._setValidators(X),this._setAsyncValidators(Ie),this.valueAccessor=Wn(0,Zt)}ngOnChanges(S){this._added||this._setUpControl(),tn(S,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}get path(){return jt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(X){return new(X||L)(d.rXU($n,13),d.rXU(De,10),d.rXU(K,10),d.rXU(mt,10),d.rXU(Ji,8))}}static{this.\u0275dir=d.FsC({type:L,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[d.Jv_([Uo]),d.Vt3,d.OA$]})}}return L})();const ln={provide:mt,useExisting:(0,d.Rfq)(()=>As),multi:!0};function To(L,x){return null==L?`${x}`:(x&&"object"==typeof x&&(x="Object"),`${L}: ${x}`.slice(0,50))}let As=(()=>{class L extends Xe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){this.value=S;const Ie=To(this._getOptionId(S),S);this.setProperty("value",Ie)}registerOnChange(S){this.onChange=X=>{this.value=this._getOptionValue(X),S(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(S){for(const X of this._optionMap.keys())if(this._compareWith(this._optionMap.get(X),S))return X;return null}_getOptionValue(S){const X=function On(L){return L.split(":")[0]}(S);return this._optionMap.has(X)?this._optionMap.get(X):S}static{this.\u0275fac=(()=>{let S;return function(Ie){return(S||(S=d.xGo(L)))(Ie||L)}})()}static{this.\u0275dir=d.FsC({type:L,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(X,Ie){1&X&&d.bIt("change",function(Nn){return Ie.onChange(Nn.target.value)})("blur",function(){return Ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[d.Jv_([ln]),d.Vt3]})}}return L})(),Ot=(()=>{class L{constructor(S,X,Ie){this._element=S,this._renderer=X,this._select=Ie,this._select&&(this.id=this._select._registerOption())}set ngValue(S){null!=this._select&&(this._select._optionMap.set(this.id,S),this._setElementValue(To(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._setElementValue(S),this._select&&this._select.writeValue(this._select.value)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(X){return new(X||L)(d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(As,9))}}static{this.\u0275dir=d.FsC({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return L})();const $t={provide:mt,useExisting:(0,d.Rfq)(()=>Cs),multi:!0};function ho(L,x){return null==L?`${x}`:("string"==typeof x&&(x=`'${x}'`),x&&"object"==typeof x&&(x="Object"),`${L}: ${x}`.slice(0,50))}let Cs=(()=>{class L extends Xe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){let X;if(this.value=S,Array.isArray(S)){const Ie=S.map(Zt=>this._getOptionId(Zt));X=(Zt,Nn)=>{Zt._setSelected(Ie.indexOf(Nn.toString())>-1)}}else X=(Ie,Zt)=>{Ie._setSelected(!1)};this._optionMap.forEach(X)}registerOnChange(S){this.onChange=X=>{const Ie=[],Zt=X.selectedOptions;if(void 0!==Zt){const Nn=Zt;for(let kn=0;kn<Nn.length;kn++){const Ki=this._getOptionValue(Nn[kn].value);Ie.push(Ki)}}else{const Nn=X.options;for(let kn=0;kn<Nn.length;kn++){const ms=Nn[kn];if(ms.selected){const Ki=this._getOptionValue(ms.value);Ie.push(Ki)}}}this.value=Ie,S(Ie)}}_registerOption(S){const X=(this._idCounter++).toString();return this._optionMap.set(X,S),X}_getOptionId(S){for(const X of this._optionMap.keys())if(this._compareWith(this._optionMap.get(X)._value,S))return X;return null}_getOptionValue(S){const X=function fs(L){return L.split(":")[0]}(S);return this._optionMap.has(X)?this._optionMap.get(X)._value:S}static{this.\u0275fac=(()=>{let S;return function(Ie){return(S||(S=d.xGo(L)))(Ie||L)}})()}static{this.\u0275dir=d.FsC({type:L,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(X,Ie){1&X&&d.bIt("change",function(Nn){return Ie.onChange(Nn.target)})("blur",function(){return Ie.onTouched()})},inputs:{compareWith:"compareWith"},features:[d.Jv_([$t]),d.Vt3]})}}return L})(),fo=(()=>{class L{constructor(S,X,Ie){this._element=S,this._renderer=X,this._select=Ie,this._select&&(this.id=this._select._registerOption(this))}set ngValue(S){null!=this._select&&(this._value=S,this._setElementValue(ho(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._select?(this._value=S,this._setElementValue(ho(this.id,S)),this._select.writeValue(this._select.value)):this._setElementValue(S)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}_setSelected(S){this._renderer.setProperty(this._element.nativeElement,"selected",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(X){return new(X||L)(d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(Cs,9))}}static{this.\u0275dir=d.FsC({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return L})(),nu=(()=>{class L{static{this.\u0275fac=function(X){return new(X||L)}}static{this.\u0275mod=d.$C({type:L})}static{this.\u0275inj=d.G2t({})}}return L})();class po extends Eo{constructor(x,S,X){super(Sn(S),qn(X,S)),this.controls=x,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(x){return this.controls[this._adjustIndex(x)]}push(x,S={}){this.controls.push(x),this._registerControl(x),this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}insert(x,S,X={}){this.controls.splice(x,0,S),this._registerControl(S),this.updateValueAndValidity({emitEvent:X.emitEvent})}removeAt(x,S={}){let X=this._adjustIndex(x);X<0&&(X=0),this.controls[X]&&this.controls[X]._registerOnCollectionChange(()=>{}),this.controls.splice(X,1),this.updateValueAndValidity({emitEvent:S.emitEvent})}setControl(x,S,X={}){let Ie=this._adjustIndex(x);Ie<0&&(Ie=0),this.controls[Ie]&&this.controls[Ie]._registerOnCollectionChange(()=>{}),this.controls.splice(Ie,1),S&&(this.controls.splice(Ie,0,S),this._registerControl(S)),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(x,S={}){ro(this,0,x),x.forEach((X,Ie)=>{nr(this,!1,Ie),this.at(Ie).setValue(X,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(x,S={}){null!=x&&(x.forEach((X,Ie)=>{this.at(Ie)&&this.at(Ie).patchValue(X,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(x=[],S={}){this._forEachChild((X,Ie)=>{X.reset(x[Ie],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S,this),this._updateTouched(S,this),this.updateValueAndValidity(S)}getRawValue(){return this.controls.map(x=>x.getRawValue())}clear(x={}){this.controls.length<1||(this._forEachChild(S=>S._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:x.emitEvent}))}_adjustIndex(x){return x<0?x+this.length:x}_syncPendingControls(){let x=this.controls.reduce((S,X)=>!!X._syncPendingControls()||S,!1);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){this.controls.forEach((S,X)=>{x(S,X)})}_updateValue(){this.value=this.controls.filter(x=>x.enabled||this.disabled).map(x=>x.value)}_anyControls(x){return this.controls.some(S=>S.enabled&&x(S))}_setUpControls(){this._forEachChild(x=>this._registerControl(x))}_allControlsDisabled(){for(const x of this.controls)if(x.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(x){x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)}_find(x){return this.at(x)??null}}function hr(L){return!!L&&(void 0!==L.asyncValidators||void 0!==L.validators||void 0!==L.updateOn)}let Oi=(()=>{class L{constructor(){this.useNonNullable=!1}get nonNullable(){const S=new L;return S.useNonNullable=!0,S}group(S,X=null){const Ie=this._reduceControls(S);let Zt={};return hr(X)?Zt=X:null!==X&&(Zt.validators=X.validator,Zt.asyncValidators=X.asyncValidator),new Ni(Ie,Zt)}record(S,X=null){const Ie=this._reduceControls(S);return new lo(Ie,X)}control(S,X,Ie){let Zt={};return this.useNonNullable?(hr(X)?Zt=X:(Zt.validators=X,Zt.asyncValidators=Ie),new Gi(S,{...Zt,nonNullable:!0})):new Gi(S,X,Ie)}array(S,X,Ie){const Zt=S.map(Nn=>this._createControl(Nn));return new po(Zt,X,Ie)}_reduceControls(S){const X={};return Object.keys(S).forEach(Ie=>{X[Ie]=this._createControl(S[Ie])}),X}_createControl(S){return S instanceof Gi||S instanceof Eo?S:Array.isArray(S)?this.control(S[0],S.length>1?S[1]:null,S.length>2?S[2]:null):this.control(S)}static{this.\u0275fac=function(X){return new(X||L)}}static{this.\u0275prov=d.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})(),Tu=(()=>{class L{static withConfig(S){return{ngModule:L,providers:[{provide:$e,useValue:S.callSetDisabledState??Et}]}}static{this.\u0275fac=function(X){return new(X||L)}}static{this.\u0275mod=d.$C({type:L})}static{this.\u0275inj=d.G2t({imports:[nu]})}}return L})(),aa=(()=>{class L{static withConfig(S){return{ngModule:L,providers:[{provide:Ji,useValue:S.warnOnNgModelWithFormControl??"always"},{provide:$e,useValue:S.callSetDisabledState??Et}]}}static{this.\u0275fac=function(X){return new(X||L)}}static{this.\u0275mod=d.$C({type:L})}static{this.\u0275inj=d.G2t({imports:[nu]})}}return L})()},345:(Kt,nt,O)=>{O.d(nt,{B8:()=>lt,Bb:()=>lr,hE:()=>yi});var d=O(177),z=O(3953);class F extends d.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ae extends F{static makeCurrent(){(0,d.ZD)(new ae)}onAndCancel(it,he,xe){return it.addEventListener(he,xe),()=>{it.removeEventListener(he,xe)}}dispatchEvent(it,he){it.dispatchEvent(he)}remove(it){it.remove()}createElement(it,he){return(he=he||this.getDefaultDocument()).createElement(it)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(it){return it.nodeType===Node.ELEMENT_NODE}isShadowRoot(it){return it instanceof DocumentFragment}getGlobalEventTarget(it,he){return"window"===he?window:"document"===he?it:"body"===he?it.body:null}getBaseHref(it){const he=function pe(){return ie=ie||document.querySelector("base"),ie?ie.getAttribute("href"):null}();return null==he?null:function Qe(ht){return new URL(ht,document.baseURI).pathname}(he)}resetBaseElement(){ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(it){return(0,d._b)(document.cookie,it)}}let ie=null,je=(()=>{class ht{build(){return new XMLHttpRequest}static{this.\u0275fac=function(xe){return new(xe||ht)}}static{this.\u0275prov=z.jDH({token:ht,factory:ht.\u0275fac})}}return ht})();const J=new z.nKC("");let ee=(()=>{class ht{constructor(he,xe){this._zone=xe,this._eventNameToPlugin=new Map,he.forEach(ne=>{ne.manager=this}),this._plugins=he.slice().reverse()}addEventListener(he,xe,ne){return this._findPluginFor(xe).addEventListener(he,xe,ne)}getZone(){return this._zone}_findPluginFor(he){let xe=this._eventNameToPlugin.get(he);if(xe)return xe;if(xe=this._plugins.find(H=>H.supports(he)),!xe)throw new z.wOt(5101,!1);return this._eventNameToPlugin.set(he,xe),xe}static{this.\u0275fac=function(xe){return new(xe||ht)(z.KVO(J),z.KVO(z.SKi))}}static{this.\u0275prov=z.jDH({token:ht,factory:ht.\u0275fac})}}return ht})();class me{constructor(it){this._doc=it}}const Ge="ng-app-id";let Ve=(()=>{class ht{constructor(he,xe,ne,H={}){this.doc=he,this.appId=xe,this.nonce=ne,this.platformId=H,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,d.Vy)(H),this.resetHostNodes()}addStyles(he){for(const xe of he)1===this.changeUsageCount(xe,1)&&this.onStyleAdded(xe)}removeStyles(he){for(const xe of he)this.changeUsageCount(xe,-1)<=0&&this.onStyleRemoved(xe)}ngOnDestroy(){const he=this.styleNodesInDOM;he&&(he.forEach(xe=>xe.remove()),he.clear());for(const xe of this.getAllStyles())this.onStyleRemoved(xe);this.resetHostNodes()}addHost(he){this.hostNodes.add(he);for(const xe of this.getAllStyles())this.addStyleToHost(he,xe)}removeHost(he){this.hostNodes.delete(he)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(he){for(const xe of this.hostNodes)this.addStyleToHost(xe,he)}onStyleRemoved(he){const xe=this.styleRef;xe.get(he)?.elements?.forEach(ne=>ne.remove()),xe.delete(he)}collectServerRenderedStyles(){const he=this.doc.head?.querySelectorAll(`style[${Ge}="${this.appId}"]`);if(he?.length){const xe=new Map;return he.forEach(ne=>{null!=ne.textContent&&xe.set(ne.textContent,ne)}),xe}return null}changeUsageCount(he,xe){const ne=this.styleRef;if(ne.has(he)){const H=ne.get(he);return H.usage+=xe,H.usage}return ne.set(he,{usage:xe,elements:[]}),xe}getStyleElement(he,xe){const ne=this.styleNodesInDOM,H=ne?.get(xe);if(H?.parentNode===he)return ne.delete(xe),H.removeAttribute(Ge),H;{const G=this.doc.createElement("style");return this.nonce&&G.setAttribute("nonce",this.nonce),G.textContent=xe,this.platformIsServer&&G.setAttribute(Ge,this.appId),he.appendChild(G),G}}addStyleToHost(he,xe){const ne=this.getStyleElement(he,xe),H=this.styleRef,G=H.get(xe)?.elements;G?G.push(ne):H.set(xe,{elements:[ne],usage:1})}resetHostNodes(){const he=this.hostNodes;he.clear(),he.add(this.doc.head)}static{this.\u0275fac=function(xe){return new(xe||ht)(z.KVO(d.qQ),z.KVO(z.sZ2),z.KVO(z.BIS,8),z.KVO(z.Agw))}}static{this.\u0275prov=z.jDH({token:ht,factory:ht.\u0275fac})}}return ht})();const Xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},mt=/%COMP%/g,Ae=new z.nKC("",{providedIn:"root",factory:()=>!0});function Te(ht,it){return it.map(he=>he.replace(mt,ht))}let De=(()=>{class ht{constructor(he,xe,ne,H,G,Y,le,et=null){this.eventManager=he,this.sharedStylesHost=xe,this.appId=ne,this.removeStylesOnCompDestroy=H,this.doc=G,this.platformId=Y,this.ngZone=le,this.nonce=et,this.rendererByCompId=new Map,this.platformIsServer=(0,d.Vy)(Y),this.defaultRenderer=new K(he,G,le,this.platformIsServer)}createRenderer(he,xe){if(!he||!xe)return this.defaultRenderer;this.platformIsServer&&xe.encapsulation===z.gXe.ShadowDom&&(xe={...xe,encapsulation:z.gXe.Emulated});const ne=this.getOrCreateRenderer(he,xe);return ne instanceof sr?ne.applyToHost(he):ne instanceof hn&&ne.applyStyles(),ne}getOrCreateRenderer(he,xe){const ne=this.rendererByCompId;let H=ne.get(xe.id);if(!H){const G=this.doc,Y=this.ngZone,le=this.eventManager,et=this.sharedStylesHost,Nt=this.removeStylesOnCompDestroy,Xt=this.platformIsServer;switch(xe.encapsulation){case z.gXe.Emulated:H=new sr(le,et,xe,this.appId,Nt,G,Y,Xt);break;case z.gXe.ShadowDom:return new bn(le,et,he,xe,G,Y,this.nonce,Xt);default:H=new hn(le,et,xe,Nt,G,Y,Xt)}ne.set(xe.id,H)}return H}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(xe){return new(xe||ht)(z.KVO(ee),z.KVO(Ve),z.KVO(z.sZ2),z.KVO(Ae),z.KVO(d.qQ),z.KVO(z.Agw),z.KVO(z.SKi),z.KVO(z.BIS))}}static{this.\u0275prov=z.jDH({token:ht,factory:ht.\u0275fac})}}return ht})();class K{constructor(it,he,xe,ne){this.eventManager=it,this.doc=he,this.ngZone=xe,this.platformIsServer=ne,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(it,he){return he?this.doc.createElementNS(Xe[he]||he,it):this.doc.createElement(it)}createComment(it){return this.doc.createComment(it)}createText(it){return this.doc.createTextNode(it)}appendChild(it,he){(ot(it)?it.content:it).appendChild(he)}insertBefore(it,he,xe){it&&(ot(it)?it.content:it).insertBefore(he,xe)}removeChild(it,he){he.remove()}selectRootElement(it,he){let xe="string"==typeof it?this.doc.querySelector(it):it;if(!xe)throw new z.wOt(-5104,!1);return he||(xe.textContent=""),xe}parentNode(it){return it.parentNode}nextSibling(it){return it.nextSibling}setAttribute(it,he,xe,ne){if(ne){he=ne+":"+he;const H=Xe[ne];H?it.setAttributeNS(H,he,xe):it.setAttribute(he,xe)}else it.setAttribute(he,xe)}removeAttribute(it,he,xe){if(xe){const ne=Xe[xe];ne?it.removeAttributeNS(ne,he):it.removeAttribute(`${xe}:${he}`)}else it.removeAttribute(he)}addClass(it,he){it.classList.add(he)}removeClass(it,he){it.classList.remove(he)}setStyle(it,he,xe,ne){ne&(z.czy.DashCase|z.czy.Important)?it.style.setProperty(he,xe,ne&z.czy.Important?"important":""):it.style[he]=xe}removeStyle(it,he,xe){xe&z.czy.DashCase?it.style.removeProperty(he):it.style[he]=""}setProperty(it,he,xe){null!=it&&(it[he]=xe)}setValue(it,he){it.nodeValue=he}listen(it,he,xe){if("string"==typeof it&&!(it=(0,d.QT)().getGlobalEventTarget(this.doc,it)))throw new Error(`Unsupported event target ${it} for event ${he}`);return this.eventManager.addEventListener(it,he,this.decoratePreventDefault(xe))}decoratePreventDefault(it){return he=>{if("__ngUnwrap__"===he)return it;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>it(he)):it(he))&&he.preventDefault()}}}function ot(ht){return"TEMPLATE"===ht.tagName&&void 0!==ht.content}class bn extends K{constructor(it,he,xe,ne,H,G,Y,le){super(it,H,G,le),this.sharedStylesHost=he,this.hostEl=xe,this.shadowRoot=xe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const et=Te(ne.id,ne.styles);for(const Nt of et){const Xt=document.createElement("style");Y&&Xt.setAttribute("nonce",Y),Xt.textContent=Nt,this.shadowRoot.appendChild(Xt)}}nodeOrShadowRoot(it){return it===this.hostEl?this.shadowRoot:it}appendChild(it,he){return super.appendChild(this.nodeOrShadowRoot(it),he)}insertBefore(it,he,xe){return super.insertBefore(this.nodeOrShadowRoot(it),he,xe)}removeChild(it,he){return super.removeChild(null,he)}parentNode(it){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(it)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class hn extends K{constructor(it,he,xe,ne,H,G,Y,le){super(it,H,G,Y),this.sharedStylesHost=he,this.removeStylesOnCompDestroy=ne,this.styles=le?Te(le,xe.styles):xe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class sr extends hn{constructor(it,he,xe,ne,H,G,Y,le){const et=ne+"-"+xe.id;super(it,he,xe,H,G,Y,le,et),this.contentAttr=function ge(ht){return"_ngcontent-%COMP%".replace(mt,ht)}(et),this.hostAttr=function Se(ht){return"_nghost-%COMP%".replace(mt,ht)}(et)}applyToHost(it){this.applyStyles(),this.setAttribute(it,this.hostAttr,"")}createElement(it,he){const xe=super.createElement(it,he);return super.setAttribute(xe,this.contentAttr,""),xe}}let Kn=(()=>{class ht extends me{constructor(he){super(he)}supports(he){return!0}addEventListener(he,xe,ne){return he.addEventListener(xe,ne,!1),()=>this.removeEventListener(he,xe,ne)}removeEventListener(he,xe,ne){return he.removeEventListener(xe,ne)}static{this.\u0275fac=function(xe){return new(xe||ht)(z.KVO(d.qQ))}}static{this.\u0275prov=z.jDH({token:ht,factory:ht.\u0275fac})}}return ht})(),kr=(()=>{class ht extends me{constructor(he){super(he),this.delegate=(0,z.WQX)(z.zAP,{optional:!0})}supports(he){return!!this.delegate&&this.delegate.supports(he)}addEventListener(he,xe,ne){return this.delegate.addEventListener(he,xe,ne)}removeEventListener(he,xe,ne){return this.delegate.removeEventListener(he,xe,ne)}static{this.\u0275fac=function(xe){return new(xe||ht)(z.KVO(d.qQ))}}static{this.\u0275prov=z.jDH({token:ht,factory:ht.\u0275fac})}}return ht})();const ar=["alt","control","meta","shift"],qe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},at={alt:ht=>ht.altKey,control:ht=>ht.ctrlKey,meta:ht=>ht.metaKey,shift:ht=>ht.shiftKey};let yt=(()=>{class ht extends me{constructor(he){super(he)}supports(he){return null!=ht.parseEventName(he)}addEventListener(he,xe,ne){const H=ht.parseEventName(xe),G=ht.eventCallback(H.fullKey,ne,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.QT)().onAndCancel(he,H.domEventName,G))}static parseEventName(he){const xe=he.toLowerCase().split("."),ne=xe.shift();if(0===xe.length||"keydown"!==ne&&"keyup"!==ne)return null;const H=ht._normalizeKey(xe.pop());let G="",Y=xe.indexOf("code");if(Y>-1&&(xe.splice(Y,1),G="code."),ar.forEach(et=>{const Nt=xe.indexOf(et);Nt>-1&&(xe.splice(Nt,1),G+=et+".")}),G+=H,0!=xe.length||0===H.length)return null;const le={};return le.domEventName=ne,le.fullKey=G,le}static matchEventFullKeyCode(he,xe){let ne=qe[he.key]||he.key,H="";return xe.indexOf("code.")>-1&&(ne=he.code,H="code."),!(null==ne||!ne)&&(ne=ne.toLowerCase()," "===ne?ne="space":"."===ne&&(ne="dot"),ar.forEach(G=>{G!==ne&&(0,at[G])(he)&&(H+=G+".")}),H+=ne,H===xe)}static eventCallback(he,xe,ne){return H=>{ht.matchEventFullKeyCode(H,he)&&ne.runGuarded(()=>xe(H))}}static _normalizeKey(he){return"esc"===he?"escape":he}static{this.\u0275fac=function(xe){return new(xe||ht)(z.KVO(d.qQ))}}static{this.\u0275prov=z.jDH({token:ht,factory:ht.\u0275fac})}}return ht})();function lt(ht,it){return(0,z.TL3)({rootComponent:ht,...Oe(it)})}function Oe(ht){return{appProviders:[...Gn,...ht?.providers??[]],platformProviders:Hn}}const Hn=[{provide:z.Agw,useValue:d.AJ},{provide:z.PLl,useValue:function _e(){ae.makeCurrent()},multi:!0},{provide:d.qQ,useFactory:function Ue(){return(0,z.TL$)(document),document},deps:[]}],Ci=new z.nKC(""),Un=[{provide:z.e01,useClass:class Ye{addToWindow(it){z.JZv.getAngularTestability=(xe,ne=!0)=>{const H=it.findTestabilityInTree(xe,ne);if(null==H)throw new z.wOt(5103,!1);return H},z.JZv.getAllAngularTestabilities=()=>it.getAllTestabilities(),z.JZv.getAllAngularRootElements=()=>it.getAllRootElements(),z.JZv.frameworkStabilizers||(z.JZv.frameworkStabilizers=[]),z.JZv.frameworkStabilizers.push(xe=>{const ne=z.JZv.getAllAngularTestabilities();let H=ne.length;const G=function(){H--,0==H&&xe()};ne.forEach(Y=>{Y.whenStable(G)})})}findTestabilityInTree(it,he,xe){return null==he?null:it.getTestability(he)??(xe?(0,d.QT)().isShadowRoot(he)?this.findTestabilityInTree(it,he.host,!0):this.findTestabilityInTree(it,he.parentElement,!0):null)}},deps:[]},{provide:z.WHO,useClass:z.NYb,deps:[z.SKi,z.giA,z.e01]},{provide:z.NYb,useClass:z.NYb,deps:[z.SKi,z.giA,z.e01]}],Gn=[{provide:z.H8p,useValue:"root"},{provide:z.zcH,useFactory:function Re(){return new z.zcH},deps:[]},{provide:J,useClass:Kn,multi:!0,deps:[d.qQ,z.SKi,z.Agw]},{provide:J,useClass:yt,multi:!0,deps:[d.qQ]},{provide:J,useClass:kr,multi:!0},De,Ve,ee,{provide:z._9s,useExisting:De},{provide:d.N0,useClass:je,deps:[]},[]];let lr=(()=>{class ht{constructor(he){}static withServerTransition(he){return{ngModule:ht,providers:[{provide:z.sZ2,useValue:he.appId}]}}static{this.\u0275fac=function(xe){return new(xe||ht)(z.KVO(Ci,12))}}static{this.\u0275mod=z.$C({type:ht})}static{this.\u0275inj=z.G2t({providers:[...Gn,...Un],imports:[d.MD,z.Hbi]})}}return ht})(),yi=(()=>{class ht{constructor(he){this._doc=he}getTitle(){return this._doc.title}setTitle(he){this._doc.title=he||""}static{this.\u0275fac=function(xe){return new(xe||ht)(z.KVO(d.qQ))}}static{this.\u0275prov=z.jDH({token:ht,factory:ht.\u0275fac,providedIn:"root"})}}return ht})()},6814:(Kt,nt,O)=>{O.d(nt,{nX:()=>To,wF:()=>Wn,Ix:()=>mo,Wk:()=>Js,n3:()=>fo,lh:()=>Sc,Ii:()=>ha});var d=O(3953),z=O(1985),F=O(8071),ie=O(8455),pe=O(7673),Qe=O(4412),Ye=O(9350),je=O(3073),J=O(3669),ee=O(6450),me=O(3794),Ge=O(8496),Ve=O(4360),Xe=O(5225);function mt(...E){const D=(0,me.lI)(E),T=(0,me.ms)(E),{args:R,keys:V}=(0,je.D)(E);if(0===R.length)return(0,ie.H)([],D);const q=new z.c(function st(E,D,T=J.D){return R=>{Fe(D,()=>{const{length:V}=E,q=new Array(V);let de=V,tt=V;for(let Be=0;Be<V;Be++)Fe(D,()=>{const Ft=(0,ie.H)(E[Be],D);let Ut=!1;Ft.subscribe((0,Ve._)(R,Mn=>{q[Be]=Mn,Ut||(Ut=!0,tt--),tt||R.next(T(q.slice()))},()=>{--de||R.complete()}))},R)},R)}}(R,D,V?de=>(0,Ge.e)(V,de):J.D));return T?q.pipe((0,ee.I)(T)):q}function Fe(E,D,T){E?(0,Xe.N)(T,E,D):D()}var Tt=O(8793),Pe=O(8750);function Ae(E){return new z.c(D=>{(0,Pe.Tg)(E()).subscribe(D)})}var ge=O(1203),Se=O(8810),Te=O(983),De=O(8359),K=O(9974);function ce(){return(0,K.N)((E,D)=>{let T=null;E._refCount++;const R=(0,Ve._)(D,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(T=null);const V=E._connection,q=T;T=null,V&&(!q||V===q)&&V.unsubscribe(),D.unsubscribe()});E.subscribe(R),R.closed||(T=E.connect())})}class vt extends z.c{constructor(D,T){super(),this.source=D,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,(0,K.S)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new De.yU;const T=this.getSubject();D.add(this.source.subscribe((0,Ve._)(T,void 0,()=>{this._teardown(),T.complete()},R=>{this._teardown(),T.error(R)},()=>this._teardown()))),D.closed&&(this._connection=null,D=De.yU.EMPTY)}return D}refCount(){return ce()(this)}}var ot=O(1413),bn=O(177),hn=O(6354),sr=O(5558),Kn=O(6697),kr=O(9172),ar=O(5964),qe=O(1397),at=O(1594),yt=O(274),lt=O(8141),ke=O(9437),Oe=O(2816),se=O(9901);function _e(E){return E<=0?()=>Te.w:(0,K.N)((D,T)=>{let R=[];D.subscribe((0,Ve._)(T,V=>{R.push(V),E<R.length&&R.shift()},()=>{for(const V of R)T.next(V);T.complete()},void 0,()=>{R=null}))})}var Re=O(3774),Zn=O(980),Ci=O(5343);O(6365);var lr=O(345);const zt="primary",Fr=Symbol("RouteTitle");class yi{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const T=this.params[D];return Array.isArray(T)?T[0]:T}return null}getAll(D){if(this.has(D)){const T=this.params[D];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function ui(E){return new yi(E)}function $n(E,D,T){const R=T.path.split("/");if(R.length>E.length||"full"===T.pathMatch&&(D.hasChildren()||R.length<E.length))return null;const V={};for(let q=0;q<R.length;q++){const de=R[q],tt=E[q];if(":"===de[0])V[de.substring(1)]=tt;else if(de!==tt.path)return null}return{consumed:E.slice(0,R.length),posParams:V}}function gr(E,D){const T=E?uo(E):void 0,R=D?uo(D):void 0;if(!T||!R||T.length!=R.length)return!1;let V;for(let q=0;q<T.length;q++)if(V=T[q],!Ur(E[V],D[V]))return!1;return!0}function uo(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}function Ur(E,D){if(Array.isArray(E)&&Array.isArray(D)){if(E.length!==D.length)return!1;const T=[...E].sort(),R=[...D].sort();return T.every((V,q)=>R[q]===V)}return E===D}function wn(E){return E.length>0?E[E.length-1]:null}function Mt(E){return function ae(E){return!!E&&(E instanceof z.c||(0,F.T)(E.lift)&&(0,F.T)(E.subscribe))}(E)?E:(0,d.jNT)(E)?(0,ie.H)(Promise.resolve(E)):(0,pe.of)(E)}const Br={exact:function yr(E,D,T){if(!$r(E.segments,D.segments)||!sn(E.segments,D.segments,T)||E.numberOfChildren!==D.numberOfChildren)return!1;for(const R in D.children)if(!E.children[R]||!yr(E.children[R],D.children[R],T))return!1;return!0},subset:tr},jr={exact:function mr(E,D){return gr(E,D)},subset:function _o(E,D){return Object.keys(D).length<=Object.keys(E).length&&Object.keys(D).every(T=>Ur(E[T],D[T]))},ignored:()=>!0};function Rr(E,D,T){return Br[T.paths](E.root,D.root,T.matrixParams)&&jr[T.queryParams](E.queryParams,D.queryParams)&&!("exact"===T.fragment&&E.fragment!==D.fragment)}function tr(E,D,T){return Di(E,D,D.segments,T)}function Di(E,D,T,R){if(E.segments.length>T.length){const V=E.segments.slice(0,T.length);return!(!$r(V,T)||D.hasChildren()||!sn(V,T,R))}if(E.segments.length===T.length){if(!$r(E.segments,T)||!sn(E.segments,T,R))return!1;for(const V in D.children)if(!E.children[V]||!tr(E.children[V],D.children[V],R))return!1;return!0}{const V=T.slice(0,E.segments.length),q=T.slice(E.segments.length);return!!($r(E.segments,V)&&sn(E.segments,V,R)&&E.children[zt])&&Di(E.children[zt],D,q,R)}}function sn(E,D,T){return D.every((R,V)=>jr[T](E[V].parameters,R.parameters))}class xn{constructor(D=new Bn([],{}),T={},R=null){this.root=D,this.queryParams=T,this.fragment=R}get queryParamMap(){return this._queryParamMap??=ui(this.queryParams),this._queryParamMap}toString(){return ht.serialize(this)}}class Bn{constructor(D,T){this.segments=D,this.children=T,this.parent=null,Object.values(T).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return it(this)}}class Yr{constructor(D,T){this.path=D,this.parameters=T}get parameterMap(){return this._parameterMap??=ui(this.parameters),this._parameterMap}toString(){return et(this)}}function $r(E,D){return E.length===D.length&&E.every((T,R)=>T.path===D[R].path)}let Hr=(()=>{class E{static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275prov=d.jDH({token:E,factory:()=>new ci,providedIn:"root"})}}return E})();class ci{parse(D){const T=new Ni(D);return new xn(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(D){const T=`/${he(D.root,!0)}`,R=function Xt(E){const D=Object.entries(E).map(([T,R])=>Array.isArray(R)?R.map(V=>`${ne(T)}=${ne(V)}`).join("&"):`${ne(T)}=${ne(R)}`).filter(T=>T);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${T}${R}${"string"==typeof D.fragment?`#${function H(E){return encodeURI(E)}(D.fragment)}`:""}`}}const ht=new ci;function it(E){return E.segments.map(D=>et(D)).join("/")}function he(E,D){if(!E.hasChildren())return it(E);if(D){const T=E.children[zt]?he(E.children[zt],!1):"",R=[];return Object.entries(E.children).forEach(([V,q])=>{V!==zt&&R.push(`${V}:${he(q,!1)}`)}),R.length>0?`${T}(${R.join("//")})`:T}{const T=function vi(E,D){let T=[];return Object.entries(E.children).forEach(([R,V])=>{R===zt&&(T=T.concat(D(V,R)))}),Object.entries(E.children).forEach(([R,V])=>{R!==zt&&(T=T.concat(D(V,R)))}),T}(E,(R,V)=>V===zt?[he(E.children[zt],!1)]:[`${V}:${he(R,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[zt]?`${it(E)}/${T[0]}`:`${it(E)}/(${T.join("//")})`}}function xe(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ne(E){return xe(E).replace(/%3B/gi,";")}function G(E){return xe(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Y(E){return decodeURIComponent(E)}function le(E){return Y(E.replace(/\+/g,"%20"))}function et(E){return`${G(E.path)}${function Nt(E){return Object.entries(E).map(([D,T])=>`;${G(D)}=${G(T)}`).join("")}(E.parameters)}`}const Sn=/^[^\/()?;#]+/;function Pn(E){const D=E.match(Sn);return D?D[0]:""}const qn=/^[^\/()?;=#]+/,Tn=/^[^=?&#]+/,ro=/^[^&#]+/;class Ni{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bn([],{}):new Bn([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(D.length>0||Object.keys(T).length>0)&&(R[zt]=new Bn(D,T)),R}parseSegment(){const D=Pn(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new d.wOt(4009,!1);return this.capture(D),new Yr(Y(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const T=function An(E){const D=E.match(qn);return D?D[0]:""}(this.remaining);if(!T)return;this.capture(T);let R="";if(this.consumeOptional("=")){const V=Pn(this.remaining);V&&(R=V,this.capture(R))}D[Y(T)]=Y(R)}parseQueryParam(D){const T=function nr(E){const D=E.match(Tn);return D?D[0]:""}(this.remaining);if(!T)return;this.capture(T);let R="";if(this.consumeOptional("=")){const de=function Eo(E){const D=E.match(ro);return D?D[0]:""}(this.remaining);de&&(R=de,this.capture(R))}const V=le(T),q=le(R);if(D.hasOwnProperty(V)){let de=D[V];Array.isArray(de)||(de=[de],D[V]=de),de.push(q)}else D[V]=q}parseParens(D){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=Pn(this.remaining),V=this.remaining[R.length];if("/"!==V&&")"!==V&&";"!==V)throw new d.wOt(4010,!1);let q;R.indexOf(":")>-1?(q=R.slice(0,R.indexOf(":")),this.capture(q),this.capture(":")):D&&(q=zt);const de=this.parseChildren();T[q]=1===Object.keys(de).length?de[zt]:new Bn([],de),this.consumeOptional("//")}return T}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new d.wOt(4011,!1)}}function Lo(E){return E.segments.length>0?new Bn([],{[zt]:E}):E}function ko(E){const D={};for(const[R,V]of Object.entries(E.children)){const q=ko(V);if(R===zt&&0===q.segments.length&&q.hasChildren())for(const[de,tt]of Object.entries(q.children))D[de]=tt;else(q.segments.length>0||q.hasChildren())&&(D[R]=q)}return function co(E){if(1===E.numberOfChildren&&E.children[zt]){const D=E.children[zt];return new Bn(E.segments.concat(D.segments),D.children)}return E}(new Bn(E.segments,D))}function lo(E){return E instanceof xn}function $e(E){let D;const V=Lo(function T(q){const de={};for(const Be of q.children){const Ft=T(Be);de[Be.outlet]=Ft}const tt=new Bn(q.url,de);return q===E&&(D=tt),tt}(E.root));return D??V}function Et(E,D,T,R){let V=E;for(;V.parent;)V=V.parent;if(0===D.length)return En(V,V,V,T,R);const q=function ur(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new Yn(!0,0,E);let D=0,T=!1;const R=E.reduce((V,q,de)=>{if("object"==typeof q&&null!=q){if(q.outlets){const tt={};return Object.entries(q.outlets).forEach(([Be,Ft])=>{tt[Be]="string"==typeof Ft?Ft.split("/"):Ft}),[...V,{outlets:tt}]}if(q.segmentPath)return[...V,q.segmentPath]}return"string"!=typeof q?[...V,q]:0===de?(q.split("/").forEach((tt,Be)=>{0==Be&&"."===tt||(0==Be&&""===tt?T=!0:".."===tt?D++:""!=tt&&V.push(tt))}),V):[...V,q]},[]);return new Yn(T,D,R)}(D);if(q.toRoot())return En(V,V,new Bn([],{}),T,R);const de=function te(E,D,T){if(E.isAbsolute)return new Gr(D,!0,0);if(!T)return new Gr(D,!1,NaN);if(null===T.parent)return new Gr(T,!0,0);const R=jt(E.commands[0])?0:1;return function we(E,D,T){let R=E,V=D,q=T;for(;q>V;){if(q-=V,R=R.parent,!R)throw new d.wOt(4005,!1);V=R.segments.length}return new Gr(R,!1,V-q)}(T,T.segments.length-1+R,E.numberOfDoubleDots)}(q,V,E),tt=de.processChildren?Dt(de.segmentGroup,de.index,q.commands):gt(de.segmentGroup,de.index,q.commands);return En(V,de.segmentGroup,tt,T,R)}function jt(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function pn(E){return"object"==typeof E&&null!=E&&E.outlets}function En(E,D,T,R,V){let de,q={};R&&Object.entries(R).forEach(([Be,Ft])=>{q[Be]=Array.isArray(Ft)?Ft.map(Ut=>`${Ut}`):`${Ft}`}),de=E===D?T:Cn(E,D,T);const tt=Lo(ko(de));return new xn(tt,q,V)}function Cn(E,D,T){const R={};return Object.entries(E.children).forEach(([V,q])=>{R[V]=q===D?T:Cn(q,D,T)}),new Bn(E.segments,R)}class Yn{constructor(D,T,R){if(this.isAbsolute=D,this.numberOfDoubleDots=T,this.commands=R,D&&R.length>0&&jt(R[0]))throw new d.wOt(4003,!1);const V=R.find(pn);if(V&&V!==wn(R))throw new d.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gr{constructor(D,T,R){this.segmentGroup=D,this.processChildren=T,this.index=R}}function gt(E,D,T){if(E??=new Bn([],{}),0===E.segments.length&&E.hasChildren())return Dt(E,D,T);const R=function Bt(E,D,T){let R=0,V=D;const q={match:!1,pathIndex:0,commandIndex:0};for(;V<E.segments.length;){if(R>=T.length)return q;const de=E.segments[V],tt=T[R];if(pn(tt))break;const Be=`${tt}`,Ft=R<T.length-1?T[R+1]:null;if(V>0&&void 0===Be)break;if(Be&&Ft&&"object"==typeof Ft&&void 0===Ft.outlets){if(!vr(Be,Ft,de))return q;R+=2}else{if(!vr(Be,{},de))return q;R++}V++}return{match:!0,pathIndex:V,commandIndex:R}}(E,D,T),V=T.slice(R.commandIndex);if(R.match&&R.pathIndex<E.segments.length){const q=new Bn(E.segments.slice(0,R.pathIndex),{});return q.children[zt]=new Bn(E.segments.slice(R.pathIndex),E.children),Dt(q,0,V)}return R.match&&0===V.length?new Bn(E.segments,{}):R.match&&!E.hasChildren()?Wt(E,D,T):R.match?Dt(E,0,V):Wt(E,D,T)}function Dt(E,D,T){if(0===T.length)return new Bn(E.segments,{});{const R=function ve(E){return pn(E[0])?E[0].outlets:{[zt]:E}}(T),V={};if(Object.keys(R).some(q=>q!==zt)&&E.children[zt]&&1===E.numberOfChildren&&0===E.children[zt].segments.length){const q=Dt(E.children[zt],D,T);return new Bn(E.segments,q.children)}return Object.entries(R).forEach(([q,de])=>{"string"==typeof de&&(de=[de]),null!==de&&(V[q]=gt(E.children[q],D,de))}),Object.entries(E.children).forEach(([q,de])=>{void 0===R[q]&&(V[q]=de)}),new Bn(E.segments,V)}}function Wt(E,D,T){const R=E.segments.slice(0,D);let V=0;for(;V<T.length;){const q=T[V];if(pn(q)){const Be=Rn(q.outlets);return new Bn(R,Be)}if(0===V&&jt(T[0])){R.push(new Yr(E.segments[D].path,un(T[0]))),V++;continue}const de=pn(q)?q.outlets[zt]:`${q}`,tt=V<T.length-1?T[V+1]:null;de&&tt&&jt(tt)?(R.push(new Yr(de,un(tt))),V+=2):(R.push(new Yr(de,{})),V++)}return new Bn(R,{})}function Rn(E){const D={};return Object.entries(E).forEach(([T,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(D[T]=Wt(new Bn([],{}),0,R))}),D}function un(E){const D={};return Object.entries(E).forEach(([T,R])=>D[T]=`${R}`),D}function vr(E,D,T){return E==T.path&&gr(D,T.parameters)}const li="imperative";var tn=function(E){return E[E.NavigationStart=0]="NavigationStart",E[E.NavigationEnd=1]="NavigationEnd",E[E.NavigationCancel=2]="NavigationCancel",E[E.NavigationError=3]="NavigationError",E[E.RoutesRecognized=4]="RoutesRecognized",E[E.ResolveStart=5]="ResolveStart",E[E.ResolveEnd=6]="ResolveEnd",E[E.GuardsCheckStart=7]="GuardsCheckStart",E[E.GuardsCheckEnd=8]="GuardsCheckEnd",E[E.RouteConfigLoadStart=9]="RouteConfigLoadStart",E[E.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",E[E.ChildActivationStart=11]="ChildActivationStart",E[E.ChildActivationEnd=12]="ChildActivationEnd",E[E.ActivationStart=13]="ActivationStart",E[E.ActivationEnd=14]="ActivationEnd",E[E.Scroll=15]="Scroll",E[E.NavigationSkipped=16]="NavigationSkipped",E}(tn||{});class _r{constructor(D,T){this.id=D,this.url=T}}class Cr extends _r{constructor(D,T,R="imperative",V=null){super(D,T),this.type=tn.NavigationStart,this.navigationTrigger=R,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wn extends _r{constructor(D,T,R){super(D,T),this.urlAfterRedirects=R,this.type=tn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ln=function(E){return E[E.Redirect=0]="Redirect",E[E.SupersededByNewNavigation=1]="SupersededByNewNavigation",E[E.NoDataFromResolver=2]="NoDataFromResolver",E[E.GuardRejected=3]="GuardRejected",E}(Ln||{}),Dr=function(E){return E[E.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",E[E.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",E}(Dr||{});class Pr extends _r{constructor(D,T,R,V){super(D,T),this.reason=R,this.code=V,this.type=tn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fi extends _r{constructor(D,T,R,V){super(D,T),this.reason=R,this.code=V,this.type=tn.NavigationSkipped}}class jn extends _r{constructor(D,T,R,V){super(D,T),this.error=R,this.target=V,this.type=tn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yi extends _r{constructor(D,T,R,V){super(D,T),this.urlAfterRedirects=R,this.state=V,this.type=tn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fo extends _r{constructor(D,T,R,V){super(D,T),this.urlAfterRedirects=R,this.state=V,this.type=tn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gi extends _r{constructor(D,T,R,V,q){super(D,T),this.urlAfterRedirects=R,this.state=V,this.shouldActivate=q,this.type=tn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class js extends _r{constructor(D,T,R,V){super(D,T),this.urlAfterRedirects=R,this.state=V,this.type=tn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ia extends _r{constructor(D,T,R,V){super(D,T),this.urlAfterRedirects=R,this.state=V,this.type=tn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wr{constructor(D){this.route=D,this.type=tn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ds{constructor(D){this.route=D,this.type=tn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qo{constructor(D){this.snapshot=D,this.type=tn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pa{constructor(D){this.snapshot=D,this.type=tn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Iu{constructor(D){this.snapshot=D,this.type=tn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xt{constructor(D){this.snapshot=D,this.type=tn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vi{}class hs{constructor(D,T){this.url=D,this.navigationBehaviorOptions=T}}function Ji(E){return E.outlet||zt}function ws(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let D=E.parent;D;D=D.parent){const T=D.routeConfig;if(T?._loadedInjector)return T._loadedInjector;if(T?._injector)return T._injector}return null}class Na{get injector(){return ws(this.route?.snapshot)??this.rootInjector}set injector(D){}constructor(D){this.rootInjector=D,this.outlet=null,this.route=null,this.children=new Qo(this.rootInjector),this.attachRef=null}}let Qo=(()=>{class E{constructor(T){this.rootInjector=T,this.contexts=new Map}onChildOutletCreated(T,R){const V=this.getOrCreateContext(T);V.outlet=R,this.contexts.set(T,V)}onChildOutletDestroyed(T){const R=this.getContext(T);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let R=this.getContext(T);return R||(R=new Na(this.rootInjector),this.contexts.set(T,R)),R}getContext(T){return this.contexts.get(T)||null}static{this.\u0275fac=function(R){return new(R||E)(d.KVO(d.uvJ))}}static{this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();class eu{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const T=this.pathFromRoot(D);return T.length>1?T[T.length-2]:null}children(D){const T=Xo(D,this._root);return T?T.children.map(R=>R.value):[]}firstChild(D){const T=Xo(D,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(D){const T=Io(D,this._root);return T.length<2?[]:T[T.length-2].children.map(V=>V.value).filter(V=>V!==D)}pathFromRoot(D){return Io(D,this._root).map(T=>T.value)}}function Xo(E,D){if(E===D.value)return D;for(const T of D.children){const R=Xo(E,T);if(R)return R}return null}function Io(E,D){if(E===D.value)return[D];for(const T of D.children){const R=Io(E,T);if(R.length)return R.unshift(D),R}return[]}class cn{constructor(D,T){this.value=D,this.children=T}toString(){return`TreeNode(${this.value})`}}function Vo(E){const D={};return E&&E.children.forEach(T=>D[T.value.outlet]=T),D}class Uo extends eu{constructor(D,T){super(D),this.snapshot=T,$t(this,D)}toString(){return this.snapshot.toString()}}function Mr(E){const D=function ln(E){const q=new As([],{},{},"",{},zt,E,null,{});return new Ot("",new cn(q,[]))}(E),T=new Qe.t([new Yr("",{})]),R=new Qe.t({}),V=new Qe.t({}),q=new Qe.t({}),de=new Qe.t(""),tt=new To(T,R,q,de,V,zt,E,D.root);return tt.snapshot=D.root,new Uo(new cn(tt,[]),D)}class To{constructor(D,T,R,V,q,de,tt,Be){this.urlSubject=D,this.paramsSubject=T,this.queryParamsSubject=R,this.fragmentSubject=V,this.dataSubject=q,this.outlet=de,this.component=tt,this._futureSnapshot=Be,this.title=this.dataSubject?.pipe((0,hn.T)(Ft=>Ft[Fr]))??(0,pe.of)(void 0),this.url=D,this.params=T,this.queryParams=R,this.fragment=V,this.data=q}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,hn.T)(D=>ui(D))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,hn.T)(D=>ui(D))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function On(E,D,T="emptyOnly"){let R;const{routeConfig:V}=E;return R=null===D||"always"!==T&&""!==V?.path&&(D.component||D.routeConfig?.loadComponent)?{params:{...E.params},data:{...E.data},resolve:{...E.data,...E._resolvedData??{}}}:{params:{...D.params,...E.params},data:{...D.data,...E.data},resolve:{...E.data,...D.data,...V?.data,...E._resolvedData}},V&&Cs(V)&&(R.resolve[Fr]=V.title),R}class As{get title(){return this.data?.[Fr]}constructor(D,T,R,V,q,de,tt,Be,Ft){this.url=D,this.params=T,this.queryParams=R,this.fragment=V,this.data=q,this.outlet=de,this.component=tt,this.routeConfig=Be,this._resolve=Ft}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ui(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ui(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ot extends eu{constructor(D,T){super(T),this.url=D,$t(this,T)}toString(){return ho(this._root)}}function $t(E,D){D.value._routerState=E,D.children.forEach(T=>$t(E,T))}function ho(E){const D=E.children.length>0?` { ${E.children.map(ho).join(", ")} } `:"";return`${E.value}${D}`}function fs(E){if(E.snapshot){const D=E.snapshot,T=E._futureSnapshot;E.snapshot=T,gr(D.queryParams,T.queryParams)||E.queryParamsSubject.next(T.queryParams),D.fragment!==T.fragment&&E.fragmentSubject.next(T.fragment),gr(D.params,T.params)||E.paramsSubject.next(T.params),function dr(E,D){if(E.length!==D.length)return!1;for(let T=0;T<E.length;++T)if(!gr(E[T],D[T]))return!1;return!0}(D.url,T.url)||E.urlSubject.next(T.url),gr(D.data,T.data)||E.dataSubject.next(T.data)}else E.snapshot=E._futureSnapshot,E.dataSubject.next(E._futureSnapshot.data)}function io(E,D){const T=gr(E.params,D.params)&&function Jr(E,D){return $r(E,D)&&E.every((T,R)=>gr(T.parameters,D[R].parameters))}(E.url,D.url);return T&&!(!E.parent!=!D.parent)&&(!E.parent||io(E.parent,D.parent))}function Cs(E){return"string"==typeof E.title||null===E.title}let fo=(()=>{class E{constructor(){this.activated=null,this._activatedRoute=null,this.name=zt,this.activateEvents=new d.bkB,this.deactivateEvents=new d.bkB,this.attachEvents=new d.bkB,this.detachEvents=new d.bkB,this.parentContexts=(0,d.WQX)(Qo),this.location=(0,d.WQX)(d.c1b),this.changeDetector=(0,d.WQX)(d.gRc),this.inputBinder=(0,d.WQX)(Zi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(T){if(T.name){const{firstChange:R,previousValue:V}=T.name;if(R)return;this.isTrackedInParentContexts(V)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(V)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(T){return this.parentContexts.getContext(T)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);T?.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.wOt(4012,!1);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,R){this.activated=T,this._activatedRoute=R,this.location.insert(T.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,R){if(this.isActivated)throw new d.wOt(4013,!1);this._activatedRoute=T;const V=this.location,de=T.snapshot.component,tt=this.parentContexts.getOrCreateContext(this.name).children,Be=new Wi(T,tt,V.injector);this.activated=V.createComponent(de,{index:V.length,injector:Be,environmentInjector:R}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275dir=d.FsC({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.OA$]})}}return E})();class Wi{__ngOutletInjector(D){return new Wi(this.route,this.childContexts,D)}constructor(D,T,R){this.route=D,this.childContexts=T,this.parent=R}get(D,T){return D===To?this.route:D===Qo?this.childContexts:this.parent.get(D,T)}}const Zi=new d.nKC("");function Zr(E,D,T){if(T&&E.shouldReuseRoute(D.value,T.value.snapshot)){const R=T.value;R._futureSnapshot=D.value;const V=function Yo(E,D,T){return D.children.map(R=>{for(const V of T.children)if(E.shouldReuseRoute(R.value,V.value.snapshot))return Zr(E,R,V);return Zr(E,R)})}(E,D,T);return new cn(R,V)}{if(E.shouldAttach(D.value)){const q=E.retrieve(D.value);if(null!==q){const de=q.route;return de.value._futureSnapshot=D.value,de.children=D.children.map(tt=>Zr(E,tt)),de}}const R=function ps(E){return new To(new Qe.t(E.url),new Qe.t(E.params),new Qe.t(E.queryParams),new Qe.t(E.fragment),new Qe.t(E.data),E.outlet,E.component,E)}(D.value),V=D.children.map(q=>Zr(E,q));return new cn(R,V)}}class tu{constructor(D,T){this.redirectTo=D,this.navigationBehaviorOptions=T}}const Nr="ngNavigationCancelingError";function $s(E,D){const{redirectTo:T,navigationBehaviorOptions:R}=lo(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,V=ze(!1,Ln.Redirect);return V.url=T,V.navigationBehaviorOptions=R,V}function ze(E,D){const T=new Error(`NavigationCancelingError: ${E||""}`);return T[Nr]=!0,T.cancellationCode=D,T}function zi(E){return!!E&&E[Nr]}class Hs{constructor(D,T,R,V,q){this.routeReuseStrategy=D,this.futureState=T,this.currState=R,this.forwardEvent=V,this.inputBindingEnabled=q}activate(D){const T=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,R,D),fs(this.futureState.root),this.activateChildRoutes(T,R,D)}deactivateChildRoutes(D,T,R){const V=Vo(T);D.children.forEach(q=>{const de=q.value.outlet;this.deactivateRoutes(q,V[de],R),delete V[de]}),Object.values(V).forEach(q=>{this.deactivateRouteAndItsChildren(q,R)})}deactivateRoutes(D,T,R){const V=D.value,q=T?T.value:null;if(V===q)if(V.component){const de=R.getContext(V.outlet);de&&this.deactivateChildRoutes(D,T,de.children)}else this.deactivateChildRoutes(D,T,R);else q&&this.deactivateRouteAndItsChildren(T,R)}deactivateRouteAndItsChildren(D,T){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,T):this.deactivateRouteAndOutlet(D,T)}detachAndStoreRouteSubtree(D,T){const R=T.getContext(D.value.outlet),V=R&&D.value.component?R.children:T,q=Vo(D);for(const de of Object.values(q))this.deactivateRouteAndItsChildren(de,V);if(R&&R.outlet){const de=R.outlet.detach(),tt=R.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:de,route:D,contexts:tt})}}deactivateRouteAndOutlet(D,T){const R=T.getContext(D.value.outlet),V=R&&D.value.component?R.children:T,q=Vo(D);for(const de of Object.values(q))this.deactivateRouteAndItsChildren(de,V);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(D,T,R){const V=Vo(T);D.children.forEach(q=>{this.activateRoutes(q,V[q.value.outlet],R),this.forwardEvent(new xt(q.value.snapshot))}),D.children.length&&this.forwardEvent(new Pa(D.value.snapshot))}activateRoutes(D,T,R){const V=D.value,q=T?T.value:null;if(fs(V),V===q)if(V.component){const de=R.getOrCreateContext(V.outlet);this.activateChildRoutes(D,T,de.children)}else this.activateChildRoutes(D,T,R);else if(V.component){const de=R.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const tt=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),de.children.onOutletReAttached(tt.contexts),de.attachRef=tt.componentRef,de.route=tt.route.value,de.outlet&&de.outlet.attach(tt.componentRef,tt.route.value),fs(tt.route.value),this.activateChildRoutes(D,null,de.children)}else de.attachRef=null,de.route=V,de.outlet&&de.outlet.activateWith(V,de.injector),this.activateChildRoutes(D,null,de.children)}else this.activateChildRoutes(D,null,R)}}class di{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class gs{constructor(D,T){this.component=D,this.route=T}}function gn(E,D,T){const R=E._root;return xa(R,D?D._root:null,T,[R.value])}function ni(E,D){const T=Symbol(),R=D.get(E,T);return R===T?"function"!=typeof E||(0,d.LfX)(E)?D.get(E):E:R}function xa(E,D,T,R,V={canDeactivateChecks:[],canActivateChecks:[]}){const q=Vo(D);return E.children.forEach(de=>{(function nu(E,D,T,R,V={canDeactivateChecks:[],canActivateChecks:[]}){const q=E.value,de=D?D.value:null,tt=T?T.getContext(E.value.outlet):null;if(de&&q.routeConfig===de.routeConfig){const Be=function po(E,D,T){if("function"==typeof T)return T(E,D);switch(T){case"pathParamsChange":return!$r(E.url,D.url);case"pathParamsOrQueryParamsChange":return!$r(E.url,D.url)||!gr(E.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!io(E,D)||!gr(E.queryParams,D.queryParams);default:return!io(E,D)}}(de,q,q.routeConfig.runGuardsAndResolvers);Be?V.canActivateChecks.push(new di(R)):(q.data=de.data,q._resolvedData=de._resolvedData),xa(E,D,q.component?tt?tt.children:null:T,R,V),Be&&tt&&tt.outlet&&tt.outlet.isActivated&&V.canDeactivateChecks.push(new gs(tt.outlet.component,de))}else de&&Si(D,tt,V),V.canActivateChecks.push(new di(R)),xa(E,null,q.component?tt?tt.children:null:T,R,V)})(de,q[de.value.outlet],T,R.concat([de.value]),V),delete q[de.value.outlet]}),Object.entries(q).forEach(([de,tt])=>Si(tt,T.getContext(de),V)),V}function Si(E,D,T){const R=Vo(E),V=E.value;Object.entries(R).forEach(([q,de])=>{Si(de,V.component?D?D.children.getContext(q):null:D,T)}),T.canDeactivateChecks.push(new gs(V.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,V))}function Jo(E){return"function"==typeof E}function aa(E){return E instanceof Ye.G||"EmptyError"===E?.name}const L=Symbol("INITIAL_VALUE");function x(){return(0,sr.n)(E=>mt(E.map(D=>D.pipe((0,Kn.s)(1),(0,kr.Z)(L)))).pipe((0,hn.T)(D=>{for(const T of D)if(!0!==T){if(T===L)return L;if(!1===T||S(T))return T}return!0}),(0,ar.p)(D=>D!==L),(0,Kn.s)(1)))}function S(E){return lo(E)||E instanceof tu}function Gs(E){return(0,ge.F)((0,lt.M)(D=>{if("boolean"!=typeof D)throw $s(0,D)}),(0,hn.T)(D=>!0===D))}class ua{constructor(D){this.segmentGroup=D||null}}class Ws extends Error{constructor(D){super(),this.urlTree=D}}function zs(E){return(0,Se.$)(new ua(E))}class ou{constructor(D,T){this.urlSerializer=D,this.urlTree=T}lineralizeSegments(D,T){let R=[],V=T.root;for(;;){if(R=R.concat(V.segments),0===V.numberOfChildren)return(0,pe.of)(R);if(V.numberOfChildren>1||!V.children[zt])return(0,Se.$)(new d.wOt(4e3,!1));V=V.children[zt]}}applyRedirectCommands(D,T,R,V,q){if("string"!=typeof T){const tt=T,{queryParams:Be,fragment:Ft,routeConfig:Ut,url:Mn,outlet:xr,params:$o,data:vo,title:Ao}=V,to=(0,d.N4e)(q,()=>tt({params:$o,data:vo,queryParams:Be,fragment:Ft,routeConfig:Ut,url:Mn,outlet:xr,title:Ao}));if(to instanceof xn)throw new Ws(to);T=to}const de=this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),D,R);if("/"===T[0])throw new Ws(de);return de}applyRedirectCreateUrlTree(D,T,R,V){const q=this.createSegmentGroup(D,T.root,R,V);return new xn(q,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(D,T){const R={};return Object.entries(D).forEach(([V,q])=>{if("string"==typeof q&&":"===q[0]){const tt=q.substring(1);R[V]=T[tt]}else R[V]=q}),R}createSegmentGroup(D,T,R,V){const q=this.createSegments(D,T.segments,R,V);let de={};return Object.entries(T.children).forEach(([tt,Be])=>{de[tt]=this.createSegmentGroup(D,Be,R,V)}),new Bn(q,de)}createSegments(D,T,R,V){return T.map(q=>":"===q.path[0]?this.findPosParam(D,q,V):this.findOrReturn(q,R))}findPosParam(D,T,R){const V=R[T.path.substring(1)];if(!V)throw new d.wOt(4001,!1);return V}findOrReturn(D,T){let R=0;for(const V of T){if(V.path===D.path)return T.splice(R),V;R++}return D}}const Ks={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qs(E,D,T,R,V){const q=ca(E,D,T);return q.matched?(R=function on(E,D){return E.providers&&!E._injector&&(E._injector=(0,d.Ol2)(E.providers,D,`Route: ${E.path}`)),E._injector??D}(D,R),function ru(E,D,T,R){const V=D.canMatch;if(!V||0===V.length)return(0,pe.of)(!0);const q=V.map(de=>{const tt=ni(de,E);return Mt(function Tu(E){return E&&Jo(E.canMatch)}(tt)?tt.canMatch(D,T):(0,d.N4e)(E,()=>tt(D,T)))});return(0,pe.of)(q).pipe(x(),Gs())}(R,D,T).pipe((0,hn.T)(de=>!0===de?q:{...Ks}))):(0,pe.of)(q)}function ca(E,D,T){if("**"===D.path)return function Bi(E){return{matched:!0,parameters:E.length>0?wn(E).parameters:{},consumedSegments:E,remainingSegments:[],positionalParamSegments:{}}}(T);if(""===D.path)return"full"===D.pathMatch&&(E.hasChildren()||T.length>0)?{...Ks}:{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const V=(D.matcher||$n)(T,E,D);if(!V)return{...Ks};const q={};Object.entries(V.posParams??{}).forEach(([tt,Be])=>{q[tt]=Be.path});const de=V.consumed.length>0?{...q,...V.consumed[V.consumed.length-1].parameters}:q;return{matched:!0,consumedSegments:V.consumed,remainingSegments:T.slice(V.consumed.length),parameters:de,positionalParamSegments:V.posParams??{}}}function ka(E,D,T,R){return T.length>0&&function hd(E,D,T){return T.some(R=>ys(E,D,R)&&Ji(R)!==zt)}(E,T,R)?{segmentGroup:new Bn(D,Cc(R,new Bn(T,E.children))),slicedSegments:[]}:0===T.length&&function ri(E,D,T){return T.some(R=>ys(E,D,R))}(E,T,R)?{segmentGroup:new Bn(E.segments,Fa(E,T,R,E.children)),slicedSegments:T}:{segmentGroup:new Bn(E.segments,E.children),slicedSegments:T}}function Fa(E,D,T,R){const V={};for(const q of T)if(ys(E,D,q)&&!R[Ji(q)]){const de=new Bn([],{});V[Ji(q)]=de}return{...R,...V}}function Cc(E,D){const T={};T[zt]=D;for(const R of E)if(""===R.path&&Ji(R)!==zt){const V=new Bn([],{});T[Ji(R)]=V}return T}function ys(E,D,T){return(!(E.hasChildren()||D.length>0)||"full"!==T.pathMatch)&&""===T.path}class br{}class ii{constructor(D,T,R,V,q,de,tt){this.injector=D,this.configLoader=T,this.rootComponentType=R,this.config=V,this.urlTree=q,this.paramsInheritanceStrategy=de,this.urlSerializer=tt,this.applyRedirects=new ou(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(D){return new d.wOt(4002,`'${D.segmentGroup}'`)}recognize(){const D=ka(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(D).pipe((0,hn.T)(({children:T,rootSnapshot:R})=>{const V=new cn(R,T),q=new Ot("",V),de=function dt(E,D,T=null,R=null){return Et($e(E),D,T,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return de.queryParams=this.urlTree.queryParams,q.url=this.urlSerializer.serialize(de),{state:q,tree:de}}))}match(D){const T=new As([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),zt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,D,zt,T).pipe((0,hn.T)(R=>({children:R,rootSnapshot:T})),(0,ke.W)(R=>{if(R instanceof Ws)return this.urlTree=R.urlTree,this.match(R.urlTree.root);throw R instanceof ua?this.noMatchError(R):R}))}processSegmentGroup(D,T,R,V,q){return 0===R.segments.length&&R.hasChildren()?this.processChildren(D,T,R,q):this.processSegment(D,T,R,R.segments,V,!0,q).pipe((0,hn.T)(de=>de instanceof cn?[de]:[]))}processChildren(D,T,R,V){const q=[];for(const de of Object.keys(R.children))"primary"===de?q.unshift(de):q.push(de);return(0,ie.H)(q).pipe((0,yt.H)(de=>{const tt=R.children[de],Be=function Za(E,D){const T=E.filter(R=>Ji(R)===D);return T.push(...E.filter(R=>Ji(R)!==D)),T}(T,de);return this.processSegmentGroup(D,Be,tt,de,V)}),(0,Oe.S)((de,tt)=>(de.push(...tt),de)),(0,se.U)(null),function Ue(E,D){const T=arguments.length>=2;return R=>R.pipe(E?(0,ar.p)((V,q)=>E(V,q,R)):J.D,_e(1),T?(0,se.U)(D):(0,Re.v)(()=>new Ye.G))}(),(0,qe.Z)(de=>{if(null===de)return zs(R);const tt=rn(de);return function su(E){E.sort((D,T)=>D.value.outlet===zt?-1:T.value.outlet===zt?1:D.value.outlet.localeCompare(T.value.outlet))}(tt),(0,pe.of)(tt)}))}processSegment(D,T,R,V,q,de,tt){return(0,ie.H)(T).pipe((0,yt.H)(Be=>this.processSegmentAgainstRoute(Be._injector??D,T,Be,R,V,q,de,tt).pipe((0,ke.W)(Ft=>{if(Ft instanceof ua)return(0,pe.of)(null);throw Ft}))),(0,at.$)(Be=>!!Be),(0,ke.W)(Be=>{if(aa(Be))return function Ei(E,D,T){return 0===D.length&&!E.children[T]}(R,V,q)?(0,pe.of)(new br):zs(R);throw Be}))}processSegmentAgainstRoute(D,T,R,V,q,de,tt,Be){return Ji(R)===de||de!==zt&&ys(V,q,R)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(D,V,R,q,de,Be):this.allowRedirects&&tt?this.expandSegmentAgainstRouteUsingRedirect(D,V,T,R,q,de,Be):zs(V):zs(V)}expandSegmentAgainstRouteUsingRedirect(D,T,R,V,q,de,tt){const{matched:Be,parameters:Ft,consumedSegments:Ut,positionalParamSegments:Mn,remainingSegments:xr}=ca(T,V,q);if(!Be)return zs(T);"string"==typeof V.redirectTo&&"/"===V.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const $o=new As(q,Ft,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qs(V),Ji(V),V.component??V._loadedComponent??null,V,Kr(V)),vo=On($o,tt,this.paramsInheritanceStrategy);$o.params=Object.freeze(vo.params),$o.data=Object.freeze(vo.data);const Ao=this.applyRedirects.applyRedirectCommands(Ut,V.redirectTo,Mn,$o,D);return this.applyRedirects.lineralizeSegments(V,Ao).pipe((0,qe.Z)(to=>this.processSegment(D,R,T,to.concat(xr),de,!1,tt)))}matchSegmentAgainstRoute(D,T,R,V,q,de){const tt=qs(T,R,V,D);return"**"===R.path&&(T.children={}),tt.pipe((0,sr.n)(Be=>Be.matched?this.getChildConfig(D=R._injector??D,R,V).pipe((0,sr.n)(({routes:Ft})=>{const Ut=R._loadedInjector??D,{parameters:Mn,consumedSegments:xr,remainingSegments:$o}=Be,vo=new As(xr,Mn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qs(R),Ji(R),R.component??R._loadedComponent??null,R,Kr(R)),Ao=On(vo,de,this.paramsInheritanceStrategy);vo.params=Object.freeze(Ao.params),vo.data=Object.freeze(Ao.data);const{segmentGroup:to,slicedSegments:fa}=ka(T,xr,$o,Ft);if(0===fa.length&&to.hasChildren())return this.processChildren(Ut,Ft,to,vo).pipe((0,hn.T)(Zs=>new cn(vo,Zs)));if(0===Ft.length&&0===fa.length)return(0,pe.of)(new cn(vo,[]));const pd=Ji(R)===q;return this.processSegment(Ut,Ft,to,fa,pd?zt:q,!0,vo).pipe((0,hn.T)(Zs=>new cn(vo,Zs instanceof cn?[Zs]:[])))})):zs(T)))}getChildConfig(D,T,R){return T.children?(0,pe.of)({routes:T.children,injector:D}):T.loadChildren?void 0!==T._loadedRoutes?(0,pe.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function La(E,D,T,R){const V=D.canLoad;if(void 0===V||0===V.length)return(0,pe.of)(!0);const q=V.map(de=>{const tt=ni(de,E);return Mt(function Oi(E){return E&&Jo(E.canLoad)}(tt)?tt.canLoad(D,T):(0,d.N4e)(E,()=>tt(D,T)))});return(0,pe.of)(q).pipe(x(),Gs())}(D,T,R).pipe((0,qe.Z)(V=>V?this.configLoader.loadChildren(D,T).pipe((0,lt.M)(q=>{T._loadedRoutes=q.routes,T._loadedInjector=q.injector})):function Dn(){return(0,Se.$)(ze(!1,Ln.GuardRejected))}())):(0,pe.of)({routes:[],injector:D})}}function wu(E){const D=E.value.routeConfig;return D&&""===D.path}function rn(E){const D=[],T=new Set;for(const R of E){if(!wu(R)){D.push(R);continue}const V=D.find(q=>R.value.routeConfig===q.value.routeConfig);void 0!==V?(V.children.push(...R.children),T.add(V)):D.push(R)}for(const R of T){const V=rn(R.children);D.push(new cn(R.value,V))}return D.filter(R=>!T.has(R))}function Qs(E){return E.data||{}}function Kr(E){return E.resolve||{}}function Cu(E){const D=E.children.map(T=>Cu(T)).flat();return[E,...D]}function es(E){return(0,sr.n)(D=>{const T=E(D);return T?(0,ie.H)(T).pipe((0,hn.T)(()=>D)):(0,pe.of)(D)})}let xi=(()=>{class E{buildTitle(T){let R,V=T.root;for(;void 0!==V;)R=this.getResolvedTitleForRoute(V)??R,V=V.children.find(q=>q.outlet===zt);return R}getResolvedTitleForRoute(T){return T.data[Fr]}static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275prov=d.jDH({token:E,factory:()=>(0,d.WQX)(ts),providedIn:"root"})}}return E})(),ts=(()=>{class E extends xi{constructor(T){super(),this.title=T}updateTitle(T){const R=this.buildTitle(T);void 0!==R&&this.title.setTitle(R)}static{this.\u0275fac=function(R){return new(R||E)(d.KVO(lr.hE))}}static{this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();const qi=new d.nKC("",{providedIn:"root",factory:()=>({})});let bs=(()=>{class E{static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275cmp=d.VBU({type:E,selectors:[["ng-component"]],standalone:!0,features:[d.aNF],decls:1,vars:0,template:function(R,V){1&R&&d.nrm(0,"router-outlet")},dependencies:[fo],encapsulation:2})}}return E})();function wo(E){const D=E.children&&E.children.map(wo),T=D?{...E,children:D}:{...E};return!T.component&&!T.loadComponent&&(D||T.loadChildren)&&T.outlet&&T.outlet!==zt&&(T.component=bs),T}const Ba=new d.nKC("");let C=(()=>{class E{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.WQX)(d.Ql9)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,pe.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const R=Mt(T.loadComponent()).pipe((0,hn.T)($),(0,lt.M)(q=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=q}),(0,Zn.j)(()=>{this.componentLoaders.delete(T)})),V=new vt(R,()=>new ot.B).pipe(ce());return this.componentLoaders.set(T,V),V}loadChildren(T,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,pe.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const q=function W(E,D,T,R){return Mt(E.loadChildren()).pipe((0,hn.T)($),(0,qe.Z)(V=>V instanceof d.Co$||Array.isArray(V)?(0,pe.of)(V):(0,ie.H)(D.compileModuleAsync(V))),(0,hn.T)(V=>{R&&R(E);let q,de,tt=!1;return Array.isArray(V)?(de=V,!0):(q=V.create(T).injector,de=q.get(Ba,[],{optional:!0,self:!0}).flat()),{routes:de.map(wo),injector:q}}))}(R,this.compiler,T,this.onLoadEndListener).pipe((0,Zn.j)(()=>{this.childrenLoaders.delete(R)})),de=new vt(q,()=>new ot.B).pipe(ce());return this.childrenLoaders.set(R,de),de}static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();function $(E){return function M(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let fe=(()=>{class E{static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275prov=d.jDH({token:E,factory:()=>(0,d.WQX)(ut),providedIn:"root"})}}return E})(),ut=(()=>{class E{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,R){return T}static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();const bt=new d.nKC(""),Ir=new d.nKC("");let kt=(()=>{class E{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ot.B,this.transitionAbortSubject=new ot.B,this.configLoader=(0,d.WQX)(C),this.environmentInjector=(0,d.WQX)(d.uvJ),this.urlSerializer=(0,d.WQX)(Hr),this.rootContexts=(0,d.WQX)(Qo),this.location=(0,d.WQX)(bn.aZ),this.inputBindingEnabled=null!==(0,d.WQX)(Zi,{optional:!0}),this.titleStrategy=(0,d.WQX)(xi),this.options=(0,d.WQX)(qi,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.WQX)(fe),this.createViewTransition=(0,d.WQX)(bt,{optional:!0}),this.navigationErrorHandler=(0,d.WQX)(Ir,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,pe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=V=>this.events.next(new ds(V)),this.configLoader.onLoadStartListener=V=>this.events.next(new Wr(V))}complete(){this.transitions?.complete()}handleNavigationRequest(T){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...T,id:R})}setupNavigations(T,R,V){return this.transitions=new Qe.t({id:0,currentUrlTree:R,currentRawUrl:R,extractedUrl:this.urlHandlingStrategy.extract(R),urlAfterRedirects:this.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:li,restoredState:null,currentSnapshot:V.snapshot,targetSnapshot:null,currentRouterState:V,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ar.p)(q=>0!==q.id),(0,hn.T)(q=>({...q,extractedUrl:this.urlHandlingStrategy.extract(q.rawUrl)})),(0,sr.n)(q=>{let de=!1,tt=!1;return(0,pe.of)(q).pipe((0,sr.n)(Be=>{if(this.navigationId>q.id)return this.cancelNavigationTransition(q,"",Ln.SupersededByNewNavigation),Te.w;this.currentTransition=q,this.currentNavigation={id:Be.id,initialUrl:Be.rawUrl,extractedUrl:Be.extractedUrl,targetBrowserUrl:"string"==typeof Be.extras.browserUrl?this.urlSerializer.parse(Be.extras.browserUrl):Be.extras.browserUrl,trigger:Be.source,extras:Be.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Ft=!T.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Ft&&"reload"!==(Be.extras.onSameUrlNavigation??T.onSameUrlNavigation)){const Mn="";return this.events.next(new Fi(Be.id,this.urlSerializer.serialize(Be.rawUrl),Mn,Dr.IgnoredSameUrlNavigation)),Be.resolve(!1),Te.w}if(this.urlHandlingStrategy.shouldProcessUrl(Be.rawUrl))return(0,pe.of)(Be).pipe((0,sr.n)(Mn=>{const xr=this.transitions?.getValue();return this.events.next(new Cr(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),Mn.source,Mn.restoredState)),xr!==this.transitions?.getValue()?Te.w:Promise.resolve(Mn)}),function Xs(E,D,T,R,V,q){return(0,qe.Z)(de=>function Va(E,D,T,R,V,q,de="emptyOnly"){return new ii(E,D,T,R,V,de,q).recognize()}(E,D,T,R,de.extractedUrl,V,q).pipe((0,hn.T)(({state:tt,tree:Be})=>({...de,targetSnapshot:tt,urlAfterRedirects:Be}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,T.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,lt.M)(Mn=>{q.targetSnapshot=Mn.targetSnapshot,q.urlAfterRedirects=Mn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Mn.urlAfterRedirects};const xr=new Yi(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects),Mn.targetSnapshot);this.events.next(xr)}));if(Ft&&this.urlHandlingStrategy.shouldProcessUrl(Be.currentRawUrl)){const{id:Mn,extractedUrl:xr,source:$o,restoredState:vo,extras:Ao}=Be,to=new Cr(Mn,this.urlSerializer.serialize(xr),$o,vo);this.events.next(to);const fa=Mr(this.rootComponentType).snapshot;return this.currentTransition=q={...Be,targetSnapshot:fa,urlAfterRedirects:xr,extras:{...Ao,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=xr,(0,pe.of)(q)}{const Mn="";return this.events.next(new Fi(Be.id,this.urlSerializer.serialize(Be.extractedUrl),Mn,Dr.IgnoredByUrlHandlingStrategy)),Be.resolve(!1),Te.w}}),(0,lt.M)(Be=>{const Ft=new Fo(Be.id,this.urlSerializer.serialize(Be.extractedUrl),this.urlSerializer.serialize(Be.urlAfterRedirects),Be.targetSnapshot);this.events.next(Ft)}),(0,hn.T)(Be=>(this.currentTransition=q={...Be,guards:gn(Be.targetSnapshot,Be.currentSnapshot,this.rootContexts)},q)),function X(E,D){return(0,qe.Z)(T=>{const{targetSnapshot:R,currentSnapshot:V,guards:{canActivateChecks:q,canDeactivateChecks:de}}=T;return 0===de.length&&0===q.length?(0,pe.of)({...T,guardsResult:!0}):function Ie(E,D,T,R){return(0,ie.H)(E).pipe((0,qe.Z)(V=>function Bo(E,D,T,R,V){const q=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,pe.of)(!0);const de=q.map(tt=>{const Be=ws(D)??V,Ft=ni(tt,Be);return Mt(function Zo(E){return E&&Jo(E.canDeactivate)}(Ft)?Ft.canDeactivate(E,D,T,R):(0,d.N4e)(Be,()=>Ft(E,D,T,R))).pipe((0,at.$)())});return(0,pe.of)(de).pipe(x())}(V.component,V.route,T,D,R)),(0,at.$)(V=>!0!==V,!0))}(de,R,V,E).pipe((0,qe.Z)(tt=>tt&&function hr(E){return"boolean"==typeof E}(tt)?function Zt(E,D,T,R){return(0,ie.H)(D).pipe((0,yt.H)(V=>(0,Tt.x)(function kn(E,D){return null!==E&&D&&D(new qo(E)),(0,pe.of)(!0)}(V.route.parent,R),function Nn(E,D){return null!==E&&D&&D(new Iu(E)),(0,pe.of)(!0)}(V.route,R),function Ki(E,D,T){const R=D[D.length-1],q=D.slice(0,D.length-1).reverse().map(de=>function sa(E){const D=E.routeConfig?E.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:E,guards:D}:null}(de)).filter(de=>null!==de).map(de=>Ae(()=>{const tt=de.guards.map(Be=>{const Ft=ws(de.node)??T,Ut=ni(Be,Ft);return Mt(function Ku(E){return E&&Jo(E.canActivateChild)}(Ut)?Ut.canActivateChild(R,E):(0,d.N4e)(Ft,()=>Ut(R,E))).pipe((0,at.$)())});return(0,pe.of)(tt).pipe(x())}));return(0,pe.of)(q).pipe(x())}(E,V.path,T),function ms(E,D,T){const R=D.routeConfig?D.routeConfig.canActivate:null;if(!R||0===R.length)return(0,pe.of)(!0);const V=R.map(q=>Ae(()=>{const de=ws(D)??T,tt=ni(q,de);return Mt(function Ac(E){return E&&Jo(E.canActivate)}(tt)?tt.canActivate(D,E):(0,d.N4e)(de,()=>tt(D,E))).pipe((0,at.$)())}));return(0,pe.of)(V).pipe(x())}(E,V.route,T))),(0,at.$)(V=>!0!==V,!0))}(R,q,E,D):(0,pe.of)(tt)),(0,hn.T)(tt=>({...T,guardsResult:tt})))})}(this.environmentInjector,Be=>this.events.next(Be)),(0,lt.M)(Be=>{if(q.guardsResult=Be.guardsResult,Be.guardsResult&&"boolean"!=typeof Be.guardsResult)throw $s(0,Be.guardsResult);const Ft=new Gi(Be.id,this.urlSerializer.serialize(Be.extractedUrl),this.urlSerializer.serialize(Be.urlAfterRedirects),Be.targetSnapshot,!!Be.guardsResult);this.events.next(Ft)}),(0,ar.p)(Be=>!!Be.guardsResult||(this.cancelNavigationTransition(Be,"",Ln.GuardRejected),!1)),es(Be=>{if(Be.guards.canActivateChecks.length)return(0,pe.of)(Be).pipe((0,lt.M)(Ft=>{const Ut=new js(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),this.urlSerializer.serialize(Ft.urlAfterRedirects),Ft.targetSnapshot);this.events.next(Ut)}),(0,sr.n)(Ft=>{let Ut=!1;return(0,pe.of)(Ft).pipe(function Au(E,D){return(0,qe.Z)(T=>{const{targetSnapshot:R,guards:{canActivateChecks:V}}=T;if(!V.length)return(0,pe.of)(T);const q=new Set(V.map(Be=>Be.route)),de=new Set;for(const Be of q)if(!de.has(Be))for(const Ft of Cu(Be))de.add(Ft);let tt=0;return(0,ie.H)(de).pipe((0,yt.H)(Be=>q.has(Be)?function Ys(E,D,T,R){const V=E.routeConfig,q=E._resolve;return void 0!==V?.title&&!Cs(V)&&(q[Fr]=V.title),function er(E,D,T,R){const V=uo(E);if(0===V.length)return(0,pe.of)({});const q={};return(0,ie.H)(V).pipe((0,qe.Z)(de=>function Ds(E,D,T,R){const V=ws(D)??R,q=ni(E,V);return Mt(q.resolve?q.resolve(D,T):(0,d.N4e)(V,()=>q(D,T)))}(E[de],D,T,R).pipe((0,at.$)(),(0,lt.M)(tt=>{if(tt instanceof tu)throw $s(new ci,tt);q[de]=tt}))),_e(1),function Hn(E){return(0,hn.T)(()=>E)}(q),(0,ke.W)(de=>aa(de)?Te.w:(0,Se.$)(de)))}(q,E,D,R).pipe((0,hn.T)(de=>(E._resolvedData=de,E.data=On(E,E.parent,T).resolve,null)))}(Be,R,E,D):(Be.data=On(Be,Be.parent,E).resolve,(0,pe.of)(void 0))),(0,lt.M)(()=>tt++),_e(1),(0,qe.Z)(Be=>tt===de.size?(0,pe.of)(T):Te.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,lt.M)({next:()=>Ut=!0,complete:()=>{Ut||this.cancelNavigationTransition(Ft,"",Ln.NoDataFromResolver)}}))}),(0,lt.M)(Ft=>{const Ut=new ia(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),this.urlSerializer.serialize(Ft.urlAfterRedirects),Ft.targetSnapshot);this.events.next(Ut)}))}),es(Be=>{const Ft=Ut=>{const Mn=[];Ut.routeConfig?.loadComponent&&!Ut.routeConfig._loadedComponent&&Mn.push(this.configLoader.loadComponent(Ut.routeConfig).pipe((0,lt.M)(xr=>{Ut.component=xr}),(0,hn.T)(()=>{})));for(const xr of Ut.children)Mn.push(...Ft(xr));return Mn};return mt(Ft(Be.targetSnapshot.root)).pipe((0,se.U)(null),(0,Kn.s)(1))}),es(()=>this.afterPreactivation()),(0,sr.n)(()=>{const{currentSnapshot:Be,targetSnapshot:Ft}=q,Ut=this.createViewTransition?.(this.environmentInjector,Be.root,Ft.root);return Ut?(0,ie.H)(Ut).pipe((0,hn.T)(()=>q)):(0,pe.of)(q)}),(0,hn.T)(Be=>{const Ft=function eo(E,D,T){const R=Zr(E,D._root,T?T._root:void 0);return new Uo(R,D)}(T.routeReuseStrategy,Be.targetSnapshot,Be.currentRouterState);return this.currentTransition=q={...Be,targetRouterState:Ft},this.currentNavigation.targetRouterState=Ft,q}),(0,lt.M)(()=>{this.events.next(new Vi)}),((E,D,T,R)=>(0,hn.T)(V=>(new Hs(D,V.targetRouterState,V.currentRouterState,T,R).activate(E),V)))(this.rootContexts,T.routeReuseStrategy,Be=>this.events.next(Be),this.inputBindingEnabled),(0,Kn.s)(1),(0,lt.M)({next:Be=>{de=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wn(Be.id,this.urlSerializer.serialize(Be.extractedUrl),this.urlSerializer.serialize(Be.urlAfterRedirects))),this.titleStrategy?.updateTitle(Be.targetRouterState.snapshot),Be.resolve(!0)},complete:()=>{de=!0}}),function Un(E){return(0,K.N)((D,T)=>{(0,Pe.Tg)(E).subscribe((0,Ve._)(T,()=>T.complete(),Ci.l)),!T.closed&&D.subscribe(T)})}(this.transitionAbortSubject.pipe((0,lt.M)(Be=>{throw Be}))),(0,Zn.j)(()=>{!de&&!tt&&this.cancelNavigationTransition(q,"",Ln.SupersededByNewNavigation),this.currentTransition?.id===q.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,ke.W)(Be=>{if(tt=!0,zi(Be))this.events.next(new Pr(q.id,this.urlSerializer.serialize(q.extractedUrl),Be.message,Be.cancellationCode)),function rr(E){return zi(E)&&lo(E.url)}(Be)?this.events.next(new hs(Be.url,Be.navigationBehaviorOptions)):q.resolve(!1);else{const Ft=new jn(q.id,this.urlSerializer.serialize(q.extractedUrl),Be,q.targetSnapshot??void 0);try{const Ut=(0,d.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Ft));if(Ut instanceof tu){const{message:Mn,cancellationCode:xr}=$s(0,Ut);this.events.next(new Pr(q.id,this.urlSerializer.serialize(q.extractedUrl),Mn,xr)),this.events.next(new hs(Ut.redirectTo,Ut.navigationBehaviorOptions))}else{this.events.next(Ft);const Mn=T.errorHandler(Be);q.resolve(!!Mn)}}catch(Ut){this.options.resolveNavigationPromiseOnError?q.resolve(!1):q.reject(Ut)}}return Te.w}))}))}cancelNavigationTransition(T,R,V){const q=new Pr(T.id,this.urlSerializer.serialize(T.extractedUrl),R,V);this.events.next(q),T.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const T=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),R=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return T.toString()!==R?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();function ei(E){return E!==li}let Sr=(()=>{class E{static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275prov=d.jDH({token:E,factory:()=>(0,d.WQX)(vs),providedIn:"root"})}}return E})();class Ii{shouldDetach(D){return!1}store(D,T){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,T){return D.routeConfig===T.routeConfig}}let vs=(()=>{class E extends Ii{static{this.\u0275fac=(()=>{let T;return function(V){return(T||(T=d.xGo(E)))(V||E)}})()}static{this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})(),ji=(()=>{class E{static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275prov=d.jDH({token:E,factory:()=>(0,d.WQX)(Ss),providedIn:"root"})}}return E})(),Ss=(()=>{class E extends ji{constructor(){super(...arguments),this.location=(0,d.WQX)(bn.aZ),this.urlSerializer=(0,d.WQX)(Hr),this.options=(0,d.WQX)(qi,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.WQX)(fe),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Mr(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(T){return this.location.subscribe(R=>{"popstate"===R.type&&T(R.url,R.state)})}handleRouterEvent(T,R){if(T instanceof Cr)this.stateMemento=this.createStateMemento();else if(T instanceof Fi)this.rawUrlTree=R.initialUrl;else if(T instanceof Yi){if("eager"===this.urlUpdateStrategy&&!R.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(R.finalUrl,R.initialUrl);this.setBrowserUrl(R.targetBrowserUrl??V,R)}}else T instanceof Vi?(this.currentUrlTree=R.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(R.finalUrl,R.initialUrl),this.routerState=R.targetRouterState,"deferred"===this.urlUpdateStrategy&&!R.extras.skipLocationChange&&this.setBrowserUrl(R.targetBrowserUrl??this.rawUrlTree,R)):T instanceof Pr&&(T.code===Ln.GuardRejected||T.code===Ln.NoDataFromResolver)?this.restoreHistory(R):T instanceof jn?this.restoreHistory(R,!0):T instanceof Wn&&(this.lastSuccessfulId=T.id,this.currentPageId=this.browserPageId)}setBrowserUrl(T,R){const V=T instanceof xn?this.urlSerializer.serialize(T):T;if(this.location.isCurrentPathEqualTo(V)||R.extras.replaceUrl){const de={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(V,"",de)}else{const q={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(V,"",q)}}restoreHistory(T,R=!1){if("computed"===this.canceledNavigationResolution){const q=this.currentPageId-this.browserPageId;0!==q?this.location.historyGo(q):this.currentUrlTree===T.finalUrl&&0===q&&(this.resetState(T),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,R){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:R}:{navigationId:T}}static{this.\u0275fac=(()=>{let T;return function(V){return(T||(T=d.xGo(E)))(V||E)}})()}static{this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();var Or=function(E){return E[E.COMPLETE=0]="COMPLETE",E[E.FAILED=1]="FAILED",E[E.REDIRECTING=2]="REDIRECTING",E}(Or||{});function fr(E){throw E}const go={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Du={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mo=(()=>{class E{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,d.WQX)(d.H3F),this.stateManager=(0,d.WQX)(ji),this.options=(0,d.WQX)(qi,{optional:!0})||{},this.pendingTasks=(0,d.WQX)(d.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.WQX)(kt),this.urlSerializer=(0,d.WQX)(Hr),this.location=(0,d.WQX)(bn.aZ),this.urlHandlingStrategy=(0,d.WQX)(fe),this._events=new ot.B,this.errorHandler=this.options.errorHandler||fr,this.navigated=!1,this.routeReuseStrategy=(0,d.WQX)(Sr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,d.WQX)(Ba,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,d.WQX)(Zi,{optional:!0}),this.eventsSubscription=new De.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:T=>{this.console.warn(T)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const T=this.navigationTransitions.events.subscribe(R=>{try{const V=this.navigationTransitions.currentTransition,q=this.navigationTransitions.currentNavigation;if(null!==V&&null!==q)if(this.stateManager.handleRouterEvent(R,q),R instanceof Pr&&R.code!==Ln.Redirect&&R.code!==Ln.SupersededByNewNavigation)this.navigated=!0;else if(R instanceof Wn)this.navigated=!0;else if(R instanceof hs){const de=R.navigationBehaviorOptions,tt=this.urlHandlingStrategy.merge(R.url,V.currentRawUrl),Be={browserUrl:V.extras.browserUrl,info:V.extras.info,skipLocationChange:V.extras.skipLocationChange,replaceUrl:V.extras.replaceUrl||"eager"===this.urlUpdateStrategy||ei(V.source),...de};this.scheduleNavigation(tt,li,null,Be,{resolve:V.resolve,reject:V.reject,promise:V.promise})}(function yo(E){return!(E instanceof Vi||E instanceof hs)})(R)&&this._events.next(R)}catch(V){this.navigationTransitions.transitionAbortSubject.next(V)}});this.eventsSubscription.add(T)}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),li,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((T,R)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(T,"popstate",R)},0)})}navigateToSyncWithBrowser(T,R,V){const q={replaceUrl:!0},de=V?.navigationId?V:null;if(V){const Be={...V};delete Be.navigationId,delete Be.\u0275routerPageId,0!==Object.keys(Be).length&&(q.state=Be)}const tt=this.parseUrl(T);this.scheduleNavigation(tt,R,de,q)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(T){this.config=T.map(wo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(T,R={}){const{relativeTo:V,queryParams:q,fragment:de,queryParamsHandling:tt,preserveFragment:Be}=R,Ft=Be?this.currentUrlTree.fragment:de;let Mn,Ut=null;switch(tt??this.options.defaultQueryParamsHandling){case"merge":Ut={...this.currentUrlTree.queryParams,...q};break;case"preserve":Ut=this.currentUrlTree.queryParams;break;default:Ut=q||null}null!==Ut&&(Ut=this.removeEmptyProps(Ut));try{Mn=$e(V?V.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof T[0]||"/"!==T[0][0])&&(T=[]),Mn=this.currentUrlTree.root}return Et(Mn,T,Ut,Ft??null)}navigateByUrl(T,R={skipLocationChange:!1}){const V=lo(T)?T:this.parseUrl(T),q=this.urlHandlingStrategy.merge(V,this.rawUrlTree);return this.scheduleNavigation(q,li,null,R)}navigate(T,R={skipLocationChange:!1}){return function au(E){for(let D=0;D<E.length;D++)if(null==E[D])throw new d.wOt(4008,!1)}(T),this.navigateByUrl(this.createUrlTree(T,R),R)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){try{return this.urlSerializer.parse(T)}catch{return this.urlSerializer.parse("/")}}isActive(T,R){let V;if(V=!0===R?{...go}:!1===R?{...Du}:R,lo(T))return Rr(this.currentUrlTree,T,V);const q=this.parseUrl(T);return Rr(this.currentUrlTree,q,V)}removeEmptyProps(T){return Object.entries(T).reduce((R,[V,q])=>(null!=q&&(R[V]=q),R),{})}scheduleNavigation(T,R,V,q,de){if(this.disposed)return Promise.resolve(!1);let tt,Be,Ft;de?(tt=de.resolve,Be=de.reject,Ft=de.promise):Ft=new Promise((Mn,xr)=>{tt=Mn,Be=xr});const Ut=this.pendingTasks.add();return function jo(E,D){E.events.pipe((0,ar.p)(T=>T instanceof Wn||T instanceof Pr||T instanceof jn||T instanceof Fi),(0,hn.T)(T=>T instanceof Wn||T instanceof Fi?Or.COMPLETE:T instanceof Pr&&(T.code===Ln.Redirect||T.code===Ln.SupersededByNewNavigation)?Or.REDIRECTING:Or.FAILED),(0,ar.p)(T=>T!==Or.REDIRECTING),(0,Kn.s)(1)).subscribe(()=>{D()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ut))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:V,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:T,extras:q,resolve:tt,reject:Be,promise:Ft,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ft.catch(Mn=>Promise.reject(Mn))}static{this.\u0275fac=function(R){return new(R||E)}}static{this.\u0275prov=d.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})(),Js=(()=>{class E{constructor(T,R,V,q,de,tt){this.router=T,this.route=R,this.tabIndexAttribute=V,this.renderer=q,this.el=de,this.locationStrategy=tt,this.href=null,this.onChanges=new ot.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Be=de.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Be||"area"===Be,this.isAnchorElement?this.subscription=T.events.subscribe(Ft=>{Ft instanceof Wn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null==T?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=lo(T)||Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0"))}onClick(T,R,V,q,de){const tt=this.urlTree;return!!(null===tt||this.isAnchorElement&&(0!==T||R||V||q||de||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(tt,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const T=this.urlTree;this.href=null!==T&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(T)):null;const R=null===this.href?null:(0,d.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",R)}applyAttributeValue(T,R){const V=this.renderer,q=this.el.nativeElement;null!==R?V.setAttribute(q,T,R):V.removeAttribute(q,T)}get urlTree(){return null===this.routerLinkInput?null:lo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(R){return new(R||E)(d.rXU(mo),d.rXU(To),d.kS0("tabindex"),d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(bn.hb))}}static{this.\u0275dir=d.FsC({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,V){1&R&&d.bIt("click",function(de){return V.onClick(de.button,de.ctrlKey,de.shiftKey,de.altKey,de.metaKey)}),2&R&&d.BMQ("target",V.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",d.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",d.L39],replaceUrl:[2,"replaceUrl","replaceUrl",d.L39],routerLink:"routerLink"},standalone:!0,features:[d.GFd,d.OA$]})}}return E})();const yl=new d.nKC("");function Sc(E,...D){return(0,d.EmA)([{provide:Ba,multi:!0,useValue:E},[],{provide:To,useFactory:ja,deps:[mo]},{provide:d.iLQ,multi:!0,useFactory:Rc},D.map(T=>T.\u0275providers)])}function ja(E){return E.routerState.root}function Rc(){const E=(0,d.WQX)(d.zZn);return D=>{const T=E.get(d.o8S);if(D!==T.components[0])return;const R=E.get(mo),V=E.get(bu);1===E.get(Su)&&R.initialNavigation(),E.get(da,null,d.$GK.Optional)?.setUpPreloading(),E.get(yl,null,d.$GK.Optional)?.init(),R.resetRootComponentType(T.componentTypes[0]),V.closed||(V.next(),V.complete(),V.unsubscribe())}}const bu=new d.nKC("",{factory:()=>new ot.B}),Su=new d.nKC("",{providedIn:"root",factory:()=>1}),da=new d.nKC("");function ha(E){return function ns(E,D){return{\u0275kind:E,\u0275providers:D}}(5,[{provide:qi,useValue:E}])}},3345:(Kt,nt,O)=>{O.d(nt,{A:()=>Xe});var d=O(1076),z=O(1362),F=O(7852),ae=O(8041);class ie{constructor(st,Fe){this._delegate=st,this.firebase=Fe,(0,F._addComponent)(st,new z.uA("app-compat",()=>this,"PUBLIC")),this.container=st.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(st){this._delegate.automaticDataCollectionEnabled=st}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(st=>{this._delegate.checkDestroyed(),st()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(st,Fe=F._DEFAULT_ENTRY_NAME){var Tt;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(st);return!Pe.isInitialized()&&"EXPLICIT"===(null===(Tt=Pe.getComponent())||void 0===Tt?void 0:Tt.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:Fe})}_removeServiceInstance(st,Fe=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(st).clearInstance(Fe)}_addComponent(st){(0,F._addComponent)(this._delegate,st)}_addOrOverwriteComponent(st){(0,F._addOrOverwriteComponent)(this._delegate,st)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Qe=new d.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function je(){const mt=function Ye(mt){const st={},Fe={__esModule:!0,initializeApp:function Ae(De,K={}){const ce=F.initializeApp(De,K);if((0,d.gR)(st,ce.name))return st[ce.name];const vt=new mt(ce,Fe);return st[ce.name]=vt,vt},app:Pe,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Se(De){const K=De.name,ce=K.replace("-compat","");if(F._registerComponent(De)&&"PUBLIC"===De.type){const vt=(ot=Pe())=>{if("function"!=typeof ot[ce])throw Qe.create("invalid-app-argument",{appName:K});return ot[ce]()};void 0!==De.serviceProps&&(0,d.zw)(vt,De.serviceProps),Fe[ce]=vt,mt.prototype[ce]=function(...ot){return this._getService.bind(this,K).apply(this,De.multipleInstances?ot:[])}}return"PUBLIC"===De.type?Fe[ce]:null},removeApp:function Tt(De){delete st[De]},useAsService:function Te(De,K){return"serverAuth"===K?null:K},modularAPIs:F}};function Pe(De){if(!(0,d.gR)(st,De=De||F._DEFAULT_ENTRY_NAME))throw Qe.create("no-app",{appName:De});return st[De]}return Fe.default=Fe,Object.defineProperty(Fe,"apps",{get:function ge(){return Object.keys(st).map(De=>st[De])}}),Pe.App=mt,Fe}(ie);return mt.INTERNAL=Object.assign(Object.assign({},mt.INTERNAL),{createFirebaseNamespace:je,extendNamespace:function st(Fe){(0,d.zw)(mt,Fe)},createSubscribe:d.tD,ErrorFactory:d.FA,deepExtend:d.zw}),mt}(),ee=new ae.Vy("@firebase/app-compat");try{const mt=(0,d.mS)();if(void 0!==mt.firebase){ee.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const st=mt.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&ee.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Xe=J;!function Ve(mt){(0,F.registerVersion)("@firebase/app-compat","0.2.40",mt)}()},7852:(Kt,nt,O)=>{O.r(nt),O.d(nt,{FirebaseError:()=>ae.g,SDK_VERSION:()=>vi,_DEFAULT_ENTRY_NAME:()=>Ur,_addComponent:()=>Rr,_addOrOverwriteComponent:()=>mr,_apps:()=>Mt,_clearComponents:()=>xn,_components:()=>jr,_getProvider:()=>_o,_isFirebaseApp:()=>Di,_isFirebaseServerApp:()=>sn,_registerComponent:()=>yr,_removeServiceInstance:()=>tr,_serverApps:()=>Br,deleteApp:()=>he,getApp:()=>ht,getApps:()=>it,initializeApp:()=>Hr,initializeServerApp:()=>ci,onLog:()=>H,registerVersion:()=>ne,setLogLevel:()=>G});var d=O(467),z=O(1362),F=O(8041),ae=O(1076);const ie=(dt,$e)=>$e.some(Et=>dt instanceof Et);let pe,Qe;const J=new WeakMap,ee=new WeakMap,me=new WeakMap,Ge=new WeakMap,Ve=new WeakMap;let st={get(dt,$e,Et){if(dt instanceof IDBTransaction){if("done"===$e)return ee.get(dt);if("objectStoreNames"===$e)return dt.objectStoreNames||me.get(dt);if("store"===$e)return Et.objectStoreNames[1]?void 0:Et.objectStore(Et.objectStoreNames[0])}return Ae(dt[$e])},set:(dt,$e,Et)=>(dt[$e]=Et,!0),has:(dt,$e)=>dt instanceof IDBTransaction&&("done"===$e||"store"===$e)||$e in dt};function Pe(dt){return"function"==typeof dt?function Tt(dt){return dt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function je(){return Qe||(Qe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(dt)?function(...$e){return dt.apply(ge(this),$e),Ae(J.get(this))}:function(...$e){return Ae(dt.apply(ge(this),$e))}:function($e,...Et){const jt=dt.call(ge(this),$e,...Et);return me.set(jt,$e.sort?$e.sort():[$e]),Ae(jt)}}(dt):(dt instanceof IDBTransaction&&function mt(dt){if(ee.has(dt))return;const $e=new Promise((Et,jt)=>{const pn=()=>{dt.removeEventListener("complete",En),dt.removeEventListener("error",Cn),dt.removeEventListener("abort",Cn)},En=()=>{Et(),pn()},Cn=()=>{jt(dt.error||new DOMException("AbortError","AbortError")),pn()};dt.addEventListener("complete",En),dt.addEventListener("error",Cn),dt.addEventListener("abort",Cn)});ee.set(dt,$e)}(dt),ie(dt,function Ye(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(dt,st):dt)}function Ae(dt){if(dt instanceof IDBRequest)return function Xe(dt){const $e=new Promise((Et,jt)=>{const pn=()=>{dt.removeEventListener("success",En),dt.removeEventListener("error",Cn)},En=()=>{Et(Ae(dt.result)),pn()},Cn=()=>{jt(dt.error),pn()};dt.addEventListener("success",En),dt.addEventListener("error",Cn)});return $e.then(Et=>{Et instanceof IDBCursor&&J.set(Et,dt)}).catch(()=>{}),Ve.set($e,dt),$e}(dt);if(Ge.has(dt))return Ge.get(dt);const $e=Pe(dt);return $e!==dt&&(Ge.set(dt,$e),Ve.set($e,dt)),$e}const ge=dt=>Ve.get(dt),De=["get","getKey","getAll","getAllKeys","count"],K=["put","add","delete","clear"],ce=new Map;function vt(dt,$e){if(!(dt instanceof IDBDatabase)||$e in dt||"string"!=typeof $e)return;if(ce.get($e))return ce.get($e);const Et=$e.replace(/FromIndex$/,""),jt=$e!==Et,pn=K.includes(Et);if(!(Et in(jt?IDBIndex:IDBObjectStore).prototype)||!pn&&!De.includes(Et))return;const En=function(){var Cn=(0,d.A)(function*(Yn,...ur){const Gr=this.transaction(Yn,pn?"readwrite":"readonly");let te=Gr.store;return jt&&(te=te.index(ur.shift())),(yield Promise.all([te[Et](...ur),pn&&Gr.done]))[0]});return function(ur){return Cn.apply(this,arguments)}}();return ce.set($e,En),En}!function Fe(dt){st=dt(st)}(dt=>({...dt,get:($e,Et,jt)=>vt($e,Et)||dt.get($e,Et,jt),has:($e,Et)=>!!vt($e,Et)||dt.has($e,Et)}));class ot{constructor($e){this.container=$e}getPlatformInfoString(){return this.container.getProviders().map(Et=>{if(function bn(dt){const $e=dt.getComponent();return"VERSION"===$e?.type}(Et)){const jt=Et.getImmediate();return`${jt.library}/${jt.version}`}return null}).filter(Et=>Et).join(" ")}}const hn="@firebase/app",sr="0.10.10",Kn=new F.Vy("@firebase/app"),kr="@firebase/app-compat",ar="@firebase/analytics-compat",qe="@firebase/analytics",at="@firebase/app-check-compat",yt="@firebase/app-check",lt="@firebase/auth",ke="@firebase/auth-compat",Oe="@firebase/database",se="@firebase/database-compat",_e="@firebase/functions",Re="@firebase/functions-compat",Ue="@firebase/installations",Hn="@firebase/installations-compat",Zn="@firebase/messaging",Ci="@firebase/messaging-compat",Un="@firebase/performance",Gn="@firebase/performance-compat",lr="@firebase/remote-config",zt="@firebase/remote-config-compat",Fr="@firebase/storage",yi="@firebase/storage-compat",ui="@firebase/firestore",$n="@firebase/vertexai-preview",dr="@firebase/firestore-compat",gr="firebase",Ur="[DEFAULT]",wn={[hn]:"fire-core",[kr]:"fire-core-compat",[qe]:"fire-analytics",[ar]:"fire-analytics-compat",[yt]:"fire-app-check",[at]:"fire-app-check-compat",[lt]:"fire-auth",[ke]:"fire-auth-compat",[Oe]:"fire-rtdb",[se]:"fire-rtdb-compat",[_e]:"fire-fn",[Re]:"fire-fn-compat",[Ue]:"fire-iid",[Hn]:"fire-iid-compat",[Zn]:"fire-fcm",[Ci]:"fire-fcm-compat",[Un]:"fire-perf",[Gn]:"fire-perf-compat",[lr]:"fire-rc",[zt]:"fire-rc-compat",[Fr]:"fire-gcs",[yi]:"fire-gcs-compat",[ui]:"fire-fst",[dr]:"fire-fst-compat",[$n]:"fire-vertex","fire-js":"fire-js",[gr]:"fire-js-all"},Mt=new Map,Br=new Map,jr=new Map;function Rr(dt,$e){try{dt.container.addComponent($e)}catch(Et){Kn.debug(`Component ${$e.name} failed to register with FirebaseApp ${dt.name}`,Et)}}function mr(dt,$e){dt.container.addOrOverwriteComponent($e)}function yr(dt){const $e=dt.name;if(jr.has($e))return Kn.debug(`There were multiple attempts to register component ${$e}.`),!1;jr.set($e,dt);for(const Et of Mt.values())Rr(Et,dt);for(const Et of Br.values())Rr(Et,dt);return!0}function _o(dt,$e){const Et=dt.container.getProvider("heartbeat").getImmediate({optional:!0});return Et&&Et.triggerHeartbeat(),dt.container.getProvider($e)}function tr(dt,$e,Et=Ur){_o(dt,$e).clearInstance(Et)}function Di(dt){return void 0!==dt.options}function sn(dt){return void 0!==dt.settings}function xn(){jr.clear()}const Yr=new ae.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Jr{constructor($e,Et,jt){this._isDeleted=!1,this._options=Object.assign({},$e),this._config=Object.assign({},Et),this._name=Et.name,this._automaticDataCollectionEnabled=Et.automaticDataCollectionEnabled,this._container=jt,this.container.addComponent(new z.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this.checkDestroyed(),this._automaticDataCollectionEnabled=$e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($e){this._isDeleted=$e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}class $r extends Jr{constructor($e,Et,jt,pn){const En=void 0!==Et.automaticDataCollectionEnabled&&Et.automaticDataCollectionEnabled,Cn={name:jt,automaticDataCollectionEnabled:En};super(void 0!==$e.apiKey?$e:$e.options,Cn,pn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:En},Et),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Et.releaseOnDeref=void 0,ne(hn,sr,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount($e){this.isDeleted||(this._refCount++,void 0!==$e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register($e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){he(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Yr.create("server-app-deleted")}}const vi="10.13.1";function Hr(dt,$e={}){let Et=dt;"object"!=typeof $e&&($e={name:$e});const jt=Object.assign({name:Ur,automaticDataCollectionEnabled:!1},$e),pn=jt.name;if("string"!=typeof pn||!pn)throw Yr.create("bad-app-name",{appName:String(pn)});if(Et||(Et=(0,ae.T9)()),!Et)throw Yr.create("no-options");const En=Mt.get(pn);if(En){if((0,ae.bD)(Et,En.options)&&(0,ae.bD)(jt,En.config))return En;throw Yr.create("duplicate-app",{appName:pn})}const Cn=new z.h1(pn);for(const ur of jr.values())Cn.addComponent(ur);const Yn=new Jr(Et,jt,Cn);return Mt.set(pn,Yn),Yn}function ci(dt,$e){if((0,ae.Bd)()&&!(0,ae.p7)())throw Yr.create("invalid-server-app-environment");let Et;void 0===$e.automaticDataCollectionEnabled&&($e.automaticDataCollectionEnabled=!1),Et=Di(dt)?dt.options:dt;const jt=Object.assign(Object.assign({},$e),Et);if(void 0!==jt.releaseOnDeref&&delete jt.releaseOnDeref,void 0!==$e.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Yr.create("finalization-registry-not-supported",{});const En=""+(Gr=JSON.stringify(jt),[...Gr].reduce((te,we)=>Math.imul(31,te)+we.charCodeAt(0)|0,0)),Cn=Br.get(En);var Gr;if(Cn)return Cn.incRefCount($e.releaseOnDeref),Cn;const Yn=new z.h1(En);for(const Gr of jr.values())Yn.addComponent(Gr);const ur=new $r(Et,$e,En,Yn);return Br.set(En,ur),ur}function ht(dt=Ur){const $e=Mt.get(dt);if(!$e&&dt===Ur&&(0,ae.T9)())return Hr();if(!$e)throw Yr.create("no-app",{appName:dt});return $e}function it(){return Array.from(Mt.values())}function he(dt){return xe.apply(this,arguments)}function xe(){return(xe=(0,d.A)(function*(dt){let $e=!1;const Et=dt.name;Mt.has(Et)?($e=!0,Mt.delete(Et)):Br.has(Et)&&dt.decRefCount()<=0&&(Br.delete(Et),$e=!0),$e&&(yield Promise.all(dt.container.getProviders().map(jt=>jt.delete())),dt.isDeleted=!0)})).apply(this,arguments)}function ne(dt,$e,Et){var jt;let pn=null!==(jt=wn[dt])&&void 0!==jt?jt:dt;Et&&(pn+=`-${Et}`);const En=pn.match(/\s|\//),Cn=$e.match(/\s|\//);if(En||Cn){const Yn=[`Unable to register library "${pn}" with version "${$e}":`];return En&&Yn.push(`library name "${pn}" contains illegal characters (whitespace or "/")`),En&&Cn&&Yn.push("and"),Cn&&Yn.push(`version name "${$e}" contains illegal characters (whitespace or "/")`),void Kn.warn(Yn.join(" "))}yr(new z.uA(`${pn}-version`,()=>({library:pn,version:$e}),"VERSION"))}function H(dt,$e){if(null!==dt&&"function"!=typeof dt)throw Yr.create("invalid-log-argument");(0,F.Ey)(dt,$e)}function G(dt){(0,F.He)(dt)}const Y="firebase-heartbeat-database",le=1,et="firebase-heartbeat-store";let Nt=null;function Xt(){return Nt||(Nt=function Se(dt,$e,{blocked:Et,upgrade:jt,blocking:pn,terminated:En}={}){const Cn=indexedDB.open(dt,$e),Yn=Ae(Cn);return jt&&Cn.addEventListener("upgradeneeded",ur=>{jt(Ae(Cn.result),ur.oldVersion,ur.newVersion,Ae(Cn.transaction),ur)}),Et&&Cn.addEventListener("blocked",ur=>Et(ur.oldVersion,ur.newVersion,ur)),Yn.then(ur=>{En&&ur.addEventListener("close",()=>En()),pn&&ur.addEventListener("versionchange",Gr=>pn(Gr.oldVersion,Gr.newVersion,Gr))}).catch(()=>{}),Yn}(Y,le,{upgrade:(dt,$e)=>{if(0===$e)try{dt.createObjectStore(et)}catch(Et){console.warn(Et)}}}).catch(dt=>{throw Yr.create("idb-open",{originalErrorMessage:dt.message})})),Nt}function Pn(){return(Pn=(0,d.A)(function*(dt){try{const Et=(yield Xt()).transaction(et),jt=yield Et.objectStore(et).get(Tn(dt));return yield Et.done,jt}catch($e){if($e instanceof ae.g)Kn.warn($e.message);else{const Et=Yr.create("idb-get",{originalErrorMessage:$e?.message});Kn.warn(Et.message)}}})).apply(this,arguments)}function qn(dt,$e){return An.apply(this,arguments)}function An(){return(An=(0,d.A)(function*(dt,$e){try{const jt=(yield Xt()).transaction(et,"readwrite");yield jt.objectStore(et).put($e,Tn(dt)),yield jt.done}catch(Et){if(Et instanceof ae.g)Kn.warn(Et.message);else{const jt=Yr.create("idb-set",{originalErrorMessage:Et?.message});Kn.warn(jt.message)}}})).apply(this,arguments)}function Tn(dt){return`${dt.name}!${dt.options.appId}`}class Eo{constructor($e){this.container=$e,this._heartbeatsCache=null;const Et=this.container.getProvider("app").getImmediate();this._storage=new ko(Et),this._heartbeatsCachePromise=this._storage.read().then(jt=>(this._heartbeatsCache=jt,jt))}triggerHeartbeat(){var $e=this;return(0,d.A)(function*(){var Et,jt;try{const En=$e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Cn=Ni();return null==(null===(Et=$e._heartbeatsCache)||void 0===Et?void 0:Et.heartbeats)&&($e._heartbeatsCache=yield $e._heartbeatsCachePromise,null==(null===(jt=$e._heartbeatsCache)||void 0===jt?void 0:jt.heartbeats))||$e._heartbeatsCache.lastSentHeartbeatDate===Cn||$e._heartbeatsCache.heartbeats.some(Yn=>Yn.date===Cn)?void 0:($e._heartbeatsCache.heartbeats.push({date:Cn,agent:En}),$e._heartbeatsCache.heartbeats=$e._heartbeatsCache.heartbeats.filter(Yn=>{const ur=new Date(Yn.date).valueOf();return Date.now()-ur<=2592e6}),$e._storage.overwrite($e._heartbeatsCache))}catch(pn){Kn.warn(pn)}})()}getHeartbeatsHeader(){var $e=this;return(0,d.A)(function*(){var Et;try{if(null===$e._heartbeatsCache&&(yield $e._heartbeatsCachePromise),null==(null===(Et=$e._heartbeatsCache)||void 0===Et?void 0:Et.heartbeats)||0===$e._heartbeatsCache.heartbeats.length)return"";const jt=Ni(),{heartbeatsToSend:pn,unsentEntries:En}=function Lo(dt,$e=1024){const Et=[];let jt=dt.slice();for(const pn of dt){const En=Et.find(Cn=>Cn.agent===pn.agent);if(En){if(En.dates.push(pn.date),co(Et)>$e){En.dates.pop();break}}else if(Et.push({agent:pn.agent,dates:[pn.date]}),co(Et)>$e){Et.pop();break}jt=jt.slice(1)}return{heartbeatsToSend:Et,unsentEntries:jt}}($e._heartbeatsCache.heartbeats),Cn=(0,ae.Uj)(JSON.stringify({version:2,heartbeats:pn}));return $e._heartbeatsCache.lastSentHeartbeatDate=jt,En.length>0?($e._heartbeatsCache.heartbeats=En,yield $e._storage.overwrite($e._heartbeatsCache)):($e._heartbeatsCache.heartbeats=[],$e._storage.overwrite($e._heartbeatsCache)),Cn}catch(jt){return Kn.warn(jt),""}})()}}function Ni(){return(new Date).toISOString().substring(0,10)}class ko{constructor($e){this.app=$e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.A)(function*(){return!!(0,ae.zW)()&&(0,ae.eX)().then(()=>!0).catch(()=>!1)})()}read(){var $e=this;return(0,d.A)(function*(){if(yield $e._canUseIndexedDBPromise){const jt=yield function Sn(dt){return Pn.apply(this,arguments)}($e.app);return jt?.heartbeats?jt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite($e){var Et=this;return(0,d.A)(function*(){var jt;if(yield Et._canUseIndexedDBPromise){const En=yield Et.read();return qn(Et.app,{lastSentHeartbeatDate:null!==(jt=$e.lastSentHeartbeatDate)&&void 0!==jt?jt:En.lastSentHeartbeatDate,heartbeats:$e.heartbeats})}})()}add($e){var Et=this;return(0,d.A)(function*(){var jt;if(yield Et._canUseIndexedDBPromise){const En=yield Et.read();return qn(Et.app,{lastSentHeartbeatDate:null!==(jt=$e.lastSentHeartbeatDate)&&void 0!==jt?jt:En.lastSentHeartbeatDate,heartbeats:[...En.heartbeats,...$e.heartbeats]})}})()}}function co(dt){return(0,ae.Uj)(JSON.stringify({version:2,heartbeats:dt})).length}!function lo(dt){yr(new z.uA("platform-logger",$e=>new ot($e),"PRIVATE")),yr(new z.uA("heartbeat",$e=>new Eo($e),"PRIVATE")),ne(hn,sr,dt),ne(hn,sr,"esm2017"),ne("fire-js","")}("")},1362:(Kt,nt,O)=>{O.d(nt,{h1:()=>Ye,uA:()=>F});var d=O(467),z=O(1076);class F{constructor(J,ee,me){this.name=J,this.instanceFactory=ee,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const ae="[DEFAULT]";class ie{constructor(J,ee){this.name=J,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const ee=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(ee)){const me=new z.cY;if(this.instancesDeferred.set(ee,me),this.isInitialized(ee)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:ee});Ge&&me.resolve(Ge)}catch{}}return this.instancesDeferred.get(ee).promise}getImmediate(J){var ee;const me=this.normalizeInstanceIdentifier(J?.identifier),Ge=null!==(ee=J?.optional)&&void 0!==ee&&ee;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(Ve){if(Ge)return null;throw Ve}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function Qe(je){return"EAGER"===je.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[ee,me]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(ee);try{const Ve=this.getOrInitializeService({instanceIdentifier:Ge});me.resolve(Ve)}catch{}}}}clearInstance(J=ae){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,d.A)(function*(){const ee=Array.from(J.instances.values());yield Promise.all([...ee.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...ee.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=ae){return this.instances.has(J)}getOptions(J=ae){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:ee={}}=J,me=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:me,options:ee});for(const[Ve,Xe]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(Ve)&&Xe.resolve(Ge);return Ge}onInit(J,ee){var me;const Ge=this.normalizeInstanceIdentifier(ee),Ve=null!==(me=this.onInitCallbacks.get(Ge))&&void 0!==me?me:new Set;Ve.add(J),this.onInitCallbacks.set(Ge,Ve);const Xe=this.instances.get(Ge);return Xe&&J(Xe,Ge),()=>{Ve.delete(J)}}invokeOnInitCallbacks(J,ee){const me=this.onInitCallbacks.get(ee);if(me)for(const Ge of me)try{Ge(J,ee)}catch{}}getOrInitializeService({instanceIdentifier:J,options:ee={}}){let me=this.instances.get(J);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(je=J,je===ae?void 0:je),options:ee}),this.instances.set(J,me),this.instancesOptions.set(J,ee),this.invokeOnInitCallbacks(me,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,me)}catch{}var je;return me||null}normalizeInstanceIdentifier(J=ae){return this.component?this.component.multipleInstances?J:ae:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ye{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const ee=this.getProvider(J.name);if(ee.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);ee.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const ee=new ie(J,this);return this.providers.set(J,ee),ee}getProviders(){return Array.from(this.providers.values())}}},8041:(Kt,nt,O)=>{O.d(nt,{$b:()=>z,Ey:()=>je,He:()=>Ye,Vy:()=>Qe});const d=[];var z=function(J){return J[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",J}(z||{});const F={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},ae=z.INFO,ie={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},pe=(J,ee,...me)=>{if(ee<J.logLevel)return;const Ge=(new Date).toISOString(),Ve=ie[ee];if(!Ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[Ve](`[${Ge}]  ${J.name}:`,...me)};class Qe{constructor(ee){this.name=ee,this._logLevel=ae,this._logHandler=pe,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in z))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?F[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...ee),this._logHandler(this,z.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...ee),this._logHandler(this,z.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,z.INFO,...ee),this._logHandler(this,z.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,z.WARN,...ee),this._logHandler(this,z.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...ee),this._logHandler(this,z.ERROR,...ee)}}function Ye(J){d.forEach(ee=>{ee.setLogLevel(J)})}function je(J,ee){for(const me of d){let Ge=null;ee&&ee.level&&(Ge=F[ee.level]),me.userLogHandler=null===J?null:(Ve,Xe,...mt)=>{const st=mt.map(Fe=>{if(null==Fe)return null;if("string"==typeof Fe)return Fe;if("number"==typeof Fe||"boolean"==typeof Fe)return Fe.toString();if(Fe instanceof Error)return Fe.message;try{return JSON.stringify(Fe)}catch{return null}}).filter(Fe=>Fe).join(" ");Xe>=(Ge??Ve.logLevel)&&J({level:z[Xe].toLowerCase(),message:st,args:mt,type:Ve.name})}}}},2438:(Kt,nt,O)=>{var d=O(467),z=O(3345),F=O(576),ae=O(1076),Qe=(O(7852),O(8041),O(1362));function Ye(){return window}function ee(){return ee=(0,d.A)(function*(H,G,Y){var le;const{BuildInfo:et}=Ye();(0,F.au)(G.sessionId,"AuthEvent did not contain a session ID");const Nt=yield function Fe(H){return Tt.apply(this,arguments)}(G.sessionId),Xt={};return(0,F.av)()?Xt.ibi=et.packageName:(0,F.aw)()?Xt.apn=et.packageName:(0,F.ax)(H,"operation-not-supported-in-this-environment"),et.displayName&&(Xt.appDisplayName=et.displayName),Xt.sessionId=Nt,(0,F.ay)(H,Y,G.type,void 0,null!==(le=G.eventId)&&void 0!==le?le:void 0,Xt)}),ee.apply(this,arguments)}function Ge(){return(Ge=(0,d.A)(function*(H){const{BuildInfo:G}=Ye(),Y={};(0,F.av)()?Y.iosBundleId=G.packageName:(0,F.aw)()?Y.androidPackageName=G.packageName:(0,F.ax)(H,"operation-not-supported-in-this-environment"),yield(0,F.az)(H,Y)})).apply(this,arguments)}function mt(){return(mt=(0,d.A)(function*(H,G,Y){const{cordova:le}=Ye();let et=()=>{};try{yield new Promise((Nt,Xt)=>{let Sn=null;function Pn(){var Tn;Nt();const nr=null===(Tn=le.plugins.browsertab)||void 0===Tn?void 0:Tn.close;"function"==typeof nr&&nr(),"function"==typeof Y?.close&&Y.close()}function qn(){Sn||(Sn=window.setTimeout(()=>{Xt((0,F.aB)(H,"redirect-cancelled-by-user"))},2e3))}function An(){"visible"===document?.visibilityState&&qn()}G.addPassiveListener(Pn),document.addEventListener("resume",qn,!1),(0,F.aw)()&&document.addEventListener("visibilitychange",An,!1),et=()=>{G.removePassiveListener(Pn),document.removeEventListener("resume",qn,!1),document.removeEventListener("visibilitychange",An,!1),Sn&&window.clearTimeout(Sn)}})}finally{et()}})).apply(this,arguments)}function Tt(){return(Tt=(0,d.A)(function*(H){const G=function Pe(H){if((0,F.au)(/[0-9a-zA-Z]+/.test(H),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(H);const G=new ArrayBuffer(H.length),Y=new Uint8Array(G);for(let le=0;le<H.length;le++)Y[le]=H.charCodeAt(le);return Y}(H),Y=yield crypto.subtle.digest("SHA-256",G);return Array.from(new Uint8Array(Y)).map(et=>et.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ge extends F.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(G=>{this.resolveInitialized=G})}addPassiveListener(G){this.passiveListeners.add(G)}removePassiveListener(G){this.passiveListeners.delete(G)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(G){return this.resolveInitialized(),this.passiveListeners.forEach(Y=>Y(G)),super.onEvent(G)}initialized(){var G=this;return(0,d.A)(function*(){yield G.initPromise})()}}function De(H){return K.apply(this,arguments)}function K(){return(K=(0,d.A)(function*(H){const G=yield ot()._get(bn(H));return G&&(yield ot()._remove(bn(H))),G})).apply(this,arguments)}function vt(){const H=[];for(let Y=0;Y<20;Y++){const le=Math.floor(62*Math.random());H.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(le))}return H.join("")}function ot(){return(0,F.aE)(F.b)}function bn(H){return(0,F.aF)("authEvent",H.config.apiKey,H.name)}function Kn(H){if(!H?.includes("?"))return{};const[G,...Y]=H.split("?");return(0,ae.I9)(Y.join("?"))}const qe=class ar{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aG,this._overrideRedirectResult=F.aH}_initialize(G){var Y=this;return(0,d.A)(function*(){const le=G._key();let et=Y.eventManagers.get(le);return et||(et=new ge(G),Y.eventManagers.set(le,et),Y.attachCallbackListeners(G,et)),et})()}_openPopup(G){(0,F.ax)(G,"operation-not-supported-in-this-environment")}_openRedirect(G,Y,le,et){var Nt=this;return(0,d.A)(function*(){!function st(H){var G,Y,le,et,Nt,Xt,Sn,Pn,qn,An;const Tn=Ye();(0,F.aC)("function"==typeof(null===(G=Tn?.universalLinks)||void 0===G?void 0:G.subscribe),H,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.aC)(typeof(null===(Y=Tn?.BuildInfo)||void 0===Y?void 0:Y.packageName)<"u",H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.aC)("function"==typeof(null===(Nt=null===(et=null===(le=Tn?.cordova)||void 0===le?void 0:le.plugins)||void 0===et?void 0:et.browsertab)||void 0===Nt?void 0:Nt.openUrl),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aC)("function"==typeof(null===(Pn=null===(Sn=null===(Xt=Tn?.cordova)||void 0===Xt?void 0:Xt.plugins)||void 0===Sn?void 0:Sn.browsertab)||void 0===Pn?void 0:Pn.isAvailable),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aC)("function"==typeof(null===(An=null===(qn=Tn?.cordova)||void 0===qn?void 0:qn.InAppBrowser)||void 0===An?void 0:An.open),H,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(G);const Xt=yield Nt._initialize(G);yield Xt.initialized(),Xt.resetRedirect(),(0,F.aI)(),yield Nt._originValidation(G);const Sn=function Se(H,G,Y=null){return{type:G,eventId:Y,urlResponse:null,sessionId:vt(),postBody:null,tenantId:H.tenantId,error:(0,F.aB)(H,"no-auth-event")}}(G,le,et);yield function Te(H,G){return ot()._set(bn(H),G)}(G,Sn);const Pn=yield function J(H,G,Y){return ee.apply(this,arguments)}(G,Sn,Y),qn=yield function Ve(H){const{cordova:G}=Ye();return new Promise(Y=>{G.plugins.browsertab.isAvailable(le=>{let et=null;le?G.plugins.browsertab.openUrl(H):et=G.InAppBrowser.open(H,(0,F.aA)()?"_blank":"_system","location=yes"),Y(et)})})}(Pn);return function Xe(H,G,Y){return mt.apply(this,arguments)}(G,Xt,qn)})()}_isIframeWebStorageSupported(G,Y){throw new Error("Method not implemented.")}_originValidation(G){const Y=G._key();return this.originValidationPromises[Y]||(this.originValidationPromises[Y]=function me(H){return Ge.apply(this,arguments)}(G)),this.originValidationPromises[Y]}attachCallbackListeners(G,Y){const{universalLinks:le,handleOpenURL:et,BuildInfo:Nt}=Ye(),Xt=setTimeout((0,d.A)(function*(){yield De(G),Y.onEvent(at())}),500),Sn=function(){var An=(0,d.A)(function*(Tn){clearTimeout(Xt);const nr=yield De(G);let ro=null;nr&&Tn?.url&&(ro=function ce(H,G){var Y,le;const et=function sr(H){const G=Kn(H),Y=G.link?decodeURIComponent(G.link):void 0,le=Kn(Y).link,et=G.deep_link_id?decodeURIComponent(G.deep_link_id):void 0;return Kn(et).link||et||le||Y||H}(G);if(et.includes("/__/auth/callback")){const Nt=Kn(et),Xt=Nt.firebaseError?function hn(H){try{return JSON.parse(H)}catch{return null}}(decodeURIComponent(Nt.firebaseError)):null,Sn=null===(le=null===(Y=Xt?.code)||void 0===Y?void 0:Y.split("auth/"))||void 0===le?void 0:le[1],Pn=Sn?(0,F.aB)(Sn):null;return Pn?{type:H.type,eventId:H.eventId,tenantId:H.tenantId,error:Pn,urlResponse:null,sessionId:null,postBody:null}:{type:H.type,eventId:H.eventId,tenantId:H.tenantId,sessionId:H.sessionId,urlResponse:et,postBody:null}}return null}(nr,Tn.url)),Y.onEvent(ro||at())});return function(nr){return An.apply(this,arguments)}}();typeof le<"u"&&"function"==typeof le.subscribe&&le.subscribe(null,Sn);const Pn=et,qn=`${Nt.packageName.toLowerCase()}://`;Ye().handleOpenURL=function(){var An=(0,d.A)(function*(Tn){if(Tn.toLowerCase().startsWith(qn)&&Sn({url:Tn}),"function"==typeof Pn)try{Pn(Tn)}catch(nr){console.error(nr)}});return function(Tn){return An.apply(this,arguments)}}()}};function at(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.aB)("no-auth-event")}}function se(){var H;return(null===(H=self?.location)||void 0===H?void 0:H.protocol)||null}function Re(H=(0,ae.ZQ)()){return!("file:"!==se()&&"ionic:"!==se()&&"capacitor:"!==se()||!H.toLowerCase().match(/iphone|ipad|ipod|android/))}function Un(){try{const H=self.localStorage,G=F.aN();if(H)return H.setItem(G,"1"),H.removeItem(G),!function Ci(H=(0,ae.ZQ)()){return function Hn(){return(0,ae.lT)()&&11===document?.documentMode}()||function Zn(H=(0,ae.ZQ)()){return/Edge\/\d+/.test(H)}(H)}()||(0,ae.zW)()}catch{return Gn()&&(0,ae.zW)()}return!1}function Gn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function lr(){return(function _e(){return"http:"===se()||"https:"===se()}()||(0,ae.sr)()||Re())&&!function Ue(){return(0,ae.lV)()||(0,ae.Ll)()}()&&Un()&&!Gn()}function zt(){return Re()&&typeof document<"u"}function yi(){return(yi=(0,d.A)(function*(){return!!zt()&&new Promise(H=>{const G=setTimeout(()=>{H(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(G),H(!0)})})})).apply(this,arguments)}const $n={LOCAL:"local",NONE:"none",SESSION:"session"},dr=F.aC,gr="persistence";function Ur(H){return wn.apply(this,arguments)}function wn(){return(wn=(0,d.A)(function*(H){yield H._initializationPromise;const G=Br(),Y=F.aF(gr,H.config.apiKey,H.name);G&&G.setItem(Y,H._getPersistence())})).apply(this,arguments)}function Br(){var H;try{return(null===(H=function ui(){return typeof window<"u"?window:null}())||void 0===H?void 0:H.sessionStorage)||null}catch{return null}}const jr=F.aC;class Rr{constructor(){this.browserResolver=F.aE(F.k),this.cordovaResolver=F.aE(qe),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aG,this._overrideRedirectResult=F.aH}_initialize(G){var Y=this;return(0,d.A)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._initialize(G)})()}_openPopup(G,Y,le,et){var Nt=this;return(0,d.A)(function*(){return yield Nt.selectUnderlyingResolver(),Nt.assertedUnderlyingResolver._openPopup(G,Y,le,et)})()}_openRedirect(G,Y,le,et){var Nt=this;return(0,d.A)(function*(){return yield Nt.selectUnderlyingResolver(),Nt.assertedUnderlyingResolver._openRedirect(G,Y,le,et)})()}_isIframeWebStorageSupported(G,Y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(G,Y)}_originValidation(G){return this.assertedUnderlyingResolver._originValidation(G)}get _shouldInitProactively(){return zt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return jr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var G=this;return(0,d.A)(function*(){if(G.underlyingResolver)return;const Y=yield function Fr(){return yi.apply(this,arguments)}();G.underlyingResolver=Y?G.cordovaResolver:G.browserResolver})()}}function mr(H){return H.unwrap()}function _o(H){return Di(H)}function Di(H){const{_tokenResponse:G}=H instanceof ae.g?H.customData:H;if(!G)return null;if(!(H instanceof ae.g)&&"temporaryProof"in G&&"phoneNumber"in G)return F.P.credentialFromResult(H);const Y=G.providerId;if(!Y||Y===F.p.PASSWORD)return null;let le;switch(Y){case F.p.GOOGLE:le=F.X;break;case F.p.FACEBOOK:le=F.W;break;case F.p.GITHUB:le=F.Y;break;case F.p.TWITTER:le=F.$;break;default:const{oauthIdToken:et,oauthAccessToken:Nt,oauthTokenSecret:Xt,pendingToken:Sn,nonce:Pn}=G;return Nt||Xt||et||Sn?Sn?Y.startsWith("saml.")?F.aQ._create(Y,Sn):F.N._fromParams({providerId:Y,signInMethod:Y,pendingToken:Sn,idToken:et,accessToken:Nt}):new F.Z(Y).credential({idToken:et,accessToken:Nt,rawNonce:Pn}):null}return H instanceof ae.g?le.credentialFromError(H):le.credentialFromResult(H)}function sn(H,G){return G.catch(Y=>{throw Y instanceof ae.g&&function tr(H,G){var Y;const le=null===(Y=G.customData)||void 0===Y?void 0:Y._tokenResponse;if("auth/multi-factor-auth-required"===G?.code)G.resolver=new Yr(H,F.as(H,G));else if(le){const et=Di(G),Nt=G;et&&(Nt.credential=et,Nt.tenantId=le.tenantId||void 0,Nt.email=le.email||void 0,Nt.phoneNumber=le.phoneNumber||void 0)}}(H,Y),Y}).then(Y=>{const et=Y.user;return{operationType:Y.operationType,credential:_o(Y),additionalUserInfo:F.aq(Y),user:Jr.getOrCreate(et)}})}function xn(H,G){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,d.A)(function*(H,G){const Y=yield G;return{verificationId:Y.verificationId,confirm:le=>sn(H,Y.confirm(le))}})).apply(this,arguments)}class Yr{constructor(G,Y){this.resolver=Y,this.auth=function yr(H){return H.wrapped()}(G)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(G){return sn(mr(this.auth),this.resolver.resolveSignIn(G))}}class Jr{constructor(G){this._delegate=G,this.multiFactor=F.at(G)}static getOrCreate(G){return Jr.USER_MAP.has(G)||Jr.USER_MAP.set(G,new Jr(G)),Jr.USER_MAP.get(G)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(G){return this._delegate.getIdTokenResult(G)}getIdToken(G){return this._delegate.getIdToken(G)}linkAndRetrieveDataWithCredential(G){return this.linkWithCredential(G)}linkWithCredential(G){var Y=this;return(0,d.A)(function*(){return sn(Y.auth,F.a2(Y._delegate,G))})()}linkWithPhoneNumber(G,Y){var le=this;return(0,d.A)(function*(){return xn(le.auth,F.l(le._delegate,G,Y))})()}linkWithPopup(G){var Y=this;return(0,d.A)(function*(){return sn(Y.auth,F.d(Y._delegate,G,Rr))})()}linkWithRedirect(G){var Y=this;return(0,d.A)(function*(){return yield Ur(F.aJ(Y.auth)),F.g(Y._delegate,G,Rr)})()}reauthenticateAndRetrieveDataWithCredential(G){return this.reauthenticateWithCredential(G)}reauthenticateWithCredential(G){var Y=this;return(0,d.A)(function*(){return sn(Y.auth,F.a3(Y._delegate,G))})()}reauthenticateWithPhoneNumber(G,Y){return xn(this.auth,F.r(this._delegate,G,Y))}reauthenticateWithPopup(G){return sn(this.auth,F.e(this._delegate,G,Rr))}reauthenticateWithRedirect(G){var Y=this;return(0,d.A)(function*(){return yield Ur(F.aJ(Y.auth)),F.h(Y._delegate,G,Rr)})()}sendEmailVerification(G){return F.ag(this._delegate,G)}unlink(G){var Y=this;return(0,d.A)(function*(){return yield F.ap(Y._delegate,G),Y})()}updateEmail(G){return F.al(this._delegate,G)}updatePassword(G){return F.am(this._delegate,G)}updatePhoneNumber(G){return F.u(this._delegate,G)}updateProfile(G){return F.ak(this._delegate,G)}verifyBeforeUpdateEmail(G,Y){return F.ah(this._delegate,G,Y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Jr.USER_MAP=new WeakMap;const $r=F.aC;let vi=(()=>{class H{constructor(Y,le){if(this.app=Y,le.isInitialized())return this._delegate=le.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:et}=Y.options;$r(et,"invalid-api-key",{appName:Y.name}),$r(et,"invalid-api-key",{appName:Y.name});const Nt=typeof window<"u"?Rr:void 0;this._delegate=le.initialize({options:{persistence:ci(et,Y.name),popupRedirectResolver:Nt}}),this._delegate._updateErrorMap(F.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Y){this._delegate.languageCode=Y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Y){this._delegate.tenantId=Y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Y,le){F.K(this._delegate,Y,le)}applyActionCode(Y){return F.a7(this._delegate,Y)}checkActionCode(Y){return F.a8(this._delegate,Y)}confirmPasswordReset(Y,le){return F.a6(this._delegate,Y,le)}createUserWithEmailAndPassword(Y,le){var et=this;return(0,d.A)(function*(){return sn(et._delegate,F.aa(et._delegate,Y,le))})()}fetchProvidersForEmail(Y){return this.fetchSignInMethodsForEmail(Y)}fetchSignInMethodsForEmail(Y){return F.af(this._delegate,Y)}isSignInWithEmailLink(Y){return F.ad(this._delegate,Y)}getRedirectResult(){var Y=this;return(0,d.A)(function*(){$r(lr(),Y._delegate,"operation-not-supported-in-this-environment");const le=yield F.j(Y._delegate,Rr);return le?sn(Y._delegate,Promise.resolve(le)):{credential:null,user:null}})()}addFrameworkForLogging(Y){!function yt(H,G){(0,F.aJ)(H)._logFramework(G)}(this._delegate,Y)}onAuthStateChanged(Y,le,et){const{next:Nt,error:Xt,complete:Sn}=Hr(Y,le,et);return this._delegate.onAuthStateChanged(Nt,Xt,Sn)}onIdTokenChanged(Y,le,et){const{next:Nt,error:Xt,complete:Sn}=Hr(Y,le,et);return this._delegate.onIdTokenChanged(Nt,Xt,Sn)}sendSignInLinkToEmail(Y,le){return F.ac(this._delegate,Y,le)}sendPasswordResetEmail(Y,le){return F.a5(this._delegate,Y,le||void 0)}setPersistence(Y){var le=this;return(0,d.A)(function*(){let et;switch(function uo(H,G){dr(Object.values($n).includes(G),H,"invalid-persistence-type"),(0,ae.lV)()?dr(G!==$n.SESSION,H,"unsupported-persistence-type"):(0,ae.Ll)()?dr(G===$n.NONE,H,"unsupported-persistence-type"):Gn()?dr(G===$n.NONE||G===$n.LOCAL&&(0,ae.zW)(),H,"unsupported-persistence-type"):dr(G===$n.NONE||Un(),H,"unsupported-persistence-type")}(le._delegate,Y),Y){case $n.SESSION:et=F.a;break;case $n.LOCAL:et=(yield F.aE(F.i)._isAvailable())?F.i:F.b;break;case $n.NONE:et=F.U;break;default:return F.ax("argument-error",{appName:le._delegate.name})}return le._delegate.setPersistence(et)})()}signInAndRetrieveDataWithCredential(Y){return this.signInWithCredential(Y)}signInAnonymously(){return sn(this._delegate,F.a0(this._delegate))}signInWithCredential(Y){return sn(this._delegate,F.a1(this._delegate,Y))}signInWithCustomToken(Y){return sn(this._delegate,F.a4(this._delegate,Y))}signInWithEmailAndPassword(Y,le){return sn(this._delegate,F.ab(this._delegate,Y,le))}signInWithEmailLink(Y,le){return sn(this._delegate,F.ae(this._delegate,Y,le))}signInWithPhoneNumber(Y,le){return xn(this._delegate,F.s(this._delegate,Y,le))}signInWithPopup(Y){var le=this;return(0,d.A)(function*(){return $r(lr(),le._delegate,"operation-not-supported-in-this-environment"),sn(le._delegate,F.c(le._delegate,Y,Rr))})()}signInWithRedirect(Y){var le=this;return(0,d.A)(function*(){return $r(lr(),le._delegate,"operation-not-supported-in-this-environment"),yield Ur(le._delegate),F.f(le._delegate,Y,Rr)})()}updateCurrentUser(Y){return this._delegate.updateCurrentUser(Y)}verifyPasswordResetCode(Y){return F.a9(this._delegate,Y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return H.Persistence=$n,H})();function Hr(H,G,Y){let le=H;"function"!=typeof H&&({next:le,error:G,complete:Y}=H);const et=le;return{next:Xt=>et(Xt&&Jr.getOrCreate(Xt)),error:G,complete:Y}}function ci(H,G){const Y=function Mt(H,G){const Y=Br();if(!Y)return[];const le=F.aF(gr,H,G);switch(Y.getItem(le)){case $n.NONE:return[F.U];case $n.LOCAL:return[F.i,F.a];case $n.SESSION:return[F.a];default:return[]}}(H,G);if(typeof self<"u"&&!Y.includes(F.i)&&Y.push(F.i),typeof window<"u")for(const le of[F.b,F.a])Y.includes(le)||Y.push(le);return Y.includes(F.U)||Y.push(F.U),Y}class ht{constructor(){this.providerId="phone",this._delegate=new F.P(mr(z.A.auth()))}static credential(G,Y){return F.P.credential(G,Y)}verifyPhoneNumber(G,Y){return this._delegate.verifyPhoneNumber(G,Y)}unwrap(){return this._delegate}}ht.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,ht.PROVIDER_ID=F.P.PROVIDER_ID;const it=F.aC;class he{constructor(G,Y,le=z.A.app()){var et;it(null===(et=le.options)||void 0===et?void 0:et.apiKey,"invalid-api-key",{appName:le.name}),this._delegate=new F.R(le.auth(),G,Y),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ne(H){H.INTERNAL.registerComponent(new Qe.uA("auth-compat",G=>{const Y=G.getProvider("app-compat").getImmediate(),le=G.getProvider("auth");return new vi(Y,le)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.V,FacebookAuthProvider:F.W,GithubAuthProvider:F.Y,GoogleAuthProvider:F.X,OAuthProvider:F.Z,SAMLAuthProvider:F._,PhoneAuthProvider:ht,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:he,TwitterAuthProvider:F.$,Auth:vi,AuthCredential:F.L,Error:ae.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),H.registerVersion("@firebase/auth-compat","0.5.13")}(z.A)},467:(Kt,nt,O)=>{function d(F,ae,ie,pe,Qe,Ye,je){try{var J=F[Ye](je),ee=J.value}catch(me){return void ie(me)}J.done?ae(ee):Promise.resolve(ee).then(pe,Qe)}function z(F){return function(){var ae=this,ie=arguments;return new Promise(function(pe,Qe){var Ye=F.apply(ae,ie);function je(ee){d(Ye,pe,Qe,je,J,"next",ee)}function J(ee){d(Ye,pe,Qe,je,J,"throw",ee)}je(void 0)})}}O.d(nt,{A:()=>z})},1635:(Kt,nt,O)=>{function ae(qe,at){var yt={};for(var lt in qe)Object.prototype.hasOwnProperty.call(qe,lt)&&at.indexOf(lt)<0&&(yt[lt]=qe[lt]);if(null!=qe&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(lt=Object.getOwnPropertySymbols(qe);ke<lt.length;ke++)at.indexOf(lt[ke])<0&&Object.prototype.propertyIsEnumerable.call(qe,lt[ke])&&(yt[lt[ke]]=qe[lt[ke]])}return yt}function me(qe,at,yt,lt){return new(yt||(yt=Promise))(function(Oe,se){function _e(Hn){try{Ue(lt.next(Hn))}catch(Zn){se(Zn)}}function Re(Hn){try{Ue(lt.throw(Hn))}catch(Zn){se(Zn)}}function Ue(Hn){Hn.done?Oe(Hn.value):function ke(Oe){return Oe instanceof yt?Oe:new yt(function(se){se(Oe)})}(Hn.value).then(_e,Re)}Ue((lt=lt.apply(qe,at||[])).next())})}function Ae(qe){return this instanceof Ae?(this.v=qe,this):new Ae(qe)}function ge(qe,at,yt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,lt=yt.apply(qe,at||[]),Oe=[];return ke={},_e("next"),_e("throw"),_e("return",function se(Un){return function(Gn){return Promise.resolve(Gn).then(Un,Zn)}}),ke[Symbol.asyncIterator]=function(){return this},ke;function _e(Un,Gn){lt[Un]&&(ke[Un]=function(lr){return new Promise(function(zt,Fr){Oe.push([Un,lr,zt,Fr])>1||Re(Un,lr)})},Gn&&(ke[Un]=Gn(ke[Un])))}function Re(Un,Gn){try{!function Ue(Un){Un.value instanceof Ae?Promise.resolve(Un.value.v).then(Hn,Zn):Ci(Oe[0][2],Un)}(lt[Un](Gn))}catch(lr){Ci(Oe[0][3],lr)}}function Hn(Un){Re("next",Un)}function Zn(Un){Re("throw",Un)}function Ci(Un,Gn){Un(Gn),Oe.shift(),Oe.length&&Re(Oe[0][0],Oe[0][1])}}function Te(qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var yt,at=qe[Symbol.asyncIterator];return at?at.call(qe):(qe=function mt(qe){var at="function"==typeof Symbol&&Symbol.iterator,yt=at&&qe[at],lt=0;if(yt)return yt.call(qe);if(qe&&"number"==typeof qe.length)return{next:function(){return qe&&lt>=qe.length&&(qe=void 0),{value:qe&&qe[lt++],done:!qe}}};throw new TypeError(at?"Object is not iterable.":"Symbol.iterator is not defined.")}(qe),yt={},lt("next"),lt("throw"),lt("return"),yt[Symbol.asyncIterator]=function(){return this},yt);function lt(Oe){yt[Oe]=qe[Oe]&&function(se){return new Promise(function(_e,Re){!function ke(Oe,se,_e,Re){Promise.resolve(Re).then(function(Ue){Oe({value:Ue,done:_e})},se)}(_e,Re,(se=qe[Oe](se)).done,se.value)})}}}O.d(nt,{AQ:()=>ge,N3:()=>Ae,Tt:()=>ae,sH:()=>me,xN:()=>Te}),"function"==typeof SuppressedError&&SuppressedError}},Kt=>{Kt(Kt.s=7189)}]);