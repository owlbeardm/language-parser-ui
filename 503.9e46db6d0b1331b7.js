"use strict";(self.webpackChunklanguage_parser_ui=self.webpackChunklanguage_parser_ui||[]).push([[503],{1503:(I,p,l)=>{l.r(p),l.d(p,{WordsListComponent:()=>R});var _=l(6814),d=l(4341),u=l(7868),c=l(8608),g=l(177),h=l(4378),e=l(3953),m=l(136),F=l(3050),E=l(9407);const f=s=>["/words/word",s];function C(s,r){if(1&s&&(e.j41(0,"option",9),e.EFF(1),e.k0s()),2&s){const n=r.$implicit;e.Y8G("value",n),e.R7$(),e.JRh(n.displayName)}}function M(s,r){if(1&s&&(e.j41(0,"option",9),e.EFF(1),e.k0s()),2&s){const n=r.$implicit;e.Y8G("value",n),e.R7$(),e.JRh(n.name)}}function D(s,r){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&s){const n=r.$implicit,t=r.index;e.R7$(),e.Lme("",0==t?"":", ","",n.name,"")}}function w(s,r){if(1&s){const n=e.RV6();e.j41(0,"a",12),e.bIt("click",function(){e.eBV(n);const o=e.XpG().$implicit,i=e.XpG();return e.Njj(i.deleteWord(o))}),e.EFF(1,"x"),e.k0s()}}function W(s,r){if(1&s&&(e.j41(0,"tr",14)(1,"th",4),e.EFF(2,"|"),e.k0s(),e.j41(3,"th",20)(4,"span",21),e.EFF(5),e.nI1(6,"writtenWord"),e.k0s()(),e.j41(7,"th",4),e.EFF(8,"|"),e.k0s(),e.j41(9,"th",22)(10,"a",23),e.EFF(11),e.k0s()(),e.j41(12,"th",4),e.EFF(13,"|"),e.k0s(),e.j41(14,"th",4),e.EFF(15),e.k0s(),e.j41(16,"th",4),e.EFF(17,"|"),e.k0s(),e.j41(18,"th",5),e.nrm(19,"span",7),e.DNE(20,D,2,2,"span",24),e.j41(21,"span"),e.EFF(22),e.k0s()(),e.j41(23,"th",4)(24,"span"),e.EFF(25,"|"),e.k0s()(),e.j41(26,"th",4),e.DNE(27,w,2,0,"a",25),e.k0s(),e.j41(28,"th",4),e.EFF(29,"|"),e.k0s()()),2&s){const n=r.$implicit,t=e.XpG();e.R7$(5),e.JRh(e.bMT(6,8,n.writtenWord)),e.R7$(5),e.Y8G("fragment",null==n.language?null:n.language.displayName)("routerLink",e.eq3(10,f,n.word)),e.R7$(),e.SpI("/ ",n.word," / "),e.R7$(4),e.JRh(null==n.partOfSpeech?null:n.partOfSpeech.abbreviation),e.R7$(5),e.Y8G("ngForOf",n.grammaticalValues),e.R7$(2),e.SpI(" from ",null==n.language?null:n.language.displayName,""),e.R7$(5),e.Y8G("ngIf",t.canDeleteWord(n))}}let R=(()=>{class s{wordService;languageService;posService;words={};language;pos;wordSearch;languages=[];poses=[];pageSize=30;canDelete=new Map;constructor(n,t,o){this.wordService=n,this.languageService=t,this.posService=o}ngOnInit(){this.languageService.getAllLanguages().subscribe(n=>{this.languages=n.sort((t,o)=>t.displayName?t.displayName.localeCompare(o.displayName?o.displayName:""):-1)}),this.posService.getAllPos().subscribe(n=>{this.poses=n.sort((t,o)=>t.name?t.name.localeCompare(o.name?o.name:""):-1)})}load(n){this.wordService.getAllWords({filter:n}).subscribe(t=>{t.data&&(this.words=t,t.data.forEach(o=>{if(o.id){const i=o.id;this.wordService.canDeleteWord({wordId:i}).subscribe(a=>{this.canDelete.set(i,a)})}}))})}loadDefault(n){console.log("loadDefault",n,this.pos,this.language,this.wordSearch),n||(n={}),this.load(n={page:n.page?n.page:void 0,size:n.size?n.size:this.pageSize,word:n.word?n.word:""===n.word?void 0:this.wordSearch,languageId:n.languageId?n.languageId:null===n.languageId?void 0:this.language?.id,posId:n.posId?n.posId:null===n.posId?void 0:this.pos?.id})}deleteWord(n){n.id&&this.wordService.deleteWord({id:n.id}).subscribe(()=>{this.words.data=this.words.data?.filter(t=>t.id!==n.id)})}addNewWord(n){this.wordService.addWord({body:n}).subscribe(t=>{this.words.data?.push(t)})}resetFilter(){this.language=void 0,this.pos=void 0,this.wordSearch=void 0,this.loadDefault({})}canDeleteWord(n){return!!n.id&&!!this.canDelete.get(n.id)}static \u0275fac=function(t){return new(t||s)(e.rXU(m.t),e.rXU(F.D),e.rXU(E.Q))};static \u0275cmp=e.VBU({type:s,selectors:[["app-words-list"]],standalone:!0,features:[e.aNF],decls:58,vars:12,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","9px"],["span","1",2,"width","70px"],[1,"border"],[1,"border",2,"text-align","left"],["type","text",2,"height","16px","margin-left","16px",3,"ngModelChange","ngModel"],[2,"margin-left","8px"],["id","languageSelector",1,"languageSelector",3,"ngModelChange","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["id","posSelector",1,"posSelector",3,"ngModelChange","ngModel"],[1,"text-red-dull",3,"click"],["app-horizontal-dash","","colspan","3",1,"border"],[1,"table-content"],["span","1",2,"width","1%"],["span","1",2,"width","40px"],["span","1",2,"width","17px"],["class","table-content",4,"ngFor","ngForOf"],[3,"load","page","size","totalPages","total"],[2,"text-align","left","padding-left","8px","padding-right","8px"],[1,"text-green-dull","text-line",2,"white-space","nowrap","text-transform","capitalize"],[2,"padding-left","8px","padding-right","8px"],[1,"text-main","link-btn",3,"fragment","routerLink"],[4,"ngFor","ngForOf"],["class","text-red-dull",3,"click",4,"ngIf"]],template:function(t,o){1&t&&(e.j41(0,"table")(1,"colgroup"),e.nrm(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",0),e.k0s(),e.j41(7,"tbody")(8,"tr")(9,"th",4),e.EFF(10,"|"),e.nrm(11,"br"),e.EFF(12,"|"),e.k0s(),e.j41(13,"th",5)(14,"input",6),e.bIt("ngModelChange",function(a){return o.loadDefault({word:a})}),e.mxI("ngModelChange",function(a){return e.DH7(o.wordSearch,a)||(o.wordSearch=a),a}),e.k0s(),e.j41(15,"span",7)(16,"select",8),e.bIt("ngModelChange",function(a){return o.loadDefault({languageId:null==a?null:a.id})}),e.mxI("ngModelChange",function(a){return e.DH7(o.language,a)||(o.language=a),a}),e.j41(17,"option",9),e.EFF(18,"All languages"),e.k0s(),e.DNE(19,C,2,2,"option",10),e.k0s()(),e.j41(20,"span",7)(21,"select",11),e.bIt("ngModelChange",function(a){return o.loadDefault({posId:null==a?null:a.id})}),e.mxI("ngModelChange",function(a){return e.DH7(o.pos,a)||(o.pos=a),a}),e.j41(22,"option",9),e.EFF(23,"Any part of speech"),e.k0s(),e.DNE(24,M,2,2,"option",10),e.k0s()()(),e.j41(25,"th",4),e.EFF(26,"|"),e.nrm(27,"br"),e.EFF(28,"|"),e.k0s(),e.j41(29,"th")(30,"a",12),e.bIt("click",function(){return o.resetFilter()}),e.EFF(31,"[ x ]"),e.k0s()(),e.j41(32,"th",4),e.EFF(33,"|"),e.nrm(34,"br"),e.EFF(35,"|"),e.k0s()(),e.j41(36,"tr")(37,"th",4),e.EFF(38,"+"),e.k0s(),e.nrm(39,"th",13),e.j41(40,"th",4),e.EFF(41,"+"),e.k0s()()()(),e.j41(42,"table",14)(43,"colgroup"),e.nrm(44,"col",0)(45,"col",15)(46,"col",0)(47,"col",15)(48,"col",0)(49,"col",16)(50,"col",0)(51,"col",1)(52,"col",0)(53,"col",17)(54,"col",0),e.k0s(),e.j41(55,"tbody",14),e.DNE(56,W,30,12,"tr",18),e.k0s()(),e.j41(57,"app-list-paginator",19),e.bIt("load",function(a){return o.loadDefault(a)}),e.k0s()),2&t&&(e.R7$(14),e.R50("ngModel",o.wordSearch),e.R7$(2),e.R50("ngModel",o.language),e.R7$(),e.Y8G("value",void 0),e.R7$(2),e.Y8G("ngForOf",o.languages),e.R7$(2),e.R50("ngModel",o.pos),e.R7$(),e.Y8G("value",void 0),e.R7$(2),e.Y8G("ngForOf",o.poses),e.R7$(32),e.Y8G("ngForOf",o.words.data),e.R7$(),e.Y8G("page",o.words.page?o.words.page:0)("size",o.pageSize)("totalPages",o.words.totalPages?o.words.totalPages:0)("total",o.words.total?o.words.total:0))},dependencies:[u.n,_.Wk,c.g,d.YN,d.xH,d.y7,d.me,d.wz,d.BC,d.vS,g.pM,g.bT,h.g]})}return s})()}}]);