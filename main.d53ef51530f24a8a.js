"use strict";var N6=Object.defineProperty,U6=Object.defineProperties,M6=Object.getOwnPropertyDescriptors,JU=Object.getOwnPropertySymbols,P6=Object.prototype.hasOwnProperty,R6=Object.prototype.propertyIsEnumerable,WU=(st,we,P)=>we in st?N6(st,we,{enumerable:!0,configurable:!0,writable:!0,value:P}):st[we]=P,zU=(st,we)=>{for(var P in we||(we={}))P6.call(we,P)&&WU(st,P,we[P]);if(JU)for(var P of JU(we))R6.call(we,P)&&WU(st,P,we[P]);return st},QU=(st,we)=>U6(st,M6(we));(self.webpackChunklanguage_parser_ui=self.webpackChunklanguage_parser_ui||[]).push([[179],{2011:(st,we,P)=>{P.d(we,{Dh:()=>he,GT:()=>_e,cc:()=>Ue,hO:()=>Ve,on:()=>H,pX:()=>le,xv:()=>ye});var e=P(5e3),V=P(127),U=P(5813);st=P.hmd(st);const ie=["ngOnDestroy"],le=(fe,et,Ye,Pe={})=>new Proxy(fe,{get:(ke,Ae)=>Ye.runOutsideAngular(()=>{var He;if(fe[Ae])return!(null===(He=null==Pe?void 0:Pe.spy)||void 0===He)&&He.get&&Pe.spy.get(Ae,fe[Ae]),fe[Ae];if(ie.indexOf(Ae)>-1)return()=>{};const re=et.toPromise().then(ce=>{const ve=ce&&ce[Ae];return"function"==typeof ve?ve.bind(ce):ve&&ve.then?ve.then(Q=>Ye.run(()=>Q)):Ye.run(()=>ve)});return new Proxy(()=>{},{get:(ce,ve)=>re[ve],apply:(ce,ve,Q)=>re.then(X=>{var pe;const ae=X&&X(...Q);return!(null===(pe=null==Pe?void 0:Pe.spy)||void 0===pe)&&pe.apply&&Pe.spy.apply(Ae,Q,ae),ae})})})}),_e=(fe,et)=>{et.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(Pe=>{Object.defineProperty(fe.prototype,Pe,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,Pe))})})};class me{constructor(et){return et}}const he=new e.OlP("angularfire2.app.options"),ye=new e.OlP("angularfire2.app.name");function H(fe,et,Ye){const ke="object"==typeof Ye&&Ye||{};ke.name=ke.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const He=V.Z.apps.filter(re=>re&&re.name===ke.name)[0]||et.runOutsideAngular(()=>V.Z.initializeApp(fe,ke));try{JSON.stringify(fe)!==JSON.stringify(He.options)&&$("error",`${He.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(re){}return new me(He)}const $=(fe,...et)=>{(0,e.X6Q)()&&"undefined"!=typeof console&&console[fe](...et)},Y={provide:me,useFactory:H,deps:[he,e.R0b,[new e.FiY,ye]]};let Ve=(()=>{class fe{constructor(Ye){V.Z.registerVersion("angularfire",U.q4.full,"core"),V.Z.registerVersion("angularfire",U.q4.full,"app-compat"),V.Z.registerVersion("angular",e.q4F.full,Ye.toString())}static initializeApp(Ye,Pe){return{ngModule:fe,providers:[{provide:he,useValue:Ye},{provide:ye,useValue:Pe}]}}}return fe.\u0275fac=function(Ye){return new(Ye||fe)(e.LFG(e.Lbi))},fe.\u0275mod=e.oAB({type:fe}),fe.\u0275inj=e.cJS({providers:[Y]}),fe})();function Ue(fe,et,Ye,Pe,ke){const[,Ae,He]=globalThis.\u0275AngularfireInstanceCache.find(re=>re[0]===fe)||[];if(Ae)return function Ie(fe,et){try{return fe.toString()===et.toString()}catch(Ye){return fe===et}}(ke,He)||(Te("error",`${et} was already initialized on the ${Ye} Firebase App with different settings.${at?" You may need to reload as Firebase is not HMR aware.":""}`),Te("warn",{is:ke,was:He})),Ae;{const re=Pe();return globalThis.\u0275AngularfireInstanceCache.push([fe,re,ke]),re}}const at=!!st.hot,Te=(fe,...et)=>{(0,e.X6Q)()&&"undefined"!=typeof console&&console[fe](...et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(st,we,P)=>{P.d(we,{q4:()=>Oa,iC:()=>Sn,HU:()=>gu,vb:()=>hu,JM:()=>Wd});var e=P(5e3),V=P(5867),U=P(5861),ie=P(9681),le=P(2090),_e=P(4859),me=P(1877),he=P(8766);const ye="@firebase/installations",H="0.5.15",Y=`w:${H}`,Ve="FIS_v2",et=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ye(A){return A instanceof le.ZR&&A.code.includes("request-failed")}function Pe({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function ke(A){return{token:A.token,requestStatus:2,expiresIn:X(A.expiresIn),creationTime:Date.now()}}function Ae(A,I){return He.apply(this,arguments)}function He(){return(He=(0,U.Z)(function*(A,I){const F=(yield I.json()).error;return et.create("request-failed",{requestName:A,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function re({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function ce(A,{refreshToken:I}){const Z=re(A);return Z.append("Authorization",function pe(A){return`${Ve} ${A}`}(I)),Z}function ve(A){return Q.apply(this,arguments)}function Q(){return(Q=(0,U.Z)(function*(A){const I=yield A();return I.status>=500&&I.status<600?A():I})).apply(this,arguments)}function X(A){return Number(A.replace("s","000"))}function ae(A,I){return Le.apply(this,arguments)}function Le(){return(Le=(0,U.Z)(function*({appConfig:A,heartbeatServiceProvider:I},{fid:Z}){const F=Pe(A),K=re(A),ue=I.getImmediate({optional:!0});if(ue){const Ut=yield ue.getHeartbeatsHeader();Ut&&K.append("x-firebase-client",Ut)}const je={method:"POST",headers:K,body:JSON.stringify({fid:Z,authVersion:Ve,appId:A.appId,sdkVersion:Y})},Et=yield ve(()=>fetch(F,je));if(Et.ok){const Ut=yield Et.json();return{fid:Ut.fid||Z,registrationStatus:2,refreshToken:Ut.refreshToken,authToken:ke(Ut.authToken)}}throw yield Ae("Create Installation",Et)})).apply(this,arguments)}function Fe(A){return new Promise(I=>{setTimeout(I,A)})}const an=/^[cdef][\w-]{21}$/;function Je(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const Z=function gn(A){return function mt(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return an.test(Z)?Z:""}catch(A){return""}}function In(A){return`${A.appName}!${A.appId}`}const nn=new Map;function rn(A,I){const Z=In(A);Nr(Z,I),function yo(A,I){const Z=function kn(){return!Vr&&"BroadcastChannel"in self&&(Vr=new BroadcastChannel("[Firebase] FID Change"),Vr.onmessage=A=>{Nr(A.data.key,A.data.fid)}),Vr}();Z&&Z.postMessage({key:A,fid:I}),function Po(){0===nn.size&&Vr&&(Vr.close(),Vr=null)}()}(Z,I)}function Nr(A,I){const Z=nn.get(A);if(Z)for(const F of Z)F(I)}let Vr=null;const Hn="firebase-installations-store";let Ro=null;function yt(){return Ro||(Ro=(0,he.X3)("firebase-installations-database",1,{upgrade:(A,I)=>{0===I&&A.createObjectStore(Hn)}})),Ro}function fn(A,I){return ur.apply(this,arguments)}function ur(){return(ur=(0,U.Z)(function*(A,I){const Z=In(A),K=(yield yt()).transaction(Hn,"readwrite"),ue=K.objectStore(Hn),xe=yield ue.get(Z);return yield ue.put(I,Z),yield K.done,(!xe||xe.fid!==I.fid)&&rn(A,I.fid),I})).apply(this,arguments)}function un(A){return gr.apply(this,arguments)}function gr(){return(gr=(0,U.Z)(function*(A){const I=In(A),F=(yield yt()).transaction(Hn,"readwrite");yield F.objectStore(Hn).delete(I),yield F.done})).apply(this,arguments)}function br(A,I){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,U.Z)(function*(A,I){const Z=In(A),K=(yield yt()).transaction(Hn,"readwrite"),ue=K.objectStore(Hn),xe=yield ue.get(Z),je=I(xe);return void 0===je?yield ue.delete(Z):yield ue.put(je,Z),yield K.done,je&&(!xe||xe.fid!==je.fid)&&rn(A,je.fid),je})).apply(this,arguments)}function _n(A){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,U.Z)(function*(A){let I;const Z=yield br(A.appConfig,F=>{const K=Cn(F),ue=lt(A,K);return I=ue.registrationPromise,ue.installationEntry});return""===Z.fid?{installationEntry:yield I}:{installationEntry:Z,registrationPromise:I}})).apply(this,arguments)}function Cn(A){return Rn(A||{fid:Je(),registrationStatus:0})}function lt(A,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(et.create("app-offline"))};const Z={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},F=function nt(A,I){return bn.apply(this,arguments)}(A,Z);return{installationEntry:Z,registrationPromise:F}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:jr(A)}:{installationEntry:I}}function bn(){return(bn=(0,U.Z)(function*(A,I){try{const Z=yield ae(A,I);return fn(A.appConfig,Z)}catch(Z){throw Ye(Z)&&409===Z.customData.serverCode?yield un(A.appConfig):yield fn(A.appConfig,{fid:I.fid,registrationStatus:0}),Z}})).apply(this,arguments)}function jr(A){return En.apply(this,arguments)}function En(){return(En=(0,U.Z)(function*(A){let I=yield jt(A.appConfig);for(;1===I.registrationStatus;)yield Fe(100),I=yield jt(A.appConfig);if(0===I.registrationStatus){const{installationEntry:Z,registrationPromise:F}=yield _n(A);return F||Z}return I})).apply(this,arguments)}function jt(A){return br(A,I=>{if(!I)throw et.create("installation-not-found");return Rn(I)})}function Rn(A){return function $r(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function Ot(A,I){return Co.apply(this,arguments)}function Co(){return(Co=(0,U.Z)(function*({appConfig:A,heartbeatServiceProvider:I},Z){const F=Lt(A,Z),K=ce(A,Z),ue=I.getImmediate({optional:!0});if(ue){const Ut=yield ue.getHeartbeatsHeader();Ut&&K.append("x-firebase-client",Ut)}const je={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:Y,appId:A.appId}})},Et=yield ve(()=>fetch(F,je));if(Et.ok)return ke(yield Et.json());throw yield Ae("Generate Auth Token",Et)})).apply(this,arguments)}function Lt(A,{fid:I}){return`${Pe(A)}/${I}/authTokens:generate`}function Mr(A){return qn.apply(this,arguments)}function qn(){return(qn=(0,U.Z)(function*(A,I=!1){let Z;const F=yield br(A.appConfig,ue=>{if(!on(ue))throw et.create("not-registered");const xe=ue.authToken;if(!I&&G(xe))return ue;if(1===xe.requestStatus)return Z=Xe(A,I),ue;{if(!navigator.onLine)throw et.create("app-offline");const je=z(ue);return Z=Tt(A,je),je}});return Z?yield Z:F.authToken})).apply(this,arguments)}function Xe(A,I){return Se.apply(this,arguments)}function Se(){return(Se=(0,U.Z)(function*(A,I){let Z=yield tt(A.appConfig);for(;1===Z.authToken.requestStatus;)yield Fe(100),Z=yield tt(A.appConfig);const F=Z.authToken;return 0===F.requestStatus?Mr(A,I):F})).apply(this,arguments)}function tt(A){return br(A,I=>{if(!on(I))throw et.create("not-registered");return function O(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Tt(A,I){return wt.apply(this,arguments)}function wt(){return(wt=(0,U.Z)(function*(A,I){try{const Z=yield Ot(A,I),F=Object.assign(Object.assign({},I),{authToken:Z});return yield fn(A.appConfig,F),Z}catch(Z){if(!Ye(Z)||401!==Z.customData.serverCode&&404!==Z.customData.serverCode){const F=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield fn(A.appConfig,F)}else yield un(A.appConfig);throw Z}})).apply(this,arguments)}function on(A){return void 0!==A&&2===A.registrationStatus}function G(A){return 2===A.requestStatus&&!function B(A){const I=Date.now();return I<A.creationTime||A.creationTime+A.expiresIn<I+36e5}(A)}function z(A){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:I})}function L(){return(L=(0,U.Z)(function*(A){const I=A,{installationEntry:Z,registrationPromise:F}=yield _n(I);return F?F.catch(console.error):Mr(I).catch(console.error),Z.fid})).apply(this,arguments)}function Re(){return(Re=(0,U.Z)(function*(A,I=!1){const Z=A;return yield gt(Z),(yield Mr(Z,I)).token})).apply(this,arguments)}function gt(A){return pt.apply(this,arguments)}function pt(){return(pt=(0,U.Z)(function*(A){const{registrationPromise:I}=yield _n(A);I&&(yield I)})).apply(this,arguments)}function Ir(A){return et.create("missing-app-config-values",{valueName:A})}const yi="installations",Oo=A=>{const I=A.getProvider("app").getImmediate(),Z=function Tn(A){if(!A||!A.options)throw Ir("App Configuration");if(!A.name)throw Ir("App Name");const I=["projectId","apiKey","appId"];for(const Z of I)if(!A.options[Z])throw Ir(Z);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(I);return{app:I,appConfig:Z,heartbeatServiceProvider:(0,ie._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},xn=A=>{const I=A.getProvider("app").getImmediate(),Z=(0,ie._getProvider)(I,yi).getImmediate();return{getId:()=>function N(A){return L.apply(this,arguments)}(Z),getToken:K=>function oe(A){return Re.apply(this,arguments)}(Z,K)}};(function As(){(0,ie._registerComponent)(new _e.wA(yi,Oo,"PUBLIC")),(0,ie._registerComponent)(new _e.wA("installations-internal",xn,"PRIVATE"))})(),(0,ie.registerVersion)(ye,H),(0,ie.registerVersion)(ye,H,"esm2017");const vi="@firebase/remote-config",On=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class oc{constructor(I,Z,F,K){this.client=I,this.storage=Z,this.storageCache=F,this.logger=K}isCachedDataFresh(I,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-Z,K=F<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${K}.`),K}fetch(I){var Z=this;return(0,U.Z)(function*(){const[F,K]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if(K&&Z.isCachedDataFresh(I.cacheMaxAgeMillis,F))return K;I.eTag=K&&K.eTag;const ue=yield Z.client.fetch(I),xe=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&xe.push(Z.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(xe),ue})()}}function Ka(A=navigator){return A.languages&&A.languages[0]||A.language}class ji{constructor(I,Z,F,K,ue,xe){this.firebaseInstallations=I,this.sdkVersion=Z,this.namespace=F,this.projectId=K,this.apiKey=ue,this.appId=xe}fetch(I){var Z=this;return(0,U.Z)(function*(){var F,K,ue;const[xe,je]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),Ut=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,Mt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},vt={sdk_version:Z.sdkVersion,app_instance_id:xe,app_instance_id_token:je,app_id:Z.appId,language_code:Ka()},$n={method:"POST",headers:Mt,body:JSON.stringify(vt)},or=fetch(Ut,$n),xi=new Promise((cs,Qs)=>{I.signal.addEventListener(()=>{const mu=new Error("The operation was aborted.");mu.name="AbortError",Qs(mu)})});let Rr;try{yield Promise.race([or,xi]),Rr=yield or}catch(cs){let Qs="fetch-client-network";throw"AbortError"===(null===(F=cs)||void 0===F?void 0:F.name)&&(Qs="fetch-timeout"),On.create(Qs,{originalErrorMessage:null===(K=cs)||void 0===K?void 0:K.message})}let Ho=Rr.status;const _u=Rr.headers.get("ETag")||void 0;let ls,zs;if(200===Rr.status){let cs;try{cs=yield Rr.json()}catch(Qs){throw On.create("fetch-client-parse",{originalErrorMessage:null===(ue=Qs)||void 0===ue?void 0:ue.message})}ls=cs.entries,zs=cs.state}if("INSTANCE_STATE_UNSPECIFIED"===zs?Ho=500:"NO_CHANGE"===zs?Ho=304:("NO_TEMPLATE"===zs||"EMPTY_CONFIG"===zs)&&(ls={}),304!==Ho&&200!==Ho)throw On.create("fetch-status",{httpStatus:Ho});return{status:Ho,eTag:_u,config:ls}})()}}class Yo{constructor(I,Z){this.client=I,this.storage=Z}fetch(I){var Z=this;return(0,U.Z)(function*(){const F=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch(I,F)})()}attemptFetch(I,{throttleEndTimeMillis:Z,backoffCount:F}){var K=this;return(0,U.Z)(function*(){yield function no(A,I){return new Promise((Z,F)=>{const K=Math.max(I-Date.now(),0),ue=setTimeout(Z,K);A.addEventListener(()=>{clearTimeout(ue),F(On.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,Z);try{const ue=yield K.client.fetch(I);return yield K.storage.deleteThrottleMetadata(),ue}catch(ue){if(!function Sp(A){if(!(A instanceof le.ZR&&A.customData))return!1;const I=Number(A.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ue))throw ue;const xe={throttleEndTimeMillis:Date.now()+(0,le.$s)(F),backoffCount:F+1};return yield K.storage.setThrottleMetadata(xe),K.attemptFetch(I,xe)}})()}}class Zp{constructor(I,Z,F,K,ue){this.app=I,this._client=Z,this._storageCache=F,this._storage=K,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function fa(A,I){var Z;const F=A.target.error||void 0;return On.create(I,{originalErrorMessage:F&&(null===(Z=F)||void 0===Z?void 0:Z.message)})}const Ss="app_namespace_store";class Ya{constructor(I,Z,F,K=function Np(){return new Promise((A,I)=>{var Z;try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=K=>{I(fa(K,"storage-open"))},F.onsuccess=K=>{A(K.target.result)},F.onupgradeneeded=K=>{0===K.oldVersion&&K.target.result.createObjectStore(Ss,{keyPath:"compositeKey"})}}catch(F){I(On.create("storage-open",{originalErrorMessage:null===(Z=F)||void 0===Z?void 0:Z.message}))}})}()){this.appId=I,this.appName=Z,this.namespace=F,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var Z=this;return(0,U.Z)(function*(){const F=yield Z.openDbPromise;return new Promise((K,ue)=>{var xe;const Et=F.transaction([Ss],"readonly").objectStore(Ss),Ut=Z.createCompositeKey(I);try{const Mt=Et.get(Ut);Mt.onerror=vt=>{ue(fa(vt,"storage-get"))},Mt.onsuccess=vt=>{const $n=vt.target.result;K($n?$n.value:void 0)}}catch(Mt){ue(On.create("storage-get",{originalErrorMessage:null===(xe=Mt)||void 0===xe?void 0:xe.message}))}})})()}set(I,Z){var F=this;return(0,U.Z)(function*(){const K=yield F.openDbPromise;return new Promise((ue,xe)=>{var je;const Ut=K.transaction([Ss],"readwrite").objectStore(Ss),Mt=F.createCompositeKey(I);try{const vt=Ut.put({compositeKey:Mt,value:Z});vt.onerror=$n=>{xe(fa($n,"storage-set"))},vt.onsuccess=()=>{ue()}}catch(vt){xe(On.create("storage-set",{originalErrorMessage:null===(je=vt)||void 0===je?void 0:je.message}))}})})()}delete(I){var Z=this;return(0,U.Z)(function*(){const F=yield Z.openDbPromise;return new Promise((K,ue)=>{var xe;const Et=F.transaction([Ss],"readwrite").objectStore(Ss),Ut=Z.createCompositeKey(I);try{const Mt=Et.delete(Ut);Mt.onerror=vt=>{ue(fa(vt,"storage-delete"))},Mt.onsuccess=()=>{K()}}catch(Mt){ue(On.create("storage-delete",{originalErrorMessage:null===(xe=Mt)||void 0===xe?void 0:xe.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Xo{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,U.Z)(function*(){const Z=I.storage.getLastFetchStatus(),F=I.storage.getLastSuccessfulFetchTimestampMillis(),K=I.storage.getActiveConfig(),ue=yield Z;ue&&(I.lastFetchStatus=ue);const xe=yield F;xe&&(I.lastSuccessfulFetchTimestampMillis=xe);const je=yield K;je&&(I.activeConfig=je)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Zs(){return _a.apply(this,arguments)}function _a(){return(_a=(0,U.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(A){return!1}})).apply(this,arguments)}!function Up(){(0,ie._registerComponent)(new _e.wA("remote-config",function A(I,{instanceIdentifier:Z}){const F=I.getProvider("app").getImmediate(),K=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw On.create("registration-window");if(!(0,le.hl)())throw On.create("indexed-db-unavailable");const{projectId:ue,apiKey:xe,appId:je}=F.options;if(!ue)throw On.create("registration-project-id");if(!xe)throw On.create("registration-api-key");if(!je)throw On.create("registration-app-id");const Et=new Ya(je,F.name,Z=Z||"firebase"),Ut=new Xo(Et),Mt=new me.Yd(vi);Mt.logLevel=me.in.ERROR;const vt=new ji(K,ie.SDK_VERSION,Z,ue,xe,je),$n=new Yo(vt,Et),or=new oc($n,Et,Ut,Mt),xi=new Zp(F,or,Ut,Et,Mt);return function It(A){const I=(0,le.m9)(A);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(xi),xi},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(vi,"0.3.14"),(0,ie.registerVersion)(vi,"0.3.14","esm2017")}();const ro="/firebase-messaging-sw.js",$i="/firebase-cloud-messaging-push-scope",ks="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ma="google.c.a.c_id",Xa="google.c.a.c_l",xd="google.c.a.ts",Gi="google.c.a.e";var Ln=(()=>{return(A=Ln||(Ln={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",Ln;var A})();function wo(A){const I=new Uint8Array(A);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function uc(A){const Z=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(Z),K=new Uint8Array(F.length);for(let ue=0;ue<F.length;++ue)K[ue]=F.charCodeAt(ue);return K}const Hi="fcm_token_details_db",Wu="fcm_token_object_Store";function Jn(A){return eu.apply(this,arguments)}function eu(){return eu=(0,U.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(Hi))return null;let I=null;return(yield(0,he.X3)(Hi,5,{upgrade:(F=(0,U.Z)(function*(K,ue,xe,je){var Et;if(ue<2||!K.objectStoreNames.contains(Wu))return;const Ut=je.objectStore(Wu),Mt=yield Ut.index("fcmSenderId").get(A);if(yield Ut.clear(),Mt)if(2===ue){const vt=Mt;if(!vt.auth||!vt.p256dh||!vt.endpoint)return;I={token:vt.fcmToken,createTime:null!==(Et=vt.createTime)&&void 0!==Et?Et:Date.now(),subscriptionOptions:{auth:vt.auth,p256dh:vt.p256dh,endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:"string"==typeof vt.vapidKey?vt.vapidKey:wo(vt.vapidKey)}}}else if(3===ue){const vt=Mt;I={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:wo(vt.auth),p256dh:wo(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:wo(vt.vapidKey)}}}else if(4===ue){const vt=Mt;I={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:wo(vt.auth),p256dh:wo(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:wo(vt.vapidKey)}}}}),function(ue,xe,je,Et){return F.apply(this,arguments)})})).close(),yield(0,he.Lj)(Hi),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),lc(I)?I:null;var F}),eu.apply(this,arguments)}function lc(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:I}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Ti="firebase-messaging-store";let Ji=null;function ei(){return Ji||(Ji=(0,he.X3)("firebase-messaging-database",1,{upgrade:(A,I)=>{0===I&&A.createObjectStore(Ti)}})),Ji}function lr(A){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,U.Z)(function*(A){const I=zi(A),F=yield(yield ei()).transaction(Ti).objectStore(Ti).get(I);if(F)return F;{const K=yield Jn(A.appConfig.senderId);if(K)return yield Fo(A,K),K}})).apply(this,arguments)}function Fo(A,I){return wi.apply(this,arguments)}function wi(){return(wi=(0,U.Z)(function*(A,I){const Z=zi(A),K=(yield ei()).transaction(Ti,"readwrite");return yield K.objectStore(Ti).put(I,Z),yield K.done,I})).apply(this,arguments)}function qo(A){return bi.apply(this,arguments)}function bi(){return(bi=(0,U.Z)(function*(A){const I=zi(A),F=(yield ei()).transaction(Ti,"readwrite");yield F.objectStore(Ti).delete(I),yield F.done})).apply(this,arguments)}function zi({appConfig:A}){return A.appId}const Bn=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Zd(A,I){return va.apply(this,arguments)}function va(){return(va=(0,U.Z)(function*(A,I){var Z;const F=yield Ee(A),K=Qi(I),ue={method:"POST",headers:F,body:JSON.stringify(K)};let xe;try{xe=yield(yield fetch(tu(A.appConfig),ue)).json()}catch(je){throw Bn.create("token-subscribe-failed",{errorInfo:null===(Z=je)||void 0===Z?void 0:Z.toString()})}if(xe.error)throw Bn.create("token-subscribe-failed",{errorInfo:xe.error.message});if(!xe.token)throw Bn.create("token-subscribe-no-token");return xe.token})).apply(this,arguments)}function cc(A,I){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,U.Z)(function*(A,I){var Z;const F=yield Ee(A),K=Qi(I.subscriptionOptions),ue={method:"PATCH",headers:F,body:JSON.stringify(K)};let xe;try{xe=yield(yield fetch(`${tu(A.appConfig)}/${I.token}`,ue)).json()}catch(je){throw Bn.create("token-update-failed",{errorInfo:null===(Z=je)||void 0===Z?void 0:Z.toString()})}if(xe.error)throw Bn.create("token-update-failed",{errorInfo:xe.error.message});if(!xe.token)throw Bn.create("token-update-no-token");return xe.token})).apply(this,arguments)}function Ns(A,I){return Us.apply(this,arguments)}function Us(){return(Us=(0,U.Z)(function*(A,I){var Z;const K={method:"DELETE",headers:yield Ee(A)};try{const xe=yield(yield fetch(`${tu(A.appConfig)}/${I}`,K)).json();if(xe.error)throw Bn.create("token-unsubscribe-failed",{errorInfo:xe.error.message})}catch(ue){throw Bn.create("token-unsubscribe-failed",{errorInfo:null===(Z=ue)||void 0===Z?void 0:Z.toString()})}})).apply(this,arguments)}function tu({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function Ee(A){return $t.apply(this,arguments)}function $t(){return($t=(0,U.Z)(function*({appConfig:A,installations:I}){const Z=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${Z}`})})).apply(this,arguments)}function Qi({p256dh:A,auth:I,endpoint:Z,vapidKey:F}){const K={web:{endpoint:Z,auth:I,p256dh:A}};return F!==ks&&(K.web.applicationPubKey=F),K}const Ki=6048e5;function jn(A){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,U.Z)(function*(A){const I=yield Kf(A.swRegistration,A.vapidKey),Z={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:I.endpoint,auth:wo(I.getKey("auth")),p256dh:wo(I.getKey("p256dh"))},F=yield lr(A.firebaseDependencies);if(F){if(cr(F.subscriptionOptions,Z))return Date.now()>=F.createTime+Ki?zu(A,{token:F.token,createTime:Date.now(),subscriptionOptions:Z}):F.token;try{yield Ns(A.firebaseDependencies,F.token)}catch(K){console.warn(K)}return Ca(A.firebaseDependencies,Z)}return Ca(A.firebaseDependencies,Z)})).apply(this,arguments)}function Ms(A){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,U.Z)(function*(A){const I=yield lr(A.firebaseDependencies);I&&(yield Ns(A.firebaseDependencies,I.token),yield qo(A.firebaseDependencies));const Z=yield A.swRegistration.pushManager.getSubscription();return!Z||Z.unsubscribe()})).apply(this,arguments)}function zu(A,I){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,U.Z)(function*(A,I){try{const Z=yield cc(A.firebaseDependencies,I),F=Object.assign(Object.assign({},I),{token:Z,createTime:Date.now()});return yield Fo(A.firebaseDependencies,F),Z}catch(Z){throw yield Ms(A),Z}})).apply(this,arguments)}function Ca(A,I){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,U.Z)(function*(A,I){const F={token:yield Zd(A,I),createTime:Date.now(),subscriptionOptions:I};return yield Fo(A,F),F.token})).apply(this,arguments)}function Kf(A,I){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,U.Z)(function*(A,I){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:uc(I)})})).apply(this,arguments)}function cr(A,I){return I.vapidKey===A.vapidKey&&I.endpoint===A.endpoint&&I.auth===A.auth&&I.p256dh===A.p256dh}function oo(A){const I={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function Qu(A,I){if(!I.notification)return;A.notification={};const Z=I.notification.title;Z&&(A.notification.title=Z);const F=I.notification.body;F&&(A.notification.body=F);const K=I.notification.image;K&&(A.notification.image=K)}(I,A),function es(A,I){!I.data||(A.data=I.data)}(I,A),function Ao(A,I){var Z,F,K,ue,xe;if(!(I.fcmOptions||null!==(Z=I.notification)&&void 0!==Z&&Z.click_action))return;A.fcmOptions={};const je=null!==(K=null===(F=I.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==K?K:null===(ue=I.notification)||void 0===ue?void 0:ue.click_action;je&&(A.fcmOptions.link=je);const Et=null===(xe=I.fcmOptions)||void 0===xe?void 0:xe.analytics_label;Et&&(A.fcmOptions.analyticsLabel=Et)}(I,A),I}function kd(A){return"object"==typeof A&&!!A&&ma in A}function Ku(A,I){const Z=[];for(let F=0;F<A.length;F++)Z.push(A.charAt(F)),F<I.length&&Z.push(I.charAt(F));return Z.join("")}function Yu(A){return Bn.create("missing-app-config-values",{valueName:A})}Ku("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ku("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ta{constructor(I,Z,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function nu(A){if(!A||!A.options)throw Yu("App Configuration Object");if(!A.name)throw Yu("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:Z}=A;for(const F of I)if(!Z[F])throw Yu(F);return{appName:A.name,projectId:Z.projectId,apiKey:Z.apiKey,appId:Z.appId,senderId:Z.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:K,installations:Z,analyticsProvider:F}}_delete(){return Promise.resolve()}}function wa(A){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,U.Z)(function*(A){var I;try{A.swRegistration=yield navigator.serviceWorker.register(ro,{scope:$i}),A.swRegistration.update().catch(()=>{})}catch(Z){throw Bn.create("failed-service-worker-registration",{browserErrorMessage:null===(I=Z)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function Xu(A,I){return ba.apply(this,arguments)}function ba(){return(ba=(0,U.Z)(function*(A,I){if(!I&&!A.swRegistration&&(yield wa(A)),I||!A.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Bn.create("invalid-sw-registration");A.swRegistration=I}})).apply(this,arguments)}function ru(A,I){return Os.apply(this,arguments)}function Os(){return(Os=(0,U.Z)(function*(A,I){I?A.vapidKey=I:A.vapidKey||(A.vapidKey=ks)})).apply(this,arguments)}function Ls(){return(Ls=(0,U.Z)(function*(A,I){if(!navigator)throw Bn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Bn.create("permission-blocked");return yield ru(A,null==I?void 0:I.vapidKey),yield Xu(A,null==I?void 0:I.serviceWorkerRegistration),jn(A)})).apply(this,arguments)}function hc(A,I,Z){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,U.Z)(function*(A,I,Z){const F=ou(I);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:Z[ma],message_name:Z[Xa],message_time:Z[xd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ou(A){switch(A){case Ln.NOTIFICATION_CLICKED:return"notification_open";case Ln.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Aa(){return(Aa=(0,U.Z)(function*(A,I){const Z=I.data;if(!Z.isFirebaseMessaging)return;A.onMessageHandler&&Z.messageType===Ln.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(oo(Z)):A.onMessageHandler.next(oo(Z)));const F=Z.data;kd(F)&&"1"===F[Gi]&&(yield hc(A,Z.messageType,F))})).apply(this,arguments)}const Wn="@firebase/messaging",wn=A=>{const I=new Ta(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Z=>function Nd(A,I){return Aa.apply(this,arguments)}(I,Z)),I},Ud=A=>{const I=A.getProvider("messaging").getImmediate();return{getToken:F=>function dc(A,I){return Ls.apply(this,arguments)}(I,F)}};function Pd(){return el.apply(this,arguments)}function el(){return(el=(0,U.Z)(function*(){try{yield(0,le.eu)()}catch(A){return!1}return"undefined"!=typeof window&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Md(){(0,ie._registerComponent)(new _e.wA("messaging",wn,"PUBLIC")),(0,ie._registerComponent)(new _e.wA("messaging-internal",Ud,"PRIVATE")),(0,ie.registerVersion)(Wn,"0.9.19"),(0,ie.registerVersion)(Wn,"0.9.19","esm2017")}();const jo="analytics",qs="firebase_id",Bs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rl="https://www.googletagmanager.com/gtag/js",dr=new me.Yd("@firebase/analytics");function Rd(A){return Promise.all(A.map(I=>I.catch(Z=>Z)))}function Xf(A,I){const Z=document.createElement("script");Z.src=`${rl}?l=${A}&id=${I}`,Z.async=!0,document.head.appendChild(Z)}function Ea(A,I,Z,F,K,ue){return ol.apply(this,arguments)}function ol(){return(ol=(0,U.Z)(function*(A,I,Z,F,K,ue){const xe=F[K];try{if(xe)yield I[xe];else{const Et=(yield Rd(Z)).find(Ut=>Ut.measurementId===K);Et&&(yield I[Et.appId])}}catch(je){dr.error(je)}A("config",K,ue)})).apply(this,arguments)}function Da(A,I,Z,F,K){return js.apply(this,arguments)}function js(){return(js=(0,U.Z)(function*(A,I,Z,F,K){try{let ue=[];if(K&&K.send_to){let xe=K.send_to;Array.isArray(xe)||(xe=[xe]);const je=yield Rd(Z);for(const Et of xe){const Ut=je.find(vt=>vt.measurementId===Et),Mt=Ut&&I[Ut.appId];if(!Mt){ue=[];break}ue.push(Mt)}}0===ue.length&&(ue=Object.values(I)),yield Promise.all(ue),A("event",F,K||{})}catch(ue){dr.error(ue)}})).apply(this,arguments)}function Sa(A){const I=window.document.getElementsByTagName("script");for(const Z of Object.values(I))if(Z.src&&Z.src.includes(rl)&&Z.src.includes(A))return Z;return null}const tr=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),_c=new class Mp{constructor(I={},Z=1e3){this.throttleMetadata=I,this.intervalMillis=Z}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,Z){this.throttleMetadata[I]=Z}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function ln(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function Jr(A){return dn.apply(this,arguments)}function dn(){return(dn=(0,U.Z)(function*(A){var I;const{appId:Z,apiKey:F}=A,K={method:"GET",headers:ln(F)},ue=Bs.replace("{app-id}",Z),xe=yield fetch(ue,K);if(200!==xe.status&&304!==xe.status){let je="";try{const Et=yield xe.json();null!==(I=Et.error)&&void 0!==I&&I.message&&(je=Et.error.message)}catch(Et){}throw tr.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:je})}return xe.json()})).apply(this,arguments)}function Vd(A){return ti.apply(this,arguments)}function ti(){return(ti=(0,U.Z)(function*(A,I=_c,Z){const{appId:F,apiKey:K,measurementId:ue}=A.options;if(!F)throw tr.create("no-app-id");if(!K){if(ue)return{measurementId:ue,appId:F};throw tr.create("no-api-key")}const xe=I.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new rs;return setTimeout((0,U.Z)(function*(){je.abort()}),void 0!==Z?Z:6e4),su({appId:F,apiKey:K,measurementId:ue},xe,je,I)})).apply(this,arguments)}function su(A,I,Z){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,U.Z)(function*(A,{throttleEndTimeMillis:I,backoffCount:Z},F,K=_c){var ue,xe;const{appId:je,measurementId:Et}=A;try{yield au(F,I)}catch(Ut){if(Et)return dr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Et} provided in the "measurementId" field in the local Firebase config. [${null===(ue=Ut)||void 0===ue?void 0:ue.message}]`),{appId:je,measurementId:Et};throw Ut}try{const Ut=yield Jr(A);return K.deleteThrottleMetadata(je),Ut}catch(Ut){const Mt=Ut;if(!ns(Mt)){if(K.deleteThrottleMetadata(je),Et)return dr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Et} provided in the "measurementId" field in the local Firebase config. [${null==Mt?void 0:Mt.message}]`),{appId:je,measurementId:Et};throw Ut}const vt=503===Number(null===(xe=null==Mt?void 0:Mt.customData)||void 0===xe?void 0:xe.httpStatus)?(0,le.$s)(Z,K.intervalMillis,30):(0,le.$s)(Z,K.intervalMillis),$n={throttleEndTimeMillis:Date.now()+vt,backoffCount:Z+1};return K.setThrottleMetadata(je,$n),dr.debug(`Calling attemptFetch again in ${vt} millis`),su(A,$n,F,K)}})).apply(this,arguments)}function au(A,I){return new Promise((Z,F)=>{const K=Math.max(I-Date.now(),0),ue=setTimeout(Z,K);A.addEventListener(()=>{clearTimeout(ue),F(tr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function ns(A){if(!(A instanceof le.ZR&&A.customData))return!1;const I=Number(A.customData.httpStatus);return 429===I||500===I||503===I||504===I}class rs{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let zn,Na;function Za(){return(Za=(0,U.Z)(function*(A,I,Z,F,K){if(K&&K.global)A("event",Z,F);else{const ue=yield I;A("event",Z,Object.assign(Object.assign({},F),{send_to:ue}))}})).apply(this,arguments)}function sl(A){Na=A}function uu(A){zn=A}function Pp(){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,U.Z)(function*(){var A;if(!(0,le.hl)())return dr.warn(tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(I){return dr.warn(tr.create("indexeddb-unavailable",{errorInfo:null===(A=I)||void 0===A?void 0:A.toString()}).message),!1}return!0})).apply(this,arguments)}function Dr(){return(Dr=(0,U.Z)(function*(A,I,Z,F,K,ue,xe){var je;const Et=Vd(A);Et.then(or=>{Z[or.measurementId]=or.appId,A.options.measurementId&&or.measurementId!==A.options.measurementId&&dr.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${or.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(or=>dr.error(or)),I.push(Et);const Ut=Pp().then(or=>{if(or)return F.getId()}),[Mt,vt]=yield Promise.all([Et,Ut]);Sa(ue)||Xf(ue,Mt.measurementId),Na&&(K("consent","default",Na),sl(void 0)),K("js",new Date);const $n=null!==(je=null==xe?void 0:xe.config)&&void 0!==je?je:{};return $n.origin="firebase",$n.update=!0,null!=vt&&($n[qs]=vt),K("config",Mt.measurementId,$n),zn&&(K("set",zn),uu(void 0)),Mt.measurementId})).apply(this,arguments)}class is{constructor(I){this.app=I}_delete(){return delete cn[this.app.options.appId],Promise.resolve()}}let cn={},Go=[];const Ua={};let ul,Jt,_r="dataLayer",ll=!1;function cl(A,I,Z){!function Bd(){const A=[];if((0,le.ru)()&&A.push("This is a browser extension environment."),(0,le.zI)()||A.push("Cookies are not available."),A.length>0){const I=A.map((F,K)=>`(${K+1}) ${F}`).join(" "),Z=tr.create("invalid-analytics-context",{errorInfo:I});dr.warn(Z.message)}}();const F=A.options.appId;if(!F)throw tr.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw tr.create("no-api-key");dr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=cn[F])throw tr.create("already-exists",{id:F});if(!ll){!function Od(A){let I=[];Array.isArray(window[A])?I=window[A]:window[A]=I}(_r);const{wrappedGtag:ue,gtagCore:xe}=function Fd(A,I,Z,F,K){let ue=function(...xe){window[F].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ue=window[K]),window[K]=function Ld(A,I,Z,F){function ue(){return(ue=(0,U.Z)(function*(xe,je,Et){try{"event"===xe?yield Da(A,I,Z,je,Et):"config"===xe?yield Ea(A,I,Z,F,je,Et):"consent"===xe?A("consent","update",Et):A("set",je)}catch(Ut){dr.error(Ut)}})).apply(this,arguments)}return function K(xe,je,Et){return ue.apply(this,arguments)}}(ue,A,I,Z),{gtagCore:ue,wrappedGtag:window[K]}}(cn,Go,Ua,_r,"gtag");Jt=ue,ul=xe,ll=!0}return cn[F]=function al(A,I,Z,F,K,ue,xe){return Dr.apply(this,arguments)}(A,Go,Ua,I,ul,_r,Z),new is(A)}function jd(){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,U.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(A){return!1}})).apply(this,arguments)}const rr="@firebase/analytics";!function Pa(){(0,ie._registerComponent)(new _e.wA(jo,(I,{options:Z})=>cl(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),Z),"PUBLIC")),(0,ie._registerComponent)(new _e.wA("analytics-internal",function A(I){try{const Z=I.getProvider(jo).getImmediate();return{logEvent:(F,K,ue)=>function lu(A,I,Z,F){A=(0,le.m9)(A),function W(A,I,Z,F,K){return Za.apply(this,arguments)}(Jt,cn[A.app.options.appId],I,Z,F).catch(K=>dr.error(K))}(Z,F,K,ue)}}catch(Z){throw tr.create("interop-component-reg-failed",{reason:Z})}},"PRIVATE")),(0,ie.registerVersion)(rr,"0.8.3"),(0,ie.registerVersion)(rr,"0.8.3","esm2017")}();var Ra=P(4408),Di=P(7565);const yc=new class cu extends Di.v{}(class ri extends Ra.o{constructor(I,Z){super(I,Z),this.scheduler=I,this.work=Z}schedule(I,Z=0){return Z>0?super.schedule(I,Z):(this.delay=Z,this.state=I,this.scheduler.flush(this),this)}execute(I,Z){return Z>0||this.closed?super.execute(I,Z):this._execute(I,Z)}requestAsyncId(I,Z,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(I,Z,F):(I.flush(this),0)}});var ss=P(4986),Nn=P(8505),mr=P(9468),Cc=P(5363);const Oa=new e.GfV("7.4.1"),Dn="__angularfire_symbol__analyticsIsSupportedValue",oi="__angularfire_symbol__analyticsIsSupported",Gs="__angularfire_symbol__remoteConfigIsSupportedValue",Hs="__angularfire_symbol__remoteConfigIsSupported",pl="__angularfire_symbol__messagingIsSupportedValue",as="__angularfire_symbol__messagingIsSupported";function Wd(A,I,Z){if(I){if(1===I.length)return I[0];const ue=I.filter(xe=>xe.app===Z);if(1===ue.length)return ue[0]}return Z.container.getProvider(A).getImmediate({optional:!0})}globalThis[oi]||(globalThis[oi]=jd().then(A=>globalThis[Dn]=A).catch(()=>globalThis[Dn]=!1)),globalThis[as]||(globalThis[as]=Pd().then(A=>globalThis[pl]=A).catch(()=>globalThis[pl]=!1)),globalThis[Hs]||(globalThis[Hs]=Zs().then(A=>globalThis[Gs]=A).catch(()=>globalThis[Gs]=!1));const hu=(A,I)=>{const Z=I?[I]:(0,V.C6)(),F=[];return Z.forEach(K=>{K.container.getProvider(A).instances.forEach(xe=>{F.includes(xe)||F.push(xe)})}),F};function Do(){}class pu{constructor(I,Z=yc){this.zone=I,this.delegate=Z}now(){return this.delegate.now()}schedule(I,Z,F){const K=this.zone;return this.delegate.schedule(function(xe){K.runGuarded(()=>{I.apply(this,[xe])})},Z,F)}}class zd{constructor(I){this.zone=I,this.task=null}call(I,Z){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Do,{},Do,Do)),Z.pipe((0,Nn.b)({next:F,complete:F,error:F})).subscribe(I).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gu=(()=>{class A{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new pu(Zone.current)),this.insideAngular=Z.run(()=>new pu(Zone.current,ss.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(Z){return new(Z||A)(e.LFG(e.R0b))},A.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function ii(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function Sn(A){return ii(),function us(A){return function(Z){return(Z=Z.lift(new zd(A.ngZone))).pipe((0,mr.R)(A.outsideAngular),(0,Cc.Q)(A.insideAngular))}}(ii())(A)}},7573:(st,we,P)=>{P.d(we,{$:()=>tu,A:()=>$,B:()=>Ue,G:()=>xn,H:()=>Gr,J:()=>Yo,L:()=>G,M:()=>_a,N:()=>Sd,P:()=>ss,Q:()=>ma,R:()=>hl,T:()=>Xa,U:()=>ks,V:()=>Ln,W:()=>wo,X:()=>Jn,Y:()=>St,Z:()=>Zd,_:()=>cc,a:()=>xa,a0:()=>jn,a1:()=>Ms,a2:()=>zu,a3:()=>Ca,a4:()=>Kf,a5:()=>cr,a6:()=>Qu,a7:()=>es,a8:()=>kd,a9:()=>Ku,aA:()=>or,aB:()=>Et,aC:()=>Si,aD:()=>So,aE:()=>sn,aI:()=>ln,aL:()=>Gi,aa:()=>wa,ab:()=>Xu,ac:()=>ru,af:()=>hc,ag:()=>ou,ah:()=>Nd,ak:()=>Ti,al:()=>tl,an:()=>rl,ao:()=>ol,ap:()=>Qt,aq:()=>ve,ar:()=>ct,as:()=>gt,at:()=>Ye,au:()=>Gp,av:()=>_u,aw:()=>Pe,ax:()=>re,ay:()=>X,az:()=>B,b:()=>tr,c:()=>pl,d:()=>Jd,e:()=>gl,f:()=>us,g:()=>F,h:()=>A,i:()=>Zn,j:()=>xe,k:()=>Yd,l:()=>Eo,m:()=>d_,o:()=>he,r:()=>Ra,s:()=>Gd,u:()=>yc});var e=P(5861),V=P(2090),U=P(9681),ie=P(1877),le=P(655),_e=P(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ue=function Y(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ie=function Ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},at=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fe=new ie.Yd("@firebase/auth");function et(v,...f){fe.logLevel<=ie.in.ERROR&&fe.error(`Auth (${U.SDK_VERSION}): ${v}`,...f)}function Ye(v,...f){throw He(v,...f)}function Pe(v,...f){return He(v,...f)}function ke(v,f,_){const T=Object.assign(Object.assign({},Ie()),{[f]:_});return new V.LL("auth","Firebase",T).create(f,{appName:v.name})}function Ae(v,f,_){if(!(f instanceof _))throw _.name!==f.constructor.name&&Ye(v,"argument-error"),ke(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(v,...f){if("string"!=typeof v){const _=f[0],T=[...f.slice(1)];return T[0]&&(T[0].appName=v.name),v._errorFactory.create(_,...T)}return at.create(v,...f)}function re(v,f,..._){if(!v)throw He(f,..._)}function ce(v){const f="INTERNAL ASSERTION FAILED: "+v;throw et(f),new Error(f)}function ve(v,f){v||ce(f)}const Q=new Map;function X(v){ve(v instanceof Function,"Expected a class definition");let f=Q.get(v);return f?(ve(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,Q.set(v,f),f)}function Le(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Fe(){return"http:"===mt()||"https:"===mt()}function mt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Je{constructor(f,_){this.shortDelay=f,this.longDelay=_,ve(_>f,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function an(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Fe()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gn(v,f){ve(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return f?`${_}${f.startsWith("/")?f.slice(1):f}`:_}class In{static initialize(f,_,T){this.fetchImpl=f,_&&(this.headersImpl=_),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},rn=new Je(3e4,6e4);function zt(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function qt(v,f,_,T){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,e.Z)(function*(v,f,_,T,S={}){return yo(v,S,(0,e.Z)(function*(){let M={},te={};T&&("GET"===f?te=T:M={body:JSON.stringify(T)});const De=(0,V.xO)(Object.assign({key:v.config.apiKey},te)).slice(1),rt=yield v._getAdditionalHeaders();return rt["Content-Type"]="application/json",v.languageCode&&(rt["X-Firebase-Locale"]=v.languageCode),In.fetch()(vo(v,v.config.apiHost,_,De),Object.assign({method:f,headers:rt,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function yo(v,f,_){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,e.Z)(function*(v,f,_){v._canInitEmulator=!1;const T=Object.assign(Object.assign({},nn),f);try{const S=new Br(v),M=yield Promise.race([_(),S.promise]);S.clearNetworkTimeout();const te=yield M.json();if("needConfirmation"in te)throw Hn(v,"account-exists-with-different-credential",te);if(M.ok&&!("errorMessage"in te))return te;{const De=M.ok?te.errorMessage:te.error.message,[rt,ft]=De.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===rt)throw Hn(v,"credential-already-in-use",te);if("EMAIL_EXISTS"===rt)throw Hn(v,"email-already-in-use",te);if("USER_DISABLED"===rt)throw Hn(v,"user-disabled",te);const Kt=T[rt]||rt.toLowerCase().replace(/[_\s]+/g,"-");if(ft)throw ke(v,Kt,ft);Ye(v,Kt)}}catch(S){if(S instanceof V.ZR)throw S;Ye(v,"network-request-failed")}})).apply(this,arguments)}function kn(v,f,_,T){return Po.apply(this,arguments)}function Po(){return(Po=(0,e.Z)(function*(v,f,_,T,S={}){const M=yield qt(v,f,_,T,S);return"mfaPendingCredential"in M&&Ye(v,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function vo(v,f,_,T){const S=`${f}${_}?${T}`;return v.config.emulator?gn(v.config,S):`${v.config.apiScheme}://${S}`}class Br{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((_,T)=>{this.timer=setTimeout(()=>T(Pe(this.auth,"network-request-failed")),rn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hn(v,f,_){const T={appName:v.name};_.email&&(T.email=_.email),_.phoneNumber&&(T.phoneNumber=_.phoneNumber);const S=Pe(v,f,T);return S.customData._tokenResponse=_,S}function yt(){return(yt=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function fn(v,f){return ur.apply(this,arguments)}function ur(){return(ur=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function un(v,f){return gr.apply(this,arguments)}function gr(){return(gr=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function br(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Ur(){return(Ur=(0,e.Z)(function*(v,f=!1){const _=(0,V.m9)(v),T=yield _.getIdToken(f),S=lt(T);re(S&&S.exp&&S.auth_time&&S.iat,_.auth,"internal-error");const M="object"==typeof S.firebase?S.firebase:void 0,te=null==M?void 0:M.sign_in_provider;return{claims:S,token:T,authTime:br(Cn(S.auth_time)),issuedAtTime:br(Cn(S.iat)),expirationTime:br(Cn(S.exp)),signInProvider:te||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function Cn(v){return 1e3*Number(v)}function lt(v){var f;const[_,T,S]=v.split(".");if(void 0===_||void 0===T||void 0===S)return et("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,V.tV)(T);return M?JSON.parse(M):(et("Failed to decode base64 JWT payload"),null)}catch(M){return et("Caught error parsing JWT payload as JSON",null===(f=M)||void 0===f?void 0:f.toString()),null}}function bn(v,f){return jr.apply(this,arguments)}function jr(){return(jr=(0,e.Z)(function*(v,f,_=!1){if(_)return f;try{return yield f}catch(T){throw T instanceof V.ZR&&En(T)&&v.auth.currentUser===v&&(yield v.auth.signOut()),T}})).apply(this,arguments)}function En({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class jt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var _;if(f){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const S=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var _=this;if(!this.isRunning)return;const T=this.getInterval(f);this.timerId=setTimeout((0,e.Z)(function*(){yield _.iteration()}),T)}iteration(){var f=this;return(0,e.Z)(function*(){var _;try{yield f.user.getIdToken(!0)}catch(T){return void("auth/network-request-failed"===(null===(_=T)||void 0===_?void 0:_.code)&&f.schedule(!0))}f.schedule()})()}}class Rn{constructor(f,_){this.createdAt=f,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=br(this.lastLoginAt),this.creationTime=br(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $r(v){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,e.Z)(function*(v){var f;const _=v.auth,T=yield v.getIdToken(),S=yield bn(v,un(_,{idToken:T}));re(null==S?void 0:S.users.length,_,"internal-error");const M=S.users[0];v._notifyReloadListener(M);const te=null!==(f=M.providerUserInfo)&&void 0!==f&&f.length?qn(M.providerUserInfo):[],De=Mr(v.providerData,te),Kt=!!v.isAnonymous&&!(v.email&&M.passwordHash||null!=De&&De.length),Un={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:De,metadata:new Rn(M.createdAt,M.lastLoginAt),isAnonymous:Kt};Object.assign(v,Un)})).apply(this,arguments)}function Lt(){return(Lt=(0,e.Z)(function*(v){const f=(0,V.m9)(v);yield $r(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Mr(v,f){return[...v.filter(T=>!f.some(S=>S.providerId===T.providerId)),...f]}function qn(v){return v.map(f=>{var{providerId:_}=f,T=(0,le._T)(f,["providerId"]);return{providerId:_,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function Se(){return(Se=(0,e.Z)(function*(v,f){const _=yield yo(v,{},(0,e.Z)(function*(){const T=(0,V.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:M}=v.config,te=vo(v,S,"/v1/token",`key=${M}`),De=yield v._getAdditionalHeaders();return De["Content-Type"]="application/x-www-form-urlencoded",In.fetch()(te,{method:"POST",headers:De,body:T})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){re(f.idToken,"internal-error"),re(void 0!==f.idToken,"internal-error"),re(void 0!==f.refreshToken,"internal-error");const _="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function nt(v){const f=lt(v);return re(f,"internal-error"),re(void 0!==f.exp,"internal-error"),re(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,_)}getToken(f,_=!1){var T=this;return(0,e.Z)(function*(){return re(!T.accessToken||T.refreshToken,f,"user-token-expired"),_||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(f,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,_){var T=this;return(0,e.Z)(function*(){const{accessToken:S,refreshToken:M,expiresIn:te}=yield function Xe(v,f){return Se.apply(this,arguments)}(f,_);T.updateTokensAndExpiration(S,M,Number(te))})()}updateTokensAndExpiration(f,_,T){this.refreshToken=_||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(f,_){const{refreshToken:T,accessToken:S,expirationTime:M}=_,te=new tt;return T&&(re("string"==typeof T,"internal-error",{appName:f}),te.refreshToken=T),S&&(re("string"==typeof S,"internal-error",{appName:f}),te.accessToken=S),M&&(re("number"==typeof M,"internal-error",{appName:f}),te.expirationTime=M),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new tt,this.toJSON())}_performRefresh(){return ce("not implemented")}}function Tt(v,f){re("string"==typeof v||void 0===v,"internal-error",{appName:f})}class wt{constructor(f){var{uid:_,auth:T,stsTokenManager:S}=f,M=(0,le._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=T,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new Rn(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(f){var _=this;return(0,e.Z)(function*(){const T=yield bn(_,_.stsTokenManager.getToken(_.auth,f));return re(T,_.auth,"internal-error"),_.accessToken!==T&&(_.accessToken=T,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),T})()}getIdTokenResult(f){return function _n(v){return Ur.apply(this,arguments)}(this,f)}reload(){return function Co(v){return Lt.apply(this,arguments)}(this)}_assign(f){this!==f&&(re(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(_=>Object.assign({},_)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new wt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,_=!1){var T=this;return(0,e.Z)(function*(){let S=!1;f.idToken&&f.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(f),S=!0),_&&(yield $r(T)),yield T.auth._persistUserIfCurrent(T),S&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var f=this;return(0,e.Z)(function*(){const _=yield f.getIdToken();return yield bn(f,function Ro(v,f){return yt.apply(this,arguments)}(f.auth,{idToken:_})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,_){var T,S,M,te,De,rt,ft,Kt;const Un=null!==(T=_.displayName)&&void 0!==T?T:void 0,Jo=null!==(S=_.email)&&void 0!==S?S:void 0,Mn=null!==(M=_.phoneNumber)&&void 0!==M?M:void 0,yr=null!==(te=_.photoURL)&&void 0!==te?te:void 0,f_=null!==(De=_.tenantId)&&void 0!==De?De:void 0,nh=null!==(rt=_._redirectEventId)&&void 0!==rt?rt:void 0,rh=null!==(ft=_.createdAt)&&void 0!==ft?ft:void 0,__=null!==(Kt=_.lastLoginAt)&&void 0!==Kt?Kt:void 0,{uid:ml,emailVerified:so,isAnonymous:oh,providerData:yl,stsTokenManager:ai}=_;re(ml&&ai,f,"internal-error");const m_=tt.fromJSON(this.name,ai);re("string"==typeof ml,f,"internal-error"),Tt(Un,f.name),Tt(Jo,f.name),re("boolean"==typeof so,f,"internal-error"),re("boolean"==typeof oh,f,"internal-error"),Tt(Mn,f.name),Tt(yr,f.name),Tt(f_,f.name),Tt(nh,f.name),Tt(rh,f.name),Tt(__,f.name);const yu=new wt({uid:ml,auth:f,email:Jo,emailVerified:so,displayName:Un,isAnonymous:oh,photoURL:yr,phoneNumber:Mn,tenantId:f_,stsTokenManager:m_,createdAt:rh,lastLoginAt:__});return yl&&Array.isArray(yl)&&(yu.providerData=yl.map(y_=>Object.assign({},y_))),nh&&(yu._redirectEventId=nh),yu}static _fromIdTokenResponse(f,_,T=!1){return(0,e.Z)(function*(){const S=new tt;S.updateFromServerResponse(_);const M=new wt({uid:_.localId,auth:f,stsTokenManager:S,isAnonymous:T});return yield $r(M),M})()}}const G=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,e.Z)(function*(){return!0})()}_set(_,T){var S=this;return(0,e.Z)(function*(){S.storage[_]=T})()}_get(_){var T=this;return(0,e.Z)(function*(){const S=T.storage[_];return void 0===S?null:S})()}_remove(_){var T=this;return(0,e.Z)(function*(){delete T.storage[_]})()}_addListener(_,T){}_removeListener(_,T){}}return v.type="NONE",v})();function B(v,f,_){return`firebase:${v}:${f}:${_}`}class z{constructor(f,_,T){this.persistence=f,this.auth=_,this.userKey=T;const{config:S,name:M}=this.auth;this.fullUserKey=B(this.userKey,S.apiKey,M),this.fullPersistenceKey=B("persistence",S.apiKey,M),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,e.Z)(function*(){const _=yield f.persistence._get(f.fullUserKey);return _?wt._fromJSON(f.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var _=this;return(0,e.Z)(function*(){if(_.persistence===f)return;const T=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=f,T?_.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,_,T="authUser"){return(0,e.Z)(function*(){if(!_.length)return new z(X(G),f,T);const S=(yield Promise.all(_.map(function(){var ft=(0,e.Z)(function*(Kt){if(yield Kt._isAvailable())return Kt});return function(Kt){return ft.apply(this,arguments)}}()))).filter(ft=>ft);let M=S[0]||X(G);const te=B(T,f.config.apiKey,f.name);let De=null;for(const ft of _)try{const Kt=yield ft._get(te);if(Kt){const Un=wt._fromJSON(f,Kt);ft!==M&&(De=Un),M=ft;break}}catch(Kt){}const rt=S.filter(ft=>ft._shouldAllowMigration);return M._shouldAllowMigration&&rt.length?(M=rt[0],De&&(yield M._set(te,De.toJSON())),yield Promise.all(_.map(function(){var ft=(0,e.Z)(function*(Kt){if(Kt!==M)try{yield Kt._remove(te)}catch(Un){}});return function(Kt){return ft.apply(this,arguments)}}())),new z(M,f,T)):new z(M,f,T)})()}}function O(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Re(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(N(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(pt(f))return"Blackberry";if(Zt(f))return"Webos";if(L(f))return"Safari";if((f.includes("chrome/")||oe(f))&&!f.includes("edge/"))return"Chrome";if(gt(f))return"Android";{const T=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function N(v=(0,V.z$)()){return/firefox\//i.test(v)}function L(v=(0,V.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function oe(v=(0,V.z$)()){return/crios\//i.test(v)}function Re(v=(0,V.z$)()){return/iemobile/i.test(v)}function gt(v=(0,V.z$)()){return/android/i.test(v)}function pt(v=(0,V.z$)()){return/blackberry/i.test(v)}function Zt(v=(0,V.z$)()){return/webos/i.test(v)}function ct(v=(0,V.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Qt(v=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Ge(v=(0,V.z$)()){return ct(v)||gt(v)||Zt(v)||pt(v)||/windows phone/i.test(v)||Re(v)}function Tn(v,f=[]){let _;switch(v){case"Browser":_=O((0,V.z$)());break;case"Worker":_=`${O((0,V.z$)())}-${v}`;break;default:_=v}const T=f.length?f.join(","):"FirebaseCore-web";return`${_}/JsCore/${U.SDK_VERSION}/${T}`}class Ir{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,_){const T=M=>new Promise((te,De)=>{try{te(f(M))}catch(rt){De(rt)}});T.onAbort=_,this.queue.push(T);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(f){var _=this;return(0,e.Z)(function*(){var T;if(_.auth.currentUser===f)return;const S=[];try{for(const M of _.queue)yield M(f),M.onAbort&&S.push(M.onAbort)}catch(M){S.reverse();for(const te of S)try{te()}catch(De){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(T=M)||void 0===T?void 0:T.message})}})()}}class yi{constructor(f,_,T){this.app=f,this.heartbeatServiceProvider=_,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oo(this),this.idTokenSubscription=new Oo(this),this.beforeStateQueue=new Ir(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=at,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(f,_){var T=this;return _&&(this._popupRedirectResolver=X(_)),this._initializationPromise=this.queue((0,e.Z)(function*(){var S,M;if(!T._deleted&&(T.persistenceManager=yield z.create(T,f),!T._deleted)){if(null!==(S=T._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch(te){}yield T.initializeCurrentUser(_),T.lastNotifiedUid=(null===(M=T.currentUser)||void 0===M?void 0:M.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,e.Z)(function*(){if(f._deleted)return;const _=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||_){if(f.currentUser&&_&&f.currentUser.uid===_.uid)return f._currentUser._assign(_),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(_,!0)}})()}initializeCurrentUser(f){var _=this;return(0,e.Z)(function*(){var T;const S=yield _.assertedPersistence.getCurrentUser();let M=S,te=!1;if(f&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const De=null===(T=_.redirectUser)||void 0===T?void 0:T._redirectEventId,rt=null==M?void 0:M._redirectEventId,ft=yield _.tryRedirectSignIn(f);(!De||De===rt)&&(null==ft?void 0:ft.user)&&(M=ft.user,te=!0)}if(!M)return _.directlySetCurrentUser(null);if(!M._redirectEventId){if(te)try{yield _.beforeStateQueue.runMiddleware(M)}catch(De){M=S,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(De))}return M?_.reloadAndSetCurrentUserOrClear(M):_.directlySetCurrentUser(null)}return re(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===M._redirectEventId?_.directlySetCurrentUser(M):_.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(f){var _=this;return(0,e.Z)(function*(){let T=null;try{T=yield _._popupRedirectResolver._completeRedirectFn(_,f,!0)}catch(S){yield _._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(f){var _=this;return(0,e.Z)(function*(){var T;try{yield $r(f)}catch(S){if("auth/network-request-failed"!==(null===(T=S)||void 0===T?void 0:T.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Bt(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,e.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var _=this;return(0,e.Z)(function*(){const T=f?(0,V.m9)(f):null;return T&&re(T.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(T&&T._clone(_))})()}_updateCurrentUser(f,_=!1){var T=this;return(0,e.Z)(function*(){if(!T._deleted)return f&&re(T.tenantId===f.tenantId,T,"tenant-id-mismatch"),_||(yield T.beforeStateQueue.runMiddleware(f)),T.queue((0,e.Z)(function*(){yield T.directlySetCurrentUser(f),T.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,e.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var _=this;return this.queue((0,e.Z)(function*(){yield _.assertedPersistence.setPersistence(X(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new V.LL("auth","Firebase",f())}onAuthStateChanged(f,_,T){return this.registerStateListener(this.authStateSubscription,f,_,T)}beforeAuthStateChanged(f,_){return this.beforeStateQueue.pushCallback(f,_)}onIdTokenChanged(f,_,T){return this.registerStateListener(this.idTokenSubscription,f,_,T)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,_){var T=this;return(0,e.Z)(function*(){const S=yield T.getOrInitRedirectPersistenceManager(_);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var _=this;return(0,e.Z)(function*(){if(!_.redirectPersistenceManager){const T=f&&X(f)||_._popupRedirectResolver;re(T,_,"argument-error"),_.redirectPersistenceManager=yield z.create(_,[X(T._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(f){var _=this;return(0,e.Z)(function*(){var T,S;return _._isInitialized&&(yield _.queue((0,e.Z)(function*(){}))),(null===(T=_._currentUser)||void 0===T?void 0:T._redirectEventId)===f?_._currentUser:(null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?_.redirectUser:null})()}_persistUserIfCurrent(f){var _=this;return(0,e.Z)(function*(){if(f===_.currentUser)return _.queue((0,e.Z)(function*(){return _.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(_=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,_,T,S){if(this._deleted)return()=>{};const M="function"==typeof _?_:_.next.bind(_),te=this._isInitialized?Promise.resolve():this._initializationPromise;return re(te,this,"internal-error"),te.then(()=>M(this.currentUser)),"function"==typeof _?f.addObserver(_,T,S):f.addObserver(_)}directlySetCurrentUser(f){var _=this;return(0,e.Z)(function*(){_.currentUser&&_.currentUser!==f&&_._currentUser._stopProactiveRefresh(),f&&_.isProactiveRefreshEnabled&&f._startProactiveRefresh(),_.currentUser=f,f?yield _.assertedPersistence.setCurrentUser(f):yield _.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Tn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,e.Z)(function*(){var _;const T={"X-Client-Version":f.clientVersion};f.app.options.appId&&(T["X-Firebase-gmpid"]=f.app.options.appId);const S=yield null===(_=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return S&&(T["X-Firebase-Client"]=S),T})()}}function sn(v){return(0,V.m9)(v)}class Oo{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,V.ne)(_=>this.observer=_)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xn(v,f,_){const T=sn(v);re(T._canInitEmulator,T,"emulator-config-failed"),re(/^https?:\/\//.test(f),T,"invalid-emulator-scheme");const S=!(null==_||!_.disableWarnings),M=As(f),{host:te,port:De}=function vi(v){const f=As(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!_)return{host:"",port:null};const T=_[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(T);if(S){const M=S[1];return{host:M,port:Nt(T.substr(M.length+1))}}{const[M,te]=T.split(":");return{host:M,port:Nt(te)}}}(f);T.config.emulator={url:`${M}//${te}${null===De?"":`:${De}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:te,port:De,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Is(){function v(){const f=document.createElement("p"),_=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function As(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function Nt(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class Gr{constructor(f,_){this.providerId=f,this.signInMethod=_}toJSON(){return ce("not implemented")}_getIdTokenResponse(f){return ce("not implemented")}_linkToIdToken(f,_){return ce("not implemented")}_getReauthenticationResolver(f){return ce("not implemented")}}function za(v,f){return On.apply(this,arguments)}function On(){return(On=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:resetPassword",zt(v,f))})).apply(this,arguments)}function er(v,f){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Es(v,f){return Er.apply(this,arguments)}function Er(){return(Er=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:update",zt(v,f))})).apply(this,arguments)}function Ds(){return(Ds=(0,e.Z)(function*(v,f){return kn(v,"POST","/v1/accounts:signInWithPassword",zt(v,f))})).apply(this,arguments)}function dt(v,f){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:sendOobCode",zt(v,f))})).apply(this,arguments)}function Hu(v,f){return It.apply(this,arguments)}function It(){return(It=(0,e.Z)(function*(v,f){return dt(v,f)})).apply(this,arguments)}function To(v,f){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,e.Z)(function*(v,f){return dt(v,f)})).apply(this,arguments)}function ga(v,f){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,e.Z)(function*(v,f){return dt(v,f)})).apply(this,arguments)}function Lo(v,f){return nc.apply(this,arguments)}function nc(){return(nc=(0,e.Z)(function*(v,f){return dt(v,f)})).apply(this,arguments)}function Ju(){return(Ju=(0,e.Z)(function*(v,f){return kn(v,"POST","/v1/accounts:signInWithEmailLink",zt(v,f))})).apply(this,arguments)}function oc(){return(oc=(0,e.Z)(function*(v,f){return kn(v,"POST","/v1/accounts:signInWithEmailLink",zt(v,f))})).apply(this,arguments)}class Ka extends Gr{constructor(f,_,T,S=null){super("password",T),this._email=f,this._password=_,this._tenantId=S}static _fromEmailAndPassword(f,_){return new Ka(f,_,"password")}static _fromEmailAndCode(f,_,T=null){return new Ka(f,_,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(f){var _=this;return(0,e.Z)(function*(){switch(_.signInMethod){case"password":return function Vi(v,f){return Ds.apply(this,arguments)}(f,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function rc(v,f){return Ju.apply(this,arguments)}(f,{email:_._email,oobCode:_._password});default:Ye(f,"internal-error")}})()}_linkToIdToken(f,_){var T=this;return(0,e.Z)(function*(){switch(T.signInMethod){case"password":return er(f,{idToken:_,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function Dd(v,f){return oc.apply(this,arguments)}(f,{idToken:_,email:T._email,oobCode:T._password});default:Ye(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function ji(v,f){return no.apply(this,arguments)}function no(){return(no=(0,e.Z)(function*(v,f){return kn(v,"POST","/v1/accounts:signInWithIdp",zt(v,f))})).apply(this,arguments)}class Yo extends Gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const _=new Yo(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(_.idToken=f.idToken),f.accessToken&&(_.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(_.nonce=f.nonce),f.pendingToken&&(_.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(_.accessToken=f.oauthToken,_.secret=f.oauthTokenSecret):Ye("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f,{providerId:T,signInMethod:S}=_,M=(0,le._T)(_,["providerId","signInMethod"]);if(!T||!S)return null;const te=new Yo(T,S);return te.idToken=M.idToken||void 0,te.accessToken=M.accessToken||void 0,te.secret=M.secret,te.nonce=M.nonce,te.pendingToken=M.pendingToken||null,te}_getIdTokenResponse(f){return ji(f,this.buildRequest())}_linkToIdToken(f,_){const T=this.buildRequest();return T.idToken=_,ji(f,T)}_getReauthenticationResolver(f){const _=this.buildRequest();return _.autoCreate=!1,ji(f,_)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),f.postBody=(0,V.xO)(_)}return f}}function xp(v,f){return ic.apply(this,arguments)}function ic(){return(ic=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:sendVerificationCode",zt(v,f))})).apply(this,arguments)}function fa(){return(fa=(0,e.Z)(function*(v,f){return kn(v,"POST","/v1/accounts:signInWithPhoneNumber",zt(v,f))})).apply(this,arguments)}function sc(){return(sc=(0,e.Z)(function*(v,f){const _=yield kn(v,"POST","/v1/accounts:signInWithPhoneNumber",zt(v,f));if(_.temporaryProof)throw Hn(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const kp={USER_NOT_FOUND:"user-not-found"};function Ya(){return(Ya=(0,e.Z)(function*(v,f){return kn(v,"POST","/v1/accounts:signInWithPhoneNumber",zt(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),kp)})).apply(this,arguments)}class Xo extends Gr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,_){return new Xo({verificationId:f,verificationCode:_})}static _fromTokenResponse(f,_){return new Xo({phoneNumber:f,temporaryProof:_})}_getIdTokenResponse(f){return function Zp(v,f){return fa.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,_){return function Ss(v,f){return sc.apply(this,arguments)}(f,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Np(v,f){return Ya.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:_,verificationId:T,verificationCode:S}=this.params;return f&&_?{temporaryProof:f,phoneNumber:_}:{sessionInfo:T,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:_,verificationCode:T,phoneNumber:S,temporaryProof:M}=f;return T||_||S||M?new Xo({verificationId:_,verificationCode:T,phoneNumber:S,temporaryProof:M}):null}}class xs{constructor(f){var _,T,S,M,te,De;const rt=(0,V.zd)((0,V.pd)(f)),ft=null!==(_=rt.apiKey)&&void 0!==_?_:null,Kt=null!==(T=rt.oobCode)&&void 0!==T?T:null,Un=function Up(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=rt.mode)&&void 0!==S?S:null);re(ft&&Kt&&Un,"argument-error"),this.apiKey=ft,this.operation=Un,this.code=Kt,this.continueUrl=null!==(M=rt.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(te=rt.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(De=rt.tenantId)&&void 0!==De?De:null}static parseLink(f){const _=function Qf(v){const f=(0,V.zd)((0,V.pd)(v)).link,_=f?(0,V.zd)((0,V.pd)(f)).deep_link_id:null,T=(0,V.zd)((0,V.pd)(v)).deep_link_id;return(T?(0,V.zd)((0,V.pd)(T)).link:null)||T||_||f||v}(f);try{return new xs(_)}catch(T){return null}}}let _a=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,T){return Ka._fromEmailAndPassword(_,T)}static credentialWithLink(_,T){const S=xs.parseLink(T);return re(S,"argument-error"),Ka._fromEmailAndCode(_,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ro{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class $i extends ro{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ks extends $i{static credentialFromJSON(f){const _="string"==typeof f?JSON.parse(f):f;return re("providerId"in _&&"signInMethod"in _,"argument-error"),Yo._fromParams(_)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return re(f.idToken||f.accessToken,"argument-error"),Yo._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ks.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ks.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:T,oauthTokenSecret:S,pendingToken:M,nonce:te,providerId:De}=f;if(!T&&!S&&!_&&!M||!De)return null;try{return new ks(De)._credential({idToken:_,accessToken:T,nonce:te,pendingToken:M})}catch(rt){return null}}}let Sd=(()=>{class v extends $i{constructor(){super("facebook.com")}static credential(_){return Yo._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(T){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),ma=(()=>{class v extends $i{constructor(){super("google.com"),this.addScope("profile")}static credential(_,T){return Yo._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:T})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:T,oauthAccessToken:S}=_;if(!T&&!S)return null;try{return v.credential(T,S)}catch(M){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Xa=(()=>{class v extends $i{constructor(){super("github.com")}static credential(_){return Yo._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(T){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Gi extends Gr{constructor(f,_){super(f,f),this.pendingToken=_}_getIdTokenResponse(f){return ji(f,this.buildRequest())}_linkToIdToken(f,_){const T=this.buildRequest();return T.idToken=_,ji(f,T)}_getReauthenticationResolver(f){const _=this.buildRequest();return _.autoCreate=!1,ji(f,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f,{providerId:T,signInMethod:S,pendingToken:M}=_;return T&&S&&M&&T===S?new Gi(T,M):null}static _create(f,_){return new Gi(f,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ln extends ro{constructor(f){re(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ln.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ln.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const _=Gi.fromJSON(f);return re(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:_,providerId:T}=f;if(!_||!T)return null;try{return Gi._create(T,_)}catch(S){return null}}}let wo=(()=>{class v extends $i{constructor(){super("twitter.com")}static credential(_,T){return Yo._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:T})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:T,oauthTokenSecret:S}=_;if(!T||!S)return null;try{return v.credential(T,S)}catch(M){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function uc(v,f){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,e.Z)(function*(v,f){return kn(v,"POST","/v1/accounts:signUp",zt(v,f))})).apply(this,arguments)}class bo{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,_,T,S=!1){return(0,e.Z)(function*(){const M=yield wt._fromIdTokenResponse(f,T,S),te=Wu(T);return new bo({user:M,providerId:te,_tokenResponse:T,operationType:_})})()}static _forOperation(f,_,T){return(0,e.Z)(function*(){yield f._updateTokensIfNecessary(T,!0);const S=Wu(T);return new bo({user:f,providerId:S,_tokenResponse:T,operationType:_})})()}}function Wu(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Jn(v){return eu.apply(this,arguments)}function eu(){return(eu=(0,e.Z)(function*(v){var f;const _=sn(v);if(yield _._initializationPromise,null!==(f=_.currentUser)&&void 0!==f&&f.isAnonymous)return new bo({user:_.currentUser,providerId:null,operationType:"signIn"});const T=yield uc(_,{returnSecureToken:!0}),S=yield bo._fromIdTokenResponse(_,"signIn",T,!0);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class lc extends V.ZR{constructor(f,_,T,S){var M;super(_.code,_.message),this.operationType=T,this.user=S,Object.setPrototypeOf(this,lc.prototype),this.customData={appName:f.name,tenantId:null!==(M=f.tenantId)&&void 0!==M?M:void 0,_serverResponse:_.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(f,_,T,S){return new lc(f,_,T,S)}}function ya(v,f,_,T){return("reauthenticate"===f?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?lc._fromErrorAndOperation(v,M,f,T):M})}function Hr(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function Ti(v,f){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,e.Z)(function*(v,f){const _=(0,V.m9)(v);yield Wi(!0,_,f);const{providerUserInfo:T}=yield fn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[f]}),S=Hr(T||[]);return _.providerData=_.providerData.filter(M=>S.has(M.providerId)),S.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function ei(v,f){return lr.apply(this,arguments)}function lr(){return(lr=(0,e.Z)(function*(v,f,_=!1){const T=yield bn(v,f._linkToIdToken(v.auth,yield v.getIdToken()),_);return bo._forOperation(v,"link",T)})).apply(this,arguments)}function Wi(v,f,_){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,e.Z)(function*(v,f,_){yield $r(f);const S=!1===v?"provider-already-linked":"no-such-provider";re(Hr(f.providerData).has(_)===v,f.auth,S)})).apply(this,arguments)}function wi(v,f){return qo.apply(this,arguments)}function qo(){return(qo=(0,e.Z)(function*(v,f,_=!1){var T;const{auth:S}=v,M="reauthenticate";try{const te=yield bn(v,ya(S,M,f,v),_);re(te.idToken,S,"internal-error");const De=lt(te.idToken);re(De,S,"internal-error");const{sub:rt}=De;return re(v.uid===rt,S,"user-mismatch"),bo._forOperation(v,M,te)}catch(te){throw"auth/user-not-found"===(null===(T=te)||void 0===T?void 0:T.code)&&Ye(S,"user-mismatch"),te}})).apply(this,arguments)}function bi(v,f){return zi.apply(this,arguments)}function zi(){return(zi=(0,e.Z)(function*(v,f,_=!1){const T="signIn",S=yield ya(v,T,f),M=yield bo._fromIdTokenResponse(v,T,S);return _||(yield v._updateCurrentUser(M.user)),M})).apply(this,arguments)}function St(v,f){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,e.Z)(function*(v,f){return bi(sn(v),f)})).apply(this,arguments)}function Zd(v,f){return va.apply(this,arguments)}function va(){return(va=(0,e.Z)(function*(v,f){const _=(0,V.m9)(v);return yield Wi(!1,_,f.providerId),ei(_,f)})).apply(this,arguments)}function cc(v,f){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,e.Z)(function*(v,f){return wi((0,V.m9)(v),f)})).apply(this,arguments)}function Ns(v,f){return Us.apply(this,arguments)}function Us(){return(Us=(0,e.Z)(function*(v,f){return kn(v,"POST","/v1/accounts:signInWithCustomToken",zt(v,f))})).apply(this,arguments)}function tu(v,f){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,e.Z)(function*(v,f){const _=sn(v),T=yield Ns(_,{token:f,returnSecureToken:!0}),S=yield bo._fromIdTokenResponse(_,"signIn",T);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class $t{constructor(f,_){this.factorId=f,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(f,_){return"phoneInfo"in _?Qi._fromServerResponse(f,_):Ye(f,"internal-error")}}class Qi extends $t{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,_){return new Qi(_)}}function Ki(v,f,_){var T;re((null===(T=_.url)||void 0===T?void 0:T.length)>0,v,"invalid-continue-uri"),re(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=_.url,f.dynamicLinkDomain=_.dynamicLinkDomain,f.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(re(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=_.iOS.bundleId),_.android&&(re(_.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=_.android.installApp,f.androidMinimumVersionCode=_.android.minimumVersion,f.androidPackageName=_.android.packageName)}function jn(v,f,_){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v),S={requestType:"PASSWORD_RESET",email:f};_&&Ki(T,S,_),yield To(T,S)})).apply(this,arguments)}function Ms(v,f,_){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,e.Z)(function*(v,f,_){yield za((0,V.m9)(v),{oobCode:f,newPassword:_})})).apply(this,arguments)}function zu(v,f){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,e.Z)(function*(v,f){yield Es((0,V.m9)(v),{oobCode:f})})).apply(this,arguments)}function Ca(v,f){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,e.Z)(function*(v,f){const _=(0,V.m9)(v),T=yield za(_,{oobCode:f}),S=T.requestType;switch(re(S,_,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(T.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(T.mfaInfo,_,"internal-error");default:re(T.email,_,"internal-error")}let M=null;return T.mfaInfo&&(M=$t._fromServerResponse(sn(_),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:M},operation:S}})).apply(this,arguments)}function Kf(v,f){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,e.Z)(function*(v,f){const{data:_}=yield Ca((0,V.m9)(v),f);return _.email})).apply(this,arguments)}function cr(v,f,_){return oo.apply(this,arguments)}function oo(){return(oo=(0,e.Z)(function*(v,f,_){const T=sn(v),S=yield uc(T,{returnSecureToken:!0,email:f,password:_}),M=yield bo._fromIdTokenResponse(T,"signIn",S);return yield T._updateCurrentUser(M.user),M})).apply(this,arguments)}function Qu(v,f,_){return St((0,V.m9)(v),_a.credential(f,_))}function es(v,f,_){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v),S={requestType:"EMAIL_SIGNIN",email:f};re(_.handleCodeInApp,T,"argument-error"),_&&Ki(T,S,_),yield ga(T,S)})).apply(this,arguments)}function kd(v,f){const _=xs.parseLink(f);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function Ku(v,f,_){return nu.apply(this,arguments)}function nu(){return(nu=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v),S=_a.credentialWithLink(f,_||Le());return re(S._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),St(T,S)})).apply(this,arguments)}function Yu(v,f){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:createAuthUri",zt(v,f))})).apply(this,arguments)}function wa(v,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,e.Z)(function*(v,f){const T={identifier:f,continueUri:Fe()?Le():"http://localhost"},{signinMethods:S}=yield Yu((0,V.m9)(v),T);return S||[]})).apply(this,arguments)}function Xu(v,f){return ba.apply(this,arguments)}function ba(){return(ba=(0,e.Z)(function*(v,f){const _=(0,V.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&Ki(_.auth,S,f);const{email:M}=yield Hu(_.auth,S);M!==v.email&&(yield v.reload())})).apply(this,arguments)}function ru(v,f,_){return Os.apply(this,arguments)}function Os(){return(Os=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};_&&Ki(T.auth,M,_);const{email:te}=yield Lo(T.auth,M);te!==v.email&&(yield v.reload())})).apply(this,arguments)}function dc(v,f){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,e.Z)(function*(v,f){return qt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function hc(v,f){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,e.Z)(function*(v,{displayName:f,photoURL:_}){if(void 0===f&&void 0===_)return;const T=(0,V.m9)(v),M={idToken:yield T.getIdToken(),displayName:f,photoUrl:_,returnSecureToken:!0},te=yield bn(T,dc(T.auth,M));T.displayName=te.displayName||null,T.photoURL=te.photoUrl||null;const De=T.providerData.find(({providerId:rt})=>"password"===rt);De&&(De.displayName=T.displayName,De.photoURL=T.photoURL),yield T._updateTokensIfNecessary(te)})).apply(this,arguments)}function ou(v,f){return Aa((0,V.m9)(v),f,null)}function Nd(v,f){return Aa((0,V.m9)(v),null,f)}function Aa(v,f,_){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,e.Z)(function*(v,f,_){const{auth:T}=v,M={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(M.email=f),_&&(M.password=_);const te=yield bn(v,er(T,M));yield v._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class wn{constructor(f,_,T={}){this.isNewUser=f,this.providerId=_,this.profile=T}}class Ud extends wn{constructor(f,_,T,S){super(f,_,T),this.username=S}}class Md extends wn{constructor(f,_){super(f,"facebook.com",_)}}class Pd extends Ud{constructor(f,_){super(f,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class el extends wn{constructor(f,_){super(f,"google.com",_)}}class pc extends Ud{constructor(f,_,T){super(f,"twitter.com",_,T)}}function tl(v){const{user:f,_tokenResponse:_}=v;return f.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Bo(v){var f,_;if(!v)return null;const{providerId:T}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},M=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!T&&(null==v?void 0:v.idToken)){const te=null===(_=null===(f=lt(v.idToken))||void 0===f?void 0:f.firebase)||void 0===_?void 0:_.sign_in_provider;if(te)return new wn(M,"anonymous"!==te&&"custom"!==te?te:null)}if(!T)return null;switch(T){case"facebook.com":return new Md(M,S);case"github.com":return new Pd(M,S);case"google.com":return new el(M,S);case"twitter.com":return new pc(M,S,v.screenName||null);case"custom":case"anonymous":return new wn(M,null);default:return new wn(M,T,S)}}(_)}class Vs{constructor(f,_,T){this.type=f,this.credential=_,this.auth=T}static _fromIdtoken(f,_){return new Vs("enroll",f,_)}static _fromMfaPendingCredential(f){return new Vs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var _,T;if(null!=f&&f.multiFactorSession){if(null!==(_=f.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Vs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(T=f.multiFactorSession)&&void 0!==T&&T.idToken)return Vs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Bs{constructor(f,_,T){this.session=f,this.hints=_,this.signInResolver=T}static _fromError(f,_){const T=sn(f),S=_.customData._serverResponse,M=(S.mfaInfo||[]).map(De=>$t._fromServerResponse(T,De));re(S.mfaPendingCredential,T,"internal-error");const te=Vs._fromMfaPendingCredential(S.mfaPendingCredential);return new Bs(te,M,function(){var De=(0,e.Z)(function*(rt){const ft=yield rt._process(T,te);delete S.mfaInfo,delete S.mfaPendingCredential;const Kt=Object.assign(Object.assign({},S),{idToken:ft.idToken,refreshToken:ft.refreshToken});switch(_.operationType){case"signIn":const Un=yield bo._fromIdTokenResponse(T,_.operationType,Kt);return yield T._updateCurrentUser(Un.user),Un;case"reauthenticate":return re(_.user,T,"internal-error"),bo._forOperation(_.user,_.operationType,Kt);default:Ye(T,"internal-error")}});return function(rt){return De.apply(this,arguments)}}())}resolveSignIn(f){var _=this;return(0,e.Z)(function*(){return _.signInResolver(f)})()}}function rl(v,f){var _;const T=(0,V.m9)(v),S=f;return re(f.customData.operationType,T,"argument-error"),re(null===(_=S.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,T,"argument-error"),Bs._fromError(T,S)}function dr(v,f){return qt(v,"POST","/v2/accounts/mfaEnrollment:start",zt(v,f))}class Od{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(T=>$t._fromServerResponse(f.auth,T)))})}static _fromUser(f){return new Od(f)}getSession(){var f=this;return(0,e.Z)(function*(){return Vs._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,_){var T=this;return(0,e.Z)(function*(){const S=f,M=yield T.getSession(),te=yield bn(T.user,S._process(T.user.auth,M,_));return yield T.user._updateTokensIfNecessary(te),T.user.reload()})()}unenroll(f){var _=this;return(0,e.Z)(function*(){var T;const S="string"==typeof f?f:f.uid,M=yield _.user.getIdToken(),te=yield bn(_.user,function Xf(v,f){return qt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(v,f))}(_.user.auth,{idToken:M,mfaEnrollmentId:S}));_.enrolledFactors=_.enrolledFactors.filter(({uid:De})=>De!==S),yield _.user._updateTokensIfNecessary(te);try{yield _.user.reload()}catch(De){if("auth/user-token-expired"!==(null===(T=De)||void 0===T?void 0:T.code))throw De}})()}}const Ea=new WeakMap;function ol(v){const f=(0,V.m9)(v);return Ea.has(f)||Ea.set(f,Od._fromUser(f)),Ea.get(f)}const Da="__sak";class js{constructor(f,_){this.storageRetriever=f,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Da,"1"),this.storage.removeItem(Da),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,_){return this.storage.setItem(f,JSON.stringify(_)),Promise.resolve()}_get(f){const _=this.storage.getItem(f);return Promise.resolve(_?JSON.parse(_):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const tr=(()=>{class v extends js{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,T)=>this.onStorageEvent(_,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ld(){const v=(0,V.z$)();return L(v)||ct(v)}()&&function kt(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Ge(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const T of Object.keys(this.listeners)){const S=this.storage.getItem(T),M=this.localCache[T];S!==M&&_(T,M,S)}}onStorageEvent(_,T=!1){if(!_.key)return void this.forAllChangedKeys((De,rt,ft)=>{this.notifyListeners(De,ft)});const S=_.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const De=this.storage.getItem(S);if(_.newValue!==De)null!==_.newValue?this.storage.setItem(S,_.newValue):this.storage.removeItem(S);else if(this.localCache[S]===_.newValue&&!T)return}const M=()=>{const De=this.storage.getItem(S);!T&&this.localCache[S]===De||this.notifyListeners(S,De)},te=this.storage.getItem(S);!function Dt(){return(0,V.w1)()&&10===document.documentMode}()||te===_.newValue||_.newValue===_.oldValue?M():setTimeout(M,10)}notifyListeners(_,T){this.localCache[_]=T;const S=this.listeners[_];if(S)for(const M of Array.from(S))M(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,T,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:T,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(T)}_removeListener(_,T){this.listeners[_]&&(this.listeners[_].delete(T),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,T){var S=()=>super._set,M=this;return(0,e.Z)(function*(){yield S().call(M,_,T),M.localCache[_]=JSON.stringify(T)})()}_get(_){var T=()=>super._get,S=this;return(0,e.Z)(function*(){const M=yield T().call(S,_);return S.localCache[_]=JSON.stringify(M),M})()}_remove(_){var T=()=>super._remove,S=this;return(0,e.Z)(function*(){yield T().call(S,_),delete S.localCache[_]})()}}return v.type="LOCAL",v})(),xa=(()=>{class v extends js{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,T){}_removeListener(_,T){}}return v.type="SESSION",v})();let _c=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const T=this.receivers.find(M=>M.isListeningto(_));if(T)return T;const S=new v(_);return this.receivers.push(S),S}isListeningto(_){return this.eventTarget===_}handleEvent(_){var T=this;return(0,e.Z)(function*(){const S=_,{eventId:M,eventType:te,data:De}=S.data,rt=T.handlersMap[te];if(null==rt||!rt.size)return;S.ports[0].postMessage({status:"ack",eventId:M,eventType:te});const ft=Array.from(rt).map(function(){var Un=(0,e.Z)(function*(Jo){return Jo(S.origin,De)});return function(Jo){return Un.apply(this,arguments)}}()),Kt=yield function Mp(v){return Promise.all(v.map(function(){var f=(0,e.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(T){return{fulfilled:!1,reason:T}}});return function(_){return f.apply(this,arguments)}}()))}(ft);S.ports[0].postMessage({status:"done",eventId:M,eventType:te,response:Kt})})()}_subscribe(_,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(T)}_unsubscribe(_,T){this.handlersMap[_]&&T&&this.handlersMap[_].delete(T),(!T||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function ln(v="",f=10){let _="";for(let T=0;T<f;T++)_+=Math.floor(10*Math.random());return v+_}class Jr{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,_,T=50){var S=this;return(0,e.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let te,De;return new Promise((rt,ft)=>{const Kt=ln("",20);M.port1.start();const Un=setTimeout(()=>{ft(new Error("unsupported_event"))},T);De={messageChannel:M,onMessage(Jo){const Mn=Jo;if(Mn.data.eventId===Kt)switch(Mn.data.status){case"ack":clearTimeout(Un),te=setTimeout(()=>{ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),rt(Mn.data.response);break;default:clearTimeout(Un),clearTimeout(te),ft(new Error("invalid_response"))}}},S.handlers.add(De),M.port1.addEventListener("message",De.onMessage),S.target.postMessage({eventType:f,eventId:Kt,data:_},[M.port2])}).finally(()=>{De&&S.removeMessageHandler(De)})})()}}function dn(){return window}function ti(){return void 0!==dn().WorkerGlobalScope&&"function"==typeof dn().importScripts}function Ii(){return(Ii=(0,e.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const rs="firebaseLocalStorageDb",W="firebaseLocalStorage",Za="fbase_key";class $s{constructor(f){this.request=f}toPromise(){return new Promise((f,_)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function os(v,f){return v.transaction([W],f?"readwrite":"readonly").objectStore(W)}function ni(){const v=indexedDB.open(rs,1);return new Promise((f,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const T=v.result;try{T.createObjectStore(W,{keyPath:Za})}catch(S){_(S)}}),v.addEventListener("success",(0,e.Z)(function*(){const T=v.result;T.objectStoreNames.contains(W)?f(T):(T.close(),yield function ka(){const v=indexedDB.deleteDatabase(rs);return new $s(v).toPromise()}(),f(yield ni()))}))})}function il(v,f,_){return io.apply(this,arguments)}function io(){return(io=(0,e.Z)(function*(v,f,_){const T=os(v,!0).put({[Za]:f,value:_});return new $s(T).toPromise()})).apply(this,arguments)}function $o(){return($o=(0,e.Z)(function*(v,f){const _=os(v,!1).get(f),T=yield new $s(_).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Na(v,f){const _=os(v,!0).delete(f);return new $s(_).toPromise()}const Zn=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,e.Z)(function*(){return _.db||(_.db=yield ni()),_.db})()}_withRetries(_){var T=this;return(0,e.Z)(function*(){let S=0;for(;;)try{const M=yield T._openDb();return yield _(M)}catch(M){if(S++>3)throw M;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,e.Z)(function*(){return ti()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,e.Z)(function*(){_.receiver=_c._getInstance(function ns(){return ti()?self:null}()),_.receiver._subscribe("keyChanged",function(){var T=(0,e.Z)(function*(S,M){return{keyProcessed:(yield _._poll()).includes(M.key)}});return function(S,M){return T.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var T=(0,e.Z)(function*(S,M){return["keyChanged"]});return function(S,M){return T.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,e.Z)(function*(){var T,S;if(_.activeServiceWorker=yield function su(){return Ii.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Jr(_.activeServiceWorker);const M=yield _.sender._send("ping",{},800);!M||(null===(T=M[0])||void 0===T?void 0:T.fulfilled)&&(null===(S=M[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var T=this;return(0,e.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function au(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:_},T.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,e.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ni();return yield il(_,Da,"1"),yield Na(_,Da),!0}catch(_){}return!1})()}_withPendingWrite(_){var T=this;return(0,e.Z)(function*(){T.pendingWrites++;try{yield _()}finally{T.pendingWrites--}})()}_set(_,T){var S=this;return(0,e.Z)(function*(){return S._withPendingWrite((0,e.Z)(function*(){return yield S._withRetries(M=>il(M,_,T)),S.localCache[_]=T,S.notifyServiceWorker(_)}))})()}_get(_){var T=this;return(0,e.Z)(function*(){const S=yield T._withRetries(M=>function Io(v,f){return $o.apply(this,arguments)}(M,_));return T.localCache[_]=S,S})()}_remove(_){var T=this;return(0,e.Z)(function*(){return T._withPendingWrite((0,e.Z)(function*(){return yield T._withRetries(S=>Na(S,_)),delete T.localCache[_],T.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,e.Z)(function*(){const T=yield _._withRetries(te=>{const De=os(te,!1).getAll();return new $s(De).toPromise()});if(!T)return[];if(0!==_.pendingWrites)return[];const S=[],M=new Set;for(const{fbase_key:te,value:De}of T)M.add(te),JSON.stringify(_.localCache[te])!==JSON.stringify(De)&&(_.notifyListeners(te,De),S.push(te));for(const te of Object.keys(_.localCache))_.localCache[te]&&!M.has(te)&&(_.notifyListeners(te,null),S.push(te));return S})()}notifyListeners(_,T){this.localCache[_]=T;const S=this.listeners[_];if(S)for(const M of Array.from(S))M(T)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,e.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(T)}_removeListener(_,T){this.listeners[_]&&(this.listeners[_].delete(T),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function al(v,f){return qt(v,"POST","/v2/accounts/mfaSignIn:start",zt(v,f))}function cn(){return(cn=(0,e.Z)(function*(v){return(yield qt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ua(v){return new Promise((f,_)=>{const T=document.createElement("script");T.setAttribute("src",v),T.onload=f,T.onerror=S=>{const M=Pe("internal-error");M.customData=S,_(M)},T.type="text/javascript",T.charset="UTF-8",function Go(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(T)})}function _r(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Jt=1e12;class ll{constructor(f){this.auth=f,this.counter=Jt,this._widgets=new Map}render(f,_){const T=this.counter;return this._widgets.set(T,new Rp(f,this.auth.name,_||{})),this.counter++,T}reset(f){var _;const T=f||Jt;null===(_=this._widgets.get(T))||void 0===_||_.delete(),this._widgets.delete(T)}getResponse(f){var _;return(null===(_=this._widgets.get(f||Jt))||void 0===_?void 0:_.getResponse())||""}execute(f){var _=this;return(0,e.Z)(function*(){var T;return null===(T=_._widgets.get(f||Jt))||void 0===T||T.execute(),""})()}}class Rp{constructor(f,_,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;re(S,"argument-error",{appName:_}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Bd(v){const f=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<v;T++)f.push(_.charAt(Math.floor(Math.random()*_.length)));return f.join("")}(50);const{callback:f,"expired-callback":_}=this.params;if(f)try{f(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const cl=_r("rcb"),Op=new Je(3e4,6e4);class jd{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=dn().grecaptcha)||void 0===f||!f.render)}load(f,_=""){return re(function Ei(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(_),f,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(dn().grecaptcha):new Promise((T,S)=>{const M=dn().setTimeout(()=>{S(Pe(f,"network-request-failed"))},Op.get());dn()[cl]=()=>{dn().clearTimeout(M),delete dn()[cl];const De=dn().grecaptcha;if(!De)return void S(Pe(f,"internal-error"));const rt=De.render;De.render=(ft,Kt)=>{const Un=rt(ft,Kt);return this.counter++,Un},this.hostLanguage=_,T(De)},Ua(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:cl,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(M),S(Pe(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var _;return!(null===(_=dn().grecaptcha)||void 0===_||!_.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Lp{load(f){return(0,e.Z)(function*(){return new ll(f)})()}clearedOneInstance(){}}const $d="recaptcha",nr={theme:"light",type:"image"};class hl{constructor(f,_=Object.assign({},nr),T){this.parameters=_,this.type=$d,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=sn(T),this.isInvisible="invisible"===this.parameters.size,re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;re(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Lp:new jd,this.validateStartingState()}verify(){var f=this;return(0,e.Z)(function*(){f.assertNotDestroyed();const _=yield f.render(),T=f.getAssertedRecaptcha();return T.getResponse(_)||new Promise(M=>{const te=De=>{!De||(f.tokenChangeListeners.delete(te),M(De))};f.tokenChangeListeners.add(te),f.isInvisible&&T.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return _=>{if(this.tokenChangeListeners.forEach(T=>T(_)),"function"==typeof f)f(_);else if("string"==typeof f){const T=dn()[f];"function"==typeof T&&T(_)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,e.Z)(function*(){if(yield f.init(),!f.widgetId){let _=f.container;if(!f.isInvisible){const T=document.createElement("div");_.appendChild(T),_=T}f.widgetId=f.getAssertedRecaptcha().render(_,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,e.Z)(function*(){re(Fe()&&!ti(),f.auth,"internal-error"),yield function Ma(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const _=yield function is(v){return cn.apply(this,arguments)}(f.auth);re(_,f.auth,"internal-error"),f.parameters.sitekey=_})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class lu{constructor(f,_){this.verificationId=f,this.onConfirmation=_}confirm(f){const _=Xo._fromVerification(this.verificationId,f);return this.onConfirmation(_)}}function Gd(v,f,_){return rr.apply(this,arguments)}function rr(){return(rr=(0,e.Z)(function*(v,f,_){const T=sn(v),S=yield Di(T,f,(0,V.m9)(_));return new lu(S,M=>St(T,M))})).apply(this,arguments)}function Eo(v,f,_){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v);yield Wi(!1,T,"phone");const S=yield Di(T.auth,f,(0,V.m9)(_));return new lu(S,M=>Zd(T,M))})).apply(this,arguments)}function Ra(v,f,_){return ri.apply(this,arguments)}function ri(){return(ri=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v),S=yield Di(T.auth,f,(0,V.m9)(_));return new lu(S,M=>cc(T,M))})).apply(this,arguments)}function Di(v,f,_){return cu.apply(this,arguments)}function cu(){return(cu=(0,e.Z)(function*(v,f,_){var T;const S=yield _.verify();try{let M;if(re("string"==typeof S,v,"argument-error"),re(_.type===$d,v,"argument-error"),M="string"==typeof f?{phoneNumber:f}:f,"session"in M){const te=M.session;if("phoneNumber"in M)return re("enroll"===te.type,v,"internal-error"),(yield dr(v,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{re("signin"===te.type,v,"internal-error");const De=(null===(T=M.multiFactorHint)||void 0===T?void 0:T.uid)||M.multiFactorUid;return re(De,v,"missing-multi-factor-info"),(yield al(v,{mfaPendingCredential:te.credential,mfaEnrollmentId:De,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield xp(v,{phoneNumber:M.phoneNumber,recaptchaToken:S});return te}}finally{_._reset()}})).apply(this,arguments)}function yc(v,f){return vc.apply(this,arguments)}function vc(){return(vc=(0,e.Z)(function*(v,f){yield ei((0,V.m9)(v),f)})).apply(this,arguments)}let ss=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=sn(_)}verifyPhoneNumber(_,T){return Di(this.auth,_,(0,V.m9)(T))}static credential(_,T){return Xo._fromVerification(_,T)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:T,temporaryProof:S}=_;return T&&S?Xo._fromTokenResponse(T,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Nn(v,f){return f?X(f):(re(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class mr extends Gr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return ji(f,this._buildIdpRequest())}_linkToIdToken(f,_){return ji(f,this._buildIdpRequest(_))}_getReauthenticationResolver(f){return ji(f,this._buildIdpRequest())}_buildIdpRequest(f){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(_.idToken=f),_}}function Cc(v){return bi(v.auth,new mr(v),v.bypassAuthState)}function Oa(v){const{auth:f,user:_}=v;return re(_,f,"internal-error"),wi(_,new mr(v),v.bypassAuthState)}function Dn(v){return oi.apply(this,arguments)}function oi(){return(oi=(0,e.Z)(function*(v){const{auth:f,user:_}=v;return re(_,f,"internal-error"),ei(_,new mr(v),v.bypassAuthState)})).apply(this,arguments)}class Gs{constructor(f,_,T,S,M=!1){this.auth=f,this.resolver=T,this.user=S,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var f=this;return new Promise(function(){var _=(0,e.Z)(function*(T,S){f.pendingPromise={resolve:T,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(M){f.reject(M)}});return function(T,S){return _.apply(this,arguments)}}())}onAuthEvent(f){var _=this;return(0,e.Z)(function*(){const{urlResponse:T,sessionId:S,postBody:M,tenantId:te,error:De,type:rt}=f;if(De)return void _.reject(De);const ft={auth:_.auth,requestUri:T,sessionId:S,tenantId:te||void 0,postBody:M||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(rt)(ft))}catch(Kt){_.reject(Kt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Cc;case"linkViaPopup":case"linkViaRedirect":return Dn;case"reauthViaPopup":case"reauthViaRedirect":return Oa;default:Ye(this.auth,"internal-error")}}resolve(f){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hs=new Je(2e3,1e4);function pl(v,f,_){return as.apply(this,arguments)}function as(){return(as=(0,e.Z)(function*(v,f,_){const T=sn(v);Ae(v,f,ro);const S=Nn(T,_);return new Wd(T,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function gl(v,f,_){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v);Ae(T.auth,f,ro);const S=Nn(T.auth,_);return new Wd(T.auth,"reauthViaPopup",f,S,T).executeNotNull()})).apply(this,arguments)}function Jd(v,f,_){return du.apply(this,arguments)}function du(){return(du=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v);Ae(T.auth,f,ro);const S=Nn(T.auth,_);return new Wd(T.auth,"linkViaPopup",f,S,T).executeNotNull()})).apply(this,arguments)}let Wd=(()=>{class v extends Gs{constructor(_,T,S,M,te){super(_,T,M,te),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,e.Z)(function*(){const T=yield _.execute();return re(T,_.auth,"internal-error"),T})()}onExecution(){var _=this;return(0,e.Z)(function*(){ve(1===_.filter.length,"Popup operations only handle one event");const T=ln();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],T),_.authWindow.associatedEvent=T,_.resolver._originValidation(_.auth).catch(S=>{_.reject(S)}),_.resolver._isIframeWebStorageSupported(_.auth,S=>{S||_.reject(Pe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var T,S;this.pollId=null!==(S=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Hs.get())};_()}}return v.currentPopupAction=null,v})();const Do=new Map;class pu extends Gs{constructor(f,_,T=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,T),this.eventId=null}execute(){var f=()=>super.execute,_=this;return(0,e.Z)(function*(){let T=Do.get(_.auth._key());if(!T){try{const M=(yield function zd(v,f){return gu.apply(this,arguments)}(_.resolver,_.auth))?yield f().call(_):null;T=()=>Promise.resolve(M)}catch(S){T=()=>Promise.reject(S)}Do.set(_.auth._key(),T)}return _.bypassAuthState||Do.set(_.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(f){var _=()=>super.onAuthEvent,T=this;return(0,e.Z)(function*(){if("signInViaRedirect"===f.type)return _().call(T,f);if("unknown"!==f.type){if(f.eventId){const S=yield T.auth._redirectUserForId(f.eventId);if(S)return T.user=S,_().call(T,f);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,e.Z)(function*(){})()}cleanUp(){}}function gu(){return(gu=(0,e.Z)(function*(v,f){const _=Sn(f),T=La(v);if(!(yield T._isAvailable()))return!1;const S="true"===(yield T._get(_));return yield T._remove(_),S})).apply(this,arguments)}function ii(v,f){return fu.apply(this,arguments)}function fu(){return(fu=(0,e.Z)(function*(v,f){return La(v)._set(Sn(f),"true")})).apply(this,arguments)}function So(){Do.clear()}function Si(v,f){Do.set(v._key(),f)}function La(v){return X(v._redirectPersistence)}function Sn(v){return B("pendingRedirect",v.config.apiKey,v.name)}function us(v,f,_){return function Js(v,f,_){return Ws.apply(this,arguments)}(v,f,_)}function Ws(){return(Ws=(0,e.Z)(function*(v,f,_){const T=sn(v);Ae(v,f,ro);const S=Nn(T,_);return yield ii(S,T),S._openRedirect(T,f,"signInViaRedirect")})).apply(this,arguments)}function A(v,f,_){return function I(v,f,_){return Z.apply(this,arguments)}(v,f,_)}function Z(){return(Z=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v);Ae(T.auth,f,ro);const S=Nn(T.auth,_);yield ii(S,T.auth);const M=yield Mt(T);return S._openRedirect(T.auth,f,"reauthViaRedirect",M)})).apply(this,arguments)}function F(v,f,_){return function K(v,f,_){return ue.apply(this,arguments)}(v,f,_)}function ue(){return(ue=(0,e.Z)(function*(v,f,_){const T=(0,V.m9)(v);Ae(T.auth,f,ro);const S=Nn(T.auth,_);yield Wi(!1,T,f.providerId),yield ii(S,T.auth);const M=yield Mt(T);return S._openRedirect(T.auth,f,"linkViaRedirect",M)})).apply(this,arguments)}function xe(v,f){return je.apply(this,arguments)}function je(){return(je=(0,e.Z)(function*(v,f){return yield sn(v)._initializationPromise,Et(v,f,!1)})).apply(this,arguments)}function Et(v,f){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,e.Z)(function*(v,f,_=!1){const T=sn(v),S=Nn(T,f),te=yield new pu(T,S,_).execute();return te&&!_&&(delete te.user._redirectEventId,yield T._persistUserIfCurrent(te.user),yield T._setRedirectUser(null,f)),te})).apply(this,arguments)}function Mt(v){return vt.apply(this,arguments)}function vt(){return(vt=(0,e.Z)(function*(v){const f=ln(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class or{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let _=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(f,T)&&(_=!0,this.sendToConsumer(f,T),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ho(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rr(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=f,_=!0)),_}sendToConsumer(f,_){var T;if(f.error&&!Rr(f)){const S=(null===(T=f.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";_.onError(Pe(this.auth,S))}else _.onAuthEvent(f)}isEventForConsumer(f,_){const T=null===_.eventId||!!f.eventId&&f.eventId===_.eventId;return _.filter.includes(f.type)&&T}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xi(f))}saveEventToCache(f){this.cachedEventUids.add(xi(f)),this.lastProcessedEventTime=Date.now()}}function xi(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function Rr({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===(null==f?void 0:f.code)}function _u(v){return ls.apply(this,arguments)}function ls(){return(ls=(0,e.Z)(function*(v,f={}){return qt(v,"GET","/v1/projects",f)})).apply(this,arguments)}const zs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cs=/^https?/;function mu(){return(mu=(0,e.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield _u(v);for(const _ of f)try{if(Fp(_))return}catch(T){}Ye(v,"unauthorized-domain")})).apply(this,arguments)}function Fp(v){const f=Le(),{protocol:_,hostname:T}=new URL(f);if(v.startsWith("chrome-extension://")){const te=new URL(v);return""===te.hostname&&""===T?"chrome-extension:"===_&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===_&&te.hostname===T}if(!cs.test(_))return!1;if(zs.test(v))return T===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(T)}const t_=new Je(3e4,6e4);function Tc(){const v=dn().___jsl;if(null!=v&&v.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let fl=null;function n_(v){return fl=fl||function qp(v){return new Promise((f,_)=>{var T,S,M;function te(){Tc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Tc(),_(Pe(v,"network-request-failed"))},timeout:t_.get()})}if(null!==(S=null===(T=dn().gapi)||void 0===T?void 0:T.iframes)&&void 0!==S&&S.Iframe)f(gapi.iframes.getContext());else{if(null===(M=dn().gapi)||void 0===M||!M.load){const De=_r("iframefcb");return dn()[De]=()=>{gapi.load?te():_(Pe(v,"network-request-failed"))},Ua(`https://apis.google.com/js/api.js?onload=${De}`).catch(rt=>_(rt))}te()}}).catch(f=>{throw fl=null,f})}(v),fl}const Vp=new Je(5e3,15e3),_l={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i_(v){const f=v.config;re(f.authDomain,v,"auth-domain-config-required");const _=f.emulator?gn(f,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,T={apiKey:f.apiKey,appName:v.name,v:U.SDK_VERSION},S=o_.get(v.config.apiHost);S&&(T.eid=S);const M=v._getFrameworks();return M.length&&(T.fw=M.join(",")),`${_}?${(0,V.xO)(T).slice(1)}`}function ds(){return ds=(0,e.Z)(function*(v){const f=yield n_(v),_=dn().gapi;return re(_,v,"internal-error"),f.open({where:document.body,url:i_(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_l,dontclear:!0},T=>new Promise(function(){var S=(0,e.Z)(function*(M,te){yield T.restyle({setHideOnLeave:!1});const De=Pe(v,"network-request-failed"),rt=dn().setTimeout(()=>{te(De)},Vp.get());function ft(){dn().clearTimeout(rt),M(T)}T.ping(ft).then(ft,()=>{te(De)})});return function(M,te){return S.apply(this,arguments)}}()))}),ds.apply(this,arguments)}const Ks={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bc{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Gp(v,f,_,T,S,M){re(v.config.authDomain,v,"auth-domain-config-required"),re(v.config.apiKey,v,"invalid-api-key");const te={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:T,v:U.SDK_VERSION,eventId:S};if(f instanceof ro){f.setDefaultLanguage(v.languageCode),te.providerId=f.providerId||"",(0,V.xb)(f.getCustomParameters())||(te.customParameters=JSON.stringify(f.getCustomParameters()));for(const[rt,ft]of Object.entries(M||{}))te[rt]=ft}if(f instanceof $i){const rt=f.getScopes().filter(ft=>""!==ft);rt.length>0&&(te.scopes=rt.join(","))}v.tenantId&&(te.tid=v.tenantId);const De=te;for(const rt of Object.keys(De))void 0===De[rt]&&delete De[rt];return`${function l_({config:v}){return v.emulator?gn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,V.xO)(De).slice(1)}`}const Ac="webStorageSupport",Yd=class c_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xa,this._completeRedirectFn=Et,this._overrideRedirectResult=Si}_openPopup(f,_,T,S){var M=this;return(0,e.Z)(function*(){var te;ve(null===(te=M.eventManagers[f._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const De=Gp(f,_,T,Le(),S);return function Kd(v,f,_,T=500,S=600){const M=Math.max((window.screen.availHeight-S)/2,0).toString(),te=Math.max((window.screen.availWidth-T)/2,0).toString();let De="";const rt=Object.assign(Object.assign({},Ks),{width:T.toString(),height:S.toString(),top:M,left:te}),ft=(0,V.z$)().toLowerCase();_&&(De=oe(ft)?"_blank":_),N(ft)&&(f=f||"http://localhost",rt.scrollbars="yes");const Kt=Object.entries(rt).reduce((Jo,[Mn,yr])=>`${Jo}${Mn}=${yr},`,"");if(function fr(v=(0,V.z$)()){var f;return ct(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(ft)&&"_self"!==De)return function s_(v,f){const _=document.createElement("a");_.href=v,_.target=f;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(T)}(f||"",De),new bc(null);const Un=window.open(f||"",De,Kt);re(Un,v,"popup-blocked");try{Un.focus()}catch(Jo){}return new bc(Un)}(f,De,ln())})()}_openRedirect(f,_,T,S){var M=this;return(0,e.Z)(function*(){return yield M._originValidation(f),function Vd(v){dn().location.href=v}(Gp(f,_,T,Le(),S)),new Promise(()=>{})})()}_initialize(f){const _=f._key();if(this.eventManagers[_]){const{manager:S,promise:M}=this.eventManagers[_];return S?Promise.resolve(S):(ve(M,"If manager is not set, promise should be"),M)}const T=this.initAndGetManager(f);return this.eventManagers[_]={promise:T},T.catch(()=>{delete this.eventManagers[_]}),T}initAndGetManager(f){var _=this;return(0,e.Z)(function*(){const T=yield function wc(v){return ds.apply(this,arguments)}(f),S=new or(f);return T.register("authEvent",M=>(re(null==M?void 0:M.authEvent,f,"invalid-auth-event"),{status:S.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[f._key()]={manager:S},_.iframes[f._key()]=T,S})()}_isIframeWebStorageSupported(f,_){this.iframes[f._key()].send(Ac,{type:Ac},S=>{var M;const te=null===(M=null==S?void 0:S[0])||void 0===M?void 0:M[Ac];void 0!==te&&_(!!te),Ye(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const _=f._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Qs(v){return mu.apply(this,arguments)}(f)),this.originValidationPromises[_]}get _shouldInitProactively(){return Ge()||L()||ct()}};class Zi extends class mn{constructor(f){this.factorId=f}_process(f,_,T){switch(_.type){case"enroll":return this._finalizeEnroll(f,_.credential,T);case"signin":return this._finalizeSignIn(f,_.credential);default:return ce("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Zi(f)}_finalizeEnroll(f,_,T){return function Rd(v,f){return qt(v,"POST","/v2/accounts/mfaEnrollment:finalize",zt(v,f))}(f,{idToken:_,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,_){return function Dr(v,f){return qt(v,"POST","/v2/accounts/mfaSignIn:finalize",zt(v,f))}(f,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let d_=(()=>{class v{constructor(){}static assertion(_){return Zi._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var Hp="@firebase/auth",h_="0.20.10";class jw{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var _=this;return(0,e.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const _=this.auth.onIdTokenChanged(T=>{var S;f((null===(S=T)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,_),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const _=this.internalListeners.get(f);!_||(this.internalListeners.delete(f),_(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,V.Pz)("authIdTokenMaxAge"),function Ov(v){(0,U._registerComponent)(new _e.wA("auth",(f,{options:_})=>{const T=f.getProvider("app").getImmediate(),S=f.getProvider("heartbeat"),{apiKey:M,authDomain:te}=T.options;return((De,rt)=>{re(M&&!M.includes(":"),"invalid-api-key",{appName:De.name}),re(!(null!=te&&te.includes(":")),"argument-error",{appName:De.name});const ft={apiKey:M,authDomain:te,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tn(v)},Kt=new yi(De,rt,ft);return function ae(v,f){const _=(null==f?void 0:f.persistence)||[],T=(Array.isArray(_)?_:[_]).map(X);null!=f&&f.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(T,null==f?void 0:f.popupRedirectResolver)}(Kt,_),Kt})(T,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,_,T)=>{f.getProvider("auth-internal").initialize()})),(0,U._registerComponent)(new _e.wA("auth-internal",f=>{const _=sn(f.getProvider("auth").getImmediate());return new jw(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,U.registerVersion)(Hp,h_,function p_(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,U.registerVersion)(Hp,h_,"esm2017")}("Browser")},2090:(st,we,P)=>{P.d(we,{$s:()=>tt,BH:()=>Bt,G6:()=>Ae,L:()=>he,LL:()=>nn,Pz:()=>an,Sg:()=>Je,UG:()=>Ie,US:()=>_e,ZB:()=>$,ZR:()=>In,aH:()=>mt,b$:()=>fe,eu:()=>re,hl:()=>He,jU:()=>at,m9:()=>on,ne:()=>Ur,pd:()=>Ar,r3:()=>Br,ru:()=>Te,tV:()=>ye,uI:()=>Ue,vZ:()=>fn,w1:()=>Ye,xO:()=>gr,xb:()=>Ro,z$:()=>Ve,zI:()=>ce,zd:()=>br});const ie=function(G){const B=[];let z=0;for(let O=0;O<G.length;O++){let N=G.charCodeAt(O);N<128?B[z++]=N:N<2048?(B[z++]=N>>6|192,B[z++]=63&N|128):55296==(64512&N)&&O+1<G.length&&56320==(64512&G.charCodeAt(O+1))?(N=65536+((1023&N)<<10)+(1023&G.charCodeAt(++O)),B[z++]=N>>18|240,B[z++]=N>>12&63|128,B[z++]=N>>6&63|128,B[z++]=63&N|128):(B[z++]=N>>12|224,B[z++]=N>>6&63|128,B[z++]=63&N|128)}return B},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,B){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,O=[];for(let N=0;N<G.length;N+=3){const L=G[N],oe=N+1<G.length,Re=oe?G[N+1]:0,gt=N+2<G.length,pt=gt?G[N+2]:0;let Qt=(15&Re)<<2|pt>>6,fr=63&pt;gt||(fr=64,oe||(Qt=64)),O.push(z[L>>2],z[(3&L)<<4|Re>>4],z[Qt],z[fr])}return O.join("")},encodeString(G,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(G):this.encodeByteArray(ie(G),B)},decodeString(G,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(G):function(G){const B=[];let z=0,O=0;for(;z<G.length;){const N=G[z++];if(N<128)B[O++]=String.fromCharCode(N);else if(N>191&&N<224){const L=G[z++];B[O++]=String.fromCharCode((31&N)<<6|63&L)}else if(N>239&&N<365){const gt=((7&N)<<18|(63&G[z++])<<12|(63&G[z++])<<6|63&G[z++])-65536;B[O++]=String.fromCharCode(55296+(gt>>10)),B[O++]=String.fromCharCode(56320+(1023&gt))}else{const L=G[z++],oe=G[z++];B[O++]=String.fromCharCode((15&N)<<12|(63&L)<<6|63&oe)}}return B.join("")}(this.decodeStringToByteArray(G,B))},decodeStringToByteArray(G,B){this.init_();const z=B?this.charToByteMapWebSafe_:this.charToByteMap_,O=[];for(let N=0;N<G.length;){const L=z[G.charAt(N++)],Re=N<G.length?z[G.charAt(N)]:0;++N;const pt=N<G.length?z[G.charAt(N)]:64;++N;const ct=N<G.length?z[G.charAt(N)]:64;if(++N,null==L||null==Re||null==pt||null==ct)throw Error();O.push(L<<2|Re>>4),64!==pt&&(O.push(Re<<4&240|pt>>2),64!==ct&&O.push(pt<<6&192|ct))}return O},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},he=function(G){return function(G){const B=ie(G);return _e.encodeByteArray(B,!0)}(G).replace(/\./g,"")},ye=function(G){try{return _e.decodeString(G,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function $(G,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return B}for(const z in B)!B.hasOwnProperty(z)||!Y(z)||(G[z]=$(G[z],B[z]));return G}function Y(G){return"__proto__"!==G}function Ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function at(){return"object"==typeof self&&self.self===self}function Te(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function fe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ye(){const G=Ve();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Ae(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function He(){return"object"==typeof indexedDB}function re(){return new Promise((G,B)=>{try{let z=!0;const O="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(O);N.onsuccess=()=>{N.result.close(),z||self.indexedDB.deleteDatabase(O),G(!0)},N.onupgradeneeded=()=>{z=!1},N.onerror=()=>{var L;B((null===(L=N.error)||void 0===L?void 0:L.message)||"")}}catch(z){B(z)}})}function ce(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const ae=()=>{try{return function ve(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if("undefined"==typeof document)return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(z){return}const B=G&&ye(G[1]);return B&&JSON.parse(B)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},mt=()=>{var G;return null===(G=ae())||void 0===G?void 0:G.config},an=G=>{var B;return null===(B=ae())||void 0===B?void 0:B[`_${G}`]};class Bt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,z)=>{this.resolve=B,this.reject=z})}wrapCallback(B){return(z,O)=>{z?this.reject(z):this.resolve(O),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(z):B(z,O))}}}function Je(G,B){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const O=B||"demo-project",N=G.iat||0,L=G.sub||G.user_id;if(!L)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const oe=Object.assign({iss:`https://securetoken.google.com/${O}`,aud:O,iat:N,exp:N+3600,auth_time:N,sub:L,user_id:L,firebase:{sign_in_provider:"custom",identities:{}}},G);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(oe)),""].join(".")}class In extends Error{constructor(B,z,O){super(z),this.code=B,this.customData=O,this.name="FirebaseError",Object.setPrototypeOf(this,In.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nn.prototype.create)}}class nn{constructor(B,z,O){this.service=B,this.serviceName=z,this.errors=O}create(B,...z){const O=z[0]||{},N=`${this.service}/${B}`,L=this.errors[B],oe=L?function rn(G,B){return G.replace(zt,(z,O)=>{const N=B[O];return null!=N?String(N):`<${O}?>`})}(L,O):"Error";return new In(N,`${this.serviceName}: ${oe} (${N}).`,O)}}const zt=/\{\$([^}]+)}/g;function Br(G,B){return Object.prototype.hasOwnProperty.call(G,B)}function Ro(G){for(const B in G)if(Object.prototype.hasOwnProperty.call(G,B))return!1;return!0}function fn(G,B){if(G===B)return!0;const z=Object.keys(G),O=Object.keys(B);for(const N of z){if(!O.includes(N))return!1;const L=G[N],oe=B[N];if(ur(L)&&ur(oe)){if(!fn(L,oe))return!1}else if(L!==oe)return!1}for(const N of O)if(!z.includes(N))return!1;return!0}function ur(G){return null!==G&&"object"==typeof G}function gr(G){const B=[];for(const[z,O]of Object.entries(G))Array.isArray(O)?O.forEach(N=>{B.push(encodeURIComponent(z)+"="+encodeURIComponent(N))}):B.push(encodeURIComponent(z)+"="+encodeURIComponent(O));return B.length?"&"+B.join("&"):""}function br(G){const B={};return G.replace(/^\?/,"").split("&").forEach(O=>{if(O){const[N,L]=O.split("=");B[decodeURIComponent(N)]=decodeURIComponent(L)}}),B}function Ar(G){const B=G.indexOf("?");if(!B)return"";const z=G.indexOf("#",B);return G.substring(B,z>0?z:void 0)}function Ur(G,B){const z=new Cn(G,B);return z.subscribe.bind(z)}class Cn{constructor(B,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{B(this)}).catch(O=>{this.error(O)})}next(B){this.forEachObserver(z=>{z.next(B)})}error(B){this.forEachObserver(z=>{z.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,z,O){let N;if(void 0===B&&void 0===z&&void 0===O)throw new Error("Missing Observer.");N=function nt(G,B){if("object"!=typeof G||null===G)return!1;for(const z of B)if(z in G&&"function"==typeof G[z])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:z,complete:O},void 0===N.next&&(N.next=bn),void 0===N.error&&(N.error=bn),void 0===N.complete&&(N.complete=bn);const L=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch(oe){}}),this.observers.push(N),L}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,B)}sendOne(B,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{z(this.observers[B])}catch(O){"undefined"!=typeof console&&console.error&&console.error(O)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bn(){}function tt(G,B=1e3,z=2){const O=B*Math.pow(z,G),N=Math.round(.5*O*(Math.random()-.5)*2);return Math.min(144e5,O+N)}function on(G){return G&&G._delegate?G._delegate:G}},8830:(st,we,P)=>{var e=P(5e3);let V=null;function U(){return V}const me=new e.OlP("DocumentToken");let he=(()=>{class r{historyGo(t){throw new Error("Not implemented")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(){return function ye(){return(0,e.LFG)($)}()},providedIn:"platform"}),r})();const H=new e.OlP("Location Initialized");let $=(()=>{class r extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(t){const o=U().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=U().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,o,i){Y()?this._history.pushState(t,o,i):this.location.hash=i}replaceState(t,o,i){Y()?this._history.replaceState(t,o,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(me))},r.\u0275prov=e.Yz7({token:r,factory:function(){return function Ve(){return new $((0,e.LFG)(me))}()},providedIn:"platform"}),r})();function Y(){return!!window.history.pushState}function Ue(r,n){if(0==r.length)return n;if(0==n.length)return r;let t=0;return r.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?r+n.substring(1):1==t?r+n:r+"/"+n}function Ie(r){const n=r.match(/#|\?|$/),t=n&&n.index||r.length;return r.slice(0,t-("/"===r[t-1]?1:0))+r.slice(t)}function at(r){return r&&"?"!==r[0]?"?"+r:r}let Te=(()=>{class r{historyGo(t){throw new Error("Not implemented")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(){return(0,e.f3M)(et)},providedIn:"root"}),r})();const fe=new e.OlP("appBaseHref");let et=(()=>{class r extends Te{constructor(t,o){var i,u,d;super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=null!==(d=null!==(i=null!=o?o:this._platformLocation.getBaseHrefFromDOM())&&void 0!==i?i:null===(u=(0,e.f3M)(me).location)||void 0===u?void 0:u.origin)&&void 0!==d?d:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ue(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+at(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${o}${i}`:o}pushState(t,o,i,u){const d=this.prepareExternalUrl(i+at(u));this._platformLocation.pushState(t,o,d)}replaceState(t,o,i,u){const d=this.prepareExternalUrl(i+at(u));this._platformLocation.replaceState(t,o,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var o,i;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(he),e.LFG(fe,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ye=(()=>{class r extends Te{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=Ue(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,i,u){let d=this.prepareExternalUrl(i+at(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,o,d)}replaceState(t,o,i,u){let d=this.prepareExternalUrl(i+at(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var o,i;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(he),e.LFG(fe,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),Pe=(()=>{class r{constructor(t){this._subject=new e.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const o=this._locationStrategy.getBaseHref();this._baseHref=Ie(He(o)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){var t;null===(t=this._urlChangeSubscription)||void 0===t||t.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+at(o))}normalize(t){return r.stripTrailingSlash(function Ae(r,n){return r&&n.startsWith(r)?n.substring(r.length):n}(this._baseHref,He(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,o="",i=null){this._locationStrategy.pushState(i,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+at(o)),i)}replaceState(t,o="",i=null){this._locationStrategy.replaceState(i,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+at(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){var o,i;null===(i=(o=this._locationStrategy).historyGo)||void 0===i||i.call(o,t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{var o;const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(null===(o=this._urlChangeSubscription)||void 0===o||o.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(i=>i(t,o))}subscribe(t,o,i){return this._subject.subscribe({next:t,error:o,complete:i})}}return r.normalizeQueryParams=at,r.joinWithSlash=Ue,r.stripTrailingSlash=Ie,r.\u0275fac=function(t){return new(t||r)(e.LFG(Te))},r.\u0275prov=e.Yz7({token:r,factory:function(){return function ke(){return new Pe((0,e.LFG)(Te))}()},providedIn:"root"}),r})();function He(r){return r.replace(/\/index.html$/,"")}function er(r,n){n=encodeURIComponent(n);for(const t of r.split(";")){const o=t.indexOf("="),[i,u]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(i.trim()===n)return decodeURIComponent(u)}return null}let Vn=(()=>{class r{constructor(t,o,i,u){this._iterableDiffers=t,this._keyValueDiffers=o,this._ngEl=i,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,e.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,e.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),t.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!0)):Object.keys(t).forEach(o=>this._toggleClass(o,!!t[o])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!1)):Object.keys(t).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(t,o){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{o?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),r})();class Ds{constructor(n,t,o,i){this.$implicit=n,this.ngForOf=t,this.index=o,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dt=(()=>{class r{constructor(t,o,i){this._viewContainer=t,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const o=this._viewContainer;t.forEachOperation((i,u,d)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new Ds(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)o.remove(null===u?void 0:u);else if(null!==u){const g=o.get(u);o.move(g,d),Qa(g,i)}});for(let i=0,u=o.length;i<u;i++){const g=o.get(i).context;g.index=i,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Qa(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,o){return!0}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),r})();function Qa(r,n){r.context.$implicit=n.item}let It=(()=>{class r{constructor(t,o){this._viewContainer=t,this._context=new To,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ci("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ci("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.s_b),e.Y36(e.Rgc))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),r})();class To{constructor(){this.$implicit=null,this.ngIf=null}}function Ci(r,n){if(n&&!n.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,e.AaK)(n)}'.`)}let ac=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();function Wu(r){return"server"===r}let ya=(()=>{class r{}return r.\u0275prov=(0,e.Yz7)({token:r,providedIn:"root",factory:()=>new Hr((0,e.LFG)(me),window)}),r})();class Hr{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function Ji(r,n){const t=r.getElementById(n)||r.getElementsByName(n)[0];if(t)return t;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const o=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let i=o.currentNode;for(;i;){const u=i.shadowRoot;if(u){const d=u.getElementById(n)||u.querySelector(`[name="${n}"]`);if(d)return d}i=o.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),o=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(o-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=Ti(this.window.history)||Ti(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function Ti(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class lr{}class Fo extends class Wi extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function le(r){V||(V=r)}(new Fo)}onAndCancel(n,t,o){return n.addEventListener(t,o,!1),()=>{n.removeEventListener(t,o,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function qo(){return wi=wi||document.querySelector("base"),wi?wi.getAttribute("href"):null}();return null==t?null:function zi(r){bi=bi||document.createElement("a"),bi.setAttribute("href",r);const n=bi.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){wi=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return er(document.cookie,n)}}let bi,wi=null;const St=new e.OlP("TRANSITION_ID"),Zd=[{provide:e.ip1,useFactory:function Bn(r,n,t){return()=>{t.get(e.CZH).donePromise.then(()=>{const o=U(),i=n.querySelectorAll(`style[ng-transition="${r}"]`);for(let u=0;u<i.length;u++)o.remove(i[u])})}},deps:[St,me,e.zs3],multi:!0}];let cc=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Ai=new e.OlP("EventManagerPlugins");let Ns=(()=>{class r{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,o,i){return this._findPluginFor(o).addEventListener(t,o,i)}addGlobalEventListener(t,o,i){return this._findPluginFor(o).addGlobalEventListener(t,o,i)}getZone(){return this._zone}_findPluginFor(t){const o=this._eventNameToPlugin.get(t);if(o)return o;const i=this._plugins;for(let u=0;u<i.length;u++){const d=i[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ai),e.LFG(e.R0b))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Us{constructor(n){this._doc=n}addGlobalEventListener(n,t,o){const i=U().getGlobalEventTarget(this._doc,n);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,o)}}let tu=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(t){const o=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),o.add(i))}),this.onStylesAdded(o)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),Ee=(()=>{class r extends tu{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,o,i){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,i.push(o.appendChild(d))})}addHost(t){const o=[];this._addStylesToHost(this._stylesSet,t,o),this._hostNodes.set(t,o)}removeHost(t){const o=this._hostNodes.get(t);o&&o.forEach($t),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((o,i)=>{this._addStylesToHost(t,i,o)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach($t))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(me))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();function $t(r){U().remove(r)}const Qi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ki=/%COMP%/g;function Ca(r,n,t){for(let o=0;o<n.length;o++){let i=n[o];Array.isArray(i)?Ca(r,i,t):(i=i.replace(Ki,r),t.push(i))}return t}function Ps(r){return n=>{if("__ngUnwrap__"===n)return r;!1===r(n)&&(n.preventDefault(),n.returnValue=!1)}}let Vo=(()=>{class r{constructor(t,o,i){this.eventManager=t,this.sharedStylesHost=o,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new cr(t)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;switch(o.encapsulation){case e.ifc.Emulated:{let i=this.rendererByCompId.get(o.id);return i||(i=new Ao(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,i)),i.applyToHost(t),i}case 1:case e.ifc.ShadowDom:return new kd(this.eventManager,this.sharedStylesHost,t,o);default:if(!this.rendererByCompId.has(o.id)){const i=Ca(o.id,o.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ns),e.LFG(Ee),e.LFG(e.AFp))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class cr{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(Qi[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){(es(n)?n.content:n).appendChild(t)}insertBefore(n,t,o){n&&(es(n)?n.content:n).insertBefore(t,o)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let o="string"==typeof n?document.querySelector(n):n;if(!o)throw new Error(`The selector "${n}" did not match any elements`);return t||(o.textContent=""),o}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,o,i){if(i){t=i+":"+t;const u=Qi[i];u?n.setAttributeNS(u,t,o):n.setAttribute(t,o)}else n.setAttribute(t,o)}removeAttribute(n,t,o){if(o){const i=Qi[o];i?n.removeAttributeNS(i,t):n.removeAttribute(`${o}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,o,i){i&(e.JOm.DashCase|e.JOm.Important)?n.style.setProperty(t,o,i&e.JOm.Important?"important":""):n.style[t]=o}removeStyle(n,t,o){o&e.JOm.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,o){n[t]=o}setValue(n,t){n.nodeValue=t}listen(n,t,o){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,Ps(o)):this.eventManager.addEventListener(n,t,Ps(o))}}function es(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class Ao extends cr{constructor(n,t,o,i){super(n),this.component=o;const u=Ca(i+"-"+o.id,o.styles,[]);t.addStyles(u),this.contentAttr=function zu(r){return"_ngcontent-%COMP%".replace(Ki,r)}(i+"-"+o.id),this.hostAttr=function Xi(r){return"_nghost-%COMP%".replace(Ki,r)}(i+"-"+o.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,t){const o=super.createElement(n,t);return super.setAttribute(o,this.contentAttr,""),o}}class kd extends cr{constructor(n,t,o,i){super(n),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Ca(i.id,i.styles,[]);for(let d=0;d<u.length;d++){const g=document.createElement("style");g.textContent=u[d],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,o){return super.insertBefore(this.nodeOrShadowRoot(n),t,o)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Ku=(()=>{class r extends Us{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,i){return t.addEventListener(o,i,!1),()=>this.removeEventListener(t,o,i)}removeEventListener(t,o,i){return t.removeEventListener(o,i)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(me))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const nu=["alt","control","meta","shift"],Ta={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wa={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Rs={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let Xu=(()=>{class r extends Us{constructor(t){super(t)}supports(t){return null!=r.parseEventName(t)}addEventListener(t,o,i){const u=r.parseEventName(o),d=r.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const o=t.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const u=r._normalizeKey(o.pop());let d="";if(nu.forEach(y=>{const w=o.indexOf(y);w>-1&&(o.splice(w,1),d+=y+".")}),d+=u,0!=o.length||0===u.length)return null;const g={};return g.domEventName=i,g.fullKey=d,g}static getEventFullKey(t){let o="",i=function ba(r){let n=r.key;if(null==n){if(n=r.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===r.location&&wa.hasOwnProperty(n)&&(n=wa[n]))}return Ta[n]||n}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),nu.forEach(u=>{u!=i&&(0,Rs[u])(t)&&(o+=u+".")}),o+=i,o}static eventCallback(t,o,i){return u=>{r.getEventFullKey(u)===t&&i.runGuarded(()=>o(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(me))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Nd=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:"browser"},{provide:e.g9A,useValue:function Ls(){Fo.makeCurrent()},multi:!0},{provide:me,useFactory:function Fs(){return(0,e.RDi)(document),document},deps:[]}]),Aa=new e.OlP(""),Wn=[{provide:e.rWj,useClass:class va{addToWindow(n){e.dqk.getAngularTestability=(o,i=!0)=>{const u=n.findTestabilityInTree(o,i);if(null==u)throw new Error("Could not find testability for element.");return u},e.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(o=>{const i=e.dqk.getAllAngularTestabilities();let u=i.length,d=!1;const g=function(y){d=d||y,u--,0==u&&o(d)};i.forEach(function(y){y.whenStable(g)})})}findTestabilityInTree(n,t,o){if(null==t)return null;const i=n.getTestability(t);return null!=i?i:o?U().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null}},deps:[]},{provide:e.lri,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]}],Bo=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function hc(){return new e.qLn},deps:[]},{provide:Ai,useClass:Ku,multi:!0,deps:[me,e.R0b,e.Lbi]},{provide:Ai,useClass:Xu,multi:!0,deps:[me]},{provide:Vo,useClass:Vo,deps:[Ns,Ee,e.AFp]},{provide:e.FYo,useExisting:Vo},{provide:tu,useExisting:Ee},{provide:Ee,useClass:Ee,deps:[me]},{provide:Ns,useClass:Ns,deps:[Ai,e.R0b]},{provide:lr,useClass:cc,deps:[]},[]];let wn=(()=>{class r{constructor(t){}static withServerTransition(t){return{ngModule:r,providers:[{provide:e.AFp,useValue:t.appId},{provide:St,useExisting:e.AFp},Zd]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Aa,12))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[...Bo,...Wn],imports:[ac,e.hGG]}),r})(),pc=(()=>{class r{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(me))},r.\u0275prov=e.Yz7({token:r,factory:function(t){let o=null;return o=t?new t:function el(){return new pc((0,e.LFG)(me))}(),o},providedIn:"root"}),r})();"undefined"!=typeof window&&window;var ln=P(8996),Jr=P(9751);const{isArray:dn}=Array,{getPrototypeOf:Vd,prototype:ti,keys:su}=Object;function Ii(r){if(1===r.length){const n=r[0];if(dn(n))return{args:n,keys:null};if(function au(r){return r&&"object"==typeof r&&Vd(r)===ti}(n)){const t=su(n);return{args:t.map(o=>n[o]),keys:t}}}return{args:r,keys:null}}var ns=P(8421),rs=P(3269),zn=P(5403),W=P(4004);const{isArray:Za}=Array;function os(r){return(0,W.U)(n=>function $s(r,n){return Za(n)?r(...n):r(n)}(r,n))}function ka(r,n){return r.reduce((t,o,i)=>(t[o]=n[i],t),{})}let il=(()=>{class r{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Qsj),e.Y36(e.SBq))},r.\u0275dir=e.lG2({type:r}),r})(),io=(()=>{class r extends il{}return r.\u0275fac=function(){let n;return function(o){return(n||(n=e.n5z(r)))(o||r)}}(),r.\u0275dir=e.lG2({type:r,features:[e.qOj]}),r})();const Io=new e.OlP("NgValueAccessor"),sl={provide:Io,useExisting:(0,e.Gpc)(()=>Zn),multi:!0},Pp=new e.OlP("CompositionEventMode");let Zn=(()=>{class r extends il{constructor(t,o,i){super(t,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function uu(){const r=U()?U().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(Pp,8))},r.\u0275dir=e.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){1&t&&e.NdJ("input",function(u){return o._handleInput(u.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(u){return o._compositionEnd(u.target.value)})},features:[e._Bn([sl]),e.qOj]}),r})();function Dr(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}function is(r){return null!=r&&"number"==typeof r.length}const cn=new e.OlP("NgValidators"),Go=new e.OlP("NgAsyncValidators"),Ua=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _r{static min(n){return function mc(r){return n=>{if(Dr(n.value)||Dr(r))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<r?{min:{min:r,actual:n.value}}:null}}(n)}static max(n){return function ul(r){return n=>{if(Dr(n.value)||Dr(r))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>r?{max:{max:r,actual:n.value}}:null}}(n)}static required(n){return function Jt(r){return Dr(r.value)?{required:!0}:null}(n)}static requiredTrue(n){return function ll(r){return!0===r.value?null:{required:!0}}(n)}static email(n){return function Rp(r){return Dr(r.value)||Ua.test(r.value)?null:{email:!0}}(n)}static minLength(n){return function Bd(r){return n=>Dr(n.value)||!is(n.value)?null:n.value.length<r?{minlength:{requiredLength:r,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function cl(r){return n=>is(n.value)&&n.value.length>r?{maxlength:{requiredLength:r,actualLength:n.value.length}}:null}(n)}static pattern(n){return function Op(r){if(!r)return dl;let n,t;return"string"==typeof r?(t="","^"!==r.charAt(0)&&(t+="^"),t+=r,"$"!==r.charAt(r.length-1)&&(t+="$"),n=new RegExp(t)):(t=r.toString(),n=r),o=>{if(Dr(o.value))return null;const i=o.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return Ma(n)}static composeAsync(n){return Gd(n)}}function dl(r){return null}function jd(r){return null!=r}function Ei(r){return(0,e.QGY)(r)?(0,ln.D)(r):r}function Lp(r){let n={};return r.forEach(t=>{n=null!=t?Object.assign(Object.assign({},n),t):n}),0===Object.keys(n).length?null:n}function $d(r,n){return n.map(t=>t(r))}function hl(r){return r.map(n=>function nr(r){return!r.validate}(n)?n:t=>n.validate(t))}function Ma(r){if(!r)return null;const n=r.filter(jd);return 0==n.length?null:function(t){return Lp($d(t,n))}}function lu(r){return null!=r?Ma(hl(r)):null}function Gd(r){if(!r)return null;const n=r.filter(jd);return 0==n.length?null:function(t){return function ni(...r){const n=(0,rs.jO)(r),{args:t,keys:o}=Ii(r),i=new Jr.y(u=>{const{length:d}=t;if(!d)return void u.complete();const g=new Array(d);let y=d,w=d;for(let D=0;D<d;D++){let x=!1;(0,ns.Xf)(t[D]).subscribe((0,zn.x)(u,q=>{x||(x=!0,w--),g[D]=q},()=>y--,void 0,()=>{(!y||!x)&&(w||u.next(o?ka(o,g):g),u.complete())}))}});return n?i.pipe(os(n)):i}($d(t,n).map(Ei)).pipe((0,W.U)(Lp))}}function rr(r){return null!=r?Gd(hl(r)):null}function Eo(r,n){return null===r?[n]:Array.isArray(r)?[...r,n]:[r,n]}function Pa(r){return r._rawValidators}function Ra(r){return r._rawAsyncValidators}function ri(r){return r?Array.isArray(r)?r:[r]:[]}function Di(r,n){return Array.isArray(r)?r.includes(n):r===n}function cu(r,n){const t=ri(n);return ri(r).forEach(i=>{Di(t,i)||t.push(i)}),t}function yc(r,n){return ri(n).filter(t=>!Di(r,t))}class vc{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=lu(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=rr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class ss extends vc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Nn extends vc{get formDirective(){return null}get path(){return null}}class mr{constructor(n){this._cd=n}get isTouched(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.touched)}get isUntouched(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.untouched)}get isPristine(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.pristine)}get isDirty(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.dirty)}get isValid(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.valid)}get isInvalid(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.invalid)}get isPending(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.pending)}get isSubmitted(){var n;return!(null===(n=this._cd)||void 0===n||!n.submitted)}}let Dn=(()=>{class r extends mr{constructor(t){super(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ss,2))},r.\u0275dir=e.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){2&t&&e.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[e.qOj]}),r})(),oi=(()=>{class r extends mr{constructor(t){super(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Nn,10))},r.\u0275dir=e.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,o){2&t&&e.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[e.qOj]}),r})();const La="VALID",Sn="INVALID",us="PENDING",Js="DISABLED";function Ws(r){return(F(r)?r.validators:r)||null}function A(r){return Array.isArray(r)?lu(r):r||null}function I(r,n){return(F(n)?n.asyncValidators:r)||null}function Z(r){return Array.isArray(r)?rr(r):r||null}function F(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}function K(r,n,t){const o=r.controls;if(!(n?Object.keys(o):o).length)throw new e.vHH(1e3,"");if(!o[t])throw new e.vHH(1001,"")}function ue(r,n,t){r._forEachChild((o,i)=>{if(void 0===t[i])throw new e.vHH(1002,"")})}class xe{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=t,this._composedValidatorFn=A(this._rawValidators),this._composedAsyncValidatorFn=Z(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===La}get invalid(){return this.status===Sn}get pending(){return this.status==us}get disabled(){return this.status===Js}get enabled(){return this.status!==Js}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=A(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=Z(n)}addValidators(n){this.setValidators(cu(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(cu(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(yc(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(yc(n,this._rawAsyncValidators))}hasValidator(n){return Di(this._rawValidators,n)}hasAsyncValidator(n){return Di(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=us,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Js,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=La,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===La||this.status===us)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Js:La}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=us,this._hasOwnPendingAsyncValidator=!0;const t=Ei(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((o,i)=>o&&o._find(i),this)}getError(n,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?Js:this.errors?Sn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(us)?us:this._anyControlsHaveStatus(Sn)?Sn:La}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){F(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}}class je extends xe{constructor(n,t,o){super(Ws(t),I(o,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,o={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){ue(this,0,n),Object.keys(n).forEach(o=>{K(this,!0,o),this.controls[o].setValue(n[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(o=>{const i=this.controls[o];i&&i.patchValue(n[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((o,i)=>{o.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,o)=>(n[o]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,o)=>!!o._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const o=this.controls[t];o&&n(o,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,o]of Object.entries(this.controls))if(this.contains(t)&&n(o))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,o,i)=>((o.enabled||this.disabled)&&(t[i]=o.value),t))}_reduceChildren(n,t){let o=n;return this._forEachChild((i,u)=>{o=t(o,i,u)}),o}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}function $n(r,n){return[...n.path,r]}function or(r,n){var t,o;_u(r,n),n.valueAccessor.writeValue(r.value),r.disabled&&(null===(o=(t=n.valueAccessor).setDisabledState)||void 0===o||o.call(t,!0)),function zs(r,n){n.valueAccessor.registerOnChange(t=>{r._pendingValue=t,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&Qs(r,n)})}(r,n),function mu(r,n){const t=(o,i)=>{n.valueAccessor.writeValue(o),i&&n.viewToModelUpdate(o)};r.registerOnChange(t),n._registerOnDestroy(()=>{r._unregisterOnChange(t)})}(r,n),function cs(r,n){n.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&Qs(r,n),"submit"!==r.updateOn&&r.markAsTouched()})}(r,n),function Ho(r,n){if(n.valueAccessor.setDisabledState){const t=o=>{n.valueAccessor.setDisabledState(o)};r.registerOnDisabledChange(t),n._registerOnDestroy(()=>{r._unregisterOnDisabledChange(t)})}}(r,n)}function xi(r,n,t=!0){const o=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(o),n.valueAccessor.registerOnTouched(o)),ls(r,n),r&&(n._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function Rr(r,n){r.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function _u(r,n){const t=Pa(r);null!==n.validator?r.setValidators(Eo(t,n.validator)):"function"==typeof t&&r.setValidators([t]);const o=Ra(r);null!==n.asyncValidator?r.setAsyncValidators(Eo(o,n.asyncValidator)):"function"==typeof o&&r.setAsyncValidators([o]);const i=()=>r.updateValueAndValidity();Rr(n._rawValidators,i),Rr(n._rawAsyncValidators,i)}function ls(r,n){let t=!1;if(null!==r){if(null!==n.validator){const i=Pa(r);if(Array.isArray(i)&&i.length>0){const u=i.filter(d=>d!==n.validator);u.length!==i.length&&(t=!0,r.setValidators(u))}}if(null!==n.asyncValidator){const i=Ra(r);if(Array.isArray(i)&&i.length>0){const u=i.filter(d=>d!==n.asyncValidator);u.length!==i.length&&(t=!0,r.setAsyncValidators(u))}}}const o=()=>{};return Rr(n._rawValidators,o),Rr(n._rawAsyncValidators,o),t}function Qs(r,n){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Vp(r,n){if(!r.hasOwnProperty("model"))return!1;const t=r.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}function _l(r,n){if(!n)return null;let t,o,i;return Array.isArray(n),n.forEach(u=>{u.constructor===Zn?t=u:function Bp(r){return Object.getPrototypeOf(r.constructor)===io}(u)?o=u:i=u}),i||o||t||null}function jp(r,n){const t=r.indexOf(n);t>-1&&r.splice(t,1)}function $p(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const si=class extends xe{constructor(n=null,t,o){super(Ws(t),I(o,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),F(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=$p(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){jp(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){jp(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){$p(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},c_={provide:ss,useExisting:(0,e.Gpc)(()=>mn)},Yd=(()=>Promise.resolve(null))();let mn=(()=>{class r extends ss{constructor(t,o,i,u,d){super(),this._changeDetectorRef=d,this.control=new si,this._registered=!1,this.update=new e.vpe,this._parent=t,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=_l(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const o=t.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Vp(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){or(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Yd.then(()=>{var o;this.control.setValue(t,{emitViewToModelChange:!1}),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_updateDisabled(t){const o=t.isDisabled.currentValue,i=0!==o&&(0,e.D6c)(o);Yd.then(()=>{var u;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(u=this._changeDetectorRef)||void 0===u||u.markForCheck()})}_getPath(t){return this._parent?$n(t,this._parent):[t]}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Nn,9),e.Y36(cn,10),e.Y36(Go,10),e.Y36(Io,10),e.Y36(e.sBO,8))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([c_]),e.qOj,e.TTD]}),r})(),Zi=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=e.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})(),p_=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();const th=new e.OlP("NgModelWithFormControlWarning"),f={provide:Nn,useExisting:(0,e.Gpc)(()=>_)};let _=(()=>{class r extends Nn{constructor(t,o){super(),this.validators=t,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(t),this._setAsyncValidators(o)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ls(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const o=this.form.get(t.path);return or(o,t),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),o}getControl(t){return this.form.get(t.path)}removeControl(t){xi(t.control||null,t,!1),function o_(r,n){const t=r.indexOf(n);t>-1&&r.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,o){this.form.get(t.path).setValue(o)}onSubmit(t){return this.submitted=!0,function r_(r,n){r._syncPendingControls(),n.forEach(t=>{const o=t.control;"submit"===o.updateOn&&o._pendingChange&&(t.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const o=t.control,i=this.form.get(t.path);o!==i&&(xi(o||null,t),(r=>r instanceof si)(i)&&(or(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const o=this.form.get(t.path);(function Fp(r,n){_u(r,n)})(o,t),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const o=this.form.get(t.path);o&&function t_(r,n){return ls(r,n)}(o,t)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_u(this.form,this),this._oldForm&&ls(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(cn,10),e.Y36(Go,10))},r.\u0275dir=e.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(t,o){1&t&&e.NdJ("submit",function(u){return o.onSubmit(u)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([f]),e.qOj,e.TTD]}),r})();const rt={provide:ss,useExisting:(0,e.Gpc)(()=>ft)};let ft=(()=>{class r extends ss{constructor(t,o,i,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=_l(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Vp(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return $n(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return r._ngModelWarningSentOnce=!1,r.\u0275fac=function(t){return new(t||r)(e.Y36(Nn,13),e.Y36(cn,10),e.Y36(Go,10),e.Y36(Io,10),e.Y36(th,8))},r.\u0275dir=e.lG2({type:r,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([rt]),e.qOj,e.TTD]}),r})();const Kt={provide:Io,useExisting:(0,e.Gpc)(()=>Mn),multi:!0};function Un(r,n){return null==r?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${r}: ${n}`.slice(0,50))}let Mn=(()=>{class r extends io{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=Un(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=o=>{this.value=this._getOptionValue(o),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),t))return o;return null}_getOptionValue(t){const o=function Jo(r){return r.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o):t}}return r.\u0275fac=function(){let n;return function(o){return(n||(n=e.n5z(r)))(o||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,o){1&t&&e.NdJ("change",function(u){return o.onChange(u.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([Kt]),e.qOj]}),r})(),yr=(()=>{class r{constructor(t,o,i){this._element=t,this._renderer=o,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Un(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(Mn,9))},r.\u0275dir=e.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();const f_={provide:Io,useExisting:(0,e.Gpc)(()=>ml),multi:!0};function nh(r,n){return null==r?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${r}: ${n}`.slice(0,50))}let ml=(()=>{class r extends io{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let o;if(this.value=t,Array.isArray(t)){const i=t.map(u=>this._getOptionId(u));o=(u,d)=>{u._setSelected(i.indexOf(d.toString())>-1)}}else o=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(t){this.onChange=o=>{const i=[],u=o.selectedOptions;if(void 0!==u){const d=u;for(let g=0;g<d.length;g++){const w=this._getOptionValue(d[g].value);i.push(w)}}else{const d=o.options;for(let g=0;g<d.length;g++){const y=d[g];if(y.selected){const w=this._getOptionValue(y.value);i.push(w)}}}this.value=i,t(i)}}_registerOption(t){const o=(this._idCounter++).toString();return this._optionMap.set(o,t),o}_getOptionId(t){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,t))return o;return null}_getOptionValue(t){const o=function rh(r){return r.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o)._value:t}}return r.\u0275fac=function(){let n;return function(o){return(n||(n=e.n5z(r)))(o||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,o){1&t&&e.NdJ("change",function(u){return o.onChange(u.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([f_]),e.qOj]}),r})(),so=(()=>{class r{constructor(t,o,i){this._element=t,this._renderer=o,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(nh(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(nh(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(ml,9))},r.\u0275dir=e.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})(),C_=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[p_]}),r})(),Kw=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[C_]}),r})(),T_=(()=>{class r{static withConfig(t){return{ngModule:r,providers:[{provide:th,useValue:t.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[C_]}),r})();class w_ extends xe{constructor(n,t,o){super(Ws(t),I(o,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,o={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(n,t={}){let o=this._adjustIndex(n);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,o={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){ue(this,0,n),n.forEach((o,i)=>{K(this,!1,i),this.at(i).setValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((o,i)=>{this.at(i)&&this.at(i).patchValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((o,i)=>{o.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,o)=>!!o._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,o)=>{n(t,o)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){var t;return null!==(t=this.at(n))&&void 0!==t?t:null}}function $v(r){return!!r&&(void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn)}let b_=(()=>{class r{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new r;return t.useNonNullable=!0,t}group(t,o=null){const i=this._reduceControls(t);let u={};return $v(o)?u=o:null!==o&&(u.validators=o.validator,u.asyncValidators=o.asyncValidator),new je(i,u)}control(t,o,i){let u={};return this.useNonNullable?($v(o)?u=o:(u.validators=o,u.asyncValidators=i),new si(t,Object.assign(Object.assign({},u),{nonNullable:!0}))):new si(t,o,i)}array(t,o,i){const u=t.map(d=>this._createControl(d));return new w_(u,o,i)}_reduceControls(t){const o={};return Object.keys(t).forEach(i=>{o[i]=this._createControl(t[i])}),o}_createControl(t){return t instanceof si||t instanceof xe?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:T_}),r})();function Ct(...r){const n=(0,rs.yG)(r);return(0,ln.D)(r,n)}var ki=P(7579);class Wr extends ki.x{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:o}=this;if(n)throw t;return this._throwIfClosed(),o}next(n){super.next(this._value=n)}}const vl=(0,P(3888).d)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});var vu=P(4671),Cl=P(9672);function A_(...r){const n=(0,rs.yG)(r),t=(0,rs.jO)(r),{args:o,keys:i}=Ii(r);if(0===o.length)return(0,ln.D)([],n);const u=new Jr.y(function I_(r,n,t=vu.y){return o=>{Gv(n,()=>{const{length:i}=r,u=new Array(i);let d=i,g=i;for(let y=0;y<i;y++)Gv(n,()=>{const w=(0,ln.D)(r[y],n);let D=!1;w.subscribe((0,zn.x)(o,x=>{u[y]=x,D||(D=!0,g--),g||o.next(t(u.slice()))},()=>{--d||o.complete()}))},o)},o)}}(o,n,i?d=>ka(i,d):vu.y));return t?u.pipe(os(t)):u}function Gv(r,n,t){r?(0,Cl.f)(t,r,n):n()}var sh=P(8189);function Cu(...r){return function Hv(){return(0,sh.J)(1)}()((0,ln.D)(r,(0,rs.yG)(r)))}function Jv(r){return new Jr.y(n=>{(0,ns.Xf)(r()).subscribe(n)})}var tb=P(9635),ah=P(576);function Dc(r,n){const t=(0,ah.m)(r)?r:()=>r,o=i=>i.error(t());return new Jr.y(n?i=>n.schedule(o,0,i):o)}var Ys=P(515),Wv=P(727),ao=P(4482);function E_(){return(0,ao.e)((r,n)=>{let t=null;r._refCount++;const o=(0,zn.x)(n,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(t=null);const i=r._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),n.unsubscribe()});r.subscribe(o),o.closed||(t=r.connect())})}class D_ extends Jr.y{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ao.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Wv.w0;const t=this.getSubject();n.add(this.source.subscribe((0,zn.x)(t,void 0,()=>{this._teardown(),t.complete()},o=>{this._teardown(),t.error(o)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Wv.w0.EMPTY)}return n}refCount(){return E_()(this)}}function zr(r,n){return(0,ao.e)((t,o)=>{let i=null,u=0,d=!1;const g=()=>d&&!i&&o.complete();t.subscribe((0,zn.x)(o,y=>{null==i||i.unsubscribe();let w=0;const D=u++;(0,ns.Xf)(r(y,D)).subscribe(i=(0,zn.x)(o,x=>o.next(n?n(y,x,D,w++):x),()=>{i=null,g()}))},()=>{d=!0,g()}))})}function Sc(r){return r<=0?()=>Ys.E:(0,ao.e)((n,t)=>{let o=0;n.subscribe((0,zn.x)(t,i=>{++o<=r&&(t.next(i),r<=o&&t.complete())}))})}function Tu(...r){const n=(0,rs.yG)(r);return(0,ao.e)((t,o)=>{(n?Cu(r,t,n):Cu(r,t)).subscribe(o)})}function $e(r,n){return(0,ao.e)((t,o)=>{let i=0;t.subscribe((0,zn.x)(o,u=>r.call(n,u,i++)&&o.next(u)))})}var vr=P(5577);function wu(r){return(0,ao.e)((n,t)=>{let o=!1;n.subscribe((0,zn.x)(t,i=>{o=!0,t.next(i)},()=>{o||t.next(r),t.complete()}))})}function zv(r=Ox){return(0,ao.e)((n,t)=>{let o=!1;n.subscribe((0,zn.x)(t,i=>{o=!0,t.next(i)},()=>o?t.complete():t.error(r())))})}function Ox(){return new vl}function Xs(r,n){const t=arguments.length>=2;return o=>o.pipe(r?$e((i,u)=>r(i,u,o)):vu.y,Sc(1),t?wu(n):zv(()=>new vl))}function bu(r,n){return(0,ah.m)(n)?(0,vr.z)(r,n,1):(0,vr.z)(r,1)}var uo=P(8505);function Fa(r){return(0,ao.e)((n,t)=>{let u,o=null,i=!1;o=n.subscribe((0,zn.x)(t,void 0,void 0,d=>{u=(0,ns.Xf)(r(d,Fa(r)(n))),o?(o.unsubscribe(),o=null,u.subscribe(t)):i=!0})),i&&(o.unsubscribe(),o=null,u.subscribe(t))})}function Qv(r,n,t,o,i){return(u,d)=>{let g=t,y=n,w=0;u.subscribe((0,zn.x)(d,D=>{const x=w++;y=g?r(y,D,x):(g=!0,D),o&&d.next(y)},i&&(()=>{g&&d.next(y),d.complete()})))}}function xc(r,n){return(0,ao.e)(Qv(r,n,arguments.length>=2,!0))}function uh(r){return r<=0?()=>Ys.E:(0,ao.e)((n,t)=>{let o=[];n.subscribe((0,zn.x)(t,i=>{o.push(i),r<o.length&&o.shift()},()=>{for(const i of o)t.next(i);t.complete()},void 0,()=>{o=null}))})}function Kv(r,n){const t=arguments.length>=2;return o=>o.pipe(r?$e((i,u)=>r(i,u,o)):vu.y,uh(1),t?wu(n):zv(()=>new vl))}function Yv(r){return(0,ao.e)((n,t)=>{try{n.subscribe(t)}finally{t.add(r)}})}const Xt="primary";class x_{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function lh(r){return new x_(r)}function Lx(r,n,t){const o=t.path.split("/");if(o.length>r.length||"full"===t.pathMatch&&(n.hasChildren()||o.length<r.length))return null;const i={};for(let u=0;u<o.length;u++){const d=o[u],g=r[u];if(d.startsWith(":"))i[d.substring(1)]=g;else if(d!==g.path)return null}return{consumed:r.slice(0,o.length),posParams:i}}function qa(r,n){const t=r?Object.keys(r):void 0,o=n?Object.keys(n):void 0;if(!t||!o||t.length!=o.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!rb(r[i],n[i]))return!1;return!0}function rb(r,n){if(Array.isArray(r)&&Array.isArray(n)){if(r.length!==n.length)return!1;const t=[...r].sort(),o=[...n].sort();return t.every((i,u)=>o[u]===i)}return r===n}function Xv(r){return Array.prototype.concat.apply([],r)}function Z_(r){return r.length>0?r[r.length-1]:null}function Or(r,n){for(const t in r)r.hasOwnProperty(t)&&n(r[t],t)}function ea(r){return(0,e.CqO)(r)?r:(0,e.QGY)(r)?(0,ln.D)(Promise.resolve(r)):Ct(r)}const ob={exact:function t0(r,n,t){if(!bl(r.segments,n.segments)||!zp(r.segments,n.segments,t)||r.numberOfChildren!==n.numberOfChildren)return!1;for(const o in n.children)if(!r.children[o]||!t0(r.children[o],n.children[o],t))return!1;return!0},subset:N_},Wp={exact:function ib(r,n){return qa(r,n)},subset:function sb(r,n){return Object.keys(n).length<=Object.keys(r).length&&Object.keys(n).every(t=>rb(r[t],n[t]))},ignored:()=>!0};function Zc(r,n,t){return ob[t.paths](r.root,n.root,t.matrixParams)&&Wp[t.queryParams](r.queryParams,n.queryParams)&&!("exact"===t.fragment&&r.fragment!==n.fragment)}function N_(r,n,t){return n0(r,n,n.segments,t)}function n0(r,n,t,o){if(r.segments.length>t.length){const i=r.segments.slice(0,t.length);return!(!bl(i,t)||n.hasChildren()||!zp(i,t,o))}if(r.segments.length===t.length){if(!bl(r.segments,t)||!zp(r.segments,t,o))return!1;for(const i in n.children)if(!r.children[i]||!N_(r.children[i],n.children[i],o))return!1;return!0}{const i=t.slice(0,r.segments.length),u=t.slice(r.segments.length);return!!(bl(r.segments,i)&&zp(r.segments,i,o)&&r.children[Xt])&&n0(r.children[Xt],n,u,o)}}function zp(r,n,t){return n.every((o,i)=>Wp[t](r[i].parameters,o.parameters))}class Tl{constructor(n,t,o){this.root=n,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lh(this.queryParams)),this._queryParamMap}toString(){return lb.serialize(this)}}class en{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Or(t,(o,i)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lr(this)}}class wl{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=lh(this.parameters)),this._parameterMap}toString(){return o0(this)}}function bl(r,n){return r.length===n.length&&r.every((t,o)=>t.path===n[o].path)}let U_=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(){return new M_},providedIn:"root"}),r})();class M_{parse(n){const t=new l0(n);return new Tl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Al(n.root,!0)}`,o=function cb(r){const n=Object.keys(r).map(t=>{const o=r[t];return Array.isArray(o)?o.map(i=>`${kc(t)}=${kc(i)}`).join("&"):`${kc(t)}=${kc(o)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${o}${"string"==typeof n.fragment?`#${function lo(r){return encodeURI(r)}(n.fragment)}`:""}`}}const lb=new M_;function Lr(r){return r.segments.map(n=>o0(n)).join("/")}function Al(r,n){if(!r.hasChildren())return Lr(r);if(n){const t=r.children[Xt]?Al(r.children[Xt],!1):"",o=[];return Or(r.children,(i,u)=>{u!==Xt&&o.push(`${u}:${Al(i,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function ub(r,n){let t=[];return Or(r.children,(o,i)=>{i===Xt&&(t=t.concat(n(o,i)))}),Or(r.children,(o,i)=>{i!==Xt&&(t=t.concat(n(o,i)))}),t}(r,(o,i)=>i===Xt?[Al(r.children[Xt],!1)]:[`${i}:${Al(o,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[Xt]?`${Lr(r)}/${t[0]}`:`${Lr(r)}/(${t.join("//")})`}}function P_(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kc(r){return P_(r).replace(/%3B/gi,";")}function Il(r){return P_(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nc(r){return decodeURIComponent(r)}function r0(r){return Nc(r.replace(/\+/g,"%20"))}function o0(r){return`${Il(r.path)}${function s0(r){return Object.keys(r).map(n=>`;${Il(n)}=${Il(r[n])}`).join("")}(r.parameters)}`}const a0=/^[^\/()?;=#]+/;function Qp(r){const n=r.match(a0);return n?n[0]:""}const u0=/^[^=?&#]+/,hb=/^[^&#]+/;class l0{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(o[Xt]=new en(n,t)),o}parseSegment(){const n=Qp(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(n),new wl(Nc(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=Qp(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const i=Qp(this.remaining);i&&(o=i,this.capture(o))}n[Nc(t)]=Nc(o)}parseQueryParam(n){const t=function db(r){const n=r.match(u0);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const d=function pb(r){const n=r.match(hb);return n?n[0]:""}(this.remaining);d&&(o=d,this.capture(o))}const i=r0(t),u=r0(o);if(n.hasOwnProperty(i)){let d=n[i];Array.isArray(d)||(d=[d],n[i]=d),d.push(u)}else n[i]=u}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Qp(this.remaining),i=this.remaining[o.length];if("/"!==i&&")"!==i&&";"!==i)throw new e.vHH(4010,!1);let u;o.indexOf(":")>-1?(u=o.slice(0,o.indexOf(":")),this.capture(u),this.capture(":")):n&&(u=Xt);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Xt]:new en([],d),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new e.vHH(4011,!1)}}function R_(r){return r.segments.length>0?new en([],{[Xt]:r}):r}function Kp(r){const n={};for(const o of Object.keys(r.children)){const u=Kp(r.children[o]);(u.segments.length>0||u.hasChildren())&&(n[o]=u)}return function Uc(r){if(1===r.numberOfChildren&&r.children[Xt]){const n=r.children[Xt];return new en(r.segments.concat(n.segments),n.children)}return r}(new en(r.segments,n))}function xo(r){return r instanceof Tl}function c0(r,n,t,o,i){var u;if(0===t.length)return Au(n.root,n.root,n.root,o,i);const g=function L_(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new d0(!0,0,r);let n=0,t=!1;const o=r.reduce((i,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return Or(u.outlets,(y,w)=>{g[w]="string"==typeof y?y.split("/"):y}),[...i,{outlets:g}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===d?(u.split("/").forEach((g,y)=>{0==y&&"."===g||(0==y&&""===g?t=!0:".."===g?n++:""!=g&&i.push(g))}),i):[...i,u]},[]);return new d0(t,n,o)}(t);return g.toRoot()?Au(n.root,n.root,new en([],{}),o,i):function y(D){var x;const q=function gb(r,n,t,o){if(r.isAbsolute)return new Mc(n.root,!0,0);if(-1===o)return new Mc(t,t===n.root,0);return function F_(r,n,t){let o=r,i=n,u=t;for(;u>i;){if(u-=i,o=o.parent,!o)throw new e.vHH(4005,!1);i=o.segments.length}return new Mc(o,!1,i-u)}(t,o+(Yp(r.commands[0])?0:1),r.numberOfDoubleDots)}(g,n,null===(x=r.snapshot)||void 0===x?void 0:x._urlSegment,D),J=q.processChildren?Pc(q.segmentGroup,q.index,g.commands):dh(q.segmentGroup,q.index,g.commands);return Au(n.root,q.segmentGroup,J,o,i)}(null===(u=r.snapshot)||void 0===u?void 0:u._lastPathIndex)}function Yp(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function Wo(r){return"object"==typeof r&&null!=r&&r.outlets}function Au(r,n,t,o,i){let d,u={};o&&Or(o,(y,w)=>{u[w]=Array.isArray(y)?y.map(D=>`${D}`):`${y}`}),d=r===n?t:Xp(r,n,t);const g=R_(Kp(d));return new Tl(g,u,i)}function Xp(r,n,t){const o={};return Or(r.children,(i,u)=>{o[u]=i===n?t:Xp(i,n,t)}),new en(r.segments,o)}class d0{constructor(n,t,o){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=o,n&&o.length>0&&Yp(o[0]))throw new e.vHH(4003,!1);const i=o.find(Wo);if(i&&i!==Z_(o))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mc{constructor(n,t,o){this.segmentGroup=n,this.processChildren=t,this.index=o}}function dh(r,n,t){if(r||(r=new en([],{})),0===r.segments.length&&r.hasChildren())return Pc(r,n,t);const o=function jx(r,n,t){let o=0,i=n;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<r.segments.length;){if(o>=t.length)return u;const d=r.segments[i],g=t[o];if(Wo(g))break;const y=`${g}`,w=o<t.length-1?t[o+1]:null;if(i>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!h0(y,w,d))return u;o+=2}else{if(!h0(y,{},d))return u;o++}i++}return{match:!0,pathIndex:i,commandIndex:o}}(r,n,t),i=t.slice(o.commandIndex);if(o.match&&o.pathIndex<r.segments.length){const u=new en(r.segments.slice(0,o.pathIndex),{});return u.children[Xt]=new en(r.segments.slice(o.pathIndex),r.children),Pc(u,0,i)}return o.match&&0===i.length?new en(r.segments,{}):o.match&&!r.hasChildren()?Iu(r,n,t):o.match?Pc(r,0,i):Iu(r,n,t)}function Pc(r,n,t){if(0===t.length)return new en(r.segments,{});{const o=function q_(r){return Wo(r[0])?r[0].outlets:{[Xt]:r}}(t),i={};return Or(o,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[d]=dh(r.children[d],n,u))}),Or(r.children,(u,d)=>{void 0===o[d]&&(i[d]=u)}),new en(r.segments,i)}}function Iu(r,n,t){const o=r.segments.slice(0,n);let i=0;for(;i<t.length;){const u=t[i];if(Wo(u)){const y=V_(u.outlets);return new en(o,y)}if(0===i&&Yp(t[0])){o.push(new wl(r.segments[n].path,B_(t[0]))),i++;continue}const d=Wo(u)?u.outlets[Xt]:`${u}`,g=i<t.length-1?t[i+1]:null;d&&g&&Yp(g)?(o.push(new wl(d,B_(g))),i+=2):(o.push(new wl(d,{})),i++)}return new en(o,{})}function V_(r){const n={};return Or(r,(t,o)=>{"string"==typeof t&&(t=[t]),null!==t&&(n[o]=Iu(new en([],{}),0,t))}),n}function B_(r){const n={};return Or(r,(t,o)=>n[o]=`${t}`),n}function h0(r,n,t){return r==t.path&&qa(n,t.parameters)}class hs{constructor(n,t){this.id=n,this.url=t}}class j_ extends hs{constructor(n,t,o="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=o,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Eu extends hs{constructor(n,t,o){super(n,t),this.urlAfterRedirects=o,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eg extends hs{constructor(n,t,o,i){super(n,t),this.reason=o,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class p0 extends hs{constructor(n,t,o,i){super(n,t),this.error=o,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fb extends hs{constructor(n,t,o,i){super(n,t),this.urlAfterRedirects=o,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _b extends hs{constructor(n,t,o,i){super(n,t),this.urlAfterRedirects=o,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class g0 extends hs{constructor(n,t,o,i,u){super(n,t),this.urlAfterRedirects=o,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $_ extends hs{constructor(n,t,o,i){super(n,t),this.urlAfterRedirects=o,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f0 extends hs{constructor(n,t,o,i){super(n,t),this.urlAfterRedirects=o,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G_{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mb{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yb{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _0{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m0{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class El{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class H_{constructor(n,t,o){this.routerEvent=n,this.position=t,this.anchor=o,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class v0{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=C0(n,this._root);return t?t.children.map(o=>o.value):[]}firstChild(n){const t=C0(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Rc(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Rc(n,this._root).map(t=>t.value)}}function C0(r,n){if(r===n.value)return n;for(const t of n.children){const o=C0(r,t);if(o)return o}return null}function Rc(r,n){if(r===n.value)return[n];for(const t of n.children){const o=Rc(r,t);if(o.length)return o.unshift(n),o}return[]}class Va{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Dl(r){const n={};return r&&r.children.forEach(t=>n[t.value.outlet]=t),n}class J_ extends v0{constructor(n,t){super(n),this.snapshot=t,rg(this,n)}toString(){return this.snapshot.toString()}}function W_(r,n){const t=function z_(r,n){const d=new ph([],{},{},"",{},Xt,n,null,r.root,-1,{});return new ng("",new Va(d,[]))}(r,n),o=new Wr([new wl("",{})]),i=new Wr({}),u=new Wr({}),d=new Wr({}),g=new Wr(""),y=new ta(o,i,d,g,u,Xt,n,t.root);return y.snapshot=t.root,new J_(new Va(y,[]),t)}class ta{constructor(n,t,o,i,u,d,g,y){this.url=n,this.params=t,this.queryParams=o,this.fragment=i,this.data=u,this.outlet=d,this.component=g,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,W.U)(n=>lh(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,W.U)(n=>lh(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hh(r,n="emptyOnly"){const t=r.pathFromRoot;let o=0;if("always"!==n)for(o=t.length-1;o>=1;){const i=t[o],u=t[o-1];if(i.routeConfig&&""===i.routeConfig.path)o--;else{if(u.component)break;o--}}return function tg(r){return r.reduce((n,t)=>{var o;return{params:Object.assign(Object.assign({},n.params),t.params),data:Object.assign(Object.assign({},n.data),t.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},t.data),n.resolve),null===(o=t.routeConfig)||void 0===o?void 0:o.data),t._resolvedData)}},{params:{},data:{},resolve:{}})}(t.slice(o))}class ph{constructor(n,t,o,i,u,d,g,y,w,D,x,q){this.url=n,this.params=t,this.queryParams=o,this.fragment=i,this.data=u,this.outlet=d,this.component=g,this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=D,this._correctedLastPathIndex=null!=q?q:D,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ng extends v0{constructor(n,t){super(t),this.url=n,rg(this,t)}toString(){return og(this._root)}}function rg(r,n){n.value._routerState=r,n.children.forEach(t=>rg(r,t))}function og(r){const n=r.children.length>0?` { ${r.children.map(og).join(", ")} } `:"";return`${r.value}${n}`}function Sl(r){if(r.snapshot){const n=r.snapshot,t=r._futureSnapshot;r.snapshot=t,qa(n.queryParams,t.queryParams)||r.queryParams.next(t.queryParams),n.fragment!==t.fragment&&r.fragment.next(t.fragment),qa(n.params,t.params)||r.params.next(t.params),function Fx(r,n){if(r.length!==n.length)return!1;for(let t=0;t<r.length;++t)if(!qa(r[t],n[t]))return!1;return!0}(n.url,t.url)||r.url.next(t.url),qa(n.data,t.data)||r.data.next(t.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function Q_(r,n){const t=qa(r.params,n.params)&&function ab(r,n){return bl(r,n)&&r.every((t,o)=>qa(t.parameters,n[o].parameters))}(r.url,n.url);return t&&!(!r.parent!=!n.parent)&&(!r.parent||Q_(r.parent,n.parent))}function gh(r,n,t){if(t&&r.shouldReuseRoute(n.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=n.value;const i=function vb(r,n,t){return n.children.map(o=>{for(const i of t.children)if(r.shouldReuseRoute(o.value,i.value.snapshot))return gh(r,o,i);return gh(r,o)})}(r,n,t);return new Va(o,i)}{if(r.shouldAttach(n.value)){const u=r.retrieve(n.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=n.value,d.children=n.children.map(g=>gh(r,g)),d}}const o=function w0(r){return new ta(new Wr(r.url),new Wr(r.params),new Wr(r.queryParams),new Wr(r.fragment),new Wr(r.data),r.outlet,r.component,r)}(n.value),i=n.children.map(u=>gh(r,u));return new Va(o,i)}}const fh="ngNavigationCancelingError";function K_(r,n){const{redirectTo:t,navigationBehaviorOptions:o}=xo(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=Cb(!1,0,n);return i.url=t,i.navigationBehaviorOptions=o,i}function Cb(r,n,t){const o=new Error("NavigationCancelingError: "+(r||""));return o[fh]=!0,o.cancellationCode=n,t&&(o.url=t),o}function Y_(r){return b0(r)&&xo(r.url)}function b0(r){return r&&r[fh]}class A0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new _h,this.attachRef=null}}let _h=(()=>{class r{constructor(){this.contexts=new Map}onChildOutletCreated(t,o){const i=this.getOrCreateContext(t);i.outlet=o,this.contexts.set(t,i)}onChildOutletDestroyed(t){const o=this.getContext(t);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let o=this.getContext(t);return o||(o=new A0,this.contexts.set(t,o)),o}getContext(t){return this.contexts.get(t)||null}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const ig=!1;let zo=(()=>{class r{constructor(t,o,i,u,d){this.parentContexts=t,this.location=o,this.changeDetector=u,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.name=i||Xt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){var t;(null===(t=this.parentContexts.getContext(this.name))||void 0===t?void 0:t.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,ig);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,ig);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,ig);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new e.vHH(4013,ig);this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,y=new Tb(t,g,i.injector);if(o&&function I0(r){return!!r.resolveComponentFactory}(o)){const w=o.resolveComponentFactory(d);this.activated=i.createComponent(w,i.length,y)}else this.activated=i.createComponent(d,{index:i.length,injector:y,environmentInjector:null!=o?o:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_h),e.Y36(e.s_b),e.$8M("name"),e.Y36(e.sBO),e.Y36(e.lqb))},r.\u0275dir=e.lG2({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),r})();class Tb{constructor(n,t,o){this.route=n,this.childContexts=t,this.parent=o}get(n,t){return n===ta?this.route:n===_h?this.childContexts:this.parent.get(n,t)}}let E0=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},dependencies:[zo],encapsulation:2}),r})();function D0(r,n){var t;return r.providers&&!r._injector&&(r._injector=(0,e.MMx)(r.providers,n,`Route: ${r.path}`)),null!==(t=r._injector)&&void 0!==t?t:n}function sg(r){const n=r.children&&r.children.map(sg),t=n?Object.assign(Object.assign({},r),{children:n}):Object.assign({},r);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Xt&&(t.component=E0),t}function ui(r){return r.outlet||Xt}function x0(r,n){const t=r.filter(o=>ui(o)===n);return t.push(...r.filter(o=>ui(o)!==n)),t}function Z0(r){var n;if(!r)return null;if(null!==(n=r.routeConfig)&&void 0!==n&&n._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){const o=t.routeConfig;if(null!=o&&o._loadedInjector)return o._loadedInjector;if(null!=o&&o._injector)return o._injector}return null}class Ab{constructor(n,t,o,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=o,this.forwardEvent=i}activate(n){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,n),Sl(this.futureState.root),this.activateChildRoutes(t,o,n)}deactivateChildRoutes(n,t,o){const i=Dl(t);n.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,i[d],o),delete i[d]}),Or(i,(u,d)=>{this.deactivateRouteAndItsChildren(u,o)})}deactivateRoutes(n,t,o){const i=n.value,u=t?t.value:null;if(i===u)if(i.component){const d=o.getContext(i.outlet);d&&this.deactivateChildRoutes(n,t,d.children)}else this.deactivateChildRoutes(n,t,o);else u&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const o=t.getContext(n.value.outlet),i=o&&n.value.component?o.children:t,u=Dl(n);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);if(o&&o.outlet){const d=o.outlet.detach(),g=o.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:d,route:n,contexts:g})}}deactivateRouteAndOutlet(n,t){const o=t.getContext(n.value.outlet),i=o&&n.value.component?o.children:t,u=Dl(n);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(n,t,o){const i=Dl(t);n.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],o),this.forwardEvent(new El(u.value.snapshot))}),n.children.length&&this.forwardEvent(new _0(n.value.snapshot))}activateRoutes(n,t,o){var i;const u=n.value,d=t?t.value:null;if(Sl(u),u===d)if(u.component){const g=o.getOrCreateContext(u.outlet);this.activateChildRoutes(n,t,g.children)}else this.activateChildRoutes(n,t,o);else if(u.component){const g=o.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const y=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),g.children.onOutletReAttached(y.contexts),g.attachRef=y.componentRef,g.route=y.route.value,g.outlet&&g.outlet.attach(y.componentRef,y.route.value),Sl(y.route.value),this.activateChildRoutes(n,null,g.children)}else{const y=Z0(u.snapshot),w=null!==(i=null==y?void 0:y.get(e._Vd))&&void 0!==i?i:null;g.attachRef=null,g.route=u,g.resolver=w,g.injector=y,g.outlet&&g.outlet.activateWith(u,g.injector),this.activateChildRoutes(n,null,g.children)}}else this.activateChildRoutes(n,null,o)}}class em{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class ag{constructor(n,t){this.component=n,this.route=t}}function Ib(r,n,t){const o=r._root;return Oc(o,n?n._root:null,t,[o.value])}function mh(r,n,t){const o=Z0(n);return(null!=o?o:t).get(r)}function Oc(r,n,t,o,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Dl(n);return r.children.forEach(d=>{(function xl(r,n,t,o,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=r.value,d=n?n.value:null,g=t?t.getContext(r.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const y=function Eb(r,n,t){if("function"==typeof t)return t(r,n);switch(t){case"pathParamsChange":return!bl(r.url,n.url);case"pathParamsOrQueryParamsChange":return!bl(r.url,n.url)||!qa(r.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Q_(r,n)||!qa(r.queryParams,n.queryParams);default:return!Q_(r,n)}}(d,u,u.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new em(o)):(u.data=d.data,u._resolvedData=d._resolvedData),Oc(r,n,u.component?g?g.children:null:t,o,i),y&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new ag(g.outlet.component,d))}else d&&Zl(n,g,i),i.canActivateChecks.push(new em(o)),Oc(r,null,u.component?g?g.children:null:t,o,i)})(d,u[d.value.outlet],t,o.concat([d.value]),i),delete u[d.value.outlet]}),Or(u,(d,g)=>Zl(d,t.getContext(g),i)),i}function Zl(r,n,t){const o=Dl(r),i=r.value;Or(o,(u,d)=>{Zl(u,i.component?n?n.children.getContext(d):null:n,t)}),t.canDeactivateChecks.push(new ag(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function kl(r){return"function"==typeof r}function Du(r){return r instanceof vl||"EmptyError"===(null==r?void 0:r.name)}const ug=Symbol("INITIAL_VALUE");function Nl(){return zr(r=>A_(r.map(n=>n.pipe(Sc(1),Tu(ug)))).pipe((0,W.U)(n=>{for(const t of n)if(!0!==t){if(t===ug)return ug;if(!1===t||t instanceof Tl)return t}return!0}),$e(n=>n!==ug),Sc(1)))}function P0(r){return(0,tb.z)((0,uo.b)(n=>{if(xo(n))throw K_(0,n)}),(0,W.U)(n=>!0===n))}const cg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dg(r,n,t,o,i){const u=O0(r,n,t);return u.matched?function R0(r,n,t,o){const i=n.canMatch;return i&&0!==i.length?Ct(i.map(d=>{const g=r.get(d),y=function N0(r){return r&&kl(r.canMatch)}(g)?g.canMatch(n,t):g(n,t);return ea(y)})).pipe(Nl(),P0()):Ct(!0)}(o=D0(n,o),n,t).pipe((0,W.U)(d=>!0===d?u:Object.assign({},cg))):Ct(u)}function O0(r,n,t){var o;if(""===n.path)return"full"===n.pathMatch&&(r.hasChildren()||t.length>0)?Object.assign({},cg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(n.matcher||Lx)(t,r,n);if(!u)return Object.assign({},cg);const d={};Or(u.posParams,(y,w)=>{d[w]=y.path});const g=u.consumed.length>0?Object.assign(Object.assign({},d),u.consumed[u.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:g,positionalParamSegments:null!==(o=u.posParams)&&void 0!==o?o:{}}}function Lc(r,n,t,o,i="corrected"){if(t.length>0&&function Fc(r,n,t){return t.some(o=>yh(r,n,o)&&ui(o)!==Xt)}(r,t,o)){const d=new en(n,function Kx(r,n,t,o){const i={};i[Xt]=o,o._sourceSegment=r,o._segmentIndexShift=n.length;for(const u of t)if(""===u.path&&ui(u)!==Xt){const d=new en([],{});d._sourceSegment=r,d._segmentIndexShift=n.length,i[ui(u)]=d}return i}(r,n,o,new en(t,r.children)));return d._sourceSegment=r,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function L0(r,n,t){return t.some(o=>yh(r,n,o))}(r,t,o)){const d=new en(r.segments,function Rb(r,n,t,o,i,u){const d={};for(const g of o)if(yh(r,t,g)&&!i[ui(g)]){const y=new en([],{});y._sourceSegment=r,y._segmentIndexShift="legacy"===u?r.segments.length:n.length,d[ui(g)]=y}return Object.assign(Object.assign({},i),d)}(r,n,t,o,r.children,i));return d._sourceSegment=r,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:t}}const u=new en(r.segments,r.children);return u._sourceSegment=r,u._segmentIndexShift=n.length,{segmentGroup:u,slicedSegments:t}}function yh(r,n,t){return(!(r.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}function vh(r,n,t,o){return!!(ui(r)===o||o!==Xt&&yh(n,t,r))&&("**"===r.path||O0(n,r,t).matched)}function Ni(r,n,t){return 0===n.length&&!r.children[t]}const Ch=!1;class hg{constructor(n){this.segmentGroup=n||null}}class pg{constructor(n){this.urlTree=n}}function li(r){return Dc(new hg(r))}function gg(r){return Dc(new pg(r))}class q0{constructor(n,t,o,i,u){this.injector=n,this.configLoader=t,this.urlSerializer=o,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const n=Lc(this.urlTree.root,[],[],this.config).segmentGroup,t=new en(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,t,Xt).pipe((0,W.U)(u=>this.createUrlTree(Kp(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fa(u=>{if(u instanceof pg)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof hg?this.noMatchError(u):u}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,Xt).pipe((0,W.U)(i=>this.createUrlTree(Kp(i),n.queryParams,n.fragment))).pipe(Fa(i=>{throw i instanceof hg?this.noMatchError(i):i}))}noMatchError(n){return new e.vHH(4002,Ch)}createUrlTree(n,t,o){const i=R_(n);return new Tl(i,t,o)}expandSegmentGroup(n,t,o,i){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(n,t,o).pipe((0,W.U)(u=>new en([],u))):this.expandSegment(n,o,t,o.segments,i,!0)}expandChildren(n,t,o){const i=[];for(const u of Object.keys(o.children))"primary"===u?i.unshift(u):i.push(u);return(0,ln.D)(i).pipe(bu(u=>{const d=o.children[u],g=x0(t,u);return this.expandSegmentGroup(n,g,d,u).pipe((0,W.U)(y=>({segment:y,outlet:u})))}),xc((u,d)=>(u[d.outlet]=d.segment,u),{}),Kv())}expandSegment(n,t,o,i,u,d){return(0,ln.D)(o).pipe(bu(g=>this.expandSegmentAgainstRoute(n,t,o,g,i,u,d).pipe(Fa(w=>{if(w instanceof hg)return Ct(null);throw w}))),Xs(g=>!!g),Fa((g,y)=>{if(Du(g))return Ni(t,i,u)?Ct(new en([],{})):li(t);throw g}))}expandSegmentAgainstRoute(n,t,o,i,u,d,g){return vh(i,t,u,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,t,i,u,d):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,t,o,i,u,d):li(t):li(t)}expandSegmentAgainstRouteUsingRedirect(n,t,o,i,u,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,o,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,o,i,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,o,i){const u=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?gg(u):this.lineralizeSegments(o,u).pipe((0,vr.z)(d=>{const g=new en(d,{});return this.expandSegment(n,g,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,o,i,u,d){const{matched:g,consumedSegments:y,remainingSegments:w,positionalParamSegments:D}=O0(t,i,u);if(!g)return li(t);const x=this.applyRedirectCommands(y,i.redirectTo,D);return i.redirectTo.startsWith("/")?gg(x):this.lineralizeSegments(i,x).pipe((0,vr.z)(q=>this.expandSegment(n,t,o,q.concat(w),d,!1)))}matchSegmentAgainstRoute(n,t,o,i,u){return"**"===o.path?(n=D0(o,n),o.loadChildren?(o._loadedRoutes?Ct({routes:o._loadedRoutes,injector:o._loadedInjector}):this.configLoader.loadChildren(n,o)).pipe((0,W.U)(g=>(o._loadedRoutes=g.routes,o._loadedInjector=g.injector,new en(i,{})))):Ct(new en(i,{}))):dg(t,o,i,n).pipe(zr(({matched:d,consumedSegments:g,remainingSegments:y})=>{var w;return d?(n=null!==(w=o._injector)&&void 0!==w?w:n,this.getChildConfig(n,o,i).pipe((0,vr.z)(x=>{var q;const J=null!==(q=x.injector)&&void 0!==q?q:n,ee=x.routes,{segmentGroup:Ne,slicedSegments:Be}=Lc(t,g,y,ee),ht=new en(Ne.segments,Ne.children);if(0===Be.length&&ht.hasChildren())return this.expandChildren(J,ee,ht).pipe((0,W.U)(Vt=>new en(g,Vt)));if(0===ee.length&&0===Be.length)return Ct(new en(g,{}));const Rt=ui(o)===u;return this.expandSegment(J,ht,ee,Be,Rt?Xt:u,!0).pipe((0,W.U)(At=>new en(g.concat(At.segments),At.children)))}))):li(t)}))}getChildConfig(n,t,o){return t.children?Ct({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?Ct({routes:t._loadedRoutes,injector:t._loadedInjector}):function M0(r,n,t,o){const i=n.canLoad;return void 0===i||0===i.length?Ct(!0):Ct(i.map(d=>{const g=r.get(d),y=function Wx(r){return r&&kl(r.canLoad)}(g)?g.canLoad(n,t):g(n,t);return ea(y)})).pipe(Nl(),P0())}(n,t,o).pipe((0,vr.z)(i=>i?this.configLoader.loadChildren(n,t).pipe((0,uo.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function tm(r){return Dc(Cb(Ch,3))}())):Ct({routes:[],injector:n})}lineralizeSegments(n,t){let o=[],i=t.root;for(;;){if(o=o.concat(i.segments),0===i.numberOfChildren)return Ct(o);if(i.numberOfChildren>1||!i.children[Xt])return Dc(new e.vHH(4e3,Ch));i=i.children[Xt]}}applyRedirectCommands(n,t,o){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,o)}applyRedirectCreateUrlTree(n,t,o,i){const u=this.createSegmentGroup(n,t.root,o,i);return new Tl(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const o={};return Or(n,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const g=i.substring(1);o[u]=t[g]}else o[u]=i}),o}createSegmentGroup(n,t,o,i){const u=this.createSegments(n,t.segments,o,i);let d={};return Or(t.children,(g,y)=>{d[y]=this.createSegmentGroup(n,g,o,i)}),new en(u,d)}createSegments(n,t,o,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(n,u,i):this.findOrReturn(u,o))}findPosParam(n,t,o){const i=o[t.path.substring(1)];if(!i)throw new e.vHH(4001,Ch);return i}findOrReturn(n,t){let o=0;for(const i of t){if(i.path===n.path)return t.splice(o),i;o++}return n}}class fg{}class om{constructor(n,t,o,i,u,d,g,y){this.injector=n,this.rootComponentType=t,this.config=o,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=g,this.urlSerializer=y}recognize(){const n=Lc(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Xt).pipe((0,W.U)(t=>{if(null===t)return null;const o=new ph([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Xt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Va(o,t),u=new ng(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(n){const t=n.value,o=hh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,o,i){return 0===o.segments.length&&o.hasChildren()?this.processChildren(n,t,o):this.processSegment(n,t,o,o.segments,i)}processChildren(n,t,o){return(0,ln.D)(Object.keys(o.children)).pipe(bu(i=>{const u=o.children[i],d=x0(t,i);return this.processSegmentGroup(n,d,u,i)}),xc((i,u)=>i&&u?(i.push(...u),i):null),function nb(r,n=!1){return(0,ao.e)((t,o)=>{let i=0;t.subscribe((0,zn.x)(o,u=>{const d=r(u,i++);(d||n)&&o.next(u),!d&&o.complete()}))})}(i=>null!==i),wu(null),Kv(),(0,W.U)(i=>{if(null===i)return null;const u=V0(i);return function e2(r){r.sort((n,t)=>n.value.outlet===Xt?-1:t.value.outlet===Xt?1:n.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(n,t,o,i,u){return(0,ln.D)(t).pipe(bu(d=>{var g;return this.processSegmentAgainstRoute(null!==(g=d._injector)&&void 0!==g?g:n,d,o,i,u)}),Xs(d=>!!d),Fa(d=>{if(Du(d))return Ni(o,i,u)?Ct([]):Ct(null);throw d}))}processSegmentAgainstRoute(n,t,o,i,u){var d,g;if(t.redirectTo||!vh(t,o,i,u))return Ct(null);let y;if("**"===t.path){const w=i.length>0?Z_(i).parameters:{},D=qb(o)+i.length;y=Ct({snapshot:new ph(i,w,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vb(t),ui(t),null!==(g=null!==(d=t.component)&&void 0!==d?d:t._loadedComponent)&&void 0!==g?g:null,t,im(o),D,sm(t),D),consumedSegments:[],remainingSegments:[]})}else y=dg(o,t,i,n).pipe((0,W.U)(({matched:w,consumedSegments:D,remainingSegments:x,parameters:q})=>{var J,ee;if(!w)return null;const Ne=qb(o)+D.length;return{snapshot:new ph(D,q,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vb(t),ui(t),null!==(ee=null!==(J=t.component)&&void 0!==J?J:t._loadedComponent)&&void 0!==ee?ee:null,t,im(o),Ne,sm(t),Ne),consumedSegments:D,remainingSegments:x}}));return y.pipe(zr(w=>{var D,x;if(null===w)return Ct(null);const{snapshot:q,consumedSegments:J,remainingSegments:ee}=w;n=null!==(D=t._injector)&&void 0!==D?D:n;const Ne=null!==(x=t._loadedInjector)&&void 0!==x?x:n,Be=function Ob(r){return r.children?r.children:r.loadChildren?r._loadedRoutes:[]}(t),{segmentGroup:ht,slicedSegments:Rt}=Lc(o,J,ee,Be.filter(At=>void 0===At.redirectTo),this.relativeLinkResolution);if(0===Rt.length&&ht.hasChildren())return this.processChildren(Ne,Be,ht).pipe((0,W.U)(At=>null===At?null:[new Va(q,At)]));if(0===Be.length&&0===Rt.length)return Ct([new Va(q,[])]);const Ht=ui(t)===u;return this.processSegment(Ne,Be,ht,Rt,Ht?Xt:u).pipe((0,W.U)(At=>null===At?null:[new Va(q,At)]))}))}}function Lb(r){const n=r.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function V0(r){const n=[],t=new Set;for(const o of r){if(!Lb(o)){n.push(o);continue}const i=n.find(u=>o.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...o.children),t.add(i)):n.push(o)}for(const o of t){const i=V0(o.children);n.push(new Va(o.value,i))}return n.filter(o=>!t.has(o))}function im(r){let n=r;for(;n._sourceSegment;)n=n._sourceSegment;return n}function qb(r){var n,t;let o=r,i=null!==(n=o._segmentIndexShift)&&void 0!==n?n:0;for(;o._sourceSegment;)o=o._sourceSegment,i+=null!==(t=o._segmentIndexShift)&&void 0!==t?t:0;return i-1}function Vb(r){return r.data||{}}function sm(r){return r.resolve||{}}const am=Symbol("RouteTitle");function Bb(r){return"string"==typeof r.title||null===r.title}function $0(r){return zr(n=>{const t=r(n);return t?(0,ln.D)(t).pipe((0,W.U)(()=>n)):Ct(n)})}let jb=(()=>{class r{buildTitle(t){var o;let i,u=t.root;for(;void 0!==u;)i=null!==(o=this.getResolvedTitleForRoute(u))&&void 0!==o?o:i,u=u.children.find(d=>d.outlet===Xt);return i}getResolvedTitleForRoute(t){return t.data[am]}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(){return(0,e.f3M)($b)},providedIn:"root"}),r})(),$b=(()=>{class r extends jb{constructor(t){super(),this.title=t}updateTitle(t){const o=this.buildTitle(t);void 0!==o&&this.title.setTitle(o)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(pc))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class i2{}class lm extends class Su{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}{}const _g=new e.OlP("",{providedIn:"root",factory:()=>({})}),yg=new e.OlP("ROUTES");let Th=(()=>{class r{constructor(t,o){this.injector=t,this.compiler=o,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ct(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const o=ea(t.loadComponent()).pipe((0,uo.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Yv(()=>{this.componentLoaders.delete(t)})),i=new D_(o,()=>new ki.x).pipe(E_());return this.componentLoaders.set(t,i),i}loadChildren(t,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return Ct({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const u=this.loadModuleFactoryOrRoutes(o.loadChildren).pipe((0,W.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(o);let y,w,D=!1;Array.isArray(g)?w=g:(y=g.create(t).injector,w=Xv(y.get(yg,[],e.XFs.Self|e.XFs.Optional)));return{routes:w.map(sg),injector:y}}),Yv(()=>{this.childrenLoaders.delete(o)})),d=new D_(u,()=>new ki.x).pipe(E_());return this.childrenLoaders.set(o,d),d}loadModuleFactoryOrRoutes(t){return ea(t()).pipe((0,vr.z)(o=>o instanceof e.YKP||Array.isArray(o)?Ct(o):(0,ln.D)(this.compiler.compileModuleAsync(o))))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.zs3),e.LFG(e.Sil))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class Hb{}class xu{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,t){return n}}function Jb(r){throw r}function cm(r,n,t){return n.parse("/")}const Wb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},G0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function H0(){var r,n;const t=(0,e.f3M)(U_),o=(0,e.f3M)(_h),i=(0,e.f3M)(Pe),u=(0,e.f3M)(e.zs3),d=(0,e.f3M)(e.Sil),g=null!==(r=(0,e.f3M)(yg,{optional:!0}))&&void 0!==r?r:[],y=null!==(n=(0,e.f3M)(_g,{optional:!0}))&&void 0!==n?n:{},w=(0,e.f3M)($b),D=(0,e.f3M)(jb,{optional:!0}),x=(0,e.f3M)(Hb,{optional:!0}),q=(0,e.f3M)(i2,{optional:!0}),J=new Qn(null,t,o,i,u,d,Xv(g));return x&&(J.urlHandlingStrategy=x),q&&(J.routeReuseStrategy=q),J.titleStrategy=null!=D?D:w,function zb(r,n){r.errorHandler&&(n.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(n.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(n.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(n.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(n.urlUpdateStrategy=r.urlUpdateStrategy),r.canceledNavigationResolution&&(n.canceledNavigationResolution=r.canceledNavigationResolution)}(y,J),J}let Qn=(()=>{class r{constructor(t,o,i,u,d,g,y){this.rootComponentType=t,this.urlSerializer=o,this.rootContexts=i,this.location=u,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ki.x,this.errorHandler=Jb,this.malformedUriErrorHandler=cm,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ct(void 0),this.urlHandlingStrategy=new xu,this.routeReuseStrategy=new lm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(Th),this.configLoader.onLoadEndListener=q=>this.triggerEvent(new mb(q)),this.configLoader.onLoadStartListener=q=>this.triggerEvent(new G_(q)),this.ngModule=d.get(e.h0i),this.console=d.get(e.c2e);const x=d.get(e.R0b);this.isNgZoneEnabled=x instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function k_(){return new Tl(new en([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=W_(this.currentUrlTree,this.rootComponentType),this.transitions=new Wr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const o=this.events;return t.pipe($e(i=>0!==i.id),(0,W.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),zr(i=>{let u=!1,d=!1;return Ct(i).pipe((0,uo.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),zr(g=>{const y=this.browserUrlTree.toString(),w=!this.navigated||g.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return vg(g.source)&&(this.browserUrlTree=g.extractedUrl),Ct(g).pipe(zr(x=>{const q=this.transitions.getValue();return o.next(new j_(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),q!==this.transitions.getValue()?Ys.E:Promise.resolve(x)}),function Xx(r,n,t,o){return zr(i=>function Yx(r,n,t,o,i){return new q0(r,n,t,o,i).apply()}(r,n,t,i.extractedUrl,o).pipe((0,W.U)(u=>Object.assign(Object.assign({},i),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,uo.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects}),i.urlAfterRedirects=x.urlAfterRedirects}),function j0(r,n,t,o,i,u){return(0,vr.z)(d=>function rm(r,n,t,o,i,u,d="emptyOnly",g="legacy"){return new om(r,n,t,o,i,d,g,u).recognize().pipe(zr(y=>null===y?function nm(r){return new Jr.y(n=>n.error(r))}(new fg):Ct(y)))}(r,n,t,d.urlAfterRedirects,o.serialize(d.urlAfterRedirects),o,i,u).pipe((0,W.U)(g=>Object.assign(Object.assign({},d),{targetSnapshot:g}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,uo.b)(x=>{if(i.targetSnapshot=x.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(J,x)}this.browserUrlTree=x.urlAfterRedirects}const q=new fb(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);o.next(q)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:q,extractedUrl:J,source:ee,restoredState:Ne,extras:Be}=g,ht=new j_(q,this.serializeUrl(J),ee,Ne);o.next(ht);const Rt=W_(J,this.rootComponentType).snapshot;return Ct(i=Object.assign(Object.assign({},g),{targetSnapshot:Rt,urlAfterRedirects:J,extras:Object.assign(Object.assign({},Be),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,g.resolve(null),Ys.E}),(0,uo.b)(g=>{const y=new _b(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}),(0,W.U)(g=>i=Object.assign(Object.assign({},g),{guards:Ib(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function lg(r,n){return(0,vr.z)(t=>{const{targetSnapshot:o,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?Ct(Object.assign(Object.assign({},t),{guardsResult:!0})):function Zb(r,n,t,o){return(0,ln.D)(r).pipe((0,vr.z)(i=>function Pb(r,n,t,o,i){const u=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return u&&0!==u.length?Ct(u.map(g=>{const y=mh(g,n,i);return ea(function Sb(r){return r&&kl(r.canDeactivate)}(y)?y.canDeactivate(r,n,t,o):y(r,n,t,o)).pipe(Xs())})).pipe(Nl()):Ct(!0)}(i.component,i.route,t,n,o)),Xs(i=>!0!==i,!0))}(d,o,i,r).pipe((0,vr.z)(g=>g&&function Db(r){return"boolean"==typeof r}(g)?function U0(r,n,t,o){return(0,ln.D)(n).pipe(bu(i=>Cu(function Nb(r,n){return null!==r&&n&&n(new yb(r)),Ct(!0)}(i.route.parent,o),function kb(r,n){return null!==r&&n&&n(new m0(r)),Ct(!0)}(i.route,o),function Mb(r,n,t){const o=n[n.length-1],u=n.slice(0,n.length-1).reverse().map(d=>function Jx(r){const n=r.routeConfig?r.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:r,guards:n}:null}(d)).filter(d=>null!==d).map(d=>Jv(()=>Ct(d.guards.map(y=>{const w=mh(y,d.node,t);return ea(function Qx(r){return r&&kl(r.canActivateChild)}(w)?w.canActivateChild(o,r):w(o,r)).pipe(Xs())})).pipe(Nl())));return Ct(u).pipe(Nl())}(r,i.path,t),function Ub(r,n,t){const o=n.routeConfig?n.routeConfig.canActivate:null;if(!o||0===o.length)return Ct(!0);const i=o.map(u=>Jv(()=>{const d=mh(u,n,t);return ea(function zx(r){return r&&kl(r.canActivate)}(d)?d.canActivate(n,r):d(n,r)).pipe(Xs())}));return Ct(i).pipe(Nl())}(r,i.route,t))),Xs(i=>!0!==i,!0))}(o,u,r,n):Ct(g)),(0,W.U)(g=>Object.assign(Object.assign({},t),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,uo.b)(g=>{if(i.guardsResult=g.guardsResult,xo(g.guardsResult))throw K_(0,g.guardsResult);const y=new g0(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(y)}),$e(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),$0(g=>{if(g.guards.canActivateChecks.length)return Ct(g).pipe((0,uo.b)(y=>{const w=new $_(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),zr(y=>{let w=!1;return Ct(y).pipe(function um(r,n){return(0,vr.z)(t=>{const{targetSnapshot:o,guards:{canActivateChecks:i}}=t;if(!i.length)return Ct(t);let u=0;return(0,ln.D)(i).pipe(bu(d=>function t2(r,n,t,o){const i=r.routeConfig,u=r._resolve;return void 0!==(null==i?void 0:i.title)&&!Bb(i)&&(u[am]=i.title),function n2(r,n,t,o){const i=function r2(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}(r);if(0===i.length)return Ct({});const u={};return(0,ln.D)(i).pipe((0,vr.z)(d=>function o2(r,n,t,o){const i=mh(r,n,o);return ea(i.resolve?i.resolve(n,t):i(n,t))}(r[d],n,t,o).pipe(Xs(),(0,uo.b)(g=>{u[d]=g}))),uh(1),function S_(r){return(0,W.U)(()=>r)}(u),Fa(d=>Du(d)?Ys.E:Dc(d)))}(u,r,n,o).pipe((0,W.U)(d=>(r._resolvedData=d,r.data=hh(r,t).resolve,i&&Bb(i)&&(r.data[am]=i.title),null)))}(d.route,o,r,n)),(0,uo.b)(()=>u++),uh(1),(0,vr.z)(d=>u===i.length?Ct(t):Ys.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,uo.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,uo.b)(y=>{const w=new f0(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}))}),$0(g=>{const y=w=>{var D;const x=[];(null===(D=w.routeConfig)||void 0===D?void 0:D.loadComponent)&&!w.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,uo.b)(q=>{w.component=q}),(0,W.U)(()=>{})));for(const q of w.children)x.push(...y(q));return x};return A_(y(g.targetSnapshot.root)).pipe(wu(),Sc(1))}),$0(()=>this.afterPreactivation()),(0,W.U)(g=>{const y=function T0(r,n,t){const o=gh(r,n._root,t?t._root:void 0);return new J_(o,n)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return i=Object.assign(Object.assign({},g),{targetRouterState:y})}),(0,uo.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((r,n,t)=>(0,W.U)(o=>(new Ab(n,o.targetRouterState,o.currentRouterState,t).activate(r),o)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,uo.b)({next(){u=!0},complete(){u=!0}}),Yv(()=>{var g;u||d||this.cancelNavigationTransition(i,"",1),(null===(g=this.currentNavigation)||void 0===g?void 0:g.id)===i.id&&(this.currentNavigation=null)}),Fa(g=>{var y;if(d=!0,b0(g)){Y_(g)||(this.navigated=!0,this.restoreHistory(i,!0));const w=new eg(i.id,this.serializeUrl(i.extractedUrl),g.message,g.cancellationCode);if(o.next(w),Y_(g)){const D=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),x={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vg(i.source)};this.scheduleNavigation(D,"imperative",null,x,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const w=new p0(i.id,this.serializeUrl(i.extractedUrl),g,null!==(y=i.targetSnapshot)&&void 0!==y?y:void 0);o.next(w);try{i.resolve(this.errorHandler(g))}catch(D){i.reject(D)}}return Ys.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o="popstate"===t.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var i;const u={replaceUrl:!0},d=null!==(i=t.state)&&void 0!==i&&i.navigationId?t.state:null;if(d){const y=Object.assign({},d);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(u.state=y)}const g=this.parseUrl(t.url);this.scheduleNavigation(g,o,d,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(sg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,o={}){const{relativeTo:i,queryParams:u,fragment:d,queryParamsHandling:g,preserveFragment:y}=o,w=i||this.routerState.root,D=y?this.currentUrlTree.fragment:d;let x=null;switch(g){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=u||null}return null!==x&&(x=this.removeEmptyProps(x)),c0(w,this.currentUrlTree,t,x,null!=D?D:null)}navigateByUrl(t,o={skipLocationChange:!1}){const i=xo(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,o)}navigate(t,o={skipLocationChange:!1}){return function qc(r){for(let n=0;n<r.length;n++){if(null==r[n])throw new e.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(i){o=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return o}isActive(t,o){let i;if(i=!0===o?Object.assign({},Wb):!1===o?Object.assign({},G0):o,xo(t))return Zc(this.currentUrlTree,t,i);const u=this.parseUrl(t);return Zc(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((o,i)=>{const u=t[i];return null!=u&&(o[i]=u),o},{})}processNavigations(){this.navigations.subscribe(t=>{var o;this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Eu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(o=this.titleStrategy)||void 0===o||o.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,o,i,u,d){var g,y;if(this.disposed)return Promise.resolve(!1);let w,D,x;d?(w=d.resolve,D=d.reject,x=d.promise):x=new Promise((ee,Ne)=>{w=ee,D=Ne});const q=++this.navigationId;let J;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),J=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):J=0,this.setTransition({id:q,targetPageId:J,source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:w,reject:D,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(ee=>Promise.reject(ee))}setBrowserUrl(t,o){const i=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,o=!1){var i,u;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,o,i){const u=new eg(t.id,this.serializeUrl(t.extractedUrl),o,i);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}}return r.\u0275fac=function(t){e.$Z()},r.\u0275prov=e.Yz7({token:r,factory:function(){return H0()},providedIn:"root"}),r})();function vg(r){return"imperative"!==r}let co=(()=>{class r{constructor(t,o,i){this.router=t,this.route=o,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new ki.x,this.subscription=t.events.subscribe(u=>{u instanceof Eu&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,o,i,u,d){if(0!==t||o||i||u||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const g={skipLocationChange:(0,e.D6c)(this.skipLocationChange),replaceUrl:(0,e.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,e.D6c)(this.preserveFragment)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Qn),e.Y36(ta),e.Y36(Te))},r.\u0275dir=e.lG2({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,o){1&t&&e.NdJ("click",function(u){return o.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&e.uIk("target",o.target)("href",o.href,e.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[e.TTD]}),r})();class dm{}let Cg=(()=>{class r{constructor(t,o,i,u,d){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe($e(t=>t instanceof Eu),bu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){var i,u,d;const g=[];for(const y of o){y.providers&&!y._injector&&(y._injector=(0,e.MMx)(y.providers,t,`Route: ${y.path}`));const w=null!==(i=y._injector)&&void 0!==i?i:t,D=null!==(u=y._loadedInjector)&&void 0!==u?u:w;y.loadChildren&&!y._loadedRoutes&&void 0===y.canLoad||y.loadComponent&&!y._loadedComponent?g.push(this.preloadConfig(w,y)):(y.children||y._loadedRoutes)&&g.push(this.processRoutes(D,null!==(d=y.children)&&void 0!==d?d:y._loadedRoutes))}return(0,ln.D)(g).pipe((0,sh.J)())}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(t,o):Ct(null);const u=i.pipe((0,vr.z)(d=>{var g;return null===d?Ct(void 0):(o._loadedRoutes=d.routes,o._loadedInjector=d.injector,this.processRoutes(null!==(g=d.injector)&&void 0!==g?g:t,d.routes))}));if(o.loadComponent&&!o._loadedComponent){const d=this.loader.loadComponent(o);return(0,ln.D)([u,d]).pipe((0,sh.J)())}return u})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Qn),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(dm),e.LFG(Th))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const hm=new e.OlP("");let pm=(()=>{class r{constructor(t,o,i={}){this.router=t,this.viewportScroller=o,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof j_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Eu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof H_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.router.triggerEvent(new H_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(t){e.$Z()},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const W0=new e.OlP("ROUTER_FORROOT_GUARD"),gm=new e.OlP(""),Yb=[Pe,{provide:U_,useClass:M_},{provide:Qn,useFactory:H0},_h,{provide:ta,useFactory:function z0(r){return r.routerState.root},deps:[Qn]},Th];function Q0(){return new e.PXZ("Router",Qn)}let K0=(()=>{class r{constructor(t){}static forRoot(t,o){return{ngModule:r,providers:[Yb,[],X0(t),{provide:W0,useFactory:s2,deps:[[Qn,new e.FiY,new e.tp0]]},{provide:_g,useValue:o||{}},null!=o&&o.useHash?{provide:Te,useClass:Ye}:{provide:Te,useClass:et},{provide:hm,useFactory:()=>{const r=(0,e.f3M)(Qn),n=(0,e.f3M)(ya),t=(0,e.f3M)(_g);return t.scrollOffset&&n.setOffset(t.scrollOffset),new pm(r,n,t)}},null!=o&&o.preloadingStrategy?rA(o.preloadingStrategy):[],{provide:e.PXZ,multi:!0,useFactory:Q0},null!=o&&o.initialNavigation?eA(o):[],[{provide:_m,useFactory:fm},{provide:e.tb,multi:!0,useExisting:_m}]]}}static forChild(t){return{ngModule:r,providers:[X0(t)]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(W0,8))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();function s2(r){return"guarded"}function X0(r){return[{provide:yg,multi:!0,useValue:r}]}function fm(){const r=(0,e.f3M)(e.zs3);return n=>{var t,o;const i=r.get(e.z2F);if(n!==i.components[0])return;const u=r.get(Qn),d=r.get(e1);1===r.get(mm)&&u.initialNavigation(),null===(t=r.get(gm,null,e.XFs.Optional))||void 0===t||t.setUpPreloading(),null===(o=r.get(hm,null,e.XFs.Optional))||void 0===o||o.init(),u.resetRootComponentType(i.componentTypes[0]),d.next(),d.complete()}}const _m=new e.OlP("");function eA(r){return["disabled"===r.initialNavigation?[{provide:e.ip1,multi:!0,useFactory:()=>{const r=(0,e.f3M)(Qn);return()=>{r.setUpLocationChangeListener()}}},{provide:mm,useValue:2}]:[],"enabledBlocking"===r.initialNavigation?[{provide:mm,useValue:0},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:r=>{const n=r.get(H,Promise.resolve(null));let t=!1;return()=>n.then(()=>new Promise(i=>{const u=r.get(Qn),d=r.get(e1);(function o(i){r.get(Qn).events.pipe($e(d=>d instanceof Eu||d instanceof eg||d instanceof p0),(0,W.U)(d=>d instanceof Eu||d instanceof eg&&(0===d.code||1===d.code)&&null),$e(d=>null!==d),Sc(1)).subscribe(()=>{i()})})(()=>{i(!0),t=!0}),u.afterPreactivation=()=>(i(!0),t||d.closed?Ct(void 0):d),u.initialNavigation()}))}}]:[]]}const e1=new e.OlP("",{factory:()=>new ki.x}),mm=new e.OlP("",{providedIn:"root",factory:()=>1});function rA(r){return[Cg,{provide:gm,useExisting:Cg},{provide:dm,useExisting:r}]}let r1=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-laws"]],decls:10,vars:0,consts:[["routerLink","../clusters"],[1,"text-green-dull"],[1,"text-green"]],template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"Laws works!"),e.qZA(),e.TgZ(2,"a",0),e._uU(3,"clusters"),e.qZA(),e.TgZ(4,"p")(5,"a",1),e._uU(6,"[ "),e.TgZ(7,"span",2),e._uU(8,"O"),e.qZA(),e._uU(9,"nly Evolved ]"),e.qZA()())},dependencies:[co]}),r})(),Ml=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],inputs:{selectedLanguage:"selectedLanguage"},decls:0,vars:0,template:function(t,o){},encapsulation:2}),r})();class ps{}class Tg{}class na{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(t=>{const o=t.indexOf(":");if(o>0){const i=t.slice(0,o),u=i.toLowerCase(),d=t.slice(o+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(t=>{let o=n[t];const i=t.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(i,o),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof na?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new na;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof na?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let o=n.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...o),this.headers.set(t,i);break;case"d":const u=n.value;if(u){let d=this.headers.get(t);if(!d)return;d=d.filter(g=>-1===u.indexOf(g)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class u2{encodeKey(n){return i1(n)}encodeValue(n){return i1(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const iA=/%(\d[a-f0-9])/gi,sA={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function i1(r){return encodeURIComponent(r).replace(iA,(n,t)=>{var o;return null!==(o=sA[t])&&void 0!==o?o:n})}function Vc(r){return`${r}`}class Ba{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new u2,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function o1(r,n){const t=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[d,g]=-1==u?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,u)),n.decodeValue(i.slice(u+1))],y=t.get(d)||[];y.push(g),t.set(d,y)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const o=n.fromObject[t],i=Array.isArray(o)?o.map(Vc):[Vc(o)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(o=>{const i=n[o];Array.isArray(i)?i.forEach(u=>{t.push({param:o,value:u,op:"a"})}):t.push({param:o,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(o=>t+"="+this.encoder.encodeValue(o)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Ba({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(Vc(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let o=this.map.get(n.param)||[];const i=o.indexOf(Vc(n.value));-1!==i&&o.splice(i,1),o.length>0?this.map.set(n.param,o):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class wg{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function s1(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function vm(r){return"undefined"!=typeof Blob&&r instanceof Blob}function bg(r){return"undefined"!=typeof FormData&&r instanceof FormData}class Ah{constructor(n,t,o,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function ym(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==o?o:null,u=i):u=o,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new na),this.context||(this.context=new wg),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+d}}else this.params=new Ba,this.urlWithParams=t}serializeBody(){return null===this.body?null:s1(this.body)||vm(this.body)||bg(this.body)||function a1(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ba?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||bg(this.body)?null:vm(this.body)?this.body.type||null:s1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ba?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var t;const o=n.method||this.method,i=n.url||this.url,u=n.responseType||this.responseType,d=void 0!==n.body?n.body:this.body,g=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,y=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let w=n.headers||this.headers,D=n.params||this.params;const x=null!==(t=n.context)&&void 0!==t?t:this.context;return void 0!==n.setHeaders&&(w=Object.keys(n.setHeaders).reduce((q,J)=>q.set(J,n.setHeaders[J]),w)),n.setParams&&(D=Object.keys(n.setParams).reduce((q,J)=>q.set(J,n.setParams[J]),D)),new Ah(o,i,d,{params:D,headers:w,context:x,reportProgress:y,responseType:u,withCredentials:g})}}var Sr=(()=>((Sr=Sr||{})[Sr.Sent=0]="Sent",Sr[Sr.UploadProgress=1]="UploadProgress",Sr[Sr.ResponseHeader=2]="ResponseHeader",Sr[Sr.DownloadProgress=3]="DownloadProgress",Sr[Sr.Response=4]="Response",Sr[Sr.User=5]="User",Sr))();class Ih{constructor(n,t=200,o="OK"){this.headers=n.headers||new na,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||o,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class u1 extends Ih{constructor(n={}){super(n),this.type=Sr.ResponseHeader}clone(n={}){return new u1({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class ze extends Ih{constructor(n={}){super(n),this.type=Sr.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new ze({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Cm extends Ih{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Ag(r,n){return{body:n,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let gs=(()=>{class r{constructor(t){this.handler=t}request(t,o,i={}){let u;if(t instanceof Ah)u=t;else{let y,w;y=i.headers instanceof na?i.headers:new na(i.headers),i.params&&(w=i.params instanceof Ba?i.params:new Ba({fromObject:i.params})),u=new Ah(t,o,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=Ct(u).pipe(bu(y=>this.handler.handle(y)));if(t instanceof Ah||"events"===i.observe)return d;const g=d.pipe($e(y=>y instanceof ze));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return g.pipe((0,W.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return g.pipe((0,W.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return g.pipe((0,W.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return g.pipe((0,W.U)(y=>y.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,o={}){return this.request("DELETE",t,o)}get(t,o={}){return this.request("GET",t,o)}head(t,o={}){return this.request("HEAD",t,o)}jsonp(t,o){return this.request("JSONP",t,{params:(new Ba).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,o={}){return this.request("OPTIONS",t,o)}patch(t,o,i={}){return this.request("PATCH",t,Ag(i,o))}post(t,o,i={}){return this.request("POST",t,Ag(i,o))}put(t,o,i={}){return this.request("PUT",t,Ag(i,o))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ps))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Tm{constructor(n,t){this.next=n,this.interceptor=t}handle(n){return this.interceptor.intercept(n,this.next)}}const Bc=new e.OlP("HTTP_INTERCEPTORS");let ja=(()=>{class r{intercept(t,o){return o.handle(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const uA=/^\)\]\}',?\n/;let c1=(()=>{class r{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Jr.y(o=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((J,ee)=>i.setRequestHeader(J,ee.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const J=t.detectContentTypeHeader();null!==J&&i.setRequestHeader("Content-Type",J)}if(t.responseType){const J=t.responseType.toLowerCase();i.responseType="json"!==J?J:"text"}const u=t.serializeBody();let d=null;const g=()=>{if(null!==d)return d;const J=i.statusText||"OK",ee=new na(i.getAllResponseHeaders()),Ne=function p2(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(i)||t.url;return d=new u1({headers:ee,status:i.status,statusText:J,url:Ne}),d},y=()=>{let{headers:J,status:ee,statusText:Ne,url:Be}=g(),ht=null;204!==ee&&(ht=void 0===i.response?i.responseText:i.response),0===ee&&(ee=ht?200:0);let Rt=ee>=200&&ee<300;if("json"===t.responseType&&"string"==typeof ht){const Ht=ht;ht=ht.replace(uA,"");try{ht=""!==ht?JSON.parse(ht):null}catch(At){ht=Ht,Rt&&(Rt=!1,ht={error:At,text:ht})}}Rt?(o.next(new ze({body:ht,headers:J,status:ee,statusText:Ne,url:Be||void 0})),o.complete()):o.error(new Cm({error:ht,headers:J,status:ee,statusText:Ne,url:Be||void 0}))},w=J=>{const{url:ee}=g(),Ne=new Cm({error:J,status:i.status||0,statusText:i.statusText||"Unknown Error",url:ee||void 0});o.error(Ne)};let D=!1;const x=J=>{D||(o.next(g()),D=!0);let ee={type:Sr.DownloadProgress,loaded:J.loaded};J.lengthComputable&&(ee.total=J.total),"text"===t.responseType&&!!i.responseText&&(ee.partialText=i.responseText),o.next(ee)},q=J=>{let ee={type:Sr.UploadProgress,loaded:J.loaded};J.lengthComputable&&(ee.total=J.total),o.next(ee)};return i.addEventListener("load",y),i.addEventListener("error",w),i.addEventListener("timeout",w),i.addEventListener("abort",w),t.reportProgress&&(i.addEventListener("progress",x),null!==u&&i.upload&&i.upload.addEventListener("progress",q)),i.send(u),o.next({type:Sr.Sent}),()=>{i.removeEventListener("error",w),i.removeEventListener("abort",w),i.removeEventListener("load",y),i.removeEventListener("timeout",w),t.reportProgress&&(i.removeEventListener("progress",x),null!==u&&i.upload&&i.upload.removeEventListener("progress",q)),i.readyState!==i.DONE&&i.abort()}})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(lr))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const d1=new e.OlP("XSRF_COOKIE_NAME"),Am=new e.OlP("XSRF_HEADER_NAME");class h1{}let lA=(()=>{class r{constructor(t,o,i){this.doc=t,this.platform=o,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=er(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(me),e.LFG(e.Lbi),e.LFG(d1))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),Im=(()=>{class r{constructor(t,o){this.tokenService=t,this.headerName=o}intercept(t,o){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return o.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),o.handle(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(h1),e.LFG(Am))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),g2=(()=>{class r{constructor(t,o){this.backend=t,this.injector=o,this.chain=null}handle(t){if(null===this.chain){const o=this.injector.get(Bc,[]);this.chain=o.reduceRight((i,u)=>new Tm(i,u),this.backend)}return this.chain.handle(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Tg),e.LFG(e.zs3))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),dA=(()=>{class r{static disable(){return{ngModule:r,providers:[{provide:Im,useClass:ja}]}}static withOptions(t={}){return{ngModule:r,providers:[t.cookieName?{provide:d1,useValue:t.cookieName}:[],t.headerName?{provide:Am,useValue:t.headerName}:[]]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[Im,{provide:Bc,useExisting:Im,multi:!0},{provide:h1,useClass:lA},{provide:d1,useValue:"XSRF-TOKEN"},{provide:Am,useValue:"X-XSRF-TOKEN"}]}),r})(),Em=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[gs,{provide:ps,useClass:g2},c1,{provide:Tg,useExisting:c1}],imports:[dA.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),r})(),ra=(()=>{class r{constructor(){this.rootUrl="http://localhost:8080/"}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Pl=(()=>{class r{constructor(t,o){this.config=t,this.http=o,this._rootUrl=""}get rootUrl(){return this._rootUrl||this.config.rootUrl}set rootUrl(t){this._rootUrl=t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ra),e.LFG(gs))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const pA=new class hA{encodeKey(n){return encodeURIComponent(n)}encodeValue(n){return encodeURIComponent(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};class jc{constructor(n,t,o,i,u){this.name=n,this.value=t,this.options=o,this.options=o||{},null==this.options.style&&(this.options.style=i),null==this.options.explode&&(this.options.explode=u)}serializeValue(n,t=","){if(null==n)return"";if(n instanceof Array)return n.map(o=>this.serializeValue(o).split(t).join(encodeURIComponent(t))).join(t);if("object"==typeof n){const o=[];for(const i of Object.keys(n)){let u=n[i];null!=u&&(u=this.serializeValue(u).split(t).join(encodeURIComponent(t)),this.options.explode?o.push(`${i}=${u}`):(o.push(i),o.push(u)))}return o.join(t)}return String(n)}}class Rl extends jc{constructor(n,t,o){super(n,t,o,"simple",!1)}append(n){let t=this.value;null==t&&(t="");let o="label"===this.options.style?".":"",i=this.options.explode?""===o?",":o:",",u=!1;return"matrix"===this.options.style&&(o=`;${this.name}=`,this.options.explode&&"object"==typeof t&&(o=";",t instanceof Array?(t=t.map(d=>`${this.name}=${this.serializeValue(d,";")}`),t=t.join(";"),u=!0):(t=this.serializeValue(t,";"),u=!0))),t=o+(u?t:this.serializeValue(t,i)),(n=n.replace(`{${this.name}}`,t)).replace(`{${o}${this.name}${this.options.explode?"*":""}}`,t)}serializeValue(n,t=","){var o="string"==typeof n?encodeURIComponent(n):super.serializeValue(n,t);return(o=(o=o.replace(/%3D/g,"=")).replace(/%3B/g,";")).replace(/%2C/g,",")}}class m2 extends jc{constructor(n,t,o){super(n,t,o,"form",!0)}append(n){if(this.value instanceof Array){if(!this.options.explode)return n.append(this.name,this.serializeValue(this.value,"spaceDelimited"===this.options.style?" ":"pipeDelimited"===this.options.style?"|":","));for(const t of this.value)n=n.append(this.name,this.serializeValue(t))}else if(null!==this.value&&"object"==typeof this.value)if("deepObject"===this.options.style)for(const t of Object.keys(this.value)){const o=this.value[t];null!=o&&(n=n.append(`${this.name}[${t}]`,this.serializeValue(o)))}else if(this.options.explode)for(const t of Object.keys(this.value)){const o=this.value[t];null!=o&&(n=n.append(t,this.serializeValue(o)))}else{const t=[];for(const o of Object.keys(this.value)){const i=this.value[o];null!=i&&(t.push(o),t.push(i))}n=n.append(this.name,this.serializeValue(t))}else null!=this.value&&(n=n.append(this.name,this.serializeValue(this.value)));return n}}class Eh extends jc{constructor(n,t,o){super(n,t,o,"simple",!1)}append(n){if(null!=this.value)if(this.value instanceof Array)for(const t of this.value)n=n.append(this.name,this.serializeValue(t));else n=n.append(this.name,this.serializeValue(this.value));return n}}class ot{constructor(n,t,o){this.rootUrl=n,this.operationPath=t,this.method=o,this._path=new Map,this._query=new Map,this._header=new Map}path(n,t,o){this._path.set(n,new Rl(n,t,o||{}))}query(n,t,o){this._query.set(n,new m2(n,t,o||{}))}header(n,t,o){this._header.set(n,new Eh(n,t,o||{}))}body(n,t="application/json"){if(this._bodyContentType=n instanceof Blob?n.type:t,"application/x-www-form-urlencoded"===this._bodyContentType&&null!==n&&"object"==typeof n){const o=[];for(const i of Object.keys(n)){let u=n[i];u instanceof Array||(u=[u]);for(const d of u){const g=this.formDataValue(d);null!==g&&o.push([i,g])}}this._bodyContent=o.map(i=>`${encodeURIComponent(i[0])}=${encodeURIComponent(i[1])}`).join("&")}else if("multipart/form-data"===this._bodyContentType){const o=new FormData;if(null!=n)for(const i of Object.keys(n)){const u=n[i];if(u instanceof Array)for(const d of u){const g=this.formDataValue(d);null!==g&&o.append(i,g)}else{const d=this.formDataValue(u);null!==d&&o.set(i,d)}}this._bodyContent=o}else this._bodyContent=n}formDataValue(n){return null==n?null:n instanceof Blob?n:"object"==typeof n?JSON.stringify(n):String(n)}build(n){n=n||{};let t=this.operationPath;for(const d of this._path.values())t=d.append(t);const o=this.rootUrl+t;let i=new Ba({encoder:pA});for(const d of this._query.values())i=d.append(i);let u=new na;n.accept&&(u=u.append("Accept",n.accept));for(const d of this._header.values())u=d.append(u);return this._bodyContentType&&!(this._bodyContent instanceof FormData)&&(u=u.set("Content-Type",this._bodyContentType)),new Ah(this.method.toUpperCase(),o,this._bodyContent,{params:i,headers:u,responseType:n.responseType,reportProgress:n.reportProgress,context:n.context})}}let fs=(()=>{class r extends Pl{constructor(t,o){super(t,o)}saveLanguage$Response(t){const o=new ot(this.rootUrl,r.SaveLanguagePath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}saveLanguage(t){return this.saveLanguage$Response(t).pipe((0,W.U)(o=>o.body))}getAllLanguages$Response(t){const o=new ot(this.rootUrl,r.GetAllLanguagesPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getAllLanguages(t){return this.getAllLanguages$Response(t).pipe((0,W.U)(o=>o.body))}getLanguageSoundClusters$Response(t){const o=new ot(this.rootUrl,r.GetLanguageSoundClustersPath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getLanguageSoundClusters(t){return this.getLanguageSoundClusters$Response(t).pipe((0,W.U)(o=>o.body))}getLanguagePhonemes$Response(t){const o=new ot(this.rootUrl,r.GetLanguagePhonemesPath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getLanguagePhonemes(t){return this.getLanguagePhonemes$Response(t).pipe((0,W.U)(o=>o.body))}saveLanguagePhoneme$Response(t){const o=new ot(this.rootUrl,r.SaveLanguagePhonemePath,"post");return t&&(o.path("languageId",t.languageId,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}saveLanguagePhoneme(t){return this.saveLanguagePhoneme$Response(t).pipe((0,W.U)(o=>o.body))}deleteLanguagePhoneme$Response(t){const o=new ot(this.rootUrl,r.DeleteLanguagePhonemePath,"delete");return t&&o.path("phonemeId",t.phonemeId,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:void 0})))}deleteLanguagePhoneme(t){return this.deleteLanguagePhoneme$Response(t).pipe((0,W.U)(o=>o.body))}getAllPartsOfSpeechByLanguage$Response(t){const o=new ot(this.rootUrl,r.GetAllPartsOfSpeechByLanguagePath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getAllPartsOfSpeechByLanguage(t){return this.getAllPartsOfSpeechByLanguage$Response(t).pipe((0,W.U)(o=>o.body))}deleteLanguage$Response(t){const o=new ot(this.rootUrl,r.DeleteLanguagePath,"delete");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:void 0})))}deleteLanguage(t){return this.deleteLanguage$Response(t).pipe((0,W.U)(o=>o.body))}canDeleteLanguage$Response(t){const o=new ot(this.rootUrl,r.CanDeleteLanguagePath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:"true"===String(i.body)})))}canDeleteLanguage(t){return this.canDeleteLanguage$Response(t).pipe((0,W.U)(o=>o.body))}}return r.SaveLanguagePath="/api/language/",r.GetAllLanguagesPath="/api/language/all",r.GetLanguageSoundClustersPath="/api/language/clusters/{languageId}",r.GetLanguagePhonemesPath="/api/language/phoneme/{languageId}",r.SaveLanguagePhonemePath="/api/language/phoneme/{languageId}",r.DeleteLanguagePhonemePath="/api/language/phoneme/{phonemeId}",r.GetAllPartsOfSpeechByLanguagePath="/api/language/pos/{languageId}",r.DeleteLanguagePath="/api/language/{languageId}",r.CanDeleteLanguagePath="/api/language/{languageId}/candelete",r.\u0275fac=function(t){return new(t||r)(e.LFG(ra),e.LFG(gs))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Dg=(()=>{class r extends Ml{constructor(t){super(),this.languagesService=t,this.langsc={}}ngOnInit(){super.ngOnInit(),this.refresh()}ngOnChanges(t){var o;t.selectedLanguage.currentValue&&(console.log(t,t.selectedLanguage.currentValue.id,null===(o=this.selectedLanguage)||void 0===o?void 0:o.id),this.refresh())}refresh(){var t,o;null!==(t=this.selectedLanguage)&&void 0!==t&&t.id&&this.languagesService.getLanguageSoundClusters({languageId:null===(o=this.selectedLanguage)||void 0===o?void 0:o.id}).subscribe(i=>{var u,d,g,y,w,D;i.constClusters=null===(u=i.constClusters)||void 0===u?void 0:u.sort((x,q)=>q.length-x.length),i.constClustersStart=null===(d=i.constClustersStart)||void 0===d?void 0:d.sort((x,q)=>q.length-x.length),i.constClustersEnd=null===(g=i.constClustersEnd)||void 0===g?void 0:g.sort((x,q)=>q.length-x.length),i.vowelClusters=null===(y=i.vowelClusters)||void 0===y?void 0:y.sort((x,q)=>q.length-x.length),i.vowelClustersStart=null===(w=i.vowelClustersStart)||void 0===w?void 0:w.sort((x,q)=>q.length-x.length),i.vowelClustersEnd=null===(D=i.vowelClustersEnd)||void 0===D?void 0:D.sort((x,q)=>q.length-x.length),this.langsc=i})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(fs))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-clusters"]],features:[e.qOj,e.TTD],decls:24,vars:6,template:function(t,o){1&t&&(e.TgZ(0,"p")(1,"span"),e._uU(2,"All consonant clusters: "),e.qZA(),e._uU(3),e.qZA(),e.TgZ(4,"p")(5,"span"),e._uU(6,"Starting consonant clusters: "),e.qZA(),e._uU(7),e.qZA(),e.TgZ(8,"p")(9,"span"),e._uU(10,"End consonant clusters: "),e.qZA(),e._uU(11),e.qZA(),e.TgZ(12,"p")(13,"span"),e._uU(14,"All vowel clusters: "),e.qZA(),e._uU(15),e.qZA(),e.TgZ(16,"p")(17,"span"),e._uU(18,"Starting vowel clusters: "),e.qZA(),e._uU(19),e.qZA(),e.TgZ(20,"p")(21,"span"),e._uU(22,"End vowel clusters: "),e.qZA(),e._uU(23),e.qZA()),2&t&&(e.xp6(3),e.Oqu(o.langsc.constClusters),e.xp6(4),e.Oqu(o.langsc.constClustersStart),e.xp6(4),e.Oqu(o.langsc.constClustersEnd),e.xp6(4),e.Oqu(o.langsc.vowelClusters),e.xp6(4),e.Oqu(o.langsc.vowelClustersStart),e.xp6(4),e.Oqu(o.langsc.vowelClustersEnd))}}),r})();const gA=["col"],oa=["app-horizontal-dash",""];let An=(()=>{class r{constructor(t,o){this.cdRef=t,this.router=o,this.bcol=""}ngOnInit(){}onResize(){this.resizeDash()}ngAfterViewChecked(){this.resizeDash()}resizeDash(){var t;const o=Math.max(0,Math.floor(((null===(t=this.col)||void 0===t?void 0:t.nativeElement.offsetWidth)-1)/8)),i=this.bcol;this.bcol=o?(this.symbol?this.symbol:"-").repeat(o):"",i!==this.bcol&&this.cdRef.detectChanges()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(Qn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["th","app-horizontal-dash",""]],viewQuery:function(t,o){if(1&t&&e.Gf(gA,5),2&t){let i;e.iGM(i=e.CRH())&&(o.col=i.first)}},hostBindings:function(t,o){1&t&&e.NdJ("resize",function(u){return o.onResize(u)},!1,e.Jf7)},inputs:{symbol:"symbol"},attrs:oa,decls:3,vars:1,consts:[[1,"border","th-span"],["col",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0,1),e._uU(2),e.qZA()),2&t&&(e.xp6(2),e.Oqu(o.bcol))},styles:[".th-span[_ngcontent-%COMP%]{width:100%;min-width:10px}"]}),r})();var Qr=P(4986),Ol=P(3532);const Dm=["row"],$c=["app-vertical-dash",""];let Mi=(()=>{class r{constructor(t,o){this.cdRef=t,this.router=o,this.brow="",this.deleted=!1,o.events.subscribe(i=>{this.brow="",this.cdRef.detectChanges(),function Ui(r=0,n,t=Qr.P){let o=-1;return null!=n&&((0,Ol.K)(n)?t=n:o=n),new Jr.y(i=>{let u=function Sg(r){return r instanceof Date&&!isNaN(r)}(r)?+r-t.now():r;u<0&&(u=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=o?this.schedule(void 0,o):i.complete())},u)})}(10).subscribe(()=>{this.resizeDash()})})}ngOnInit(){}onResize(){this.resizeDash()}ngAfterViewChecked(){this.resizeDash()}resizeDash(){var t;const o=Math.max(0,Math.floor((null===(t=this.row)||void 0===t?void 0:t.nativeElement.parentNode.offsetHeight)/16)),i=this.brow;this.brow=o?"|\n".repeat(o):"",i!==this.brow&&this.cdRef.detectChanges()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(Qn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["th","app-vertical-dash",""]],viewQuery:function(t,o){if(1&t&&e.Gf(Dm,5),2&t){let i;e.iGM(i=e.CRH())&&(o.row=i.first)}},hostBindings:function(t,o){1&t&&e.NdJ("resize",function(u){return o.onResize(u)},!1,e.Jf7)},inputs:{symbol:"symbol"},attrs:$c,decls:3,vars:1,consts:[[1,"border","td-span"],["row",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0,1),e._uU(2),e.qZA()),2&t&&(e.xp6(2),e.Oqu(o.brow))},styles:[".td-span[_ngcontent-%COMP%]{width:100%;height:100%;min-height:10px}"]}),r})();class Ll{constructor(n){Object.assign(this,n)}}let ia=(()=>{class r{constructor(){}match(t,o=[],i){return new Ll(i||{}),new Jr.y(d=>{})}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Gc(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",6),e._uU(1,"[ "),e.TgZ(2,"a",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.editComment=!0)}),e._uU(3,"Description"),e.qZA(),e._uU(4," ] "),e.qZA()}}function g1(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"Description"),e.qZA())}function f1(r,n){if(1&r&&(e.TgZ(0,"th",8),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.selectedLanguage.comment)}}function _1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",8)(1,"textarea",16),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const u=e.oxw(2);return e.KtG(u.selectedLanguage.comment=i)}),e.qZA()()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.selectedLanguage.comment)("cols",20)("rows",5)}}function m1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"[ "),e.TgZ(2,"a",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.saveChanges())}),e._uU(3,"Save"),e.qZA(),e._uU(4," ]"),e.qZA()}}function y1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"[ Save ]"),e.qZA())}function v1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"[ "),e.TgZ(2,"a",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.deleteLanguage())}),e._uU(3,"Delete"),e.qZA(),e._uU(4," ]"),e.qZA()}}function C1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"[ Delete ]"),e.qZA())}function T1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"table",1)(1,"colgroup"),e._UZ(2,"col",2)(3,"col",3)(4,"col",4)(5,"col",5),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",6),e._uU(9,"Display Name"),e.qZA(),e.TgZ(10,"th",7),e._uU(11,"|"),e._UZ(12,"br"),e._uU(13,"|"),e.qZA(),e.TgZ(14,"th",8)(15,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedLanguage.displayName=i)}),e.qZA()(),e.TgZ(16,"th",10),e._uU(17," |"),e._UZ(18,"br"),e._uU(19,"| "),e.qZA()(),e.TgZ(20,"tr")(21,"th",6),e._uU(22,"Native Name"),e.qZA(),e.TgZ(23,"th",7),e._uU(24,"|"),e._UZ(25,"br"),e._uU(26,"|"),e.qZA(),e.TgZ(27,"th",8)(28,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedLanguage.nativeName=i)}),e.qZA()(),e.TgZ(29,"th",10),e._uU(30,"|"),e._UZ(31,"br"),e._uU(32,"|"),e.qZA()(),e.TgZ(33,"tr"),e.YNc(34,Gc,5,0,"th",11),e.YNc(35,g1,2,0,"th",11),e.TgZ(36,"th",7),e._uU(37,"|"),e._UZ(38,"br"),e._uU(39,"|"),e._UZ(40,"br"),e._uU(41,"|"),e._UZ(42,"br"),e._uU(43,"|"),e._UZ(44,"br"),e._uU(45,"|"),e._UZ(46,"br"),e._uU(47,"|"),e.qZA(),e.YNc(48,f1,2,1,"th",12),e.YNc(49,_1,2,3,"th",12),e.TgZ(50,"th",10),e._uU(51," |"),e._UZ(52,"br"),e._uU(53,"|"),e._UZ(54,"br"),e._uU(55,"|"),e._UZ(56,"br"),e._uU(57,"|"),e._UZ(58,"br"),e._uU(59,"|"),e._UZ(60,"br"),e._uU(61,"| "),e.qZA()(),e._UZ(62,"tr"),e.TgZ(63,"tr"),e._UZ(64,"th",13),e.TgZ(65,"th",7),e.YNc(66,m1,5,0,"span",14),e.YNc(67,y1,2,0,"span",14),e._uU(68,"-"),e.YNc(69,v1,5,0,"span",14),e.YNc(70,C1,2,0,"span",14),e._uU(71,"-+ "),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(15),e.Q6J("ngModel",t.selectedLanguage.displayName),e.xp6(13),e.Q6J("ngModel",t.selectedLanguage.nativeName),e.xp6(6),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("ngIf",t.editComment),e.xp6(13),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("ngIf",t.editComment),e.xp6(17),e.Q6J("ngIf",t.canUpdate),e.xp6(1),e.Q6J("ngIf",!t.canUpdate),e.xp6(2),e.Q6J("ngIf",t.canDelete),e.xp6(1),e.Q6J("ngIf",!t.canDelete)}}let Sm=(()=>{class r extends Ml{constructor(t){super(),this.languagesService=t,this.editComment=!1,this.canUpdate=!1,this.canDelete=!1,this.onDeleteLanguage=new e.vpe}ngOnInit(){super.ngOnInit(),this.refresh()}ngOnChanges(t){var o;t.selectedLanguage.currentValue&&(console.log(t,t.selectedLanguage.currentValue.id,null===(o=this.selectedLanguage)||void 0===o?void 0:o.id),this.refresh())}saveChanges(){this.selectedLanguage&&this.languagesService.saveLanguage({body:this.selectedLanguage}).subscribe(t=>{this.canUpdate=!1,this.editComment=!1})}deleteLanguage(){var t;null!==(t=this.selectedLanguage)&&void 0!==t&&t.id&&this.onDeleteLanguage.emit(this.selectedLanguage.id)}refresh(){var t,o;this.canUpdate=!1,this.editComment=!1,this.canDelete=!1,null!==(t=this.selectedLanguage)&&void 0!==t&&t.id&&this.languagesService.canDeleteLanguage({languageId:null===(o=this.selectedLanguage)||void 0===o?void 0:o.id}).subscribe(i=>{this.canDelete=i})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(fs))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-description"]],outputs:{onDeleteLanguage:"onDeleteLanguage"},features:[e.qOj,e.TTD],decls:1,vars:1,consts:[["style","width: 100%; height: 100%",4,"ngIf"],[2,"width","100%","height","100%"],["span","1",2,"width","200px","text-align","right"],["span","1",1,"border",2,"width","32px"],["span","1",2,"width","auto"],["span","1",2,"width","169px"],[2,"text-align","right"],[1,"border"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],[1,"border",2,"text-align","right"],["style","text-align: right",4,"ngIf"],["style","text-align: left",4,"ngIf"],["app-horizontal-dash","","colspan","3",1,"border"],[4,"ngIf"],[1,"text-yellow-dull",3,"click"],[2,"width","100%",3,"ngModel","cols","rows","ngModelChange"],[1,"text-green-dull",3,"click"],[1,"text-red-dull",3,"click"]],template:function(t,o){1&t&&e.YNc(0,T1,72,10,"table",0),2&t&&e.Q6J("ngIf",o.selectedLanguage&&o.selectedLanguage.id)},dependencies:[It,Zn,Dn,mn,An]}),r})(),Pi=(()=>{class r extends Pl{constructor(t,o){super(t,o)}getAllPos$Response(t){const o=new ot(this.rootUrl,r.GetAllPosPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getAllPos(t){return this.getAllPos$Response(t).pipe((0,W.U)(o=>o.body))}savePos$Response(t){const o=new ot(this.rootUrl,r.SavePosPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:parseFloat(String(i.body))})))}savePos(t){return this.savePos$Response(t).pipe((0,W.U)(o=>o.body))}getAllPosByLanguage$Response(t){const o=new ot(this.rootUrl,r.GetAllPosByLanguagePath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getAllPosByLanguage(t){return this.getAllPosByLanguage$Response(t).pipe((0,W.U)(o=>o.body))}saveLanguagePos$Response(t){const o=new ot(this.rootUrl,r.SaveLanguagePosPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:parseFloat(String(i.body))})))}saveLanguagePos(t){return this.saveLanguagePos$Response(t).pipe((0,W.U)(o=>o.body))}deleteLanguagePos$Response(t){const o=new ot(this.rootUrl,r.DeleteLanguagePosPath,"delete");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:void 0})))}deleteLanguagePos(t){return this.deleteLanguagePos$Response(t).pipe((0,W.U)(o=>o.body))}getPosByLanguage$Response(t){const o=new ot(this.rootUrl,r.GetPosByLanguagePath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getPosByLanguage(t){return this.getPosByLanguage$Response(t).pipe((0,W.U)(o=>o.body))}}return r.GetAllPosPath="/api/pos",r.SavePosPath="/api/pos",r.GetAllPosByLanguagePath="/api/pos/language/{languageId}",r.SaveLanguagePosPath="/api/pos/languagepos",r.DeleteLanguagePosPath="/api/pos/languagepos/{id}",r.GetPosByLanguagePath="/api/pos/languagepos/{languageId}",r.\u0275fac=function(t){return new(t||r)(e.LFG(ra),e.LFG(gs))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function fA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._UZ(1,"br"),e._uU(2," [ "),e.TgZ(3,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.saveChanges())}),e._uU(4,"Update"),e.qZA(),e._uU(5," ] "),e.qZA()}}function _A(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"table",1)(1,"colgroup"),e._UZ(2,"col",2)(3,"col",3)(4,"col",4)(5,"col",5),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",6),e._uU(9,"Name"),e.qZA(),e._UZ(10,"th",7),e.TgZ(11,"th",8)(12,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedPos.name=i)}),e.qZA()(),e._UZ(13,"th",10),e.qZA(),e.TgZ(14,"tr")(15,"th",6),e._uU(16,"Abbreviation"),e.qZA(),e._UZ(17,"th",7),e.TgZ(18,"th",8)(19,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedPos.abbreviation=i)}),e.qZA()(),e._UZ(20,"th",10),e.qZA(),e.TgZ(21,"tr"),e._UZ(22,"th",10),e.qZA(),e.TgZ(23,"tr")(24,"th",7),e.YNc(25,fA,6,0,"span",11),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(12),e.Q6J("ngModel",t.selectedPos.name),e.xp6(7),e.Q6J("ngModel",t.selectedPos.abbreviation),e.xp6(5),e.uIk("colspan",4),e.xp6(1),e.Q6J("ngIf",t.canUpdate)}}let w1=(()=>{class r extends Ml{constructor(t){super(),this.posService=t,this.editComment=!1,this.canUpdate=!1}saveChanges(){this.selectedPos&&this.posService.savePos({body:this.selectedPos}).subscribe(t=>{this.canUpdate=!1})}clickEditComment(){this.editComment=!0}clickSaveComment(){this.editComment=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Pi))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-pos-details"]],inputs:{selectedPos:"selectedPos"},features:[e.qOj],decls:1,vars:1,consts:[["style","width: 100%",4,"ngIf"],[2,"width","100%"],["span","1",2,"width","200px","text-align","right"],["span","1",1,"border",2,"width","32px"],["span","1",2,"width","auto"],["span","1",2,"width","81px"],[2,"text-align","right"],[1,"border"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],[1,"border",2,"text-align","right"],[4,"ngIf"],[1,"text-green-dull",3,"click"]],template:function(t,o){1&t&&e.YNc(0,_A,26,4,"table",0),2&t&&e.Q6J("ngIf",o.selectedPos&&o.selectedPos.id)},dependencies:[It,Zn,Dn,mn]}),r})();function mA(r,n){if(1&r&&(e.TgZ(0,"th",15),e._UZ(1,"app-pos-details",16),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("selectedLanguage",t.selectedLanguage)("selectedPos",t.selectedPos)}}function yA(r,n){1&r&&e._UZ(0,"th",17)}function xm(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th",10)(2,"a",11),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.connectPosToLanguage(u))}),e._uU(3),e.qZA()(),e.TgZ(4,"th",6),e._uU(5,"|"),e.qZA(),e.TgZ(6,"th",12)(7,"a",11),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.selectedPos=u)}),e._uU(8),e.qZA()(),e.TgZ(9,"th",12),e._uU(10),e.qZA(),e.YNc(11,mA,2,2,"th",13),e.YNc(12,yA,1,0,"th",14),e.qZA()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();let u,d;e.xp6(1),e.Q6J("ngClass",(null==i.selectedPos?null:i.selectedPos.id)===t.id?"selectedTh":""),e.xp6(1),e.Q6J("ngClass",null!=(u=i.getLanguagePos(t))&&u.connectedToLanguage?null!=(u=i.getLanguagePos(t))&&u.usedInLanguage?"text-green-dull":"text-yellow-dull":null!=(u=i.getLanguagePos(t))&&u.usedInLanguage?"text-red-dull":"text-grey-dull"),e.xp6(1),e.Oqu(null!=(d=i.getLanguagePos(t))&&d.connectedToLanguage?"o":"x"),e.xp6(3),e.Q6J("ngClass",(null==i.selectedPos?null:i.selectedPos.id)===t.id?"selectedTh":""),e.xp6(1),e.Q6J("ngClass",(null==i.selectedPos?null:i.selectedPos.id)===t.id?"text-main":i.getLanguagePosSymbol(t)?"text-grey":"text-grey-dull"),e.xp6(1),e.Oqu(t.name),e.xp6(1),e.Q6J("ngClass",(null==i.selectedPos?null:i.selectedPos.id)===t.id?"selectedTh":""),e.xp6(1),e.Oqu((null==i.selectedPos?null:i.selectedPos.id)===t.id?"":"|"),e.xp6(1),e.Q6J("ngIf",0==o),e.xp6(1),e.Q6J("ngIf",0==o)}}let Zm=(()=>{class r extends Ml{constructor(t){super(),this.posService=t,this.pos=[],this.lp=[]}ngOnInit(){super.ngOnInit(),this.posService.getAllPos().subscribe(t=>this.pos=t.sort((o,i)=>o.name?o.name.localeCompare(i.name?i.name:""):-1))}ngOnChanges(t){t.selectedLanguage.currentValue&&(console.log(t,t.selectedLanguage.currentValue.id),t.selectedLanguage.currentValue.id&&this.posService.getPosByLanguage({languageId:t.selectedLanguage.currentValue.id}).subscribe(o=>this.lp=o))}addNewPOS(){const t={name:"new part of speech"};this.posService.savePos({body:t}).subscribe(o=>{t.id=o,this.selectedPos=t,this.pos.push(t)})}getLanguagePosSymbol(t){return!!this.selectedLanguage&&this.lp.filter(o=>{var i;return o.languageId===(null===(i=this.selectedLanguage)||void 0===i?void 0:i.id)&&o.posId===t.id}).length>0}getLanguagePos(t){if(this.selectedLanguage)return this.lp.find(o=>{var i;return(null==o?void 0:o.languageId)===(null===(i=this.selectedLanguage)||void 0===i?void 0:i.id)&&(null==o?void 0:o.posId)===t.id})}connectPosToLanguage(t){var o,i,u,d;if(console.log("connectPosToLanguage",t),null!==(o=this.getLanguagePos(t))&&void 0!==o&&o.connectedToLanguage){if(null!==(i=this.selectedLanguage)&&void 0!==i&&i.id){const g=this.lp.find(y=>{var w;return y.languageId===(null===(w=this.selectedLanguage)||void 0===w?void 0:w.id)&&y.posId===t.id});g&&g.id&&this.posService.deleteLanguagePos({id:g.id}).subscribe(()=>{const y=this.lp.find(w=>w.id===g.id);null!=y&&y.usedInLanguage?y.connectedToLanguage=!1:this.lp=this.lp.filter(w=>w.id!==g.id)})}}else if(null!==(u=this.selectedLanguage)&&void 0!==u&&u.id){const g={languageId:null===(d=this.selectedLanguage)||void 0===d?void 0:d.id,posId:t.id};this.posService.saveLanguagePos({body:g}).subscribe(y=>{g.id=y;const w=this.lp.find(D=>{var x;return D.posId===t.id&&D.languageId===(null===(x=this.selectedLanguage)||void 0===x?void 0:x.id)});w?(console.log("found!",w),w.id=y,w.connectedToLanguage=!0):(g.connectedToLanguage=!0,this.lp.push(g))})}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Pi))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-pos"]],features:[e.qOj,e.TTD],decls:23,vars:1,consts:[["span","1",1,"border",2,"width","17px"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","calc(30% - 41px)"],["span","1",1,"border",2,"width","70%"],[4,"ngFor","ngForOf"],["app-horizontal-dash","","colspan","3"],[1,"border"],["colspan","2"],[1,"text-green-dull",3,"click"],["app-horizontal-dash","","colspan","5"],[3,"ngClass"],[3,"ngClass","click"],[1,"border",3,"ngClass"],["class","border","rowspan","0","style","vertical-align: top;",4,"ngIf"],["app-vertical-dash","","class","border","rowspan","0",4,"ngIf"],["rowspan","0",1,"border",2,"vertical-align","top"],[3,"selectedLanguage","selectedPos"],["app-vertical-dash","","rowspan","0",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",1)(6,"col",3)(7,"col",1),e.qZA(),e.TgZ(8,"tbody"),e.YNc(9,xm,13,10,"tr",4),e.TgZ(10,"tr"),e._UZ(11,"th",5),e.TgZ(12,"th",6),e._uU(13,"+"),e.qZA()(),e.TgZ(14,"tr"),e._UZ(15,"th",7),e.TgZ(16,"th")(17,"a",8),e.NdJ("click",function(){return o.addNewPOS()}),e._uU(18,"[ + ]"),e.qZA()(),e.TgZ(19,"th",6),e._uU(20,"|"),e.qZA()(),e.TgZ(21,"tr"),e._UZ(22,"th",9),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("ngForOf",o.pos))},dependencies:[Vn,dt,It,An,Mi,w1],styles:[".selectedTh[_ngcontent-%COMP%]{background-color:#333}"]}),r})(),vA=(()=>{class r{constructor(){this.sounds=[],this.consonantVariants=["\u02b0","\u02b7","\u02b2","\u02b7\u02b0","\u02d0"]}addPhonetic(t){this.sounds.includes(t)||this.sounds.push(t)}getConsonantVariants(){return this.consonantVariants}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function xg(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",0),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw(2);return e.KtG(u.onClick.emit(u.phonetic+i))}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw().$implicit,o=e.oxw(2);e.Q6J("ngClass",o.getClass(o.phonetic+t)),e.xp6(1),e.Oqu(t)}}function Zg(r,n){if(1&r&&(e.ynx(0),e.YNc(1,xg,2,2,"a",4),e.BQk()),2&r){const t=n.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.includesVariant(o.phonetic+t))}}function km(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Zg,2,1,"ng-container",3),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.constonantVariants)}}function CA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span",5),e._uU(1," ("),e.TgZ(2,"a",0),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onClick.emit(i.phonetic+"\u02d0"))}),e._uU(3),e.qZA(),e._uU(4,")"),e.qZA()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",t.getClass(t.phonetic+"\u02d0")),e.xp6(1),e.Oqu(t.phonetic+"\u02d0")}}let Fl=(()=>{class r{constructor(t){this.ipaService=t,this.vowel=!1,this.consonant=!1,this.onClick=new e.vpe,this.constonantVariants=t.getConsonantVariants()}ngOnInit(){}getClass(t){var o,i,u,d,g,y,w,D,x,q,J,ee;return(null===(i=null===(o=this.languageSounds)||void 0===o?void 0:o.selectedMainPhonemes)||void 0===i?void 0:i.filter(Ne=>Ne.phoneme===t).length)||(null===(d=null===(u=this.languageSounds)||void 0===u?void 0:u.selectedRestPhonemes)||void 0===d?void 0:d.filter(Ne=>Ne.phoneme===t).length)?(null===(y=null===(g=this.languageSounds)||void 0===g?void 0:g.usedMainPhonemes)||void 0===y?void 0:y.includes(t))||(null===(D=null===(w=this.languageSounds)||void 0===w?void 0:w.restUsedPhonemes)||void 0===D?void 0:D.includes(t))?"text-green-dull":"text-yellow-dull":(null===(q=null===(x=this.languageSounds)||void 0===x?void 0:x.usedMainPhonemes)||void 0===q?void 0:q.includes(t))||(null===(ee=null===(J=this.languageSounds)||void 0===J?void 0:J.restUsedPhonemes)||void 0===ee?void 0:ee.includes(t))?"text-red-dull":"text-grey-dull"}includesVariant(t){var o,i,u,d,g,y,w,D;return!!((null===(i=null===(o=this.languageSounds)||void 0===o?void 0:o.usedMainPhonemes)||void 0===i?void 0:i.includes(t))||(null===(d=null===(u=this.languageSounds)||void 0===u?void 0:u.restUsedPhonemes)||void 0===d?void 0:d.includes(t))||(null===(y=null===(g=this.languageSounds)||void 0===g?void 0:g.selectedMainPhonemes)||void 0===y?void 0:y.filter(x=>x.phoneme===t).length)||(null===(D=null===(w=this.languageSounds)||void 0===w?void 0:w.selectedRestPhonemes)||void 0===D?void 0:D.filter(x=>x.phoneme===t).length))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(vA))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-phonetic-btn"]],inputs:{phonetic:"phonetic",vowel:"vowel",consonant:"consonant",languageSounds:"languageSounds"},outputs:{onClick:"onClick"},decls:4,vars:4,consts:[[3,"ngClass","click"],[4,"ngIf"],["class","text-grey-dull",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngClass","click",4,"ngIf"],[1,"text-grey-dull"]],template:function(t,o){1&t&&(e.TgZ(0,"a",0),e.NdJ("click",function(){return o.onClick.emit(o.phonetic)}),e._uU(1),e.qZA(),e.YNc(2,km,2,1,"ng-container",1),e.YNc(3,CA,5,2,"span",2)),2&t&&(e.Q6J("ngClass",o.getClass(o.phonetic)),e.xp6(1),e.Oqu(o.phonetic),e.xp6(1),e.Q6J("ngIf",o.consonant),e.xp6(1),e.Q6J("ngIf",o.vowel))},dependencies:[Vn,dt,It]}),r})(),kg=(()=>{class r{constructor(t,o){this.cdRef=t,this.languagesService=o,this.onClick=new e.vpe}ngOnInit(){}ngOnChanges(t){console.log("pulmonic consonants changes",t)}clicked(t){this.onClick.emit(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(fs))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-pulmonic-consonants"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},features:[e.TTD],decls:1294,vars:454,consts:[["span","1",2,"width","auto"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","3.16766212%"],["colspan","37"],["app-horizontal-dash",""],["app-horizontal-dash","","colspan","35"],[2,"text-align","right"],["colspan","6"],["colspan","14"],["colspan","7"],["colspan","5"],["colspan","2","app-horizontal-dash",""],[2,"text-align","left"],["colspan","2"],["title","Labio-dental"],["title","Linguo-labial"],["title","Post-alveolar"],["title","Retro-flex"],["title","Pharyngeal/Epi-glottal"],[3,"consonant","languageSounds","phonetic","onClick"],["colspan","3"],["colspan","8","app-horizontal-dash",""],["colspan","5","app-horizontal-dash",""],["colspan","8"],["colspan","11"],["app-horizontal-dash","","colspan","37"],["colspan","35",2,"text-align","left"],[3,"languageSounds","phonetic","onClick"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",2)(6,"col",1)(7,"col",2)(8,"col",2)(9,"col",1)(10,"col",2)(11,"col",2)(12,"col",1)(13,"col",2)(14,"col",2)(15,"col",1)(16,"col",2)(17,"col",2)(18,"col",1)(19,"col",2)(20,"col",2)(21,"col",1)(22,"col",2)(23,"col",2)(24,"col",1)(25,"col",2)(26,"col",2)(27,"col",1)(28,"col",2)(29,"col",2)(30,"col",1)(31,"col",2)(32,"col",2)(33,"col",1)(34,"col",2)(35,"col",2)(36,"col",1)(37,"col",2)(38,"col",2)(39,"col",1),e.qZA(),e.TgZ(40,"tbody")(41,"tr")(42,"th",3),e._uU(43," --- PLUMONIC CONSONANTS --- "),e.qZA(),e.TgZ(44,"th"),e._uU(45,"|"),e.qZA()(),e.TgZ(46,"tr"),e._UZ(47,"th",4),e.TgZ(48,"th"),e._uU(49,"+"),e.qZA(),e._UZ(50,"th",5),e.TgZ(51,"th"),e._uU(52,"+"),e.qZA()(),e.TgZ(53,"tr")(54,"th",6),e._uU(55,"Place"),e.qZA(),e.TgZ(56,"th"),e._uU(57,"|"),e.qZA(),e.TgZ(58,"th",7),e._uU(59,"Labial"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"|"),e.qZA(),e.TgZ(62,"th",8),e._uU(63,"Coronal"),e.qZA(),e.TgZ(64,"th"),e._uU(65,"|"),e.qZA(),e.TgZ(66,"th",9),e._uU(67,"Dorsal"),e.qZA(),e.TgZ(68,"th"),e._uU(69,"|"),e.qZA(),e.TgZ(70,"th",10),e._uU(71,"Laryngeal"),e.qZA(),e.TgZ(72,"th"),e._uU(73,"|"),e.qZA()(),e.TgZ(74,"tr"),e._UZ(75,"th"),e.TgZ(76,"th"),e._uU(77,"|"),e.qZA(),e._UZ(78,"th",11),e.TgZ(79,"th"),e._uU(80,"+"),e.qZA(),e._UZ(81,"th",11),e.TgZ(82,"th"),e._uU(83,"+"),e.qZA(),e._UZ(84,"th",11),e.TgZ(85,"th"),e._uU(86,"+"),e.qZA(),e._UZ(87,"th",11),e.TgZ(88,"th"),e._uU(89,"+"),e.qZA(),e._UZ(90,"th",11),e.TgZ(91,"th"),e._uU(92,"+"),e.qZA(),e._UZ(93,"th",11),e.TgZ(94,"th"),e._uU(95,"+"),e.qZA(),e._UZ(96,"th",11),e.TgZ(97,"th"),e._uU(98,"+"),e.qZA(),e._UZ(99,"th",11),e.TgZ(100,"th"),e._uU(101,"+"),e.qZA(),e._UZ(102,"th",11),e.TgZ(103,"th"),e._uU(104,"+"),e.qZA(),e._UZ(105,"th",11),e.TgZ(106,"th"),e._uU(107,"+"),e.qZA(),e._UZ(108,"th",11),e.TgZ(109,"th"),e._uU(110,"+"),e.qZA(),e._UZ(111,"th",11),e.TgZ(112,"th"),e._uU(113,"+"),e.qZA()(),e.TgZ(114,"tr")(115,"th",12),e._uU(116,"Manner"),e.qZA(),e.TgZ(117,"th"),e._uU(118,"|"),e.qZA(),e.TgZ(119,"th",13),e._uU(120,"Bilabial"),e.qZA(),e.TgZ(121,"th"),e._uU(122,"|"),e.qZA(),e.TgZ(123,"th",13)(124,"abbr",14),e._uU(125,"LD"),e.qZA()(),e.TgZ(126,"th"),e._uU(127,"|"),e.qZA(),e.TgZ(128,"th",13)(129,"abbr",15),e._uU(130,"LL"),e.qZA()(),e.TgZ(131,"th"),e._uU(132,"|"),e.qZA(),e.TgZ(133,"th",13),e._uU(134,"Dental"),e.qZA(),e.TgZ(135,"th"),e._uU(136,"|"),e.qZA(),e.TgZ(137,"th",13),e._uU(138,"Alveolar"),e.qZA(),e.TgZ(139,"th"),e._uU(140,"|"),e.qZA(),e.TgZ(141,"th",13)(142,"abbr",16),e._uU(143,"PA"),e.qZA()(),e.TgZ(144,"th"),e._uU(145,"|"),e.qZA(),e.TgZ(146,"th",13)(147,"abbr",17),e._uU(148,"RF"),e.qZA()(),e.TgZ(149,"th"),e._uU(150,"|"),e.qZA(),e.TgZ(151,"th",13),e._uU(152,"Palatal"),e.qZA(),e.TgZ(153,"th"),e._uU(154,"|"),e.qZA(),e.TgZ(155,"th",13),e._uU(156,"Velar"),e.qZA(),e.TgZ(157,"th"),e._uU(158,"|"),e.qZA(),e.TgZ(159,"th",13),e._uU(160,"Uvular"),e.qZA(),e.TgZ(161,"th"),e._uU(162,"|"),e.qZA(),e.TgZ(163,"th",13)(164,"abbr",18),e._uU(165,"P/EG"),e.qZA()(),e.TgZ(166,"th"),e._uU(167,"|"),e.qZA(),e.TgZ(168,"th",13),e._uU(169,"Glottal"),e.qZA(),e.TgZ(170,"th"),e._uU(171,"|"),e.qZA()(),e.TgZ(172,"tr"),e._UZ(173,"th",4),e.TgZ(174,"th"),e._uU(175,"+"),e.qZA(),e._UZ(176,"th",11),e.TgZ(177,"th"),e._uU(178,"+"),e.qZA(),e._UZ(179,"th",11),e.TgZ(180,"th"),e._uU(181,"+"),e.qZA(),e._UZ(182,"th",11),e.TgZ(183,"th"),e._uU(184,"+"),e.qZA(),e._UZ(185,"th",11),e.TgZ(186,"th"),e._uU(187,"+"),e.qZA(),e._UZ(188,"th",11),e.TgZ(189,"th"),e._uU(190,"+"),e.qZA(),e._UZ(191,"th",11),e.TgZ(192,"th"),e._uU(193,"+"),e.qZA(),e._UZ(194,"th",11),e.TgZ(195,"th"),e._uU(196,"+"),e.qZA(),e._UZ(197,"th",11),e.TgZ(198,"th"),e._uU(199,"+"),e.qZA(),e._UZ(200,"th",11),e.TgZ(201,"th"),e._uU(202,"+"),e.qZA(),e._UZ(203,"th",11),e.TgZ(204,"th"),e._uU(205,"+"),e.qZA(),e._UZ(206,"th",11),e.TgZ(207,"th"),e._uU(208,"+"),e.qZA(),e._UZ(209,"th",11),e.TgZ(210,"th"),e._uU(211,"+"),e.qZA()(),e.TgZ(212,"tr")(213,"th"),e._uU(214,"Nasal"),e.qZA(),e.TgZ(215,"th"),e._uU(216,"|"),e.qZA(),e.TgZ(217,"th")(218,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(219,"th")(220,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(221,"th"),e._uU(222,"|"),e.qZA(),e.TgZ(223,"th",13)(224,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(225,"th"),e._uU(226,"|"),e.qZA(),e.TgZ(227,"th",13)(228,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(229,"th"),e._uU(230,"|"),e.qZA(),e._UZ(231,"th"),e.TgZ(232,"th",20)(233,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(234,"th",20)(235,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(236,"th"),e.TgZ(237,"th"),e._uU(238,"|"),e.qZA(),e.TgZ(239,"th")(240,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(241,"th")(242,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(243,"th"),e._uU(244,"|"),e.qZA(),e.TgZ(245,"th")(246,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(247,"th")(248,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(249,"th"),e._uU(250,"|"),e.qZA(),e.TgZ(251,"th")(252,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(253,"th")(254,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(255,"th"),e._uU(256,"|"),e.qZA(),e.TgZ(257,"th",13)(258,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(259,"th"),e._uU(260,"|"),e.qZA(),e._UZ(261,"th",10),e.TgZ(262,"th"),e._uU(263,"|"),e.qZA()(),e.TgZ(264,"tr"),e._UZ(265,"th",4),e.TgZ(266,"th"),e._uU(267,"+"),e.qZA(),e._UZ(268,"th",11),e.TgZ(269,"th"),e._uU(270,"+"),e.qZA(),e._UZ(271,"th",11),e.TgZ(272,"th"),e._uU(273,"+"),e.qZA(),e._UZ(274,"th",11),e.TgZ(275,"th"),e._uU(276,"+"),e.qZA(),e._UZ(277,"th",21),e.TgZ(278,"th"),e._uU(279,"+"),e.qZA(),e._UZ(280,"th",11),e.TgZ(281,"th"),e._uU(282,"+"),e.qZA(),e._UZ(283,"th",11),e.TgZ(284,"th"),e._uU(285,"+"),e.qZA(),e._UZ(286,"th",11),e.TgZ(287,"th"),e._uU(288,"+"),e.qZA(),e._UZ(289,"th",11),e.TgZ(290,"th"),e._uU(291,"+"),e.qZA(),e._UZ(292,"th",11),e.TgZ(293,"th"),e._uU(294,"+"),e.qZA(),e._UZ(295,"th",11),e.TgZ(296,"th"),e._uU(297,"+"),e.qZA()(),e.TgZ(298,"tr")(299,"th"),e._uU(300,"Plosive"),e.qZA(),e.TgZ(301,"th"),e._uU(302,"|"),e.qZA(),e.TgZ(303,"th")(304,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(305,"th")(306,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(307,"th"),e._uU(308,"|"),e.qZA(),e.TgZ(309,"th")(310,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(311,"th")(312,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(313,"th"),e._uU(314,"|"),e.qZA(),e.TgZ(315,"th")(316,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(317,"th")(318,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(319,"th"),e._uU(320,"|"),e.qZA(),e._UZ(321,"th"),e.TgZ(322,"th",20)(323,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(324,"th",20)(325,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(326,"th"),e.TgZ(327,"th"),e._uU(328,"|"),e.qZA(),e.TgZ(329,"th")(330,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(331,"th")(332,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(333,"th"),e._uU(334,"|"),e.qZA(),e.TgZ(335,"th")(336,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(337,"th")(338,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(339,"th"),e._uU(340,"|"),e.qZA(),e.TgZ(341,"th")(342,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(343,"th")(344,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(345,"th"),e._uU(346,"|"),e.qZA(),e.TgZ(347,"th")(348,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(349,"th")(350,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(351,"th"),e._uU(352,"|"),e.qZA(),e.TgZ(353,"th",13)(354,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(355,"th"),e._uU(356,"|"),e.qZA(),e.TgZ(357,"th",13)(358,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(359,"th"),e._uU(360,"|"),e.qZA()(),e.TgZ(361,"tr"),e._UZ(362,"th",4),e.TgZ(363,"th"),e._uU(364,"+"),e.qZA(),e._UZ(365,"th",11),e.TgZ(366,"th"),e._uU(367,"+"),e.qZA(),e._UZ(368,"th",11),e.TgZ(369,"th"),e._uU(370,"+"),e.qZA(),e._UZ(371,"th",11),e.TgZ(372,"th"),e._uU(373,"+"),e.qZA(),e._UZ(374,"th",22),e.TgZ(375,"th"),e._uU(376,"+"),e.qZA(),e._UZ(377,"th",11),e.TgZ(378,"th"),e._uU(379,"+"),e.qZA(),e._UZ(380,"th",11),e.TgZ(381,"th"),e._uU(382,"+"),e.qZA(),e._UZ(383,"th",11),e.TgZ(384,"th"),e._uU(385,"+"),e.qZA(),e._UZ(386,"th",11),e.TgZ(387,"th"),e._uU(388,"+"),e.qZA(),e._UZ(389,"th",11),e.TgZ(390,"th"),e._uU(391,"+"),e.qZA(),e._UZ(392,"th",11),e.TgZ(393,"th"),e._uU(394,"+"),e.qZA(),e._UZ(395,"th",11),e.TgZ(396,"th"),e._uU(397,"+"),e.qZA()(),e.TgZ(398,"tr")(399,"th"),e._uU(400,"Sibilant fricative"),e.qZA(),e.TgZ(401,"th"),e._uU(402,"|"),e.qZA(),e._UZ(403,"th",23),e.TgZ(404,"th"),e._uU(405,"|"),e.qZA(),e.TgZ(406,"th",13)(407,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(408,"th"),e.TgZ(409,"th",13)(410,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(411,"th"),e._uU(412,"|"),e.qZA(),e.TgZ(413,"th")(414,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(415,"th")(416,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(417,"th"),e._uU(418,"|"),e.qZA(),e.TgZ(419,"th")(420,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(421,"th")(422,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(423,"th"),e._uU(424,"|"),e.qZA(),e.TgZ(425,"th")(426,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(427,"th")(428,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(429,"th"),e._uU(430,"|"),e.qZA(),e._UZ(431,"th",24),e.TgZ(432,"th"),e._uU(433,"|"),e.qZA()(),e.TgZ(434,"tr"),e._UZ(435,"th",4),e.TgZ(436,"th"),e._uU(437,"+"),e.qZA(),e._UZ(438,"th",23),e.TgZ(439,"th"),e._uU(440,"+"),e.qZA(),e._UZ(441,"th",22),e.TgZ(442,"th"),e._uU(443,"+"),e.qZA(),e._UZ(444,"th",11),e.TgZ(445,"th"),e._uU(446,"+"),e.qZA(),e._UZ(447,"th",11),e.TgZ(448,"th"),e._uU(449,"+"),e.qZA(),e._UZ(450,"th",11),e.TgZ(451,"th"),e._uU(452,"+"),e.qZA(),e._UZ(453,"th",24),e.TgZ(454,"th"),e._uU(455,"|"),e.qZA()(),e.TgZ(456,"tr")(457,"th"),e._uU(458,"Sibilant affricate"),e.qZA(),e.TgZ(459,"th"),e._uU(460,"|"),e.qZA(),e._UZ(461,"th",23),e.TgZ(462,"th"),e._uU(463,"|"),e.qZA(),e.TgZ(464,"th",13)(465,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(466,"th"),e.TgZ(467,"th",13)(468,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(469,"th"),e._uU(470,"|"),e.qZA(),e.TgZ(471,"th")(472,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(473,"th")(474,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(475,"th"),e._uU(476,"|"),e.qZA(),e.TgZ(477,"th")(478,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(479,"th")(480,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(481,"th"),e._uU(482,"|"),e.qZA(),e.TgZ(483,"th")(484,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(485,"th")(486,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(487,"th"),e._uU(488,"|"),e.qZA(),e._UZ(489,"th",24),e.TgZ(490,"th"),e._uU(491,"|"),e.qZA()(),e.TgZ(492,"tr"),e._UZ(493,"th",4),e.TgZ(494,"th"),e._uU(495,"+"),e.qZA(),e._UZ(496,"th",11),e.TgZ(497,"th"),e._uU(498,"+"),e.qZA(),e._UZ(499,"th",11),e.TgZ(500,"th"),e._uU(501,"+"),e.qZA(),e._UZ(502,"th",11),e.TgZ(503,"th"),e._uU(504,"+"),e.qZA(),e._UZ(505,"th",11),e.TgZ(506,"th"),e._uU(507,"+"),e.qZA(),e._UZ(508,"th",11),e.TgZ(509,"th"),e._uU(510,"+"),e.qZA(),e._UZ(511,"th",11),e.TgZ(512,"th"),e._uU(513,"+"),e.qZA(),e._UZ(514,"th",11),e.TgZ(515,"th"),e._uU(516,"+"),e.qZA(),e._UZ(517,"th",11),e.TgZ(518,"th"),e._uU(519,"+"),e.qZA(),e._UZ(520,"th",11),e.TgZ(521,"th"),e._uU(522,"+"),e.qZA(),e._UZ(523,"th",11),e.TgZ(524,"th"),e._uU(525,"+"),e.qZA(),e._UZ(526,"th",11),e.TgZ(527,"th"),e._uU(528,"+"),e.qZA(),e._UZ(529,"th",11),e.TgZ(530,"th"),e._uU(531,"+"),e.qZA()(),e.TgZ(532,"tr")(533,"th"),e._uU(534,"Non-sibilant fric."),e.qZA(),e.TgZ(535,"th"),e._uU(536,"|"),e.qZA(),e.TgZ(537,"th")(538,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(539,"th")(540,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(541,"th"),e._uU(542,"|"),e.qZA(),e.TgZ(543,"th")(544,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(545,"th")(546,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(547,"th"),e._uU(548,"|"),e.qZA(),e.TgZ(549,"th")(550,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(551,"th")(552,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(553,"th"),e._uU(554,"|"),e.qZA(),e.TgZ(555,"th")(556,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(557,"th")(558,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(559,"th"),e._uU(560,"|"),e.qZA(),e.TgZ(561,"th")(562,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(563,"th")(564,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(565,"th"),e._uU(566,"|"),e.qZA(),e.TgZ(567,"th")(568,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(569,"th")(570,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(571,"th"),e._uU(572,"|"),e.qZA(),e.TgZ(573,"th",13)(574,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(575,"th"),e._uU(576,"|"),e.qZA(),e.TgZ(577,"th")(578,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(579,"th")(580,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(581,"th"),e._uU(582,"|"),e.qZA(),e.TgZ(583,"th")(584,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(585,"th")(586,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(587,"th"),e._uU(588,"|"),e.qZA(),e.TgZ(589,"th")(590,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(591,"th")(592,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(593,"th"),e._uU(594,"|"),e.qZA(),e.TgZ(595,"th")(596,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(597,"th")(598,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(599,"th"),e._uU(600,"|"),e.qZA(),e.TgZ(601,"th")(602,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(603,"th")(604,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(605,"th"),e._uU(606,"|"),e.qZA()(),e.TgZ(607,"tr"),e._UZ(608,"th",4),e.TgZ(609,"th"),e._uU(610,"+"),e.qZA(),e._UZ(611,"th",11),e.TgZ(612,"th"),e._uU(613,"+"),e.qZA(),e._UZ(614,"th",11),e.TgZ(615,"th"),e._uU(616,"+"),e.qZA(),e._UZ(617,"th",11),e.TgZ(618,"th"),e._uU(619,"+"),e.qZA(),e._UZ(620,"th",11),e.TgZ(621,"th"),e._uU(622,"+"),e.qZA(),e._UZ(623,"th",11),e.TgZ(624,"th"),e._uU(625,"+"),e.qZA(),e._UZ(626,"th",11),e.TgZ(627,"th"),e._uU(628,"+"),e.qZA(),e._UZ(629,"th",11),e.TgZ(630,"th"),e._uU(631,"+"),e.qZA(),e._UZ(632,"th",11),e.TgZ(633,"th"),e._uU(634,"+"),e.qZA(),e._UZ(635,"th",11),e.TgZ(636,"th"),e._uU(637,"+"),e.qZA(),e._UZ(638,"th",11),e.TgZ(639,"th"),e._uU(640,"+"),e.qZA(),e._UZ(641,"th",11),e.TgZ(642,"th"),e._uU(643,"+"),e.qZA(),e._UZ(644,"th",11),e.TgZ(645,"th"),e._uU(646,"+"),e.qZA()(),e.TgZ(647,"tr")(648,"th"),e._uU(649,"Non-sibilant affr."),e.qZA(),e.TgZ(650,"th"),e._uU(651,"|"),e.qZA(),e.TgZ(652,"th")(653,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(654,"th")(655,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(656,"th"),e._uU(657,"|"),e.qZA(),e.TgZ(658,"th")(659,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(660,"th")(661,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(662,"th"),e._uU(663,"|"),e.qZA(),e._UZ(664,"th")(665,"th"),e.TgZ(666,"th"),e._uU(667,"|"),e.qZA(),e.TgZ(668,"th")(669,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(670,"th")(671,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(672,"th"),e._uU(673,"|"),e.qZA(),e.TgZ(674,"th")(675,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(676,"th")(677,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(678,"th"),e._uU(679,"|"),e.qZA(),e.TgZ(680,"th")(681,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(682,"th")(683,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(684,"th"),e._uU(685,"|"),e.qZA(),e._UZ(686,"th",13),e.TgZ(687,"th"),e._uU(688,"|"),e.qZA(),e.TgZ(689,"th")(690,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(691,"th")(692,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(693,"th"),e._uU(694,"|"),e.qZA(),e.TgZ(695,"th")(696,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(697,"th")(698,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(699,"th"),e._uU(700,"|"),e.qZA(),e.TgZ(701,"th")(702,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(703,"th")(704,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(705,"th"),e._uU(706,"|"),e.qZA(),e.TgZ(707,"th",13)(708,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(709,"th"),e._uU(710,"|"),e.qZA(),e.TgZ(711,"th",13)(712,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(713,"th"),e._uU(714,"|"),e.qZA()(),e.TgZ(715,"tr"),e._UZ(716,"th",4),e.TgZ(717,"th"),e._uU(718,"+"),e.qZA(),e._UZ(719,"th",11),e.TgZ(720,"th"),e._uU(721,"+"),e.qZA(),e._UZ(722,"th",11),e.TgZ(723,"th"),e._uU(724,"+"),e.qZA(),e._UZ(725,"th",13),e.TgZ(726,"th"),e._uU(727,"+"),e.qZA(),e._UZ(728,"th",11),e.TgZ(729,"th"),e._uU(730,"+"),e.qZA(),e._UZ(731,"th",11),e.TgZ(732,"th"),e._uU(733,"+"),e.qZA(),e._UZ(734,"th",11),e.TgZ(735,"th"),e._uU(736,"+"),e.qZA(),e._UZ(737,"th",11),e.TgZ(738,"th"),e._uU(739,"+"),e.qZA(),e._UZ(740,"th",11),e.TgZ(741,"th"),e._uU(742,"+"),e.qZA(),e._UZ(743,"th",11),e.TgZ(744,"th"),e._uU(745,"+"),e.qZA(),e._UZ(746,"th",11),e.TgZ(747,"th"),e._uU(748,"+"),e.qZA(),e._UZ(749,"th",11),e.TgZ(750,"th"),e._uU(751,"+"),e.qZA(),e._UZ(752,"th",11),e.TgZ(753,"th"),e._uU(754,"+"),e.qZA()(),e.TgZ(755,"tr")(756,"th"),e._uU(757,"Approximant"),e.qZA(),e.TgZ(758,"th"),e._uU(759,"|"),e.qZA(),e._UZ(760,"th",13),e.TgZ(761,"th"),e._uU(762,"|"),e.qZA(),e.TgZ(763,"th",13)(764,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(765,"th"),e._uU(766,"|"),e.qZA(),e._UZ(767,"th",13),e.TgZ(768,"th"),e._uU(769,"|"),e.qZA(),e.TgZ(770,"th",23)(771,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(772,"th"),e._uU(773,"|"),e.qZA(),e.TgZ(774,"th",13)(775,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(776,"th"),e._uU(777,"|"),e.qZA(),e.TgZ(778,"th",13)(779,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(780,"th"),e._uU(781,"|"),e.qZA(),e.TgZ(782,"th",13)(783,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(784,"th"),e._uU(785,"|"),e.qZA(),e._UZ(786,"th",10),e.TgZ(787,"th"),e._uU(788,"|"),e.qZA(),e.TgZ(789,"th",13)(790,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(791,"th"),e._uU(792,"|"),e.qZA()(),e.TgZ(793,"tr"),e._UZ(794,"th",4),e.TgZ(795,"th"),e._uU(796,"+"),e.qZA(),e._UZ(797,"th",11),e.TgZ(798,"th"),e._uU(799,"+"),e.qZA(),e._UZ(800,"th",11),e.TgZ(801,"th"),e._uU(802,"+"),e.qZA(),e._UZ(803,"th",11),e.TgZ(804,"th"),e._uU(805,"+"),e.qZA(),e._UZ(806,"th",21),e.TgZ(807,"th"),e._uU(808,"+"),e.qZA(),e._UZ(809,"th",11),e.TgZ(810,"th"),e._uU(811,"+"),e.qZA(),e._UZ(812,"th",11),e.TgZ(813,"th"),e._uU(814,"+"),e.qZA(),e._UZ(815,"th",11),e.TgZ(816,"th"),e._uU(817,"+"),e.qZA(),e._UZ(818,"th",11),e.TgZ(819,"th"),e._uU(820,"+"),e.qZA(),e._UZ(821,"th",11),e.TgZ(822,"th"),e._uU(823,"+"),e.qZA(),e._UZ(824,"th",11),e.TgZ(825,"th"),e._uU(826,"+"),e.qZA()(),e.TgZ(827,"tr")(828,"th"),e._uU(829,"Tap/flap"),e.qZA(),e.TgZ(830,"th"),e._uU(831,"|"),e.qZA(),e.TgZ(832,"th",13)(833,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(834,"th"),e._uU(835,"|"),e.qZA(),e.TgZ(836,"th",13)(837,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(838,"th"),e._uU(839,"|"),e.qZA(),e.TgZ(840,"th",13)(841,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(842,"th"),e._uU(843,"|"),e.qZA(),e._UZ(844,"th"),e.TgZ(845,"th",20)(846,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(847,"th",20)(848,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(849,"th"),e.TgZ(850,"th"),e._uU(851,"|"),e.qZA(),e.TgZ(852,"th")(853,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(854,"th")(855,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(856,"th"),e._uU(857,"|"),e.qZA(),e._UZ(858,"th",10),e.TgZ(859,"th"),e._uU(860,"|"),e.qZA(),e.TgZ(861,"th",13)(862,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(863,"th"),e._uU(864,"|"),e.qZA(),e.TgZ(865,"th",13)(866,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(867,"th"),e._uU(868,"|"),e.qZA(),e._UZ(869,"th",13),e.TgZ(870,"th"),e._uU(871,"|"),e.qZA()(),e.TgZ(872,"tr"),e._UZ(873,"th",4),e.TgZ(874,"th"),e._uU(875,"+"),e.qZA(),e._UZ(876,"th",11),e.TgZ(877,"th"),e._uU(878,"+"),e.qZA(),e._UZ(879,"th",11),e.TgZ(880,"th"),e._uU(881,"+"),e.qZA(),e._UZ(882,"th",11),e.TgZ(883,"th"),e._uU(884,"+"),e.qZA(),e._UZ(885,"th",21),e.TgZ(886,"th"),e._uU(887,"+"),e.qZA(),e._UZ(888,"th",11),e.TgZ(889,"th"),e._uU(890,"+"),e.qZA(),e._UZ(891,"th",10),e.TgZ(892,"th"),e._uU(893,"+"),e.qZA(),e._UZ(894,"th",11),e.TgZ(895,"th"),e._uU(896,"+"),e.qZA(),e._UZ(897,"th",11),e.TgZ(898,"th"),e._uU(899,"+"),e.qZA(),e._UZ(900,"th",13),e.TgZ(901,"th"),e._uU(902,"|"),e.qZA()(),e.TgZ(903,"tr")(904,"th"),e._uU(905,"Trill"),e.qZA(),e.TgZ(906,"th"),e._uU(907,"|"),e.qZA(),e.TgZ(908,"th")(909,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(910,"th")(911,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(912,"th"),e._uU(913,"|"),e.qZA(),e._UZ(914,"th",10),e.TgZ(915,"th"),e._uU(916,"|"),e.qZA(),e._UZ(917,"th"),e.TgZ(918,"th",20)(919,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(920,"th",20)(921,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(922,"th"),e.TgZ(923,"th"),e._uU(924,"|"),e.qZA(),e.TgZ(925,"th")(926,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(927,"th")(928,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(929,"th"),e._uU(930,"|"),e.qZA(),e._UZ(931,"th",10),e.TgZ(932,"th"),e._uU(933,"|"),e.qZA(),e.TgZ(934,"th")(935,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(936,"th")(937,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(938,"th"),e._uU(939,"|"),e.qZA(),e.TgZ(940,"th")(941,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(942,"th")(943,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(944,"th"),e._uU(945,"|"),e.qZA(),e._UZ(946,"th",13),e.TgZ(947,"th"),e._uU(948,"|"),e.qZA()(),e.TgZ(949,"tr"),e._UZ(950,"th",4),e.TgZ(951,"th"),e._uU(952,"+"),e.qZA(),e._UZ(953,"th",11),e.TgZ(954,"th"),e._uU(955,"+"),e.qZA(),e._UZ(956,"th",10),e.TgZ(957,"th"),e._uU(958,"+"),e.qZA(),e._UZ(959,"th",21),e.TgZ(960,"th"),e._uU(961,"+"),e.qZA(),e._UZ(962,"th",11),e.TgZ(963,"th"),e._uU(964,"+"),e.qZA(),e._UZ(965,"th",11),e.TgZ(966,"th"),e._uU(967,"+"),e.qZA(),e._UZ(968,"th",11),e.TgZ(969,"th"),e._uU(970,"+"),e.qZA(),e._UZ(971,"th",11),e.TgZ(972,"th"),e._uU(973,"+"),e.qZA(),e._UZ(974,"th",11),e.TgZ(975,"th"),e._uU(976,"+"),e.qZA(),e._UZ(977,"th",13),e.TgZ(978,"th"),e._uU(979,"|"),e.qZA()(),e.TgZ(980,"tr")(981,"th"),e._uU(982,"Lateral fricative"),e.qZA(),e.TgZ(983,"th"),e._uU(984,"|"),e.qZA(),e._UZ(985,"th",23),e.TgZ(986,"th"),e._uU(987,"|"),e.qZA(),e._UZ(988,"th"),e.TgZ(989,"th",20)(990,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(991,"th",20)(992,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(993,"th"),e.TgZ(994,"th"),e._uU(995,"|"),e.qZA(),e.TgZ(996,"th")(997,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(998,"th")(999,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1e3,"th"),e._uU(1001,"|"),e.qZA(),e.TgZ(1002,"th")(1003,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1004,"th")(1005,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1006,"th"),e._uU(1007,"|"),e.qZA(),e.TgZ(1008,"th")(1009,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1010,"th")(1011,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1012,"th"),e._uU(1013,"|"),e.qZA(),e._UZ(1014,"th",23),e.TgZ(1015,"th"),e._uU(1016,"|"),e.qZA()(),e.TgZ(1017,"tr"),e._UZ(1018,"th",4),e.TgZ(1019,"th"),e._uU(1020,"+"),e.qZA(),e._UZ(1021,"th",23),e.TgZ(1022,"th"),e._uU(1023,"+"),e.qZA(),e._UZ(1024,"th",21),e.TgZ(1025,"th"),e._uU(1026,"+"),e.qZA(),e._UZ(1027,"th",11),e.TgZ(1028,"th"),e._uU(1029,"+"),e.qZA(),e._UZ(1030,"th",11),e.TgZ(1031,"th"),e._uU(1032,"+"),e.qZA(),e._UZ(1033,"th",11),e.TgZ(1034,"th"),e._uU(1035,"+"),e.qZA(),e._UZ(1036,"th",23),e.TgZ(1037,"th"),e._uU(1038,"|"),e.qZA()(),e.TgZ(1039,"tr")(1040,"th"),e._uU(1041,"Lateral affricate"),e.qZA(),e.TgZ(1042,"th"),e._uU(1043,"|"),e.qZA(),e._UZ(1044,"th",23),e.TgZ(1045,"th"),e._uU(1046,"|"),e.qZA(),e._UZ(1047,"th"),e.TgZ(1048,"th",20)(1049,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1050,"th",20)(1051,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(1052,"th"),e.TgZ(1053,"th"),e._uU(1054,"|"),e.qZA(),e.TgZ(1055,"th")(1056,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1057,"th")(1058,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1059,"th"),e._uU(1060,"|"),e.qZA(),e.TgZ(1061,"th")(1062,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1063,"th")(1064,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1065,"th"),e._uU(1066,"|"),e.qZA(),e.TgZ(1067,"th")(1068,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1069,"th")(1070,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1071,"th"),e._uU(1072,"|"),e.qZA(),e._UZ(1073,"th",23),e.TgZ(1074,"th"),e._uU(1075,"|"),e.qZA()(),e.TgZ(1076,"tr"),e._UZ(1077,"th",4),e.TgZ(1078,"th"),e._uU(1079,"+"),e.qZA(),e._UZ(1080,"th",23),e.TgZ(1081,"th"),e._uU(1082,"+"),e.qZA(),e._UZ(1083,"th",21),e.TgZ(1084,"th"),e._uU(1085,"+"),e.qZA(),e._UZ(1086,"th",11),e.TgZ(1087,"th"),e._uU(1088,"+"),e.qZA(),e._UZ(1089,"th",11),e.TgZ(1090,"th"),e._uU(1091,"+"),e.qZA(),e._UZ(1092,"th",11),e.TgZ(1093,"th"),e._uU(1094,"+"),e.qZA(),e._UZ(1095,"th",11),e.TgZ(1096,"th"),e._uU(1097,"+"),e.qZA(),e._UZ(1098,"th",10),e.TgZ(1099,"th"),e._uU(1100,"|"),e.qZA()(),e.TgZ(1101,"tr")(1102,"th"),e._uU(1103,"Ltrl approximant"),e.qZA(),e.TgZ(1104,"th"),e._uU(1105,"|"),e.qZA(),e._UZ(1106,"th",23),e.TgZ(1107,"th"),e._uU(1108,"|"),e.qZA(),e._UZ(1109,"th"),e.TgZ(1110,"th",20)(1111,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1112,"th",20)(1113,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(1114,"th"),e.TgZ(1115,"th"),e._uU(1116,"|"),e.qZA(),e.TgZ(1117,"th",13)(1118,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1119,"th"),e._uU(1120,"|"),e.qZA(),e.TgZ(1121,"th",13)(1122,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1123,"th"),e._uU(1124,"|"),e.qZA(),e.TgZ(1125,"th",13)(1126,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1127,"th"),e._uU(1128,"|"),e.qZA(),e.TgZ(1129,"th",13)(1130,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1131,"th"),e._uU(1132,"|"),e.qZA(),e._UZ(1133,"th",10),e.TgZ(1134,"th"),e._uU(1135,"|"),e.qZA()(),e.TgZ(1136,"tr"),e._UZ(1137,"th",4),e.TgZ(1138,"th"),e._uU(1139,"+"),e.qZA(),e._UZ(1140,"th",23),e.TgZ(1141,"th"),e._uU(1142,"+"),e.qZA(),e._UZ(1143,"th",21),e.TgZ(1144,"th"),e._uU(1145,"+"),e.qZA(),e._UZ(1146,"th",11),e.TgZ(1147,"th"),e._uU(1148,"+"),e.qZA(),e._UZ(1149,"th",11),e.TgZ(1150,"th"),e._uU(1151,"+"),e.qZA(),e._UZ(1152,"th",11),e.TgZ(1153,"th"),e._uU(1154,"+"),e.qZA(),e._UZ(1155,"th",11),e.TgZ(1156,"th"),e._uU(1157,"+"),e.qZA(),e._UZ(1158,"th",10),e.TgZ(1159,"th"),e._uU(1160,"|"),e.qZA()(),e.TgZ(1161,"tr")(1162,"th"),e._uU(1163,"Lateral tap/flap"),e.qZA(),e.TgZ(1164,"th"),e._uU(1165,"|"),e.qZA(),e._UZ(1166,"th",23),e.TgZ(1167,"th"),e._uU(1168,"|"),e.qZA(),e._UZ(1169,"th"),e.TgZ(1170,"th",20)(1171,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1172,"th",20)(1173,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(1174,"th"),e.TgZ(1175,"th"),e._uU(1176,"|"),e.qZA(),e.TgZ(1177,"th")(1178,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1179,"th")(1180,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1181,"th"),e._uU(1182,"|"),e.qZA(),e.TgZ(1183,"th",13)(1184,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1185,"th"),e._uU(1186,"|"),e.qZA(),e.TgZ(1187,"th",13)(1188,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1189,"th"),e._uU(1190,"|"),e.qZA(),e._UZ(1191,"th",23),e.TgZ(1192,"th"),e._uU(1193,"|"),e.qZA()(),e.TgZ(1194,"tr"),e._UZ(1195,"th",25),e.TgZ(1196,"th"),e._uU(1197,"+"),e.qZA()(),e.TgZ(1198,"tr")(1199,"th",3),e._uU(1200," --- CO-ARTICULATED CONSONANTS --- "),e.qZA(),e.TgZ(1201,"th"),e._uU(1202,"|"),e.qZA()(),e.TgZ(1203,"tr"),e._UZ(1204,"th",4),e.TgZ(1205,"th"),e._uU(1206,"+"),e.qZA(),e._UZ(1207,"th",5),e.TgZ(1208,"th"),e._uU(1209,"+"),e.qZA()(),e.TgZ(1210,"tr")(1211,"th"),e._uU(1212,"Nasal"),e.qZA(),e.TgZ(1213,"th"),e._uU(1214,"|"),e.qZA(),e.TgZ(1215,"th",26),e._uU(1216," Labial\u2013alveolar "),e.TgZ(1217,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(1218,", Labial\u2013velar "),e.TgZ(1219,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1220,"th"),e._uU(1221,"|"),e.qZA()(),e.TgZ(1222,"tr"),e._UZ(1223,"th",4),e.TgZ(1224,"th"),e._uU(1225,"+"),e.qZA(),e._UZ(1226,"th",5),e.TgZ(1227,"th"),e._uU(1228,"+"),e.qZA()(),e.TgZ(1229,"tr")(1230,"th"),e._uU(1231,"Plosive"),e.qZA(),e.TgZ(1232,"th"),e._uU(1233,"|"),e.qZA(),e.TgZ(1234,"th",26),e._uU(1235," Labial\u2013alveolar "),e.TgZ(1236,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(1237),e.TgZ(1238,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(1239,", Labial\u2013velar "),e.TgZ(1240,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(1241),e.TgZ(1242,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(1243,", Uvular\u2013epiglottal "),e.TgZ(1244,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e._uU(1245),e.qZA()(),e.TgZ(1246,"th"),e._uU(1247,"|"),e.qZA()(),e.TgZ(1248,"tr"),e._UZ(1249,"th",4),e.TgZ(1250,"th"),e._uU(1251,"+"),e.qZA(),e._UZ(1252,"th",5),e.TgZ(1253,"th"),e._uU(1254,"+"),e.qZA()(),e.TgZ(1255,"tr")(1256,"th"),e._uU(1257,"Fricative/appr."),e.qZA(),e.TgZ(1258,"th"),e._uU(1259,"|"),e.qZA(),e.TgZ(1260,"th",26),e._uU(1261," Labial\u2013palatal "),e.TgZ(1262,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(1263),e.TgZ(1264,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(1265,", Labial\u2013velar "),e.TgZ(1266,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(1267),e.TgZ(1268,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(1269,", Sj-sound "),e.TgZ(1270,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1271,"th"),e._uU(1272,"|"),e.qZA()(),e.TgZ(1273,"tr"),e._UZ(1274,"th",4),e.TgZ(1275,"th"),e._uU(1276,"+"),e.qZA(),e._UZ(1277,"th",5),e.TgZ(1278,"th"),e._uU(1279,"+"),e.qZA()(),e.TgZ(1280,"tr")(1281,"th"),e._uU(1282,"Lateral appr."),e.qZA(),e.TgZ(1283,"th"),e._uU(1284,"|"),e.qZA(),e.TgZ(1285,"th",26),e._uU(1286,"Velarized alveolar "),e.TgZ(1287,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1288,"th"),e._uU(1289,"|"),e.qZA()(),e.TgZ(1290,"tr"),e._UZ(1291,"th",25),e.TgZ(1292,"th"),e._uU(1293,"+"),e.qZA()()()()),2&t&&(e.xp6(218),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","m\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","m"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0271"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","n\u033c"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","n\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","n"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0273\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0273"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0272\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0272"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u014b\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u014b"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0274"),e.xp6(46),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","p"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","b"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","p\u032a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","b\u032a"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u033c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u033c"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0288"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0256"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u025f"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","k"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0261"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","q"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0262"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a1"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0294"),e.xp6(49),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","s"),e.xp6(3),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","z"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0283"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0292"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0282"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0290"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0255"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0291"),e.xp6(37),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a6"),e.xp6(3),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a3"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0288\u0361\u0282"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0256\u0361\u0290"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a8"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a5"),e.xp6(52),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0278"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03b2"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","f"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","v"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03b8\u033c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\xf0\u033c"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03b8"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\xf0"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03b8\u0320"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\xf0\u0320"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0279\u0320\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0279\u0320\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027b\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\xe7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","x"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0263"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03c7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0281"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0127"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0295"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","h"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0266"),e.xp6(49),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","p\u0361\u0278"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","b\u0361\u03b2"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","p\u032a\u0361f"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","b\u032a\u0361v"),e.xp6(8),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u032a\u0361\u03b8"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u032a\u0361\xf0"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u0361\u0279\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u0361\u0279\u031d\u0320"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u0320\u0361\u0279\u0320\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u0320\u0361\u0279\u0320\u02d4"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","c\u0361\xe7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u025f\u0361\u029d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","k\u0361x"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0261\u0361\u0263"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","q\u0361\u03c7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0262\u0361\u0281"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a1\u0361\u02a2"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0294\u0361h"),e.xp6(52),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028b"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0279"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027b"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","j"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0270"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0294\u031e"),e.xp6(43),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u2c71\u031f"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u2c71"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027e\u033c"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027e\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027e"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027d"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0262\u0306"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a1\u0306"),e.xp6(43),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0299\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0299"),e.xp6(8),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","r\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","r"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027d\u030ar\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027dr"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0280\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0280"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a2"),e.xp6(47),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026e"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028e\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028e\u031d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f\u031d"),e.xp6(38),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u0361\u026c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u0361\u026e"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0288\u0361\u026d\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0256\u0361\u026d\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","c\u0361\u028e\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u025f\u0361\u028e\u031d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","k\u0361\u029f\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0261\u0361\u029f\u031d"),e.xp6(41),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","l\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","l"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028e"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f\u0320"),e.xp6(41),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027a\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027a"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d\u0325\u0306"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d\u0306"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028e\u0306\u031d\u030a"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f\u0306"),e.xp6(29),e.Q6J("languageSounds",o.languageSounds)("phonetic","n\u0361m"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u0361m"),e.xp6(17),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u0361p"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",o.languageSounds)("phonetic","d\u0361b"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u0361p"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u0361b"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u0361\u02a1"),e.xp6(1),e.Oqu(" "),e.xp6(17),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0265\u030a"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0265"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u028d"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",o.languageSounds)("phonetic","w"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0267"),e.xp6(17),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u026b"))},dependencies:[An,Fl]}),r})();function b1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"app-phonetic-btn",29),e.NdJ("onClick",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.clicked(i))}),e.qZA()()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(1),e.hij("",o>0?", ":""," "),e.xp6(1),e.Q6J("languageSounds",i.languageSounds)("phonetic",t)}}let A1=(()=>{class r{constructor(){this.onClick=new e.vpe}ngOnInit(){}clicked(t){this.onClick.emit(t)}getRestPhonemes(){var t;if(this.languageSounds&&this.languageSounds.restUsedPhonemes){const o=this.languageSounds.restUsedPhonemes.concat([]);return null===(t=this.languageSounds.selectedRestPhonemes)||void 0===t||t.forEach(i=>{i.phoneme&&o.push(i.phoneme)}),o.sort().filter(i=>""!==i.trim()).filter(i=>i.includes("\u032f")).filter((i,u,d)=>d.indexOf(i)===u)}return[]}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-vowels"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},decls:373,vars:100,consts:[["span","1",2,"width","auto"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","5%"],["span","1",1,"border",2,"width","25px"],["span","1",2,"width","15%"],["colspan","37"],["app-horizontal-dash",""],["app-horizontal-dash","","colspan","35"],[2,"text-align","right"],["colspan","5"],["colspan","3"],["colspan","12"],["colspan","1"],[3,"vowel","languageSounds","phonetic","onClick"],["colspan","5","app-horizontal-dash",""],["colspan","9","app-horizontal-dash",""],["colspan","4"],["colspan","11"],["colspan","14"],["colspan","9"],["colspan","6"],["colspan","8"],["colspan","10"],["colspan","7"],["colspan","3","app-horizontal-dash",""],["colspan","13"],["colspan","1","app-horizontal-dash",""],["colspan","35"],[4,"ngFor","ngForOf"],[3,"languageSounds","phonetic","onClick"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",3)(7,"col",3)(8,"col",3)(9,"col",3)(10,"col",3)(11,"col",3)(12,"col",3)(13,"col",3)(14,"col",3)(15,"col",3)(16,"col",3)(17,"col",3)(18,"col",3)(19,"col",3)(20,"col",3)(21,"col",3)(22,"col",3)(23,"col",3)(24,"col",3)(25,"col",3)(26,"col",3)(27,"col",3)(28,"col",3)(29,"col",3)(30,"col",3)(31,"col",3)(32,"col",3)(33,"col",3)(34,"col",3)(35,"col",3)(36,"col",3)(37,"col",3)(38,"col",4)(39,"col",1),e.qZA(),e.TgZ(40,"tbody")(41,"tr")(42,"th",5),e._uU(43," --- VOWELS --- "),e.qZA(),e.TgZ(44,"th"),e._uU(45,"|"),e.qZA()(),e.TgZ(46,"tr"),e._UZ(47,"th",6),e.TgZ(48,"th"),e._uU(49,"+"),e.qZA(),e._UZ(50,"th",7),e.TgZ(51,"th"),e._uU(52,"+"),e.qZA()(),e.TgZ(53,"tr"),e._UZ(54,"th",8),e.TgZ(55,"th"),e._uU(56,"|"),e.qZA(),e._UZ(57,"th"),e.TgZ(58,"th",9),e._uU(59,"Front"),e.qZA(),e._UZ(60,"th",10),e.TgZ(61,"th"),e._uU(62,"|"),e.qZA(),e.TgZ(63,"th",11),e._uU(64,"Central"),e.qZA(),e._UZ(65,"th",12),e.TgZ(66,"th"),e._uU(67,"|"),e.qZA(),e._UZ(68,"th",9),e.TgZ(69,"th",9),e._uU(70,"Back"),e.qZA(),e._UZ(71,"th"),e.TgZ(72,"th"),e._uU(73,"|"),e.qZA()(),e.TgZ(74,"tr"),e._UZ(75,"th",6),e.TgZ(76,"th"),e._uU(77,"+"),e.qZA(),e._UZ(78,"th",7),e.TgZ(79,"th"),e._uU(80,"+"),e.qZA()(),e.TgZ(81,"tr")(82,"th"),e._uU(83,"Close"),e.qZA(),e.TgZ(84,"th"),e._uU(85,"|"),e.qZA(),e._UZ(86,"th"),e.TgZ(87,"th",9)(88,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(89," * "),e.TgZ(90,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(91,"th")(92,"th",14)(93,"th"),e.TgZ(94,"th",9)(95,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(96," * "),e.TgZ(97,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(98,"th")(99,"th",15)(100,"th"),e.TgZ(101,"th",9)(102,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(103," * "),e.TgZ(104,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(105,"th"),e.TgZ(106,"th"),e._uU(107,"|"),e.qZA()(),e.TgZ(108,"tr"),e._UZ(109,"th",6),e.TgZ(110,"th"),e._uU(111,"+"),e.qZA(),e._UZ(112,"th",16),e.TgZ(113,"th"),e._uU(114,"\\"),e.qZA(),e._UZ(115,"th",17),e.TgZ(116,"th"),e._uU(117,"\\"),e.qZA(),e._UZ(118,"th",18),e.TgZ(119,"th"),e._uU(120,"|"),e.qZA(),e._UZ(121,"th",10),e.TgZ(122,"th"),e._uU(123,"|"),e.qZA()(),e.TgZ(124,"tr")(125,"th"),e._uU(126,"Near-close"),e.qZA(),e.TgZ(127,"th"),e._uU(128,"|"),e.qZA(),e._UZ(129,"th",9),e.TgZ(130,"th"),e._uU(131,"\\"),e.qZA(),e._UZ(132,"th"),e.TgZ(133,"th",9)(134,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(135," * "),e.TgZ(136,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(137,"th",9),e.TgZ(138,"th"),e._uU(139,"\\"),e.qZA(),e._UZ(140,"th",19),e.TgZ(141,"th",10),e._uU(142,"* "),e.TgZ(143,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(144,"th"),e.TgZ(145,"th"),e._uU(146,"|"),e.qZA(),e._UZ(147,"th",10),e.TgZ(148,"th"),e._uU(149,"|"),e.qZA()(),e.TgZ(150,"tr"),e._UZ(151,"th",6),e.TgZ(152,"th"),e._uU(153,"+"),e.qZA(),e._UZ(154,"th",20),e.TgZ(155,"th"),e._uU(156,"\\"),e.qZA(),e._UZ(157,"th",17),e.TgZ(158,"th"),e._uU(159,"\\"),e.qZA(),e._UZ(160,"th",11),e.TgZ(161,"th"),e._uU(162,"|"),e.qZA(),e._UZ(163,"th",10),e.TgZ(164,"th"),e._uU(165,"|"),e.qZA()(),e.TgZ(166,"tr")(167,"th"),e._uU(168,"Close-mid"),e.qZA(),e.TgZ(169,"th"),e._uU(170,"|"),e.qZA(),e._UZ(171,"th",9),e.TgZ(172,"th",9)(173,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(174," * "),e.TgZ(175,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(176,"th")(177,"th",14)(178,"th"),e.TgZ(179,"th",9)(180,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(181," * "),e.TgZ(182,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(183,"th")(184,"th",14)(185,"th"),e.TgZ(186,"th",9)(187,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(188," * "),e.TgZ(189,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(190,"th"),e.TgZ(191,"th"),e._uU(192,"|"),e.qZA()(),e.TgZ(193,"tr"),e._UZ(194,"th",6),e.TgZ(195,"th"),e._uU(196,"+"),e.qZA(),e._UZ(197,"th",21),e.TgZ(198,"th"),e._uU(199,"\\"),e.qZA(),e._UZ(200,"th",22),e.TgZ(201,"th"),e._uU(202,"\\"),e.qZA(),e._UZ(203,"th",17),e.TgZ(204,"th"),e._uU(205,"|"),e.qZA(),e._UZ(206,"th",10),e.TgZ(207,"th"),e._uU(208,"|"),e.qZA()(),e.TgZ(209,"tr")(210,"th"),e._uU(211,"Mid"),e.qZA(),e.TgZ(212,"th"),e._uU(213,"|"),e.qZA(),e._UZ(214,"th",23),e.TgZ(215,"th",9)(216,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(217," * "),e.TgZ(218,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(219,"th")(220,"th",20),e.TgZ(221,"th",10)(222,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(223,"th",20)(224,"th"),e.TgZ(225,"th",9)(226,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(227," * "),e.TgZ(228,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(229,"th"),e.TgZ(230,"th"),e._uU(231,"|"),e.qZA()(),e.TgZ(232,"tr"),e._UZ(233,"th",6),e.TgZ(234,"th"),e._uU(235,"+"),e.qZA(),e._UZ(236,"th",22),e.TgZ(237,"th"),e._uU(238,"\\"),e.qZA(),e._UZ(239,"th",19),e.TgZ(240,"th"),e._uU(241,"\\"),e.qZA(),e._UZ(242,"th",22),e.TgZ(243,"th"),e._uU(244,"|"),e.qZA(),e._UZ(245,"th",10),e.TgZ(246,"th"),e._uU(247,"|"),e.qZA()(),e.TgZ(248,"tr")(249,"th"),e._uU(250,"Open-mid"),e.qZA(),e.TgZ(251,"th"),e._uU(252,"|"),e.qZA(),e._UZ(253,"th",19),e.TgZ(254,"th",9)(255,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(256," * "),e.TgZ(257,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(258,"th")(259,"th",24)(260,"th"),e.TgZ(261,"th",9)(262,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(263," * "),e.TgZ(264,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(265,"th")(266,"th",24)(267,"th"),e.TgZ(268,"th",9)(269,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(270," * "),e.TgZ(271,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(272,"th"),e.TgZ(273,"th"),e._uU(274,"|"),e.qZA()(),e.TgZ(275,"tr"),e._UZ(276,"th",6),e.TgZ(277,"th"),e._uU(278,"+"),e.qZA(),e._UZ(279,"th",11),e.TgZ(280,"th"),e._uU(281,"\\"),e.qZA(),e._UZ(282,"th",21),e.TgZ(283,"th"),e._uU(284,"\\"),e.qZA(),e._UZ(285,"th",19),e.TgZ(286,"th"),e._uU(287,"|"),e.qZA(),e._UZ(288,"th",10),e.TgZ(289,"th"),e._uU(290,"|"),e.qZA()(),e.TgZ(291,"tr")(292,"th"),e._uU(293,"Near-open"),e.qZA(),e.TgZ(294,"th"),e._uU(295,"|"),e.qZA(),e._UZ(296,"th",17),e.TgZ(297,"th",10)(298,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(299," *"),e.qZA(),e._UZ(300,"th",23),e.TgZ(301,"th",10)(302,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(303,"th",23),e.TgZ(304,"th"),e._uU(305,"|"),e.qZA(),e._UZ(306,"th",10),e.TgZ(307,"th"),e._uU(308,"|"),e.qZA()(),e.TgZ(309,"tr"),e._UZ(310,"th",6),e.TgZ(311,"th"),e._uU(312,"+"),e.qZA(),e._UZ(313,"th",18),e.TgZ(314,"th"),e._uU(315,"\\"),e.qZA(),e._UZ(316,"th",23),e.TgZ(317,"th"),e._uU(318,"\\"),e.qZA(),e._UZ(319,"th",21),e.TgZ(320,"th"),e._uU(321,"|"),e.qZA(),e._UZ(322,"th",10),e.TgZ(323,"th"),e._uU(324,"|"),e.qZA()(),e.TgZ(325,"tr")(326,"th"),e._uU(327,"Open"),e.qZA(),e.TgZ(328,"th"),e._uU(329,"|"),e.qZA(),e._UZ(330,"th",25),e.TgZ(331,"th",9)(332,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(333," * "),e.TgZ(334,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(335,"th")(336,"th",26)(337,"th"),e.TgZ(338,"th",16)(339,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(340," * "),e.qZA(),e._UZ(341,"th",24)(342,"th"),e.TgZ(343,"th",9)(344,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(345," * "),e.TgZ(346,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(347,"th"),e.TgZ(348,"th"),e._uU(349,"|"),e.qZA()(),e.TgZ(350,"tr"),e._UZ(351,"th",6),e.TgZ(352,"th"),e._uU(353,"+"),e.qZA(),e._UZ(354,"th",7),e.TgZ(355,"th"),e._uU(356,"+"),e.qZA()(),e.TgZ(357,"tr")(358,"th"),e._uU(359,"Gliding"),e.qZA(),e.TgZ(360,"th"),e._uU(361,"|"),e.qZA(),e.TgZ(362,"th",27),e.YNc(363,b1,3,3,"span",28),e.qZA(),e.TgZ(364,"th"),e._uU(365,"|"),e.qZA()(),e.TgZ(366,"tr"),e._UZ(367,"th",6),e.TgZ(368,"th"),e._uU(369,"+"),e.qZA(),e._UZ(370,"th",7),e.TgZ(371,"th"),e._uU(372,"+"),e.qZA()()()()),2&t&&(e.xp6(88),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","i"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","y"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0268"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0289"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u026f"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","u"),e.xp6(30),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u026a"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u028f"),e.xp6(7),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u028a"),e.xp6(30),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","e"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\xf8"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0258"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0275"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0264"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","o"),e.xp6(27),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","e\u031e"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\xf8\u031e"),e.xp6(4),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0259"),e.xp6(4),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0264\u031e"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","o\u031e"),e.xp6(27),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u025b"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0153"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u025c"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u025e"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u028c"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0254"),e.xp6(27),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\xe6"),e.xp6(4),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0250"),e.xp6(30),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","a"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0276"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\xe4"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0251"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0252"),e.xp6(17),e.Q6J("ngForOf",o.getRestPhonemes()))},dependencies:[dt,An,Fl]}),r})();function Nm(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"app-phonetic-btn",11),e.NdJ("onClick",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.clicked(i))}),e.qZA()()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(1),e.hij("",o>0?", ":""," "),e.xp6(1),e.Q6J("languageSounds",i.languageSounds)("phonetic",t)}}function I1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addNewSound())}),e._uU(1,"[ + ]"),e.qZA()}}function E1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"[ + ]"),e.qZA())}let Um=(()=>{class r{constructor(t){this.formBuilder=t,this.onClick=new e.vpe,this.soundForm=new je({newSound:new si("",_r.required)})}ngOnInit(){}clicked(t){this.onClick.emit(t)}getRestPhonemes(){var t;if(this.languageSounds&&this.languageSounds.restUsedPhonemes){const o=this.languageSounds.restUsedPhonemes.concat([]);return null===(t=this.languageSounds.selectedRestPhonemes)||void 0===t||t.forEach(i=>{i.phoneme&&o.push(i.phoneme)}),o.sort().filter(i=>""!==i.trim()).filter(i=>!i.includes("\u032f")).filter((i,u,d)=>d.indexOf(i)===u)}return[]}addNewSound(){this.onClick.emit(this.soundForm.value.newSound?this.soundForm.value.newSound:void 0),this.soundForm.reset()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(b_))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-other-phonemes"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},decls:40,vars:4,consts:[["span","1",2,"width","70px"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["colspan","3"],["app-horizontal-dash","","colspan","3"],[4,"ngFor","ngForOf"],["class","text-green-dull",3,"click",4,"ngIf"],[4,"ngIf"],[2,"text-align","left"],[3,"formGroup","ngSubmit"],["formControlName","newSound","type","text",2,"margin-left","16px"],[3,"languageSounds","phonetic","onClick"],[1,"text-green-dull",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",1),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",3),e._uU(9," --- OTHER PHONEMES --- "),e.qZA(),e.TgZ(10,"th"),e._uU(11,"|"),e.qZA()(),e.TgZ(12,"tr"),e._UZ(13,"th",4),e.TgZ(14,"th"),e._uU(15,"+"),e.qZA()(),e.TgZ(16,"tr")(17,"th",3),e.YNc(18,Nm,3,3,"span",5),e.qZA(),e.TgZ(19,"th"),e._uU(20,"|"),e.qZA()(),e.TgZ(21,"tr"),e._UZ(22,"th",4),e.TgZ(23,"th"),e._uU(24,"+"),e.qZA()(),e.TgZ(25,"tr")(26,"th"),e.YNc(27,I1,2,0,"a",6),e.YNc(28,E1,2,0,"span",7),e.qZA(),e.TgZ(29,"th"),e._uU(30,"|"),e.qZA(),e.TgZ(31,"th",8)(32,"form",9),e.NdJ("ngSubmit",function(){return o.addNewSound()}),e._UZ(33,"input",10),e.qZA()(),e.TgZ(34,"th"),e._uU(35,"|"),e.qZA()(),e.TgZ(36,"tr"),e._UZ(37,"th",4),e.TgZ(38,"th"),e._uU(39,"+"),e.qZA()()()()),2&t&&(e.xp6(18),e.Q6J("ngForOf",o.getRestPhonemes()),e.xp6(9),e.Q6J("ngIf",o.soundForm.valid),e.xp6(1),e.Q6J("ngIf",!o.soundForm.valid),e.xp6(4),e.Q6J("formGroup",o.soundForm))},dependencies:[dt,It,Zi,Zn,Dn,oi,_,ft,An,Fl]}),r})(),D1=(()=>{class r{constructor(t,o){this.cdRef=t,this.languagesService=o,this.onClick=new e.vpe}ngOnInit(){}ngOnChanges(t){console.log("pulmonic consonants changes",t)}clicked(t){this.onClick.emit(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(fs))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-non-pulmonic-consonants"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},features:[e.TTD],decls:913,vars:150,consts:[["span","1",2,"width","79px"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","3.489228732%"],["colspan","33"],["app-horizontal-dash","","colspan","3"],["app-horizontal-dash","","colspan","29"],["colspan","3",2,"text-align","right"],["colspan","5"],["colspan","12"],["colspan","7"],["colspan","2"],["colspan","3"],["colspan","2","app-horizontal-dash",""],["colspan","3",2,"text-align","left"],["title","Labio-dental"],["title","Post-alveolar"],["title","Retro-flex"],["title","Pharyngeal/Epi-glottal"],["app-horizontal-dash",""],["rowspan","9"],[3,"languageSounds","phonetic","onClick"],["colspan","8"],["colspan","8","app-horizontal-dash",""],["colspan","14"],["colspan","5","app-horizontal-dash",""],["rowspan","11"],["app-horizontal-dash","","colspan","33"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",1)(6,"col",3)(7,"col",3)(8,"col",1)(9,"col",3)(10,"col",3)(11,"col",1)(12,"col",3)(13,"col",3)(14,"col",1)(15,"col",3)(16,"col",3)(17,"col",1)(18,"col",3)(19,"col",3)(20,"col",1)(21,"col",3)(22,"col",3)(23,"col",1)(24,"col",3)(25,"col",3)(26,"col",1)(27,"col",3)(28,"col",3)(29,"col",1)(30,"col",3)(31,"col",3)(32,"col",1)(33,"col",3)(34,"col",3)(35,"col",1),e.qZA(),e.TgZ(36,"tbody")(37,"tr")(38,"th",4),e._uU(39," --- NON-PLUMONIC CONSONANTS --- "),e.qZA(),e.TgZ(40,"th"),e._uU(41,"|"),e.qZA()(),e.TgZ(42,"tr"),e._UZ(43,"th",5),e.TgZ(44,"th"),e._uU(45,"+"),e.qZA(),e._UZ(46,"th",6),e.TgZ(47,"th"),e._uU(48,"+"),e.qZA()(),e.TgZ(49,"tr")(50,"th",7),e._uU(51,"Place"),e.qZA(),e.TgZ(52,"th"),e._uU(53,"|"),e.qZA(),e.TgZ(54,"th",8),e._uU(55,"Labial"),e.qZA(),e.TgZ(56,"th"),e._uU(57,"|"),e.qZA(),e.TgZ(58,"th",9),e._uU(59,"Coronal"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"|"),e.qZA(),e.TgZ(62,"th",10),e._uU(63,"Dorsal"),e.qZA(),e.TgZ(64,"th"),e._uU(65,"|"),e.qZA(),e.TgZ(66,"th",11),e._uU(67,"Laryngeal"),e.qZA(),e.TgZ(68,"th"),e._uU(69,"|"),e.qZA()(),e.TgZ(70,"tr"),e._UZ(71,"th",12),e.TgZ(72,"th"),e._uU(73,"|"),e.qZA(),e._UZ(74,"th",13),e.TgZ(75,"th"),e._uU(76,"+"),e.qZA(),e._UZ(77,"th",13),e.TgZ(78,"th"),e._uU(79,"+"),e.qZA(),e._UZ(80,"th",13),e.TgZ(81,"th"),e._uU(82,"+"),e.qZA(),e._UZ(83,"th",13),e.TgZ(84,"th"),e._uU(85,"+"),e.qZA(),e._UZ(86,"th",13),e.TgZ(87,"th"),e._uU(88,"+"),e.qZA(),e._UZ(89,"th",13),e.TgZ(90,"th"),e._uU(91,"+"),e.qZA(),e._UZ(92,"th",13),e.TgZ(93,"th"),e._uU(94,"+"),e.qZA(),e._UZ(95,"th",13),e.TgZ(96,"th"),e._uU(97,"+"),e.qZA(),e._UZ(98,"th",13),e.TgZ(99,"th"),e._uU(100,"+"),e.qZA(),e._UZ(101,"th",13),e.TgZ(102,"th"),e._uU(103,"+"),e.qZA()(),e.TgZ(104,"tr")(105,"th",14),e._uU(106,"Manner"),e.qZA(),e.TgZ(107,"th"),e._uU(108,"|"),e.qZA(),e.TgZ(109,"th",11),e._uU(110,"Bilabial"),e.qZA(),e.TgZ(111,"th"),e._uU(112,"|"),e.qZA(),e.TgZ(113,"th",11)(114,"abbr",15),e._uU(115,"LD"),e.qZA()(),e.TgZ(116,"th"),e._uU(117,"|"),e.qZA(),e.TgZ(118,"th",11),e._uU(119,"Dental"),e.qZA(),e.TgZ(120,"th"),e._uU(121,"|"),e.qZA(),e.TgZ(122,"th",11),e._uU(123,"Alveolar"),e.qZA(),e.TgZ(124,"th"),e._uU(125,"|"),e.qZA(),e.TgZ(126,"th",11)(127,"abbr",16),e._uU(128,"PA"),e.qZA()(),e.TgZ(129,"th"),e._uU(130,"|"),e.qZA(),e.TgZ(131,"th",11)(132,"abbr",17),e._uU(133,"RF"),e.qZA()(),e.TgZ(134,"th"),e._uU(135,"|"),e.qZA(),e.TgZ(136,"th",11),e._uU(137,"Palatal"),e.qZA(),e.TgZ(138,"th"),e._uU(139,"|"),e.qZA(),e.TgZ(140,"th",11),e._uU(141,"Velar"),e.qZA(),e.TgZ(142,"th"),e._uU(143,"|"),e.qZA(),e.TgZ(144,"th",11),e._uU(145,"Uvular"),e.qZA(),e.TgZ(146,"th"),e._uU(147,"|"),e.qZA(),e.TgZ(148,"th",11)(149,"abbr",18),e._uU(150,"P/EG"),e.qZA()(),e.TgZ(151,"th"),e._uU(152,"|"),e.qZA()(),e.TgZ(153,"tr"),e._UZ(154,"th",19),e.TgZ(155,"th"),e._uU(156,"+"),e.qZA(),e._UZ(157,"th",19),e.TgZ(158,"th"),e._uU(159,"+"),e.qZA(),e._UZ(160,"th",13),e.TgZ(161,"th"),e._uU(162,"+"),e.qZA(),e._UZ(163,"th",13),e.TgZ(164,"th"),e._uU(165,"+"),e.qZA(),e._UZ(166,"th",13),e.TgZ(167,"th"),e._uU(168,"+"),e.qZA(),e._UZ(169,"th",13),e.TgZ(170,"th"),e._uU(171,"+"),e.qZA(),e._UZ(172,"th",13),e.TgZ(173,"th"),e._uU(174,"+"),e.qZA(),e._UZ(175,"th",13),e.TgZ(176,"th"),e._uU(177,"+"),e.qZA(),e._UZ(178,"th",13),e.TgZ(179,"th"),e._uU(180,"+"),e.qZA(),e._UZ(181,"th",13),e.TgZ(182,"th"),e._uU(183,"+"),e.qZA(),e._UZ(184,"th",13),e.TgZ(185,"th"),e._uU(186,"+"),e.qZA(),e._UZ(187,"th",13),e.TgZ(188,"th"),e._uU(189,"+"),e.qZA()(),e.TgZ(190,"tr")(191,"th",20),e._uU(192,"Ejective"),e.qZA(),e.TgZ(193,"th",20),e._uU(194,"|"),e._UZ(195,"br"),e._uU(196,"|"),e._UZ(197,"br"),e._uU(198,"|"),e._UZ(199,"br"),e._uU(200,"|"),e._UZ(201,"br"),e._uU(202,"|"),e._UZ(203,"br"),e._uU(204,"|"),e._UZ(205,"br"),e._uU(206,"|"),e._UZ(207,"br"),e._uU(208,"|"),e._UZ(209,"br"),e._uU(210,"|"),e._UZ(211,"br"),e._uU(212,"|"),e._UZ(213,"br"),e._uU(214,"|"),e.qZA(),e.TgZ(215,"th"),e._uU(216,"Plosive"),e.qZA(),e.TgZ(217,"th"),e._uU(218,"|"),e.qZA(),e.TgZ(219,"th",11)(220,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(221,"th"),e._uU(222,"|"),e.qZA(),e._UZ(223,"th",11),e.TgZ(224,"th"),e._uU(225,"|"),e.qZA(),e.TgZ(226,"th",22)(227,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(228,"th"),e._uU(229,"|"),e.qZA(),e.TgZ(230,"th",11)(231,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(232,"th"),e._uU(233,"|"),e.qZA(),e.TgZ(234,"th",11)(235,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(236,"th"),e._uU(237,"|"),e.qZA(),e.TgZ(238,"th",11)(239,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(240,"th"),e._uU(241,"|"),e.qZA(),e.TgZ(242,"th",11)(243,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(244,"th"),e._uU(245,"|"),e.qZA(),e.TgZ(246,"th",11)(247,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(248,"th"),e._uU(249,"|"),e.qZA()(),e.TgZ(250,"tr"),e._UZ(251,"th",19),e.TgZ(252,"th"),e._uU(253,"+"),e.qZA(),e._UZ(254,"th",13),e.TgZ(255,"th"),e._uU(256,"+"),e.qZA(),e._UZ(257,"th",11),e.TgZ(258,"th"),e._uU(259,"+"),e.qZA(),e._UZ(260,"th",13),e.TgZ(261,"th"),e._uU(262,"+"),e.qZA(),e._UZ(263,"th",13),e.TgZ(264,"th"),e._uU(265,"+"),e.qZA(),e._UZ(266,"th",13),e.TgZ(267,"th"),e._uU(268,"+"),e.qZA(),e._UZ(269,"th",13),e.TgZ(270,"th"),e._uU(271,"+"),e.qZA(),e._UZ(272,"th",13),e.TgZ(273,"th"),e._uU(274,"+"),e.qZA(),e._UZ(275,"th",13),e.TgZ(276,"th"),e._uU(277,"+"),e.qZA(),e._UZ(278,"th",13),e.TgZ(279,"th"),e._uU(280,"+"),e.qZA(),e._UZ(281,"th",13),e.TgZ(282,"th"),e._uU(283,"+"),e.qZA()(),e.TgZ(284,"tr")(285,"th"),e._uU(286,"Affricate"),e.qZA(),e.TgZ(287,"th"),e._uU(288,"|"),e.qZA(),e._UZ(289,"th",8),e.TgZ(290,"th"),e._uU(291,"|"),e.qZA(),e.TgZ(292,"th",11)(293,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(294,"th"),e._uU(295,"|"),e.qZA(),e.TgZ(296,"th",11)(297,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(298,"th"),e._uU(299,"|"),e.qZA(),e.TgZ(300,"th",11)(301,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(302,"th"),e._uU(303,"|"),e.qZA(),e.TgZ(304,"th",11)(305,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(306,"th"),e._uU(307,"|"),e.qZA(),e._UZ(308,"th",11),e.TgZ(309,"th"),e._uU(310,"|"),e.qZA(),e.TgZ(311,"th",11)(312,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(313,"th"),e._uU(314,"|"),e.qZA(),e.TgZ(315,"th",11)(316,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(317,"th"),e._uU(318,"|"),e.qZA(),e._UZ(319,"th",11),e.TgZ(320,"th"),e._uU(321,"|"),e.qZA()(),e.TgZ(322,"tr"),e._UZ(323,"th",19),e.TgZ(324,"th"),e._uU(325,"+"),e.qZA(),e._UZ(326,"th",13),e.TgZ(327,"th"),e._uU(328,"+"),e.qZA(),e._UZ(329,"th",13),e.TgZ(330,"th"),e._uU(331,"+"),e.qZA(),e._UZ(332,"th",13),e.TgZ(333,"th"),e._uU(334,"+"),e.qZA(),e._UZ(335,"th",13),e.TgZ(336,"th"),e._uU(337,"+"),e.qZA(),e._UZ(338,"th",13),e.TgZ(339,"th"),e._uU(340,"+"),e.qZA(),e._UZ(341,"th",13),e.TgZ(342,"th"),e._uU(343,"+"),e.qZA(),e._UZ(344,"th",13),e.TgZ(345,"th"),e._uU(346,"+"),e.qZA(),e._UZ(347,"th",13),e.TgZ(348,"th"),e._uU(349,"+"),e.qZA(),e._UZ(350,"th",13),e.TgZ(351,"th"),e._uU(352,"+"),e.qZA(),e._UZ(353,"th",11),e.TgZ(354,"th"),e._uU(355,"|"),e.qZA()(),e.TgZ(356,"tr")(357,"th"),e._uU(358,"Fricative"),e.qZA(),e.TgZ(359,"th"),e._uU(360,"|"),e.qZA(),e.TgZ(361,"th",11)(362,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(363,"th"),e._uU(364,"|"),e.qZA(),e.TgZ(365,"th",11)(366,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(367,"th"),e._uU(368,"|"),e.qZA(),e.TgZ(369,"th",11)(370,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(371,"th"),e._uU(372,"|"),e.qZA(),e.TgZ(373,"th",11)(374,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(375,"th"),e._uU(376,"|"),e.qZA(),e.TgZ(377,"th",11)(378,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(379,"th"),e._uU(380,"|"),e.qZA(),e.TgZ(381,"th",11)(382,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(383,"th"),e._uU(384,"|"),e.qZA(),e.TgZ(385,"th",11)(386,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(387,"th"),e._uU(388,"|"),e.qZA(),e.TgZ(389,"th",11)(390,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(391,"th"),e._uU(392,"|"),e.qZA(),e.TgZ(393,"th",11)(394,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(395,"th"),e._uU(396,"|"),e.qZA(),e._UZ(397,"th",11),e.TgZ(398,"th"),e._uU(399,"|"),e.qZA()(),e.TgZ(400,"tr"),e._UZ(401,"th",19),e.TgZ(402,"th"),e._uU(403,"+"),e.qZA(),e._UZ(404,"th",13),e.TgZ(405,"th"),e._uU(406,"+"),e.qZA(),e._UZ(407,"th",13),e.TgZ(408,"th"),e._uU(409,"+"),e.qZA(),e._UZ(410,"th",13),e.TgZ(411,"th"),e._uU(412,"+"),e.qZA(),e._UZ(413,"th",13),e.TgZ(414,"th"),e._uU(415,"+"),e.qZA(),e._UZ(416,"th",13),e.TgZ(417,"th"),e._uU(418,"+"),e.qZA(),e._UZ(419,"th",13),e.TgZ(420,"th"),e._uU(421,"+"),e.qZA(),e._UZ(422,"th",13),e.TgZ(423,"th"),e._uU(424,"+"),e.qZA(),e._UZ(425,"th",13),e.TgZ(426,"th"),e._uU(427,"+"),e.qZA(),e._UZ(428,"th",13),e.TgZ(429,"th"),e._uU(430,"+"),e.qZA(),e._UZ(431,"th",11),e.TgZ(432,"th"),e._uU(433,"|"),e.qZA()(),e.TgZ(434,"tr")(435,"th"),e._uU(436,"Lateral affr."),e.qZA(),e.TgZ(437,"th"),e._uU(438,"|"),e.qZA(),e._UZ(439,"th",8),e.TgZ(440,"th"),e._uU(441,"|"),e.qZA(),e.TgZ(442,"th",22)(443,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(444,"th"),e._uU(445,"|"),e.qZA(),e._UZ(446,"th",11),e.TgZ(447,"th"),e._uU(448,"|"),e.qZA(),e.TgZ(449,"th",11)(450,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(451,"th"),e._uU(452,"|"),e.qZA(),e.TgZ(453,"th",11)(454,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(455,"th"),e._uU(456,"|"),e.qZA(),e._UZ(457,"th",8),e.TgZ(458,"th"),e._uU(459,"|"),e.qZA()(),e.TgZ(460,"tr"),e._UZ(461,"th",19),e.TgZ(462,"th"),e._uU(463,"+"),e.qZA(),e._UZ(464,"th",8),e.TgZ(465,"th"),e._uU(466,"+"),e.qZA(),e._UZ(467,"th",23),e.TgZ(468,"th"),e._uU(469,"+"),e.qZA(),e._UZ(470,"th",11),e.TgZ(471,"th"),e._uU(472,"+"),e.qZA(),e._UZ(473,"th",13),e.TgZ(474,"th"),e._uU(475,"+"),e.qZA(),e._UZ(476,"th",13),e.TgZ(477,"th"),e._uU(478,"+"),e.qZA(),e._UZ(479,"th",8),e.TgZ(480,"th"),e._uU(481,"|"),e.qZA()(),e.TgZ(482,"tr")(483,"th"),e._uU(484,"Lateral fric."),e.qZA(),e.TgZ(485,"th"),e._uU(486,"|"),e.qZA(),e._UZ(487,"th",8),e.TgZ(488,"th"),e._uU(489,"|"),e.qZA(),e.TgZ(490,"th",22)(491,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(492,"th"),e._uU(493,"|"),e.qZA(),e._UZ(494,"th",24),e.TgZ(495,"th"),e._uU(496,"|"),e.qZA()(),e.TgZ(497,"tr"),e._UZ(498,"th",19),e.TgZ(499,"th"),e._uU(500,"+"),e.qZA(),e._UZ(501,"th",19),e.TgZ(502,"th"),e._uU(503,"+"),e.qZA(),e._UZ(504,"th",25),e.TgZ(505,"th"),e._uU(506,"+"),e.qZA(),e._UZ(507,"th",13),e.TgZ(508,"th"),e._uU(509,"+"),e.qZA(),e._UZ(510,"th",25),e.TgZ(511,"th"),e._uU(512,"+"),e.qZA(),e._UZ(513,"th",13),e.TgZ(514,"th"),e._uU(515,"+"),e.qZA(),e._UZ(516,"th",13),e.TgZ(517,"th"),e._uU(518,"+"),e.qZA(),e._UZ(519,"th",22),e.TgZ(520,"th"),e._uU(521,"|"),e.qZA()(),e.TgZ(522,"tr")(523,"th",26),e._uU(524,"Click"),e.qZA(),e.TgZ(525,"th",26),e._uU(526,"|"),e._UZ(527,"br"),e._uU(528,"|"),e._UZ(529,"br"),e._uU(530,"|"),e._UZ(531,"br"),e._uU(532,"|"),e._UZ(533,"br"),e._uU(534,"|"),e._UZ(535,"br"),e._uU(536,"|"),e._UZ(537,"br"),e._uU(538,"|"),e._UZ(539,"br"),e._uU(540,"|"),e._UZ(541,"br"),e._uU(542,"|"),e._UZ(543,"br"),e._uU(544,"|"),e._UZ(545,"br"),e._uU(546,"|"),e._UZ(547,"br"),e._uU(548,"|"),e._UZ(549,"br"),e._uU(550,"|"),e.qZA(),e.TgZ(551,"th"),e._uU(552,"Tenuis"),e.qZA(),e.TgZ(553,"th"),e._uU(554,"|"),e.qZA(),e.TgZ(555,"th",11)(556,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(557,"th"),e.TgZ(558,"th",11)(559,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(560,"th"),e._uU(561,"|"),e.qZA(),e.TgZ(562,"th")(563,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(564,"th")(565,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(566,"th"),e._uU(567,"|"),e.qZA(),e.TgZ(568,"th",11)(569,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(570,"th"),e.TgZ(571,"th",11)(572,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(573,"th"),e._uU(574,"|"),e.qZA(),e.TgZ(575,"th")(576,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(577,"th")(578,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(579,"th"),e._uU(580,"|"),e.qZA(),e.TgZ(581,"th")(582,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(583,"th")(584,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(585,"th"),e._uU(586,"|"),e.qZA(),e._UZ(587,"th",22),e.TgZ(588,"th"),e._uU(589,"|"),e.qZA()(),e.TgZ(590,"tr"),e._UZ(591,"th",19),e.TgZ(592,"th"),e._uU(593,"+"),e.qZA(),e._UZ(594,"th",25),e.TgZ(595,"th"),e._uU(596,"+"),e.qZA(),e._UZ(597,"th",13),e.TgZ(598,"th"),e._uU(599,"+"),e.qZA(),e._UZ(600,"th",25),e.TgZ(601,"th"),e._uU(602,"+"),e.qZA(),e._UZ(603,"th",13),e.TgZ(604,"th"),e._uU(605,"+"),e.qZA(),e._UZ(606,"th",13),e.TgZ(607,"th"),e._uU(608,"+"),e.qZA(),e._UZ(609,"th",22),e.TgZ(610,"th"),e._uU(611,"|"),e.qZA()(),e.TgZ(612,"tr")(613,"th"),e._uU(614,"Voiced"),e.qZA(),e.TgZ(615,"th"),e._uU(616,"|"),e.qZA(),e.TgZ(617,"th",11)(618,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(619,"th"),e.TgZ(620,"th",11)(621,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(622,"th"),e._uU(623,"|"),e.qZA(),e.TgZ(624,"th")(625,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(626,"th")(627,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(628,"th"),e._uU(629,"|"),e.qZA(),e.TgZ(630,"th",11)(631,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(632,"th"),e.TgZ(633,"th",11)(634,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(635,"th"),e._uU(636,"|"),e.qZA(),e.TgZ(637,"th")(638,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(639,"th")(640,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(641,"th"),e._uU(642,"|"),e.qZA(),e.TgZ(643,"th")(644,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(645,"th")(646,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(647,"th"),e._uU(648,"|"),e.qZA(),e._UZ(649,"th",22),e.TgZ(650,"th"),e._uU(651,"|"),e.qZA()(),e.TgZ(652,"tr"),e._UZ(653,"th",19),e.TgZ(654,"th"),e._uU(655,"+"),e.qZA(),e._UZ(656,"th",25),e.TgZ(657,"th"),e._uU(658,"+"),e.qZA(),e._UZ(659,"th",13),e.TgZ(660,"th"),e._uU(661,"+"),e.qZA(),e._UZ(662,"th",25),e.TgZ(663,"th"),e._uU(664,"+"),e.qZA(),e._UZ(665,"th",13),e.TgZ(666,"th"),e._uU(667,"+"),e.qZA(),e._UZ(668,"th",13),e.TgZ(669,"th"),e._uU(670,"+"),e.qZA(),e._UZ(671,"th",13),e.TgZ(672,"th"),e._uU(673,"+"),e.qZA(),e._UZ(674,"th",8),e.TgZ(675,"th"),e._uU(676,"|"),e.qZA()(),e.TgZ(677,"tr")(678,"th"),e._uU(679,"Nasal"),e.qZA(),e.TgZ(680,"th"),e._uU(681,"|"),e.qZA(),e.TgZ(682,"th",11)(683,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(684,"th"),e.TgZ(685,"th",11)(686,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(687,"th"),e._uU(688,"|"),e.qZA(),e.TgZ(689,"th")(690,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(691,"th")(692,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(693,"th"),e._uU(694,"|"),e.qZA(),e.TgZ(695,"th",11)(696,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(697,"th"),e.TgZ(698,"th",11)(699,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(700,"th"),e._uU(701,"|"),e.qZA(),e.TgZ(702,"th")(703,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(704,"th")(705,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(706,"th"),e._uU(707,"|"),e.qZA(),e.TgZ(708,"th")(709,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(710,"th")(711,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(712,"th"),e._uU(713,"|"),e.qZA(),e.TgZ(714,"th",11)(715,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(716,"th"),e._uU(717,"|"),e.qZA(),e._UZ(718,"th",8),e.TgZ(719,"th"),e._uU(720,"|"),e.qZA()(),e.TgZ(721,"tr"),e._UZ(722,"th",19),e.TgZ(723,"th"),e._uU(724,"+"),e.qZA(),e._UZ(725,"th",25),e.TgZ(726,"th"),e._uU(727,"+"),e.qZA(),e._UZ(728,"th",13),e.TgZ(729,"th"),e._uU(730,"+"),e.qZA(),e._UZ(731,"th",25),e.TgZ(732,"th"),e._uU(733,"+"),e.qZA(),e._UZ(734,"th",13),e.TgZ(735,"th"),e._uU(736,"+"),e.qZA(),e._UZ(737,"th",13),e.TgZ(738,"th"),e._uU(739,"+"),e.qZA(),e._UZ(740,"th",13),e.TgZ(741,"th"),e._uU(742,"+"),e.qZA(),e._UZ(743,"th",8),e.TgZ(744,"th"),e._uU(745,"|"),e.qZA()(),e.TgZ(746,"tr")(747,"th"),e._uU(748,"Tenuis ltrl"),e.qZA(),e.TgZ(749,"th"),e._uU(750,"|"),e.qZA(),e._UZ(751,"th",8),e.TgZ(752,"th"),e._uU(753,"|"),e.qZA(),e._UZ(754,"th"),e.TgZ(755,"th",12)(756,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(757,"th",12)(758,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(759,"th"),e.TgZ(760,"th"),e._uU(761,"|"),e.qZA(),e._UZ(762,"th",24),e.TgZ(763,"th"),e._uU(764,"|"),e.qZA()(),e.TgZ(765,"tr"),e._UZ(766,"th",19),e.TgZ(767,"th"),e._uU(768,"+"),e.qZA(),e._UZ(769,"th",8),e.TgZ(770,"th"),e._uU(771,"+"),e.qZA(),e._UZ(772,"th",23),e.TgZ(773,"th"),e._uU(774,"+"),e.qZA(),e._UZ(775,"th",24),e.TgZ(776,"th"),e._uU(777,"|"),e.qZA()(),e.TgZ(778,"tr")(779,"th"),e._uU(780,"Voiced ltrl"),e.qZA(),e.TgZ(781,"th"),e._uU(782,"|"),e.qZA(),e._UZ(783,"th",8),e.TgZ(784,"th"),e._uU(785,"|"),e.qZA(),e._UZ(786,"th"),e.TgZ(787,"th",12)(788,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(789,"th",12)(790,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(791,"th"),e.TgZ(792,"th"),e._uU(793,"|"),e.qZA(),e._UZ(794,"th",24),e.TgZ(795,"th"),e._uU(796,"|"),e.qZA()(),e.TgZ(797,"tr"),e._UZ(798,"th",19),e.TgZ(799,"th"),e._uU(800,"+"),e.qZA(),e._UZ(801,"th",8),e.TgZ(802,"th"),e._uU(803,"+"),e.qZA(),e._UZ(804,"th",23),e.TgZ(805,"th"),e._uU(806,"+"),e.qZA(),e._UZ(807,"th",24),e.TgZ(808,"th"),e._uU(809,"|"),e.qZA()(),e.TgZ(810,"tr")(811,"th"),e._uU(812,"Nasal ltrl"),e.qZA(),e.TgZ(813,"th"),e._uU(814,"|"),e.qZA(),e._UZ(815,"th",8),e.TgZ(816,"th"),e._uU(817,"|"),e.qZA(),e._UZ(818,"th"),e.TgZ(819,"th",12)(820,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(821,"th",12)(822,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(823,"th"),e.TgZ(824,"th"),e._uU(825,"|"),e.qZA(),e._UZ(826,"th",24),e.TgZ(827,"th"),e._uU(828,"|"),e.qZA()(),e.TgZ(829,"tr"),e._UZ(830,"th",19),e.TgZ(831,"th"),e._uU(832,"+"),e.qZA(),e._UZ(833,"th",19),e.TgZ(834,"th"),e._uU(835,"+"),e.qZA(),e._UZ(836,"th",13),e.TgZ(837,"th"),e._uU(838,"+"),e.qZA(),e._UZ(839,"th",11),e.TgZ(840,"th"),e._uU(841,"+"),e.qZA(),e._UZ(842,"th",23),e.TgZ(843,"th"),e._uU(844,"+"),e.qZA(),e._UZ(845,"th",13),e.TgZ(846,"th"),e._uU(847,"+"),e.qZA(),e._UZ(848,"th",13),e.TgZ(849,"th"),e._uU(850,"+"),e.qZA(),e._UZ(851,"th",13),e.TgZ(852,"th"),e._uU(853,"+"),e.qZA(),e._UZ(854,"th",13),e.TgZ(855,"th"),e._uU(856,"+"),e.qZA(),e._UZ(857,"th",11),e.TgZ(858,"th"),e._uU(859,"|"),e.qZA()(),e.TgZ(860,"tr")(861,"th",12),e._uU(862,"Implosive"),e.qZA(),e.TgZ(863,"th"),e._uU(864,"|"),e.qZA(),e.TgZ(865,"th")(866,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(867,"th")(868,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(869,"th"),e._uU(870,"|"),e.qZA(),e._UZ(871,"th",11),e.TgZ(872,"th"),e._uU(873,"|"),e.qZA(),e._UZ(874,"th"),e.TgZ(875,"th",12)(876,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(877,"th",12)(878,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(879,"th"),e.TgZ(880,"th"),e._uU(881,"|"),e.qZA(),e.TgZ(882,"th")(883,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(884,"th")(885,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(886,"th"),e._uU(887,"|"),e.qZA(),e.TgZ(888,"th")(889,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(890,"th")(891,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(892,"th"),e._uU(893,"|"),e.qZA(),e.TgZ(894,"th")(895,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(896,"th")(897,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(898,"th"),e._uU(899,"|"),e.qZA(),e.TgZ(900,"th")(901,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(902,"th")(903,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(904,"th"),e._uU(905,"|"),e.qZA(),e._UZ(906,"th",11),e.TgZ(907,"th"),e._uU(908,"|"),e.qZA()(),e.TgZ(909,"tr"),e._UZ(910,"th",27),e.TgZ(911,"th"),e._uU(912,"+"),e.qZA()()()()),2&t&&(e.xp6(220),e.Q6J("languageSounds",o.languageSounds)("phonetic","p\u02bc"),e.xp6(7),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0288\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","c\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u02a1\u02bc"),e.xp6(46),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u032a\u0361\u03b8\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u0361s\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u0320\u0361\u0283\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0288\u0361\u0282\u02bc"),e.xp6(7),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u0361x\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u0361\u03c7\u02bc"),e.xp6(46),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0278\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","f\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u03b8\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","s\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0283\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0282\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0255\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","x\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u03c7\u02bc"),e.xp6(49),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u0361\u026c\u02bc"),e.xp6(7),e.Q6J("languageSounds",o.languageSounds)("phonetic","c\u0361\u028e\u031d\u030a\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u0361\u029f\u031d\u030a\u02bc"),e.xp6(37),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u026c\u02bc"),e.xp6(65),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u0298"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u0298"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u01c0"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u01c0"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u01c3"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u01c3"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u203c"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u203c"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u01c2"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u01c2"),e.xp6(34),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u0298"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u0298"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u01c0"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u01c0"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u01c3"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u01c3"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u203c"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u203c"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u01c2"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u01c2"),e.xp6(37),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u0298"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u0298"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u01c0"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u01c0"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u01c3"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u01c3"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u203c"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u203c"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u01c2"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u01c2"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u029e"),e.xp6(41),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u01c1"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u01c1"),e.xp6(30),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u01c1"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u01c1"),e.xp6(30),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u01c1"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u01c1"),e.xp6(44),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0253\u0325"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0253"),e.xp6(8),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0257\u0325\u0325"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0257"),e.xp6(5),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u1d91\u030a"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u1d91"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0284\u030a"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0284"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0260\u030a"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0260"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u029b\u0325"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u029b"))},dependencies:[An,Fl]}),r})(),TA=(()=>{class r{constructor(t){this.languagesService=t}ngOnInit(){this.reloadLanguage()}ngOnChanges(t){t.selectedLanguage&&t.selectedLanguage.currentValue&&this.reloadLanguage()}clicked(t){var o,i,u,d;if(console.log("clicked",t),this.languageSounds&&this.languageSounds.langId){const g=null===(i=null===(o=this.languageSounds)||void 0===o?void 0:o.selectedMainPhonemes)||void 0===i?void 0:i.find(y=>y.phoneme===t);if(g&&g.id)this.languagesService.deleteLanguagePhoneme({phonemeId:g.id}).subscribe(()=>{var y,w;this.languageSounds&&(this.languageSounds.selectedMainPhonemes=null===(w=null===(y=this.languageSounds)||void 0===y?void 0:y.selectedMainPhonemes)||void 0===w?void 0:w.filter(D=>D.id!==g.id))});else{const y=null===(d=null===(u=this.languageSounds)||void 0===u?void 0:u.selectedRestPhonemes)||void 0===d?void 0:d.find(w=>w.phoneme===t);y&&y.id?this.languagesService.deleteLanguagePhoneme({phonemeId:y.id}).subscribe(()=>{var w,D;this.languageSounds&&(this.languageSounds.selectedRestPhonemes=null===(D=null===(w=this.languageSounds)||void 0===w?void 0:w.selectedRestPhonemes)||void 0===D?void 0:D.filter(x=>x.id!==y.id))}):this.languagesService.saveLanguagePhoneme({body:t,languageId:this.languageSounds.langId}).subscribe(w=>{var D,x;null===(x=null===(D=this.languageSounds)||void 0===D?void 0:D.selectedMainPhonemes)||void 0===x||x.push(w)})}}}reloadLanguage(){var t;this.languageSounds=void 0,this.selectedLanguage&&this.selectedLanguage.id&&this.languagesService.getLanguagePhonemes({languageId:null===(t=this.selectedLanguage)||void 0===t?void 0:t.id}).subscribe(o=>{this.languageSounds=o})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(fs))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-phonetics"]],inputs:{selectedLanguage:"selectedLanguage"},features:[e.TTD],decls:4,vars:4,consts:[[3,"languageSounds","onClick"]],template:function(t,o){1&t&&(e.TgZ(0,"app-pulmonic-consonants",0),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e.TgZ(1,"app-vowels",0),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e.TgZ(2,"app-non-pulmonic-consonants",0),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e.TgZ(3,"app-other-phonemes",0),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()),2&t&&(e.Q6J("languageSounds",o.languageSounds),e.xp6(1),e.Q6J("languageSounds",o.languageSounds),e.xp6(1),e.Q6J("languageSounds",o.languageSounds),e.xp6(1),e.Q6J("languageSounds",o.languageSounds))},dependencies:[kg,A1,Um,D1]}),r})();var ql=(()=>{return(r=ql||(ql={})).SoundChange="SOUND_CHANGE",r.WritingSystem="WRITING_SYSTEM",ql;var r})();let Mm=(()=>{class r{constructor(t){this.editMode=!1,this.soundChangesRaw="",this.soundChanges=[],this.soundChangePurpose=t,this.refresh()}ngOnInit(){this.refresh()}soundChangesChanges(t){this.soundChanges=t}soundChangesRawChange(){}cancelSoundChanges(){this.editMode=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ql))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],features:[e.TTD],decls:0,vars:0,template:function(t,o){},encapsulation:2}),r})(),Ri=(()=>{class r extends Pl{constructor(t,o){super(t,o)}getAllLanguagesFrom$Response(t){const o=new ot(this.rootUrl,r.GetAllLanguagesFromPath,"get");return t&&o.path("fromId",t.fromId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getAllLanguagesFrom(t){return this.getAllLanguagesFrom$Response(t).pipe((0,W.U)(o=>o.body))}getConnections$Response(t){const o=new ot(this.rootUrl,r.GetConnectionsPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getConnections(t){return this.getConnections$Response(t).pipe((0,W.U)(o=>o.body))}getConnectionFromLang$Response(t){const o=new ot(this.rootUrl,r.GetConnectionFromLangPath,"get");return t&&o.path("fromLangId",t.fromLangId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getConnectionFromLang(t){return this.getConnectionFromLang$Response(t).pipe((0,W.U)(o=>o.body))}getConnectionToLang$Response(t){const o=new ot(this.rootUrl,r.GetConnectionToLangPath,"get");return t&&o.path("toLangId",t.toLangId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getConnectionToLang(t){return this.getConnectionToLang$Response(t).pipe((0,W.U)(o=>o.body))}getConnectionByLangs$Response(t){const o=new ot(this.rootUrl,r.GetConnectionByLangsPath,"get");return t&&(o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{})),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getConnectionByLangs(t){return this.getConnectionByLangs$Response(t).pipe((0,W.U)(o=>o.body))}updateConnectionByLangs$Response(t){const o=new ot(this.rootUrl,r.UpdateConnectionByLangsPath,"post");return t&&(o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:void 0})))}updateConnectionByLangs(t){return this.updateConnectionByLangs$Response(t).pipe((0,W.U)(o=>o.body))}deleteConnectionByLangs$Response(t){const o=new ot(this.rootUrl,r.DeleteConnectionByLangsPath,"delete");return t&&(o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{})),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:void 0})))}deleteConnectionByLangs(t){return this.deleteConnectionByLangs$Response(t).pipe((0,W.U)(o=>o.body))}saveGrammaticalValueEvolution$Response(t){const o=new ot(this.rootUrl,r.SaveGrammaticalValueEvolutionPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:parseFloat(String(i.body))})))}saveGrammaticalValueEvolution(t){return this.saveGrammaticalValueEvolution$Response(t).pipe((0,W.U)(o=>o.body))}removeGrammaticalValueEvolution$Response(t){const o=new ot(this.rootUrl,r.RemoveGrammaticalValueEvolutionPath,"delete");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:void 0})))}removeGrammaticalValueEvolution(t){return this.removeGrammaticalValueEvolution$Response(t).pipe((0,W.U)(o=>o.body))}getGrammaticalValueEvolution$Response(t){const o=new ot(this.rootUrl,r.GetGrammaticalValueEvolutionPath,"get");return t&&(o.path("langFromId",t.langFromId,{}),o.path("langToId",t.langToId,{}),o.path("posId",t.posId,{}),o.path("valueFromId",t.valueFromId,{})),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getGrammaticalValueEvolution(t){return this.getGrammaticalValueEvolution$Response(t).pipe((0,W.U)(o=>o.body))}getLanguageGraph$Response(t){const o=new ot(this.rootUrl,r.GetLanguageGraphPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getLanguageGraph(t){return this.getLanguageGraph$Response(t).pipe((0,W.U)(o=>o.body))}getAllRoutes$Response(t){const o=new ot(this.rootUrl,r.GetAllRoutesPath,"get");return t&&(o.path("fromId",t.fromId,{}),o.path("toId",t.toId,{})),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getAllRoutes(t){return this.getAllRoutes$Response(t).pipe((0,W.U)(o=>o.body))}getSoundChangesByLang$Response(t){const o=new ot(this.rootUrl,r.GetSoundChangesByLangPath,"get");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{})),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getSoundChangesByLang(t){return this.getSoundChangesByLang$Response(t).pipe((0,W.U)(o=>o.body))}getSoundChangesByLangs$Response(t){const o=new ot(this.rootUrl,r.GetSoundChangesByLangsPath,"get");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{})),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getSoundChangesByLangs(t){return this.getSoundChangesByLangs$Response(t).pipe((0,W.U)(o=>o.body))}getSoundChangesRawLinesByLang$Response(t){const o=new ot(this.rootUrl,r.GetSoundChangesRawLinesByLangPath,"get");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{})),this.http.request(o.build({responseType:"text",accept:"text/plain",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getSoundChangesRawLinesByLang(t){return this.getSoundChangesRawLinesByLang$Response(t).pipe((0,W.U)(o=>o.body))}saveSoundChangesRawLinesByLang$Response(t){const o=new ot(this.rootUrl,r.SaveSoundChangesRawLinesByLangPath,"post");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:void 0})))}saveSoundChangesRawLinesByLang(t){return this.saveSoundChangesRawLinesByLang$Response(t).pipe((0,W.U)(o=>o.body))}getSoundChangesRawLinesByLangs$Response(t){const o=new ot(this.rootUrl,r.GetSoundChangesRawLinesByLangsPath,"get");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{})),this.http.request(o.build({responseType:"text",accept:"text/plain",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getSoundChangesRawLinesByLangs(t){return this.getSoundChangesRawLinesByLangs$Response(t).pipe((0,W.U)(o=>o.body))}saveSoundChangesRawLinesByLangs$Response(t){const o=new ot(this.rootUrl,r.SaveSoundChangesRawLinesByLangsPath,"post");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:void 0})))}saveSoundChangesRawLinesByLangs(t){return this.saveSoundChangesRawLinesByLangs$Response(t).pipe((0,W.U)(o=>o.body))}getSoundChangeRaw$Response(t){const o=new ot(this.rootUrl,r.GetSoundChangeRawPath,"get");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"text/plain",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getSoundChangeRaw(t){return this.getSoundChangeRaw$Response(t).pipe((0,W.U)(o=>o.body))}updateSoundChange$Response(t){const o=new ot(this.rootUrl,r.UpdateSoundChangePath,"post");return t&&(o.path("id",t.id,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:void 0})))}updateSoundChange(t){return this.updateSoundChange$Response(t).pipe((0,W.U)(o=>o.body))}getSoundChange$Response(t){const o=new ot(this.rootUrl,r.GetSoundChangePath,"get");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getSoundChange(t){return this.getSoundChange$Response(t).pipe((0,W.U)(o=>o.body))}deleteSoundChange$Response(t){const o=new ot(this.rootUrl,r.DeleteSoundChangePath,"delete");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:void 0})))}deleteSoundChange(t){return this.deleteSoundChange$Response(t).pipe((0,W.U)(o=>o.body))}trace$Response(t){const o=new ot(this.rootUrl,r.TracePath,"post");return t&&(o.path("word",t.word,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}trace(t){return this.trace$Response(t).pipe((0,W.U)(o=>o.body))}getAllWordsWithEvolutions$Response(t){const o=new ot(this.rootUrl,r.GetAllWordsWithEvolutionsPath,"get");return t&&o.query("filter",t.filter,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getAllWordsWithEvolutions(t){return this.getAllWordsWithEvolutions$Response(t).pipe((0,W.U)(o=>o.body))}addBorrowedWord$Response(t){const o=new ot(this.rootUrl,r.AddBorrowedWordPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}addBorrowedWord(t){return this.addBorrowedWord$Response(t).pipe((0,W.U)(o=>o.body))}getAllWords1$Response(t){const o=new ot(this.rootUrl,r.GetAllWords1Path,"get");return t&&o.query("filter",t.filter,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getAllWords1(t){return this.getAllWords1$Response(t).pipe((0,W.U)(o=>o.body))}addEvolvedWord$Response(t){const o=new ot(this.rootUrl,r.AddEvolvedWordPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}addEvolvedWord(t){return this.addEvolvedWord$Response(t).pipe((0,W.U)(o=>o.body))}addEvolvedWord1$Response(t){const o=new ot(this.rootUrl,r.AddEvolvedWord1Path,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}addEvolvedWord1(t){return this.addEvolvedWord1$Response(t).pipe((0,W.U)(o=>o.body))}}return r.GetAllLanguagesFromPath="/api/evolve/allfrom/{fromId}",r.GetConnectionsPath="/api/evolve/connection/all",r.GetConnectionFromLangPath="/api/evolve/connection/from/{fromLangId}",r.GetConnectionToLangPath="/api/evolve/connection/to/{toLangId}",r.GetConnectionByLangsPath="/api/evolve/connection/{fromLangId}/{toLangId}",r.UpdateConnectionByLangsPath="/api/evolve/connection/{fromLangId}/{toLangId}",r.DeleteConnectionByLangsPath="/api/evolve/connection/{fromLangId}/{toLangId}",r.SaveGrammaticalValueEvolutionPath="/api/evolve/grammaticalvalue",r.RemoveGrammaticalValueEvolutionPath="/api/evolve/grammaticalvalue/{id}",r.GetGrammaticalValueEvolutionPath="/api/evolve/grammaticalvalue/{langFromId}/{langToId}/{posId}/{valueFromId}",r.GetLanguageGraphPath="/api/evolve/graph",r.GetAllRoutesPath="/api/evolve/routes/{fromId}/{toId}",r.GetSoundChangesByLangPath="/api/evolve/sc/lang/{soundChangePurpose}/{fromLangId}",r.GetSoundChangesByLangsPath="/api/evolve/sc/lang/{soundChangePurpose}/{fromLangId}/{toLangId}",r.GetSoundChangesRawLinesByLangPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}",r.SaveSoundChangesRawLinesByLangPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}",r.GetSoundChangesRawLinesByLangsPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}/{toLangId}",r.SaveSoundChangesRawLinesByLangsPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}/{toLangId}",r.GetSoundChangeRawPath="/api/evolve/sc/raw/{id}",r.UpdateSoundChangePath="/api/evolve/sc/raw/{id}",r.GetSoundChangePath="/api/evolve/sc/{id}",r.DeleteSoundChangePath="/api/evolve/sc/{id}",r.TracePath="/api/evolve/trace/{word}",r.GetAllWordsWithEvolutionsPath="/api/evolve/words",r.AddBorrowedWordPath="/api/evolve/words/borrow",r.GetAllWords1Path="/api/evolve/words/borrowed",r.AddEvolvedWordPath="/api/evolve/words/evolve",r.AddEvolvedWord1Path="/api/evolve/words/evolve/all",r.\u0275fac=function(t){return new(t||r)(e.LFG(ra),e.LFG(gs))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const S1=["app-sound-changes-table-row",""];function wA(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,">"),e.qZA())}function bA(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"\xbb"),e.qZA())}function AA(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"\xab"),e.qZA())}function x1(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th",2),e._uU(2),e.qZA(),e.TgZ(3,"th",0),e.YNc(4,wA,2,0,"span",1),e.YNc(5,bA,2,0,"span",1),e.YNc(6,AA,2,0,"span",1),e.qZA(),e.TgZ(7,"th",2),e._uU(8),e.qZA(),e.TgZ(9,"th",0),e._uU(10),e.qZA(),e.TgZ(11,"th",3),e._uU(12),e.qZA(),e.TgZ(13,"th",0),e._uU(14),e.qZA(),e.TgZ(15,"th",4),e._uU(16),e.qZA(),e.TgZ(17,"th",0),e._uU(18,"|"),e.qZA(),e.TgZ(19,"th",0)(20,"a",5),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editSoundChange())}),e._uU(21,"e"),e.qZA()(),e.TgZ(22,"th",0),e._uU(23,"|"),e.qZA(),e.TgZ(24,"th",0)(25,"a",6),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteSoundChanges())}),e._uU(26,"x"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(2),e.Oqu(t.soundChange.soundFrom),e.xp6(2),e.Q6J("ngIf","REPLACE_ALL"==t.soundChange.type),e.xp6(1),e.Q6J("ngIf","REPLACE_FIRST"==t.soundChange.type),e.xp6(1),e.Q6J("ngIf","REPLACE_LAST"==t.soundChange.type),e.xp6(2),e.Oqu(t.soundChange.soundTo),e.xp6(2),e.Oqu(t.soundChange.environmentAfter||t.soundChange.environmentBefore?"/":""),e.xp6(2),e.Oqu(t.soundChange.environmentBefore),e.xp6(2),e.Oqu(t.soundChange.environmentAfter||t.soundChange.environmentBefore?"_":""),e.xp6(2),e.Oqu(t.soundChange.environmentAfter)}}function Pm(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th",7)(2,"input",8),e.NdJ("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.soundChangeRaw=i)}),e.qZA()(),e.TgZ(3,"th",0),e._uU(4,"|"),e.qZA(),e.TgZ(5,"th",0)(6,"a",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveSoundChange())}),e._uU(7,"s"),e.qZA()(),e.TgZ(8,"th",0),e._uU(9,"|"),e.qZA(),e.TgZ(10,"th",0)(11,"a",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelSoundChanges())}),e._uU(12,"x"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.soundChangeRaw)}}let Z1=(()=>{class r{constructor(t){this.languagesEvolutionService=t,this.soundChangeDeleted=new e.vpe,this.editMode=!1}ngOnInit(){}editSoundChange(){console.log(this.soundChange),this.soundChange.id&&this.languagesEvolutionService.getSoundChangeRaw({id:this.soundChange.id}).subscribe(t=>{this.soundChangeRaw=t,this.editMode=!0})}deleteSoundChanges(){console.log(this.soundChange),this.soundChange.id&&this.languagesEvolutionService.deleteSoundChange({id:this.soundChange.id}).subscribe(()=>{console.log("deleted"),this.soundChangeDeleted.emit(this.soundChange)})}saveSoundChange(){if(this.soundChange.id&&this.soundChangeRaw){const t=this.soundChange.id;this.languagesEvolutionService.updateSoundChange({id:t,body:this.soundChangeRaw}).subscribe(()=>{console.log("saved"),this.languagesEvolutionService.getSoundChange({id:t}).subscribe(o=>{this.soundChange=o,this.editMode=!1})})}}cancelSoundChanges(){this.editMode=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ri))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tr","app-sound-changes-table-row",""]],inputs:{soundChange:"soundChange"},outputs:{soundChangeDeleted:"soundChangeDeleted"},attrs:S1,decls:6,vars:2,consts:[[1,"border"],[4,"ngIf"],[1,"text-white","sound-change-text"],[1,"text-white","sound-change-before"],[1,"text-white","sound-change-after"],[1,"text-yellow-dull",3,"click"],[1,"text-red-dull",3,"click"],["colspan","7"],[3,"ngModel","ngModelChange"],[1,"text-green-dull",3,"click"],[1,"text-grey-dull",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"th",0),e._uU(1,"|"),e.qZA(),e.YNc(2,x1,27,9,"ng-container",1),e.YNc(3,Pm,13,1,"ng-container",1),e.TgZ(4,"th",0),e._uU(5,"|"),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",!o.editMode),e.xp6(1),e.Q6J("ngIf",o.editMode))},dependencies:[It,Zn,Dn,mn],styles:["input[_ngcontent-%COMP%]{width:calc(100% - 20px);border:none}.sound-change-text[_ngcontent-%COMP%]{width:1%;white-space:nowrap;padding-left:8px;padding-right:8px}.sound-change-before[_ngcontent-%COMP%]{width:1%;white-space:nowrap;padding-left:8px;text-align:right}.sound-change-after[_ngcontent-%COMP%]{text-align:left}"]}),r})();function k1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr",6),e.NdJ("soundChangeDeleted",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.deleteSoundChange(i))}),e.qZA()}2&r&&e.Q6J("soundChange",n.$implicit)}function N1(r,n){1&r&&(e.TgZ(0,"tr")(1,"th",7),e._uU(2,"+"),e.qZA(),e._UZ(3,"th",8),e.TgZ(4,"th",7),e._uU(5,"+"),e.qZA(),e._UZ(6,"th",9),e.TgZ(7,"th",7),e._uU(8,"+"),e.qZA(),e._UZ(9,"th",9),e.TgZ(10,"th",7),e._uU(11,"+"),e.qZA()())}let Rm=(()=>{class r{constructor(){this.soundChangesChanges=new e.vpe}ngOnInit(){}deleteSoundChange(t){console.log("deleteSoundChange",t),this.soundChanges=this.soundChanges.filter(o=>o.id!==t.id),this.soundChangesChanges.emit(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-sound-changes-table"]],inputs:{soundChanges:"soundChanges"},outputs:{soundChangesChanges:"soundChangesChanges"},decls:18,vars:2,consts:[["span","1",1,"border",2,"width","8px"],["span","1"],["span","1",2,"width","auto"],["span","1",2,"width","16px"],["class","table-content","app-sound-changes-table-row","",3,"soundChange","soundChangeDeleted",4,"ngFor","ngForOf"],[4,"ngIf"],["app-sound-changes-table-row","",1,"table-content",3,"soundChange","soundChangeDeleted"],[1,"border"],["app-horizontal-dash","","colspan","7",1,"border"],["app-horizontal-dash","",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0)(5,"col",1)(6,"col",0)(7,"col",1)(8,"col",0)(9,"col",2)(10,"col",0)(11,"col",3)(12,"col",0)(13,"col",3)(14,"col",0),e.qZA(),e.TgZ(15,"tbody"),e.YNc(16,k1,1,1,"tr",4),e.YNc(17,N1,12,0,"tr",5),e.qZA()()),2&t&&(e.xp6(16),e.Q6J("ngForOf",o.soundChanges),e.xp6(1),e.Q6J("ngIf",o.soundChanges.length))},dependencies:[dt,It,An,Z1]}),r})(),Om=(()=>{class r{constructor(){this.soundChangesRawChange=new e.vpe,this.math=Math}ngOnInit(){}print(){console.log(this.soundChangesRaw)}soundChangesRawChangeFn(){this.soundChangesRawChange.emit(this.soundChangesRaw)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-sound-changes-edit"]],inputs:{soundChangesRaw:"soundChangesRaw"},outputs:{soundChangesRawChange:"soundChangesRawChange"},decls:18,vars:2,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["app-vertical-dash","",1,"border"],[2,"text-align","left"],[3,"rows","ngModel","ngModelChange"],[1,"border"],["app-horizontal-dash","",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0),e.qZA(),e.TgZ(5,"tbody")(6,"tr"),e._UZ(7,"th",2),e.TgZ(8,"th",3)(9,"textarea",4),e.NdJ("ngModelChange",function(u){return o.soundChangesRaw=u})("ngModelChange",function(){return o.soundChangesRawChangeFn()}),e.qZA()(),e.TgZ(10,"th",2),e._uU(11,"|"),e.qZA()(),e.TgZ(12,"tr")(13,"th",5),e._uU(14,"+"),e.qZA(),e._UZ(15,"th",6),e.TgZ(16,"th",5),e._uU(17,"+"),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("rows",o.math.min(30,110))("ngModel",o.soundChangesRaw))},dependencies:[Zn,Dn,mn,An,Mi],styles:["textarea[_ngcontent-%COMP%]{margin-top:8px;width:calc(100% - 16px)}"]}),r})();function U1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-table",8),e.NdJ("soundChangesChanges",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.soundChangesChanges)}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChanges",t.soundChanges)}}function M1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-edit",9),e.NdJ("soundChangesRawChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.soundChangesRaw=i)})("soundChangesRawChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.soundChangesRawChange())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChangesRaw",t.soundChangesRaw)}}function P1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",7),e._uU(1,"[ "),e.TgZ(2,"a",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"E"),e.qZA(),e._uU(5,"dit"),e.qZA(),e._uU(6," ]-"),e.qZA()}}function y2(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",7),e._uU(1,"[ "),e.TgZ(2,"a",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"S"),e.qZA(),e._uU(5,"ave"),e.qZA(),e._uU(6," ]-["),e.TgZ(7,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelSoundChanges())}),e._uU(8," x "),e.qZA(),e._uU(9,"]-"),e.qZA()}}let IA=(()=>{class r extends Mm{constructor(t){super(ql.WritingSystem),this.languagesEvolutionService=t}ngOnChanges(t){t.selectedLanguage&&this.refresh()}refresh(){this.selectedLanguage&&this.selectedLanguage.id&&this.languagesEvolutionService.getSoundChangesByLang({fromLangId:this.selectedLanguage.id,soundChangePurpose:this.soundChangePurpose}).subscribe(t=>{this.soundChanges=t})}editSoundChanges(){this.selectedLanguage&&this.selectedLanguage.id&&this.languagesEvolutionService.getSoundChangesRawLinesByLang({fromLangId:this.selectedLanguage.id,soundChangePurpose:this.soundChangePurpose}).subscribe(t=>{this.soundChangesRaw=t,console.log("editSoundChanges soundChangesRaw",this.soundChangesRaw),this.editMode=!0})}saveSoundChanges(){this.selectedLanguage&&this.selectedLanguage.id&&this.languagesEvolutionService.saveSoundChangesRawLinesByLang({fromLangId:this.selectedLanguage.id,body:this.soundChangesRaw,soundChangePurpose:this.soundChangePurpose}).subscribe(()=>{this.editMode=!1,this.refresh()})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ri))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-writing"]],inputs:{selectedLanguage:"selectedLanguage"},features:[e.qOj,e.TTD],decls:14,vars:4,consts:[[3,"soundChanges","soundChangesChanges",4,"ngIf"],[3,"soundChangesRaw","soundChangesRawChange",4,"ngIf"],["span","1",2,"width","auto"],["span","1",1,"border",2,"width","max-content"],["span","1",1,"border",2,"width","8px"],["app-horizontal-dash","",1,"border"],["class","border",4,"ngIf"],[1,"border"],[3,"soundChanges","soundChangesChanges"],[3,"soundChangesRaw","soundChangesRawChange"],[1,"text-yellow-dull",3,"click"],[1,"text-green-dull",3,"click"],[1,"text-red-dull",3,"click"]],template:function(t,o){1&t&&(e.YNc(0,U1,1,1,"app-sound-changes-table",0),e.YNc(1,M1,1,1,"app-sound-changes-edit",1),e.TgZ(2,"table")(3,"colgroup"),e._UZ(4,"col",2)(5,"col",3)(6,"col",4),e.qZA(),e.TgZ(7,"tbody")(8,"tr"),e._UZ(9,"th",5),e.YNc(10,P1,7,0,"th",6),e.YNc(11,y2,10,0,"th",6),e.TgZ(12,"th",7),e._uU(13,"+"),e.qZA()()()()),2&t&&(e.Q6J("ngIf",!o.editMode&&o.selectedLanguage&&o.selectedLanguage.id),e.xp6(1),e.Q6J("ngIf",o.editMode&&o.selectedLanguage&&o.selectedLanguage.id),e.xp6(9),e.Q6J("ngIf",!o.editMode),e.xp6(1),e.Q6J("ngIf",o.editMode))},dependencies:[It,An,Rm,Om]}),r})(),Vl=(()=>{class r extends Pl{constructor(t,o){super(t,o)}getAllCategories$Response(t){const o=new ot(this.rootUrl,r.GetAllCategoriesPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getAllCategories(t){return this.getAllCategories$Response(t).pipe((0,W.U)(o=>o.body))}saveGrammaticalCategory$Response(t){const o=new ot(this.rootUrl,r.SaveGrammaticalCategoryPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:parseFloat(String(i.body))})))}saveGrammaticalCategory(t){return this.saveGrammaticalCategory$Response(t).pipe((0,W.U)(o=>o.body))}saveGrammaticalCategoryConnection$Response(t){const o=new ot(this.rootUrl,r.SaveGrammaticalCategoryConnectionPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:parseFloat(String(i.body))})))}saveGrammaticalCategoryConnection(t){return this.saveGrammaticalCategoryConnection$Response(t).pipe((0,W.U)(o=>o.body))}deleteGrammaticalCategoryConnection$Response(t){const o=new ot(this.rootUrl,r.DeleteGrammaticalCategoryConnectionPath,"delete");return t&&o.path("connectionId",t.connectionId,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:void 0})))}deleteGrammaticalCategoryConnection(t){return this.deleteGrammaticalCategoryConnection$Response(t).pipe((0,W.U)(o=>o.body))}saveGrammaticalCategoryValue$Response(t){const o=new ot(this.rootUrl,r.SaveGrammaticalCategoryValuePath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:parseFloat(String(i.body))})))}saveGrammaticalCategoryValue(t){return this.saveGrammaticalCategoryValue$Response(t).pipe((0,W.U)(o=>o.body))}replaceGrammaticalValuesByWord$Response(t){const o=new ot(this.rootUrl,r.ReplaceGrammaticalValuesByWordPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}replaceGrammaticalValuesByWord(t){return this.replaceGrammaticalValuesByWord$Response(t).pipe((0,W.U)(o=>o.body))}removeGrammaticalValuesByWord$Response(t){const o=new ot(this.rootUrl,r.RemoveGrammaticalValuesByWordPath,"delete");return t&&(o.path("wordId",t.wordId,{}),o.path("categoryId",t.categoryId,{})),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:void 0})))}removeGrammaticalValuesByWord(t){return this.removeGrammaticalValuesByWord$Response(t).pipe((0,W.U)(o=>o.body))}saveGrammaticalCategoryValueConnection$Response(t){const o=new ot(this.rootUrl,r.SaveGrammaticalCategoryValueConnectionPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:parseFloat(String(i.body))})))}saveGrammaticalCategoryValueConnection(t){return this.saveGrammaticalCategoryValueConnection$Response(t).pipe((0,W.U)(o=>o.body))}removeGrammaticalCategoryValueConnection$Response(t){const o=new ot(this.rootUrl,r.RemoveGrammaticalCategoryValueConnectionPath,"delete");return t&&o.path("gcvcId",t.gcvcId,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:void 0})))}removeGrammaticalCategoryValueConnection(t){return this.removeGrammaticalCategoryValueConnection$Response(t).pipe((0,W.U)(o=>o.body))}getCategoryValuesByCategory$Response(t){const o=new ot(this.rootUrl,r.GetCategoryValuesByCategoryPath,"get");return t&&o.path("categoryId",t.categoryId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getCategoryValuesByCategory(t){return this.getCategoryValuesByCategory$Response(t).pipe((0,W.U)(o=>o.body))}getCategoryValuesByCategoryAndLang$Response(t){const o=new ot(this.rootUrl,r.GetCategoryValuesByCategoryAndLangPath,"get");return t&&(o.path("categoryId",t.categoryId,{}),o.path("langId",t.langId,{})),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getCategoryValuesByCategoryAndLang(t){return this.getCategoryValuesByCategoryAndLang$Response(t).pipe((0,W.U)(o=>o.body))}getGrammaticalCategoryConnectionsForLang$Response(t){const o=new ot(this.rootUrl,r.GetGrammaticalCategoryConnectionsForLangPath,"get");return t&&(o.path("categoryId",t.categoryId,{}),o.path("languageId",t.languageId,{})),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getGrammaticalCategoryConnectionsForLang(t){return this.getGrammaticalCategoryConnectionsForLang$Response(t).pipe((0,W.U)(o=>o.body))}getGrammaticalValuesConnectionByLang$Response(t){const o=new ot(this.rootUrl,r.GetGrammaticalValuesConnectionByLangPath,"get");return t&&o.path("langId",t.langId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getGrammaticalValuesConnectionByLang(t){return this.getGrammaticalValuesConnectionByLang$Response(t).pipe((0,W.U)(o=>o.body))}getGrammaticalCategoryConnectionsForLangAndPos$Response(t){const o=new ot(this.rootUrl,r.GetGrammaticalCategoryConnectionsForLangAndPosPath,"get");return t&&(o.path("posId",t.posId,{}),o.path("languageId",t.languageId,{})),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getGrammaticalCategoryConnectionsForLangAndPos(t){return this.getGrammaticalCategoryConnectionsForLangAndPos$Response(t).pipe((0,W.U)(o=>o.body))}getGrammaticalValuesByWord$Response(t){const o=new ot(this.rootUrl,r.GetGrammaticalValuesByWordPath,"get");return t&&o.path("wordId",t.wordId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getGrammaticalValuesByWord(t){return this.getGrammaticalValuesByWord$Response(t).pipe((0,W.U)(o=>o.body))}}return r.GetAllCategoriesPath="/api/category",r.SaveGrammaticalCategoryPath="/api/category",r.SaveGrammaticalCategoryConnectionPath="/api/category/connection",r.DeleteGrammaticalCategoryConnectionPath="/api/category/connection/{connectionId}",r.SaveGrammaticalCategoryValuePath="/api/category/value",r.ReplaceGrammaticalValuesByWordPath="/api/category/valuebyword/replace",r.RemoveGrammaticalValuesByWordPath="/api/category/valuebyword/{wordId}/{categoryId}",r.SaveGrammaticalCategoryValueConnectionPath="/api/category/valuelangconnection",r.RemoveGrammaticalCategoryValueConnectionPath="/api/category/valuelangconnection/{gcvcId}",r.GetCategoryValuesByCategoryPath="/api/category/{categoryId}/values",r.GetCategoryValuesByCategoryAndLangPath="/api/category/{categoryId}/{langId}/values",r.GetGrammaticalCategoryConnectionsForLangPath="/api/category/{categoryId}/{languageId}/connections",r.GetGrammaticalValuesConnectionByLangPath="/api/category/{langId}/valuelangconnection",r.GetGrammaticalCategoryConnectionsForLangAndPosPath="/api/category/{posId}/{languageId}/connectionspos",r.GetGrammaticalValuesByWordPath="/api/category/{wordId}/valuebyword",r.\u0275fac=function(t){return new(t||r)(e.LFG(ra),e.LFG(gs))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function R1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1," [ "),e.TgZ(2,"a",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.saveChanges())}),e._uU(3,"Update"),e.qZA(),e._uU(4," ] "),e.qZA()}}function EA(r,n){1&r&&(e.TgZ(0,"span",17),e._uU(1,"[ ]"),e.qZA())}function xr(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw(2);return e.KtG(u.connect(i))}),e._uU(1,"[x]"),e.qZA()}}function O1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw(2);return e.KtG(u.removeConnection(i))}),e._uU(1,"["),e.TgZ(2,"span",19),e._uU(3,"o"),e.qZA(),e._uU(4,"]"),e.qZA()}}function DA(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",6),e._uU(2),e.qZA(),e._UZ(3,"th",7),e.TgZ(4,"th",8),e.YNc(5,EA,2,0,"span",14),e.YNc(6,xr,2,0,"a",15),e.YNc(7,O1,5,0,"a",15),e.TgZ(8,"span",16),e._uU(9),e.qZA()(),e._UZ(10,"th",11),e.qZA()),2&r){const t=n.$implicit,o=n.index,i=e.oxw(2);let u;e.xp6(2),e.Oqu(0==o?"Classes":""),e.xp6(3),e.Q6J("ngIf",!(null!=i.selectedLanguage&&i.selectedLanguage.id)),e.xp6(1),e.Q6J("ngIf",!i.isConnected(t.id)&&(null==i.selectedLanguage?null:i.selectedLanguage.id)),e.xp6(1),e.Q6J("ngIf",i.isConnected(t.id)&&(null==i.selectedLanguage?null:i.selectedLanguage.id)),e.xp6(1),e.Q6J("ngClass",null!=(u=i.getLanguagePos(t))&&u.connectedToLanguage?"text-white":null!=(u=i.getLanguagePos(t))&&u.usedInLanguage?"text-yellow-dull":"text-grey-dull"),e.xp6(1),e.hij(" ",t.name,"")}}function SA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"table",1)(1,"colgroup"),e._UZ(2,"col",2)(3,"col",3)(4,"col",4)(5,"col",5),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",6),e._uU(9,"Name"),e.qZA(),e._UZ(10,"th",7),e.TgZ(11,"th",8)(12,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedCategory.name=i)}),e.qZA(),e.YNc(13,R1,5,0,"span",10),e.qZA(),e._UZ(14,"th",11),e.qZA(),e.YNc(15,DA,11,6,"tr",12),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(12),e.Q6J("ngModel",t.selectedCategory.name),e.xp6(1),e.Q6J("ngIf",t.canUpdate),e.xp6(2),e.Q6J("ngForOf",t.pos)}}let L1=(()=>{class r extends Ml{constructor(t,o){super(),this.categoryService=t,this.posService=o,this.gcc=[],this.pos=[],this.lp=[],this.editComment=!1,this.canUpdate=!1}ngOnInit(){var t,o;super.ngOnInit(),this.posService.getAllPos().subscribe(i=>this.pos=i.sort((u,d)=>u.name?u.name.localeCompare(d.name?d.name:""):-1)),this.selectedLanguage&&this.selectedLanguage.id&&this.reloadPos(this.selectedLanguage.id),this.reloadConnections(null===(t=this.selectedCategory)||void 0===t?void 0:t.id,null===(o=this.selectedLanguage)||void 0===o?void 0:o.id)}ngOnChanges(t){var o,i,u,d,g,y,w;null!==(o=t.selectedLanguage)&&void 0!==o&&o.currentValue&&(console.log(t,null===(i=t.selectedLanguage)||void 0===i?void 0:i.currentValue.id),null!==(u=t.selectedLanguage)&&void 0!==u&&u.currentValue.id&&this.reloadPos(t.selectedLanguage.currentValue.id),this.reloadConnections(null===(d=this.selectedCategory)||void 0===d?void 0:d.id,t.selectedLanguage.currentValue.id)),null!==(g=t.selectedCategory)&&void 0!==g&&g.currentValue&&(console.log(t,null===(y=t.selectedCategory)||void 0===y?void 0:y.currentValue.id),this.reloadConnections(t.selectedCategory.currentValue.id,null===(w=this.selectedLanguage)||void 0===w?void 0:w.id))}saveChanges(){this.selectedCategory&&this.categoryService.saveGrammaticalCategory({body:this.selectedCategory}).subscribe(t=>{this.canUpdate=!1})}clickEditComment(){this.editComment=!0}clickSaveComment(){this.editComment=!1}getLanguagePos(t){if(this.selectedLanguage)return this.lp.find(o=>{var i;return(null==o?void 0:o.languageId)===(null===(i=this.selectedLanguage)||void 0===i?void 0:i.id)&&(null==o?void 0:o.posId)===t.id})}isConnected(t){return!!t&&!!this.gcc.find(o=>{var i;return(null===(i=o.pos)||void 0===i?void 0:i.id)===t})}connect(t){const o={grammaticalCategory:this.selectedCategory,language:this.selectedLanguage,pos:t};this.categoryService.saveGrammaticalCategoryConnection({body:o}).subscribe(i=>{o.id=i,this.gcc.push(o)})}removeConnection(t){const o=this.gcc.find(i=>{var u;return(null===(u=i.pos)||void 0===u?void 0:u.id)===t.id});null!=o&&o.id&&this.categoryService.deleteGrammaticalCategoryConnection({connectionId:o.id}).subscribe(()=>{this.gcc=this.gcc.filter(i=>{var u;return(null===(u=i.pos)||void 0===u?void 0:u.id)!==t.id})})}reloadPos(t){this.posService.getPosByLanguage({languageId:t}).subscribe(o=>this.lp=o)}reloadConnections(t,o){t&&o&&this.categoryService.getGrammaticalCategoryConnectionsForLang({categoryId:t,languageId:o}).subscribe(i=>{this.gcc=i})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Vl),e.Y36(Pi))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-category-details"]],inputs:{selectedCategory:"selectedCategory"},features:[e.qOj,e.TTD],decls:1,vars:1,consts:[["style","width: 100%",4,"ngIf"],[2,"width","100%"],["span","1",2,"width","200px","text-align","right"],["span","1",1,"border",2,"width","32px"],["span","1",2,"width","auto"],["span","1",2,"width","81px"],[2,"text-align","right"],[1,"border"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"border",2,"text-align","right"],[4,"ngFor","ngForOf"],[1,"text-green-dull",3,"click"],["class","text-grey-dull",4,"ngIf"],["class","text-grey-dull",3,"click",4,"ngIf"],[3,"ngClass"],[1,"text-grey-dull"],[1,"text-grey-dull",3,"click"],[1,"text-green-dull"]],template:function(t,o){1&t&&e.YNc(0,SA,16,3,"table",0),2&t&&e.Q6J("ngIf",o.selectedCategory&&o.selectedCategory.id)},dependencies:[Vn,dt,It,Zn,Dn,mn]}),r})();function xA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1," [ "),e.TgZ(2,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.saveChanges())}),e._uU(3,"Update"),e.qZA(),e._uU(4," ] "),e.qZA()}}function F1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"table",1)(1,"colgroup"),e._UZ(2,"col",2)(3,"col",3)(4,"col",4)(5,"col",5),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",6),e._uU(9,"Name"),e.qZA(),e._UZ(10,"th",7),e.TgZ(11,"th",8)(12,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedValue.name=i)}),e.qZA(),e.YNc(13,xA,5,0,"span",10),e.qZA(),e._UZ(14,"th",11),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(12),e.Q6J("ngModel",t.selectedValue.name),e.xp6(1),e.Q6J("ngIf",t.canUpdate)}}let q1=(()=>{class r{constructor(t){this.categoryService=t,this.canUpdate=!1}ngOnInit(){}saveChanges(){this.selectedValue&&this.categoryService.saveGrammaticalCategoryValue({body:this.selectedValue}).subscribe(t=>{this.canUpdate=!1})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Vl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-category-value-details"]],inputs:{selectedValue:"selectedValue"},decls:1,vars:1,consts:[["style","width: 100%",4,"ngIf"],[2,"width","100%"],["span","1",2,"width","200px","text-align","right"],["span","1",1,"border",2,"width","32px"],["span","1",2,"width","auto"],["span","1",2,"width","81px"],[2,"text-align","right"],[1,"border"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"border",2,"text-align","right"],[1,"text-green-dull",3,"click"]],template:function(t,o){1&t&&e.YNc(0,F1,15,2,"table",0),2&t&&e.Q6J("ngIf",o.selectedValue&&o.selectedValue.id)},dependencies:[It,Zn,Dn,mn]}),r})();function Hc(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th",9),e._uU(2,"x "),e.qZA(),e.TgZ(3,"th",10),e._uU(4,"|"),e.qZA(),e.TgZ(5,"th",11)(6,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw();return e.KtG(u.changeCategory(u.categories[i]))}),e._uU(7),e.qZA()(),e.TgZ(8,"th",11),e._uU(9),e.qZA(),e.BQk()}if(2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngClass",(null==o.selectedCategory?null:o.selectedCategory.id)===o.categories[t].id?"selectedTh":""),e.xp6(4),e.Q6J("ngClass",(null==o.selectedCategory?null:o.selectedCategory.id)===o.categories[t].id?"selectedTh":""),e.xp6(1),e.Q6J("ngClass",(null==o.selectedCategory?null:o.selectedCategory.id)===o.categories[t].id?"text-main":"text-grey"),e.xp6(1),e.Oqu(o.categories[t].name),e.xp6(1),e.Q6J("ngClass",(null==o.selectedCategory?null:o.selectedCategory.id)===o.categories[t].id?"selectedTh":""),e.xp6(1),e.Oqu((null==o.selectedCategory?null:o.selectedCategory.id)===o.categories[t].id?"":"|")}}function ZA(r,n){1&r&&(e.ynx(0),e._UZ(1,"th",13),e.TgZ(2,"th"),e._uU(3,"+"),e.qZA(),e.BQk())}function kA(r,n){if(1&r){const t=e.EpF();e.ynx(0),e._UZ(1,"th",14),e.TgZ(2,"th")(3,"a",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.addNewCategory())}),e._uU(4,"[ + ]"),e.qZA()(),e.TgZ(5,"th",10),e._uU(6,"|"),e.qZA(),e.BQk()}}function V1(r,n){1&r&&(e.ynx(0),e._UZ(1,"th",16),e.TgZ(2,"th",10),e._uU(3,"|"),e.qZA(),e.BQk())}function NA(r,n){if(1&r&&(e.ynx(0),e.YNc(1,ZA,4,0,"ng-container",6),e.YNc(2,kA,7,0,"ng-container",6),e.YNc(3,V1,4,0,"ng-container",6),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.categories.length===t),e.xp6(1),e.Q6J("ngIf",o.categories.length+1===t),e.xp6(1),e.Q6J("ngIf",o.categories.length+1<t)}}function B1(r,n){if(1&r&&(e.TgZ(0,"th",17),e._UZ(1,"app-language-category-details",18),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("selectedCategory",t.selectedCategory)("selectedLanguage",t.selectedLanguage)}}function v2(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,u=e.oxw();return e.KtG(u.connectValue(u.values[i]))}),e._uU(1,"x"),e.qZA()}}function j1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,u=e.oxw();return e.KtG(u.disconnectValue(u.values[i]))}),e._uU(1,"o"),e.qZA()}}function Lm(r,n){if(1&r){const t=e.EpF();e.ynx(0),e._UZ(1,"th",10),e.TgZ(2,"th",11),e.YNc(3,v2,2,0,"a",19),e.YNc(4,j1,2,0,"a",20),e.qZA(),e.TgZ(5,"th",10),e._uU(6,"|"),e.qZA(),e.TgZ(7,"th",11)(8,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw();return e.KtG(u.changeValue(u.values[i]))}),e._uU(9),e.qZA()(),e.TgZ(10,"th",11),e._uU(11),e.qZA(),e.BQk()}if(2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngClass",(null==o.selectedValue?null:o.selectedValue.id)===o.values[t].id?"selectedTh":""),e.xp6(1),e.Q6J("ngIf",!o.isValueConnected(o.values[t])),e.xp6(1),e.Q6J("ngIf",o.isValueConnected(o.values[t])),e.xp6(3),e.Q6J("ngClass",(null==o.selectedValue?null:o.selectedValue.id)===o.values[t].id?"selectedTh":""),e.xp6(1),e.Q6J("ngClass",(null==o.selectedValue?null:o.selectedValue.id)===o.values[t].id?"text-main":"text-grey"),e.xp6(1),e.Oqu(o.values[t].name),e.xp6(1),e.Q6J("ngClass",(null==o.selectedValue?null:o.selectedValue.id)===o.values[t].id?"selectedTh":""),e.xp6(1),e.Oqu((null==o.selectedValue?null:o.selectedValue.id)===o.values[t].id?"":"|")}}function sa(r,n){1&r&&(e.ynx(0),e.TgZ(1,"th",10),e._uU(2,"+"),e.qZA(),e._UZ(3,"th",23),e.TgZ(4,"th"),e._uU(5,"+"),e.qZA(),e.BQk())}function UA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",16)(1,"a",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4);return e.KtG(i.addNewCategoryValue())}),e._uU(2,"[ + ]"),e.qZA()()}}function MA(r,n){1&r&&e._UZ(0,"th")}function aa(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"th",10),e._uU(2,"|"),e.qZA(),e.YNc(3,UA,3,0,"th",24),e.YNc(4,MA,1,0,"th",6),e.TgZ(5,"th",10),e._uU(6,"|"),e.qZA(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(3),e.Q6J("ngIf",t.selectedCategory),e.xp6(1),e.Q6J("ngIf",!t.selectedCategory)}}function _s(r,n){1&r&&(e.ynx(0),e.TgZ(1,"th",10),e._uU(2,"|"),e.qZA(),e._UZ(3,"th",16),e.TgZ(4,"th",10),e._uU(5,"|"),e.qZA(),e.BQk())}function ms(r,n){if(1&r&&(e.ynx(0),e.YNc(1,sa,6,0,"ng-container",6),e.YNc(2,aa,7,2,"ng-container",6),e.YNc(3,_s,6,0,"ng-container",6),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.values.length===t),e.xp6(1),e.Q6J("ngIf",o.values.length+1===t),e.xp6(1),e.Q6J("ngIf",o.values.length+1<t)}}function $1(r,n){if(1&r&&(e.TgZ(0,"th",17),e._UZ(1,"app-language-category-value-details",25),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("selectedValue",t.selectedValue)}}function G1(r,n){1&r&&e._UZ(0,"th",26)}function PA(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,Hc,10,6,"ng-container",6),e.YNc(2,NA,4,3,"ng-container",6),e.YNc(3,B1,2,2,"th",7),e.YNc(4,Lm,12,8,"ng-container",6),e.YNc(5,ms,4,3,"ng-container",6),e.YNc(6,$1,2,1,"th",7),e.YNc(7,G1,1,0,"th",8),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.categories[t]),e.xp6(1),e.Q6J("ngIf",!o.categories[t]),e.xp6(1),e.Q6J("ngIf",0==t),e.xp6(1),e.Q6J("ngIf",o.values[t]),e.xp6(1),e.Q6J("ngIf",!o.values[t]),e.xp6(1),e.Q6J("ngIf",0==t),e.xp6(1),e.Q6J("ngIf",0==t)}}let RA=(()=>{class r extends Ml{constructor(t,o){super(),this.categoryService=t,this.posService=o,this.categories=[],this.pos=[],this.values=[],this.valuesConnectios=[]}get array(){return[...Array(Math.max(this.categories.length,this.values.length,this.pos.length)+2).keys()]}ngOnInit(){var t;super.ngOnInit(),this.categoryService.getAllCategories().subscribe(o=>this.categories=o.sort((i,u)=>i.name?i.name.localeCompare(u.name?u.name:""):-1)),this.posService.getAllPos().subscribe(o=>this.pos=o),null!==(t=this.selectedLanguage)&&void 0!==t&&t.id&&this.reloadConnectedValues(this.selectedLanguage.id)}ngOnChanges(t){var o,i,u;null!==(o=t.selectedLanguage)&&void 0!==o&&o.currentValue&&(console.log("ngOnChanges",t,null===(i=t.selectedLanguage)||void 0===i?void 0:i.currentValue.id),null!==(u=t.selectedLanguage)&&void 0!==u&&u.currentValue.id)&&this.reloadConnectedValues(t.selectedLanguage.currentValue.id)}connectCategoryToLanguage(t){}getLanguageCategory(t){}addNewCategory(){const t={name:"new category"};this.categoryService.saveGrammaticalCategory({body:t}).subscribe(o=>{t.id=o,this.selectedCategory=t,this.categories.push(t)})}addNewCategoryValue(){if(!this.selectedCategory)return;const t={name:"new value",category:this.selectedCategory};this.categoryService.saveGrammaticalCategoryValue({body:t}).subscribe(o=>{t.id=o,this.selectedValue=t,this.values.push(t)})}changeCategory(t){this.selectedCategory=t,t.id&&this.reloadCategoryValues(t.id)}changeValue(t){this.selectedValue=t}isValueConnected(t){return!!t&&!!this.valuesConnectios.find(o=>{var i;return(null===(i=o.value)||void 0===i?void 0:i.id)===t.id})}connectValue(t){const o={value:t,language:this.selectedLanguage};this.categoryService.saveGrammaticalCategoryValueConnection({body:o}).subscribe(i=>{o.id=i,this.valuesConnectios.push(o)})}disconnectValue(t){const o=this.valuesConnectios.find(i=>{var u;return(null===(u=i.value)||void 0===u?void 0:u.id)===t.id});null!=o&&o.id&&this.categoryService.removeGrammaticalCategoryValueConnection({gcvcId:o.id}).subscribe(()=>{this.valuesConnectios=this.valuesConnectios.filter(i=>{var u;return(null===(u=i.value)||void 0===u?void 0:u.id)!==t.id})})}reloadCategoryValues(t){console.log("reloadCategoryValues",t),this.categoryService.getCategoryValuesByCategory({categoryId:t}).subscribe(o=>this.values=o.sort((i,u)=>i.name?i.name.localeCompare(u.name?u.name:""):-1))}reloadConnectedValues(t){this.categoryService.getGrammaticalValuesConnectionByLang({langId:t}).subscribe(o=>{this.valuesConnectios=o})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Vl),e.Y36(Pi))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-category"]],features:[e.qOj,e.TTD],decls:16,vars:1,consts:[["span","1",1,"border",2,"width","17px","white-space","nowrap"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","21%"],["span","1",1,"border",2,"width","29%"],["span","1",1,"border",2,"width","25%"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","border","rowspan","0","style","vertical-align: top;",4,"ngIf"],["app-vertical-dash","","class","border","rowspan","0",4,"ngIf"],[2,"white-space","nowrap",3,"ngClass"],[1,"border"],[1,"border",3,"ngClass"],[3,"ngClass","click"],["app-horizontal-dash","","colspan","3"],["colspan","2"],[1,"text-green-dull",3,"click"],["colspan","3"],["rowspan","0",1,"border",2,"vertical-align","top"],[3,"selectedCategory","selectedLanguage"],["class","link-btn text-grey-dull",3,"click",4,"ngIf"],["class","link-btn text-green-dull",3,"click",4,"ngIf"],[1,"link-btn","text-grey-dull",3,"click"],[1,"link-btn","text-green-dull",3,"click"],["colspan","3","app-horizontal-dash",""],["colspan","3",4,"ngIf"],[3,"selectedValue"],["app-vertical-dash","","rowspan","0",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",1)(6,"col",3)(7,"col",1)(8,"col",1)(9,"col",1)(10,"col",2)(11,"col",1)(12,"col",4)(13,"col",1),e.qZA(),e.TgZ(14,"tbody"),e.YNc(15,PA,8,7,"tr",5),e.qZA()()),2&t&&(e.xp6(15),e.Q6J("ngForOf",o.array))},dependencies:[Vn,dt,It,An,Mi,L1,q1],styles:[".selectedTh[_ngcontent-%COMP%]{background-color:#333}"]}),r})();function OA(r,n){1&r&&e._UZ(0,"col",5)}function LA(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"col",13)(2,"col",5),e.BQk()),2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(1),e.uIk("style","width: "+(o==i.selectedIndex?8*(t.name.length+4)+1:65)+"px;",e.Ckj)}}function Fm(r,n){if(1&r&&(e.TgZ(0,"th",7),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(0==t.selectedIndex?"+":"")}}function kh(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"th",14),e.TgZ(2,"th",7),e._uU(3),e.qZA(),e.BQk()),2&r){const t=n.index,o=e.oxw();e.xp6(1),e.Q6J("symbol",t==o.selectedIndex?"-":"_"),e.xp6(2),e.Oqu(t==o.selectedIndex||t+1==o.selectedIndex?"+":"")}}function FA(r,n){1&r&&(e.TgZ(0,"th",7),e._uU(1,"|"),e.qZA())}function H1(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th")(2,"a",15),e.NdJ("click",function(){const u=e.CHM(t).index,d=e.oxw();return e.KtG(d.select(u))}),e._uU(3),e.qZA()(),e.TgZ(4,"th",7),e._uU(5,"|"),e.qZA(),e.BQk()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(2),e.Q6J("ngClass",o==i.selectedIndex?"":"text-grey-dull"),e.uIk("disabled",!!t.enabled||null),e.xp6(1),e.Oqu(o==i.selectedIndex?t.name:t.shortName?t.shortName:t.name.substr(0,3)+".")}}function qA(r,n){if(1&r&&e._UZ(0,"th",9),2&r){const t=e.oxw();e.uIk("colspan",2*t.selectedIndex-(t.selectedIndex>0&&t.removeBorder?1:0))}}function J1(r,n){1&r&&(e.TgZ(0,"th",7),e._uU(1,"+"),e.qZA())}function W1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-language-description",16),e.NdJ("onDeleteLanguage",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.onDeleteLanguage.emit(i))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function Ng(r,n){if(1&r&&e._UZ(0,"app-language-phonetics",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function VA(r,n){if(1&r&&e._UZ(0,"app-language-writing",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function z1(r,n){if(1&r&&e._UZ(0,"app-clusters",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function Q1(r,n){if(1&r&&e._UZ(0,"app-language-pos",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function qm(r,n){if(1&r&&e._UZ(0,"app-language-category",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}let Ug=(()=>{class r{constructor(t){this.keybind=t,this.tabs=[{name:"Description",enabled:!0,shortName:"Descr."},{name:"Phonetics",enabled:!0,shortName:"[p\u02b0]"},{name:"Orthography",enabled:!0,shortName:"Aa..."},{name:"Phonotactics",enabled:!0,shortName:"CV(C)"},{name:"Word Classes",enabled:!0,shortName:"pos"},{name:"Grammatical Categories",enabled:!0,shortName:"m/n/f"}],this.removeBorder=!0,this.onDeleteLanguage=new e.vpe,this.selectedIndex=0}ngOnInit(){this.correctIndex(),this.tabs[2].enabled=!!this.selectedLanguage}correctIndex(){}select(t){this.selectedIndex=t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ia))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-tabs"]],inputs:{selectedLanguage:"selectedLanguage"},outputs:{onDeleteLanguage:"onDeleteLanguage"},decls:37,vars:16,consts:[[1,"tab-routes-wrapper"],[1,"tab-routes"],["class","border","span","1",4,"ngIf"],[4,"ngFor","ngForOf"],["span","1",2,"width","max-content"],["span","1",1,"border"],["class","border",4,"ngIf"],[1,"border"],["app-horizontal-dash","","class","border",4,"ngIf"],["app-horizontal-dash","",1,"border"],[1,"break-word","text-grey"],[3,"selectedLanguage","onDeleteLanguage",4,"ngIf"],[3,"selectedLanguage",4,"ngIf"],["span","1"],["app-horizontal-dash","",1,"border",3,"symbol"],[1,"link-btn",3,"ngClass","click"],[3,"selectedLanguage","onDeleteLanguage"],[3,"selectedLanguage"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table")(3,"colgroup"),e.YNc(4,OA,1,0,"col",2),e.YNc(5,LA,3,1,"ng-container",3),e._UZ(6,"col",4)(7,"col",5),e.qZA(),e.TgZ(8,"tbody")(9,"tr"),e.YNc(10,Fm,2,1,"th",6),e.YNc(11,kh,4,2,"ng-container",3),e._UZ(12,"th",7)(13,"th",7),e.qZA(),e.TgZ(14,"tr"),e.YNc(15,FA,2,0,"th",6),e.YNc(16,H1,6,3,"ng-container",3),e._UZ(17,"th",7)(18,"th",7),e.qZA(),e.TgZ(19,"tr"),e.YNc(20,qA,1,1,"th",8),e.YNc(21,J1,2,0,"th",6),e._UZ(22,"th",7),e.TgZ(23,"th",7),e._uU(24,"+"),e.qZA(),e._UZ(25,"th",9),e.TgZ(26,"th",7),e._uU(27,"+"),e.qZA()()(),e.TgZ(28,"tbody")(29,"tr")(30,"td",10),e.YNc(31,W1,1,1,"app-language-description",11),e.YNc(32,Ng,1,1,"app-language-phonetics",12),e.YNc(33,VA,1,1,"app-language-writing",12),e.YNc(34,z1,1,1,"app-clusters",12),e.YNc(35,Q1,1,1,"app-language-pos",12),e.YNc(36,qm,1,1,"app-language-category",12),e.qZA()()()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(5),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(4),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(4),e.Q6J("ngIf",0<o.selectedIndex),e.xp6(1),e.Q6J("ngIf",!o.removeBorder||0!=o.selectedIndex),e.xp6(4),e.uIk("colspan",2*(o.tabs.length-o.selectedIndex-1)+1),e.xp6(5),e.uIk("colspan",2*(o.tabs.length+1)+(o.removeBorder?0:1)),e.xp6(1),e.Q6J("ngIf",0==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",1==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",2==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",3==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",4==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",5==o.selectedIndex))},dependencies:[Vn,dt,It,An,Dg,Sm,Zm,TA,IA,RA]}),r})();function Vm(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"|"),e.qZA())}function Bm(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr"),e._UZ(2,"th",4),e.TgZ(3,"th",4),e._uU(4),e.qZA(),e.TgZ(5,"th",4),e._uU(6),e.qZA(),e.TgZ(7,"th")(8,"a",13),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.selectLanguage(u))}),e._uU(9),e.qZA()(),e.TgZ(10,"th",4),e.YNc(11,Vm,2,0,"span",14),e.qZA()(),e.TgZ(12,"tr"),e._UZ(13,"th",4),e.TgZ(14,"th",4),e._uU(15),e.qZA(),e.TgZ(16,"th",4),e._uU(17),e.qZA(),e._UZ(18,"th",15),e.TgZ(19,"th",4),e._uU(20),e.qZA()(),e.BQk()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(4),e.Oqu(t.id==i.selectedLanguage.id?"|":""),e.xp6(2),e.Oqu(t.id==i.selectedLanguage.id?"":"|"),e.xp6(2),e.Q6J("ngClass",t.id==i.selectedLanguage.id?"text-main":"text-grey-dull"),e.xp6(1),e.Oqu(t.displayName),e.xp6(2),e.Q6J("ngIf",t.id!=i.selectedLanguage.id),e.xp6(4),e.Oqu(t.id==i.selectedLanguage.id||(i.allLanguages[o+1]&&i.allLanguages[o+1].id)==i.selectedLanguage.id&&i.selectedLanguage.id?"+":""),e.xp6(2),e.Oqu(t.id==i.selectedLanguage.id||(i.allLanguages[o+1]&&i.allLanguages[o+1].id)==i.selectedLanguage.id&&i.selectedLanguage.id?"-":""),e.xp6(3),e.Oqu(t.id==i.selectedLanguage.id||(i.allLanguages[o+1]&&i.allLanguages[o+1].id)==i.selectedLanguage.id&&i.selectedLanguage.id?"+":"|")}}let K1=(()=>{class r{constructor(t){this.languagesService=t,this.allLanguages=[],this.selectedLanguage={displayName:""},this.selectLanguage({displayName:""})}ngOnInit(){this.refreshLanguages()}refreshAll(){}changeLang(){}selectLanguage(t){this.selectedLanguage=t}addNewLanguage(){this.languagesService.saveLanguage({body:{displayName:"New Language"}}).subscribe(o=>{this.allLanguages.push(o),this.allLanguages=this.allLanguages.sort((i,u)=>i.displayName.localeCompare(u.displayName)),this.selectLanguage(o)})}deleteLanguage(t){this.languagesService.deleteLanguage({languageId:t}).subscribe(()=>{this.refreshLanguages()})}refreshLanguages(){this.selectLanguage({displayName:""}),this.languagesService.getAllLanguages().subscribe(t=>{this.allLanguages=t.sort((o,i)=>o.displayName.localeCompare(i.displayName))})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(fs))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-languages"]],decls:36,vars:2,consts:[[1,"table-container"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","max-content"],["span","1",2,"width","auto"],[1,"border"],["app-horizontal-dash","","colspan","3"],["rowspan","0",2,"vertical-align","baseline","horiz-align","left"],[3,"selectedLanguage","onDeleteLanguage"],["colspan","3"],[1,"text-green-dull",3,"click"],[4,"ngFor","ngForOf"],["colspan","4",1,"border"],["app-vertical-dash","","rowspan","0",1,"border"],[1,"link-btn",3,"ngClass","click"],[4,"ngIf"],["app-horizontal-dash","",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"table")(2,"colgroup"),e._UZ(3,"col",1)(4,"col",1)(5,"col",1)(6,"col",2)(7,"col",1)(8,"col",3),e.qZA(),e.TgZ(9,"tbody")(10,"tr")(11,"th",4),e._uU(12,"+"),e.qZA(),e._UZ(13,"th",5),e.TgZ(14,"th",4),e._uU(15,"+"),e.qZA(),e.TgZ(16,"th",6)(17,"app-language-tabs",7),e.NdJ("onDeleteLanguage",function(u){return o.deleteLanguage(u)}),e.qZA()()(),e.TgZ(18,"tr")(19,"th",4),e._uU(20,"|"),e.qZA(),e.TgZ(21,"th",8)(22,"a",9),e.NdJ("click",function(){return o.addNewLanguage()}),e._uU(23,"[ + ]"),e.qZA()(),e.TgZ(24,"th",4),e._uU(25,"|"),e.qZA()(),e.TgZ(26,"tr")(27,"th",4),e._uU(28,"+"),e.qZA(),e._UZ(29,"th",5),e.TgZ(30,"th",4),e._uU(31,"+"),e.qZA()(),e.YNc(32,Bm,21,8,"ng-container",10),e.TgZ(33,"tr"),e._UZ(34,"th",11)(35,"th",12),e.qZA()()()()),2&t&&(e.xp6(17),e.Q6J("selectedLanguage",o.selectedLanguage),e.xp6(15),e.Q6J("ngForOf",o.allLanguages))},dependencies:[Vn,dt,It,An,Mi,Ug]}),r})();function Y1(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" -> ",t.displayName,"")}}function X1(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,Y1,2,1,"span",3),e.qZA()),2&r){const t=n.index;e.xp6(1),e.Q6J("ngIf",0!=t)}}function eC(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,X1,2,1,"span",4),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function tC(r,n){if(1&r&&(e.TgZ(0,"label",10),e._uU(1),e.qZA()),2&r){const t=e.oxw(2).index,o=e.oxw();e.xp6(1),e.Oqu(0==t?o.languages[0]?o.languages[0].displayName:"Language from:":"Language:")}}function nC(r,n){if(1&r&&(e.TgZ(0,"option",11),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.displayName)}}function BA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,eC,2,1,"div",4),e.TgZ(2,"span"),e.YNc(3,tC,2,1,"label",5),e.TgZ(4,"div",6)(5,"select",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const u=e.oxw().index,d=e.oxw();return e.KtG(d.changeLanguage(u,i))})("ngModelChange",function(i){e.CHM(t);const u=e.oxw().index,d=e.oxw();return e.KtG(d.languages[u]=i)}),e.TgZ(6,"option",8),e._uU(7,"-Select Language-"),e.qZA(),e.YNc(8,nC,2,2,"option",9),e.qZA()()()()}if(2&r){const t=e.oxw(),o=t.index,i=t.$implicit,u=e.oxw();e.xp6(1),e.Q6J("ngForOf",u.languagesRoutes[o]),e.xp6(2),e.Q6J("ngIf",!u.languages[o]||0==o),e.xp6(2),e.Q6J("ngModel",u.languages[o]),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",i)}}function jA(r,n){if(1&r&&(e.TgZ(0,"div",2),e.YNc(1,BA,9,5,"div",3),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf",t.length)}}let $A=(()=>{class r{constructor(t,o){this.languagesService=t,this.languagesEvolutionService=o,this.languages=[],this.languagesRoutes=[],this.availableLanguagesTo=[],this.routeChanged=new e.vpe}ngOnInit(){this.availableLanguagesTo=[],this.languagesService.getAllLanguages().subscribe(t=>{this.availableLanguagesTo.push(t.sort((o,i)=>o.displayName.localeCompare(i.displayName)))})}changeLanguage(t,o){console.log("changeLanguage",t,o,this.availableLanguagesTo),this.availableLanguagesTo.splice(t+1,this.availableLanguagesTo.length-t-1),this.languages.splice(t+1,this.availableLanguagesTo.length-t-1),this.languagesRoutes.splice(t+1,this.availableLanguagesTo.length-t-1),console.log("changeLanguage",t,o,this.availableLanguagesTo),o.id&&this.languagesEvolutionService.getAllLanguagesFrom({fromId:o.id}).subscribe(u=>{this.availableLanguagesTo[t+1]=u});const i=this.languages[t-1].id;t>0&&o.id&&i&&this.languagesEvolutionService.getAllRoutes({fromId:i,toId:o.id}).subscribe(u=>{console.log("changeLanguage",u),this.languagesRoutes[t]=u;const d=this.languagesRoutes.reduce((g,y,w)=>w>t?g:g.concat(y[0].slice(1)),[this.languages[0]]);this.routeChanged.emit(d)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(fs),e.Y36(Ri))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-trace-language-recursive"]],outputs:{routeChanged:"routeChanged"},decls:2,vars:1,consts:[[1,"row"],["class","selector",4,"ngFor","ngForOf"],[1,"selector"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","languageSelectorLabel","for","languageSelector",4,"ngIf"],[1,"input-group"],["id","languageSelector","name","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","languageSelector",1,"languageSelectorLabel"],[3,"ngValue"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,jA,2,1,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.availableLanguagesTo))},dependencies:[dt,It,yr,so,Mn,Dn,mn],styles:[".row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.languageSelector[_ngcontent-%COMP%]{margin-top:4px}.languageSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})(),GA=(()=>{class r{constructor(){this.dataStore={selectedLanguage:void 0}}changeSelectedLanguage(t){this.dataStore.selectedLanguage=t}ngOnInit(){console.log("LangService onInit")}ngOnDestroy(){console.log("LangService onDestroy")}shortPOS(t){return"Adjective"==t?"adj.":"Adverb"==t?"adv.":"Conjunction"==t?"cnj.":"Determiner"==t?"det.":"Noun"==t?"n.":"Numeral"==t?"num.":"Preposition"==t?"prep.":"Pronoun"==t?"pn.":"Verb"==t?"v.":"Prefix"==t?"prefix":"Suffix"==t?"suffix":t}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Mg=(()=>{class r{constructor(t){this.keybind=t,this._errors=new Wr([]),this.dataStore={errors:[]},this.errors=this._errors.asObservable(),this.keybind.match(["ESCAPE"],[]).subscribe(()=>{this.clearErrors()})}addError(t){this.dataStore.errors.push(t),this._errors.next(Object.assign({},this.dataStore).errors)}clearErrors(){!this.dataStore.errors.length||(this.dataStore.errors=[],this._errors.next(Object.assign({},this.dataStore).errors))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ia))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const HA=["wordSelector"];function JA(r,n){if(1&r&&(e.TgZ(0,"div"),e._uU(1,'More info about word "'),e.TgZ(2,"span",15),e._uU(3),e.qZA(),e._uU(4),e.qZA()),2&r){const t=e.oxw();e.xp6(3),e.Oqu(t.wordsTraced[t.wordSelected]),e.xp6(1),e.hij('" from ',t.fullRoute[t.wordSelected].displayName," language. ")}}function WA(r,n){1&r&&(e.ynx(0),e._UZ(1,"br"),e._uU(2,"|"),e._UZ(3,"br"),e._uU(4,"|"),e.BQk())}function zA(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"|"),e.qZA())}function QA(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr"),e._UZ(2,"th",3),e.TgZ(3,"th",3),e._uU(4),e.qZA(),e.TgZ(5,"th",3),e._uU(6),e.qZA(),e.TgZ(7,"th")(8,"a",16),e.NdJ("click",function(){const u=e.CHM(t).index,d=e.oxw();return e.KtG(d.selectWord(u))}),e._uU(9),e.qZA()(),e.TgZ(10,"th",3),e.YNc(11,zA,2,0,"span",9),e.qZA()(),e.TgZ(12,"tr"),e._UZ(13,"th",3),e.TgZ(14,"th",3),e._uU(15),e.qZA(),e.TgZ(16,"th",3),e._uU(17),e.qZA(),e._UZ(18,"th",14),e.TgZ(19,"th",3),e._uU(20),e.qZA()(),e.BQk()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(4),e.Oqu(o==i.wordSelected?"|":""),e.xp6(2),e.Oqu(o==i.wordSelected?"":"|"),e.xp6(2),e.Q6J("ngClass",o==i.wordSelected?"text-main":"text-grey-dull"),e.xp6(1),e.Oqu(t),e.xp6(2),e.Q6J("ngIf",o!=i.wordSelected),e.xp6(4),e.Oqu(o==i.wordSelected||o==i.wordSelected-1?"+":""),e.xp6(2),e.Oqu(o==i.wordSelected||o==i.wordSelected-1?"-":""),e.xp6(3),e.Oqu(o==i.wordSelected||o==i.wordSelected-1?"+":"|")}}let KA=(()=>{class r{constructor(t,o,i,u,d){this.languagesEvolutionService=t,this.langService=o,this.errorService=i,this.keybind=u,this.router=d,this.fullRoute=[],this.word="",this.wordsTraced=[],this.wordSelected=0,this.keybind.match(["T"],["altKey"]).subscribe(()=>{var y;null===(y=this.wordSelector)||void 0===y||y.nativeElement.focus()})}routeChanged(){this.changeWord(this.word)}ngOnChanges(t){t.fullRoute&&this.routeChanged()}changeWord(t){console.log("changeWord",t),this.word=t,this.word.trim().length&&!(this.fullRoute.length<2)&&this.languagesEvolutionService.trace({word:this.word.trim(),body:this.fullRoute}).subscribe(o=>{this.wordsTraced=[],o.forEach(i=>{this.wordsTraced.push(null!=i&&i.word?null==i?void 0:i.word:"")}),this.wordSelected=this.wordsTraced.length>0?this.wordsTraced.length-1:0})}selectWord(t){console.log("selectWord",t),this.wordSelected=t}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ri),e.Y36(GA),e.Y36(Mg),e.Y36(ia),e.Y36(Qn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-trace-result"]],viewQuery:function(t,o){if(1&t&&e.Gf(HA,5),2&t){let i;e.iGM(i=e.CRH())&&(o.wordSelector=i.first)}},inputs:{fullRoute:"fullRoute"},features:[e.TTD],decls:66,vars:6,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","max-content"],[1,"border"],["colspan","3",2,"text-align","left"],[1,"selector"],["for","wordSelector",1,"wordSelectorLabel"],[1,"input-group"],["id","wordSelector","name","wordSelector","type","text",1,"wordSelector",3,"ngModel","ngModelChange"],[4,"ngIf"],["app-vertical-dash","",1,"border"],[4,"ngFor","ngForOf"],["app-horizontal-dash","","colspan","3",1,"border"],["colspan","4",1,"border"],["app-horizontal-dash","",1,"border"],[1,"text-white"],[1,"link-btn",3,"ngClass","click"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",0)(4,"col",0)(5,"col",1)(6,"col",0)(7,"col",2)(8,"col",0),e.qZA(),e.TgZ(9,"tbody")(10,"tr")(11,"th",3),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e._UZ(15,"br"),e._uU(16,"|"),e._UZ(17,"br"),e._uU(18,"|"),e.qZA(),e.TgZ(19,"th",4)(20,"div",5)(21,"label",6),e._uU(22,"Select Word:"),e.qZA(),e.TgZ(23,"div",7)(24,"input",8),e.NdJ("ngModelChange",function(u){return o.changeWord(u)})("ngModelChange",function(u){return o.word=u}),e.qZA()()()(),e.TgZ(25,"th",3),e._uU(26,"|"),e._UZ(27,"br"),e._uU(28,"|"),e._UZ(29,"br"),e._uU(30,"|"),e._UZ(31,"br"),e._uU(32,"|"),e.qZA(),e.TgZ(33,"th",3),e.YNc(34,JA,5,2,"div",9),e.qZA(),e.TgZ(35,"th",10),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e._UZ(39,"br"),e._uU(40,"|"),e._UZ(41,"br"),e._uU(42,"|"),e._UZ(43,"br"),e._uU(44,"|"),e._UZ(45,"br"),e._uU(46,"| "),e.YNc(47,WA,5,0,"ng-container",11),e.qZA()(),e.TgZ(48,"tr")(49,"th",3),e._uU(50,"+"),e.qZA(),e._UZ(51,"th",12),e.TgZ(52,"th",3),e._uU(53,"+"),e.qZA()(),e.YNc(54,QA,21,8,"ng-container",11),e.TgZ(55,"tr"),e._UZ(56,"th",13),e.TgZ(57,"th",3),e._uU(58,"|"),e.qZA()(),e.TgZ(59,"tr"),e._UZ(60,"th",13),e.TgZ(61,"th",3),e._uU(62,"+"),e.qZA(),e._UZ(63,"th",14),e.TgZ(64,"th",3),e._uU(65,"+"),e.qZA()()()()),2&t&&(e.xp6(24),e.Q6J("ngModel",o.word),e.xp6(9),e.uIk("rowspan",3+2*o.wordsTraced.length),e.xp6(1),e.Q6J("ngIf",o.wordsTraced[o.wordSelected]),e.xp6(1),e.uIk("rowspan",3+2*o.wordsTraced.length),e.xp6(12),e.Q6J("ngForOf",o.wordsTraced),e.xp6(7),e.Q6J("ngForOf",o.wordsTraced))},dependencies:[Vn,dt,It,Zn,Dn,mn,An,Mi]}),r})();const YA=["wordInput"];function XA(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," -> "),e.qZA())}function eI(r,n){if(1&r&&(e.TgZ(0,"span",10),e.YNc(1,XA,2,0,"span",8),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Q6J("ngIf",o>0),e.xp6(2),e.Oqu(t.displayName)}}function tI(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," No Route "),e.qZA())}let nI=(()=>{class r{constructor(){this.fullRoute=[],this.wordText="",this.word="",this.wordsTraced=[]}routeChanged(t){this.fullRoute=t}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-trace"]],viewQuery:function(t,o){if(1&t&&e.Gf(YA,5),2&t){let i;e.iGM(i=e.CRH())&&(o.wordInput=i.first)}},decls:51,vars:3,consts:[[1,"table-container"],["span","1",1,"border"],["span","1",2,"width","auto"],[1,"border"],["app-horizontal-dash","",1,"border"],[3,"routeChanged"],[1,"full-route"],["class","text-yellow-dull",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"fullRoute"],[1,"text-yellow-dull"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"table")(2,"colgroup"),e._UZ(3,"col",1)(4,"col",2)(5,"col",1),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",3),e._uU(9,"+"),e.qZA(),e._UZ(10,"th",4),e.TgZ(11,"th",3),e._uU(12,"+"),e.qZA()(),e.TgZ(13,"tr")(14,"th",3),e._uU(15,"|"),e._UZ(16,"br"),e._uU(17,"|"),e._UZ(18,"br"),e._uU(19,"|"),e._UZ(20,"br"),e._uU(21,"|"),e._UZ(22,"br"),e._uU(23,"|"),e._UZ(24,"br"),e._uU(25,"|"),e.qZA(),e.TgZ(26,"th",3)(27,"div")(28,"app-trace-language-recursive",5),e.NdJ("routeChanged",function(u){return o.routeChanged(u)}),e.qZA(),e.TgZ(29,"div",6),e.YNc(30,eI,4,2,"span",7),e.YNc(31,tI,2,0,"span",8),e.qZA()()(),e.TgZ(32,"th",3),e._uU(33,"|"),e._UZ(34,"br"),e._uU(35,"|"),e._UZ(36,"br"),e._uU(37,"|"),e._UZ(38,"br"),e._uU(39,"|"),e._UZ(40,"br"),e._uU(41,"|"),e._UZ(42,"br"),e._uU(43,"|"),e.qZA()(),e.TgZ(44,"tr")(45,"th",3),e._uU(46,"+"),e.qZA(),e._UZ(47,"th",4),e.TgZ(48,"th",3),e._uU(49,"+"),e.qZA()()()(),e._UZ(50,"app-trace-result",9),e.qZA()),2&t&&(e.xp6(30),e.Q6J("ngForOf",o.fullRoute),e.xp6(1),e.Q6J("ngIf",!o.fullRoute.length),e.xp6(19),e.Q6J("fullRoute",o.fullRoute))},dependencies:[dt,It,An,$A,KA],styles:[".full-route[_ngcontent-%COMP%]{margin:8px}.half-width[_ngcontent-%COMP%]{width:50%}.wordSelector[_ngcontent-%COMP%]{margin-top:4px}.wordSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})();function rI(r,n){1&r&&e._UZ(0,"col",10)}function oI(r,n){1&r&&(e.ynx(0),e._UZ(1,"col",11)(2,"col",10),e.BQk())}function rC(r,n){1&r&&e._UZ(0,"col",10)}function oC(r,n){if(1&r&&(e.TgZ(0,"th",6),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(0==t.selectedIndex?"+":"")}}function iC(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"th",12),e.TgZ(2,"th",6),e._uU(3),e.qZA(),e.BQk()),2&r){const t=n.index,o=e.oxw();e.xp6(1),e.Q6J("symbol",t==o.selectedIndex?"-":"_"),e.xp6(2),e.Oqu(t==o.selectedIndex||t+1==o.selectedIndex?"+":"")}}function sC(r,n){1&r&&e._UZ(0,"th",6)}function aC(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"|"),e.qZA())}function uC(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th")(2,"a",13),e.NdJ("click",function(){const u=e.CHM(t).index,d=e.oxw();return e.KtG(d.select(u))}),e._uU(3),e.qZA()(),e.TgZ(4,"th",6),e._uU(5,"|"),e.qZA(),e.BQk()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(2),e.Q6J("ngClass",o==i.selectedIndex?"":"text-grey-dull")("routerLink",t.route)("queryParams",i.queryParams),e.uIk("disabled",!!t.enabled||null),e.xp6(1),e.Oqu(t.name)}}function lC(r,n){1&r&&e._UZ(0,"th",6)}function cC(r,n){if(1&r&&e._UZ(0,"th",8),2&r){const t=e.oxw();e.uIk("colspan",2*t.selectedIndex-(t.selectedIndex>0&&t.removeBorder?1:0))}}function dC(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"+"),e.qZA())}function hC(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"+"),e.qZA())}let jm=(()=>{class r{constructor(t,o,i){this.activeRoute=t,this.router=o,this.keybind=i,this.removeBorder=!1,this.selectedIndex=0}ngOnInit(){console.log("TabRoutesComponent","ngOnInit"),this.correctIndex(),this.router.events.subscribe(t=>{t instanceof Eu&&this.correctIndex()})}correctIndex(){var t;const o=null===(t=this.activeRoute.snapshot.children[0].routeConfig)||void 0===t?void 0:t.path;console.log("TabRoutesComponent","correctIndex",o,this.activeRoute.snapshot.children[0]),this.selectedIndex=this.tabs.reduce((i,u,d)=>u.route==o?d:i,this.selectedIndex)}select(t){console.log("TabRoutesComponent","select"),this.selectedIndex=t}navigateIndex(t){console.log("TabRoutesComponent","navigateIndex");const o=this.activeRoute.snapshot.queryParamMap.get("lang");this.router.navigate([this.tabs[t].route],{relativeTo:this.activeRoute,queryParams:{lang:o}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ta),e.Y36(Qn),e.Y36(ia))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-tab-routes"]],inputs:{tabs:"tabs",queryParams:"queryParams",removeBorder:"removeBorder"},decls:31,vars:14,consts:[[1,"tab-routes-wrapper"],[1,"tab-routes"],["span","1","class","border",4,"ngIf"],[4,"ngFor","ngForOf"],["span","1",2,"width","max-content"],["class","border",4,"ngIf"],[1,"border"],["app-horizontal-dash","","class","border",4,"ngIf"],["app-horizontal-dash","",1,"border"],[1,"break-word","text-grey"],["span","1",1,"border"],["span","1",2,"width","200px"],["app-horizontal-dash","",1,"border",3,"symbol"],[1,"link-btn",3,"ngClass","routerLink","queryParams","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table")(3,"colgroup"),e.YNc(4,rI,1,0,"col",2),e.YNc(5,oI,3,0,"ng-container",3),e._UZ(6,"col",4),e.YNc(7,rC,1,0,"col",2),e.qZA(),e.TgZ(8,"tbody")(9,"tr"),e.YNc(10,oC,2,1,"th",5),e.YNc(11,iC,4,2,"ng-container",3),e._UZ(12,"th",6),e.YNc(13,sC,1,0,"th",5),e.qZA(),e.TgZ(14,"tr"),e.YNc(15,aC,2,0,"th",5),e.YNc(16,uC,6,5,"ng-container",3),e._UZ(17,"th",6),e.YNc(18,lC,1,0,"th",5),e.qZA(),e.TgZ(19,"tr"),e.YNc(20,cC,1,1,"th",7),e.YNc(21,dC,2,0,"th",5),e._UZ(22,"th",6),e.TgZ(23,"th",6),e._uU(24,"+"),e.qZA(),e._UZ(25,"th",8),e.YNc(26,hC,2,0,"th",5),e.qZA()(),e.TgZ(27,"tbody")(28,"tr")(29,"td",9),e._UZ(30,"router-outlet"),e.qZA()()()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(2),e.Q6J("ngIf",!o.removeBorder),e.xp6(3),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(2),e.Q6J("ngIf",!o.removeBorder),e.xp6(2),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(2),e.Q6J("ngIf",!o.removeBorder),e.xp6(2),e.Q6J("ngIf",0<o.selectedIndex),e.xp6(1),e.Q6J("ngIf",!o.removeBorder||0!=o.selectedIndex),e.xp6(4),e.uIk("colspan",2*(o.tabs.length-o.selectedIndex-1)+1),e.xp6(1),e.Q6J("ngIf",!o.removeBorder),e.xp6(3),e.uIk("colspan",2*(o.tabs.length+1)+(o.removeBorder?0:1)))},dependencies:[Vn,dt,It,zo,co,An]}),r})(),Bl=(()=>{class r extends Ml{constructor(){super(...arguments),this.tabs=[{name:"Add New",route:"new",enabled:!0},{name:"List",route:"list",enabled:!0},{name:"Translations",route:"translations",enabled:!0},{name:"Details",route:"word/:word",enabled:!1}]}ngOnInit(){super.ngOnInit()}refreshAll(){}changeLang(){}}return r.\u0275fac=function(){let n;return function(o){return(n||(n=e.n5z(r)))(o||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["app-words"]],features:[e.qOj],decls:2,vars:1,consts:[[1,"table-container"],[3,"tabs"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-tab-routes",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("tabs",o.tabs))},dependencies:[jm]}),r})(),Nu=(()=>{class r extends Pl{constructor(t,o){super(t,o)}addWord$Response(t){const o=new ot(this.rootUrl,r.AddWordPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}addWord(t){return this.addWord$Response(t).pipe((0,W.U)(o=>o.body))}getAllWords$Response(t){const o=new ot(this.rootUrl,r.GetAllWordsPath,"get");return t&&o.query("filter",t.filter,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getAllWords(t){return this.getAllWords$Response(t).pipe((0,W.U)(o=>o.body))}getAllWordsFromLang$Response(t){const o=new ot(this.rootUrl,r.GetAllWordsFromLangPath,"get");return t&&o.path("from",t.from,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getAllWordsFromLang(t){return this.getAllWordsFromLang$Response(t).pipe((0,W.U)(o=>o.body))}cleanIpaWords$Response(t){const o=new ot(this.rootUrl,r.CleanIpaWordsPath,"post");return this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:void 0})))}cleanIpaWords(t){return this.cleanIpaWords$Response(t).pipe((0,W.U)(o=>o.body))}addDerivedWord$Response(t){const o=new ot(this.rootUrl,r.AddDerivedWordPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}addDerivedWord(t){return this.addDerivedWord$Response(t).pipe((0,W.U)(o=>o.body))}getAllWordsWithTranslationsFromLang$Response(t){const o=new ot(this.rootUrl,r.GetAllWordsWithTranslationsFromLangPath,"get");return t&&o.path("from",t.from,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getAllWordsWithTranslationsFromLang(t){return this.getAllWordsWithTranslationsFromLang$Response(t).pipe((0,W.U)(o=>o.body))}deleteWord$Response(t){const o=new ot(this.rootUrl,r.DeleteWordPath,"delete");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:void 0})))}deleteWord(t){return this.deleteWord$Response(t).pipe((0,W.U)(o=>o.body))}canDeleteWord$Response(t){const o=new ot(this.rootUrl,r.CanDeleteWordPath,"get");return t&&o.path("wordId",t.wordId,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:"true"===String(i.body)})))}canDeleteWord(t){return this.canDeleteWord$Response(t).pipe((0,W.U)(o=>o.body))}getDetailedWordsByPhonetics$Response(t){const o=new ot(this.rootUrl,r.GetDetailedWordsByPhoneticsPath,"get");return t&&o.path("word",t.word,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getDetailedWordsByPhonetics(t){return this.getDetailedWordsByPhonetics$Response(t).pipe((0,W.U)(o=>o.body))}}return r.AddWordPath="/api/words/add",r.GetAllWordsPath="/api/words/all",r.GetAllWordsFromLangPath="/api/words/all/{from}",r.CleanIpaWordsPath="/api/words/clean",r.AddDerivedWordPath="/api/words/derive",r.GetAllWordsWithTranslationsFromLangPath="/api/words/page/{from}",r.DeleteWordPath="/api/words/{id}",r.CanDeleteWordPath="/api/words/{wordId}/candelete",r.GetDetailedWordsByPhoneticsPath="/api/words/{word}",r.\u0275fac=function(t){return new(t||r)(e.LFG(ra),e.LFG(gs))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function iI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw();return e.KtG(u.changePage(i))}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t+1,"")}}function Jc(r,n){if(1&r&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t+1,"")}}function C2(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,","),e.qZA())}function $m(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," ... "),e.qZA())}function T2(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,iI,2,1,"a",8),e.YNc(2,Jc,2,1,"span",9),e.YNc(3,C2,2,0,"span",10),e.YNc(4,$m,2,0,"span",10),e.qZA()),2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t!=i.page),e.xp6(1),e.Q6J("ngIf",t==i.page),e.xp6(1),e.Q6J("ngIf",o<i.pageBttns.length-1&&t+1==i.pageBttns[o+1]),e.xp6(1),e.Q6J("ngIf",t+1!=i.pageBttns[o+1]&&o<i.pageBttns.length-1)}}let Pg=(()=>{class r{constructor(){this.pageBttns=[],this.totalPages=0,this.total=0,this.page=0,this.size=30,this.load=new e.vpe}ngOnInit(){this.load.emit({page:this.page,size:this.size})}ngOnChanges(t){this.redrawPageBttns()}redrawPageBttns(){if(this.totalPages){this.pageBttns=[];for(let t=0;t<3;t++)this.pageBttns.push(t),this.pageBttns.push(this.totalPages-1-t),this.pageBttns.push(this.page+t),this.pageBttns.push(this.page-t);this.pageBttns=this.pageBttns.filter((t,o,i)=>i.indexOf(t)===o&&t>=0&&this.totalPages&&t<this.totalPages).sort((t,o)=>t-o)}}changePage(t){if(this.totalPages&&void 0!==t){const o=Math.min(Math.max(0,t),this.totalPages-1);o!==this.page&&(this.page=o,this.load.emit({page:this.page,size:this.size}))}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-paginator"]],inputs:{totalPages:"totalPages",total:"total",page:"page",size:"size"},outputs:{load:"load"},features:[e.TTD],decls:59,vars:4,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","240px"],["span","1",2,"width","17px"],["span","1",2,"width","auto"],[1,"border"],["app-horizontal-dash","","colspan","11",1,"border"],[3,"click"],[4,"ngFor","ngForOf"],["class","text-grey-dull",3,"click",4,"ngIf"],["class","text-main",4,"ngIf"],[4,"ngIf"],[1,"text-grey-dull",3,"click"],[1,"text-main"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0)(5,"col",2)(6,"col",0)(7,"col",2)(8,"col",0)(9,"col",3)(10,"col",0)(11,"col",2)(12,"col",0)(13,"col",2)(14,"col",0),e.qZA(),e.TgZ(15,"tbody")(16,"tr")(17,"th",4),e._uU(18,"+"),e.qZA(),e._UZ(19,"th",5),e.TgZ(20,"th",4),e._uU(21,"+"),e.qZA()(),e.TgZ(22,"tr")(23,"th",4),e._uU(24,"|"),e.qZA(),e.TgZ(25,"th",4),e._uU(26),e.qZA(),e.TgZ(27,"th",4),e._uU(28,"|"),e.qZA(),e.TgZ(29,"th",4)(30,"a",6),e.NdJ("click",function(){return o.changePage(0)}),e._uU(31," \xab "),e.qZA()(),e.TgZ(32,"th",4),e._uU(33,"|"),e.qZA(),e.TgZ(34,"th",4)(35,"a",6),e.NdJ("click",function(){return o.changePage(o.page-1)}),e._uU(36," < "),e.qZA()(),e.TgZ(37,"th",4),e._uU(38,"|"),e.qZA(),e.TgZ(39,"th",4),e.YNc(40,T2,5,4,"span",7),e.qZA(),e.TgZ(41,"th",4),e._uU(42,"|"),e.qZA(),e.TgZ(43,"th",4)(44,"a",6),e.NdJ("click",function(){return o.changePage(o.page+1)}),e._uU(45," > "),e.qZA()(),e.TgZ(46,"th",4),e._uU(47,"|"),e.qZA(),e.TgZ(48,"th",4)(49,"a",6),e.NdJ("click",function(){return o.changePage(o.totalPages)}),e._uU(50," \xbb "),e.qZA()(),e.TgZ(51,"th",4),e._uU(52,"|"),e.qZA()(),e.TgZ(53,"tr")(54,"th",4),e._uU(55,"+"),e.qZA(),e._UZ(56,"th",5),e.TgZ(57,"th",4),e._uU(58,"+"),e.qZA()()()()),2&t&&(e.xp6(26),e.lnq(" Page ",o.page+1," of ",o.totalPages," (",o.total," words) "),e.xp6(14),e.Q6J("ngForOf",o.pageBttns))},dependencies:[dt,It,An]}),r})(),Uu=(()=>{class r{transform(t,...o){return t&&t.replace(/\u0261/g,"g").replace(/\ua7ac/g,"G")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275pipe=e.Yjl({name:"writtenWord",type:r,pure:!0}),r})();function w2(r,n){if(1&r&&(e.TgZ(0,"option",9),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.displayName)}}function xt(r,n){if(1&r&&(e.TgZ(0,"option",9),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function sI(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.AsE("",0==o?"":", ","",t.name,"")}}function aI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw();return e.KtG(u.deleteWord(i))}),e._uU(1,"x"),e.qZA()}}const uI=function(r){return["/words/word",r]};function Wc(r,n){if(1&r&&(e.TgZ(0,"tr",14)(1,"th",4),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",20)(4,"span",21),e._uU(5),e.ALo(6,"writtenWord"),e.qZA()(),e.TgZ(7,"th",4),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",22)(10,"a",23),e._uU(11),e.qZA()(),e.TgZ(12,"th",4),e._uU(13,"|"),e.qZA(),e.TgZ(14,"th",4),e._uU(15),e.qZA(),e.TgZ(16,"th",4),e._uU(17,"|"),e.qZA(),e.TgZ(18,"th",5),e._UZ(19,"span",7),e.YNc(20,sI,2,2,"span",24),e.TgZ(21,"span"),e._uU(22),e.qZA()(),e.TgZ(23,"th",4)(24,"span"),e._uU(25,"|"),e.qZA()(),e.TgZ(26,"th",4),e.YNc(27,aI,2,0,"a",25),e.qZA(),e.TgZ(28,"th",4),e._uU(29,"|"),e.qZA()()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,8,t.writtenWord)),e.xp6(5),e.Q6J("fragment",null==t.language?null:t.language.displayName)("routerLink",e.VKq(10,uI,t.word)),e.xp6(1),e.hij("/ ",t.word," / "),e.xp6(4),e.Oqu(null==t.partOfSpeech?null:t.partOfSpeech.abbreviation),e.xp6(5),e.Q6J("ngForOf",t.grammaticalValues),e.xp6(2),e.hij(" from ",null==t.language?null:t.language.displayName,""),e.xp6(5),e.Q6J("ngIf",o.canDeleteWord(t))}}let lI=(()=>{class r{constructor(t,o,i){this.wordService=t,this.languageService=o,this.posService=i,this.words={},this.languages=[],this.poses=[],this.pageSize=30,this.canDelete=new Map}ngOnInit(){this.languageService.getAllLanguages().subscribe(t=>{this.languages=t.sort((o,i)=>o.displayName?o.displayName.localeCompare(i.displayName?i.displayName:""):-1)}),this.posService.getAllPos().subscribe(t=>{this.poses=t.sort((o,i)=>o.name?o.name.localeCompare(i.name?i.name:""):-1)})}load(t){this.wordService.getAllWords({filter:t}).subscribe(o=>{o.data&&(this.words=o,o.data.forEach(i=>{if(i.id){const u=i.id;this.wordService.canDeleteWord({wordId:u}).subscribe(d=>{this.canDelete.set(u,d)})}}))})}loadDefault(t){var o,i;console.log("loadDefault",t,this.pos,this.language,this.wordSearch),t||(t={}),t={page:t.page?t.page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,languageId:t.languageId?t.languageId:null===t.languageId||null===(o=this.language)||void 0===o?void 0:o.id,posId:t.posId?t.posId:null===t.posId||null===(i=this.pos)||void 0===i?void 0:i.id},this.load(t)}deleteWord(t){t.id&&this.wordService.deleteWord({id:t.id}).subscribe(()=>{var o;this.words.data=null===(o=this.words.data)||void 0===o?void 0:o.filter(i=>i.id!==t.id)})}addNewWord(t){this.wordService.addWord({body:t}).subscribe(o=>{var i;null===(i=this.words.data)||void 0===i||i.push(o)})}resetFilter(){this.language=void 0,this.pos=void 0,this.wordSearch=void 0,this.loadDefault({})}canDeleteWord(t){return!!t.id&&!!this.canDelete.get(t.id)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Nu),e.Y36(fs),e.Y36(Pi))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-words-list"]],decls:58,vars:12,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","9px"],["span","1",2,"width","70px"],[1,"border"],[1,"border",2,"text-align","left"],["type","text",2,"height","16px","margin-left","16px",3,"ngModel","ngModelChange"],[2,"margin-left","8px"],["id","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["id","posSelector",1,"posSelector",3,"ngModel","ngModelChange"],[1,"text-red-dull",3,"click"],["app-horizontal-dash","","colspan","3",1,"border"],[1,"table-content"],["span","1",2,"width","1%"],["span","1",2,"width","40px"],["span","1",2,"width","17px"],["class","table-content",4,"ngFor","ngForOf"],[3,"page","size","totalPages","total","load"],[2,"text-align","left","padding-left","8px","padding-right","8px"],[1,"text-green-dull","text-line",2,"white-space","nowrap","text-transform","capitalize"],[2,"padding-left","8px","padding-right","8px"],[1,"text-main","link-btn",3,"fragment","routerLink"],[4,"ngFor","ngForOf"],["class","text-red-dull",3,"click",4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",0),e.qZA(),e.TgZ(7,"tbody")(8,"tr")(9,"th",4),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e.qZA(),e.TgZ(13,"th",5)(14,"input",6),e.NdJ("ngModelChange",function(u){return o.loadDefault({word:u})})("ngModelChange",function(u){return o.wordSearch=u}),e.qZA(),e.TgZ(15,"span",7)(16,"select",8),e.NdJ("ngModelChange",function(u){return o.loadDefault({languageId:null==u?null:u.id})})("ngModelChange",function(u){return o.language=u}),e.TgZ(17,"option",9),e._uU(18,"All languages"),e.qZA(),e.YNc(19,w2,2,2,"option",10),e.qZA()(),e.TgZ(20,"span",7)(21,"select",11),e.NdJ("ngModelChange",function(u){return o.loadDefault({posId:null==u?null:u.id})})("ngModelChange",function(u){return o.pos=u}),e.TgZ(22,"option",9),e._uU(23,"Any part of speech"),e.qZA(),e.YNc(24,xt,2,2,"option",10),e.qZA()()(),e.TgZ(25,"th",4),e._uU(26,"|"),e._UZ(27,"br"),e._uU(28,"|"),e.qZA(),e.TgZ(29,"th")(30,"a",12),e.NdJ("click",function(){return o.resetFilter()}),e._uU(31,"[ x ]"),e.qZA()(),e.TgZ(32,"th",4),e._uU(33,"|"),e._UZ(34,"br"),e._uU(35,"|"),e.qZA()(),e.TgZ(36,"tr")(37,"th",4),e._uU(38,"+"),e.qZA(),e._UZ(39,"th",13),e.TgZ(40,"th",4),e._uU(41,"+"),e.qZA()()()(),e.TgZ(42,"table",14)(43,"colgroup"),e._UZ(44,"col",0)(45,"col",15)(46,"col",0)(47,"col",15)(48,"col",0)(49,"col",16)(50,"col",0)(51,"col",1)(52,"col",0)(53,"col",17)(54,"col",0),e.qZA(),e.TgZ(55,"tbody",14),e.YNc(56,Wc,30,12,"tr",18),e.qZA()(),e.TgZ(57,"app-list-paginator",19),e.NdJ("load",function(u){return o.loadDefault(u)}),e.qZA()),2&t&&(e.xp6(14),e.Q6J("ngModel",o.wordSearch),e.xp6(2),e.Q6J("ngModel",o.language),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.languages),e.xp6(2),e.Q6J("ngModel",o.pos),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.poses),e.xp6(32),e.Q6J("ngForOf",o.words.data),e.xp6(1),e.Q6J("page",o.words.page?o.words.page:0)("size",o.pageSize)("totalPages",o.words.totalPages?o.words.totalPages:0)("total",o.words.total?o.words.total:0))},dependencies:[dt,It,co,yr,so,Zn,Mn,Dn,mn,An,Pg,Uu]}),r})();var ua=(()=>((ua||(ua={})).General="GENERAL",ua))();function Rg(r,n){if(1&r&&(e.TgZ(0,"span")(1,"span",4),e._uU(2),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.hij(" /",t.translation.wordTo.word,"/")}}const ir=function(r){return["/words/word",r]};function b2(r,n){if(1&r&&(e.TgZ(0,"a",2),e._uU(1),e.ALo(2,"writtenWord"),e.YNc(3,Rg,3,1,"span",3),e.qZA()),2&r){const t=e.oxw();e.Q6J("routerLink",e.VKq(5,ir,t.translation.wordTo.word)),e.xp6(1),e.Oqu(e.lcZ(2,3,t.translation.wordTo.writtenWord)),e.xp6(2),e.Q6J("ngIf",t.translation.wordTo.writtenWord!==t.translation.wordTo.word)}}function pC(r,n){if(1&r&&(e.TgZ(0,"a",5),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.translation.phraseTo)}}let Og=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-translation-word"]],inputs:{translation:"translation"},decls:2,vars:2,consts:[["class","text-blue-dull link-btn",3,"routerLink",4,"ngIf"],["class","text-blue-dull link-btn",4,"ngIf"],[1,"text-blue-dull","link-btn",3,"routerLink"],[4,"ngIf"],[1,"text-grey"],[1,"text-blue-dull","link-btn"]],template:function(t,o){1&t&&(e.YNc(0,b2,4,7,"a",0),e.YNc(1,pC,2,1,"a",1)),2&t&&(e.Q6J("ngIf",o.translation.wordTo),e.xp6(1),e.Q6J("ngIf",!o.translation.wordTo))},dependencies:[It,co,Uu]}),r})(),gC=(()=>{class r{transform(t,...o){return t===ua.General?"gen.":t}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275pipe=e.Yjl({name:"translationType",type:r,pure:!0}),r})();function fC(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"app-translation-word",1),e.qZA()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Oqu(0==o?"":"; "),e.xp6(1),e.Q6J("translation",t)}}function _C(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"dt"),e._uU(2),e.ALo(3,"translationType"),e.qZA(),e.TgZ(4,"dd"),e.YNc(5,fC,3,2,"span",0),e.qZA(),e.BQk()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.AsE("",o," ",e.lcZ(3,3,t),""),e.xp6(3),e.Q6J("ngForOf",i.getTranslationForWordAndType(t,!0,o))}}function mC(r,n){if(1&r&&(e.TgZ(0,"li"),e._UZ(1,"app-translation-word",1),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("translation",t)}}function yC(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"dt"),e._uU(2),e.ALo(3,"translationType"),e.qZA(),e.TgZ(4,"dd")(5,"ol"),e.YNc(6,mC,2,1,"li",0),e.qZA()(),e.BQk()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.AsE("",o," ",e.lcZ(3,3,t),""),e.xp6(4),e.Q6J("ngForOf",i.getTranslationForWordAndType(t,!1,o))}}function cI(r,n){if(1&r&&(e.ynx(0),e.YNc(1,_C,6,5,"ng-container",0),e.YNc(2,yC,7,5,"ng-container",0),e.BQk()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.getWordTranslationsTypes(t)),e.xp6(1),e.Q6J("ngForOf",o.getPhraseTranslationsTypes(t))}}let dI=(()=>{class r{constructor(){}get getTranslationLangs(){var t;const o=null===(t=this.translations)||void 0===t?void 0:t.map(u=>{var d,g,y;return null!==(d=u.wordTo)&&void 0!==d&&d.language?null===(g=u.wordTo)||void 0===g?void 0:g.language:null===(y=u.phraseTo)||void 0===y?void 0:y.language}).map(u=>u?u.displayName:"Unknown");return[...new Set(o)]||[]}getWordTranslationsTypes(t){return this.getTranslationTypes(!0,t)}getPhraseTranslationsTypes(t){return this.getTranslationTypes(!1,t)}getTranslationTypes(t,o){var i;const u=null===(i=this.translations)||void 0===i?void 0:i.filter(g=>{var y,w;return t?g.wordTo&&(null===(y=g.wordTo.language)||void 0===y?void 0:y.displayName)===o:g.phraseTo&&(null===(w=g.phraseTo.language)||void 0===w?void 0:w.displayName)===o}).map(g=>g.type).map(g=>g||ua.General);return[...new Set(u)]||[]}getTranslationForWordAndType(t,o,i){var u;return(null===(u=this.translations)||void 0===u?void 0:u.filter(g=>{var y,w;return(o?g.wordTo&&(null===(y=g.wordTo.language)||void 0===y?void 0:y.displayName)===i:g.phraseTo&&(null===(w=g.phraseTo.language)||void 0===w?void 0:w.displayName)===i)&&g.type===t}))||[]}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-detail-translations"]],inputs:{translations:"translations"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"translation"]],template:function(t,o){1&t&&(e.TgZ(0,"dl"),e.YNc(1,cI,3,2,"ng-container",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.getTranslationLangs))},dependencies:[dt,Og,gC]}),r})();function hI(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" /",t.wordWithTranslations.word,"/")}}function Nh(r,n){if(1&r&&(e.ynx(0),e._uU(1),e._UZ(2,"app-translation-word",3),e.BQk()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Oqu(o>0?", ":""),e.xp6(1),e.Q6J("translation",t)}}function pI(r,n){if(1&r&&(e.TgZ(0,"span")(1,"span"),e._uU(2," ("),e.qZA(),e.YNc(3,Nh,3,2,"ng-container",2),e._uU(4,")"),e.qZA()),2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.wordWithTranslations.translations)}}const gI=function(r){return["/words/word",r]};let vC=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-written-with-translations"]],inputs:{wordWithTranslations:"wordWithTranslations"},decls:5,vars:8,consts:[[1,"text-main","link-btn",3,"routerLink"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"translation"]],template:function(t,o){1&t&&(e.TgZ(0,"a",0),e._uU(1),e.ALo(2,"writtenWord"),e.qZA(),e.YNc(3,hI,2,1,"span",1),e.YNc(4,pI,5,1,"span",1)),2&t&&(e.Q6J("routerLink",e.VKq(6,gI,o.wordWithTranslations.word)),e.xp6(1),e.Oqu(e.lcZ(2,4,o.wordWithTranslations.writtenWord)),e.xp6(2),e.Q6J("ngIf",o.wordWithTranslations.word!==o.wordWithTranslations.writtenWord),e.xp6(1),e.Q6J("ngIf",null==o.wordWithTranslations.translations?null:o.wordWithTranslations.translations.length))},dependencies:[dt,It,co,Og,Uu]}),r})();function Lg(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"a",1)(3,"i"),e._uU(4),e.qZA()(),e._uU(5," *"),e._UZ(6,"app-word-written-with-translations",2),e.qZA()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Oqu(0==o?"":", "),e.xp6(3),e.Oqu(null==t.language?null:t.language.displayName),e.xp6(2),e.Q6J("wordWithTranslations",t)}}let CC=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-detail-list"]],inputs:{wordsWithTranslations:"wordsWithTranslations"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"text-grey"],[3,"wordWithTranslations"]],template:function(t,o){1&t&&e.YNc(0,Lg,7,3,"span",0),2&t&&e.Q6J("ngForOf",o.wordsWithTranslations)},dependencies:[dt,vC]}),r})();const TC=["app-word-detail-descendants",""];function wC(r,n){if(1&r&&e._UZ(0,"app-word-written-with-translations",2),2&r){const t=e.oxw();e.Q6J("wordWithTranslations",t.descendant.word)}}function fI(r,n){1&r&&e._UZ(0,"li",3),2&r&&e.Q6J("descendant",n.$implicit)}let Uh=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["li","app-word-detail-descendants",""]],inputs:{descendant:"descendant"},attrs:TC,decls:5,vars:3,consts:[[3,"wordWithTranslations",4,"ngIf"],["app-word-detail-descendants","",3,"descendant",4,"ngFor","ngForOf"],[3,"wordWithTranslations"],["app-word-detail-descendants","",3,"descendant"]],template:function(t,o){1&t&&(e._uU(0),e.YNc(1,wC,1,1,"app-word-written-with-translations",0),e._uU(2,".\n"),e.TgZ(3,"ul"),e.YNc(4,fI,1,1,"li",1),e.qZA()),2&t&&(e.hij("",null==o.descendant.word||null==o.descendant.word.language?null:o.descendant.word.language.displayName,": "),e.xp6(1),e.Q6J("ngIf",o.descendant.word),e.xp6(3),e.Q6J("ngForOf",o.descendant.descendants))},dependencies:[dt,It,vC,r]}),r})();function Mh(r,n){if(1&r&&(e.TgZ(0,"option",3),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}let _I=(()=>{class r{constructor(t){this.categoryService=t}ngOnInit(){var t;console.log("ngOnInit value",this.value),this.value=null===(t=this.categoryValues)||void 0===t?void 0:t.find(o=>{var i;return o.id==(null===(i=this.value)||void 0===i?void 0:i.id)})}valueChanged(t){console.log("Value changed",t),t.value?this.categoryService.replaceGrammaticalValuesByWord({body:{value:t.value,word:this.word}}).subscribe(()=>console.log("Saved value")):this.word.id&&this.category.id&&this.categoryService.removeGrammaticalValuesByWord({wordId:this.word.id,categoryId:this.category.id}).subscribe(()=>console.log("Removed value"))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Vl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-grammar-category"]],inputs:{category:"category",categoryValues:"categoryValues",value:"value",connected:"connected",word:"word"},decls:7,vars:5,consts:[[3,"ngClass"],[1,"input-group",2,"margin-right","12px"],["id","newWordTypeSelector",1,"posSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"span",0),e._uU(1),e.qZA(),e._uU(2,":\n"),e.TgZ(3,"span",1)(4,"select",2),e.NdJ("ngModelChange",function(u){return o.valueChanged({value:u})})("ngModelChange",function(u){return o.value=u}),e._UZ(5,"option",3),e.YNc(6,Mh,2,2,"option",4),e.qZA()()),2&t&&(e.Q6J("ngClass",o.connected?"":"text-red-dull"),e.xp6(1),e.Oqu(o.category.name),e.xp6(3),e.Q6J("ngModel",o.value),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(1),e.Q6J("ngForOf",o.categoryValues))},dependencies:[Vn,dt,yr,so,Mn,Dn,mn]}),r})();function mI(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"span",5),e._uU(3),e.qZA()()),2&r){const t=n.$implicit,o=n.index,i=e.oxw(2);e.xp6(1),e.Oqu(0==o?"":", "),e.xp6(1),e.Q6J("ngClass",i.isValueConnected(t)?"":"text-red-dull"),e.xp6(1),e.Oqu(null==t.value?null:t.value.name)}}function yI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span",2),e.YNc(1,mI,4,3,"span",3),e.TgZ(2,"a",4),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.isEditCategories=!0)}),e._uU(3," [e]"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.wordValues)}}function bC(r,n){if(1&r&&e._UZ(0,"app-word-grammar-category",7),2&r){const t=e.oxw().$implicit,o=e.oxw(2);e.Q6J("categoryValues",o.categoryValues.get(t))("category",t)("connected",o.isCategoryConnected(t))("value",o.getWordCategoryValue(t))("word",o.word)}}function AC(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,bC,1,5,"app-word-grammar-category",6),e.qZA()),2&r){const t=n.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.isCategoryConnected(t)||o.getWordCategoryValue(t))}}function IC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span",2),e.YNc(1,AC,2,1,"span",3),e.TgZ(2,"a",4),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.save())}),e._uU(3," [close]"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.categories)}}let vI=(()=>{class r{constructor(t){this.categoryService=t,this.categoryValues=new Map,this.categoryConnections=new Map,this.wordValues=[],this.isEditCategories=!1}get categories(){return[...this.categoryValues.keys()].sort((t,o)=>t.name?t.name.localeCompare(o.name?o.name:""):-1)}ngOnInit(){this.categoryService.getAllCategories().subscribe(t=>{t.forEach(o=>{var i,u;this.categoryValues.set(o,[]),o.id&&(null===(i=this.word.language)||void 0===i?void 0:i.id)&&this.categoryService.getCategoryValuesByCategoryAndLang({categoryId:o.id,langId:this.word.language.id}).subscribe(d=>{this.categoryValues.set(o,d)}),(null===(u=this.word.language)||void 0===u?void 0:u.id)&&o.id&&this.categoryService.getGrammaticalCategoryConnectionsForLang({categoryId:o.id,languageId:this.word.language.id}).subscribe(d=>{o.id&&this.categoryConnections.set(o.id,!!d.find(g=>{var y,w;return(null===(y=null==g?void 0:g.pos)||void 0===y?void 0:y.id)===(null===(w=this.word.partOfSpeech)||void 0===w?void 0:w.id)}))})})}),this.reloadWordValues()}save(){this.reloadWordValues(),this.isEditCategories=!1}getWordCategoryValue(t){var o,i;const u=null===(i=null===(o=this.wordValues)||void 0===o?void 0:o.find(d=>{var g,y;return(null===(y=null===(g=d.value)||void 0===g?void 0:g.category)||void 0===y?void 0:y.id)==t.id}))||void 0===i?void 0:i.value;return null==u?void 0:u}isValueConnected(t){var o;return this.isCategoryConnected(null===(o=null==t?void 0:t.value)||void 0===o?void 0:o.category)}isCategoryConnected(t){return!(null==t||!t.id||!this.categoryConnections.get(t.id))}reloadWordValues(){this.word.id&&this.categoryService.getGrammaticalValuesByWord({wordId:this.word.id}).subscribe(t=>{this.wordValues=t})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Vl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-grammar"]],inputs:{word:"word"},decls:8,vars:6,consts:[[1,"text-green-dull","text-line",2,"text-transform","capitalize"],["style","margin-left: 8px;",4,"ngIf"],[2,"margin-left","8px"],[4,"ngFor","ngForOf"],[1,"text-grey-dull","link-btn",3,"click"],[3,"ngClass"],[3,"categoryValues","category","connected","value","word",4,"ngIf"],[3,"categoryValues","category","connected","value","word"]],template:function(t,o){1&t&&(e.TgZ(0,"span",0)(1,"i"),e._uU(2),e.ALo(3,"writtenWord"),e.qZA()(),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.YNc(6,yI,4,1,"span",1),e.YNc(7,IC,4,1,"span",1)),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,4,o.word.writtenWord)),e.xp6(3),e.hij(" ",null==o.word.partOfSpeech||null==o.word.partOfSpeech.name?null:o.word.partOfSpeech.name.toLowerCase(),";"),e.xp6(1),e.Q6J("ngIf",!o.isEditCategories),e.xp6(1),e.Q6J("ngIf",o.isEditCategories))},dependencies:[Vn,dt,It,_I,Uu]}),r})();function EC(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," - "),e.qZA())}function CI(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,EC,2,0,"span",6),e.TgZ(2,"a",7),e._uU(3),e.qZA()()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Q6J("ngIf",o>0),e.xp6(1),e.Q6J("fragment",t.displayName)("routerLink","."),e.xp6(1),e.Oqu(t.displayName)}}function TI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"span",3),e._uU(2),e.qZA(),e.TgZ(3,"a",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.editComment())}),e._uU(4," [e]"),e.qZA()()}if(2&r){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",null==t.word?null:t.word.comment,"")}}function A2(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"input",18),e.NdJ("ngModelChange",function(i){e.CHM(t);const u=e.oxw(2).$implicit,d=e.oxw(2);return e.KtG(d.changeComment(i,u.word))})("ngModelChange",function(i){e.CHM(t);const u=e.oxw(2).$implicit;return e.KtG(u.word.comment=i)}),e.qZA()}if(2&r){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.word.comment)}}function I2(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e.YNc(1,A2,1,1,"input",15),e.TgZ(2,"a",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw(2);return e.KtG(u.saveComment(i.word))}),e._uU(3," [s]"),e.qZA(),e.TgZ(4,"a",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.editComment())}),e._uU(5," [c]"),e.qZA()()}if(2&r){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.word)}}const wI=function(r){return["/words",r]};function E2(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",2),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",11)(4,"a",12),e._uU(5),e.ALo(6,"writtenWord"),e.qZA(),e._uU(7),e.TgZ(8,"a",13),e._uU(9),e.qZA(),e.YNc(10,TI,5,1,"span",6),e.YNc(11,I2,6,1,"span",6),e.qZA(),e.TgZ(12,"th",2),e._uU(13,"|"),e.qZA()()),2&r){const t=n.$implicit,o=e.oxw(2);e.xp6(4),e.Q6J("routerLink",e.VKq(9,wI,null==t.word?null:t.word.word)),e.xp6(1),e.Oqu(e.lcZ(6,7,null==t.word?null:t.word.writtenWord)),e.xp6(2),e.hij(" ",null==t.word||null==t.word.partOfSpeech?null:t.word.partOfSpeech.abbreviation," "),e.xp6(1),e.Q6J("routerLink",e.VKq(11,wI,null==t.word?null:t.word.word)),e.xp6(1),e.hij("/ ",null==t.word?null:t.word.word," /"),e.xp6(1),e.Q6J("ngIf",!o.isEditComment),e.xp6(1),e.Q6J("ngIf",o.isEditComment)}}function DC(r,n){if(1&r&&e._UZ(0,"app-word-grammar",24),2&r){const t=e.oxw().$implicit;e.Q6J("word",t.word)}}function Fg(r,n){if(1&r&&(e.TgZ(0,"p"),e._uU(1," From "),e._UZ(2,"app-word-detail-list",25),e._uU(3," . "),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("wordsWithTranslations",null==t.etymology?null:t.etymology.from)}}function bI(r,n){1&r&&(e.TgZ(0,"p"),e._uU(1,"New word."),e.qZA())}function AI(r,n){if(1&r&&(e.TgZ(0,"p"),e._uU(1," Cognate with "),e._UZ(2,"app-word-detail-list",25),e._uU(3," . "),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("wordsWithTranslations",null==t.etymology?null:t.etymology.cognate)}}function SC(r,n){if(1&r&&(e.TgZ(0,"div",27),e._UZ(1,"app-word-detail-translations",28),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("translations",t.translations)}}function Ph(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",19),e._uU(6,"Translations"),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr"),e._UZ(16,"th",20),e.TgZ(17,"th",21),e.YNc(18,SC,2,1,"div",26),e.qZA(),e._UZ(19,"th",20),e.qZA(),e.TgZ(20,"tr")(21,"th",2),e._uU(22,"+"),e.qZA(),e._UZ(23,"th",5),e.TgZ(24,"th",2),e._uU(25,"+"),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(18),e.Q6J("ngIf",t.translations)}}function II(r,n){if(1&r&&(e.TgZ(0,"p"),e._uU(1," Derived to "),e._UZ(2,"app-word-detail-list",25),e._uU(3," . "),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("wordsWithTranslations",t.derived)}}function EI(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",19),e._uU(6,"Derived"),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr"),e._UZ(16,"th",20),e.TgZ(17,"th",21)(18,"div",22),e.YNc(19,II,4,1,"p",6),e.qZA()(),e._UZ(20,"th",20),e.qZA(),e.TgZ(21,"tr")(22,"th",2),e._uU(23,"+"),e.qZA(),e._UZ(24,"th",5),e.TgZ(25,"th",2),e._uU(26,"+"),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(19),e.Q6J("ngIf",t.derived)}}function DI(r,n){1&r&&e._UZ(0,"li",30),2&r&&e.Q6J("descendant",n.$implicit)}function SI(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",19),e._uU(6,"Descendants"),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr"),e._UZ(16,"th",20),e.TgZ(17,"th",21)(18,"div",27)(19,"ul"),e.YNc(20,DI,1,1,"li",29),e.qZA()()(),e._UZ(21,"th",20),e.qZA(),e.TgZ(22,"tr")(23,"th",2),e._uU(24,"+"),e.qZA(),e._UZ(25,"th",5),e.TgZ(26,"th",2),e._uU(27,"+"),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(20),e.Q6J("ngForOf",t.descendants.descendants)}}function xI(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",19),e._uU(6,"Grammar"),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr"),e._UZ(16,"th",20),e.TgZ(17,"th",21)(18,"div",22),e.YNc(19,DC,1,1,"app-word-grammar",23),e.qZA()(),e._UZ(20,"th",20),e.qZA(),e.TgZ(21,"tr")(22,"th",2),e._uU(23,"+"),e.qZA(),e._UZ(24,"th",5),e.TgZ(25,"th",2),e._uU(26,"+"),e.qZA()(),e.TgZ(27,"tr")(28,"th",2),e._uU(29,"|"),e.qZA(),e.TgZ(30,"th",2)(31,"span",19),e._uU(32,"Etymology "),e.TgZ(33,"span"),e._uU(34),e.qZA()()(),e.TgZ(35,"th",2),e._uU(36,"|"),e.qZA()(),e.TgZ(37,"tr")(38,"th",2),e._uU(39,"+"),e.qZA(),e._UZ(40,"th",5),e.TgZ(41,"th",2),e._uU(42,"+"),e.qZA()(),e.TgZ(43,"tr"),e._UZ(44,"th",20),e.TgZ(45,"th",21)(46,"div",22),e.YNc(47,Fg,4,1,"p",6),e.YNc(48,bI,2,0,"p",6),e.YNc(49,AI,4,1,"p",6),e.qZA()(),e._UZ(50,"th",20),e.qZA(),e.TgZ(51,"tr")(52,"th",2),e._uU(53,"+"),e.qZA(),e._UZ(54,"th",5),e.TgZ(55,"th",2),e._uU(56,"+"),e.qZA()(),e.YNc(57,Ph,26,1,"ng-container",6),e.YNc(58,EI,27,1,"ng-container",6),e.YNc(59,SI,28,1,"ng-container",6),e.BQk()),2&r){const t=n.$implicit,o=n.index;e.xp6(19),e.Q6J("ngIf",t.word),e.xp6(15),e.Oqu(o+1),e.xp6(13),e.Q6J("ngIf",null==t.etymology||null==t.etymology.from?null:t.etymology.from.length),e.xp6(1),e.Q6J("ngIf",!(null!=t.etymology&&null!=t.etymology.from&&t.etymology.from.length)),e.xp6(1),e.Q6J("ngIf",null==t.etymology||null==t.etymology.cognate?null:t.etymology.cognate.length),e.xp6(8),e.Q6J("ngIf",t.translations&&t.translations.length),e.xp6(1),e.Q6J("ngIf",t.derived&&t.derived.length),e.xp6(1),e.Q6J("ngIf",t.descendants&&(null==t.descendants||null==t.descendants.descendants?null:t.descendants.descendants.length))}}function xC(r,n){if(1&r&&(e.TgZ(0,"tbody")(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",8)(5,"a",9),e._uU(6),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.YNc(15,E2,14,13,"tr",4),e.TgZ(16,"tr")(17,"th",2),e._uU(18,"+"),e.qZA(),e._UZ(19,"th",10),e.TgZ(20,"th",2),e._uU(21,"+"),e.qZA()(),e.YNc(22,xI,60,8,"ng-container",4),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(5),e.Q6J("fragment",t.displayName)("id",t.displayName)("routerLink","."),e.xp6(1),e.Oqu(t.displayName),e.xp6(9),e.Q6J("ngForOf",o.detailedWords.get(t)),e.xp6(7),e.Q6J("ngForOf",o.detailedWords.get(t))}}let ZI=(()=>{class r{constructor(t,o){this.activatedRoute=t,this.wordsService=o,this.detailedWords=new Map,this.languages=[],this.isEditComment=!1}get detailedWordsKeys(){return this.languages}ngOnInit(){this.activatedRoute.data.subscribe(t=>{if(t&&t.wordDetails){const o=t.wordDetails;console.log("WordsDetailComponent ngOnInit",o);const i={displayName:""};this.languages=o.filter(u=>{var d;return null===(d=u.word)||void 0===d?void 0:d.language}).map(u=>{var d;return null!==(d=u.word)&&void 0!==d&&d.language?u.word.language:i}),o.forEach(u=>{var d;if(null!==(d=u.word)&&void 0!==d&&d.language){const g=this.detailedWords.get(u.word.language);g?g.push(u):this.detailedWords.set(u.word.language,[u])}})}})}ngOnDestroy(){console.log("WordsDetailComponent ngOnDestroy")}editComment(){this.isEditComment=!this.isEditComment}saveComment(t){console.log(t),t&&this.wordsService.addWord({body:t}).subscribe(o=>{t.comment=o.comment,this.isEditComment=!1})}changeComment(t,o){o.comment=t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ta),e.Y36(Nu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-words"]],decls:20,vars:2,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],[1,"border"],[1,"text-grey"],[4,"ngFor","ngForOf"],["app-horizontal-dash","",1,"border"],[4,"ngIf"],[1,"text-main","link-btn",3,"fragment","routerLink"],[1,"text-white"],[1,"text-white","link-btn",2,"text-transform","uppercase",3,"fragment","id","routerLink"],["app-horizontal-dash","",1,"border-dull"],[1,"border",2,"text-align","left"],[1,"text-green-dull","text-line","link-btn",3,"routerLink"],[1,"text-main","link-btn",3,"routerLink"],[1,"text-grey-dull","link-btn",3,"click"],["type","text","style","height: 16px; margin-left: 8px; margin-right: 0px;",3,"ngModel","ngModelChange",4,"ngIf"],[1,"text-green-dull","link-btn",3,"click"],[1,"text-red-dull","link-btn",3,"click"],["type","text",2,"height","16px","margin-left","8px","margin-right","0px",3,"ngModel","ngModelChange"],[2,"text-transform","capitalize"],["app-vertical-dash","",1,"border"],[2,"text-align","left"],[1,"cell-content","text-cell-content"],[3,"word",4,"ngIf"],[3,"word"],[3,"wordsWithTranslations"],["class","cell-content",4,"ngIf"],[1,"cell-content"],[3,"translations"],["app-word-detail-descendants","",3,"descendant",4,"ngFor","ngForOf"],["app-word-detail-descendants","",3,"descendant"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0),e.qZA(),e.TgZ(5,"tbody")(6,"tr")(7,"th",2),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",3),e.YNc(10,CI,4,4,"span",4),e.qZA(),e.TgZ(11,"th",2),e._uU(12,"|"),e.qZA()(),e.TgZ(13,"tr")(14,"th",2),e._uU(15,"+"),e.qZA(),e._UZ(16,"th",5),e.TgZ(17,"th",2),e._uU(18,"+"),e.qZA()()(),e.YNc(19,xC,23,6,"tbody",4),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngForOf",o.detailedWordsKeys),e.xp6(9),e.Q6J("ngForOf",o.detailedWordsKeys))},dependencies:[dt,It,co,Zn,Dn,mn,An,Mi,dI,CC,Uh,vI,Uu],styles:[".text-line[_ngcontent-%COMP%]{margin-left:32px;text-transform:capitalize}.cell-content[_ngcontent-%COMP%]{margin:16px}.text-cell-content[_ngcontent-%COMP%]{text-indent:16px}.word-description[_ngcontent-%COMP%]{margin-block-start:.5em;padding-inline-start:40px}.border-dull[_ngcontent-%COMP%]{color:#3d3d3d!important}"]}),r})(),kI=(()=>{class r{constructor(){this.tabs=[{name:"Connections",route:"connections",enabled:!0},{name:"Category evolution",route:"category",enabled:!0},{name:"List evolve",route:"list",enabled:!0}]}ngOnInit(){}refreshAll(){}changeLang(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-evolution"]],decls:2,vars:1,consts:[[1,"table-container"],[3,"tabs"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-tab-routes",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("tabs",o.tabs))},dependencies:[jm]}),r})(),Mu=(()=>{class r extends Pl{constructor(t,o){super(t,o)}addTranslation$Response(t){const o=new ot(this.rootUrl,r.AddTranslationPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:parseFloat(String(i.body))})))}addTranslation(t){return this.addTranslation$Response(t).pipe((0,W.U)(o=>o.body))}getAllWordsWithTranslationsFromLang1$Response(t){const o=new ot(this.rootUrl,r.GetAllWordsWithTranslationsFromLang1Path,"get");return t&&o.query("filter",t.filter,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getAllWordsWithTranslationsFromLang1(t){return this.getAllWordsWithTranslationsFromLang1$Response(t).pipe((0,W.U)(o=>o.body))}getTranslationsForWord$Response(t){const o=new ot(this.rootUrl,r.GetTranslationsForWordPath,"get");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}getTranslationsForWord(t){return this.getTranslationsForWord$Response(t).pipe((0,W.U)(o=>o.body))}deleteTranslation$Response(t){const o=new ot(this.rootUrl,r.DeleteTranslationPath,"delete");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:void 0})))}deleteTranslation(t){return this.deleteTranslation$Response(t).pipe((0,W.U)(o=>o.body))}}return r.AddTranslationPath="/api/translation/",r.GetAllWordsWithTranslationsFromLang1Path="/api/translation/page",r.GetTranslationsForWordPath="/api/translation/tranlationsfor/{id}",r.DeleteTranslationPath="/api/translation/{id}",r.\u0275fac=function(t){return new(t||r)(e.LFG(ra),e.LFG(gs))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function NI(r,n){if(1&r&&(e.TgZ(0,"option",4),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.displayName)}}let zc=(()=>{class r{constructor(t){this.languagesService=t,this.selectedLanguageChange=new e.vpe,this.allLanguages=[]}ngOnInit(){console.log("AllLanguagesComponent"),console.log(this.label),this.languagesService.getAllLanguages().subscribe(t=>{this.allLanguages=t.sort((o,i)=>o.displayName.localeCompare(i.displayName)),this.selectedLanguage&&this.allLanguages.forEach(o=>{var i;(null===(i=this.selectedLanguage)||void 0===i?void 0:i.id)===o.id&&(this.selectedLanguage=o,this.changeLanguage())})})}changeLanguage(){console.log("changeLanguage",this.selectedLanguage),this.selectedLanguageChange.emit(this.selectedLanguage)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(fs))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-all-languages"]],inputs:{label:"label",selectedLanguage:"selectedLanguage"},outputs:{selectedLanguageChange:"selectedLanguageChange"},decls:8,vars:4,consts:[[1,"selector"],["for","languageSelector",1,"languageSelectorLabel"],[1,"input-group"],["id","languageSelector","name","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange","change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"select",3),e.NdJ("ngModelChange",function(u){return o.selectedLanguage=u})("change",function(){return o.changeLanguage()}),e.TgZ(5,"option",4),e._uU(6," --- Select Language --- "),e.qZA(),e.YNc(7,NI,2,2,"option",5),e.qZA()()()),2&t&&(e.xp6(2),e.Oqu(o.label),e.xp6(2),e.Q6J("ngModel",o.selectedLanguage),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.allLanguages))},dependencies:[dt,yr,so,Mn,Dn,mn],styles:[".languageSelector[_ngcontent-%COMP%]{margin-top:4px}.languageSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})();const UI=["app-translation-line",""];function ZC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.startAddTranslation())}),e._uU(1,"[Edit]"),e.qZA()}}function MI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelTranslation())}),e._uU(1,"[Cancel]"),e.qZA()}}function kC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"["),e.TgZ(2,"a",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw(3);return e.KtG(u.deleteTranslation(i))}),e._uU(3,"x"),e.qZA(),e._uU(4,"]"),e.qZA()}}function PI(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"app-translation-word",15),e.YNc(3,kC,5,0,"span",10),e.qZA()),2&r){const t=n.$implicit,o=n.index,i=e.oxw(3);e.xp6(1),e.hij("",0==o?"":"; "," "),e.xp6(1),e.Q6J("translation",t),e.xp6(1),e.Q6J("ngIf",i.editMode)}}function Gm(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",12)(4,"span",3),e._uU(5),e.qZA()(),e.TgZ(6,"th",13)(7,"span",3),e._uU(8),e.ALo(9,"translationType"),e.qZA()(),e.TgZ(10,"th",14),e.YNc(11,PI,4,3,"span",9),e.qZA(),e._UZ(12,"th",0),e.TgZ(13,"th",0),e._uU(14,"|"),e.qZA()()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(3),e.Q6J("rowSpan",i.getLanguageRowspans(o)),e.xp6(2),e.Oqu(o),e.xp6(3),e.Oqu(e.lcZ(9,4,t)),e.xp6(3),e.Q6J("ngForOf",i.getTranslationForWordAndType(t,!0,o))}}function RI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"["),e.TgZ(2,"a",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw(3);return e.KtG(u.deleteTranslation(i))}),e._uU(3,"x"),e.qZA(),e._uU(4,"]"),e.qZA()}}function NC(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"span",17),e._UZ(3,"app-translation-word",15),e.YNc(4,RI,5,0,"span",10),e.qZA()()),2&r){const t=n.$implicit,o=n.index,i=e.oxw(3);e.xp6(1),e.hij("",0==o?"":"; "," "),e.xp6(2),e.Q6J("translation",t),e.xp6(1),e.Q6J("ngIf",i.editMode)}}function UC(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",13)(4,"span",3),e._uU(5),e.ALo(6,"translationType"),e.qZA()(),e.TgZ(7,"th",14),e.YNc(8,NC,5,3,"span",9),e.qZA(),e._UZ(9,"th",0),e.TgZ(10,"th",0),e._uU(11,"|"),e.qZA()()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,2,t)),e.xp6(3),e.Q6J("ngForOf",i.getTranslationForWordAndType(t,!1,o))}}function OI(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Gm,15,6,"tr",9),e.YNc(2,UC,12,4,"tr",9),e.BQk()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.getTranslationTypes(!0,t)),e.xp6(1),e.Q6J("ngForOf",o.getTranslationTypes(!1,t))}}function LI(r,n){if(1&r&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function FI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr"),e._UZ(1,"th",18),e.TgZ(2,"th",19)(3,"div",20)(4,"app-all-languages",21),e.NdJ("selectedLanguageChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.changeLanguage(i))})("selectedLanguageChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.language=i)}),e.qZA(),e.TgZ(5,"input",22),e.NdJ("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.changedWordTranslation(i))})("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.wordTranslation=i)}),e.qZA(),e.TgZ(6,"span",23)(7,"select",24),e.NdJ("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.changePos(i))})("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.pos=i)}),e.TgZ(8,"option",25),e._uU(9,"--- Part of Speech ---"),e.qZA(),e.YNc(10,LI,2,2,"option",26),e.qZA()(),e.TgZ(11,"a",27),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addAsPhrase=!i.addAsPhrase)}),e._uU(12,"[ Phrase ]"),e.qZA()()(),e.TgZ(13,"th",28)(14,"a",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addNewTranslation())}),e._uU(15,"[Add New]"),e.qZA()(),e._UZ(16,"th",18),e.qZA()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("selectedLanguage",t.language)("label","To"),e.xp6(1),e.Q6J("ngModel",t.wordTranslation),e.xp6(2),e.Q6J("ngModel",t.pos),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",t.poses),e.xp6(1),e.Q6J("ngClass",t.addAsPhrase?"text-blue-dull":"text-grey-dull")}}const qg=function(r){return["/words/word",r]};function qI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th")(4,"a",31),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.addTranslationWord(u))}),e._uU(5,"[+]"),e.qZA()(),e.TgZ(6,"th",2)(7,"a",32),e._uU(8),e.ALo(9,"writtenWord"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"th",0),e._uU(12,"|"),e.qZA()()}if(2&r){const t=n.$implicit;e.xp6(7),e.Q6J("fragment",null==t.language?null:t.language.displayName)("routerLink",e.VKq(8,qg,t.word)),e.xp6(1),e.Oqu(e.lcZ(9,6,t.writtenWord)),e.xp6(2),e.lnq(" / ",t.word," / ",null==t.partOfSpeech?null:t.partOfSpeech.abbreviation," ",null==t.language?null:t.language.displayName," ")}}function MC(r,n){if(1&r&&(e.ynx(0),e.YNc(1,qI,13,10,"tr",9),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.wordsForTranslation.data)}}let VI=(()=>{class r{constructor(t,o,i){this.posService=t,this.wordsService=o,this.translationService=i,this.poses=[],this.wordsForTranslation={},this.editMode=!1,this.addAsPhrase=!1}ngOnInit(){}getTranslationTypes(t,o){var i;const u=null===(i=this.word.translations)||void 0===i?void 0:i.filter(g=>{var y,w;return t?g.wordTo&&(null===(y=g.wordTo.language)||void 0===y?void 0:y.displayName)===o:g.phraseTo&&(null===(w=g.phraseTo.language)||void 0===w?void 0:w.displayName)===o}).map(g=>g.type).map(g=>g||ua.General);return[...new Set(u)]||[]}getLanguageRowspans(t){return this.getTranslationTypes(!0,t).length+this.getTranslationTypes(!1,t).length}getTranslationLangs(){var t;const o=null===(t=this.word.translations)||void 0===t?void 0:t.map(u=>{var d,g,y;return null!==(d=u.wordTo)&&void 0!==d&&d.language?null===(g=u.wordTo)||void 0===g?void 0:g.language:null===(y=u.phraseTo)||void 0===y?void 0:y.language}).map(u=>u?u.displayName:"Unknown");return[...new Set(o)]||[]}getTranslationForWordAndType(t,o,i){var u;return(null===(u=this.word.translations)||void 0===u?void 0:u.filter(g=>{var y,w;return(o?g.wordTo&&(null===(y=g.wordTo.language)||void 0===y?void 0:y.displayName)===i:g.phraseTo&&(null===(w=g.phraseTo.language)||void 0===w?void 0:w.displayName)===i)&&g.type===t}))||[]}changeLanguage(t){console.log(t),this.pos=void 0,null!=t&&t.id&&this.posService.getAllPosByLanguage({languageId:null==t?void 0:t.id}).subscribe(o=>{var i;this.poses=o.sort((u,d)=>u.name?u.name.localeCompare(d.name?d.name:""):-1),null!==(i=this.word.partOfSpeech)&&void 0!==i&&i.id&&o.forEach(u=>{var d;(null===(d=this.word.partOfSpeech)||void 0===d?void 0:d.id)===u.id&&(this.pos=u,this.changePos(u,t))})})}changePos(t,o=this.language){console.log("changePos",t,"lang",o),o&&this.loadWordsTranslations(t,o)}startAddTranslation(){this.editMode=!0,this.languageToFilter&&(this.language=this.languageToFilter,console.log("start add translation",this.language))}loadWordsTranslations(t=this.pos,o=this.language,i=this.wordTranslation){console.log("loadWordsTranslations",t,"lang",o,"wordTranslation",i),o&&i&&this.wordsService.getAllWords({filter:{word:i,languageId:null==o?void 0:o.id,posId:null==t?void 0:t.id}}).subscribe(u=>{this.wordsForTranslation=u})}changedWordTranslation(t){this.loadWordsTranslations(this.pos,this.language,t)}addTranslationWord(t){this.addTranslation({type:ua.General,wordTo:t,wordFrom:this.word})}addNewTranslation(){this.refreshEdit()}deleteTranslation(t){t.id&&this.translationService.deleteTranslation({id:t.id}).subscribe(()=>{var o;this.word.translations=null===(o=this.word.translations)||void 0===o?void 0:o.filter(i=>i.id!==t.id),this.refreshEdit()})}cancelTranslation(){this.refreshEdit()}addTranslation(t){this.translationService.addTranslation({body:t}).subscribe(()=>{this.word.id?this.translationService.getTranslationsForWord({id:this.word.id}).subscribe(o=>{this.word.translations=o,this.refreshEdit()}):this.refreshEdit()})}refreshEdit(){this.language=void 0,this.pos=void 0,this.wordTranslation=void 0,this.editMode=!1,this.wordsForTranslation={}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Pi),e.Y36(Nu),e.Y36(Mu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tbody","app-translation-line",""]],inputs:{word:"word",languageToFilter:"languageToFilter"},attrs:UI,decls:28,vars:16,consts:[[1,"border"],["app-horizontal-dash","","colspan","4",1,"border"],["colspan","3",2,"padding-left","8px","padding-right","8px","white-space","nowrap","text-align","left"],[2,"white-space","nowrap"],[1,"text-green-dull","link-btn",3,"fragment","routerLink"],[2,"text-transform","capitalize"],[1,"text-main","link-btn"],[1,"text-grey-dull"],["class","text-grey-dull",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-grey-dull",3,"click"],[1,"border",2,"padding-left","4px","padding-right","8px","text-align","left",3,"rowSpan"],[1,"border",2,"padding-left","4px","padding-right","8px","text-align","left"],[2,"padding-left","8px","padding-right","8px","white-space","nowrap","text-align","left"],[3,"translation"],[1,"text-red-dull",3,"click"],[1,"text-blue-dull","link-btn"],["app-vertical-dash","",1,"border"],["colspan","3"],[2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],["type","text",2,"height","16px","margin-left","8px","margin-top","30px","margin-right","0px",3,"ngModel","ngModelChange"],[2,"margin-left","8px","text-align","end"],["id","posSelector",1,"posSelector",2,"margin-top","28px",3,"ngModel","ngModelChange"],["disabled","",1,"text-grey-dull",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[2,"margin-left","16px","vertical-align","text-bottom","margin-top","32px",3,"ngClass","click"],[1,"border",2,"padding-top","22px"],[1,"text-green-dull",2,"vertical-align","text-bottom",3,"click"],[3,"ngValue"],[1,"text-green-dull","link-btn",3,"click"],[1,"text-blue-dull","link-btn",3,"fragment","routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"+"),e.qZA(),e._UZ(3,"th",1),e.TgZ(4,"th",0),e._uU(5,"+"),e.qZA()(),e.TgZ(6,"tr")(7,"th",0),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",2)(10,"span",3)(11,"a",4)(12,"span",5),e._uU(13),e.ALo(14,"writtenWord"),e.qZA(),e.TgZ(15,"span",6),e._uU(16),e.qZA()()(),e._uU(17),e.TgZ(18,"span",7),e._uU(19),e.qZA()(),e.TgZ(20,"th",0),e.YNc(21,ZC,2,0,"a",8),e.YNc(22,MI,2,0,"a",8),e.qZA(),e.TgZ(23,"th",0),e._uU(24,"|"),e.qZA()(),e.YNc(25,OI,3,2,"ng-container",9),e.YNc(26,FI,17,7,"tr",10),e.YNc(27,MC,2,1,"ng-container",10)),2&t&&(e.xp6(11),e.Q6J("fragment",null==o.word.language?null:o.word.language.displayName)("routerLink",e.VKq(14,qg,o.word.word)),e.xp6(2),e.Oqu(e.lcZ(14,12,o.word.writtenWord)),e.xp6(3),e.hij(" / ",o.word.word," /"),e.xp6(1),e.hij(" ",o.word.comment," "),e.xp6(2),e.AsE(" ",null==o.word.partOfSpeech?null:o.word.partOfSpeech.abbreviation," ",null==o.word.language?null:o.word.language.displayName,""),e.xp6(2),e.Q6J("ngIf",!o.editMode),e.xp6(1),e.Q6J("ngIf",o.editMode),e.xp6(3),e.Q6J("ngForOf",o.getTranslationLangs()),e.xp6(1),e.Q6J("ngIf",o.editMode),e.xp6(1),e.Q6J("ngIf",o.editMode))},dependencies:[Vn,dt,It,co,yr,so,Zn,Mn,Dn,mn,An,Mi,zc,Og,gC,Uu]}),r})();function BI(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"tbody",15),e.BQk()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("word",t)("languageToFilter",o.languageTo)}}let jI=(()=>{class r{constructor(t,o){this.translationService=t,this.languageService=o,this.words={},this.pageSize=20}ngOnInit(){}load(t){this.translationService.getAllWordsWithTranslationsFromLang1({filter:t}).subscribe(o=>{o.data&&(this.words=o)})}loadDefault(t){var o,i;console.log("loadDefault",t,this.languageFrom,this.languageTo,this.wordSearch,this.translationSearch),t||(t={}),t={page:t.page?t.page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,translation:t.translation?t.translation:""===t.translation?void 0:this.translationSearch,languageFromId:t.languageFromId?t.languageFromId:null===t.languageFromId||null===(o=this.languageFrom)||void 0===o?void 0:o.id,languageToId:t.languageToId?t.languageToId:null===t.languageToId||null===(i=this.languageTo)||void 0===i?void 0:i.id},this.load(t)}resetFilter(){this.languageFrom=void 0,this.languageTo=void 0,this.wordSearch=void 0,this.translationSearch=void 0,this.loadDefault({})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Mu),e.Y36(fs))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-translations"]],decls:51,vars:11,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","9px"],["span","1",2,"width","70px"],[1,"border"],[1,"border",2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],["type","text",2,"height","16px","margin-left","8px","margin-top","30px","margin-right","0px",3,"ngModel","ngModelChange"],[1,"text-red-dull",3,"click"],[1,"table-content"],["span","1",2,"width","1%"],["span","1",2,"width","20px"],["span","1",2,"width","72px"],[4,"ngFor","ngForOf"],[3,"page","size","totalPages","total","load"],["app-translation-line","",3,"word","languageToFilter"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",0),e.qZA(),e.TgZ(7,"tbody")(8,"tr")(9,"th",4),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e._UZ(15,"br"),e._uU(16,"|"),e.qZA(),e.TgZ(17,"th",5)(18,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(u){return o.loadDefault({languageFromId:u.id})})("selectedLanguageChange",function(u){return o.languageFrom=u}),e.qZA(),e.TgZ(19,"input",7),e.NdJ("ngModelChange",function(u){return o.loadDefault({word:u})})("ngModelChange",function(u){return o.wordSearch=u}),e.qZA(),e.TgZ(20,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(u){return o.loadDefault({languageToId:u.id})})("selectedLanguageChange",function(u){return o.languageTo=u}),e.qZA(),e.TgZ(21,"input",7),e.NdJ("ngModelChange",function(u){return o.loadDefault({translation:u})})("ngModelChange",function(u){return o.translationSearch=u}),e.qZA()(),e.TgZ(22,"th",4),e._uU(23,"|"),e._UZ(24,"br"),e._uU(25,"|"),e._UZ(26,"br"),e._uU(27,"|"),e._UZ(28,"br"),e._uU(29,"|"),e.qZA(),e.TgZ(30,"th")(31,"a",8),e.NdJ("click",function(){return o.resetFilter()}),e._uU(32,"[ x ]"),e.qZA()(),e.TgZ(33,"th",4),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e._UZ(39,"br"),e._uU(40,"|"),e.qZA()()()(),e.TgZ(41,"table",9)(42,"colgroup"),e._UZ(43,"col",0)(44,"col",10)(45,"col",11)(46,"col",1)(47,"col",12)(48,"col",0),e.qZA(),e.YNc(49,BI,2,2,"ng-container",13),e.qZA(),e.TgZ(50,"app-list-paginator",14),e.NdJ("load",function(u){return o.loadDefault(u)}),e.qZA()),2&t&&(e.xp6(18),e.Q6J("selectedLanguage",o.languageFrom)("label","From"),e.xp6(1),e.Q6J("ngModel",o.wordSearch),e.xp6(1),e.Q6J("selectedLanguage",o.languageTo)("label","To"),e.xp6(1),e.Q6J("ngModel",o.translationSearch),e.xp6(28),e.Q6J("ngForOf",o.words.data),e.xp6(1),e.Q6J("page",o.words.page?o.words.page:0)("size",o.pageSize)("totalPages",o.words.totalPages?o.words.totalPages:0)("total",o.words.total?o.words.total:0))},dependencies:[dt,Zn,Dn,mn,zc,Pg,VI]}),r})();var la=(()=>{return(r=la||(la={})).Evolving="EVOLVING",r.Borrowing="BORROWING",r.Derivation="DERIVATION",la;var r})();function $I(r,n){if(1&r&&(e.TgZ(0,"option",4),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t)}}let GI=(()=>{class r{constructor(){this.selectedLanguageConnectionChange=new e.vpe,this.allConnectionTypes=[la.Evolving,la.Borrowing]}ngOnInit(){}changeConnection(){console.log("changeLanguage",this.selectedLanguageConnection),this.selectedLanguageConnectionChange.emit(this.selectedLanguageConnection)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-connection"]],inputs:{label:"label",selectedLanguageConnection:"selectedLanguageConnection"},outputs:{selectedLanguageConnectionChange:"selectedLanguageConnectionChange"},decls:8,vars:4,consts:[[1,"selector"],["for","languageConnectionSelector",1,"languageConnectionSelectorLabel"],[1,"input-group"],["id","languageConnectionSelector","name","languageConnectionSelector",1,"languageConnectionSelector",3,"ngModel","ngModelChange","change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"select",3),e.NdJ("ngModelChange",function(u){return o.selectedLanguageConnection=u})("change",function(){return o.changeConnection()}),e.TgZ(5,"option",4),e._uU(6,"No connection"),e.qZA(),e.YNc(7,$I,2,2,"option",5),e.qZA()()()),2&t&&(e.xp6(2),e.Oqu(o.label),e.xp6(2),e.Q6J("ngModel",o.selectedLanguageConnection),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.allConnectionTypes))},dependencies:[dt,yr,so,Mn,Dn,mn],styles:[".languageConnectionSelector[_ngcontent-%COMP%]{margin-top:4px}.languageConnectionSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})();function HI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"app-language-connection",12),e.NdJ("selectedLanguageConnectionChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.languagesConnectionTypeChanged(i))}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("label","Type")("selectedLanguageConnection",t.connectionType)}}function JI(r,n){1&r&&e._UZ(0,"th",7)}function PC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",3),e._uU(1,"[ "),e.TgZ(2,"a",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"E"),e.qZA(),e._uU(5,"dit"),e.qZA(),e._uU(6," ]-"),e.qZA()}}function RC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",3),e._uU(1,"[ "),e.TgZ(2,"a",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"S"),e.qZA(),e._uU(5,"ave"),e.qZA(),e._uU(6," ]-["),e.TgZ(7,"a",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelSoundChanges())}),e._uU(8," x "),e.qZA(),e._uU(9,"]-"),e.qZA()}}function WI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-table",16),e.NdJ("soundChangesChanges",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.soundChangesChanges)}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChanges",t.soundChanges)}}function zI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-edit",17),e.NdJ("soundChangesRawChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.soundChangesRaw=i)})("soundChangesRawChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.soundChangesRawChange())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChangesRaw",t.soundChangesRaw)}}let OC=(()=>{class r extends Mm{constructor(t){super(ql.SoundChange),this.languagesEvolutionService=t}ngOnChanges(t){}editSoundChanges(){var t;console.log("hello",null===(t=this.languageFrom)||void 0===t?void 0:t.displayName),this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.getSoundChangesRawLinesByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,soundChangePurpose:this.soundChangePurpose}).subscribe(o=>{this.soundChangesRaw=o,console.log("editSoundChanges soundChangesRaw",this.soundChangesRaw),this.editMode=!0})}saveSoundChanges(){this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.saveSoundChangesRawLinesByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,body:this.soundChangesRaw,soundChangePurpose:this.soundChangePurpose}).subscribe(()=>{this.editMode=!1,this.refresh()})}refresh(){this.connectionType=void 0,this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.getSoundChangesByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,soundChangePurpose:this.soundChangePurpose}).subscribe(t=>{this.soundChanges=t,this.refreshConnectionType()})}languageChanged(){this.editMode=!1,this.refresh()}languageFromChanged(t){this.languageFrom=t,this.languageChanged()}languageToChanged(t){this.languageTo=t,this.languageChanged()}languagesConnectionTypeChanged(t){console.log("languagesConnectionTypeChanged",t),this.connectionType=t,this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&(this.connectionType?this.languagesEvolutionService.updateConnectionByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,body:{languageConnectionType:this.connectionType}}).subscribe(()=>{this.refresh()}):this.languagesEvolutionService.deleteConnectionByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id}).subscribe(()=>{this.refresh()}))}refreshConnectionType(){this.connectionType=void 0,this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.getConnectionByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id}).subscribe(t=>{this.connectionType=t.connectionType})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ri))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-connections"]],features:[e.qOj,e.TTD],decls:42,vars:10,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",1,"border",2,"width","max-content"],[1,"border"],[2,"text-align","left","display","flex"],[3,"label","selectedLanguage","selectedLanguageChange"],[4,"ngIf"],["app-horizontal-dash","",1,"border"],["app-horizontal-dash","","class","border",4,"ngIf"],["class","border",4,"ngIf"],[3,"soundChanges","soundChangesChanges",4,"ngIf"],[3,"soundChangesRaw","soundChangesRawChange",4,"ngIf"],[3,"label","selectedLanguageConnection","selectedLanguageConnectionChange"],[1,"text-yellow-dull",3,"click"],[1,"text-green-dull",3,"click"],[1,"text-red-dull",3,"click"],[3,"soundChanges","soundChangesChanges"],[3,"soundChangesRaw","soundChangesRawChange"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",0),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",3),e._uU(9,"|"),e._UZ(10,"br"),e._uU(11,"|"),e._UZ(12,"br"),e._uU(13,"|"),e._UZ(14,"br"),e._uU(15,"|"),e.qZA(),e.TgZ(16,"th",4)(17,"span")(18,"app-all-languages",5),e.NdJ("selectedLanguageChange",function(u){return o.languageFromChanged(u)}),e.qZA()(),e.TgZ(19,"span")(20,"app-all-languages",5),e.NdJ("selectedLanguageChange",function(u){return o.languageToChanged(u)}),e.qZA()(),e.YNc(21,HI,2,2,"span",6),e.qZA(),e._UZ(22,"th",3),e.TgZ(23,"th",3),e._uU(24,"|"),e._UZ(25,"br"),e._uU(26,"|"),e._UZ(27,"br"),e._uU(28,"|"),e._UZ(29,"br"),e._uU(30,"|"),e.qZA()(),e.TgZ(31,"tr")(32,"th",3),e._uU(33,"+"),e.qZA(),e._UZ(34,"th",7),e.YNc(35,JI,1,0,"th",8),e.YNc(36,PC,7,0,"th",9),e.YNc(37,RC,10,0,"th",9),e.TgZ(38,"th",3),e._uU(39,"+"),e.qZA()()()(),e.YNc(40,WI,1,1,"app-sound-changes-table",10),e.YNc(41,zI,1,1,"app-sound-changes-edit",11)),2&t&&(e.xp6(18),e.Q6J("label","From")("selectedLanguage",o.languageFrom),e.xp6(2),e.Q6J("label","To")("selectedLanguage",o.languageTo),e.xp6(1),e.Q6J("ngIf",o.languageFrom&&o.languageTo&&!o.editMode),e.xp6(14),e.Q6J("ngIf",!o.connectionType),e.xp6(1),e.Q6J("ngIf",!o.editMode&&o.connectionType),e.xp6(1),e.Q6J("ngIf",o.editMode&&o.connectionType),e.xp6(3),e.Q6J("ngIf",!o.editMode&&o.connectionType),e.xp6(1),e.Q6J("ngIf",o.editMode&&o.connectionType))},dependencies:[It,An,zc,Rm,Om,GI]}),r})();function QI(r,n){if(1&r&&(e.TgZ(0,"span",28),e._uU(1),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.calculatedEvolution)}}function KI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"span",29),e._uU(2),e.qZA(),e._uU(3," ("),e.TgZ(4,"a",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,u=e.oxw();return e.KtG(u.evolveSingleWord(i))}),e._uU(5),e.qZA(),e._uU(6,")"),e.qZA()}if(2&r){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(null==t.wordEvolved?null:t.wordEvolved.word),e.xp6(3),e.Oqu(t.calculatedEvolution)}}function YI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"a",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,u=e.oxw();return e.KtG(u.evolveSingleWord(i))}),e._uU(2),e.qZA()()}if(2&r){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(t.calculatedEvolution)}}function Hm(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"th"),e.YNc(2,QI,2,1,"span",26),e.YNc(3,KI,7,2,"span",23),e.YNc(4,YI,3,1,"span",23),e.qZA(),e.TgZ(5,"th",4),e._uU(6,"|"),e.qZA(),e.TgZ(7,"th",27),e._uU(8),e.TgZ(9,"i"),e._uU(10),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",!!t.calculatedEvolution&&t.calculatedEvolution===(null==t.wordEvolved?null:t.wordEvolved.word)),e.xp6(1),e.Q6J("ngIf",!(null==t.wordEvolved||!t.wordEvolved.word)&&t.calculatedEvolution!=(null==t.wordEvolved?null:t.wordEvolved.word)),e.xp6(1),e.Q6J("ngIf",!(null!=t.wordEvolved&&t.wordEvolved.word)),e.xp6(4),e.hij(" ",null==t.wordEvolved||null==t.wordEvolved.partOfSpeech?null:t.wordEvolved.partOfSpeech.abbreviation," "),e.xp6(2),e.Oqu(null==t.languageConnection||null==t.languageConnection.langTo?null:t.languageConnection.langTo.displayName)}}function Jm(r,n){1&r&&(e.ynx(0),e._UZ(1,"th",31),e.BQk())}function LC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw();return e.KtG(u.forget(i.word))}),e._uU(1,"unforget"),e.qZA()}}function Wm(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw();return e.KtG(u.forget(i.word))}),e._uU(1,"forget"),e.qZA()}}const XI=function(r){return["/words/word",r]};function eE(r,n){if(1&r&&(e.TgZ(0,"tr",12)(1,"th",4),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",21),e._uU(4),e.TgZ(5,"i"),e._uU(6),e.qZA()(),e.TgZ(7,"th",4),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th")(10,"a",22),e._uU(11),e.qZA()(),e.TgZ(12,"th",4),e._uU(13,"|"),e.qZA(),e.YNc(14,Hm,11,5,"ng-container",23),e.YNc(15,Jm,2,0,"ng-container",23),e.TgZ(16,"th",4),e._uU(17,"|"),e.qZA(),e.TgZ(18,"th",4),e.YNc(19,LC,2,0,"a",24),e.YNc(20,Wm,2,0,"a",25),e.qZA(),e.TgZ(21,"th",4),e._uU(22,"|"),e.qZA()()),2&r){const t=n.$implicit;e.xp6(3),e.Q6J("ngClass",null!=t&&null!=t.word&&t.word.forgotten?"text-grey-dull":"text-grey"),e.xp6(1),e.hij(" ",null==t.word||null==t.word.partOfSpeech?null:t.word.partOfSpeech.abbreviation," "),e.xp6(2),e.Oqu(null==t.word||null==t.word.language?null:t.word.language.displayName),e.xp6(4),e.Q6J("ngClass",null!=t&&null!=t.word&&t.word.forgotten?"text-grey":"text-main")("routerLink",e.VKq(10,XI,null==t.word?null:t.word.word)),e.xp6(1),e.Oqu(null==t.word?null:t.word.word),e.xp6(3),e.Q6J("ngIf",!(null!=t&&null!=t.word&&t.word.forgotten)),e.xp6(1),e.Q6J("ngIf",null==t||null==t.word?null:t.word.forgotten),e.xp6(4),e.Q6J("ngIf",null==t||null==t.word?null:t.word.forgotten),e.xp6(1),e.Q6J("ngIf",!(null!=t&&null!=t.word&&t.word.forgotten))}}let zm=(()=>{class r{constructor(t,o){this.languagesEvolutionService=t,this.wordsService=o,this.words={},this.pageSize=250,this.withoutForgotten=!0,this.onlyUnevolved=!1}static wordWEtoWTE(t){return{languageConnection:t.languageConnection,word:t.word}}ngOnInit(){}load(t){this.languagesEvolutionService.getAllWordsWithEvolutions({filter:t}).subscribe(o=>{this.words=o})}loadDefault(t){var o,i;t||(t={}),t={page:t.page?t.page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,languageFromId:t.languageFromId?t.languageFromId:null===t.languageFromId||null===(o=this.languageFrom)||void 0===o?void 0:o.id,languageToId:t.languageToId?t.languageToId:null===t.languageToId||null===(i=this.languageTo)||void 0===i?void 0:i.id,canBeForgotten:!this.withoutForgotten},this.load(t)}resetFilter(){this.languageFrom=void 0,this.languageTo=void 0,this.wordSearch=void 0,this.loadDefault({})}forget(t){t&&(t.forgotten=!t.forgotten,console.log("forget word",t.forgotten,t),this.wordsService.addWord({body:t}).subscribe(o=>{var i;this.withoutForgotten?this.loadDefault(void 0):null===(i=this.words.data)||void 0===i||i.forEach(u=>{const d=u.word;d&&d.id===o.id&&(d.forgotten=o.forgotten,d.id=o.id,d.word=o.word,d.language=o.language,d.partOfSpeech=o.partOfSpeech,d.version=o.version)})}))}evolveSingleWord(t){const o=r.wordWEtoWTE(t);this.languagesEvolutionService.addEvolvedWord({body:o}).subscribe(i=>{t.word=i.word,t.wordEvolved=i.wordEvolved,t.calculatedEvolution=i.calculatedEvolution,t.wordEvolvedType=i.wordEvolvedType,t.languageConnection=i.languageConnection})}filterWithoutForgotten(){this.withoutForgotten=!this.withoutForgotten,this.loadDefault(void 0)}filterOnlyUnevolved(){this.onlyUnevolved=!this.onlyUnevolved}evolvePage(){if(this.words.data){const t=this.words.data.filter(o=>{var i;return!(null!==(i=o.word)&&void 0!==i&&i.forgotten||o.wordEvolved&&o.wordEvolved.word===o.calculatedEvolution)}).map(o=>r.wordWEtoWTE(o));console.log(t),this.languagesEvolutionService.addEvolvedWord1({body:t}).subscribe(()=>{this.loadDefault(void 0)})}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ri),e.Y36(Nu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-evolution"]],decls:98,vars:14,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","9px"],["span","1",2,"width","70px"],[1,"border"],[1,"border",2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],["type","text",2,"height","16px","margin-left","8px","margin-top","30px","margin-right","0px",3,"ngModel","ngModelChange"],[2,"height","16px","margin-left","16px","margin-top","34px",3,"ngClass","click"],[3,"ngClass"],[1,"text-red-dull",3,"click"],["app-horizontal-dash","","colspan","3",1,"border"],[1,"table-content"],["span","1",2,"width","15%"],["span","1",2,"width","max-content"],["span","1",2,"width","65px"],["class","table-content",4,"ngFor","ngForOf"],[3,"page","size","totalPages","total","load"],[1,"text-green-dull",3,"click"],[1,"text-green-dull",2,"margin-left","16px"],["app-horizontal-dash","",1,"border"],[2,"text-align","left",3,"ngClass"],[1,"link-btn",3,"ngClass","routerLink"],[4,"ngIf"],["class","text-green-dull",3,"click",4,"ngIf"],["class","text-yellow-dull",3,"click",4,"ngIf"],["class","text-green-dull",4,"ngIf"],[1,"border",2,"text-align","left"],[1,"text-green-dull"],[1,"text-red-dull"],[1,"text-yellow-dull",3,"click"],["colspan","3",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",0),e.qZA(),e.TgZ(7,"tbody")(8,"tr")(9,"th",4),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e._UZ(15,"br"),e._uU(16,"|"),e.qZA(),e.TgZ(17,"th",5)(18,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(u){return o.loadDefault({languageFromId:u.id})})("selectedLanguageChange",function(u){return o.languageFrom=u}),e.qZA(),e.TgZ(19,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(u){return o.loadDefault({languageToId:u.id})})("selectedLanguageChange",function(u){return o.languageTo=u}),e.qZA(),e.TgZ(20,"input",7),e.NdJ("ngModelChange",function(u){return o.loadDefault({word:u})})("ngModelChange",function(u){return o.wordSearch=u}),e.qZA(),e.TgZ(21,"a",8),e.NdJ("click",function(){return o.filterWithoutForgotten()}),e._uU(22,"[ "),e.TgZ(23,"span",9),e._uU(24,"W"),e.qZA(),e._uU(25,"ithout Forgotten ]"),e.qZA(),e.TgZ(26,"a",8),e.NdJ("click",function(){return o.filterOnlyUnevolved()}),e._uU(27,"[ "),e.TgZ(28,"span",9),e._uU(29,"O"),e.qZA(),e._uU(30,"nly Unevolved ]"),e.qZA()(),e.TgZ(31,"th",4),e._uU(32,"|"),e._UZ(33,"br"),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e.qZA(),e.TgZ(39,"th")(40,"a",10),e.NdJ("click",function(){return o.resetFilter()}),e._uU(41,"[ x ]"),e.qZA()(),e.TgZ(42,"th",4),e._uU(43,"|"),e._UZ(44,"br"),e._uU(45,"|"),e._UZ(46,"br"),e._uU(47,"|"),e._UZ(48,"br"),e._uU(49,"|"),e.qZA()(),e.TgZ(50,"tr")(51,"th",4),e._uU(52,"+"),e.qZA(),e._UZ(53,"th",11),e.TgZ(54,"th",4),e._uU(55,"+"),e.qZA()()()(),e.TgZ(56,"table",12)(57,"colgroup"),e._UZ(58,"col",0)(59,"col",13)(60,"col",0)(61,"col",14)(62,"col",0)(63,"col",14)(64,"col",0)(65,"col",1)(66,"col",0)(67,"col",15)(68,"col",0),e.qZA(),e.TgZ(69,"tbody",12),e.YNc(70,eE,23,12,"tr",16),e.qZA()(),e.TgZ(71,"app-list-paginator",17),e.NdJ("load",function(u){return o.loadDefault(u)}),e.qZA(),e.TgZ(72,"table")(73,"colgroup"),e._UZ(74,"col",0)(75,"col",1)(76,"col",0),e.qZA(),e.TgZ(77,"tbody")(78,"tr")(79,"th",4),e._uU(80,"|"),e._UZ(81,"br"),e._uU(82,"|"),e.qZA(),e.TgZ(83,"th",4)(84,"a",18),e.NdJ("click",function(){return o.evolvePage()}),e._uU(85,"[ Evolve Page ]"),e.qZA(),e.TgZ(86,"a",19),e._uU(87,"[ Evolve All Words ]"),e.qZA()(),e.TgZ(88,"th",4),e._uU(89,"|"),e._UZ(90,"br"),e._uU(91,"|"),e.qZA()(),e.TgZ(92,"tr")(93,"th",4),e._uU(94,"+"),e.qZA(),e._UZ(95,"th",20),e.TgZ(96,"th",4),e._uU(97,"+"),e.qZA()()()()),2&t&&(e.xp6(18),e.Q6J("selectedLanguage",o.languageFrom)("label","From"),e.xp6(1),e.Q6J("selectedLanguage",o.languageTo)("label","To"),e.xp6(1),e.Q6J("ngModel",o.wordSearch),e.xp6(1),e.Q6J("ngClass",o.withoutForgotten?"text-green-dull":"text-grey-dull"),e.xp6(2),e.Q6J("ngClass",o.withoutForgotten?"text-green":"text-grey"),e.xp6(3),e.Q6J("ngClass",o.onlyUnevolved?"text-green-dull":"text-grey-dull"),e.xp6(2),e.Q6J("ngClass",o.onlyUnevolved?"text-green":"text-grey"),e.xp6(42),e.Q6J("ngForOf",o.words.data),e.xp6(1),e.Q6J("page",o.words.page?o.words.page:0)("size",o.pageSize)("totalPages",o.words.totalPages?o.words.totalPages:0)("total",o.words.total?o.words.total:0))},dependencies:[Vn,dt,It,co,Zn,Dn,mn,An,zc,Pg]}),r})();var jl=(()=>{return(r=jl||(jl={})).New="NEW",r.Borrowed="BORROWED",r.Derived="DERIVED",r.Evolved="EVOLVED",jl;var r})();let Vg=(()=>{class r{constructor(t){this.posService=t,this.poses=[]}ngOnInit(){this.loadPos(this.getLanguage.id)}ngOnChanges(t){t.language&&t.language.currentValue&&(console.log("WordNewDetailed",t,t.language.currentValue),this.loadPos(t.language.currentValue.id))}loadPos(t){t?this.posService.getAllPosByLanguage({languageId:t}).subscribe(o=>{this.poses=o.sort((i,u)=>i.name?i.name.localeCompare(u.name?u.name:""):-1)}):(console.log("Can't load pos for null language"),this.poses=[])}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Pi))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],features:[e.TTD],decls:0,vars:0,template:function(t,o){},encapsulation:2}),r})();const Qc=["app-new",""];function FC(r,n){if(1&r&&(e.TgZ(0,"option",14),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}let tE=(()=>{class r extends Vg{constructor(t,o){super(o),this.wordService=t,this.posService=o,this.newWord=new je({word:new si("",_r.required),comment:new si("",_r.required),pos:new si({},_r.required)})}get getLanguage(){return this.language}addNewWord(){this.wordService.addWord({body:{word:this.newWord.value.word?this.newWord.value.word:"",comment:this.newWord.value.comment?this.newWord.value.comment:"",language:this.language,partOfSpeech:this.newWord.value.pos?this.newWord.value.pos:void 0,forgotten:!1,sourceType:jl.New}}).subscribe(o=>{this.clear()})}clear(){var t,o;null===(t=this.newWord.get("word"))||void 0===t||t.reset(),null===(o=this.newWord.get("comment"))||void 0===o||o.reset()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Nu),e.Y36(Pi))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tbody","app-new",""]],inputs:{language:"language"},features:[e.qOj],attrs:Qc,decls:39,vars:3,consts:[[1,"border"],[3,"formGroup","ngSubmit"],[2,"text-align","left","display","flex"],[1,"selector"],["for","wordInput",1,"languageSelectorLabel"],[1,"input-group",2,"margin-top","4px"],["formControlName","word","id","wordInput","name","wordInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],["for","posSelector",1,"languageSelectorLabel"],["formControlName","pos","id","posSelector","name","posSelector",1,"posSelector",3,"value"],[3,"ngValue",4,"ngFor","ngForOf"],["for","commentInput",1,"languageSelectorLabel",2,"height","16px","margin-left","8px"],["formControlName","comment","id","commentInput","name","commentInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],[1,"selector",2,"padding-top","22px"],[1,"text-green-dull",3,"click"],[3,"ngValue"]],template:function(t,o){1&t&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e._UZ(3,"br"),e._uU(4,"|"),e._UZ(5,"br"),e._uU(6,"|"),e._UZ(7,"br"),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",0)(10,"form",1),e.NdJ("ngSubmit",function(){return o.addNewWord()}),e.TgZ(11,"div",2)(12,"div",3)(13,"label",4),e._uU(14,"Word"),e.qZA(),e.TgZ(15,"div",5)(16,"input",6),e.NdJ("submit",function(){return o.addNewWord()}),e.qZA()()(),e.TgZ(17,"div",3)(18,"label",7),e._uU(19,"Category"),e.qZA(),e.TgZ(20,"div",5)(21,"select",8),e.YNc(22,FC,2,2,"option",9),e.qZA()()(),e.TgZ(23,"div",3)(24,"label",10),e._uU(25,"Comment"),e.qZA(),e.TgZ(26,"div",5)(27,"input",11),e.NdJ("submit",function(){return o.addNewWord()}),e.qZA()()(),e.TgZ(28,"div",12)(29,"a",13),e.NdJ("click",function(){return o.addNewWord()}),e._uU(30,"[ Add new word ]"),e.qZA()()()()(),e.TgZ(31,"th",0),e._uU(32,"|"),e._UZ(33,"br"),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e.qZA()()),2&t&&(e.xp6(10),e.Q6J("formGroup",o.newWord),e.xp6(11),e.Q6J("value",void 0),e.xp6(1),e.Q6J("ngForOf",o.poses))},dependencies:[dt,Zi,yr,so,Zn,Mn,Dn,oi,_,ft]}),r})();const D2=["app-derived",""];function qC(r,n){if(1&r&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function Qm(r,n){1&r&&(e.TgZ(0,"span",27),e._uU(1," + "),e.qZA())}function nE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span",24),e.YNc(1,Qm,2,0,"span",25),e.TgZ(2,"a",26),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.removeWord(u))}),e._uU(3),e.qZA()()}if(2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Q6J("ngIf",o>0),e.xp6(2),e.hij("/ ",t.word," /")}}function Km(r,n){if(1&r&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function rE(r,n){1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e._UZ(3,"th",16),e.TgZ(4,"th",0),e._uU(5,"|"),e.qZA()())}function oE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw();return e.KtG(u.selectWord(i))}),e._uU(1,"[ ]"),e.qZA()}}function Ym(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw();return e.KtG(u.removeWord(i))}),e._uU(1,"[x]"),e.qZA()}}function VC(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",17)(4,"span",19),e.YNc(5,oE,2,0,"a",28),e.YNc(6,Ym,2,0,"a",29),e.qZA(),e.TgZ(7,"span",30),e._uU(8),e.ALo(9,"writtenWord"),e.qZA(),e.TgZ(10,"span",31),e._uU(11),e.qZA(),e.TgZ(12,"span",30),e._uU(13),e.qZA(),e.TgZ(14,"span",19),e._uU(15),e.qZA()(),e.TgZ(16,"th",0),e._uU(17,"|"),e.qZA()()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(5),e.Q6J("ngIf",o.indexOfSelectedWord(t)<0),e.xp6(1),e.Q6J("ngIf",o.indexOfSelectedWord(t)>=0),e.xp6(2),e.Oqu(e.lcZ(9,6,t.writtenWord)),e.xp6(3),e.hij("/ ",t.word," /"),e.xp6(2),e.Oqu(null==t.partOfSpeech?null:t.partOfSpeech.abbreviation),e.xp6(2),e.Oqu(t.comment)}}let BC=(()=>{class r extends Vg{constructor(t,o){super(o),this.wordService=t,this.posService=o,this.pageSize=10,this.wordsList={},this.selectedWords=[],this.newWord=new je({word:new si("",_r.required),comment:new si("",_r.required),pos:new si({},_r.required)})}get getLanguage(){return this.language}ngOnInit(){super.ngOnInit(),this.reloadWordList(this.language.id)}ngOnChanges(t){super.ngOnChanges(t),t.language&&t.language.currentValue&&(console.log("DerivedComponent",t,t.language.currentValue),this.reloadWordList(t.language.currentValue.id),this.selectedWords=[])}reloadWordList(t){t?this.loadDefault({languageId:t}):this.wordsList={}}loadDefault(t){var o,i;console.log("loadDefault",t,this.listPosSelector,this.language,this.wordSearch),t||(t={}),t={page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,languageId:t.languageId?t.languageId:null===t.languageId||null===(o=this.language)||void 0===o?void 0:o.id,posId:t.posId?t.posId:null===t.posId||null===(i=this.listPosSelector)||void 0===i?void 0:i.id},this.load(t)}load(t){this.wordService.getAllWords({filter:t}).subscribe(o=>{o.data&&(this.wordsList=o)})}selectWord(t){this.indexOfSelectedWord(t)<0&&this.selectedWords.push(t)}removeWord(t){const o=this.indexOfSelectedWord(t);o>=0&&this.selectedWords.splice(o,1)}indexOfSelectedWord(t){return this.selectedWords.findIndex((o,i,u)=>t.id===o.id)}addDerivedWord(){this.wordService.addDerivedWord({body:{word:this.newWord.value.word?this.newWord.value.word:void 0,comment:this.newWord.value.comment?this.newWord.value.comment:void 0,language:this.language,partOfSpeech:this.newWord.value.pos?this.newWord.value.pos:void 0,forgotten:!1,wordOriginType:jl.Derived,derivedFrom:this.selectedWords}}).subscribe(o=>{this.clear()})}clear(){var t,o;null===(t=this.newWord.get("word"))||void 0===t||t.reset(),null===(o=this.newWord.get("comment"))||void 0===o||o.reset(),this.wordSearch=void 0,this.listPosSelector=void 0,this.selectedWords=[],this.reloadWordList(this.language.id)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Nu),e.Y36(Pi))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tbody","app-derived",""]],inputs:{language:"language"},features:[e.qOj,e.TTD],attrs:D2,decls:78,vars:10,consts:[[1,"border"],[3,"formGroup","ngSubmit"],[2,"text-align","left","display","flex"],[1,"selector"],["for","wordInput",1,"languageSelectorLabel"],[1,"input-group",2,"margin-top","4px"],["formControlName","word","id","wordInput","name","wordInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],["for","posSelector",1,"languageSelectorLabel"],["formControlName","pos","id","posSelector","name","posSelector",1,"posSelector",3,"value"],[3,"ngValue",4,"ngFor","ngForOf"],["for","commentInput",1,"languageSelectorLabel",2,"height","16px","margin-left","8px"],["formControlName","comment","id","commentInput","name","commentInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],[1,"selector",2,"padding-top","22px"],[1,"text-green-dull",3,"click"],[1,"languageSelectorLabel",2,"margin-right","4px"],["class","text-main",4,"ngFor","ngForOf"],["app-horizontal-dash","",1,"border"],[1,"border",2,"text-align","left"],["type","text",2,"height","16px","margin-left","16px",3,"ngModel","ngModelChange"],[2,"margin-left","8px"],["id","listPosSelector",1,"listPosSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-main"],["class","text-grey",4,"ngIf"],[1,"text-main","link-selected-word",3,"click"],[1,"text-grey"],["class","text-grey-dull",3,"click",4,"ngIf"],["class","text-green-dull",3,"click",4,"ngIf"],[1,"text-grey",2,"margin-left","8px"],[1,"text-main",2,"margin-left","8px"],[1,"text-grey-dull",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e._UZ(3,"br"),e._uU(4,"|"),e._UZ(5,"br"),e._uU(6,"|"),e._UZ(7,"br"),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",0)(10,"form",1),e.NdJ("ngSubmit",function(){return o.addDerivedWord()}),e.TgZ(11,"div",2)(12,"div",3)(13,"label",4),e._uU(14,"Word"),e.qZA(),e.TgZ(15,"div",5)(16,"input",6),e.NdJ("submit",function(){return o.addDerivedWord()}),e.qZA()()(),e.TgZ(17,"div",3)(18,"label",7),e._uU(19,"Category"),e.qZA(),e.TgZ(20,"div",5)(21,"select",8),e.YNc(22,qC,2,2,"option",9),e.qZA()()(),e.TgZ(23,"div",3)(24,"label",10),e._uU(25,"Comment"),e.qZA(),e.TgZ(26,"div",5)(27,"input",11),e.NdJ("submit",function(){return o.addDerivedWord()}),e.qZA()()(),e.TgZ(28,"div",12)(29,"a",13),e.NdJ("click",function(){return o.addDerivedWord()}),e._uU(30,"[ Add derived word ]"),e.qZA()()()()(),e.TgZ(31,"th",0),e._uU(32,"|"),e._UZ(33,"br"),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e.qZA()(),e.TgZ(39,"tr")(40,"th",0),e._uU(41,"|"),e._UZ(42,"br"),e._uU(43,"|"),e.qZA(),e.TgZ(44,"th",0)(45,"div",2)(46,"div",3)(47,"label",14),e._uU(48,"From words:"),e.qZA(),e.YNc(49,nE,4,2,"span",15),e.qZA()()(),e.TgZ(50,"th",0),e._uU(51,"|"),e._UZ(52,"br"),e._uU(53,"|"),e.qZA()(),e.TgZ(54,"tr")(55,"th",0),e._uU(56,"|"),e.qZA(),e._UZ(57,"th",16),e.TgZ(58,"th",0),e._uU(59,"|"),e.qZA()(),e.TgZ(60,"tr")(61,"th",0),e._uU(62,"|"),e._UZ(63,"br"),e._uU(64,"|"),e.qZA(),e.TgZ(65,"th",17)(66,"input",18),e.NdJ("ngModelChange",function(u){return o.loadDefault({word:u})})("ngModelChange",function(u){return o.wordSearch=u}),e.qZA(),e.TgZ(67,"span",19)(68,"select",20),e.NdJ("ngModelChange",function(u){return o.loadDefault({posId:null==u?null:u.id})})("ngModelChange",function(u){return o.listPosSelector=u}),e.TgZ(69,"option",21),e._uU(70,"Any part of speech"),e.qZA(),e.YNc(71,Km,2,2,"option",9),e.qZA()()(),e.TgZ(72,"th",0),e._uU(73,"|"),e._UZ(74,"br"),e._uU(75,"|"),e.qZA()(),e.YNc(76,rE,6,0,"tr",22),e.YNc(77,VC,18,8,"tr",23)),2&t&&(e.xp6(10),e.Q6J("formGroup",o.newWord),e.xp6(11),e.Q6J("value",void 0),e.xp6(1),e.Q6J("ngForOf",o.poses),e.xp6(27),e.Q6J("ngForOf",o.selectedWords),e.xp6(17),e.Q6J("ngModel",o.wordSearch),e.xp6(2),e.Q6J("ngModel",o.listPosSelector),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.poses),e.xp6(5),e.Q6J("ngIf",o.wordsList.data&&o.wordsList.data.length),e.xp6(1),e.Q6J("ngForOf",o.wordsList.data))},dependencies:[dt,It,Zi,yr,so,Zn,Mn,Dn,oi,mn,_,ft,An,Uu],styles:[".link-selected-word[_ngcontent-%COMP%]:hover{color:#ee2d2d}"]}),r})();const jC=["app-borroved",""];function $C(r,n){if(1&r&&(e.TgZ(0,"option",6),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function iE(r,n){if(1&r&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.calculatedEvolution)}}function sE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"span",21),e._uU(2),e.qZA(),e._uU(3," ("),e.TgZ(4,"a",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw();return e.KtG(u.evolveSingleWord(i))}),e._uU(5),e.qZA(),e._uU(6,")"),e.qZA()}if(2&r){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(null==t.wordEvolved||null==t.wordEvolved.word?null:t.wordEvolved.word.word),e.xp6(3),e.Oqu(t.calculatedEvolution)}}function aE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"a",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw();return e.KtG(u.evolveSingleWord(i))}),e._uU(2),e.qZA()()}if(2&r){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.calculatedEvolution)}}const uE=function(r){return["/words/word",r]};function GC(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",2)(4,"span",14)(5,"i"),e._uU(6),e.qZA()()(),e.TgZ(7,"th",2)(8,"span",14)(9,"i"),e._uU(10),e.qZA()()(),e.TgZ(11,"th",2)(12,"span",15)(13,"a",16),e._uU(14),e.qZA()()(),e.TgZ(15,"th",0),e._uU(16,"|"),e.qZA(),e.TgZ(17,"th",2)(18,"span",17),e.YNc(19,iE,2,1,"span",18),e.YNc(20,sE,7,2,"span",19),e.YNc(21,aE,3,1,"span",19),e.qZA()(),e.TgZ(22,"th",0),e._uU(23,"|"),e.qZA()()),2&r){const t=n.$implicit;e.xp6(6),e.Oqu(null==t.word||null==t.word.language?null:t.word.language.displayName),e.xp6(4),e.Oqu(null==t.word||null==t.word.partOfSpeech?null:t.word.partOfSpeech.abbreviation),e.xp6(3),e.Q6J("ngClass",null!=t&&null!=t.word&&t.word.forgotten?"text-grey":"text-main")("routerLink",e.VKq(8,uE,null==t.word?null:t.word.word)),e.xp6(1),e.Oqu(null==t.word?null:t.word.word),e.xp6(5),e.Q6J("ngIf",!!t.calculatedEvolution&&t.calculatedEvolution===(null==t.wordEvolved||null==t.wordEvolved.word?null:t.wordEvolved.word.word)),e.xp6(1),e.Q6J("ngIf",!(null==t.wordEvolved||null==t.wordEvolved.word||!t.wordEvolved.word.word)&&t.calculatedEvolution!=(null==t.wordEvolved||null==t.wordEvolved.word?null:t.wordEvolved.word.word)),e.xp6(1),e.Q6J("ngIf",!(null!=t.wordEvolved&&null!=t.wordEvolved.word&&t.wordEvolved.word.word))}}let S2=(()=>{class r extends Vg{constructor(t,o){super(o),this.languagesEvolutionService=t,this.posService=o,this.pageSize=30,this.wordsBorrowed=[]}get getLanguage(){return this.language}ngOnInit(){super.ngOnInit(),this.reloadWordList(this.languageFrom.id)}ngOnChanges(t){super.ngOnChanges(t),t.languageFrom&&t.languageFrom.currentValue&&(console.log("DerivedComponent",t,t.languageFrom.currentValue),this.reloadWordList(t.languageFrom.currentValue.id),this.wordsBorrowed=[])}reloadWordList(t){t&&this.loadDefault({languageId:t})}loadDefault(t){var o,i;console.log("loadDefault",t,this.listPosSelector,this.language,this.wordSearch),t||(t={}),t={page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,languageId:t.languageId?t.languageId:null===t.languageId||null===(o=this.languageFrom)||void 0===o?void 0:o.id,languageToId:this.language.id,posId:t.posId?t.posId:null===t.posId||null===(i=this.listPosSelector)||void 0===i?void 0:i.id},this.load(t)}load(t){this.languagesEvolutionService.getAllWords1({filter:t}).subscribe(o=>{o.data&&(this.wordsBorrowed=o.data)})}evolveSingleWord(t){console.log("EVOLVE WORD",t),this.languagesEvolutionService.addBorrowedWord({body:{language:this.language,word:t.word}}).subscribe(o=>{t.word=o.word,t.wordEvolved=o.wordEvolved,t.calculatedEvolution=o.calculatedEvolution})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ri),e.Y36(Pi))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tbody","app-borroved",""]],inputs:{language:"language",languageFrom:"languageFrom"},features:[e.qOj,e.TTD],attrs:jC,decls:41,vars:5,consts:[[1,"border"],["app-horizontal-dash","",1,"border"],[1,"border",2,"text-align","left"],["type","text",2,"height","16px","margin-left","16px",3,"ngModel","ngModelChange"],[2,"margin-left","8px"],["id","listPosSelector",1,"listPosSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["colspan","3"],[1,"table-content"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","1%"],["span","1",2,"width","max-content"],[4,"ngFor","ngForOf"],[1,"nowrap",2,"margin-left","8px"],[1,"text-grey",2,"margin-left","8px","word-break","keep-all"],[1,"link-btn",3,"ngClass","routerLink"],[1,"text-grey",2,"margin-left","8px"],["class","text-green-dull",4,"ngIf"],[4,"ngIf"],[1,"text-green-dull"],[1,"text-red-dull"],[1,"text-yellow-dull",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e._UZ(3,"th",1),e.TgZ(4,"th",0),e._uU(5,"|"),e.qZA()(),e.TgZ(6,"tr")(7,"th",0),e._uU(8,"|"),e._UZ(9,"br"),e._uU(10,"|"),e.qZA(),e.TgZ(11,"th",2)(12,"input",3),e.NdJ("ngModelChange",function(u){return o.loadDefault({word:u})})("ngModelChange",function(u){return o.wordSearch=u}),e.qZA(),e.TgZ(13,"span",4)(14,"select",5),e.NdJ("ngModelChange",function(u){return o.loadDefault({posId:null==u?null:u.id})})("ngModelChange",function(u){return o.listPosSelector=u}),e.TgZ(15,"option",6),e._uU(16,"Any part of speech"),e.qZA(),e.YNc(17,$C,2,2,"option",7),e.qZA()()(),e.TgZ(18,"th",0),e._uU(19,"|"),e._UZ(20,"br"),e._uU(21,"|"),e.qZA()(),e.TgZ(22,"tr")(23,"th",0),e._uU(24,"|"),e.qZA(),e._UZ(25,"th",1),e.TgZ(26,"th",0),e._uU(27,"|"),e.qZA()(),e.TgZ(28,"tr")(29,"th",8)(30,"table",9)(31,"colgroup"),e._UZ(32,"col",10)(33,"col",11)(34,"col",11)(35,"col",11)(36,"col",10)(37,"col",12)(38,"col",10),e.qZA(),e.TgZ(39,"tbody",9),e.YNc(40,GC,24,10,"tr",13),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngModel",o.wordSearch),e.xp6(2),e.Q6J("ngModel",o.listPosSelector),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.poses),e.xp6(23),e.Q6J("ngForOf",o.wordsBorrowed))},dependencies:[Vn,dt,It,co,yr,so,Zn,Mn,Dn,mn,An]}),r})();function HC(r,n){if(1&r&&(e.TgZ(0,"option",15),e._uU(1),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.Q6J("selected",t===o.type)("ngValue",t),e.xp6(1),e.Oqu(t)}}function lE(r,n){if(1&r&&(e.TgZ(0,"option",15),e._uU(1),e.qZA()),2&r){const t=n.$implicit,o=e.oxw(2);e.Q6J("selected",o.languageFrom===t)("ngValue",t),e.xp6(1),e.Oqu(t.displayName)}}function cE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",5)(1,"label",6),e._uU(2,"From"),e.qZA(),e.TgZ(3,"div",7)(4,"select",16),e.NdJ("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.langFromChanged(i))})("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.languageFrom=i)}),e.YNc(5,lE,2,3,"option",9),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.languageFrom),e.xp6(1),e.Q6J("ngForOf",t.languagesFrom)}}function x2(r,n){if(1&r&&e._UZ(0,"tbody",17),2&r){const t=e.oxw();e.Q6J("language",t.language)}}function Z2(r,n){if(1&r&&e._UZ(0,"tbody",18),2&r){const t=e.oxw();e.Q6J("language",t.language)}}function dE(r,n){if(1&r&&e._UZ(0,"tbody",19),2&r){const t=e.oxw();e.Q6J("language",t.language)("languageFrom",t.languageFrom)}}let hE=(()=>{class r{constructor(t){this.languagesEvolutionService=t,this.languageFrom={displayName:"empty"},this.languagesFrom=[],this.wordOriginType=jl,this.typeKeys=Object.keys(jl),this.type=this.typeKeys[0]}ngOnInit(){console.log(this.type),console.log(this.wordOriginType),console.log(this.typeKeys)}changeLanguageTo(t,o){t&&this.languagesEvolutionService.getConnectionToLang({toLangId:t}).subscribe(i=>{this.languagesFrom=i.filter(u=>u.connectionType===la.Evolving&&"Evolved"===o||u.connectionType===la.Borrowing&&"Borrowed"===o).map(u=>u.langFrom).filter(u=>!!u).map(u=>u||{displayName:"empty"})})}changeLanguage(t){t.langId&&this.changeLanguageTo(t.langId,this.type)}typeChanged(t){var o;console.log(t.type),this.changeLanguageTo(null===(o=this.language)||void 0===o?void 0:o.id,t.type)}langFromChanged(t){console.log(JSON.stringify(t))}getstr(t){return JSON.stringify(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ri))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-new"]],decls:42,vars:8,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],[1,"border"],[1,"border",2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],[1,"selector"],["for","newWordTypeSelector",1,"languageSelectorLabel"],[1,"input-group",2,"margin-top","4px"],["id","newWordTypeSelector",1,"posSelector",3,"ngModel","ngModelChange"],[3,"selected","ngValue",4,"ngFor","ngForOf"],["class","selector",4,"ngIf"],["app-new","",3,"language",4,"ngIf"],["app-derived","",3,"language",4,"ngIf"],["app-borroved","",3,"language","languageFrom",4,"ngIf"],["app-horizontal-dash","",1,"border"],[3,"selected","ngValue"],["id","langToSelector",1,"langToSelector",3,"ngModel","ngModelChange"],["app-new","",3,"language"],["app-derived","",3,"language"],["app-borroved","",3,"language","languageFrom"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0),e.qZA(),e.TgZ(5,"tbody")(6,"tr")(7,"th",2),e._uU(8,"|"),e._UZ(9,"br"),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e.qZA(),e.TgZ(15,"th",3)(16,"app-all-languages",4),e.NdJ("selectedLanguageChange",function(u){return o.changeLanguage({langId:u.id})})("selectedLanguageChange",function(u){return o.language=u}),e.qZA(),e.TgZ(17,"div",5)(18,"label",6),e._uU(19,"Type"),e.qZA(),e.TgZ(20,"div",7)(21,"select",8),e.NdJ("ngModelChange",function(u){return o.typeChanged({type:u})})("ngModelChange",function(u){return o.type=u}),e.YNc(22,HC,2,3,"option",9),e.qZA()()(),e.YNc(23,cE,6,2,"div",10),e.qZA(),e.TgZ(24,"th",2),e._uU(25,"|"),e._UZ(26,"br"),e._uU(27,"|"),e._UZ(28,"br"),e._uU(29,"|"),e._UZ(30,"br"),e._uU(31,"|"),e.qZA()()(),e.YNc(32,x2,1,1,"tbody",11),e.YNc(33,Z2,1,1,"tbody",12),e.YNc(34,dE,1,2,"tbody",13),e.TgZ(35,"tbody")(36,"tr")(37,"th",2),e._uU(38,"+"),e.qZA(),e._UZ(39,"th",14),e.TgZ(40,"th",2),e._uU(41,"+"),e.qZA()()()()),2&t&&(e.xp6(16),e.Q6J("selectedLanguage",o.language)("label","Language"),e.xp6(5),e.Q6J("ngModel",o.type),e.xp6(1),e.Q6J("ngForOf",o.typeKeys),e.xp6(1),e.Q6J("ngIf","Borrowed"===o.type||"Evolved"===o.type),e.xp6(9),e.Q6J("ngIf",void 0!==o.language&&"New"===o.type),e.xp6(1),e.Q6J("ngIf",void 0!==o.language&&"Derived"===o.type),e.xp6(1),e.Q6J("ngIf",void 0!==o.language&&void 0!==o.languageFrom&&"Borrowed"===o.type))},dependencies:[dt,It,yr,so,Mn,Dn,mn,An,zc,tE,BC,S2]}),r})();function Xm(r,n){return n.params[r]||(n.parent?Xm(r,n.parent):null)}let gE=(()=>{class r{constructor(t){this.wordService=t}resolve(t,o){const i=Xm("word",t);return console.log("WorldDetailsResolver resolve",i),i?this.wordService.getDetailedWordsByPhonetics({word:i}):Ys.E}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Nu))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function fE(r,n){if(1&r&&(e.TgZ(0,"option",2),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function _E(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"select",1),e.NdJ("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.changeValueTo({value:i}))})("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.valueToModel=i)}),e.TgZ(2,"option",2),e._uU(3,"---nothing---"),e.qZA(),e.YNc(4,fE,2,2,"option",3),e.qZA(),e.TgZ(5,"a",4),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.save())}),e._uU(6,"[s]"),e.qZA(),e.TgZ(7,"a",5),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.edit=!1)}),e._uU(8,"[c]"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.valueToModel),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",t.valuesTo)}}function mE(r,n){if(1&r&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.valueTo.name)}}function yE(r,n){1&r&&(e.TgZ(0,"span",9),e._uU(1,"no evolution"),e.qZA())}function vE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e.YNc(1,mE,2,1,"span",6),e.YNc(2,yE,2,0,"span",7),e.TgZ(3,"a",5),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.startEdit())}),e._uU(4,"[e]"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.valueTo),e.xp6(1),e.Q6J("ngIf",!t.valueTo)}}let CE=(()=>{class r{constructor(t){this.languagesEvolutionService=t,this.edit=!1}ngOnInit(){this.reloadValueTo()}reloadValueTo(){var t,o,i,u,d,g,y,w;(null===(t=this.langFrom)||void 0===t?void 0:t.id)&&(null===(o=this.langTo)||void 0===o?void 0:o.id)&&(null===(i=this.pos)||void 0===i?void 0:i.id)&&(null===(u=this.valueFrom)||void 0===u?void 0:u.id)&&this.languagesEvolutionService.getGrammaticalValueEvolution({langFromId:null===(d=this.langFrom)||void 0===d?void 0:d.id,langToId:null===(g=this.langTo)||void 0===g?void 0:g.id,posId:null===(y=this.pos)||void 0===y?void 0:y.id,valueFromId:null===(w=this.valueFrom)||void 0===w?void 0:w.id}).subscribe(D=>{this.valueTo=null==D?void 0:D.valueTo,this.connectionId=null==D?void 0:D.id})}changeValueTo(t){}startEdit(){if(this.valueTo){this.valuesTo||(this.valuesTo=[]);const t=this.valuesTo.find(o=>{var i;return o.name=null===(i=this.valueTo)||void 0===i?void 0:i.name});t?this.valueToModel=t:(this.valuesTo.push(this.valueTo),this.valueToModel=this.valueTo)}else this.valueToModel=void 0;this.edit=!0}save(){if(!this.valueToModel&&this.connectionId)this.languagesEvolutionService.removeGrammaticalValueEvolution({id:this.connectionId}).subscribe(()=>{this.edit=!1,this.reloadValueTo()});else{if(!this.valueToModel&&!this.connectionId)return;this.languagesEvolutionService.saveGrammaticalValueEvolution({body:{valueTo:this.valueToModel,valueFrom:this.valueFrom,languageFrom:this.langFrom,languageTo:this.langTo,pos:this.pos}}).subscribe(o=>{this.connectionId=o,this.edit=!1,this.reloadValueTo()})}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ri))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-category-evolution-input"]],inputs:{langFrom:"langFrom",langTo:"langTo",pos:"pos",valueFrom:"valueFrom",valuesTo:"valuesTo"},decls:2,vars:2,consts:[[4,"ngIf"],["id","languageSelector","name","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"text-green-dull","link-btn",2,"margin-left","8px",3,"click"],[1,"text-grey-dull","link-btn",2,"margin-left","4px",3,"click"],["class","text-green-dull",4,"ngIf"],["class","text-grey",4,"ngIf"],[1,"text-green-dull"],[1,"text-grey"]],template:function(t,o){1&t&&(e.YNc(0,_E,9,3,"span",0),e.YNc(1,vE,5,2,"span",0)),2&t&&(e.Q6J("ngIf",o.edit),e.xp6(1),e.Q6J("ngIf",!o.edit))},dependencies:[dt,It,yr,so,Mn,Dn,mn]}),r})();function TE(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",4),e._uU(3,"|"),e.qZA(),e._UZ(4,"th"),e.TgZ(5,"th",4),e._uU(6,"|"),e.qZA(),e._UZ(7,"th"),e.TgZ(8,"th",4),e._uU(9,"+"),e.qZA(),e._UZ(10,"th",8),e.TgZ(11,"th",4),e._uU(12,"+"),e.qZA()(),e.TgZ(13,"tr")(14,"th",4),e._uU(15,"|"),e.qZA(),e._UZ(16,"th"),e.TgZ(17,"th",4),e._uU(18,"|"),e.qZA(),e._UZ(19,"th"),e.TgZ(20,"th",4),e._uU(21,"|"),e.qZA(),e.TgZ(22,"th",14),e._uU(23),e.qZA(),e.TgZ(24,"th",4),e._uU(25,">"),e.qZA(),e.TgZ(26,"th",4),e._UZ(27,"app-category-evolution-input",15),e.qZA(),e.TgZ(28,"th",4),e._uU(29,"|"),e.qZA()(),e.BQk()),2&r){const t=n.$implicit,o=e.oxw(2).$implicit,i=e.oxw().$implicit,u=e.oxw();e.xp6(23),e.Oqu(t.name),e.xp6(4),e.Q6J("langFrom",u.langFrom)("langTo",u.langTo)("pos",i)("valueFrom",t)("valuesTo",u.getValuesTo(o))}}function Rh(r,n){if(1&r&&(e.ynx(0),e.YNc(1,TE,30,6,"ng-container",3),e.BQk()),2&r){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",o.getValuesFrom(t))}}function JC(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",4),e._uU(3,"|"),e.qZA(),e._UZ(4,"th"),e.TgZ(5,"th",4),e._uU(6,"+"),e.qZA(),e._UZ(7,"th",8),e.TgZ(8,"th",4),e._uU(9,"+"),e.qZA(),e._UZ(10,"th",9),e.TgZ(11,"th",4),e._uU(12,"+"),e.qZA()(),e.TgZ(13,"tr")(14,"th",4),e._uU(15,"|"),e.qZA(),e._UZ(16,"th"),e.TgZ(17,"th",4),e._uU(18,"|"),e.qZA(),e.TgZ(19,"th",10),e._uU(20),e.qZA(),e._UZ(21,"th",11),e.TgZ(22,"th",4),e._uU(23),e.qZA(),e.TgZ(24,"th",12),e._uU(25),e.qZA(),e.TgZ(26,"th",4),e._uU(27,"|"),e.qZA()(),e.YNc(28,Rh,2,1,"ng-container",13),e.BQk()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(20),e.Oqu(t.name),e.xp6(3),e.Oqu(i.getCategoryTo(o,t)?"":"|"),e.xp6(2),e.Oqu(i.getCategoryTo(o,t)?"":"No grammatical category"),e.xp6(3),e.Q6J("ngIf",i.getCategoryTo(o,t))}}function WC(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",4),e._uU(3,"+"),e.qZA(),e._UZ(4,"th",5),e.TgZ(5,"th",4),e._uU(6,"+"),e.qZA()(),e.TgZ(7,"tr")(8,"th",4),e._uU(9,"|"),e.qZA(),e.TgZ(10,"th",6),e._uU(11),e.qZA(),e._UZ(12,"th",7),e.TgZ(13,"th",4),e._uU(14,"|"),e.qZA()(),e.YNc(15,JC,29,4,"ng-container",3),e.BQk()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(11),e.Oqu(t.name),e.xp6(4),e.Q6J("ngForOf",o.getCategoriesFrom(t))}}let zC=(()=>{class r{constructor(t,o){this.posService=t,this.categoryService=o,this.poses=[],this.categoriesFrom=new Map,this.categoriesTo=new Map,this.valuesFrom=new Map,this.valuesTo=new Map}ngOnInit(){var t,o;(null===(t=this.langFrom)||void 0===t?void 0:t.id)&&(null===(o=this.langTo)||void 0===o?void 0:o.id)&&this.reload(this.langFrom.id,this.langTo.id)}ngOnChanges(t){var o,i,u,d,g,y,w,D;if((null===(o=t.langFrom)||void 0===o?void 0:o.currentValue)||(null===(i=t.langTo)||void 0===i?void 0:i.currentValue)){let x,q;console.log("ngOnChanges",t),x=null!==(u=t.langFrom)&&void 0!==u&&u.currentValue.id?t.langFrom.currentValue.id:null!==(d=this.langFrom)&&void 0!==d&&d.id?null===(g=this.langFrom)||void 0===g?void 0:g.id:0,q=null!==(y=t.langTo)&&void 0!==y&&y.currentValue.id?t.langTo.currentValue.id:null!==(w=this.langTo)&&void 0!==w&&w.id?null===(D=this.langTo)||void 0===D?void 0:D.id:0,x&&q&&this.reload(x,q)}}reload(t,o){this.posService.getAllPosByLanguage({languageId:t}).subscribe(i=>{this.poses=i.sort((u,d)=>u.name?u.name.localeCompare(d.name?d.name:""):-1),this.poses.forEach(u=>this.reloadCategory(u,t,o))}),this.categoryService.getAllCategories().subscribe(i=>{this.valuesFrom.clear(),this.valuesTo.clear(),i.forEach(u=>{const d=u.id;d&&(this.categoryService.getCategoryValuesByCategoryAndLang({categoryId:d,langId:t}).subscribe(g=>this.valuesFrom.set(d,g)),this.categoryService.getCategoryValuesByCategoryAndLang({categoryId:d,langId:o}).subscribe(g=>this.valuesTo.set(d,g)))})})}reloadCategory(t,o,i){this.categoriesFrom.clear(),this.categoriesTo.clear(),t.id&&(this.categoryService.getGrammaticalCategoryConnectionsForLangAndPos({posId:t.id,languageId:o}).subscribe(u=>{t.id&&this.categoriesFrom.set(t.id,u.map(d=>d.grammaticalCategory?d.grammaticalCategory:{}))}),this.categoryService.getGrammaticalCategoryConnectionsForLangAndPos({posId:t.id,languageId:i}).subscribe(u=>{t.id&&this.categoriesTo.set(t.id,u.map(d=>d.grammaticalCategory?d.grammaticalCategory:{}))}))}getCategoriesFrom(t){return t.id?this.categoriesFrom.get(t.id):[]}getValuesFrom(t){return t.id?this.valuesFrom.get(t.id):[]}getValuesTo(t){return t.id?this.valuesTo.get(t.id):[]}getCategoryTo(t,o){var i;if(t.id&&o.id)return null===(i=this.categoriesTo.get(t.id))||void 0===i?void 0:i.find(u=>u.id===o.id)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Pi),e.Y36(Vl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-category-evolution-table"]],inputs:{langFrom:"langFrom",langTo:"langTo"},features:[e.TTD],decls:19,vars:1,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","calc(25% - 40px)"],["span","1",2,"width","25%"],[4,"ngFor","ngForOf"],[1,"border"],["app-horizontal-dash","","colspan","7",1,"border"],[1,"text-grey"],["colspan","6",1,"border"],["app-horizontal-dash","","colspan","3",1,"border"],["app-horizontal-dash","","colspan","1",1,"border"],[1,"text-white"],["colspan","2",1,"border"],[1,"text-yellow-dull"],[4,"ngIf"],[1,"text-main"],[3,"langFrom","langTo","pos","valueFrom","valuesTo"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0)(5,"col",2)(6,"col",0)(7,"col",2)(8,"col",0)(9,"col",2)(10,"col",0),e.qZA(),e.TgZ(11,"tbody"),e.YNc(12,WC,16,2,"ng-container",3),e.TgZ(13,"tr")(14,"th",4),e._uU(15,"+"),e.qZA(),e._UZ(16,"th",5),e.TgZ(17,"th",4),e._uU(18,"+"),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("ngForOf",o.poses))},dependencies:[dt,It,An,CE]}),r})();function QC(r,n){if(1&r&&(e.TgZ(0,"option",9),e._uU(1),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.Q6J("ngValue",t),e.xp6(1),e.Oqu(o.getConnectionText(t))}}let KC=(()=>{class r{constructor(t){this.languagesEvolutionService=t,this.connections=[]}ngOnInit(){this.languagesEvolutionService.getConnections().subscribe(t=>{this.connections=t.sort((o,i)=>{var u,d,g,y,w,D;let x=0;return(null===(u=o.langFrom)||void 0===u?void 0:u.displayName)&&(null===(d=i.langFrom)||void 0===d?void 0:d.displayName)&&(x=null===(g=o.langFrom)||void 0===g?void 0:g.displayName.localeCompare(i.langFrom.displayName)),!x&&(null===(y=o.langTo)||void 0===y?void 0:y.displayName)&&(null===(w=i.langTo)||void 0===w?void 0:w.displayName)&&(x=null===(D=o.langTo)||void 0===D?void 0:D.displayName.localeCompare(i.langTo.displayName)),x})})}getConnectionText(t){var o,i;return`${null===(o=t.langFrom)||void 0===o?void 0:o.displayName} -> ${null===(i=t.langTo)||void 0===i?void 0:i.displayName} (${this.getConnectionTypeText(t.connectionType)})`}getConnectionTypeText(t){switch(t){case la.Borrowing:return"Borrowing";case la.Evolving:return"Evolving";case la.Derivation:return"Derivation";default:return"Unknown connection"}}changeConnection(t){console.log("changeConnection",t.connection)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ri))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-category-evolution"]],decls:35,vars:5,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",1,"border",2,"width","max-content"],[1,"border"],[2,"text-align","left","display","flex"],[1,"selector"],["for","languageSelector",1,"languageSelectorLabel"],[1,"input-group"],["id","languageSelector","name","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"langFrom","langTo"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",0),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",3),e._uU(9,"|"),e._UZ(10,"br"),e._uU(11,"|"),e._UZ(12,"br"),e._uU(13,"|"),e._UZ(14,"br"),e._uU(15,"|"),e.qZA(),e.TgZ(16,"th",4)(17,"div",5)(18,"label",6),e._uU(19,"Languages connection"),e.qZA(),e.TgZ(20,"div",7)(21,"select",8),e.NdJ("ngModelChange",function(u){return o.changeConnection({connection:u})})("ngModelChange",function(u){return o.connection=u}),e.TgZ(22,"option",9),e._uU(23," --- Select Connection ---"),e.qZA(),e.YNc(24,QC,2,2,"option",10),e.qZA()()()(),e._UZ(25,"th",3),e.TgZ(26,"th",3),e._uU(27,"|"),e._UZ(28,"br"),e._uU(29,"|"),e._UZ(30,"br"),e._uU(31,"|"),e._UZ(32,"br"),e._uU(33,"|"),e.qZA()()()(),e._UZ(34,"app-category-evolution-table",11)),2&t&&(e.xp6(21),e.Q6J("ngModel",o.connection),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.connections),e.xp6(10),e.Q6J("langFrom",null==o.connection?null:o.connection.langFrom)("langTo",null==o.connection?null:o.connection.langTo))},dependencies:[dt,yr,so,Mn,Dn,mn,zC],styles:[".languageSelector[_ngcontent-%COMP%]{margin-top:4px}.languageSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})();const YC={scrollPositionRestoration:"enabled",anchorScrolling:"enabled"},wE=[{path:"trace",component:nI},{path:"words",component:Bl,children:[{path:"new",component:hE},{path:"list",component:lI},{path:"translations",component:jI},{path:"word/:word",component:ZI,pathMatch:"full",resolve:{wordDetails:gE}}]},{path:"evolutions",component:kI,children:[{path:"connections",component:OC},{path:"category",component:KC},{path:"list",component:zm}]},{path:"language",component:K1,children:[{path:"description",component:Sm},{path:"clusters",component:Dg},{path:"laws",component:r1}]}];let k2=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[K0.forRoot(wE,YC),K0]}),r})();const bE=["col"];function AE(r,n){if(1&r&&(e.TgZ(0,"tr"),e._UZ(1,"td",16),e.TgZ(2,"td",15)(3,"span",17),e._uU(4),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e._UZ(7,"td",16),e.qZA()),2&r){const t=n.$implicit;e.xp6(4),e.hij("",t.message,". "),e.xp6(2),e.Oqu(t.details)}}function IE(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"table")(3,"colgroup"),e._UZ(4,"col",3)(5,"col",4)(6,"col",5)(7,"col",6)(8,"col",3)(9,"col",7)(10,"col",3),e.qZA(),e.TgZ(11,"tbody")(12,"tr")(13,"th",8),e._uU(14,"+"),e.qZA(),e.TgZ(15,"th",8),e._uU(16,"--"),e.qZA(),e.TgZ(17,"th",8),e._uU(18,"[ "),e.TgZ(19,"div",9),e._uU(20,"Esc"),e.qZA(),e._uU(21," ] Close "),e.qZA(),e._UZ(22,"th",10),e.TgZ(23,"th",8),e._uU(24,"+"),e.qZA(),e.TgZ(25,"th",8),e._uU(26,"--"),e.qZA(),e.TgZ(27,"th",8),e._uU(28,"+"),e.qZA()(),e.TgZ(29,"tr")(30,"th",8),e._uU(31,"|"),e.qZA(),e.TgZ(32,"th",11),e._uU(33," WARNING "),e.qZA(),e.TgZ(34,"th",8),e._uU(35,"|"),e.qZA(),e.TgZ(36,"th")(37,"a",12),e.NdJ("click",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.clear(i))}),e._uU(38,"x"),e.qZA()(),e.TgZ(39,"th",8),e._uU(40,"|"),e.qZA()(),e.TgZ(41,"tr")(42,"th",8),e._uU(43,"+"),e.qZA(),e._UZ(44,"th",13),e.TgZ(45,"th",8),e._uU(46,"+"),e.qZA(),e.TgZ(47,"th",8),e._uU(48,"--"),e.qZA(),e.TgZ(49,"th",8),e._uU(50,"+"),e.qZA()()(),e.TgZ(51,"tbody"),e.YNc(52,AE,8,2,"tr",14),e.TgZ(53,"tr")(54,"td",8),e._uU(55,"|"),e.qZA(),e._UZ(56,"td",15),e.TgZ(57,"td",8),e._uU(58,"|"),e.qZA()()()()()()}if(2&r){const t=e.oxw();e.xp6(52),e.Q6J("ngForOf",t.errors)}}let EE=(()=>{class r{constructor(t,o){this.cdRef=t,this.errorService=o,this.bcol="",this.errors=[]}ngOnInit(){this.errorService.errors.subscribe(t=>{this.errors=t})}onResize(){this.resizeTable()}ngAfterViewChecked(){this.resizeTable()}resizeTable(){var t;const i=Math.floor(((null===(t=this.col)||void 0===t?void 0:t.nativeElement.offsetWidth)-2)/8),u=this.bcol;this.bcol="--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------".substr(0,i),u!=this.bcol&&this.cdRef.detectChanges()}clear(t){t.stopPropagation(),this.errorService.clearErrors()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(Mg))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-footer"]],viewQuery:function(t,o){if(1&t&&e.Gf(bE,5),2&t){let i;e.iGM(i=e.CRH())&&(o.col=i.first)}},hostBindings:function(t,o){1&t&&e.NdJ("resize",function(u){return o.onResize(u)},!1,e.Jf7)},decls:1,vars:1,consts:[["class","footer-wrapper",4,"ngIf"],[1,"footer-wrapper"],[1,"footer"],["span","1",1,"border"],["span","1",2,"width","16px"],["span","1",2,"width","112px"],["span","1",2,"width","auto"],["span","1",2,"width","18px"],[1,"border"],[1,"text-yellow-dull",2,"display","inline"],["app-horizontal-dash","",1,"border"],["colspan","3",1,"text-grey"],[1,"text-red-dull","link-btn",3,"click"],["app-horizontal-dash","","colspan","3",1,"border"],[4,"ngFor","ngForOf"],["colspan","5",1,"break-word","text-grey"],["app-vertical-dash","",1,"border"],[1,"text-red-dull"]],template:function(t,o){1&t&&e.YNc(0,IE,59,1,"div",0),2&t&&e.Q6J("ngIf",o.errors.length>0)},dependencies:[dt,It,An],styles:[".footer-wrapper[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;height:-moz-fit-content;height:fit-content}.footer[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;z-index:100;background-color:#252525}"]}),r})(),Oh=(()=>{class r{transform(t,...o){switch(t){case"ZERO":return"0";case"ONE":return"1";case"TWO":return"2";case"THREE":return"3";case"FOUR":return"4";case"FIVE":return"5";default:return t}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275pipe=e.Yjl({name:"keySymbols",type:r,pure:!0}),r})();function DE(r,n){if(1&r&&(e.TgZ(0,"span",3),e._uU(1),e.ALo(2,"keySymbols"),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" [",e.lcZ(2,1,t.key)," ]")}}let ey=(()=>{class r{constructor(t,o,i){this.activeRoute=t,this.router=o,this.keybind=i}ngOnInit(){this.key&&this.keybind.match([this.key],["altKey"]).subscribe(o=>{o.preventDefault();const i=this.activeRoute.snapshot.queryParamMap.get("lang");this.router.navigate([this.route],{queryParams:{lang:i}})})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ta),e.Y36(Qn),e.Y36(ia))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-header-nav-link"]],inputs:{route:"route",name:"name",key:"key"},decls:4,vars:3,consts:[[1,"nav-link"],[1,"link-btn",3,"routerLink"],["class","text-grey-dull",4,"ngIf"],[1,"text-grey-dull"]],template:function(t,o){1&t&&(e.TgZ(0,"span",0)(1,"a",1),e._uU(2),e.YNc(3,DE,3,3,"span",2),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("routerLink",o.route),e.xp6(1),e.Oqu(o.name),e.xp6(1),e.Q6J("ngIf",o.key))},dependencies:[It,co,Oh],styles:[".nav-link[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}"]}),r})();var di=P(655),SE=P(7573),hn=P(2090),ys=P(9681),Pu=P(1877),Bg=P(4859),Kr=P(5813);function Kc(){return(0,ao.e)((r,n)=>{let t,o=!1;r.subscribe((0,zn.x)(n,i=>{const u=t;t=i,o&&n.next([u,i]),o=!0}))})}function xE(r,n){return r===n}var _t,vs=P(2011),eT=(P(5881),P(3942)),be=P(5861),tT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$a={},nT=nT||{},Ft=tT||self;function Yc(){}function Lh(r){var n=typeof r;return"array"==(n="object"!=n?n:r?Array.isArray(r)?"array":n:"null")||"object"==n&&"number"==typeof r.length}function $l(r){var n=typeof r;return"object"==n&&null!=r||"function"==n}var ny="closure_uid_"+(1e9*Math.random()>>>0),kE=0;function NE(r,n,t){return r.call.apply(r.bind,arguments)}function UE(r,n,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,o),r.apply(n,i)}}return function(){return r.apply(n,arguments)}}function Yr(r,n,t){return(Yr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?NE:UE).apply(null,arguments)}function Xc(r,n){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function Fr(r,n){function t(){}t.prototype=n.prototype,r.X=n.prototype,r.prototype=new t,r.prototype.constructor=r,r.Wb=function(o,i,u){for(var d=Array(arguments.length-2),g=2;g<arguments.length;g++)d[g-2]=arguments[g];return n.prototype[i].apply(o,d)}}function Ga(){this.s=this.s,this.o=this.o}var oT={};Ga.prototype.s=!1,Ga.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function ty(r){return Object.prototype.hasOwnProperty.call(r,ny)&&r[ny]||(r[ny]=++kE)}(this);delete oT[r]}},Ga.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iT=Array.prototype.indexOf?function(r,n){return Array.prototype.indexOf.call(r,n,void 0)}:function(r,n){if("string"==typeof r)return"string"!=typeof n||1!=n.length?-1:r.indexOf(n,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===n)return t;return-1};function $g(r){const n=r.length;if(0<n){const t=Array(n);for(let o=0;o<n;o++)t[o]=r[o];return t}return[]}function ry(r,n){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Lh(o)){const i=r.length||0,u=o.length||0;r.length=i+u;for(let d=0;d<u;d++)r[i+d]=o[d]}else r.push(o)}}function ho(r,n){this.type=r,this.g=this.target=n,this.defaultPrevented=!1}ho.prototype.h=function(){this.defaultPrevented=!0};var sT=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var r=!1,n=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Ft.addEventListener("test",Yc,n),Ft.removeEventListener("test",Yc,n)}catch(t){}return r}();function Gg(r){return/^[\s\xa0]*$/.test(r)}var po=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function Ru(r,n){return r<n?-1:r>n?1:0}function Hg(){var r=Ft.navigator;return r&&(r=r.userAgent)?r:""}function ca(r){return-1!=Hg().indexOf(r)}function aT(r){return aT[" "](r),r}aT[" "]=Yc;var Wg,r,uT=ca("Opera"),Gl=ca("Trident")||ca("MSIE"),ed=ca("Edge"),oy=ed||Gl,Jg=ca("Gecko")&&!(-1!=Hg().toLowerCase().indexOf("webkit")&&!ca("Edge"))&&!(ca("Trident")||ca("MSIE"))&&!ca("Edge"),ME=-1!=Hg().toLowerCase().indexOf("webkit")&&!ca("Edge");function iy(){var r=Ft.document;return r?r.documentMode:void 0}e:{var sy="",Ou=(r=Hg(),Jg?/rv:([^\);]+)(\)|;)/.exec(r):ed?/Edge\/([\d\.]+)/.exec(r):Gl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):ME?/WebKit\/(\S+)/.exec(r):uT?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Ou&&(sy=Ou?Ou[1]:""),Gl){var ay=iy();if(null!=ay&&ay>parseFloat(sy)){Wg=String(ay);break e}}Wg=sy}var uy={};var ly=Ft.document&&Gl&&(iy()||parseInt(Wg,10))||void 0;function Qg(r,n){if(ho.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=n,n=r.relatedTarget){if(Jg){e:{try{aT(n.nodeName);var i=!0;break e}catch(u){}i=!1}i||(n=null)}}else"mouseover"==t?n=r.fromElement:"mouseout"==t&&(n=r.toElement);this.relatedTarget=n,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:cT[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Qg.X.h.call(this)}}Fr(Qg,ho);var cT={2:"touch",3:"pen",4:"mouse"};Qg.prototype.h=function(){Qg.X.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var qh="closure_listenable_"+(1e6*Math.random()|0),dT=0;function td(r,n,t,o,i){this.listener=r,this.proxy=null,this.src=n,this.type=t,this.capture=!!o,this.ha=i,this.key=++dT,this.ba=this.ea=!1}function Kg(r){r.ba=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function Yg(r,n,t){for(const o in r)n.call(t,r[o],o,r)}function Xg(r){const n={};for(const t in r)n[t]=r[t];return n}const PE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hT(r,n){let t,o;for(let i=1;i<arguments.length;i++){for(t in o=arguments[i],o)r[t]=o[t];for(let u=0;u<PE.length;u++)t=PE[u],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function cy(r){this.src=r,this.g={},this.h=0}function dy(r,n){var t=n.type;if(t in r.g){var u,o=r.g[t],i=iT(o,n);(u=0<=i)&&Array.prototype.splice.call(o,i,1),u&&(Kg(n),0==r.g[t].length&&(delete r.g[t],r.h--))}}function hy(r,n,t,o){for(var i=0;i<r.length;++i){var u=r[i];if(!u.ba&&u.listener==n&&u.capture==!!t&&u.ha==o)return i}return-1}cy.prototype.add=function(r,n,t,o,i){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var d=hy(r,n,o,i);return-1<d?(n=r[d],t||(n.ea=!1)):((n=new td(n,this.src,u,!!o,i)).ea=t,r.push(n)),n};var py="closure_lm_"+(1e6*Math.random()|0),ef={};function gy(r,n,t,o,i){if(o&&o.once)return fy(r,n,t,o,i);if(Array.isArray(n)){for(var u=0;u<n.length;u++)gy(r,n[u],t,o,i);return null}return t=rf(t),r&&r[qh]?r.N(n,t,$l(o)?!!o.capture:!!o,i):pT(r,n,t,!1,o,i)}function pT(r,n,t,o,i,u){if(!n)throw Error("Invalid event type");var d=$l(i)?!!i.capture:!!i,g=tf(r);if(g||(r[py]=g=new cy(r)),(t=g.add(n,t,o,d,u)).proxy)return t;if(o=function gT(){const n=RE;return function r(t){return n.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)sT||(i=d),void 0===i&&(i=!1),r.addEventListener(n.toString(),o,i);else if(r.attachEvent)r.attachEvent(my(n.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function fy(r,n,t,o,i){if(Array.isArray(n)){for(var u=0;u<n.length;u++)fy(r,n[u],t,o,i);return null}return t=rf(t),r&&r[qh]?r.O(n,t,$l(o)?!!o.capture:!!o,i):pT(r,n,t,!0,o,i)}function fT(r,n,t,o,i){if(Array.isArray(n))for(var u=0;u<n.length;u++)fT(r,n[u],t,o,i);else o=$l(o)?!!o.capture:!!o,t=rf(t),r&&r[qh]?(r=r.i,(n=String(n).toString())in r.g&&-1<(t=hy(u=r.g[n],t,o,i))&&(Kg(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete r.g[n],r.h--))):r&&(r=tf(r))&&(n=r.g[n.toString()],r=-1,n&&(r=hy(n,t,o,i)),(t=-1<r?n[r]:null)&&_y(t))}function _y(r){if("number"!=typeof r&&r&&!r.ba){var n=r.src;if(n&&n[qh])dy(n.i,r);else{var t=r.type,o=r.proxy;n.removeEventListener?n.removeEventListener(t,o,r.capture):n.detachEvent?n.detachEvent(my(t),o):n.addListener&&n.removeListener&&n.removeListener(o),(t=tf(n))?(dy(t,r),0==t.h&&(t.src=null,n[py]=null)):Kg(r)}}}function my(r){return r in ef?ef[r]:ef[r]="on"+r}function RE(r,n){if(r.ba)r=!0;else{n=new Qg(n,this);var t=r.listener,o=r.ha||r.src;r.ea&&_y(r),r=t.call(o,n)}return r}function tf(r){return(r=r[py])instanceof cy?r:null}var nf="__closure_events_fn_"+(1e9*Math.random()>>>0);function rf(r){return"function"==typeof r?r:(r[nf]||(r[nf]=function(n){return r.handleEvent(n)}),r[nf])}function Zr(){Ga.call(this),this.i=new cy(this),this.P=this,this.I=null}function Xr(r,n){var t,o=r.I;if(o)for(t=[];o;o=o.I)t.push(o);if(r=r.P,o=n.type||n,"string"==typeof n)n=new ho(n,r);else if(n instanceof ho)n.target=n.target||r;else{var i=n;hT(n=new ho(o,r),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var d=n.g=t[u];i=sf(d,o,!0,n)&&i}if(i=sf(d=n.g=r,o,!0,n)&&i,i=sf(d,o,!1,n)&&i,t)for(u=0;u<t.length;u++)i=sf(d=n.g=t[u],o,!1,n)&&i}function sf(r,n,t,o){if(!(n=r.i.g[String(n)]))return!0;n=n.concat();for(var i=!0,u=0;u<n.length;++u){var d=n[u];if(d&&!d.ba&&d.capture==t){var g=d.listener,y=d.ha||d.src;d.ea&&dy(r.i,d),i=!1!==g.call(y,o)&&i}}return i&&!o.defaultPrevented}Fr(Zr,Ga),Zr.prototype[qh]=!0,Zr.prototype.removeEventListener=function(r,n,t,o){fT(this,r,n,t,o)},Zr.prototype.M=function(){if(Zr.X.M.call(this),this.i){var n,r=this.i;for(n in r.g){for(var t=r.g[n],o=0;o<t.length;o++)Kg(t[o]);delete r.g[n],r.h--}}this.I=null},Zr.prototype.N=function(r,n,t,o){return this.i.add(String(r),n,!1,t,o)},Zr.prototype.O=function(r,n,t,o){return this.i.add(String(r),n,!0,t,o)};var _T=Ft.JSON.stringify;function mT(){var r=Vh;let n=null;return r.g&&(n=r.g,r.g=r.g.next,r.g||(r.h=null),n.next=null),n}var yT,OE=new class{constructor(r,n){this.i=r,this.j=n,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new M2,r=>r.reset());class M2{constructor(){this.next=this.g=this.h=null}set(n,t){this.h=n,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function P2(r){Ft.setTimeout(()=>{throw r},0)}function LE(r,n){yT||function R2(){var r=Ft.Promise.resolve(void 0);yT=function(){r.then(O2)}}(),vT||(yT(),vT=!0),Vh.add(r,n)}var vT=!1,Vh=new class U2{constructor(){this.h=this.g=null}add(n,t){const o=OE.get();o.set(n,t),this.h?this.h.next=o:this.g=o,this.h=o}};function O2(){for(var r;r=mT();){try{r.h.call(r.g)}catch(t){P2(t)}var n=OE;n.j(r),100>n.h&&(n.h++,r.next=n.g,n.g=r)}vT=!1}function Bh(r,n){Zr.call(this),this.h=r||1,this.g=n||Ft,this.j=Yr(this.lb,this),this.l=Date.now()}function nd(r){r.ca=!1,r.R&&(r.g.clearTimeout(r.R),r.R=null)}function af(r,n,t){if("function"==typeof r)t&&(r=Yr(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Yr(r.handleEvent,r)}return 2147483647<Number(n)?-1:Ft.setTimeout(r,n||0)}function yy(r){r.g=af(()=>{r.g=null,r.i&&(r.i=!1,yy(r))},r.j);const n=r.h;r.h=null,r.m.apply(null,n)}Fr(Bh,Zr),(_t=Bh.prototype).ca=!1,_t.R=null,_t.lb=function(){if(this.ca){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-r):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Xr(this,"tick"),this.ca&&(nd(this),this.start()))}},_t.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_t.M=function(){Bh.X.M.call(this),nd(this),delete this.g};class L2 extends Ga{constructor(n,t){super(),this.m=n,this.j=t,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:yy(this)}M(){super.M(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hl(r){Ga.call(this),this.h=r,this.g={}}Fr(Hl,Ga);var vy=[];function CT(r,n,t,o){Array.isArray(t)||(t&&(vy[0]=t.toString()),t=vy);for(var i=0;i<t.length;i++){var u=gy(n,t[i],o||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function Cy(r){Yg(r.g,function(n,t){this.g.hasOwnProperty(t)&&_y(n)},r),r.g={}}function Ty(){this.g=!0}function rd(r,n,t,o){r.info(function(){return"XMLHTTP TEXT ("+n+"): "+function qE(r,n){if(!r.g)return n;if(!n)return null;try{var t=JSON.parse(n);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var i=o[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<i.length;d++)i[d]=""}}}return _T(t)}catch(g){return n}}(r,t)+(o?" "+o:"")})}Hl.prototype.M=function(){Hl.X.M.call(this),Cy(this)},Hl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ty.prototype.Aa=function(){this.g=!1},Ty.prototype.info=function(){};var od={},VE=null;function wy(){return VE=VE||new Zr}function TT(r){ho.call(this,od.Pa,r)}function jh(r){const n=wy();Xr(n,new TT(n,r))}function wT(r,n){ho.call(this,od.STAT_EVENT,r),this.stat=n}function Qo(r){const n=wy();Xr(n,new wT(n,r))}function bT(r,n){ho.call(this,od.Qa,r),this.size=n}function id(r,n){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){r()},n)}od.Pa="serverreachability",Fr(TT,ho),od.STAT_EVENT="statevent",Fr(wT,ho),od.Qa="timingevent",Fr(bT,ho);var $h={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},BE={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function hi(){}function lf(){}hi.prototype.h=null;var Hh,Gh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Zo(){ho.call(this,"d")}function by(){ho.call(this,"c")}function cf(){}function Jh(r,n,t,o){this.l=r,this.j=n,this.m=t,this.U=o||1,this.S=new Hl(this),this.O=IT,this.T=new Bh(r=oy?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new df}function df(){this.i=null,this.g="",this.h=!1}Fr(Zo,ho),Fr(by,ho),Fr(cf,hi),cf.prototype.g=function(){return new XMLHttpRequest},cf.prototype.i=function(){return{}},Hh=new cf;var IT=45e3,hf={},pf={};function gf(r,n,t){r.K=1,r.v=sd(Fu(n)),r.s=t,r.P=!0,Ay(r,null)}function Ay(r,n){r.F=Date.now(),Ha(r),r.A=Fu(r.v);var t=r.A,o=r.U;Array.isArray(o)||(o=[String(o)]),NT(t.i,"t",o),r.C=0,t=r.l.H,r.h=new df,r.g=sD(r.l,t?n:null,!r.s),0<r.N&&(r.L=new L2(Yr(r.La,r,r.g),r.N)),CT(r.S,r.g,"readystatechange",r.ib),n=r.H?Xg(r.H):{},r.s?(r.u||(r.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",r.g.da(r.A,r.u,r.s,n)):(r.u="GET",r.g.da(r.A,r.u,null,n)),jh(1),function F2(r,n,t,o,i,u){r.info(function(){if(r.g)if(u)for(var d="",g=u.split("&"),y=0;y<g.length;y++){var w=g[y].split("=");if(1<w.length){var D=w[0];w=w[1];var x=D.split("_");d=2<=x.length&&"type"==x[1]?d+(D+"=")+w+"&":d+(D+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+o+") [attempt "+i+"]: "+n+"\n"+t+"\n"+d})}(r.j,r.u,r.A,r.m,r.U,r.s)}function ET(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Da}function Iy(r,n,t){let i,o=!0;for(;!r.I&&r.C<t.length;){if(i=jE(r,t),i==pf){4==n&&(r.o=4,Qo(14),o=!1),rd(r.j,r.m,null,"[Incomplete Response]");break}if(i==hf){r.o=4,Qo(15),rd(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}rd(r.j,r.m,i,null),Ey(r,i)}ET(r)&&i!=pf&&i!=hf&&(r.h.g="",r.C=0),4!=n||0!=t.length||r.h.h||(r.o=1,Qo(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.$&&(r.$=!0,(n=r.l).g==r&&n.$&&!n.K&&(n.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),qy(n),n.K=!0,Qo(11))):(rd(r.j,r.m,t,"[Invalid Chunked Response]"),ko(r),Jl(r))}function jE(r,n){var t=r.C,o=n.indexOf("\n",t);return-1==o?pf:(t=Number(n.substring(t,o)),isNaN(t)?hf:(o+=1)+t>n.length?pf:(n=n.substr(o,t),r.C=o+t,n))}function Ha(r){r.V=Date.now()+r.O,Cs(r,r.O)}function Cs(r,n){if(null!=r.B)throw Error("WatchDog timer not null");r.B=id(Yr(r.gb,r),n)}function Wh(r){r.B&&(Ft.clearTimeout(r.B),r.B=null)}function Jl(r){0==r.l.G||r.I||rD(r.l,r)}function ko(r){Wh(r);var n=r.L;n&&"function"==typeof n.na&&n.na(),r.L=null,nd(r.T),Cy(r.S),r.g&&(n=r.g,r.g=null,n.abort(),n.na())}function Ey(r,n){try{var t=r.l;if(0!=t.G&&(t.g==r||RT(t.h,r)))if(!r.J&&RT(t.h,r)&&3==t.G){try{var o=t.Fa.g.parse(n)}catch(w){o=null}if(Array.isArray(o)&&3==o.length){var i=o;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<r.F))break e;Vy(t),Oy(t)}Fy(t),Qo(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=id(Yr(t.cb,t),6e3));if(1>=WE(t.h)&&t.ja){try{t.ja()}catch(w){}t.ja=void 0}}else cd(t,11)}else if((r.J||t.g==r)&&Vy(t),!Gg(n))for(i=t.Fa.g.parse(n),n=0;n<i.length;n++){let w=i[n];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const D=w[3];null!=D&&(t.ma=D,t.j.info("VER="+t.ma));const x=w[4];null!=x&&(t.Ca=x,t.j.info("SVER="+t.Ca));const q=w[5];null!=q&&"number"==typeof q&&0<q&&(t.J=o=1.5*q,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const J=r.g;if(J){const ee=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ee){var u=o.h;u.g||-1==ee.indexOf("spdy")&&-1==ee.indexOf("quic")&&-1==ee.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(OT(u,u.h),u.h=null))}if(o.D){const Ne=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;Ne&&(o.za=Ne,Kn(o.F,o.D,Ne))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-r.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=r;if((o=t).sa=iD(o,o.H?o.ka:null,o.V),d.J){zE(o.h,d);var g=d,y=o.J;y&&g.setTimeout(y),g.B&&(Wh(g),Ha(g)),o.g=d}else BT(o);0<t.i.length&&ld(t)}else"stop"!=w[0]&&"close"!=w[0]||cd(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?cd(t,7):rp(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}jh(4)}catch(w){}}function DT(r,n){if(r.forEach&&"function"==typeof r.forEach)r.forEach(n,void 0);else if(Lh(r)||"string"==typeof r)Array.prototype.forEach.call(r,n,void 0);else for(var t=function $E(r){if(r.oa&&"function"==typeof r.oa)return r.oa();if(!r.W||"function"!=typeof r.W){if("undefined"!=typeof Map&&r instanceof Map)return Array.from(r.keys());if(!("undefined"!=typeof Set&&r instanceof Set)){if(Lh(r)||"string"==typeof r){var n=[];r=r.length;for(var t=0;t<r;t++)n.push(t);return n}n=[],t=0;for(const o in r)n[t++]=o;return n}}}(r),o=function q2(r){if(r.W&&"function"==typeof r.W)return r.W();if("undefined"!=typeof Map&&r instanceof Map||"undefined"!=typeof Set&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Lh(r)){for(var n=[],t=r.length,o=0;o<t;o++)n.push(r[o]);return n}for(o in n=[],t=0,r)n[t++]=r[o];return n}(r),i=o.length,u=0;u<i;u++)n.call(void 0,o[u],t&&t[u],r)}(_t=Jh.prototype).setTimeout=function(r){this.O=r},_t.ib=function(r){r=r.target;const n=this.L;n&&3==da(r)?n.l():this.La(r)},_t.La=function(r){try{if(r==this.g)e:{const D=da(this.g);var n=this.g.Ea();const x=this.g.aa();if(!(3>D)&&(3!=D||oy||this.g&&(this.h.h||this.g.fa()||Uy(this.g)))){this.I||4!=D||7==n||jh(8==n||0>=x?3:2),Wh(this);var t=this.g.aa();this.Y=t;t:if(ET(this)){var o=Uy(this.g);r="";var i=o.length,u=4==da(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ko(this),Jl(this);var d="";break t}this.h.i=new Ft.TextDecoder}for(n=0;n<i;n++)this.h.h=!0,r+=this.h.i.decode(o[n],{stream:u&&n==i-1});o.splice(0,i),this.h.g+=r,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function FE(r,n,t,o,i,u,d){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+i+"]: "+n+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.U,D,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var g,y=this.g;if((g=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gg(g)){var w=g;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Qo(12),ko(this),Jl(this);break e}rd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ey(this,t)}this.P?(Iy(this,D,d),oy&&this.i&&3==D&&(CT(this.S,this.T,"tick",this.hb),this.T.start())):(rd(this.j,this.m,d,null),Ey(this,d)),4==D&&ko(this),this.i&&!this.I&&(4==D?rD(this.l,this):(this.i=!1,Ha(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Qo(12)):(this.o=0,Qo(13)),ko(this),Jl(this)}}}catch(D){}},_t.hb=function(){if(this.g){var r=da(this.g),n=this.g.fa();this.C<n.length&&(Wh(this),Iy(this,r,n),this.i&&4!=r&&Ha(this))}},_t.cancel=function(){this.I=!0,ko(this)},_t.gb=function(){this.B=null;const r=Date.now();0<=r-this.V?(function uf(r,n){r.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(jh(3),Qo(17)),ko(this),this.o=2,Jl(this)):Cs(this,this.V-r)};var ST=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lu(r,n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Lu){this.h=void 0!==n?n:r.h,zh(this,r.j),this.s=r.s,this.g=r.g,ff(this,r.m),this.l=r.l,n=r.i;var t=new Qh;t.i=n.i,n.g&&(t.g=new Map(n.g),t.h=n.h),Dy(this,t),this.o=r.o}else r&&(t=String(r).match(ST))?(this.h=!!n,zh(this,t[1]||"",!0),this.s=ad(t[2]||""),this.g=ad(t[3]||"",!0),ff(this,t[4]),this.l=ad(t[5]||"",!0),Dy(this,t[6]||"",!0),this.o=ad(t[7]||"")):(this.h=!!n,this.i=new Qh(null,this.h))}function Fu(r){return new Lu(r)}function zh(r,n,t){r.j=t?ad(n,!0):n,r.j&&(r.j=r.j.replace(/:$/,""))}function ff(r,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);r.m=n}else r.m=null}function Dy(r,n,t){n instanceof Qh?(r.i=n,function V2(r,n){n&&!r.j&&(Ja(r),r.i=null,r.g.forEach(function(t,o){var i=o.toLowerCase();o!=i&&(xy(this,o),NT(this,i,t))},r)),r.j=n}(r.i,r.h)):(t||(n=ud(n,mf)),r.i=new Qh(n,r.h))}function Kn(r,n,t){r.i.set(n,t)}function sd(r){return Kn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function ad(r,n){return r?n?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function ud(r,n,t){return"string"==typeof r?(r=encodeURI(r).replace(n,HE),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function HE(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Lu.prototype.toString=function(){var r=[],n=this.j;n&&r.push(ud(n,Sy,!0),":");var t=this.g;return(t||"file"==n)&&(r.push("//"),(n=this.s)&&r.push(ud(n,Sy,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(ud(t,"/"==t.charAt(0)?_f:xT,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",ud(t,ZT)),r.join("")};var Sy=/[#\/\?@]/g,xT=/[#\?:]/g,_f=/[#\?]/g,mf=/[#\?@]/g,ZT=/#/g;function Qh(r,n){this.h=this.g=null,this.i=r||null,this.j=!!n}function Ja(r){r.g||(r.g=new Map,r.h=0,r.i&&function GE(r,n){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),i=null;if(0<=o){var u=r[t].substring(0,o);i=r[t].substring(o+1)}else u=r[t];n(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(r.i,function(n,t){r.add(decodeURIComponent(n.replace(/\+/g," ")),t)}))}function xy(r,n){Ja(r),n=Kh(r,n),r.g.has(n)&&(r.i=null,r.h-=r.g.get(n).length,r.g.delete(n))}function kT(r,n){return Ja(r),n=Kh(r,n),r.g.has(n)}function NT(r,n,t){xy(r,n),0<t.length&&(r.i=null,r.g.set(Kh(r,n),$g(t)),r.h+=t.length)}function Kh(r,n){return n=String(n),r.j&&(n=n.toLowerCase()),n}function MT(r){this.l=r||JE,r=Ft.PerformanceNavigationTiming?0<(r=Ft.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ga&&Ft.g.Ga()&&Ft.g.Ga().$b),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_t=Qh.prototype).add=function(r,n){Ja(this),this.i=null,r=Kh(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(n),this.h+=1,this},_t.forEach=function(r,n){Ja(this),this.g.forEach(function(t,o){t.forEach(function(i){r.call(n,i,o,this)},this)},this)},_t.oa=function(){Ja(this);const r=Array.from(this.g.values()),n=Array.from(this.g.keys()),t=[];for(let o=0;o<n.length;o++){const i=r[o];for(let u=0;u<i.length;u++)t.push(n[o])}return t},_t.W=function(r){Ja(this);let n=[];if("string"==typeof r)kT(this,r)&&(n=n.concat(this.g.get(Kh(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)n=n.concat(r[t])}return n},_t.set=function(r,n){return Ja(this),this.i=null,kT(this,r=Kh(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[n]),this.h+=1,this},_t.get=function(r,n){return r&&0<(r=this.W(r)).length?String(r[0]):n},_t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],n=Array.from(this.g.keys());for(var t=0;t<n.length;t++){var o=n[t];const u=encodeURIComponent(String(o)),d=this.W(o);for(o=0;o<d.length;o++){var i=u;""!==d[o]&&(i+="="+encodeURIComponent(String(d[o]))),r.push(i)}}return this.i=r.join("&")};var JE=10;function PT(r){return!!r.h||!!r.g&&r.g.size>=r.j}function WE(r){return r.h?1:r.g?r.g.size:0}function RT(r,n){return r.h?r.h==n:!!r.g&&r.g.has(n)}function OT(r,n){r.g?r.g.add(n):r.h=n}function zE(r,n){r.h&&r.h==n?r.h=null:r.g&&r.g.has(n)&&r.g.delete(n)}function QE(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let n=r.i;for(const t of r.g.values())n=n.concat(t.D);return n}return $g(r.i)}function Zy(){}function yf(){this.g=new Zy}function KE(r,n,t){const o=t||"";try{DT(r,function(i,u){let d=i;$l(i)&&(d=_T(i)),n.push(o+u+"="+encodeURIComponent(d))})}catch(i){throw n.push(o+"type="+encodeURIComponent("_badmap")),i}}function Yh(r,n,t,o,i){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,i(o)}catch(u){}}function Ts(r){this.l=r.ac||null,this.j=r.jb||!1}function Xh(r,n){Zr.call(this),this.D=r,this.u=n,this.m=void 0,this.readyState=ep,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}MT.prototype.cancel=function(){if(this.i=QE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},Zy.prototype.stringify=function(r){return Ft.JSON.stringify(r,void 0)},Zy.prototype.parse=function(r){return Ft.JSON.parse(r,void 0)},Fr(Ts,hi),Ts.prototype.g=function(){return new Xh(this.l,this.j)},Ts.prototype.i=function(r){return function(){return r}}({}),Fr(Xh,Zr);var ep=0;function vf(r){r.j.read().then(r.Ta.bind(r)).catch(r.ga.bind(r))}function tp(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Wl(r)}function Wl(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(_t=Xh.prototype).open=function(r,n){if(this.readyState!=ep)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=n,this.readyState=1,Wl(this)},_t.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(n.body=r),(this.D||Ft).fetch(new Request(this.B,n)).then(this.Wa.bind(this),this.ga.bind(this))},_t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tp(this)),this.readyState=ep},_t.Wa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Wl(this)),this.g&&(this.readyState=3,Wl(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==Ft.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vf(this)}else r.text().then(this.Va.bind(this),this.ga.bind(this))},_t.Ta=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var n=r.value?r.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!r.done}))&&(this.response=this.responseText+=n)}r.done?tp(this):Wl(this),3==this.readyState&&vf(this)}},_t.Va=function(r){this.g&&(this.response=this.responseText=r,tp(this))},_t.Ua=function(r){this.g&&(this.response=r,tp(this))},_t.ga=function(){this.g&&tp(this)},_t.setRequestHeader=function(r,n){this.v.append(r,n)},_t.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},_t.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],n=this.h.entries();for(var t=n.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=n.next();return r.join("\r\n")},Object.defineProperty(Xh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var ky=Ft.JSON.parse;function Fn(r){Zr.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=XE,this.K=this.L=!1}Fr(Fn,Zr);var XE="",B2=/^https?$/i,j2=["POST","PUT"];function Ny(r,n){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=n,r.m=5,LT(r),Cf(r)}function LT(r){r.D||(r.D=!0,Xr(r,"complete"),Xr(r,"error"))}function FT(r){if(r.h&&void 0!==nT&&(!r.C[1]||4!=da(r)||2!=r.aa()))if(r.v&&4==da(r))af(r.Ha,0,r);else if(Xr(r,"readystatechange"),4==da(r)){r.h=!1;try{const g=r.aa();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var t;if(!(t=n)){var o;if(o=0===g){var i=String(r.H).match(ST)[1]||null;if(!i&&Ft.self&&Ft.self.location){var u=Ft.self.location.protocol;i=u.substr(0,u.length-1)}o=!B2.test(i?i.toLowerCase():"")}t=o}if(t)Xr(r,"complete"),Xr(r,"success");else{r.m=6;try{var d=2<da(r)?r.g.statusText:""}catch(y){d=""}r.j=d+" ["+r.aa()+"]",LT(r)}}finally{Cf(r)}}}function Cf(r,n){if(r.g){qT(r);const t=r.g,o=r.C[0]?Yc:null;r.g=null,r.C=null,n||Xr(r,"ready");try{t.onreadystatechange=o}catch(i){}}}function qT(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(Ft.clearTimeout(r.A),r.A=null)}function da(r){return r.g?r.g.readyState:0}function Uy(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case XE:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(n){return null}}function My(r){let n="";return Yg(r,function(t,o){n+=o,n+=":",n+=t,n+="\r\n"}),n}function Py(r,n,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=My(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Kn(r,n,t))}function np(r,n,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||n}function Ry(r){this.Ca=0,this.i=[],this.j=new Ty,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=np("failFast",!1,r),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=np("baseRetryDelayMs",5e3,r),this.bb=np("retryDelaySeedMs",1e4,r),this.$a=np("forwardChannelMaxRetries",2,r),this.ta=np("forwardChannelRequestTimeoutMs",2e4,r),this.ra=r&&r.xmlHttpFactory||void 0,this.Da=r&&r.Zb||!1,this.J=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.I="",this.h=new MT(r&&r.concurrentRequestLimit),this.Fa=new yf,this.O=r&&r.fastHandshake||!1,this.N=r&&r.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=r&&r.Xb||!1,r&&r.Aa&&this.j.Aa(),r&&r.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&r&&r.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function rp(r){if(Ly(r),3==r.G){var n=r.U++,t=Fu(r.F);Kn(t,"SID",r.I),Kn(t,"RID",n),Kn(t,"TYPE","terminate"),Tf(r,t),(n=new Jh(r,r.j,n,void 0)).K=2,n.v=sd(Fu(t)),t=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(t=Ft.navigator.sendBeacon(n.v.toString(),"")),!t&&Ft.Image&&((new Image).src=n.v,t=!0),t||(n.g=sD(n.l,null),n.g.da(n.v)),n.F=Date.now(),Ha(n)}jT(r)}function Oy(r){r.g&&(qy(r),r.g.cancel(),r.g=null)}function Ly(r){Oy(r),r.u&&(Ft.clearTimeout(r.u),r.u=null),Vy(r),r.h.cancel(),r.m&&("number"==typeof r.m&&Ft.clearTimeout(r.m),r.m=null)}function ld(r){PT(r.h)||r.m||(r.m=!0,LE(r.Ja,r),r.C=0)}function VT(r,n){var t;t=n?n.m:r.U++;const o=Fu(r.F);Kn(o,"SID",r.I),Kn(o,"RID",t),Kn(o,"AID",r.T),Tf(r,o),r.o&&r.s&&Py(o,r.o,r.s),t=new Jh(r,r.j,t,r.C+1),null===r.o&&(t.H=r.s),n&&(r.i=n.D.concat(r.i)),n=tD(r,t,1e3),t.setTimeout(Math.round(.5*r.ta)+Math.round(.5*r.ta*Math.random())),OT(r.h,t),gf(t,o,n)}function Tf(r,n){r.ia&&Yg(r.ia,function(t,o){Kn(n,o,t)}),r.l&&DT({},function(t,o){Kn(n,o,t)})}function tD(r,n,t){t=Math.min(r.i.length,t);var o=r.l?Yr(r.l.Ra,r.l,r):null;e:{var i=r.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=i[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let g=!0;for(let y=0;y<t;y++){let w=i[y].h;const D=i[y].g;if(w-=u,0>w)u=Math.max(0,i[y].h-100),g=!1;else try{KE(D,d,"req"+w+"_")}catch(x){o&&o(D)}}if(g){o=d.join("&");break e}}}return r=r.i.splice(0,t),n.D=r,o}function BT(r){r.g||r.u||(r.Z=1,LE(r.Ia,r),r.A=0)}function Fy(r){return!(r.g||r.u||3<=r.A||(r.Z++,r.u=id(Yr(r.Ia,r),oD(r,r.A)),r.A++,0))}function qy(r){null!=r.B&&(Ft.clearTimeout(r.B),r.B=null)}function nD(r){r.g=new Jh(r,r.j,"rpc",r.Z),null===r.o&&(r.g.H=r.s),r.g.N=0;var n=Fu(r.sa);Kn(n,"RID","rpc"),Kn(n,"SID",r.I),Kn(n,"CI",r.L?"0":"1"),Kn(n,"AID",r.T),Kn(n,"TYPE","xmlhttp"),Tf(r,n),r.o&&r.s&&Py(n,r.o,r.s),r.J&&r.g.setTimeout(r.J);var t=r.g;r=r.ka,t.K=1,t.v=sd(Fu(n)),t.s=null,t.P=!0,Ay(t,r)}function Vy(r){null!=r.v&&(Ft.clearTimeout(r.v),r.v=null)}function rD(r,n){var t=null;if(r.g==n){Vy(r),qy(r),r.g=null;var o=2}else{if(!RT(r.h,n))return;t=n.D,zE(r.h,n),o=1}if(0!=r.G)if(r.pa=n.Y,n.i)if(1==o){t=n.s?n.s.length:0,n=Date.now()-n.F;var i=r.C;Xr(o=wy(),new bT(o,t,n,i)),ld(r)}else BT(r);else if(3==(i=n.o)||0==i&&0<r.pa||!(1==o&&function eD(r,n){return!(WE(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=n.D.concat(r.i),0):1==r.G||2==r.G||r.C>=(r.Za?0:r.$a)||(r.m=id(Yr(r.Ja,r,n),oD(r,r.C)),r.C++,0)))}(r,n)||2==o&&Fy(r)))switch(t&&0<t.length&&(n=r.h,n.i=n.i.concat(t)),i){case 1:cd(r,5);break;case 4:cd(r,10);break;case 3:cd(r,6);break;default:cd(r,2)}}function oD(r,n){let t=r.Xa+Math.floor(Math.random()*r.bb);return r.l||(t*=2),t*n}function cd(r,n){if(r.j.info("Error code "+n),2==n){var t=null;r.l&&(t=null);var o=Yr(r.kb,r);t||(t=new Lu("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||zh(t,"https"),sd(t)),function YE(r,n){const t=new Ty;if(Ft.Image){const o=new Image;o.onload=Xc(Yh,t,o,"TestLoadImage: loaded",!0,n),o.onerror=Xc(Yh,t,o,"TestLoadImage: error",!1,n),o.onabort=Xc(Yh,t,o,"TestLoadImage: abort",!1,n),o.ontimeout=Xc(Yh,t,o,"TestLoadImage: timeout",!1,n),Ft.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else n(!1)}(t.toString(),o)}else Qo(2);r.G=0,r.l&&r.l.va(n),jT(r),Ly(r)}function jT(r){if(r.G=0,r.la=[],r.l){const n=QE(r.h);(0!=n.length||0!=r.i.length)&&(ry(r.la,n),ry(r.la,r.i),r.h.i.length=0,$g(r.i),r.i.length=0),r.l.ua()}}function iD(r,n,t){var o=t instanceof Lu?Fu(t):new Lu(t,void 0);if(""!=o.g)n&&(o.g=n+"."+o.g),ff(o,o.m);else{var i=Ft.location;o=i.protocol,n=n?n+"."+i.hostname:i.hostname,i=+i.port;var u=new Lu(null,void 0);o&&zh(u,o),n&&(u.g=n),i&&ff(u,i),t&&(u.l=t),o=u}return n=r.za,(t=r.D)&&n&&Kn(o,t,n),Kn(o,"VER",r.ma),Tf(r,o),o}function sD(r,n,t){if(n&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new Fn(t&&r.Da&&!r.ra?new Ts({jb:!0}):r.ra)).Ka(r.H),n}function aD(){}function By(){if(Gl&&!(10<=Number(ly)))throw Error("Environmental error: no available transport.")}function Oi(r,n){Zr.call(this),this.g=new Ry(n),this.l=r,this.h=n&&n.messageUrlParams||null,r=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(r?r["X-WebChannel-Content-Type"]=n.messageContentType:r={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(r?r["X-WebChannel-Client-Profile"]=n.ya:r={"X-WebChannel-Client-Profile":n.ya}),this.g.S=r,(r=n&&n.Yb)&&!Gg(r)&&(this.g.o=r),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!Gg(n)&&(this.g.D=n,null!==(r=this.h)&&n in r&&n in(r=this.h)&&delete r[n]),this.j=new a(this)}function uD(r){Zo.call(this);var n=r.__sm__;if(n){e:{for(const t in n){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,n=null!==n&&r in n?n[r]:void 0),this.data=n}else this.data=r}function s(){by.call(this),this.status=1}function a(r){this.g=r}(_t=Fn.prototype).Ka=function(r){this.L=r},_t.da=function(r,n,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);n=n?n.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hh.g(),this.C=function AT(r){return r.h||(r.h=r.i())}(this.u?this.u:Hh),this.g.onreadystatechange=Yr(this.Ha,this);try{this.F=!0,this.g.open(n,String(r),!0),this.F=!1}catch(u){return void Ny(this,u)}if(r=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var i in o)t.set(i,o[i]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const u of o.keys())t.set(u,o.get(u))}o=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=Ft.FormData&&r instanceof Ft.FormData,!(0<=iT(j2,n))||o||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qT(this),0<this.B&&((this.K=function $2(r){return Gl&&function lT(){return function N2(r){var n=uy;return Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=r(9)}(function(){let r=0;const n=po(String(Wg)).split("."),t=po("9").split("."),o=Math.max(n.length,t.length);for(let d=0;0==r&&d<o;d++){var i=n[d]||"",u=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;r=Ru(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||Ru(0==i[2].length,0==u[2].length)||Ru(i[2],u[2]),i=i[3],u=u[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yr(this.qa,this)):this.A=af(this.qa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){Ny(this,u)}},_t.qa=function(){void 0!==nT&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xr(this,"timeout"),this.abort(8))},_t.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Xr(this,"complete"),Xr(this,"abort"),Cf(this))},_t.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cf(this,!0)),Fn.X.M.call(this)},_t.Ha=function(){this.s||(this.F||this.v||this.l?FT(this):this.fb())},_t.fb=function(){FT(this)},_t.aa=function(){try{return 2<da(this)?this.g.status:-1}catch(r){return-1}},_t.fa=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},_t.Sa=function(r){if(this.g){var n=this.g.responseText;return r&&0==n.indexOf(r)&&(n=n.substring(r.length)),ky(n)}},_t.Ea=function(){return this.m},_t.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_t=Ry.prototype).ma=8,_t.G=1,_t.Ja=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;const i=new Jh(this,this.j,r,void 0);let u=this.s;if(this.S&&(u?(u=Xg(u),hT(u,this.S)):u=this.S),null!==this.o||this.N||(i.H=u,u=null),this.O)e:{for(var n=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(n+=o)){n=t;break e}if(4096===n||t===this.i.length-1){n=t+1;break e}}n=1e3}else n=1e3;n=tD(this,i,n),Kn(t=Fu(this.F),"RID",r),Kn(t,"CVER",22),this.D&&Kn(t,"X-HTTP-Session-Id",this.D),Tf(this,t),u&&(this.N?n="headers="+encodeURIComponent(String(My(u)))+"&"+n:this.o&&Py(t,this.o,u)),OT(this.h,i),this.Ya&&Kn(t,"TYPE","init"),this.O?(Kn(t,"$req",n),Kn(t,"SID","null"),i.Z=!0,gf(i,t,null)):gf(i,t,n),this.G=2}}else 3==this.G&&(r?VT(this,r):0==this.i.length||PT(this.h)||VT(this))},_t.Ia=function(){if(this.u=null,nD(this),this.$&&!(this.K||null==this.g||0>=this.P)){var r=2*this.P;this.j.info("BP detection timer enabled: "+r),this.B=id(Yr(this.eb,this),r)}},_t.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Qo(10),Oy(this),nD(this))},_t.cb=function(){null!=this.v&&(this.v=null,Oy(this),Fy(this),Qo(19))},_t.kb=function(r){r?(this.j.info("Successfully pinged google.com"),Qo(2)):(this.j.info("Failed to ping google.com"),Qo(1))},(_t=aD.prototype).xa=function(){},_t.wa=function(){},_t.va=function(){},_t.ua=function(){},_t.Ra=function(){},By.prototype.g=function(r,n){return new Oi(r,n)},Fr(Oi,Zr),Oi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var r=this.g,n=this.l,t=this.h||void 0;Qo(0),r.V=n,r.ia=t||{},r.L=r.Y,r.F=iD(r,null,r.V),ld(r)},Oi.prototype.close=function(){rp(this.g)},Oi.prototype.u=function(r){var n=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=_T(r),r=t);n.i.push(new class{constructor(r,n){this.h=r,this.g=n}}(n.ab++,r)),3==n.G&&ld(n)},Oi.prototype.M=function(){this.g.l=null,delete this.j,rp(this.g),delete this.g,Oi.X.M.call(this)},Fr(uD,Zo),Fr(s,by),Fr(a,aD),a.prototype.xa=function(){Xr(this.g,"a")},a.prototype.wa=function(r){Xr(this.g,new uD(r))},a.prototype.va=function(r){Xr(this.g,new s(r))},a.prototype.ua=function(){Xr(this.g,"b")},By.prototype.createWebChannel=By.prototype.g,Oi.prototype.send=Oi.prototype.u,Oi.prototype.open=Oi.prototype.m,Oi.prototype.close=Oi.prototype.close,$h.NO_ERROR=0,$h.TIMEOUT=8,$h.HTTP_ERROR=6,BE.COMPLETE="complete",lf.EventType=Gh,Gh.OPEN="a",Gh.CLOSE="b",Gh.ERROR="c",Gh.MESSAGE="d",Zr.prototype.listen=Zr.prototype.N,Fn.prototype.listenOnce=Fn.prototype.O,Fn.prototype.getLastError=Fn.prototype.Oa,Fn.prototype.getLastErrorCode=Fn.prototype.Ea,Fn.prototype.getStatus=Fn.prototype.aa,Fn.prototype.getResponseJson=Fn.prototype.Sa,Fn.prototype.getResponseText=Fn.prototype.fa,Fn.prototype.send=Fn.prototype.da,Fn.prototype.setWithCredentials=Fn.prototype.Ka;var l=$a.createWebChannelTransport=function(){return new By},c=$a.getStatEventTarget=function(){return wy()},h=$a.ErrorCode=$h,p=$a.EventType=BE,m=$a.Event=od,C=$a.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},b=$a.FetchXmlHttpFactory=Ts,E=$a.WebChannel=lf,k=$a.XhrIo=Fn;const R="@firebase/firestore";class j{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}j.UNAUTHENTICATED=new j(null),j.GOOGLE_CREDENTIALS=new j("google-credentials-uid"),j.FIRST_PARTY=new j("first-party-uid"),j.MOCK_USER=new j("mock-user");let ne="9.12.1";const Ce=new Pu.Yd("@firebase/firestore");function qe(){return Ce.logLevel}function se(r,...n){if(Ce.logLevel<=Pu.in.DEBUG){const t=n.map(bt);Ce.debug(`Firestore (${ne}): ${r}`,...t)}}function ut(r,...n){if(Ce.logLevel<=Pu.in.ERROR){const t=n.map(bt);Ce.error(`Firestore (${ne}): ${r}`,...t)}}function Ze(r,...n){if(Ce.logLevel<=Pu.in.WARN){const t=n.map(bt);Ce.warn(`Firestore (${ne}): ${r}`,...t)}}function bt(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(t){return r}}function Oe(r="Unexpected state"){const n=`FIRESTORE (${ne}) INTERNAL ASSERTION FAILED: `+r;throw ut(n),new Error(n)}function it(r,n){r||Oe()}function We(r,n){return r}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends hn.ZR{constructor(n,t){super(n,t),this.code=n,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise((n,t)=>{this.resolve=n,this.reject=t})}}class wf{constructor(n,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class jy{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,t){n.enqueueRetryable(()=>t(j.UNAUTHENTICATED))}shutdown(){}}class $y{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,t){this.changeListener=t,n.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Gy{constructor(n){this.t=n,this.currentUser=j.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,t){var o=this;let i=this.i;const u=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new pr,n.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const w=d;n.enqueueRetryable((0,be.Z)(function*(){yield w.promise,yield u(o.currentUser)}))},y=w=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(w=>y(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?y(w):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new pr)}},0),g()}getToken(){const n=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==n?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(it("string"==typeof o.accessToken),new wf(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return it(null===n||"string"==typeof n),new j(n)}}class Hy{constructor(n,t,o,i){this.h=n,this.l=t,this.m=o,this.g=i,this.type="FirstParty",this.user=j.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(it(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const n=this.I();return n&&this.p.set("Authorization",n),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class tM{constructor(n,t,o,i){this.h=n,this.l=t,this.m=o,this.g=i}getToken(){return Promise.resolve(new Hy(this.h,this.l,this.m,this.g))}start(n,t){n.enqueueRetryable(()=>t(j.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G2{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nM{constructor(n){this.T=n,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(n,t){const o=u=>{null!=u.error&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.A;return this.A=u.token,se("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{n.enqueueRetryable(()=>o(u))};const i=u=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?i(u):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(t=>t?(it("string"==typeof t.token),this.A=t.token,new G2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rM(r){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class H2{static R(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/n.length)*n.length;let o="";for(;o.length<20;){const i=rM(40);for(let u=0;u<i.length;++u)o.length<20&&i[u]<t&&(o+=n.charAt(i[u]%n.length))}return o}}function Wt(r,n){return r<n?-1:r>n?1:0}function bf(r,n,t){return r.length===n.length&&r.every((o,i)=>t(o,n[i]))}function J2(r){return r+"\0"}class sr{constructor(n,t){if(this.seconds=n,this.nanoseconds=t,t<0)throw new Me(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(n<-62135596800)throw new Me(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Me(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return sr.fromMillis(Date.now())}static fromDate(n){return sr.fromMillis(n.getTime())}static fromMillis(n){const t=Math.floor(n/1e3),o=Math.floor(1e6*(n-1e3*t));return new sr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Wt(this.nanoseconds,n.nanoseconds):Wt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pt{constructor(n){this.timestamp=n}static fromTimestamp(n){return new Pt(n)}static min(){return new Pt(new sr(0,0))}static max(){return new Pt(new sr(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jy{constructor(n,t,o){void 0===t?t=0:t>n.length&&Oe(),void 0===o?o=n.length-t:o>n.length-t&&Oe(),this.segments=n,this.offset=t,this.len=o}get length(){return this.len}isEqual(n){return 0===Jy.comparator(this,n)}child(n){const t=this.segments.slice(this.offset,this.limit());return n instanceof Jy?n.forEach(o=>{t.push(o)}):t.push(n),this.construct(t)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==n.get(t))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==n.get(t))return!1;return!0}forEach(n){for(let t=this.offset,o=this.limit();t<o;t++)n(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,t){const o=Math.min(n.length,t.length);for(let i=0;i<o;i++){const u=n.get(i),d=t.get(i);if(u<d)return-1;if(u>d)return 1}return n.length<t.length?-1:n.length>t.length?1:0}}class yn extends Jy{construct(n,t,o){return new yn(n,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const t=[];for(const o of n){if(o.indexOf("//")>=0)throw new Me(ge.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(i=>i.length>0))}return new yn(t)}static emptyPath(){return new yn([])}}const oM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends Jy{construct(n,t,o){return new Cr(n,t,o)}static isValidIdentifier(n){return oM.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cr(["__name__"])}static fromServerFormat(n){const t=[];let o="",i=0;const u=()=>{if(0===o.length)throw new Me(ge.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let d=!1;for(;i<n.length;){const g=n[i];if("\\"===g){if(i+1===n.length)throw new Me(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const y=n[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Me(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=y,i+=2}else"`"===g?(d=!d,i++):"."!==g||d?(o+=g,i++):(u(),i++)}if(u(),d)throw new Me(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Cr(t)}static emptyPath(){return new Cr([])}}class Ke{constructor(n){this.path=n}static fromPath(n){return new Ke(yn.fromString(n))}static fromName(n){return new Ke(yn.fromString(n).popFirst(5))}static empty(){return new Ke(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===yn.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,t){return yn.comparator(n.path,t.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Ke(new yn(n.slice()))}}class $T{constructor(n,t,o,i){this.indexId=n,this.collectionGroup=t,this.fields=o,this.indexState=i}}function lD(r){return r.fields.find(n=>2===n.kind)}function op(r){return r.fields.filter(n=>2!==n.kind)}$T.UNKNOWN_ID=-1;class GT{constructor(n,t){this.fieldPath=n,this.kind=t}}class Wy{constructor(n,t){this.sequenceNumber=n,this.offset=t}static empty(){return new Wy(0,ws.min())}}function W2(r,n){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,i=Pt.fromTimestamp(1e9===o?new sr(t+1,0):new sr(t,o));return new ws(i,Ke.empty(),n)}function z2(r){return new ws(r.readTime,r.key,-1)}class ws{constructor(n,t,o){this.readTime=n,this.documentKey=t,this.largestBatchId=o}static min(){return new ws(Pt.min(),Ke.empty(),-1)}static max(){return new ws(Pt.max(),Ke.empty(),-1)}}function cD(r,n){let t=r.readTime.compareTo(n.readTime);return 0!==t?t:(t=Ke.comparator(r.documentKey,n.documentKey),0!==t?t:Wt(r.largestBatchId,n.largestBatchId))}const Q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function dd(r){return dD.apply(this,arguments)}function dD(){return dD=(0,be.Z)(function*(r){if(r.code!==ge.FAILED_PRECONDITION||r.message!==Q2)throw r;se("LocalStore","Unexpectedly lost primary lease")}),dD.apply(this,arguments)}class de{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(n){return this.next(void 0,n)}next(n,t){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(n,this.result):new de((o,i)=>{this.nextCallback=u=>{this.wrapSuccess(n,u).next(o,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(o,i)}})}toPromise(){return new Promise((n,t)=>{this.next(n,t)})}wrapUserFunction(n){try{const t=n();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(n,t){return n?this.wrapUserFunction(()=>n(t)):de.resolve(t)}wrapFailure(n,t){return n?this.wrapUserFunction(()=>n(t)):de.reject(t)}static resolve(n){return new de((t,o)=>{t(n)})}static reject(n){return new de((t,o)=>{o(n)})}static waitFor(n){return new de((t,o)=>{let i=0,u=0,d=!1;n.forEach(g=>{++i,g.next(()=>{++u,d&&u===i&&t()},y=>o(y))}),d=!0,u===i&&t()})}static or(n){let t=de.resolve(!1);for(const o of n)t=t.next(i=>i?de.resolve(i):o());return t}static forEach(n,t){const o=[];return n.forEach((i,u)=>{o.push(t.call(this,i,u))}),this.waitFor(o)}static mapArray(n,t){return new de((o,i)=>{const u=n.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const w=y;t(n[w]).next(D=>{d[w]=D,++g,g===u&&o(d)},D=>i(D))}})}static doWhile(n,t){return new de((o,i)=>{const u=()=>{!0===n()?t().next(()=>{u()},i):o()};u()})}}class HT{constructor(n,t){this.action=n,this.transaction=t,this.aborted=!1,this.P=new pr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new zy(n,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const i=hD(o.target.error);this.P.reject(new zy(n,i))}}static open(n,t,o,i){try{return new HT(t,n.transaction(i,o))}catch(u){throw new zy(t,u)}}get v(){return this.P.promise}abort(n){n&&this.P.reject(n),this.aborted||(se("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const t=this.transaction.objectStore(n);return new uM(t)}}class Wa{constructor(n,t,o){this.name=n,this.version=t,this.S=o,12.2===Wa.D((0,hn.z$)())&&ut("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return se("SimpleDb","Removing database:",n),ip(window.indexedDB.deleteDatabase(n)).toPromise()}static C(){if(!(0,hn.hl)())return!1;if(Wa.N())return!0;const n=(0,hn.z$)(),t=Wa.D(n),o=0<t&&t<10,i=Wa.k(n),u=0<i&&i<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||o||u)}static N(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.O)}static M(n,t){return n.store(t)}static D(n){const t=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(n){const t=n.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(n){var t=this;return(0,be.Z)(function*(){return t.db||(se("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{o(d.target.result)},u.onblocked=()=>{i(new zy(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const g=d.target.error;i("VersionError"===g.name?new Me(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Me(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new zy(n,g))},u.onupgradeneeded=d=>{se("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{se("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(n){this.B=n,this.db&&(this.db.onversionchange=t=>n(t))}runTransaction(n,t,o,i){var u=this;return(0,be.Z)(function*(){const d="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.F(n);const y=HT.open(u.db,n,d?"readonly":"readwrite",o),w=i(y).next(D=>(y.V(),D)).catch(D=>(y.abort(D),de.reject(D))).toPromise();return w.catch(()=>{}),yield y.v,w}catch(y){const w=y,D="FirebaseError"!==w.name&&g<3;if(se("SimpleDb","Transaction failed with error:",w.message,"Retrying:",D),u.close(),!D)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class aM{constructor(n){this.U=n,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(n){this.U=n}done(){this.q=!0}j(n){this.K=n}delete(){return ip(this.U.delete())}}class zy extends Me{constructor(n,t){super(ge.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function hd(r){return"IndexedDbTransactionError"===r.name}class uM{constructor(n){this.store=n}put(n,t){let o;return void 0!==t?(se("SimpleDb","PUT",this.store.name,n,t),o=this.store.put(t,n)):(se("SimpleDb","PUT",this.store.name,"<auto-key>",n),o=this.store.put(n)),ip(o)}add(n){return se("SimpleDb","ADD",this.store.name,n,n),ip(this.store.add(n))}get(n){return ip(this.store.get(n)).next(t=>(void 0===t&&(t=null),se("SimpleDb","GET",this.store.name,n,t),t))}delete(n){return se("SimpleDb","DELETE",this.store.name,n),ip(this.store.delete(n))}count(){return se("SimpleDb","COUNT",this.store.name),ip(this.store.count())}W(n,t){const o=this.options(n,t);if(o.index||"function"!=typeof this.store.getAll){const i=this.cursor(o),u=[];return this.H(i,(d,g)=>{u.push(g)}).next(()=>u)}{const i=this.store.getAll(o.range);return new de((u,d)=>{i.onerror=g=>{d(g.target.error)},i.onsuccess=g=>{u(g.target.result)}})}}J(n,t){const o=this.store.getAll(n,null===t?void 0:t);return new de((i,u)=>{o.onerror=d=>{u(d.target.error)},o.onsuccess=d=>{i(d.target.result)}})}Y(n,t){se("SimpleDb","DELETE ALL",this.store.name);const o=this.options(n,t);o.X=!1;const i=this.cursor(o);return this.H(i,(u,d,g)=>g.delete())}Z(n,t){let o;t?o=n:(o={},t=n);const i=this.cursor(o);return this.H(i,t)}tt(n){const t=this.cursor({});return new de((o,i)=>{t.onerror=u=>{const d=hD(u.target.error);i(d)},t.onsuccess=u=>{const d=u.target.result;d?n(d.primaryKey,d.value).next(g=>{g?d.continue():o()}):o()}})}H(n,t){const o=[];return new de((i,u)=>{n.onerror=d=>{u(d.target.error)},n.onsuccess=d=>{const g=d.target.result;if(!g)return void i();const y=new aM(g),w=t(g.primaryKey,g.value,y);if(w instanceof de){const D=w.catch(x=>(y.done(),de.reject(x)));o.push(D)}y.isDone?i():null===y.G?g.continue():g.continue(y.G)}}).next(()=>de.waitFor(o))}options(n,t){let o;return void 0!==n&&("string"==typeof n?o=n:t=n),{index:o,range:t}}cursor(n){let t="next";if(n.reverse&&(t="prev"),n.index){const o=this.store.index(n.index);return n.X?o.openKeyCursor(n.range,t):o.openCursor(n.range,t)}return this.store.openCursor(n.range,t)}}function ip(r){return new de((n,t)=>{r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{const i=hD(o.target.error);t(i)}})}let Y2=!1;function hD(r){const n=Wa.D((0,hn.z$)());if(n>=12.2&&n<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Y2||(Y2=!0,setTimeout(()=>{throw o},0)),o}}return r}class lM{constructor(n,t){this.asyncQueue=n,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(n){var t=this;se("IndexBackiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,be.Z)(function*(){t.task=null;try{se("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){hd(o)?se("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield dd(o)}yield t.nt(6e4)}))}}class cM{constructor(n,t){this.localStore=n,this.persistence=t}st(n=50){var t=this;return(0,be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,n))})()}it(n,t){const o=new Set;let i=t,u=!0;return de.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(d=>{if(null!==d&&!o.has(d))return se("IndexBackiller",`Processing collection: ${d}`),this.rt(n,d,i).next(g=>{i-=g,o.add(d)});u=!1})).next(()=>t-i)}rt(n,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,t).next(i=>this.localStore.localDocuments.getNextDocuments(n,t,i,o).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(n,d).next(()=>this.ot(i,u)).next(g=>(se("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(n,t,g))).next(()=>d.size)}))}ot(n,t){let o=n;return t.changes.forEach((i,u)=>{const d=z2(u);cD(d,o)>0&&(o=d)}),new ws(o.readTime,o.documentKey,Math.max(t.batchId,n.largestBatchId))}}class Li{constructor(n,t){this.previousValue=n,t&&(t.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>t.writeSequenceNumber(o))}ut(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ct&&this.ct(n),n}}function X2(r){let n=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&n++;return n}function sp(r,n){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&n(t,r[t])}function eZ(r){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n))return!1;return!0}Li.at=-1;class Tr{constructor(n,t){this.comparator=n,this.root=t||No.EMPTY}insert(n,t){return new Tr(this.comparator,this.root.insert(n,t,this.comparator).copy(null,null,No.BLACK,null,null))}remove(n){return new Tr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,No.BLACK,null,null))}get(n){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(n,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(n){let t=0,o=this.root;for(;!o.isEmpty();){const i=this.comparator(n,o.key);if(0===i)return t+o.left.size;i<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((t,o)=>(n(t,o),!1))}toString(){const n=[];return this.inorderTraversal((t,o)=>(n.push(`${t}:${o}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new JT(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new JT(this.root,n,this.comparator,!1)}getReverseIterator(){return new JT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new JT(this.root,n,this.comparator,!0)}}class JT{constructor(n,t,o,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!n.isEmpty();)if(u=t?o(n.key,t):1,t&&i&&(u*=-1),u<0)n=this.isReverse?n.left:n.right;else{if(0===u){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const t={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class No{constructor(n,t,o,i,u){this.key=n,this.value=t,this.color=null!=o?o:No.RED,this.left=null!=i?i:No.EMPTY,this.right=null!=u?u:No.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,t,o,i,u){return new No(null!=n?n:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=i?i:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,t,o){let i=this;const u=o(n,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(n,t,o),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(n,t,o)),i.fixUp()}removeMin(){if(this.left.isEmpty())return No.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,t){let o,i=this;if(t(n,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(n,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(n,i.key)){if(i.right.isEmpty())return No.EMPTY;o=i.right.min(),i=i.copy(o.key,o.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(n,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,No.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,No.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,t)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const n=this.left.check();if(n!==this.right.check())throw Oe();return n+(this.isRed()?0:1)}}No.EMPTY=null,No.RED=!0,No.BLACK=!1,No.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(r,n,t,o,i){return this}insert(r,n,t){return new No(r,n)}remove(r,n){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pn{constructor(n){this.comparator=n,this.data=new Tr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((t,o)=>(n(t),!1))}forEachInRange(n,t){const o=this.data.getIteratorFrom(n[0]);for(;o.hasNext();){const i=o.getNext();if(this.comparator(i.key,n[1])>=0)return;t(i.key)}}forEachWhile(n,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!n(o.getNext().key))return}firstAfterOrEqual(n){const t=this.data.getIteratorFrom(n);return t.hasNext()?t.getNext().key:null}getIterator(){return new tZ(this.data.getIterator())}getIteratorFrom(n){return new tZ(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let t=this;return t.size<n.size&&(t=n,n=this),n.forEach(o=>{t=t.add(o)}),t}isEqual(n){if(!(n instanceof Pn)||this.size!==n.size)return!1;const t=this.data.getIterator(),o=n.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=o.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const n=[];return this.forEach(t=>{n.push(t)}),n}toString(){const n=[];return this.forEach(t=>n.push(t)),"SortedSet("+n.toString()+")"}copy(n){const t=new Pn(this.comparator);return t.data=n,t}}class tZ{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Af(r){return r.hasNext()?r.getNext():void 0}class bs{constructor(n){this.fields=n,n.sort(Cr.comparator)}static empty(){return new bs([])}unionWith(n){let t=new Pn(Cr.comparator);for(const o of this.fields)t=t.add(o);for(const o of n)t=t.add(o);return new bs(t.toArray())}covers(n){for(const t of this.fields)if(t.isPrefixOf(n))return!0;return!1}isEqual(n){return bf(this.fields,n.fields,(t,o)=>t.isEqual(o))}}class eo{constructor(n){this.binaryString=n}static fromBase64String(n){const t=atob(n);return new eo(t)}static fromUint8Array(n){const t=function(o){let i="";for(let u=0;u<o.length;++u)i+=String.fromCharCode(o[u]);return i}(n);return new eo(t)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const t=new Uint8Array(n.length);for(let o=0;o<n.length;o++)t[o]=n.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Wt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}eo.EMPTY_BYTE_STRING=new eo("");const hM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pd(r){if(it(!!r),"string"==typeof r){let n=0;const t=hM.exec(r);if(it(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),n=Number(i)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:n}}return{seconds:wr(r.seconds),nanos:wr(r.nanos)}}function wr(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function ap(r){return"string"==typeof r?eo.fromBase64String(r):eo.fromUint8Array(r)}function pD(r){var n,t;return"server_timestamp"===(null===(t=((null===(n=null==r?void 0:r.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function nZ(r){const n=r.mapValue.fields.__previous_value__;return pD(n)?nZ(n):n}function Qy(r){const n=pd(r.mapValue.fields.__local_write_time__.timestampValue);return new sr(n.seconds,n.nanos)}class pM{constructor(n,t,o,i,u,d,g,y){this.databaseId=n,this.appId=t,this.persistenceKey=o,this.host=i,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.useFetchStreams=y}}class gd{constructor(n,t){this.projectId=n,this.database=t||"(default)"}static empty(){return new gd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof gd&&n.projectId===this.projectId&&n.database===this.database}}function Ky(r){return null==r}function Yy(r){return 0===r&&1/r==-1/0}function rZ(r){return"number"==typeof r&&Number.isInteger(r)&&!Yy(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const fd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},WT={nullValue:"NULL_VALUE"};function up(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pD(r)?4:aZ(r)?9007199254740991:10:Oe()}function qu(r,n){if(r===n)return!0;const t=up(r);if(t!==up(n))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===n.booleanValue;case 4:return Qy(r).isEqual(Qy(n));case 3:return function(o,i){if("string"==typeof o.timestampValue&&"string"==typeof i.timestampValue&&o.timestampValue.length===i.timestampValue.length)return o.timestampValue===i.timestampValue;const u=pd(o.timestampValue),d=pd(i.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(r,n);case 5:return r.stringValue===n.stringValue;case 6:return i=n,ap(r.bytesValue).isEqual(ap(i.bytesValue));case 7:return r.referenceValue===n.referenceValue;case 8:return function(o,i){return wr(o.geoPointValue.latitude)===wr(i.geoPointValue.latitude)&&wr(o.geoPointValue.longitude)===wr(i.geoPointValue.longitude)}(r,n);case 2:return function(o,i){if("integerValue"in o&&"integerValue"in i)return wr(o.integerValue)===wr(i.integerValue);if("doubleValue"in o&&"doubleValue"in i){const u=wr(o.doubleValue),d=wr(i.doubleValue);return u===d?Yy(u)===Yy(d):isNaN(u)&&isNaN(d)}return!1}(r,n);case 9:return bf(r.arrayValue.values||[],n.arrayValue.values||[],qu);case 10:return function(o,i){const u=o.mapValue.fields||{},d=i.mapValue.fields||{};if(X2(u)!==X2(d))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===d[g]||!qu(u[g],d[g])))return!1;return!0}(r,n);default:return Oe()}var i}function Xy(r,n){return void 0!==(r.values||[]).find(t=>qu(t,n))}function _d(r,n){if(r===n)return 0;const t=up(r),o=up(n);if(t!==o)return Wt(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Wt(r.booleanValue,n.booleanValue);case 2:return function(i,u){const d=wr(i.integerValue||i.doubleValue),g=wr(u.integerValue||u.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(r,n);case 3:return oZ(r.timestampValue,n.timestampValue);case 4:return oZ(Qy(r),Qy(n));case 5:return Wt(r.stringValue,n.stringValue);case 6:return function(i,u){const d=ap(i),g=ap(u);return d.compareTo(g)}(r.bytesValue,n.bytesValue);case 7:return function(i,u){const d=i.split("/"),g=u.split("/");for(let y=0;y<d.length&&y<g.length;y++){const w=Wt(d[y],g[y]);if(0!==w)return w}return Wt(d.length,g.length)}(r.referenceValue,n.referenceValue);case 8:return function(i,u){const d=Wt(wr(i.latitude),wr(u.latitude));return 0!==d?d:Wt(wr(i.longitude),wr(u.longitude))}(r.geoPointValue,n.geoPointValue);case 9:return function(i,u){const d=i.values||[],g=u.values||[];for(let y=0;y<d.length&&y<g.length;++y){const w=_d(d[y],g[y]);if(w)return w}return Wt(d.length,g.length)}(r.arrayValue,n.arrayValue);case 10:return function(i,u){if(i===fd.mapValue&&u===fd.mapValue)return 0;if(i===fd.mapValue)return 1;if(u===fd.mapValue)return-1;const d=i.fields||{},g=Object.keys(d),y=u.fields||{},w=Object.keys(y);g.sort(),w.sort();for(let D=0;D<g.length&&D<w.length;++D){const x=Wt(g[D],w[D]);if(0!==x)return x;const q=_d(d[g[D]],y[w[D]]);if(0!==q)return q}return Wt(g.length,w.length)}(r.mapValue,n.mapValue);default:throw Oe()}}function oZ(r,n){if("string"==typeof r&&"string"==typeof n&&r.length===n.length)return Wt(r,n);const t=pd(r),o=pd(n),i=Wt(t.seconds,o.seconds);return 0!==i?i:Wt(t.nanos,o.nanos)}function If(r){return gD(r)}function gD(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const i=pd(o);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?ap(r.bytesValue).toBase64():"referenceValue"in r?Ke.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(n=r.geoPointValue).latitude},${n.longitude})`:"arrayValue"in r?function(o){let i="[",u=!0;for(const d of o.values||[])u?u=!1:i+=",",i+=gD(d);return i+"]"}(r.arrayValue):"mapValue"in r?function(o){const i=Object.keys(o.fields||{}).sort();let u="{",d=!0;for(const g of i)d?d=!1:u+=",",u+=`${g}:${gD(o.fields[g])}`;return u+"}"}(r.mapValue):Oe();var n}function lp(r,n){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${n.path.canonicalString()}`}}function fD(r){return!!r&&"integerValue"in r}function ev(r){return!!r&&"arrayValue"in r}function iZ(r){return!!r&&"nullValue"in r}function sZ(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zT(r){return!!r&&"mapValue"in r}function tv(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const n={mapValue:{fields:{}}};return sp(r.mapValue.fields,(t,o)=>n.mapValue.fields[t]=tv(o)),n}if(r.arrayValue){const n={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)n.arrayValue.values[t]=tv(r.arrayValue.values[t]);return n}return Object.assign({},r)}function aZ(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function gM(r){return"nullValue"in r?WT:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?lp(gd.empty(),Ke.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Oe()}function fM(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?lp(gd.empty(),Ke.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?fd:Oe()}function uZ(r,n){const t=_d(r.value,n.value);return 0!==t?t:r.inclusive&&!n.inclusive?-1:!r.inclusive&&n.inclusive?1:0}function lZ(r,n){const t=_d(r.value,n.value);return 0!==t?t:r.inclusive&&!n.inclusive?1:!r.inclusive&&n.inclusive?-1:0}class Uo{constructor(n){this.value=n}static empty(){return new Uo({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let t=this.value;for(let o=0;o<n.length-1;++o)if(t=(t.mapValue.fields||{})[n.get(o)],!zT(t))return null;return t=(t.mapValue.fields||{})[n.lastSegment()],t||null}}set(n,t){this.getFieldsMap(n.popLast())[n.lastSegment()]=tv(t)}setAll(n){let t=Cr.emptyPath(),o={},i=[];n.forEach((d,g)=>{if(!t.isImmediateParentOf(g)){const y=this.getFieldsMap(t);this.applyChanges(y,o,i),o={},i=[],t=g.popLast()}d?o[g.lastSegment()]=tv(d):i.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,o,i)}delete(n){const t=this.field(n.popLast());zT(t)&&t.mapValue.fields&&delete t.mapValue.fields[n.lastSegment()]}isEqual(n){return qu(this.value,n.value)}getFieldsMap(n){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<n.length;++o){let i=t.mapValue.fields[n.get(o)];zT(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[n.get(o)]=i),t=i}return t.mapValue.fields}applyChanges(n,t,o){sp(t,(i,u)=>n[i]=u);for(const i of o)delete n[i]}clone(){return new Uo(tv(this.value))}}function cZ(r){const n=[];return sp(r.fields,(t,o)=>{const i=new Cr([t]);if(zT(o)){const u=cZ(o.mapValue).fields;if(0===u.length)n.push(i);else for(const d of u)n.push(i.child(d))}else n.push(i)}),new bs(n)}class Gn{constructor(n,t,o,i,u,d){this.key=n,this.documentType=t,this.version=o,this.readTime=i,this.data=u,this.documentState=d}static newInvalidDocument(n){return new Gn(n,0,Pt.min(),Pt.min(),Uo.empty(),0)}static newFoundDocument(n,t,o){return new Gn(n,1,t,Pt.min(),o,0)}static newNoDocument(n,t){return new Gn(n,2,t,Pt.min(),Uo.empty(),0)}static newUnknownDocument(n,t){return new Gn(n,3,t,Pt.min(),Uo.empty(),2)}convertToFoundDocument(n,t){return this.version=n,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Uo.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Uo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Gn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _M{constructor(n,t=null,o=[],i=[],u=null,d=null,g=null){this.path=n,this.collectionGroup=t,this.orderBy=o,this.filters=i,this.limit=u,this.startAt=d,this.endAt=g,this.ht=null}}function dZ(r,n=null,t=[],o=[],i=null,u=null,d=null){return new _M(r,n,t,o,i,u,d)}function cp(r){const n=We(r);if(null===n.ht){let t=n.path.canonicalString();null!==n.collectionGroup&&(t+="|cg:"+n.collectionGroup),t+="|f:",t+=n.filters.map(o=>{return(i=o).field.canonicalString()+i.op.toString()+If(i.value);var i}).join(","),t+="|ob:",t+=n.orderBy.map(o=>{return(i=o).field.canonicalString()+i.dir;var i}).join(","),Ky(n.limit)||(t+="|l:",t+=n.limit),n.startAt&&(t+="|lb:",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(o=>If(o)).join(",")),n.endAt&&(t+="|ub:",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(o=>If(o)).join(",")),n.ht=t}return n.ht}function nv(r,n){if(r.limit!==n.limit||r.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!IM(r.orderBy[i],n.orderBy[i]))return!1;if(r.filters.length!==n.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if((t=r.filters[i]).op!==(o=n.filters[i]).op||!t.field.isEqual(o.field)||!qu(t.value,o.value))return!1;var t,o;return r.collectionGroup===n.collectionGroup&&!!r.path.isEqual(n.path)&&!!_Z(r.startAt,n.startAt)&&_Z(r.endAt,n.endAt)}function QT(r){return Ke.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function KT(r,n){return r.filters.filter(t=>t instanceof Mo&&t.field.isEqual(n))}function hZ(r,n,t){let o=WT,i=!0;for(const u of KT(r,n)){let d=WT,g=!0;switch(u.op){case"<":case"<=":d=gM(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,g=!1;break;case"!=":case"not-in":d=WT}uZ({value:o,inclusive:i},{value:d,inclusive:g})<0&&(o=d,i=g)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(n)){const d=t.position[u];uZ({value:o,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(o=d,i=t.inclusive);break}return{value:o,inclusive:i}}function pZ(r,n,t){let o=fd,i=!0;for(const u of KT(r,n)){let d=fd,g=!0;switch(u.op){case">=":case">":d=fM(u.value),g=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,g=!1;break;case"!=":case"not-in":d=fd}lZ({value:o,inclusive:i},{value:d,inclusive:g})>0&&(o=d,i=g)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(n)){const d=t.position[u];lZ({value:o,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(o=d,i=t.inclusive);break}return{value:o,inclusive:i}}class Mo extends class{}{constructor(n,t,o){super(),this.field=n,this.op=t,this.value=o}static create(n,t,o){return n.isKeyField()?"in"===t||"not-in"===t?this.lt(n,t,o):new yM(n,t,o):"array-contains"===t?new TM(n,o):"in"===t?new wM(n,o):"not-in"===t?new bM(n,o):"array-contains-any"===t?new AM(n,o):new Mo(n,t,o)}static lt(n,t,o){return"in"===t?new vM(n,o):new CM(n,o)}matches(n){const t=n.data.field(this.field);return"!="===this.op?null!==t&&this.ft(_d(t,this.value)):null!==t&&up(this.value)===up(t)&&this.ft(_d(t,this.value))}ft(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Oe()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class yM extends Mo{constructor(n,t,o){super(n,t,o),this.key=Ke.fromName(o.referenceValue)}matches(n){const t=Ke.comparator(n.key,this.key);return this.ft(t)}}class vM extends Mo{constructor(n,t){super(n,"in",t),this.keys=gZ(0,t)}matches(n){return this.keys.some(t=>t.isEqual(n.key))}}class CM extends Mo{constructor(n,t){super(n,"not-in",t),this.keys=gZ(0,t)}matches(n){return!this.keys.some(t=>t.isEqual(n.key))}}function gZ(r,n){var t;return((null===(t=n.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Ke.fromName(o.referenceValue))}class TM extends Mo{constructor(n,t){super(n,"array-contains",t)}matches(n){const t=n.data.field(this.field);return ev(t)&&Xy(t.arrayValue,this.value)}}class wM extends Mo{constructor(n,t){super(n,"in",t)}matches(n){const t=n.data.field(this.field);return null!==t&&Xy(this.value.arrayValue,t)}}class bM extends Mo{constructor(n,t){super(n,"not-in",t)}matches(n){if(Xy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=n.data.field(this.field);return null!==t&&!Xy(this.value.arrayValue,t)}}class AM extends Mo{constructor(n,t){super(n,"array-contains-any",t)}matches(n){const t=n.data.field(this.field);return!(!ev(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Xy(this.value.arrayValue,o))}}class md{constructor(n,t){this.position=n,this.inclusive=t}}class Ef{constructor(n,t="asc"){this.field=n,this.dir=t}}function IM(r,n){return r.dir===n.dir&&r.field.isEqual(n.field)}function fZ(r,n,t){let o=0;for(let i=0;i<r.position.length;i++){const u=n[i],d=r.position[i];if(o=u.field.isKeyField()?Ke.comparator(Ke.fromName(d.referenceValue),t.key):_d(d,t.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return o}function _Z(r,n){if(null===r)return null===n;if(null===n||r.inclusive!==n.inclusive||r.position.length!==n.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!qu(r.position[t],n.position[t]))return!1;return!0}class Ql{constructor(n,t=null,o=[],i=[],u=null,d="F",g=null,y=null){this.path=n,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=i,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this._t=null,this.wt=null}}function mZ(r,n,t,o,i,u,d,g){return new Ql(r,n,t,o,i,u,d,g)}function Df(r){return new Ql(r)}function yZ(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function _D(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function mD(r){for(const n of r.filters)if(n.dt())return n.field;return null}function yD(r){return null!==r.collectionGroup}function Sf(r){const n=We(r);if(null===n._t){n._t=[];const t=mD(n),o=_D(n);if(null!==t&&null===o)t.isKeyField()||n._t.push(new Ef(t)),n._t.push(new Ef(Cr.keyField(),"asc"));else{let i=!1;for(const u of n.explicitOrderBy)n._t.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n._t.push(new Ef(Cr.keyField(),u))}}}return n._t}function pi(r){const n=We(r);if(!n.wt)if("F"===n.limitType)n.wt=dZ(n.path,n.collectionGroup,Sf(n),n.filters,n.limit,n.startAt,n.endAt);else{const t=[];for(const u of Sf(n))t.push(new Ef(u.field,"desc"===u.dir?"asc":"desc"));const o=n.endAt?new md(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new md(n.startAt.position,n.startAt.inclusive):null;n.wt=dZ(n.path,n.collectionGroup,t,n.filters,n.limit,o,i)}return n.wt}function YT(r,n,t){return new Ql(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),n,t,r.startAt,r.endAt)}function rv(r,n){return nv(pi(r),pi(n))&&r.limitType===n.limitType}function vZ(r){return`${cp(pi(r))}|lt:${r.limitType}`}function vD(r){return`Query(target=${function mM(r){let n=r.path.canonicalString();return null!==r.collectionGroup&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${If(o.value)}`;var o}).join(", ")}]`),Ky(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(t=>If(t)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(t=>If(t)).join(",")),`Target(${n})`}(pi(r))}; limitType=${r.limitType})`}function CD(r,n){return n.isFoundDocument()&&function(t,o){const i=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ke.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(r,n)&&function(t,o){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===o.data.field(i.field))return!1;return!0}(r,n)&&function(t,o){for(const i of t.filters)if(!i.matches(o))return!1;return!0}(r,n)&&(o=n,!((t=r).startAt&&!function(i,u,d){const g=fZ(i,u,d);return i.inclusive?g<=0:g<0}(t.startAt,Sf(t),o)||t.endAt&&!function(i,u,d){const g=fZ(i,u,d);return i.inclusive?g>=0:g>0}(t.endAt,Sf(t),o)));var t,o}function CZ(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function TZ(r){return(n,t)=>{let o=!1;for(const i of Sf(r)){const u=EM(i,n,t);if(0!==u)return u;o=o||i.field.isKeyField()}return 0}}function EM(r,n,t){const o=r.field.isKeyField()?Ke.comparator(n.key,t.key):function(i,u,d){const g=u.data.field(i),y=d.data.field(i);return null!==g&&null!==y?_d(g,y):Oe()}(r.field,n,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return Oe()}}function wZ(r,n){if(r.gt){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yy(n)?"-0":n}}function bZ(r){return{integerValue:""+r}}function AZ(r,n){return rZ(n)?bZ(n):wZ(r,n)}class XT{constructor(){this._=void 0}}function DM(r,n,t){return r instanceof xf?function(o,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,n):r instanceof dp?EZ(r,n):r instanceof hp?DZ(r,n):function(o,i){const u=IZ(o,i),d=SZ(u)+SZ(o.yt);return fD(u)&&fD(o.yt)?bZ(d):wZ(o.It,d)}(r,n)}function SM(r,n,t){return r instanceof dp?EZ(r,n):r instanceof hp?DZ(r,n):t}function IZ(r,n){return r instanceof Zf?fD(t=n)||(o=t)&&"doubleValue"in o?n:{integerValue:0}:null;var o,t}class xf extends XT{}class dp extends XT{constructor(n){super(),this.elements=n}}function EZ(r,n){const t=xZ(n);for(const o of r.elements)t.some(i=>qu(i,o))||t.push(o);return{arrayValue:{values:t}}}class hp extends XT{constructor(n){super(),this.elements=n}}function DZ(r,n){let t=xZ(n);for(const o of r.elements)t=t.filter(i=>!qu(i,o));return{arrayValue:{values:t}}}class Zf extends XT{constructor(n,t){super(),this.It=n,this.yt=t}}function SZ(r){return wr(r.integerValue||r.doubleValue)}function xZ(r){return ev(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class ov{constructor(n,t){this.field=n,this.transform=t}}class ZM{constructor(n,t){this.version=n,this.transformResults=t}}class ar{constructor(n,t){this.updateTime=n,this.exists=t}static none(){return new ar}static exists(n){return new ar(void 0,n)}static updateTime(n){return new ar(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function ew(r,n){return void 0!==r.updateTime?n.isFoundDocument()&&n.version.isEqual(r.updateTime):void 0===r.exists||r.exists===n.isFoundDocument()}class tw{}function ZZ(r,n){if(!r.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return r.isNoDocument()?new Nf(r.key,ar.none()):new kf(r.key,r.data,ar.none());{const t=r.data,o=Uo.empty();let i=new Pn(Cr.comparator);for(let u of n.fields)if(!i.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?o.delete(u):o.set(u,d),i=i.add(u)}return new Kl(r.key,o,new bs(i.toArray()),ar.none())}}function kM(r,n,t){r instanceof kf?function(o,i,u){const d=o.value.clone(),g=UZ(o.fieldTransforms,i,u.transformResults);d.setAll(g),i.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(r,n,t):r instanceof Kl?function(o,i,u){if(!ew(o.precondition,i))return void i.convertToUnknownDocument(u.version);const d=UZ(o.fieldTransforms,i,u.transformResults),g=i.data;g.setAll(NZ(o)),g.setAll(d),i.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(r,n,t):n.convertToNoDocument(t.version).setHasCommittedMutations()}function iv(r,n,t,o){return r instanceof kf?function(i,u,d,g){if(!ew(i.precondition,u))return d;const y=i.value.clone(),w=MZ(i.fieldTransforms,g,u);return y.setAll(w),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(r,n,t,o):r instanceof Kl?function(i,u,d,g){if(!ew(i.precondition,u))return d;const y=MZ(i.fieldTransforms,g,u),w=u.data;return w.setAll(NZ(i)),w.setAll(y),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(r,n,t,o):(d=t,ew(r.precondition,u=n)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function NM(r,n){let t=null;for(const o of r.fieldTransforms){const i=n.data.field(o.field),u=IZ(o.transform,i||null);null!=u&&(null===t&&(t=Uo.empty()),t.set(o.field,u))}return t||null}function kZ(r,n){return r.type===n.type&&!!r.key.isEqual(n.key)&&!!r.precondition.isEqual(n.precondition)&&(o=n.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&bf(t,o,(i,u)=>function xM(r,n){return r.field.isEqual(n.field)&&(o=n.transform,(t=r.transform)instanceof dp&&o instanceof dp||t instanceof hp&&o instanceof hp?bf(t.elements,o.elements,qu):t instanceof Zf&&o instanceof Zf?qu(t.yt,o.yt):t instanceof xf&&o instanceof xf);var t,o}(i,u))))&&(0===r.type?r.value.isEqual(n.value):1!==r.type||r.data.isEqual(n.data)&&r.fieldMask.isEqual(n.fieldMask));var t,o}class kf extends tw{constructor(n,t,o,i=[]){super(),this.key=n,this.value=t,this.precondition=o,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Kl extends tw{constructor(n,t,o,i,u=[]){super(),this.key=n,this.data=t,this.fieldMask=o,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function NZ(r){const n=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);n.set(t,o)}}),n}function UZ(r,n,t){const o=new Map;it(r.length===t.length);for(let i=0;i<t.length;i++){const u=r[i],d=u.transform,g=n.data.field(u.field);o.set(u.field,SM(d,g,t[i]))}return o}function MZ(r,n,t){const o=new Map;for(const i of r){const u=i.transform,d=t.data.field(i.field);o.set(i.field,DM(u,d,n))}return o}class Nf extends tw{constructor(n,t){super(),this.key=n,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TD extends tw{constructor(n,t){super(),this.key=n,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UM{constructor(n){this.count=n}}var qr,vn;function PZ(r){switch(r){default:return Oe();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function RZ(r){if(void 0===r)return ut("GRPC error has no .code"),ge.UNKNOWN;switch(r){case qr.OK:return ge.OK;case qr.CANCELLED:return ge.CANCELLED;case qr.UNKNOWN:return ge.UNKNOWN;case qr.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case qr.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case qr.INTERNAL:return ge.INTERNAL;case qr.UNAVAILABLE:return ge.UNAVAILABLE;case qr.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case qr.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case qr.NOT_FOUND:return ge.NOT_FOUND;case qr.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case qr.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case qr.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case qr.ABORTED:return ge.ABORTED;case qr.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case qr.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case qr.DATA_LOSS:return ge.DATA_LOSS;default:return Oe()}}(vn=qr||(qr={}))[vn.OK=0]="OK",vn[vn.CANCELLED=1]="CANCELLED",vn[vn.UNKNOWN=2]="UNKNOWN",vn[vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vn[vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vn[vn.NOT_FOUND=5]="NOT_FOUND",vn[vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",vn[vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",vn[vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",vn[vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vn[vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vn[vn.ABORTED=10]="ABORTED",vn[vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",vn[vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",vn[vn.INTERNAL=13]="INTERNAL",vn[vn.UNAVAILABLE=14]="UNAVAILABLE",vn[vn.DATA_LOSS=15]="DATA_LOSS";class yd{constructor(n,t){this.mapKeyFn=n,this.equalsFn=t,this.inner={},this.innerSize=0}get(n){const t=this.mapKeyFn(n),o=this.inner[t];if(void 0!==o)for(const[i,u]of o)if(this.equalsFn(i,n))return u}has(n){return void 0!==this.get(n)}set(n,t){const o=this.mapKeyFn(n),i=this.inner[o];if(void 0===i)return this.inner[o]=[[n,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],n))return void(i[u]=[n,t]);i.push([n,t]),this.innerSize++}delete(n){const t=this.mapKeyFn(n),o=this.inner[t];if(void 0===o)return!1;for(let i=0;i<o.length;i++)if(this.equalsFn(o[i][0],n))return 1===o.length?delete this.inner[t]:o.splice(i,1),this.innerSize--,!0;return!1}forEach(n){sp(this.inner,(t,o)=>{for(const[i,u]of o)n(i,u)})}isEmpty(){return eZ(this.inner)}size(){return this.innerSize}}const MM=new Tr(Ke.comparator);function Fi(){return MM}const OZ=new Tr(Ke.comparator);function sv(...r){let n=OZ;for(const t of r)n=n.insert(t.key,t);return n}function LZ(r){let n=OZ;return r.forEach((t,o)=>n=n.insert(t,o.overlayedDocument)),n}function Vu(){return av()}function FZ(){return av()}function av(){return new yd(r=>r.toString(),(r,n)=>r.isEqual(n))}const PM=new Tr(Ke.comparator),RM=new Pn(Ke.comparator);function Yt(...r){let n=RM;for(const t of r)n=n.add(t);return n}const OM=new Pn(Wt);function nw(){return OM}class uv{constructor(n,t,o,i,u){this.snapshotVersion=n,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(n,t,o){const i=new Map;return i.set(n,lv.createSynthesizedTargetChangeForCurrentChange(n,t,o)),new uv(Pt.min(),i,nw(),Fi(),Yt())}}class lv{constructor(n,t,o,i,u){this.resumeToken=n,this.current=t,this.addedDocuments=o,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(n,t,o){return new lv(o,t,Yt(),Yt(),Yt())}}class rw{constructor(n,t,o,i){this.Tt=n,this.removedTargetIds=t,this.key=o,this.Et=i}}class qZ{constructor(n,t){this.targetId=n,this.At=t}}class VZ{constructor(n,t,o=eo.EMPTY_BYTE_STRING,i=null){this.state=n,this.targetIds=t,this.resumeToken=o,this.cause=i}}class BZ{constructor(){this.Rt=0,this.bt=$Z(),this.Pt=eo.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(n){n.approximateByteSize()>0&&(this.Vt=!0,this.Pt=n)}xt(){let n=Yt(),t=Yt(),o=Yt();return this.bt.forEach((i,u)=>{switch(u){case 0:n=n.add(i);break;case 2:t=t.add(i);break;case 1:o=o.add(i);break;default:Oe()}}),new lv(this.Pt,this.vt,n,t,o)}Nt(){this.Vt=!1,this.bt=$Z()}kt(n,t){this.Vt=!0,this.bt=this.bt.insert(n,t)}Ot(n){this.Vt=!0,this.bt=this.bt.remove(n)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class LM{constructor(n){this.Bt=n,this.Lt=new Map,this.Ut=Fi(),this.qt=jZ(),this.Kt=new Pn(Wt)}Gt(n){for(const t of n.Tt)n.Et&&n.Et.isFoundDocument()?this.Qt(t,n.Et):this.jt(t,n.key,n.Et);for(const t of n.removedTargetIds)this.jt(t,n.key,n.Et)}Wt(n){this.forEachTarget(n,t=>{const o=this.zt(t);switch(n.state){case 0:this.Ht(t)&&o.Ct(n.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(n.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(o.$t(),o.Ct(n.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),o.Ct(n.resumeToken));break;default:Oe()}})}forEachTarget(n,t){n.targetIds.length>0?n.targetIds.forEach(t):this.Lt.forEach((o,i)=>{this.Ht(i)&&t(i)})}Yt(n){const t=n.targetId,o=n.At.count,i=this.Xt(t);if(i){const u=i.target;if(QT(u))if(0===o){const d=new Ke(u.path);this.jt(t,d,Gn.newNoDocument(d,Pt.min()))}else it(1===o);else this.Zt(t)!==o&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(n){const t=new Map;this.Lt.forEach((u,d)=>{const g=this.Xt(d);if(g){if(u.current&&QT(g.target)){const y=new Ke(g.target.path);null!==this.Ut.get(y)||this.ee(d,y)||this.jt(d,y,Gn.newNoDocument(y,n))}u.Dt&&(t.set(d,u.xt()),u.Nt())}});let o=Yt();this.qt.forEach((u,d)=>{let g=!0;d.forEachWhile(y=>{const w=this.Xt(y);return!w||2===w.purpose||(g=!1,!1)}),g&&(o=o.add(u))}),this.Ut.forEach((u,d)=>d.setReadTime(n));const i=new uv(n,t,this.Kt,this.Ut,o);return this.Ut=Fi(),this.qt=jZ(),this.Kt=new Pn(Wt),i}Qt(n,t){if(!this.Ht(n))return;const o=this.ee(n,t.key)?2:0;this.zt(n).kt(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(n))}jt(n,t,o){if(!this.Ht(n))return;const i=this.zt(n);this.ee(n,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(n)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(n){this.Lt.delete(n)}Zt(n){const t=this.zt(n).xt();return this.Bt.getRemoteKeysForTarget(n).size+t.addedDocuments.size-t.removedDocuments.size}Mt(n){this.zt(n).Mt()}zt(n){let t=this.Lt.get(n);return t||(t=new BZ,this.Lt.set(n,t)),t}ne(n){let t=this.qt.get(n);return t||(t=new Pn(Wt),this.qt=this.qt.insert(n,t)),t}Ht(n){const t=null!==this.Xt(n);return t||se("WatchChangeAggregator","Detected inactive target",n),t}Xt(n){const t=this.Lt.get(n);return t&&t.St?null:this.Bt.se(n)}Jt(n){this.Lt.set(n,new BZ),this.Bt.getRemoteKeysForTarget(n).forEach(t=>{this.jt(n,t,null)})}ee(n,t){return this.Bt.getRemoteKeysForTarget(n).has(t)}}function jZ(){return new Tr(Ke.comparator)}function $Z(){return new Tr(Ke.comparator)}const FM={asc:"ASCENDING",desc:"DESCENDING"},qM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class VM{constructor(n,t){this.databaseId=n,this.gt=t}}function cv(r,n){return r.gt?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function GZ(r,n){return r.gt?n.toBase64():n.toUint8Array()}function BM(r,n){return cv(r,n.toTimestamp())}function go(r){return it(!!r),Pt.fromTimestamp(function(n){const t=pd(n);return new sr(t.seconds,t.nanos)}(r))}function wD(r,n){return(t=r,new yn(["projects",t.projectId,"databases",t.database])).child("documents").child(n).canonicalString();var t}function HZ(r){const n=yn.fromString(r);return it(ek(n)),n}function dv(r,n){return wD(r.databaseId,n.path)}function Bu(r,n){const t=HZ(n);if(t.get(1)!==r.databaseId.projectId)throw new Me(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Me(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ke(WZ(t))}function bD(r,n){return wD(r.databaseId,n)}function JZ(r){const n=HZ(r);return 4===n.length?yn.emptyPath():WZ(n)}function hv(r){return new yn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function WZ(r){return it(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function zZ(r,n,t){return{name:dv(r,n),fields:t.value.mapValue.fields}}function QZ(r,n,t){const o=Bu(r,n.name),i=go(n.updateTime),u=new Uo({mapValue:{fields:n.fields}}),d=Gn.newFoundDocument(o,i,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function pv(r,n){let t;if(n instanceof kf)t={update:zZ(r,n.key,n.value)};else if(n instanceof Nf)t={delete:dv(r,n.key)};else if(n instanceof Kl)t={update:zZ(r,n.key,n.data),updateMask:KM(n.fieldMask)};else{if(!(n instanceof TD))return Oe();t={verify:dv(r,n.key)}}return n.fieldTransforms.length>0&&(t.updateTransforms=n.fieldTransforms.map(o=>function(i,u){const d=u.transform;if(d instanceof xf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof dp)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof hp)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Zf)return{fieldPath:u.field.canonicalString(),increment:d.yt};throw Oe()}(0,o))),n.precondition.isNone||(t.currentDocument=void 0!==(i=n.precondition).updateTime?{updateTime:BM(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Oe()),t;var i}function AD(r,n){const t=n.currentDocument?void 0!==(i=n.currentDocument).updateTime?ar.updateTime(go(i.updateTime)):void 0!==i.exists?ar.exists(i.exists):ar.none():ar.none(),o=n.updateTransforms?n.updateTransforms.map(i=>function(u,d){let g=null;"setToServerValue"in d?(it("REQUEST_TIME"===d.setToServerValue),g=new xf):"appendMissingElements"in d?g=new dp(d.appendMissingElements.values||[]):"removeAllFromArray"in d?g=new hp(d.removeAllFromArray.values||[]):"increment"in d?g=new Zf(u,d.increment):Oe();const y=Cr.fromServerFormat(d.fieldPath);return new ov(y,g)}(r,i)):[];var i;if(n.update){const i=Bu(r,n.update.name),u=new Uo({mapValue:{fields:n.update.fields}});if(n.updateMask){const d=new bs((n.updateMask.fieldPaths||[]).map(w=>Cr.fromServerFormat(w)));return new Kl(i,u,d,t,o)}return new kf(i,u,t,o)}if(n.delete){const i=Bu(r,n.delete);return new Nf(i,t)}if(n.verify){const i=Bu(r,n.verify);return new TD(i,t)}return Oe()}function KZ(r,n){return{documents:[bD(r,n.path)]}}function ID(r,n){const t={structuredQuery:{}},o=n.path;null!==n.collectionGroup?(t.parent=bD(r,o),t.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(t.parent=bD(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const i=function(y){if(0===y.length)return;const w=y.map(D=>function(x){if("=="===x.op){if(sZ(x.value))return{unaryFilter:{field:Uf(x.field),op:"IS_NAN"}};if(iZ(x.value))return{unaryFilter:{field:Uf(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(sZ(x.value))return{unaryFilter:{field:Uf(x.field),op:"IS_NOT_NAN"}};if(iZ(x.value))return{unaryFilter:{field:Uf(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uf(x.field),op:WM(x.op),value:x.value}}}(D));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(n.filters);i&&(t.structuredQuery.where=i);const u=function(y){if(0!==y.length)return y.map(w=>{return{field:Uf((D=w).field),direction:JM(D.dir)};var D})}(n.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(w=n.limit,r.gt||Ky(w)?w:{value:w});var w,g,y;return null!==d&&(t.structuredQuery.limit=d),n.startAt&&(t.structuredQuery.startAt={before:(g=n.startAt).inclusive,values:g.position}),n.endAt&&(t.structuredQuery.endAt={before:!(y=n.endAt).inclusive,values:y.position}),t}function YZ(r){let n=JZ(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let i=null;if(o>0){it(1===o);const D=t.from[0];D.allDescendants?i=D.collectionId:n=n.child(D.collectionId)}let u=[];t.where&&(u=XZ(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(D=>{return new Ef(Mf((x=D).field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let g=null;t.limit&&(g=function(D){let x;return x="object"==typeof D?D.value:D,Ky(x)?null:x}(t.limit));let y=null;var D;t.startAt&&(y=new md((D=t.startAt).values||[],!!D.before));let w=null;return t.endAt&&(w=function(D){return new md(D.values||[],!D.before)}(t.endAt)),mZ(n,i,d,u,g,"F",y,w)}function XZ(r){return r?void 0!==r.unaryFilter?[QM(r)]:void 0!==r.fieldFilter?[zM(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(n=>XZ(n)).reduce((n,t)=>n.concat(t)):Oe():[]}function JM(r){return FM[r]}function WM(r){return qM[r]}function Uf(r){return{fieldPath:r.canonicalString()}}function Mf(r){return Cr.fromServerFormat(r.fieldPath)}function zM(r){return Mo.create(Mf(r.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(r.fieldFilter.op),r.fieldFilter.value)}function QM(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Mf(r.unaryFilter.field);return Mo.create(n,"==",{doubleValue:NaN});case"IS_NULL":const t=Mf(r.unaryFilter.field);return Mo.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Mf(r.unaryFilter.field);return Mo.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Mf(r.unaryFilter.field);return Mo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}function KM(r){const n=[];return r.fields.forEach(t=>n.push(t.canonicalString())),{fieldPaths:n}}function ek(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function gi(r){let n="";for(let t=0;t<r.length;t++)n.length>0&&(n=tk(n)),n=YM(r.get(t),n);return tk(n)}function YM(r,n){let t=n;const o=r.length;for(let i=0;i<o;i++){const u=r.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function tk(r){return r+"\x01\x01"}function ju(r){const n=r.length;if(it(n>=2),2===n)return it("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),yn.emptyPath();const t=n-2,o=[];let i="";for(let u=0;u<n;){const d=r.indexOf("\x01",u);switch((d<0||d>t)&&Oe(),r.charAt(d+1)){case"\x01":const g=r.substring(u,d);let y;0===i.length?y=g:(i+=g,y=i,i=""),o.push(y);break;case"\x10":i+=r.substring(u,d),i+="\0";break;case"\x11":i+=r.substring(u,d+1);break;default:Oe()}u=d+2}return new yn(o)}const nk=["userId","batchId"];function ow(r,n){return[r,gi(n)]}function rk(r,n,t){return[r,gi(n),t]}const XM={},eP=["prefixPath","collectionGroup","readTime","documentId"],tP=["prefixPath","collectionGroup","documentId"],nP=["collectionGroup","readTime","prefixPath","documentId"],rP=["canonicalId","targetId"],oP=["targetId","path"],iP=["path","targetId"],sP=["collectionId","parent"],aP=["indexId","uid"],uP=["uid","sequenceNumber"],lP=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cP=["indexId","uid","orderedDocumentKey"],dP=["userId","collectionPath","documentId"],hP=["userId","collectionPath","largestBatchId"],pP=["userId","collectionGroup","largestBatchId"],ok=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],gP=[...ok,"documentOverlays"],ik=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sk=ik,fP=[...sk,"indexConfiguration","indexState","indexEntries"];class ED extends K2{constructor(n,t){super(),this.ie=n,this.currentSequenceNumber=t}}function fo(r,n){const t=We(r);return Wa.M(t.ie,n)}class DD{constructor(n,t,o,i){this.batchId=n,this.localWriteTime=t,this.baseMutations=o,this.mutations=i}applyToRemoteDocument(n,t){const o=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(n.key)&&kM(u,n,o[i])}}applyToLocalView(n,t){for(const o of this.baseMutations)o.key.isEqual(n.key)&&(t=iv(o,n,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(n.key)&&(t=iv(o,n,t,this.localWriteTime));return t}applyToLocalDocumentSet(n,t){const o=FZ();return this.mutations.forEach(i=>{const u=n.get(i.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=t.has(i.key)?null:g;const y=ZZ(d,g);null!==y&&o.set(i.key,y),d.isValidDocument()||d.convertToNoDocument(Pt.min())}),o}keys(){return this.mutations.reduce((n,t)=>n.add(t.key),Yt())}isEqual(n){return this.batchId===n.batchId&&bf(this.mutations,n.mutations,(t,o)=>kZ(t,o))&&bf(this.baseMutations,n.baseMutations,(t,o)=>kZ(t,o))}}class SD{constructor(n,t,o,i){this.batch=n,this.commitVersion=t,this.mutationResults=o,this.docVersions=i}static from(n,t,o){it(n.mutations.length===o.length);let i=PM;const u=n.mutations;for(let d=0;d<u.length;d++)i=i.insert(u[d].key,o[d].version);return new SD(n,t,o,i)}}class xD{constructor(n,t){this.largestBatchId=n,this.mutation=t}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vd{constructor(n,t,o,i,u=Pt.min(),d=Pt.min(),g=eo.EMPTY_BYTE_STRING){this.target=n,this.targetId=t,this.purpose=o,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g}withSequenceNumber(n){return new vd(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,t){return new vd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new vd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class ak{constructor(n){this.re=n}}function uk(r,n){const t=n.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:iw(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())o.document={name:dv(i=r.re,(u=n).key),fields:u.data.value.mapValue.fields,updateTime:cv(i,u.version.toTimestamp())};else if(n.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:pp(n.version)};else{if(!n.isUnknownDocument())return Oe();o.unknownDocument={path:t.path.toArray(),version:pp(n.version)}}var i,u;return o}function iw(r){const n=r.toTimestamp();return[n.seconds,n.nanoseconds]}function pp(r){const n=r.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function gp(r){const n=new sr(r.seconds,r.nanoseconds);return Pt.fromTimestamp(n)}function fp(r,n){const t=(n.baseMutations||[]).map(u=>AD(r.re,u));for(let u=0;u<n.mutations.length-1;++u){const d=n.mutations[u];u+1<n.mutations.length&&void 0!==n.mutations[u+1].transform&&(d.updateTransforms=n.mutations[u+1].transform.fieldTransforms,n.mutations.splice(u+1,1),++u)}const o=n.mutations.map(u=>AD(r.re,u)),i=sr.fromMillis(n.localWriteTimeMs);return new DD(n.batchId,i,t,o)}function gv(r){const n=gp(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?gp(r.lastLimboFreeSnapshotVersion):Pt.min();let o;var i;return void 0!==r.query.documents?(it(1===(i=r.query).documents.length),o=pi(Df(JZ(i.documents[0])))):o=pi(YZ(r.query)),new vd(o,r.targetId,0,r.lastListenSequenceNumber,n,t,eo.fromBase64String(r.resumeToken))}function lk(r,n){const t=pp(n.snapshotVersion),o=pp(n.lastLimboFreeSnapshotVersion);let i;i=QT(n.target)?KZ(r.re,n.target):ID(r.re,n.target);const u=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:cp(n.target),readTime:t,resumeToken:u,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:i}}function ZD(r){const n=YZ({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?YT(n,n.limit,"L"):n}function kD(r,n){return new xD(n.largestBatchId,AD(r.re,n.overlayMutation))}function ck(r,n){const t=n.path.lastSegment();return[r,gi(n.path.popLast()),t]}function dk(r,n,t,o){return{indexId:r,uid:n.uid||"",sequenceNumber:t,readTime:pp(o.readTime),documentKey:gi(o.documentKey.path),largestBatchId:o.largestBatchId}}class mP{getBundleMetadata(n,t){return hk(n).get(t).next(o=>{if(o)return{id:(i=o).bundleId,createTime:gp(i.createTime),version:i.version};var i})}saveBundleMetadata(n,t){return hk(n).put({bundleId:(o=t).id,createTime:pp(go(o.createTime)),version:o.version});var o}getNamedQuery(n,t){return pk(n).get(t).next(o=>{if(o)return{name:(i=o).name,query:ZD(i.bundledQuery),readTime:gp(i.readTime)};var i})}saveNamedQuery(n,t){return pk(n).put({name:(o=t).name,readTime:pp(go(o.readTime)),bundledQuery:o.bundledQuery});var o}}function hk(r){return fo(r,"bundles")}function pk(r){return fo(r,"namedQueries")}class sw{constructor(n,t){this.It=n,this.userId=t}static oe(n,t){return new sw(n,t.uid||"")}getOverlay(n,t){return fv(n).get(ck(this.userId,t)).next(o=>o?kD(this.It,o):null)}getOverlays(n,t){const o=Vu();return de.forEach(t,i=>this.getOverlay(n,i).next(u=>{null!==u&&o.set(i,u)})).next(()=>o)}saveOverlays(n,t,o){const i=[];return o.forEach((u,d)=>{const g=new xD(t,d);i.push(this.ue(n,g))}),de.waitFor(i)}removeOverlaysForBatchId(n,t,o){const i=new Set;t.forEach(d=>i.add(gi(d.getCollectionPath())));const u=[];return i.forEach(d=>{const g=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,o+1],!1,!0);u.push(fv(n).Y("collectionPathOverlayIndex",g))}),de.waitFor(u)}getOverlaysForCollection(n,t,o){const i=Vu(),u=gi(t),d=IDBKeyRange.bound([this.userId,u,o],[this.userId,u,Number.POSITIVE_INFINITY],!0);return fv(n).W("collectionPathOverlayIndex",d).next(g=>{for(const y of g){const w=kD(this.It,y);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(n,t,o,i){const u=Vu();let d;const g=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return fv(n).Z({index:"collectionGroupOverlayIndex",range:g},(y,w,D)=>{const x=kD(this.It,w);u.size()<i||x.largestBatchId===d?(u.set(x.getKey(),x),d=x.largestBatchId):D.done()}).next(()=>u)}ue(n,t){return fv(n).put(function(o,i,u){const[d,g,y]=ck(i,u.mutation.key);return{userId:i,collectionPath:g,documentId:y,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:pv(o.re,u.mutation)}}(this.It,this.userId,t))}}function fv(r){return fo(r,"documentOverlays")}class _p{constructor(){}ce(n,t){this.ae(n,t),t.he()}ae(n,t){if("nullValue"in n)this.le(t,5);else if("booleanValue"in n)this.le(t,10),t.fe(n.booleanValue?1:0);else if("integerValue"in n)this.le(t,15),t.fe(wr(n.integerValue));else if("doubleValue"in n){const o=wr(n.doubleValue);isNaN(o)?this.le(t,13):(this.le(t,15),Yy(o)?t.fe(0):t.fe(o))}else if("timestampValue"in n){const o=n.timestampValue;this.le(t,20),"string"==typeof o?t.de(o):(t.de(`${o.seconds||""}`),t.fe(o.nanos||0))}else if("stringValue"in n)this._e(n.stringValue,t),this.we(t);else if("bytesValue"in n)this.le(t,30),t.me(ap(n.bytesValue)),this.we(t);else if("referenceValue"in n)this.ge(n.referenceValue,t);else if("geoPointValue"in n){const o=n.geoPointValue;this.le(t,45),t.fe(o.latitude||0),t.fe(o.longitude||0)}else"mapValue"in n?aZ(n)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(n.mapValue,t),this.we(t)):"arrayValue"in n?(this.pe(n.arrayValue,t),this.we(t)):Oe()}_e(n,t){this.le(t,25),this.Ie(n,t)}Ie(n,t){t.de(n)}ye(n,t){const o=n.fields||{};this.le(t,55);for(const i of Object.keys(o))this._e(i,t),this.ae(o[i],t)}pe(n,t){const o=n.values||[];this.le(t,50);for(const i of o)this.ae(i,t)}ge(n,t){this.le(t,37),Ke.fromName(n).path.forEach(o=>{this.le(t,60),this.Ie(o,t)})}le(n,t){n.fe(t)}we(n){n.fe(2)}}function yP(r){if(0===r)return 8;let n=0;return r>>4==0&&(n+=4,r<<=4),r>>6==0&&(n+=2,r<<=2),r>>7==0&&(n+=1),n}function gk(r){const n=64-function(t){let o=0;for(let i=0;i<8;++i){const u=yP(255&t[i]);if(o+=u,8!==u)break}return o}(r);return Math.ceil(n/8)}_p.Te=new _p;class vP{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(n){const t=n[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(n){const t=n[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Pe(o.value),o=t.next();this.ve()}Ve(n){for(const t of n){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(n){for(const t of n){const o=t.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(n){const t=this.Ce(n),o=gk(t);this.xe(1+o),this.buffer[this.position++]=255&o;for(let i=t.length-o;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(n){const t=this.Ce(n),o=gk(t);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let i=t.length-o;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(n){this.xe(n.length),this.buffer.set(n,this.position),this.position+=n.length}$e(){return this.buffer.slice(0,this.position)}Ce(n){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(n),o=0!=(128&t[0]);t[0]^=o?255:128;for(let i=1;i<t.length;++i)t[i]^=o?255:0;return t}Ae(n){const t=255&n;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(n){const t=255&n;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(n)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(n){this.xe(1),this.buffer[this.position++]=n}Fe(n){this.xe(1),this.buffer[this.position++]=~n}xe(n){const t=n+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const i=new Uint8Array(o);i.set(this.buffer),this.buffer=i}}class CP{constructor(n){this.Be=n}me(n){this.Be.Ee(n)}de(n){this.Be.Ve(n)}fe(n){this.Be.De(n)}he(){this.Be.ke()}}class TP{constructor(n){this.Be=n}me(n){this.Be.be(n)}de(n){this.Be.Se(n)}fe(n){this.Be.Ne(n)}he(){this.Be.Me()}}class _v{constructor(){this.Be=new vP,this.Le=new CP(this.Be),this.Ue=new TP(this.Be)}seed(n){this.Be.seed(n)}qe(n){return 0===n?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class mp{constructor(n,t,o,i){this.indexId=n,this.documentKey=t,this.arrayValue=o,this.directionalValue=i}Ke(){const n=this.directionalValue.length,t=0===n||255===this.directionalValue[n-1]?n+1:n,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==n?o.set([0],this.directionalValue.length):++o[o.length-1],new mp(this.indexId,this.documentKey,this.arrayValue,o)}}function yp(r,n){let t=r.indexId-n.indexId;return 0!==t?t:(t=fk(r.arrayValue,n.arrayValue),0!==t?t:(t=fk(r.directionalValue,n.directionalValue),0!==t?t:Ke.comparator(r.documentKey,n.documentKey)))}function fk(r,n){for(let t=0;t<r.length&&t<n.length;++t){const o=r[t]-n[t];if(0!==o)return o}return r.length-n.length}class wP{constructor(n){this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.Ge=n.orderBy,this.Qe=[];for(const t of n.filters){const o=t;o.dt()?this.je=o:this.Qe.push(o)}}We(n){const t=lD(n);if(void 0!==t&&!this.ze(t))return!1;const o=op(n);let i=0,u=0;for(;i<o.length&&this.ze(o[i]);++i);if(i===o.length)return!0;if(void 0!==this.je){const d=o[i];if(!this.He(this.je,d)||!this.Je(this.Ge[u++],d))return!1;++i}for(;i<o.length;++i){const d=o[i];if(u>=this.Ge.length||!this.Je(this.Ge[u++],d))return!1}return!0}ze(n){for(const t of this.Qe)if(this.He(t,n))return!0;return!1}He(n,t){return!(void 0===n||!n.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===n.op||"array-contains-any"===n.op)}Je(n,t){return!!n.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===n.dir||1===t.kind&&"desc"===n.dir)}}class bP{constructor(){this.Ye=new ND}addToCollectionParentIndex(n,t){return this.Ye.add(t),de.resolve()}getCollectionParents(n,t){return de.resolve(this.Ye.getEntries(t))}addFieldIndex(n,t){return de.resolve()}deleteFieldIndex(n,t){return de.resolve()}getDocumentsMatchingTarget(n,t){return de.resolve(null)}getIndexType(n,t){return de.resolve(0)}getFieldIndexes(n,t){return de.resolve([])}getNextCollectionGroupToUpdate(n){return de.resolve(null)}getMinOffset(n,t){return de.resolve(ws.min())}getMinOffsetFromCollectionGroup(n,t){return de.resolve(ws.min())}updateCollectionGroup(n,t,o){return de.resolve()}updateIndexEntries(n,t){return de.resolve()}}class ND{constructor(){this.index={}}add(n){const t=n.lastSegment(),o=n.popLast(),i=this.index[t]||new Pn(yn.comparator),u=!i.has(o);return this.index[t]=i.add(o),u}has(n){const t=n.lastSegment(),o=n.popLast(),i=this.index[t];return i&&i.has(o)}getEntries(n){return(this.index[n]||new Pn(yn.comparator)).toArray()}}const aw=new Uint8Array(0);class AP{constructor(n,t){this.user=n,this.databaseId=t,this.Xe=new ND,this.Ze=new yd(o=>cp(o),(o,i)=>nv(o,i)),this.uid=n.uid||""}addToCollectionParentIndex(n,t){if(!this.Xe.has(t)){const o=t.lastSegment(),i=t.popLast();n.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:o,parent:gi(i)};return _k(n).put(u)}return de.resolve()}getCollectionParents(n,t){const o=[],i=IDBKeyRange.bound([t,""],[J2(t),""],!1,!0);return _k(n).W(i).next(u=>{for(const d of u){if(d.collectionId!==t)break;o.push(ju(d.parent))}return o})}addFieldIndex(n,t){const o=uw(n),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var d;delete i.indexId;const u=o.add(i);if(t.indexState){const d=yv(n);return u.next(g=>{d.put(dk(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(n,t){const o=uw(n),i=yv(n),u=mv(n);return o.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(n,t){const o=mv(n);let i=!0;const u=new Map;return de.forEach(this.tn(t),d=>this.en(n,d).next(g=>{i&&(i=!!g),u.set(d,g)})).next(()=>{if(i){let d=Yt();const g=[];return de.forEach(u,(y,w)=>{var D;se("IndexedDbIndexManager",`Using index ${D=y,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Ht=>`${Ht.fieldPath}:${Ht.kind}`).join(",")}`} to execute ${cp(t)}`);const x=function(Ht,At){const Vt=lD(At);if(void 0===Vt)return null;for(const tn of KT(Ht,Vt.fieldPath))switch(tn.op){case"array-contains-any":return tn.value.arrayValue.values||[];case"array-contains":return[tn.value]}return null}(w,y),q=function(Ht,At){const Vt=new Map;for(const tn of op(At))for(const to of KT(Ht,tn.fieldPath))switch(to.op){case"==":case"in":Vt.set(tn.fieldPath.canonicalString(),to.value);break;case"not-in":case"!=":return Vt.set(tn.fieldPath.canonicalString(),to.value),Array.from(Vt.values())}return null}(w,y),J=function(Ht,At){const Vt=[];let tn=!0;for(const to of op(At)){const Rv=0===to.kind?hZ(Ht,to.fieldPath,Ht.startAt):pZ(Ht,to.fieldPath,Ht.startAt);Vt.push(Rv.value),tn&&(tn=Rv.inclusive)}return new md(Vt,tn)}(w,y),ee=function(Ht,At){const Vt=[];let tn=!0;for(const to of op(At)){const Rv=0===to.kind?pZ(Ht,to.fieldPath,Ht.endAt):hZ(Ht,to.fieldPath,Ht.endAt);Vt.push(Rv.value),tn&&(tn=Rv.inclusive)}return new md(Vt,tn)}(w,y),Ne=this.nn(y,w,J),Be=this.nn(y,w,ee),ht=this.sn(y,w,q),Rt=this.rn(y.indexId,x,Ne,J.inclusive,Be,ee.inclusive,ht);return de.forEach(Rt,Ht=>o.J(Ht,t.limit).next(At=>{At.forEach(Vt=>{const tn=Ke.fromSegments(Vt.documentKey);d.has(tn)||(d=d.add(tn),g.push(tn))})}))}).next(()=>g)}return de.resolve(null)})}tn(n){let t=this.Ze.get(n);return t||(t=[n],this.Ze.set(n,t),t)}rn(n,t,o,i,u,d,g){const y=(null!=t?t.length:1)*Math.max(o.length,u.length),w=y/(null!=t?t.length:1),D=[];for(let x=0;x<y;++x){const q=t?this.on(t[x/w]):aw,J=this.un(n,q,o[x%w],i),ee=this.cn(n,q,u[x%w],d),Ne=g.map(Be=>this.un(n,q,Be,!0));D.push(...this.createRange(J,ee,Ne))}return D}un(n,t,o,i){const u=new mp(n,Ke.empty(),t,o);return i?u:u.Ke()}cn(n,t,o,i){const u=new mp(n,Ke.empty(),t,o);return i?u.Ke():u}en(n,t){const o=new wP(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(n,i).next(u=>{let d=null;for(const g of u)o.We(g)&&(!d||g.fields.length>d.fields.length)&&(d=g);return d})}getIndexType(n,t){let o=2;return de.forEach(this.tn(t),i=>this.en(n,i).next(u=>{u?0!==o&&u.fields.length<function(d){let g=new Pn(Cr.comparator),y=!1;for(const w of d.filters){const D=w;D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?y=!0:g=g.add(D.field))}for(const w of d.orderBy)w.field.isKeyField()||(g=g.add(w.field));return g.size+(y?1:0)}(i)&&(o=1):o=0})).next(()=>o)}an(n,t){const o=new _v;for(const i of op(n)){const u=t.data.field(i.fieldPath);if(null==u)return null;const d=o.qe(i.kind);_p.Te.ce(u,d)}return o.$e()}on(n){const t=new _v;return _p.Te.ce(n,t.qe(0)),t.$e()}hn(n,t){const o=new _v;return _p.Te.ce(lp(this.databaseId,t),o.qe(function(i){const u=op(i);return 0===u.length?0:u[u.length-1].kind}(n))),o.$e()}sn(n,t,o){if(null===o)return[];let i=[];i.push(new _v);let u=0;for(const d of op(n)){const g=o[u++];for(const y of i)if(this.ln(t,d.fieldPath)&&ev(g))i=this.fn(i,d,g);else{const w=y.qe(d.kind);_p.Te.ce(g,w)}}return this.dn(i)}nn(n,t,o){return this.sn(n,t,o.position)}dn(n){const t=[];for(let o=0;o<n.length;++o)t[o]=n[o].$e();return t}fn(n,t,o){const i=[...n],u=[];for(const d of o.arrayValue.values||[])for(const g of i){const y=new _v;y.seed(g.$e()),_p.Te.ce(d,y.qe(t.kind)),u.push(y)}return u}ln(n,t){return!!n.filters.find(o=>o instanceof Mo&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(n,t){const o=uw(n),i=yv(n);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(u=>{const d=[];return de.forEach(u,g=>i.get([g.indexId,this.uid]).next(y=>{d.push(function(w,D){const x=D?new Wy(D.sequenceNumber,new ws(gp(D.readTime),new Ke(ju(D.documentKey)),D.largestBatchId)):Wy.empty(),q=w.fields.map(([J,ee])=>new GT(Cr.fromServerFormat(J),ee));return new $T(w.indexId,w.collectionGroup,q,x)}(g,y))})).next(()=>d)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(t=>0===t.length?null:(t.sort((o,i)=>{const u=o.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:Wt(o.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(n,t,o){const i=uw(n),u=yv(n);return this._n(n).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>de.forEach(g,y=>u.put(dk(y.indexId,this.user,d,o)))))}updateIndexEntries(n,t){const o=new Map;return de.forEach(t,(i,u)=>{const d=o.get(i.collectionGroup);return(d?de.resolve(d):this.getFieldIndexes(n,i.collectionGroup)).next(g=>(o.set(i.collectionGroup,g),de.forEach(g,y=>this.wn(n,i,y).next(w=>{const D=this.mn(u,y);return w.isEqual(D)?de.resolve():this.gn(n,u,y,w,D)}))))})}yn(n,t,o,i){return mv(n).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(o,t.key),documentKey:t.key.path.toArray()})}pn(n,t,o,i){return mv(n).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(o,t.key),t.key.path.toArray()])}wn(n,t,o){const i=mv(n);let u=new Pn(yp);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,t)])},(d,g)=>{u=u.add(new mp(o.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>u)}mn(n,t){let o=new Pn(yp);const i=this.an(t,n);if(null==i)return o;const u=lD(t);if(null!=u){const d=n.data.field(u.fieldPath);if(ev(d))for(const g of d.arrayValue.values||[])o=o.add(new mp(t.indexId,n.key,this.on(g),i))}else o=o.add(new mp(t.indexId,n.key,aw,i));return o}gn(n,t,o,i,u){se("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(g,y,w,D,x){const q=g.getIterator(),J=y.getIterator();let ee=Af(q),Ne=Af(J);for(;ee||Ne;){let Be=!1,ht=!1;if(ee&&Ne){const Rt=w(ee,Ne);Rt<0?ht=!0:Rt>0&&(Be=!0)}else null!=ee?ht=!0:Be=!0;Be?(D(Ne),Ne=Af(J)):ht?(x(ee),ee=Af(q)):(ee=Af(q),Ne=Af(J))}}(i,u,yp,g=>{d.push(this.yn(n,t,o,g))},g=>{d.push(this.pn(n,t,o,g))}),de.waitFor(d)}_n(n){let t=1;return yv(n).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(n,t,o){o=o.sort((d,g)=>yp(d,g)).filter((d,g,y)=>!g||0!==yp(d,y[g-1]));const i=[];i.push(n);for(const d of o){const g=yp(d,n),y=yp(d,t);if(0===g)i[0]=n.Ke();else if(g>0&&y<0)i.push(d),i.push(d.Ke());else if(y>0)break}i.push(t);const u=[];for(let d=0;d<i.length;d+=2)u.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,aw,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,aw,[]]));return u}getMinOffsetFromCollectionGroup(n,t){return this.getFieldIndexes(n,t).next(mk)}getMinOffset(n,t){return de.mapArray(this.tn(t),o=>this.en(n,o).next(i=>i||Oe())).next(mk)}}function _k(r){return fo(r,"collectionParents")}function mv(r){return fo(r,"indexEntries")}function uw(r){return fo(r,"indexConfiguration")}function yv(r){return fo(r,"indexState")}function mk(r){it(0!==r.length);let n=r[0].indexState.offset,t=n.largestBatchId;for(let o=1;o<r.length;o++){const i=r[o].indexState.offset;cD(i,n)<0&&(n=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ws(n.readTime,n.documentKey,t)}const yk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qi{constructor(n,t,o){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(n){return new qi(n,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function vk(r,n,t){const o=r.store("mutations"),i=r.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let g=0;const y=o.Z({range:d},(D,x,q)=>(g++,q.delete()));u.push(y.next(()=>{it(1===g)}));const w=[];for(const D of t.mutations){const x=rk(n,D.key.path,t.batchId);u.push(i.delete(x)),w.push(D.key)}return de.waitFor(u).next(()=>w)}function lw(r){if(!r)return 0;let n;if(r.document)n=r.document;else if(r.unknownDocument)n=r.unknownDocument;else{if(!r.noDocument)throw Oe();n=r.noDocument}return JSON.stringify(n).length}qi.DEFAULT_COLLECTION_PERCENTILE=10,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qi.DEFAULT=new qi(41943040,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qi.DISABLED=new qi(-1,0,0);class cw{constructor(n,t,o,i){this.userId=n,this.It=t,this.indexManager=o,this.referenceDelegate=i,this.In={}}static oe(n,t,o,i){it(""!==n.uid);const u=n.isAuthenticated()?n.uid:"";return new cw(u,t,o,i)}checkEmpty(n){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cd(n).Z({index:"userMutationsIndex",range:o},(i,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(n,t,o,i){const u=Pf(n),d=Cd(n);return d.add({}).next(g=>{it("number"==typeof g);const y=new DD(g,t,o,i),w=function(q,J,ee){const Ne=ee.baseMutations.map(ht=>pv(q.re,ht)),Be=ee.mutations.map(ht=>pv(q.re,ht));return{userId:J,batchId:ee.batchId,localWriteTimeMs:ee.localWriteTime.toMillis(),baseMutations:Ne,mutations:Be}}(this.It,this.userId,y),D=[];let x=new Pn((q,J)=>Wt(q.canonicalString(),J.canonicalString()));for(const q of i){const J=rk(this.userId,q.key.path,g);x=x.add(q.key.path.popLast()),D.push(d.put(w)),D.push(u.put(J,XM))}return x.forEach(q=>{D.push(this.indexManager.addToCollectionParentIndex(n,q))}),n.addOnCommittedListener(()=>{this.In[g]=y.keys()}),de.waitFor(D).next(()=>y)})}lookupMutationBatch(n,t){return Cd(n).get(t).next(o=>o?(it(o.userId===this.userId),fp(this.It,o)):null)}Tn(n,t){return this.In[t]?de.resolve(this.In[t]):this.lookupMutationBatch(n,t).next(o=>{if(o){const i=o.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(n,t){const o=t+1,i=IDBKeyRange.lowerBound([this.userId,o]);let u=null;return Cd(n).Z({index:"userMutationsIndex",range:i},(d,g,y)=>{g.userId===this.userId&&(it(g.batchId>=o),u=fp(this.It,g)),y.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(n){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Cd(n).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,u,d)=>{o=u.batchId,d.done()}).next(()=>o)}getAllMutationBatches(n){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cd(n).W("userMutationsIndex",t).next(o=>o.map(i=>fp(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(n,t){const o=ow(this.userId,t.path),i=IDBKeyRange.lowerBound(o),u=[];return Pf(n).Z({range:i},(d,g,y)=>{const[w,D,x]=d,q=ju(D);if(w===this.userId&&t.path.isEqual(q))return Cd(n).get(x).next(J=>{if(!J)throw Oe();it(J.userId===this.userId),u.push(fp(this.It,J))});y.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(n,t){let o=new Pn(Wt);const i=[];return t.forEach(u=>{const d=ow(this.userId,u.path),g=IDBKeyRange.lowerBound(d),y=Pf(n).Z({range:g},(w,D,x)=>{const[q,J,ee]=w,Ne=ju(J);q===this.userId&&u.path.isEqual(Ne)?o=o.add(ee):x.done()});i.push(y)}),de.waitFor(i).next(()=>this.En(n,o))}getAllMutationBatchesAffectingQuery(n,t){const o=t.path,i=o.length+1,u=ow(this.userId,o),d=IDBKeyRange.lowerBound(u);let g=new Pn(Wt);return Pf(n).Z({range:d},(y,w,D)=>{const[x,q,J]=y,ee=ju(q);x===this.userId&&o.isPrefixOf(ee)?ee.length===i&&(g=g.add(J)):D.done()}).next(()=>this.En(n,g))}En(n,t){const o=[],i=[];return t.forEach(u=>{i.push(Cd(n).get(u).next(d=>{if(null===d)throw Oe();it(d.userId===this.userId),o.push(fp(this.It,d))}))}),de.waitFor(i).next(()=>o)}removeMutationBatch(n,t){return vk(n.ie,this.userId,t).next(o=>(n.addOnCommittedListener(()=>{this.An(t.batchId)}),de.forEach(o,i=>this.referenceDelegate.markPotentiallyOrphaned(n,i))))}An(n){delete this.In[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(t=>{if(!t)return de.resolve();const o=IDBKeyRange.lowerBound([this.userId]),i=[];return Pf(n).Z({range:o},(u,d,g)=>{if(u[0]===this.userId){const y=ju(u[1]);i.push(y)}else g.done()}).next(()=>{it(0===i.length)})})}containsKey(n,t){return Ck(n,this.userId,t)}Rn(n){return Tk(n).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ck(r,n,t){const o=ow(n,t.path),i=o[1],u=IDBKeyRange.lowerBound(o);let d=!1;return Pf(r).Z({range:u,X:!0},(g,y,w)=>{const[D,x,q]=g;D===n&&x===i&&(d=!0),w.done()}).next(()=>d)}function Cd(r){return fo(r,"mutations")}function Pf(r){return fo(r,"documentMutations")}function Tk(r){return fo(r,"mutationQueues")}class vp{constructor(n){this.bn=n}next(){return this.bn+=2,this.bn}static Pn(){return new vp(0)}static vn(){return new vp(-1)}}class IP{constructor(n,t){this.referenceDelegate=n,this.It=t}allocateTargetId(n){return this.Vn(n).next(t=>{const o=new vp(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(n,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.Vn(n).next(t=>Pt.fromTimestamp(new sr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.Vn(n).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(n,t,o){return this.Vn(n).next(i=>(i.highestListenSequenceNumber=t,o&&(i.lastRemoteSnapshotVersion=o.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(n,i)))}addTargetData(n,t){return this.Dn(n,t).next(()=>this.Vn(n).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(n,o))))}updateTargetData(n,t){return this.Dn(n,t)}removeTargetData(n,t){return this.removeMatchingKeysForTargetId(n,t.targetId).next(()=>Rf(n).delete(t.targetId)).next(()=>this.Vn(n)).next(o=>(it(o.targetCount>0),o.targetCount-=1,this.Sn(n,o)))}removeTargets(n,t,o){let i=0;const u=[];return Rf(n).Z((d,g)=>{const y=gv(g);y.sequenceNumber<=t&&null===o.get(y.targetId)&&(i++,u.push(this.removeTargetData(n,y)))}).next(()=>de.waitFor(u)).next(()=>i)}forEachTarget(n,t){return Rf(n).Z((o,i)=>{const u=gv(i);t(u)})}Vn(n){return wk(n).get("targetGlobalKey").next(t=>(it(null!==t),t))}Sn(n,t){return wk(n).put("targetGlobalKey",t)}Dn(n,t){return Rf(n).put(lk(this.It,t))}Cn(n,t){let o=!1;return n.targetId>t.highestTargetId&&(t.highestTargetId=n.targetId,o=!0),n.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=n.sequenceNumber,o=!0),o}getTargetCount(n){return this.Vn(n).next(t=>t.targetCount)}getTargetData(n,t){const o=cp(t),i=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let u=null;return Rf(n).Z({range:i,index:"queryTargetsIndex"},(d,g,y)=>{const w=gv(g);nv(t,w.target)&&(u=w,y.done())}).next(()=>u)}addMatchingKeys(n,t,o){const i=[],u=Td(n);return t.forEach(d=>{const g=gi(d.path);i.push(u.put({targetId:o,path:g})),i.push(this.referenceDelegate.addReference(n,o,d))}),de.waitFor(i)}removeMatchingKeys(n,t,o){const i=Td(n);return de.forEach(t,u=>{const d=gi(u.path);return de.waitFor([i.delete([o,d]),this.referenceDelegate.removeReference(n,o,u)])})}removeMatchingKeysForTargetId(n,t){const o=Td(n),i=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(i)}getMatchingKeysForTargetId(n,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),i=Td(n);let u=Yt();return i.Z({range:o,X:!0},(d,g,y)=>{const w=ju(d[1]),D=new Ke(w);u=u.add(D)}).next(()=>u)}containsKey(n,t){const o=gi(t.path),i=IDBKeyRange.bound([o],[J2(o)],!1,!0);let u=0;return Td(n).Z({index:"documentTargetsIndex",X:!0,range:i},([d,g],y,w)=>{0!==d&&(u++,w.done())}).next(()=>u>0)}se(n,t){return Rf(n).get(t).next(o=>o?gv(o):null)}}function Rf(r){return fo(r,"targets")}function wk(r){return fo(r,"targetGlobal")}function Td(r){return fo(r,"targetDocuments")}function bk([r,n],[t,o]){const i=Wt(r,t);return 0===i?Wt(n,o):i}class EP{constructor(n){this.xn=n,this.buffer=new Pn(bk),this.Nn=0}kn(){return++this.Nn}On(n){const t=[n,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();bk(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class DP{constructor(n,t,o){this.garbageCollector=n,this.asyncQueue=t,this.localStore=o,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(n){var t=this;se("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,be.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){hd(o)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield dd(o)}yield t.Fn(3e5)}))}}class SP{constructor(n,t){this.$n=n,this.params=t}calculateTargetCount(n,t){return this.$n.Bn(n).next(o=>Math.floor(t/100*o))}nthSequenceNumber(n,t){if(0===t)return de.resolve(Li.at);const o=new EP(t);return this.$n.forEachTarget(n,i=>o.On(i.sequenceNumber)).next(()=>this.$n.Ln(n,i=>o.On(i))).next(()=>o.maxValue)}removeTargets(n,t,o){return this.$n.removeTargets(n,t,o)}removeOrphanedDocuments(n,t){return this.$n.removeOrphanedDocuments(n,t)}collect(n,t){return-1===this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(yk)):this.getCacheSize(n).next(o=>o<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yk):this.Un(n,t))}getCacheSize(n){return this.$n.getCacheSize(n)}Un(n,t){let o,i,u,d,g,y,w;const D=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,d=Date.now(),this.nthSequenceNumber(n,i))).next(x=>(o=x,g=Date.now(),this.removeTargets(n,o,t))).next(x=>(u=x,y=Date.now(),this.removeOrphanedDocuments(n,o))).next(x=>(w=Date.now(),qe()<=Pu.in.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-D}ms\n\tDetermined least recently used ${i} in `+(g-d)+`ms\n\tRemoved ${u} targets in `+(y-g)+`ms\n\tRemoved ${x} documents in `+(w-y)+`ms\nTotal Duration: ${w-D}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:x})))}}class xP{constructor(n,t){this.db=n,this.garbageCollector=new SP(this,t)}Bn(n){const t=this.qn(n);return this.db.getTargetCache().getTargetCount(n).next(o=>t.next(i=>o+i))}qn(n){let t=0;return this.Ln(n,o=>{t++}).next(()=>t)}forEachTarget(n,t){return this.db.getTargetCache().forEachTarget(n,t)}Ln(n,t){return this.Kn(n,(o,i)=>t(i))}addReference(n,t,o){return dw(n,o)}removeReference(n,t,o){return dw(n,o)}removeTargets(n,t,o){return this.db.getTargetCache().removeTargets(n,t,o)}markPotentiallyOrphaned(n,t){return dw(n,t)}Gn(n,t){return function(o,i){let u=!1;return Tk(o).tt(d=>Ck(o,d,i).next(g=>(g&&(u=!0),de.resolve(!g)))).next(()=>u)}(n,t)}removeOrphanedDocuments(n,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Kn(n,(d,g)=>{if(g<=t){const y=this.Gn(n,d).next(w=>{if(!w)return u++,o.getEntry(n,d).next(()=>(o.removeEntry(d,Pt.min()),Td(n).delete([0,gi(d.path)])))});i.push(y)}}).next(()=>de.waitFor(i)).next(()=>o.apply(n)).next(()=>u)}removeTarget(n,t){const o=t.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,o)}updateLimboDocument(n,t){return dw(n,t)}Kn(n,t){const o=Td(n);let i,u=Li.at;return o.Z({index:"documentTargetsIndex"},([d,g],{path:y,sequenceNumber:w})=>{0===d?(u!==Li.at&&t(new Ke(ju(i)),u),u=w,i=y):u=Li.at}).next(()=>{u!==Li.at&&t(new Ke(ju(i)),u)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function dw(r,n){return Td(r).put((o=r.currentSequenceNumber,{targetId:0,path:gi(n.path),sequenceNumber:o}));var o}class Ak{constructor(){this.changes=new yd(n=>n.toString(),(n,t)=>n.isEqual(t)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,t){this.assertNotApplied(),this.changes.set(n,Gn.newInvalidDocument(n).setReadTime(t))}getEntry(n,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?de.resolve(o):this.getFromCache(n,t)}getEntries(n,t){return this.getAllFromCache(n,t)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class ZP{constructor(n){this.It=n}setIndexManager(n){this.indexManager=n}addEntry(n,t,o){return Cp(n).put(o)}removeEntry(n,t,o){return Cp(n).delete(function(i,u){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],iw(u),d[d.length-1]]}(t,o))}updateMetadata(n,t){return this.getMetadata(n).next(o=>(o.byteSize+=t,this.Qn(n,o)))}getEntry(n,t){let o=Gn.newInvalidDocument(t);return Cp(n).Z({index:"documentKeyIndex",range:IDBKeyRange.only(vv(t))},(i,u)=>{o=this.jn(t,u)}).next(()=>o)}Wn(n,t){let o={size:0,document:Gn.newInvalidDocument(t)};return Cp(n).Z({index:"documentKeyIndex",range:IDBKeyRange.only(vv(t))},(i,u)=>{o={document:this.jn(t,u),size:lw(u)}}).next(()=>o)}getEntries(n,t){let o=Fi();return this.zn(n,t,(i,u)=>{const d=this.jn(i,u);o=o.insert(i,d)}).next(()=>o)}Hn(n,t){let o=Fi(),i=new Tr(Ke.comparator);return this.zn(n,t,(u,d)=>{const g=this.jn(u,d);o=o.insert(u,g),i=i.insert(u,lw(d))}).next(()=>({documents:o,Jn:i}))}zn(n,t,o){if(t.isEmpty())return de.resolve();let i=new Pn(Sk);t.forEach(y=>i=i.add(y));const u=IDBKeyRange.bound(vv(i.first()),vv(i.last())),d=i.getIterator();let g=d.getNext();return Cp(n).Z({index:"documentKeyIndex",range:u},(y,w,D)=>{const x=Ke.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;g&&Sk(g,x)<0;)o(g,null),g=d.getNext();g&&g.isEqual(x)&&(o(g,w),g=d.hasNext()?d.getNext():null),g?D.j(vv(g)):D.done()}).next(()=>{for(;g;)o(g,null),g=d.hasNext()?d.getNext():null})}getAllFromCollection(n,t,o){const i=[t.popLast().toArray(),t.lastSegment(),iw(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Cp(n).W(IDBKeyRange.bound(i,u,!0)).next(d=>{let g=Fi();for(const y of d){const w=this.jn(Ke.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);g=g.insert(w.key,w)}return g})}getAllFromCollectionGroup(n,t,o,i){let u=Fi();const d=Dk(t,o),g=Dk(t,ws.max());return Cp(n).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,g,!0)},(y,w,D)=>{const x=this.jn(Ke.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);u=u.insert(x.key,x),u.size===i&&D.done()}).next(()=>u)}newChangeBuffer(n){return new kP(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(t=>t.byteSize)}getMetadata(n){return Ek(n).get("remoteDocumentGlobalKey").next(t=>(it(!!t),t))}Qn(n,t){return Ek(n).put("remoteDocumentGlobalKey",t)}jn(n,t){if(t){const o=function _P(r,n){let t;if(n.document)t=QZ(r.re,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const o=Ke.fromSegments(n.noDocument.path),i=gp(n.noDocument.readTime);t=Gn.newNoDocument(o,i),n.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!n.unknownDocument)return Oe();{const o=Ke.fromSegments(n.unknownDocument.path),i=gp(n.unknownDocument.version);t=Gn.newUnknownDocument(o,i)}}return n.readTime&&t.setReadTime(function(o){const i=new sr(o[0],o[1]);return Pt.fromTimestamp(i)}(n.readTime)),t}(this.It,t);if(!o.isNoDocument()||!o.version.isEqual(Pt.min()))return o}return Gn.newInvalidDocument(n)}}function Ik(r){return new ZP(r)}class kP extends Ak{constructor(n,t){super(),this.Yn=n,this.trackRemovals=t,this.Xn=new yd(o=>o.toString(),(o,i)=>o.isEqual(i))}applyChanges(n){const t=[];let o=0,i=new Pn((u,d)=>Wt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const g=this.Xn.get(u);if(t.push(this.Yn.removeEntry(n,u,g.readTime)),d.isValidDocument()){const y=uk(this.Yn.It,d);i=i.add(u.path.popLast()),o+=lw(y)-g.size,t.push(this.Yn.addEntry(n,u,y))}else if(o-=g.size,this.trackRemovals){const y=uk(this.Yn.It,d.convertToNoDocument(Pt.min()));t.push(this.Yn.addEntry(n,u,y))}}),i.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(n,u))}),t.push(this.Yn.updateMetadata(n,o)),de.waitFor(t)}getFromCache(n,t){return this.Yn.Wn(n,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(n,t){return this.Yn.Hn(n,t).next(({documents:o,Jn:i})=>(i.forEach((u,d)=>{this.Xn.set(u,{size:d,readTime:o.get(u).readTime})}),o))}}function Ek(r){return fo(r,"remoteDocumentGlobal")}function Cp(r){return fo(r,"remoteDocumentsV14")}function vv(r){const n=r.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function Dk(r,n){const t=n.documentKey.path.toArray();return[r,iw(n.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Sk(r,n){const t=r.path.toArray(),o=n.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<o.length-2;++u)if(i=Wt(t[u],o[u]),i)return i;return i=Wt(t.length,o.length),i||(i=Wt(t[t.length-2],o[o.length-2]),i||Wt(t[t.length-1],o[o.length-1]))}class NP{constructor(n,t){this.overlayedDocument=n,this.mutatedFields=t}}class xk{constructor(n,t,o,i){this.remoteDocumentCache=n,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=i}getDocument(n,t){let o=null;return this.documentOverlayCache.getOverlay(n,t).next(i=>(o=i,this.getBaseDocument(n,t,o))).next(i=>(null!==o&&iv(o.mutation,i,bs.empty(),sr.now()),i))}getDocuments(n,t){return this.remoteDocumentCache.getEntries(n,t).next(o=>this.getLocalViewOfDocuments(n,o,Yt()).next(()=>o))}getLocalViewOfDocuments(n,t,o=Yt()){const i=Vu();return this.populateOverlays(n,i,t).next(()=>this.computeViews(n,t,i,o).next(u=>{let d=sv();return u.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(n,t){const o=Vu();return this.populateOverlays(n,o,t).next(()=>this.computeViews(n,t,o,Yt()))}populateOverlays(n,t,o){const i=[];return o.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(n,i).next(u=>{u.forEach((d,g)=>{t.set(d,g)})})}computeViews(n,t,o,i){let u=Fi();const d=av(),g=av();return t.forEach((y,w)=>{const D=o.get(w.key);i.has(w.key)&&(void 0===D||D.mutation instanceof Kl)?u=u.insert(w.key,w):void 0!==D&&(d.set(w.key,D.mutation.getFieldMask()),iv(D.mutation,w,D.mutation.getFieldMask(),sr.now()))}),this.recalculateAndSaveOverlays(n,u).next(y=>(y.forEach((w,D)=>d.set(w,D)),t.forEach((w,D)=>{var x;return g.set(w,new NP(D,null!==(x=d.get(w))&&void 0!==x?x:null))}),g))}recalculateAndSaveOverlays(n,t){const o=av();let i=new Tr((d,g)=>d-g),u=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,t).next(d=>{for(const g of d)g.keys().forEach(y=>{const w=t.get(y);if(null===w)return;let D=o.get(y)||bs.empty();D=g.applyToLocalView(w,D),o.set(y,D);const x=(i.get(g.batchId)||Yt()).add(y);i=i.insert(g.batchId,x)})}).next(()=>{const d=[],g=i.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),w=y.key,D=y.value,x=FZ();D.forEach(q=>{if(!u.has(q)){const J=ZZ(t.get(q),o.get(q));null!==J&&x.set(q,J),u=u.add(q)}}),d.push(this.documentOverlayCache.saveOverlays(n,w,x))}return de.waitFor(d)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(n,t){return this.remoteDocumentCache.getEntries(n,t).next(o=>this.recalculateAndSaveOverlays(n,o))}getDocumentsMatchingQuery(n,t,o){return Ke.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(n,t.path):yD(t)?this.getDocumentsMatchingCollectionGroupQuery(n,t,o):this.getDocumentsMatchingCollectionQuery(n,t,o);var i}getNextDocuments(n,t,o,i){return this.remoteDocumentCache.getAllFromCollectionGroup(n,t,o,i).next(u=>{const d=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,t,o.largestBatchId,i-u.size):de.resolve(Vu());let g=-1,y=u;return d.next(w=>de.forEach(w,(D,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),u.get(D)?de.resolve():this.getBaseDocument(n,D,x).next(q=>{y=y.insert(D,q)}))).next(()=>this.populateOverlays(n,w,u)).next(()=>this.computeViews(n,y,w,Yt())).next(D=>({batchId:g,changes:LZ(D)})))})}getDocumentsMatchingDocumentQuery(n,t){return this.getDocument(n,new Ke(t)).next(o=>{let i=sv();return o.isFoundDocument()&&(i=i.insert(o.key,o)),i})}getDocumentsMatchingCollectionGroupQuery(n,t,o){const i=t.collectionGroup;let u=sv();return this.indexManager.getCollectionParents(n,i).next(d=>de.forEach(d,g=>{const y=(w=t,D=g.child(i),new Ql(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,D;return this.getDocumentsMatchingCollectionQuery(n,y,o).next(w=>{w.forEach((D,x)=>{u=u.insert(D,x)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(n,t,o){let i;return this.remoteDocumentCache.getAllFromCollection(n,t.path,o).next(u=>(i=u,this.documentOverlayCache.getOverlaysForCollection(n,t.path,o.largestBatchId))).next(u=>{u.forEach((g,y)=>{const w=y.getKey();null===i.get(w)&&(i=i.insert(w,Gn.newInvalidDocument(w)))});let d=sv();return i.forEach((g,y)=>{const w=u.get(g);void 0!==w&&iv(w.mutation,y,bs.empty(),sr.now()),CD(t,y)&&(d=d.insert(g,y))}),d})}getBaseDocument(n,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(n,t):de.resolve(Gn.newInvalidDocument(t))}}class UP{constructor(n){this.It=n,this.Zn=new Map,this.ts=new Map}getBundleMetadata(n,t){return de.resolve(this.Zn.get(t))}saveBundleMetadata(n,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:go(o.createTime)}),de.resolve()}getNamedQuery(n,t){return de.resolve(this.ts.get(t))}saveNamedQuery(n,t){return this.ts.set(t.name,{name:(o=t).name,query:ZD(o.bundledQuery),readTime:go(o.readTime)}),de.resolve();var o}}class MP{constructor(){this.overlays=new Tr(Ke.comparator),this.es=new Map}getOverlay(n,t){return de.resolve(this.overlays.get(t))}getOverlays(n,t){const o=Vu();return de.forEach(t,i=>this.getOverlay(n,i).next(u=>{null!==u&&o.set(i,u)})).next(()=>o)}saveOverlays(n,t,o){return o.forEach((i,u)=>{this.ue(n,t,u)}),de.resolve()}removeOverlaysForBatchId(n,t,o){const i=this.es.get(o);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(o)),de.resolve()}getOverlaysForCollection(n,t,o){const i=Vu(),u=t.length+1,d=new Ke(t.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,w=y.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===u&&y.largestBatchId>o&&i.set(y.getKey(),y)}return de.resolve(i)}getOverlaysForCollectionGroup(n,t,o,i){let u=new Tr((w,D)=>w-D);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>o){let D=u.get(w.largestBatchId);null===D&&(D=Vu(),u=u.insert(w.largestBatchId,D)),D.set(w.getKey(),w)}}const g=Vu(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((w,D)=>g.set(w,D)),!(g.size()>=i)););return de.resolve(g)}ue(n,t,o){const i=this.overlays.get(o.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(o.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(o.key,new xD(t,o));let u=this.es.get(t);void 0===u&&(u=Yt(),this.es.set(t,u)),this.es.set(t,u.add(o.key))}}class UD{constructor(){this.ns=new Pn(_o.ss),this.rs=new Pn(_o.os)}isEmpty(){return this.ns.isEmpty()}addReference(n,t){const o=new _o(n,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(n,t){n.forEach(o=>this.addReference(o,t))}removeReference(n,t){this.cs(new _o(n,t))}hs(n,t){n.forEach(o=>this.removeReference(o,t))}ls(n){const t=new Ke(new yn([])),o=new _o(t,n),i=new _o(t,n+1),u=[];return this.rs.forEachInRange([o,i],d=>{this.cs(d),u.push(d.key)}),u}fs(){this.ns.forEach(n=>this.cs(n))}cs(n){this.ns=this.ns.delete(n),this.rs=this.rs.delete(n)}ds(n){const t=new Ke(new yn([])),o=new _o(t,n),i=new _o(t,n+1);let u=Yt();return this.rs.forEachInRange([o,i],d=>{u=u.add(d.key)}),u}containsKey(n){const t=new _o(n,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&n.isEqual(o.key)}}class _o{constructor(n,t){this.key=n,this._s=t}static ss(n,t){return Ke.comparator(n.key,t.key)||Wt(n._s,t._s)}static os(n,t){return Wt(n._s,t._s)||Ke.comparator(n.key,t.key)}}class PP{constructor(n,t){this.indexManager=n,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Pn(_o.ss)}checkEmpty(n){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(n,t,o,i){const u=this.ws;this.ws++;const d=new DD(u,t,o,i);this.mutationQueue.push(d);for(const g of i)this.gs=this.gs.add(new _o(g.key,u)),this.indexManager.addToCollectionParentIndex(n,g.key.path.popLast());return de.resolve(d)}lookupMutationBatch(n,t){return de.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(n,t){const i=this.ps(t+1),u=i<0?0:i;return de.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(n){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,t){const o=new _o(t,0),i=new _o(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([o,i],d=>{const g=this.ys(d._s);u.push(g)}),de.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(n,t){let o=new Pn(Wt);return t.forEach(i=>{const u=new _o(i,0),d=new _o(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,d],g=>{o=o.add(g._s)})}),de.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(n,t){const o=t.path,i=o.length+1;let u=o;Ke.isDocumentKey(u)||(u=u.child(""));const d=new _o(new Ke(u),0);let g=new Pn(Wt);return this.gs.forEachWhile(y=>{const w=y.key.path;return!!o.isPrefixOf(w)&&(w.length===i&&(g=g.add(y._s)),!0)},d),de.resolve(this.Is(g))}Is(n){const t=[];return n.forEach(o=>{const i=this.ys(o);null!==i&&t.push(i)}),t}removeMutationBatch(n,t){it(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return de.forEach(t.mutations,i=>{const u=new _o(i.key,t.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(n,i.key)}).next(()=>{this.gs=o})}An(n){}containsKey(n,t){const o=new _o(t,0),i=this.gs.firstAfterOrEqual(o);return de.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(n){return de.resolve()}Ts(n,t){return this.ps(n)}ps(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}ys(n){const t=this.ps(n);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class RP{constructor(n){this.Es=n,this.docs=new Tr(Ke.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,t){const o=t.key,i=this.docs.get(o),u=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(n,o.path.popLast())}removeEntry(n){const t=this.docs.get(n);t&&(this.docs=this.docs.remove(n),this.size-=t.size)}getEntry(n,t){const o=this.docs.get(t);return de.resolve(o?o.document.mutableCopy():Gn.newInvalidDocument(t))}getEntries(n,t){let o=Fi();return t.forEach(i=>{const u=this.docs.get(i);o=o.insert(i,u?u.document.mutableCopy():Gn.newInvalidDocument(i))}),de.resolve(o)}getAllFromCollection(n,t,o){let i=Fi();const u=new Ke(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:g,value:{document:y}}=d.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||cD(z2(y),o)<=0||(i=i.insert(y.key,y.mutableCopy()))}return de.resolve(i)}getAllFromCollectionGroup(n,t,o,i){Oe()}As(n,t){return de.forEach(this.docs,o=>t(o))}newChangeBuffer(n){return new OP(this)}getSize(n){return de.resolve(this.size)}}class OP extends Ak{constructor(n){super(),this.Yn=n}applyChanges(n){const t=[];return this.changes.forEach((o,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(n,i)):this.Yn.removeEntry(o)}),de.waitFor(t)}getFromCache(n,t){return this.Yn.getEntry(n,t)}getAllFromCache(n,t){return this.Yn.getEntries(n,t)}}class LP{constructor(n){this.persistence=n,this.Rs=new yd(t=>cp(t),nv),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new UD,this.targetCount=0,this.vs=vp.Pn()}forEachTarget(n,t){return this.Rs.forEach((o,i)=>t(i)),de.resolve()}getLastRemoteSnapshotVersion(n){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return de.resolve(this.bs)}allocateTargetId(n){return this.highestTargetId=this.vs.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(n,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),de.resolve()}Dn(n){this.Rs.set(n.target,n);const t=n.targetId;t>this.highestTargetId&&(this.vs=new vp(t),this.highestTargetId=t),n.sequenceNumber>this.bs&&(this.bs=n.sequenceNumber)}addTargetData(n,t){return this.Dn(t),this.targetCount+=1,de.resolve()}updateTargetData(n,t){return this.Dn(t),de.resolve()}removeTargetData(n,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(n,t,o){let i=0;const u=[];return this.Rs.forEach((d,g)=>{g.sequenceNumber<=t&&null===o.get(g.targetId)&&(this.Rs.delete(d),u.push(this.removeMatchingKeysForTargetId(n,g.targetId)),i++)}),de.waitFor(u).next(()=>i)}getTargetCount(n){return de.resolve(this.targetCount)}getTargetData(n,t){const o=this.Rs.get(t)||null;return de.resolve(o)}addMatchingKeys(n,t,o){return this.Ps.us(t,o),de.resolve()}removeMatchingKeys(n,t,o){this.Ps.hs(t,o);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(d=>{u.push(i.markPotentiallyOrphaned(n,d))}),de.waitFor(u)}removeMatchingKeysForTargetId(n,t){return this.Ps.ls(t),de.resolve()}getMatchingKeysForTargetId(n,t){const o=this.Ps.ds(t);return de.resolve(o)}containsKey(n,t){return de.resolve(this.Ps.containsKey(t))}}class Zk{constructor(n,t){this.Vs={},this.overlays={},this.Ss=new Li(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=n(this),this.Cs=new LP(this),this.indexManager=new bP,this.remoteDocumentCache=new RP(o=>this.referenceDelegate.xs(o)),this.It=new ak(t),this.Ns=new UP(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let t=this.overlays[n.toKey()];return t||(t=new MP,this.overlays[n.toKey()]=t),t}getMutationQueue(n,t){let o=this.Vs[n.toKey()];return o||(o=new PP(t,this.referenceDelegate),this.Vs[n.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(n,t,o){se("MemoryPersistence","Starting transaction:",n);const i=new FP(this.Ss.next());return this.referenceDelegate.ks(),o(i).next(u=>this.referenceDelegate.Os(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ms(n,t){return de.or(Object.values(this.Vs).map(o=>()=>o.containsKey(n,t)))}}class FP extends K2{constructor(n){super(),this.currentSequenceNumber=n}}class hw{constructor(n){this.persistence=n,this.Fs=new UD,this.$s=null}static Bs(n){return new hw(n)}get Ls(){if(this.$s)return this.$s;throw Oe()}addReference(n,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),de.resolve()}removeReference(n,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),de.resolve()}markPotentiallyOrphaned(n,t){return this.Ls.add(t.toString()),de.resolve()}removeTarget(n,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(n,t.targetId).next(i=>{i.forEach(u=>this.Ls.add(u.toString()))}).next(()=>o.removeTargetData(n,t))}ks(){this.$s=new Set}Os(n){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Ls,o=>{const i=Ke.fromPath(o);return this.Us(n,i).next(u=>{u||t.removeEntry(i,Pt.min())})}).next(()=>(this.$s=null,t.apply(n)))}updateLimboDocument(n,t){return this.Us(n,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(n){return 0}Us(n,t){return de.or([()=>de.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(n,t),()=>this.persistence.Ms(n,t)])}}class qP{constructor(n){this.It=n}$(n,t,o,i){const u=new HT("createOrUpgrade",t);var g;o<1&&i>=1&&(n.createObjectStore("owner"),(g=n).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nk,{unique:!0}),g.createObjectStore("documentMutations"),kk(n),function(g){g.createObjectStore("remoteDocuments")}(n));let d=de.resolve();return o<3&&i>=3&&(0!==o&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(n),kk(n)),d=d.next(()=>function(g){const y=g.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",w)}(u))),o<4&&i>=4&&(0!==o&&(d=d.next(()=>function(g,y){return y.store("mutations").W().next(w=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nk,{unique:!0});const D=y.store("mutations"),x=w.map(q=>D.put(q));return de.waitFor(x)})}(n,u))),d=d.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),o<5&&i>=5&&(d=d.next(()=>this.qs(u))),o<6&&i>=6&&(d=d.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(n),this.Ks(u)))),o<7&&i>=7&&(d=d.next(()=>this.Gs(u))),o<8&&i>=8&&(d=d.next(()=>this.Qs(n,u))),o<9&&i>=9&&(d=d.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(n)})),o<10&&i>=10&&(d=d.next(()=>this.js(u))),o<11&&i>=11&&(d=d.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),o<12&&i>=12&&(d=d.next(()=>{!function(g){const y=g.createObjectStore("documentOverlays",{keyPath:dP});y.createIndex("collectionPathOverlayIndex",hP,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",pP,{unique:!1})}(n)})),o<13&&i>=13&&(d=d.next(()=>function(g){const y=g.createObjectStore("remoteDocumentsV14",{keyPath:eP});y.createIndex("documentKeyIndex",tP),y.createIndex("collectionGroupIndex",nP)}(n)).next(()=>this.Ws(n,u)).next(()=>n.deleteObjectStore("remoteDocuments"))),o<14&&i>=14&&(d=d.next(()=>this.zs(n,u))),o<15&&i>=15&&(d=d.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:aP}).createIndex("sequenceNumberIndex",uP,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:lP}).createIndex("documentKeyIndex",cP,{unique:!1})}(n))),d}Ks(n){let t=0;return n.store("remoteDocuments").Z((o,i)=>{t+=lw(i)}).next(()=>{const o={byteSize:t};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(n){const t=n.store("mutationQueues"),o=n.store("mutations");return t.W().next(i=>de.forEach(i,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",d).next(g=>de.forEach(g,y=>{it(y.userId===u.userId);const w=fp(this.It,y);return vk(n,u.userId,w).next(()=>{})}))}))}Gs(n){const t=n.store("targetDocuments"),o=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return o.Z((d,g)=>{const y=new yn(d),w=[0,gi(y)];u.push(t.get(w).next(D=>D?de.resolve():t.put({targetId:0,path:gi(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>de.waitFor(u))})}Qs(n,t){n.createObjectStore("collectionParents",{keyPath:sP});const o=t.store("collectionParents"),i=new ND,u=d=>{if(i.add(d)){const g=d.lastSegment(),y=d.popLast();return o.put({collectionId:g,parent:gi(y)})}};return t.store("remoteDocuments").Z({X:!0},(d,g)=>{const y=new yn(d);return u(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,g,y],w)=>{const D=ju(g);return u(D.popLast())}))}js(n){const t=n.store("targets");return t.Z((o,i)=>{const u=gv(i),d=lk(this.It,u);return t.put(d)})}Ws(n,t){const o=t.store("remoteDocuments"),i=[];return o.Z((u,d)=>{const g=t.store("remoteDocumentsV14"),y=(w=d,w.document?new Ke(yn.fromString(w.document.name).popFirst(5)):w.noDocument?Ke.fromSegments(w.noDocument.path):w.unknownDocument?Ke.fromSegments(w.unknownDocument.path):Oe()).path.toArray();var w;const D={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(g.put(D))}).next(()=>de.waitFor(i))}zs(n,t){const o=t.store("mutations"),i=Ik(this.It),u=new Zk(hw.Bs,this.It.re);return o.W().next(d=>{const g=new Map;return d.forEach(y=>{var w;let D=null!==(w=g.get(y.userId))&&void 0!==w?w:Yt();fp(this.It,y).keys().forEach(x=>D=D.add(x)),g.set(y.userId,D)}),de.forEach(g,(y,w)=>{const D=new j(w),x=sw.oe(this.It,D),q=u.getIndexManager(D),J=cw.oe(D,this.It,q,u.referenceDelegate);return new xk(i,J,x,q).recalculateAndSaveOverlaysForDocumentKeys(new ED(t,Li.at),y).next()})})}}function kk(r){r.createObjectStore("targetDocuments",{keyPath:oP}).createIndex("documentTargetsIndex",iP,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rP,{unique:!0}),r.createObjectStore("targetGlobal")}const MD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class PD{constructor(n,t,o,i,u,d,g,y,w,D,x=15){if(this.allowTabSynchronization=n,this.persistenceKey=t,this.clientId=o,this.Hs=u,this.window=d,this.document=g,this.Js=w,this.Ys=D,this.Xs=x,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=q=>Promise.resolve(),!PD.C())throw new Me(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xP(this,i),this.ii=t+"main",this.It=new ak(y),this.ri=new Wa(this.ii,this.Xs,new qP(this.It)),this.Cs=new IP(this.referenceDelegate,this.It),this.remoteDocumentCache=Ik(this.It),this.Ns=new mP,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===D&&ut("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(ge.FAILED_PRECONDITION,MD);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Cs.getHighestSequenceNumber(n))}).then(n=>{this.Ss=new Li(n,this.Js)}).then(()=>{this.Ds=!0}).catch(n=>(this.ri&&this.ri.close(),Promise.reject(n)))}li(n){var t=this;return this.si=function(){var o=(0,be.Z)(function*(i){if(t.started)return n(i)});return function(i){return o.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.ri.L(function(){var t=(0,be.Z)(function*(o){null===o.newVersion&&(yield n())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(n){var t=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Hs.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>pw(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(n).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(n)).next(t=>this.isPrimary&&!t?this._i(n).next(()=>!1):!!t&&this.wi(n).next(()=>!0))).catch(n=>{if(hd(n))return se("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Hs.enqueueRetryable(()=>this.si(n)),this.isPrimary=n})}fi(n){return Cv(n).get("owner").next(t=>de.resolve(this.mi(t)))}gi(n){return pw(n).delete(this.clientId)}yi(){var n=this;return(0,be.Z)(function*(){if(n.isPrimary&&!n.pi(n.ni,18e5)){n.ni=Date.now();const t=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const i=fo(o,"clientMetadata");return i.W().next(u=>{const d=n.Ii(u,18e5),g=u.filter(y=>-1===d.indexOf(y));return de.forEach(g,y=>i.delete(y.clientId)).next(()=>g)})}).catch(()=>[]);if(n.oi)for(const o of t)n.oi.removeItem(n.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(n){return!!n&&n.ownerId===this.clientId}di(n){return this.Ys?de.resolve(!0):Cv(n).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Me(ge.FAILED_PRECONDITION,MD);return!1}}return!(!this.networkEnabled||!this.inForeground)||pw(n).W().next(o=>void 0===this.Ii(o,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,g=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&se("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var n=this;return(0,be.Z)(function*(){n.Ds=!1,n.Ai(),n.ei&&(n.ei.cancel(),n.ei=null),n.Ri(),n.bi(),yield n.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new ED(t,Li.at);return n._i(o).next(()=>n.gi(o))}),n.ri.close(),n.Pi()})()}Ii(n,t){return n.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",n=>pw(n).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(n,t){return cw.oe(n,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new AP(n,this.It.re.databaseId)}getDocumentOverlayCache(n){return sw.oe(this.It,n)}getBundleCache(){return this.Ns}runTransaction(n,t,o){se("IndexedDbPersistence","Starting transaction:",n);const i="readonly"===t?"readonly":"readwrite",u=15===(d=this.Xs)?fP:14===d?sk:13===d?ik:12===d?gP:11===d?ok:void Oe();var d;let g;return this.ri.runTransaction(n,i,u,y=>(g=new ED(y,this.Ss?this.Ss.next():Li.at),"readwrite-primary"===t?this.fi(g).next(w=>!!w||this.di(g)).next(w=>{if(!w)throw ut(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Me(ge.FAILED_PRECONDITION,Q2);return o(g)}).next(w=>this.wi(g).next(()=>w)):this.Vi(g).next(()=>o(g)))).then(y=>(g.raiseOnCommittedEvent(),y))}Vi(n){return Cv(n).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(ge.FAILED_PRECONDITION,MD)})}wi(n){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cv(n).put("owner",t)}static C(){return Wa.C()}_i(n){const t=Cv(n);return t.get("owner").next(o=>this.mi(o)?(se("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}pi(n,t){const o=Date.now();return!(n<o-t||n>o&&(ut(`Detected an update time that is in the future: ${n} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,hn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(n){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(n)));return se("IndexedDbPersistence",`Client '${n}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return ut("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(n){ut("Failed to set zombie client id.",n)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(n){}}Ti(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Cv(r){return fo(r,"owner")}function pw(r){return fo(r,"clientMetadata")}function RD(r,n){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+n+"/"+t+"/"}class OD{constructor(n,t,o,i){this.targetId=n,this.fromCache=t,this.Si=o,this.Di=i}static Ci(n,t){let o=Yt(),i=Yt();for(const u of t.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new OD(n,t.fromCache,o,i)}}class Nk{constructor(){this.xi=!1}initialize(n,t){this.Ni=n,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(n,t,o,i){return this.ki(n,t).next(u=>u||this.Oi(n,t,i,o)).next(u=>u||this.Mi(n,t))}ki(n,t){if(yZ(t))return de.resolve(null);let o=pi(t);return this.indexManager.getIndexType(n,o).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=YT(t,null,"F"),o=pi(t)),this.indexManager.getDocumentsMatchingTarget(n,o).next(u=>{const d=Yt(...u);return this.Ni.getDocuments(n,d).next(g=>this.indexManager.getMinOffset(n,o).next(y=>{const w=this.Fi(t,g);return this.$i(t,w,d,y.readTime)?this.ki(n,YT(t,null,"F")):this.Bi(n,w,t,y)}))})))}Oi(n,t,o,i){return yZ(t)||i.isEqual(Pt.min())?this.Mi(n,t):this.Ni.getDocuments(n,o).next(u=>{const d=this.Fi(t,u);return this.$i(t,d,o,i)?this.Mi(n,t):(qe()<=Pu.in.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vD(t)),this.Bi(n,d,t,W2(i,-1)))})}Fi(n,t){let o=new Pn(TZ(n));return t.forEach((i,u)=>{CD(n,u)&&(o=o.add(u))}),o}$i(n,t,o,i){if(null===n.limit)return!1;if(o.size!==t.size)return!0;const u="F"===n.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Mi(n,t){return qe()<=Pu.in.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",vD(t)),this.Ni.getDocumentsMatchingQuery(n,t,ws.min())}Bi(n,t,o,i){return this.Ni.getDocumentsMatchingQuery(n,o,i).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class VP{constructor(n,t,o,i){this.persistence=n,this.Li=t,this.It=i,this.Ui=new Tr(Wt),this.qi=new yd(u=>cp(u),nv),this.Ki=new Map,this.Gi=n.getRemoteDocumentCache(),this.Cs=n.getTargetCache(),this.Ns=n.getBundleCache(),this.Qi(o)}Qi(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new xk(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>n.collect(t,this.Ui))}}function Uk(r,n,t,o){return new VP(r,n,t,o)}function Mk(r,n){return LD.apply(this,arguments)}function LD(){return LD=(0,be.Z)(function*(r,n){const t=We(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let i;return t.mutationQueue.getAllMutationBatches(o).next(u=>(i=u,t.Qi(n),t.mutationQueue.getAllMutationBatches(o))).next(u=>{const d=[],g=[];let y=Yt();for(const w of i){d.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}for(const w of u){g.push(w.batchId);for(const D of w.mutations)y=y.add(D.key)}return t.localDocuments.getDocuments(o,y).next(w=>({ji:w,removedBatchIds:d,addedBatchIds:g}))})})}),LD.apply(this,arguments)}function BP(r,n){const t=We(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const i=n.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,g,y,w){const D=y.batch,x=D.keys();let q=de.resolve();return x.forEach(J=>{q=q.next(()=>w.getEntry(g,J)).next(ee=>{const Ne=y.docVersions.get(J);it(null!==Ne),ee.version.compareTo(Ne)<0&&(D.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),w.addEntry(ee)))})}),q.next(()=>d.mutationQueue.removeMutationBatch(g,D))}(t,o,n,u).next(()=>u.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,i,n.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(d){let g=Yt();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(g=g.add(d.batch.mutations[y].key));return g}(n))).next(()=>t.localDocuments.getDocuments(o,i))})}function Pk(r){const n=We(r);return n.persistence.runTransaction("Get last remote snapshot version","readonly",t=>n.Cs.getLastRemoteSnapshotVersion(t))}function jP(r,n){const t=We(r),o=n.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const g=[];n.targetChanges.forEach((D,x)=>{const q=i.get(x);if(!q)return;g.push(t.Cs.removeMatchingKeys(u,D.removedDocuments,x).next(()=>t.Cs.addMatchingKeys(u,D.addedDocuments,x)));let J=q.withSequenceNumber(u.currentSequenceNumber);var ee,Ne,Be;n.targetMismatches.has(x)?J=J.withResumeToken(eo.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):D.resumeToken.approximateByteSize()>0&&(J=J.withResumeToken(D.resumeToken,o)),i=i.insert(x,J),Ne=J,Be=D,(0===(ee=q).resumeToken.approximateByteSize()||Ne.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||Be.addedDocuments.size+Be.modifiedDocuments.size+Be.removedDocuments.size>0)&&g.push(t.Cs.updateTargetData(u,J))});let y=Fi(),w=Yt();if(n.documentUpdates.forEach(D=>{n.resolvedLimboDocuments.has(D)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,D))}),g.push(Rk(u,d,n.documentUpdates).next(D=>{y=D.Wi,w=D.zi})),!o.isEqual(Pt.min())){const D=t.Cs.getLastRemoteSnapshotVersion(u).next(x=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,o));g.push(D)}return de.waitFor(g).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,y,w)).next(()=>y)}).then(u=>(t.Ui=i,u))}function Rk(r,n,t){let o=Yt(),i=Yt();return t.forEach(u=>o=o.add(u)),n.getEntries(r,o).next(u=>{let d=Fi();return t.forEach((g,y)=>{const w=u.get(g);y.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(g)),y.isNoDocument()&&y.version.isEqual(Pt.min())?(n.removeEntry(g,y.readTime),d=d.insert(g,y)):!w.isValidDocument()||y.version.compareTo(w.version)>0||0===y.version.compareTo(w.version)&&w.hasPendingWrites?(n.addEntry(y),d=d.insert(g,y)):se("LocalStore","Ignoring outdated watch update for ",g,". Current version:",w.version," Watch version:",y.version)}),{Wi:d,zi:i}})}function $P(r,n){const t=We(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===n&&(n=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,n)))}function Of(r,n){const t=We(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let i;return t.Cs.getTargetData(o,n).next(u=>u?(i=u,de.resolve(i)):t.Cs.allocateTargetId(o).next(d=>(i=new vd(n,d,0,o.currentSequenceNumber),t.Cs.addTargetData(o,i).next(()=>i))))}).then(o=>{const i=t.Ui.get(o.targetId);return(null===i||o.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(o.targetId,o),t.qi.set(n,o.targetId)),o})}function Lf(r,n,t){return FD.apply(this,arguments)}function FD(){return FD=(0,be.Z)(function*(r,n,t){const o=We(r),i=o.Ui.get(n),u=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",u,d=>o.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!hd(d))throw d;se("LocalStore",`Failed to update sequence numbers for target ${n}: ${d}`)}o.Ui=o.Ui.remove(n),o.qi.delete(i.target)}),FD.apply(this,arguments)}function gw(r,n,t){const o=We(r);let i=Pt.min(),u=Yt();return o.persistence.runTransaction("Execute query","readonly",d=>function(g,y,w){const D=We(g),x=D.qi.get(w);return void 0!==x?de.resolve(D.Ui.get(x)):D.Cs.getTargetData(y,w)}(o,d,pi(n)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(d,g.targetId).next(y=>{u=y})}).next(()=>o.Li.getDocumentsMatchingQuery(d,n,t?i:Pt.min(),t?u:Yt())).next(g=>(Fk(o,CZ(n),g),{documents:g,Hi:u})))}function Ok(r,n){const t=We(r),o=We(t.Cs),i=t.Ui.get(n);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>o.se(u,n).next(d=>d?d.target:null))}function Lk(r,n){const t=We(r),o=t.Ki.get(n)||Pt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,n,W2(o,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Fk(t,n,i),i))}function Fk(r,n,t){let o=r.Ki.get(n)||Pt.min();t.forEach((i,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),r.Ki.set(n,o)}function qD(){return qD=(0,be.Z)(function*(r,n,t,o){const i=We(r);let u=Yt(),d=Fi();for(const w of t){const D=n.Ji(w.metadata.name);w.document&&(u=u.add(D));const x=n.Yi(w);x.setReadTime(n.Xi(w.metadata.readTime)),d=d.insert(D,x)}const g=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield Of(i,(w=o,pi(Df(yn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>Rk(w,g,d).next(D=>(g.apply(w),D)).next(D=>i.Cs.removeMatchingKeysForTargetId(w,y.targetId).next(()=>i.Cs.addMatchingKeys(w,u,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,D.Wi,D.zi)).next(()=>D.Wi)))}),qD.apply(this,arguments)}function HP(r,n){return VD.apply(this,arguments)}function VD(){return VD=(0,be.Z)(function*(r,n,t=Yt()){const o=yield Of(r,pi(ZD(n.bundledQuery))),i=We(r);return i.persistence.runTransaction("Save named query","readwrite",u=>{const d=go(n.readTime);if(o.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(u,n);const g=o.withResumeToken(eo.EMPTY_BYTE_STRING,d);return i.Ui=i.Ui.insert(g.targetId,g),i.Cs.updateTargetData(u,g).next(()=>i.Cs.removeMatchingKeysForTargetId(u,o.targetId)).next(()=>i.Cs.addMatchingKeys(u,t,o.targetId)).next(()=>i.Ns.saveNamedQuery(u,n))})}),VD.apply(this,arguments)}function qk(r,n){return`firestore_clients_${r}_${n}`}function Vk(r,n,t){let o=`firestore_mutations_${r}_${t}`;return n.isAuthenticated()&&(o+=`_${n.uid}`),o}function BD(r,n){return`firestore_targets_${r}_${n}`}class fw{constructor(n,t,o,i){this.user=n,this.batchId=t,this.state=o,this.error=i}static Zi(n,t,o){const i=JSON.parse(o);let u,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(u=new Me(i.error.code,i.error.message))),d?new fw(n,t,i.state,u):(ut("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}tr(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Tv{constructor(n,t,o){this.targetId=n,this.state=t,this.error=o}static Zi(n,t){const o=JSON.parse(t);let i,u="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(i=new Me(o.error.code,o.error.message))),u?new Tv(n,o.state,i):(ut("SharedClientState",`Failed to parse target state for ID '${n}': ${t}`),null)}tr(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class _w{constructor(n,t){this.clientId=n,this.activeTargetIds=t}static Zi(n,t){const o=JSON.parse(t);let i="object"==typeof o&&o.activeTargetIds instanceof Array,u=nw();for(let d=0;i&&d<o.activeTargetIds.length;++d)i=rZ(o.activeTargetIds[d]),u=u.add(o.activeTargetIds[d]);return i?new _w(n,u):(ut("SharedClientState",`Failed to parse client data for instance '${n}': ${t}`),null)}}class jD{constructor(n,t){this.clientId=n,this.onlineState=t}static Zi(n){const t=JSON.parse(n);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new jD(t.clientId,t.onlineState):(ut("SharedClientState",`Failed to parse online state: ${n}`),null)}}class $D{constructor(){this.activeTargetIds=nw()}er(n){this.activeTargetIds=this.activeTargetIds.add(n)}nr(n){this.activeTargetIds=this.activeTargetIds.delete(n)}tr(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class GD{constructor(n,t,o,i,u){this.window=n,this.Hs=t,this.persistenceKey=o,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Tr(Wt),this.started=!1,this.cr=[];const d=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=qk(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new $D),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,be.Z)(function*(){const t=yield n.syncEngine.vi();for(const i of t){if(i===n.sr)continue;const u=n.getItem(qk(n.persistenceKey,i));if(u){const d=_w.Zi(i,u);d&&(n.ur=n.ur.insert(d.clientId,d))}}n.gr();const o=n.storage.getItem(n.wr);if(o){const i=n.yr(o);i&&n.pr(i)}for(const i of n.cr)n.rr(i);n.cr=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.hr,JSON.stringify(n))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(n){let t=!1;return this.ur.forEach((o,i)=>{i.activeTargetIds.has(n)&&(t=!0)}),t}addPendingMutation(n){this.Tr(n,"pending")}updateMutationState(n,t,o){this.Tr(n,t,o),this.Er(n)}addLocalQueryTarget(n){let t="not-current";if(this.isActiveQueryTarget(n)){const o=this.storage.getItem(BD(this.persistenceKey,n));if(o){const i=Tv.Zi(n,o);i&&(t=i.state)}}return this.Ar.er(n),this.gr(),t}removeLocalQueryTarget(n){this.Ar.nr(n),this.gr()}isLocalQueryTarget(n){return this.Ar.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(BD(this.persistenceKey,n))}updateQueryState(n,t,o){this.Rr(n,t,o)}handleUserChange(n,t,o){t.forEach(i=>{this.Er(i)}),this.currentUser=n,o.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(n){this.br(n)}notifyBundleLoaded(n){this.Pr(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(n){const t=this.storage.getItem(n);return se("SharedClientState","READ",n,t),t}setItem(n,t){se("SharedClientState","SET",n,t),this.storage.setItem(n,t)}removeItem(n){se("SharedClientState","REMOVE",n),this.storage.removeItem(n)}rr(n){var t=this;const o=n;if(o.storageArea===this.storage){if(se("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void ut("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==o.key)if(t.lr.test(o.key)){if(null==o.newValue){const i=t.vr(o.key);return t.Vr(i,null)}{const i=t.Sr(o.key,o.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const i=t.Dr(o.key,o.newValue);if(i)return t.Cr(i)}}else if(t._r.test(o.key)){if(null!==o.newValue){const i=t.Nr(o.key,o.newValue);if(i)return t.kr(i)}}else if(o.key===t.wr){if(null!==o.newValue){const i=t.yr(o.newValue);if(i)return t.pr(i)}}else if(o.key===t.hr){const i=function(u){let d=Li.at;if(null!=u)try{const g=JSON.parse(u);it("number"==typeof g),d=g}catch(g){ut("SharedClientState","Failed to read sequence number from WebStorage",g)}return d}(o.newValue);i!==Li.at&&t.sequenceNumberHandler(i)}else if(o.key===t.mr){const i=t.Or(o.newValue);yield Promise.all(i.map(u=>t.syncEngine.Mr(u)))}}else t.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(n,t,o){const i=new fw(this.currentUser,n,t,o),u=Vk(this.persistenceKey,this.currentUser,n);this.setItem(u,i.tr())}Er(n){const t=Vk(this.persistenceKey,this.currentUser,n);this.removeItem(t)}br(n){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:n}))}Rr(n,t,o){const i=BD(this.persistenceKey,n),u=new Tv(n,t,o);this.setItem(i,u.tr())}Pr(n){const t=JSON.stringify(Array.from(n));this.setItem(this.mr,t)}vr(n){const t=this.lr.exec(n);return t?t[1]:null}Sr(n,t){const o=this.vr(n);return _w.Zi(o,t)}Dr(n,t){const o=this.dr.exec(n),i=Number(o[1]);return fw.Zi(new j(void 0!==o[2]?o[2]:null),i,t)}Nr(n,t){const o=this._r.exec(n),i=Number(o[1]);return Tv.Zi(i,t)}yr(n){return jD.Zi(n)}Or(n){return JSON.parse(n)}Cr(n){var t=this;return(0,be.Z)(function*(){if(n.user.uid===t.currentUser.uid)return t.syncEngine.Fr(n.batchId,n.state,n.error);se("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}kr(n){return this.syncEngine.$r(n.targetId,n.state,n.error)}Vr(n,t){const o=t?this.ur.insert(n,t):this.ur.remove(n),i=this.Ir(this.ur),u=this.Ir(o),d=[],g=[];return u.forEach(y=>{i.has(y)||d.push(y)}),i.forEach(y=>{u.has(y)||g.push(y)}),this.syncEngine.Br(d,g).then(()=>{this.ur=o})}pr(n){this.ur.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}Ir(n){let t=nw();return n.forEach((o,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Bk{constructor(){this.Lr=new $D,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,t,o){}addLocalQueryTarget(n){return this.Lr.er(n),this.Ur[n]||"not-current"}updateQueryState(n,t,o){this.Ur[n]=t}removeLocalQueryTarget(n){this.Lr.nr(n)}isLocalQueryTarget(n){return this.Lr.activeTargetIds.has(n)}clearQueryState(n){delete this.Ur[n]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(n){return this.Lr.activeTargetIds.has(n)}start(){return this.Lr=new $D,Promise.resolve()}handleUserChange(n,t,o){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class JP{qr(n){}shutdown(){}}class jk{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(n){this.Wr.push(n)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.Wr)n(0)}jr(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.Wr)n(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const WP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zP{constructor(n){this.Hr=n.Hr,this.Jr=n.Jr}Yr(n){this.Xr=n}Zr(n){this.eo=n}onMessage(n){this.no=n}close(){this.Jr()}send(n){this.Hr(n)}so(){this.Xr()}io(n){this.eo(n)}ro(n){this.no(n)}}class QP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.oo=(n.ssl?"https":"http")+"://"+n.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(n,t,o,i,u){const d=this.ho(n,t);se("RestConnection","Sending: ",d,o);const g={};return this.lo(g,i,u),this.fo(n,d,g,o).then(y=>(se("RestConnection","Received: ",y),y),y=>{throw Ze("RestConnection",`${n} failed with error: `,y,"url: ",d,"request:",o),y})}_o(n,t,o,i,u,d){return this.ao(n,t,o,i,u)}lo(n,t,o){n["X-Goog-Api-Client"]="gl-js/ fire/"+ne,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>n[u]=i),o&&o.headers.forEach((i,u)=>n[u]=i)}ho(n,t){return`${this.oo}/v1/${t}:${WP[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}fo(n,t,o,i){return new Promise((u,d)=>{const g=new k;g.setWithCredentials(!0),g.listenOnce(p.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case h.NO_ERROR:const w=g.getResponseJson();se("Connection","XHR received:",JSON.stringify(w)),u(w);break;case h.TIMEOUT:se("Connection",'RPC "'+n+'" timed out'),d(new Me(ge.DEADLINE_EXCEEDED,"Request time out"));break;case h.HTTP_ERROR:const D=g.getStatus();if(se("Connection",'RPC "'+n+'" failed with status:',D,"response text:",g.getResponseText()),D>0){const x=g.getResponseJson().error;if(x&&x.status&&x.message){const q=function(J){const ee=J.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(ee)>=0?ee:ge.UNKNOWN}(x.status);d(new Me(q,x.message))}else d(new Me(ge.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Me(ge.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{se("Connection",'RPC "'+n+'" completed.')}});const y=JSON.stringify(i);g.send(t,"POST",y,o,15)})}wo(n,t,o){const i=[this.oo,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=l(),d=c(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new b({})),this.lo(g.initMessageHeaders,t,o),g.encodeInitMessageHeaders=!0;const y=i.join("");se("Connection","Creating WebChannel: "+y,g);const w=u.createWebChannel(y,g);let D=!1,x=!1;const q=new zP({Hr:ee=>{x?se("Connection","Not sending because WebChannel is closed:",ee):(D||(se("Connection","Opening WebChannel transport."),w.open(),D=!0),se("Connection","WebChannel sending:",ee),w.send(ee))},Jr:()=>w.close()}),J=(ee,Ne,Be)=>{ee.listen(Ne,ht=>{try{Be(ht)}catch(Rt){setTimeout(()=>{throw Rt},0)}})};return J(w,E.EventType.OPEN,()=>{x||se("Connection","WebChannel transport opened.")}),J(w,E.EventType.CLOSE,()=>{x||(x=!0,se("Connection","WebChannel transport closed"),q.io())}),J(w,E.EventType.ERROR,ee=>{x||(x=!0,Ze("Connection","WebChannel transport errored:",ee),q.io(new Me(ge.UNAVAILABLE,"The operation could not be completed")))}),J(w,E.EventType.MESSAGE,ee=>{var Ne;if(!x){const Be=ee.data[0];it(!!Be);const ht=Be,Rt=ht.error||(null===(Ne=ht[0])||void 0===Ne?void 0:Ne.error);if(Rt){se("Connection","WebChannel received error:",Rt);const Ht=Rt.status;let At=function(tn){const to=qr[tn];if(void 0!==to)return RZ(to)}(Ht),Vt=Rt.message;void 0===At&&(At=ge.INTERNAL,Vt="Unknown error status: "+Ht+" with message "+Rt.message),x=!0,q.io(new Me(At,Vt)),w.close()}else se("Connection","WebChannel received:",Be),q.ro(Be)}}),J(d,m.STAT_EVENT,ee=>{ee.stat===C.PROXY?se("Connection","Detected buffering proxy"):ee.stat===C.NOPROXY&&se("Connection","Detected no buffering proxy")}),setTimeout(()=>{q.so()},0),q}}function $k(){return"undefined"!=typeof window?window:null}function mw(){return"undefined"!=typeof document?document:null}function wv(r){return new VM(r,!0)}class HD{constructor(n,t,o=1e3,i=1.5,u=6e4){this.Hs=n,this.timerId=t,this.mo=o,this.yo=i,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(n){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-o);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),n())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Gk{constructor(n,t,o,i,u,d,g,y){this.Hs=n,this.vo=o,this.Vo=i,this.So=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new HD(n,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var n=this;return(0,be.Z)(function*(){n.ko()&&(yield n.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(n){this.Uo(),this.stream.send(n)}Bo(){var n=this;return(0,be.Z)(function*(){if(n.Oo())return n.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(n,t){var o=this;return(0,be.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==n?o.No.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(ut(t.toString()),ut("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):t&&t.code===ge.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=n,yield o.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const n=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,i])=>{this.Do===t&&this.Qo(o,i)},o=>{n(()=>{const i=new Me(ge.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(i)})})}Qo(n,t){const o=this.Go(this.Do);this.stream=this.Wo(n,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{o(()=>this.jo(i))}),this.stream.onMessage(i=>{o(()=>this.onMessage(i))})}Mo(){var n=this;this.state=5,this.No.Ro((0,be.Z)(function*(){n.state=0,n.start()}))}jo(n){return se("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}Go(n){return t=>{this.Hs.enqueueAndForget(()=>this.Do===n?t():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KP extends Gk{constructor(n,t,o,i,u,d){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,i,d),this.It=u}Wo(n,t){return this.So.wo("Listen",n,t)}onMessage(n){this.No.reset();const t=function $M(r,n){let t;if("targetChange"in n){const o="NO_CHANGE"===(y=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Oe(),i=n.targetChange.targetIds||[],u=function(y,w){return y.gt?(it(void 0===w||"string"==typeof w),eo.fromBase64String(w||"")):(it(void 0===w||w instanceof Uint8Array),eo.fromUint8Array(w||new Uint8Array))}(r,n.targetChange.resumeToken),d=n.targetChange.cause,g=d&&function(y){const w=void 0===y.code?ge.UNKNOWN:RZ(y.code);return new Me(w,y.message||"")}(d);t=new VZ(o,i,u,g||null)}else if("documentChange"in n){const o=n.documentChange,i=Bu(r,o.document.name),u=go(o.document.updateTime),d=new Uo({mapValue:{fields:o.document.fields}}),g=Gn.newFoundDocument(i,u,d);t=new rw(o.targetIds||[],o.removedTargetIds||[],g.key,g)}else if("documentDelete"in n){const o=n.documentDelete,i=Bu(r,o.document),u=o.readTime?go(o.readTime):Pt.min(),d=Gn.newNoDocument(i,u);t=new rw([],o.removedTargetIds||[],d.key,d)}else if("documentRemove"in n){const o=n.documentRemove,i=Bu(r,o.document);t=new rw([],o.removedTargetIds||[],i,null)}else{if(!("filter"in n))return Oe();{const o=n.filter,u=new UM(o.count||0);t=new qZ(o.targetId,u)}}var y;return t}(this.It,n),o=function(i){if(!("targetChange"in i))return Pt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?Pt.min():u.readTime?go(u.readTime):Pt.min()}(n);return this.listener.zo(t,o)}Ho(n){const t={};t.database=hv(this.It),t.addTarget=function(i,u){let d;const g=u.target;return d=QT(g)?{documents:KZ(i,g)}:{query:ID(i,g)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=GZ(i,u.resumeToken):u.snapshotVersion.compareTo(Pt.min())>0&&(d.readTime=cv(i,u.snapshotVersion.toTimestamp())),d}(this.It,n);const o=function HM(r,n){const t=function(o,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Oe()}}(0,n.purpose);return null==t?null:{"goog-listen-tags":t}}(0,n);o&&(t.labels=o),this.Lo(t)}Jo(n){const t={};t.database=hv(this.It),t.removeTarget=n,this.Lo(t)}}class YP extends Gk{constructor(n,t,o,i,u,d){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,i,d),this.It=u,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(n,t){return this.So.wo("Write",n,t)}onMessage(n){if(it(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Yo){this.No.reset();const t=function GM(r,n){return r&&r.length>0?(it(void 0!==n),r.map(t=>function(o,i){let u=go(o.updateTime?o.updateTime:i);return u.isEqual(Pt.min())&&(u=go(i)),new ZM(u,o.transformResults||[])}(t,n))):[]}(n.writeResults,n.commitTime),o=go(n.commitTime);return this.listener.tu(o,t)}return it(!n.writeResults||0===n.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const n={};n.database=hv(this.It),this.Lo(n)}Zo(n){const t={streamToken:this.lastStreamToken,writes:n.map(o=>pv(this.It,o))};this.Lo(t)}}class XP extends class{}{constructor(n,t,o,i){super(),this.authCredentials=n,this.appCheckCredentials=t,this.So=o,this.It=i,this.su=!1}iu(){if(this.su)throw new Me(ge.FAILED_PRECONDITION,"The client has already been terminated.")}ao(n,t,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.So.ao(n,t,o,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Me(ge.UNKNOWN,i.toString())})}_o(n,t,o,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.So._o(n,t,o,u,d,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Me(ge.UNKNOWN,u.toString())})}terminate(){this.su=!0}}class tR{constructor(n,t){this.asyncQueue=n,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(n){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.au("Offline")))}set(n){this.fu(),this.ru=0,"Online"===n&&(this.uu=!1),this.au(n)}au(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}hu(n){const t=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(ut(t),this.uu=!1):se("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class nR{constructor(n,t,o,i,u){var d=this;this.localStore=n,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=u,this.gu.qr(g=>{o.enqueueAndForget((0,be.Z)(function*(){var y;Yl(d)&&(se("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,be.Z)(function*(w){const D=We(w);D.wu.add(4),yield Ff(D),D.yu.set("Unknown"),D.wu.delete(4),yield bv(D)}),function(w){return y.apply(this,arguments)})(d))}))}),this.yu=new tR(o,i)}}function bv(r){return WD.apply(this,arguments)}function WD(){return WD=(0,be.Z)(function*(r){if(Yl(r))for(const n of r.mu)yield n(!0)}),WD.apply(this,arguments)}function Ff(r){return zD.apply(this,arguments)}function zD(){return zD=(0,be.Z)(function*(r){for(const n of r.mu)yield n(!1)}),zD.apply(this,arguments)}function yw(r,n){const t=We(r);t._u.has(n.targetId)||(t._u.set(n.targetId,n),YD(t)?KD(t):Vf(t).Oo()&&QD(t,n))}function Av(r,n){const t=We(r),o=Vf(t);t._u.delete(n),o.Oo()&&Hk(t,n),0===t._u.size&&(o.Oo()?o.$o():Yl(t)&&t.yu.set("Unknown"))}function QD(r,n){r.pu.Mt(n.targetId),Vf(r).Ho(n)}function Hk(r,n){r.pu.Mt(n),Vf(r).Jo(n)}function KD(r){r.pu=new LM({getRemoteKeysForTarget:n=>r.remoteSyncer.getRemoteKeysForTarget(n),se:n=>r._u.get(n)||null}),Vf(r).start(),r.yu.cu()}function YD(r){return Yl(r)&&!Vf(r).ko()&&r._u.size>0}function Yl(r){return 0===We(r).wu.size}function Jk(r){r.pu=void 0}function rR(r){return XD.apply(this,arguments)}function XD(){return XD=(0,be.Z)(function*(r){r._u.forEach((n,t)=>{QD(r,n)})}),XD.apply(this,arguments)}function oR(r,n){return eS.apply(this,arguments)}function eS(){return eS=(0,be.Z)(function*(r,n){Jk(r),YD(r)?(r.yu.lu(n),KD(r)):r.yu.set("Unknown")}),eS.apply(this,arguments)}function iR(r,n,t){return tS.apply(this,arguments)}function tS(){return tS=(0,be.Z)(function*(r,n,t){if(r.yu.set("Online"),n instanceof VZ&&2===n.state&&n.cause)try{yield(o=(0,be.Z)(function*(i,u){const d=u.cause;for(const g of u.targetIds)i._u.has(g)&&(yield i.remoteSyncer.rejectListen(g,d),i._u.delete(g),i.pu.removeTarget(g))}),function(i,u){return o.apply(this,arguments)})(r,n)}catch(o){se("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),o),yield vw(r,o)}else if(n instanceof rw?r.pu.Gt(n):n instanceof qZ?r.pu.Yt(n):r.pu.Wt(n),!t.isEqual(Pt.min()))try{const o=yield Pk(r.localStore);t.compareTo(o)>=0&&(yield function(i,u){const d=i.pu.te(u);return d.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const w=i._u.get(y);w&&i._u.set(y,w.withResumeToken(g.resumeToken,u))}}),d.targetMismatches.forEach(g=>{const y=i._u.get(g);if(!y)return;i._u.set(g,y.withResumeToken(eo.EMPTY_BYTE_STRING,y.snapshotVersion)),Hk(i,g);const w=new vd(y.target,g,1,y.sequenceNumber);QD(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(r,t))}catch(o){se("RemoteStore","Failed to raise snapshot:",o),yield vw(r,o)}var o}),tS.apply(this,arguments)}function vw(r,n,t){return nS.apply(this,arguments)}function nS(){return nS=(0,be.Z)(function*(r,n,t){if(!hd(n))throw n;r.wu.add(1),yield Ff(r),r.yu.set("Offline"),t||(t=()=>Pk(r.localStore)),r.asyncQueue.enqueueRetryable((0,be.Z)(function*(){se("RemoteStore","Retrying IndexedDB access"),yield t(),r.wu.delete(1),yield bv(r)}))}),nS.apply(this,arguments)}function Wk(r,n){return n().catch(t=>vw(r,t,n))}function qf(r){return rS.apply(this,arguments)}function rS(){return rS=(0,be.Z)(function*(r){const n=We(r),t=wd(n);let o=n.du.length>0?n.du[n.du.length-1].batchId:-1;for(;sR(n);)try{const i=yield $P(n.localStore,o);if(null===i){0===n.du.length&&t.$o();break}o=i.batchId,aR(n,i)}catch(i){yield vw(n,i)}zk(n)&&Qk(n)}),rS.apply(this,arguments)}function sR(r){return Yl(r)&&r.du.length<10}function aR(r,n){r.du.push(n);const t=wd(r);t.Oo()&&t.Xo&&t.Zo(n.mutations)}function zk(r){return Yl(r)&&!wd(r).ko()&&r.du.length>0}function Qk(r){wd(r).start()}function uR(r){return oS.apply(this,arguments)}function oS(){return oS=(0,be.Z)(function*(r){wd(r).nu()}),oS.apply(this,arguments)}function lR(r){return iS.apply(this,arguments)}function iS(){return iS=(0,be.Z)(function*(r){const n=wd(r);for(const t of r.du)n.Zo(t.mutations)}),iS.apply(this,arguments)}function cR(r,n,t){return sS.apply(this,arguments)}function sS(){return sS=(0,be.Z)(function*(r,n,t){const o=r.du.shift(),i=SD.from(o,n,t);yield Wk(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),yield qf(r)}),sS.apply(this,arguments)}function dR(r,n){return aS.apply(this,arguments)}function aS(){return aS=(0,be.Z)(function*(r,n){var t;n&&wd(r).Xo&&(yield(t=(0,be.Z)(function*(o,i){if(PZ(u=i.code)&&u!==ge.ABORTED){const d=o.du.shift();wd(o).Fo(),yield Wk(o,()=>o.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield qf(o)}var u}),function(o,i){return t.apply(this,arguments)})(r,n)),zk(r)&&Qk(r)}),aS.apply(this,arguments)}function Kk(r,n){return uS.apply(this,arguments)}function uS(){return uS=(0,be.Z)(function*(r,n){const t=We(r);t.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const o=Yl(t);t.wu.add(3),yield Ff(t),o&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(n),t.wu.delete(3),yield bv(t)}),uS.apply(this,arguments)}function lS(r,n){return cS.apply(this,arguments)}function cS(){return cS=(0,be.Z)(function*(r,n){const t=We(r);n?(t.wu.delete(2),yield bv(t)):n||(t.wu.add(2),yield Ff(t),t.yu.set("Unknown"))}),cS.apply(this,arguments)}function Vf(r){return r.Iu||(r.Iu=function(n,t,o){const i=We(n);return i.iu(),new KP(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,o)}(r.datastore,r.asyncQueue,{Yr:rR.bind(null,r),Zr:oR.bind(null,r),zo:iR.bind(null,r)}),r.mu.push(function(){var n=(0,be.Z)(function*(t){t?(r.Iu.Fo(),YD(r)?KD(r):r.yu.set("Unknown")):(yield r.Iu.stop(),Jk(r))});return function(t){return n.apply(this,arguments)}}())),r.Iu}function wd(r){return r.Tu||(r.Tu=function(n,t,o){const i=We(n);return i.iu(),new YP(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,o)}(r.datastore,r.asyncQueue,{Yr:uR.bind(null,r),Zr:dR.bind(null,r),eu:lR.bind(null,r),tu:cR.bind(null,r)}),r.mu.push(function(){var n=(0,be.Z)(function*(t){t?(r.Tu.Fo(),yield qf(r)):(yield r.Tu.stop(),r.du.length>0&&(se("RemoteStore",`Stopping write stream with ${r.du.length} pending writes`),r.du=[]))});return function(t){return n.apply(this,arguments)}}())),r.Tu}class dS{constructor(n,t,o,i,u){this.asyncQueue=n,this.timerId=t,this.targetTimeMs=o,this.op=i,this.removalCallback=u,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(n,t,o,i,u){const d=Date.now()+o,g=new dS(n,t,d,i,u);return g.start(o),g}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(ge.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bf(r,n){if(ut("AsyncQueue",`${n}: ${r}`),hd(r))return new Me(ge.UNAVAILABLE,`${n}: ${r}`);throw r}class jf{constructor(n){this.comparator=n?(t,o)=>n(t,o)||Ke.comparator(t.key,o.key):(t,o)=>Ke.comparator(t.key,o.key),this.keyedMap=sv(),this.sortedSet=new Tr(this.comparator)}static emptySet(n){return new jf(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const t=this.keyedMap.get(n);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((t,o)=>(n(t),!1))}add(n){const t=this.delete(n.key);return t.copy(t.keyedMap.insert(n.key,n),t.sortedSet.insert(n,null))}delete(n){const t=this.get(n);return t?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(t)):this}isEqual(n){if(!(n instanceof jf)||this.size!==n.size)return!1;const t=this.sortedSet.getIterator(),o=n.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=o.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const n=[];return this.forEach(t=>{n.push(t.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,t){const o=new jf;return o.comparator=this.comparator,o.keyedMap=n,o.sortedSet=t,o}}class Yk{constructor(){this.Eu=new Tr(Ke.comparator)}track(n){const t=n.doc.key,o=this.Eu.get(t);o?0!==n.type&&3===o.type?this.Eu=this.Eu.insert(t,n):3===n.type&&1!==o.type?this.Eu=this.Eu.insert(t,{type:o.type,doc:n.doc}):2===n.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:n.doc}):2===n.type&&0===o.type?this.Eu=this.Eu.insert(t,{type:0,doc:n.doc}):1===n.type&&0===o.type?this.Eu=this.Eu.remove(t):1===n.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:1,doc:o.doc}):0===n.type&&1===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:n.doc}):Oe():this.Eu=this.Eu.insert(t,n)}Au(){const n=[];return this.Eu.inorderTraversal((t,o)=>{n.push(o)}),n}}class $f{constructor(n,t,o,i,u,d,g,y,w){this.query=n,this.docs=t,this.oldDocs=o,this.docChanges=i,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=w}static fromInitialDocuments(n,t,o,i,u){const d=[];return t.forEach(g=>{d.push({type:0,doc:g})}),new $f(n,t,jf.emptySet(t),d,o,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&rv(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const t=this.docChanges,o=n.docChanges;if(t.length!==o.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==o[i].type||!t[i].doc.isEqual(o[i].doc))return!1;return!0}}class hR{constructor(){this.Ru=void 0,this.listeners=[]}}class pR{constructor(){this.queries=new yd(n=>vZ(n),rv),this.onlineState="Unknown",this.bu=new Set}}function hS(r,n){return pS.apply(this,arguments)}function pS(){return pS=(0,be.Z)(function*(r,n){const t=We(r),o=n.query;let i=!1,u=t.queries.get(o);if(u||(i=!0,u=new hR),i)try{u.Ru=yield t.onListen(o)}catch(d){const g=Bf(d,`Initialization of query '${vD(n.query)}' failed`);return void n.onError(g)}t.queries.set(o,u),u.listeners.push(n),n.Pu(t.onlineState),u.Ru&&n.vu(u.Ru)&&_S(t)}),pS.apply(this,arguments)}function gS(r,n){return fS.apply(this,arguments)}function fS(){return fS=(0,be.Z)(function*(r,n){const t=We(r),o=n.query;let i=!1;const u=t.queries.get(o);if(u){const d=u.listeners.indexOf(n);d>=0&&(u.listeners.splice(d,1),i=0===u.listeners.length)}if(i)return t.queries.delete(o),t.onUnlisten(o)}),fS.apply(this,arguments)}function gR(r,n){const t=We(r);let o=!1;for(const i of n){const d=t.queries.get(i.query);if(d){for(const g of d.listeners)g.vu(i)&&(o=!0);d.Ru=i}}o&&_S(t)}function fR(r,n,t){const o=We(r),i=o.queries.get(n);if(i)for(const u of i.listeners)u.onError(t);o.queries.delete(n)}function _S(r){r.bu.forEach(n=>{n.next()})}class mS{constructor(n,t,o){this.query=n,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}vu(n){if(!this.options.includeMetadataChanges){const o=[];for(const i of n.docChanges)3!==i.type&&o.push(i);n=new $f(n.query,n.docs,n.oldDocs,o,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let t=!1;return this.Su?this.Cu(n)&&(this.Vu.next(n),t=!0):this.xu(n,this.onlineState)&&(this.Nu(n),t=!0),this.Du=n,t}onError(n){this.Vu.error(n)}Pu(n){this.onlineState=n;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,n)&&(this.Nu(this.Du),t=!0),t}xu(n,t){return!n.fromCache||(!this.options.ku||!("Offline"!==t))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===t)}Cu(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(n){n=$f.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Su=!0,this.Vu.next(n)}}class _R{constructor(n,t){this.payload=n,this.byteLength=t}Ou(){return"metadata"in this.payload}}class Xk{constructor(n){this.It=n}Ji(n){return Bu(this.It,n)}Yi(n){return n.metadata.exists?QZ(this.It,n.document,!1):Gn.newNoDocument(this.Ji(n.metadata.name),this.Xi(n.metadata.readTime))}Xi(n){return go(n)}}class mR{constructor(n,t,o){this.Mu=n,this.localStore=t,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=eN(n)}Fu(n){this.progress.bytesLoaded+=n.byteLength;let t=this.progress.documentsLoaded;if(n.payload.namedQuery)this.queries.push(n.payload.namedQuery);else if(n.payload.documentMetadata){this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++t;const o=yn.fromString(n.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(n){const t=new Map,o=new Xk(this.It);for(const i of n)if(i.metadata.queries){const u=o.Ji(i.metadata.name);for(const d of i.metadata.queries){const g=(t.get(d)||Yt()).add(u);t.set(d,g)}}return t}complete(){var n=this;return(0,be.Z)(function*(){const t=yield function GP(r,n,t,o){return qD.apply(this,arguments)}(n.localStore,new Xk(n.It),n.documents,n.Mu.id),o=n.$u(n.documents);for(const i of n.queries)yield HP(n.localStore,i,o.get(i.name));return n.progress.taskState="Success",{progress:n.progress,Bu:n.collectionGroups,Lu:t}})()}}function eN(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class tN{constructor(n){this.key=n}}class nN{constructor(n){this.key=n}}class rN{constructor(n,t){this.query=n,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Yt(),this.mutatedKeys=Yt(),this.Gu=TZ(n),this.Qu=new jf(this.Gu)}get ju(){return this.Uu}Wu(n,t){const o=t?t.zu:new Yk,i=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,d=i,g=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(n.inorderTraversal((D,x)=>{const q=i.get(D),J=CD(this.query,x)?x:null,ee=!!q&&this.mutatedKeys.has(q.key),Ne=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let Be=!1;q&&J?q.data.isEqual(J.data)?ee!==Ne&&(o.track({type:3,doc:J}),Be=!0):this.Hu(q,J)||(o.track({type:2,doc:J}),Be=!0,(y&&this.Gu(J,y)>0||w&&this.Gu(J,w)<0)&&(g=!0)):!q&&J?(o.track({type:0,doc:J}),Be=!0):q&&!J&&(o.track({type:1,doc:q}),Be=!0,(y||w)&&(g=!0)),Be&&(J?(d=d.add(J),u=Ne?u.add(D):u.delete(D)):(d=d.delete(D),u=u.delete(D)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const D="F"===this.query.limitType?d.last():d.first();d=d.delete(D.key),u=u.delete(D.key),o.track({type:1,doc:D})}return{Qu:d,zu:o,$i:g,mutatedKeys:u}}Hu(n,t){return n.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(n,t,o){const i=this.Qu;this.Qu=n.Qu,this.mutatedKeys=n.mutatedKeys;const u=n.zu.Au();u.sort((w,D)=>function(x,q){const J=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return J(x)-J(q)}(w.type,D.type)||this.Gu(w.doc,D.doc)),this.Ju(o);const d=t?this.Yu():[],g=0===this.Ku.size&&this.current?1:0,y=g!==this.qu;return this.qu=g,0!==u.length||y?{snapshot:new $f(this.query,n.Qu,i,u,n.mutatedKeys,0===g,y,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}Pu(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Yk,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(n){return!this.Uu.has(n)&&!!this.Qu.has(n)&&!this.Qu.get(n).hasLocalMutations}Ju(n){n&&(n.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),n.modifiedDocuments.forEach(t=>{}),n.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=n.current)}Yu(){if(!this.current)return[];const n=this.Ku;this.Ku=Yt(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return n.forEach(o=>{this.Ku.has(o)||t.push(new nN(o))}),this.Ku.forEach(o=>{n.has(o)||t.push(new tN(o))}),t}tc(n){this.Uu=n.Hi,this.Ku=Yt();const t=this.Wu(n.documents);return this.applyChanges(t,!0)}ec(){return $f.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class yR{constructor(n,t,o){this.query=n,this.targetId=t,this.view=o}}class vR{constructor(n){this.key=n,this.nc=!1}}class CR{constructor(n,t,o,i,u,d){this.localStore=n,this.remoteStore=t,this.eventManager=o,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new yd(g=>vZ(g),rv),this.rc=new Map,this.oc=new Set,this.uc=new Tr(Ke.comparator),this.cc=new Map,this.ac=new UD,this.hc={},this.lc=new Map,this.fc=vp.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function TR(r,n){return yS.apply(this,arguments)}function yS(){return yS=(0,be.Z)(function*(r,n){const t=VS(r);let o,i;const u=t.ic.get(n);if(u)o=u.targetId,t.sharedClientState.addLocalQueryTarget(o),i=u.view.ec();else{const d=yield Of(t.localStore,pi(n));t.isPrimaryClient&&yw(t.remoteStore,d);const g=t.sharedClientState.addLocalQueryTarget(d.targetId);o=d.targetId,i=yield vS(t,n,o,"current"===g,d.resumeToken)}return i}),yS.apply(this,arguments)}function vS(r,n,t,o,i){return CS.apply(this,arguments)}function CS(){return CS=(0,be.Z)(function*(r,n,t,o,i){r._c=(x,q,J)=>{return(ee=(0,be.Z)(function*(Ne,Be,ht,Rt){let Ht=Be.view.Wu(ht);Ht.$i&&(Ht=yield gw(Ne.localStore,Be.query,!1).then(({documents:tn})=>Be.view.Wu(tn,Ht)));const At=Rt&&Rt.targetChanges.get(Be.targetId),Vt=Be.view.applyChanges(Ht,Ne.isPrimaryClient,At);return ZS(Ne,Be.targetId,Vt.Xu),Vt.snapshot}),function(Ne,Be,ht,Rt){return ee.apply(this,arguments)})(r,x,q,J);var ee};const u=yield gw(r.localStore,n,!0),d=new rN(n,u.Hi),g=d.Wu(u.documents),y=lv.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState,i),w=d.applyChanges(g,r.isPrimaryClient,y);ZS(r,t,w.Xu);const D=new yR(n,t,d);return r.ic.set(n,D),r.rc.has(t)?r.rc.get(t).push(n):r.rc.set(t,[n]),w.snapshot}),CS.apply(this,arguments)}function wR(r,n){return TS.apply(this,arguments)}function TS(){return TS=(0,be.Z)(function*(r,n){const t=We(r),o=t.ic.get(n),i=t.rc.get(o.targetId);if(i.length>1)return t.rc.set(o.targetId,i.filter(u=>!rv(u,n))),void t.ic.delete(n);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Lf(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Av(t.remoteStore,o.targetId),Gf(t,o.targetId)}).catch(dd))):(Gf(t,o.targetId),yield Lf(t.localStore,o.targetId,!0))}),TS.apply(this,arguments)}function wS(){return wS=(0,be.Z)(function*(r,n,t){const o=BS(r);try{const i=yield function(u,d){const g=We(u),y=sr.now(),w=d.reduce((q,J)=>q.add(J.key),Yt());let D,x;return g.persistence.runTransaction("Locally write mutations","readwrite",q=>{let J=Fi(),ee=Yt();return g.Gi.getEntries(q,w).next(Ne=>{J=Ne,J.forEach((Be,ht)=>{ht.isValidDocument()||(ee=ee.add(Be))})}).next(()=>g.localDocuments.getOverlayedDocuments(q,J)).next(Ne=>{D=Ne;const Be=[];for(const ht of d){const Rt=NM(ht,D.get(ht.key).overlayedDocument);null!=Rt&&Be.push(new Kl(ht.key,Rt,cZ(Rt.value.mapValue),ar.exists(!0)))}return g.mutationQueue.addMutationBatch(q,y,Be,d)}).next(Ne=>{x=Ne;const Be=Ne.applyToLocalDocumentSet(D,ee);return g.documentOverlayCache.saveOverlays(q,Ne.batchId,Be)})}).then(()=>({batchId:x.batchId,changes:LZ(D)}))}(o.localStore,n);o.sharedClientState.addPendingMutation(i.batchId),function(u,d,g){let y=u.hc[u.currentUser.toKey()];y||(y=new Tr(Wt)),y=y.insert(d,g),u.hc[u.currentUser.toKey()]=y}(o,i.batchId,t),yield Xl(o,i.changes),yield qf(o.remoteStore)}catch(i){const u=Bf(i,"Failed to persist write");t.reject(u)}}),wS.apply(this,arguments)}function oN(r,n){return bS.apply(this,arguments)}function bS(){return bS=(0,be.Z)(function*(r,n){const t=We(r);try{const o=yield jP(t.localStore,n);n.targetChanges.forEach((i,u)=>{const d=t.cc.get(u);d&&(it(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.nc=!0:i.modifiedDocuments.size>0?it(d.nc):i.removedDocuments.size>0&&(it(d.nc),d.nc=!1))}),yield Xl(t,o,n)}catch(o){yield dd(o)}}),bS.apply(this,arguments)}function iN(r,n,t){const o=We(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const i=[];o.ic.forEach((u,d)=>{const g=d.view.Pu(n);g.snapshot&&i.push(g.snapshot)}),function(u,d){const g=We(u);g.onlineState=d;let y=!1;g.queries.forEach((w,D)=>{for(const x of D.listeners)x.Pu(d)&&(y=!0)}),y&&_S(g)}(o.eventManager,n),i.length&&o.sc.zo(i),o.onlineState=n,o.isPrimaryClient&&o.sharedClientState.setOnlineState(n)}}function AR(r,n,t){return AS.apply(this,arguments)}function AS(){return AS=(0,be.Z)(function*(r,n,t){const o=We(r);o.sharedClientState.updateQueryState(n,"rejected",t);const i=o.cc.get(n),u=i&&i.key;if(u){let d=new Tr(Ke.comparator);d=d.insert(u,Gn.newNoDocument(u,Pt.min()));const g=Yt().add(u),y=new uv(Pt.min(),new Map,new Pn(Wt),d,g);yield oN(o,y),o.uc=o.uc.remove(u),o.cc.delete(n),kS(o)}else yield Lf(o.localStore,n,!1).then(()=>Gf(o,n,t)).catch(dd)}),AS.apply(this,arguments)}function IR(r,n){return IS.apply(this,arguments)}function IS(){return IS=(0,be.Z)(function*(r,n){const t=We(r),o=n.batch.batchId;try{const i=yield BP(t.localStore,n);xS(t,o,null),SS(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Xl(t,i)}catch(i){yield dd(i)}}),IS.apply(this,arguments)}function ER(r,n,t){return ES.apply(this,arguments)}function ES(){return ES=(0,be.Z)(function*(r,n,t){const o=We(r);try{const i=yield function(u,d){const g=We(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return g.mutationQueue.lookupMutationBatch(y,d).next(D=>(it(null!==D),w=D.keys(),g.mutationQueue.removeMutationBatch(y,D))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,w,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>g.localDocuments.getDocuments(y,w))})}(o.localStore,n);xS(o,n,t),SS(o,n),o.sharedClientState.updateMutationState(n,"rejected",t),yield Xl(o,i)}catch(i){yield dd(i)}}),ES.apply(this,arguments)}function DS(){return DS=(0,be.Z)(function*(r,n){const t=We(r);Yl(t.remoteStore)||se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(u){const d=We(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>d.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===o)return void n.resolve();const i=t.lc.get(o)||[];i.push(n),t.lc.set(o,i)}catch(o){const i=Bf(o,"Initialization of waitForPendingWrites() operation failed");n.reject(i)}}),DS.apply(this,arguments)}function SS(r,n){(r.lc.get(n)||[]).forEach(t=>{t.resolve()}),r.lc.delete(n)}function xS(r,n,t){const o=We(r);let i=o.hc[o.currentUser.toKey()];if(i){const u=i.get(n);u&&(t?u.reject(t):u.resolve(),i=i.remove(n)),o.hc[o.currentUser.toKey()]=i}}function Gf(r,n,t=null){r.sharedClientState.removeLocalQueryTarget(n);for(const o of r.rc.get(n))r.ic.delete(o),t&&r.sc.wc(o,t);r.rc.delete(n),r.isPrimaryClient&&r.ac.ls(n).forEach(o=>{r.ac.containsKey(o)||sN(r,o)})}function sN(r,n){r.oc.delete(n.path.canonicalString());const t=r.uc.get(n);null!==t&&(Av(r.remoteStore,t),r.uc=r.uc.remove(n),r.cc.delete(t),kS(r))}function ZS(r,n,t){for(const o of t)o instanceof tN?(r.ac.addReference(o.key,n),SR(r,o)):o instanceof nN?(se("SyncEngine","Document no longer in limbo: "+o.key),r.ac.removeReference(o.key,n),r.ac.containsKey(o.key)||sN(r,o.key)):Oe()}function SR(r,n){const t=n.key,o=t.path.canonicalString();r.uc.get(t)||r.oc.has(o)||(se("SyncEngine","New document in limbo: "+t),r.oc.add(o),kS(r))}function kS(r){for(;r.oc.size>0&&r.uc.size<r.maxConcurrentLimboResolutions;){const n=r.oc.values().next().value;r.oc.delete(n);const t=new Ke(yn.fromString(n)),o=r.fc.next();r.cc.set(o,new vR(t)),r.uc=r.uc.insert(t,o),yw(r.remoteStore,new vd(pi(Df(t.path)),o,2,Li.at))}}function Xl(r,n,t){return NS.apply(this,arguments)}function NS(){return NS=(0,be.Z)(function*(r,n,t){const o=We(r),i=[],u=[],d=[];var g;o.ic.isEmpty()||(o.ic.forEach((g,y)=>{d.push(o._c(y,n,t).then(w=>{if((w||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(y.targetId,null!=w&&w.fromCache?"not-current":"current"),w){i.push(w);const D=OD.Ci(y.targetId,w);u.push(D)}}))}),yield Promise.all(d),o.sc.zo(i),yield(g=(0,be.Z)(function*(y,w){const D=We(y);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>de.forEach(w,q=>de.forEach(q.Si,J=>D.persistence.referenceDelegate.addReference(x,q.targetId,J)).next(()=>de.forEach(q.Di,J=>D.persistence.referenceDelegate.removeReference(x,q.targetId,J)))))}catch(x){if(!hd(x))throw x;se("LocalStore","Failed to update sequence numbers: "+x)}for(const x of w){const q=x.targetId;if(!x.fromCache){const J=D.Ui.get(q),Ne=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);D.Ui=D.Ui.insert(q,Ne)}}}),function(y,w){return g.apply(this,arguments)})(o.localStore,u))}),NS.apply(this,arguments)}function xR(r,n){return US.apply(this,arguments)}function US(){return US=(0,be.Z)(function*(r,n){const t=We(r);if(!t.currentUser.isEqual(n)){se("SyncEngine","User change. New user:",n.toKey());const o=yield Mk(t.localStore,n);t.currentUser=n,(i=t).lc.forEach(d=>{d.forEach(g=>{g.reject(new Me(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(n,o.removedBatchIds,o.addedBatchIds),yield Xl(t,o.ji)}var i}),US.apply(this,arguments)}function ZR(r,n){const t=We(r),o=t.cc.get(n);if(o&&o.nc)return Yt().add(o.key);{let i=Yt();const u=t.rc.get(n);if(!u)return i;for(const d of u){const g=t.ic.get(d);i=i.unionWith(g.view.ju)}return i}}function kR(r,n){return MS.apply(this,arguments)}function MS(){return MS=(0,be.Z)(function*(r,n){const t=We(r),o=yield gw(t.localStore,n.query,!0),i=n.view.tc(o);return t.isPrimaryClient&&ZS(t,n.targetId,i.Xu),i}),MS.apply(this,arguments)}function NR(r,n){return PS.apply(this,arguments)}function PS(){return PS=(0,be.Z)(function*(r,n){const t=We(r);return Lk(t.localStore,n).then(o=>Xl(t,o))}),PS.apply(this,arguments)}function UR(r,n,t,o){return RS.apply(this,arguments)}function RS(){return RS=(0,be.Z)(function*(r,n,t,o){const i=We(r),u=yield function(d,g){const y=We(d),w=We(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",D=>w.Tn(D,g).next(x=>x?y.localDocuments.getDocuments(D,x):de.resolve(null)))}(i.localStore,n);var g;null!==u?("pending"===t?yield qf(i.remoteStore):"acknowledged"===t||"rejected"===t?(xS(i,n,o||null),SS(i,n),g=n,We(We(i.localStore).mutationQueue).An(g)):Oe(),yield Xl(i,u)):se("SyncEngine","Cannot apply mutation batch with id: "+n)}),RS.apply(this,arguments)}function OS(){return OS=(0,be.Z)(function*(r,n){const t=We(r);if(VS(t),BS(t),!0===n&&!0!==t.dc){const o=t.sharedClientState.getAllActiveQueryTargets(),i=yield aN(t,o.toArray());t.dc=!0,yield lS(t.remoteStore,!0);for(const u of i)yw(t.remoteStore,u)}else if(!1===n&&!1!==t.dc){const o=[];let i=Promise.resolve();t.rc.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?o.push(d):i=i.then(()=>(Gf(t,d),Lf(t.localStore,d,!0))),Av(t.remoteStore,d)}),yield i,yield aN(t,o),function(u){const d=We(u);d.cc.forEach((g,y)=>{Av(d.remoteStore,y)}),d.ac.fs(),d.cc=new Map,d.uc=new Tr(Ke.comparator)}(t),t.dc=!1,yield lS(t.remoteStore,!1)}}),OS.apply(this,arguments)}function aN(r,n,t){return LS.apply(this,arguments)}function LS(){return LS=(0,be.Z)(function*(r,n,t){const o=We(r),i=[],u=[];for(const d of n){let g;const y=o.rc.get(d);if(y&&0!==y.length){g=yield Of(o.localStore,pi(y[0]));for(const w of y){const D=o.ic.get(w),x=yield kR(o,D);x.snapshot&&u.push(x.snapshot)}}else{const w=yield Ok(o.localStore,d);g=yield Of(o.localStore,w),yield vS(o,uN(w),d,!1,g.resumeToken)}i.push(g)}return o.sc.zo(u),i}),LS.apply(this,arguments)}function uN(r){return mZ(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function PR(r){const n=We(r);return We(We(n.localStore).persistence).vi()}function RR(r,n,t,o){return FS.apply(this,arguments)}function FS(){return FS=(0,be.Z)(function*(r,n,t,o){const i=We(r);if(i.dc)return void se("SyncEngine","Ignoring unexpected query state notification.");const u=i.rc.get(n);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield Lk(i.localStore,CZ(u[0])),g=uv.createSynthesizedRemoteEventForCurrentChange(n,"current"===t,eo.EMPTY_BYTE_STRING);yield Xl(i,d,g);break}case"rejected":yield Lf(i.localStore,n,!0),Gf(i,n,o);break;default:Oe()}}),FS.apply(this,arguments)}function OR(r,n,t){return qS.apply(this,arguments)}function qS(){return qS=(0,be.Z)(function*(r,n,t){const o=VS(r);if(o.dc){for(const i of n){if(o.rc.has(i)){se("SyncEngine","Adding an already active target "+i);continue}const u=yield Ok(o.localStore,i),d=yield Of(o.localStore,u);yield vS(o,uN(u),d.targetId,!1,d.resumeToken),yw(o.remoteStore,d)}for(const i of t)o.rc.has(i)&&(yield Lf(o.localStore,i,!1).then(()=>{Av(o.remoteStore,i),Gf(o,i)}).catch(dd))}}),qS.apply(this,arguments)}function VS(r){const n=We(r);return n.remoteStore.remoteSyncer.applyRemoteEvent=oN.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZR.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=AR.bind(null,n),n.sc.zo=gR.bind(null,n.eventManager),n.sc.wc=fR.bind(null,n.eventManager),n}function BS(r){const n=We(r);return n.remoteStore.remoteSyncer.applySuccessfulWrite=IR.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=ER.bind(null,n),n}class lN{constructor(){this.synchronizeTabs=!1}initialize(n){var t=this;return(0,be.Z)(function*(){t.It=wv(n.databaseInfo.databaseId),t.sharedClientState=t.gc(n),t.persistence=t.yc(n),yield t.persistence.start(),t.localStore=t.Ic(n),t.gcScheduler=t.Tc(n,t.localStore),t.indexBackfillerScheduler=t.Ec(n,t.localStore)})()}Tc(n,t){return null}Ec(n,t){return null}Ic(n){return Uk(this.persistence,new Nk,n.initialUser,this.It)}yc(n){return new Zk(hw.Bs,this.It)}gc(n){return new Bk}terminate(){var n=this;return(0,be.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class cN extends lN{constructor(n,t,o){super(),this.Ac=n,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(n){var t=()=>super.initialize,o=this;return(0,be.Z)(function*(){yield t().call(o,n),yield o.Ac.initialize(o,n),yield BS(o.Ac.syncEngine),yield qf(o.Ac.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(n){return Uk(this.persistence,new Nk,n.initialUser,this.It)}Tc(n,t){return new DP(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,t)}Ec(n,t){const o=new cM(t,this.persistence);return new lM(n.asyncQueue,o)}yc(n){const t=RD(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?qi.withCacheSize(this.cacheSizeBytes):qi.DEFAULT;return new PD(this.synchronizeTabs,t,n.clientId,o,n.asyncQueue,$k(),mw(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(n){return new Bk}}class FR extends cN{constructor(n,t){super(n,t,!1),this.Ac=n,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(n){var t=()=>super.initialize,o=this;return(0,be.Z)(function*(){yield t().call(o,n);const i=o.Ac.syncEngine;o.sharedClientState instanceof GD&&(o.sharedClientState.syncEngine={Fr:UR.bind(null,i),$r:RR.bind(null,i),Br:OR.bind(null,i),vi:PR.bind(null,i),Mr:NR.bind(null,i)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var u=(0,be.Z)(function*(d){yield function MR(r,n){return OS.apply(this,arguments)}(o.Ac.syncEngine,d),o.gcScheduler&&(d&&!o.gcScheduler.started?o.gcScheduler.start():d||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(d&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():d||o.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}gc(n){const t=$k();if(!GD.C(t))throw new Me(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=RD(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new GD(t,n.asyncQueue,o,n.clientId,n.initialUser)}}class jS{initialize(n,t){var o=this;return(0,be.Z)(function*(){o.localStore||(o.localStore=n.localStore,o.sharedClientState=n.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!n.synchronizeTabs),o.sharedClientState.onlineStateHandler=i=>iN(o.syncEngine,i,1),o.remoteStore.remoteSyncer.handleCredentialChange=xR.bind(null,o.syncEngine),yield lS(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(n){return new pR}createDatastore(n){const t=wv(n.databaseInfo.databaseId),o=new QP(n.databaseInfo);return new XP(n.authCredentials,n.appCheckCredentials,o,t)}createRemoteStore(n){return t=this.localStore,o=this.datastore,i=n.asyncQueue,u=g=>iN(this.syncEngine,g,0),d=jk.C()?new jk:new JP,new nR(t,o,i,u,d);var t,o,i,u,d}createSyncEngine(n,t){return function(o,i,u,d,g,y,w){const D=new CR(o,i,u,d,g,y);return w&&(D.dc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,t)}terminate(){return(n=(0,be.Z)(function*(t){const o=We(t);se("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield Ff(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(t){return n.apply(this,arguments)})(this.remoteStore);var n}}function $S(r,n,t){if(!t)throw new Me(ge.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${n}.`)}function dN(r,n,t,o){if(!0===n&&!0===o)throw new Me(ge.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function hN(r){if(!Ke.isDocumentKey(r))throw new Me(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function pN(r){if(Ke.isDocumentKey(r))throw new Me(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Cw(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const n=(t=r).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof r?"a function":Oe()}function pn(r,n){if("_delegate"in r&&(r=r._delegate),!(r instanceof n)){if(n.name===r.constructor.name)throw new Me(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Cw(r);throw new Me(ge.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${t}`)}}return r}function gN(r,n){if(n<=0)throw new Me(ge.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${n}.`)}const fN=new Map;class _N{constructor(n){var t;if(void 0===n.host){if(void 0!==n.ssl)throw new Me(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(t=n.ssl)||void 0===t||t;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Me(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,dN("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Iv{constructor(n,t,o,i){this._authCredentials=n,this._appCheckCredentials=t,this._databaseId=o,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _N({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Me(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _N(n),void 0!==n.credentials&&(this._authCredentials=function(t){if(!t)return new jy;switch(t.type){case"gapi":return new tM(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Me(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const t=fN.get(n);t&&(se("ComponentProvider","Removing Datastore"),fN.delete(n),t.terminate())}(this),Promise.resolve()}}class Yn{constructor(n,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $u(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Yn(this.firestore,n,this._key)}}class Ko{constructor(n,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=n}withConverter(n){return new Ko(this.firestore,n,this._query)}}class $u extends Ko{constructor(n,t,o){super(n,t,Df(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Yn(this.firestore,null,new Ke(n))}withConverter(n){return new $u(this.firestore,n,this._path)}}function yN(r,n,...t){if(r=(0,hn.m9)(r),$S("collection","path",n),r instanceof Iv){const o=yn.fromString(n,...t);return pN(o),new $u(r,null,o)}{if(!(r instanceof Yn||r instanceof $u))throw new Me(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(yn.fromString(n,...t));return pN(o),new $u(r.firestore,null,o)}}function Tw(r,n,...t){if(r=(0,hn.m9)(r),1===arguments.length&&(n=H2.R()),$S("doc","path",n),r instanceof Iv){const o=yn.fromString(n,...t);return hN(o),new Yn(r,null,new Ke(o))}{if(!(r instanceof Yn||r instanceof $u))throw new Me(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(yn.fromString(n,...t));return hN(o),new Yn(r.firestore,r instanceof $u?r.converter:null,new Ke(o))}}function vN(r,n){return r=(0,hn.m9)(r),n=(0,hn.m9)(n),(r instanceof Yn||r instanceof $u)&&(n instanceof Yn||n instanceof $u)&&r.firestore===n.firestore&&r.path===n.path&&r.converter===n.converter}function GS(r,n){return r=(0,hn.m9)(r),n=(0,hn.m9)(n),r instanceof Ko&&n instanceof Ko&&r.firestore===n.firestore&&rv(r._query,n._query)&&r.converter===n.converter}function CN(r,n=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+n),done:!1};return t+=n,o}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ww{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Rc(this.observer.next,n)}error(n){this.observer.error?this.Rc(this.observer.error,n):ut("Uncaught Error in snapshot listener:",n)}bc(){this.muted=!0}Rc(n,t){this.muted||setTimeout(()=>{this.muted||n(t)},0)}}class VR{constructor(n,t){this.Pc=n,this.It=t,this.metadata=new pr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(o=>{o&&o.Ou()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Pc.cancel()}getMetadata(){var n=this;return(0,be.Z)(function*(){return n.metadata.promise})()}mc(){var n=this;return(0,be.Z)(function*(){return yield n.getMetadata(),n.Vc()})()}Vc(){var n=this;return(0,be.Z)(function*(){const t=yield n.Sc();if(null===t)return null;const o=n.vc.decode(t),i=Number(o);isNaN(i)&&n.Dc(`length string (${o}) is not valid number`);const u=yield n.Cc(i);return new _R(JSON.parse(u),t.length+i)})()}xc(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}Sc(){var n=this;return(0,be.Z)(function*(){for(;n.xc()<0&&!(yield n.Nc()););if(0===n.buffer.length)return null;const t=n.xc();t<0&&n.Dc("Reached the end of bundle when a length string is expected.");const o=n.buffer.slice(0,t);return n.buffer=n.buffer.slice(t),o})()}Cc(n){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<n;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const o=t.vc.decode(t.buffer.slice(0,n));return t.buffer=t.buffer.slice(n),o})()}Dc(n){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${n}`)}Nc(){var n=this;return(0,be.Z)(function*(){const t=yield n.Pc.read();if(!t.done){const o=new Uint8Array(n.buffer.length+t.value.length);o.set(n.buffer),o.set(t.value,n.buffer.length),n.buffer=o}return t.done})()}}class $R{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(i=(0,be.Z)(function*(u,d){const g=We(u),y=hv(g.It)+"/documents",w={documents:d.map(J=>dv(g.It,J))},D=yield g._o("BatchGetDocuments",y,w,d.length),x=new Map;D.forEach(J=>{const ee=function jM(r,n){return"found"in n?function(t,o){it(!!o.found);const i=Bu(t,o.found.name),u=go(o.found.updateTime),d=new Uo({mapValue:{fields:o.found.fields}});return Gn.newFoundDocument(i,u,d)}(r,n):"missing"in n?function(t,o){it(!!o.missing),it(!!o.readTime);const i=Bu(t,o.missing),u=go(o.readTime);return Gn.newNoDocument(i,u)}(r,n):Oe()}(g.It,J);x.set(ee.key.toString(),ee)});const q=[];return d.forEach(J=>{const ee=x.get(J.toString());it(!!ee),q.push(ee)}),q}),function(u,d){return i.apply(this,arguments)})(t.datastore,n);var i;return o.forEach(i=>t.recordVersion(i)),o})()}set(n,t){this.write(t.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,t){try{this.write(t.toMutation(n,this.preconditionForUpdate(n)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(n.toString())}delete(n){this.write(new Nf(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,be.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const t=n.readVersions;var o;n.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,i)=>{const u=Ke.fromPath(i);n.mutations.push(new TD(u,n.precondition(u)))}),yield(o=(0,be.Z)(function*(i,u){const d=We(i),g=hv(d.It)+"/documents",y={writes:u.map(w=>pv(d.It,w))};yield d.ao("Commit",g,y)}),function(i,u){return o.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let t;if(n.isFoundDocument())t=n.version;else{if(!n.isNoDocument())throw Oe();t=Pt.min()}const o=this.readVersions.get(n.key.toString());if(o){if(!t.isEqual(o))throw new Me(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),t)}precondition(n){const t=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&t?t.isEqual(Pt.min())?ar.exists(!1):ar.updateTime(t):ar.none()}preconditionForUpdate(n){const t=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&t){if(t.isEqual(Pt.min()))throw new Me(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ar.updateTime(t)}return ar.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class GR{constructor(n,t,o,i,u){this.asyncQueue=n,this.datastore=t,this.options=o,this.updateFunction=i,this.deferred=u,this.kc=o.maxAttempts,this.No=new HD(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var n=this;this.No.Ro((0,be.Z)(function*(){const t=new $R(n.datastore),o=n.Mc(t);o&&o.then(i=>{n.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{n.deferred.resolve(i)}).catch(u=>{n.Fc(u)}))}).catch(i=>{n.Fc(i)})}))}Mc(n){try{const t=this.updateFunction(n);return!Ky(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(n){this.kc>0&&this.$c(n)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(n)}$c(n){if("FirebaseError"===n.name){const t=n.code;return"aborted"===t||"failed-precondition"===t||!PZ(t)}return!1}}class HR{constructor(n,t,o,i){var u=this;this.authCredentials=n,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=i,this.user=j.UNAUTHENTICATED,this.clientId=H2.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var d=(0,be.Z)(function*(g){se("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(o,d=>(se("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var n=this;return(0,be.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,authCredentials:n.authCredentials,appCheckCredentials:n.appCheckCredentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const t=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),t.resolve()}catch(o){const i=Bf(o,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function TN(r,n){return HS.apply(this,arguments)}function HS(){return HS=(0,be.Z)(function*(r,n){r.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield n.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var i=(0,be.Z)(function*(u){o.isEqual(u)||(yield Mk(n.localStore,u),o=u)});return function(u){return i.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=n}),HS.apply(this,arguments)}function wN(r,n){return JS.apply(this,arguments)}function JS(){return JS=(0,be.Z)(function*(r,n){r.asyncQueue.verifyOperationInProgress();const t=yield WS(r);se("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield n.initialize(t,o),r.setCredentialChangeListener(i=>Kk(n.remoteStore,i)),r.setAppCheckTokenChangeListener((i,u)=>Kk(n.remoteStore,u)),r.onlineComponents=n}),JS.apply(this,arguments)}function WS(r){return zS.apply(this,arguments)}function zS(){return zS=(0,be.Z)(function*(r){return r.offlineComponents||(se("FirestoreClient","Using default OfflineComponentProvider"),yield TN(r,new lN)),r.offlineComponents}),zS.apply(this,arguments)}function bw(r){return QS.apply(this,arguments)}function QS(){return QS=(0,be.Z)(function*(r){return r.onlineComponents||(se("FirestoreClient","Using default OnlineComponentProvider"),yield wN(r,new jS)),r.onlineComponents}),QS.apply(this,arguments)}function bN(r){return WS(r).then(n=>n.persistence)}function Aw(r){return WS(r).then(n=>n.localStore)}function KS(r){return bw(r).then(n=>n.remoteStore)}function YS(r){return bw(r).then(n=>n.syncEngine)}function Hf(r){return XS.apply(this,arguments)}function XS(){return XS=(0,be.Z)(function*(r){const n=yield bw(r),t=n.eventManager;return t.onListen=TR.bind(null,n.syncEngine),t.onUnlisten=wR.bind(null,n.syncEngine),t}),XS.apply(this,arguments)}function IN(r,n,t={}){const o=new pr;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,u,d,g,y){const w=new ww({next:x=>{u.enqueueAndForget(()=>gS(i,D));const q=x.docs.has(d);!q&&x.fromCache?y.reject(new Me(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&x.fromCache&&g&&"server"===g.source?y.reject(new Me(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),D=new mS(Df(d.path),w,{includeMetadataChanges:!0,ku:!0});return hS(i,D)}(yield Hf(r),r.asyncQueue,n,t,o)})),o.promise}function EN(r,n,t={}){const o=new pr;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(i,u,d,g,y){const w=new ww({next:x=>{u.enqueueAndForget(()=>gS(i,D)),x.fromCache&&"server"===g.source?y.reject(new Me(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),D=new mS(d,w,{includeMetadataChanges:!0,ku:!0});return hS(i,D)}(yield Hf(r),r.asyncQueue,n,t,o)})),o.promise}class eO{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new HD(this,"async_queue_retry"),this.Wc=()=>{const t=mw();t&&se("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const n=mw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.zc(),this.Hc(n)}enterRestrictedMode(n){if(!this.Uc){this.Uc=!0,this.Qc=n||!1;const t=mw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(n){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new pr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(n().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Lc.push(n),this.Jc()))}Jc(){var n=this;return(0,be.Z)(function*(){if(0!==n.Lc.length){try{yield n.Lc[0](),n.Lc.shift(),n.No.reset()}catch(t){if(!hd(t))throw t;se("AsyncQueue","Operation failed with retryable error: "+t)}n.Lc.length>0&&n.No.Ro(()=>n.Jc())}})()}Hc(n){const t=this.Bc.then(()=>(this.Gc=!0,n().catch(o=>{throw this.Kc=o,this.Gc=!1,ut("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(n,t,o){this.zc(),this.jc.indexOf(n)>-1&&(t=0);const i=dS.createAndSchedule(this,n,t,o,u=>this.Yc(u));return this.qc.push(i),i}zc(){this.Kc&&Oe()}verifyOperationInProgress(){}Xc(){var n=this;return(0,be.Z)(function*(){let t;do{t=n.Bc,yield t}while(t!==n.Bc)})()}Zc(n){for(const t of this.qc)if(t.timerId===n)return!0;return!1}ta(n){return this.Xc().then(()=>{this.qc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==n&&t.timerId===n)break;return this.Xc()})}ea(n){this.jc.push(n)}Yc(n){const t=this.qc.indexOf(n);this.qc.splice(t,1)}}function ex(r){return function(n,t){if("object"!=typeof n||null===n)return!1;const o=n;for(const i of["next","error","complete"])if(i in o&&"function"==typeof o[i])return!0;return!1}(r)}class tO{constructor(){this._progressObserver={},this._taskCompletionResolver=new pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,t,o){this._progressObserver={next:n,error:t,complete:o}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,t){return this._taskCompletionResolver.promise.then(n,t)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Xn extends Iv{constructor(n,t,o,i){super(n,t,o,i),this.type="firestore",this._queue=new eO,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||DN(this),this._firestoreClient.terminate()}}function kr(r){return r._firestoreClient||DN(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function DN(r){var n;const t=r._freezeSettings(),o=(u=(null===(n=r._app)||void 0===n?void 0:n.options.appId)||"",new pM(r._databaseId,u,r._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var u,g;r._firestoreClient=new HR(r._authCredentials,r._appCheckCredentials,r._queue,o)}function SN(r,n,t){const o=new pr;return r.asyncQueue.enqueue((0,be.Z)(function*(){try{yield TN(r,t),yield wN(r,n),o.resolve()}catch(i){const u=i;if(!("FirebaseError"===(d=u).name?d.code===ge.FAILED_PRECONDITION||d.code===ge.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;Ze("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var d})).then(()=>o.promise)}function xN(r){if(r._initialized||r._terminated)throw new Me(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Gu{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Gu(eo.fromBase64String(n))}catch(t){throw new Me(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(n){return new Gu(eo.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class ec{constructor(...n){for(let t=0;t<n.length;++t)if(0===n[t].length)throw new Me(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Tp{constructor(n){this._methodName=n}}class Iw{constructor(n,t){if(!isFinite(n)||n<-90||n>90)throw new Me(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(t)||t<-180||t>180)throw new Me(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=n,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Wt(this._lat,n._lat)||Wt(this._long,n._long)}}const dO=/^__.*__$/;class hO{constructor(n,t,o){this.data=n,this.fieldMask=t,this.fieldTransforms=o}toMutation(n,t){return null!==this.fieldMask?new Kl(n,this.data,this.fieldMask,t,this.fieldTransforms):new kf(n,this.data,t,this.fieldTransforms)}}class ZN{constructor(n,t,o){this.data=n,this.fieldMask=t,this.fieldTransforms=o}toMutation(n,t){return new Kl(n,this.data,this.fieldMask,t,this.fieldTransforms)}}function kN(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class Ew{constructor(n,t,o,i,u,d){this.settings=n,this.databaseId=t,this.It=o,this.ignoreUndefinedProperties=i,void 0===u&&this.na(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(n){return new Ew(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(n){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(n),i=this.ia({path:o,oa:!1});return i.ua(n),i}ca(n){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(n),i=this.ia({path:o,oa:!1});return i.na(),i}aa(n){return this.ia({path:void 0,oa:!0})}ha(n){return xw(n,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(n){return void 0!==this.fieldMask.find(t=>n.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>n.isPrefixOf(t.field))}na(){if(this.path)for(let n=0;n<this.path.length;n++)this.ua(this.path.get(n))}ua(n){if(0===n.length)throw this.ha("Document fields must not be empty");if(kN(this.sa)&&dO.test(n))throw this.ha('Document fields cannot begin and end with "__"')}}class pO{constructor(n,t,o){this.databaseId=n,this.ignoreUndefinedProperties=t,this.It=o||wv(n)}da(n,t,o,i=!1){return new Ew({sa:n,methodName:t,fa:o,path:Cr.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function wp(r){const n=r._freezeSettings(),t=wv(r._databaseId);return new pO(r._databaseId,!!n.ignoreUndefinedProperties,t)}function Dw(r,n,t,o,i,u={}){const d=r.da(u.merge||u.mergeFields?2:0,n,t,i);ox("Data must be an object, but it was:",d,o);const g=MN(o,d);let y,w;if(u.merge)y=new bs(d.fieldMask),w=d.fieldTransforms;else if(u.mergeFields){const D=[];for(const x of u.mergeFields){const q=ix(n,x,t);if(!d.contains(q))throw new Me(ge.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);RN(D,q)||D.push(q)}y=new bs(D),w=d.fieldTransforms.filter(x=>y.covers(x.field))}else y=null,w=d.fieldTransforms;return new hO(new Uo(g),y,w)}class Ev extends Tp{_toFieldTransform(n){if(2!==n.sa)throw n.ha(1===n.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Ev}}function NN(r,n,t){return new Ew({sa:3,fa:n.settings.fa,methodName:r._methodName,oa:t},n.databaseId,n.It,n.ignoreUndefinedProperties)}class tx extends Tp{_toFieldTransform(n){return new ov(n.path,new xf)}isEqual(n){return n instanceof tx}}class gO extends Tp{constructor(n,t){super(n),this._a=t}_toFieldTransform(n){const t=NN(this,n,!0),o=this._a.map(u=>bp(u,t)),i=new dp(o);return new ov(n.path,i)}isEqual(n){return this===n}}class fO extends Tp{constructor(n,t){super(n),this._a=t}_toFieldTransform(n){const t=NN(this,n,!0),o=this._a.map(u=>bp(u,t)),i=new hp(o);return new ov(n.path,i)}isEqual(n){return this===n}}class _O extends Tp{constructor(n,t){super(n),this.wa=t}_toFieldTransform(n){const t=new Zf(n.It,AZ(n.It,this.wa));return new ov(n.path,t)}isEqual(n){return this===n}}function nx(r,n,t,o){const i=r.da(1,n,t);ox("Data must be an object, but it was:",i,o);const u=[],d=Uo.empty();sp(o,(y,w)=>{const D=Sw(n,y,t);w=(0,hn.m9)(w);const x=i.ca(D);if(w instanceof Ev)u.push(D);else{const q=bp(w,x);null!=q&&(u.push(D),d.set(D,q))}});const g=new bs(u);return new ZN(d,g,i.fieldTransforms)}function rx(r,n,t,o,i,u){const d=r.da(1,n,t),g=[ix(n,o,t)],y=[i];if(u.length%2!=0)throw new Me(ge.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let q=0;q<u.length;q+=2)g.push(ix(n,u[q])),y.push(u[q+1]);const w=[],D=Uo.empty();for(let q=g.length-1;q>=0;--q)if(!RN(w,g[q])){const J=g[q];let ee=y[q];ee=(0,hn.m9)(ee);const Ne=d.ca(J);if(ee instanceof Ev)w.push(J);else{const Be=bp(ee,Ne);null!=Be&&(w.push(J),D.set(J,Be))}}const x=new bs(w);return new ZN(D,x,d.fieldTransforms)}function UN(r,n,t,o=!1){return bp(t,r.da(o?4:3,n))}function bp(r,n){if(PN(r=(0,hn.m9)(r)))return ox("Unsupported field value:",n,r),MN(r,n);if(r instanceof Tp)return function(t,o){if(!kN(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(o);i&&o.fieldTransforms.push(i)}(r,n),null;if(void 0===r&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),r instanceof Array){if(n.settings.oa&&4!==n.sa)throw n.ha("Nested arrays are not supported");return function(t,o){const i=[];let u=0;for(const d of t){let g=bp(d,o.aa(u));null==g&&(g={nullValue:"NULL_VALUE"}),i.push(g),u++}return{arrayValue:{values:i}}}(r,n)}return function(t,o){if(null===(t=(0,hn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return AZ(o.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=sr.fromDate(t);return{timestampValue:cv(o.It,i)}}if(t instanceof sr){const i=new sr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:cv(o.It,i)}}if(t instanceof Iw)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Gu)return{bytesValue:GZ(o.It,t._byteString)};if(t instanceof Yn){const i=o.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw o.ha(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:wD(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${Cw(t)}`)}(r,n)}function MN(r,n){const t={};return eZ(r)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):sp(r,(o,i)=>{const u=bp(i,n.ra(o));null!=u&&(t[o]=u)}),{mapValue:{fields:t}}}function PN(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof sr||r instanceof Iw||r instanceof Gu||r instanceof Yn||r instanceof Tp)}function ox(r,n,t){if(!PN(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Cw(t);throw n.ha("an object"===o?r+" a custom object":r+" "+o)}var o}function ix(r,n,t){if((n=(0,hn.m9)(n))instanceof ec)return n._internalPath;if("string"==typeof n)return Sw(r,n);throw xw("Field path arguments must be of type string or ",r,!1,void 0,t)}const mO=new RegExp("[~\\*/\\[\\]]");function Sw(r,n,t){if(n.search(mO)>=0)throw xw(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new ec(...n.split("."))._internalPath}catch(o){throw xw(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function xw(r,n,t,o,i){const u=o&&!o.isEmpty(),d=void 0!==i;let g=`Function ${n}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${o}`),d&&(y+=` in document ${i}`),y+=")"),new Me(ge.INVALID_ARGUMENT,g+r+y)}function RN(r,n){return r.some(t=>t.isEqual(n))}class Dv{constructor(n,t,o,i,u){this._firestore=n,this._userDataWriter=t,this._key=o,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new yO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const t=this._document.data.field(Zw("DocumentSnapshot.get",n));if(null!==t)return this._userDataWriter.convertValue(t)}}}class yO extends Dv{data(){return super.data()}}function Zw(r,n){return"string"==typeof n?Sw(r,n):n instanceof ec?n._internalPath:n._delegate._internalPath}function ON(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Me(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sv{}function bd(r,...n){for(const t of n)r=t._apply(r);return r}class vO extends Sv{constructor(n,t,o){super(),this.ma=n,this.ga=t,this.ya=o,this.type="where"}_apply(n){const t=wp(n.firestore),o=function(i,u,d,g,y,w,D){let x;if(y.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Me(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){jN(D,w);const J=[];for(const ee of D)J.push(BN(g,i,ee));x={arrayValue:{values:J}}}else x=BN(g,i,D)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||jN(D,w),x=UN(d,"where",D,"in"===w||"not-in"===w);const q=Mo.create(y,w,x);return function(J,ee){if(ee.dt()){const Be=mD(J);if(null!==Be&&!Be.isEqual(ee.field))throw new Me(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Be.toString()}' and '${ee.field.toString()}'`);const ht=_D(J);null!==ht&&$N(0,ee.field,ht)}const Ne=function(Be,ht){for(const Rt of Be.filters)if(ht.indexOf(Rt.op)>=0)return Rt.op;return null}(J,function(Be){switch(Be){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ee.op));if(null!==Ne)throw new Me(ge.INVALID_ARGUMENT,Ne===ee.op?`Invalid query. You cannot use more than one '${ee.op.toString()}' filter.`:`Invalid query. You cannot use '${ee.op.toString()}' filters with '${Ne.toString()}' filters.`)}(i,q),q}(n._query,0,t,n.firestore._databaseId,this.ma,this.ga,this.ya);return new Ko(n.firestore,n.converter,function(i,u){const d=i.filters.concat([u]);return new Ql(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(n._query,o))}}class TO extends Sv{constructor(n,t){super(),this.ma=n,this.pa=t,this.type="orderBy"}_apply(n){const t=function(o,i,u){if(null!==o.startAt)throw new Me(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Me(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Ef(i,u);return function(g,y){if(null===_D(g)){const w=mD(g);null!==w&&$N(0,w,y.field)}}(o,d),d}(n._query,this.ma,this.pa);return new Ko(n.firestore,n.converter,function(o,i){const u=o.explicitOrderBy.concat([i]);return new Ql(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,t))}}class LN extends Sv{constructor(n,t,o){super(),this.type=n,this.Ia=t,this.Ta=o}_apply(n){return new Ko(n.firestore,n.converter,YT(n._query,this.Ia,this.Ta))}}class FN extends Sv{constructor(n,t,o){super(),this.type=n,this.Ea=t,this.Aa=o}_apply(n){const t=VN(n,this.type,this.Ea,this.Aa);return new Ko(n.firestore,n.converter,(i=t,new Ql((o=n._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,i,o.endAt)));var o,i}}class qN extends Sv{constructor(n,t,o){super(),this.type=n,this.Ea=t,this.Aa=o}_apply(n){const t=VN(n,this.type,this.Ea,this.Aa);return new Ko(n.firestore,n.converter,(i=t,new Ql((o=n._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,i)));var o,i}}function VN(r,n,t,o){if(t[0]=(0,hn.m9)(t[0]),t[0]instanceof Dv)return function(i,u,d,g,y){if(!g)throw new Me(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const D of Sf(i))if(D.field.isKeyField())w.push(lp(u,g.key));else{const x=g.data.field(D.field);if(pD(x))throw new Me(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const q=D.field.canonicalString();throw new Me(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${q}' (used as the orderBy) does not exist.`)}w.push(x)}return new md(w,y)}(r._query,r.firestore._databaseId,n,t[0]._document,o);{const i=wp(r.firestore);return function(u,d,g,y,w,D){const x=u.explicitOrderBy;if(w.length>x.length)throw new Me(ge.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const q=[];for(let J=0;J<w.length;J++){const ee=w[J];if(x[J].field.isKeyField()){if("string"!=typeof ee)throw new Me(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof ee}`);if(!yD(u)&&-1!==ee.indexOf("/"))throw new Me(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${ee}' contains a slash.`);const Ne=u.path.child(yn.fromString(ee));if(!Ke.isDocumentKey(Ne))throw new Me(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${Ne}' is not because it contains an odd number of segments.`);const Be=new Ke(Ne);q.push(lp(d,Be))}else{const Ne=UN(g,y,ee);q.push(Ne)}}return new md(q,D)}(r._query,r.firestore._databaseId,i,n,t,o)}}function BN(r,n,t){if("string"==typeof(t=(0,hn.m9)(t))){if(""===t)throw new Me(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yD(n)&&-1!==t.indexOf("/"))throw new Me(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=n.path.child(yn.fromString(t));if(!Ke.isDocumentKey(o))throw new Me(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return lp(r,new Ke(o))}if(t instanceof Yn)return lp(r,t._key);throw new Me(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cw(t)}.`)}function jN(r,n){if(!Array.isArray(r)||0===r.length)throw new Me(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(r.length>10)throw new Me(ge.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function $N(r,n,t){if(!t.isEqual(n))throw new Me(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class sx{convertValue(n,t="none"){switch(up(n)){case 0:return null;case 1:return n.booleanValue;case 2:return wr(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,t);case 5:return n.stringValue;case 6:return this.convertBytes(ap(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,t);case 10:return this.convertObject(n.mapValue,t);default:throw Oe()}}convertObject(n,t){const o={};return sp(n.fields,(i,u)=>{o[i]=this.convertValue(u,t)}),o}convertGeoPoint(n){return new Iw(wr(n.latitude),wr(n.longitude))}convertArray(n,t){return(n.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(n,t){switch(t){case"previous":const o=nZ(n);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Qy(n));default:return null}}convertTimestamp(n){const t=pd(n);return new sr(t.seconds,t.nanos)}convertDocumentKey(n,t){const o=yn.fromString(n);it(ek(o));const i=new gd(o.get(1),o.get(3)),u=new Ke(o.popFirst(5));return i.isEqual(t)||ut(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function kw(r,n,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(n,t):r.toFirestore(n):n,o}class xO extends sx{constructor(n){super(),this.firestore=n}convertBytes(n){return new Gu(n)}convertReference(n){const t=this.convertDocumentKey(n,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}class Ap{constructor(n,t){this.hasPendingWrites=n,this.fromCache=t}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class tc extends Dv{constructor(n,t,o,i,u,d){super(n,t,o,i,d),this._firestore=n,this._firestoreImpl=n,this.metadata=u}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const t=new xv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,t={}){if(this._document){const o=this._document.data.field(Zw("DocumentSnapshot.get",n));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class xv extends tc{data(n={}){return super.data(n)}}class Ad{constructor(n,t,o,i){this._firestore=n,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ap(i.hasPendingWrites,i.fromCache),this.query=o}get docs(){const n=[];return this.forEach(t=>n.push(t)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,t){this._snapshot.docs.forEach(o=>{n.call(t,new xv(this._firestore,this._userDataWriter,o.key,o,new Ap(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const t=!!n.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,i){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>({type:"added",doc:new xv(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ap(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:u++}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const g=new xv(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ap(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return 0!==d.type&&(y=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),w=u.indexOf(d.doc.key)),{type:ZO(d.type),doc:g,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ZO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}function GN(r,n){return r instanceof tc&&n instanceof tc?r._firestore===n._firestore&&r._key.isEqual(n._key)&&(null===r._document?null===n._document:r._document.isEqual(n._document))&&r._converter===n._converter:r instanceof Ad&&n instanceof Ad&&r._firestore===n._firestore&&GS(r.query,n.query)&&r.metadata.isEqual(n.metadata)&&r._snapshot.isEqual(n._snapshot)}class Id extends sx{constructor(n){super(),this.firestore=n}convertBytes(n){return new Gu(n)}convertReference(n){const t=this.convertDocumentKey(n,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}function HN(r,n,t){r=pn(r,Yn);const o=pn(r.firestore,Xn),i=kw(r.converter,n,t);return Jf(o,[Dw(wp(o),"setDoc",r._key,i,null!==r.converter,t).toMutation(r._key,ar.none())])}function JN(r,n,t,...o){r=pn(r,Yn);const i=pn(r.firestore,Xn),u=wp(i);let d;return d="string"==typeof(n=(0,hn.m9)(n))||n instanceof ec?rx(u,"updateDoc",r._key,n,t,o):nx(u,"updateDoc",r._key,n),Jf(i,[d.toMutation(r._key,ar.exists(!0))])}function WN(r,...n){var t,o,i;r=(0,hn.m9)(r);let u={includeMetadataChanges:!1},d=0;"object"!=typeof n[d]||ex(n[d])||(u=n[d],d++);const g={includeMetadataChanges:u.includeMetadataChanges};if(ex(n[d])){const x=n[d];n[d]=null===(t=x.next)||void 0===t?void 0:t.bind(x),n[d+1]=null===(o=x.error)||void 0===o?void 0:o.bind(x),n[d+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let y,w,D;if(r instanceof Yn)w=pn(r.firestore,Xn),D=Df(r._key.path),y={next:x=>{n[d]&&n[d](ax(w,r,x))},error:n[d+1],complete:n[d+2]};else{const x=pn(r,Ko);w=pn(x.firestore,Xn),D=x._query;const q=new Id(w);y={next:J=>{n[d]&&n[d](new Ad(w,q,x,J))},error:n[d+1],complete:n[d+2]},ON(r._query)}return function(x,q,J,ee){const Ne=new ww(ee),Be=new mS(q,Ne,J);return x.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return hS(yield Hf(x),Be)})),()=>{Ne.bc(),x.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return gS(yield Hf(x),Be)}))}}(kr(w),D,g,y)}function Jf(r,n){return function(t,o){const i=new pr;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function bR(r,n,t){return wS.apply(this,arguments)}(yield YS(t),o,i)})),i.promise}(kr(r),n)}function ax(r,n,t){const o=t.docs.get(n._key),i=new Id(r);return new tc(r,i,n._key,o,new Ap(t.hasPendingWrites,t.fromCache),n.converter)}const qO={maxAttempts:5};class zN{constructor(n,t){this._firestore=n,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wp(n)}set(n,t,o){this._verifyNotCommitted();const i=Ed(n,this._firestore),u=kw(i.converter,t,o),d=Dw(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,o);return this._mutations.push(d.toMutation(i._key,ar.none())),this}update(n,t,o,...i){this._verifyNotCommitted();const u=Ed(n,this._firestore);let d;return d="string"==typeof(t=(0,hn.m9)(t))||t instanceof ec?rx(this._dataReader,"WriteBatch.update",u._key,t,o,i):nx(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,ar.exists(!0))),this}delete(n){this._verifyNotCommitted();const t=Ed(n,this._firestore);return this._mutations=this._mutations.concat(new Nf(t._key,ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ed(r,n){if((r=(0,hn.m9)(r)).firestore!==n)throw new Me(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class VO extends class{constructor(n,t){this._firestore=n,this._transaction=t,this._dataReader=wp(n)}get(n){const t=Ed(n,this._firestore),o=new xO(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Oe();const u=i[0];if(u.isFoundDocument())return new Dv(this._firestore,o,u.key,u,t.converter);if(u.isNoDocument())return new Dv(this._firestore,o,t._key,null,t.converter);throw Oe()})}set(n,t,o){const i=Ed(n,this._firestore),u=kw(i.converter,t,o),d=Dw(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,o);return this._transaction.set(i._key,d),this}update(n,t,o,...i){const u=Ed(n,this._firestore);let d;return d="string"==typeof(t=(0,hn.m9)(t))||t instanceof ec?rx(this._dataReader,"Transaction.update",u._key,t,o,i):nx(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(n){const t=Ed(n,this._firestore);return this._transaction.delete(t._key),this}}{constructor(n,t){super(n,t),this._firestore=n}get(n){const t=Ed(n,this._firestore),o=new Id(this._firestore);return super.get(n).then(i=>new tc(this._firestore,o,t._key,i._document,new Ap(!1,!1),t.converter))}}function ux(r,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Me("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return n}function KN(){if("undefined"==typeof Uint8Array)throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function YN(){if(!function dM(){return"undefined"!=typeof atob}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,n=!0){ne=ys.SDK_VERSION,(0,ys._registerComponent)(new Bg.wA("firestore",(t,{instanceIdentifier:o,options:i})=>{const u=t.getProvider("app").getImmediate(),d=new Xn(new Gy(t.getProvider("auth-internal")),new nM(t.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Me(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gd(g.options.projectId,y)}(u,o),u);return i=Object.assign({useFetchStreams:n},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,ys.registerVersion)(R,"3.7.1",r),(0,ys.registerVersion)(R,"3.7.1","esm2017")}();class Zv{constructor(n){this._delegate=n}static fromBase64String(n){return YN(),new Zv(Gu.fromBase64String(n))}static fromUint8Array(n){return KN(),new Zv(Gu.fromUint8Array(n))}toBase64(){return YN(),this._delegate.toBase64()}toUint8Array(){return KN(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function lx(r){return function QO(r,n){if("object"!=typeof r||null===r)return!1;const t=r;for(const o of n)if(o in t&&"function"==typeof t[o])return!0;return!1}(r,["next","error","complete"])}class KO{enableIndexedDbPersistence(n,t){return function rO(r,n){xN(r=pn(r,Xn));const t=kr(r),o=r._freezeSettings(),i=new jS;return SN(t,i,new cN(i,o.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(n){return function oO(r){xN(r=pn(r,Xn));const n=kr(r),t=r._freezeSettings(),o=new jS;return SN(n,o,new FR(o,t.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function iO(r){if(r._initialized&&!r._terminated)throw new Me(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new pr;return r._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(o){if(!Wa.C())return Promise.resolve();const i=o+"main";yield Wa.delete(i)}),function(o){return t.apply(this,arguments)})(RD(r._databaseId,r._persistenceKey)),n.resolve()}catch(t){n.reject(t)}var t})),n.promise}(n._delegate)}}class XN{constructor(n,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},n instanceof gd||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const t=this._delegate._getSettings();!n.merge&&t.host!==n.host&&Ze("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},t),n)).merge,this._delegate._setSettings(n)}useEmulator(n,t,o={}){!function mN(r,n,t,o={}){var i;const u=(r=pn(r,Iv))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==n&&Ze("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},u),{host:`${n}:${t}`,ssl:!1})),o.mockUserToken){let d,g;if("string"==typeof o.mockUserToken)d=o.mockUserToken,g=j.MOCK_USER;else{d=(0,hn.Sg)(o.mockUserToken,null===(i=r._app)||void 0===i?void 0:i.options.projectId);const y=o.mockUserToken.sub||o.mockUserToken.user_id;if(!y)throw new Me(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new j(y)}r._authCredentials=new $y(new wf(d,g))}}(this._delegate,n,t,o)}enableNetwork(){return function aO(r){return function JR(r){return r.asyncQueue.enqueue((0,be.Z)(function*(){const n=yield bN(r),t=yield KS(r);return n.setNetworkEnabled(!0),function(o){const i=We(o);return i.wu.delete(0),bv(i)}(t)}))}(kr(r=pn(r,Xn)))}(this._delegate)}disableNetwork(){return function uO(r){return function WR(r){return r.asyncQueue.enqueue((0,be.Z)(function*(){const n=yield bN(r),t=yield KS(r);return n.setNetworkEnabled(!1),(o=(0,be.Z)(function*(i){const u=We(i);u.wu.add(0),yield Ff(u),u.yu.set("Offline")}),function(i){return o.apply(this,arguments)})(t);var o}))}(kr(r=pn(r,Xn)))}(this._delegate)}enablePersistence(n){let t=!1,o=!1;return n&&(t=!!n.synchronizeTabs,o=!!n.experimentalForceOwningTab,dN("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function sO(r){return function(n){const t=new pr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function DR(r,n){return DS.apply(this,arguments)}(yield YS(n),t)})),t.promise}(kr(r=pn(r,Xn)))}(this._delegate)}onSnapshotsInSync(n){return function FO(r,n){return function KR(r,n){const t=new ww(n);return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return o=yield Hf(r),i=t,We(o).bu.add(i),void i.next();var o,i})),()=>{t.bc(),r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return o=yield Hf(r),i=t,void We(o).bu.delete(i);var o,i}))}}(kr(r=pn(r,Xn)),ex(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new Wf(this,yN(this._delegate,n))}catch(t){throw fi(t,"collection()","Firestore.collection()")}}doc(n){try{return new ha(this,Tw(this._delegate,n))}catch(t){throw fi(t,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new _i(this,function qR(r,n){if(r=pn(r,Iv),$S("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Me(ge.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ko(r,null,(t=n,new Ql(yn.emptyPath(),t)));var t}(this._delegate,n))}catch(t){throw fi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function BO(r,n,t){r=pn(r,Xn);const o=Object.assign(Object.assign({},qO),t);return function(i){if(i.maxAttempts<1)throw new Me(ge.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(i,u,d){const g=new pr;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const y=yield function AN(r){return bw(r).then(n=>n.datastore)}(i);new GR(i.asyncQueue,y,d,u,g).run()})),g.promise}(kr(r),i=>n(new VO(r,i)),o)}(this._delegate,t=>n(new eU(this,t)))}batch(){return kr(this._delegate),new tU(new zN(this._delegate,n=>Jf(this._delegate,n)))}loadBundle(n){return function lO(r,n){const t=kr(r=pn(r,Xn)),o=new tO;return function YR(r,n,t,o){const i=function(u,d){let g;return g="string"==typeof u?(new TextEncoder).encode(u):u,y=function(y,w){if(y instanceof Uint8Array)return CN(y,w);if(y instanceof ArrayBuffer)return CN(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new VR(y,d);var y}(t,wv(n));r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function LR(r,n,t){const o=We(r);var i;(i=(0,be.Z)(function*(u,d,g){try{const y=yield d.getMetadata();if(yield function(q,J){const ee=We(q),Ne=go(J.createTime);return ee.persistence.runTransaction("hasNewerBundle","readonly",Be=>ee.Ns.getBundleMetadata(Be,J.id)).then(Be=>!!Be&&Be.createTime.compareTo(Ne)>=0)}(u.localStore,y))return yield d.close(),g._completeWith({taskState:"Success",documentsLoaded:(q=y).totalDocuments,bytesLoaded:q.totalBytes,totalDocuments:q.totalDocuments,totalBytes:q.totalBytes}),Promise.resolve(new Set);g._updateProgress(eN(y));const w=new mR(y,u.localStore,d.It);let D=yield d.mc();for(;D;){const q=yield w.Fu(D);q&&g._updateProgress(q),D=yield d.mc()}const x=yield w.complete();return yield Xl(u,x.Lu,void 0),yield function(q,J){const ee=We(q);return ee.persistence.runTransaction("Save bundle","readwrite",Ne=>ee.Ns.saveBundleMetadata(Ne,J))}(u.localStore,y),g._completeWith(x.progress),Promise.resolve(x.Bu)}catch(y){return Ze("SyncEngine",`Loading bundle failed with ${y}`),g._failWith(y),Promise.resolve(new Set)}var q}),function(u,d,g){return i.apply(this,arguments)})(o,n,t).then(i=>{o.sharedClientState.notifyBundleLoaded(i)})}(yield YS(r),i,o)}))}(t,r._databaseId,n,o),o}(this._delegate,n)}namedQuery(n){return function cO(r,n){return function XR(r,n){return r.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,o){const i=We(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ns.getNamedQuery(u,o))}(yield Aw(r),n)}))}(kr(r=pn(r,Xn)),n).then(t=>t?new Ko(r,null,t.query):null)}(this._delegate,n).then(t=>t?new _i(this,t):null)}}class Nw extends sx{constructor(n){super(),this.firestore=n}convertBytes(n){return new Zv(new Gu(n))}convertReference(n){const t=this.convertDocumentKey(n,this.firestore._databaseId);return ha.forKey(t,this.firestore,null)}}class eU{constructor(n,t){this._firestore=n,this._delegate=t,this._userDataWriter=new Nw(n)}get(n){const t=Ep(n);return this._delegate.get(t).then(o=>new kv(this._firestore,new tc(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(n,t,o){const i=Ep(n);return o?(ux("Transaction.set",o),this._delegate.set(i,t,o)):this._delegate.set(i,t),this}update(n,t,o,...i){const u=Ep(n);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...i),this}delete(n){const t=Ep(n);return this._delegate.delete(t),this}}class tU{constructor(n){this._delegate=n}set(n,t,o){const i=Ep(n);return o?(ux("WriteBatch.set",o),this._delegate.set(i,t,o)):this._delegate.set(i,t),this}update(n,t,o,...i){const u=Ep(n);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...i),this}delete(n){const t=Ep(n);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ip{constructor(n,t,o){this._firestore=n,this._userDataWriter=t,this._delegate=o}fromFirestore(n,t){const o=new xv(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new Nv(this._firestore,o),null!=t?t:{})}toFirestore(n,t){return t?this._delegate.toFirestore(n,t):this._delegate.toFirestore(n)}static getInstance(n,t){const o=Ip.INSTANCES;let i=o.get(n);i||(i=new WeakMap,o.set(n,i));let u=i.get(t);return u||(u=new Ip(n,new Nw(n),t),i.set(t,u)),u}}Ip.INSTANCES=new WeakMap;class ha{constructor(n,t){this.firestore=n,this._delegate=t,this._userDataWriter=new Nw(n)}static forPath(n,t,o){if(n.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new ha(t,new Yn(t._delegate,o,new Ke(n)))}static forKey(n,t,o){return new ha(t,new Yn(t._delegate,o,n))}get id(){return this._delegate.id}get parent(){return new Wf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new Wf(this.firestore,yN(this._delegate,n))}catch(t){throw fi(t,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,hn.m9)(n))instanceof Yn&&vN(this._delegate,n)}set(n,t){t=ux("DocumentReference.set",t);try{return t?HN(this._delegate,n,t):HN(this._delegate,n)}catch(o){throw fi(o,"setDoc()","DocumentReference.set()")}}update(n,t,...o){try{return 1===arguments.length?JN(this._delegate,n):JN(this._delegate,n,t,...o)}catch(i){throw fi(i,"updateDoc()","DocumentReference.update()")}}delete(){return function OO(r){return Jf(pn(r.firestore,Xn),[new Nf(r._key,ar.none())])}(this._delegate)}onSnapshot(...n){const t=nU(n),o=rU(n,i=>new kv(this.firestore,new tc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return WN(this._delegate,t,o)}get(n){let t;return t="cache"===(null==n?void 0:n.source)?function NO(r){r=pn(r,Yn);const n=pn(r.firestore,Xn),t=kr(n),o=new Id(n);return function zR(r,n){const t=new pr;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(o=(0,be.Z)(function*(i,u,d){try{const g=yield function(y,w){const D=We(y);return D.persistence.runTransaction("read document","readonly",x=>D.localDocuments.getDocument(x,w))}(i,u);g.isFoundDocument()?d.resolve(g):g.isNoDocument()?d.resolve(null):d.reject(new Me(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const y=Bf(g,`Failed to get document '${u} from cache`);d.reject(y)}}),function(i,u,d){return o.apply(this,arguments)})(yield Aw(r),n,t);var o})),t.promise}(t,r._key).then(i=>new tc(n,o,r._key,i,new Ap(null!==i&&i.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function UO(r){r=pn(r,Yn);const n=pn(r.firestore,Xn);return IN(kr(n),r._key,{source:"server"}).then(t=>ax(n,r,t))}(this._delegate):function kO(r){r=pn(r,Yn);const n=pn(r.firestore,Xn);return IN(kr(n),r._key).then(t=>ax(n,r,t))}(this._delegate),t.then(o=>new kv(this.firestore,new tc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(n){return new ha(this.firestore,this._delegate.withConverter(n?Ip.getInstance(this.firestore,n):null))}}function fi(r,n,t){return r.message=r.message.replace(n,t),r}function nU(r){for(const n of r)if("object"==typeof n&&!lx(n))return n;return{}}function rU(r,n){var t,o;let i;return i=lx(r[0])?r[0]:lx(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:u=>{i.next&&i.next(n(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(o=i.complete)||void 0===o?void 0:o.bind(i)}}class kv{constructor(n,t){this._firestore=n,this._delegate=t}get ref(){return new ha(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,t){return this._delegate.get(n,t)}isEqual(n){return GN(this._delegate,n._delegate)}}class Nv extends kv{data(n){const t=this._delegate.data(n);return function zl(r,n){r||Oe()}(void 0!==t),t}}class _i{constructor(n,t){this.firestore=n,this._delegate=t,this._userDataWriter=new Nw(n)}where(n,t,o){try{return new _i(this.firestore,bd(this._delegate,function CO(r,n,t){const o=n,i=Zw("where",r);return new vO(i,o,t)}(n,t,o)))}catch(i){throw fi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,t){try{return new _i(this.firestore,bd(this._delegate,function wO(r,n="asc"){const t=n,o=Zw("orderBy",r);return new TO(o,t)}(n,t)))}catch(o){throw fi(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new _i(this.firestore,bd(this._delegate,function bO(r){return gN("limit",r),new LN("limit",r,"F")}(n)))}catch(t){throw fi(t,"limit()","Query.limit()")}}limitToLast(n){try{return new _i(this.firestore,bd(this._delegate,function AO(r){return gN("limitToLast",r),new LN("limitToLast",r,"L")}(n)))}catch(t){throw fi(t,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new _i(this.firestore,bd(this._delegate,function IO(...r){return new FN("startAt",r,!0)}(...n)))}catch(t){throw fi(t,"startAt()","Query.startAt()")}}startAfter(...n){try{return new _i(this.firestore,bd(this._delegate,function EO(...r){return new FN("startAfter",r,!1)}(...n)))}catch(t){throw fi(t,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new _i(this.firestore,bd(this._delegate,function DO(...r){return new qN("endBefore",r,!1)}(...n)))}catch(t){throw fi(t,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new _i(this.firestore,bd(this._delegate,function SO(...r){return new qN("endAt",r,!0)}(...n)))}catch(t){throw fi(t,"endAt()","Query.endAt()")}}isEqual(n){return GS(this._delegate,n._delegate)}get(n){let t;return t="cache"===(null==n?void 0:n.source)?function PO(r){r=pn(r,Ko);const n=pn(r.firestore,Xn),t=kr(n),o=new Id(n);return function QR(r,n){const t=new pr;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(o=(0,be.Z)(function*(i,u,d){try{const g=yield gw(i,u,!0),y=new rN(u,g.Hi),w=y.Wu(g.documents),D=y.applyChanges(w,!1);d.resolve(D.snapshot)}catch(g){const y=Bf(g,`Failed to execute query '${u} against cache`);d.reject(y)}}),function(i,u,d){return o.apply(this,arguments)})(yield Aw(r),n,t);var o})),t.promise}(t,r._query).then(i=>new Ad(n,o,r,i))}(this._delegate):"server"===(null==n?void 0:n.source)?function RO(r){r=pn(r,Ko);const n=pn(r.firestore,Xn),t=kr(n),o=new Id(n);return EN(t,r._query,{source:"server"}).then(i=>new Ad(n,o,r,i))}(this._delegate):function MO(r){r=pn(r,Ko);const n=pn(r.firestore,Xn),t=kr(n),o=new Id(n);return ON(r._query),EN(t,r._query).then(i=>new Ad(n,o,r,i))}(this._delegate),t.then(o=>new cx(this.firestore,new Ad(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...n){const t=nU(n),o=rU(n,i=>new cx(this.firestore,new Ad(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return WN(this._delegate,t,o)}withConverter(n){return new _i(this.firestore,this._delegate.withConverter(n?Ip.getInstance(this.firestore,n):null))}}class XO{constructor(n,t){this._firestore=n,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Nv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class cx{constructor(n,t){this._firestore=n,this._delegate=t}get query(){return new _i(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new Nv(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(t=>new XO(this._firestore,t))}forEach(n,t){this._delegate.forEach(o=>{n.call(t,new Nv(this._firestore,o))})}isEqual(n){return GN(this._delegate,n._delegate)}}class Wf extends _i{constructor(n,t){super(n,t),this.firestore=n,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new ha(this.firestore,n):null}doc(n){try{return new ha(this.firestore,void 0===n?Tw(this._delegate):Tw(this._delegate,n))}catch(t){throw fi(t,"doc()","CollectionReference.doc()")}}add(n){return function LO(r,n){const t=pn(r.firestore,Xn),o=Tw(r),i=kw(r.converter,n);return Jf(t,[Dw(wp(r.firestore),"addDoc",o._key,i,null!==r.converter,{}).toMutation(o._key,ar.exists(!1))]).then(()=>o)}(this._delegate,n).then(t=>new ha(this.firestore,t))}isEqual(n){return vN(this._delegate,n._delegate)}withConverter(n){return new Wf(this.firestore,this._delegate.withConverter(n?Ip.getInstance(this.firestore,n):null))}}function Ep(r){return pn(r,Yn)}class dx{constructor(...n){this._delegate=new ec(...n)}static documentId(){return new dx(Cr.keyField().canonicalString())}isEqual(n){return(n=(0,hn.m9)(n))instanceof ec&&this._delegate._internalPath.isEqual(n._internalPath)}}class Dp{constructor(n){this._delegate=n}static serverTimestamp(){const n=function $O(){return new tx("serverTimestamp")}();return n._methodName="FieldValue.serverTimestamp",new Dp(n)}static delete(){const n=function jO(){return new Ev("deleteField")}();return n._methodName="FieldValue.delete",new Dp(n)}static arrayUnion(...n){const t=function GO(...r){return new gO("arrayUnion",r)}(...n);return t._methodName="FieldValue.arrayUnion",new Dp(t)}static arrayRemove(...n){const t=function HO(...r){return new fO("arrayRemove",r)}(...n);return t._methodName="FieldValue.arrayRemove",new Dp(t)}static increment(n){const t=function JO(r){return new _O("increment",r)}(n);return t._methodName="FieldValue.increment",new Dp(t)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const eL={Firestore:XN,GeoPoint:Iw,Timestamp:sr,Blob:Zv,Transaction:eU,WriteBatch:tU,DocumentReference:ha,DocumentSnapshot:kv,Query:_i,QueryDocumentSnapshot:Nv,QuerySnapshot:cx,CollectionReference:Wf,FieldPath:dx,FieldValue:Dp,setLogLevel:function YO(r){!function Qe(r){Ce.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function nL(r){(function tL(r,n){r.INTERNAL.registerComponent(new Bg.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return n(o,i)},"PUBLIC").setServiceProps(Object.assign({},eL)))})(r,(n,t)=>new XN(n,t,new KO)),r.registerVersion("@firebase/firestore-compat","0.2.1")}(eT.Z);var rL=P(6451),Uw=P(5363),oL=P(6063);class oU extends ki.x{constructor(n=1/0,t=1/0,o=oL.l){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){const{isStopped:t,_buffer:o,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:d}=this;t||(o.push(n),!i&&o.push(u.now()+d)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(n),{_infiniteTimeWindow:o,_buffer:i}=this,u=i.slice();for(let d=0;d<u.length&&!n.closed;d+=o?1:2)n.next(u[d]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){const{_bufferSize:n,_timestampProvider:t,_buffer:o,_infiniteTimeWindow:i}=this,u=(i?1:2)*n;if(n<1/0&&u<o.length&&o.splice(0,o.length-u),!i){const d=t.now();let g=0;for(let y=1;y<o.length&&o[y]<=d;y+=2)g=y;g&&o.splice(0,g+1)}}}var iL=P(3099);function iU(r,n,t){let o,i=!1;return r&&"object"==typeof r?({bufferSize:o=1/0,windowTime:n=1/0,refCount:i=!1,scheduler:t}=r):o=null!=r?r:1/0,(0,iL.B)({connector:()=>new oU(o,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function sU(r,n){return(0,ah.m)(n)?zr(()=>r,n):zr(()=>r)}var hx=P(9468);P(5867);const uU=new Map,cL={activated:!1,tokenObservers:[]},dL={initialized:!1,enabled:!1};function mo(r){return uU.get(r)||cL}function pa(r,n){uU.set(r,n)}function Pw(){return dL}class _L{constructor(n,t,o,i,u){if(this.operation=n,this.retryPolicy=t,this.getWaitDuration=o,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new hn.BH,yield function mL(r){return new Promise(n=>{setTimeout(n,r)})}(t.getNextRun(n)),t.pending.resolve(),yield t.pending.promise,t.pending=new hn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(o){t.retryPolicy(o)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const mi=new hn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function cU(r){if(!mo(r).activated)throw mi.create("use-before-activation",{appName:r.name})}function _x(r,n){return mx.apply(this,arguments)}function mx(){return mx=(0,be.Z)(function*({url:r,body:n},t){var o,i;const u={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const J=yield d.getHeartbeatsHeader();J&&(u["X-Firebase-Client"]=J)}const g={method:"POST",body:JSON.stringify(n),headers:u};let y,w;try{y=yield fetch(r,g)}catch(J){throw mi.create("fetch-network-error",{originalErrorMessage:null===(o=J)||void 0===o?void 0:o.message})}if(200!==y.status)throw mi.create("fetch-status-error",{httpStatus:y.status});try{w=yield y.json()}catch(J){throw mi.create("fetch-parse-error",{originalErrorMessage:null===(i=J)||void 0===i?void 0:i.message})}const D=w.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw mi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const x=1e3*Number(D[1]),q=Date.now();return{token:w.token,expireTimeMillis:q+x,issuedAtTimeMillis:q}}),mx.apply(this,arguments)}function TL(r,n){const{projectId:t,appId:o,apiKey:i}=r.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${o}:exchangeDebugToken?key=${i}`,body:{debug_token:n}}}const Uv="firebase-app-check-store";let Lw=null;function hU(){return Lw||(Lw=new Promise((r,n)=>{var t;try{const o=indexedDB.open("firebase-app-check-database",1);o.onsuccess=i=>{r(i.target.result)},o.onerror=i=>{var u;n(mi.create("storage-open",{originalErrorMessage:null===(u=i.target.error)||void 0===u?void 0:u.message}))},o.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Uv,{keyPath:"compositeKey"})}}catch(o){n(mi.create("storage-open",{originalErrorMessage:null===(t=o)||void 0===t?void 0:t.message}))}}),Lw)}function yx(){return yx=(0,be.Z)(function*(r,n){const o=(yield hU()).transaction(Uv,"readwrite"),u=o.objectStore(Uv).put({compositeKey:r,value:n});return new Promise((d,g)=>{u.onsuccess=y=>{d()},o.onerror=y=>{var w;g(mi.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})}),yx.apply(this,arguments)}const Mv=new Pu.Yd("@firebase/app-check");function Tx(r,n){return(0,hn.hl)()?function IL(r,n){return function pU(r,n){return yx.apply(this,arguments)}(function fU(r){return`${r.options.appId}-${r.name}`}(r),n)}(r,n).catch(t=>{Mv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function _U(){return Pw().enabled}function mU(){return bx.apply(this,arguments)}function bx(){return bx=(0,be.Z)(function*(){const r=Pw();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),bx.apply(this,arguments)}const kL={error:"UNKNOWN_ERROR"};function NL(r){return hn.US.encodeString(JSON.stringify(r),!1)}function Fw(r){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,be.Z)(function*(r,n=!1){const t=r.app;cU(t);const o=mo(t);let u,i=o.token;if(i&&!zf(i)&&(pa(t,Object.assign(Object.assign({},o),{token:void 0})),i=void 0),!i){const y=yield o.cachedTokenPromise;y&&(zf(y)?i=y:yield Tx(t,void 0))}if(!n&&i&&zf(i))return{token:i.token};let g,d=!1;if(_U()){o.exchangeTokenPromise||(o.exchangeTokenPromise=_x(TL(t,yield mU()),r.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),d=!0);const y=yield o.exchangeTokenPromise;return yield Tx(t,y),pa(t,Object.assign(Object.assign({},o),{token:y})),{token:y.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),d=!0),i=yield o.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Mv.warn(y.message):Mv.error(y),u=y}return i?u?g=zf(i)?{token:i.token,internalError:u}:CU(u):(g={token:i.token},pa(t,Object.assign(Object.assign({},o),{token:i})),yield Tx(t,i)):g=CU(u),d&&vU(t,g),g}),Ax.apply(this,arguments)}function Ex(r,n){const t=mo(r),o=t.tokenObservers.filter(i=>i.next!==n);0===o.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),pa(r,Object.assign(Object.assign({},t),{tokenObservers:o}))}function yU(r){const{app:n}=r,t=mo(n);let o=t.tokenRefresher;o||(o=function UL(r){const{app:n}=r;return new _L((0,be.Z)(function*(){let o;if(o=mo(n).token?yield Fw(r,!0):yield Fw(r),o.error)throw o.error;if(o.internalError)throw o.internalError}),()=>!0,()=>{const t=mo(n);if(t.token){let o=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,t.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(r),pa(n,Object.assign(Object.assign({},t),{tokenRefresher:o}))),!o.isRunning()&&t.isTokenAutoRefreshEnabled&&o.start()}function vU(r,n){const t=mo(r).tokenObservers;for(const o of t)try{"EXTERNAL"===o.type&&null!=n.error?o.error(n.error):o.next(n)}catch(i){}}function zf(r){return r.expireTimeMillis-Date.now()>0}function CU(r){return{token:NL(kL),error:r}}class ML{constructor(n,t){this.app=n,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:n}=mo(this.app);for(const t of n)Ex(this.app,t.next);return Promise.resolve()}}const SU="app-check-internal";!function WL(){(0,ys._registerComponent)(new Bg.wA("app-check",r=>function PL(r,n){return new ML(r,n)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,n,t)=>{r.getProvider(SU).initialize()})),(0,ys._registerComponent)(new Bg.wA(SU,r=>function RL(r){return{getToken:n=>Fw(r,n),addTokenListener:n=>function Ix(r,n,t,o){const{app:i}=r,u=mo(i),d={next:t,error:o,type:n};if(pa(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&zf(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),yU(r)}).catch(()=>{})}u.cachedTokenPromise.then(()=>yU(r))}(r,"INTERNAL",n),removeTokenListener:n=>Ex(r.app,n)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ys.registerVersion)("@firebase/app-check","0.5.15")}();class Zx{constructor(){return(0,Kr.vb)("app-check")}}"undefined"!=typeof window&&window;var XL=P(127);const ZU=new e.OlP("angularfire2.auth.use-emulator"),kU=new e.OlP("angularfire2.auth.settings"),NU=new e.OlP("angularfire2.auth.tenant-id"),UU=new e.OlP("angularfire2.auth.langugage-code"),MU=new e.OlP("angularfire2.auth.use-device-language"),PU=new e.OlP("angularfire.auth.persistence"),RU=(r,n,t,o,i,u,d,g)=>(0,vs.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const y=n.runOutsideAngular(()=>r.auth());if(t&&y.useEmulator(...t),o&&(y.tenantId=o),y.languageCode=i,u&&y.useDeviceLanguage(),d)for(const[w,D]of Object.entries(d))y.settings[w]=D;return g&&y.setPersistence(g),y},[t,o,i,u,d,g]);let Vw=(()=>{class r{constructor(t,o,i,u,d,g,y,w,D,x,q,J){const ee=new ki.x,Ne=Ct(void 0).pipe((0,Uw.Q)(d.outsideAngular),zr(()=>u.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5881)))),(0,W.U)(()=>(0,vs.on)(t,u,o)),(0,W.U)(Be=>RU(Be,u,g,w,D,x,y,q)),iU({bufferSize:1,refCount:!1}));if(Wu(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ct(null);else{Ne.pipe(Xs()).subscribe();const ht=Ne.pipe(zr(At=>At.getRedirectResult().then(Vt=>Vt,()=>null)),Kr.iC,iU({bufferSize:1,refCount:!1})),Rt=Ne.pipe(zr(At=>new Jr.y(Vt=>({unsubscribe:u.runOutsideAngular(()=>At.onAuthStateChanged(tn=>Vt.next(tn),tn=>Vt.error(tn),()=>Vt.complete()))})))),Ht=Ne.pipe(zr(At=>new Jr.y(Vt=>({unsubscribe:u.runOutsideAngular(()=>At.onIdTokenChanged(tn=>Vt.next(tn),tn=>Vt.error(tn),()=>Vt.complete()))}))));this.authState=ht.pipe(sU(Rt),(0,hx.R)(d.outsideAngular),(0,Uw.Q)(d.insideAngular)),this.user=ht.pipe(sU(Ht),(0,hx.R)(d.outsideAngular),(0,Uw.Q)(d.insideAngular)),this.idToken=this.user.pipe(zr(At=>At?(0,ln.D)(At.getIdToken()):Ct(null))),this.idTokenResult=this.user.pipe(zr(At=>At?(0,ln.D)(At.getIdTokenResult()):Ct(null))),this.credential=(0,rL.T)(ht,ee,this.authState.pipe($e(At=>!At))).pipe((0,W.U)(At=>null!=At&&At.user?At:null),(0,hx.R)(d.outsideAngular),(0,Uw.Q)(d.insideAngular))}return(0,vs.pX)(this,Ne,u,{spy:{apply:(Be,ht,Rt)=>{(Be.startsWith("signIn")||Be.startsWith("createUser"))&&Rt.then(Ht=>ee.next(Ht))}}})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(vs.Dh),e.LFG(vs.xv,8),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(Kr.HU),e.LFG(ZU,8),e.LFG(kU,8),e.LFG(NU,8),e.LFG(UU,8),e.LFG(MU,8),e.LFG(PU,8),e.LFG(Zx,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),t6=(()=>{class r{constructor(){XL.Z.registerVersion("angularfire",Kr.q4.full,"auth-compat")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[Vw]}),r})();function OU(r,n){return function n6(r,n=Qr.z){return new Jr.y(t=>{let o;return null!=n?n.schedule(()=>{o=r.onSnapshot({includeMetadataChanges:!0},t)}):o=r.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(r,n)}function Nx(r,n){return OU(r,n).pipe((0,W.U)(t=>({payload:t,type:"query"})))}function Bw(r,n){return Nx(r,n).pipe(Tu(void 0),Kc(),(0,W.U)(([t,o])=>{const i=o.payload.docChanges(),u=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((d,g)=>{const y=i.find(D=>D.doc.ref.isEqual(d.ref)),w=null==t?void 0:t.payload.docs.find(D=>D.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:d}})}),u}))}function LU(r,n,t){return Bw(r,t).pipe(xc((o,i)=>function o6(r,n,t){return n.forEach(o=>{t.indexOf(o.type)>-1&&(r=function i6(r,n){switch(n.type){case"added":if(!r[n.newIndex]||!r[n.newIndex].doc.ref.isEqual(n.doc.ref))return Ux(r,n.newIndex,0,n);break;case"modified":if(null==r[n.oldIndex]||r[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const t=r.slice();return t.splice(n.oldIndex,1),t.splice(n.newIndex,0,n),t}return Ux(r,n.newIndex,1,n)}break;case"removed":if(r[n.oldIndex]&&r[n.oldIndex].doc.ref.isEqual(n.doc.ref))return Ux(r,n.oldIndex,1)}return r}(r,o))}),r}(o,i.map(u=>u.payload),n),[]),function jg(r,n=vu.y){return r=null!=r?r:xE,(0,ao.e)((t,o)=>{let i,u=!0;t.subscribe((0,zn.x)(o,d=>{const g=n(d);(u||!r(i,g))&&(u=!1,i=g,o.next(d))}))})}(),(0,W.U)(o=>o.map(i=>({type:i.type,payload:i}))))}function Ux(r,n,t,...o){const i=r.slice();return i.splice(n,t,...o),i}function FU(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class qU{constructor(n,t,o){this.ref=n,this.query=t,this.afs=o}stateChanges(n){let t=Bw(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(t=t.pipe((0,W.U)(o=>o.filter(i=>n.indexOf(i.type)>-1)))),t.pipe(Tu(void 0),Kc(),$e(([o,i])=>i.length>0||!o),(0,W.U)(([o,i])=>i),Kr.iC)}auditTrail(n){return this.stateChanges(n).pipe(xc((t,o)=>[...t,...o],[]))}snapshotChanges(n){const t=FU(n);return LU(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(n={}){return Nx(this.query,this.afs.schedulers.outsideAngular).pipe((0,W.U)(t=>t.payload.docs.map(o=>n.idField?Object.assign(Object.assign({},o.data()),{[n.idField]:o.id}):o.data())),Kr.iC)}get(n){return(0,ln.D)(this.query.get(n)).pipe(Kr.iC)}add(n){return this.ref.add(n)}doc(n){return new VU(this.ref.doc(n),this.afs)}}class VU{constructor(n,t){this.ref=n,this.afs=t}set(n,t){return this.ref.set(n,t)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,t){const o=this.ref.collection(n),{ref:i,query:u}=BU(o,t);return new qU(i,u,this.afs)}snapshotChanges(){return function r6(r,n){return OU(r,n).pipe(Tu(void 0),Kc(),(0,W.U)(([t,o])=>o.exists?null!=t&&t.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,W.U)(({payload:t})=>n.idField?Object.assign(Object.assign({},t.data()),{[n.idField]:t.id}):t.data()))}get(n){return(0,ln.D)(this.ref.get(n)).pipe(Kr.iC)}}class s6{constructor(n,t){this.query=n,this.afs=t}stateChanges(n){return n&&0!==n.length?Bw(this.query,this.afs.schedulers.outsideAngular).pipe((0,W.U)(t=>t.filter(o=>n.indexOf(o.type)>-1)),$e(t=>t.length>0),Kr.iC):Bw(this.query,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}auditTrail(n){return this.stateChanges(n).pipe(xc((t,o)=>[...t,...o],[]))}snapshotChanges(n){const t=FU(n);return LU(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(n={}){return Nx(this.query,this.afs.schedulers.outsideAngular).pipe((0,W.U)(o=>o.payload.docs.map(i=>n.idField?Object.assign({[n.idField]:i.id},i.data()):i.data())),Kr.iC)}get(n){return(0,ln.D)(this.query.get(n)).pipe(Kr.iC)}}const a6=new e.OlP("angularfire2.enableFirestorePersistence"),u6=new e.OlP("angularfire2.firestore.persistenceSettings"),l6=new e.OlP("angularfire2.firestore.settings"),c6=new e.OlP("angularfire2.firestore.use-emulator");function BU(r,n=(t=>t)){return{query:n(r),ref:r}}let d6=(()=>{class r{constructor(t,o,i,u,d,g,y,w,D,x,q,J,ee,Ne,Be,ht,Rt){this.schedulers=y;const Ht=(0,vs.on)(t,g,o),At=D;x&&RU(Ht,g,q,ee,Ne,Be,J,ht),[this.firestore,this.persistenceEnabled$]=(0,vs.cc)(`${Ht.name}.firestore`,"AngularFirestore",Ht.name,()=>{const Vt=g.runOutsideAngular(()=>Ht.firestore());if(u&&Vt.settings(u),At&&Vt.useEmulator(...At),i&&!Wu(d)){const tn=()=>{try{return(0,ln.D)(Vt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(to){return"undefined"!=typeof console&&console.warn(to),Ct(!1)}};return[Vt,g.runOutsideAngular(tn)]}return[Vt,Ct(!1)]},[u,At,i])}collection(t,o){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=BU(i,o),g=this.schedulers.ngZone.run(()=>u);return new qU(g,d,this)}collectionGroup(t,o){const i=o||(d=>d),u=this.firestore.collectionGroup(t);return new s6(i(u),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>o);return new VU(i,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(vs.Dh),e.LFG(vs.xv,8),e.LFG(a6,8),e.LFG(l6,8),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(Kr.HU),e.LFG(u6,8),e.LFG(c6,8),e.LFG(Vw,8),e.LFG(ZU,8),e.LFG(kU,8),e.LFG(NU,8),e.LFG(UU,8),e.LFG(MU,8),e.LFG(PU,8),e.LFG(Zx,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Mx=(()=>{class r{constructor(t,o){this.afs=t,this.afAuth=o,this.afAuth.authState.subscribe(i=>{i?(this.userData=i,localStorage.setItem("fire.user",JSON.stringify(this.userData))):localStorage.setItem("fire.user","null")})}get isLoggedIn(){const t=localStorage.getItem("fire.user"),o=JSON.parse(t||"null");return null!==o&&!1!==o.emailVerified}GoogleAuth(){return this.AuthLogin(new SE.Q).then(t=>{})}getToken(){return(0,di.mG)(this,void 0,void 0,function*(){var t=yield this.afAuth.currentUser;return yield null==t?void 0:t.getIdToken(!1)})}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(o=>{this.SetUserData(o.user)}).catch(o=>{window.alert(o)})}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("fire.user")})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(d6),e.LFG(Vw))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function h6(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",2),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.logOut())}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.hij("[",t.userName,"]")}}function p6(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",3),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.GoogleAuth())}),e._uU(1,"[LOGIN]"),e.qZA()}}let g6=(()=>{class r{constructor(t){this.fireAuthService=t}get loggedIn(){return this.fireAuthService.isLoggedIn}get userName(){var t,o;return(null===(o=null===(t=this.fireAuthService)||void 0===t?void 0:t.userData)||void 0===o?void 0:o.displayName)||"Logged In"}ngOnInit(){}GoogleAuth(){this.fireAuthService.GoogleAuth()}logOut(){this.fireAuthService.SignOut()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Mx))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-login"]],decls:2,vars:2,consts:[["class","text-grey link-btn",3,"click",4,"ngIf"],["class","text-main link-btn",3,"click",4,"ngIf"],[1,"text-grey","link-btn",3,"click"],[1,"text-main","link-btn",3,"click"]],template:function(t,o){1&t&&(e.YNc(0,h6,2,1,"a",0),e.YNc(1,p6,2,0,"a",1)),2&t&&(e.Q6J("ngIf",o.loggedIn),e.xp6(1),e.Q6J("ngIf",!o.loggedIn))},dependencies:[It]}),r})(),f6=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-header"]],decls:11,vars:8,consts:[[1,"nav","text-grey-dull"],[3,"name","route"],[1,"nav-login"]],template:function(t,o){1&t&&(e.TgZ(0,"nav")(1,"div",0),e._UZ(2,"app-header-nav-link",1),e._uU(3," - "),e._UZ(4,"app-header-nav-link",1),e._uU(5," - "),e._UZ(6,"app-header-nav-link",1),e._uU(7," - "),e._UZ(8,"app-header-nav-link",1),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"app-login"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("name","[ Languages ]")("route","language"),e.xp6(2),e.Q6J("name","[ Evolutions ]")("route","evolutions/connections"),e.xp6(2),e.Q6J("name","[ Words ]")("route","words/list"),e.xp6(2),e.Q6J("name","[ Trace ]")("route","trace"))},dependencies:[ey,g6],styles:[".nav[_ngcontent-%COMP%]{width:100%;display:flex;margin-left:0;margin-right:auto}.nav-login[_ngcontent-%COMP%]{margin-left:auto;margin-right:0;padding-right:8px}nav[_ngcontent-%COMP%]{display:flex;margin-top:4px}"]}),r})(),jU=(()=>{class r extends Pl{constructor(t,o){super(t,o)}ping$Response(t){const o=new ot(this.rootUrl,r.PingPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}ping(t){return this.ping$Response(t).pipe((0,W.U)(o=>o.body))}setUserClaims$Response(t){const o=new ot(this.rootUrl,r.SetUserClaimsPath,"post");return t&&(o.path("uid",t.uid,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i.clone({body:void 0})))}setUserClaims(t){return this.setUserClaims$Response(t).pipe((0,W.U)(o=>o.body))}version$Response(t){const o=new ot(this.rootUrl,r.VersionPath,"get");return this.http.request(o.build({responseType:"text",accept:"text/plain",context:null==t?void 0:t.context})).pipe($e(i=>i instanceof ze),(0,W.U)(i=>i))}version(t){return this.version$Response(t).pipe((0,W.U)(o=>o.body))}}return r.PingPath="/api/ping",r.SetUserClaimsPath="/api/ping/user-claims/{uid}",r.VersionPath="/api/ping/version",r.\u0275fac=function(t){return new(t||r)(e.LFG(ra),e.LFG(gs))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function _6(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function m6(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"span"),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.apiVersion)}}function y6(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"span"),e.YNc(3,_6,2,0,"span",9),e.YNc(4,m6,3,1,"span",9),e.qZA()()),2&r){const t=e.oxw();e.xp6(1),e.hij(", ",t.version,""),e.xp6(2),e.Q6J("ngIf",t.version&&t.apiVersion),e.xp6(1),e.Q6J("ngIf",t.apiVersion)}}let v6=(()=>{class r{constructor(t){this.pingService=t}ngOnInit(){const t=(new Date).getFullYear();this.year=2022!==t?`2022\u2013${t}`:`${t}`,this.pingService.version().subscribe(o=>this.apiVersion=o)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(jU))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-version-footer"]],inputs:{version:"version"},decls:21,vars:2,consts:[[1,"left","text-grey-dull"],["href","https://github.com/owlbeardm/language-parser-ui",1,"text-grey","link-btn"],["href","https://twitter.com/OwlbearDm",1,"text-grey","link-btn"],["href","mailto:owlbeardm@gmail.com?subject=Kedom Language: ",1,"text-grey","link-btn"],["href","https://c7d5a6.com/",1,"text-grey","link-btn"],[1,"right","text-grey-dull"],[1,"copyright","float-md-right"],[1,"col-md","pl-0"],["href","https://owlbeardm.com/","rel","noreferrer","target","_blank",1,"text-grey","link-btn"],[4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"span",0)(1,"a",1),e._uU(2,"[ GITHUB ]"),e.qZA(),e._uU(3," - "),e.TgZ(4,"a",2),e._uU(5,"[ TWITTER ]"),e.qZA(),e._uU(6," - "),e.TgZ(7,"a",3),e._uU(8,"[ EMAIL ]"),e.qZA(),e._uU(9," - "),e.TgZ(10,"a",4),e._uU(11," [ CONTACTS ]"),e.qZA()(),e.TgZ(12,"span",5)(13,"span",6)(14,"span"),e._uU(15),e.TgZ(16,"span")(17,"span",7)(18,"a",8),e._uU(19,"OwlbearDM"),e.qZA(),e.YNc(20,y6,5,3,"span",9),e.qZA()()()()()),2&t&&(e.xp6(15),e.hij("",o.year," \xa9 Mikita Kukavenka, "),e.xp6(5),e.Q6J("ngIf",o.version))},dependencies:[It],styles:[".left[_ngcontent-%COMP%]{margin-left:4px;margin-right:auto}.right[_ngcontent-%COMP%]{margin-left:auto;margin-right:4px}"]}),r})(),C6=(()=>{class r{constructor(){this.title="language-parser-ui",this.version="0.3.11"}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-root"]],decls:7,vars:1,consts:[["align","center",1,"main"],[1,"content-wrapper"],["align","left",1,"content"],[1,"app-footer",3,"version"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-header"),e.TgZ(2,"div",1)(3,"div",2),e._UZ(4,"router-outlet")(5,"app-footer"),e.qZA()(),e._UZ(6,"app-version-footer",3),e.qZA()),2&t&&(e.xp6(6),e.Q6J("version",o.version))},dependencies:[zo,EE,f6,v6],styles:[".main[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]{width:100%;display:block}.content[_ngcontent-%COMP%]{max-width:1320px}.app-footer[_ngcontent-%COMP%]{width:100%;display:flex;background:#212121;height:-moz-fit-content;height:fit-content;margin-top:auto;margin-bottom:0}"]}),r})(),T6=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[ac]}),r})(),w6=(()=>{class r{constructor(t){this.errorService=t}intercept(t,o){return o.handle(t).pipe(Fa(i=>(i.error instanceof ErrorEvent?this.errorService.addError({message:i.error.message}):this.errorService.addError({message:i.message,details:i.error}),Dc(i))))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Mg))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),b6=(()=>{class r{constructor(t,o){if(t)throw new Error("ApiModule is already loaded. Import in your base AppModule only.");if(!o)throw new Error("You need to import the HttpClientModule in your AppModule! \nSee also https://github.com/angular/angular/issues/20575")}static forRoot(t){return{ngModule:r,providers:[{provide:ra,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(r,12),e.LFG(gs,8))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[Vl,Ri,fs,jU,Pi,Mu,Nu,ra]}),r})();function $U(r){return $e((n,t)=>r<=t)}class A6 extends ki.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(n){const{hasError:t,_hasValue:o,_value:i,thrownError:u,isStopped:d,_isComplete:g}=this;t?n.error(u):(d||g)&&(o&&n.next(i),n.complete())}next(n){this.isStopped||(this._value=n,this._hasValue=!0)}complete(){const{_hasValue:n,_value:t,_isComplete:o}=this;o||(this._isComplete=!0,n&&super.next(t),super.complete())}}class D6{}const S6={oneTapEnabled:!0};let Pv=(()=>{class r extends class E6{constructor(){}loadScript(n,t,o,i=null){if("undefined"!=typeof document&&!document.getElementById(n)){let u=document.createElement("script");u.async=!0,u.src=t,u.onload=o,i||(i=document.head),i.appendChild(u)}}}{constructor(t,o){super(),this.clientId=t,this.initOptions=o,this.changeUser=new e.vpe,this._socialUser=new Wr(null),this._accessToken=new Wr(null),this._receivedAccessToken=new e.vpe,this.initOptions=Object.assign(Object.assign({},S6),this.initOptions),this._socialUser.pipe($U(1)).subscribe(this.changeUser),this._accessToken.pipe($U(1)).subscribe(this._receivedAccessToken)}initialize(t){return new Promise((o,i)=>{try{this.loadScript(r.PROVIDER_ID,"https://accounts.google.com/gsi/client",()=>{var u;if(google.accounts.id.initialize({client_id:this.clientId,auto_select:t,callback:({credential:d})=>{const g=this.createSocialUser(d);this._socialUser.next(g)},prompt_parent_id:null===(u=this.initOptions)||void 0===u?void 0:u.prompt_parent_id,itp_support:this.initOptions.oneTapEnabled}),this.initOptions.oneTapEnabled&&this._socialUser.pipe($e(d=>null===d)).subscribe(()=>google.accounts.id.prompt(console.debug)),this.initOptions.scopes){const d=this.initOptions.scopes instanceof Array?this.initOptions.scopes.filter(g=>g).join(" "):this.initOptions.scopes;this._tokenClient=google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:d,prompt:this.initOptions.prompt,callback:g=>{g.error?this._accessToken.error({code:g.error,description:g.error_description,uri:g.error_uri}):this._accessToken.next(g.access_token)}})}o()})}catch(u){i(u)}})}getLoginStatus(){return new Promise((t,o)=>{this._socialUser.value?t(this._socialUser.value):o(`No user is currently logged in with ${r.PROVIDER_ID}`)})}refreshToken(){return new Promise((t,o)=>{google.accounts.id.revoke(this._socialUser.value.id,i=>{i.error?o(i.error):t(this._socialUser.value)})})}getAccessToken(){return new Promise((t,o)=>{var i;this._tokenClient?(this._tokenClient.requestAccessToken({hint:null===(i=this._socialUser.value)||void 0===i?void 0:i.email}),this._receivedAccessToken.pipe(Sc(1)).subscribe(t)):o(this._socialUser.value?"No token client was instantiated, you should specify some scopes.":"You should be logged-in first.")})}revokeAccessToken(){return new Promise((t,o)=>{this._tokenClient?this._accessToken.value?google.accounts.oauth2.revoke(this._accessToken.value,()=>{this._accessToken.next(null),t()}):o("No access token to revoke"):o("No token client was instantiated, you should specify some scopes.")})}signIn(){return Promise.reject('You should not call this method directly for Google, use "<asl-google-signin-button>" wrapper or generate the button yourself with "google.accounts.id.renderButton()" (https://developers.google.com/identity/gsi/web/guides/display-button#javascript)')}signOut(){return(0,di.mG)(this,void 0,void 0,function*(){google.accounts.id.disableAutoSelect(),this._socialUser.next(null)})}createSocialUser(t){const o=new D6;o.idToken=t;const i=this.decodeJwt(t);return o.id=i.sub,o.name=i.name,o.email=i.email,o.photoUrl=i.picture,o.firstName=i.given_name,o.lastName=i.family_name,o}decodeJwt(t){const i=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),u=decodeURIComponent(window.atob(i).split("").map(function(d){return"%"+("00"+d.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(u)}}return r.PROVIDER_ID="GOOGLE",r})(),GU=(()=>{class r{constructor(t,o,i){this._ngZone=o,this._injector=i,this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new oU(1),this.initialized=!1,this._initState=new A6,t instanceof Promise?t.then(u=>{this.initialize(u)}):this.initialize(t)}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}initialize(t){this.autoLogin=void 0!==t.autoLogin&&t.autoLogin;const{onError:o=console.error}=t;t.providers.forEach(i=>{this.providers.set(i.id,"prototype"in i.provider?this._injector.get(i.provider):i.provider)}),Promise.all(Array.from(this.providers.values()).map(i=>i.initialize(this.autoLogin))).then(()=>{if(this.autoLogin){const i=[];let u=!1;this.providers.forEach((d,g)=>{const y=d.getLoginStatus();i.push(y),y.then(w=>{this.setUser(w,g),u=!0}).catch(console.debug)}),Promise.all(i).catch(()=>{u||(this._user=null,this._authState.next(null))})}this.providers.forEach((i,u)=>{(function I6(r){return!!r&&(r instanceof Jr.y||(0,ah.m)(r.lift)&&(0,ah.m)(r.subscribe))})(i.changeUser)&&i.changeUser.subscribe(d=>{this._ngZone.run(()=>{this.setUser(d,u)})})})}).catch(i=>{o(i)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}getAccessToken(t){return(0,di.mG)(this,void 0,void 0,function*(){const o=this.providers.get(t);if(!this.initialized)throw r.ERR_NOT_INITIALIZED;if(!o)throw r.ERR_LOGIN_PROVIDER_NOT_FOUND;if(!(o instanceof Pv))throw r.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN;return yield o.getAccessToken()})}refreshAuthToken(t){return new Promise((o,i)=>{if(this.initialized){const u=this.providers.get(t);u?"function"!=typeof u.refreshToken?i(r.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN):u.refreshToken().then(d=>{this.setUser(d,t),o()}).catch(d=>{i(d)}):i(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(r.ERR_NOT_INITIALIZED)})}refreshAccessToken(t){return new Promise((o,i)=>{if(this.initialized)if(t!==Pv.PROVIDER_ID)i(r.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const u=this.providers.get(t);u instanceof Pv?u.revokeAccessToken().then(o).catch(i):i(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(r.ERR_NOT_INITIALIZED)})}signIn(t,o){return new Promise((i,u)=>{if(this.initialized){let d=this.providers.get(t);d?d.signIn(o).then(g=>{this.setUser(g,t),i(g)}).catch(g=>{u(g)}):u(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else u(r.ERR_NOT_INITIALIZED)})}signOut(t=!1){return new Promise((o,i)=>{if(this.initialized)if(this._user){let d=this.providers.get(this._user.provider);d?d.signOut(t).then(()=>{o(),this.setUser(null)}).catch(g=>{i(g)}):i(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(r.ERR_NOT_LOGGED_IN);else i(r.ERR_NOT_INITIALIZED)})}setUser(t,o){t&&o&&(t.provider=o),this._user=t,this._authState.next(t)}}return r.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",r.ERR_NOT_LOGGED_IN="Not logged in",r.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",r.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",r.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN="Chosen login provider is not supported for getting an access token",r.\u0275fac=function(t){return new(t||r)(e.LFG("SocialAuthServiceConfig"),e.LFG(e.R0b),e.LFG(e.zs3))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),x6=(()=>{class r{constructor(t){if(t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}static initialize(t){return{ngModule:r,providers:[GU,{provide:"SocialAuthServiceConfig",useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(r,12))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[GU],imports:[ac]}),r})();const Px_firebase={apiKey:"AIzaSyCXYvy7VEEXvSUDGnRzB_0kJhcs6k6mFeQ",authDomain:"language-parser-358314.firebaseapp.com",projectId:"language-parser-358314",storageBucket:"language-parser-358314.appspot.com",messagingSenderId:"457941235931",appId:"1:457941235931:web:3d318384aff9c40965b4fe",measurementId:"G-S1PTJS0DPB"};function HU(r,n){const t="object"==typeof n;return new Promise((o,i)=>{let d,u=!1;r.subscribe({next:g=>{d=g,u=!0},error:i,complete:()=>{u?o(d):t?o(n.defaultValue):i(new vl)}})})}let Z6=(()=>{class r{constructor(t){this.fireAuthService=t}intercept(t,o){return(0,ln.D)(this.handle(t,o))}handle(t,o){return(0,di.mG)(this,void 0,void 0,function*(){const i=yield this.fireAuthService.getToken();if(!i)return yield HU(o.handle(t));const u=t.clone({headers:t.headers.set("Authorization",`Bearer ${i}`)});return yield HU(o.handle(u))})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Mx))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),k6=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r,bootstrap:[C6]}),r.\u0275inj=e.cJS({providers:[Mx,{provide:Bc,useClass:Z6,multi:!0},{provide:Bc,useClass:w6,multi:!0},{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:Pv.PROVIDER_ID,provider:new Pv("457941235931-ta7f430pcvim9inavtg97ngqav65394i.apps.googleusercontent.com")}],onError:n=>{console.error(n)}}},Mg],imports:[vs.hO.initializeApp(Px_firebase),t6,wn,Em,k2,Kw,T_,x6,T6,b6.forRoot({rootUrl:"https://api.language.owlbeardm.com"})]}),r})();(0,e.G48)(),Nd().bootstrapModule(k6).catch(r=>console.error(r))},5867:(st,we,P)=>{P.d(we,{C6:()=>e.getApps,Mq:()=>e.getApp});var e=P(9681);(0,e.registerVersion)("firebase","9.12.1","app")},127:(st,we,P)=>{P.d(we,{Z:()=>e.Z});var e=P(3942);e.Z.registerVersion("firebase","9.12.1","app-compat")},5881:(st,we,P)=>{P.r(we);var e=P(5861),V=P(3942),U=P(7573),ie=P(2090),me=(P(9681),P(1877),P(4859));function he(){return window}function $(){return($=(0,e.Z)(function*(O,N,L){var oe;const{BuildInfo:Re}=he();(0,U.aq)(N.sessionId,"AuthEvent did not contain a session ID");const gt=yield fe(N.sessionId),pt={};return(0,U.ar)()?pt.ibi=Re.packageName:(0,U.as)()?pt.apn=Re.packageName:(0,U.at)(O,"operation-not-supported-in-this-environment"),Re.displayName&&(pt.appDisplayName=Re.displayName),pt.sessionId=gt,(0,U.au)(O,L,N.type,void 0,null!==(oe=N.eventId)&&void 0!==oe?oe:void 0,pt)})).apply(this,arguments)}function Ve(){return(Ve=(0,e.Z)(function*(O){const{BuildInfo:N}=he(),L={};(0,U.ar)()?L.iosBundleId=N.packageName:(0,U.as)()?L.androidPackageName=N.packageName:(0,U.at)(O,"operation-not-supported-in-this-environment"),yield(0,U.av)(O,L)})).apply(this,arguments)}function at(){return(at=(0,e.Z)(function*(O,N,L){const{cordova:oe}=he();let Re=()=>{};try{yield new Promise((gt,pt)=>{let Zt=null;function ct(){var Dt;gt();const Ge=null===(Dt=oe.plugins.browsertab)||void 0===Dt?void 0:Dt.close;"function"==typeof Ge&&Ge(),"function"==typeof(null==L?void 0:L.close)&&L.close()}function Qt(){Zt||(Zt=window.setTimeout(()=>{pt((0,U.aw)(O,"redirect-cancelled-by-user"))},2e3))}function fr(){"visible"===(null==document?void 0:document.visibilityState)&&Qt()}N.addPassiveListener(ct),document.addEventListener("resume",Qt,!1),(0,U.as)()&&document.addEventListener("visibilitychange",fr,!1),Re=()=>{N.removePassiveListener(ct),document.removeEventListener("resume",Qt,!1),document.removeEventListener("visibilitychange",fr,!1),Zt&&window.clearTimeout(Zt)}})}finally{Re()}})).apply(this,arguments)}function fe(O){return et.apply(this,arguments)}function et(){return(et=(0,e.Z)(function*(O){const N=Ye(O),L=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array(L)).map(Re=>Re.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ye(O){if((0,U.aq)(/[0-9a-zA-Z]+/.test(O),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(O);const N=new ArrayBuffer(O.length),L=new Uint8Array(N);for(let oe=0;oe<O.length;oe++)L[oe]=O.charCodeAt(oe);return L}class ke extends U.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach(L=>L(N)),super.onEvent(N)}initialized(){var N=this;return(0,e.Z)(function*(){yield N.initPromise})()}}function re(O){return ce.apply(this,arguments)}function ce(){return(ce=(0,e.Z)(function*(O){const N=yield X()._get(pe(O));return N&&(yield X()._remove(pe(O))),N})).apply(this,arguments)}function Q(){const O=[],N="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let L=0;L<20;L++){const oe=Math.floor(Math.random()*N.length);O.push(N.charAt(oe))}return O.join("")}function X(){return(0,U.ay)(U.b)}function pe(O){return(0,U.az)("authEvent",O.config.apiKey,O.name)}function Fe(O){if(null==O||!O.includes("?"))return{};const[N,...L]=O.split("?");return(0,ie.zd)(L.join("?"))}function Je(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.aw)("no-auth-event")}}function zt(){var O;return(null===(O=null==self?void 0:self.location)||void 0===O?void 0:O.protocol)||null}function Nr(O=(0,ie.z$)()){return!("file:"!==zt()&&"ionic:"!==zt()&&"capacitor:"!==zt()||!O.toLowerCase().match(/iphone|ipad|ipod|android/))}function vo(){try{const O=self.localStorage,N=U.aI();if(O)return O.setItem(N,"1"),O.removeItem(N),!function Po(O=(0,ie.z$)()){return function Vr(){return(0,ie.w1)()&&11===(null==document?void 0:document.documentMode)}()||function kn(O=(0,ie.z$)()){return/Edge\/\d+/.test(O)}(O)}()||(0,ie.hl)()}catch(O){return Br()&&(0,ie.hl)()}return!1}function Br(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Hn(){return(function qt(){return"http:"===zt()||"https:"===zt()}()||(0,ie.ru)()||Nr())&&!function yo(){return(0,ie.b$)()||(0,ie.UG)()}()&&vo()&&!Br()}function Ro(){return Nr()&&"undefined"!=typeof document}function fn(){return(fn=(0,e.Z)(function*(){return!!Ro()&&new Promise(O=>{const N=setTimeout(()=>{O(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(N),O(!0)})})})).apply(this,arguments)}const un={LOCAL:"local",NONE:"none",SESSION:"session"},gr=U.ax,br="persistence";function _n(O){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,e.Z)(function*(O){yield O._initializationPromise;const N=lt(),L=U.az(br,O.config.apiKey,O.name);N&&N.setItem(L,O._getPersistence())})).apply(this,arguments)}function lt(){var O;try{return(null===(O=function ur(){return"undefined"!=typeof window?window:null}())||void 0===O?void 0:O.sessionStorage)||null}catch(N){return null}}const nt=U.ax;class bn{constructor(){this.browserResolver=U.ay(U.k),this.cordovaResolver=U.ay(class an{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aB,this._overrideRedirectResult=U.aC}_initialize(N){var L=this;return(0,e.Z)(function*(){const oe=N._key();let Re=L.eventManagers.get(oe);return Re||(Re=new ke(N),L.eventManagers.set(oe,Re),L.attachCallbackListeners(N,Re)),Re})()}_openPopup(N){(0,U.at)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,L,oe,Re){var gt=this;return(0,e.Z)(function*(){!function Te(O){var N,L,oe,Re,gt,pt,Zt,ct,Qt,fr;const Dt=he();(0,U.ax)("function"==typeof(null===(N=null==Dt?void 0:Dt.universalLinks)||void 0===N?void 0:N.subscribe),O,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.ax)(void 0!==(null===(L=null==Dt?void 0:Dt.BuildInfo)||void 0===L?void 0:L.packageName),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.ax)("function"==typeof(null===(gt=null===(Re=null===(oe=null==Dt?void 0:Dt.cordova)||void 0===oe?void 0:oe.plugins)||void 0===Re?void 0:Re.browsertab)||void 0===gt?void 0:gt.openUrl),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.ax)("function"==typeof(null===(ct=null===(Zt=null===(pt=null==Dt?void 0:Dt.cordova)||void 0===pt?void 0:pt.plugins)||void 0===Zt?void 0:Zt.browsertab)||void 0===ct?void 0:ct.isAvailable),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.ax)("function"==typeof(null===(fr=null===(Qt=null==Dt?void 0:Dt.cordova)||void 0===Qt?void 0:Qt.InAppBrowser)||void 0===fr?void 0:fr.open),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const pt=yield gt._initialize(N);yield pt.initialized(),pt.resetRedirect(),(0,U.aD)(),yield gt._originValidation(N);const Zt=function Ae(O,N,L=null){return{type:N,eventId:L,urlResponse:null,sessionId:Q(),postBody:null,tenantId:O.tenantId,error:(0,U.aw)(O,"no-auth-event")}}(N,oe,Re);yield function He(O,N){return X()._set(pe(O),N)}(N,Zt);const ct=yield function H(O,N,L){return $.apply(this,arguments)}(N,Zt,L),Qt=yield function Ue(O){const{cordova:N}=he();return new Promise(L=>{N.plugins.browsertab.isAvailable(oe=>{let Re=null;oe?N.plugins.browsertab.openUrl(O):Re=N.InAppBrowser.open(O,(0,U.ap)()?"_blank":"_system","location=yes"),L(Re)})})}(ct);return function Ie(O,N,L){return at.apply(this,arguments)}(N,pt,Qt)})()}_isIframeWebStorageSupported(N,L){throw new Error("Method not implemented.")}_originValidation(N){const L=N._key();return this.originValidationPromises[L]||(this.originValidationPromises[L]=function Y(O){return Ve.apply(this,arguments)}(N)),this.originValidationPromises[L]}attachCallbackListeners(N,L){const{universalLinks:oe,handleOpenURL:Re,BuildInfo:gt}=he(),pt=setTimeout((0,e.Z)(function*(){yield re(N),L.onEvent(Je())}),500),Zt=function(){var fr=(0,e.Z)(function*(Dt){clearTimeout(pt);const Ge=yield re(N);let kt=null;Ge&&(null==Dt?void 0:Dt.url)&&(kt=function ve(O,N){var L,oe;const Re=function Le(O){const N=Fe(O),L=N.link?decodeURIComponent(N.link):void 0,oe=Fe(L).link,Re=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return Fe(Re).link||Re||oe||L||O}(N);if(Re.includes("/__/auth/callback")){const gt=Fe(Re),pt=gt.firebaseError?function ae(O){try{return JSON.parse(O)}catch(N){return null}}(decodeURIComponent(gt.firebaseError)):null,Zt=null===(oe=null===(L=null==pt?void 0:pt.code)||void 0===L?void 0:L.split("auth/"))||void 0===oe?void 0:oe[1],ct=Zt?(0,U.aw)(Zt):null;return ct?{type:O.type,eventId:O.eventId,tenantId:O.tenantId,error:ct,urlResponse:null,sessionId:null,postBody:null}:{type:O.type,eventId:O.eventId,tenantId:O.tenantId,sessionId:O.sessionId,urlResponse:Re,postBody:null}}return null}(Ge,Dt.url)),L.onEvent(kt||Je())});return function(Ge){return fr.apply(this,arguments)}}();void 0!==oe&&"function"==typeof oe.subscribe&&oe.subscribe(null,Zt);const ct=Re,Qt=`${gt.packageName.toLowerCase()}://`;he().handleOpenURL=function(){var fr=(0,e.Z)(function*(Dt){if(Dt.toLowerCase().startsWith(Qt)&&Zt({url:Dt}),"function"==typeof ct)try{ct(Dt)}catch(Ge){console.error(Ge)}});return function(Dt){return fr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aB,this._overrideRedirectResult=U.aC}_initialize(N){var L=this;return(0,e.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,L,oe,Re){var gt=this;return(0,e.Z)(function*(){return yield gt.selectUnderlyingResolver(),gt.assertedUnderlyingResolver._openPopup(N,L,oe,Re)})()}_openRedirect(N,L,oe,Re){var gt=this;return(0,e.Z)(function*(){return yield gt.selectUnderlyingResolver(),gt.assertedUnderlyingResolver._openRedirect(N,L,oe,Re)})()}_isIframeWebStorageSupported(N,L){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,L)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return Ro()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return nt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,e.Z)(function*(){if(N.underlyingResolver)return;const L=yield function yt(){return fn.apply(this,arguments)}();N.underlyingResolver=L?N.cordovaResolver:N.browserResolver})()}}function jr(O){return O.unwrap()}function jt(O){return $r(O)}function $r(O){const{_tokenResponse:N}=O instanceof ie.ZR?O.customData:O;if(!N)return null;if(!(O instanceof ie.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return U.P.credentialFromResult(O);const L=N.providerId;if(!L||L===U.o.PASSWORD)return null;let oe;switch(L){case U.o.GOOGLE:oe=U.Q;break;case U.o.FACEBOOK:oe=U.N;break;case U.o.GITHUB:oe=U.T;break;case U.o.TWITTER:oe=U.W;break;default:const{oauthIdToken:Re,oauthAccessToken:gt,oauthTokenSecret:pt,pendingToken:Zt,nonce:ct}=N;return gt||pt||Re||Zt?Zt?L.startsWith("saml.")?U.aL._create(L,Zt):U.J._fromParams({providerId:L,signInMethod:L,pendingToken:Zt,idToken:Re,accessToken:gt}):new U.U(L).credential({idToken:Re,accessToken:gt,rawNonce:ct}):null}return O instanceof ie.ZR?oe.credentialFromError(O):oe.credentialFromResult(O)}function Ot(O,N){return N.catch(L=>{throw L instanceof ie.ZR&&function Rn(O,N){var L,oe;const Re=null===(L=N.customData)||void 0===L?void 0:L._tokenResponse;if("auth/multi-factor-auth-required"===(null===(oe=N)||void 0===oe?void 0:oe.code))N.resolver=new Mr(O,U.an(O,N));else if(Re){const gt=$r(N),pt=N;gt&&(pt.credential=gt,pt.tenantId=Re.tenantId||void 0,pt.email=Re.email||void 0,pt.phoneNumber=Re.phoneNumber||void 0)}}(O,L),L}).then(L=>{const Re=L.user;return{operationType:L.operationType,credential:jt(L),additionalUserInfo:U.al(L),user:qn.getOrCreate(Re)}})}function Co(O,N){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,e.Z)(function*(O,N){const L=yield N;return{verificationId:L.verificationId,confirm:oe=>Ot(O,L.confirm(oe))}})).apply(this,arguments)}class Mr{constructor(N,L){this.resolver=L,this.auth=function En(O){return O.wrapped()}(N)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return Ot(jr(this.auth),this.resolver.resolveSignIn(N))}}class qn{constructor(N){this._delegate=N,this.multiFactor=U.ao(N)}static getOrCreate(N){return qn.USER_MAP.has(N)||qn.USER_MAP.set(N,new qn(N)),qn.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var L=this;return(0,e.Z)(function*(){return Ot(L.auth,U.Z(L._delegate,N))})()}linkWithPhoneNumber(N,L){var oe=this;return(0,e.Z)(function*(){return Co(oe.auth,U.l(oe._delegate,N,L))})()}linkWithPopup(N){var L=this;return(0,e.Z)(function*(){return Ot(L.auth,U.d(L._delegate,N,bn))})()}linkWithRedirect(N){var L=this;return(0,e.Z)(function*(){return yield _n(U.aE(L.auth)),U.g(L._delegate,N,bn)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var L=this;return(0,e.Z)(function*(){return Ot(L.auth,U._(L._delegate,N))})()}reauthenticateWithPhoneNumber(N,L){return Co(this.auth,U.r(this._delegate,N,L))}reauthenticateWithPopup(N){return Ot(this.auth,U.e(this._delegate,N,bn))}reauthenticateWithRedirect(N){var L=this;return(0,e.Z)(function*(){return yield _n(U.aE(L.auth)),U.h(L._delegate,N,bn)})()}sendEmailVerification(N){return U.ab(this._delegate,N)}unlink(N){var L=this;return(0,e.Z)(function*(){return yield U.ak(L._delegate,N),L})()}updateEmail(N){return U.ag(this._delegate,N)}updatePassword(N){return U.ah(this._delegate,N)}updatePhoneNumber(N){return U.u(this._delegate,N)}updateProfile(N){return U.af(this._delegate,N)}verifyBeforeUpdateEmail(N,L){return U.ac(this._delegate,N,L)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qn.USER_MAP=new WeakMap;const Xe=U.ax;let Se=(()=>{class O{constructor(L,oe){if(this.app=L,oe.isInitialized())return this._delegate=oe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Re}=L.options;Xe(Re,"invalid-api-key",{appName:L.name}),Xe(Re,"invalid-api-key",{appName:L.name});const gt="undefined"!=typeof window?bn:void 0;this._delegate=oe.initialize({options:{persistence:Tt(Re,L.name),popupRedirectResolver:gt}}),this._delegate._updateErrorMap(U.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(L){this._delegate.languageCode=L}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(L){this._delegate.tenantId=L}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(L,oe){U.G(this._delegate,L,oe)}applyActionCode(L){return U.a2(this._delegate,L)}checkActionCode(L){return U.a3(this._delegate,L)}confirmPasswordReset(L,oe){return U.a1(this._delegate,L,oe)}createUserWithEmailAndPassword(L,oe){var Re=this;return(0,e.Z)(function*(){return Ot(Re._delegate,U.a5(Re._delegate,L,oe))})()}fetchProvidersForEmail(L){return this.fetchSignInMethodsForEmail(L)}fetchSignInMethodsForEmail(L){return U.aa(this._delegate,L)}isSignInWithEmailLink(L){return U.a8(this._delegate,L)}getRedirectResult(){var L=this;return(0,e.Z)(function*(){Xe(Hn(),L._delegate,"operation-not-supported-in-this-environment");const oe=yield U.j(L._delegate,bn);return oe?Ot(L._delegate,Promise.resolve(oe)):{credential:null,user:null}})()}addFrameworkForLogging(L){!function gn(O,N){(0,U.aE)(O)._logFramework(N)}(this._delegate,L)}onAuthStateChanged(L,oe,Re){const{next:gt,error:pt,complete:Zt}=tt(L,oe,Re);return this._delegate.onAuthStateChanged(gt,pt,Zt)}onIdTokenChanged(L,oe,Re){const{next:gt,error:pt,complete:Zt}=tt(L,oe,Re);return this._delegate.onIdTokenChanged(gt,pt,Zt)}sendSignInLinkToEmail(L,oe){return U.a7(this._delegate,L,oe)}sendPasswordResetEmail(L,oe){return U.a0(this._delegate,L,oe||void 0)}setPersistence(L){var oe=this;return(0,e.Z)(function*(){let Re;switch(function Ar(O,N){gr(Object.values(un).includes(N),O,"invalid-persistence-type"),(0,ie.b$)()?gr(N!==un.SESSION,O,"unsupported-persistence-type"):(0,ie.UG)()?gr(N===un.NONE,O,"unsupported-persistence-type"):Br()?gr(N===un.NONE||N===un.LOCAL&&(0,ie.hl)(),O,"unsupported-persistence-type"):gr(N===un.NONE||vo(),O,"unsupported-persistence-type")}(oe._delegate,L),L){case un.SESSION:Re=U.a;break;case un.LOCAL:Re=(yield U.ay(U.i)._isAvailable())?U.i:U.b;break;case un.NONE:Re=U.L;break;default:return U.at("argument-error",{appName:oe._delegate.name})}return oe._delegate.setPersistence(Re)})()}signInAndRetrieveDataWithCredential(L){return this.signInWithCredential(L)}signInAnonymously(){return Ot(this._delegate,U.X(this._delegate))}signInWithCredential(L){return Ot(this._delegate,U.Y(this._delegate,L))}signInWithCustomToken(L){return Ot(this._delegate,U.$(this._delegate,L))}signInWithEmailAndPassword(L,oe){return Ot(this._delegate,U.a6(this._delegate,L,oe))}signInWithEmailLink(L,oe){return Ot(this._delegate,U.a9(this._delegate,L,oe))}signInWithPhoneNumber(L,oe){return Co(this._delegate,U.s(this._delegate,L,oe))}signInWithPopup(L){var oe=this;return(0,e.Z)(function*(){return Xe(Hn(),oe._delegate,"operation-not-supported-in-this-environment"),Ot(oe._delegate,U.c(oe._delegate,L,bn))})()}signInWithRedirect(L){var oe=this;return(0,e.Z)(function*(){return Xe(Hn(),oe._delegate,"operation-not-supported-in-this-environment"),yield _n(oe._delegate),U.f(oe._delegate,L,bn)})()}updateCurrentUser(L){return this._delegate.updateCurrentUser(L)}verifyPasswordResetCode(L){return U.a4(this._delegate,L)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return O.Persistence=un,O})();function tt(O,N,L){let oe=O;"function"!=typeof O&&({next:oe,error:N,complete:L}=O);const Re=oe;return{next:pt=>Re(pt&&qn.getOrCreate(pt)),error:N,complete:L}}function Tt(O,N){const L=function Cn(O,N){const L=lt();if(!L)return[];const oe=U.az(br,O,N);switch(L.getItem(oe)){case un.NONE:return[U.L];case un.LOCAL:return[U.i,U.a];case un.SESSION:return[U.a];default:return[]}}(O,N);if("undefined"!=typeof self&&!L.includes(U.i)&&L.push(U.i),"undefined"!=typeof window)for(const oe of[U.b,U.a])L.includes(oe)||L.push(oe);return L.includes(U.L)||L.push(U.L),L}class wt{constructor(){this.providerId="phone",this._delegate=new U.P(jr(V.Z.auth()))}static credential(N,L){return U.P.credential(N,L)}verifyPhoneNumber(N,L){return this._delegate.verifyPhoneNumber(N,L)}unwrap(){return this._delegate}}wt.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,wt.PROVIDER_ID=U.P.PROVIDER_ID;const on=U.ax;class G{constructor(N,L,oe=V.Z.app()){var Re;on(null===(Re=oe.options)||void 0===Re?void 0:Re.apiKey,"invalid-api-key",{appName:oe.name}),this._delegate=new U.R(N,L,oe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function z(O){O.INTERNAL.registerComponent(new me.wA("auth-compat",N=>{const L=N.getProvider("app-compat").getImmediate(),oe=N.getProvider("auth");return new Se(L,oe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.M,FacebookAuthProvider:U.N,GithubAuthProvider:U.T,GoogleAuthProvider:U.Q,OAuthProvider:U.U,SAMLAuthProvider:U.V,PhoneAuthProvider:wt,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:G,TwitterAuthProvider:U.W,Auth:Se,AuthCredential:U.H,Error:ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),O.registerVersion("@firebase/auth-compat","0.2.23")}(V.Z)},9751:(st,we,P)=>{P.d(we,{y:()=>he});var e=P(2961),V=P(727),U=P(8822),ie=P(9635),le=P(2416),_e=P(576),me=P(2806);let he=(()=>{class Y{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const Ie=new Y;return Ie.source=this,Ie.operator=Ue,Ie}subscribe(Ue,Ie,at){const Te=function $(Y){return Y&&Y instanceof e.Lv||function H(Y){return Y&&(0,_e.m)(Y.next)&&(0,_e.m)(Y.error)&&(0,_e.m)(Y.complete)}(Y)&&(0,V.Nn)(Y)}(Ue)?Ue:new e.Hp(Ue,Ie,at);return(0,me.x)(()=>{const{operator:fe,source:et}=this;Te.add(fe?fe.call(Te,et):et?this._subscribe(Te):this._trySubscribe(Te))}),Te}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Ie){Ue.error(Ie)}}forEach(Ue,Ie){return new(Ie=ye(Ie))((at,Te)=>{const fe=new e.Hp({next:et=>{try{Ue(et)}catch(Ye){Te(Ye),fe.unsubscribe()}},error:Te,complete:at});this.subscribe(fe)})}_subscribe(Ue){var Ie;return null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(Ue)}[U.L](){return this}pipe(...Ue){return(0,ie.U)(Ue)(this)}toPromise(Ue){return new(Ue=ye(Ue))((Ie,at)=>{let Te;this.subscribe(fe=>Te=fe,fe=>at(fe),()=>Ie(Te))})}}return Y.create=Ve=>new Y(Ve),Y})();function ye(Y){var Ve;return null!==(Ve=null!=Y?Y:le.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(st,we,P)=>{P.d(we,{x:()=>me});var e=P(9751),V=P(727);const ie=(0,P(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=P(8737),_e=P(2806);let me=(()=>{class ye extends e.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const Y=new he(this,this);return Y.operator=$,Y}_throwIfClosed(){if(this.closed)throw new ie}next($){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next($)}})}error($){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:Y}=this;for(;Y.length;)Y.shift().error($)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:Y,isStopped:Ve,observers:Ue}=this;return Y||Ve?V.Lc:(this.currentObservers=null,Ue.push($),new V.w0(()=>{this.currentObservers=null,(0,le.P)(Ue,$)}))}_checkFinalizedStatuses($){const{hasError:Y,thrownError:Ve,isStopped:Ue}=this;Y?$.error(Ve):Ue&&$.complete()}asObservable(){const $=new e.y;return $.source=this,$}}return ye.create=(H,$)=>new he(H,$),ye})();class he extends me{constructor(H,$){super(),this.destination=H,this.source=$}next(H){var $,Y;null===(Y=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===Y||Y.call($,H)}error(H){var $,Y;null===(Y=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===Y||Y.call($,H)}complete(){var H,$;null===($=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===$||$.call(H)}_subscribe(H){var $,Y;return null!==(Y=null===($=this.source)||void 0===$?void 0:$.subscribe(H))&&void 0!==Y?Y:V.Lc}}},2961:(st,we,P)=>{P.d(we,{Hp:()=>at,Lv:()=>Y});var e=P(576),V=P(727),U=P(2416),ie=P(7849);function le(){}const _e=ye("C",void 0,void 0);function ye(Pe,ke,Ae){return{kind:Pe,value:ke,error:Ae}}var H=P(3410),$=P(2806);class Y extends V.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,V.Nn)(ke)&&ke.add(this)):this.destination=Ye}static create(ke,Ae,He){return new at(ke,Ae,He)}next(ke){this.isStopped?et(function he(Pe){return ye("N",Pe,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?et(function me(Pe){return ye("E",void 0,Pe)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?et(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Ue(Pe,ke){return Ve.call(Pe,ke)}class Ie{constructor(ke){this.partialObserver=ke}next(ke){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(ke)}catch(He){Te(He)}}error(ke){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(ke)}catch(He){Te(He)}else Te(ke)}complete(){const{partialObserver:ke}=this;if(ke.complete)try{ke.complete()}catch(Ae){Te(Ae)}}}class at extends Y{constructor(ke,Ae,He){let re;if(super(),(0,e.m)(ke)||!ke)re={next:null!=ke?ke:void 0,error:null!=Ae?Ae:void 0,complete:null!=He?He:void 0};else{let ce;this&&U.v.useDeprecatedNextContext?(ce=Object.create(ke),ce.unsubscribe=()=>this.unsubscribe(),re={next:ke.next&&Ue(ke.next,ce),error:ke.error&&Ue(ke.error,ce),complete:ke.complete&&Ue(ke.complete,ce)}):re=ke}this.destination=new Ie(re)}}function Te(Pe){U.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Pe):(0,ie.h)(Pe)}function et(Pe,ke){const{onStoppedNotification:Ae}=U.v;Ae&&H.z.setTimeout(()=>Ae(Pe,ke))}const Ye={closed:!0,next:le,error:function fe(Pe){throw Pe},complete:le}},727:(st,we,P)=>{P.d(we,{Lc:()=>_e,w0:()=>le,Nn:()=>me});var e=P(576);const U=(0,P(3888).d)(ye=>function($){ye(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((Y,Ve)=>`${Ve+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ie=P(8737);class le{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Ue of $)Ue.remove(this);else $.remove(this);const{initialTeardown:Y}=this;if((0,e.m)(Y))try{Y()}catch(Ue){H=Ue instanceof U?Ue.errors:[Ue]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Ue of Ve)try{he(Ue)}catch(Ie){H=null!=H?H:[],Ie instanceof U?H=[...H,...Ie.errors]:H.push(Ie)}}if(H)throw new U(H)}}add(H){var $;if(H&&H!==this)if(this.closed)he(H);else{if(H instanceof le){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(H)}}_hasParent(H){const{_parentage:$}=this;return $===H||Array.isArray($)&&$.includes(H)}_addParent(H){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(H),$):$?[$,H]:H}_removeParent(H){const{_parentage:$}=this;$===H?this._parentage=null:Array.isArray($)&&(0,ie.P)($,H)}remove(H){const{_finalizers:$}=this;$&&(0,ie.P)($,H),H instanceof le&&H._removeParent(this)}}le.EMPTY=(()=>{const ye=new le;return ye.closed=!0,ye})();const _e=le.EMPTY;function me(ye){return ye instanceof le||ye&&"closed"in ye&&(0,e.m)(ye.remove)&&(0,e.m)(ye.add)&&(0,e.m)(ye.unsubscribe)}function he(ye){(0,e.m)(ye)?ye():ye.unsubscribe()}},2416:(st,we,P)=>{P.d(we,{v:()=>e});const e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(st,we,P)=>{P.d(we,{E:()=>V});const V=new(P(9751).y)(le=>le.complete())},8996:(st,we,P)=>{P.d(we,{D:()=>ke});var e=P(8421),V=P(5363),U=P(9468),_e=P(9751),he=P(2202),ye=P(576),H=P(9672);function Y(Ae,He){if(!Ae)throw new Error("Iterable cannot be null");return new _e.y(re=>{(0,H.f)(re,He,()=>{const ce=Ae[Symbol.asyncIterator]();(0,H.f)(re,He,()=>{ce.next().then(ve=>{ve.done?re.complete():re.next(ve.value)})},0,!0)})})}var Ve=P(3670),Ue=P(8239),Ie=P(1144),at=P(6495),Te=P(2206),fe=P(4532),et=P(3260);function ke(Ae,He){return He?function Pe(Ae,He){if(null!=Ae){if((0,Ve.c)(Ae))return function ie(Ae,He){return(0,e.Xf)(Ae).pipe((0,U.R)(He),(0,V.Q)(He))}(Ae,He);if((0,Ie.z)(Ae))return function me(Ae,He){return new _e.y(re=>{let ce=0;return He.schedule(function(){ce===Ae.length?re.complete():(re.next(Ae[ce++]),re.closed||this.schedule())})})}(Ae,He);if((0,Ue.t)(Ae))return function le(Ae,He){return(0,e.Xf)(Ae).pipe((0,U.R)(He),(0,V.Q)(He))}(Ae,He);if((0,Te.D)(Ae))return Y(Ae,He);if((0,at.T)(Ae))return function $(Ae,He){return new _e.y(re=>{let ce;return(0,H.f)(re,He,()=>{ce=Ae[he.h](),(0,H.f)(re,He,()=>{let ve,Q;try{({value:ve,done:Q}=ce.next())}catch(X){return void re.error(X)}Q?re.complete():re.next(ve)},0,!0)}),()=>(0,ye.m)(null==ce?void 0:ce.return)&&ce.return()})}(Ae,He);if((0,et.L)(Ae))return function Ye(Ae,He){return Y((0,et.Q)(Ae),He)}(Ae,He)}throw(0,fe.z)(Ae)}(Ae,He):(0,e.Xf)(Ae)}},8421:(st,we,P)=>{P.d(we,{Xf:()=>Ve});var e=P(655),V=P(1144),U=P(8239),ie=P(9751),le=P(3670),_e=P(2206),me=P(4532),he=P(6495),ye=P(3260),H=P(576),$=P(7849),Y=P(8822);function Ve(Pe){if(Pe instanceof ie.y)return Pe;if(null!=Pe){if((0,le.c)(Pe))return function Ue(Pe){return new ie.y(ke=>{const Ae=Pe[Y.L]();if((0,H.m)(Ae.subscribe))return Ae.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,V.z)(Pe))return function Ie(Pe){return new ie.y(ke=>{for(let Ae=0;Ae<Pe.length&&!ke.closed;Ae++)ke.next(Pe[Ae]);ke.complete()})}(Pe);if((0,U.t)(Pe))return function at(Pe){return new ie.y(ke=>{Pe.then(Ae=>{ke.closed||(ke.next(Ae),ke.complete())},Ae=>ke.error(Ae)).then(null,$.h)})}(Pe);if((0,_e.D)(Pe))return fe(Pe);if((0,he.T)(Pe))return function Te(Pe){return new ie.y(ke=>{for(const Ae of Pe)if(ke.next(Ae),ke.closed)return;ke.complete()})}(Pe);if((0,ye.L)(Pe))return function et(Pe){return fe((0,ye.Q)(Pe))}(Pe)}throw(0,me.z)(Pe)}function fe(Pe){return new ie.y(ke=>{(function Ye(Pe,ke){var Ae,He,re,ce;return(0,e.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,e.KL)(Pe);!(He=yield Ae.next()).done;)if(ke.next(He.value),ke.closed)return}catch(ve){re={error:ve}}finally{try{He&&!He.done&&(ce=Ae.return)&&(yield ce.call(Ae))}finally{if(re)throw re.error}}ke.complete()})})(Pe,ke).catch(Ae=>ke.error(Ae))})}},6451:(st,we,P)=>{P.d(we,{T:()=>_e});var e=P(8189),V=P(8421),U=P(515),ie=P(3269),le=P(8996);function _e(...me){const he=(0,ie.yG)(me),ye=(0,ie._6)(me,1/0),H=me;return H.length?1===H.length?(0,V.Xf)(H[0]):(0,e.J)(ye)((0,le.D)(H,he)):U.E}},5403:(st,we,P)=>{P.d(we,{x:()=>V});var e=P(2961);function V(ie,le,_e,me,he){return new U(ie,le,_e,me,he)}class U extends e.Lv{constructor(le,_e,me,he,ye,H){super(le),this.onFinalize=ye,this.shouldUnsubscribe=H,this._next=_e?function($){try{_e($)}catch(Y){le.error(Y)}}:super._next,this._error=he?function($){try{he($)}catch(Y){le.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch($){le.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},4004:(st,we,P)=>{P.d(we,{U:()=>U});var e=P(4482),V=P(5403);function U(ie,le){return(0,e.e)((_e,me)=>{let he=0;_e.subscribe((0,V.x)(me,ye=>{me.next(ie.call(le,ye,he++))}))})}},8189:(st,we,P)=>{P.d(we,{J:()=>U});var e=P(5577),V=P(4671);function U(ie=1/0){return(0,e.z)(V.y,ie)}},5577:(st,we,P)=>{P.d(we,{z:()=>he});var e=P(4004),V=P(8421),U=P(4482),ie=P(9672),le=P(5403),me=P(576);function he(ye,H,$=1/0){return(0,me.m)(H)?he((Y,Ve)=>(0,e.U)((Ue,Ie)=>H(Y,Ue,Ve,Ie))((0,V.Xf)(ye(Y,Ve))),$):("number"==typeof H&&($=H),(0,U.e)((Y,Ve)=>function _e(ye,H,$,Y,Ve,Ue,Ie,at){const Te=[];let fe=0,et=0,Ye=!1;const Pe=()=>{Ye&&!Te.length&&!fe&&H.complete()},ke=He=>fe<Y?Ae(He):Te.push(He),Ae=He=>{Ue&&H.next(He),fe++;let re=!1;(0,V.Xf)($(He,et++)).subscribe((0,le.x)(H,ce=>{null==Ve||Ve(ce),Ue?ke(ce):H.next(ce)},()=>{re=!0},void 0,()=>{if(re)try{for(fe--;Te.length&&fe<Y;){const ce=Te.shift();Ie?(0,ie.f)(H,Ie,()=>Ae(ce)):Ae(ce)}Pe()}catch(ce){H.error(ce)}}))};return ye.subscribe((0,le.x)(H,ke,()=>{Ye=!0,Pe()})),()=>{null==at||at()}}(Y,Ve,ye,$)))}},5363:(st,we,P)=>{P.d(we,{Q:()=>ie});var e=P(9672),V=P(4482),U=P(5403);function ie(le,_e=0){return(0,V.e)((me,he)=>{me.subscribe((0,U.x)(he,ye=>(0,e.f)(he,le,()=>he.next(ye),_e),()=>(0,e.f)(he,le,()=>he.complete(),_e),ye=>(0,e.f)(he,le,()=>he.error(ye),_e)))})}},3099:(st,we,P)=>{P.d(we,{B:()=>le});var e=P(8421),V=P(7579),U=P(2961),ie=P(4482);function le(me={}){const{connector:he=(()=>new V.x),resetOnError:ye=!0,resetOnComplete:H=!0,resetOnRefCountZero:$=!0}=me;return Y=>{let Ve,Ue,Ie,at=0,Te=!1,fe=!1;const et=()=>{null==Ue||Ue.unsubscribe(),Ue=void 0},Ye=()=>{et(),Ve=Ie=void 0,Te=fe=!1},Pe=()=>{const ke=Ve;Ye(),null==ke||ke.unsubscribe()};return(0,ie.e)((ke,Ae)=>{at++,!fe&&!Te&&et();const He=Ie=null!=Ie?Ie:he();Ae.add(()=>{at--,0===at&&!fe&&!Te&&(Ue=_e(Pe,$))}),He.subscribe(Ae),!Ve&&at>0&&(Ve=new U.Hp({next:re=>He.next(re),error:re=>{fe=!0,et(),Ue=_e(Ye,ye,re),He.error(re)},complete:()=>{Te=!0,et(),Ue=_e(Ye,H),He.complete()}}),(0,e.Xf)(ke).subscribe(Ve))})(Y)}}function _e(me,he,...ye){if(!0===he)return void me();if(!1===he)return;const H=new U.Hp({next:()=>{H.unsubscribe(),me()}});return he(...ye).subscribe(H)}},9468:(st,we,P)=>{P.d(we,{R:()=>V});var e=P(4482);function V(U,ie=0){return(0,e.e)((le,_e)=>{_e.add(U.schedule(()=>le.subscribe(_e),ie))})}},8505:(st,we,P)=>{P.d(we,{b:()=>le});var e=P(576),V=P(4482),U=P(5403),ie=P(4671);function le(_e,me,he){const ye=(0,e.m)(_e)||me||he?{next:_e,error:me,complete:he}:_e;return ye?(0,V.e)((H,$)=>{var Y;null===(Y=ye.subscribe)||void 0===Y||Y.call(ye);let Ve=!0;H.subscribe((0,U.x)($,Ue=>{var Ie;null===(Ie=ye.next)||void 0===Ie||Ie.call(ye,Ue),$.next(Ue)},()=>{var Ue;Ve=!1,null===(Ue=ye.complete)||void 0===Ue||Ue.call(ye),$.complete()},Ue=>{var Ie;Ve=!1,null===(Ie=ye.error)||void 0===Ie||Ie.call(ye,Ue),$.error(Ue)},()=>{var Ue,Ie;Ve&&(null===(Ue=ye.unsubscribe)||void 0===Ue||Ue.call(ye)),null===(Ie=ye.finalize)||void 0===Ie||Ie.call(ye)}))}):ie.y}},4408:(st,we,P)=>{P.d(we,{o:()=>le});var e=P(727);class V extends e.w0{constructor(me,he){super()}schedule(me,he=0){return this}}const U={setInterval(_e,me,...he){const{delegate:ye}=U;return null!=ye&&ye.setInterval?ye.setInterval(_e,me,...he):setInterval(_e,me,...he)},clearInterval(_e){const{delegate:me}=U;return((null==me?void 0:me.clearInterval)||clearInterval)(_e)},delegate:void 0};var ie=P(8737);class le extends V{constructor(me,he){super(me,he),this.scheduler=me,this.work=he,this.pending=!1}schedule(me,he=0){var ye;if(this.closed)return this;this.state=me;const H=this.id,$=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId($,H,he)),this.pending=!0,this.delay=he,this.id=null!==(ye=this.id)&&void 0!==ye?ye:this.requestAsyncId($,this.id,he),this}requestAsyncId(me,he,ye=0){return U.setInterval(me.flush.bind(me,this),ye)}recycleAsyncId(me,he,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return he;null!=he&&U.clearInterval(he)}execute(me,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(me,he);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,he){let H,ye=!1;try{this.work(me)}catch($){ye=!0,H=$||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:me,scheduler:he}=this,{actions:ye}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(ye,this),null!=me&&(this.id=this.recycleAsyncId(he,me,null)),this.delay=null,super.unsubscribe()}}}},7565:(st,we,P)=>{P.d(we,{v:()=>U});var e=P(6063);class V{constructor(le,_e=V.now){this.schedulerActionCtor=le,this.now=_e}schedule(le,_e=0,me){return new this.schedulerActionCtor(this,le).schedule(me,_e)}}V.now=e.l.now;class U extends V{constructor(le,_e=V.now){super(le,_e),this.actions=[],this._active=!1}flush(le){const{actions:_e}=this;if(this._active)return void _e.push(le);let me;this._active=!0;do{if(me=le.execute(le.state,le.delay))break}while(le=_e.shift());if(this._active=!1,me){for(;le=_e.shift();)le.unsubscribe();throw me}}}},4986:(st,we,P)=>{P.d(we,{P:()=>ie,z:()=>U});var e=P(4408);const U=new(P(7565).v)(e.o),ie=U},6063:(st,we,P)=>{P.d(we,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},3410:(st,we,P)=>{P.d(we,{z:()=>e});const e={setTimeout(V,U,...ie){const{delegate:le}=e;return null!=le&&le.setTimeout?le.setTimeout(V,U,...ie):setTimeout(V,U,...ie)},clearTimeout(V){const{delegate:U}=e;return((null==U?void 0:U.clearTimeout)||clearTimeout)(V)},delegate:void 0}},2202:(st,we,P)=>{P.d(we,{h:()=>V});const V=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(st,we,P)=>{P.d(we,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(st,we,P)=>{P.d(we,{_6:()=>_e,jO:()=>ie,yG:()=>le});var e=P(576),V=P(3532);function U(me){return me[me.length-1]}function ie(me){return(0,e.m)(U(me))?me.pop():void 0}function le(me){return(0,V.K)(U(me))?me.pop():void 0}function _e(me,he){return"number"==typeof U(me)?me.pop():he}},8737:(st,we,P)=>{function e(V,U){if(V){const ie=V.indexOf(U);0<=ie&&V.splice(ie,1)}}P.d(we,{P:()=>e})},3888:(st,we,P)=>{function e(V){const ie=V(le=>{Error.call(le),le.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}P.d(we,{d:()=>e})},2806:(st,we,P)=>{P.d(we,{O:()=>ie,x:()=>U});var e=P(2416);let V=null;function U(le){if(e.v.useDeprecatedSynchronousErrorHandling){const _e=!V;if(_e&&(V={errorThrown:!1,error:null}),le(),_e){const{errorThrown:me,error:he}=V;if(V=null,me)throw he}}else le()}function ie(le){e.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=le)}},9672:(st,we,P)=>{function e(V,U,ie,le=0,_e=!1){const me=U.schedule(function(){ie(),_e?V.add(this.schedule(null,le)):this.unsubscribe()},le);if(V.add(me),!_e)return me}P.d(we,{f:()=>e})},4671:(st,we,P)=>{function e(V){return V}P.d(we,{y:()=>e})},1144:(st,we,P)=>{P.d(we,{z:()=>e});const e=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(st,we,P)=>{P.d(we,{D:()=>V});var e=P(576);function V(U){return Symbol.asyncIterator&&(0,e.m)(null==U?void 0:U[Symbol.asyncIterator])}},576:(st,we,P)=>{function e(V){return"function"==typeof V}P.d(we,{m:()=>e})},3670:(st,we,P)=>{P.d(we,{c:()=>U});var e=P(8822),V=P(576);function U(ie){return(0,V.m)(ie[e.L])}},6495:(st,we,P)=>{P.d(we,{T:()=>U});var e=P(2202),V=P(576);function U(ie){return(0,V.m)(null==ie?void 0:ie[e.h])}},8239:(st,we,P)=>{P.d(we,{t:()=>V});var e=P(576);function V(U){return(0,e.m)(null==U?void 0:U.then)}},3260:(st,we,P)=>{P.d(we,{L:()=>ie,Q:()=>U});var e=P(655),V=P(576);function U(le){return(0,e.FC)(this,arguments,function*(){const me=le.getReader();try{for(;;){const{value:he,done:ye}=yield(0,e.qq)(me.read());if(ye)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(he)}}finally{me.releaseLock()}})}function ie(le){return(0,V.m)(null==le?void 0:le.getReader)}},3532:(st,we,P)=>{P.d(we,{K:()=>V});var e=P(576);function V(U){return U&&(0,e.m)(U.schedule)}},4482:(st,we,P)=>{P.d(we,{A:()=>V,e:()=>U});var e=P(576);function V(ie){return(0,e.m)(null==ie?void 0:ie.lift)}function U(ie){return le=>{if(V(le))return le.lift(function(_e){try{return ie(_e,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(st,we,P)=>{P.d(we,{U:()=>U,z:()=>V});var e=P(4671);function V(...ie){return U(ie)}function U(ie){return 0===ie.length?e.y:1===ie.length?ie[0]:function(_e){return ie.reduce((me,he)=>he(me),_e)}}},7849:(st,we,P)=>{P.d(we,{h:()=>U});var e=P(2416),V=P(3410);function U(ie){V.z.setTimeout(()=>{const{onUnhandledError:le}=e.v;if(!le)throw ie;le(ie)})}},4532:(st,we,P)=>{function e(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(we,{z:()=>e})},655:(st,we,P)=>{function ie(Q,X){var pe={};for(var ae in Q)Object.prototype.hasOwnProperty.call(Q,ae)&&X.indexOf(ae)<0&&(pe[ae]=Q[ae]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(ae=Object.getOwnPropertySymbols(Q);Le<ae.length;Le++)X.indexOf(ae[Le])<0&&Object.prototype.propertyIsEnumerable.call(Q,ae[Le])&&(pe[ae[Le]]=Q[ae[Le]])}return pe}function he(Q,X,pe,ae){return new(pe||(pe=Promise))(function(Fe,mt){function an(gn){try{Je(ae.next(gn))}catch(In){mt(In)}}function Bt(gn){try{Je(ae.throw(gn))}catch(In){mt(In)}}function Je(gn){gn.done?Fe(gn.value):function Le(Fe){return Fe instanceof pe?Fe:new pe(function(mt){mt(Fe)})}(gn.value).then(an,Bt)}Je((ae=ae.apply(Q,X||[])).next())})}function Te(Q){return this instanceof Te?(this.v=Q,this):new Te(Q)}function fe(Q,X,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,ae=pe.apply(Q,X||[]),Fe=[];return Le={},mt("next"),mt("throw"),mt("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function mt(nn){ae[nn]&&(Le[nn]=function(rn){return new Promise(function(zt,qt){Fe.push([nn,rn,zt,qt])>1||an(nn,rn)})})}function an(nn,rn){try{!function Bt(nn){nn.value instanceof Te?Promise.resolve(nn.value.v).then(Je,gn):In(Fe[0][2],nn)}(ae[nn](rn))}catch(zt){In(Fe[0][3],zt)}}function Je(nn){an("next",nn)}function gn(nn){an("throw",nn)}function In(nn,rn){nn(rn),Fe.shift(),Fe.length&&an(Fe[0][0],Fe[0][1])}}function Ye(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,X=Q[Symbol.asyncIterator];return X?X.call(Q):(Q=function Y(Q){var X="function"==typeof Symbol&&Symbol.iterator,pe=X&&Q[X],ae=0;if(pe)return pe.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&ae>=Q.length&&(Q=void 0),{value:Q&&Q[ae++],done:!Q}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),pe={},ae("next"),ae("throw"),ae("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function ae(Fe){pe[Fe]=Q[Fe]&&function(mt){return new Promise(function(an,Bt){!function Le(Fe,mt,an,Bt){Promise.resolve(Bt).then(function(Je){Fe({value:Je,done:an})},mt)}(an,Bt,(mt=Q[Fe](mt)).done,mt.value)})}}}P.d(we,{FC:()=>fe,KL:()=>Ye,_T:()=>ie,mG:()=>he,qq:()=>Te})},5e3:(st,we,P)=>{P.d(we,{$8M:()=>al,$Z:()=>L0,AFp:()=>af,ALo:()=>YC,AaK:()=>he,AsE:()=>Vm,BQk:()=>kg,CHM:()=>Qi,CRH:()=>oT,CZH:()=>nd,Ckj:()=>Fv,CqO:()=>E1,D6c:()=>qy,EJc:()=>qE,EpF:()=>A1,F4k:()=>I1,FYo:()=>Xs,FiY:()=>ue,G48:()=>NT,Gf:()=>Ga,GfV:()=>Qv,Gpc:()=>$,JOm:()=>Wo,Jf7:()=>l0,KtG:()=>Ki,LFG:()=>Sn,LSH:()=>ih,Lbi:()=>CT,Lck:()=>tE,MMx:()=>Km,NdJ:()=>Um,OlP:()=>Jt,Oqu:()=>qm,PXZ:()=>DT,Q6J:()=>xm,QGY:()=>Nm,QP$:()=>Ou,Qsj:()=>bu,R0b:()=>Zo,RDi:()=>o_,Rgc:()=>ys,SBq:()=>wu,Sil:()=>jh,Suo:()=>rT,TTD:()=>ro,TgZ:()=>xg,VKq:()=>Xm,X6Q:()=>kT,XFs:()=>yt,Xpm:()=>Xe,Xts:()=>Bv,Y36:()=>Fc,YKP:()=>FC,YNc:()=>w1,Yjl:()=>z,Yz7:()=>rn,ZZ4:()=>rp,_Bn:()=>Vg,_UZ:()=>km,_Vd:()=>Tu,_c5:()=>BT,_uU:()=>Q1,aQg:()=>ld,c2e:()=>FE,cJS:()=>qt,cg1:()=>$m,dDg:()=>ET,dqk:()=>nt,eFA:()=>zh,ekj:()=>Lm,eoX:()=>Iy,f3M:()=>Js,g9A:()=>vy,h0i:()=>Qc,hGG:()=>Fy,hij:()=>Ug,iGM:()=>Fr,ifc:()=>lt,ip1:()=>Bh,kL8:()=>Pg,lG2:()=>B,lcZ:()=>XC,lnq:()=>Bm,lqb:()=>Cl,lri:()=>gf,n5z:()=>sl,oAB:()=>wt,oxw:()=>S1,q4F:()=>xc,qLn:()=>Zc,qOj:()=>p1,qZA:()=>Zg,rWj:()=>Ay,sBO:()=>MT,sIi:()=>Eh,s_b:()=>jg,soG:()=>uf,tb:()=>Cy,tp0:()=>je,uIk:()=>Dm,vHH:()=>Ie,vpe:()=>di,wAp:()=>xt,xp6:()=>S0,ynx:()=>Fl,z2F:()=>_f,zSh:()=>ki,zs3:()=>xl});var e=P(7579),V=P(727),U=P(9751),ie=P(6451),le=P(3099);function _e(s){for(let a in s)if(s[a]===_e)return a;throw Error("Could not find renamed property on target object.")}function me(s,a){for(const l in a)a.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=a[l])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function ye(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const H=_e({__forward_ref__:_e});function $(s){return s.__forward_ref__=$,s.toString=function(){return he(this())},s}function Y(s){return Ve(s)?s():s}function Ve(s){return"function"==typeof s&&s.hasOwnProperty(H)&&s.__forward_ref__===$}class Ie extends Error{constructor(a,l){super(function at(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,l)),this.code=a}}function Te(s){return"string"==typeof s?s:null==s?"":String(s)}function ke(s,a){throw new Ie(-201,!1)}function Bt(s,a){null==s&&function Je(s,a,l,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${l} ${c} ${a} <=Actual]`))}(a,s,null,"!=")}function rn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function qt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Nr(s){return yo(s,vo)||yo(s,Hn)}function yo(s,a){return s.hasOwnProperty(a)?s[a]:null}function Po(s){return s&&(s.hasOwnProperty(Br)||s.hasOwnProperty(Ro))?s[Br]:null}const vo=_e({\u0275prov:_e}),Br=_e({\u0275inj:_e}),Hn=_e({ngInjectableDef:_e}),Ro=_e({ngInjectorDef:_e});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let fn;function un(s){const a=fn;return fn=s,a}function gr(s,a,l){const c=Nr(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&yt.Optional?null:void 0!==a?a:void ke(he(s))}function Ar(s){return{toString:s}.toString()}var _n=(()=>((_n=_n||{})[_n.OnPush=0]="OnPush",_n[_n.Default=1]="Default",_n))(),lt=(()=>{return(s=lt||(lt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",lt;var s})();const nt=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),En={},jt=[],Rn=_e({\u0275cmp:_e}),$r=_e({\u0275dir:_e}),Ot=_e({\u0275pipe:_e}),Co=_e({\u0275mod:_e}),Lt=_e({\u0275fac:_e}),Mr=_e({__NG_ELEMENT_ID__:_e});let qn=0;function Xe(s){return Ar(()=>{const l=!0===s.standalone,c={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===_n.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||jt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||lt.Emulated,id:"c"+qn++,styles:s.styles||jt,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,m=s.features;return h.inputs=G(s.inputs,c),h.outputs=G(s.outputs),m&&m.forEach(C=>C(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(tt).filter(Tt):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(L).filter(Tt):null,h})}function tt(s){return O(s)||N(s)}function Tt(s){return null!==s}function wt(s){return Ar(()=>({type:s.type,bootstrap:s.bootstrap||jt,declarations:s.declarations||jt,imports:s.imports||jt,exports:s.exports||jt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function G(s,a){if(null==s)return En;const l={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),l[h]=c,a&&(a[h]=p)}return l}const B=Xe;function z(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function O(s){return s[Rn]||null}function N(s){return s[$r]||null}function L(s){return s[Ot]||null}function oe(s,a){const l=s[Co]||null;if(!l&&!0===a)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return l}function It(s){return Array.isArray(s)&&"object"==typeof s[1]}function To(s){return Array.isArray(s)&&!0===s[1]}function Ci(s){return 0!=(8&s.flags)}function ga(s){return 2==(2&s.flags)}function Bi(s){return 1==(1&s.flags)}function Lo(s){return null!==s.template}function nc(s){return 0!=(256&s[2])}function Zs(s,a){return s.hasOwnProperty(Lt)?s[Lt]:null}class _a{constructor(a,l,c){this.previousValue=a,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function ro(){return $i}function $i(s){return s.type.prototype.ngOnChanges&&(s.setInput=Sd),ks}function ks(){const s=Xa(this),a=null==s?void 0:s.current;if(a){const l=s.previous;if(l===En)s.previous=a;else for(let c in a)l[c]=a[c];s.current=null,this.ngOnChanges(a)}}function Sd(s,a,l,c){const h=Xa(s)||function xd(s,a){return s[ma]=a}(s,{previous:En,current:null}),p=h.current||(h.current={}),m=h.previous,C=this.declaredInputs[l],b=m[C];p[C]=new _a(b&&b.currentValue,a,m===En),s[c]=a}ro.ngInherit=!0;const ma="__ngSimpleChanges__";function Xa(s){return s[ma]||null}function Jn(s){for(;Array.isArray(s);)s=s[0];return s}function ya(s,a){return Jn(a[s])}function Hr(s,a){return Jn(a[s.index])}function Ji(s,a){return s.data[a]}function lr(s,a){const l=a[s];return It(l)?l:l[0]}function Wi(s){return 4==(4&s[2])}function Fo(s){return 64==(64&s[2])}function qo(s,a){return null==a?null:s[a]}function bi(s){s[18]=0}function zi(s,a){s[5]+=a;let l=s,c=s[3];for(;null!==c&&(1===a&&1===l[5]||-1===a&&0===l[5]);)c[5]+=a,l=c,c=c[3]}const St={lFrame:Ls(null),bindingsEnabled:!0};function Ns(){return St.bindingsEnabled}function Ee(){return St.lFrame.lView}function $t(){return St.lFrame.tView}function Qi(s){return St.lFrame.contextLView=s,s[8]}function Ki(s){return St.lFrame.contextLView=null,s}function jn(){let s=Yi();for(;null!==s&&64===s.type;)s=s.parent;return s}function Yi(){return St.lFrame.currentTNode}function Pr(s,a){const l=St.lFrame;l.currentTNode=s,l.isParent=a}function zu(){return St.lFrame.isParent}function Xi(){St.lFrame.isParent=!1}function cr(){const s=St.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function oo(){return St.lFrame.bindingIndex}function es(){return St.lFrame.bindingIndex++}function Ao(s){const a=St.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,l}function nu(s,a){const l=St.lFrame;l.bindingIndex=l.bindingRootIndex=s,Ta(a)}function Ta(s){St.lFrame.currentDirectiveIndex=s}function Rs(){return St.lFrame.currentQueryIndex}function Xu(s){St.lFrame.currentQueryIndex=s}function ba(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function ru(s,a,l){if(l&yt.SkipSelf){let h=a,p=s;for(;!(h=h.parent,null!==h||l&yt.Host||(h=ba(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;a=h,s=p}const c=St.lFrame=dc();return c.currentTNode=a,c.lView=s,!0}function Os(s){const a=dc(),l=s[1];St.lFrame=a,a.currentTNode=l.firstChild,a.lView=s,a.tView=l,a.contextLView=s,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function dc(){const s=St.lFrame,a=null===s?null:s.child;return null===a?Ls(s):a}function Ls(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function hc(){const s=St.lFrame;return St.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Fs=hc;function ou(){const s=hc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Wn(){return St.lFrame.selectedIndex}function Bo(s){St.lFrame.selectedIndex=s}function wn(){const s=St.lFrame;return Ji(s.tView,s.selectedIndex)}function nl(s,a){for(let l=a.directiveStart,c=a.directiveEnd;l<c;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:C,ngAfterViewInit:b,ngAfterViewChecked:E,ngOnDestroy:k}=p;m&&(s.contentHooks||(s.contentHooks=[])).push(-l,m),C&&((s.contentHooks||(s.contentHooks=[])).push(l,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,C)),b&&(s.viewHooks||(s.viewHooks=[])).push(-l,b),E&&((s.viewHooks||(s.viewHooks=[])).push(l,E),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,E)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(l,k)}}function gc(s,a,l){ts(s,a,3,l)}function fc(s,a,l,c){(3&s[2])===l&&ts(s,a,l,c)}function Ia(s,a){let l=s[2];(3&l)===a&&(l&=2047,l+=1,s[2]=l)}function ts(s,a,l,c){const p=null!=c?c:-1,m=a.length-1;let C=0;for(let b=void 0!==c?65535&s[18]:0;b<m;b++)if("number"==typeof a[b+1]){if(C=a[b],null!=c&&C>=c)break}else a[b]<0&&(s[18]+=65536),(C<p||-1==p)&&(Yf(s,l,a,b),s[18]=(4294901760&s[18])+b+2),b++}function Yf(s,a,l,c){const h=l[c]<0,p=l[c+1],C=s[h?-l[c]:l[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{p.call(C)}finally{}}}else try{p.call(C)}finally{}}class qs{constructor(a,l,c){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function Ea(s,a,l){let c=0;for(;c<l.length;){const h=l[c];if("number"==typeof h){if(0!==h)break;c++;const p=l[c++],m=l[c++],C=l[c++];s.setAttribute(a,m,C,p)}else{const p=h,m=l[++c];Da(p)?s.setProperty(a,p,m):s.setAttribute(a,p,m),c++}}return c}function ol(s){return 3===s||4===s||6===s}function Da(s){return 64===s.charCodeAt(0)}function js(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let l=-1;for(let c=0;c<a.length;c++){const h=a[c];"number"==typeof h?l=h:0===l||Ld(s,l,h,null,-1===l||2===l?a[++c]:null)}}return s}function Ld(s,a,l,c,h){let p=0,m=s.length;if(-1===a)m=-1;else for(;p<s.length;){const C=s[p++];if("number"==typeof C){if(C===a){m=-1;break}if(C>a){m=p-1;break}}}for(;p<s.length;){const C=s[p];if("number"==typeof C)break;if(C===l){if(null===c)return void(null!==h&&(s[p+1]=h));if(c===s[p+1])return void(s[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==m&&(s.splice(m,0,a),p=m+1),s.splice(p++,0,l),null!==c&&s.splice(p++,0,c),null!==h&&s.splice(p++,0,h)}function Fd(s){return-1!==s}function Sa(s){return 32767&s}function tr(s,a){let l=function e_(s){return s>>16}(s),c=a;for(;l>0;)c=c[15],l--;return c}let qd=!0;function xa(s){const a=qd;return qd=s,a}let Jr=0;const dn={};function ti(s,a){const l=Ii(s,a);if(-1!==l)return l;const c=a[1];c.firstCreatePass&&(s.injectorIndex=a.length,su(c.data,s),su(a,null),su(c.blueprint,null));const h=au(s,a),p=s.injectorIndex;if(Fd(h)){const m=Sa(h),C=tr(h,a),b=C[1].data;for(let E=0;E<8;E++)a[p+E]=C[m+E]|b[m+E]}return a[p+8]=h,p}function su(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Ii(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function au(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,c=null,h=a;for(;null!==h;){if(c=Zn(h),null===c)return-1;if(l++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function ns(s,a,l){!function Vd(s,a,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(Mr)&&(c=l[Mr]),null==c&&(c=l[Mr]=Jr++);const h=255&c;a.data[s+(h>>5)]|=1<<h}(s,a,l)}function zn(s,a,l){if(l&yt.Optional)return s;ke()}function W(s,a,l,c){if(l&yt.Optional&&void 0===c&&(c=null),0==(l&(yt.Self|yt.Host))){const h=s[9],p=un(void 0);try{return h?h.get(a,c,l&yt.Optional):gr(a,c,l&yt.Optional)}finally{un(p)}}return zn(c,0,l)}function Za(s,a,l,c=yt.Default,h){if(null!==s){if(1024&a[2]){const m=function Pp(s,a,l,c,h){let p=s,m=a;for(;null!==p&&null!==m&&1024&m[2]&&!(256&m[2]);){const C=$s(p,m,l,c|yt.Self,dn);if(C!==dn)return C;let b=p.parent;if(!b){const E=m[21];if(E){const k=E.get(l,dn,c);if(k!==dn)return k}b=Zn(m),m=m[15]}p=b}return h}(s,a,l,c,dn);if(m!==dn)return m}const p=$s(s,a,l,c,dn);if(p!==dn)return p}return W(a,l,c,h)}function $s(s,a,l,c,h){const p=function il(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Mr)?s[Mr]:void 0;return"number"==typeof a?a>=0?255&a:Na:a}(l);if("function"==typeof p){if(!ru(a,s,c))return c&yt.Host?zn(h,0,c):W(a,l,c,h);try{const m=p(c);if(null!=m||c&yt.Optional)return m;ke()}finally{Fs()}}else if("number"==typeof p){let m=null,C=Ii(s,a),b=-1,E=c&yt.Host?a[16][6]:null;for((-1===C||c&yt.SkipSelf)&&(b=-1===C?au(s,a):a[C+8],-1!==b&&Io(c,!1)?(m=a[1],C=Sa(b),a=tr(b,a)):C=-1);-1!==C;){const k=a[1];if(io(p,C,k.data)){const R=os(C,a,l,m,c,E);if(R!==dn)return R}b=a[C+8],-1!==b&&Io(c,a[1].data[C+8]===E)&&io(p,C,a)?(m=k,C=Sa(b),a=tr(b,a)):C=-1}}return h}function os(s,a,l,c,h,p){const m=a[1],C=m.data[s+8],k=ka(C,m,l,null==c?ga(C)&&qd:c!=m&&0!=(3&C.type),h&yt.Host&&p===C);return null!==k?ni(a,m,k,C):dn}function ka(s,a,l,c,h){const p=s.providerIndexes,m=a.data,C=1048575&p,b=s.directiveStart,k=p>>20,j=h?C+k:s.directiveEnd;for(let ne=c?C:C+k;ne<j;ne++){const Ce=m[ne];if(ne<b&&l===Ce||ne>=b&&Ce.type===l)return ne}if(h){const ne=m[b];if(ne&&Lo(ne)&&ne.type===l)return b}return null}function ni(s,a,l,c){let h=s[l];const p=a.data;if(function iu(s){return s instanceof qs}(h)){const m=h;m.resolving&&function et(s,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${s}${l}`)}(function fe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Te(s)}(p[l]));const C=xa(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?un(m.injectImpl):null;ru(s,c,yt.Default);try{h=s[l]=m.factory(void 0,p,s,c),a.firstCreatePass&&l>=c.directiveStart&&function tl(s,a,l){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=a.type.prototype;if(c){const m=$i(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],a)}finally{null!==b&&un(b),xa(C),m.resolving=!1,Fs()}}return h}function io(s,a,l){return!!(l[a+(s>>5)]&1<<s)}function Io(s,a){return!(s&yt.Self||s&yt.Host&&a)}class $o{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,c){return Za(this._tNode,this._lView,a,c,l)}}function Na(){return new $o(jn(),Ee())}function sl(s){return Ar(()=>{const a=s.prototype.constructor,l=a[Lt]||uu(a),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const p=h[Lt]||uu(h);if(p&&p!==l)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function uu(s){return Ve(s)?()=>{const a=uu(Y(s));return a&&a()}:Zs(s)}function Zn(s){const a=s[1],l=a.type;return 2===l?a.declTNode:1===l?s[6]:null}function al(s){return function rs(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const l=s.attrs;if(l){const c=l.length;let h=0;for(;h<c;){const p=l[h];if(ol(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof l[h];)h++;else{if(p===a)return l[h+1];h+=2}}}return null}(jn(),s)}const is="__parameters__";function _r(s,a,l){return Ar(()=>{const c=function Ua(s){return function(...l){if(s){const c=s(...l);for(const h in c)this[h]=c[h]}}}(a);function h(...p){if(this instanceof h)return c.apply(this,p),this;const m=new h(...p);return C.annotation=m,C;function C(b,E,k){const R=b.hasOwnProperty(is)?b[is]:Object.defineProperty(b,is,{value:[]})[is];for(;R.length<=k;)R.push(null);return(R[k]=R[k]||[]).push(m),b}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Jt{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=rn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function rr(s,a){void 0===a&&(a=s);for(let l=0;l<s.length;l++){let c=s[l];Array.isArray(c)?(a===s&&(a=s.slice(0,l)),rr(c,a)):a!==s&&a.push(c)}return a}function Eo(s,a){s.forEach(l=>Array.isArray(l)?Eo(l,a):a(l))}function Pa(s,a,l){a>=s.length?s.push(l):s.splice(a,0,l)}function Ra(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function mr(s,a,l){let c=Oa(s,a);return c>=0?s[1|c]=l:(c=~c,function yc(s,a,l,c){let h=s.length;if(h==a)s.push(l,c);else if(1===h)s.push(c,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=l,s[a+1]=c}}(s,c,a,l)),c}function Cc(s,a){const l=Oa(s,a);if(l>=0)return s[1|l]}function Oa(s,a){return function oi(s,a,l){let c=0,h=s.length>>l;for(;h!==c;){const p=c+(h-c>>1),m=s[p<<l];if(a===m)return p<<l;m>a?h=p:c=p+1}return~(h<<l)}(s,a,1)}const hu={},Do="__NG_DI_FLAG__",pu="ngTempTokenPath",gu=/\n/gm,fu="__source";let So;function Si(s){const a=So;return So=s,a}function La(s,a=yt.Default){if(void 0===So)throw new Ie(-203,!1);return null===So?gr(s,void 0,a):So.get(s,a&yt.Optional?null:void 0,a)}function Sn(s,a=yt.Default){return(function ur(){return fn}()||La)(Y(s),a)}function Js(s,a=yt.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),Sn(s,a)}function Ws(s){const a=[];for(let l=0;l<s.length;l++){const c=Y(s[l]);if(Array.isArray(c)){if(0===c.length)throw new Ie(900,!1);let h,p=yt.Default;for(let m=0;m<c.length;m++){const C=c[m],b=I(C);"number"==typeof b?-1===b?h=C.token:p|=b:h=C}a.push(Sn(h,p))}else a.push(Sn(c))}return a}function A(s,a){return s[Do]=a,s.prototype[Do]=a,s}function I(s){return s[Do]}const ue=A(_r("Optional"),8),je=A(_r("SkipSelf"),4);let _l;function o_(s){_l=s}class u_{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function mn(s){return s instanceof u_?s.changingThisBreaksApplicationSecurity:s}function Zi(s,a){const l=function d_(s){return s instanceof u_&&s.getTypeName()||null}(s);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}const Lv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,f=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var hr=(()=>((hr=hr||{})[hr.NONE=0]="NONE",hr[hr.HTML=1]="HTML",hr[hr.STYLE=2]="STYLE",hr[hr.SCRIPT=3]="SCRIPT",hr[hr.URL=4]="URL",hr[hr.RESOURCE_URL=5]="RESOURCE_URL",hr))();function Fv(s){const a=Ic();return a?a.sanitize(hr.STYLE,s)||"":Zi(s,"Style")?mn(s):Te(s)}function ih(s){const a=Ic();return a?a.sanitize(hr.URL,s)||"":Zi(s,"URL")?mn(s):function _(s){return(s=String(s)).match(Lv)||s.match(f)?s:"unsafe:"+s}(Te(s))}function Ic(){const s=Ee();return s&&s[12]}const Bv=new Jt("ENVIRONMENT_INITIALIZER"),zw=new Jt("INJECTOR",-1),Qw=new Jt("INJECTOR_DEF_TYPES");class C_{get(a,l=hu){if(l===hu){const c=new Error(`NullInjectorError: No provider for ${he(a)}!`);throw c.name="NullInjectorError",c}return l}}function Kw(...s){return{\u0275providers:T_(0,s)}}function T_(s,...a){const l=[],c=new Set;let h;return Eo(a,p=>{const m=p;jv(m,l,[],c)&&(h||(h=[]),h.push(m))}),void 0!==h&&w_(h,l),l}function w_(s,a){for(let l=0;l<s.length;l++){const{providers:h}=s[l];Eo(h,p=>{a.push(p)})}}function jv(s,a,l,c){if(!(s=Y(s)))return!1;let h=null,p=Po(s);const m=!p&&O(s);if(p||m){if(m&&!m.standalone)return!1;h=s}else{const b=s.ngModule;if(p=Po(b),!p)return!1;h=b}const C=c.has(h);if(m){if(C)return!1;if(c.add(h),m.dependencies){const b="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const E of b)jv(E,a,l,c)}}else{if(!p)return!1;{if(null!=p.imports&&!C){let E;c.add(h);try{Eo(p.imports,k=>{jv(k,a,l,c)&&(E||(E=[]),E.push(k))})}finally{}void 0!==E&&w_(E,a)}if(!C){const E=Zs(h)||(()=>new h);a.push({provide:h,useFactory:E,deps:jt},{provide:Qw,useValue:h,multi:!0},{provide:Bv,useValue:()=>Sn(h),multi:!0})}const b=p.providers;null==b||C||Eo(b,k=>{a.push(k)})}}return h!==s&&void 0!==s.providers}const $v=_e({provide:String,useValue:_e});function b_(s){return null!==s&&"object"==typeof s&&$v in s}function Ec(s){return"function"==typeof s}const ki=new Jt("Set Injector scope."),Wr={},eb={};let vl;function vu(){return void 0===vl&&(vl=new C_),vl}class Cl{}class A_ extends Cl{constructor(a,l,c,h){super(),this.parent=l,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ys(a,m=>this.processProvider(m)),this.records.set(zw,Cu(void 0,this)),h.has("environment")&&this.records.set(Cl,Cu(void 0,this));const p=this.records.get(ki);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Qw.multi,jt,yt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const l=Si(this),c=un(void 0);try{return a()}finally{Si(l),un(c)}}get(a,l=hu,c=yt.Default){this.assertNotDestroyed();const h=Si(this),p=un(void 0);try{if(!(c&yt.SkipSelf)){let C=this.records.get(a);if(void 0===C){const b=function ah(s){return"function"==typeof s||"object"==typeof s&&s instanceof Jt}(a)&&Nr(a);C=b&&this.injectableDefInScope(b)?Cu(I_(a),Wr):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(c&yt.Self?vu():this.parent).get(a,l=c&yt.Optional&&l===hu?null:l)}catch(m){if("NullInjectorError"===m.name){if((m[pu]=m[pu]||[]).unshift(he(a)),h)throw m;return function Z(s,a,l,c){const h=s[pu];throw a[fu]&&h.unshift(a[fu]),s.message=function F(s,a,l,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=he(a);if(Array.isArray(a))h=a.map(he).join(" -> ");else if("object"==typeof a){let p=[];for(let m in a)if(a.hasOwnProperty(m)){let C=a[m];p.push(m+":"+("string"==typeof C?JSON.stringify(C):he(C)))}h=`{${p.join(", ")}}`}return`${l}${c?"("+c+")":""}[${h}]: ${s.replace(gu,"\n  ")}`}("\n"+s.message,h,l,c),s.ngTokenPath=h,s[pu]=null,s}(m,a,"R3InjectorError",this.source)}throw m}finally{un(p),Si(h)}}resolveInjectorInitializers(){const a=Si(this),l=un(void 0);try{const c=this.get(Bv.multi,jt,yt.Self);for(const h of c)h()}finally{Si(a),un(l)}}toString(){const a=[],l=this.records;for(const c of l.keys())a.push(he(c));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(a){let l=Ec(a=Y(a))?a:Y(a&&a.provide);const c=function sh(s){return b_(s)?Cu(void 0,s.useValue):Cu(Hv(s),Wr)}(a);if(Ec(a)||!0!==a.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Cu(void 0,Wr,!0),h.factory=()=>Ws(h.multi),this.records.set(l,h)),l=a,h.multi.push(a)}this.records.set(l,c)}hydrate(a,l){return l.value===Wr&&(l.value=eb,l.value=l.factory()),"object"==typeof l.value&&l.value&&function tb(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=Y(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function I_(s){const a=Nr(s),l=null!==a?a.factory:Zs(s);if(null!==l)return l;if(s instanceof Jt)throw new Ie(204,!1);if(s instanceof Function)return function Gv(s){const a=s.length;if(a>0)throw function ri(s,a){const l=[];for(let c=0;c<s;c++)l.push(a);return l}(a,"?"),new Ie(204,!1);const l=function Vr(s){const a=s&&(s[vo]||s[Hn]);if(a){const l=function kn(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Ie(204,!1)}function Hv(s,a,l){let c;if(Ec(s)){const h=Y(s);return Zs(h)||I_(h)}if(b_(s))c=()=>Y(s.useValue);else if(function Xw(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...Ws(s.deps||[]));else if(function Yw(s){return!(!s||!s.useExisting)}(s))c=()=>Sn(Y(s.useExisting));else{const h=Y(s&&(s.useClass||s.provide));if(!function Jv(s){return!!s.deps}(s))return Zs(h)||I_(h);c=()=>new h(...Ws(s.deps))}return c}function Cu(s,a,l=!1){return{factory:s,value:a,multi:l?[]:void 0}}function Dc(s){return!!s.\u0275providers}function Ys(s,a){for(const l of s)Array.isArray(l)?Ys(l,a):Dc(l)?Ys(l.\u0275providers,a):a(l)}class ao{}class Sc{resolveComponentFactory(a){throw function E_(s){const a=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let Tu=(()=>{class s{}return s.NULL=new Sc,s})();function $e(){return vr(jn(),Ee())}function vr(s,a){return new wu(Hr(s,a))}let wu=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=$e,s})();function zv(s){return s instanceof wu?s.nativeElement:s}class Xs{}let bu=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function uo(){const s=Ee(),l=lr(jn().index,s);return(It(l)?l:s)[11]}(),s})(),Fa=(()=>{class s{}return s.\u0275prov=rn({token:s,providedIn:"root",factory:()=>null}),s})();class Qv{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const xc=new Qv("14.1.3"),uh={};function Wp(s){return s.ngOriginalError}class Zc{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&Wp(a);for(;l&&Wp(l);)l=Wp(l);return l||null}}const wl=new Map;let ab=0;const kc="__ngContext__";function lo(s,a){It(a)?(s[kc]=a[20],function ub(s){wl.set(s[20],s)}(a)):s[kc]=a}function Il(s){const a=s[kc];return"number"==typeof a?function U_(s){return wl.get(s)||null}(a):a||null}function Nc(s){const a=Il(s);return a?It(a)?a:a.lView:null}const pb=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(nt))();function l0(s){return s.ownerDocument.defaultView}function xo(s){return s instanceof Function?s():s}var Wo=(()=>((Wo=Wo||{})[Wo.Important=1]="Important",Wo[Wo.DashCase=2]="DashCase",Wo))();function Xp(s,a){return undefined(s,a)}function ch(s){const a=s[3];return To(a)?a[3]:a}function q_(s){return Pc(s[13])}function dh(s){return Pc(s[4])}function Pc(s){for(;null!==s&&!To(s);)s=s[4];return s}function Iu(s,a,l,c,h){if(null!=c){let p,m=!1;To(c)?p=c:It(c)&&(m=!0,c=c[0]);const C=Jn(c);0===s&&null!==l?null==h?H_(a,l,C):El(a,l,C,h||null,!0):1===s&&null!==l?El(a,l,C,h||null,!0):2===s?function rg(s,a,l){const c=Rc(s,a);c&&function v0(s,a,l,c){s.removeChild(a,l,c)}(s,c,a,l)}(a,C,m):3===s&&a.destroyNode(C),null!=p&&function gh(s,a,l,c,h){const p=l[7];p!==Jn(l)&&Iu(a,s,c,p,h);for(let C=10;C<l.length;C++){const b=l[C];Sl(b[1],b,s,a,c,p)}}(a,s,p,l,h)}}function hs(s,a,l){return s.createElement(a,l)}function g0(s,a){const l=s[9],c=l.indexOf(a),h=a[3];512&a[2]&&(a[2]&=-513,zi(h,-1)),l.splice(c,1)}function $_(s,a){if(s.length<=10)return;const l=10+a,c=s[l];if(c){const h=c[17];null!==h&&h!==s&&g0(h,c),a>0&&(s[l-1][4]=c[4]);const p=Ra(s,10+a);!function j_(s,a){Sl(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(c[1],c);const m=p[19];null!==m&&m.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function f0(s,a){if(!(128&a[2])){const l=a[11];l.destroyNode&&Sl(s,a,l,3,null,null),function p0(s){let a=s[13];if(!a)return G_(s[1],s);for(;a;){let l=null;if(It(a))l=a[13];else{const c=a[10];c&&(l=c)}if(!l){for(;a&&!a[4]&&a!==s;)It(a)&&G_(a[1],a),a=a[3];null===a&&(a=s),It(a)&&G_(a[1],a),l=a&&a[4]}a=l}}(a)}}function G_(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function yb(s,a){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let c=0;c<l.length;c+=2){const h=a[l[c]];if(!(h instanceof qs)){const p=l[c+1];if(Array.isArray(p))for(let m=0;m<p.length;m+=2){const C=h[p[m]],b=p[m+1];try{b.call(C)}finally{}}else try{p.call(h)}finally{}}}}(s,a),function mb(s,a){const l=s.cleanup,c=a[7];let h=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const m=l[p+1],C="function"==typeof m?m(a):Jn(a[m]),b=c[h=l[p+2]],E=l[p+3];"boolean"==typeof E?C.removeEventListener(l[p],b,E):E>=0?c[h=E]():c[h=-E].unsubscribe(),p+=2}else{const m=c[h=l[p+1]];l[p].call(m)}if(null!==c){for(let p=h+1;p<c.length;p++)(0,c[p])();a[7]=null}}(s,a),1===a[1].type&&a[11].destroy();const l=a[17];if(null!==l&&To(a[3])){l!==a[3]&&g0(l,a);const c=a[19];null!==c&&c.detachView(s)}!function M_(s){wl.delete(s[20])}(a)}}function _0(s,a,l){return function m0(s,a,l){let c=a;for(;null!==c&&40&c.type;)c=(a=c).parent;if(null===c)return l[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===lt.None||h===lt.Emulated)return null}return Hr(c,l)}(s,a.parent,l)}function El(s,a,l,c,h){s.insertBefore(a,l,c,h)}function H_(s,a,l){s.appendChild(a,l)}function y0(s,a,l,c,h){null!==c?El(s,a,l,c,h):H_(s,a,l)}function Rc(s,a){return s.parentNode(a)}let W_=function J_(s,a,l){return 40&s.type?Hr(s,l):null};function hh(s,a,l,c){const h=_0(s,c,a),p=a[11],C=function Dl(s,a,l){return W_(s,a,l)}(c.parent||a[6],c,a);if(null!=h)if(Array.isArray(l))for(let b=0;b<l.length;b++)y0(p,h,l[b],C,!1);else y0(p,h,l,C,!1)}function tg(s,a){if(null!==a){const l=a.type;if(3&l)return Hr(a,s);if(4&l)return ng(-1,s[a.index]);if(8&l){const c=a.child;if(null!==c)return tg(s,c);{const h=s[a.index];return To(h)?ng(-1,h):Jn(h)}}if(32&l)return Xp(a,s)()||Jn(s[a.index]);{const c=ph(s,a);return null!==c?Array.isArray(c)?c[0]:tg(ch(s[16]),c):tg(s,a.next)}}return null}function ph(s,a){return null!==a?s[16][6].projection[a.projection]:null}function ng(s,a){const l=10+s+1;if(l<a.length){const c=a[l],h=c[1].firstChild;if(null!==h)return tg(c,h)}return a[7]}function og(s,a,l,c,h,p,m){for(;null!=l;){const C=c[l.index],b=l.type;if(m&&0===a&&(C&&lo(Jn(C),c),l.flags|=4),64!=(64&l.flags))if(8&b)og(s,a,l.child,c,h,p,!1),Iu(a,s,h,C,p);else if(32&b){const E=Xp(l,c);let k;for(;k=E();)Iu(a,s,h,k,p);Iu(a,s,h,C,p)}else 16&b?T0(s,a,c,l,h,p):Iu(a,s,h,C,p);l=m?l.projectionNext:l.next}}function Sl(s,a,l,c,h,p){og(l,c,s.firstChild,a,h,p,!1)}function T0(s,a,l,c,h,p){const m=l[16],b=m[6].projection[c.projection];if(Array.isArray(b))for(let E=0;E<b.length;E++)Iu(a,s,h,b[E],p);else og(s,a,b,m[3],h,p,!0)}function w0(s,a,l){s.setAttribute(a,"style",l)}function fh(s,a,l){""===l?s.removeAttribute(a,"class"):s.setAttribute(a,"class",l)}function K_(s,a,l){let c=s.length;for(;;){const h=s.indexOf(a,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=a.length;if(h+p===c||s.charCodeAt(h+p)<=32)return h}l=h+1}}const Y_="ng-template";function b0(s,a,l){let c=0;for(;c<s.length;){let h=s[c++];if(l&&"class"===h){if(h=s[c],-1!==K_(h.toLowerCase(),a,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function A0(s){return 4===s.type&&s.value!==Y_}function _h(s,a,l){return a===(4!==s.type||l?s.value:Y_)}function ig(s,a,l){let c=4;const h=s.attrs||[],p=function D0(s){for(let a=0;a<s.length;a++)if(ol(s[a]))return a;return s.length}(h);let m=!1;for(let C=0;C<a.length;C++){const b=a[C];if("number"!=typeof b){if(!m)if(4&c){if(c=2|1&c,""!==b&&!_h(s,b,l)||""===b&&1===a.length){if(zo(c))return!1;m=!0}}else{const E=8&c?b:a[++C];if(8&c&&null!==s.attrs){if(!b0(s.attrs,E,l)){if(zo(c))return!1;m=!0}continue}const R=Tb(8&c?"class":b,h,A0(s),l);if(-1===R){if(zo(c))return!1;m=!0;continue}if(""!==E){let j;j=R>p?"":h[R+1].toLowerCase();const ne=8&c?j:null;if(ne&&-1!==K_(ne,E,0)||2&c&&E!==j){if(zo(c))return!1;m=!0}}}}else{if(!m&&!zo(c)&&!zo(b))return!1;if(m&&zo(b))continue;m=!1,c=b|1&c}}return zo(c)||m}function zo(s){return 0==(1&s)}function Tb(s,a,l,c){if(null===a)return-1;let h=0;if(c||!l){let p=!1;for(;h<a.length;){const m=a[h];if(m===s)return h;if(3===m||6===m)p=!0;else{if(1===m||2===m){let C=a[++h];for(;"string"==typeof C;)C=a[++h];continue}if(4===m)break;if(0===m){h+=4;continue}}h+=p?1:2}return-1}return function $x(s,a){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const c=s[l];if("number"==typeof c)return-1;if(c===a)return l;l++}return-1}(a,s)}function I0(s,a,l=!1){for(let c=0;c<a.length;c++)if(ig(s,a[c],l))return!0;return!1}function wb(s,a){return s?":not("+a.trim()+")":a}function Hx(s){let a=s[0],l=1,c=2,h="",p=!1;for(;l<s.length;){let m=s[l];if("string"==typeof m)if(2&c){const C=s[++l];h+="["+m+(C.length>0?'="'+C+'"':"")+"]"}else 8&c?h+="."+m:4&c&&(h+=" "+m);else""!==h&&!zo(m)&&(a+=wb(p,h),h=""),c=m,p=p||!zo(c);l++}return""!==h&&(a+=wb(p,h)),a}const Gt={};function S0(s){sg($t(),Ee(),Wn()+s,!1)}function sg(s,a,l,c){if(!c)if(3==(3&a[2])){const p=s.preOrderCheckHooks;null!==p&&gc(a,p,l)}else{const p=s.preOrderHooks;null!==p&&fc(a,p,0,l)}Bo(l)}function mh(s,a=null,l=null,c){const h=Oc(s,a,l,c);return h.resolveInjectorInitializers(),h}function Oc(s,a=null,l=null,c,h=new Set){const p=[l||jt,Kw(s)];return c=c||("object"==typeof s?void 0:he(s)),new A_(p,a||vu(),c||null,h)}let xl=(()=>{class s{static create(l,c){var h;if(Array.isArray(l))return mh({name:""},c,l,"");{const p=null!==(h=l.name)&&void 0!==h?h:"";return mh({name:p},l.parent,l.providers,p)}}}return s.THROW_IF_NOT_FOUND=hu,s.NULL=new C_,s.\u0275prov=rn({token:s,providedIn:"any",factory:()=>Sn(zw)}),s.__NG_ELEMENT_ID__=-1,s})();function Fc(s,a=yt.Default){const l=Ee();return null===l?Sn(s,a):Za(jn(),l,Y(s),a)}function L0(){throw new Error("invalid")}function vh(s,a){return s<<17|a<<2}function Ni(s){return s>>17&32767}function pg(s){return 2|s}function li(s){return(131068&s)>>2}function gg(s,a){return-131069&s|a<<2}function tm(s){return 1|s}function G0(s,a){const l=s.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const h=l[c],p=l[c+1];if(-1!==p){const m=s.data[p];Xu(h),m.contentQueries(2,a[p],p)}}}function Qn(s,a,l,c,h,p,m,C,b,E,k){const R=a.blueprint.slice();return R[0]=h,R[2]=76|c,(null!==k||s&&1024&s[2])&&(R[2]|=1024),bi(R),R[3]=R[15]=s,R[8]=l,R[10]=m||s&&s[10],R[11]=C||s&&s[11],R[12]=b||s&&s[12]||null,R[9]=E||s&&s[9]||null,R[6]=p,R[20]=function bl(){return ab++}(),R[21]=k,R[16]=2==a.type?s[16]:R,R}function qc(s,a,l,c,h){let p=s.data[a];if(null===p)p=function vg(s,a,l,c,h){const p=Yi(),m=zu(),b=s.data[a]=function Yb(s,a,l,c,h,p){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?p:p&&p.parent,l,a,c,h);return null===s.firstChild&&(s.firstChild=b),null!==p&&(m?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b)),b}(s,a,l,c,h),function kd(){return St.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=l,p.value=c,p.attrs=h;const m=function Ms(){const s=St.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();p.injectorIndex=null===m?-1:m.injectorIndex}return Pr(p,!0),p}function Zu(s,a,l,c){if(0===l)return-1;const h=a.length;for(let p=0;p<l;p++)a.push(c),s.blueprint.push(c),s.data.push(null);return h}function co(s,a,l){Os(a);try{const c=s.viewQuery;null!==c&&Ih(1,c,l);const h=s.template;null!==h&&dm(s,a,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&G0(s,a),s.staticViewQueries&&Ih(2,s.viewQuery,l);const p=s.components;null!==p&&function H0(s,a){for(let l=0;l<a.length;l++)Ba(s,a[l])}(a,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{a[2]&=-5,ou()}}function bh(s,a,l,c){const h=a[2];if(128!=(128&h)){Os(a);try{bi(a),function Qu(s){return St.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&dm(s,a,l,2,c);const m=3==(3&h);if(m){const E=s.preOrderCheckHooks;null!==E&&gc(a,E,null)}else{const E=s.preOrderHooks;null!==E&&fc(a,E,0,null),Ia(a,0)}if(function sA(s){for(let a=q_(s);null!==a;a=dh(a)){if(!a[2])continue;const l=a[9];for(let c=0;c<l.length;c++){const h=l[c],p=h[3];0==(512&h[2])&&zi(p,1),h[2]|=512}}}(a),function iA(s){for(let a=q_(s);null!==a;a=dh(a))for(let l=10;l<a.length;l++){const c=a[l],h=c[1];Fo(c)&&bh(h,c,h.template,c[8])}}(a),null!==s.contentQueries&&G0(s,a),m){const E=s.contentCheckHooks;null!==E&&gc(a,E)}else{const E=s.contentHooks;null!==E&&fc(a,E,1),Ia(a,1)}!function Wb(s,a){const l=s.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const h=l[c];if(h<0)Bo(~h);else{const p=h,m=l[++c],C=l[++c];nu(m,p),C(2,a[p])}}}finally{Bo(-1)}}(s,a);const C=s.components;null!==C&&function zb(s,a){for(let l=0;l<a.length;l++)i1(s,a[l])}(a,C);const b=s.viewQuery;if(null!==b&&Ih(2,b,c),m){const E=s.viewCheckHooks;null!==E&&gc(a,E)}else{const E=s.viewHooks;null!==E&&fc(a,E,2),Ia(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,zi(a[3],-1))}finally{ou()}}}function Qb(s,a,l,c){const h=a[10],m=Wi(a);try{!m&&h.begin&&h.begin(),m&&co(s,a,c),bh(s,a,l,c)}finally{!m&&h.end&&h.end()}}function dm(s,a,l,c,h){const p=Wn(),m=2&c;try{Bo(-1),m&&a.length>22&&sg(s,a,22,!1),l(c,h)}finally{Bo(p)}}function Kb(s,a,l){if(Ci(a)){const h=a.directiveEnd;for(let p=a.directiveStart;p<h;p++){const m=s.data[p];m.contentQueries&&m.contentQueries(1,l[p],p)}}}function J0(s,a,l){!Ns()||(function tA(s,a,l,c){const h=l.directiveStart,p=l.directiveEnd;s.firstCreatePass||ti(l,a),lo(c,a);const m=l.initialInputs;for(let C=h;C<p;C++){const b=s.data[C],E=Lo(b);E&&Ml(a,l,b);const k=ni(a,s,C,l);lo(k,a),null!==m&&na(0,C-h,k,b,0,m),E&&(lr(l.index,a)[8]=k)}}(s,a,l,Hr(l,a)),128==(128&l.flags)&&function e1(s,a,l){const c=l.directiveStart,h=l.directiveEnd,p=l.index,m=function Yu(){return St.lFrame.currentDirectiveIndex}();try{Bo(p);for(let C=c;C<h;C++){const b=s.data[C],E=a[C];Ta(C),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&t1(b,E)}}finally{Bo(-1),Ta(m)}}(s,a,l))}function Cg(s,a,l=Hr){const c=a.localNames;if(null!==c){let h=a.index+1;for(let p=0;p<c.length;p+=2){const m=c[p+1],C=-1===m?l(a,s):s[m];s[h++]=C}}}function hm(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=pm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function pm(s,a,l,c,h,p,m,C,b,E){const k=22+c,R=k+h,j=function ku(s,a){const l=[];for(let c=0;c<a;c++)l.push(c<s?null:Gt);return l}(k,R),ne="function"==typeof E?E():E;return j[1]={type:s,blueprint:j,template:l,queries:null,viewQuery:C,declTNode:a,data:j.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:ne,incompleteFirstPass:!1}}function gm(s,a,l,c){const h=Cm(a);null===l?h.push(c):(h.push(l),s.firstCreatePass&&Ag(s).push(c,h.length-1))}function z0(s,a,l){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(a,h):l[c]=[a,h]}return l}function Q0(s,a){const c=a.directiveEnd,h=s.data,p=a.attrs,m=[];let C=null,b=null;for(let E=a.directiveStart;E<c;E++){const k=h[E],R=k.inputs,j=null===p||A0(a)?null:a2(R,p);m.push(j),C=z0(R,E,C),b=z0(k.outputs,E,b)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=16),C.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=m,a.inputs=C,a.outputs=b}function Y0(s,a){const l=lr(a,s);16&l[2]||(l[2]|=32)}function fm(s,a,l,c){let h=!1;if(Ns()){const p=function mm(s,a,l){const c=s.directiveRegistry;let h=null;if(c)for(let p=0;p<c.length;p++){const m=c[p];I0(l,m.selectors,!1)&&(h||(h=[]),ns(ti(l,a),s,m.type),Lo(m)?(n1(s,l),h.unshift(m)):h.push(m))}return h}(s,a,l),m=null===c?null:{"":-1};if(null!==p){h=!0,oA(l,s.data.length,p.length);for(let k=0;k<p.length;k++){const R=p[k];R.providersResolver&&R.providersResolver(R)}let C=!1,b=!1,E=Zu(s,a,p.length,null);for(let k=0;k<p.length;k++){const R=p[k];l.mergedAttrs=js(l.mergedAttrs,R.hostAttrs),r1(s,l,a,E,R),rA(E,R,m),null!==R.contentQueries&&(l.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(l.flags|=128);const j=R.type.prototype;!C&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),C=!0),!b&&(j.ngOnChanges||j.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),b=!0),E++}Q0(s,l)}m&&function nA(s,a,l){if(a){const c=s.localNames=[];for(let h=0;h<a.length;h+=2){const p=l[a[h+1]];if(null==p)throw new Ie(-301,!1);c.push(a[h],p)}}}(l,c,m)}return l.mergedAttrs=js(l.mergedAttrs,l.attrs),h}function _m(s,a,l,c,h,p){const m=p.hostBindings;if(m){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const b=~a.index;(function eA(s){let a=s.length;for(;a>0;){const l=s[--a];if("number"==typeof l&&l<0)return l}return 0})(C)!=b&&C.push(b),C.push(c,h,m)}}function t1(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function n1(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function rA(s,a,l){if(l){if(a.exportAs)for(let c=0;c<a.exportAs.length;c++)l[a.exportAs[c]]=s;Lo(a)&&(l[""]=s)}}function oA(s,a,l){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+l,s.providerIndexes=a}function r1(s,a,l,c,h){s.data[c]=h;const p=h.factory||(h.factory=Zs(h.type)),m=new qs(p,Lo(h),Fc);s.blueprint[c]=m,l[c]=m,_m(s,a,0,c,Zu(s,l,h.hostVars,Gt),h)}function Ml(s,a,l){const c=Hr(a,s),h=hm(l),p=s[10],m=wg(s,Qn(s,h,null,l.onPush?32:16,c,a,p,p.createRenderer(c,l),null,null,null));s[a.index]=m}function ps(s,a,l,c,h,p){const m=Hr(s,a);!function Tg(s,a,l,c,h,p,m){if(null==p)s.removeAttribute(a,h,l);else{const C=null==m?Te(p):m(p,c||"",h);s.setAttribute(a,h,C,l)}}(a[11],m,p,s.value,l,c,h)}function na(s,a,l,c,h,p){const m=p[a];if(null!==m){const C=c.setInput;for(let b=0;b<m.length;){const E=m[b++],k=m[b++],R=m[b++];null!==C?c.setInput(l,R,E,k):l[k]=R}}}function a2(s,a){let l=null,c=0;for(;c<a.length;){const h=a[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],a[c+1])),c+=2}else c+=2;else c+=4}return l}function o1(s,a,l,c){return new Array(s,!0,!1,a,null,0,c,l,null,null)}function i1(s,a){const l=lr(a,s);if(Fo(l)){const c=l[1];48&l[2]?bh(c,l,c.template,l[8]):l[5]>0&&Vc(l)}}function Vc(s){for(let c=q_(s);null!==c;c=dh(c))for(let h=10;h<c.length;h++){const p=c[h];if(Fo(p))if(512&p[2]){const m=p[1];bh(m,p,m.template,p[8])}else p[5]>0&&Vc(p)}const l=s[1].components;if(null!==l)for(let c=0;c<l.length;c++){const h=lr(l[c],s);Fo(h)&&h[5]>0&&Vc(h)}}function Ba(s,a){const l=lr(a,s),c=l[1];(function l2(s,a){for(let l=a.length;l<s.blueprint.length;l++)a.push(s.blueprint[l])})(c,l),co(c,l,l[8])}function wg(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function ym(s){for(;s;){s[2]|=32;const a=ch(s);if(nc(s)&&!a)return s;s=a}return null}function a1(s){!function vm(s){for(let a=0;a<s.components.length;a++){const l=s.components[a],c=Nc(l);if(null!==c){const h=c[1];Qb(h,c,h.template,l)}}}(s[8])}function Ih(s,a,l){Xu(0),a(s,l)}const ze=(()=>Promise.resolve(null))();function Cm(s){return s[7]||(s[7]=[])}function Ag(s){return s.cleanup||(s.cleanup=[])}function Tm(s,a){const l=s[9],c=l?l.get(Zc,null):null;c&&c.handleError(a)}function Bc(s,a,l,c,h){for(let p=0;p<l.length;){const m=l[p++],C=l[p++],b=a[m],E=s.data[m];null!==E.setInput?E.setInput(b,h,c,C):b[C]=h}}function ja(s,a,l){const c=ya(a,s);!function B_(s,a,l){s.setValue(a,l)}(s[11],c,l)}function wm(s,a,l){let c=l?s.styles:null,h=l?s.classes:null,p=0;if(null!==a)for(let m=0;m<a.length;m++){const C=a[m];"number"==typeof C?p=C:1==p?h=ye(h,C):2==p&&(c=ye(c,C+": "+a[++m]+";"))}l?s.styles=c:s.stylesWithoutHost=c,l?s.classes=h:s.classesWithoutHost=h}function bm(s,a,l,c,h=!1){for(;null!==l;){const p=a[l.index];if(null!==p&&c.push(Jn(p)),To(p))for(let C=10;C<p.length;C++){const b=p[C],E=b[1].firstChild;null!==E&&bm(b[1],b,E,c)}const m=l.type;if(8&m)bm(s,a,l.child,c);else if(32&m){const C=Xp(l,a);let b;for(;b=C();)c.push(b)}else if(16&m){const C=ph(a,l);if(Array.isArray(C))c.push(...C);else{const b=ch(a[16]);bm(b[1],b,C,c,!0)}}l=h?l.projectionNext:l.next}return c}class Ig{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return bm(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(To(a)){const l=a[8],c=l?l.indexOf(this):-1;c>-1&&($_(a,c),Ra(l,c))}this._attachedToViewContainer=!1}f0(this._lView[1],this._lView)}onDestroy(a){gm(this._lView[1],this._lView,null,a)}markForCheck(){ym(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function bg(s,a,l){const c=a[10];c.begin&&c.begin();try{bh(s,a,s.template,l)}catch(h){throw Tm(a,h),h}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function eg(s,a){Sl(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=a}}class c2 extends Ig{constructor(a){super(a),this._view=a}detectChanges(){a1(this._view)}checkNoChanges(){}get context(){return null}}class l1 extends Tu{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=O(a);return new Eg(l,this.ngModule)}}function aA(s){const a=[];for(let l in s)s.hasOwnProperty(l)&&a.push({propName:s[l],templateName:l});return a}class h2{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,c){const h=this.injector.get(a,uh,c);return h!==uh||l===uh?h:this.parentInjector.get(a,l,c)}}class Eg extends ao{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function X_(s){return s.map(Hx).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return aA(this.componentDef.inputs)}get outputs(){return aA(this.componentDef.outputs)}create(a,l,c,h){let p=(h=h||this.ngModule)instanceof Cl?h:null==h?void 0:h.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const m=p?new h2(a,p):a,C=m.get(Xs,null);if(null===C)throw new Ie(407,!1);const b=m.get(Fa,null),E=C.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",R=c?function W0(s,a,l){return s.selectRootElement(a,l===lt.ShadowDom)}(E,c,this.componentDef.encapsulation):hs(C.createRenderer(null,this.componentDef),k,function d2(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(k)),j=this.componentDef.onPush?288:272,ne=function lA(s,a){return{components:[],scheduler:s||pb,clean:ze,playerHandler:a||null,flags:0}}(),Ce=pm(0,null,null,1,0,null,null,null,null,null),qe=Qn(null,Ce,ne,j,null,null,C,E,b,m,null);let Qe,se;Os(qe);try{const ut=function Am(s,a,l,c,h,p){const m=l[1];l[22]=s;const b=qc(m,22,2,"#host",null),E=b.mergedAttrs=a.hostAttrs;null!==E&&(wm(b,E,!0),null!==s&&(Ea(h,s,E),null!==b.classes&&fh(h,s,b.classes),null!==b.styles&&w0(h,s,b.styles)));const k=c.createRenderer(s,a),R=Qn(l,hm(a),null,a.onPush?32:16,l[22],b,c,k,p||null,null,null);return m.firstCreatePass&&(ns(ti(b,l),m,a.type),n1(m,b),oA(b,l.length,1)),wg(l,R),l[22]=R}(R,this.componentDef,qe,C,E);if(R)if(c)Ea(E,R,["ng-version",xc.full]);else{const{attrs:Ze,classes:bt}=function bb(s){const a=[],l=[];let c=1,h=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===h?""!==p&&a.push(p,s[++c]):8===h&&l.push(p);else{if(!zo(h))break;h=p}c++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);Ze&&Ea(E,R,Ze),bt&&bt.length>0&&fh(E,R,bt.join(" "))}if(se=Ji(Ce,22),void 0!==l){const Ze=se.projection=[];for(let bt=0;bt<this.ngContentSelectors.length;bt++){const Oe=l[bt];Ze.push(null!=Oe?Array.from(Oe):null)}}Qe=function h1(s,a,l,c,h){const p=l[1],m=function X0(s,a,l){const c=jn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),r1(s,c,a,Zu(s,a,1,null),l),Q0(s,c));const h=ni(a,s,c.directiveStart,c);lo(h,a);const p=Hr(c,a);return p&&lo(p,a),h}(p,l,a);if(c.components.push(m),s[8]=m,null!==h)for(const b of h)b(m,a);if(a.contentQueries){const b=jn();a.contentQueries(1,m,b.directiveStart)}const C=jn();return!p.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Bo(C.index),_m(l[1],C,0,C.directiveStart,C.directiveEnd,a),t1(a,m)),m}(ut,this.componentDef,qe,ne,[Im]),co(Ce,qe,null)}finally{ou()}return new c1(this.componentType,Qe,vr(se,qe),qe,se)}}class c1 extends class Wv{}{constructor(a,l,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new c2(h),this.componentType=a}setInput(a,l){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[a])){const p=this._rootLView;Bc(p[1],p,h,a,l),Y0(p,this._tNode.index)}}get injector(){return new $o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Im(){const s=jn();nl(Ee()[1],s)}function p1(s){let a=function cA(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const c=[s];for(;a;){let h;if(Lo(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ie(903,!1);h=a.\u0275dir}if(h){if(l){c.push(h);const m=s;m.inputs=Em(s.inputs),m.declaredInputs=Em(s.declaredInputs),m.outputs=Em(s.outputs);const C=h.hostBindings;C&&ra(s,C);const b=h.viewQuery,E=h.contentQueries;if(b&&f2(s,b),E&&_2(s,E),me(s.inputs,h.inputs),me(s.declaredInputs,h.declaredInputs),me(s.outputs,h.outputs),Lo(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let m=0;m<p.length;m++){const C=p[m];C&&C.ngInherit&&C(s),C===p1&&(l=!1)}}a=Object.getPrototypeOf(a)}!function dA(s){let a=0,l=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=a+=h.hostVars,h.hostAttrs=js(h.hostAttrs,l=js(l,h.hostAttrs))}}(c)}function Em(s){return s===En?{}:s===jt?[]:s}function f2(s,a){const l=s.viewQuery;s.viewQuery=l?(c,h)=>{a(c,h),l(c,h)}:a}function _2(s,a){const l=s.contentQueries;s.contentQueries=l?(c,h,p)=>{a(c,h,p),l(c,h,p)}:a}function ra(s,a){const l=s.hostBindings;s.hostBindings=l?(c,h)=>{a(c,h),l(c,h)}:a}let jc=null;function Rl(){if(!jc){const s=nt.Symbol;if(s&&s.iterator)jc=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const c=a[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(jc=c)}}}return jc}function Eh(s){return!!Dg(s)&&(Array.isArray(s)||!(s instanceof Map)&&Rl()in s)}function Dg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Qr(s,a,l){return!Object.is(s[a],l)&&(s[a]=l,!0)}function Ol(s,a,l,c){const h=Qr(s,a,l);return Qr(s,a+1,c)||h}function Dm(s,a,l,c){const h=Ee();return Qr(h,es(),a)&&($t(),ps(wn(),h,s,a,l,c)),Dm}function Sh(s,a,l,c,h,p,m,C){const E=function Sg(s,a,l,c,h){const p=Ol(s,a,l,c);return Qr(s,a+2,h)||p}(s,oo(),l,h,m);return Ao(3),E?a+Te(l)+c+Te(h)+p+Te(m)+C:Gt}function w1(s,a,l,c,h,p,m,C){const b=Ee(),E=$t(),k=s+22,R=E.firstCreatePass?function _A(s,a,l,c,h,p,m,C,b){const E=a.consts,k=qc(a,s,4,m||null,qo(E,C));fm(a,l,k,qo(E,b)),nl(a,k);const R=k.tViews=pm(2,k,c,h,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,E);return null!==a.queries&&(a.queries.template(a,k),R.queries=a.queries.embeddedTView(k)),k}(k,E,b,a,l,c,h,p,m):E.data[k];Pr(R,!1);const j=b[11].createComment("");hh(E,b,j,R),lo(j,b),wg(b,b[k]=o1(j,b,j,R)),Bi(R)&&J0(E,b,R),null!=m&&Cg(b,R,C)}function xm(s,a,l){const c=Ee();return Qr(c,es(),a)&&function ci(s,a,l,c,h,p,m,C){const b=Hr(a,l);let k,E=a.inputs;!C&&null!=E&&(k=E[c])?(Bc(s,l,k,c,h),ga(a)&&Y0(l,a.index)):3&a.type&&(c=function K0(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=m?m(h,a.value||"",c):h,p.setProperty(b,c,h))}($t(),wn(),c,s,a,c[11],l,!1),xm}function Zm(s,a,l,c,h){const m=h?"class":"style";Bc(s,l,a.inputs[m],m,c)}function xg(s,a,l,c){const h=Ee(),p=$t(),m=22+s,C=h[11],b=h[m]=hs(C,a,function pc(){return St.lFrame.currentNamespace}()),E=p.firstCreatePass?function vA(s,a,l,c,h,p,m){const C=a.consts,E=qc(a,s,2,h,qo(C,p));return fm(a,l,E,qo(C,m)),null!==E.attrs&&wm(E,E.attrs,!1),null!==E.mergedAttrs&&wm(E,E.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,E),E}(m,p,h,0,a,l,c):p.data[m];Pr(E,!0);const k=E.mergedAttrs;null!==k&&Ea(C,b,k);const R=E.classes;null!==R&&fh(C,b,R);const j=E.styles;return null!==j&&w0(C,b,j),64!=(64&E.flags)&&hh(p,h,b,E),0===function va(){return St.lFrame.elementDepthCount}()&&lo(b,h),function cc(){St.lFrame.elementDepthCount++}(),Bi(E)&&(J0(p,h,E),Kb(p,E,h)),null!==c&&Cg(h,E),xg}function Zg(){let s=jn();zu()?Xi():(s=s.parent,Pr(s,!1));const a=s;!function Ai(){St.lFrame.elementDepthCount--}();const l=$t();return l.firstCreatePass&&(nl(l,s),Ci(s)&&l.queries.elementEnd(s)),null!=a.classesWithoutHost&&function dr(s){return 0!=(16&s.flags)}(a)&&Zm(l,a,Ee(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Rd(s){return 0!=(32&s.flags)}(a)&&Zm(l,a,Ee(),a.stylesWithoutHost,!1),Zg}function km(s,a,l,c){return xg(s,a,l,c),Zg(),km}function Fl(s,a,l){const c=Ee(),h=$t(),p=s+22,m=h.firstCreatePass?function CA(s,a,l,c,h){const p=a.consts,m=qo(p,c),C=qc(a,s,8,"ng-container",m);return null!==m&&wm(C,m,!0),fm(a,l,C,qo(p,h)),null!==a.queries&&a.queries.elementStart(a,C),C}(p,h,c,a,l):h.data[p];Pr(m,!0);const C=c[p]=c[11].createComment("");return hh(h,c,C,m),lo(C,c),Bi(m)&&(J0(h,c,m),Kb(h,m,c)),null!=l&&Cg(c,m),Fl}function kg(){let s=jn();const a=$t();return zu()?Xi():(s=s.parent,Pr(s,!1)),a.firstCreatePass&&(nl(a,s),Ci(s)&&a.queries.elementEnd(s)),kg}function A1(){return Ee()}function Nm(s){return!!s&&"function"==typeof s.then}function I1(s){return!!s&&"function"==typeof s.subscribe}const E1=I1;function Um(s,a,l,c){const h=Ee(),p=$t(),m=jn();return function ql(s,a,l,c,h,p,m,C){const b=Bi(c),k=s.firstCreatePass&&Ag(s),R=a[8],j=Cm(a);let ne=!0;if(3&c.type||C){const Qe=Hr(c,a),se=C?C(Qe):Qe,ut=j.length,Ze=C?Oe=>C(Jn(Oe[c.index])):c.index;let bt=null;if(!C&&b&&(bt=function TA(s,a,l,c){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const m=h[p];if(m===l&&h[p+1]===c){const C=a[7],b=h[p+2];return C.length>b?C[b]:null}"string"==typeof m&&(p+=2)}return null}(s,a,h,c.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=p,bt.__ngLastListenerFn__=p,ne=!1;else{p=Ri(c,a,R,p,!1);const Oe=l.listen(se,h,p);j.push(p,Oe),k&&k.push(h,Ze,ut,ut+1)}}else p=Ri(c,a,R,p,!1);const Ce=c.outputs;let qe;if(ne&&null!==Ce&&(qe=Ce[h])){const Qe=qe.length;if(Qe)for(let se=0;se<Qe;se+=2){const it=a[qe[se]][qe[se+1]].subscribe(p),zl=j.length;j.push(p,it),k&&k.push(h,c.index,zl,-(zl+1))}}}(p,h,h[11],m,s,a,0,c),Um}function Mm(s,a,l,c){try{return!1!==l(c)}catch(h){return Tm(s,h),!1}}function Ri(s,a,l,c,h){return function p(m){if(m===Function)return c;ym(2&s.flags?lr(s.index,a):a);let b=Mm(a,0,c,m),E=p.__ngNextListenerFn__;for(;E;)b=Mm(a,0,E,m)&&b,E=E.__ngNextListenerFn__;return h&&!1===b&&(m.preventDefault(),m.returnValue=!1),b}}function S1(s=1){return function Nd(s){return(St.lFrame.contextLView=function Aa(s,a){for(;s>0;)a=a[15],s--;return a}(s,St.lFrame.contextLView))[8]}(s)}function R1(s,a,l,c,h){const p=s[l+1],m=null===a;let C=c?Ni(p):li(p),b=!1;for(;0!==C&&(!1===b||m);){const k=s[C+1];EA(s[C],a)&&(b=!0,s[C+1]=c?tm(k):pg(k)),C=c?Ni(k):li(k)}b&&(s[l+1]=c?pg(p):tm(p))}function EA(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Oa(s,a)>=0}function Lm(s,a){return function _s(s,a,l,c){const h=Ee(),p=$t(),m=Ao(2);p.firstUpdatePass&&function G1(s,a,l,c){const h=s.data;if(null===h[l+1]){const p=h[Wn()],m=function $1(s,a){return a>=s.expandoStartIndex}(s,l);(function z1(s,a){return 0!=(s.flags&(a?16:32))})(p,c)&&null===a&&!m&&(a=!1),a=function PA(s,a,l,c){const h=function wa(s){const a=St.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let p=c?a.residualClasses:a.residualStyles;if(null===h)0===(c?a.classBindings:a.styleBindings)&&(l=kh(l=Fm(null,s,a,l,c),a.attrs,c),p=null);else{const m=a.directiveStylingLast;if(-1===m||s[m]!==h)if(l=Fm(h,s,a,l,c),null===p){let b=function RA(s,a,l){const c=l?a.classBindings:a.styleBindings;if(0!==li(c))return s[Ni(c)]}(s,a,c);void 0!==b&&Array.isArray(b)&&(b=Fm(null,s,a,b[1],c),b=kh(b,a.attrs,c),function OA(s,a,l,c){s[Ni(l?a.classBindings:a.styleBindings)]=c}(s,a,c,b))}else p=function LA(s,a,l){let c;const h=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<h;p++)c=kh(c,s[p].hostAttrs,l);return kh(c,a.attrs,l)}(s,a,c)}return void 0!==p&&(c?a.residualClasses=p:a.residualStyles=p),l}(h,p,a,c),function IA(s,a,l,c,h,p){let m=p?a.classBindings:a.styleBindings,C=Ni(m),b=li(m);s[c]=l;let k,E=!1;if(Array.isArray(l)){const R=l;k=R[1],(null===k||Oa(R,k)>0)&&(E=!0)}else k=l;if(h)if(0!==b){const j=Ni(s[C+1]);s[c+1]=vh(j,C),0!==j&&(s[j+1]=gg(s[j+1],c)),s[C+1]=function hg(s,a){return 131071&s|a<<17}(s[C+1],c)}else s[c+1]=vh(C,0),0!==C&&(s[C+1]=gg(s[C+1],c)),C=c;else s[c+1]=vh(b,0),0===C?C=c:s[b+1]=gg(s[b+1],c),b=c;E&&(s[c+1]=pg(s[c+1])),R1(s,k,c,!0),R1(s,k,c,!1),function Vl(s,a,l,c,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof a&&Oa(p,a)>=0&&(l[c+1]=tm(l[c+1]))}(a,k,s,c,p),m=vh(C,b),p?a.classBindings=m:a.styleBindings=m}(h,p,a,l,m,c)}}(p,s,m,c),a!==Gt&&Qr(h,m,a)&&function J1(s,a,l,c,h,p,m,C){if(!(3&a.type))return;const b=s.data,E=b[C+1];Ng(function F0(s){return 1==(1&s)}(E)?W1(b,a,l,h,li(E),m):void 0)||(Ng(p)||function Ch(s){return 2==(2&s)}(E)&&(p=W1(b,null,l,h,C,m)),function vb(s,a,l,c,h){if(a)h?s.addClass(l,c):s.removeClass(l,c);else{let p=-1===c.indexOf("-")?void 0:Wo.DashCase;null==h?s.removeStyle(l,c,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Wo.Important),s.setStyle(l,c,h,p))}}(c,m,ya(Wn(),l),h,p))}(p,p.data[Wn()],h,h[11],s,h[m+1]=function VA(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=he(mn(s)))),s}(a,l),c,m)}(s,a,null,!0),Lm}function Fm(s,a,l,c,h){let p=null;const m=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<m&&(p=a[C],c=kh(c,p.hostAttrs,h),p!==s);)C++;return null!==s&&(l.directiveStylingLast=C),c}function kh(s,a,l){const c=l?1:2;let h=-1;if(null!==a)for(let p=0;p<a.length;p++){const m=a[p];"number"==typeof m?h=m:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),mr(s,m,!!l||a[++p]))}return void 0===s?null:s}function W1(s,a,l,c,h,p){const m=null===a;let C;for(;h>0;){const b=s[h],E=Array.isArray(b),k=E?b[1]:b,R=null===k;let j=l[h+1];j===Gt&&(j=R?jt:void 0);let ne=R?Cc(j,c):k===c?j:void 0;if(E&&!Ng(ne)&&(ne=Cc(b,c)),Ng(ne)&&(C=ne,m))return C;const Ce=s[h+1];h=m?Ni(Ce):li(Ce)}if(null!==a){let b=p?a.residualClasses:a.residualStyles;null!=b&&(C=Cc(b,c))}return C}function Ng(s){return void 0!==s}function Q1(s,a=""){const l=Ee(),c=$t(),h=s+22,p=c.firstCreatePass?qc(c,h,1,a,null):c.data[h],m=l[h]=function V_(s,a){return s.createText(a)}(l[11],a);hh(c,l,m,p),Pr(p,!1)}function qm(s){return Ug("",s,""),qm}function Ug(s,a,l){const c=Ee(),h=function Mi(s,a,l,c){return Qr(s,es(),l)?a+Te(l)+c:Gt}(c,s,a,l);return h!==Gt&&ja(c,Wn(),h),Ug}function Vm(s,a,l,c,h){const p=Ee(),m=function Dh(s,a,l,c,h,p){const C=Ol(s,oo(),l,h);return Ao(2),C?a+Te(l)+c+Te(h)+p:Gt}(p,s,a,l,c,h);return m!==Gt&&ja(p,Wn(),m),Vm}function Bm(s,a,l,c,h,p,m){const C=Ee(),b=Sh(C,s,a,l,c,h,p,m);return b!==Gt&&ja(C,Wn(),b),Bm}const Bl=void 0;var iI=["en",[["a","p"],["AM","PM"],Bl],[["AM","PM"],Bl,Bl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bl,"{1} 'at' {0}",Bl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Nu(s){const l=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let Jc={};function $m(s){const a=function sI(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=Uu(a);if(l)return l;const c=a.split("-")[0];if(l=Uu(c),l)return l;if("en"===c)return iI;throw new Ie(701,!1)}function Pg(s){return $m(s)[xt.PluralCase]}function Uu(s){return s in Jc||(Jc[s]=nt.ng&&nt.ng.common&&nt.ng.common.locales&&nt.ng.common.locales[s]),Jc[s]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const Wc="en-US";let pC=Wc;function Hm(s,a,l,c,h){if(s=Y(s),Array.isArray(s))for(let p=0;p<s.length;p++)Hm(s[p],a,l,c,h);else{const p=$t(),m=Ee();let C=Ec(s)?s:Y(s.provide),b=Hv(s);const E=jn(),k=1048575&E.providerIndexes,R=E.directiveStart,j=E.providerIndexes>>20;if(Ec(s)||!s.multi){const ne=new qs(b,h,Fc),Ce=Wm(C,a,h?k:k+j,R);-1===Ce?(ns(ti(E,m),p,C),Jm(p,s,a.length),a.push(C),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),l.push(ne),m.push(ne)):(l[Ce]=ne,m[Ce]=ne)}else{const ne=Wm(C,a,k+j,R),Ce=Wm(C,a,k,k+j),qe=ne>=0&&l[ne],Qe=Ce>=0&&l[Ce];if(h&&!Qe||!h&&!qe){ns(ti(E,m),p,C);const se=function jl(s,a,l,c,h){const p=new qs(s,l,Fc);return p.multi=[],p.index=a,p.componentProviders=0,LC(p,h,c&&!l),p}(h?eE:XI,l.length,h,c,b);!h&&Qe&&(l[Ce].providerFactory=se),Jm(p,s,a.length,0),a.push(C),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),l.push(se),m.push(se)}else Jm(p,s,ne>-1?ne:Ce,LC(l[h?Ce:ne],b,!h&&c));!h&&c&&Qe&&l[Ce].componentProviders++}}}function Jm(s,a,l,c){const h=Ec(a),p=function Ct(s){return!!s.useClass}(a);if(h||p){const b=(p?Y(a.useClass):a).prototype.ngOnDestroy;if(b){const E=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const k=E.indexOf(l);-1===k?E.push(l,[c,b]):E[k+1].push(c,b)}else E.push(l,b)}}}function LC(s,a,l){return l&&s.componentProviders++,s.multi.push(a)-1}function Wm(s,a,l,c){for(let h=l;h<c;h++)if(a[h]===s)return h;return-1}function XI(s,a,l,c){return zm(this.multi,[])}function eE(s,a,l,c){const h=this.multi;let p;if(this.providerFactory){const m=this.providerFactory.componentProviders,C=ni(l,l[1],this.providerFactory.index,c);p=C.slice(0,m),zm(h,p);for(let b=m;b<C.length;b++)p.push(C[b])}else p=[],zm(h,p);return p}function zm(s,a){for(let l=0;l<s.length;l++)a.push((0,s[l])());return a}function Vg(s,a=[]){return l=>{l.providersResolver=(c,h)=>function YI(s,a,l){const c=$t();if(c.firstCreatePass){const h=Lo(s);Hm(l,c.data,c.blueprint,h,!0),Hm(a,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,a)}}class Qc{}class FC{}function tE(s,a){return new qC(s,null!=a?a:null)}class qC extends Qc{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new l1(this);const c=oe(a);this._bootstrapComponents=xo(c.bootstrap),this._r3Injector=Oc(a,l,[{provide:Qc,useValue:this},{provide:Tu,useValue:this.componentFactoryResolver}],he(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Qm extends FC{constructor(a){super(),this.moduleType=a}create(a){return new qC(this.moduleType,a)}}class nE extends Qc{constructor(a,l,c){super(),this.componentFactoryResolver=new l1(this),this.instance=null;const h=new A_([...a,{provide:Qc,useValue:this},{provide:Tu,useValue:this.componentFactoryResolver}],l||vu(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Km(s,a,l=null){return new nE(s,a,l).injector}function Xm(s,a,l,c){return JC(Ee(),cr(),s,a,l,c)}function JC(s,a,l,c,h,p){const m=a+l;return Qr(s,m,h)?function oa(s,a,l){return s[a]=l}(s,m+1,p?c.call(p,h):c(h)):function Rh(s,a){const l=s[a];return l===Gt?void 0:l}(s,m+1)}function YC(s,a){const l=$t();let c;const h=s+22;l.firstCreatePass?(c=function wE(s,a){if(a)for(let l=a.length-1;l>=0;l--){const c=a[l];if(s===c.name)return c}}(a,l.pipeRegistry),l.data[h]=c,c.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,c.onDestroy)):c=l.data[h];const p=c.factory||(c.factory=Zs(c.type)),m=un(Fc);try{const C=xa(!1),b=p();return xa(C),function mA(s,a,l,c){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),a[l]=c}(l,Ee(),h,b),b}finally{un(m)}}function XC(s,a,l){const c=s+22,h=Ee(),p=function ei(s,a){return s[a]}(h,c);return function Oh(s,a){return s[1].data[a].pure}(h,c)?JC(h,cr(),a,p.transform,l,p):p.transform(l)}function ey(s){return a=>{setTimeout(s,void 0,a)}}const di=class DE extends e.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,c){var h,p,m;let C=a,b=l||(()=>null),E=c;if(a&&"object"==typeof a){const R=a;C=null===(h=R.next)||void 0===h?void 0:h.bind(R),b=null===(p=R.error)||void 0===p?void 0:p.bind(R),E=null===(m=R.complete)||void 0===m?void 0:m.bind(R)}this.__isAsync&&(b=ey(b),C&&(C=ey(C)),E&&(E=ey(E)));const k=super.subscribe({next:C,error:b,complete:E});return a instanceof V.w0&&a.add(k),k}};function SE(){return this._results[Rl()]()}class hn{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Rl(),c=hn.prototype;c[l]||(c[l]=SE)}get changes(){return this._changes||(this._changes=new di)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const c=this;c.dirty=!1;const h=rr(a);(this._changesDetected=!function Gd(s,a,l){if(s.length!==a.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],p=a[c];if(l&&(h=l(h),p=l(p)),p!==h)return!1}return!0}(c._results,h,l))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ys=(()=>{class s{}return s.__NG_ELEMENT_ID__=Kr,s})();const Pu=ys,Bg=class extends Pu{constructor(a,l,c){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(a,l){const c=this._declarationTContainer.tViews,h=Qn(this._declarationLView,c,a,16,null,c.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(h[19]=m.createEmbeddedView(c)),co(c,h,a),new Ig(h)}};function Kr(){return Kc(jn(),Ee())}function Kc(s,a){return 4&s.type?new Bg(a,s,vr(s,a)):null}let jg=(()=>{class s{}return s.__NG_ELEMENT_ID__=xE,s})();function xE(){return tT(jn(),Ee())}const vs=jg,ZE=class extends vs{constructor(a,l,c){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=c}get element(){return vr(this._hostTNode,this._hostLView)}get injector(){return new $o(this._hostTNode,this._hostLView)}get parentInjector(){const a=au(this._hostTNode,this._hostLView);if(Fd(a)){const l=tr(a,this._hostLView),c=Sa(a);return new $o(l[1].data[c+8],l)}return new $o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=eT(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,c){let h,p;"number"==typeof c?h=c:null!=c&&(h=c.index,p=c.injector);const m=a.createEmbeddedView(l||{},p);return this.insert(m,h),m}createComponent(a,l,c,h,p){const m=a&&!function Ma(s){return"function"==typeof s}(a);let C;if(m)C=l;else{const R=l||{};C=R.index,c=R.injector,h=R.projectableNodes,p=R.environmentInjector||R.ngModuleRef}const b=m?a:new Eg(O(a)),E=c||this.parentInjector;if(!p&&null==b.ngModule){const j=(m?E:this.parentInjector).get(Cl,null);j&&(p=j)}const k=b.create(E,h,void 0,p);return this.insert(k.hostView,C),k}insert(a,l){const c=a._lView,h=c[1];if(function wi(s){return To(s[3])}(c)){const k=this.indexOf(a);if(-1!==k)this.detach(k);else{const R=c[3],j=new ZE(R,R[6],R[3]);j.detach(j.indexOf(a))}}const p=this._adjustIndex(l),m=this._lContainer;!function fb(s,a,l,c){const h=10+c,p=l.length;c>0&&(l[h-1][4]=a),c<p-10?(a[4]=l[h],Pa(l,10+c,a)):(l.push(a),a[4]=null),a[3]=l;const m=a[17];null!==m&&l!==m&&function _b(s,a){const l=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===l?s[9]=[a]:l.push(a)}(m,a);const C=a[19];null!==C&&C.insertView(s),a[2]|=64}(h,c,m,p);const C=ng(p,m),b=c[11],E=Rc(b,m[7]);return null!==E&&function Eu(s,a,l,c,h,p){c[0]=h,c[6]=a,Sl(s,c,l,1,h,p)}(h,m[6],b,c,E,C),a.attachToViewContainerRef(),Pa(be(m),p,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=eT(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),c=$_(this._lContainer,l);c&&(Ra(be(this._lContainer),l),f0(c[1],c))}detach(a){const l=this._adjustIndex(a,-1),c=$_(this._lContainer,l);return c&&null!=Ra(be(this._lContainer),l)?new Ig(c):null}_adjustIndex(a,l=0){return null==a?this.length+l:a}};function eT(s){return s[8]}function be(s){return s[8]||(s[8]=[])}function tT(s,a){let l;const c=a[s.index];if(To(c))l=c;else{let h;if(8&s.type)h=Jn(c);else{const p=a[11];h=p.createComment("");const m=Hr(s,a);El(p,Rc(p,m),h,function Va(s,a){return s.nextSibling(a)}(p,m),!1)}a[s.index]=l=o1(c,a,h,s),wg(a,l)}return new ZE(l,s,a)}class Ft{constructor(a){this.queryList=a,this.matches=null}clone(){return new Ft(this.queryList)}setDirty(){this.queryList.setDirty()}}class Yc{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const c=null!==a.contentQueries?a.contentQueries[0]:l.length,h=[];for(let p=0;p<c;p++){const m=l.getByIndex(p);h.push(this.queries[m.indexInDeclarationView].clone())}return new Yc(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==sT(a,l).matches&&this.queries[l].setDirty()}}class Lh{constructor(a,l,c=null){this.predicate=a,this.flags=l,this.read=c}}class $l{constructor(a=[]){this.queries=a}elementStart(a,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let c=0;c<this.length;c++){const h=null!==l?l.length:0,p=this.getByIndex(c).embeddedTView(a,h);p&&(p.indexInDeclarationView=c,null!==l?l.push(p):l=[p])}return null!==l?new $l(l):null}template(a,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class ty{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new ty(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=a.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(a,l,ny(l,p)),this.matchTNodeWithReadOption(a,l,ka(l,a,p,!1,!1))}else c===ys?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,ka(l,a,c,!1,!1))}matchTNodeWithReadOption(a,l,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===wu||h===jg||h===ys&&4&l.type)this.addMatch(l.index,-2);else{const p=ka(l,a,h,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,c)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function ny(s,a){const l=s.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===a)return l[c+1];return null}function NE(s,a,l,c){return-1===l?function kE(s,a){return 11&s.type?vr(s,a):4&s.type?Kc(s,a):null}(a,s):-2===l?function UE(s,a,l){return l===wu?vr(a,s):l===ys?Kc(a,s):l===jg?tT(a,s):void 0}(s,a,c):ni(s,s[1],l,a)}function Yr(s,a,l,c){const h=a[19].queries[c];if(null===h.matches){const p=s.data,m=l.matches,C=[];for(let b=0;b<m.length;b+=2){const E=m[b];C.push(E<0?null:NE(a,p[E],m[b+1],l.metadata.read))}h.matches=C}return h.matches}function Xc(s,a,l,c){const h=s.queries.getByIndex(l),p=h.matches;if(null!==p){const m=Yr(s,a,h,l);for(let C=0;C<p.length;C+=2){const b=p[C];if(b>0)c.push(m[C/2]);else{const E=p[C+1],k=a[-b];for(let R=10;R<k.length;R++){const j=k[R];j[17]===j[3]&&Xc(j[1],j,E,c)}if(null!==k[9]){const R=k[9];for(let j=0;j<R.length;j++){const ne=R[j];Xc(ne[1],ne,E,c)}}}}}return c}function Fr(s){const a=Ee(),l=$t(),c=Rs();Xu(c+1);const h=sT(l,c);if(s.dirty&&Wi(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Xc(l,a,c,[]):Yr(l,a,h,c);s.reset(p,zv),s.notifyOnChanges()}return!0}return!1}function Ga(s,a,l){const c=$t();c.firstCreatePass&&(ry(c,new Lh(s,a,l),-1),2==(2&a)&&(c.staticViewQueries=!0)),$g(c,Ee(),a)}function rT(s,a,l,c){const h=$t();if(h.firstCreatePass){const p=jn();ry(h,new Lh(a,l,c),p.index),function ho(s,a){const l=s.contentQueries||(s.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,a)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}$g(h,Ee(),l)}function oT(){return function iT(s,a){return s[19].queries[a].queryList}(Ee(),Rs())}function $g(s,a,l){const c=new hn(4==(4&l));gm(s,a,c,c.destroy),null===a[19]&&(a[19]=new Yc),a[19].queries.push(new Ft(c))}function ry(s,a,l){null===s.queries&&(s.queries=new $l),s.queries.track(new ty(a,l))}function sT(s,a){return s.queries.getByIndex(a)}function Ou(s){const a=O(s)||N(s)||L(s);return null!==a&&a.standalone}function Vh(...s){}const Bh=new Jt("Application Initializer");let nd=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Vh,this.reject=Vh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Nm(p))l.push(p);else if(E1(p)){const m=new Promise((C,b)=>{p.subscribe({complete:C,error:b})});l.push(m)}}Promise.all(l).then(()=>{c()}).catch(h=>{this.reject(h)}),0===l.length&&c(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Sn(Bh,8))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const af=new Jt("AppId",{providedIn:"root",factory:function yy(){return`${Hl()}${Hl()}${Hl()}`}});function Hl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vy=new Jt("Platform Initializer"),CT=new Jt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Cy=new Jt("appBootstrapListener");let FE=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const uf=new Jt("LocaleId",{providedIn:"root",factory:()=>Js(uf,yt.Optional|yt.SkipSelf)||function rd(){return"undefined"!=typeof $localize&&$localize.locale||Wc}()}),qE=new Jt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class TT{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let jh=(()=>{class s{compileModuleSync(l){return new Qm(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const c=this.compileModuleSync(l),p=xo(oe(l).declarations).reduce((m,C)=>{const b=O(C);return b&&m.push(new Eg(b)),m},[]);return new TT(c,p)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const AT=(()=>Promise.resolve(0))();function lf(s){"undefined"==typeof Zone?AT.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Zo{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new di(!1),this.onMicrotaskEmpty=new di(!1),this.onStable=new di(!1),this.onError=new di(!1),"undefined"==typeof Zone)throw new Ie(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&l,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Gh(){let s=nt.requestAnimationFrame,a=nt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&a){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Jh(s){const a=()=>{!function cf(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(nt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,df(s),s.isCheckStableRunning=!0,Hh(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),df(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,h,p,m,C)=>{try{return IT(s),l.invokeTask(h,p,m,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&a(),hf(s)}},onInvoke:(l,c,h,p,m,C,b)=>{try{return IT(s),l.invoke(h,p,m,C,b)}finally{s.shouldCoalesceRunChangeDetection&&a(),hf(s)}},onHasTask:(l,c,h,p)=>{l.hasTask(h,p),c===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,df(s),Hh(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,c,h,p)=>(l.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zo.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(Zo.isInAngularZone())throw new Ie(909,!1)}run(a,l,c){return this._inner.run(a,l,c)}runTask(a,l,c,h){const p=this._inner,m=p.scheduleEventTask("NgZoneEvent: "+h,a,by,Vh,Vh);try{return p.runTask(m,l,c)}finally{p.cancelTask(m)}}runGuarded(a,l,c){return this._inner.runGuarded(a,l,c)}runOutsideAngular(a){return this._outer.run(a)}}const by={};function Hh(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function df(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function IT(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function hf(s){s._nesting--,Hh(s)}class pf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new di,this.onMicrotaskEmpty=new di,this.onStable=new di,this.onError=new di}run(a,l,c){return a.apply(l,c)}runGuarded(a,l,c){return a.apply(l,c)}runOutsideAngular(a){return a()}runTask(a,l,c,h){return a.apply(l,c)}}const gf=new Jt(""),Ay=new Jt("");let Ha,ET=(()=>{class s{constructor(l,c,h){this._ngZone=l,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ha||(function jE(s){Ha=s}(h),h.addToWindow(c)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zo.assertNotInAngularZone(),lf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lf(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==p),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:h})}whenStable(l,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,c,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(Sn(Zo),Sn(Iy),Sn(Ay))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})(),Iy=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){var h;return null!==(h=null==Ha?void 0:Ha.findTestabilityInTree(this,l,c))&&void 0!==h?h:null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Cs=null;const Wh=new Jt("AllowMultipleToken"),Jl=new Jt("PlatformDestroyListeners");class DT{constructor(a,l){this.name=a,this.token=l}}function zh(s,a,l=[]){const c=`Platform: ${a}`,h=new Jt(c);return(p=[])=>{let m=sd();if(!m||m.injector.get(Wh,!1)){const C=[...l,...p,{provide:h,useValue:!0}];s?s(C):function ST(s){if(Cs&&!Cs.get(Wh,!1))throw new Ie(400,!1);Cs=s;const a=s.get(ad);(function Lu(s){const a=s.get(vy,null);a&&a.forEach(l=>l())})(s)}(function Dy(s=[],a){return xl.create({name:a,providers:[{provide:ki,useValue:"platform"},{provide:Jl,useValue:new Set([()=>Cs=null])},...s]})}(C,c))}return function ff(s){const a=sd();if(!a)throw new Ie(401,!1);return a}()}}function sd(){var s;return null!==(s=null==Cs?void 0:Cs.get(ad))&&void 0!==s?s:null}let ad=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const h=function HE(s,a){let l;return l="noop"===s?new pf:("zone.js"===s?void 0:s)||new Zo(a),l}(null==c?void 0:c.ngZone,function ud(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:Zo,useValue:h}];return h.run(()=>{const m=xl.create({providers:p,parent:this.injector,name:l.moduleType.name}),C=l.create(m),b=C.injector.get(Zc,null);if(!b)throw new Ie(402,!1);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:k=>{b.handleError(k)}});C.onDestroy(()=>{mf(this._modules,C),E.unsubscribe()})}),function Sy(s,a,l){try{const c=l();return Nm(c)?c.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw a.runOutsideAngular(()=>s.handleError(c)),c}}(b,h,()=>{const E=C.injector.get(nd);return E.runInitializers(),E.donePromise.then(()=>(function Og(s){Bt(s,"Expected localeId to be defined"),"string"==typeof s&&(pC=s.toLowerCase().replace(/_/g,"-"))}(C.injector.get(uf,Wc)||Wc),this._moduleDoBootstrap(C),C))})})}bootstrapModule(l,c=[]){const h=xT({},c);return function Ey(s,a,l){const c=new Qm(l);return Promise.resolve(c)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(l){const c=l.injector.get(_f);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Ie(403,!1);l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const l=this._injector.get(Jl,null);l&&(l.forEach(c=>c()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(Sn(xl))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function xT(s,a){return Array.isArray(a)?a.reduce(xT,s):Object.assign(Object.assign({},s),a)}let _f=(()=>{class s{constructor(l,c,h){this._zone=l,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new U.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),m=new U.y(C=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{Zo.assertNotInAngularZone(),lf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const E=this._zone.onUnstable.subscribe(()=>{Zo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{b.unsubscribe(),E.unsubscribe()}});this.isStable=(0,ie.T)(p,m.pipe((0,le.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,c){const h=l instanceof ao;if(!this._injector.get(nd).done)throw!h&&Ou(l),new Ie(405,false);let m;m=h?l:this._injector.get(Tu).resolveComponentFactory(l),this.componentTypes.push(m.componentType);const C=function $E(s){return s.isBoundToModule}(m)?void 0:this._injector.get(Qc),E=m.create(xl.NULL,[],c||m.selector,C),k=E.location.nativeElement,R=E.injector.get(gf,null);return null==R||R.registerApplication(k),E.onDestroy(()=>{this.detachView(E.hostView),mf(this.components,E),null==R||R.unregisterApplication(k)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;mf(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Cy,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>mf(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Ie(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(Sn(Zo),Sn(Cl),Sn(Zc))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function mf(s,a){const l=s.indexOf(a);l>-1&&s.splice(l,1)}let Ja=!0,xy=!1;function kT(){return xy=!0,Ja}function NT(){if(xy)throw new Error("Cannot enable prod mode after platform setup.");Ja=!1}let MT=(()=>{class s{}return s.__NG_ELEMENT_ID__=JE,s})();function JE(s){return function PT(s,a,l){if(ga(s)&&!l){const c=lr(s.index,a);return new Ig(c,c)}return 47&s.type?new Ig(a[16],a):null}(jn(),Ee(),16==(16&s))}class Ny{constructor(){}supports(a){return Eh(a)}create(a){return new FT(a)}}const LT=(s,a)=>a;class FT{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||LT}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,c=this._removalsHead,h=0,p=null;for(;l||c;){const m=!c||l&&l.currentIndex<Uy(c,h,p)?l:c,C=Uy(m,h,p),b=m.currentIndex;if(m===c)h--,c=c._nextRemoved;else if(l=l._next,null==m.previousIndex)h++;else{p||(p=[]);const E=C-h,k=b-h;if(E!=k){for(let j=0;j<E;j++){const ne=j<p.length?p[j]:p[j]=0,Ce=ne+j;k<=Ce&&Ce<E&&(p[j]=ne+1)}p[m.previousIndex]=k-E}}C!==b&&a(m,C,b)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!Eh(a))throw new Ie(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,p,m,l=this._itHead,c=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)p=a[C],m=this._trackByFn(C,p),null!==l&&Object.is(l.trackById,m)?(c&&(l=this._verifyReinsertion(l,p,m,C)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,m,C),c=!0),l=l._next}else h=0,function fs(s,a){if(Array.isArray(s))for(let l=0;l<s.length;l++)a(s[l]);else{const l=s[Rl()]();let c;for(;!(c=l.next()).done;)a(c.value)}}(a,C=>{m=this._trackByFn(h,C),null!==l&&Object.is(l.trackById,m)?(c&&(l=this._verifyReinsertion(l,C,m,h)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,m,h),c=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,c,h){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,p,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,p,h)):a=this._addAfter(new Cf(l,c),p,h),a}_verifyReinsertion(a,l,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?a=this._reinsertAfter(p,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,p=a._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(a,l,c),this._addToMoves(a,c),a}_moveAfter(a,l,c){return this._unlink(a),this._insertAfter(a,l,c),this._addToMoves(a,c),a}_addAfter(a,l,c){return this._insertAfter(a,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,c){const h=null===l?this._itHead:l._next;return a._next=h,a._prev=l,null===h?this._itTail=a:h._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new da),this._linkedRecords.put(a),a.currentIndex=c,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,c=a._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new da),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Cf{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qT{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,a))return c;return null}remove(a){const l=a._prevDup,c=a._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class da{constructor(){this.map=new Map}put(a){const l=a.trackById;let c=this.map.get(l);c||(c=new qT,this.map.set(l,c)),c.add(a)}get(a,l){const h=this.map.get(a);return h?h.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Uy(s,a,l){const c=s.previousIndex;if(null===c)return c;let h=0;return l&&c<l.length&&(h=l[c]),c+a+h}class My{constructor(){}supports(a){return a instanceof Map||Dg(a)}create(){return new Py}}class Py{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||Dg(a)))throw new Ie(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(c,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(h,c);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const c=a._prev;return l._next=a,l._prev=c,a._prev=l,c&&(c._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,l);const p=h._prev,m=h._next;return p&&(p._next=m),m&&(m._prev=p),h._next=null,h._prev=null,h}const c=new np(a);return this._records.set(a,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(c=>l(a[c],c))}}class np{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ry(){return new rp([new Ny])}let rp=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(null!=c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||Ry()),deps:[[s,new je,new ue]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(null!=c)return c;throw new Ie(901,!1)}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:Ry}),s})();function Ly(){return new ld([new My])}let ld=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||Ly()),deps:[[s,new je,new ue]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(c)return c;throw new Ie(901,!1)}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:Ly}),s})();const BT=zh(null,"core",[]);let Fy=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(Sn(_f))},s.\u0275mod=wt({type:s}),s.\u0275inj=qt({}),s})();function qy(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(st,we,P)=>{P.d(we,{Z:()=>Ie});var e=P(2090),V=P(4859),U=P(9681),ie=P(1877);class le{constructor(Te,fe){this._delegate=Te,this.firebase=fe,(0,U._addComponent)(Te,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=Te.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this._delegate.automaticDataCollectionEnabled=Te}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Te=>{this._delegate.checkDestroyed(),Te()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(Te,fe=U._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(Te);return!Ye.isInitialized()&&"EXPLICIT"===(null===(et=Ye.getComponent())||void 0===et?void 0:et.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:fe})}_removeServiceInstance(Te,fe=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Te).clearInstance(fe)}_addComponent(Te){(0,U._addComponent)(this._delegate,Te)}_addOrOverwriteComponent(Te){(0,U._addOrOverwriteComponent)(this._delegate,Te)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new e.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function ye(){const at=function he(at){const Te={},fe={__esModule:!0,initializeApp:function Pe(re,ce={}){const ve=U.initializeApp(re,ce);if((0,e.r3)(Te,ve.name))return Te[ve.name];const Q=new at(ve,fe);return Te[ve.name]=Q,Q},app:Ye,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function Ae(re){const ce=re.name,ve=ce.replace("-compat","");if(U._registerComponent(re)&&"PUBLIC"===re.type){const Q=(X=Ye())=>{if("function"!=typeof X[ve])throw me.create("invalid-app-argument",{appName:ce});return X[ve]()};void 0!==re.serviceProps&&(0,e.ZB)(Q,re.serviceProps),fe[ve]=Q,at.prototype[ve]=function(...X){return this._getService.bind(this,ce).apply(this,re.multipleInstances?X:[])}}return"PUBLIC"===re.type?fe[ve]:null},removeApp:function et(re){delete Te[re]},useAsService:function He(re,ce){return"serverAuth"===ce?null:ce},modularAPIs:U}};function Ye(re){if(!(0,e.r3)(Te,re=re||U._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:re});return Te[re]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function ke(){return Object.keys(Te).map(re=>Te[re])}}),Ye.App=at,fe}(le);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function Te(fe){(0,e.ZB)(at,fe)},createSubscribe:e.ne,ErrorFactory:e.LL,deepExtend:e.ZB}),at}(),$=new ie.Yd("@firebase/app-compat");if((0,e.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ie=H;!function Ue(at){(0,U.registerVersion)("@firebase/app-compat","0.1.37",at)}()},9681:(st,we,P)=>{P.r(we),P.d(we,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>vo,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>nn,_addOrOverwriteComponent:()=>rn,_apps:()=>gn,_clearComponents:()=>yo,_components:()=>In,_getProvider:()=>qt,_registerComponent:()=>zt,_removeServiceInstance:()=>Nr,deleteApp:()=>yt,getApp:()=>Hn,getApps:()=>Ro,initializeApp:()=>Br,onLog:()=>un,registerVersion:()=>ur,setLogLevel:()=>gr});var e=P(5861),V=P(4859),U=P(1877),ie=P(2090),le=P(8766);class _e{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(tt=>{if(function me(Xe){const Se=Xe.getComponent();return"VERSION"===(null==Se?void 0:Se.type)}(tt)){const Tt=tt.getImmediate();return`${Tt.library}/${Tt.version}`}return null}).filter(tt=>tt).join(" ")}}const he="@firebase/app",H=new U.Yd("@firebase/app"),Bt="[DEFAULT]",Je={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gn=new Map,In=new Map;function nn(Xe,Se){try{Xe.container.addComponent(Se)}catch(tt){H.debug(`Component ${Se.name} failed to register with FirebaseApp ${Xe.name}`,tt)}}function rn(Xe,Se){Xe.container.addOrOverwriteComponent(Se)}function zt(Xe){const Se=Xe.name;if(In.has(Se))return H.debug(`There were multiple attempts to register component ${Se}.`),!1;In.set(Se,Xe);for(const tt of gn.values())nn(tt,Xe);return!0}function qt(Xe,Se){const tt=Xe.container.getProvider("heartbeat").getImmediate({optional:!0});return tt&&tt.triggerHeartbeat(),Xe.container.getProvider(Se)}function Nr(Xe,Se,tt=Bt){qt(Xe,Se).clearInstance(tt)}function yo(){In.clear()}const kn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Po{constructor(Se,tt,Tt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},tt),this._name=tt.name,this._automaticDataCollectionEnabled=tt.automaticDataCollectionEnabled,this._container=Tt,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}const vo="9.12.1";function Br(Xe,Se={}){let tt=Xe;"object"!=typeof Se&&(Se={name:Se});const Tt=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},Se),wt=Tt.name;if("string"!=typeof wt||!wt)throw kn.create("bad-app-name",{appName:String(wt)});if(tt||(tt=(0,ie.aH)()),!tt)throw kn.create("no-options");const on=gn.get(wt);if(on){if((0,ie.vZ)(tt,on.options)&&(0,ie.vZ)(Tt,on.config))return on;throw kn.create("duplicate-app",{appName:wt})}const G=new V.H0(wt);for(const z of In.values())G.addComponent(z);const B=new Po(tt,Tt,G);return gn.set(wt,B),B}function Hn(Xe=Bt){const Se=gn.get(Xe);if(!Se&&Xe===Bt)return Br();if(!Se)throw kn.create("no-app",{appName:Xe});return Se}function Ro(){return Array.from(gn.values())}function yt(Xe){return fn.apply(this,arguments)}function fn(){return(fn=(0,e.Z)(function*(Xe){const Se=Xe.name;gn.has(Se)&&(gn.delete(Se),yield Promise.all(Xe.container.getProviders().map(tt=>tt.delete())),Xe.isDeleted=!0)})).apply(this,arguments)}function ur(Xe,Se,tt){var Tt;let wt=null!==(Tt=Je[Xe])&&void 0!==Tt?Tt:Xe;tt&&(wt+=`-${tt}`);const on=wt.match(/\s|\//),G=Se.match(/\s|\//);if(on||G){const B=[`Unable to register library "${wt}" with version "${Se}":`];return on&&B.push(`library name "${wt}" contains illegal characters (whitespace or "/")`),on&&G&&B.push("and"),G&&B.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void H.warn(B.join(" "))}zt(new V.wA(`${wt}-version`,()=>({library:wt,version:Se}),"VERSION"))}function un(Xe,Se){if(null!==Xe&&"function"!=typeof Xe)throw kn.create("invalid-log-argument");(0,U.Am)(Xe,Se)}function gr(Xe){(0,U.Ub)(Xe)}const _n="firebase-heartbeat-store";let Ur=null;function Cn(){return Ur||(Ur=(0,le.X3)("firebase-heartbeat-database",1,{upgrade:(Xe,Se)=>{0===Se&&Xe.createObjectStore(_n)}}).catch(Xe=>{throw kn.create("idb-open",{originalErrorMessage:Xe.message})})),Ur}function nt(){return(nt=(0,e.Z)(function*(Xe){var Se;try{return(yield Cn()).transaction(_n).objectStore(_n).get(En(Xe))}catch(tt){if(tt instanceof ie.ZR)H.warn(tt.message);else{const Tt=kn.create("idb-get",{originalErrorMessage:null===(Se=tt)||void 0===Se?void 0:Se.message});H.warn(Tt.message)}}})).apply(this,arguments)}function bn(Xe,Se){return jr.apply(this,arguments)}function jr(){return(jr=(0,e.Z)(function*(Xe,Se){var tt;try{const wt=(yield Cn()).transaction(_n,"readwrite");return yield wt.objectStore(_n).put(Se,En(Xe)),wt.done}catch(Tt){if(Tt instanceof ie.ZR)H.warn(Tt.message);else{const wt=kn.create("idb-set",{originalErrorMessage:null===(tt=Tt)||void 0===tt?void 0:tt.message});H.warn(wt.message)}}})).apply(this,arguments)}function En(Xe){return`${Xe.name}!${Xe.options.appId}`}class $r{constructor(Se){this.container=Se,this._heartbeatsCache=null;const tt=this.container.getProvider("app").getImmediate();this._storage=new Lt(tt),this._heartbeatsCachePromise=this._storage.read().then(Tt=>(this._heartbeatsCache=Tt,Tt))}triggerHeartbeat(){var Se=this;return(0,e.Z)(function*(){const Tt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wt=Ot();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==wt&&!Se._heartbeatsCache.heartbeats.some(on=>on.date===wt))return Se._heartbeatsCache.heartbeats.push({date:wt,agent:Tt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(on=>{const G=new Date(on.date).valueOf();return Date.now()-G<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,e.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const tt=Ot(),{heartbeatsToSend:Tt,unsentEntries:wt}=function Co(Xe,Se=1024){const tt=[];let Tt=Xe.slice();for(const wt of Xe){const on=tt.find(G=>G.agent===wt.agent);if(on){if(on.dates.push(wt.date),Mr(tt)>Se){on.dates.pop();break}}else if(tt.push({agent:wt.agent,dates:[wt.date]}),Mr(tt)>Se){tt.pop();break}Tt=Tt.slice(1)}return{heartbeatsToSend:tt,unsentEntries:Tt}}(Se._heartbeatsCache.heartbeats),on=(0,ie.L)(JSON.stringify({version:2,heartbeats:Tt}));return Se._heartbeatsCache.lastSentHeartbeatDate=tt,wt.length>0?(Se._heartbeatsCache.heartbeats=wt,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),on})()}}function Ot(){return(new Date).toISOString().substring(0,10)}class Lt{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,e.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,e.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function lt(Xe){return nt.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var tt=this;return(0,e.Z)(function*(){var Tt;if(yield tt._canUseIndexedDBPromise){const on=yield tt.read();return bn(tt.app,{lastSentHeartbeatDate:null!==(Tt=Se.lastSentHeartbeatDate)&&void 0!==Tt?Tt:on.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var tt=this;return(0,e.Z)(function*(){var Tt;if(yield tt._canUseIndexedDBPromise){const on=yield tt.read();return bn(tt.app,{lastSentHeartbeatDate:null!==(Tt=Se.lastSentHeartbeatDate)&&void 0!==Tt?Tt:on.lastSentHeartbeatDate,heartbeats:[...on.heartbeats,...Se.heartbeats]})}})()}}function Mr(Xe){return(0,ie.L)(JSON.stringify({version:2,heartbeats:Xe})).length}!function qn(Xe){zt(new V.wA("platform-logger",Se=>new _e(Se),"PRIVATE")),zt(new V.wA("heartbeat",Se=>new $r(Se),"PRIVATE")),ur(he,"0.8.2",Xe),ur(he,"0.8.2","esm2017"),ur("fire-js","")}("")},4859:(st,we,P)=>{P.d(we,{H0:()=>he,wA:()=>U});var e=P(5861),V=P(2090);class U{constructor(H,$,Y){this.name=H,this.instanceFactory=$,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ie="[DEFAULT]";class le{constructor(H,$){this.name=H,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const $=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has($)){const Y=new V.BH;if(this.instancesDeferred.set($,Y),this.isInitialized($)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:$});Ve&&Y.resolve(Ve)}catch(Ve){}}return this.instancesDeferred.get($).promise}getImmediate(H){var $;const Y=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),Ve=null!==($=null==H?void 0:H.optional)&&void 0!==$&&$;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Ue){if(Ve)return null;throw Ue}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function me(ye){return"EAGER"===ye.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ie})}catch($){}for(const[$,Y]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier($);try{const Ue=this.getOrInitializeService({instanceIdentifier:Ve});Y.resolve(Ue)}catch(Ue){}}}}clearInstance(H=ie){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,e.Z)(function*(){const $=Array.from(H.instances.values());yield Promise.all([...$.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...$.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ie){return this.instances.has(H)}getOptions(H=ie){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:$={}}=H,Y=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:Y,options:$});for(const[Ue,Ie]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Ue)&&Ie.resolve(Ve);return Ve}onInit(H,$){var Y;const Ve=this.normalizeInstanceIdentifier($),Ue=null!==(Y=this.onInitCallbacks.get(Ve))&&void 0!==Y?Y:new Set;Ue.add(H),this.onInitCallbacks.set(Ve,Ue);const Ie=this.instances.get(Ve);return Ie&&H(Ie,Ve),()=>{Ue.delete(H)}}invokeOnInitCallbacks(H,$){const Y=this.onInitCallbacks.get($);if(Y)for(const Ve of Y)try{Ve(H,$)}catch(Ue){}}getOrInitializeService({instanceIdentifier:H,options:$={}}){let Y=this.instances.get(H);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=H,ye===ie?void 0:ye),options:$}),this.instances.set(H,Y),this.instancesOptions.set(H,$),this.invokeOnInitCallbacks(Y,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,Y)}catch(Ve){}var ye;return Y||null}normalizeInstanceIdentifier(H=ie){return this.component?this.component.multipleInstances?H:ie:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const $=this.getProvider(H.name);if($.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);$.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const $=new le(H,this);return this.providers.set(H,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(st,we,P)=>{P.d(we,{Am:()=>ye,Ub:()=>he,Yd:()=>me,in:()=>V});const e=[];var V=(()=>{return(H=V||(V={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",V;var H})();const U={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},ie=V.INFO,le={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},_e=(H,$,...Y)=>{if($<H.logLevel)return;const Ve=(new Date).toISOString(),Ue=le[$];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Ue](`[${Ve}]  ${H.name}:`,...Y)};class me{constructor($){this.name=$,this._logLevel=ie,this._logHandler=_e,this._userLogHandler=null,e.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in V))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?U[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...$),this._logHandler(this,V.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...$),this._logHandler(this,V.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,V.INFO,...$),this._logHandler(this,V.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,V.WARN,...$),this._logHandler(this,V.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...$),this._logHandler(this,V.ERROR,...$)}}function he(H){e.forEach($=>{$.setLogLevel(H)})}function ye(H,$){for(const Y of e){let Ve=null;$&&$.level&&(Ve=U[$.level]),Y.userLogHandler=null===H?null:(Ue,Ie,...at)=>{const Te=at.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch(et){return null}}).filter(fe=>fe).join(" ");Ie>=(null!=Ve?Ve:Ue.logLevel)&&H({level:V[Ie].toLowerCase(),message:Te,args:at,type:Ue.name})}}}},8766:(st,we,P)=>{P.d(we,{Lj:()=>Pe,X3:()=>Ye});var e=P(5861);let U,ie;const me=new WeakMap,he=new WeakMap,ye=new WeakMap,H=new WeakMap,$=new WeakMap;let Ue={get(ce,ve,Q){if(ce instanceof IDBTransaction){if("done"===ve)return he.get(ce);if("objectStoreNames"===ve)return ce.objectStoreNames||ye.get(ce);if("store"===ve)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return fe(ce[ve])},set:(ce,ve,Q)=>(ce[ve]=Q,!0),has:(ce,ve)=>ce instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in ce};function Te(ce){return"function"==typeof ce?function at(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...ve){return ce.apply(et(this),ve),fe(me.get(this))}:function(...ve){return fe(ce.apply(et(this),ve))}:function(ve,...Q){const X=ce.call(et(this),ve,...Q);return ye.set(X,ve.sort?ve.sort():[ve]),fe(X)}}(ce):(ce instanceof IDBTransaction&&function Ve(ce){if(he.has(ce))return;const ve=new Promise((Q,X)=>{const pe=()=>{ce.removeEventListener("complete",ae),ce.removeEventListener("error",Le),ce.removeEventListener("abort",Le)},ae=()=>{Q(),pe()},Le=()=>{X(ce.error||new DOMException("AbortError","AbortError")),pe()};ce.addEventListener("complete",ae),ce.addEventListener("error",Le),ce.addEventListener("abort",Le)});he.set(ce,ve)}(ce),((ce,ve)=>ve.some(Q=>ce instanceof Q))(ce,function le(){return U||(U=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,Ue):ce)}function fe(ce){if(ce instanceof IDBRequest)return function Y(ce){const ve=new Promise((Q,X)=>{const pe=()=>{ce.removeEventListener("success",ae),ce.removeEventListener("error",Le)},ae=()=>{Q(fe(ce.result)),pe()},Le=()=>{X(ce.error),pe()};ce.addEventListener("success",ae),ce.addEventListener("error",Le)});return ve.then(Q=>{Q instanceof IDBCursor&&me.set(Q,ce)}).catch(()=>{}),$.set(ve,ce),ve}(ce);if(H.has(ce))return H.get(ce);const ve=Te(ce);return ve!==ce&&(H.set(ce,ve),$.set(ve,ce)),ve}const et=ce=>$.get(ce);function Ye(ce,ve,{blocked:Q,upgrade:X,blocking:pe,terminated:ae}={}){const Le=indexedDB.open(ce,ve),Fe=fe(Le);return X&&Le.addEventListener("upgradeneeded",mt=>{X(fe(Le.result),mt.oldVersion,mt.newVersion,fe(Le.transaction))}),Q&&Le.addEventListener("blocked",()=>Q()),Fe.then(mt=>{ae&&mt.addEventListener("close",()=>ae()),pe&&mt.addEventListener("versionchange",()=>pe())}).catch(()=>{}),Fe}function Pe(ce,{blocked:ve}={}){const Q=indexedDB.deleteDatabase(ce);return ve&&Q.addEventListener("blocked",()=>ve()),fe(Q).then(()=>{})}const ke=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],He=new Map;function re(ce,ve){if(!(ce instanceof IDBDatabase)||ve in ce||"string"!=typeof ve)return;if(He.get(ve))return He.get(ve);const Q=ve.replace(/FromIndex$/,""),X=ve!==Q,pe=Ae.includes(Q);if(!(Q in(X?IDBIndex:IDBObjectStore).prototype)||!pe&&!ke.includes(Q))return;const ae=function(){var Le=(0,e.Z)(function*(Fe,...mt){const an=this.transaction(Fe,pe?"readwrite":"readonly");let Bt=an.store;return X&&(Bt=Bt.index(mt.shift())),(yield Promise.all([Bt[Q](...mt),pe&&an.done]))[0]});return function(mt){return Le.apply(this,arguments)}}();return He.set(ve,ae),ae}!function Ie(ce){Ue=ce(Ue)}(ce=>QU(zU({},ce),{get:(ve,Q,X)=>re(ve,Q)||ce.get(ve,Q,X),has:(ve,Q)=>!!re(ve,Q)||ce.has(ve,Q)}))},5861:(st,we,P)=>{function e(U,ie,le,_e,me,he,ye){try{var H=U[he](ye),$=H.value}catch(Y){return void le(Y)}H.done?ie($):Promise.resolve($).then(_e,me)}function V(U){return function(){var ie=this,le=arguments;return new Promise(function(_e,me){var he=U.apply(ie,le);function ye($){e(he,_e,me,ye,H,"next",$)}function H($){e(he,_e,me,ye,H,"throw",$)}ye(void 0)})}}P.d(we,{Z:()=>V})}},st=>{st(st.s=8830)}]);