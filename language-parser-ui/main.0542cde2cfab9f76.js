"use strict";var bL=Object.defineProperty,AL=Object.defineProperties,IL=Object.getOwnPropertyDescriptors,YN=Object.getOwnPropertySymbols,EL=Object.prototype.hasOwnProperty,DL=Object.prototype.propertyIsEnumerable,XN=(rt,Te,P)=>Te in rt?bL(rt,Te,{enumerable:!0,configurable:!0,writable:!0,value:P}):rt[Te]=P,eM=(rt,Te)=>{for(var P in Te||(Te={}))EL.call(Te,P)&&XN(rt,P,Te[P]);if(YN)for(var P of YN(Te))DL.call(Te,P)&&XN(rt,P,Te[P]);return rt},tM=(rt,Te)=>AL(rt,IL(Te));(self.webpackChunklanguage_parser_ui=self.webpackChunklanguage_parser_ui||[]).push([["main"],{2011:(rt,Te,P)=>{P.d(Te,{Dh:()=>ce,GT:()=>he,cc:()=>Ne,hO:()=>Ve,on:()=>G,pX:()=>ue,xv:()=>_e});var e=P(5e3),L=P(127),M=P(5813);rt=P.hmd(rt);const re=["ngOnDestroy"],ue=(ge,ot,dt,Be={})=>new Proxy(ge,{get:(ke,Ee)=>dt.runOutsideAngular(()=>{var Qe;if(ge[Ee])return!(null===(Qe=null==Be?void 0:Be.spy)||void 0===Qe)&&Qe.get&&Be.spy.get(Ee,ge[Ee]),ge[Ee];if(re.indexOf(Ee)>-1)return()=>{};const He=ot.toPromise().then(Ce=>{const De=Ce&&Ce[Ee];return"function"==typeof De?De.bind(Ce):De&&De.then?De.then(Y=>dt.run(()=>Y)):dt.run(()=>De)});return new Proxy(()=>{},{get:(Ce,De)=>He[De],apply:(Ce,De,Y)=>He.then(ie=>{var oe;const me=ie&&ie(...Y);return!(null===(oe=null==Be?void 0:Be.spy)||void 0===oe)&&oe.apply&&Be.spy.apply(Ee,Y,me),me})})})}),he=(ge,ot)=>{ot.forEach(dt=>{Object.getOwnPropertyNames(dt.prototype||dt).forEach(Be=>{Object.defineProperty(ge.prototype,Be,Object.getOwnPropertyDescriptor(dt.prototype||dt,Be))})})};class de{constructor(ot){return ot}}const ce=new e.OlP("angularfire2.app.options"),_e=new e.OlP("angularfire2.app.name");function G(ge,ot,dt){const ke="object"==typeof dt&&dt||{};ke.name=ke.name||"string"==typeof dt&&dt||"[DEFAULT]";const Qe=L.Z.apps.filter(He=>He&&He.name===ke.name)[0]||ot.runOutsideAngular(()=>L.Z.initializeApp(ge,ke));try{JSON.stringify(ge)!==JSON.stringify(Qe.options)&&H("error",`${Qe.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(He){}return new de(Qe)}const H=(ge,...ot)=>{(0,e.X6Q)()&&"undefined"!=typeof console&&console[ge](...ot)},X={provide:de,useFactory:G,deps:[ce,e.R0b,[new e.FiY,_e]]};let Ve=(()=>{class ge{constructor(dt){L.Z.registerVersion("angularfire",M.q4.full,"core"),L.Z.registerVersion("angularfire",M.q4.full,"app-compat"),L.Z.registerVersion("angular",e.q4F.full,dt.toString())}static initializeApp(dt,Be){return{ngModule:ge,providers:[{provide:ce,useValue:dt},{provide:_e,useValue:Be}]}}}return ge.\u0275fac=function(dt){return new(dt||ge)(e.LFG(e.Lbi))},ge.\u0275mod=e.oAB({type:ge}),ge.\u0275inj=e.cJS({providers:[X]}),ge})();function Ne(ge,ot,dt,Be,ke){const[,Ee,Qe]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===ge)||[];if(Ee)return function we(ge,ot){try{return ge.toString()===ot.toString()}catch(dt){return ge===ot}}(ke,Qe)||(ve("error",`${ot} was already initialized on the ${dt} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:ke,was:Qe})),Ee;{const He=Be();return globalThis.\u0275AngularfireInstanceCache.push([ge,He,ke]),He}}const it=!!rt.hot,ve=(ge,...ot)=>{(0,e.X6Q)()&&"undefined"!=typeof console&&console[ge](...ot)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(rt,Te,P)=>{P.d(Te,{q4:()=>Pc,iC:()=>Gs,HU:()=>oh,vb:()=>bm,JM:()=>Sa});var e=P(5e3),L=P(5867),M=P(5861),re=P(9681),ue=P(2090),he=P(4859),de=P(1877),ce=P(8766);const _e="@firebase/installations",G="0.5.12",X=`w:${G}`,Ve="FIS_v2",ot=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function dt(A){return A instanceof ue.ZR&&A.code.includes("request-failed")}function Be({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function ke(A){return{token:A.token,requestStatus:2,expiresIn:ie(A.expiresIn),creationTime:Date.now()}}function Ee(A,I){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,M.Z)(function*(A,I){const O=(yield I.json()).error;return ot.create("request-failed",{requestName:A,serverCode:O.code,serverMessage:O.message,serverStatus:O.status})})).apply(this,arguments)}function He({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function Ce(A,{refreshToken:I}){const k=He(A);return k.append("Authorization",function oe(A){return`${Ve} ${A}`}(I)),k}function De(A){return Y.apply(this,arguments)}function Y(){return(Y=(0,M.Z)(function*(A){const I=yield A();return I.status>=500&&I.status<600?A():I})).apply(this,arguments)}function ie(A){return Number(A.replace("s","000"))}function me(A,I){return le.apply(this,arguments)}function le(){return(le=(0,M.Z)(function*({appConfig:A,heartbeatServiceProvider:I},{fid:k}){const O=Be(A),K=He(A),ae=I.getImmediate({optional:!0});if(ae){const Ot=yield ae.getHeartbeatsHeader();Ot&&K.append("x-firebase-client",Ot)}const Ge={method:"POST",headers:K,body:JSON.stringify({fid:k,authVersion:Ve,appId:A.appId,sdkVersion:X})},ut=yield De(()=>fetch(O,Ge));if(ut.ok){const Ot=yield ut.json();return{fid:Ot.fid||k,registrationStatus:2,refreshToken:Ot.refreshToken,authToken:ke(Ot.authToken)}}throw yield Ee("Create Installation",ut)})).apply(this,arguments)}function Fe(A){return new Promise(I=>{setTimeout(I,A)})}const en=/^[cdef][\w-]{21}$/;function Ke(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const k=function Tn(A){return function vt(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return en.test(k)?k:""}catch(A){return""}}function Vn(A){return`${A.appName}!${A.appId}`}const yn=new Map;function tn(A,I){const k=Vn(A);Pn(k,I),function ho(A,I){const k=function gn(){return!vn&&"BroadcastChannel"in self&&(vn=new BroadcastChannel("[Firebase] FID Change"),vn.onmessage=A=>{Pn(A.data.key,A.data.fid)}),vn}();k&&k.postMessage({key:A,fid:I}),function Ei(){0===yn.size&&vn&&(vn.close(),vn=null)}()}(k,I)}function Pn(A,I){const k=yn.get(A);if(k)for(const O of k)O(I)}let vn=null;const Ue="firebase-installations-store";let or=null;function st(){return or||(or=(0,ce.X3)("firebase-installations-database",1,{upgrade:(A,I)=>{0===I&&A.createObjectStore(Ue)}})),or}function Tr(A,I){return nn.apply(this,arguments)}function nn(){return(nn=(0,M.Z)(function*(A,I){const k=Vn(A),K=(yield st()).transaction(Ue,"readwrite"),ae=K.objectStore(Ue),xe=yield ae.get(k);return yield ae.put(I,k),yield K.done,(!xe||xe.fid!==I.fid)&&tn(A,I.fid),I})).apply(this,arguments)}function Jt(A){return wr.apply(this,arguments)}function wr(){return(wr=(0,M.Z)(function*(A){const I=Vn(A),O=(yield st()).transaction(Ue,"readwrite");yield O.objectStore(Ue).delete(I),yield O.done})).apply(this,arguments)}function Vr(A,I){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,M.Z)(function*(A,I){const k=Vn(A),K=(yield st()).transaction(Ue,"readwrite"),ae=K.objectStore(Ue),xe=yield ae.get(k),Ge=I(xe);return void 0===Ge?yield ae.delete(k):yield ae.put(Ge,k),yield K.done,Ge&&(!xe||xe.fid!==Ge.fid)&&tn(A,Ge.fid),Ge})).apply(this,arguments)}function In(A){return xr.apply(this,arguments)}function xr(){return(xr=(0,M.Z)(function*(A){let I;const k=yield Vr(A.appConfig,O=>{const K=As(O),ae=qt(A,K);return I=ae.registrationPromise,ae.installationEntry});return""===k.fid?{installationEntry:yield I}:{installationEntry:k,registrationPromise:I}})).apply(this,arguments)}function As(A){return rn(A||{fid:Ke(),registrationStatus:0})}function qt(A,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(ot.create("app-offline"))};const k={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},O=function We(A,I){return _t.apply(this,arguments)}(A,k);return{installationEntry:k,registrationPromise:O}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:ai(A)}:{installationEntry:I}}function _t(){return(_t=(0,M.Z)(function*(A,I){try{const k=yield me(A,I);return Tr(A.appConfig,k)}catch(k){throw dt(k)&&409===k.customData.serverCode?yield Jt(A.appConfig):yield Tr(A.appConfig,{fid:I.fid,registrationStatus:0}),k}})).apply(this,arguments)}function ai(A){return ir.apply(this,arguments)}function ir(){return(ir=(0,M.Z)(function*(A){let I=yield at(A.appConfig);for(;1===I.registrationStatus;)yield Fe(100),I=yield at(A.appConfig);if(0===I.registrationStatus){const{installationEntry:k,registrationPromise:O}=yield In(A);return O||k}return I})).apply(this,arguments)}function at(A){return Vr(A,I=>{if(!I)throw ot.create("installation-not-found");return rn(I)})}function rn(A){return function Fn(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function Un(A,I){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,M.Z)(function*({appConfig:A,heartbeatServiceProvider:I},k){const O=En(A,k),K=Ce(A,k),ae=I.getImmediate({optional:!0});if(ae){const Ot=yield ae.getHeartbeatsHeader();Ot&&K.append("x-firebase-client",Ot)}const Ge={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:X,appId:A.appId}})},ut=yield De(()=>fetch(O,Ge));if(ut.ok)return ke(yield ut.json());throw yield Ee("Generate Auth Token",ut)})).apply(this,arguments)}function En(A,{fid:I}){return`${Be(A)}/${I}/authTokens:generate`}function B(A){return j.apply(this,arguments)}function j(){return(j=(0,M.Z)(function*(A,I=!1){let k;const O=yield Vr(A.appConfig,ae=>{if(!yt(ae))throw ot.create("not-registered");const xe=ae.authToken;if(!I&&ln(xe))return ae;if(1===xe.requestStatus)return k=F(A,I),ae;{if(!navigator.onLine)throw ot.create("app-offline");const Ge=pr(ae);return k=Ze(A,Ge),Ge}});return k?yield k:O.authToken})).apply(this,arguments)}function F(A,I){return J.apply(this,arguments)}function J(){return(J=(0,M.Z)(function*(A,I){let k=yield z(A.appConfig);for(;1===k.authToken.requestStatus;)yield Fe(100),k=yield z(A.appConfig);const O=k.authToken;return 0===O.requestStatus?B(A,I):O})).apply(this,arguments)}function z(A){return Vr(A,I=>{if(!yt(I))throw ot.create("not-registered");return function te(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Ze(A,I){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,M.Z)(function*(A,I){try{const k=yield Un(A,I),O=Object.assign(Object.assign({},I),{authToken:k});return yield Tr(A.appConfig,O),k}catch(k){if(!dt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const O=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Tr(A.appConfig,O)}else yield Jt(A.appConfig);throw k}})).apply(this,arguments)}function yt(A){return void 0!==A&&2===A.registrationStatus}function ln(A){return 2===A.requestStatus&&!function on(A){const I=Date.now();return I<A.creationTime||A.creationTime+A.expiresIn<I+36e5}(A)}function pr(A){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:I})}function V(){return(V=(0,M.Z)(function*(A){const I=A,{installationEntry:k,registrationPromise:O}=yield In(I);return O?O.catch(console.error):B(I).catch(console.error),k.fid})).apply(this,arguments)}function qe(){return(qe=(0,M.Z)(function*(A,I=!1){const k=A;return yield St(k),(yield B(k,I)).token})).apply(this,arguments)}function St(A){return At.apply(this,arguments)}function At(){return(At=(0,M.Z)(function*(A){const{registrationPromise:I}=yield In(A);I&&(yield I)})).apply(this,arguments)}function mn(A){return ot.create("missing-app-config-values",{valueName:A})}const Br="installations",Gn=A=>{const I=A.getProvider("app").getImmediate(),k=function kt(A){if(!A||!A.options)throw mn("App Configuration");if(!A.name)throw mn("App Name");const I=["projectId","apiKey","appId"];for(const k of I)if(!A.options[k])throw mn(k);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(I);return{app:I,appConfig:k,heartbeatServiceProvider:(0,re._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},oo=A=>{const I=A.getProvider("app").getImmediate(),k=(0,re._getProvider)(I,Br).getImmediate();return{getId:()=>function q(A){return V.apply(this,arguments)}(k),getToken:K=>function ye(A){return qe.apply(this,arguments)}(k,K)}};(function cn(){(0,re._registerComponent)(new he.wA(Br,Gn,"PUBLIC")),(0,re._registerComponent)(new he.wA("installations-internal",oo,"PRIVATE"))})(),(0,re.registerVersion)(_e,G),(0,re.registerVersion)(_e,G,"esm2017");const io="@firebase/remote-config",fr=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pc{constructor(I,k,O,K){this.client=I,this.storage=k,this.storageCache=O,this.logger=K}isCachedDataFresh(I,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const O=Date.now()-k,K=O<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${O}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${K}.`),K}fetch(I){var k=this;return(0,M.Z)(function*(){const[O,K]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(K&&k.isCachedDataFresh(I.cacheMaxAgeMillis,O))return K;I.eTag=K&&K.eTag;const ae=yield k.client.fetch(I),xe=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&xe.push(k.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(xe),ae})()}}function Jp(A=navigator){return A.languages&&A.languages[0]||A.language}class Bd{constructor(I,k,O,K,ae,xe){this.firebaseInstallations=I,this.sdkVersion=k,this.namespace=O,this.projectId=K,this.apiKey=ae,this.appId=xe}fetch(I){var k=this;return(0,M.Z)(function*(){var O,K,ae;const[xe,Ge]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Ot=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Rt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},mt={sdk_version:k.sdkVersion,app_instance_id:xe,app_instance_id_token:Ge,app_id:k.appId,language_code:Jp()},ar={method:"POST",headers:Rt,body:JSON.stringify(mt)},$n=fetch(Ot,ar),Vi=new Promise((_i,fs)=>{I.signal.addEventListener(()=>{const fl=new Error("The operation was aborted.");fl.name="AbortError",fs(fl)})});let Bi;try{yield Promise.race([$n,Vi]),Bi=yield $n}catch(_i){let fs="fetch-client-network";throw"AbortError"===(null===(O=_i)||void 0===O?void 0:O.name)&&(fs="fetch-timeout"),fr.create(fs,{originalErrorMessage:null===(K=_i)||void 0===K?void 0:K.message})}let Er=Bi.status;const ds=Bi.headers.get("ETag")||void 0;let hs,ps;if(200===Bi.status){let _i;try{_i=yield Bi.json()}catch(fs){throw fr.create("fetch-client-parse",{originalErrorMessage:null===(ae=fs)||void 0===ae?void 0:ae.message})}hs=_i.entries,ps=_i.state}if("INSTANCE_STATE_UNSPECIFIED"===ps?Er=500:"NO_CHANGE"===ps?Er=304:("NO_TEMPLATE"===ps||"EMPTY_CONFIG"===ps)&&(hs={}),304!==Er&&200!==Er)throw fr.create("fetch-status",{httpStatus:Er});return{status:Er,eTag:ds,config:hs}})()}}class jd{constructor(I,k){this.client=I,this.storage=k}fetch(I){var k=this;return(0,M.Z)(function*(){const O=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(I,O)})()}attemptFetch(I,{throttleEndTimeMillis:k,backoffCount:O}){var K=this;return(0,M.Z)(function*(){yield function vm(A,I){return new Promise((k,O)=>{const K=Math.max(I-Date.now(),0),ae=setTimeout(k,K);A.addEventListener(()=>{clearTimeout(ae),O(fr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,k);try{const ae=yield K.client.fetch(I);return yield K.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function kr(A){if(!(A instanceof ue.ZR&&A.customData))return!1;const I=Number(A.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ae))throw ae;const xe={throttleEndTimeMillis:Date.now()+(0,ue.$s)(O),backoffCount:O+1};return yield K.storage.setThrottleMetadata(xe),K.attemptFetch(I,xe)}})()}}class gc{constructor(I,k,O,K,ae){this.app=I,this._client=k,this._storageCache=O,this._storage=K,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Gu(A,I){var k;const O=A.target.error||void 0;return fr.create(I,{originalErrorMessage:O&&(null===(k=O)||void 0===k?void 0:k.message)})}const Si="app_namespace_store";class _c{constructor(I,k,O,K=function Ju(){return new Promise((A,I)=>{var k;try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=K=>{I(Gu(K,"storage-open"))},O.onsuccess=K=>{A(K.target.result)},O.onupgradeneeded=K=>{0===K.oldVersion&&K.target.result.createObjectStore(Si,{keyPath:"compositeKey"})}}catch(O){I(fr.create("storage-open",{originalErrorMessage:null===(k=O)||void 0===k?void 0:k.message}))}})}()){this.appId=I,this.appName=k,this.namespace=O,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var k=this;return(0,M.Z)(function*(){const O=yield k.openDbPromise;return new Promise((K,ae)=>{var xe;const ut=O.transaction([Si],"readonly").objectStore(Si),Ot=k.createCompositeKey(I);try{const Rt=ut.get(Ot);Rt.onerror=mt=>{ae(Gu(mt,"storage-get"))},Rt.onsuccess=mt=>{const ar=mt.target.result;K(ar?ar.value:void 0)}}catch(Rt){ae(fr.create("storage-get",{originalErrorMessage:null===(xe=Rt)||void 0===xe?void 0:xe.message}))}})})()}set(I,k){var O=this;return(0,M.Z)(function*(){const K=yield O.openDbPromise;return new Promise((ae,xe)=>{var Ge;const Ot=K.transaction([Si],"readwrite").objectStore(Si),Rt=O.createCompositeKey(I);try{const mt=Ot.put({compositeKey:Rt,value:k});mt.onerror=ar=>{xe(Gu(ar,"storage-set"))},mt.onsuccess=()=>{ae()}}catch(mt){xe(fr.create("storage-set",{originalErrorMessage:null===(Ge=mt)||void 0===Ge?void 0:Ge.message}))}})})()}delete(I){var k=this;return(0,M.Z)(function*(){const O=yield k.openDbPromise;return new Promise((K,ae)=>{var xe;const ut=O.transaction([Si],"readwrite").objectStore(Si),Ot=k.createCompositeKey(I);try{const Rt=ut.delete(Ot);Rt.onerror=mt=>{ae(Gu(mt,"storage-delete"))},Rt.onsuccess=()=>{K()}}catch(Rt){ae(fr.create("storage-delete",{originalErrorMessage:null===(xe=Rt)||void 0===xe?void 0:xe.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class yc{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,M.Z)(function*(){const k=I.storage.getLastFetchStatus(),O=I.storage.getLastSuccessfulFetchTimestampMillis(),K=I.storage.getActiveConfig(),ae=yield k;ae&&(I.lastFetchStatus=ae);const xe=yield O;xe&&(I.lastSuccessfulFetchTimestampMillis=xe);const Ge=yield K;Ge&&(I.activeConfig=Ge)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function zp(){return So.apply(this,arguments)}function So(){return(So=(0,M.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(A){return!1}})).apply(this,arguments)}!function da(){(0,re._registerComponent)(new he.wA("remote-config",function A(I,{instanceIdentifier:k}){const O=I.getProvider("app").getImmediate(),K=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw fr.create("registration-window");if(!(0,ue.hl)())throw fr.create("indexed-db-unavailable");const{projectId:ae,apiKey:xe,appId:Ge}=O.options;if(!ae)throw fr.create("registration-project-id");if(!xe)throw fr.create("registration-api-key");if(!Ge)throw fr.create("registration-app-id");const ut=new _c(Ge,O.name,k=k||"firebase"),Ot=new yc(ut),Rt=new de.Yd(io);Rt.logLevel=de.in.ERROR;const mt=new Bd(K,re.SDK_VERSION,k,ae,xe,Ge),ar=new jd(mt,ut),$n=new pc(ar,ut,Ot,Rt),Vi=new gc(O,$n,Ot,ut,Rt);return function Vd(A){const I=(0,ue.m9)(A);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Vi),Vi},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(io,"0.3.11"),(0,re.registerVersion)(io,"0.3.11","esm2017")}();const Hd="/firebase-messaging-sw.js",Ds="/firebase-cloud-messaging-push-scope",Wu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vc="google.c.a.c_id",Ss="google.c.a.c_l",xi="google.c.a.ts",ui="google.c.a.e";var ki=(()=>{return(A=ki||(ki={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",ki;var A})();function an(A){const I=new Uint8Array(A);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ku(A){const k=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),O=atob(k),K=new Uint8Array(O.length);for(let ae=0;ae<O.length;++ae)K[ae]=O.charCodeAt(ae);return K}const ha="fcm_token_details_db",Xu="fcm_token_object_Store";function Gd(A){return Rn.apply(this,arguments)}function Rn(){return Rn=(0,M.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes(ha))return null;let I=null;return(yield(0,ce.X3)(ha,5,{upgrade:(O=(0,M.Z)(function*(K,ae,xe,Ge){var ut;if(ae<2||!K.objectStoreNames.contains(Xu))return;const Ot=Ge.objectStore(Xu),Rt=yield Ot.index("fcmSenderId").get(A);if(yield Ot.clear(),Rt)if(2===ae){const mt=Rt;if(!mt.auth||!mt.p256dh||!mt.endpoint)return;I={token:mt.fcmToken,createTime:null!==(ut=mt.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:mt.auth,p256dh:mt.p256dh,endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:"string"==typeof mt.vapidKey?mt.vapidKey:an(mt.vapidKey)}}}else if(3===ae){const mt=Rt;I={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:an(mt.auth),p256dh:an(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:an(mt.vapidKey)}}}else if(4===ae){const mt=Rt;I={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:an(mt.auth),p256dh:an(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:an(mt.vapidKey)}}}}),function(ae,xe,Ge,ut){return O.apply(this,arguments)})})).close(),yield(0,ce.Lj)(ha),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),Qp(I)?I:null;var O}),Rn.apply(this,arguments)}function Qp(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:I}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const kn="firebase-messaging-store";let ou=null;function pa(){return ou||(ou=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(A,I)=>{0===I&&A.createObjectStore(kn)}})),ou}function Bo(A){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,M.Z)(function*(A){const I=Yi(A),O=yield(yield pa()).transaction(kn).objectStore(kn).get(I);if(O)return O;{const K=yield Gd(A.appConfig.senderId);if(K)return yield ks(A,K),K}})).apply(this,arguments)}function ks(A,I){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,M.Z)(function*(A,I){const k=Yi(A),K=(yield pa()).transaction(kn,"readwrite");return yield K.objectStore(kn).put(I,k),yield K.done,I})).apply(this,arguments)}function jo(A){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,M.Z)(function*(A){const I=Yi(A),O=(yield pa()).transaction(kn,"readwrite");yield O.objectStore(kn).delete(I),yield O.done})).apply(this,arguments)}function Yi({appConfig:A}){return A.appId}const ht=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Cc(A,I){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,M.Z)(function*(A,I){var k;const O=yield Mr(A),K=jt(I),ae={method:"POST",headers:O,body:JSON.stringify(K)};let xe;try{xe=yield(yield fetch(Ns(A.appConfig),ae)).json()}catch(Ge){throw ht.create("token-subscribe-failed",{errorInfo:null===(k=Ge)||void 0===k?void 0:k.toString()})}if(xe.error)throw ht.create("token-subscribe-failed",{errorInfo:xe.error.message});if(!xe.token)throw ht.create("token-subscribe-no-token");return xe.token})).apply(this,arguments)}function Jd(A,I){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,M.Z)(function*(A,I){var k;const O=yield Mr(A),K=jt(I.subscriptionOptions),ae={method:"PATCH",headers:O,body:JSON.stringify(K)};let xe;try{xe=yield(yield fetch(`${Ns(A.appConfig)}/${I.token}`,ae)).json()}catch(Ge){throw ht.create("token-update-failed",{errorInfo:null===(k=Ge)||void 0===k?void 0:k.toString()})}if(xe.error)throw ht.create("token-update-failed",{errorInfo:xe.error.message});if(!xe.token)throw ht.create("token-update-no-token");return xe.token})).apply(this,arguments)}function fa(A,I){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,M.Z)(function*(A,I){var k;const K={method:"DELETE",headers:yield Mr(A)};try{const xe=yield(yield fetch(`${Ns(A.appConfig)}/${I}`,K)).json();if(xe.error)throw ht.create("token-unsubscribe-failed",{errorInfo:xe.error.message})}catch(ae){throw ht.create("token-unsubscribe-failed",{errorInfo:null===(k=ae)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function Ns({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function Mr(A){return Se.apply(this,arguments)}function Se(){return(Se=(0,M.Z)(function*({appConfig:A,installations:I}){const k=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function jt({p256dh:A,auth:I,endpoint:k,vapidKey:O}){const K={web:{endpoint:k,auth:I,p256dh:A}};return O!==Wu&&(K.web.applicationPubKey=O),K}const Ms=6048e5;function es(A){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,M.Z)(function*(A){const I=yield iu(A.swRegistration,A.vapidKey),k={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:I.endpoint,auth:an(I.getKey("auth")),p256dh:an(I.getKey("p256dh"))},O=yield Bo(A.firebaseDependencies);if(O){if(Mi(O.subscriptionOptions,k))return Date.now()>=O.createTime+Ms?fo(A,{token:O.token,createTime:Date.now(),subscriptionOptions:k}):O.token;try{yield fa(A.firebaseDependencies,O.token)}catch(K){console.warn(K)}return Ps(A.firebaseDependencies,k)}return Ps(A.firebaseDependencies,k)})).apply(this,arguments)}function ga(A){return ts.apply(this,arguments)}function ts(){return(ts=(0,M.Z)(function*(A){const I=yield Bo(A.firebaseDependencies);I&&(yield fa(A.firebaseDependencies,I.token),yield jo(A.firebaseDependencies));const k=yield A.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function fo(A,I){return ns.apply(this,arguments)}function ns(){return(ns=(0,M.Z)(function*(A,I){try{const k=yield Jd(A.firebaseDependencies,I),O=Object.assign(Object.assign({},I),{token:k,createTime:Date.now()});return yield ks(A.firebaseDependencies,O),k}catch(k){throw yield ga(A),k}})).apply(this,arguments)}function Ps(A,I){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,M.Z)(function*(A,I){const O={token:yield Cc(A,I),createTime:Date.now(),subscriptionOptions:I};return yield ks(A,O),O.token})).apply(this,arguments)}function iu(A,I){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,M.Z)(function*(A,I){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ku(I)})})).apply(this,arguments)}function Mi(A,I){return I.vapidKey===A.vapidKey&&I.endpoint===A.endpoint&&I.auth===A.auth&&I.p256dh===A.p256dh}function Xn(A){const I={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function xo(A,I){if(!I.notification)return;A.notification={};const k=I.notification.title;k&&(A.notification.title=k);const O=I.notification.body;O&&(A.notification.body=O);const K=I.notification.image;K&&(A.notification.image=K)}(I,A),function Us(A,I){!I.data||(A.data=I.data)}(I,A),function li(A,I){var k,O,K,ae,xe;if(!(I.fcmOptions||null!==(k=I.notification)&&void 0!==k&&k.click_action))return;A.fcmOptions={};const Ge=null!==(K=null===(O=I.fcmOptions)||void 0===O?void 0:O.link)&&void 0!==K?K:null===(ae=I.notification)||void 0===ae?void 0:ae.click_action;Ge&&(A.fcmOptions.link=Ge);const ut=null===(xe=I.fcmOptions)||void 0===xe?void 0:xe.analytics_label;ut&&(A.fcmOptions.analyticsLabel=ut)}(I,A),I}function $o(A){return"object"==typeof A&&!!A&&vc in A}function su(A,I){const k=[];for(let O=0;O<A.length;O++)k.push(A.charAt(O)),O<I.length&&k.push(I.charAt(O));return k.join("")}function Os(A){return ht.create("missing-app-config-values",{valueName:A})}su("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),su("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wd{constructor(I,k,O){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function tl(A){if(!A||!A.options)throw Os("App Configuration Object");if(!A.name)throw Os("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:k}=A;for(const O of I)if(!k[O])throw Os(O);return{appName:A.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:K,installations:k,analyticsProvider:O}}_delete(){return Promise.resolve()}}function Rs(A){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,M.Z)(function*(A){var I;try{A.swRegistration=yield navigator.serviceWorker.register(Hd,{scope:Ds}),A.swRegistration.update().catch(()=>{})}catch(k){throw ht.create("failed-service-worker-registration",{browserErrorMessage:null===(I=k)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function au(A,I){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,M.Z)(function*(A,I){if(!I&&!A.swRegistration&&(yield Rs(A)),I||!A.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw ht.create("invalid-sw-registration");A.swRegistration=I}})).apply(this,arguments)}function nl(A,I){return ci.apply(this,arguments)}function ci(){return(ci=(0,M.Z)(function*(A,I){I?A.vapidKey=I:A.vapidKey||(A.vapidKey=Wu)})).apply(this,arguments)}function ma(){return(ma=(0,M.Z)(function*(A,I){if(!navigator)throw ht.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ht.create("permission-blocked");return yield nl(A,null==I?void 0:I.vapidKey),yield au(A,null==I?void 0:I.serviceWorkerRegistration),es(A)})).apply(this,arguments)}function wc(A,I,k){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,M.Z)(function*(A,I,k){const O=bc(I);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(O,{message_id:k[vc],message_name:k[Ss],message_time:k[xi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function bc(A){switch(A){case ki.NOTIFICATION_CLICKED:return"notification_open";case ki.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function uu(){return(uu=(0,M.Z)(function*(A,I){const k=I.data;if(!k.isFirebaseMessaging)return;A.onMessageHandler&&k.messageType===ki.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(Xn(k)):A.onMessageHandler.next(Xn(k)));const O=k.data;$o(O)&&"1"===O[ui]&&(yield wc(A,k.messageType,O))})).apply(this,arguments)}const _a="@firebase/messaging",ko=A=>{const I=new Wd(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function qs(A,I){return uu.apply(this,arguments)}(I,k)),I},qn=A=>{const I=A.getProvider("messaging").getImmediate();return{getToken:O=>function rl(A,I){return ma.apply(this,arguments)}(I,O)}};function Ic(){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,M.Z)(function*(){try{yield(0,ue.eu)()}catch(A){return!1}return"undefined"!=typeof window&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ac(){(0,re._registerComponent)(new he.wA("messaging",ko,"PUBLIC")),(0,re._registerComponent)(new he.wA("messaging-internal",qn,"PRIVATE")),(0,re.registerVersion)(_a,"0.9.16"),(0,re.registerVersion)(_a,"0.9.16","esm2017")}();const cu="analytics",Go="firebase_id",Kp="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",is="https://www.googletagmanager.com/gtag/js",sr=new de.Yd("@firebase/analytics");function hu(A){return Promise.all(A.map(I=>I.catch(k=>k)))}function Yp(A,I){const k=document.createElement("script");k.src=`${is}?l=${A}&id=${I}`,k.async=!0,document.head.appendChild(k)}function ef(A,I,k,O,K,ae){return ss.apply(this,arguments)}function ss(){return(ss=(0,M.Z)(function*(A,I,k,O,K,ae){const xe=O[K];try{if(xe)yield I[xe];else{const ut=(yield hu(k)).find(Ot=>Ot.measurementId===K);ut&&(yield I[ut.appId])}}catch(Ge){sr.error(Ge)}A("config",K,ae)})).apply(this,arguments)}function Qd(A,I,k,O,K){return di.apply(this,arguments)}function di(){return(di=(0,M.Z)(function*(A,I,k,O,K){try{let ae=[];if(K&&K.send_to){let xe=K.send_to;Array.isArray(xe)||(xe=[xe]);const Ge=yield hu(k);for(const ut of xe){const Ot=Ge.find(mt=>mt.measurementId===ut),Rt=Ot&&I[Ot.appId];if(!Rt){ae=[];break}ae.push(Rt)}}0===ae.length&&(ae=Object.values(I)),yield Promise.all(ae),A("event",O,K||{})}catch(ae){sr.error(ae)}})).apply(this,arguments)}function Yd(){const A=window.document.getElementsByTagName("script");for(const I of Object.values(A))if(I.src&&I.src.includes(is))return I;return null}const go=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),tf=new class Sc{constructor(I={},k=1e3){this.throttleMetadata=I,this.intervalMillis=k}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,k){this.throttleMetadata[I]=k}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function nf(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function Dn(A){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,M.Z)(function*(A){var I;const{appId:k,apiKey:O}=A,K={method:"GET",headers:nf(O)},ae=Kp.replace("{app-id}",k),xe=yield fetch(ae,K);if(200!==xe.status&&304!==xe.status){let Ge="";try{const ut=yield xe.json();null!==(I=ut.error)&&void 0!==I&&I.message&&(Ge=ut.error.message)}catch(ut){}throw go.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:Ge})}return xe.json()})).apply(this,arguments)}function hi(A){return xc.apply(this,arguments)}function xc(){return(xc=(0,M.Z)(function*(A,I=tf,k){const{appId:O,apiKey:K,measurementId:ae}=A.options;if(!O)throw go.create("no-app-id");if(!K){if(ae)return{measurementId:ae,appId:O};throw go.create("no-api-key")}const xe=I.getThrottleMetadata(O)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new as;return setTimeout((0,M.Z)(function*(){Ge.abort()}),void 0!==k?k:6e4),Ui({appId:O,apiKey:K,measurementId:ae},xe,Ge,I)})).apply(this,arguments)}function Ui(A,I,k){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,M.Z)(function*(A,{throttleEndTimeMillis:I,backoffCount:k},O,K=tf){var ae,xe;const{appId:Ge,measurementId:ut}=A;try{yield Vs(O,I)}catch(Ot){if(ut)return sr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${null===(ae=Ot)||void 0===ae?void 0:ae.message}]`),{appId:Ge,measurementId:ut};throw Ot}try{const Ot=yield Dn(A);return K.deleteThrottleMetadata(Ge),Ot}catch(Ot){const Rt=Ot;if(!fu(Rt)){if(K.deleteThrottleMetadata(Ge),ut)return sr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ut} provided in the "measurementId" field in the local Firebase config. [${null==Rt?void 0:Rt.message}]`),{appId:Ge,measurementId:ut};throw Ot}const mt=503===Number(null===(xe=null==Rt?void 0:Rt.customData)||void 0===xe?void 0:xe.httpStatus)?(0,ue.$s)(k,K.intervalMillis,30):(0,ue.$s)(k,K.intervalMillis),ar={throttleEndTimeMillis:Date.now()+mt,backoffCount:k+1};return K.setThrottleMetadata(Ge,ar),sr.debug(`Calling attemptFetch again in ${mt} millis`),Ui(A,ar,O,K)}})).apply(this,arguments)}function Vs(A,I){return new Promise((k,O)=>{const K=Math.max(I-Date.now(),0),ae=setTimeout(k,K);A.addEventListener(()=>{clearTimeout(ae),O(go.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function fu(A){if(!(A instanceof ue.ZR&&A.customData))return!1;const I=Number(A.customData.httpStatus);return 429===I||500===I||503===I||504===I}class as{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Oi,pi;function se(){return(se=(0,M.Z)(function*(A,I,k,O,K){if(K&&K.global)A("event",k,O);else{const ae=yield I;A("event",k,Object.assign(Object.assign({},O),{send_to:ae}))}})).apply(this,arguments)}function kc(A){pi=A}function ba(A){Oi=A}function sl(){return al.apply(this,arguments)}function al(){return(al=(0,M.Z)(function*(){var A;if(!(0,ue.hl)())return sr.warn(go.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(I){return sr.warn(go.create("indexeddb-unavailable",{errorInfo:null===(A=I)||void 0===A?void 0:A.toString()}).message),!1}return!0})).apply(this,arguments)}function Aa(){return(Aa=(0,M.Z)(function*(A,I,k,O,K,ae,xe){var Ge;const ut=hi(A);ut.then($n=>{k[$n.measurementId]=$n.appId,A.options.measurementId&&$n.measurementId!==A.options.measurementId&&sr.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${$n.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($n=>sr.error($n)),I.push(ut);const Ot=sl().then($n=>{if($n)return O.getId()}),[Rt,mt]=yield Promise.all([ut,Ot]);Yd()||Yp(ae,Rt.measurementId),pi&&(K("consent","default",pi),kc(void 0)),K("js",new Date);const ar=null!==(Ge=null==xe?void 0:xe.config)&&void 0!==Ge?Ge:{};return ar.origin="firebase",ar.update=!0,null!=mt&&(ar[Go]=mt),K("config",Rt.measurementId,ar),Oi&&(K("set",Oi),ba(void 0)),Rt.measurementId})).apply(this,arguments)}class sn{constructor(I){this.app=I}_delete(){return delete Pr[this.app.options.appId],Promise.resolve()}}let Pr={},Zn=[];const Jo={};let Zc,No,Fi="dataLayer",un=!1;function Ia(A,I,k){!function Nc(){const A=[];if((0,ue.ru)()&&A.push("This is a browser extension environment."),(0,ue.zI)()||A.push("Cookies are not available."),A.length>0){const I=A.map((O,K)=>`(${K+1}) ${O}`).join(" "),k=go.create("invalid-analytics-context",{errorInfo:I});sr.warn(k.message)}}();const O=A.options.appId;if(!O)throw go.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw go.create("no-api-key");sr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pr[O])throw go.create("already-exists",{id:O});if(!un){!function Xp(A){let I=[];Array.isArray(window[A])?I=window[A]:window[A]=I}(Fi);const{wrappedGtag:ae,gtagCore:xe}=function Kd(A,I,k,O,K){let ae=function(...xe){window[O].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ae=window[K]),window[K]=function pu(A,I,k,O){function ae(){return(ae=(0,M.Z)(function*(xe,Ge,ut){try{"event"===xe?yield Qd(A,I,k,Ge,ut):"config"===xe?yield ef(A,I,k,O,Ge,ut):"consent"===xe?A("consent","update",ut):A("set",Ge)}catch(Ot){sr.error(Ot)}})).apply(this,arguments)}return function K(xe,Ge,ut){return ae.apply(this,arguments)}}(ae,A,I,k),{gtagCore:ae,wrappedGtag:window[K]}}(Pr,Zn,Jo,Fi,"gtag");No=ae,Zc=xe,un=!0}return Pr[O]=function jn(A,I,k,O,K,ae,xe){return Aa.apply(this,arguments)}(A,Zn,Jo,I,Zc,Fi,k),new sn(A)}function Ea(){return vu.apply(this,arguments)}function vu(){return(vu=(0,M.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch(A){return!1}})).apply(this,arguments)}const Cu="@firebase/analytics";!function Wo(){(0,re._registerComponent)(new he.wA(cu,(I,{options:k})=>Ia(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,re._registerComponent)(new he.wA("analytics-internal",function A(I){try{const k=I.getProvider(cu).getImmediate();return{logEvent:(O,K,ae)=>function Bs(A,I,k,O){A=(0,ue.m9)(A),function mr(A,I,k,O,K){return se.apply(this,arguments)}(No,Pr[A.app.options.appId],I,k,O).catch(K=>sr.error(K))}(k,O,K,ae)}}catch(k){throw go.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,re.registerVersion)(Cu,"0.8.0"),(0,re.registerVersion)(Cu,"0.8.0","esm2017")}();var cl=P(4408),cs=P(7565);const dl=new class js extends cs.v{}(class ls extends cl.o{constructor(I,k){super(I,k),this.scheduler=I,this.work=k}schedule(I,k=0){return k>0?super.schedule(I,k):(this.delay=k,this.state=I,this.scheduler.flush(this),this)}execute(I,k){return k>0||this.closed?super.execute(I,k):this._execute(I,k)}requestAsyncId(I,k,O=0){return null!=O&&O>0||null==O&&this.delay>0?super.requestAsyncId(I,k,O):I.flush(this)}});var nh=P(4986),zo=P(8505),Ir=P(9468),Wr=P(5363);const Pc=new e.GfV("7.4.1"),fi="__angularfire_symbol__analyticsIsSupportedValue",tr="__angularfire_symbol__analyticsIsSupported",qi="__angularfire_symbol__remoteConfigIsSupportedValue",Da="__angularfire_symbol__remoteConfigIsSupported",$s="__angularfire_symbol__messagingIsSupportedValue",hl="__angularfire_symbol__messagingIsSupported";function Sa(A,I,k){if(I){if(1===I.length)return I[0];const ae=I.filter(xe=>xe.app===k);if(1===ae.length)return ae[0]}return k.container.getProvider(A).getImmediate({optional:!0})}globalThis[tr]||(globalThis[tr]=Ea().then(A=>globalThis[fi]=A).catch(()=>globalThis[fi]=!1)),globalThis[hl]||(globalThis[hl]=Ic().then(A=>globalThis[$s]=A).catch(()=>globalThis[$s]=!1)),globalThis[Da]||(globalThis[Da]=zp().then(A=>globalThis[qi]=A).catch(()=>globalThis[qi]=!1));const bm=(A,I)=>{const k=I?[I]:(0,L.C6)(),O=[];return k.forEach(K=>{K.container.getProvider(A).instances.forEach(xe=>{O.includes(xe)||O.push(xe)})}),O};function Mo(){}class pl{constructor(I,k=dl){this.zone=I,this.delegate=k}now(){return this.delegate.now()}schedule(I,k,O){const K=this.zone;return this.delegate.schedule(function(xe){K.runGuarded(()=>{I.apply(this,[xe])})},k,O)}}class xa{constructor(I){this.zone=I,this.task=null}call(I,k){const O=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mo,{},Mo,Mo)),k.pipe((0,zo.b)({next:O,complete:O,error:O})).subscribe(I).add(O)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let oh=(()=>{class A{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new pl(Zone.current)),this.insideAngular=k.run(()=>new pl(Zone.current,nh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(k){return new(k||A)(e.LFG(e.R0b))},A.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function Qo(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function Gs(A){return Qo(),function dn(A){return function(k){return(k=k.lift(new xa(A.ngZone))).pipe((0,Ir.R)(A.outsideAngular),(0,Wr.Q)(A.insideAngular))}}(Qo())(A)}},2227:(rt,Te,P)=>{P.d(Te,{$:()=>Ls,A:()=>Ke,B:()=>yn,G:()=>hc,H:()=>kr,J:()=>an,L:()=>Zt,M:()=>ks,N:()=>Yi,P:()=>Gs,Q:()=>el,R:()=>wm,T:()=>ht,U:()=>Gr,V:()=>Zs,W:()=>fa,X:()=>jt,Y:()=>Us,Z:()=>$o,_:()=>tl,a:()=>ba,a0:()=>rl,a1:()=>wc,a2:()=>bc,a3:()=>uu,a4:()=>gr,a5:()=>qn,a6:()=>Ic,a7:()=>Ec,a8:()=>lu,a9:()=>zd,aA:()=>lh,aB:()=>ah,aC:()=>_i,aD:()=>ps,aE:()=>Yn,aI:()=>jn,aL:()=>Xi,aa:()=>il,ab:()=>cu,ac:()=>os,af:()=>sr,ag:()=>Yp,ah:()=>Xp,ak:()=>ts,al:()=>Ca,an:()=>fu,ao:()=>mu,ap:()=>nu,aq:()=>st,ar:()=>gt,as:()=>$r,at:()=>vn,au:()=>yl,av:()=>Rc,aw:()=>gn,ax:()=>Ue,ay:()=>nn,az:()=>Do,b:()=>pi,c:()=>ae,d:()=>Ot,e:()=>Ge,f:()=>Am,g:()=>Im,h:()=>sh,i:()=>Cu,j:()=>Em,k:()=>yf,l:()=>pl,m:()=>Xo,o:()=>vt,r:()=>oh,s:()=>bm,u:()=>wu});var e=P(5861),L=P(2090),M=P(9681);function de(y,p){var m={};for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&p.indexOf(C)<0&&(m[C]=y[C]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var D=0;for(C=Object.getOwnPropertySymbols(y);D<C.length;D++)p.indexOf(C[D])<0&&Object.prototype.propertyIsEnumerable.call(y,C[D])&&(m[C[D]]=y[C[D]])}return m}var me=P(1877),le=P(4859);const vt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ke={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const yn=function Tn(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},tn=function Vn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Bn=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pn=new me.Yd("@firebase/auth");function ho(y,...p){Pn.logLevel<=me.in.ERROR&&Pn.error(`Auth (${M.SDK_VERSION}): ${y}`,...p)}function vn(y,...p){throw ro(y,...p)}function gn(y,...p){return ro(y,...p)}function Ei(y,p,m){const C=Object.assign(Object.assign({},tn()),{[p]:m});return new L.LL("auth","Firebase",C).create(p,{appName:y.name})}function Cr(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&vn(y,"argument-error"),Ei(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ro(y,...p){if("string"!=typeof y){const m=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(m,...C)}return Bn.create(y,...p)}function Ue(y,p,...m){if(!y)throw ro(p,...m)}function or(y){const p="INTERNAL ASSERTION FAILED: "+y;throw ho(p),new Error(p)}function st(y,p){y||or(p)}const Tr=new Map;function nn(y){st(y instanceof Function,"Expected a class definition");let p=Tr.get(y);return p?(st(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,Tr.set(y,p),p)}function Vr(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Hn(){return"http:"===In()||"https:"===In()}function In(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class qt{constructor(p,m){this.shortDelay=p,this.longDelay=m,st(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function xr(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Hn()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function We(y,p){st(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class _t{static initialize(p,m,C){this.fetchImpl=p,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ai={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ir=new qt(3e4,6e4);function at(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function rn(y,p,m,C){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,e.Z)(function*(y,p,m,C,D={}){return Un(y,D,(0,e.Z)(function*(){let x={},$={};C&&("GET"===p?$=C:x={body:JSON.stringify(C)});const pe=(0,L.xO)(Object.assign({key:y.config.apiKey},$)).slice(1),Je=yield y._getAdditionalHeaders();return Je["Content-Type"]="application/json",y.languageCode&&(Je["X-Firebase-Locale"]=y.languageCode),_t.fetch()(j(y,y.config.apiHost,m,pe),Object.assign({method:p,headers:Je,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function Un(y,p,m){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,e.Z)(function*(y,p,m){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},ai),p);try{const D=new F(y),x=yield Promise.race([m(),D.promise]);D.clearNetworkTimeout();const $=yield x.json();if("needConfirmation"in $)throw J(y,"account-exists-with-different-credential",$);if(x.ok&&!("errorMessage"in $))return $;{const pe=x.ok?$.errorMessage:$.error.message,[Je,Re]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw J(y,"credential-already-in-use",$);if("EMAIL_EXISTS"===Je)throw J(y,"email-already-in-use",$);if("USER_DISABLED"===Je)throw J(y,"user-disabled",$);const Ct=C[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(Re)throw Ei(y,Ct,Re);vn(y,Ct)}}catch(D){if(D instanceof L.ZR)throw D;vn(y,"network-request-failed")}})).apply(this,arguments)}function En(y,p,m,C){return B.apply(this,arguments)}function B(){return(B=(0,e.Z)(function*(y,p,m,C,D={}){const x=yield rn(y,p,m,C,D);return"mfaPendingCredential"in x&&vn(y,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function j(y,p,m,C){const D=`${p}${m}?${C}`;return y.config.emulator?We(y.config,D):`${y.config.apiScheme}://${D}`}class F{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(gn(this.auth,"network-request-failed")),ir.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function J(y,p,m){const C={appName:y.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const D=gn(y,p,C);return D.customData._tokenResponse=m,D}function Ze(){return(Ze=(0,e.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ye(y,p){return yt.apply(this,arguments)}function yt(){return(yt=(0,e.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ln(y,p){return on.apply(this,arguments)}function on(){return(on=(0,e.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function pr(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function V(){return(V=(0,e.Z)(function*(y,p=!1){const m=(0,L.m9)(y),C=yield m.getIdToken(p),D=qe(C);Ue(D&&D.exp&&D.auth_time&&D.iat,m.auth,"internal-error");const x="object"==typeof D.firebase?D.firebase:void 0,$=null==x?void 0:x.sign_in_provider;return{claims:D,token:C,authTime:pr(ye(D.auth_time)),issuedAtTime:pr(ye(D.iat)),expirationTime:pr(ye(D.exp)),signInProvider:$||null,signInSecondFactor:(null==x?void 0:x.sign_in_second_factor)||null}})).apply(this,arguments)}function ye(y){return 1e3*Number(y)}function qe(y){var p;const[m,C,D]=y.split(".");if(void 0===m||void 0===C||void 0===D)return ho("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,L.tV)(C);return x?JSON.parse(x):(ho("Failed to decode base64 JWT payload"),null)}catch(x){return ho("Caught error parsing JWT payload as JSON",null===(p=x)||void 0===p?void 0:p.toString()),null}}function At(y,p){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,e.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(C){throw C instanceof L.ZR&&wn(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function wn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class On{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const D=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,e.Z)(function*(){yield m.iteration()}),C)}iteration(){var p=this;return(0,e.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(m=C)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class Cn{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=pr(this.lastLoginAt),this.creationTime=pr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ft(y){return xn.apply(this,arguments)}function xn(){return(xn=(0,e.Z)(function*(y){var p;const m=y.auth,C=yield y.getIdToken(),D=yield At(y,ln(m,{idToken:C}));Ue(null==D?void 0:D.users.length,m,"internal-error");const x=D.users[0];y._notifyReloadListener(x);const $=null!==(p=x.providerUserInfo)&&void 0!==p&&p.length?Br(x.providerUserInfo):[],pe=mn(y.providerData,$),Ct=!!y.isAnonymous&&!(y.email&&x.passwordHash||null!=pe&&pe.length),hn={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:pe,metadata:new Cn(x.createdAt,x.lastLoginAt),isAnonymous:Ct};Object.assign(y,hn)})).apply(this,arguments)}function kt(){return(kt=(0,e.Z)(function*(y){const p=(0,L.m9)(y);yield Ft(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function mn(y,p){return[...y.filter(C=>!p.some(D=>D.providerId===C.providerId)),...p]}function Br(y){return y.map(p=>{var{providerId:m}=p,C=de(p,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Gn(){return(Gn=(0,e.Z)(function*(y,p){const m=yield Un(y,{},(0,e.Z)(function*(){const C=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:D,apiKey:x}=y.config,$=j(y,D,"/v1/token",`key=${x}`),pe=yield y._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",_t.fetch()($,{method:"POST",headers:pe,body:C})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Ue(p.idToken,"internal-error"),Ue(void 0!==p.idToken,"internal-error"),Ue(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function St(y){const p=qe(y);return Ue(p,"internal-error"),Ue(void 0!==p.exp,"internal-error"),Ue(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var C=this;return(0,e.Z)(function*(){return Ue(!C.accessToken||C.refreshToken,p,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var C=this;return(0,e.Z)(function*(){const{accessToken:D,refreshToken:x,expiresIn:$}=yield function Qi(y,p){return Gn.apply(this,arguments)}(p,m);C.updateTokensAndExpiration(D,x,Number($))})()}updateTokensAndExpiration(p,m,C){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,m){const{refreshToken:C,accessToken:D,expirationTime:x}=m,$=new oo;return C&&(Ue("string"==typeof C,"internal-error",{appName:p}),$.refreshToken=C),D&&(Ue("string"==typeof D,"internal-error",{appName:p}),$.accessToken=D),x&&(Ue("number"==typeof x,"internal-error",{appName:p}),$.expirationTime=x),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return or("not implemented")}}function cn(y,p){Ue("string"==typeof y||void 0===y,"internal-error",{appName:p})}class io{constructor(p){var{uid:m,auth:C,stsTokenManager:D}=p,x=de(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new On(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new Cn(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,e.Z)(function*(){const C=yield At(m,m.stsTokenManager.getToken(m.auth,p));return Ue(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(p){return function q(y){return V.apply(this,arguments)}(this,p)}reload(){return function Xe(y){return kt.apply(this,arguments)}(this)}_assign(p){this!==p&&(Ue(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new io(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var C=this;return(0,e.Z)(function*(){let D=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),D=!0),m&&(yield Ft(C)),yield C.auth._persistUserIfCurrent(C),D&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,e.Z)(function*(){const m=yield p.getIdToken();return yield At(p,function z(y,p){return Ze.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var C,D,x,$,pe,Je,Re,Ct;const hn=null!==(C=m.displayName)&&void 0!==C?C:void 0,bn=null!==(D=m.email)&&void 0!==D?D:void 0,ao=null!==(x=m.phoneNumber)&&void 0!==x?x:void 0,ys=null!==($=m.photoURL)&&void 0!==$?$:void 0,Fc=null!==(pe=m.tenantId)&&void 0!==pe?pe:void 0,_h=null!==(Je=m._redirectEventId)&&void 0!==Je?Je:void 0,Lm=null!==(Re=m.createdAt)&&void 0!==Re?Re:void 0,Ma=null!==(Ct=m.lastLoginAt)&&void 0!==Ct?Ct:void 0,{uid:qc,emailVerified:Tf,isAnonymous:wf,providerData:vl,stsTokenManager:bf}=m;Ue(qc&&bf,p,"internal-error");const yh=oo.fromJSON(this.name,bf);Ue("string"==typeof qc,p,"internal-error"),cn(hn,p.name),cn(bn,p.name),Ue("boolean"==typeof Tf,p,"internal-error"),Ue("boolean"==typeof wf,p,"internal-error"),cn(ao,p.name),cn(ys,p.name),cn(Fc,p.name),cn(_h,p.name),cn(Lm,p.name),cn(Ma,p.name);const Cl=new io({uid:qc,auth:p,email:bn,emailVerified:Tf,displayName:hn,isAnonymous:wf,photoURL:ys,phoneNumber:ao,tenantId:Fc,stsTokenManager:yh,createdAt:Lm,lastLoginAt:Ma});return vl&&Array.isArray(vl)&&(Cl.providerData=vl.map(Af=>Object.assign({},Af))),_h&&(Cl._redirectEventId=_h),Cl}static _fromIdTokenResponse(p,m,C=!1){return(0,e.Z)(function*(){const D=new oo;D.updateFromServerResponse(m);const x=new io({uid:m.localId,auth:p,stsTokenManager:D,isAnonymous:C});return yield Ft(x),x})()}}const Zt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,e.Z)(function*(){return!0})()}_set(m,C){var D=this;return(0,e.Z)(function*(){D.storage[m]=C})()}_get(m){var C=this;return(0,e.Z)(function*(){const D=C.storage[m];return void 0===D?null:D})()}_remove(m){var C=this;return(0,e.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return y.type="NONE",y})();function Do(y,p,m){return`firebase:${y}:${p}:${m}`}class po{constructor(p,m,C){this.persistence=p,this.auth=m,this.userKey=C;const{config:D,name:x}=this.auth;this.fullUserKey=Do(this.userKey,D.apiKey,x),this.fullPersistenceKey=Do("persistence",D.apiKey,x),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,e.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?io._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,e.Z)(function*(){if(m.persistence===p)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,C="authUser"){return(0,e.Z)(function*(){if(!m.length)return new po(nn(Zt),p,C);const D=(yield Promise.all(m.map(function(){var Re=(0,e.Z)(function*(Ct){if(yield Ct._isAvailable())return Ct});return function(Ct){return Re.apply(this,arguments)}}()))).filter(Re=>Re);let x=D[0]||nn(Zt);const $=Do(C,p.config.apiKey,p.name);let pe=null;for(const Re of m)try{const Ct=yield Re._get($);if(Ct){const hn=io._fromJSON(p,Ct);Re!==x&&(pe=hn),x=Re;break}}catch(Ct){}const Je=D.filter(Re=>Re._shouldAllowMigration);return x._shouldAllowMigration&&Je.length?(x=Je[0],pe&&(yield x._set($,pe.toJSON())),yield Promise.all(m.map(function(){var Re=(0,e.Z)(function*(Ct){if(Ct!==x)try{yield Ct._remove($)}catch(hn){}});return function(Ct){return Re.apply(this,arguments)}}())),new po(x,p,C)):new po(x,p,C)})()}}function fr(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Di(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ki(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(qo(p))return"Blackberry";if(dc(p))return"Webos";if(Kn(p))return"Safari";if((p.includes("chrome/")||jr(p))&&!p.includes("edge/"))return"Chrome";if($r(p))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function Ki(y=(0,L.z$)()){return/firefox\//i.test(y)}function Kn(y=(0,L.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function jr(y=(0,L.z$)()){return/crios\//i.test(y)}function Di(y=(0,L.z$)()){return/iemobile/i.test(y)}function $r(y=(0,L.z$)()){return/android/i.test(y)}function qo(y=(0,L.z$)()){return/blackberry/i.test(y)}function dc(y=(0,L.z$)()){return/webos/i.test(y)}function gt(y=(0,L.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function nu(y=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}function Hr(y=(0,L.z$)()){return gt(y)||$r(y)||dc(y)||qo(y)||/windows phone/i.test(y)||Di(y)}function Es(y,p=[]){let m;switch(y){case"Browser":m=fr((0,L.z$)());break;case"Worker":m=`${fr((0,L.z$)())}-${y}`;break;default:m=y}const C=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${M.SDK_VERSION}/${C}`}class ca{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const C=x=>new Promise(($,pe)=>{try{$(p(x))}catch(Je){pe(Je)}});C.onAbort=m,this.queue.push(C);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,e.Z)(function*(){var C;if(m.auth.currentUser===p)return;const D=[];try{for(const x of m.queue)yield x(p),x.onAbort&&D.push(x.onAbort)}catch(x){D.reverse();for(const $ of D)try{$()}catch(pe){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=x)||void 0===C?void 0:C.message})}})()}}class Vo{constructor(p,m,C){this.app=p,this.heartbeatServiceProvider=m,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ym(this),this.idTokenSubscription=new ym(this),this.beforeStateQueue=new ca(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(p,m){var C=this;return m&&(this._popupRedirectResolver=nn(m)),this._initializationPromise=this.queue((0,e.Z)(function*(){var D,x;if(!C._deleted&&(C.persistenceManager=yield po.create(C,p),!C._deleted)){if(null!==(D=C._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch($){}yield C.initializeCurrentUser(m),C.lastNotifiedUid=(null===(x=C.currentUser)||void 0===x?void 0:x.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,e.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,e.Z)(function*(){var C;const D=yield m.assertedPersistence.getCurrentUser();let x=D,$=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const pe=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,Je=null==x?void 0:x._redirectEventId,Re=yield m.tryRedirectSignIn(p);(!pe||pe===Je)&&(null==Re?void 0:Re.user)&&(x=Re.user,$=!0)}if(!x)return m.directlySetCurrentUser(null);if(!x._redirectEventId){if($)try{yield m.beforeStateQueue.runMiddleware(x)}catch(pe){x=D,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(pe))}return x?m.reloadAndSetCurrentUserOrClear(x):m.directlySetCurrentUser(null)}return Ue(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===x._redirectEventId?m.directlySetCurrentUser(x):m.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(p){var m=this;return(0,e.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(D){yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,e.Z)(function*(){var C;try{yield Ft(p)}catch(D){if("auth/network-request-failed"!==(null===(C=D)||void 0===C?void 0:C.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function As(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,e.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,e.Z)(function*(){const C=p?(0,L.m9)(p):null;return C&&Ue(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(p,m=!1){var C=this;return(0,e.Z)(function*(){if(!C._deleted)return p&&Ue(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),m||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,e.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,e.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,e.Z)(function*(){yield m.assertedPersistence.setPersistence(nn(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,m,C){return this.registerStateListener(this.authStateSubscription,p,m,C)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,C){return this.registerStateListener(this.idTokenSubscription,p,m,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var C=this;return(0,e.Z)(function*(){const D=yield C.getOrInitRedirectPersistenceManager(m);return null===p?D.removeCurrentUser():D.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,e.Z)(function*(){if(!m.redirectPersistenceManager){const C=p&&nn(p)||m._popupRedirectResolver;Ue(C,m,"argument-error"),m.redirectPersistenceManager=yield po.create(m,[nn(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,e.Z)(function*(){var C,D;return m._isInitialized&&(yield m.queue((0,e.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===p?m._currentUser:(null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,e.Z)(function*(){if(p===m.currentUser)return m.queue((0,e.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,C,D){if(this._deleted)return()=>{};const x="function"==typeof m?m:m.next.bind(m),$=this._isInitialized?Promise.resolve():this._initializationPromise;return Ue($,this,"internal-error"),$.then(()=>x(this.currentUser)),"function"==typeof m?p.addObserver(m,C,D):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,e.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Es(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,e.Z)(function*(){var m;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const D=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return D&&(C["X-Firebase-Client"]=D),C})()}}function Yn(y){return(0,L.m9)(y)}class ym{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(m=>this.observer=m)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hc(y,p,m){const C=Yn(y);Ue(C._canInitEmulator,C,"emulator-config-failed"),Ue(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const D=!(null==m||!m.disableWarnings),x=pc(p),{host:$,port:pe}=function Jp(y){const p=pc(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(C);if(D){const x=D[1];return{host:x,port:Bd(C.substr(x.length+1))}}{const[x,$]=C.split(":");return{host:x,port:Bd($)}}}(p);C.config.emulator={url:`${x}//${$}${null===pe?"":`:${pe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:$,port:pe,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function vm(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}function pc(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Bd(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class kr{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return or("not implemented")}_getIdTokenResponse(p){return or("not implemented")}_linkToIdToken(p,m){return or("not implemented")}_getReauthenticationResolver(p){return or("not implemented")}}function jd(y,p){return fc.apply(this,arguments)}function fc(){return(fc=(0,e.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:resetPassword",at(y,p))})).apply(this,arguments)}function $d(y,p){return gc.apply(this,arguments)}function gc(){return(gc=(0,e.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Gu(y,p){return Si.apply(this,arguments)}function Si(){return(Si=(0,e.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:update",at(y,p))})).apply(this,arguments)}function mc(){return(mc=(0,e.Z)(function*(y,p){return En(y,"POST","/v1/accounts:signInWithPassword",at(y,p))})).apply(this,arguments)}function Ju(y,p){return _c.apply(this,arguments)}function _c(){return(_c=(0,e.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:sendOobCode",at(y,p))})).apply(this,arguments)}function yc(y,p){return da.apply(this,arguments)}function da(){return(da=(0,e.Z)(function*(y,p){return Ju(y,p)})).apply(this,arguments)}function Cm(y,p){return ru.apply(this,arguments)}function ru(){return(ru=(0,e.Z)(function*(y,p){return Ju(y,p)})).apply(this,arguments)}function zp(y,p){return So.apply(this,arguments)}function So(){return(So=(0,e.Z)(function*(y,p){return Ju(y,p)})).apply(this,arguments)}function Hd(y,p){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,e.Z)(function*(y,p){return Ju(y,p)})).apply(this,arguments)}function zu(){return(zu=(0,e.Z)(function*(y,p){return En(y,"POST","/v1/accounts:signInWithEmailLink",at(y,p))})).apply(this,arguments)}function Ss(){return(Ss=(0,e.Z)(function*(y,p){return En(y,"POST","/v1/accounts:signInWithEmailLink",at(y,p))})).apply(this,arguments)}class xi extends kr{constructor(p,m,C,D=null){super("password",C),this._email=p,this._password=m,this._tenantId=D}static _fromEmailAndPassword(p,m){return new xi(p,m,"password")}static _fromEmailAndCode(p,m,C=null){return new xi(p,m,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,e.Z)(function*(){switch(m.signInMethod){case"password":return function Wp(y,p){return mc.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Wu(y,p){return zu.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:vn(p,"internal-error")}})()}_linkToIdToken(p,m){var C=this;return(0,e.Z)(function*(){switch(C.signInMethod){case"password":return $d(p,{idToken:m,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function vc(y,p){return Ss.apply(this,arguments)}(p,{idToken:m,email:C._email,oobCode:C._password});default:vn(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ui(y,p){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,e.Z)(function*(y,p){return En(y,"POST","/v1/accounts:signInWithIdp",at(y,p))})).apply(this,arguments)}class an extends kr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new an(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):vn("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:D}=m,x=de(m,["providerId","signInMethod"]);if(!C||!D)return null;const $=new an(C,D);return $.idToken=x.idToken||void 0,$.accessToken=x.accessToken||void 0,$.secret=x.secret,$.nonce=x.nonce,$.pendingToken=x.pendingToken||null,$}_getIdTokenResponse(p){return ui(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,ui(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ui(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,L.xO)(m)}return p}}function Ku(y,p){return ha.apply(this,arguments)}function ha(){return(ha=(0,e.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:sendVerificationCode",at(y,p))})).apply(this,arguments)}function Xu(){return(Xu=(0,e.Z)(function*(y,p){return En(y,"POST","/v1/accounts:signInWithPhoneNumber",at(y,p))})).apply(this,arguments)}function Rn(){return(Rn=(0,e.Z)(function*(y,p){const m=yield En(y,"POST","/v1/accounts:signInWithPhoneNumber",at(y,p));if(m.temporaryProof)throw J(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Qp={USER_NOT_FOUND:"user-not-found"};function xs(){return(xs=(0,e.Z)(function*(y,p){return En(y,"POST","/v1/accounts:signInWithPhoneNumber",at(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Qp)})).apply(this,arguments)}class kn extends kr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new kn({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new kn({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Yu(y,p){return Xu.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Gd(y,p){return Rn.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Tm(y,p){return xs.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:C,verificationCode:D}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:C,code:D}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:C,phoneNumber:D,temporaryProof:x}=p;return C||m||D||x?new kn({verificationId:m,verificationCode:C,phoneNumber:D,temporaryProof:x}):null}}class Bo{constructor(p){var m,C,D,x,$,pe;const Je=(0,L.zd)((0,L.pd)(p)),Re=null!==(m=Je.apiKey)&&void 0!==m?m:null,Ct=null!==(C=Je.oobCode)&&void 0!==C?C:null,hn=function ou(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Je.mode)&&void 0!==D?D:null);Ue(Re&&Ct&&hn,"argument-error"),this.apiKey=Re,this.operation=hn,this.code=Ct,this.continueUrl=null!==(x=Je.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==($=Je.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(pe=Je.tenantId)&&void 0!==pe?pe:null}static parseLink(p){const m=function pa(y){const p=(0,L.zd)((0,L.pd)(y)).link,m=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,C=(0,L.zd)((0,L.pd)(y)).deep_link_id;return(C?(0,L.zd)((0,L.pd)(C)).link:null)||C||m||p||y}(p);try{return new Bo(m)}catch(C){return null}}}let ks=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,C){return xi._fromEmailAndPassword(m,C)}static credentialWithLink(m,C){const D=Bo.parseLink(C);return Ue(D,"argument-error"),xi._fromEmailAndCode(m,D.code,D.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Nr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class jo extends Nr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Gr extends jo{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Ue("providerId"in m&&"signInMethod"in m,"argument-error"),an._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Ue(p.idToken||p.accessToken,"argument-error"),an._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Gr.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Gr.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:D,pendingToken:x,nonce:$,providerId:pe}=p;if(!C&&!D&&!m&&!x||!pe)return null;try{return new Gr(pe)._credential({idToken:m,accessToken:C,nonce:$,pendingToken:x})}catch(Je){return null}}}let Yi=(()=>{class y extends jo{constructor(){super("facebook.com")}static credential(m){return an._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(C){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),el=(()=>{class y extends jo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return an._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:D}=m;if(!C&&!D)return null;try{return y.credential(C,D)}catch(x){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ht=(()=>{class y extends jo{constructor(){super("github.com")}static credential(m){return an._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(C){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Xi extends kr{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return ui(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,ui(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,ui(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:D,pendingToken:x}=m;return C&&D&&x&&C===D?new Xi(C,x):null}static _create(p,m){return new Xi(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Zs extends Nr{constructor(p){Ue(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Zs.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Zs.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Xi.fromJSON(p);return Ue(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:C}=p;if(!m||!C)return null;try{return Xi._create(C,m)}catch(D){return null}}}let fa=(()=>{class y extends jo{constructor(){super("twitter.com")}static credential(m,C){return an._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:D}=m;if(!C||!D)return null;try{return y.credential(C,D)}catch(x){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Zi(y,p){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,e.Z)(function*(y,p){return En(y,"POST","/v1/accounts:signUp",at(y,p))})).apply(this,arguments)}class Mr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,C,D=!1){return(0,e.Z)(function*(){const x=yield io._fromIdTokenResponse(p,C,D),$=Se(C);return new Mr({user:x,providerId:$,_tokenResponse:C,operationType:m})})()}static _forOperation(p,m,C){return(0,e.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const D=Se(C);return new Mr({user:p,providerId:D,_tokenResponse:C,operationType:m})})()}}function Se(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function jt(y){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,e.Z)(function*(y){var p;const m=Yn(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Mr({user:m.currentUser,providerId:null,operationType:"signIn"});const C=yield Zi(m,{returnSecureToken:!0}),D=yield Mr._fromIdTokenResponse(m,"signIn",C,!0);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class es extends L.ZR{constructor(p,m,C,D){var x;super(m.code,m.message),this.operationType=C,this.user=D,Object.setPrototypeOf(this,es.prototype),this.customData={appName:p.name,tenantId:null!==(x=p.tenantId)&&void 0!==x?x:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,m,C,D){return new es(p,m,C,D)}}function Ln(y,p,m,C){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?es._fromErrorAndOperation(y,x,p,C):x})}function ga(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function ts(y,p){return fo.apply(this,arguments)}function fo(){return(fo=(0,e.Z)(function*(y,p){const m=(0,L.m9)(y);yield Ni(!0,m,p);const{providerUserInfo:C}=yield Ye(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),D=ga(C||[]);return m.providerData=m.providerData.filter(x=>D.has(x.providerId)),D.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function ns(y,p){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,e.Z)(function*(y,p,m=!1){const C=yield At(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return Mr._forOperation(y,"link",C)})).apply(this,arguments)}function Ni(y,p,m){return iu.apply(this,arguments)}function iu(){return(iu=(0,e.Z)(function*(y,p,m){yield Ft(p);const D=!1===y?"provider-already-linked":"no-such-provider";Ue(ga(p.providerData).has(m)===y,p.auth,D)})).apply(this,arguments)}function Tc(y,p){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,e.Z)(function*(y,p,m=!1){var C;const{auth:D}=y,x="reauthenticate";try{const $=yield At(y,Ln(D,x,p,y),m);Ue($.idToken,D,"internal-error");const pe=qe($.idToken);Ue(pe,D,"internal-error");const{sub:Je}=pe;return Ue(y.uid===Je,D,"user-mismatch"),Mr._forOperation(y,x,$)}catch($){throw"auth/user-not-found"===(null===(C=$)||void 0===C?void 0:C.code)&&vn(D,"user-mismatch"),$}})).apply(this,arguments)}function Xn(y,p){return xo.apply(this,arguments)}function xo(){return(xo=(0,e.Z)(function*(y,p,m=!1){const C="signIn",D=yield Ln(y,C,p),x=yield Mr._fromIdTokenResponse(y,C,D);return m||(yield y._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Us(y,p){return li.apply(this,arguments)}function li(){return(li=(0,e.Z)(function*(y,p){return Xn(Yn(y),p)})).apply(this,arguments)}function $o(y,p){return su.apply(this,arguments)}function su(){return(su=(0,e.Z)(function*(y,p){const m=(0,L.m9)(y);return yield Ni(!1,m,p.providerId),ns(m,p)})).apply(this,arguments)}function tl(y,p){return Os.apply(this,arguments)}function Os(){return(Os=(0,e.Z)(function*(y,p){return Tc((0,L.m9)(y),p)})).apply(this,arguments)}function Wd(y,p){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,e.Z)(function*(y,p){return En(y,"POST","/v1/accounts:signInWithCustomToken",at(y,p))})).apply(this,arguments)}function Ls(y,p){return au.apply(this,arguments)}function au(){return(au=(0,e.Z)(function*(y,p){const m=Yn(y),C=yield Wd(m,{token:p,returnSecureToken:!0}),D=yield Mr._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(D.user),D})).apply(this,arguments)}class Pi{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?nl._fromServerResponse(p,m):vn(p,"internal-error")}}class nl extends Pi{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new nl(m)}}function ci(y,p,m){var C;Ue((null===(C=m.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),Ue(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Ue(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Ue(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function rl(y,p,m){return ma.apply(this,arguments)}function ma(){return(ma=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y),D={requestType:"PASSWORD_RESET",email:p};m&&ci(C,D,m),yield Cm(C,D)})).apply(this,arguments)}function wc(y,p,m){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,e.Z)(function*(y,p,m){yield jd((0,L.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function bc(y,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,e.Z)(function*(y,p){yield Gu((0,L.m9)(y),{oobCode:p})})).apply(this,arguments)}function uu(y,p){return _a.apply(this,arguments)}function _a(){return(_a=(0,e.Z)(function*(y,p){const m=(0,L.m9)(y),C=yield jd(m,{oobCode:p}),D=C.requestType;switch(Ue(D,m,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ue(C.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ue(C.mfaInfo,m,"internal-error");default:Ue(C.email,m,"internal-error")}let x=null;return C.mfaInfo&&(x=Pi._fromServerResponse(Yn(m),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:x},operation:D}})).apply(this,arguments)}function gr(y,p){return ko.apply(this,arguments)}function ko(){return(ko=(0,e.Z)(function*(y,p){const{data:m}=yield uu((0,L.m9)(y),p);return m.email})).apply(this,arguments)}function qn(y,p,m){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,e.Z)(function*(y,p,m){const C=Yn(y),D=yield Zi(C,{returnSecureToken:!0,email:p,password:m}),x=yield Mr._fromIdTokenResponse(C,"signIn",D);return yield C._updateCurrentUser(x.user),x})).apply(this,arguments)}function Ic(y,p,m){return Us((0,L.m9)(y),ks.credential(p,m))}function Ec(y,p,m){return ol.apply(this,arguments)}function ol(){return(ol=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y),D={requestType:"EMAIL_SIGNIN",email:p};Ue(m.handleCodeInApp,C,"argument-error"),m&&ci(C,D,m),yield zp(C,D)})).apply(this,arguments)}function lu(y,p){const m=Bo.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function zd(y,p,m){return ya.apply(this,arguments)}function ya(){return(ya=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y),D=ks.credentialWithLink(p,m||Vr());return Ue(D._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Us(C,D)})).apply(this,arguments)}function Dc(y,p){return rs.apply(this,arguments)}function rs(){return(rs=(0,e.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:createAuthUri",at(y,p))})).apply(this,arguments)}function il(y,p){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,e.Z)(function*(y,p){const C={identifier:p,continueUri:Hn()?Vr():"http://localhost"},{signinMethods:D}=yield Dc((0,L.m9)(y),C);return D||[]})).apply(this,arguments)}function cu(y,p){return Go.apply(this,arguments)}function Go(){return(Go=(0,e.Z)(function*(y,p){const m=(0,L.m9)(y),D={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&ci(m.auth,D,p);const{email:x}=yield yc(m.auth,D);x!==y.email&&(yield y.reload())})).apply(this,arguments)}function os(y,p,m){return du.apply(this,arguments)}function du(){return(du=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&ci(C.auth,x,m);const{email:$}=yield Hd(C.auth,x);$!==y.email&&(yield y.reload())})).apply(this,arguments)}function Kp(y,p){return is.apply(this,arguments)}function is(){return(is=(0,e.Z)(function*(y,p){return rn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function sr(y,p){return hu.apply(this,arguments)}function hu(){return(hu=(0,e.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const C=(0,L.m9)(y),x={idToken:yield C.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},$=yield At(C,Kp(C.auth,x));C.displayName=$.displayName||null,C.photoURL=$.photoUrl||null;const pe=C.providerData.find(({providerId:Je})=>"password"===Je);pe&&(pe.displayName=C.displayName,pe.photoURL=C.photoURL),yield C._updateTokensIfNecessary($)})).apply(this,arguments)}function Yp(y,p){return ef((0,L.m9)(y),p,null)}function Xp(y,p){return ef((0,L.m9)(y),null,p)}function ef(y,p,m){return ss.apply(this,arguments)}function ss(){return(ss=(0,e.Z)(function*(y,p,m){const{auth:C}=y,x={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(x.email=p),m&&(x.password=m);const $=yield At(y,$d(C,x));yield y._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class di{constructor(p,m,C={}){this.isNewUser=p,this.providerId=m,this.profile=C}}class pu extends di{constructor(p,m,C,D){super(p,m,C),this.username=D}}class Kd extends di{constructor(p,m){super(p,"facebook.com",m)}}class Yd extends pu{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class va extends di{constructor(p,m){super(p,"google.com",m)}}class go extends pu{constructor(p,m,C){super(p,"twitter.com",m,C)}}function Ca(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Qd(y){var p,m;if(!y)return null;const{providerId:C}=y,D=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},x=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&(null==y?void 0:y.idToken)){const $=null===(m=null===(p=qe(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if($)return new di(x,"anonymous"!==$&&"custom"!==$?$:null)}if(!C)return null;switch(C){case"facebook.com":return new Kd(x,D);case"github.com":return new Yd(x,D);case"google.com":return new va(x,D);case"twitter.com":return new go(x,D,y.screenName||null);case"custom":case"anonymous":return new di(x,null);default:return new di(x,C,D)}}(m)}class Zo{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Zo("enroll",p)}static _fromMfaPendingCredential(p){return new Zo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,C;if(null!=p&&p.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Zo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return Zo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Vs{constructor(p,m,C){this.session=p,this.hints=m,this.signInResolver=C}static _fromError(p,m){const C=Yn(p),D=m.customData._serverResponse,x=(D.mfaInfo||[]).map(pe=>Pi._fromServerResponse(C,pe));Ue(D.mfaPendingCredential,C,"internal-error");const $=Zo._fromMfaPendingCredential(D.mfaPendingCredential);return new Vs($,x,function(){var pe=(0,e.Z)(function*(Je){const Re=yield Je._process(C,$);delete D.mfaInfo,delete D.mfaPendingCredential;const Ct=Object.assign(Object.assign({},D),{idToken:Re.idToken,refreshToken:Re.refreshToken});switch(m.operationType){case"signIn":const hn=yield Mr._fromIdTokenResponse(C,m.operationType,Ct);return yield C._updateCurrentUser(hn.user),hn;case"reauthenticate":return Ue(m.user,C,"internal-error"),Mr._forOperation(m.user,m.operationType,Ct);default:vn(C,"internal-error")}});return function(Je){return pe.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,e.Z)(function*(){return m.signInResolver(p)})()}}function fu(y,p){var m;const C=(0,L.m9)(y),D=p;return Ue(p.customData.operationType,C,"argument-error"),Ue(null===(m=D.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),Vs._fromError(C,D)}function as(y,p){return rn(y,"POST","/v2/accounts/mfaEnrollment:start",at(y,p))}class se{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>Pi._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new se(p)}getSession(){var p=this;return(0,e.Z)(function*(){return Zo._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var C=this;return(0,e.Z)(function*(){const D=p,x=yield C.getSession(),$=yield At(C.user,D._process(C.user.auth,x,m));return yield C.user._updateTokensIfNecessary($),C.user.reload()})()}unenroll(p){var m=this;return(0,e.Z)(function*(){var C;const D="string"==typeof p?p:p.uid,x=yield m.user.getIdToken(),$=yield At(m.user,function mr(y,p){return rn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",at(y,p))}(m.user.auth,{idToken:x,mfaEnrollmentId:D}));m.enrolledFactors=m.enrolledFactors.filter(({uid:pe})=>pe!==D),yield m.user._updateTokensIfNecessary($);try{yield m.user.reload()}catch(pe){if("auth/user-token-expired"!==(null===(C=pe)||void 0===C?void 0:C.code))throw pe}})()}}const gu=new WeakMap;function mu(y){const p=(0,L.m9)(y);return gu.has(p)||gu.set(p,se._fromUser(p)),gu.get(p)}const Ta="__sak";class Ri{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ta,"1"),this.storage.removeItem(Ta),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const pi=(()=>{class y extends Ri{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,C)=>this.onStorageEvent(m,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wa(){const y=(0,L.z$)();return Kn(y)||gt(y)}()&&function Hu(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Hr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const D=this.storage.getItem(C),x=this.localCache[C];D!==x&&m(C,x,D)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((pe,Je,Re)=>{this.notifyListeners(pe,Re)});const D=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(D);if(m.newValue!==pe)null!==m.newValue?this.storage.setItem(D,m.newValue):this.storage.removeItem(D);else if(this.localCache[D]===m.newValue&&!C)return}const x=()=>{const pe=this.storage.getItem(D);!C&&this.localCache[D]===pe||this.notifyListeners(D,pe)},$=this.storage.getItem(D);!function Ut(){return(0,L.w1)()&&10===document.documentMode}()||$===m.newValue||m.newValue===m.oldValue?x():setTimeout(x,10)}notifyListeners(m,C){this.localCache[m]=C;const D=this.listeners[m];if(D)for(const x of Array.from(D))x(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var D=()=>super._set,x=this;return(0,e.Z)(function*(){yield D().call(x,m,C),x.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,D=this;return(0,e.Z)(function*(){const x=yield C().call(D,m);return D.localCache[m]=JSON.stringify(x),x})()}_remove(m){var C=()=>super._remove,D=this;return(0,e.Z)(function*(){yield C().call(D,m),delete D.localCache[m]})()}}return y.type="LOCAL",y})(),ba=(()=>{class y extends Ri{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return y.type="SESSION",y})();let al=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(x=>x.isListeningto(m));if(C)return C;const D=new y(m);return this.receivers.push(D),D}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,e.Z)(function*(){const D=m,{eventId:x,eventType:$,data:pe}=D.data,Je=C.handlersMap[$];if(null==Je||!Je.size)return;D.ports[0].postMessage({status:"ack",eventId:x,eventType:$});const Re=Array.from(Je).map(function(){var hn=(0,e.Z)(function*(bn){return bn(D.origin,pe)});return function(bn){return hn.apply(this,arguments)}}()),Ct=yield function sl(y){return Promise.all(y.map(function(){var p=(0,e.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return p.apply(this,arguments)}}()))}(Re);D.ports[0].postMessage({status:"done",eventId:x,eventType:$,response:Ct})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function jn(y="",p=10){let m="";for(let C=0;C<p;C++)m+=Math.floor(10*Math.random());return y+m}class Aa{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,C=50){var D=this;return(0,e.Z)(function*(){const x="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let $,pe;return new Promise((Je,Re)=>{const Ct=jn("",20);x.port1.start();const hn=setTimeout(()=>{Re(new Error("unsupported_event"))},C);pe={messageChannel:x,onMessage(bn){const ao=bn;if(ao.data.eventId===Ct)switch(ao.data.status){case"ack":clearTimeout(hn),$=setTimeout(()=>{Re(new Error("timeout"))},3e3);break;case"done":clearTimeout($),Je(ao.data.response);break;default:clearTimeout(hn),clearTimeout($),Re(new Error("invalid_response"))}}},D.handlers.add(pe),x.port1.addEventListener("message",pe.onMessage),D.target.postMessage({eventType:p,eventId:Ct,data:m},[x.port2])}).finally(()=>{pe&&D.removeMessageHandler(pe)})})()}}function sn(){return window}function Zn(){return void 0!==sn().WorkerGlobalScope&&"function"==typeof sn().importScripts}function Fi(){return(Fi=(0,e.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const No="firebaseLocalStorageDb",yu="firebaseLocalStorage",Nc="fbase_key";class Ia{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ul(y,p){return y.transaction([yu],p?"readwrite":"readonly").objectStore(yu)}function Ea(){const y=indexedDB.open(No,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(yu,{keyPath:Nc})}catch(D){m(D)}}),y.addEventListener("success",(0,e.Z)(function*(){const C=y.result;C.objectStoreNames.contains(yu)?p(C):(C.close(),yield function eh(){const y=indexedDB.deleteDatabase(No);return new Ia(y).toPromise()}(),p(yield Ea()))}))})}function vu(y,p,m){return us.apply(this,arguments)}function us(){return(us=(0,e.Z)(function*(y,p,m){const C=ul(y,!0).put({[Nc]:p,value:m});return new Ia(C).toPromise()})).apply(this,arguments)}function Mc(){return(Mc=(0,e.Z)(function*(y,p){const m=ul(y,!1).get(p),C=yield new Ia(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function er(y,p){const m=ul(y,!0).delete(p);return new Ia(m).toPromise()}const Cu=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,e.Z)(function*(){return m.db||(m.db=yield Ea()),m.db})()}_withRetries(m){var C=this;return(0,e.Z)(function*(){let D=0;for(;;)try{const x=yield C._openDb();return yield m(x)}catch(x){if(D++>3)throw x;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,e.Z)(function*(){return Zn()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,e.Z)(function*(){m.receiver=al._getInstance(function Zc(){return Zn()?self:null}()),m.receiver._subscribe("keyChanged",function(){var C=(0,e.Z)(function*(D,x){return{keyProcessed:(yield m._poll()).includes(x.key)}});return function(D,x){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,e.Z)(function*(D,x){return["keyChanged"]});return function(D,x){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,e.Z)(function*(){var C,D;if(m.activeServiceWorker=yield function Jo(){return Fi.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Aa(m.activeServiceWorker);const x=yield m.sender._send("ping",{},800);!x||(null===(C=x[0])||void 0===C?void 0:C.fulfilled)&&(null===(D=x[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,e.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function br(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,e.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ea();return yield vu(m,Ta,"1"),yield er(m,Ta),!0}catch(m){}return!1})()}_withPendingWrite(m){var C=this;return(0,e.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var D=this;return(0,e.Z)(function*(){return D._withPendingWrite((0,e.Z)(function*(){return yield D._withRetries(x=>vu(x,m,C)),D.localCache[m]=C,D.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,e.Z)(function*(){const D=yield C._withRetries(x=>function rf(y,p){return Mc.apply(this,arguments)}(x,m));return C.localCache[m]=D,D})()}_remove(m){var C=this;return(0,e.Z)(function*(){return C._withPendingWrite((0,e.Z)(function*(){return yield C._withRetries(D=>er(D,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,e.Z)(function*(){const C=yield m._withRetries($=>{const pe=ul($,!1).getAll();return new Ia(pe).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const D=[],x=new Set;for(const{fbase_key:$,value:pe}of C)x.add($),JSON.stringify(m.localCache[$])!==JSON.stringify(pe)&&(m.notifyListeners($,pe),D.push($));for(const $ of Object.keys(m.localCache))m.localCache[$]&&!x.has($)&&(m.notifyListeners($,null),D.push($));return D})()}notifyListeners(m,C){this.localCache[m]=C;const D=this.listeners[m];if(D)for(const x of Array.from(D))x(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,e.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ar(y,p){return rn(y,"POST","/v2/accounts/mfaSignIn:start",at(y,p))}function ls(){return(ls=(0,e.Z)(function*(y){return(yield rn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function js(y){return new Promise((p,m)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=p,C.onerror=D=>{const x=gn("internal-error");x.customData=D,m(x)},C.type="text/javascript",C.charset="UTF-8",function cs(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(C)})}function dl(y){return`__${y}${Math.floor(1e6*Math.random())}`}const zo=1e12;class Ir{constructor(p){this.auth=p,this.counter=zo,this._widgets=new Map}render(p,m){const C=this.counter;return this._widgets.set(C,new Wr(p,this.auth.name,m||{})),this.counter++,C}reset(p){var m;const C=p||zo;null===(m=this._widgets.get(C))||void 0===m||m.delete(),this._widgets.delete(C)}getResponse(p){var m;return(null===(m=this._widgets.get(p||zo))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,e.Z)(function*(){var C;return null===(C=m._widgets.get(p||zo))||void 0===C||C.execute(),""})()}}class Wr{constructor(p,m,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof p?document.getElementById(p):p;Ue(D,"argument-error",{appName:m}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Pc(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<y;C++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fi=dl("rcb"),tr=new qt(3e4,6e4);class Da{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=sn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return Ue(function $s(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(sn().grecaptcha):new Promise((C,D)=>{const x=sn().setTimeout(()=>{D(gn(p,"network-request-failed"))},tr.get());sn()[fi]=()=>{sn().clearTimeout(x),delete sn()[fi];const pe=sn().grecaptcha;if(!pe)return void D(gn(p,"internal-error"));const Je=pe.render;pe.render=(Re,Ct)=>{const hn=Je(Re,Ct);return this.counter++,hn},this.hostLanguage=m,C(pe)},js(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:fi,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(x),D(gn(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=sn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class hl{load(p){return(0,e.Z)(function*(){return new Ir(p)})()}clearedOneInstance(){}}const Hs="recaptcha",af={theme:"light",type:"image"};class wm{constructor(p,m=Object.assign({},af),C){this.parameters=m,this.type=Hs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yn(C),this.isInvisible="invisible"===this.parameters.size,Ue("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof p?document.getElementById(p):p;Ue(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hl:new Da,this.validateStartingState()}verify(){var p=this;return(0,e.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(m)||new Promise(x=>{const $=pe=>{!pe||(p.tokenChangeListeners.delete($),x(pe))};p.tokenChangeListeners.add($),p.isInvisible&&C.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Ue(!this.parameters.sitekey,this.auth,"argument-error"),Ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ue("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(C=>C(m)),"function"==typeof p)p(m);else if("string"==typeof p){const C=sn()[p];"function"==typeof C&&C(m)}}}assertNotDestroyed(){Ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,e.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const C=document.createElement("div");m.appendChild(C),m=C}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,e.Z)(function*(){Ue(Hn()&&!Zn(),p.auth,"internal-error"),yield function rh(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function cl(y){return ls.apply(this,arguments)}(p.auth);Ue(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Sa{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=kn._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function bm(y,p,m){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,e.Z)(function*(y,p,m){const C=Yn(y),D=yield Tu(C,p,(0,L.m9)(m));return new Sa(D,x=>Us(C,x))})).apply(this,arguments)}function pl(y,p,m){return xa.apply(this,arguments)}function xa(){return(xa=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y);yield Ni(!1,C,"phone");const D=yield Tu(C.auth,p,(0,L.m9)(m));return new Sa(D,x=>$o(C,x))})).apply(this,arguments)}function oh(y,p,m){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y),D=yield Tu(C.auth,p,(0,L.m9)(m));return new Sa(D,x=>tl(C,x))})).apply(this,arguments)}function Tu(y,p,m){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,e.Z)(function*(y,p,m){var C;const D=yield m.verify();try{let x;if(Ue("string"==typeof D,y,"argument-error"),Ue(m.type===Hs,y,"argument-error"),x="string"==typeof p?{phoneNumber:p}:p,"session"in x){const $=x.session;if("phoneNumber"in x)return Ue("enroll"===$.type,y,"internal-error"),(yield as(y,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{Ue("signin"===$.type,y,"internal-error");const pe=(null===(C=x.multiFactorHint)||void 0===C?void 0:C.uid)||x.multiFactorUid;return Ue(pe,y,"missing-multi-factor-info"),(yield Ar(y,{mfaPendingCredential:$.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield Ku(y,{phoneNumber:x.phoneNumber,recaptchaToken:D});return $}}finally{m._reset()}})).apply(this,arguments)}function wu(y,p){return gi.apply(this,arguments)}function gi(){return(gi=(0,e.Z)(function*(y,p){yield ns((0,L.m9)(y),p)})).apply(this,arguments)}let Gs=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Yn(m)}verifyPhoneNumber(m,C){return Tu(this.auth,m,(0,L.m9)(C))}static credential(m,C){return kn._fromVerification(m,C)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:D}=m;return C&&D?kn._fromTokenResponse(C,D):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function dn(y,p){return p?nn(p):(Ue(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class mi extends kr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ui(p,this._buildIdpRequest())}_linkToIdToken(p,m){return ui(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return ui(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function ka(y){return Xn(y.auth,new mi(y),y.bypassAuthState)}function A(y){const{auth:p,user:m}=y;return Ue(m,p,"internal-error"),Tc(m,new mi(y),y.bypassAuthState)}function I(y){return k.apply(this,arguments)}function k(){return(k=(0,e.Z)(function*(y){const{auth:p,user:m}=y;return Ue(m,p,"internal-error"),ns(m,new mi(y),y.bypassAuthState)})).apply(this,arguments)}class O{constructor(p,m,C,D,x=!1){this.auth=p,this.resolver=C,this.user=D,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,e.Z)(function*(C,D){p.pendingPromise={resolve:C,reject:D};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(x){p.reject(x)}});return function(C,D){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,e.Z)(function*(){const{urlResponse:C,sessionId:D,postBody:x,tenantId:$,error:pe,type:Je}=p;if(pe)return void m.reject(pe);const Re={auth:m.auth,requestUri:C,sessionId:D,tenantId:$||void 0,postBody:x||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Je)(Re))}catch(Ct){m.reject(Ct)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ka;case"linkViaPopup":case"linkViaRedirect":return I;case"reauthViaPopup":case"reauthViaRedirect":return A;default:vn(this.auth,"internal-error")}}resolve(p){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const K=new qt(2e3,1e4);function ae(y,p,m){return xe.apply(this,arguments)}function xe(){return(xe=(0,e.Z)(function*(y,p,m){const C=Yn(y);Cr(y,p,Nr);const D=dn(C,m);return new mt(C,"signInViaPopup",p,D).executeNotNull()})).apply(this,arguments)}function Ge(y,p,m){return ut.apply(this,arguments)}function ut(){return(ut=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y);Cr(C.auth,p,Nr);const D=dn(C.auth,m);return new mt(C.auth,"reauthViaPopup",p,D,C).executeNotNull()})).apply(this,arguments)}function Ot(y,p,m){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y);Cr(C.auth,p,Nr);const D=dn(C.auth,m);return new mt(C.auth,"linkViaPopup",p,D,C).executeNotNull()})).apply(this,arguments)}let mt=(()=>{class y extends O{constructor(m,C,D,x,$){super(m,C,x,$),this.provider=D,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,e.Z)(function*(){const C=yield m.execute();return Ue(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,e.Z)(function*(){st(1===m.filter.length,"Popup operations only handle one event");const C=jn();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(D=>{m.reject(D)}),m.resolver._isIframeWebStorageSupported(m.auth,D=>{D||m.reject(gn(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,D;this.pollId=null!==(D=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,K.get())};m()}}return y.currentPopupAction=null,y})();const $n=new Map;class Vi extends O{constructor(p,m,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,e.Z)(function*(){let C=$n.get(m.auth._key());if(!C){try{const x=(yield function Bi(y,p){return Er.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;C=()=>Promise.resolve(x)}catch(D){C=()=>Promise.reject(D)}$n.set(m.auth._key(),C)}return m.bypassAuthState||$n.set(m.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,C=this;return(0,e.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(C,p);if("unknown"!==p.type){if(p.eventId){const D=yield C.auth._redirectUserForId(p.eventId);if(D)return C.user=D,m().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,e.Z)(function*(){})()}cleanUp(){}}function Er(){return(Er=(0,e.Z)(function*(y,p){const m=fl(p),C=fs(y);if(!(yield C._isAvailable()))return!1;const D="true"===(yield C._get(m));return yield C._remove(m),D})).apply(this,arguments)}function ds(y,p){return hs.apply(this,arguments)}function hs(){return(hs=(0,e.Z)(function*(y,p){return fs(y)._set(fl(p),"true")})).apply(this,arguments)}function ps(){$n.clear()}function _i(y,p){$n.set(y._key(),p)}function fs(y){return nn(y._redirectPersistence)}function fl(y){return Do("pendingRedirect",y.config.apiKey,y.name)}function Am(y,p,m){return function uf(y,p,m){return ih.apply(this,arguments)}(y,p,m)}function ih(){return(ih=(0,e.Z)(function*(y,p,m){const C=Yn(y);Cr(y,p,Nr);const D=dn(C,m);return yield ds(D,C),D._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function sh(y,p,m){return function lf(y,p,m){return Uc.apply(this,arguments)}(y,p,m)}function Uc(){return(Uc=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y);Cr(C.auth,p,Nr);const D=dn(C.auth,m);yield ds(D,C.auth);const x=yield gl(C);return D._openRedirect(C.auth,p,"reauthViaRedirect",x)})).apply(this,arguments)}function Im(y,p,m){return function cf(y,p,m){return Oc.apply(this,arguments)}(y,p,m)}function Oc(){return(Oc=(0,e.Z)(function*(y,p,m){const C=(0,L.m9)(y);Cr(C.auth,p,Nr);const D=dn(C.auth,m);yield Ni(!1,C,p.providerId),yield ds(D,C.auth);const x=yield gl(C);return D._openRedirect(C.auth,p,"linkViaRedirect",x)})).apply(this,arguments)}function Em(y,p){return Za.apply(this,arguments)}function Za(){return(Za=(0,e.Z)(function*(y,p){return yield Yn(y)._initializationPromise,ah(y,p,!1)})).apply(this,arguments)}function ah(y,p){return uh.apply(this,arguments)}function uh(){return(uh=(0,e.Z)(function*(y,p,m=!1){const C=Yn(y),D=dn(C,p),$=yield new Vi(C,D,m).execute();return $&&!m&&(delete $.user._redirectEventId,yield C._persistUserIfCurrent($.user),yield C._setRedirectUser(null,p)),$})).apply(this,arguments)}function gl(y){return gs.apply(this,arguments)}function gs(){return(gs=(0,e.Z)(function*(y){const p=jn(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class lh{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(m=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function dh(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return so(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var C;if(p.error&&!so(p)){const D=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(gn(this.auth,D))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const C=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ch(p))}saveEventToCache(p){this.cachedEventUids.add(ch(p)),this.lastProcessedEventTime=Date.now()}}function ch(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function so({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Rc(y){return ml.apply(this,arguments)}function ml(){return(ml=(0,e.Z)(function*(y,p={}){return rn(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Dm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sm=/^https?/;function df(){return(df=(0,e.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Rc(y);for(const m of p)try{if(km(m))return}catch(C){}vn(y,"unauthorized-domain")})).apply(this,arguments)}function km(y){const p=Vr(),{protocol:m,hostname:C}=new URL(p);if(y.startsWith("chrome-extension://")){const $=new URL(y);return""===$.hostname&&""===C?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&$.hostname===C}if(!Sm.test(m))return!1;if(Dm.test(y))return C===y;const D=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(C)}const hf=new qt(3e4,6e4);function pf(){const y=sn().___jsl;if(null!=y&&y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Nn=null;function ms(y){return Nn=Nn||function ff(y){return new Promise((p,m)=>{var C,D,x;function $(){pf(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{pf(),m(gn(y,"network-request-failed"))},timeout:hf.get()})}if(null!==(D=null===(C=sn().gapi)||void 0===C?void 0:C.iframes)&&void 0!==D&&D.Iframe)p(gapi.iframes.getContext());else{if(null===(x=sn().gapi)||void 0===x||!x.load){const pe=dl("iframefcb");return sn()[pe]=()=>{gapi.load?$():m(gn(y,"network-request-failed"))},js(`https://apis.google.com/js/api.js?onload=${pe}`).catch(Je=>m(Je))}$()}}).catch(p=>{throw Nn=null,p})}(y),Nn}const Zm=new qt(5e3,15e3),$w={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a0(y){const p=y.config;Ue(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?We(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:y.name,v:M.SDK_VERSION},D=Mm.get(y.config.apiHost);D&&(C.eid=D);const x=y._getFrameworks();return x.length&&(C.fw=x.join(",")),`${m}?${(0,L.xO)(C).slice(1)}`}function ph(){return ph=(0,e.Z)(function*(y){const p=yield ms(y),m=sn().gapi;return Ue(m,y,"internal-error"),p.open({where:document.body,url:a0(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$w,dontclear:!0},C=>new Promise(function(){var D=(0,e.Z)(function*(x,$){yield C.restyle({setHideOnLeave:!1});const pe=gn(y,"network-request-failed"),Je=sn().setTimeout(()=>{$(pe)},Zm.get());function Re(){sn().clearTimeout(Je),x(C)}C.ping(Re).then(Re,()=>{$(pe)})});return function(x,$){return D.apply(this,arguments)}}()))}),ph.apply(this,arguments)}const gf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yi{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function yl(y,p,m,C,D,x){Ue(y.config.authDomain,y,"auth-domain-config-required"),Ue(y.config.apiKey,y,"invalid-api-key");const $={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:C,v:M.SDK_VERSION,eventId:D};if(p instanceof Nr){p.setDefaultLanguage(y.languageCode),$.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||($.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Je,Re]of Object.entries(x||{}))$[Je]=Re}if(p instanceof jo){const Je=p.getScopes().filter(Re=>""!==Re);Je.length>0&&($.scopes=Je.join(","))}y.tenantId&&($.tid=y.tenantId);const pe=$;for(const Je of Object.keys(pe))void 0===pe[Je]&&delete pe[Je];return`${function _f({config:y}){return y.emulator?We(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,L.xO)(pe).slice(1)}`}const Na="webStorageSupport",yf=class u0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ba,this._completeRedirectFn=ah,this._overrideRedirectResult=_i}_openPopup(p,m,C,D){var x=this;return(0,e.Z)(function*(){var $;st(null===($=x.eventManagers[p._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const pe=yl(p,m,C,Vr(),D);return function mf(y,p,m,C=500,D=600){const x=Math.max((window.screen.availHeight-D)/2,0).toString(),$=Math.max((window.screen.availWidth-C)/2,0).toString();let pe="";const Je=Object.assign(Object.assign({},gf),{width:C.toString(),height:D.toString(),top:x,left:$}),Re=(0,L.z$)().toLowerCase();m&&(pe=jr(Re)?"_blank":m),Ki(Re)&&(p=p||"http://localhost",Je.scrollbars="yes");const Ct=Object.entries(Je).reduce((bn,[ao,ys])=>`${bn}${ao}=${ys},`,"");if(function Vd(y=(0,L.z$)()){var p;return gt(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Re)&&"_self"!==pe)return function Yo(y,p){const m=document.createElement("a");m.href=y,m.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(p||"",pe),new yi(null);const hn=window.open(p||"",pe,Ct);Ue(hn,y,"popup-blocked");try{hn.focus()}catch(bn){}return new yi(hn)}(p,pe,jn())})()}_openRedirect(p,m,C,D){var x=this;return(0,e.Z)(function*(){return yield x._originValidation(p),function Pr(y){sn().location.href=y}(yl(p,m,C,Vr(),D)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:D,promise:x}=this.eventManagers[m];return D?Promise.resolve(D):(st(x,"If manager is not set, promise should be"),x)}const C=this.initAndGetManager(p);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}initAndGetManager(p){var m=this;return(0,e.Z)(function*(){const C=yield function hh(y){return ph.apply(this,arguments)}(p),D=new lh(p);return C.register("authEvent",x=>(Ue(null==x?void 0:x.authEvent,p,"invalid-auth-event"),{status:D.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:D},m.iframes[p._key()]=C,D})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Na,{type:Na},D=>{var x;const $=null===(x=null==D?void 0:D[0])||void 0===x?void 0:x[Na];void 0!==$&&m(!!$),vn(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function xm(y){return df.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Hr()||Kn()||gt()}};class zr extends class gh{constructor(p){this.factorId=p}_process(p,m,C){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,C);case"signin":return this._finalizeSignIn(p,m.credential);default:return or("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new zr(p)}_finalizeEnroll(p,m,C){return function Oi(y,p){return rn(y,"POST","/v2/accounts/mfaEnrollment:finalize",at(y,p))}(p,{idToken:m,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Wo(y,p){return rn(y,"POST","/v2/accounts/mfaSignIn:finalize",at(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Xo=(()=>{class y{constructor(){}static assertion(m){return zr._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Rm="@firebase/auth";class Cf{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,e.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(C=>{var D;p((null===(D=C)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function mh(y){(0,M._registerComponent)(new le.wA("auth",(p,{options:m})=>{const C=p.getProvider("app").getImmediate(),D=p.getProvider("heartbeat"),{apiKey:x,authDomain:$}=C.options;return((pe,Je)=>{Ue(x&&!x.includes(":"),"invalid-api-key",{appName:pe.name}),Ue(!(null!=$&&$.includes(":")),"argument-error",{appName:pe.name});const Re={apiKey:x,authDomain:$,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Es(y)},Ct=new Vo(pe,Je,Re);return function wr(y,p){const m=(null==p?void 0:p.persistence)||[],C=(Array.isArray(m)?m:[m]).map(nn);null!=p&&p.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(C,null==p?void 0:p.popupRedirectResolver)}(Ct,m),Ct})(C,D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,C)=>{p.getProvider("auth-internal").initialize()})),(0,M._registerComponent)(new le.wA("auth-internal",p=>{const m=Yn(p.getProvider("auth").getImmediate());return new Cf(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,M.registerVersion)(Rm,"0.20.5",function l0(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,M.registerVersion)(Rm,"0.20.5","esm2017")}("Browser")},2090:(rt,Te,P)=>{P.d(Te,{$s:()=>Fn,BH:()=>Ve,G6:()=>He,L:()=>ce,LL:()=>le,Mn:()=>Ee,Sg:()=>Ne,UG:()=>ve,US:()=>he,ZB:()=>H,ZR:()=>me,b$:()=>dt,d:()=>Be,eu:()=>De,hl:()=>Ce,jU:()=>ge,m9:()=>En,ne:()=>st,pd:()=>Ue,r3:()=>Bn,ru:()=>ot,tV:()=>_e,uI:()=>it,vZ:()=>vn,w1:()=>ke,xO:()=>Cr,xb:()=>Pn,z$:()=>we,zI:()=>Y,zd:()=>ro});const re=function(B){const j=[];let F=0;for(let J=0;J<B.length;J++){let z=B.charCodeAt(J);z<128?j[F++]=z:z<2048?(j[F++]=z>>6|192,j[F++]=63&z|128):55296==(64512&z)&&J+1<B.length&&56320==(64512&B.charCodeAt(J+1))?(z=65536+((1023&z)<<10)+(1023&B.charCodeAt(++J)),j[F++]=z>>18|240,j[F++]=z>>12&63|128,j[F++]=z>>6&63|128,j[F++]=63&z|128):(j[F++]=z>>12|224,j[F++]=z>>6&63|128,j[F++]=63&z|128)}return j},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,j){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,J=[];for(let z=0;z<B.length;z+=3){const Ze=B[z],Ye=z+1<B.length,yt=Ye?B[z+1]:0,ln=z+2<B.length,on=ln?B[z+2]:0;let q=(15&yt)<<2|on>>6,V=63&on;ln||(V=64,Ye||(q=64)),J.push(F[Ze>>2],F[(3&Ze)<<4|yt>>4],F[q],F[V])}return J.join("")},encodeString(B,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(B):this.encodeByteArray(re(B),j)},decodeString(B,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(B):function(B){const j=[];let F=0,J=0;for(;F<B.length;){const z=B[F++];if(z<128)j[J++]=String.fromCharCode(z);else if(z>191&&z<224){const Ze=B[F++];j[J++]=String.fromCharCode((31&z)<<6|63&Ze)}else if(z>239&&z<365){const ln=((7&z)<<18|(63&B[F++])<<12|(63&B[F++])<<6|63&B[F++])-65536;j[J++]=String.fromCharCode(55296+(ln>>10)),j[J++]=String.fromCharCode(56320+(1023&ln))}else{const Ze=B[F++],Ye=B[F++];j[J++]=String.fromCharCode((15&z)<<12|(63&Ze)<<6|63&Ye)}}return j.join("")}(this.decodeStringToByteArray(B,j))},decodeStringToByteArray(B,j){this.init_();const F=j?this.charToByteMapWebSafe_:this.charToByteMap_,J=[];for(let z=0;z<B.length;){const Ze=F[B.charAt(z++)],yt=z<B.length?F[B.charAt(z)]:0;++z;const on=z<B.length?F[B.charAt(z)]:64;++z;const te=z<B.length?F[B.charAt(z)]:64;if(++z,null==Ze||null==yt||null==on||null==te)throw Error();J.push(Ze<<2|yt>>4),64!==on&&(J.push(yt<<4&240|on>>2),64!==te&&J.push(on<<6&192|te))}return J},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},ce=function(B){return function(B){const j=re(B);return he.encodeByteArray(j,!0)}(B).replace(/\./g,"")},_e=function(B){try{return he.decodeString(B,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function H(B,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return j}for(const F in j)!j.hasOwnProperty(F)||!X(F)||(B[F]=H(B[F],j[F]));return B}function X(B){return"__proto__"!==B}class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,F)=>{this.resolve=j,this.reject=F})}wrapCallback(j){return(F,J)=>{F?this.reject(F):this.resolve(J),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(F):j(F,J))}}}function Ne(B,j){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const J=j||"demo-project",z=B.iat||0,Ze=B.sub||B.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ye=Object.assign({iss:`https://securetoken.google.com/${J}`,aud:J,iat:z,exp:z+3600,auth_time:z,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},B);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(Ye)),""].join(".")}function we(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function it(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(we())}function ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function ge(){return"object"==typeof self&&self.self===self}function ot(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Be(){return we().indexOf("Electron/")>=0}function ke(){const B=we();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Ee(){return we().indexOf("MSAppHost/")>=0}function He(){return!ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ce(){return"object"==typeof indexedDB}function De(){return new Promise((B,j)=>{try{let F=!0;const J="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(J);z.onsuccess=()=>{z.result.close(),F||self.indexedDB.deleteDatabase(J),B(!0)},z.onupgradeneeded=()=>{F=!1},z.onerror=()=>{var Ze;j((null===(Ze=z.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(F){j(F)}})}function Y(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class me extends Error{constructor(j,F,J){super(F),this.code=j,this.customData=J,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,le.prototype.create)}}class le{constructor(j,F,J){this.service=j,this.serviceName=F,this.errors=J}create(j,...F){const J=F[0]||{},z=`${this.service}/${j}`,Ze=this.errors[j],Ye=Ze?function Fe(B,j){return B.replace(vt,(F,J)=>{const z=j[J];return null!=z?String(z):`<${J}?>`})}(Ze,J):"Error";return new me(z,`${this.serviceName}: ${Ye} (${z}).`,J)}}const vt=/\{\$([^}]+)}/g;function Bn(B,j){return Object.prototype.hasOwnProperty.call(B,j)}function Pn(B){for(const j in B)if(Object.prototype.hasOwnProperty.call(B,j))return!1;return!0}function vn(B,j){if(B===j)return!0;const F=Object.keys(B),J=Object.keys(j);for(const z of F){if(!J.includes(z))return!1;const Ze=B[z],Ye=j[z];if(gn(Ze)&&gn(Ye)){if(!vn(Ze,Ye))return!1}else if(Ze!==Ye)return!1}for(const z of J)if(!F.includes(z))return!1;return!0}function gn(B){return null!==B&&"object"==typeof B}function Cr(B){const j=[];for(const[F,J]of Object.entries(B))Array.isArray(J)?J.forEach(z=>{j.push(encodeURIComponent(F)+"="+encodeURIComponent(z))}):j.push(encodeURIComponent(F)+"="+encodeURIComponent(J));return j.length?"&"+j.join("&"):""}function ro(B){const j={};return B.replace(/^\?/,"").split("&").forEach(J=>{if(J){const[z,Ze]=J.split("=");j[decodeURIComponent(z)]=decodeURIComponent(Ze)}}),j}function Ue(B){const j=B.indexOf("?");if(!j)return"";const F=B.indexOf("#",j);return B.substring(j,F>0?F:void 0)}function st(B,j){const F=new Tr(B,j);return F.subscribe.bind(F)}class Tr{constructor(j,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{j(this)}).catch(J=>{this.error(J)})}next(j){this.forEachObserver(F=>{F.next(j)})}error(j){this.forEachObserver(F=>{F.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,F,J){let z;if(void 0===j&&void 0===F&&void 0===J)throw new Error("Missing Observer.");z=function Jt(B,j){if("object"!=typeof B||null===B)return!1;for(const F of j)if(F in B&&"function"==typeof B[F])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:F,complete:J},void 0===z.next&&(z.next=wr),void 0===z.error&&(z.error=wr),void 0===z.complete&&(z.complete=wr);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch(Ye){}}),this.observers.push(z),Ze}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,j)}sendOne(j,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{F(this.observers[j])}catch(J){"undefined"!=typeof console&&console.error&&console.error(J)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wr(){}function Fn(B,j=1e3,F=2){const J=j*Math.pow(F,B),z=Math.round(.5*J*(Math.random()-.5)*2);return Math.min(144e5,J+z)}function En(B){return B&&B._delegate?B._delegate:B}},5647:(rt,Te,P)=>{var e=P(5e3);let L=null;function M(){return L}const de=new e.OlP("DocumentToken");let ce=(()=>{class r{historyGo(t){throw new Error("Not implemented")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(){return function _e(){return(0,e.LFG)(H)}()},providedIn:"platform"}),r})();const G=new e.OlP("Location Initialized");let H=(()=>{class r extends ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return M().getBaseHref(this._doc)}onPopState(t){const o=M().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=M().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,o,i){X()?this._history.pushState(t,o,i):this.location.hash=i}replaceState(t,o,i){X()?this._history.replaceState(t,o,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(de))},r.\u0275prov=e.Yz7({token:r,factory:function(){return function Ve(){return new H((0,e.LFG)(de))}()},providedIn:"platform"}),r})();function X(){return!!window.history.pushState}function Ne(r,n){if(0==r.length)return n;if(0==n.length)return r;let t=0;return r.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?r+n.substring(1):1==t?r+n:r+"/"+n}function we(r){const n=r.match(/#|\?|$/),t=n&&n.index||r.length;return r.slice(0,t-("/"===r[t-1]?1:0))+r.slice(t)}function it(r){return r&&"?"!==r[0]?"?"+r:r}let ve=(()=>{class r{historyGo(t){throw new Error("Not implemented")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(){return function ge(){const r=(0,e.LFG)(de).location;return new dt((0,e.LFG)(ce),r&&r.origin||"")}()},providedIn:"root"}),r})();const ot=new e.OlP("appBaseHref");let dt=(()=>{class r extends ve{constructor(t,o){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ne(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+it(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${o}${i}`:o}pushState(t,o,i,u){const d=this.prepareExternalUrl(i+it(u));this._platformLocation.pushState(t,o,d)}replaceState(t,o,i,u){const d=this.prepareExternalUrl(i+it(u));this._platformLocation.replaceState(t,o,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var o,i;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ce),e.LFG(ot,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),Be=(()=>{class r extends ve{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=Ne(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,i,u){let d=this.prepareExternalUrl(i+it(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,o,d)}replaceState(t,o,i,u){let d=this.prepareExternalUrl(i+it(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){var o,i;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ce),e.LFG(ot,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),ke=(()=>{class r{constructor(t){this._subject=new e.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const o=this._locationStrategy.getBaseHref();this._baseHref=we(He(o)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){var t;null===(t=this._urlChangeSubscription)||void 0===t||t.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+it(o))}normalize(t){return r.stripTrailingSlash(function Qe(r,n){return r&&n.startsWith(r)?n.substring(r.length):n}(this._baseHref,He(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,o="",i=null){this._locationStrategy.pushState(i,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(o)),i)}replaceState(t,o="",i=null){this._locationStrategy.replaceState(i,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){var o,i;null===(i=(o=this._locationStrategy).historyGo)||void 0===i||i.call(o,t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{var o;const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(null===(o=this._urlChangeSubscription)||void 0===o||o.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(i=>i(t,o))}subscribe(t,o,i){return this._subject.subscribe({next:t,error:o,complete:i})}}return r.normalizeQueryParams=it,r.joinWithSlash=Ne,r.stripTrailingSlash=we,r.\u0275fac=function(t){return new(t||r)(e.LFG(ve))},r.\u0275prov=e.Yz7({token:r,factory:function(){return function Ee(){return new ke((0,e.LFG)(ve))}()},providedIn:"root"}),r})();function He(r){return r.replace(/\/index.html$/,"")}function Kn(r,n){n=encodeURIComponent(n);for(const t of r.split(";")){const o=t.indexOf("="),[i,u]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(i.trim()===n)return decodeURIComponent(u)}return null}let jr=(()=>{class r{constructor(t,o,i,u){this._iterableDiffers=t,this._keyValueDiffers=o,this._ngEl=i,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,e.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,e.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),t.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!0)):Object.keys(t).forEach(o=>this._toggleClass(o,!!t[o])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!1)):Object.keys(t).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(t,o){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{o?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.ZZ4),e.Y36(e.aQg),e.Y36(e.SBq),e.Y36(e.Qsj))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),r})();class dc{constructor(n,t,o,i){this.$implicit=n,this.ngForOf=t,this.index=o,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gt=(()=>{class r{constructor(t,o,i){this._viewContainer=t,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const o=this._viewContainer;t.forEachOperation((i,u,d)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new dc(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)o.remove(null===u?void 0:u);else if(null!==u){const g=o.get(u);o.move(g,d),nu(g,i)}});for(let i=0,u=o.length;i<u;i++){const g=o.get(i).context;g.index=i,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{nu(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,o){return!0}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),r})();function nu(r,n){r.context.$implicit=n.item}let Ut=(()=>{class r{constructor(t,o){this._viewContainer=t,this._context=new Hr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Hu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Hu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.s_b),e.Y36(e.Rgc))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),r})();class Hr{constructor(){this.$implicit=null,this.ngIf=null}}function Hu(r,n){if(n&&!n.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,e.AaK)(n)}'.`)}let ki=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();function Gd(r){return"server"===r}let xs=(()=>{class r{}return r.\u0275prov=(0,e.Yz7)({token:r,providedIn:"root",factory:()=>new kn((0,e.LFG)(de),window)}),r})();class kn{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function pa(r,n){const t=r.getElementById(n)||r.getElementsByName(n)[0];if(t)return t;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const o=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let i=o.currentNode;for(;i;){const u=i.shadowRoot;if(u){const d=u.getElementById(n)||u.querySelector(`[name="${n}"]`);if(d)return d}i=o.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),o=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(o-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=ou(this.window.history)||ou(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function ou(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class Zr{}class Nr extends class ks extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ue(r){L||(L=r)}(new Nr)}onAndCancel(n,t,o){return n.addEventListener(t,o,!1),()=>{n.removeEventListener(t,o,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function Gr(){return jo=jo||document.querySelector("base"),jo?jo.getAttribute("href"):null}();return null==t?null:function el(r){Yi=Yi||document.createElement("a"),Yi.setAttribute("href",r);const n=Yi.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){jo=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Kn(document.cookie,n)}}let Yi,jo=null;const ht=new e.OlP("TRANSITION_ID"),Xi=[{provide:e.ip1,useFactory:function Cc(r,n,t){return()=>{t.get(e.CZH).donePromise.then(()=>{const o=M(),i=n.querySelectorAll(`style[ng-transition="${r}"]`);for(let u=0;u<i.length;u++)o.remove(i[u])})}},deps:[ht,de,e.zs3],multi:!0}];let Zs=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const fa=new e.OlP("EventManagerPlugins");let Zi=(()=>{class r{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,o,i){return this._findPluginFor(o).addEventListener(t,o,i)}addGlobalEventListener(t,o,i){return this._findPluginFor(o).addGlobalEventListener(t,o,i)}getZone(){return this._zone}_findPluginFor(t){const o=this._eventNameToPlugin.get(t);if(o)return o;const i=this._plugins;for(let u=0;u<i.length;u++){const d=i[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(fa),e.LFG(e.R0b))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Ns{constructor(n){this._doc=n}addGlobalEventListener(n,t,o){const i=M().getGlobalEventTarget(this._doc,n);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,o)}}let Mr=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(t){const o=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),o.add(i))}),this.onStylesAdded(o)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),Se=(()=>{class r extends Mr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,o,i){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,i.push(o.appendChild(d))})}addHost(t){const o=[];this._addStylesToHost(this._stylesSet,t,o),this._hostNodes.set(t,o)}removeHost(t){const o=this._hostNodes.get(t);o&&o.forEach(jt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((o,i)=>{this._addStylesToHost(t,i,o)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(jt))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(de))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();function jt(r){M().remove(r)}const Ms={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},es=/%COMP%/g;function Ni(r,n,t){for(let o=0;o<n.length;o++){let i=n[o];Array.isArray(i)?Ni(r,i,t):(i=i.replace(es,r),t.push(i))}return t}function iu(r){return n=>{if("__ngUnwrap__"===n)return r;!1===r(n)&&(n.preventDefault(),n.returnValue=!1)}}let Mi=(()=>{class r{constructor(t,o,i){this.eventManager=t,this.sharedStylesHost=o,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Xn(t)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;switch(o.encapsulation){case e.ifc.Emulated:{let i=this.rendererByCompId.get(o.id);return i||(i=new $o(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,i)),i.applyToHost(t),i}case 1:case e.ifc.ShadowDom:return new su(this.eventManager,this.sharedStylesHost,t,o);default:if(!this.rendererByCompId.has(o.id)){const i=Ni(o.id,o.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Zi),e.LFG(Se),e.LFG(e.AFp))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Xn{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(Ms[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){(li(n)?n.content:n).appendChild(t)}insertBefore(n,t,o){n&&(li(n)?n.content:n).insertBefore(t,o)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let o="string"==typeof n?document.querySelector(n):n;if(!o)throw new Error(`The selector "${n}" did not match any elements`);return t||(o.textContent=""),o}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,o,i){if(i){t=i+":"+t;const u=Ms[i];u?n.setAttributeNS(u,t,o):n.setAttribute(t,o)}else n.setAttribute(t,o)}removeAttribute(n,t,o){if(o){const i=Ms[o];i?n.removeAttributeNS(i,t):n.removeAttribute(`${o}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,o,i){i&(e.JOm.DashCase|e.JOm.Important)?n.style.setProperty(t,o,i&e.JOm.Important?"important":""):n.style[t]=o}removeStyle(n,t,o){o&e.JOm.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,o){n[t]=o}setValue(n,t){n.nodeValue=t}listen(n,t,o){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,iu(o)):this.eventManager.addEventListener(n,t,iu(o))}}function li(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class $o extends Xn{constructor(n,t,o,i){super(n),this.component=o;const u=Ni(i+"-"+o.id,o.styles,[]);t.addStyles(u),this.contentAttr=function ns(r){return"_ngcontent-%COMP%".replace(es,r)}(i+"-"+o.id),this.hostAttr=function Ps(r){return"_nghost-%COMP%".replace(es,r)}(i+"-"+o.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,t){const o=super.createElement(n,t);return super.setAttribute(o,this.contentAttr,""),o}}class su extends Xn{constructor(n,t,o,i){super(n),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Ni(i.id,i.styles,[]);for(let d=0;d<u.length;d++){const g=document.createElement("style");g.textContent=u[d],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,o){return super.insertBefore(this.nodeOrShadowRoot(n),t,o)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let tl=(()=>{class r extends Ns{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,i){return t.addEventListener(o,i,!1),()=>this.removeEventListener(t,o,i)}removeEventListener(t,o,i){return t.removeEventListener(o,i)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(de))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Os=["alt","control","meta","shift"],Rs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ls={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},au={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let Pi=(()=>{class r extends Ns{constructor(t){super(t)}supports(t){return null!=r.parseEventName(t)}addEventListener(t,o,i){const u=r.parseEventName(o),d=r.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>M().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const o=t.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const u=r._normalizeKey(o.pop());let d="";if(Os.forEach(v=>{const w=o.indexOf(v);w>-1&&(o.splice(w,1),d+=v+".")}),d+=u,0!=o.length||0===u.length)return null;const g={};return g.domEventName=i,g.fullKey=d,g}static getEventFullKey(t){let o="",i=function nl(r){let n=r.key;if(null==n){if(n=r.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===r.location&&Ls.hasOwnProperty(n)&&(n=Ls[n]))}return Rs[n]||n}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Os.forEach(u=>{u!=i&&(0,au[u])(t)&&(o+=u+".")}),o+=i,o}static eventCallback(t,o,i){return u=>{r.getEventFullKey(u)===t&&i.runGuarded(()=>o(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(de))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const uu=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:"browser"},{provide:e.g9A,useValue:function wc(){Nr.makeCurrent()},multi:!0},{provide:de,useFactory:function bc(){return(0,e.RDi)(document),document},deps:[]}]),_a=new e.OlP(""),gr=[{provide:e.rWj,useClass:class Jd{addToWindow(n){e.dqk.getAngularTestability=(o,i=!0)=>{const u=n.findTestabilityInTree(o,i);if(null==u)throw new Error("Could not find testability for element.");return u},e.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(o=>{const i=e.dqk.getAllAngularTestabilities();let u=i.length,d=!1;const g=function(v){d=d||v,u--,0==u&&o(d)};i.forEach(function(v){v.whenStable(g)})})}findTestabilityInTree(n,t,o){if(null==t)return null;const i=n.getTestability(t);return null!=i?i:o?M().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null}},deps:[]},{provide:e.lri,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b,e.eoX,e.rWj]}],ko=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function Fs(){return new e.qLn},deps:[]},{provide:fa,useClass:tl,multi:!0,deps:[de,e.R0b,e.Lbi]},{provide:fa,useClass:Pi,multi:!0,deps:[de]},{provide:Mi,useClass:Mi,deps:[Zi,Se,e.AFp]},{provide:e.FYo,useExisting:Mi},{provide:Mr,useExisting:Se},{provide:Se,useClass:Se,deps:[de]},{provide:Zi,useClass:Zi,deps:[fa,e.R0b]},{provide:Zr,useClass:Zs,deps:[]},[]];let qn=(()=>{class r{constructor(t){}static withServerTransition(t){return{ngModule:r,providers:[{provide:e.AFp,useValue:t.appId},{provide:ht,useExisting:e.AFp},Xi]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(_a,12))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[...ko,...gr],imports:[ki,e.hGG]}),r})(),lu=(()=>{class r{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(de))},r.\u0275prov=e.Yz7({token:r,factory:function(t){let o=null;return o=t?new t:function ol(){return new lu((0,e.LFG)(de))}(),o},providedIn:"root"}),r})();"undefined"!=typeof window&&window;var Dn=P(8996),Jr=P(9751);const{isArray:hi}=Array,{getPrototypeOf:xc,prototype:Ui,keys:Zo}=Object;function Vs(r){if(1===r.length){const n=r[0];if(hi(n))return{args:n,keys:null};if(function fu(r){return r&&"object"==typeof r&&xc(r)===Ui}(n)){const t=Zo(n);return{args:t.map(o=>n[o]),keys:t}}}return{args:r,keys:null}}var as=P(8421),Oi=P(3269),mr=P(5403),se=P(4004);const{isArray:gu}=Array;function Ta(r){return(0,se.U)(n=>function mu(r,n){return gu(n)?r(...n):r(n)}(r,n))}function Ri(r,n){return r.reduce((t,o,i)=>(t[o]=n[i],t),{})}let _u=(()=>{class r{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Qsj),e.Y36(e.SBq))},r.\u0275dir=e.lG2({type:r}),r})(),Li=(()=>{class r extends _u{}return r.\u0275fac=function(){let n;return function(o){return(n||(n=e.n5z(r)))(o||r)}}(),r.\u0275dir=e.lG2({type:r,features:[e.qOj]}),r})();const mo=new e.OlP("NgValueAccessor"),ba={provide:mo,useExisting:(0,e.Gpc)(()=>jn),multi:!0},al=new e.OlP("CompositionEventMode");let jn=(()=>{class r extends _u{constructor(t,o,i){super(t,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sl(){const r=M()?M().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(al,8))},r.\u0275dir=e.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){1&t&&e.NdJ("input",function(u){return o._handleInput(u.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(u){return o._compositionEnd(u.target.value)})},features:[e._Bn([ba]),e.qOj]}),r})();function sn(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}function Pr(r){return null!=r&&"number"==typeof r.length}const Zn=new e.OlP("NgValidators"),Jo=new e.OlP("NgAsyncValidators"),Fi=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class br{static min(n){return function Zc(r){return n=>{if(sn(n.value)||sn(r))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<r?{min:{min:r,actual:n.value}}:null}}(n)}static max(n){return function No(r){return n=>{if(sn(n.value)||sn(r))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>r?{max:{max:r,actual:n.value}}:null}}(n)}static required(n){return function un(r){return sn(r.value)?{required:!0}:null}(n)}static requiredTrue(n){return function yu(r){return!0===r.value?null:{required:!0}}(n)}static email(n){return function Nc(r){return sn(r.value)||Fi.test(r.value)?null:{email:!0}}(n)}static minLength(n){return function Ia(r){return n=>sn(n.value)||!Pr(n.value)?null:n.value.length<r?{minlength:{requiredLength:r,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function ul(r){return n=>Pr(n.value)&&n.value.length>r?{maxlength:{requiredLength:r,actualLength:n.value.length}}:null}(n)}static pattern(n){return function eh(r){if(!r)return Ea;let n,t;return"string"==typeof r?(t="","^"!==r.charAt(0)&&(t+="^"),t+=r,"$"!==r.charAt(r.length-1)&&(t+="$"),n=new RegExp(t)):(t=r.toString(),n=r),o=>{if(sn(o.value))return null;const i=o.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return Bs(n)}static composeAsync(n){return Cu(n)}}function Ea(r){return null}function vu(r){return null!=r}function us(r){return(0,e.QGY)(r)?(0,Dn.D)(r):r}function rf(r){let n={};return r.forEach(t=>{n=null!=t?Object.assign(Object.assign({},n),t):n}),0===Object.keys(n).length?null:n}function Mc(r,n){return n.map(t=>t(r))}function ll(r){return r.map(n=>function er(r){return!r.validate}(n)?n:t=>n.validate(t))}function Bs(r){if(!r)return null;const n=r.filter(vu);return 0==n.length?null:function(t){return rf(Mc(t,n))}}function sf(r){return null!=r?Bs(ll(r)):null}function Cu(r){if(!r)return null;const n=r.filter(vu);return 0==n.length?null:function(t){return function wa(...r){const n=(0,Oi.jO)(r),{args:t,keys:o}=Vs(r),i=new Jr.y(u=>{const{length:d}=t;if(!d)return void u.complete();const g=new Array(d);let v=d,w=d;for(let S=0;S<d;S++){let Z=!1;(0,as.Xf)(t[S]).subscribe((0,mr.x)(u,R=>{Z||(Z=!0,w--),g[S]=R},()=>v--,void 0,()=>{(!v||!Z)&&(w||u.next(o?Ri(o,g):g),u.complete())}))}});return n?i.pipe(Ta(n)):i}(Mc(t,n).map(us)).pipe((0,se.U)(rf))}}function Ar(r){return null!=r?Cu(ll(r)):null}function Wo(r,n){return null===r?[n]:Array.isArray(r)?[...r,n]:[r,n]}function cl(r){return r._rawValidators}function ls(r){return r._rawAsyncValidators}function cs(r){return r?Array.isArray(r)?r:[r]:[]}function js(r,n){return Array.isArray(r)?r.includes(n):r===n}function dl(r,n){const t=cs(n);return cs(r).forEach(i=>{js(t,i)||t.push(i)}),t}function th(r,n){return cs(n).filter(t=>!js(r,t))}class nh{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=sf(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Ar(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class zo extends nh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ir extends nh{get formDirective(){return null}get path(){return null}}class Wr{constructor(n){this._cd=n}get isTouched(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.touched)}get isUntouched(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.untouched)}get isPristine(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.pristine)}get isDirty(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.dirty)}get isValid(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.valid)}get isInvalid(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.invalid)}get isPending(){var n,t;return!(null===(t=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===t||!t.pending)}get isSubmitted(){var n;return!(null===(n=this._cd)||void 0===n||!n.submitted)}}let tr=(()=>{class r extends Wr{constructor(t){super(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(zo,2))},r.\u0275dir=e.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){2&t&&e.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[e.qOj]}),r})(),qi=(()=>{class r extends Wr{constructor(t){super(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ir,10))},r.\u0275dir=e.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,o){2&t&&e.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[e.qOj]}),r})();const Gs="VALID",dn="INVALID",mi="PENDING",ka="DISABLED";function A(r){return(K(r)?r.validators:r)||null}function I(r){return Array.isArray(r)?sf(r):r||null}function k(r,n){return(K(n)?n.asyncValidators:r)||null}function O(r){return Array.isArray(r)?Ar(r):r||null}function K(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}function ae(r,n,t){const o=r.controls;if(!(n?Object.keys(o):o).length)throw new e.vHH(1e3,"");if(!o[t])throw new e.vHH(1001,"")}function xe(r,n,t){r._forEachChild((o,i)=>{if(void 0===t[i])throw new e.vHH(1002,"")})}class Ge{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=t,this._composedValidatorFn=I(this._rawValidators),this._composedAsyncValidatorFn=O(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Gs}get invalid(){return this.status===dn}get pending(){return this.status==mi}get disabled(){return this.status===ka}get enabled(){return this.status!==ka}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=I(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=O(n)}addValidators(n){this.setValidators(dl(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(dl(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(th(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(th(n,this._rawAsyncValidators))}hasValidator(n){return js(this._rawValidators,n)}hasAsyncValidator(n){return js(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=mi,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=ka,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Gs,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gs||this.status===mi)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ka:Gs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=mi,this._hasOwnPendingAsyncValidator=!0;const t=us(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((o,i)=>o&&o._find(i),this)}getError(n,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?ka:this.errors?dn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mi)?mi:this._anyControlsHaveStatus(dn)?dn:Gs}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){K(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}}class ut extends Ge{constructor(n,t,o){super(A(t),k(o,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,o={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,o={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){xe(this,0,n),Object.keys(n).forEach(o=>{ae(this,!0,o),this.controls[o].setValue(n[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(o=>{const i=this.controls[o];i&&i.patchValue(n[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((o,i)=>{o.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,o)=>(n[o]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,o)=>!!o._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const o=this.controls[t];o&&n(o,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,o]of Object.entries(this.controls))if(this.contains(t)&&n(o))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,o,i)=>((o.enabled||this.disabled)&&(t[i]=o.value),t))}_reduceChildren(n,t){let o=n;return this._forEachChild((i,u)=>{o=t(o,i,u)}),o}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}function $n(r,n){return[...n.path,r]}function Vi(r,n){var t,o;hs(r,n),n.valueAccessor.writeValue(r.value),r.disabled&&(null===(o=(t=n.valueAccessor).setDisabledState)||void 0===o||o.call(t,!0)),function _i(r,n){n.valueAccessor.registerOnChange(t=>{r._pendingValue=t,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&fl(r,n)})}(r,n),function Am(r,n){const t=(o,i)=>{n.valueAccessor.writeValue(o),i&&n.viewToModelUpdate(o)};r.registerOnChange(t),n._registerOnDestroy(()=>{r._unregisterOnChange(t)})}(r,n),function fs(r,n){n.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&fl(r,n),"submit"!==r.updateOn&&r.markAsTouched()})}(r,n),function ds(r,n){if(n.valueAccessor.setDisabledState){const t=o=>{n.valueAccessor.setDisabledState(o)};r.registerOnDisabledChange(t),n._registerOnDestroy(()=>{r._unregisterOnDisabledChange(t)})}}(r,n)}function Bi(r,n,t=!0){const o=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(o),n.valueAccessor.registerOnTouched(o)),ps(r,n),r&&(n._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function Er(r,n){r.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function hs(r,n){const t=cl(r);null!==n.validator?r.setValidators(Wo(t,n.validator)):"function"==typeof t&&r.setValidators([t]);const o=ls(r);null!==n.asyncValidator?r.setAsyncValidators(Wo(o,n.asyncValidator)):"function"==typeof o&&r.setAsyncValidators([o]);const i=()=>r.updateValueAndValidity();Er(n._rawValidators,i),Er(n._rawAsyncValidators,i)}function ps(r,n){let t=!1;if(null!==r){if(null!==n.validator){const i=cl(r);if(Array.isArray(i)&&i.length>0){const u=i.filter(d=>d!==n.validator);u.length!==i.length&&(t=!0,r.setValidators(u))}}if(null!==n.asyncValidator){const i=ls(r);if(Array.isArray(i)&&i.length>0){const u=i.filter(d=>d!==n.asyncValidator);u.length!==i.length&&(t=!0,r.setAsyncValidators(u))}}}const o=()=>{};return Er(n._rawValidators,o),Er(n._rawAsyncValidators,o),t}function fl(r,n){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function cf(r,n){if(!r.hasOwnProperty("model"))return!1;const t=r.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}function Za(r,n){if(!n)return null;let t,o,i;return Array.isArray(n),n.forEach(u=>{u.constructor===jn?t=u:function Oc(r){return Object.getPrototypeOf(r.constructor)===Li}(u)?o=u:i=u}),i||o||t||null}function lh(r,n){const t=r.indexOf(n);t>-1&&r.splice(t,1)}function ch(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const so=class extends Ge{constructor(n=null,t,o){super(A(t),k(o,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),K(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ch(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){lh(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){lh(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){ch(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},pf={provide:zo,useExisting:(0,e.Gpc)(()=>Nn)},ff=(()=>Promise.resolve(null))();let Nn=(()=>{class r extends zo{constructor(t,o,i,u,d){super(),this._changeDetectorRef=d,this.control=new so,this._registered=!1,this.update=new e.vpe,this._parent=t,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=Za(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const o=t.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),cf(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vi(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ff.then(()=>{var o;this.control.setValue(t,{emitViewToModelChange:!1}),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_updateDisabled(t){const o=t.isDisabled.currentValue,i=0!==o&&(0,e.D6c)(o);ff.then(()=>{var u;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(u=this._changeDetectorRef)||void 0===u||u.markForCheck()})}_getPath(t){return this._parent?$n(t,this._parent):[t]}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ir,9),e.Y36(Zn,10),e.Y36(Jo,10),e.Y36(mo,10),e.Y36(e.sBO,8))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([pf]),e.qOj,e.TTD]}),r})(),ms=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=e.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})(),Mm=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();const fh=new e.OlP("NgModelWithFormControlWarning"),Om={provide:Ir,useExisting:(0,e.Gpc)(()=>yi)};let yi=(()=>{class r extends Ir{constructor(t,o){super(),this.validators=t,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(t),this._setAsyncValidators(o)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ps(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const o=this.form.get(t.path);return Vi(o,t),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),o}getControl(t){return this.form.get(t.path)}removeControl(t){Bi(t.control||null,t,!1),function ah(r,n){const t=r.indexOf(n);t>-1&&r.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,o){this.form.get(t.path).setValue(o)}onSubmit(t){return this.submitted=!0,function Em(r,n){r._syncPendingControls(),n.forEach(t=>{const o=t.control;"submit"===o.updateOn&&o._pendingChange&&(t.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const o=t.control,i=this.form.get(t.path);o!==i&&(Bi(o||null,t),(r=>r instanceof so)(i)&&(Vi(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const o=this.form.get(t.path);(function uf(r,n){hs(r,n)})(o,t),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const o=this.form.get(t.path);o&&function ih(r,n){return ps(r,n)}(o,t)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hs(this.form,this),this._oldForm&&ps(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Zn,10),e.Y36(Jo,10))},r.\u0275dir=e.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(t,o){1&t&&e.NdJ("submit",function(u){return o.onSubmit(u)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([Om]),e.qOj,e.TTD]}),r})();const _f={provide:zo,useExisting:(0,e.Gpc)(()=>Na)};let Na=(()=>{class r extends zo{constructor(t,o,i,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=Za(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),cf(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return $n(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return r._ngModelWarningSentOnce=!1,r.\u0275fac=function(t){return new(t||r)(e.Y36(Ir,13),e.Y36(Zn,10),e.Y36(Jo,10),e.Y36(mo,10),e.Y36(fh,8))},r.\u0275dir=e.lG2({type:r,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([_f]),e.qOj,e.TTD]}),r})();const u0={provide:mo,useExisting:(0,e.Gpc)(()=>zr),multi:!0};function yf(r,n){return null==r?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${r}: ${n}`.slice(0,50))}let zr=(()=>{class r extends Li{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=yf(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=o=>{this.value=this._getOptionValue(o),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),t))return o;return null}_getOptionValue(t){const o=function gh(r){return r.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o):t}}return r.\u0275fac=function(){let n;return function(o){return(n||(n=e.n5z(r)))(o||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,o){1&t&&e.NdJ("change",function(u){return o.onChange(u.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([u0]),e.qOj]}),r})(),Xo=(()=>{class r{constructor(t,o,i){this._element=t,this._renderer=o,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(yf(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(zr,9))},r.\u0275dir=e.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();const Rm={provide:mo,useExisting:(0,e.Gpc)(()=>mh),multi:!0};function vf(r,n){return null==r?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${r}: ${n}`.slice(0,50))}let mh=(()=>{class r extends Li{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let o;if(this.value=t,Array.isArray(t)){const i=t.map(u=>this._getOptionId(u));o=(u,d)=>{u._setSelected(i.indexOf(d.toString())>-1)}}else o=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(t){this.onChange=o=>{const i=[],u=o.selectedOptions;if(void 0!==u){const d=u;for(let g=0;g<d.length;g++){const w=this._getOptionValue(d[g].value);i.push(w)}}else{const d=o.options;for(let g=0;g<d.length;g++){const v=d[g];if(v.selected){const w=this._getOptionValue(v.value);i.push(w)}}}this.value=i,t(i)}}_registerOption(t){const o=(this._idCounter++).toString();return this._optionMap.set(o,t),o}_getOptionId(t){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,t))return o;return null}_getOptionValue(t){const o=function Cf(r){return r.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o)._value:t}}return r.\u0275fac=function(){let n;return function(o){return(n||(n=e.n5z(r)))(o||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,o){1&t&&e.NdJ("change",function(u){return o.onChange(u.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([Rm]),e.qOj]}),r})(),_s=(()=>{class r{constructor(t,o,i){this._element=t,this._renderer=o,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(vf(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(vf(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(mh,9))},r.\u0275dir=e.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})(),vl=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Mm]}),r})(),bf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[vl]}),r})(),yh=(()=>{class r{static withConfig(t){return{ngModule:r,providers:[{provide:fh,useValue:t.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[vl]}),r})();class Cl extends Ge{constructor(n,t,o){super(A(t),k(o,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,o={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(n,t={}){let o=this._adjustIndex(n);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,o={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){xe(this,0,n),n.forEach((o,i)=>{ae(this,!1,i),this.at(i).setValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((o,i)=>{this.at(i)&&this.at(i).patchValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((o,i)=>{o.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,o)=>!!o._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,o)=>{n(t,o)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){var t;return null!==(t=this.at(n))&&void 0!==t?t:null}}function c0(r){return!!r&&(void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn)}let If=(()=>{class r{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new r;return t.useNonNullable=!0,t}group(t,o=null){const i=this._reduceControls(t);let u={};return c0(o)?u=o:null!==o&&(u.validators=o.validator,u.asyncValidators=o.asyncValidator),new ut(i,u)}control(t,o,i){let u={};return this.useNonNullable?(c0(o)?u=o:(u.validators=o,u.asyncValidators=i),new so(t,Object.assign(Object.assign({},u),{nonNullable:!0}))):new so(t,o,i)}array(t,o,i){const u=t.map(d=>this._createControl(d));return new Cl(u,o,i)}_reduceControls(t){const o={};return Object.keys(t).forEach(i=>{o[i]=this._createControl(t[i])}),o}_createControl(t){return t instanceof so||t instanceof Ge?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:yh}),r})();function Tt(...r){const n=(0,Oi.yG)(r);return(0,Dn.D)(r,n)}var ji=P(7579);class uo extends ji.x{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:o}=this;if(n)throw t;return this._throwIfClosed(),o}next(n){super.next(this._value=n)}}var vh=P(4671),Fm=P(9672);function Ch(...r){const n=(0,Oi.yG)(r),t=(0,Oi.jO)(r),{args:o,keys:i}=Vs(r);if(0===o.length)return(0,Dn.D)([],n);const u=new Jr.y(function Tl(r,n,t=vh.y){return o=>{qm(n,()=>{const{length:i}=r,u=new Array(i);let d=i,g=i;for(let v=0;v<i;v++)qm(n,()=>{const w=(0,Dn.D)(r[v],n);let S=!1;w.subscribe((0,mr.x)(o,Z=>{u[v]=Z,S||(S=!0,g--),g||o.next(t(u.slice()))},()=>{--d||o.complete()}))},o)},o)}}(o,n,i?d=>Ri(i,d):vh.y));return t?u.pipe(Ta(t)):u}function qm(r,n,t){r?(0,Fm.f)(t,r,n):n()}var wl=P(8189);function Vm(...r){return function Jw(){return(0,wl.J)(1)}()((0,Dn.D)(r,(0,Oi.yG)(r)))}function Bm(r){return new Jr.y(n=>{(0,as.Xf)(r()).subscribe(n)})}var Bc=P(9635),Th=P(576);function jc(r,n){const t=(0,Th.m)(r)?r:()=>r,o=i=>i.error(t());return new Jr.y(n?i=>n.schedule(o,0,i):o)}const $c=(0,P(3888).d)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});var Ws=P(515),d0=P(727),_o=P(4482);function jm(){return(0,_o.e)((r,n)=>{let t=null;r._refCount++;const o=(0,mr.x)(n,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(t=null);const i=r._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),n.unsubscribe()});r.subscribe(o),o.closed||(t=r.connect())})}class $m extends Jr.y{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,_o.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new d0.w0;const t=this.getSubject();n.add(this.source.subscribe((0,mr.x)(t,void 0,()=>{this._teardown(),t.complete()},o=>{this._teardown(),t.error(o)},()=>this._teardown()))),n.closed&&(this._connection=null,n=d0.w0.EMPTY)}return n}refCount(){return jm()(this)}}function lo(r,n){return(0,_o.e)((t,o)=>{let i=null,u=0,d=!1;const g=()=>d&&!i&&o.complete();t.subscribe((0,mr.x)(o,v=>{null==i||i.unsubscribe();let w=0;const S=u++;(0,as.Xf)(r(v,S)).subscribe(i=(0,mr.x)(o,Z=>o.next(n?n(v,Z,S,w++):Z),()=>{i=null,g()}))},()=>{d=!0,g()}))})}function Hc(r){return r<=0?()=>Ws.E:(0,_o.e)((n,t)=>{let o=0;n.subscribe((0,mr.x)(t,i=>{++o<=r&&(t.next(i),r<=o&&t.complete())}))})}function bu(...r){const n=(0,Oi.yG)(r);return(0,_o.e)((t,o)=>{(n?Vm(r,t,n):Vm(r,t)).subscribe(o)})}function ft(r,n){return(0,_o.e)((t,o)=>{let i=0;t.subscribe((0,mr.x)(o,u=>r.call(n,u,i++)&&o.next(u)))})}var Dr=P(5577);function Au(r){return(0,_o.e)((n,t)=>{let o=!1;n.subscribe((0,mr.x)(t,i=>{o=!0,t.next(i)},()=>{o||t.next(r),t.complete()}))})}function h0(r=s2){return(0,_o.e)((n,t)=>{let o=!1;n.subscribe((0,mr.x)(t,i=>{o=!0,t.next(i)},()=>o?t.complete():t.error(r())))})}function s2(){return new $c}function zs(r,n){const t=arguments.length>=2;return o=>o.pipe(r?ft((i,u)=>r(i,u,o)):vh.y,Hc(1),t?Au(n):h0(()=>new $c))}function Iu(r,n){return(0,Th.m)(n)?(0,Dr.z)(r,n,1):(0,Dr.z)(r,1)}var yo=P(8505);function Pa(r){return(0,_o.e)((n,t)=>{let u,o=null,i=!1;o=n.subscribe((0,mr.x)(t,void 0,void 0,d=>{u=(0,as.Xf)(r(d,Pa(r)(n))),o?(o.unsubscribe(),o=null,u.subscribe(t)):i=!0})),i&&(o.unsubscribe(),o=null,u.subscribe(t))})}function p0(r,n,t,o,i){return(u,d)=>{let g=t,v=n,w=0;u.subscribe((0,mr.x)(d,S=>{const Z=w++;v=g?r(v,S,Z):(g=!0,S),o&&d.next(v)},i&&(()=>{g&&d.next(v),d.complete()})))}}function Gc(r,n){return(0,_o.e)(p0(r,n,arguments.length>=2,!0))}function wh(r){return r<=0?()=>Ws.E:(0,_o.e)((n,t)=>{let o=[];n.subscribe((0,mr.x)(t,i=>{o.push(i),r<o.length&&o.shift()},()=>{for(const i of o)t.next(i);t.complete()},void 0,()=>{o=null}))})}function f0(r,n){const t=arguments.length>=2;return o=>o.pipe(r?ft((i,u)=>r(i,u,o)):vh.y,wh(1),t?Au(n):h0(()=>new $c))}function g0(r){return(0,_o.e)((n,t)=>{try{n.subscribe(t)}finally{t.add(r)}})}const Wt="primary";class Gm{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function bh(r){return new Gm(r)}function a2(r,n,t){const o=t.path.split("/");if(o.length>r.length||"full"===t.pathMatch&&(n.hasChildren()||o.length<r.length))return null;const i={};for(let u=0;u<o.length;u++){const d=o[u],g=r[u];if(d.startsWith(":"))i[d.substring(1)]=g;else if(d!==g.path)return null}return{consumed:r.slice(0,o.length),posParams:i}}function Ua(r,n){const t=r?Object.keys(r):void 0,o=n?Object.keys(n):void 0;if(!t||!o||t.length!=o.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!Qw(r[i],n[i]))return!1;return!0}function Qw(r,n){if(Array.isArray(r)&&Array.isArray(n)){if(r.length!==n.length)return!1;const t=[...r].sort(),o=[...n].sort();return t.every((i,u)=>o[u]===i)}return r===n}function m0(r){return Array.prototype.concat.apply([],r)}function Jm(r){return r.length>0?r[r.length-1]:null}function Qr(r,n){for(const t in r)r.hasOwnProperty(t)&&n(r[t],t)}function Oa(r){return(0,e.CqO)(r)?r:(0,e.QGY)(r)?(0,Dn.D)(Promise.resolve(r)):Tt(r)}const Kw={exact:function y0(r,n,t){if(!Il(r.segments,n.segments)||!Sf(r.segments,n.segments,t)||r.numberOfChildren!==n.numberOfChildren)return!1;for(const o in n.children)if(!r.children[o]||!y0(r.children[o],n.children[o],t))return!1;return!0},subset:zm},Df={exact:function Yw(r,n){return Ua(r,n)},subset:function Xw(r,n){return Object.keys(n).length<=Object.keys(r).length&&Object.keys(n).every(t=>Qw(r[t],n[t]))},ignored:()=>!0};function Jc(r,n,t){return Kw[t.paths](r.root,n.root,t.matrixParams)&&Df[t.queryParams](r.queryParams,n.queryParams)&&!("exact"===t.fragment&&r.fragment!==n.fragment)}function zm(r,n,t){return v0(r,n,n.segments,t)}function v0(r,n,t,o){if(r.segments.length>t.length){const i=r.segments.slice(0,t.length);return!(!Il(i,t)||n.hasChildren()||!Sf(i,t,o))}if(r.segments.length===t.length){if(!Il(r.segments,t)||!Sf(r.segments,t,o))return!1;for(const i in n.children)if(!r.children[i]||!zm(r.children[i],n.children[i],o))return!1;return!0}{const i=t.slice(0,r.segments.length),u=t.slice(r.segments.length);return!!(Il(r.segments,i)&&Sf(r.segments,i,o)&&r.children[Wt])&&v0(r.children[Wt],n,u,o)}}function Sf(r,n,t){return n.every((o,i)=>Df[t](r[i].parameters,o.parameters))}class bl{constructor(n,t,o){this.root=n,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bh(this.queryParams)),this._queryParamMap}toString(){return nb.serialize(this)}}class zt{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Qr(t,(o,i)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kr(this)}}class Al{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=bh(this.parameters)),this._parameterMap}toString(){return w0(this)}}function Il(r,n){return r.length===n.length&&r.every((t,o)=>t.path===n[o].path)}class Qm{}class C0{parse(n){const t=new E0(n);return new bl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${El(n.root,!0)}`,o=function rb(r){const n=Object.keys(r).map(t=>{const o=r[t];return Array.isArray(o)?o.map(i=>`${Wc(t)}=${Wc(i)}`).join("&"):`${Wc(t)}=${Wc(o)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${o}${"string"==typeof n.fragment?`#${function vo(r){return encodeURI(r)}(n.fragment)}`:""}`}}const nb=new C0;function Kr(r){return r.segments.map(n=>w0(n)).join("/")}function El(r,n){if(!r.hasChildren())return Kr(r);if(n){const t=r.children[Wt]?El(r.children[Wt],!1):"",o=[];return Qr(r.children,(i,u)=>{u!==Wt&&o.push(`${u}:${El(i,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function tb(r,n){let t=[];return Qr(r.children,(o,i)=>{i===Wt&&(t=t.concat(n(o,i)))}),Qr(r.children,(o,i)=>{i!==Wt&&(t=t.concat(n(o,i)))}),t}(r,(o,i)=>i===Wt?[El(r.children[Wt],!1)]:[`${i}:${El(o,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[Wt]?`${Kr(r)}/${t[0]}`:`${Kr(r)}/(${t.join("//")})`}}function Km(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wc(r){return Km(r).replace(/%3B/gi,";")}function Dl(r){return Km(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zc(r){return decodeURIComponent(r)}function T0(r){return zc(r.replace(/\+/g,"%20"))}function w0(r){return`${Dl(r.path)}${function b0(r){return Object.keys(r).map(n=>`;${Dl(n)}=${Dl(r[n])}`).join("")}(r.parameters)}`}const A0=/^[^\/()?;=#]+/;function xf(r){const n=r.match(A0);return n?n[0]:""}const I0=/^[^=?&#]+/,ib=/^[^&#]+/;class E0{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zt([],{}):new zt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(o[Wt]=new zt(n,t)),o}parseSegment(){const n=xf(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(n),new Al(zc(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=xf(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const i=xf(this.remaining);i&&(o=i,this.capture(o))}n[zc(t)]=zc(o)}parseQueryParam(n){const t=function ob(r){const n=r.match(I0);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const d=function sb(r){const n=r.match(ib);return n?n[0]:""}(this.remaining);d&&(o=d,this.capture(o))}const i=T0(t),u=T0(o);if(n.hasOwnProperty(i)){let d=n[i];Array.isArray(d)||(d=[d],n[i]=d),d.push(u)}else n[i]=u}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=xf(this.remaining),i=this.remaining[o.length];if("/"!==i&&")"!==i&&";"!==i)throw new e.vHH(4010,!1);let u;o.indexOf(":")>-1?(u=o.slice(0,o.indexOf(":")),this.capture(u),this.capture(":")):n&&(u=Wt);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Wt]:new zt([],d),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new e.vHH(4011,!1)}}function Ym(r){return r.segments.length>0?new zt([],{[Wt]:r}):r}function kf(r){const n={};for(const o of Object.keys(r.children)){const u=kf(r.children[o]);(u.segments.length>0||u.hasChildren())&&(n[o]=u)}return function Qc(r){if(1===r.numberOfChildren&&r.children[Wt]){const n=r.children[Wt];return new zt(r.segments.concat(n.segments),n.children)}return r}(new zt(r.segments,n))}function Po(r){return r instanceof bl}function D0(r,n,t,o,i){var u;if(0===t.length)return Eu(n.root,n.root,n.root,o,i);const g=function e_(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new S0(!0,0,r);let n=0,t=!1;const o=r.reduce((i,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return Qr(u.outlets,(v,w)=>{g[w]="string"==typeof v?v.split("/"):v}),[...i,{outlets:g}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===d?(u.split("/").forEach((g,v)=>{0==v&&"."===g||(0==v&&""===g?t=!0:".."===g?n++:""!=g&&i.push(g))}),i):[...i,u]},[]);return new S0(t,n,o)}(t);return g.toRoot()?Eu(n.root,n.root,new zt([],{}),o,i):function v(S){var Z;const R=function ab(r,n,t,o){if(r.isAbsolute)return new Kc(n.root,!0,0);if(-1===o)return new Kc(t,t===n.root,0);return function t_(r,n,t){let o=r,i=n,u=t;for(;u>i;){if(u-=i,o=o.parent,!o)throw new e.vHH(4005,!1);i=o.segments.length}return new Kc(o,!1,i-u)}(t,o+(Zf(r.commands[0])?0:1),r.numberOfDoubleDots)}(g,n,null===(Z=r.snapshot)||void 0===Z?void 0:Z._urlSegment,S),W=R.processChildren?Yc(R.segmentGroup,R.index,g.commands):Ih(R.segmentGroup,R.index,g.commands);return Eu(n.root,R.segmentGroup,W,o,i)}(null===(u=r.snapshot)||void 0===u?void 0:u._lastPathIndex)}function Zf(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function ei(r){return"object"==typeof r&&null!=r&&r.outlets}function Eu(r,n,t,o,i){let d,u={};o&&Qr(o,(v,w)=>{u[w]=Array.isArray(v)?v.map(S=>`${S}`):`${v}`}),d=r===n?t:Nf(r,n,t);const g=Ym(kf(d));return new bl(g,u,i)}function Nf(r,n,t){const o={};return Qr(r.children,(i,u)=>{o[u]=i===n?t:Nf(i,n,t)}),new zt(r.segments,o)}class S0{constructor(n,t,o){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=o,n&&o.length>0&&Zf(o[0]))throw new e.vHH(4003,!1);const i=o.find(ei);if(i&&i!==Jm(o))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kc{constructor(n,t,o){this.segmentGroup=n,this.processChildren=t,this.index=o}}function Ih(r,n,t){if(r||(r=new zt([],{})),0===r.segments.length&&r.hasChildren())return Yc(r,n,t);const o=function h2(r,n,t){let o=0,i=n;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<r.segments.length;){if(o>=t.length)return u;const d=r.segments[i],g=t[o];if(ei(g))break;const v=`${g}`,w=o<t.length-1?t[o+1]:null;if(i>0&&void 0===v)break;if(v&&w&&"object"==typeof w&&void 0===w.outlets){if(!x0(v,w,d))return u;o+=2}else{if(!x0(v,{},d))return u;o++}i++}return{match:!0,pathIndex:i,commandIndex:o}}(r,n,t),i=t.slice(o.commandIndex);if(o.match&&o.pathIndex<r.segments.length){const u=new zt(r.segments.slice(0,o.pathIndex),{});return u.children[Wt]=new zt(r.segments.slice(o.pathIndex),r.children),Yc(u,0,i)}return o.match&&0===i.length?new zt(r.segments,{}):o.match&&!r.hasChildren()?Du(r,n,t):o.match?Yc(r,0,i):Du(r,n,t)}function Yc(r,n,t){if(0===t.length)return new zt(r.segments,{});{const o=function n_(r){return ei(r[0])?r[0].outlets:{[Wt]:r}}(t),i={};return Qr(o,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[d]=Ih(r.children[d],n,u))}),Qr(r.children,(u,d)=>{void 0===o[d]&&(i[d]=u)}),new zt(r.segments,i)}}function Du(r,n,t){const o=r.segments.slice(0,n);let i=0;for(;i<t.length;){const u=t[i];if(ei(u)){const v=r_(u.outlets);return new zt(o,v)}if(0===i&&Zf(t[0])){o.push(new Al(r.segments[n].path,o_(t[0]))),i++;continue}const d=ei(u)?u.outlets[Wt]:`${u}`,g=i<t.length-1?t[i+1]:null;d&&g&&Zf(g)?(o.push(new Al(d,o_(g))),i+=2):(o.push(new Al(d,{})),i++)}return new zt(o,{})}function r_(r){const n={};return Qr(r,(t,o)=>{"string"==typeof t&&(t=[t]),null!==t&&(n[o]=Du(new zt([],{}),0,t))}),n}function o_(r){const n={};return Qr(r,(t,o)=>n[o]=`${t}`),n}function x0(r,n,t){return r==t.path&&Ua(n,t.parameters)}class vs{constructor(n,t){this.id=n,this.url=t}}class i_ extends vs{constructor(n,t,o="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=o,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Su extends vs{constructor(n,t,o){super(n,t),this.urlAfterRedirects=o,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mf extends vs{constructor(n,t,o,i){super(n,t),this.reason=o,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class k0 extends vs{constructor(n,t,o,i){super(n,t),this.error=o,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ub extends vs{constructor(n,t,o,i){super(n,t),this.urlAfterRedirects=o,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lb extends vs{constructor(n,t,o,i){super(n,t),this.urlAfterRedirects=o,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z0 extends vs{constructor(n,t,o,i,u){super(n,t),this.urlAfterRedirects=o,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class s_ extends vs{constructor(n,t,o,i){super(n,t),this.urlAfterRedirects=o,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N0 extends vs{constructor(n,t,o,i){super(n,t),this.urlAfterRedirects=o,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a_{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class cb{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class db{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class M0{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class P0{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sl{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u_{constructor(n,t,o){this.routerEvent=n,this.position=t,this.anchor=o,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class O0{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=R0(n,this._root);return t?t.children.map(o=>o.value):[]}firstChild(n){const t=R0(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Xc(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Xc(n,this._root).map(t=>t.value)}}function R0(r,n){if(r===n.value)return n;for(const t of n.children){const o=R0(r,t);if(o)return o}return null}function Xc(r,n){if(r===n.value)return[n];for(const t of n.children){const o=Xc(r,t);if(o.length)return o.unshift(n),o}return[]}class Ra{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function xl(r){const n={};return r&&r.children.forEach(t=>n[t.value.outlet]=t),n}class l_ extends O0{constructor(n,t){super(n),this.snapshot=t,Of(this,n)}toString(){return this.snapshot.toString()}}function c_(r,n){const t=function d_(r,n){const d=new Dh([],{},{},"",{},Wt,n,null,r.root,-1,{});return new Uf("",new Ra(d,[]))}(r,n),o=new uo([new Al("",{})]),i=new uo({}),u=new uo({}),d=new uo({}),g=new uo(""),v=new Qs(o,i,d,g,u,Wt,n,t.root);return v.snapshot=t.root,new l_(new Ra(v,[]),t)}class Qs{constructor(n,t,o,i,u,d,g,v){this.url=n,this.params=t,this.queryParams=o,this.fragment=i,this.data=u,this.outlet=d,this.component=g,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,se.U)(n=>bh(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,se.U)(n=>bh(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Eh(r,n="emptyOnly"){const t=r.pathFromRoot;let o=0;if("always"!==n)for(o=t.length-1;o>=1;){const i=t[o],u=t[o-1];if(i.routeConfig&&""===i.routeConfig.path)o--;else{if(u.component)break;o--}}return function Pf(r){return r.reduce((n,t)=>{var o;return{params:Object.assign(Object.assign({},n.params),t.params),data:Object.assign(Object.assign({},n.data),t.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},t.data),n.resolve),null===(o=t.routeConfig)||void 0===o?void 0:o.data),t._resolvedData)}},{params:{},data:{},resolve:{}})}(t.slice(o))}class Dh{constructor(n,t,o,i,u,d,g,v,w,S,Z,R){this.url=n,this.params=t,this.queryParams=o,this.fragment=i,this.data=u,this.outlet=d,this.component=g,this.routeConfig=v,this._urlSegment=w,this._lastPathIndex=S,this._correctedLastPathIndex=null!=R?R:S,this._resolve=Z}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Uf extends O0{constructor(n,t){super(t),this.url=n,Of(this,t)}toString(){return Rf(this._root)}}function Of(r,n){n.value._routerState=r,n.children.forEach(t=>Of(r,t))}function Rf(r){const n=r.children.length>0?` { ${r.children.map(Rf).join(", ")} } `:"";return`${r.value}${n}`}function kl(r){if(r.snapshot){const n=r.snapshot,t=r._futureSnapshot;r.snapshot=t,Ua(n.queryParams,t.queryParams)||r.queryParams.next(t.queryParams),n.fragment!==t.fragment&&r.fragment.next(t.fragment),Ua(n.params,t.params)||r.params.next(t.params),function u2(r,n){if(r.length!==n.length)return!1;for(let t=0;t<r.length;++t)if(!Ua(r[t],n[t]))return!1;return!0}(n.url,t.url)||r.url.next(t.url),Ua(n.data,t.data)||r.data.next(t.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function h_(r,n){const t=Ua(r.params,n.params)&&function eb(r,n){return Il(r,n)&&r.every((t,o)=>Ua(t.parameters,n[o].parameters))}(r.url,n.url);return t&&!(!r.parent!=!n.parent)&&(!r.parent||h_(r.parent,n.parent))}function Sh(r,n,t){if(t&&r.shouldReuseRoute(n.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=n.value;const i=function hb(r,n,t){return n.children.map(o=>{for(const i of t.children)if(r.shouldReuseRoute(o.value,i.value.snapshot))return Sh(r,o,i);return Sh(r,o)})}(r,n,t);return new Ra(o,i)}{if(r.shouldAttach(n.value)){const u=r.retrieve(n.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=n.value,d.children=n.children.map(g=>Sh(r,g)),d}}const o=function F0(r){return new Qs(new uo(r.url),new uo(r.params),new uo(r.queryParams),new uo(r.fragment),new uo(r.data),r.outlet,r.component,r)}(n.value),i=n.children.map(u=>Sh(r,u));return new Ra(o,i)}}const xh="ngNavigationCancelingError";function p_(r,n){const{redirectTo:t,navigationBehaviorOptions:o}=Po(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=pb(!1,0,n);return i.url=t,i.navigationBehaviorOptions=o,i}function pb(r,n,t){const o=new Error("NavigationCancelingError: "+(r||""));return o[xh]=!0,o.cancellationCode=n,t&&(o.url=t),o}function f_(r){return q0(r)&&Po(r.url)}function q0(r){return r&&r[xh]}class V0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new kh,this.attachRef=null}}class kh{constructor(){this.contexts=new Map}onChildOutletCreated(n,t){const o=this.getOrCreateContext(n);o.outlet=t,this.contexts.set(n,o)}onChildOutletDestroyed(n){const t=this.getContext(n);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let t=this.getContext(n);return t||(t=new V0,this.contexts.set(n,t)),t}getContext(n){return this.contexts.get(n)||null}}const Lf=!1;let ti=(()=>{class r{constructor(t,o,i,u,d){this.parentContexts=t,this.location=o,this.changeDetector=u,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.name=i||Wt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){var t;(null===(t=this.parentContexts.getContext(this.name))||void 0===t?void 0:t.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,Lf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,Lf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,Lf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new e.vHH(4013,Lf);this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,v=new fb(t,g,i.injector);if(o&&function B0(r){return!!r.resolveComponentFactory}(o)){const w=o.resolveComponentFactory(d);this.activated=i.createComponent(w,i.length,v)}else this.activated=i.createComponent(d,{index:i.length,injector:v,environmentInjector:null!=o?o:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(kh),e.Y36(e.s_b),e.$8M("name"),e.Y36(e.sBO),e.Y36(e.lqb))},r.\u0275dir=e.lG2({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),r})();class fb{constructor(n,t,o){this.route=n,this.childContexts=t,this.parent=o}get(n,t){return n===Qs?this.route:n===kh?this.childContexts:this.parent.get(n,t)}}let j0=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},dependencies:[ti],encapsulation:2}),r})();function $0(r,n){var t;return r.providers&&!r._injector&&(r._injector=(0,e.MMx)(r.providers,n,`Route: ${r.path}`)),null!==(t=r._injector)&&void 0!==t?t:n}function Ff(r){const n=r.children&&r.children.map(Ff),t=n?Object.assign(Object.assign({},r),{children:n}):Object.assign({},r);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Wt&&(t.component=j0),t}function vi(r){return r.outlet||Wt}function G0(r,n){const t=r.filter(o=>vi(o)===n);return t.push(...r.filter(o=>vi(o)!==n)),t}function J0(r){var n;if(!r)return null;if(null!==(n=r.routeConfig)&&void 0!==n&&n._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){const o=t.routeConfig;if(null!=o&&o._loadedInjector)return o._loadedInjector;if(null!=o&&o._injector)return o._injector}return null}class _b{constructor(n,t,o,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=o,this.forwardEvent=i}activate(n){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,n),kl(this.futureState.root),this.activateChildRoutes(t,o,n)}deactivateChildRoutes(n,t,o){const i=xl(t);n.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,i[d],o),delete i[d]}),Qr(i,(u,d)=>{this.deactivateRouteAndItsChildren(u,o)})}deactivateRoutes(n,t,o){const i=n.value,u=t?t.value:null;if(i===u)if(i.component){const d=o.getContext(i.outlet);d&&this.deactivateChildRoutes(n,t,d.children)}else this.deactivateChildRoutes(n,t,o);else u&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const o=t.getContext(n.value.outlet),i=o&&n.value.component?o.children:t,u=xl(n);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);if(o&&o.outlet){const d=o.outlet.detach(),g=o.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:d,route:n,contexts:g})}}deactivateRouteAndOutlet(n,t){const o=t.getContext(n.value.outlet),i=o&&n.value.component?o.children:t,u=xl(n);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],i);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(n,t,o){const i=xl(t);n.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],o),this.forwardEvent(new Sl(u.value.snapshot))}),n.children.length&&this.forwardEvent(new M0(n.value.snapshot))}activateRoutes(n,t,o){var i;const u=n.value,d=t?t.value:null;if(kl(u),u===d)if(u.component){const g=o.getOrCreateContext(u.outlet);this.activateChildRoutes(n,t,g.children)}else this.activateChildRoutes(n,t,o);else if(u.component){const g=o.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const v=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),g.children.onOutletReAttached(v.contexts),g.attachRef=v.componentRef,g.route=v.route.value,g.outlet&&g.outlet.attach(v.componentRef,v.route.value),kl(v.route.value),this.activateChildRoutes(n,null,g.children)}else{const v=J0(u.snapshot),w=null!==(i=null==v?void 0:v.get(e._Vd))&&void 0!==i?i:null;g.attachRef=null,g.route=u,g.resolver=w,g.injector=v,g.outlet&&g.outlet.activateWith(u,g.injector),this.activateChildRoutes(n,null,g.children)}}else this.activateChildRoutes(n,null,o)}}class m_{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class qf{constructor(n,t){this.component=n,this.route=t}}function yb(r,n,t){const o=r._root;return ed(o,n?n._root:null,t,[o.value])}function Zh(r,n,t){const o=J0(n);return(null!=o?o:t).get(r)}function ed(r,n,t,o,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=xl(n);return r.children.forEach(d=>{(function Zl(r,n,t,o,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=r.value,d=n?n.value:null,g=t?t.getContext(r.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const v=function vb(r,n,t){if("function"==typeof t)return t(r,n);switch(t){case"pathParamsChange":return!Il(r.url,n.url);case"pathParamsOrQueryParamsChange":return!Il(r.url,n.url)||!Ua(r.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!h_(r,n)||!Ua(r.queryParams,n.queryParams);default:return!h_(r,n)}}(d,u,u.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new m_(o)):(u.data=d.data,u._resolvedData=d._resolvedData),ed(r,n,u.component?g?g.children:null:t,o,i),v&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new qf(g.outlet.component,d))}else d&&Nl(n,g,i),i.canActivateChecks.push(new m_(o)),ed(r,null,u.component?g?g.children:null:t,o,i)})(d,u[d.value.outlet],t,o.concat([d.value]),i),delete u[d.value.outlet]}),Qr(u,(d,g)=>Nl(d,t.getContext(g),i)),i}function Nl(r,n,t){const o=xl(r),i=r.value;Qr(o,(u,d)=>{Nl(u,i.component?n?n.children.getContext(d):null:n,t)}),t.canDeactivateChecks.push(new qf(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Ml(r){return"function"==typeof r}const La=Symbol("INITIAL_VALUE");function td(){return lo(r=>Ch(r.map(n=>n.pipe(Hc(1),bu(La)))).pipe((0,se.U)(n=>{for(const t of n)if(!0!==t){if(t===La)return La;if(!1===t||t instanceof bl)return t}return!0}),ft(n=>n!==La),Hc(1)))}function __(r){return(0,Bc.z)((0,yo.b)(n=>{if(Po(n))throw p_(0,n)}),(0,se.U)(n=>!0===n))}const Bf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function y_(r,n,t,o,i){const u=Nh(r,n,t);return u.matched?function xb(r,n,t,o){const i=n.canMatch;return i&&0!==i.length?Tt(i.map(d=>{const g=r.get(d),v=function z0(r){return r&&Ml(r.canMatch)}(g)?g.canMatch(n,t):g(n,t);return Oa(v)})).pipe(td(),__()):Tt(!0)}(o=$0(n,o),n,t).pipe((0,se.U)(d=>!0===d?u:Object.assign({},Bf))):Tt(u)}function Nh(r,n,t){var o;if(""===n.path)return"full"===n.pathMatch&&(r.hasChildren()||t.length>0)?Object.assign({},Bf):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(n.matcher||a2)(t,r,n);if(!u)return Object.assign({},Bf);const d={};Qr(u.posParams,(v,w)=>{d[w]=v.path});const g=u.consumed.length>0?Object.assign(Object.assign({},d),u.consumed[u.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:g,positionalParamSegments:null!==(o=u.posParams)&&void 0!==o?o:{}}}function v_(r,n,t,o,i="corrected"){if(t.length>0&&function C2(r,n,t){return t.some(o=>Mh(r,n,o)&&vi(o)!==Wt)}(r,t,o)){const d=new zt(n,function kb(r,n,t,o){const i={};i[Wt]=o,o._sourceSegment=r,o._segmentIndexShift=n.length;for(const u of t)if(""===u.path&&vi(u)!==Wt){const d=new zt([],{});d._sourceSegment=r,d._segmentIndexShift=n.length,i[vi(u)]=d}return i}(r,n,o,new zt(t,r.children)));return d._sourceSegment=r,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function nd(r,n,t){return t.some(o=>Mh(r,n,o))}(r,t,o)){const d=new zt(r.segments,function C_(r,n,t,o,i,u){const d={};for(const g of o)if(Mh(r,t,g)&&!i[vi(g)]){const v=new zt([],{});v._sourceSegment=r,v._segmentIndexShift="legacy"===u?r.segments.length:n.length,d[vi(g)]=v}return Object.assign(Object.assign({},i),d)}(r,n,t,o,r.children,i));return d._sourceSegment=r,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:t}}const u=new zt(r.segments,r.children);return u._sourceSegment=r,u._segmentIndexShift=n.length,{segmentGroup:u,slicedSegments:t}}function Mh(r,n,t){return(!(r.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}function T_(r,n,t,o){return!!(vi(r)===o||o!==Wt&&Mh(n,t,r))&&("**"===r.path||Nh(n,r,t).matched)}function Ph(r,n,t){return 0===n.length&&!r.children[t]}const ni=!1;class Uh{constructor(n){this.segmentGroup=n||null}}class Y0{constructor(n){this.urlTree=n}}function Pl(r){return jc(new Uh(r))}function Ks(r){return jc(new Y0(r))}class T2{constructor(n,t,o,i,u){this.injector=n,this.configLoader=t,this.urlSerializer=o,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const n=v_(this.urlTree.root,[],[],this.config).segmentGroup,t=new zt(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,t,Wt).pipe((0,se.U)(u=>this.createUrlTree(kf(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Pa(u=>{if(u instanceof Y0)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Uh?this.noMatchError(u):u}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,Wt).pipe((0,se.U)(i=>this.createUrlTree(kf(i),n.queryParams,n.fragment))).pipe(Pa(i=>{throw i instanceof Uh?this.noMatchError(i):i}))}noMatchError(n){return new e.vHH(4002,ni)}createUrlTree(n,t,o){const i=Ym(n);return new bl(i,t,o)}expandSegmentGroup(n,t,o,i){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(n,t,o).pipe((0,se.U)(u=>new zt([],u))):this.expandSegment(n,o,t,o.segments,i,!0)}expandChildren(n,t,o){const i=[];for(const u of Object.keys(o.children))"primary"===u?i.unshift(u):i.push(u);return(0,Dn.D)(i).pipe(Iu(u=>{const d=o.children[u],g=G0(t,u);return this.expandSegmentGroup(n,g,d,u).pipe((0,se.U)(v=>({segment:v,outlet:u})))}),Gc((u,d)=>(u[d.outlet]=d.segment,u),{}),f0())}expandSegment(n,t,o,i,u,d){return(0,Dn.D)(o).pipe(Iu(g=>this.expandSegmentAgainstRoute(n,t,o,g,i,u,d).pipe(Pa(w=>{if(w instanceof Uh)return Tt(null);throw w}))),zs(g=>!!g),Pa((g,v)=>{if(g instanceof $c||"EmptyError"===g.name)return Ph(t,i,u)?Tt(new zt([],{})):Pl(t);throw g}))}expandSegmentAgainstRoute(n,t,o,i,u,d,g){return T_(i,t,u,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,t,i,u,d):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,t,o,i,u,d):Pl(t):Pl(t)}expandSegmentAgainstRouteUsingRedirect(n,t,o,i,u,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,o,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,o,i,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,o,i){const u=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?Ks(u):this.lineralizeSegments(o,u).pipe((0,Dr.z)(d=>{const g=new zt(d,{});return this.expandSegment(n,g,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,o,i,u,d){const{matched:g,consumedSegments:v,remainingSegments:w,positionalParamSegments:S}=Nh(t,i,u);if(!g)return Pl(t);const Z=this.applyRedirectCommands(v,i.redirectTo,S);return i.redirectTo.startsWith("/")?Ks(Z):this.lineralizeSegments(i,Z).pipe((0,Dr.z)(R=>this.expandSegment(n,t,o,R.concat(w),d,!1)))}matchSegmentAgainstRoute(n,t,o,i,u){return"**"===o.path?(n=$0(o,n),o.loadChildren?(o._loadedRoutes?Tt({routes:o._loadedRoutes,injector:o._loadedInjector}):this.configLoader.loadChildren(n,o)).pipe((0,se.U)(g=>(o._loadedRoutes=g.routes,o._loadedInjector=g.injector,new zt(i,{})))):Tt(new zt(i,{}))):y_(t,o,i,n).pipe(lo(({matched:d,consumedSegments:g,remainingSegments:v})=>{var w;return d?(n=null!==(w=o._injector)&&void 0!==w?w:n,this.getChildConfig(n,o,i).pipe((0,Dr.z)(Z=>{var R;const W=null!==(R=Z.injector)&&void 0!==R?R:n,ne=Z.routes,{segmentGroup:Me,slicedSegments:$e}=v_(t,g,v,ne),pt=new zt(Me.segments,Me.children);if(0===$e.length&&pt.hasChildren())return this.expandChildren(W,ne,pt).pipe((0,se.U)(Yt=>new zt(g,Yt)));if(0===ne.length&&0===$e.length)return Tt(new zt(g,{}));const Pt=vi(o)===u;return this.expandSegment(W,pt,ne,$e,Pt?Wt:u,!0).pipe((0,se.U)(wt=>new zt(g.concat(wt.segments),wt.children)))}))):Pl(t)}))}getChildConfig(n,t,o){return t.children?Tt({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?Tt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Sb(r,n,t,o){const i=n.canLoad;return void 0===i||0===i.length?Tt(!0):Tt(i.map(d=>{const g=r.get(d),v=function _2(r){return r&&Ml(r.canLoad)}(g)?g.canLoad(n,t):g(n,t);return Oa(v)})).pipe(td(),__())}(n,t,o).pipe((0,Dr.z)(i=>i?this.configLoader.loadChildren(n,t).pipe((0,yo.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function X0(r){return jc(pb(ni,3))}())):Tt({routes:[],injector:n})}lineralizeSegments(n,t){let o=[],i=t.root;for(;;){if(o=o.concat(i.segments),0===i.numberOfChildren)return Tt(o);if(i.numberOfChildren>1||!i.children[Wt])return jc(new e.vHH(4e3,ni));i=i.children[Wt]}}applyRedirectCommands(n,t,o){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,o)}applyRedirectCreateUrlTree(n,t,o,i){const u=this.createSegmentGroup(n,t.root,o,i);return new bl(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const o={};return Qr(n,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const g=i.substring(1);o[u]=t[g]}else o[u]=i}),o}createSegmentGroup(n,t,o,i){const u=this.createSegments(n,t.segments,o,i);let d={};return Qr(t.children,(g,v)=>{d[v]=this.createSegmentGroup(n,g,o,i)}),new zt(u,d)}createSegments(n,t,o,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(n,u,i):this.findOrReturn(u,o))}findPosParam(n,t,o){const i=o[t.path.substring(1)];if(!i)throw new e.vHH(4001,ni);return i}findOrReturn(n,t){let o=0;for(const i of t){if(i.path===n.path)return t.splice(o),i;o++}return n}}class jf{}class E_{constructor(n,t,o,i,u,d,g,v){this.injector=n,this.rootComponentType=t,this.config=o,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=g,this.urlSerializer=v}recognize(){const n=v_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Wt).pipe((0,se.U)(t=>{if(null===t)return null;const o=new Dh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Wt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ra(o,t),u=new Uf(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(n){const t=n.value,o=Eh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,o,i){return 0===o.segments.length&&o.hasChildren()?this.processChildren(n,t,o):this.processSegment(n,t,o,o.segments,i)}processChildren(n,t,o){return(0,Dn.D)(Object.keys(o.children)).pipe(Iu(i=>{const u=o.children[i],d=G0(t,i);return this.processSegmentGroup(n,d,u,i)}),Gc((i,u)=>i&&u?(i.push(...u),i):null),function zw(r,n=!1){return(0,_o.e)((t,o)=>{let i=0;t.subscribe((0,mr.x)(o,u=>{const d=r(u,i++);(d||n)&&o.next(u),!d&&o.complete()}))})}(i=>null!==i),Au(null),f0(),(0,se.U)(i=>{if(null===i)return null;const u=t1(i);return function D_(r){r.sort((n,t)=>n.value.outlet===Wt?-1:t.value.outlet===Wt?1:n.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(n,t,o,i,u){return(0,Dn.D)(t).pipe(Iu(d=>{var g;return this.processSegmentAgainstRoute(null!==(g=d._injector)&&void 0!==g?g:n,d,o,i,u)}),zs(d=>!!d),Pa(d=>{if(d instanceof $c)return Ph(o,i,u)?Tt([]):Tt(null);throw d}))}processSegmentAgainstRoute(n,t,o,i,u){var d,g;if(t.redirectTo||!T_(t,o,i,u))return Tt(null);let v;if("**"===t.path){const w=i.length>0?Jm(i).parameters:{},S=S_(o)+i.length;v=Tt({snapshot:new Dh(i,w,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,r1(t),vi(t),null!==(g=null!==(d=t.component)&&void 0!==d?d:t._loadedComponent)&&void 0!==g?g:null,t,n1(o),S,Pb(t),S),consumedSegments:[],remainingSegments:[]})}else v=y_(o,t,i,n).pipe((0,se.U)(({matched:w,consumedSegments:S,remainingSegments:Z,parameters:R})=>{var W,ne;if(!w)return null;const Me=S_(o)+S.length;return{snapshot:new Dh(S,R,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,r1(t),vi(t),null!==(ne=null!==(W=t.component)&&void 0!==W?W:t._loadedComponent)&&void 0!==ne?ne:null,t,n1(o),Me,Pb(t),Me),consumedSegments:S,remainingSegments:Z}}));return v.pipe(lo(w=>{var S,Z;if(null===w)return Tt(null);const{snapshot:R,consumedSegments:W,remainingSegments:ne}=w;n=null!==(S=t._injector)&&void 0!==S?S:n;const Me=null!==(Z=t._loadedInjector)&&void 0!==Z?Z:n,$e=function w2(r){return r.children?r.children:r.loadChildren?r._loadedRoutes:[]}(t),{segmentGroup:pt,slicedSegments:Pt}=v_(o,W,ne,$e.filter(wt=>void 0===wt.redirectTo),this.relativeLinkResolution);if(0===Pt.length&&pt.hasChildren())return this.processChildren(Me,$e,pt).pipe((0,se.U)(wt=>null===wt?null:[new Ra(R,wt)]));if(0===$e.length&&0===Pt.length)return Tt([new Ra(R,[])]);const Kt=vi(t)===u;return this.processSegment(Me,$e,pt,Pt,Kt?Wt:u).pipe((0,se.U)(wt=>null===wt?null:[new Ra(R,wt)]))}))}}function Zb(r){const n=r.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function t1(r){const n=[],t=new Set;for(const o of r){if(!Zb(o)){n.push(o);continue}const i=n.find(u=>o.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...o.children),t.add(i)):n.push(o)}for(const o of t){const i=t1(o.children);n.push(new Ra(o.value,i))}return n.filter(o=>!t.has(o))}function n1(r){let n=r;for(;n._sourceSegment;)n=n._sourceSegment;return n}function S_(r){var n,t;let o=r,i=null!==(n=o._segmentIndexShift)&&void 0!==n?n:0;for(;o._sourceSegment;)o=o._sourceSegment,i+=null!==(t=o._segmentIndexShift)&&void 0!==t?t:0;return i-1}function r1(r){return r.data||{}}function Pb(r){return r.resolve||{}}const Hf=Symbol("RouteTitle");function Ob(r){return"string"==typeof r.title||null===r.title}function i1(r){return lo(n=>{const t=r(n);return t?(0,Dn.D)(t).pipe((0,se.U)(()=>n)):Tt(n)})}class S2 extends class D2{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}{}const s1=new e.OlP("ROUTES");let Ys=(()=>{class r{constructor(t,o){this.injector=t,this.compiler=o,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Tt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const o=Oa(t.loadComponent()).pipe((0,yo.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),g0(()=>{this.componentLoaders.delete(t)})),i=new $m(o,()=>new ji.x).pipe(jm());return this.componentLoaders.set(t,i),i}loadChildren(t,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return Tt({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const u=this.loadModuleFactoryOrRoutes(o.loadChildren).pipe((0,se.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(o);let v,w,S=!1;Array.isArray(g)?w=g:(v=g.create(t).injector,w=m0(v.get(s1,[],e.XFs.Self|e.XFs.Optional)));return{routes:w.map(Ff),injector:v}}),g0(()=>{this.childrenLoaders.delete(o)})),d=new $m(u,()=>new ji.x).pipe(jm());return this.childrenLoaders.set(o,d),d}loadModuleFactoryOrRoutes(t){return Oa(t()).pipe((0,Dr.z)(o=>o instanceof e.YKP||Array.isArray(o)?Tt(o):(0,Dn.D)(this.compiler.compileModuleAsync(o))))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.zs3),e.LFG(e.Sil))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Lb{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,t){return n}}function Z_(r){throw r}function a1(r,n,t){return n.parse("/")}const N_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mn=(()=>{class r{constructor(t,o,i,u,d,g,v){this.rootComponentType=t,this.urlSerializer=o,this.rootContexts=i,this.location=u,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ji.x,this.errorHandler=Z_,this.malformedUriErrorHandler=a1,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Tt(void 0),this.urlHandlingStrategy=new Lb,this.routeReuseStrategy=new S2,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(Ys),this.configLoader.onLoadEndListener=R=>this.triggerEvent(new cb(R)),this.configLoader.onLoadStartListener=R=>this.triggerEvent(new a_(R)),this.ngModule=d.get(e.h0i),this.console=d.get(e.c2e);const Z=d.get(e.R0b);this.isNgZoneEnabled=Z instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function Wm(){return new bl(new zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=c_(this.currentUrlTree,this.rootComponentType),this.transitions=new uo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const o=this.events;return t.pipe(ft(i=>0!==i.id),(0,se.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),lo(i=>{let u=!1,d=!1;return Tt(i).pipe((0,yo.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),lo(g=>{const v=this.browserUrlTree.toString(),w=!this.navigated||g.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return l1(g.source)&&(this.browserUrlTree=g.extractedUrl),Tt(g).pipe(lo(Z=>{const R=this.transitions.getValue();return o.next(new i_(Z.id,this.serializeUrl(Z.extractedUrl),Z.source,Z.restoredState)),R!==this.transitions.getValue()?Ws.E:Promise.resolve(Z)}),function e1(r,n,t,o){return lo(i=>function b_(r,n,t,o,i){return new T2(r,n,t,o,i).apply()}(r,n,t,i.extractedUrl,o).pipe((0,se.U)(u=>Object.assign(Object.assign({},i),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,yo.b)(Z=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Z.urlAfterRedirects}),i.urlAfterRedirects=Z.urlAfterRedirects}),function o1(r,n,t,o,i,u){return(0,Dr.z)(d=>function I_(r,n,t,o,i,u,d="emptyOnly",g="legacy"){return new E_(r,n,t,o,i,d,g,u).recognize().pipe(lo(v=>null===v?function $f(r){return new Jr.y(n=>n.error(r))}(new jf):Tt(v)))}(r,n,t,d.urlAfterRedirects,o.serialize(d.urlAfterRedirects),o,i,u).pipe((0,se.U)(g=>Object.assign(Object.assign({},d),{targetSnapshot:g}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,yo.b)(Z=>{if(i.targetSnapshot=Z.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Z.extras.skipLocationChange){const W=this.urlHandlingStrategy.merge(Z.urlAfterRedirects,Z.rawUrl);this.setBrowserUrl(W,Z)}this.browserUrlTree=Z.urlAfterRedirects}const R=new ub(Z.id,this.serializeUrl(Z.extractedUrl),this.serializeUrl(Z.urlAfterRedirects),Z.targetSnapshot);o.next(R)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:R,extractedUrl:W,source:ne,restoredState:Me,extras:$e}=g,pt=new i_(R,this.serializeUrl(W),ne,Me);o.next(pt);const Pt=c_(W,this.rootComponentType).snapshot;return Tt(i=Object.assign(Object.assign({},g),{targetSnapshot:Pt,urlAfterRedirects:W,extras:Object.assign(Object.assign({},$e),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,g.resolve(null),Ws.E}),(0,yo.b)(g=>{const v=new lb(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),(0,se.U)(g=>i=Object.assign(Object.assign({},g),{guards:yb(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function Q0(r,n){return(0,Dr.z)(t=>{const{targetSnapshot:o,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?Tt(Object.assign(Object.assign({},t),{guardsResult:!0})):function Vf(r,n,t,o){return(0,Dn.D)(r).pipe((0,Dr.z)(i=>function Db(r,n,t,o,i){const u=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return u&&0!==u.length?Tt(u.map(g=>{const v=Zh(g,n,i);return Oa(function Tb(r){return r&&Ml(r.canDeactivate)}(v)?v.canDeactivate(r,n,t,o):v(r,n,t,o)).pipe(zs())})).pipe(td()):Tt(!0)}(i.component,i.route,t,n,o)),zs(i=>!0!==i,!0))}(d,o,i,r).pipe((0,Dr.z)(g=>g&&function Cb(r){return"boolean"==typeof r}(g)?function bb(r,n,t,o){return(0,Dn.D)(n).pipe(Iu(i=>Vm(function Ab(r,n){return null!==r&&n&&n(new db(r)),Tt(!0)}(i.route.parent,o),function K0(r,n){return null!==r&&n&&n(new P0(r)),Tt(!0)}(i.route,o),function Eb(r,n,t){const o=n[n.length-1],u=n.slice(0,n.length-1).reverse().map(d=>function m2(r){const n=r.routeConfig?r.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:r,guards:n}:null}(d)).filter(d=>null!==d).map(d=>Bm(()=>Tt(d.guards.map(v=>{const w=Zh(v,d.node,t);return Oa(function v2(r){return r&&Ml(r.canActivateChild)}(w)?w.canActivateChild(o,r):w(o,r)).pipe(zs())})).pipe(td())));return Tt(u).pipe(td())}(r,i.path,t),function Ib(r,n,t){const o=n.routeConfig?n.routeConfig.canActivate:null;if(!o||0===o.length)return Tt(!0);const i=o.map(u=>Bm(()=>{const d=Zh(u,n,t);return Oa(function y2(r){return r&&Ml(r.canActivate)}(d)?d.canActivate(n,r):d(n,r)).pipe(zs())}));return Tt(i).pipe(td())}(r,i.route,t))),zs(i=>!0!==i,!0))}(o,u,r,n):Tt(g)),(0,se.U)(g=>Object.assign(Object.assign({},t),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,yo.b)(g=>{if(i.guardsResult=g.guardsResult,Po(g.guardsResult))throw p_(0,g.guardsResult);const v=new Z0(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(v)}),ft(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),i1(g=>{if(g.guards.canActivateChecks.length)return Tt(g).pipe((0,yo.b)(v=>{const w=new s_(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}),lo(v=>{let w=!1;return Tt(v).pipe(function Ub(r,n){return(0,Dr.z)(t=>{const{targetSnapshot:o,guards:{canActivateChecks:i}}=t;if(!i.length)return Tt(t);let u=0;return(0,Dn.D)(i).pipe(Iu(d=>function x_(r,n,t,o){const i=r.routeConfig,u=r._resolve;return void 0!==(null==i?void 0:i.title)&&!Ob(i)&&(u[Hf]=i.title),function b2(r,n,t,o){const i=function A2(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}(r);if(0===i.length)return Tt({});const u={};return(0,Dn.D)(i).pipe((0,Dr.z)(d=>function I2(r,n,t,o){const i=Zh(r,n,o);return Oa(i.resolve?i.resolve(n,t):i(n,t))}(r[d],n,t,o).pipe(zs(),(0,yo.b)(g=>{u[d]=g}))),wh(1),function Hm(r){return(0,se.U)(()=>r)}(u),Pa(d=>d instanceof $c?Ws.E:jc(d)))}(u,r,n,o).pipe((0,se.U)(d=>(r._resolvedData=d,r.data=Eh(r,t).resolve,i&&Ob(i)&&(r.data[Hf]=i.title),null)))}(d.route,o,r,n)),(0,yo.b)(()=>u++),wh(1),(0,Dr.z)(d=>u===i.length?Tt(t):Ws.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,yo.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(v),this.cancelNavigationTransition(v,"",2))}}))}),(0,yo.b)(v=>{const w=new N0(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}))}),i1(g=>{const v=w=>{var S;const Z=[];(null===(S=w.routeConfig)||void 0===S?void 0:S.loadComponent)&&!w.routeConfig._loadedComponent&&Z.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,yo.b)(R=>{w.component=R}),(0,se.U)(()=>{})));for(const R of w.children)Z.push(...v(R));return Z};return Ch(v(g.targetSnapshot.root)).pipe(Au(),Hc(1))}),i1(()=>this.afterPreactivation()),(0,se.U)(g=>{const v=function L0(r,n,t){const o=Sh(r,n._root,t?t._root:void 0);return new l_(o,n)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return i=Object.assign(Object.assign({},g),{targetRouterState:v})}),(0,yo.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((r,n,t)=>(0,se.U)(o=>(new _b(n,o.targetRouterState,o.currentRouterState,t).activate(r),o)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,yo.b)({next(){u=!0},complete(){u=!0}}),g0(()=>{var g;u||d||this.cancelNavigationTransition(i,"",1),(null===(g=this.currentNavigation)||void 0===g?void 0:g.id)===i.id&&(this.currentNavigation=null)}),Pa(g=>{var v;if(d=!0,q0(g)){f_(g)||(this.navigated=!0,this.restoreHistory(i,!0));const w=new Mf(i.id,this.serializeUrl(i.extractedUrl),g.message,g.cancellationCode);if(o.next(w),f_(g)){const S=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),Z={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||l1(i.source)};this.scheduleNavigation(S,"imperative",null,Z,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const w=new k0(i.id,this.serializeUrl(i.extractedUrl),g,null!==(v=i.targetSnapshot)&&void 0!==v?v:void 0);o.next(w);try{i.resolve(this.errorHandler(g))}catch(S){i.reject(S)}}return Ws.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o="popstate"===t.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var i;const u={replaceUrl:!0},d=null!==(i=t.state)&&void 0!==i&&i.navigationId?t.state:null;if(d){const v=Object.assign({},d);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(u.state=v)}const g=this.parseUrl(t.url);this.scheduleNavigation(g,o,d,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Ff),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,o={}){const{relativeTo:i,queryParams:u,fragment:d,queryParamsHandling:g,preserveFragment:v}=o,w=i||this.routerState.root,S=v?this.currentUrlTree.fragment:d;let Z=null;switch(g){case"merge":Z=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":Z=this.currentUrlTree.queryParams;break;default:Z=u||null}return null!==Z&&(Z=this.removeEmptyProps(Z)),D0(w,this.currentUrlTree,t,Z,null!=S?S:null)}navigateByUrl(t,o={skipLocationChange:!1}){const i=Po(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,o)}navigate(t,o={skipLocationChange:!1}){return function u1(r){for(let n=0;n<r.length;n++){if(null==r[n])throw new e.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(i){o=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return o}isActive(t,o){let i;if(i=!0===o?Object.assign({},N_):!1===o?Object.assign({},Fb):o,Po(t))return Jc(this.currentUrlTree,t,i);const u=this.parseUrl(t);return Jc(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((o,i)=>{const u=t[i];return null!=u&&(o[i]=u),o},{})}processNavigations(){this.navigations.subscribe(t=>{var o;this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Su(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(o=this.titleStrategy)||void 0===o||o.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,o,i,u,d){var g,v;if(this.disposed)return Promise.resolve(!1);let w,S,Z;d?(w=d.resolve,S=d.reject,Z=d.promise):Z=new Promise((ne,Me)=>{w=ne,S=Me});const R=++this.navigationId;let W;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),W=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):W=0,this.setTransition({id:R,targetPageId:W,source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:w,reject:S,promise:Z,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Z.catch(ne=>Promise.reject(ne))}setBrowserUrl(t,o){const i=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,o=!1){var i,u;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,o,i){const u=new Mf(t.id,this.serializeUrl(t.extractedUrl),o,i);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}}return r.\u0275fac=function(t){e.$Z()},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();function l1(r){return"imperative"!==r}let $i=(()=>{class r{constructor(t,o,i){this.router=t,this.route=o,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new ji.x,this.subscription=t.events.subscribe(u=>{u instanceof Su&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,o,i,u,d){if(0!==t||o||i||u||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const g={skipLocationChange:(0,e.D6c)(this.skipLocationChange),replaceUrl:(0,e.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,e.D6c)(this.preserveFragment)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Mn),e.Y36(Qs),e.Y36(ve))},r.\u0275dir=e.lG2({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,o){1&t&&e.NdJ("click",function(u){return o.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&e.uIk("target",o.target)("href",o.href,e.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[e.TTD]}),r})(),d1=(()=>{class r{buildTitle(t){var o;let i,u=t.root;for(;void 0!==u;)i=null!==(o=this.getResolvedTitleForRoute(u))&&void 0!==o?o:i,u=u.children.find(d=>d.outlet===Wt);return i}getResolvedTitleForRoute(t){return t.data[Hf]}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(){return(0,e.f3M)(Gf)},providedIn:"root"}),r})(),Gf=(()=>{class r extends d1{constructor(t){super(),this.title=t}updateTitle(t){const o=this.buildTitle(t);void 0!==o&&this.title.setTitle(o)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(lu))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class Ul{}let Fh=(()=>{class r{constructor(t,o,i,u,d){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(ft(t=>t instanceof Su),Iu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){var i,u,d;const g=[];for(const v of o){v.providers&&!v._injector&&(v._injector=(0,e.MMx)(v.providers,t,`Route: ${v.path}`));const w=null!==(i=v._injector)&&void 0!==i?i:t,S=null!==(u=v._loadedInjector)&&void 0!==u?u:w;v.loadChildren&&!v._loadedRoutes||v.loadComponent&&!v._loadedComponent?g.push(this.preloadConfig(w,v)):(v.children||v._loadedRoutes)&&g.push(this.processRoutes(S,null!==(d=v.children)&&void 0!==d?d:v._loadedRoutes))}return(0,Dn.D)(g).pipe((0,wl.J)())}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(t,o):Tt(null);const u=i.pipe((0,Dr.z)(d=>{var g;return null===d?Tt(void 0):(o._loadedRoutes=d.routes,o._loadedInjector=d.injector,this.processRoutes(null!==(g=d.injector)&&void 0!==g?g:t,d.routes))}));if(o.loadComponent&&!o._loadedComponent){const d=this.loader.loadComponent(o);return(0,Dn.D)([u,d]).pipe((0,wl.J)())}return u})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Mn),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(Ul),e.LFG(Ys))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const rd=new e.OlP("");let Vb=(()=>{class r{constructor(t,o,i={}){this.router=t,this.viewportScroller=o,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof i_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Su&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof u_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.router.triggerEvent(new u_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(t){e.$Z()},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const qh=new e.OlP("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),Jf=new e.OlP("ROUTER_FORROOT_GUARD"),M_=new e.OlP(""),P_=[ke,{provide:Qm,useClass:C0},{provide:Mn,useFactory:function Jb(r,n,t,o,i,u,d,g={},v,w){const S=new Mn(null,r,n,t,o,i,m0(u));return v&&(S.urlHandlingStrategy=v),w&&(S.routeReuseStrategy=w),S.titleStrategy=d,function Ci(r,n){r.errorHandler&&(n.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(n.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(n.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(n.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(n.urlUpdateStrategy=r.urlUpdateStrategy),r.canceledNavigationResolution&&(n.canceledNavigationResolution=r.canceledNavigationResolution)}(g,S),S},deps:[Qm,kh,ke,e.zs3,e.Sil,s1,d1,qh,[class k_{},new e.FiY],[class E2{},new e.FiY]]},kh,{provide:Qs,useFactory:function g1(r){return r.routerState.root},deps:[Mn]},Ys];function jb(){return new e.PXZ("Router",Mn)}let $b=(()=>{class r{constructor(t,o){}static forRoot(t,o){return{ngModule:r,providers:[P_,[],U_(t),{provide:Jf,useFactory:f1,deps:[[Mn,new e.FiY,new e.tp0]]},{provide:qh,useValue:o||{}},null!=o&&o.useHash?{provide:ve,useClass:Be}:{provide:ve,useClass:dt},{provide:rd,useFactory:()=>{const r=(0,e.f3M)(Mn),n=(0,e.f3M)(xs),t=(0,e.f3M)(qh);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Vb(r,n,t)}},null!=o&&o.preloadingStrategy?Xb(o.preloadingStrategy):[],{provide:e.PXZ,multi:!0,useFactory:jb},null!=o&&o.initialNavigation?Qb(o):[],[{provide:zb,useFactory:Wb},{provide:e.tb,multi:!0,useExisting:zb}]]}}static forChild(t){return{ngModule:r,providers:[U_(t)]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Jf,8),e.LFG(Mn,8))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();function f1(r){return"guarded"}function U_(r){return[{provide:e.deG,multi:!0,useValue:r},{provide:s1,multi:!0,useValue:r}]}function Wb(){const r=(0,e.f3M)(e.zs3);return n=>{var t,o;const i=r.get(e.z2F);if(n!==i.components[0])return;const u=r.get(Mn),d=r.get(R_);null===r.get(L_,null,e.XFs.Optional)&&u.initialNavigation(),null===(t=r.get(M_,null,e.XFs.Optional))||void 0===t||t.setUpPreloading(),null===(o=r.get(rd,null,e.XFs.Optional))||void 0===o||o.init(),u.resetRootComponentType(i.componentTypes[0]),d.next(),d.complete()}}const zb=new e.OlP("");function Qb(r){return["disabled"===r.initialNavigation?[{provide:e.ip1,multi:!0,useFactory:()=>{const r=(0,e.f3M)(Mn);return()=>{r.setUpLocationChangeListener()}}},{provide:L_,useValue:"disabled"}]:[],"enabledBlocking"===r.initialNavigation?[{provide:L_,useValue:"enabledBlocking"},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:r=>{const n=r.get(G,Promise.resolve(null));let t=!1;return()=>n.then(()=>new Promise(i=>{const u=r.get(Mn),d=r.get(R_);(function o(i){r.get(Mn).events.pipe(ft(d=>d instanceof Su||d instanceof Mf||d instanceof k0),(0,se.U)(d=>d instanceof Su||d instanceof Mf&&(0===d.code||1===d.code)&&null),ft(d=>null!==d),Hc(1)).subscribe(()=>{i()})})(()=>{i(!0),t=!0}),u.afterPreactivation=()=>(i(!0),t||d.closed?Tt(void 0):d),u.initialNavigation()}))}}]:[]]}const R_=new e.OlP("",{factory:()=>new ji.x}),L_=new e.OlP("");function Xb(r){return[Fh,{provide:M_,useExisting:Fh},{provide:Ul,useExisting:r}]}let tA=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-laws"]],decls:10,vars:0,consts:[["routerLink","../clusters"],[1,"text-green-dull"],[1,"text-green"]],template:function(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"Laws works!"),e.qZA(),e.TgZ(2,"a",0),e._uU(3,"clusters"),e.qZA(),e.TgZ(4,"p")(5,"a",1),e._uU(6,"[ "),e.TgZ(7,"span",2),e._uU(8,"O"),e.qZA(),e._uU(9,"nly Evolved ]"),e.qZA()())},dependencies:[$i]}),r})(),Vh=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],inputs:{selectedLanguage:"selectedLanguage"},decls:0,vars:0,template:function(t,o){},encapsulation:2}),r})();class F_{}class q_{}class ea{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(t=>{const o=t.indexOf(":");if(o>0){const i=t.slice(0,o),u=i.toLowerCase(),d=t.slice(o+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(t=>{let o=n[t];const i=t.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(i,o),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof ea?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new ea;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ea?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let o=n.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...o),this.headers.set(t,i);break;case"d":const u=n.value;if(u){let d=this.headers.get(t);if(!d)return;d=d.filter(g=>-1===u.indexOf(g)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class V_{encodeKey(n){return B_(n)}encodeValue(n){return B_(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const rA=/%(\d[a-f0-9])/gi,x2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function B_(r){return encodeURIComponent(r).replace(rA,(n,t)=>{var o;return null!==(o=x2[t])&&void 0!==o?o:n})}function Wf(r){return`${r}`}class qa{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new V_,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function nA(r,n){const t=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[d,g]=-1==u?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,u)),n.decodeValue(i.slice(u+1))],v=t.get(d)||[];v.push(g),t.set(d,v)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const o=n.fromObject[t],i=Array.isArray(o)?o.map(Wf):[Wf(o)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(o=>{const i=n[o];Array.isArray(i)?i.forEach(u=>{t.push({param:o,value:u,op:"a"})}):t.push({param:o,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(o=>t+"="+this.encoder.encodeValue(o)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new qa({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(Wf(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let o=this.map.get(n.param)||[];const i=o.indexOf(Wf(n.value));-1!==i&&o.splice(i,1),o.length>0?this.map.set(n.param,o):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class j_{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function _1(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function Bh(r){return"undefined"!=typeof Blob&&r instanceof Blob}function zf(r){return"undefined"!=typeof FormData&&r instanceof FormData}class Ol{constructor(n,t,o,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function oA(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==o?o:null,u=i):u=o,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new ea),this.context||(this.context=new j_),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+d}}else this.params=new qa,this.urlWithParams=t}serializeBody(){return null===this.body?null:_1(this.body)||Bh(this.body)||zf(this.body)||function iA(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||zf(this.body)?null:Bh(this.body)?this.body.type||null:_1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var t;const o=n.method||this.method,i=n.url||this.url,u=n.responseType||this.responseType,d=void 0!==n.body?n.body:this.body,g=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,v=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let w=n.headers||this.headers,S=n.params||this.params;const Z=null!==(t=n.context)&&void 0!==t?t:this.context;return void 0!==n.setHeaders&&(w=Object.keys(n.setHeaders).reduce((R,W)=>R.set(W,n.setHeaders[W]),w)),n.setParams&&(S=Object.keys(n.setParams).reduce((R,W)=>R.set(W,n.setParams[W]),S)),new Ol(o,i,d,{params:S,headers:w,context:Z,reportProgress:v,responseType:u,withCredentials:g})}}var ur=(()=>((ur=ur||{})[ur.Sent=0]="Sent",ur[ur.UploadProgress=1]="UploadProgress",ur[ur.ResponseHeader=2]="ResponseHeader",ur[ur.DownloadProgress=3]="DownloadProgress",ur[ur.Response=4]="Response",ur[ur.User=5]="User",ur))();class Qf{constructor(n,t=200,o="OK"){this.headers=n.headers||new ea,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||o,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class y1 extends Qf{constructor(n={}){super(n),this.type=ur.ResponseHeader}clone(n={}){return new y1({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class It extends Qf{constructor(n={}){super(n),this.type=ur.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new It({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Kf extends Qf{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function v1(r,n){return{body:n,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let Va=(()=>{class r{constructor(t){this.handler=t}request(t,o,i={}){let u;if(t instanceof Ol)u=t;else{let v,w;v=i.headers instanceof ea?i.headers:new ea(i.headers),i.params&&(w=i.params instanceof qa?i.params:new qa({fromObject:i.params})),u=new Ol(t,o,void 0!==i.body?i.body:null,{headers:v,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=Tt(u).pipe(Iu(v=>this.handler.handle(v)));if(t instanceof Ol||"events"===i.observe)return d;const g=d.pipe(ft(v=>v instanceof It));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return g.pipe((0,se.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return g.pipe((0,se.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return g.pipe((0,se.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return g.pipe((0,se.U)(v=>v.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,o={}){return this.request("DELETE",t,o)}get(t,o={}){return this.request("GET",t,o)}head(t,o={}){return this.request("HEAD",t,o)}jsonp(t,o){return this.request("JSONP",t,{params:(new qa).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,o={}){return this.request("OPTIONS",t,o)}patch(t,o,i={}){return this.request("PATCH",t,v1(i,o))}post(t,o,i={}){return this.request("POST",t,v1(i,o))}put(t,o,i={}){return this.request("PUT",t,v1(i,o))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(F_))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class $_{constructor(n,t){this.next=n,this.interceptor=t}handle(n){return this.interceptor.intercept(n,this.next)}}const jh=new e.OlP("HTTP_INTERCEPTORS");let C1=(()=>{class r{intercept(t,o){return o.handle(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const uA=/^\)\]\}',?\n/;let od=(()=>{class r{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Jr.y(o=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((W,ne)=>i.setRequestHeader(W,ne.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const W=t.detectContentTypeHeader();null!==W&&i.setRequestHeader("Content-Type",W)}if(t.responseType){const W=t.responseType.toLowerCase();i.responseType="json"!==W?W:"text"}const u=t.serializeBody();let d=null;const g=()=>{if(null!==d)return d;const W=i.statusText||"OK",ne=new ea(i.getAllResponseHeaders()),Me=function lA(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(i)||t.url;return d=new y1({headers:ne,status:i.status,statusText:W,url:Me}),d},v=()=>{let{headers:W,status:ne,statusText:Me,url:$e}=g(),pt=null;204!==ne&&(pt=void 0===i.response?i.responseText:i.response),0===ne&&(ne=pt?200:0);let Pt=ne>=200&&ne<300;if("json"===t.responseType&&"string"==typeof pt){const Kt=pt;pt=pt.replace(uA,"");try{pt=""!==pt?JSON.parse(pt):null}catch(wt){pt=Kt,Pt&&(Pt=!1,pt={error:wt,text:pt})}}Pt?(o.next(new It({body:pt,headers:W,status:ne,statusText:Me,url:$e||void 0})),o.complete()):o.error(new Kf({error:pt,headers:W,status:ne,statusText:Me,url:$e||void 0}))},w=W=>{const{url:ne}=g(),Me=new Kf({error:W,status:i.status||0,statusText:i.statusText||"Unknown Error",url:ne||void 0});o.error(Me)};let S=!1;const Z=W=>{S||(o.next(g()),S=!0);let ne={type:ur.DownloadProgress,loaded:W.loaded};W.lengthComputable&&(ne.total=W.total),"text"===t.responseType&&!!i.responseText&&(ne.partialText=i.responseText),o.next(ne)},R=W=>{let ne={type:ur.UploadProgress,loaded:W.loaded};W.lengthComputable&&(ne.total=W.total),o.next(ne)};return i.addEventListener("load",v),i.addEventListener("error",w),i.addEventListener("timeout",w),i.addEventListener("abort",w),t.reportProgress&&(i.addEventListener("progress",Z),null!==u&&i.upload&&i.upload.addEventListener("progress",R)),i.send(u),o.next({type:ur.Sent}),()=>{i.removeEventListener("error",w),i.removeEventListener("abort",w),i.removeEventListener("load",v),i.removeEventListener("timeout",w),t.reportProgress&&(i.removeEventListener("progress",Z),null!==u&&i.upload&&i.upload.removeEventListener("progress",R)),i.readyState!==i.DONE&&i.abort()}})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Zr))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const J_=new e.OlP("XSRF_COOKIE_NAME"),b1=new e.OlP("XSRF_HEADER_NAME");class A1{}let N2=(()=>{class r{constructor(t,o,i){this.doc=t,this.platform=o,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Kn(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(de),e.LFG(e.Lbi),e.LFG(J_))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),W_=(()=>{class r{constructor(t,o){this.tokenService=t,this.headerName=o}intercept(t,o){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return o.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),o.handle(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(A1),e.LFG(b1))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),cA=(()=>{class r{constructor(t,o){this.backend=t,this.injector=o,this.chain=null}handle(t){if(null===this.chain){const o=this.injector.get(jh,[]);this.chain=o.reduceRight((i,u)=>new $_(i,u),this.backend)}return this.chain.handle(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(q_),e.LFG(e.zs3))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),U2=(()=>{class r{static disable(){return{ngModule:r,providers:[{provide:W_,useClass:C1}]}}static withOptions(t={}){return{ngModule:r,providers:[t.cookieName?{provide:J_,useValue:t.cookieName}:[],t.headerName?{provide:b1,useValue:t.headerName}:[]]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[W_,{provide:jh,useExisting:W_,multi:!0},{provide:A1,useClass:N2},{provide:J_,useValue:"XSRF-TOKEN"},{provide:b1,useValue:"X-XSRF-TOKEN"}]}),r})(),I1=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[Va,{provide:F_,useClass:cA},od,{provide:q_,useExisting:od}],imports:[U2.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),r})();const id_firebase={apiKey:"AIzaSyCXYvy7VEEXvSUDGnRzB_0kJhcs6k6mFeQ",authDomain:"language-parser-358314.firebaseapp.com",projectId:"language-parser-358314",storageBucket:"language-parser-358314.appspot.com",messagingSenderId:"457941235931",appId:"1:457941235931:web:3d318384aff9c40965b4fe",measurementId:"G-S1PTJS0DPB"};let Ba=(()=>{class r{constructor(){this.rootUrl="http://localhost:8080"}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),sd=(()=>{class r{constructor(t,o){this.config=t,this.http=o,this._rootUrl=""}get rootUrl(){return this._rootUrl||this.config.rootUrl}set rootUrl(t){this._rootUrl=t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ba),e.LFG(Va))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const hA=new class dA{encodeKey(n){return encodeURIComponent(n)}encodeValue(n){return encodeURIComponent(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};class z_{constructor(n,t,o,i,u){this.name=n,this.value=t,this.options=o,this.options=o||{},null==this.options.style&&(this.options.style=i),null==this.options.explode&&(this.options.explode=u)}serializeValue(n,t=","){if(null==n)return"";if(n instanceof Array)return n.map(o=>this.serializeValue(o).split(t).join(encodeURIComponent(t))).join(t);if("object"==typeof n){const o=[];for(const i of Object.keys(n)){let u=n[i];null!=u&&(u=this.serializeValue(u).split(t).join(encodeURIComponent(t)),this.options.explode?o.push(`${i}=${u}`):(o.push(i),o.push(u)))}return o.join(t)}return String(n)}}class pA extends z_{constructor(n,t,o){super(n,t,o,"simple",!1)}append(n){let t=this.value;null==t&&(t="");let o="label"===this.options.style?".":"",i=this.options.explode?""===o?",":o:",",u=!1;return"matrix"===this.options.style&&(o=`;${this.name}=`,this.options.explode&&"object"==typeof t&&(o=";",t instanceof Array?(t=t.map(d=>`${this.name}=${this.serializeValue(d,";")}`),t=t.join(";"),u=!0):(t=this.serializeValue(t,";"),u=!0))),t=o+(u?t:this.serializeValue(t,i)),(n=n.replace(`{${this.name}}`,t)).replace(`{${o}${this.name}${this.options.explode?"*":""}}`,t)}serializeValue(n,t=","){var o="string"==typeof n?encodeURIComponent(n):super.serializeValue(n,t);return(o=(o=o.replace("%3D","=")).replace("%3B",";")).replace("%2C",",")}}class Xf extends z_{constructor(n,t,o){super(n,t,o,"form",!0)}append(n){if(this.value instanceof Array){if(!this.options.explode)return n.append(this.name,this.serializeValue(this.value,"spaceDelimited"===this.options.style?" ":"pipeDelimited"===this.options.style?"|":","));for(const t of this.value)n=n.append(this.name,this.serializeValue(t))}else if(null!==this.value&&"object"==typeof this.value)if("deepObject"===this.options.style)for(const t of Object.keys(this.value)){const o=this.value[t];null!=o&&(n=n.append(`${this.name}[${t}]`,this.serializeValue(o)))}else if(this.options.explode)for(const t of Object.keys(this.value)){const o=this.value[t];null!=o&&(n=n.append(t,this.serializeValue(o)))}else{const t=[];for(const o of Object.keys(this.value)){const i=this.value[o];null!=i&&(t.push(o),t.push(i))}n=n.append(this.name,this.serializeValue(t))}else null!=this.value&&(n=n.append(this.name,this.serializeValue(this.value)));return n}}class Rl extends z_{constructor(n,t,o){super(n,t,o,"simple",!1)}append(n){if(null!=this.value)if(this.value instanceof Array)for(const t of this.value)n=n.append(this.name,this.serializeValue(t));else n=n.append(this.name,this.serializeValue(this.value));return n}}class Nt{constructor(n,t,o){this.rootUrl=n,this.operationPath=t,this.method=o,this._path=new Map,this._query=new Map,this._header=new Map}path(n,t,o){this._path.set(n,new pA(n,t,o||{}))}query(n,t,o){this._query.set(n,new Xf(n,t,o||{}))}header(n,t,o){this._header.set(n,new Rl(n,t,o||{}))}body(n,t="application/json"){if(this._bodyContentType=n instanceof Blob?n.type:t,"application/x-www-form-urlencoded"===this._bodyContentType&&null!==n&&"object"==typeof n){const o=[];for(const i of Object.keys(n)){let u=n[i];u instanceof Array||(u=[u]);for(const d of u){const g=this.formDataValue(d);null!==g&&o.push([i,g])}}this._bodyContent=o.map(i=>`${encodeURIComponent(i[0])}=${encodeURIComponent(i[1])}`).join("&")}else if("multipart/form-data"===this._bodyContentType){const o=new FormData;if(null!=n)for(const i of Object.keys(n)){const u=n[i];if(u instanceof Array)for(const d of u){const g=this.formDataValue(d);null!==g&&o.append(i,g)}else{const d=this.formDataValue(u);null!==d&&o.set(i,d)}}this._bodyContent=o}else this._bodyContent=n}formDataValue(n){return null==n?null:n instanceof Blob?n:"object"==typeof n?JSON.stringify(n):String(n)}build(n){n=n||{};let t=this.operationPath;for(const d of this._path.values())t=d.append(t);const o=this.rootUrl+t;let i=new qa({encoder:hA});for(const d of this._query.values())i=d.append(i);let u=new ea;n.accept&&(u=u.append("Accept",n.accept));for(const d of this._header.values())u=d.append(u);return this._bodyContentType&&!(this._bodyContent instanceof FormData)&&(u=u.set("Content-Type",this._bodyContentType)),new Ol(this.method.toUpperCase(),o,this._bodyContent,{params:i,headers:u,responseType:n.responseType,reportProgress:n.reportProgress})}}let Co=(()=>{class r extends sd{constructor(t,o){super(t,o)}saveLanguage$Response(t){const o=new Nt(this.rootUrl,r.SaveLanguagePath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}saveLanguage(t){return this.saveLanguage$Response(t).pipe((0,se.U)(o=>o.body))}getAllLanguages$Response(t){const o=new Nt(this.rootUrl,r.GetAllLanguagesPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getAllLanguages(t){return this.getAllLanguages$Response(t).pipe((0,se.U)(o=>o.body))}getLanguageSoundClusters$Response(t){const o=new Nt(this.rootUrl,r.GetLanguageSoundClustersPath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getLanguageSoundClusters(t){return this.getLanguageSoundClusters$Response(t).pipe((0,se.U)(o=>o.body))}getLanguagePhonemes$Response(t){const o=new Nt(this.rootUrl,r.GetLanguagePhonemesPath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getLanguagePhonemes(t){return this.getLanguagePhonemes$Response(t).pipe((0,se.U)(o=>o.body))}saveLanguagePhoneme$Response(t){const o=new Nt(this.rootUrl,r.SaveLanguagePhonemePath,"post");return t&&(o.path("languageId",t.languageId,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}saveLanguagePhoneme(t){return this.saveLanguagePhoneme$Response(t).pipe((0,se.U)(o=>o.body))}deleteLanguagePhoneme$Response(t){const o=new Nt(this.rootUrl,r.DeleteLanguagePhonemePath,"delete");return t&&o.path("phonemeId",t.phonemeId,{}),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i.clone({body:void 0})))}deleteLanguagePhoneme(t){return this.deleteLanguagePhoneme$Response(t).pipe((0,se.U)(o=>o.body))}getAllPartsOfSpeechByLanguage$Response(t){const o=new Nt(this.rootUrl,r.GetAllPartsOfSpeechByLanguagePath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getAllPartsOfSpeechByLanguage(t){return this.getAllPartsOfSpeechByLanguage$Response(t).pipe((0,se.U)(o=>o.body))}deleteLanguage$Response(t){const o=new Nt(this.rootUrl,r.DeleteLanguagePath,"delete");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i.clone({body:void 0})))}deleteLanguage(t){return this.deleteLanguage$Response(t).pipe((0,se.U)(o=>o.body))}canDeleteLanguage$Response(t){const o=new Nt(this.rootUrl,r.CanDeleteLanguagePath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i.clone({body:"true"===String(i.body)})))}canDeleteLanguage(t){return this.canDeleteLanguage$Response(t).pipe((0,se.U)(o=>o.body))}}return r.SaveLanguagePath="/api/language/",r.GetAllLanguagesPath="/api/language/all",r.GetLanguageSoundClustersPath="/api/language/clusters/{languageId}",r.GetLanguagePhonemesPath="/api/language/phoneme/{languageId}",r.SaveLanguagePhonemePath="/api/language/phoneme/{languageId}",r.DeleteLanguagePhonemePath="/api/language/phoneme/{phonemeId}",r.GetAllPartsOfSpeechByLanguagePath="/api/language/pos/{languageId}",r.DeleteLanguagePath="/api/language/{languageId}",r.CanDeleteLanguagePath="/api/language/{languageId}/candelete",r.\u0275fac=function(t){return new(t||r)(e.LFG(Ba),e.LFG(Va))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),D1=(()=>{class r extends Vh{constructor(t){super(),this.languagesService=t,this.langsc={}}ngOnInit(){super.ngOnInit(),this.refresh()}ngOnChanges(t){var o;t.selectedLanguage.currentValue&&(console.log(t,t.selectedLanguage.currentValue.id,null===(o=this.selectedLanguage)||void 0===o?void 0:o.id),this.refresh())}refresh(){var t,o;null!==(t=this.selectedLanguage)&&void 0!==t&&t.id&&this.languagesService.getLanguageSoundClusters({languageId:null===(o=this.selectedLanguage)||void 0===o?void 0:o.id}).subscribe(i=>{var u,d,g,v,w,S;i.constClusters=null===(u=i.constClusters)||void 0===u?void 0:u.sort((Z,R)=>R.length-Z.length),i.constClustersStart=null===(d=i.constClustersStart)||void 0===d?void 0:d.sort((Z,R)=>R.length-Z.length),i.constClustersEnd=null===(g=i.constClustersEnd)||void 0===g?void 0:g.sort((Z,R)=>R.length-Z.length),i.vowelClusters=null===(v=i.vowelClusters)||void 0===v?void 0:v.sort((Z,R)=>R.length-Z.length),i.vowelClustersStart=null===(w=i.vowelClustersStart)||void 0===w?void 0:w.sort((Z,R)=>R.length-Z.length),i.vowelClustersEnd=null===(S=i.vowelClustersEnd)||void 0===S?void 0:S.sort((Z,R)=>R.length-Z.length),this.langsc=i})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Co))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-clusters"]],features:[e.qOj,e.TTD],decls:24,vars:6,template:function(t,o){1&t&&(e.TgZ(0,"p")(1,"span"),e._uU(2,"All consonant clusters: "),e.qZA(),e._uU(3),e.qZA(),e.TgZ(4,"p")(5,"span"),e._uU(6,"Starting consonant clusters: "),e.qZA(),e._uU(7),e.qZA(),e.TgZ(8,"p")(9,"span"),e._uU(10,"End consonant clusters: "),e.qZA(),e._uU(11),e.qZA(),e.TgZ(12,"p")(13,"span"),e._uU(14,"All vowel clusters: "),e.qZA(),e._uU(15),e.qZA(),e.TgZ(16,"p")(17,"span"),e._uU(18,"Starting vowel clusters: "),e.qZA(),e._uU(19),e.qZA(),e.TgZ(20,"p")(21,"span"),e._uU(22,"End vowel clusters: "),e.qZA(),e._uU(23),e.qZA()),2&t&&(e.xp6(3),e.Oqu(o.langsc.constClusters),e.xp6(4),e.Oqu(o.langsc.constClustersStart),e.xp6(4),e.Oqu(o.langsc.constClustersEnd),e.xp6(4),e.Oqu(o.langsc.vowelClusters),e.xp6(4),e.Oqu(o.langsc.vowelClustersStart),e.xp6(4),e.Oqu(o.langsc.vowelClustersEnd))}}),r})();const fA=["col"],Q_=["app-horizontal-dash",""];let Jn=(()=>{class r{constructor(t,o){this.cdRef=t,this.router=o,this.bcol=""}ngOnInit(){}onResize(){this.resizeDash()}ngAfterViewChecked(){this.resizeDash()}resizeDash(){var t;const o=Math.max(0,Math.floor(((null===(t=this.col)||void 0===t?void 0:t.nativeElement.offsetWidth)-1)/8)),i=this.bcol;this.bcol=o?(this.symbol?this.symbol:"-").repeat(o):"",i!==this.bcol&&this.cdRef.detectChanges()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(Mn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["th","app-horizontal-dash",""]],viewQuery:function(t,o){if(1&t&&e.Gf(fA,5),2&t){let i;e.iGM(i=e.CRH())&&(o.col=i.first)}},hostBindings:function(t,o){1&t&&e.NdJ("resize",function(u){return o.onResize(u)},!1,e.Jf7)},inputs:{symbol:"symbol"},attrs:Q_,decls:3,vars:1,consts:[[1,"border","th-span"],["col",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0,1),e._uU(2),e.qZA()),2&t&&(e.xp6(2),e.Oqu(o.bcol))},styles:[".th-span[_ngcontent-%COMP%]{width:100%;min-width:10px}"]}),r})();var Cs=P(4986),$h=P(3532);const eg=["row"],Hi=["app-vertical-dash",""];let ku=(()=>{class r{constructor(t,o){this.cdRef=t,this.router=o,this.brow="",this.deleted=!1,o.events.subscribe(i=>{this.brow="",this.cdRef.detectChanges(),function Ll(r=0,n,t=Cs.P){let o=-1;return null!=n&&((0,$h.K)(n)?t=n:o=n),new Jr.y(i=>{let u=function To(r){return r instanceof Date&&!isNaN(r)}(r)?+r-t.now():r;u<0&&(u=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=o?this.schedule(void 0,o):i.complete())},u)})}(10).subscribe(()=>{this.resizeDash()})})}ngOnInit(){}onResize(){this.resizeDash()}ngAfterViewChecked(){this.resizeDash()}resizeDash(){var t;const o=Math.max(0,Math.floor((null===(t=this.row)||void 0===t?void 0:t.nativeElement.parentNode.offsetHeight)/16)),i=this.brow;this.brow=o?"|\n".repeat(o):"",i!==this.brow&&this.cdRef.detectChanges()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(Mn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["th","app-vertical-dash",""]],viewQuery:function(t,o){if(1&t&&e.Gf(eg,5),2&t){let i;e.iGM(i=e.CRH())&&(o.row=i.first)}},hostBindings:function(t,o){1&t&&e.NdJ("resize",function(u){return o.onResize(u)},!1,e.Jf7)},inputs:{symbol:"symbol"},attrs:Hi,decls:3,vars:1,consts:[[1,"border","td-span"],["row",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0,1),e._uU(2),e.qZA()),2&t&&(e.xp6(2),e.Oqu(o.brow))},styles:[".td-span[_ngcontent-%COMP%]{width:100%;height:100%;min-height:10px}"]}),r})();class Fl{constructor(n){Object.assign(this,n)}}let ta=(()=>{class r{constructor(){}match(t,o=[],i){return new Fl(i||{}),new Jr.y(d=>{})}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function ad(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",6),e._uU(1,"[ "),e.TgZ(2,"a",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.editComment=!0)}),e._uU(3,"Description"),e.qZA(),e._uU(4," ] "),e.qZA()}}function ud(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"Description"),e.qZA())}function ld(r,n){if(1&r&&(e.TgZ(0,"th",8),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.selectedLanguage.comment)}}function S1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",8)(1,"textarea",16),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const u=e.oxw(2);return e.KtG(u.selectedLanguage.comment=i)}),e.qZA()()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.selectedLanguage.comment)("cols",20)("rows",5)}}function x1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"[ "),e.TgZ(2,"a",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.saveChanges())}),e._uU(3,"Save"),e.qZA(),e._uU(4," ]"),e.qZA()}}function k1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"[ Save ]"),e.qZA())}function Z1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"[ "),e.TgZ(2,"a",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.deleteLanguage())}),e._uU(3,"Delete"),e.qZA(),e._uU(4," ]"),e.qZA()}}function N1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"[ Delete ]"),e.qZA())}function M1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"table",1)(1,"colgroup"),e._UZ(2,"col",2)(3,"col",3)(4,"col",4)(5,"col",5),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",6),e._uU(9,"Display Name"),e.qZA(),e.TgZ(10,"th",7),e._uU(11,"|"),e._UZ(12,"br"),e._uU(13,"|"),e.qZA(),e.TgZ(14,"th",8)(15,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedLanguage.displayName=i)}),e.qZA()(),e.TgZ(16,"th",10),e._uU(17," |"),e._UZ(18,"br"),e._uU(19,"| "),e.qZA()(),e.TgZ(20,"tr")(21,"th",6),e._uU(22,"Native Name"),e.qZA(),e.TgZ(23,"th",7),e._uU(24,"|"),e._UZ(25,"br"),e._uU(26,"|"),e.qZA(),e.TgZ(27,"th",8)(28,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedLanguage.nativeName=i)}),e.qZA()(),e.TgZ(29,"th",10),e._uU(30,"|"),e._UZ(31,"br"),e._uU(32,"|"),e.qZA()(),e.TgZ(33,"tr"),e.YNc(34,ad,5,0,"th",11),e.YNc(35,ud,2,0,"th",11),e.TgZ(36,"th",7),e._uU(37,"|"),e._UZ(38,"br"),e._uU(39,"|"),e._UZ(40,"br"),e._uU(41,"|"),e._UZ(42,"br"),e._uU(43,"|"),e._UZ(44,"br"),e._uU(45,"|"),e._UZ(46,"br"),e._uU(47,"|"),e.qZA(),e.YNc(48,ld,2,1,"th",12),e.YNc(49,S1,2,3,"th",12),e.TgZ(50,"th",10),e._uU(51," |"),e._UZ(52,"br"),e._uU(53,"|"),e._UZ(54,"br"),e._uU(55,"|"),e._UZ(56,"br"),e._uU(57,"|"),e._UZ(58,"br"),e._uU(59,"|"),e._UZ(60,"br"),e._uU(61,"| "),e.qZA()(),e._UZ(62,"tr"),e.TgZ(63,"tr"),e._UZ(64,"th",13),e.TgZ(65,"th",7),e.YNc(66,x1,5,0,"span",14),e.YNc(67,k1,2,0,"span",14),e._uU(68,"-"),e.YNc(69,Z1,5,0,"span",14),e.YNc(70,N1,2,0,"span",14),e._uU(71,"-+ "),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(15),e.Q6J("ngModel",t.selectedLanguage.displayName),e.xp6(13),e.Q6J("ngModel",t.selectedLanguage.nativeName),e.xp6(6),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("ngIf",t.editComment),e.xp6(13),e.Q6J("ngIf",!t.editComment),e.xp6(1),e.Q6J("ngIf",t.editComment),e.xp6(17),e.Q6J("ngIf",t.canUpdate),e.xp6(1),e.Q6J("ngIf",!t.canUpdate),e.xp6(2),e.Q6J("ngIf",t.canDelete),e.xp6(1),e.Q6J("ngIf",!t.canDelete)}}let K_=(()=>{class r extends Vh{constructor(t){super(),this.languagesService=t,this.editComment=!1,this.canUpdate=!1,this.canDelete=!1,this.onDeleteLanguage=new e.vpe}ngOnInit(){super.ngOnInit(),this.refresh()}ngOnChanges(t){var o;t.selectedLanguage.currentValue&&(console.log(t,t.selectedLanguage.currentValue.id,null===(o=this.selectedLanguage)||void 0===o?void 0:o.id),this.refresh())}saveChanges(){this.selectedLanguage&&this.languagesService.saveLanguage({body:this.selectedLanguage}).subscribe(t=>{this.canUpdate=!1,this.editComment=!1})}deleteLanguage(){var t;null!==(t=this.selectedLanguage)&&void 0!==t&&t.id&&this.onDeleteLanguage.emit(this.selectedLanguage.id)}refresh(){var t,o;this.canUpdate=!1,this.editComment=!1,this.canDelete=!1,null!==(t=this.selectedLanguage)&&void 0!==t&&t.id&&this.languagesService.canDeleteLanguage({languageId:null===(o=this.selectedLanguage)||void 0===o?void 0:o.id}).subscribe(i=>{this.canDelete=i})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Co))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-description"]],outputs:{onDeleteLanguage:"onDeleteLanguage"},features:[e.qOj,e.TTD],decls:1,vars:1,consts:[["style","width: 100%; height: 100%",4,"ngIf"],[2,"width","100%","height","100%"],["span","1",2,"width","200px","text-align","right"],["span","1",1,"border",2,"width","32px"],["span","1",2,"width","auto"],["span","1",2,"width","169px"],[2,"text-align","right"],[1,"border"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],[1,"border",2,"text-align","right"],["style","text-align: right",4,"ngIf"],["style","text-align: left",4,"ngIf"],["app-horizontal-dash","","colspan","3",1,"border"],[4,"ngIf"],[1,"text-yellow-dull",3,"click"],[2,"width","100%",3,"ngModel","cols","rows","ngModelChange"],[1,"text-green-dull",3,"click"],[1,"text-red-dull",3,"click"]],template:function(t,o){1&t&&e.YNc(0,M1,72,10,"table",0),2&t&&e.Q6J("ngIf",o.selectedLanguage&&o.selectedLanguage.id)},dependencies:[Ut,jn,tr,Nn,Jn]}),r})(),ja=(()=>{class r extends sd{constructor(t,o){super(t,o)}getAllPos$Response(t){const o=new Nt(this.rootUrl,r.GetAllPosPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getAllPos(t){return this.getAllPos$Response(t).pipe((0,se.U)(o=>o.body))}savePos$Response(t){const o=new Nt(this.rootUrl,r.SavePosPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i.clone({body:parseFloat(String(i.body))})))}savePos(t){return this.savePos$Response(t).pipe((0,se.U)(o=>o.body))}getAllPosByLanguage$Response(t){const o=new Nt(this.rootUrl,r.GetAllPosByLanguagePath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getAllPosByLanguage(t){return this.getAllPosByLanguage$Response(t).pipe((0,se.U)(o=>o.body))}saveLanguagePos$Response(t){const o=new Nt(this.rootUrl,r.SaveLanguagePosPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i.clone({body:parseFloat(String(i.body))})))}saveLanguagePos(t){return this.saveLanguagePos$Response(t).pipe((0,se.U)(o=>o.body))}deleteLanguagePos$Response(t){const o=new Nt(this.rootUrl,r.DeleteLanguagePosPath,"delete");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i.clone({body:void 0})))}deleteLanguagePos(t){return this.deleteLanguagePos$Response(t).pipe((0,se.U)(o=>o.body))}getPosByLanguage$Response(t){const o=new Nt(this.rootUrl,r.GetPosByLanguagePath,"get");return t&&o.path("languageId",t.languageId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getPosByLanguage(t){return this.getPosByLanguage$Response(t).pipe((0,se.U)(o=>o.body))}}return r.GetAllPosPath="/api/pos",r.SavePosPath="/api/pos",r.GetAllPosByLanguagePath="/api/pos/language/{languageId}",r.SaveLanguagePosPath="/api/pos/languagepos",r.DeleteLanguagePosPath="/api/pos/languagepos/{id}",r.GetPosByLanguagePath="/api/pos/languagepos/{languageId}",r.\u0275fac=function(t){return new(t||r)(e.LFG(Ba),e.LFG(Va))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function P1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._UZ(1,"br"),e._uU(2," [ "),e.TgZ(3,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.saveChanges())}),e._uU(4,"Update"),e.qZA(),e._uU(5," ] "),e.qZA()}}function gA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"table",1)(1,"colgroup"),e._UZ(2,"col",2)(3,"col",3)(4,"col",4)(5,"col",5),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",6),e._uU(9,"Name"),e.qZA(),e._UZ(10,"th",7),e.TgZ(11,"th",8)(12,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedPos.name=i)}),e.qZA()(),e._UZ(13,"th",10),e.qZA(),e.TgZ(14,"tr")(15,"th",6),e._uU(16,"Abbreviation"),e.qZA(),e._UZ(17,"th",7),e.TgZ(18,"th",8)(19,"input",9),e.NdJ("ngModelChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.canUpdate=!0)})("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedPos.abbreviation=i)}),e.qZA()(),e._UZ(20,"th",10),e.qZA(),e.TgZ(21,"tr"),e._UZ(22,"th",10),e.qZA(),e.TgZ(23,"tr")(24,"th",7),e.YNc(25,P1,6,0,"span",11),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(12),e.Q6J("ngModel",t.selectedPos.name),e.xp6(7),e.Q6J("ngModel",t.selectedPos.abbreviation),e.xp6(5),e.uIk("colspan",4),e.xp6(1),e.Q6J("ngIf",t.canUpdate)}}let mA=(()=>{class r extends Vh{constructor(t){super(),this.posService=t,this.editComment=!1,this.canUpdate=!1}saveChanges(){this.selectedPos&&this.posService.savePos({body:this.selectedPos}).subscribe(t=>{this.canUpdate=!1})}clickEditComment(){this.editComment=!0}clickSaveComment(){this.editComment=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ja))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-pos-details"]],inputs:{selectedPos:"selectedPos"},features:[e.qOj],decls:1,vars:1,consts:[["style","width: 100%",4,"ngIf"],[2,"width","100%"],["span","1",2,"width","200px","text-align","right"],["span","1",1,"border",2,"width","32px"],["span","1",2,"width","auto"],["span","1",2,"width","81px"],[2,"text-align","right"],[1,"border"],[2,"text-align","left"],[3,"ngModel","ngModelChange"],[1,"border",2,"text-align","right"],[4,"ngIf"],[1,"text-green-dull",3,"click"]],template:function(t,o){1&t&&e.YNc(0,gA,26,4,"table",0),2&t&&e.Q6J("ngIf",o.selectedPos&&o.selectedPos.id)},dependencies:[Ut,jn,tr,Nn]}),r})();function _A(r,n){if(1&r&&(e.TgZ(0,"th",15),e._UZ(1,"app-pos-details",16),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("selectedLanguage",t.selectedLanguage)("selectedPos",t.selectedPos)}}function U1(r,n){1&r&&e._UZ(0,"th",17)}function yA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th",10)(2,"a",11),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.connectPosToLanguage(u))}),e._uU(3),e.qZA()(),e.TgZ(4,"th",6),e._uU(5,"|"),e.qZA(),e.TgZ(6,"th",12)(7,"a",11),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.selectedPos=u)}),e._uU(8),e.qZA()(),e.TgZ(9,"th",12),e._uU(10),e.qZA(),e.YNc(11,_A,2,2,"th",13),e.YNc(12,U1,1,0,"th",14),e.qZA()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(1),e.Q6J("ngClass",(null==i.selectedPos?null:i.selectedPos.id)===t.id?"selectedTh":""),e.xp6(1),e.Q6J("ngClass",i.getLanguagePosSymbol(t)?"text-green-dull":"text-grey-dull"),e.xp6(1),e.Oqu(i.getLanguagePosSymbol(t)?"o":"x"),e.xp6(3),e.Q6J("ngClass",(null==i.selectedPos?null:i.selectedPos.id)===t.id?"selectedTh":""),e.xp6(1),e.Q6J("ngClass",(null==i.selectedPos?null:i.selectedPos.id)===t.id?"text-main":i.getLanguagePosSymbol(t)?"text-grey":"text-grey-dull"),e.xp6(1),e.Oqu(t.name),e.xp6(1),e.Q6J("ngClass",(null==i.selectedPos?null:i.selectedPos.id)===t.id?"selectedTh":""),e.xp6(1),e.Oqu((null==i.selectedPos?null:i.selectedPos.id)===t.id?"":"|"),e.xp6(1),e.Q6J("ngIf",0==o),e.xp6(1),e.Q6J("ngIf",0==o)}}let vA=(()=>{class r extends Vh{constructor(t){super(),this.posService=t,this.pos=[],this.lp=[]}ngOnInit(){super.ngOnInit(),this.posService.getAllPos().subscribe(t=>this.pos=t.sort((o,i)=>o.name?o.name.localeCompare(i.name?i.name:""):-1))}ngOnChanges(t){t.selectedLanguage.currentValue&&(console.log(t,t.selectedLanguage.currentValue.id),t.selectedLanguage.currentValue.id&&this.posService.getPosByLanguage({languageId:t.selectedLanguage.currentValue.id}).subscribe(o=>this.lp=o))}addNewPOS(){const t={name:"new part of speech"};this.posService.savePos({body:t}).subscribe(o=>{t.id=o,this.selectedPos=t,this.pos.push(t)})}getLanguagePosSymbol(t){return!!this.selectedLanguage&&this.lp.filter(o=>{var i;return o.languageId===(null===(i=this.selectedLanguage)||void 0===i?void 0:i.id)&&o.posId===t.id}).length>0}connectPosToLanguage(t){var o,i,u;if(console.log("connectPosToLanguage",t),this.getLanguagePosSymbol(t)){if(null!==(o=this.selectedLanguage)&&void 0!==o&&o.id){const d=this.lp.find(g=>{var v;return g.languageId===(null===(v=this.selectedLanguage)||void 0===v?void 0:v.id)&&g.posId===t.id});d&&d.id&&this.posService.deleteLanguagePos({id:d.id}).subscribe(()=>{this.lp=this.lp.filter(g=>g.id!==d.id)})}}else if(null!==(i=this.selectedLanguage)&&void 0!==i&&i.id){const d={languageId:null===(u=this.selectedLanguage)||void 0===u?void 0:u.id,posId:t.id};this.posService.saveLanguagePos({body:d}).subscribe(g=>{d.id=g,this.lp.push(d)})}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ja))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-pos"]],features:[e.qOj,e.TTD],decls:23,vars:1,consts:[["span","1",1,"border",2,"width","17px"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","calc(30% - 41px)"],["span","1",1,"border",2,"width","70%"],[4,"ngFor","ngForOf"],["app-horizontal-dash","","colspan","3"],[1,"border"],["colspan","2"],[1,"text-green-dull",3,"click"],["app-horizontal-dash","","colspan","5"],[3,"ngClass"],[3,"ngClass","click"],[1,"border",3,"ngClass"],["class","border","rowspan","0","style","vertical-align: top;",4,"ngIf"],["app-vertical-dash","","class","border","rowspan","0",4,"ngIf"],["rowspan","0",1,"border",2,"vertical-align","top"],[3,"selectedLanguage","selectedPos"],["app-vertical-dash","","rowspan","0",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",1)(6,"col",3)(7,"col",1),e.qZA(),e.TgZ(8,"tbody"),e.YNc(9,yA,13,10,"tr",4),e.TgZ(10,"tr"),e._UZ(11,"th",5),e.TgZ(12,"th",6),e._uU(13,"+"),e.qZA()(),e.TgZ(14,"tr"),e._UZ(15,"th",7),e.TgZ(16,"th")(17,"a",8),e.NdJ("click",function(){return o.addNewPOS()}),e._uU(18,"[ + ]"),e.qZA()(),e.TgZ(19,"th",6),e._uU(20,"|"),e.qZA()(),e.TgZ(21,"tr"),e._UZ(22,"th",9),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("ngForOf",o.pos))},dependencies:[jr,gt,Ut,Jn,ku,mA],styles:[".selectedTh[_ngcontent-%COMP%]{background-color:#333}"]}),r})(),Y_=(()=>{class r{constructor(){this.sounds=[],this.consonantVariants=["\u02b0","\u02b7","\u02b2","\u02b7\u02b0","\u02d0"]}addPhonetic(t){this.sounds.includes(t)||this.sounds.push(t)}getConsonantVariants(){return this.consonantVariants}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function X_(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",0),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw(2);return e.KtG(u.onClick.emit(u.phonetic+i))}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw().$implicit,o=e.oxw(2);e.Q6J("ngClass",o.getClass(o.phonetic+t)),e.xp6(1),e.Oqu(t)}}function CA(r,n){if(1&r&&(e.ynx(0),e.YNc(1,X_,2,2,"a",4),e.BQk()),2&r){const t=n.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.includesVariant(o.phonetic+t))}}function tg(r,n){if(1&r&&(e.ynx(0),e.YNc(1,CA,2,1,"ng-container",3),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.constonantVariants)}}function ng(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span",5),e._uU(1," ("),e.TgZ(2,"a",0),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onClick.emit(i.phonetic+"\u02d0"))}),e._uU(3),e.qZA(),e._uU(4,")"),e.qZA()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",t.getClass(t.phonetic+"\u02d0")),e.xp6(1),e.Oqu(t.phonetic+"\u02d0")}}let cd=(()=>{class r{constructor(t){this.ipaService=t,this.vowel=!1,this.consonant=!1,this.onClick=new e.vpe,this.constonantVariants=t.getConsonantVariants()}ngOnInit(){}getClass(t){var o,i,u,d,g,v,w,S,Z,R,W,ne;return(null===(i=null===(o=this.languageSounds)||void 0===o?void 0:o.selectedMainPhonemes)||void 0===i?void 0:i.filter(Me=>Me.phoneme===t).length)||(null===(d=null===(u=this.languageSounds)||void 0===u?void 0:u.selectedRestPhonemes)||void 0===d?void 0:d.filter(Me=>Me.phoneme===t).length)?(null===(v=null===(g=this.languageSounds)||void 0===g?void 0:g.usedMainPhonemes)||void 0===v?void 0:v.includes(t))||(null===(S=null===(w=this.languageSounds)||void 0===w?void 0:w.restUsedPhonemes)||void 0===S?void 0:S.includes(t))?"text-green-dull":"text-yellow-dull":(null===(R=null===(Z=this.languageSounds)||void 0===Z?void 0:Z.usedMainPhonemes)||void 0===R?void 0:R.includes(t))||(null===(ne=null===(W=this.languageSounds)||void 0===W?void 0:W.restUsedPhonemes)||void 0===ne?void 0:ne.includes(t))?"text-red-dull":"text-grey-dull"}includesVariant(t){var o,i,u,d,g,v,w,S;return!!((null===(i=null===(o=this.languageSounds)||void 0===o?void 0:o.usedMainPhonemes)||void 0===i?void 0:i.includes(t))||(null===(d=null===(u=this.languageSounds)||void 0===u?void 0:u.restUsedPhonemes)||void 0===d?void 0:d.includes(t))||(null===(v=null===(g=this.languageSounds)||void 0===g?void 0:g.selectedMainPhonemes)||void 0===v?void 0:v.filter(Z=>Z.phoneme===t).length)||(null===(S=null===(w=this.languageSounds)||void 0===w?void 0:w.selectedRestPhonemes)||void 0===S?void 0:S.filter(Z=>Z.phoneme===t).length))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Y_))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-phonetic-btn"]],inputs:{phonetic:"phonetic",vowel:"vowel",consonant:"consonant",languageSounds:"languageSounds"},outputs:{onClick:"onClick"},decls:4,vars:4,consts:[[3,"ngClass","click"],[4,"ngIf"],["class","text-grey-dull",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngClass","click",4,"ngIf"],[1,"text-grey-dull"]],template:function(t,o){1&t&&(e.TgZ(0,"a",0),e.NdJ("click",function(){return o.onClick.emit(o.phonetic)}),e._uU(1),e.qZA(),e.YNc(2,tg,2,1,"ng-container",1),e.YNc(3,ng,5,2,"span",2)),2&t&&(e.Q6J("ngClass",o.getClass(o.phonetic)),e.xp6(1),e.Oqu(o.phonetic),e.xp6(1),e.Q6J("ngIf",o.consonant),e.xp6(1),e.Q6J("ngIf",o.vowel))},dependencies:[jr,gt,Ut]}),r})(),TA=(()=>{class r{constructor(t,o){this.cdRef=t,this.languagesService=o,this.onClick=new e.vpe}ngOnInit(){}ngOnChanges(t){console.log("pulmonic consonants changes",t)}clicked(t){this.onClick.emit(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(Co))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-pulmonic-consonants"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},features:[e.TTD],decls:1294,vars:454,consts:[["span","1",2,"width","auto"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","3.16766212%"],["colspan","37"],["app-horizontal-dash",""],["app-horizontal-dash","","colspan","35"],[2,"text-align","right"],["colspan","6"],["colspan","14"],["colspan","7"],["colspan","5"],["colspan","2","app-horizontal-dash",""],[2,"text-align","left"],["colspan","2"],["title","Labio-dental"],["title","Linguo-labial"],["title","Post-alveolar"],["title","Retro-flex"],["title","Pharyngeal/Epi-glottal"],[3,"consonant","languageSounds","phonetic","onClick"],["colspan","3"],["colspan","8","app-horizontal-dash",""],["colspan","5","app-horizontal-dash",""],["colspan","8"],["colspan","11"],["app-horizontal-dash","","colspan","37"],["colspan","35",2,"text-align","left"],[3,"languageSounds","phonetic","onClick"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",2)(6,"col",1)(7,"col",2)(8,"col",2)(9,"col",1)(10,"col",2)(11,"col",2)(12,"col",1)(13,"col",2)(14,"col",2)(15,"col",1)(16,"col",2)(17,"col",2)(18,"col",1)(19,"col",2)(20,"col",2)(21,"col",1)(22,"col",2)(23,"col",2)(24,"col",1)(25,"col",2)(26,"col",2)(27,"col",1)(28,"col",2)(29,"col",2)(30,"col",1)(31,"col",2)(32,"col",2)(33,"col",1)(34,"col",2)(35,"col",2)(36,"col",1)(37,"col",2)(38,"col",2)(39,"col",1),e.qZA(),e.TgZ(40,"tbody")(41,"tr")(42,"th",3),e._uU(43," --- PLUMONIC CONSONANTS --- "),e.qZA(),e.TgZ(44,"th"),e._uU(45,"|"),e.qZA()(),e.TgZ(46,"tr"),e._UZ(47,"th",4),e.TgZ(48,"th"),e._uU(49,"+"),e.qZA(),e._UZ(50,"th",5),e.TgZ(51,"th"),e._uU(52,"+"),e.qZA()(),e.TgZ(53,"tr")(54,"th",6),e._uU(55,"Place"),e.qZA(),e.TgZ(56,"th"),e._uU(57,"|"),e.qZA(),e.TgZ(58,"th",7),e._uU(59,"Labial"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"|"),e.qZA(),e.TgZ(62,"th",8),e._uU(63,"Coronal"),e.qZA(),e.TgZ(64,"th"),e._uU(65,"|"),e.qZA(),e.TgZ(66,"th",9),e._uU(67,"Dorsal"),e.qZA(),e.TgZ(68,"th"),e._uU(69,"|"),e.qZA(),e.TgZ(70,"th",10),e._uU(71,"Laryngeal"),e.qZA(),e.TgZ(72,"th"),e._uU(73,"|"),e.qZA()(),e.TgZ(74,"tr"),e._UZ(75,"th"),e.TgZ(76,"th"),e._uU(77,"|"),e.qZA(),e._UZ(78,"th",11),e.TgZ(79,"th"),e._uU(80,"+"),e.qZA(),e._UZ(81,"th",11),e.TgZ(82,"th"),e._uU(83,"+"),e.qZA(),e._UZ(84,"th",11),e.TgZ(85,"th"),e._uU(86,"+"),e.qZA(),e._UZ(87,"th",11),e.TgZ(88,"th"),e._uU(89,"+"),e.qZA(),e._UZ(90,"th",11),e.TgZ(91,"th"),e._uU(92,"+"),e.qZA(),e._UZ(93,"th",11),e.TgZ(94,"th"),e._uU(95,"+"),e.qZA(),e._UZ(96,"th",11),e.TgZ(97,"th"),e._uU(98,"+"),e.qZA(),e._UZ(99,"th",11),e.TgZ(100,"th"),e._uU(101,"+"),e.qZA(),e._UZ(102,"th",11),e.TgZ(103,"th"),e._uU(104,"+"),e.qZA(),e._UZ(105,"th",11),e.TgZ(106,"th"),e._uU(107,"+"),e.qZA(),e._UZ(108,"th",11),e.TgZ(109,"th"),e._uU(110,"+"),e.qZA(),e._UZ(111,"th",11),e.TgZ(112,"th"),e._uU(113,"+"),e.qZA()(),e.TgZ(114,"tr")(115,"th",12),e._uU(116,"Manner"),e.qZA(),e.TgZ(117,"th"),e._uU(118,"|"),e.qZA(),e.TgZ(119,"th",13),e._uU(120,"Bilabial"),e.qZA(),e.TgZ(121,"th"),e._uU(122,"|"),e.qZA(),e.TgZ(123,"th",13)(124,"abbr",14),e._uU(125,"LD"),e.qZA()(),e.TgZ(126,"th"),e._uU(127,"|"),e.qZA(),e.TgZ(128,"th",13)(129,"abbr",15),e._uU(130,"LL"),e.qZA()(),e.TgZ(131,"th"),e._uU(132,"|"),e.qZA(),e.TgZ(133,"th",13),e._uU(134,"Dental"),e.qZA(),e.TgZ(135,"th"),e._uU(136,"|"),e.qZA(),e.TgZ(137,"th",13),e._uU(138,"Alveolar"),e.qZA(),e.TgZ(139,"th"),e._uU(140,"|"),e.qZA(),e.TgZ(141,"th",13)(142,"abbr",16),e._uU(143,"PA"),e.qZA()(),e.TgZ(144,"th"),e._uU(145,"|"),e.qZA(),e.TgZ(146,"th",13)(147,"abbr",17),e._uU(148,"RF"),e.qZA()(),e.TgZ(149,"th"),e._uU(150,"|"),e.qZA(),e.TgZ(151,"th",13),e._uU(152,"Palatal"),e.qZA(),e.TgZ(153,"th"),e._uU(154,"|"),e.qZA(),e.TgZ(155,"th",13),e._uU(156,"Velar"),e.qZA(),e.TgZ(157,"th"),e._uU(158,"|"),e.qZA(),e.TgZ(159,"th",13),e._uU(160,"Uvular"),e.qZA(),e.TgZ(161,"th"),e._uU(162,"|"),e.qZA(),e.TgZ(163,"th",13)(164,"abbr",18),e._uU(165,"P/EG"),e.qZA()(),e.TgZ(166,"th"),e._uU(167,"|"),e.qZA(),e.TgZ(168,"th",13),e._uU(169,"Glottal"),e.qZA(),e.TgZ(170,"th"),e._uU(171,"|"),e.qZA()(),e.TgZ(172,"tr"),e._UZ(173,"th",4),e.TgZ(174,"th"),e._uU(175,"+"),e.qZA(),e._UZ(176,"th",11),e.TgZ(177,"th"),e._uU(178,"+"),e.qZA(),e._UZ(179,"th",11),e.TgZ(180,"th"),e._uU(181,"+"),e.qZA(),e._UZ(182,"th",11),e.TgZ(183,"th"),e._uU(184,"+"),e.qZA(),e._UZ(185,"th",11),e.TgZ(186,"th"),e._uU(187,"+"),e.qZA(),e._UZ(188,"th",11),e.TgZ(189,"th"),e._uU(190,"+"),e.qZA(),e._UZ(191,"th",11),e.TgZ(192,"th"),e._uU(193,"+"),e.qZA(),e._UZ(194,"th",11),e.TgZ(195,"th"),e._uU(196,"+"),e.qZA(),e._UZ(197,"th",11),e.TgZ(198,"th"),e._uU(199,"+"),e.qZA(),e._UZ(200,"th",11),e.TgZ(201,"th"),e._uU(202,"+"),e.qZA(),e._UZ(203,"th",11),e.TgZ(204,"th"),e._uU(205,"+"),e.qZA(),e._UZ(206,"th",11),e.TgZ(207,"th"),e._uU(208,"+"),e.qZA(),e._UZ(209,"th",11),e.TgZ(210,"th"),e._uU(211,"+"),e.qZA()(),e.TgZ(212,"tr")(213,"th"),e._uU(214,"Nasal"),e.qZA(),e.TgZ(215,"th"),e._uU(216,"|"),e.qZA(),e.TgZ(217,"th")(218,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(219,"th")(220,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(221,"th"),e._uU(222,"|"),e.qZA(),e.TgZ(223,"th",13)(224,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(225,"th"),e._uU(226,"|"),e.qZA(),e.TgZ(227,"th",13)(228,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(229,"th"),e._uU(230,"|"),e.qZA(),e._UZ(231,"th"),e.TgZ(232,"th",20)(233,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(234,"th",20)(235,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(236,"th"),e.TgZ(237,"th"),e._uU(238,"|"),e.qZA(),e.TgZ(239,"th")(240,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(241,"th")(242,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(243,"th"),e._uU(244,"|"),e.qZA(),e.TgZ(245,"th")(246,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(247,"th")(248,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(249,"th"),e._uU(250,"|"),e.qZA(),e.TgZ(251,"th")(252,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(253,"th")(254,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(255,"th"),e._uU(256,"|"),e.qZA(),e.TgZ(257,"th",13)(258,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(259,"th"),e._uU(260,"|"),e.qZA(),e._UZ(261,"th",10),e.TgZ(262,"th"),e._uU(263,"|"),e.qZA()(),e.TgZ(264,"tr"),e._UZ(265,"th",4),e.TgZ(266,"th"),e._uU(267,"+"),e.qZA(),e._UZ(268,"th",11),e.TgZ(269,"th"),e._uU(270,"+"),e.qZA(),e._UZ(271,"th",11),e.TgZ(272,"th"),e._uU(273,"+"),e.qZA(),e._UZ(274,"th",11),e.TgZ(275,"th"),e._uU(276,"+"),e.qZA(),e._UZ(277,"th",21),e.TgZ(278,"th"),e._uU(279,"+"),e.qZA(),e._UZ(280,"th",11),e.TgZ(281,"th"),e._uU(282,"+"),e.qZA(),e._UZ(283,"th",11),e.TgZ(284,"th"),e._uU(285,"+"),e.qZA(),e._UZ(286,"th",11),e.TgZ(287,"th"),e._uU(288,"+"),e.qZA(),e._UZ(289,"th",11),e.TgZ(290,"th"),e._uU(291,"+"),e.qZA(),e._UZ(292,"th",11),e.TgZ(293,"th"),e._uU(294,"+"),e.qZA(),e._UZ(295,"th",11),e.TgZ(296,"th"),e._uU(297,"+"),e.qZA()(),e.TgZ(298,"tr")(299,"th"),e._uU(300,"Plosive"),e.qZA(),e.TgZ(301,"th"),e._uU(302,"|"),e.qZA(),e.TgZ(303,"th")(304,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(305,"th")(306,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(307,"th"),e._uU(308,"|"),e.qZA(),e.TgZ(309,"th")(310,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(311,"th")(312,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(313,"th"),e._uU(314,"|"),e.qZA(),e.TgZ(315,"th")(316,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(317,"th")(318,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(319,"th"),e._uU(320,"|"),e.qZA(),e._UZ(321,"th"),e.TgZ(322,"th",20)(323,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(324,"th",20)(325,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(326,"th"),e.TgZ(327,"th"),e._uU(328,"|"),e.qZA(),e.TgZ(329,"th")(330,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(331,"th")(332,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(333,"th"),e._uU(334,"|"),e.qZA(),e.TgZ(335,"th")(336,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(337,"th")(338,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(339,"th"),e._uU(340,"|"),e.qZA(),e.TgZ(341,"th")(342,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(343,"th")(344,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(345,"th"),e._uU(346,"|"),e.qZA(),e.TgZ(347,"th")(348,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(349,"th")(350,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(351,"th"),e._uU(352,"|"),e.qZA(),e.TgZ(353,"th",13)(354,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(355,"th"),e._uU(356,"|"),e.qZA(),e.TgZ(357,"th",13)(358,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(359,"th"),e._uU(360,"|"),e.qZA()(),e.TgZ(361,"tr"),e._UZ(362,"th",4),e.TgZ(363,"th"),e._uU(364,"+"),e.qZA(),e._UZ(365,"th",11),e.TgZ(366,"th"),e._uU(367,"+"),e.qZA(),e._UZ(368,"th",11),e.TgZ(369,"th"),e._uU(370,"+"),e.qZA(),e._UZ(371,"th",11),e.TgZ(372,"th"),e._uU(373,"+"),e.qZA(),e._UZ(374,"th",22),e.TgZ(375,"th"),e._uU(376,"+"),e.qZA(),e._UZ(377,"th",11),e.TgZ(378,"th"),e._uU(379,"+"),e.qZA(),e._UZ(380,"th",11),e.TgZ(381,"th"),e._uU(382,"+"),e.qZA(),e._UZ(383,"th",11),e.TgZ(384,"th"),e._uU(385,"+"),e.qZA(),e._UZ(386,"th",11),e.TgZ(387,"th"),e._uU(388,"+"),e.qZA(),e._UZ(389,"th",11),e.TgZ(390,"th"),e._uU(391,"+"),e.qZA(),e._UZ(392,"th",11),e.TgZ(393,"th"),e._uU(394,"+"),e.qZA(),e._UZ(395,"th",11),e.TgZ(396,"th"),e._uU(397,"+"),e.qZA()(),e.TgZ(398,"tr")(399,"th"),e._uU(400,"Sibilant fricative"),e.qZA(),e.TgZ(401,"th"),e._uU(402,"|"),e.qZA(),e._UZ(403,"th",23),e.TgZ(404,"th"),e._uU(405,"|"),e.qZA(),e.TgZ(406,"th",13)(407,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(408,"th"),e.TgZ(409,"th",13)(410,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(411,"th"),e._uU(412,"|"),e.qZA(),e.TgZ(413,"th")(414,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(415,"th")(416,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(417,"th"),e._uU(418,"|"),e.qZA(),e.TgZ(419,"th")(420,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(421,"th")(422,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(423,"th"),e._uU(424,"|"),e.qZA(),e.TgZ(425,"th")(426,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(427,"th")(428,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(429,"th"),e._uU(430,"|"),e.qZA(),e._UZ(431,"th",24),e.TgZ(432,"th"),e._uU(433,"|"),e.qZA()(),e.TgZ(434,"tr"),e._UZ(435,"th",4),e.TgZ(436,"th"),e._uU(437,"+"),e.qZA(),e._UZ(438,"th",23),e.TgZ(439,"th"),e._uU(440,"+"),e.qZA(),e._UZ(441,"th",22),e.TgZ(442,"th"),e._uU(443,"+"),e.qZA(),e._UZ(444,"th",11),e.TgZ(445,"th"),e._uU(446,"+"),e.qZA(),e._UZ(447,"th",11),e.TgZ(448,"th"),e._uU(449,"+"),e.qZA(),e._UZ(450,"th",11),e.TgZ(451,"th"),e._uU(452,"+"),e.qZA(),e._UZ(453,"th",24),e.TgZ(454,"th"),e._uU(455,"|"),e.qZA()(),e.TgZ(456,"tr")(457,"th"),e._uU(458,"Sibilant affricate"),e.qZA(),e.TgZ(459,"th"),e._uU(460,"|"),e.qZA(),e._UZ(461,"th",23),e.TgZ(462,"th"),e._uU(463,"|"),e.qZA(),e.TgZ(464,"th",13)(465,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(466,"th"),e.TgZ(467,"th",13)(468,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(469,"th"),e._uU(470,"|"),e.qZA(),e.TgZ(471,"th")(472,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(473,"th")(474,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(475,"th"),e._uU(476,"|"),e.qZA(),e.TgZ(477,"th")(478,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(479,"th")(480,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(481,"th"),e._uU(482,"|"),e.qZA(),e.TgZ(483,"th")(484,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(485,"th")(486,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(487,"th"),e._uU(488,"|"),e.qZA(),e._UZ(489,"th",24),e.TgZ(490,"th"),e._uU(491,"|"),e.qZA()(),e.TgZ(492,"tr"),e._UZ(493,"th",4),e.TgZ(494,"th"),e._uU(495,"+"),e.qZA(),e._UZ(496,"th",11),e.TgZ(497,"th"),e._uU(498,"+"),e.qZA(),e._UZ(499,"th",11),e.TgZ(500,"th"),e._uU(501,"+"),e.qZA(),e._UZ(502,"th",11),e.TgZ(503,"th"),e._uU(504,"+"),e.qZA(),e._UZ(505,"th",11),e.TgZ(506,"th"),e._uU(507,"+"),e.qZA(),e._UZ(508,"th",11),e.TgZ(509,"th"),e._uU(510,"+"),e.qZA(),e._UZ(511,"th",11),e.TgZ(512,"th"),e._uU(513,"+"),e.qZA(),e._UZ(514,"th",11),e.TgZ(515,"th"),e._uU(516,"+"),e.qZA(),e._UZ(517,"th",11),e.TgZ(518,"th"),e._uU(519,"+"),e.qZA(),e._UZ(520,"th",11),e.TgZ(521,"th"),e._uU(522,"+"),e.qZA(),e._UZ(523,"th",11),e.TgZ(524,"th"),e._uU(525,"+"),e.qZA(),e._UZ(526,"th",11),e.TgZ(527,"th"),e._uU(528,"+"),e.qZA(),e._UZ(529,"th",11),e.TgZ(530,"th"),e._uU(531,"+"),e.qZA()(),e.TgZ(532,"tr")(533,"th"),e._uU(534,"Non-sibilant fric."),e.qZA(),e.TgZ(535,"th"),e._uU(536,"|"),e.qZA(),e.TgZ(537,"th")(538,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(539,"th")(540,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(541,"th"),e._uU(542,"|"),e.qZA(),e.TgZ(543,"th")(544,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(545,"th")(546,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(547,"th"),e._uU(548,"|"),e.qZA(),e.TgZ(549,"th")(550,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(551,"th")(552,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(553,"th"),e._uU(554,"|"),e.qZA(),e.TgZ(555,"th")(556,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(557,"th")(558,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(559,"th"),e._uU(560,"|"),e.qZA(),e.TgZ(561,"th")(562,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(563,"th")(564,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(565,"th"),e._uU(566,"|"),e.qZA(),e.TgZ(567,"th")(568,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(569,"th")(570,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(571,"th"),e._uU(572,"|"),e.qZA(),e.TgZ(573,"th",13)(574,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(575,"th"),e._uU(576,"|"),e.qZA(),e.TgZ(577,"th")(578,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(579,"th")(580,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(581,"th"),e._uU(582,"|"),e.qZA(),e.TgZ(583,"th")(584,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(585,"th")(586,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(587,"th"),e._uU(588,"|"),e.qZA(),e.TgZ(589,"th")(590,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(591,"th")(592,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(593,"th"),e._uU(594,"|"),e.qZA(),e.TgZ(595,"th")(596,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(597,"th")(598,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(599,"th"),e._uU(600,"|"),e.qZA(),e.TgZ(601,"th")(602,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(603,"th")(604,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(605,"th"),e._uU(606,"|"),e.qZA()(),e.TgZ(607,"tr"),e._UZ(608,"th",4),e.TgZ(609,"th"),e._uU(610,"+"),e.qZA(),e._UZ(611,"th",11),e.TgZ(612,"th"),e._uU(613,"+"),e.qZA(),e._UZ(614,"th",11),e.TgZ(615,"th"),e._uU(616,"+"),e.qZA(),e._UZ(617,"th",11),e.TgZ(618,"th"),e._uU(619,"+"),e.qZA(),e._UZ(620,"th",11),e.TgZ(621,"th"),e._uU(622,"+"),e.qZA(),e._UZ(623,"th",11),e.TgZ(624,"th"),e._uU(625,"+"),e.qZA(),e._UZ(626,"th",11),e.TgZ(627,"th"),e._uU(628,"+"),e.qZA(),e._UZ(629,"th",11),e.TgZ(630,"th"),e._uU(631,"+"),e.qZA(),e._UZ(632,"th",11),e.TgZ(633,"th"),e._uU(634,"+"),e.qZA(),e._UZ(635,"th",11),e.TgZ(636,"th"),e._uU(637,"+"),e.qZA(),e._UZ(638,"th",11),e.TgZ(639,"th"),e._uU(640,"+"),e.qZA(),e._UZ(641,"th",11),e.TgZ(642,"th"),e._uU(643,"+"),e.qZA(),e._UZ(644,"th",11),e.TgZ(645,"th"),e._uU(646,"+"),e.qZA()(),e.TgZ(647,"tr")(648,"th"),e._uU(649,"Non-sibilant affr."),e.qZA(),e.TgZ(650,"th"),e._uU(651,"|"),e.qZA(),e.TgZ(652,"th")(653,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(654,"th")(655,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(656,"th"),e._uU(657,"|"),e.qZA(),e.TgZ(658,"th")(659,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(660,"th")(661,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(662,"th"),e._uU(663,"|"),e.qZA(),e._UZ(664,"th")(665,"th"),e.TgZ(666,"th"),e._uU(667,"|"),e.qZA(),e.TgZ(668,"th")(669,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(670,"th")(671,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(672,"th"),e._uU(673,"|"),e.qZA(),e.TgZ(674,"th")(675,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(676,"th")(677,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(678,"th"),e._uU(679,"|"),e.qZA(),e.TgZ(680,"th")(681,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(682,"th")(683,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(684,"th"),e._uU(685,"|"),e.qZA(),e._UZ(686,"th",13),e.TgZ(687,"th"),e._uU(688,"|"),e.qZA(),e.TgZ(689,"th")(690,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(691,"th")(692,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(693,"th"),e._uU(694,"|"),e.qZA(),e.TgZ(695,"th")(696,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(697,"th")(698,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(699,"th"),e._uU(700,"|"),e.qZA(),e.TgZ(701,"th")(702,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(703,"th")(704,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(705,"th"),e._uU(706,"|"),e.qZA(),e.TgZ(707,"th",13)(708,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(709,"th"),e._uU(710,"|"),e.qZA(),e.TgZ(711,"th",13)(712,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(713,"th"),e._uU(714,"|"),e.qZA()(),e.TgZ(715,"tr"),e._UZ(716,"th",4),e.TgZ(717,"th"),e._uU(718,"+"),e.qZA(),e._UZ(719,"th",11),e.TgZ(720,"th"),e._uU(721,"+"),e.qZA(),e._UZ(722,"th",11),e.TgZ(723,"th"),e._uU(724,"+"),e.qZA(),e._UZ(725,"th",13),e.TgZ(726,"th"),e._uU(727,"+"),e.qZA(),e._UZ(728,"th",11),e.TgZ(729,"th"),e._uU(730,"+"),e.qZA(),e._UZ(731,"th",11),e.TgZ(732,"th"),e._uU(733,"+"),e.qZA(),e._UZ(734,"th",11),e.TgZ(735,"th"),e._uU(736,"+"),e.qZA(),e._UZ(737,"th",11),e.TgZ(738,"th"),e._uU(739,"+"),e.qZA(),e._UZ(740,"th",11),e.TgZ(741,"th"),e._uU(742,"+"),e.qZA(),e._UZ(743,"th",11),e.TgZ(744,"th"),e._uU(745,"+"),e.qZA(),e._UZ(746,"th",11),e.TgZ(747,"th"),e._uU(748,"+"),e.qZA(),e._UZ(749,"th",11),e.TgZ(750,"th"),e._uU(751,"+"),e.qZA(),e._UZ(752,"th",11),e.TgZ(753,"th"),e._uU(754,"+"),e.qZA()(),e.TgZ(755,"tr")(756,"th"),e._uU(757,"Approximant"),e.qZA(),e.TgZ(758,"th"),e._uU(759,"|"),e.qZA(),e._UZ(760,"th",13),e.TgZ(761,"th"),e._uU(762,"|"),e.qZA(),e.TgZ(763,"th",13)(764,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(765,"th"),e._uU(766,"|"),e.qZA(),e._UZ(767,"th",13),e.TgZ(768,"th"),e._uU(769,"|"),e.qZA(),e.TgZ(770,"th",23)(771,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(772,"th"),e._uU(773,"|"),e.qZA(),e.TgZ(774,"th",13)(775,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(776,"th"),e._uU(777,"|"),e.qZA(),e.TgZ(778,"th",13)(779,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(780,"th"),e._uU(781,"|"),e.qZA(),e.TgZ(782,"th",13)(783,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(784,"th"),e._uU(785,"|"),e.qZA(),e._UZ(786,"th",10),e.TgZ(787,"th"),e._uU(788,"|"),e.qZA(),e.TgZ(789,"th",13)(790,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(791,"th"),e._uU(792,"|"),e.qZA()(),e.TgZ(793,"tr"),e._UZ(794,"th",4),e.TgZ(795,"th"),e._uU(796,"+"),e.qZA(),e._UZ(797,"th",11),e.TgZ(798,"th"),e._uU(799,"+"),e.qZA(),e._UZ(800,"th",11),e.TgZ(801,"th"),e._uU(802,"+"),e.qZA(),e._UZ(803,"th",11),e.TgZ(804,"th"),e._uU(805,"+"),e.qZA(),e._UZ(806,"th",21),e.TgZ(807,"th"),e._uU(808,"+"),e.qZA(),e._UZ(809,"th",11),e.TgZ(810,"th"),e._uU(811,"+"),e.qZA(),e._UZ(812,"th",11),e.TgZ(813,"th"),e._uU(814,"+"),e.qZA(),e._UZ(815,"th",11),e.TgZ(816,"th"),e._uU(817,"+"),e.qZA(),e._UZ(818,"th",11),e.TgZ(819,"th"),e._uU(820,"+"),e.qZA(),e._UZ(821,"th",11),e.TgZ(822,"th"),e._uU(823,"+"),e.qZA(),e._UZ(824,"th",11),e.TgZ(825,"th"),e._uU(826,"+"),e.qZA()(),e.TgZ(827,"tr")(828,"th"),e._uU(829,"Tap/flap"),e.qZA(),e.TgZ(830,"th"),e._uU(831,"|"),e.qZA(),e.TgZ(832,"th",13)(833,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(834,"th"),e._uU(835,"|"),e.qZA(),e.TgZ(836,"th",13)(837,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(838,"th"),e._uU(839,"|"),e.qZA(),e.TgZ(840,"th",13)(841,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(842,"th"),e._uU(843,"|"),e.qZA(),e._UZ(844,"th"),e.TgZ(845,"th",20)(846,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(847,"th",20)(848,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(849,"th"),e.TgZ(850,"th"),e._uU(851,"|"),e.qZA(),e.TgZ(852,"th")(853,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(854,"th")(855,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(856,"th"),e._uU(857,"|"),e.qZA(),e._UZ(858,"th",10),e.TgZ(859,"th"),e._uU(860,"|"),e.qZA(),e.TgZ(861,"th",13)(862,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(863,"th"),e._uU(864,"|"),e.qZA(),e.TgZ(865,"th",13)(866,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(867,"th"),e._uU(868,"|"),e.qZA(),e._UZ(869,"th",13),e.TgZ(870,"th"),e._uU(871,"|"),e.qZA()(),e.TgZ(872,"tr"),e._UZ(873,"th",4),e.TgZ(874,"th"),e._uU(875,"+"),e.qZA(),e._UZ(876,"th",11),e.TgZ(877,"th"),e._uU(878,"+"),e.qZA(),e._UZ(879,"th",11),e.TgZ(880,"th"),e._uU(881,"+"),e.qZA(),e._UZ(882,"th",11),e.TgZ(883,"th"),e._uU(884,"+"),e.qZA(),e._UZ(885,"th",21),e.TgZ(886,"th"),e._uU(887,"+"),e.qZA(),e._UZ(888,"th",11),e.TgZ(889,"th"),e._uU(890,"+"),e.qZA(),e._UZ(891,"th",10),e.TgZ(892,"th"),e._uU(893,"+"),e.qZA(),e._UZ(894,"th",11),e.TgZ(895,"th"),e._uU(896,"+"),e.qZA(),e._UZ(897,"th",11),e.TgZ(898,"th"),e._uU(899,"+"),e.qZA(),e._UZ(900,"th",13),e.TgZ(901,"th"),e._uU(902,"|"),e.qZA()(),e.TgZ(903,"tr")(904,"th"),e._uU(905,"Trill"),e.qZA(),e.TgZ(906,"th"),e._uU(907,"|"),e.qZA(),e.TgZ(908,"th")(909,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(910,"th")(911,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(912,"th"),e._uU(913,"|"),e.qZA(),e._UZ(914,"th",10),e.TgZ(915,"th"),e._uU(916,"|"),e.qZA(),e._UZ(917,"th"),e.TgZ(918,"th",20)(919,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(920,"th",20)(921,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(922,"th"),e.TgZ(923,"th"),e._uU(924,"|"),e.qZA(),e.TgZ(925,"th")(926,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(927,"th")(928,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(929,"th"),e._uU(930,"|"),e.qZA(),e._UZ(931,"th",10),e.TgZ(932,"th"),e._uU(933,"|"),e.qZA(),e.TgZ(934,"th")(935,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(936,"th")(937,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(938,"th"),e._uU(939,"|"),e.qZA(),e.TgZ(940,"th")(941,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(942,"th")(943,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(944,"th"),e._uU(945,"|"),e.qZA(),e._UZ(946,"th",13),e.TgZ(947,"th"),e._uU(948,"|"),e.qZA()(),e.TgZ(949,"tr"),e._UZ(950,"th",4),e.TgZ(951,"th"),e._uU(952,"+"),e.qZA(),e._UZ(953,"th",11),e.TgZ(954,"th"),e._uU(955,"+"),e.qZA(),e._UZ(956,"th",10),e.TgZ(957,"th"),e._uU(958,"+"),e.qZA(),e._UZ(959,"th",21),e.TgZ(960,"th"),e._uU(961,"+"),e.qZA(),e._UZ(962,"th",11),e.TgZ(963,"th"),e._uU(964,"+"),e.qZA(),e._UZ(965,"th",11),e.TgZ(966,"th"),e._uU(967,"+"),e.qZA(),e._UZ(968,"th",11),e.TgZ(969,"th"),e._uU(970,"+"),e.qZA(),e._UZ(971,"th",11),e.TgZ(972,"th"),e._uU(973,"+"),e.qZA(),e._UZ(974,"th",11),e.TgZ(975,"th"),e._uU(976,"+"),e.qZA(),e._UZ(977,"th",13),e.TgZ(978,"th"),e._uU(979,"|"),e.qZA()(),e.TgZ(980,"tr")(981,"th"),e._uU(982,"Lateral fricative"),e.qZA(),e.TgZ(983,"th"),e._uU(984,"|"),e.qZA(),e._UZ(985,"th",23),e.TgZ(986,"th"),e._uU(987,"|"),e.qZA(),e._UZ(988,"th"),e.TgZ(989,"th",20)(990,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(991,"th",20)(992,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(993,"th"),e.TgZ(994,"th"),e._uU(995,"|"),e.qZA(),e.TgZ(996,"th")(997,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(998,"th")(999,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1e3,"th"),e._uU(1001,"|"),e.qZA(),e.TgZ(1002,"th")(1003,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1004,"th")(1005,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1006,"th"),e._uU(1007,"|"),e.qZA(),e.TgZ(1008,"th")(1009,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1010,"th")(1011,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1012,"th"),e._uU(1013,"|"),e.qZA(),e._UZ(1014,"th",23),e.TgZ(1015,"th"),e._uU(1016,"|"),e.qZA()(),e.TgZ(1017,"tr"),e._UZ(1018,"th",4),e.TgZ(1019,"th"),e._uU(1020,"+"),e.qZA(),e._UZ(1021,"th",23),e.TgZ(1022,"th"),e._uU(1023,"+"),e.qZA(),e._UZ(1024,"th",21),e.TgZ(1025,"th"),e._uU(1026,"+"),e.qZA(),e._UZ(1027,"th",11),e.TgZ(1028,"th"),e._uU(1029,"+"),e.qZA(),e._UZ(1030,"th",11),e.TgZ(1031,"th"),e._uU(1032,"+"),e.qZA(),e._UZ(1033,"th",11),e.TgZ(1034,"th"),e._uU(1035,"+"),e.qZA(),e._UZ(1036,"th",23),e.TgZ(1037,"th"),e._uU(1038,"|"),e.qZA()(),e.TgZ(1039,"tr")(1040,"th"),e._uU(1041,"Lateral affricate"),e.qZA(),e.TgZ(1042,"th"),e._uU(1043,"|"),e.qZA(),e._UZ(1044,"th",23),e.TgZ(1045,"th"),e._uU(1046,"|"),e.qZA(),e._UZ(1047,"th"),e.TgZ(1048,"th",20)(1049,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1050,"th",20)(1051,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(1052,"th"),e.TgZ(1053,"th"),e._uU(1054,"|"),e.qZA(),e.TgZ(1055,"th")(1056,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1057,"th")(1058,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1059,"th"),e._uU(1060,"|"),e.qZA(),e.TgZ(1061,"th")(1062,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1063,"th")(1064,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1065,"th"),e._uU(1066,"|"),e.qZA(),e.TgZ(1067,"th")(1068,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1069,"th")(1070,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1071,"th"),e._uU(1072,"|"),e.qZA(),e._UZ(1073,"th",23),e.TgZ(1074,"th"),e._uU(1075,"|"),e.qZA()(),e.TgZ(1076,"tr"),e._UZ(1077,"th",4),e.TgZ(1078,"th"),e._uU(1079,"+"),e.qZA(),e._UZ(1080,"th",23),e.TgZ(1081,"th"),e._uU(1082,"+"),e.qZA(),e._UZ(1083,"th",21),e.TgZ(1084,"th"),e._uU(1085,"+"),e.qZA(),e._UZ(1086,"th",11),e.TgZ(1087,"th"),e._uU(1088,"+"),e.qZA(),e._UZ(1089,"th",11),e.TgZ(1090,"th"),e._uU(1091,"+"),e.qZA(),e._UZ(1092,"th",11),e.TgZ(1093,"th"),e._uU(1094,"+"),e.qZA(),e._UZ(1095,"th",11),e.TgZ(1096,"th"),e._uU(1097,"+"),e.qZA(),e._UZ(1098,"th",10),e.TgZ(1099,"th"),e._uU(1100,"|"),e.qZA()(),e.TgZ(1101,"tr")(1102,"th"),e._uU(1103,"Ltrl approximant"),e.qZA(),e.TgZ(1104,"th"),e._uU(1105,"|"),e.qZA(),e._UZ(1106,"th",23),e.TgZ(1107,"th"),e._uU(1108,"|"),e.qZA(),e._UZ(1109,"th"),e.TgZ(1110,"th",20)(1111,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1112,"th",20)(1113,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(1114,"th"),e.TgZ(1115,"th"),e._uU(1116,"|"),e.qZA(),e.TgZ(1117,"th",13)(1118,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1119,"th"),e._uU(1120,"|"),e.qZA(),e.TgZ(1121,"th",13)(1122,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1123,"th"),e._uU(1124,"|"),e.qZA(),e.TgZ(1125,"th",13)(1126,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1127,"th"),e._uU(1128,"|"),e.qZA(),e.TgZ(1129,"th",13)(1130,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1131,"th"),e._uU(1132,"|"),e.qZA(),e._UZ(1133,"th",10),e.TgZ(1134,"th"),e._uU(1135,"|"),e.qZA()(),e.TgZ(1136,"tr"),e._UZ(1137,"th",4),e.TgZ(1138,"th"),e._uU(1139,"+"),e.qZA(),e._UZ(1140,"th",23),e.TgZ(1141,"th"),e._uU(1142,"+"),e.qZA(),e._UZ(1143,"th",21),e.TgZ(1144,"th"),e._uU(1145,"+"),e.qZA(),e._UZ(1146,"th",11),e.TgZ(1147,"th"),e._uU(1148,"+"),e.qZA(),e._UZ(1149,"th",11),e.TgZ(1150,"th"),e._uU(1151,"+"),e.qZA(),e._UZ(1152,"th",11),e.TgZ(1153,"th"),e._uU(1154,"+"),e.qZA(),e._UZ(1155,"th",11),e.TgZ(1156,"th"),e._uU(1157,"+"),e.qZA(),e._UZ(1158,"th",10),e.TgZ(1159,"th"),e._uU(1160,"|"),e.qZA()(),e.TgZ(1161,"tr")(1162,"th"),e._uU(1163,"Lateral tap/flap"),e.qZA(),e.TgZ(1164,"th"),e._uU(1165,"|"),e.qZA(),e._UZ(1166,"th",23),e.TgZ(1167,"th"),e._uU(1168,"|"),e.qZA(),e._UZ(1169,"th"),e.TgZ(1170,"th",20)(1171,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1172,"th",20)(1173,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(1174,"th"),e.TgZ(1175,"th"),e._uU(1176,"|"),e.qZA(),e.TgZ(1177,"th")(1178,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1179,"th")(1180,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1181,"th"),e._uU(1182,"|"),e.qZA(),e.TgZ(1183,"th",13)(1184,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1185,"th"),e._uU(1186,"|"),e.qZA(),e.TgZ(1187,"th",13)(1188,"app-phonetic-btn",19),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1189,"th"),e._uU(1190,"|"),e.qZA(),e._UZ(1191,"th",23),e.TgZ(1192,"th"),e._uU(1193,"|"),e.qZA()(),e.TgZ(1194,"tr"),e._UZ(1195,"th",25),e.TgZ(1196,"th"),e._uU(1197,"+"),e.qZA()(),e.TgZ(1198,"tr")(1199,"th",3),e._uU(1200," --- CO-ARTICULATED CONSONANTS --- "),e.qZA(),e.TgZ(1201,"th"),e._uU(1202,"|"),e.qZA()(),e.TgZ(1203,"tr"),e._UZ(1204,"th",4),e.TgZ(1205,"th"),e._uU(1206,"+"),e.qZA(),e._UZ(1207,"th",5),e.TgZ(1208,"th"),e._uU(1209,"+"),e.qZA()(),e.TgZ(1210,"tr")(1211,"th"),e._uU(1212,"Nasal"),e.qZA(),e.TgZ(1213,"th"),e._uU(1214,"|"),e.qZA(),e.TgZ(1215,"th",26),e._uU(1216," Labial\u2013alveolar "),e.TgZ(1217,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(1218,", Labial\u2013velar "),e.TgZ(1219,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1220,"th"),e._uU(1221,"|"),e.qZA()(),e.TgZ(1222,"tr"),e._UZ(1223,"th",4),e.TgZ(1224,"th"),e._uU(1225,"+"),e.qZA(),e._UZ(1226,"th",5),e.TgZ(1227,"th"),e._uU(1228,"+"),e.qZA()(),e.TgZ(1229,"tr")(1230,"th"),e._uU(1231,"Plosive"),e.qZA(),e.TgZ(1232,"th"),e._uU(1233,"|"),e.qZA(),e.TgZ(1234,"th",26),e._uU(1235," Labial\u2013alveolar "),e.TgZ(1236,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(1237),e.TgZ(1238,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(1239,", Labial\u2013velar "),e.TgZ(1240,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(1241),e.TgZ(1242,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(1243,", Uvular\u2013epiglottal "),e.TgZ(1244,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e._uU(1245),e.qZA()(),e.TgZ(1246,"th"),e._uU(1247,"|"),e.qZA()(),e.TgZ(1248,"tr"),e._UZ(1249,"th",4),e.TgZ(1250,"th"),e._uU(1251,"+"),e.qZA(),e._UZ(1252,"th",5),e.TgZ(1253,"th"),e._uU(1254,"+"),e.qZA()(),e.TgZ(1255,"tr")(1256,"th"),e._uU(1257,"Fricative/appr."),e.qZA(),e.TgZ(1258,"th"),e._uU(1259,"|"),e.qZA(),e.TgZ(1260,"th",26),e._uU(1261," Labial\u2013palatal "),e.TgZ(1262,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(1263),e.TgZ(1264,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(1265,", Labial\u2013velar "),e.TgZ(1266,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(1267),e.TgZ(1268,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(1269,", Sj-sound "),e.TgZ(1270,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1271,"th"),e._uU(1272,"|"),e.qZA()(),e.TgZ(1273,"tr"),e._UZ(1274,"th",4),e.TgZ(1275,"th"),e._uU(1276,"+"),e.qZA(),e._UZ(1277,"th",5),e.TgZ(1278,"th"),e._uU(1279,"+"),e.qZA()(),e.TgZ(1280,"tr")(1281,"th"),e._uU(1282,"Lateral appr."),e.qZA(),e.TgZ(1283,"th"),e._uU(1284,"|"),e.qZA(),e.TgZ(1285,"th",26),e._uU(1286,"Velarized alveolar "),e.TgZ(1287,"app-phonetic-btn",27),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(1288,"th"),e._uU(1289,"|"),e.qZA()(),e.TgZ(1290,"tr"),e._UZ(1291,"th",25),e.TgZ(1292,"th"),e._uU(1293,"+"),e.qZA()()()()),2&t&&(e.xp6(218),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","m\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","m"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0271"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","n\u033c"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","n\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","n"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0273\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0273"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0272\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0272"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u014b\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u014b"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0274"),e.xp6(46),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","p"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","b"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","p\u032a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","b\u032a"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u033c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u033c"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0288"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0256"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u025f"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","k"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0261"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","q"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0262"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a1"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0294"),e.xp6(49),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","s"),e.xp6(3),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","z"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0283"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0292"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0282"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0290"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0255"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0291"),e.xp6(37),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a6"),e.xp6(3),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a3"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0288\u0361\u0282"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0256\u0361\u0290"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a8"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a5"),e.xp6(52),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0278"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03b2"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","f"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","v"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03b8\u033c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\xf0\u033c"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03b8"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\xf0"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03b8\u0320"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\xf0\u0320"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0279\u0320\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0279\u0320\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027b\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\xe7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","x"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0263"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u03c7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0281"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0127"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0295"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","h"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0266"),e.xp6(49),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","p\u0361\u0278"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","b\u0361\u03b2"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","p\u032a\u0361f"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","b\u032a\u0361v"),e.xp6(8),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u032a\u0361\u03b8"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u032a\u0361\xf0"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u0361\u0279\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u0361\u0279\u031d\u0320"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u0320\u0361\u0279\u0320\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u0320\u0361\u0279\u0320\u02d4"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","c\u0361\xe7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u025f\u0361\u029d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","k\u0361x"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0261\u0361\u0263"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","q\u0361\u03c7"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0262\u0361\u0281"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a1\u0361\u02a2"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0294\u0361h"),e.xp6(52),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028b"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0279"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027b"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","j"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0270"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0294\u031e"),e.xp6(43),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u2c71\u031f"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u2c71"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027e\u033c"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027e\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027e"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027d"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0262\u0306"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a1\u0306"),e.xp6(43),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0299\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0299"),e.xp6(8),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","r\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","r"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027d\u030ar\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027dr"),e.xp6(7),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0280\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0280"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u02a2"),e.xp6(47),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026e"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028e\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028e\u031d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f\u031d"),e.xp6(38),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","t\u0361\u026c"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","d\u0361\u026e"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0288\u0361\u026d\u030a\u02d4"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0256\u0361\u026d\u02d4"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","c\u0361\u028e\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u025f\u0361\u028e\u031d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","k\u0361\u029f\u031d\u030a"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u0261\u0361\u029f\u031d"),e.xp6(41),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","l\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","l"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028e"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f\u0320"),e.xp6(41),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027a\u0325"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u027a"),e.xp6(5),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d\u0325\u0306"),e.xp6(2),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u026d\u0306"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u028e\u0306\u031d\u030a"),e.xp6(4),e.Q6J("consonant",!0)("languageSounds",o.languageSounds)("phonetic","\u029f\u0306"),e.xp6(29),e.Q6J("languageSounds",o.languageSounds)("phonetic","n\u0361m"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u0361m"),e.xp6(17),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u0361p"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",o.languageSounds)("phonetic","d\u0361b"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u0361p"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u0361b"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u0361\u02a1"),e.xp6(1),e.Oqu(" "),e.xp6(17),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0265\u030a"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0265"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u028d"),e.xp6(1),e.Oqu(" "),e.xp6(1),e.Q6J("languageSounds",o.languageSounds)("phonetic","w"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0267"),e.xp6(17),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u026b"))},dependencies:[Jn,cd]}),r})();function rg(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"app-phonetic-btn",29),e.NdJ("onClick",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.clicked(i))}),e.qZA()()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(1),e.hij("",o>0?", ":""," "),e.xp6(1),e.Q6J("languageSounds",i.languageSounds)("phonetic",t)}}let og=(()=>{class r{constructor(){this.onClick=new e.vpe}ngOnInit(){}clicked(t){this.onClick.emit(t)}getRestPhonemes(){var t;if(this.languageSounds&&this.languageSounds.restUsedPhonemes){const o=this.languageSounds.restUsedPhonemes.concat([]);return null===(t=this.languageSounds.selectedRestPhonemes)||void 0===t||t.forEach(i=>{i.phoneme&&o.push(i.phoneme)}),o.sort().filter(i=>""!==i.trim()).filter(i=>i.includes("\u032f")).filter((i,u,d)=>d.indexOf(i)===u)}return[]}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-vowels"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},decls:373,vars:100,consts:[["span","1",2,"width","auto"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","5%"],["span","1",1,"border",2,"width","25px"],["span","1",2,"width","15%"],["colspan","37"],["app-horizontal-dash",""],["app-horizontal-dash","","colspan","35"],[2,"text-align","right"],["colspan","5"],["colspan","3"],["colspan","12"],["colspan","1"],[3,"vowel","languageSounds","phonetic","onClick"],["colspan","5","app-horizontal-dash",""],["colspan","9","app-horizontal-dash",""],["colspan","4"],["colspan","11"],["colspan","14"],["colspan","9"],["colspan","6"],["colspan","8"],["colspan","10"],["colspan","7"],["colspan","3","app-horizontal-dash",""],["colspan","13"],["colspan","1","app-horizontal-dash",""],["colspan","35"],[4,"ngFor","ngForOf"],[3,"languageSounds","phonetic","onClick"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",3)(7,"col",3)(8,"col",3)(9,"col",3)(10,"col",3)(11,"col",3)(12,"col",3)(13,"col",3)(14,"col",3)(15,"col",3)(16,"col",3)(17,"col",3)(18,"col",3)(19,"col",3)(20,"col",3)(21,"col",3)(22,"col",3)(23,"col",3)(24,"col",3)(25,"col",3)(26,"col",3)(27,"col",3)(28,"col",3)(29,"col",3)(30,"col",3)(31,"col",3)(32,"col",3)(33,"col",3)(34,"col",3)(35,"col",3)(36,"col",3)(37,"col",3)(38,"col",4)(39,"col",1),e.qZA(),e.TgZ(40,"tbody")(41,"tr")(42,"th",5),e._uU(43," --- VOWELS --- "),e.qZA(),e.TgZ(44,"th"),e._uU(45,"|"),e.qZA()(),e.TgZ(46,"tr"),e._UZ(47,"th",6),e.TgZ(48,"th"),e._uU(49,"+"),e.qZA(),e._UZ(50,"th",7),e.TgZ(51,"th"),e._uU(52,"+"),e.qZA()(),e.TgZ(53,"tr"),e._UZ(54,"th",8),e.TgZ(55,"th"),e._uU(56,"|"),e.qZA(),e._UZ(57,"th"),e.TgZ(58,"th",9),e._uU(59,"Front"),e.qZA(),e._UZ(60,"th",10),e.TgZ(61,"th"),e._uU(62,"|"),e.qZA(),e.TgZ(63,"th",11),e._uU(64,"Central"),e.qZA(),e._UZ(65,"th",12),e.TgZ(66,"th"),e._uU(67,"|"),e.qZA(),e._UZ(68,"th",9),e.TgZ(69,"th",9),e._uU(70,"Back"),e.qZA(),e._UZ(71,"th"),e.TgZ(72,"th"),e._uU(73,"|"),e.qZA()(),e.TgZ(74,"tr"),e._UZ(75,"th",6),e.TgZ(76,"th"),e._uU(77,"+"),e.qZA(),e._UZ(78,"th",7),e.TgZ(79,"th"),e._uU(80,"+"),e.qZA()(),e.TgZ(81,"tr")(82,"th"),e._uU(83,"Close"),e.qZA(),e.TgZ(84,"th"),e._uU(85,"|"),e.qZA(),e._UZ(86,"th"),e.TgZ(87,"th",9)(88,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(89," * "),e.TgZ(90,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(91,"th")(92,"th",14)(93,"th"),e.TgZ(94,"th",9)(95,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(96," * "),e.TgZ(97,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(98,"th")(99,"th",15)(100,"th"),e.TgZ(101,"th",9)(102,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(103," * "),e.TgZ(104,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(105,"th"),e.TgZ(106,"th"),e._uU(107,"|"),e.qZA()(),e.TgZ(108,"tr"),e._UZ(109,"th",6),e.TgZ(110,"th"),e._uU(111,"+"),e.qZA(),e._UZ(112,"th",16),e.TgZ(113,"th"),e._uU(114,"\\"),e.qZA(),e._UZ(115,"th",17),e.TgZ(116,"th"),e._uU(117,"\\"),e.qZA(),e._UZ(118,"th",18),e.TgZ(119,"th"),e._uU(120,"|"),e.qZA(),e._UZ(121,"th",10),e.TgZ(122,"th"),e._uU(123,"|"),e.qZA()(),e.TgZ(124,"tr")(125,"th"),e._uU(126,"Near-close"),e.qZA(),e.TgZ(127,"th"),e._uU(128,"|"),e.qZA(),e._UZ(129,"th",9),e.TgZ(130,"th"),e._uU(131,"\\"),e.qZA(),e._UZ(132,"th"),e.TgZ(133,"th",9)(134,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(135," * "),e.TgZ(136,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(137,"th",9),e.TgZ(138,"th"),e._uU(139,"\\"),e.qZA(),e._UZ(140,"th",19),e.TgZ(141,"th",10),e._uU(142,"* "),e.TgZ(143,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(144,"th"),e.TgZ(145,"th"),e._uU(146,"|"),e.qZA(),e._UZ(147,"th",10),e.TgZ(148,"th"),e._uU(149,"|"),e.qZA()(),e.TgZ(150,"tr"),e._UZ(151,"th",6),e.TgZ(152,"th"),e._uU(153,"+"),e.qZA(),e._UZ(154,"th",20),e.TgZ(155,"th"),e._uU(156,"\\"),e.qZA(),e._UZ(157,"th",17),e.TgZ(158,"th"),e._uU(159,"\\"),e.qZA(),e._UZ(160,"th",11),e.TgZ(161,"th"),e._uU(162,"|"),e.qZA(),e._UZ(163,"th",10),e.TgZ(164,"th"),e._uU(165,"|"),e.qZA()(),e.TgZ(166,"tr")(167,"th"),e._uU(168,"Close-mid"),e.qZA(),e.TgZ(169,"th"),e._uU(170,"|"),e.qZA(),e._UZ(171,"th",9),e.TgZ(172,"th",9)(173,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(174," * "),e.TgZ(175,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(176,"th")(177,"th",14)(178,"th"),e.TgZ(179,"th",9)(180,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(181," * "),e.TgZ(182,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(183,"th")(184,"th",14)(185,"th"),e.TgZ(186,"th",9)(187,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(188," * "),e.TgZ(189,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(190,"th"),e.TgZ(191,"th"),e._uU(192,"|"),e.qZA()(),e.TgZ(193,"tr"),e._UZ(194,"th",6),e.TgZ(195,"th"),e._uU(196,"+"),e.qZA(),e._UZ(197,"th",21),e.TgZ(198,"th"),e._uU(199,"\\"),e.qZA(),e._UZ(200,"th",22),e.TgZ(201,"th"),e._uU(202,"\\"),e.qZA(),e._UZ(203,"th",17),e.TgZ(204,"th"),e._uU(205,"|"),e.qZA(),e._UZ(206,"th",10),e.TgZ(207,"th"),e._uU(208,"|"),e.qZA()(),e.TgZ(209,"tr")(210,"th"),e._uU(211,"Mid"),e.qZA(),e.TgZ(212,"th"),e._uU(213,"|"),e.qZA(),e._UZ(214,"th",23),e.TgZ(215,"th",9)(216,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(217," * "),e.TgZ(218,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(219,"th")(220,"th",20),e.TgZ(221,"th",10)(222,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(223,"th",20)(224,"th"),e.TgZ(225,"th",9)(226,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(227," * "),e.TgZ(228,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(229,"th"),e.TgZ(230,"th"),e._uU(231,"|"),e.qZA()(),e.TgZ(232,"tr"),e._UZ(233,"th",6),e.TgZ(234,"th"),e._uU(235,"+"),e.qZA(),e._UZ(236,"th",22),e.TgZ(237,"th"),e._uU(238,"\\"),e.qZA(),e._UZ(239,"th",19),e.TgZ(240,"th"),e._uU(241,"\\"),e.qZA(),e._UZ(242,"th",22),e.TgZ(243,"th"),e._uU(244,"|"),e.qZA(),e._UZ(245,"th",10),e.TgZ(246,"th"),e._uU(247,"|"),e.qZA()(),e.TgZ(248,"tr")(249,"th"),e._uU(250,"Open-mid"),e.qZA(),e.TgZ(251,"th"),e._uU(252,"|"),e.qZA(),e._UZ(253,"th",19),e.TgZ(254,"th",9)(255,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(256," * "),e.TgZ(257,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(258,"th")(259,"th",24)(260,"th"),e.TgZ(261,"th",9)(262,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(263," * "),e.TgZ(264,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(265,"th")(266,"th",24)(267,"th"),e.TgZ(268,"th",9)(269,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(270," * "),e.TgZ(271,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(272,"th"),e.TgZ(273,"th"),e._uU(274,"|"),e.qZA()(),e.TgZ(275,"tr"),e._UZ(276,"th",6),e.TgZ(277,"th"),e._uU(278,"+"),e.qZA(),e._UZ(279,"th",11),e.TgZ(280,"th"),e._uU(281,"\\"),e.qZA(),e._UZ(282,"th",21),e.TgZ(283,"th"),e._uU(284,"\\"),e.qZA(),e._UZ(285,"th",19),e.TgZ(286,"th"),e._uU(287,"|"),e.qZA(),e._UZ(288,"th",10),e.TgZ(289,"th"),e._uU(290,"|"),e.qZA()(),e.TgZ(291,"tr")(292,"th"),e._uU(293,"Near-open"),e.qZA(),e.TgZ(294,"th"),e._uU(295,"|"),e.qZA(),e._UZ(296,"th",17),e.TgZ(297,"th",10)(298,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(299," *"),e.qZA(),e._UZ(300,"th",23),e.TgZ(301,"th",10)(302,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(303,"th",23),e.TgZ(304,"th"),e._uU(305,"|"),e.qZA(),e._UZ(306,"th",10),e.TgZ(307,"th"),e._uU(308,"|"),e.qZA()(),e.TgZ(309,"tr"),e._UZ(310,"th",6),e.TgZ(311,"th"),e._uU(312,"+"),e.qZA(),e._UZ(313,"th",18),e.TgZ(314,"th"),e._uU(315,"\\"),e.qZA(),e._UZ(316,"th",23),e.TgZ(317,"th"),e._uU(318,"\\"),e.qZA(),e._UZ(319,"th",21),e.TgZ(320,"th"),e._uU(321,"|"),e.qZA(),e._UZ(322,"th",10),e.TgZ(323,"th"),e._uU(324,"|"),e.qZA()(),e.TgZ(325,"tr")(326,"th"),e._uU(327,"Open"),e.qZA(),e.TgZ(328,"th"),e._uU(329,"|"),e.qZA(),e._UZ(330,"th",25),e.TgZ(331,"th",9)(332,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(333," * "),e.TgZ(334,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(335,"th")(336,"th",26)(337,"th"),e.TgZ(338,"th",16)(339,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(340," * "),e.qZA(),e._UZ(341,"th",24)(342,"th"),e.TgZ(343,"th",9)(344,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e._uU(345," * "),e.TgZ(346,"app-phonetic-btn",13),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(347,"th"),e.TgZ(348,"th"),e._uU(349,"|"),e.qZA()(),e.TgZ(350,"tr"),e._UZ(351,"th",6),e.TgZ(352,"th"),e._uU(353,"+"),e.qZA(),e._UZ(354,"th",7),e.TgZ(355,"th"),e._uU(356,"+"),e.qZA()(),e.TgZ(357,"tr")(358,"th"),e._uU(359,"Gliding"),e.qZA(),e.TgZ(360,"th"),e._uU(361,"|"),e.qZA(),e.TgZ(362,"th",27),e.YNc(363,rg,3,3,"span",28),e.qZA(),e.TgZ(364,"th"),e._uU(365,"|"),e.qZA()(),e.TgZ(366,"tr"),e._UZ(367,"th",6),e.TgZ(368,"th"),e._uU(369,"+"),e.qZA(),e._UZ(370,"th",7),e.TgZ(371,"th"),e._uU(372,"+"),e.qZA()()()()),2&t&&(e.xp6(88),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","i"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","y"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0268"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0289"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u026f"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","u"),e.xp6(30),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u026a"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u028f"),e.xp6(7),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u028a"),e.xp6(30),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","e"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\xf8"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0258"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0275"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0264"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","o"),e.xp6(27),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","e\u031e"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\xf8\u031e"),e.xp6(4),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0259"),e.xp6(4),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0264\u031e"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","o\u031e"),e.xp6(27),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u025b"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0153"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u025c"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u025e"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u028c"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0254"),e.xp6(27),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\xe6"),e.xp6(4),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0250"),e.xp6(30),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","a"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0276"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\xe4"),e.xp6(5),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0251"),e.xp6(2),e.Q6J("vowel",!0)("languageSounds",o.languageSounds)("phonetic","\u0252"),e.xp6(17),e.Q6J("ngForOf",o.getRestPhonemes()))},dependencies:[gt,Jn,cd]}),r})();function O1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"app-phonetic-btn",11),e.NdJ("onClick",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.clicked(i))}),e.qZA()()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(1),e.hij("",o>0?", ":""," "),e.xp6(1),e.Q6J("languageSounds",i.languageSounds)("phonetic",t)}}function R1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addNewSound())}),e._uU(1,"[ + ]"),e.qZA()}}function ey(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"[ + ]"),e.qZA())}let L1=(()=>{class r{constructor(t){this.formBuilder=t,this.onClick=new e.vpe,this.soundForm=new ut({newSound:new so("",br.required)})}ngOnInit(){}clicked(t){this.onClick.emit(t)}getRestPhonemes(){var t;if(this.languageSounds&&this.languageSounds.restUsedPhonemes){const o=this.languageSounds.restUsedPhonemes.concat([]);return null===(t=this.languageSounds.selectedRestPhonemes)||void 0===t||t.forEach(i=>{i.phoneme&&o.push(i.phoneme)}),o.sort().filter(i=>""!==i.trim()).filter(i=>!i.includes("\u032f")).filter((i,u,d)=>d.indexOf(i)===u)}return[]}addNewSound(){this.onClick.emit(this.soundForm.value.newSound?this.soundForm.value.newSound:void 0),this.soundForm.reset()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(If))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-other-phonemes"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},decls:40,vars:4,consts:[["span","1",2,"width","70px"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["colspan","3"],["app-horizontal-dash","","colspan","3"],[4,"ngFor","ngForOf"],["class","text-green-dull",3,"click",4,"ngIf"],[4,"ngIf"],[2,"text-align","left"],[3,"formGroup","ngSubmit"],["formControlName","newSound","type","text",2,"margin-left","16px"],[3,"languageSounds","phonetic","onClick"],[1,"text-green-dull",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",1),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",3),e._uU(9," --- OTHER PHONEMES --- "),e.qZA(),e.TgZ(10,"th"),e._uU(11,"|"),e.qZA()(),e.TgZ(12,"tr"),e._UZ(13,"th",4),e.TgZ(14,"th"),e._uU(15,"+"),e.qZA()(),e.TgZ(16,"tr")(17,"th",3),e.YNc(18,O1,3,3,"span",5),e.qZA(),e.TgZ(19,"th"),e._uU(20,"|"),e.qZA()(),e.TgZ(21,"tr"),e._UZ(22,"th",4),e.TgZ(23,"th"),e._uU(24,"+"),e.qZA()(),e.TgZ(25,"tr")(26,"th"),e.YNc(27,R1,2,0,"a",6),e.YNc(28,ey,2,0,"span",7),e.qZA(),e.TgZ(29,"th"),e._uU(30,"|"),e.qZA(),e.TgZ(31,"th",8)(32,"form",9),e.NdJ("ngSubmit",function(){return o.addNewSound()}),e._UZ(33,"input",10),e.qZA()(),e.TgZ(34,"th"),e._uU(35,"|"),e.qZA()(),e.TgZ(36,"tr"),e._UZ(37,"th",4),e.TgZ(38,"th"),e._uU(39,"+"),e.qZA()()()()),2&t&&(e.xp6(18),e.Q6J("ngForOf",o.getRestPhonemes()),e.xp6(9),e.Q6J("ngIf",o.soundForm.valid),e.xp6(1),e.Q6J("ngIf",!o.soundForm.valid),e.xp6(4),e.Q6J("formGroup",o.soundForm))},dependencies:[gt,Ut,ms,jn,tr,qi,yi,Na,Jn,cd]}),r})(),F1=(()=>{class r{constructor(t,o){this.cdRef=t,this.languagesService=o,this.onClick=new e.vpe}ngOnInit(){}ngOnChanges(t){console.log("pulmonic consonants changes",t)}clicked(t){this.onClick.emit(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(Co))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-non-pulmonic-consonants"]],inputs:{languageSounds:"languageSounds"},outputs:{onClick:"onClick"},features:[e.TTD],decls:913,vars:150,consts:[["span","1",2,"width","79px"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","3.489228732%"],["colspan","33"],["app-horizontal-dash","","colspan","3"],["app-horizontal-dash","","colspan","29"],["colspan","3",2,"text-align","right"],["colspan","5"],["colspan","12"],["colspan","7"],["colspan","2"],["colspan","3"],["colspan","2","app-horizontal-dash",""],["colspan","3",2,"text-align","left"],["title","Labio-dental"],["title","Post-alveolar"],["title","Retro-flex"],["title","Pharyngeal/Epi-glottal"],["app-horizontal-dash",""],["rowspan","9"],[3,"languageSounds","phonetic","onClick"],["colspan","8"],["colspan","8","app-horizontal-dash",""],["colspan","14"],["colspan","5","app-horizontal-dash",""],["rowspan","11"],["app-horizontal-dash","","colspan","33"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",1)(6,"col",3)(7,"col",3)(8,"col",1)(9,"col",3)(10,"col",3)(11,"col",1)(12,"col",3)(13,"col",3)(14,"col",1)(15,"col",3)(16,"col",3)(17,"col",1)(18,"col",3)(19,"col",3)(20,"col",1)(21,"col",3)(22,"col",3)(23,"col",1)(24,"col",3)(25,"col",3)(26,"col",1)(27,"col",3)(28,"col",3)(29,"col",1)(30,"col",3)(31,"col",3)(32,"col",1)(33,"col",3)(34,"col",3)(35,"col",1),e.qZA(),e.TgZ(36,"tbody")(37,"tr")(38,"th",4),e._uU(39," --- NON-PLUMONIC CONSONANTS --- "),e.qZA(),e.TgZ(40,"th"),e._uU(41,"|"),e.qZA()(),e.TgZ(42,"tr"),e._UZ(43,"th",5),e.TgZ(44,"th"),e._uU(45,"+"),e.qZA(),e._UZ(46,"th",6),e.TgZ(47,"th"),e._uU(48,"+"),e.qZA()(),e.TgZ(49,"tr")(50,"th",7),e._uU(51,"Place"),e.qZA(),e.TgZ(52,"th"),e._uU(53,"|"),e.qZA(),e.TgZ(54,"th",8),e._uU(55,"Labial"),e.qZA(),e.TgZ(56,"th"),e._uU(57,"|"),e.qZA(),e.TgZ(58,"th",9),e._uU(59,"Coronal"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"|"),e.qZA(),e.TgZ(62,"th",10),e._uU(63,"Dorsal"),e.qZA(),e.TgZ(64,"th"),e._uU(65,"|"),e.qZA(),e.TgZ(66,"th",11),e._uU(67,"Laryngeal"),e.qZA(),e.TgZ(68,"th"),e._uU(69,"|"),e.qZA()(),e.TgZ(70,"tr"),e._UZ(71,"th",12),e.TgZ(72,"th"),e._uU(73,"|"),e.qZA(),e._UZ(74,"th",13),e.TgZ(75,"th"),e._uU(76,"+"),e.qZA(),e._UZ(77,"th",13),e.TgZ(78,"th"),e._uU(79,"+"),e.qZA(),e._UZ(80,"th",13),e.TgZ(81,"th"),e._uU(82,"+"),e.qZA(),e._UZ(83,"th",13),e.TgZ(84,"th"),e._uU(85,"+"),e.qZA(),e._UZ(86,"th",13),e.TgZ(87,"th"),e._uU(88,"+"),e.qZA(),e._UZ(89,"th",13),e.TgZ(90,"th"),e._uU(91,"+"),e.qZA(),e._UZ(92,"th",13),e.TgZ(93,"th"),e._uU(94,"+"),e.qZA(),e._UZ(95,"th",13),e.TgZ(96,"th"),e._uU(97,"+"),e.qZA(),e._UZ(98,"th",13),e.TgZ(99,"th"),e._uU(100,"+"),e.qZA(),e._UZ(101,"th",13),e.TgZ(102,"th"),e._uU(103,"+"),e.qZA()(),e.TgZ(104,"tr")(105,"th",14),e._uU(106,"Manner"),e.qZA(),e.TgZ(107,"th"),e._uU(108,"|"),e.qZA(),e.TgZ(109,"th",11),e._uU(110,"Bilabial"),e.qZA(),e.TgZ(111,"th"),e._uU(112,"|"),e.qZA(),e.TgZ(113,"th",11)(114,"abbr",15),e._uU(115,"LD"),e.qZA()(),e.TgZ(116,"th"),e._uU(117,"|"),e.qZA(),e.TgZ(118,"th",11),e._uU(119,"Dental"),e.qZA(),e.TgZ(120,"th"),e._uU(121,"|"),e.qZA(),e.TgZ(122,"th",11),e._uU(123,"Alveolar"),e.qZA(),e.TgZ(124,"th"),e._uU(125,"|"),e.qZA(),e.TgZ(126,"th",11)(127,"abbr",16),e._uU(128,"PA"),e.qZA()(),e.TgZ(129,"th"),e._uU(130,"|"),e.qZA(),e.TgZ(131,"th",11)(132,"abbr",17),e._uU(133,"RF"),e.qZA()(),e.TgZ(134,"th"),e._uU(135,"|"),e.qZA(),e.TgZ(136,"th",11),e._uU(137,"Palatal"),e.qZA(),e.TgZ(138,"th"),e._uU(139,"|"),e.qZA(),e.TgZ(140,"th",11),e._uU(141,"Velar"),e.qZA(),e.TgZ(142,"th"),e._uU(143,"|"),e.qZA(),e.TgZ(144,"th",11),e._uU(145,"Uvular"),e.qZA(),e.TgZ(146,"th"),e._uU(147,"|"),e.qZA(),e.TgZ(148,"th",11)(149,"abbr",18),e._uU(150,"P/EG"),e.qZA()(),e.TgZ(151,"th"),e._uU(152,"|"),e.qZA()(),e.TgZ(153,"tr"),e._UZ(154,"th",19),e.TgZ(155,"th"),e._uU(156,"+"),e.qZA(),e._UZ(157,"th",19),e.TgZ(158,"th"),e._uU(159,"+"),e.qZA(),e._UZ(160,"th",13),e.TgZ(161,"th"),e._uU(162,"+"),e.qZA(),e._UZ(163,"th",13),e.TgZ(164,"th"),e._uU(165,"+"),e.qZA(),e._UZ(166,"th",13),e.TgZ(167,"th"),e._uU(168,"+"),e.qZA(),e._UZ(169,"th",13),e.TgZ(170,"th"),e._uU(171,"+"),e.qZA(),e._UZ(172,"th",13),e.TgZ(173,"th"),e._uU(174,"+"),e.qZA(),e._UZ(175,"th",13),e.TgZ(176,"th"),e._uU(177,"+"),e.qZA(),e._UZ(178,"th",13),e.TgZ(179,"th"),e._uU(180,"+"),e.qZA(),e._UZ(181,"th",13),e.TgZ(182,"th"),e._uU(183,"+"),e.qZA(),e._UZ(184,"th",13),e.TgZ(185,"th"),e._uU(186,"+"),e.qZA(),e._UZ(187,"th",13),e.TgZ(188,"th"),e._uU(189,"+"),e.qZA()(),e.TgZ(190,"tr")(191,"th",20),e._uU(192,"Ejective"),e.qZA(),e.TgZ(193,"th",20),e._uU(194,"|"),e._UZ(195,"br"),e._uU(196,"|"),e._UZ(197,"br"),e._uU(198,"|"),e._UZ(199,"br"),e._uU(200,"|"),e._UZ(201,"br"),e._uU(202,"|"),e._UZ(203,"br"),e._uU(204,"|"),e._UZ(205,"br"),e._uU(206,"|"),e._UZ(207,"br"),e._uU(208,"|"),e._UZ(209,"br"),e._uU(210,"|"),e._UZ(211,"br"),e._uU(212,"|"),e._UZ(213,"br"),e._uU(214,"|"),e.qZA(),e.TgZ(215,"th"),e._uU(216,"Plosive"),e.qZA(),e.TgZ(217,"th"),e._uU(218,"|"),e.qZA(),e.TgZ(219,"th",11)(220,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(221,"th"),e._uU(222,"|"),e.qZA(),e._UZ(223,"th",11),e.TgZ(224,"th"),e._uU(225,"|"),e.qZA(),e.TgZ(226,"th",22)(227,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(228,"th"),e._uU(229,"|"),e.qZA(),e.TgZ(230,"th",11)(231,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(232,"th"),e._uU(233,"|"),e.qZA(),e.TgZ(234,"th",11)(235,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(236,"th"),e._uU(237,"|"),e.qZA(),e.TgZ(238,"th",11)(239,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(240,"th"),e._uU(241,"|"),e.qZA(),e.TgZ(242,"th",11)(243,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(244,"th"),e._uU(245,"|"),e.qZA(),e.TgZ(246,"th",11)(247,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(248,"th"),e._uU(249,"|"),e.qZA()(),e.TgZ(250,"tr"),e._UZ(251,"th",19),e.TgZ(252,"th"),e._uU(253,"+"),e.qZA(),e._UZ(254,"th",13),e.TgZ(255,"th"),e._uU(256,"+"),e.qZA(),e._UZ(257,"th",11),e.TgZ(258,"th"),e._uU(259,"+"),e.qZA(),e._UZ(260,"th",13),e.TgZ(261,"th"),e._uU(262,"+"),e.qZA(),e._UZ(263,"th",13),e.TgZ(264,"th"),e._uU(265,"+"),e.qZA(),e._UZ(266,"th",13),e.TgZ(267,"th"),e._uU(268,"+"),e.qZA(),e._UZ(269,"th",13),e.TgZ(270,"th"),e._uU(271,"+"),e.qZA(),e._UZ(272,"th",13),e.TgZ(273,"th"),e._uU(274,"+"),e.qZA(),e._UZ(275,"th",13),e.TgZ(276,"th"),e._uU(277,"+"),e.qZA(),e._UZ(278,"th",13),e.TgZ(279,"th"),e._uU(280,"+"),e.qZA(),e._UZ(281,"th",13),e.TgZ(282,"th"),e._uU(283,"+"),e.qZA()(),e.TgZ(284,"tr")(285,"th"),e._uU(286,"Affricate"),e.qZA(),e.TgZ(287,"th"),e._uU(288,"|"),e.qZA(),e._UZ(289,"th",8),e.TgZ(290,"th"),e._uU(291,"|"),e.qZA(),e.TgZ(292,"th",11)(293,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(294,"th"),e._uU(295,"|"),e.qZA(),e.TgZ(296,"th",11)(297,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(298,"th"),e._uU(299,"|"),e.qZA(),e.TgZ(300,"th",11)(301,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(302,"th"),e._uU(303,"|"),e.qZA(),e.TgZ(304,"th",11)(305,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(306,"th"),e._uU(307,"|"),e.qZA(),e._UZ(308,"th",11),e.TgZ(309,"th"),e._uU(310,"|"),e.qZA(),e.TgZ(311,"th",11)(312,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(313,"th"),e._uU(314,"|"),e.qZA(),e.TgZ(315,"th",11)(316,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(317,"th"),e._uU(318,"|"),e.qZA(),e._UZ(319,"th",11),e.TgZ(320,"th"),e._uU(321,"|"),e.qZA()(),e.TgZ(322,"tr"),e._UZ(323,"th",19),e.TgZ(324,"th"),e._uU(325,"+"),e.qZA(),e._UZ(326,"th",13),e.TgZ(327,"th"),e._uU(328,"+"),e.qZA(),e._UZ(329,"th",13),e.TgZ(330,"th"),e._uU(331,"+"),e.qZA(),e._UZ(332,"th",13),e.TgZ(333,"th"),e._uU(334,"+"),e.qZA(),e._UZ(335,"th",13),e.TgZ(336,"th"),e._uU(337,"+"),e.qZA(),e._UZ(338,"th",13),e.TgZ(339,"th"),e._uU(340,"+"),e.qZA(),e._UZ(341,"th",13),e.TgZ(342,"th"),e._uU(343,"+"),e.qZA(),e._UZ(344,"th",13),e.TgZ(345,"th"),e._uU(346,"+"),e.qZA(),e._UZ(347,"th",13),e.TgZ(348,"th"),e._uU(349,"+"),e.qZA(),e._UZ(350,"th",13),e.TgZ(351,"th"),e._uU(352,"+"),e.qZA(),e._UZ(353,"th",11),e.TgZ(354,"th"),e._uU(355,"|"),e.qZA()(),e.TgZ(356,"tr")(357,"th"),e._uU(358,"Fricative"),e.qZA(),e.TgZ(359,"th"),e._uU(360,"|"),e.qZA(),e.TgZ(361,"th",11)(362,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(363,"th"),e._uU(364,"|"),e.qZA(),e.TgZ(365,"th",11)(366,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(367,"th"),e._uU(368,"|"),e.qZA(),e.TgZ(369,"th",11)(370,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(371,"th"),e._uU(372,"|"),e.qZA(),e.TgZ(373,"th",11)(374,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(375,"th"),e._uU(376,"|"),e.qZA(),e.TgZ(377,"th",11)(378,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(379,"th"),e._uU(380,"|"),e.qZA(),e.TgZ(381,"th",11)(382,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(383,"th"),e._uU(384,"|"),e.qZA(),e.TgZ(385,"th",11)(386,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(387,"th"),e._uU(388,"|"),e.qZA(),e.TgZ(389,"th",11)(390,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(391,"th"),e._uU(392,"|"),e.qZA(),e.TgZ(393,"th",11)(394,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(395,"th"),e._uU(396,"|"),e.qZA(),e._UZ(397,"th",11),e.TgZ(398,"th"),e._uU(399,"|"),e.qZA()(),e.TgZ(400,"tr"),e._UZ(401,"th",19),e.TgZ(402,"th"),e._uU(403,"+"),e.qZA(),e._UZ(404,"th",13),e.TgZ(405,"th"),e._uU(406,"+"),e.qZA(),e._UZ(407,"th",13),e.TgZ(408,"th"),e._uU(409,"+"),e.qZA(),e._UZ(410,"th",13),e.TgZ(411,"th"),e._uU(412,"+"),e.qZA(),e._UZ(413,"th",13),e.TgZ(414,"th"),e._uU(415,"+"),e.qZA(),e._UZ(416,"th",13),e.TgZ(417,"th"),e._uU(418,"+"),e.qZA(),e._UZ(419,"th",13),e.TgZ(420,"th"),e._uU(421,"+"),e.qZA(),e._UZ(422,"th",13),e.TgZ(423,"th"),e._uU(424,"+"),e.qZA(),e._UZ(425,"th",13),e.TgZ(426,"th"),e._uU(427,"+"),e.qZA(),e._UZ(428,"th",13),e.TgZ(429,"th"),e._uU(430,"+"),e.qZA(),e._UZ(431,"th",11),e.TgZ(432,"th"),e._uU(433,"|"),e.qZA()(),e.TgZ(434,"tr")(435,"th"),e._uU(436,"Lateral affr."),e.qZA(),e.TgZ(437,"th"),e._uU(438,"|"),e.qZA(),e._UZ(439,"th",8),e.TgZ(440,"th"),e._uU(441,"|"),e.qZA(),e.TgZ(442,"th",22)(443,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(444,"th"),e._uU(445,"|"),e.qZA(),e._UZ(446,"th",11),e.TgZ(447,"th"),e._uU(448,"|"),e.qZA(),e.TgZ(449,"th",11)(450,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(451,"th"),e._uU(452,"|"),e.qZA(),e.TgZ(453,"th",11)(454,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(455,"th"),e._uU(456,"|"),e.qZA(),e._UZ(457,"th",8),e.TgZ(458,"th"),e._uU(459,"|"),e.qZA()(),e.TgZ(460,"tr"),e._UZ(461,"th",19),e.TgZ(462,"th"),e._uU(463,"+"),e.qZA(),e._UZ(464,"th",8),e.TgZ(465,"th"),e._uU(466,"+"),e.qZA(),e._UZ(467,"th",23),e.TgZ(468,"th"),e._uU(469,"+"),e.qZA(),e._UZ(470,"th",11),e.TgZ(471,"th"),e._uU(472,"+"),e.qZA(),e._UZ(473,"th",13),e.TgZ(474,"th"),e._uU(475,"+"),e.qZA(),e._UZ(476,"th",13),e.TgZ(477,"th"),e._uU(478,"+"),e.qZA(),e._UZ(479,"th",8),e.TgZ(480,"th"),e._uU(481,"|"),e.qZA()(),e.TgZ(482,"tr")(483,"th"),e._uU(484,"Lateral fric."),e.qZA(),e.TgZ(485,"th"),e._uU(486,"|"),e.qZA(),e._UZ(487,"th",8),e.TgZ(488,"th"),e._uU(489,"|"),e.qZA(),e.TgZ(490,"th",22)(491,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(492,"th"),e._uU(493,"|"),e.qZA(),e._UZ(494,"th",24),e.TgZ(495,"th"),e._uU(496,"|"),e.qZA()(),e.TgZ(497,"tr"),e._UZ(498,"th",19),e.TgZ(499,"th"),e._uU(500,"+"),e.qZA(),e._UZ(501,"th",19),e.TgZ(502,"th"),e._uU(503,"+"),e.qZA(),e._UZ(504,"th",25),e.TgZ(505,"th"),e._uU(506,"+"),e.qZA(),e._UZ(507,"th",13),e.TgZ(508,"th"),e._uU(509,"+"),e.qZA(),e._UZ(510,"th",25),e.TgZ(511,"th"),e._uU(512,"+"),e.qZA(),e._UZ(513,"th",13),e.TgZ(514,"th"),e._uU(515,"+"),e.qZA(),e._UZ(516,"th",13),e.TgZ(517,"th"),e._uU(518,"+"),e.qZA(),e._UZ(519,"th",22),e.TgZ(520,"th"),e._uU(521,"|"),e.qZA()(),e.TgZ(522,"tr")(523,"th",26),e._uU(524,"Click"),e.qZA(),e.TgZ(525,"th",26),e._uU(526,"|"),e._UZ(527,"br"),e._uU(528,"|"),e._UZ(529,"br"),e._uU(530,"|"),e._UZ(531,"br"),e._uU(532,"|"),e._UZ(533,"br"),e._uU(534,"|"),e._UZ(535,"br"),e._uU(536,"|"),e._UZ(537,"br"),e._uU(538,"|"),e._UZ(539,"br"),e._uU(540,"|"),e._UZ(541,"br"),e._uU(542,"|"),e._UZ(543,"br"),e._uU(544,"|"),e._UZ(545,"br"),e._uU(546,"|"),e._UZ(547,"br"),e._uU(548,"|"),e._UZ(549,"br"),e._uU(550,"|"),e.qZA(),e.TgZ(551,"th"),e._uU(552,"Tenuis"),e.qZA(),e.TgZ(553,"th"),e._uU(554,"|"),e.qZA(),e.TgZ(555,"th",11)(556,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(557,"th"),e.TgZ(558,"th",11)(559,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(560,"th"),e._uU(561,"|"),e.qZA(),e.TgZ(562,"th")(563,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(564,"th")(565,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(566,"th"),e._uU(567,"|"),e.qZA(),e.TgZ(568,"th",11)(569,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(570,"th"),e.TgZ(571,"th",11)(572,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(573,"th"),e._uU(574,"|"),e.qZA(),e.TgZ(575,"th")(576,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(577,"th")(578,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(579,"th"),e._uU(580,"|"),e.qZA(),e.TgZ(581,"th")(582,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(583,"th")(584,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(585,"th"),e._uU(586,"|"),e.qZA(),e._UZ(587,"th",22),e.TgZ(588,"th"),e._uU(589,"|"),e.qZA()(),e.TgZ(590,"tr"),e._UZ(591,"th",19),e.TgZ(592,"th"),e._uU(593,"+"),e.qZA(),e._UZ(594,"th",25),e.TgZ(595,"th"),e._uU(596,"+"),e.qZA(),e._UZ(597,"th",13),e.TgZ(598,"th"),e._uU(599,"+"),e.qZA(),e._UZ(600,"th",25),e.TgZ(601,"th"),e._uU(602,"+"),e.qZA(),e._UZ(603,"th",13),e.TgZ(604,"th"),e._uU(605,"+"),e.qZA(),e._UZ(606,"th",13),e.TgZ(607,"th"),e._uU(608,"+"),e.qZA(),e._UZ(609,"th",22),e.TgZ(610,"th"),e._uU(611,"|"),e.qZA()(),e.TgZ(612,"tr")(613,"th"),e._uU(614,"Voiced"),e.qZA(),e.TgZ(615,"th"),e._uU(616,"|"),e.qZA(),e.TgZ(617,"th",11)(618,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(619,"th"),e.TgZ(620,"th",11)(621,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(622,"th"),e._uU(623,"|"),e.qZA(),e.TgZ(624,"th")(625,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(626,"th")(627,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(628,"th"),e._uU(629,"|"),e.qZA(),e.TgZ(630,"th",11)(631,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(632,"th"),e.TgZ(633,"th",11)(634,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(635,"th"),e._uU(636,"|"),e.qZA(),e.TgZ(637,"th")(638,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(639,"th")(640,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(641,"th"),e._uU(642,"|"),e.qZA(),e.TgZ(643,"th")(644,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(645,"th")(646,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(647,"th"),e._uU(648,"|"),e.qZA(),e._UZ(649,"th",22),e.TgZ(650,"th"),e._uU(651,"|"),e.qZA()(),e.TgZ(652,"tr"),e._UZ(653,"th",19),e.TgZ(654,"th"),e._uU(655,"+"),e.qZA(),e._UZ(656,"th",25),e.TgZ(657,"th"),e._uU(658,"+"),e.qZA(),e._UZ(659,"th",13),e.TgZ(660,"th"),e._uU(661,"+"),e.qZA(),e._UZ(662,"th",25),e.TgZ(663,"th"),e._uU(664,"+"),e.qZA(),e._UZ(665,"th",13),e.TgZ(666,"th"),e._uU(667,"+"),e.qZA(),e._UZ(668,"th",13),e.TgZ(669,"th"),e._uU(670,"+"),e.qZA(),e._UZ(671,"th",13),e.TgZ(672,"th"),e._uU(673,"+"),e.qZA(),e._UZ(674,"th",8),e.TgZ(675,"th"),e._uU(676,"|"),e.qZA()(),e.TgZ(677,"tr")(678,"th"),e._uU(679,"Nasal"),e.qZA(),e.TgZ(680,"th"),e._uU(681,"|"),e.qZA(),e.TgZ(682,"th",11)(683,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(684,"th"),e.TgZ(685,"th",11)(686,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(687,"th"),e._uU(688,"|"),e.qZA(),e.TgZ(689,"th")(690,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(691,"th")(692,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(693,"th"),e._uU(694,"|"),e.qZA(),e.TgZ(695,"th",11)(696,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(697,"th"),e.TgZ(698,"th",11)(699,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(700,"th"),e._uU(701,"|"),e.qZA(),e.TgZ(702,"th")(703,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(704,"th")(705,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(706,"th"),e._uU(707,"|"),e.qZA(),e.TgZ(708,"th")(709,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(710,"th")(711,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(712,"th"),e._uU(713,"|"),e.qZA(),e.TgZ(714,"th",11)(715,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(716,"th"),e._uU(717,"|"),e.qZA(),e._UZ(718,"th",8),e.TgZ(719,"th"),e._uU(720,"|"),e.qZA()(),e.TgZ(721,"tr"),e._UZ(722,"th",19),e.TgZ(723,"th"),e._uU(724,"+"),e.qZA(),e._UZ(725,"th",25),e.TgZ(726,"th"),e._uU(727,"+"),e.qZA(),e._UZ(728,"th",13),e.TgZ(729,"th"),e._uU(730,"+"),e.qZA(),e._UZ(731,"th",25),e.TgZ(732,"th"),e._uU(733,"+"),e.qZA(),e._UZ(734,"th",13),e.TgZ(735,"th"),e._uU(736,"+"),e.qZA(),e._UZ(737,"th",13),e.TgZ(738,"th"),e._uU(739,"+"),e.qZA(),e._UZ(740,"th",13),e.TgZ(741,"th"),e._uU(742,"+"),e.qZA(),e._UZ(743,"th",8),e.TgZ(744,"th"),e._uU(745,"|"),e.qZA()(),e.TgZ(746,"tr")(747,"th"),e._uU(748,"Tenuis ltrl"),e.qZA(),e.TgZ(749,"th"),e._uU(750,"|"),e.qZA(),e._UZ(751,"th",8),e.TgZ(752,"th"),e._uU(753,"|"),e.qZA(),e._UZ(754,"th"),e.TgZ(755,"th",12)(756,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(757,"th",12)(758,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(759,"th"),e.TgZ(760,"th"),e._uU(761,"|"),e.qZA(),e._UZ(762,"th",24),e.TgZ(763,"th"),e._uU(764,"|"),e.qZA()(),e.TgZ(765,"tr"),e._UZ(766,"th",19),e.TgZ(767,"th"),e._uU(768,"+"),e.qZA(),e._UZ(769,"th",8),e.TgZ(770,"th"),e._uU(771,"+"),e.qZA(),e._UZ(772,"th",23),e.TgZ(773,"th"),e._uU(774,"+"),e.qZA(),e._UZ(775,"th",24),e.TgZ(776,"th"),e._uU(777,"|"),e.qZA()(),e.TgZ(778,"tr")(779,"th"),e._uU(780,"Voiced ltrl"),e.qZA(),e.TgZ(781,"th"),e._uU(782,"|"),e.qZA(),e._UZ(783,"th",8),e.TgZ(784,"th"),e._uU(785,"|"),e.qZA(),e._UZ(786,"th"),e.TgZ(787,"th",12)(788,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(789,"th",12)(790,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(791,"th"),e.TgZ(792,"th"),e._uU(793,"|"),e.qZA(),e._UZ(794,"th",24),e.TgZ(795,"th"),e._uU(796,"|"),e.qZA()(),e.TgZ(797,"tr"),e._UZ(798,"th",19),e.TgZ(799,"th"),e._uU(800,"+"),e.qZA(),e._UZ(801,"th",8),e.TgZ(802,"th"),e._uU(803,"+"),e.qZA(),e._UZ(804,"th",23),e.TgZ(805,"th"),e._uU(806,"+"),e.qZA(),e._UZ(807,"th",24),e.TgZ(808,"th"),e._uU(809,"|"),e.qZA()(),e.TgZ(810,"tr")(811,"th"),e._uU(812,"Nasal ltrl"),e.qZA(),e.TgZ(813,"th"),e._uU(814,"|"),e.qZA(),e._UZ(815,"th",8),e.TgZ(816,"th"),e._uU(817,"|"),e.qZA(),e._UZ(818,"th"),e.TgZ(819,"th",12)(820,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(821,"th",12)(822,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(823,"th"),e.TgZ(824,"th"),e._uU(825,"|"),e.qZA(),e._UZ(826,"th",24),e.TgZ(827,"th"),e._uU(828,"|"),e.qZA()(),e.TgZ(829,"tr"),e._UZ(830,"th",19),e.TgZ(831,"th"),e._uU(832,"+"),e.qZA(),e._UZ(833,"th",19),e.TgZ(834,"th"),e._uU(835,"+"),e.qZA(),e._UZ(836,"th",13),e.TgZ(837,"th"),e._uU(838,"+"),e.qZA(),e._UZ(839,"th",11),e.TgZ(840,"th"),e._uU(841,"+"),e.qZA(),e._UZ(842,"th",23),e.TgZ(843,"th"),e._uU(844,"+"),e.qZA(),e._UZ(845,"th",13),e.TgZ(846,"th"),e._uU(847,"+"),e.qZA(),e._UZ(848,"th",13),e.TgZ(849,"th"),e._uU(850,"+"),e.qZA(),e._UZ(851,"th",13),e.TgZ(852,"th"),e._uU(853,"+"),e.qZA(),e._UZ(854,"th",13),e.TgZ(855,"th"),e._uU(856,"+"),e.qZA(),e._UZ(857,"th",11),e.TgZ(858,"th"),e._uU(859,"|"),e.qZA()(),e.TgZ(860,"tr")(861,"th",12),e._uU(862,"Implosive"),e.qZA(),e.TgZ(863,"th"),e._uU(864,"|"),e.qZA(),e.TgZ(865,"th")(866,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(867,"th")(868,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(869,"th"),e._uU(870,"|"),e.qZA(),e._UZ(871,"th",11),e.TgZ(872,"th"),e._uU(873,"|"),e.qZA(),e._UZ(874,"th"),e.TgZ(875,"th",12)(876,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(877,"th",12)(878,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e._UZ(879,"th"),e.TgZ(880,"th"),e._uU(881,"|"),e.qZA(),e.TgZ(882,"th")(883,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(884,"th")(885,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(886,"th"),e._uU(887,"|"),e.qZA(),e.TgZ(888,"th")(889,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(890,"th")(891,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(892,"th"),e._uU(893,"|"),e.qZA(),e.TgZ(894,"th")(895,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(896,"th")(897,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(898,"th"),e._uU(899,"|"),e.qZA(),e.TgZ(900,"th")(901,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(902,"th")(903,"app-phonetic-btn",21),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()(),e.TgZ(904,"th"),e._uU(905,"|"),e.qZA(),e._UZ(906,"th",11),e.TgZ(907,"th"),e._uU(908,"|"),e.qZA()(),e.TgZ(909,"tr"),e._UZ(910,"th",27),e.TgZ(911,"th"),e._uU(912,"+"),e.qZA()()()()),2&t&&(e.xp6(220),e.Q6J("languageSounds",o.languageSounds)("phonetic","p\u02bc"),e.xp6(7),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0288\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","c\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u02a1\u02bc"),e.xp6(46),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u032a\u0361\u03b8\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u0361s\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u0320\u0361\u0283\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0288\u0361\u0282\u02bc"),e.xp6(7),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u0361x\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u0361\u03c7\u02bc"),e.xp6(46),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0278\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","f\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u03b8\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","s\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0283\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0282\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0255\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","x\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u03c7\u02bc"),e.xp6(49),e.Q6J("languageSounds",o.languageSounds)("phonetic","t\u0361\u026c\u02bc"),e.xp6(7),e.Q6J("languageSounds",o.languageSounds)("phonetic","c\u0361\u028e\u031d\u030a\u02bc"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u0361\u029f\u031d\u030a\u02bc"),e.xp6(37),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u026c\u02bc"),e.xp6(65),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u0298"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u0298"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u01c0"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u01c0"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u01c3"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u01c3"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u203c"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u203c"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u01c2"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u01c2"),e.xp6(34),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u0298"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u0298"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u01c0"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u01c0"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u01c3"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u01c3"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u203c"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u203c"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u01c2"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u01c2"),e.xp6(37),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u0298"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u0298"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u01c0"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u01c0"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u01c3"),e.xp6(3),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u01c3"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u203c"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u203c"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u01c2"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u01c2"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u029e"),e.xp6(41),e.Q6J("languageSounds",o.languageSounds)("phonetic","k\u01c1"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","q\u01c1"),e.xp6(30),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0261\u01c1"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0262\u01c1"),e.xp6(30),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u014b\u01c1"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0274\u01c1"),e.xp6(44),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0253\u0325"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0253"),e.xp6(8),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0257\u0325\u0325"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0257"),e.xp6(5),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u1d91\u030a"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u1d91"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0284\u030a"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0284"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0260\u030a"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u0260"),e.xp6(4),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u029b\u0325"),e.xp6(2),e.Q6J("languageSounds",o.languageSounds)("phonetic","\u029b"))},dependencies:[Jn,cd]}),r})(),ty=(()=>{class r{constructor(t){this.languagesService=t}ngOnInit(){this.reloadLanguage()}ngOnChanges(t){t.selectedLanguage&&t.selectedLanguage.currentValue&&this.reloadLanguage()}clicked(t){var o,i,u,d;if(console.log("clicked",t),this.languageSounds&&this.languageSounds.langId){const g=null===(i=null===(o=this.languageSounds)||void 0===o?void 0:o.selectedMainPhonemes)||void 0===i?void 0:i.find(v=>v.phoneme===t);if(g&&g.id)this.languagesService.deleteLanguagePhoneme({phonemeId:g.id}).subscribe(()=>{var v,w;this.languageSounds&&(this.languageSounds.selectedMainPhonemes=null===(w=null===(v=this.languageSounds)||void 0===v?void 0:v.selectedMainPhonemes)||void 0===w?void 0:w.filter(S=>S.id!==g.id))});else{const v=null===(d=null===(u=this.languageSounds)||void 0===u?void 0:u.selectedRestPhonemes)||void 0===d?void 0:d.find(w=>w.phoneme===t);v&&v.id?this.languagesService.deleteLanguagePhoneme({phonemeId:v.id}).subscribe(()=>{var w,S;this.languageSounds&&(this.languageSounds.selectedRestPhonemes=null===(S=null===(w=this.languageSounds)||void 0===w?void 0:w.selectedRestPhonemes)||void 0===S?void 0:S.filter(Z=>Z.id!==v.id))}):this.languagesService.saveLanguagePhoneme({body:t,languageId:this.languageSounds.langId}).subscribe(w=>{var S,Z;null===(Z=null===(S=this.languageSounds)||void 0===S?void 0:S.selectedMainPhonemes)||void 0===Z||Z.push(w)})}}}reloadLanguage(){var t;this.languageSounds=void 0,this.selectedLanguage&&this.selectedLanguage.id&&this.languagesService.getLanguagePhonemes({languageId:null===(t=this.selectedLanguage)||void 0===t?void 0:t.id}).subscribe(o=>{this.languageSounds=o})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Co))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-phonetics"]],inputs:{selectedLanguage:"selectedLanguage"},features:[e.TTD],decls:4,vars:4,consts:[[3,"languageSounds","onClick"]],template:function(t,o){1&t&&(e.TgZ(0,"app-pulmonic-consonants",0),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e.TgZ(1,"app-vowels",0),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e.TgZ(2,"app-non-pulmonic-consonants",0),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA(),e.TgZ(3,"app-other-phonemes",0),e.NdJ("onClick",function(u){return o.clicked(u)}),e.qZA()),2&t&&(e.Q6J("languageSounds",o.languageSounds),e.xp6(1),e.Q6J("languageSounds",o.languageSounds),e.xp6(1),e.Q6J("languageSounds",o.languageSounds),e.xp6(1),e.Q6J("languageSounds",o.languageSounds))},dependencies:[TA,og,L1,F1]}),r})();var ql=(()=>{return(r=ql||(ql={})).SoundChange="SOUND_CHANGE",r.WritingSystem="WRITING_SYSTEM",ql;var r})();let q1=(()=>{class r{constructor(t){this.editMode=!1,this.soundChangesRaw="",this.soundChanges=[],this.soundChangePurpose=t,this.refresh()}ngOnInit(){this.refresh()}soundChangesChanges(t){this.soundChanges=t}soundChangesRawChange(){}cancelSoundChanges(){this.editMode=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ql))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],features:[e.TTD],decls:0,vars:0,template:function(t,o){},encapsulation:2}),r})(),$a=(()=>{class r extends sd{constructor(t,o){super(t,o)}getAllLanguagesFrom$Response(t){const o=new Nt(this.rootUrl,r.GetAllLanguagesFromPath,"get");return t&&o.path("fromId",t.fromId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getAllLanguagesFrom(t){return this.getAllLanguagesFrom$Response(t).pipe((0,se.U)(o=>o.body))}getConnectionFromLang$Response(t){const o=new Nt(this.rootUrl,r.GetConnectionFromLangPath,"get");return t&&o.path("fromLangId",t.fromLangId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getConnectionFromLang(t){return this.getConnectionFromLang$Response(t).pipe((0,se.U)(o=>o.body))}getConnectionByLangs$Response(t){const o=new Nt(this.rootUrl,r.GetConnectionByLangsPath,"get");return t&&(o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{})),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getConnectionByLangs(t){return this.getConnectionByLangs$Response(t).pipe((0,se.U)(o=>o.body))}updateConnectionByLangs$Response(t){const o=new Nt(this.rootUrl,r.UpdateConnectionByLangsPath,"post");return t&&(o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i.clone({body:void 0})))}updateConnectionByLangs(t){return this.updateConnectionByLangs$Response(t).pipe((0,se.U)(o=>o.body))}deleteConnectionByLangs$Response(t){const o=new Nt(this.rootUrl,r.DeleteConnectionByLangsPath,"delete");return t&&(o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{})),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i.clone({body:void 0})))}deleteConnectionByLangs(t){return this.deleteConnectionByLangs$Response(t).pipe((0,se.U)(o=>o.body))}getLanguageGraph$Response(t){const o=new Nt(this.rootUrl,r.GetLanguageGraphPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getLanguageGraph(t){return this.getLanguageGraph$Response(t).pipe((0,se.U)(o=>o.body))}getAllRoutes$Response(t){const o=new Nt(this.rootUrl,r.GetAllRoutesPath,"get");return t&&(o.path("fromId",t.fromId,{}),o.path("toId",t.toId,{})),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getAllRoutes(t){return this.getAllRoutes$Response(t).pipe((0,se.U)(o=>o.body))}getSoundChangesByLang$Response(t){const o=new Nt(this.rootUrl,r.GetSoundChangesByLangPath,"get");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{})),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getSoundChangesByLang(t){return this.getSoundChangesByLang$Response(t).pipe((0,se.U)(o=>o.body))}getSoundChangesByLangs$Response(t){const o=new Nt(this.rootUrl,r.GetSoundChangesByLangsPath,"get");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{})),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getSoundChangesByLangs(t){return this.getSoundChangesByLangs$Response(t).pipe((0,se.U)(o=>o.body))}getSoundChangesRawLinesByLang$Response(t){const o=new Nt(this.rootUrl,r.GetSoundChangesRawLinesByLangPath,"get");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{})),this.http.request(o.build({responseType:"text",accept:"text/plain"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getSoundChangesRawLinesByLang(t){return this.getSoundChangesRawLinesByLang$Response(t).pipe((0,se.U)(o=>o.body))}saveSoundChangesRawLinesByLang$Response(t){const o=new Nt(this.rootUrl,r.SaveSoundChangesRawLinesByLangPath,"post");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i.clone({body:void 0})))}saveSoundChangesRawLinesByLang(t){return this.saveSoundChangesRawLinesByLang$Response(t).pipe((0,se.U)(o=>o.body))}getSoundChangesRawLinesByLangs$Response(t){const o=new Nt(this.rootUrl,r.GetSoundChangesRawLinesByLangsPath,"get");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{})),this.http.request(o.build({responseType:"text",accept:"text/plain"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getSoundChangesRawLinesByLangs(t){return this.getSoundChangesRawLinesByLangs$Response(t).pipe((0,se.U)(o=>o.body))}saveSoundChangesRawLinesByLangs$Response(t){const o=new Nt(this.rootUrl,r.SaveSoundChangesRawLinesByLangsPath,"post");return t&&(o.path("soundChangePurpose",t.soundChangePurpose,{}),o.path("fromLangId",t.fromLangId,{}),o.path("toLangId",t.toLangId,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i.clone({body:void 0})))}saveSoundChangesRawLinesByLangs(t){return this.saveSoundChangesRawLinesByLangs$Response(t).pipe((0,se.U)(o=>o.body))}getSoundChangeRaw$Response(t){const o=new Nt(this.rootUrl,r.GetSoundChangeRawPath,"get");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"text/plain"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getSoundChangeRaw(t){return this.getSoundChangeRaw$Response(t).pipe((0,se.U)(o=>o.body))}updateSoundChange$Response(t){const o=new Nt(this.rootUrl,r.UpdateSoundChangePath,"post");return t&&(o.path("id",t.id,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i.clone({body:void 0})))}updateSoundChange(t){return this.updateSoundChange$Response(t).pipe((0,se.U)(o=>o.body))}getSoundChange$Response(t){const o=new Nt(this.rootUrl,r.GetSoundChangePath,"get");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getSoundChange(t){return this.getSoundChange$Response(t).pipe((0,se.U)(o=>o.body))}deleteSoundChange$Response(t){const o=new Nt(this.rootUrl,r.DeleteSoundChangePath,"delete");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i.clone({body:void 0})))}deleteSoundChange(t){return this.deleteSoundChange$Response(t).pipe((0,se.U)(o=>o.body))}trace$Response(t){const o=new Nt(this.rootUrl,r.TracePath,"post");return t&&(o.path("word",t.word,{}),o.body(t.body,"application/json")),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}trace(t){return this.trace$Response(t).pipe((0,se.U)(o=>o.body))}getAllWordsWithEvolutions$Response(t){const o=new Nt(this.rootUrl,r.GetAllWordsWithEvolutionsPath,"get");return t&&o.query("filter",t.filter,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getAllWordsWithEvolutions(t){return this.getAllWordsWithEvolutions$Response(t).pipe((0,se.U)(o=>o.body))}addEvolvedWord$Response(t){const o=new Nt(this.rootUrl,r.AddEvolvedWordPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}addEvolvedWord(t){return this.addEvolvedWord$Response(t).pipe((0,se.U)(o=>o.body))}addEvolvedWord1$Response(t){const o=new Nt(this.rootUrl,r.AddEvolvedWord1Path,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}addEvolvedWord1(t){return this.addEvolvedWord1$Response(t).pipe((0,se.U)(o=>o.body))}}return r.GetAllLanguagesFromPath="/api/evolve/allfrom/{fromId}",r.GetConnectionFromLangPath="/api/evolve/connection/{fromLangId}",r.GetConnectionByLangsPath="/api/evolve/connection/{fromLangId}/{toLangId}",r.UpdateConnectionByLangsPath="/api/evolve/connection/{fromLangId}/{toLangId}",r.DeleteConnectionByLangsPath="/api/evolve/connection/{fromLangId}/{toLangId}",r.GetLanguageGraphPath="/api/evolve/graph",r.GetAllRoutesPath="/api/evolve/routes/{fromId}/{toId}",r.GetSoundChangesByLangPath="/api/evolve/sc/lang/{soundChangePurpose}/{fromLangId}",r.GetSoundChangesByLangsPath="/api/evolve/sc/lang/{soundChangePurpose}/{fromLangId}/{toLangId}",r.GetSoundChangesRawLinesByLangPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}",r.SaveSoundChangesRawLinesByLangPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}",r.GetSoundChangesRawLinesByLangsPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}/{toLangId}",r.SaveSoundChangesRawLinesByLangsPath="/api/evolve/sc/raw/lang/{soundChangePurpose}/{fromLangId}/{toLangId}",r.GetSoundChangeRawPath="/api/evolve/sc/raw/{id}",r.UpdateSoundChangePath="/api/evolve/sc/raw/{id}",r.GetSoundChangePath="/api/evolve/sc/{id}",r.DeleteSoundChangePath="/api/evolve/sc/{id}",r.TracePath="/api/evolve/trace/{word}",r.GetAllWordsWithEvolutionsPath="/api/evolve/words",r.AddEvolvedWordPath="/api/evolve/words/evolve",r.AddEvolvedWord1Path="/api/evolve/words/evolve/all",r.\u0275fac=function(t){return new(t||r)(e.LFG(Ba),e.LFG(Va))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const V1=["app-sound-changes-table-row",""];function B1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,">"),e.qZA())}function j1(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"\xbb"),e.qZA())}function wA(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"\xab"),e.qZA())}function bA(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th",2),e._uU(2),e.qZA(),e.TgZ(3,"th",0),e.YNc(4,B1,2,0,"span",1),e.YNc(5,j1,2,0,"span",1),e.YNc(6,wA,2,0,"span",1),e.qZA(),e.TgZ(7,"th",2),e._uU(8),e.qZA(),e.TgZ(9,"th",0),e._uU(10),e.qZA(),e.TgZ(11,"th",3),e._uU(12),e.qZA(),e.TgZ(13,"th",0),e._uU(14),e.qZA(),e.TgZ(15,"th",4),e._uU(16),e.qZA(),e.TgZ(17,"th",0),e._uU(18,"|"),e.qZA(),e.TgZ(19,"th",0)(20,"a",5),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editSoundChange())}),e._uU(21,"e"),e.qZA()(),e.TgZ(22,"th",0),e._uU(23,"|"),e.qZA(),e.TgZ(24,"th",0)(25,"a",6),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteSoundChanges())}),e._uU(26,"x"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(2),e.Oqu(t.soundChange.soundFrom),e.xp6(2),e.Q6J("ngIf","REPLACE_ALL"==t.soundChange.type),e.xp6(1),e.Q6J("ngIf","REPLACE_FIRST"==t.soundChange.type),e.xp6(1),e.Q6J("ngIf","REPLACE_LAST"==t.soundChange.type),e.xp6(2),e.Oqu(t.soundChange.soundTo),e.xp6(2),e.Oqu(t.soundChange.environmentAfter||t.soundChange.environmentBefore?"/":""),e.xp6(2),e.Oqu(t.soundChange.environmentBefore),e.xp6(2),e.Oqu(t.soundChange.environmentAfter||t.soundChange.environmentBefore?"_":""),e.xp6(2),e.Oqu(t.soundChange.environmentAfter)}}function AA(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th",7)(2,"input",8),e.NdJ("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.soundChangeRaw=i)}),e.qZA()(),e.TgZ(3,"th",0),e._uU(4,"|"),e.qZA(),e.TgZ(5,"th",0)(6,"a",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveSoundChange())}),e._uU(7,"s"),e.qZA()(),e.TgZ(8,"th",0),e._uU(9,"|"),e.qZA(),e.TgZ(10,"th",0)(11,"a",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelSoundChanges())}),e._uU(12,"x"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.soundChangeRaw)}}let $1=(()=>{class r{constructor(t){this.languagesEvolutionService=t,this.soundChangeDeleted=new e.vpe,this.editMode=!1}ngOnInit(){}editSoundChange(){console.log(this.soundChange),this.soundChange.id&&this.languagesEvolutionService.getSoundChangeRaw({id:this.soundChange.id}).subscribe(t=>{this.soundChangeRaw=t,this.editMode=!0})}deleteSoundChanges(){console.log(this.soundChange),this.soundChange.id&&this.languagesEvolutionService.deleteSoundChange({id:this.soundChange.id}).subscribe(()=>{console.log("deleted"),this.soundChangeDeleted.emit(this.soundChange)})}saveSoundChange(){if(this.soundChange.id&&this.soundChangeRaw){const t=this.soundChange.id;this.languagesEvolutionService.updateSoundChange({id:t,body:this.soundChangeRaw}).subscribe(()=>{console.log("saved"),this.languagesEvolutionService.getSoundChange({id:t}).subscribe(o=>{this.soundChange=o,this.editMode=!1})})}}cancelSoundChanges(){this.editMode=!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($a))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tr","app-sound-changes-table-row",""]],inputs:{soundChange:"soundChange"},outputs:{soundChangeDeleted:"soundChangeDeleted"},attrs:V1,decls:6,vars:2,consts:[[1,"border"],[4,"ngIf"],[1,"text-white","sound-change-text"],[1,"text-white","sound-change-before"],[1,"text-white","sound-change-after"],[1,"text-yellow-dull",3,"click"],[1,"text-red-dull",3,"click"],["colspan","7"],[3,"ngModel","ngModelChange"],[1,"text-green-dull",3,"click"],[1,"text-grey-dull",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"th",0),e._uU(1,"|"),e.qZA(),e.YNc(2,bA,27,9,"ng-container",1),e.YNc(3,AA,13,1,"ng-container",1),e.TgZ(4,"th",0),e._uU(5,"|"),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",!o.editMode),e.xp6(1),e.Q6J("ngIf",o.editMode))},dependencies:[Ut,jn,tr,Nn],styles:["input[_ngcontent-%COMP%]{width:calc(100% - 20px);border:none}.sound-change-text[_ngcontent-%COMP%]{width:1%;white-space:nowrap;padding-left:8px;padding-right:8px}.sound-change-before[_ngcontent-%COMP%]{width:1%;white-space:nowrap;padding-left:8px;text-align:right}.sound-change-after[_ngcontent-%COMP%]{text-align:left}"]}),r})();function ny(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr",6),e.NdJ("soundChangeDeleted",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.deleteSoundChange(i))}),e.qZA()}2&r&&e.Q6J("soundChange",n.$implicit)}function H1(r,n){1&r&&(e.TgZ(0,"tr")(1,"th",7),e._uU(2,"+"),e.qZA(),e._UZ(3,"th",8),e.TgZ(4,"th",7),e._uU(5,"+"),e.qZA(),e._UZ(6,"th",9),e.TgZ(7,"th",7),e._uU(8,"+"),e.qZA(),e._UZ(9,"th",9),e.TgZ(10,"th",7),e._uU(11,"+"),e.qZA()())}let ry=(()=>{class r{constructor(){this.soundChangesChanges=new e.vpe}ngOnInit(){}deleteSoundChange(t){console.log("deleteSoundChange",t),this.soundChanges=this.soundChanges.filter(o=>o.id!==t.id),this.soundChangesChanges.emit(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-sound-changes-table"]],inputs:{soundChanges:"soundChanges"},outputs:{soundChangesChanges:"soundChangesChanges"},decls:18,vars:2,consts:[["span","1",1,"border",2,"width","8px"],["span","1"],["span","1",2,"width","auto"],["span","1",2,"width","16px"],["class","table-content","app-sound-changes-table-row","",3,"soundChange","soundChangeDeleted",4,"ngFor","ngForOf"],[4,"ngIf"],["app-sound-changes-table-row","",1,"table-content",3,"soundChange","soundChangeDeleted"],[1,"border"],["app-horizontal-dash","","colspan","7",1,"border"],["app-horizontal-dash","",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0)(5,"col",1)(6,"col",0)(7,"col",1)(8,"col",0)(9,"col",2)(10,"col",0)(11,"col",3)(12,"col",0)(13,"col",3)(14,"col",0),e.qZA(),e.TgZ(15,"tbody"),e.YNc(16,ny,1,1,"tr",4),e.YNc(17,H1,12,0,"tr",5),e.qZA()()),2&t&&(e.xp6(16),e.Q6J("ngForOf",o.soundChanges),e.xp6(1),e.Q6J("ngIf",o.soundChanges.length))},dependencies:[gt,Ut,Jn,$1]}),r})(),oy=(()=>{class r{constructor(){this.soundChangesRawChange=new e.vpe,this.math=Math}ngOnInit(){}print(){console.log(this.soundChangesRaw)}soundChangesRawChangeFn(){this.soundChangesRawChange.emit(this.soundChangesRaw)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-sound-changes-edit"]],inputs:{soundChangesRaw:"soundChangesRaw"},outputs:{soundChangesRawChange:"soundChangesRawChange"},decls:18,vars:2,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["app-vertical-dash","",1,"border"],[2,"text-align","left"],[3,"rows","ngModel","ngModelChange"],[1,"border"],["app-horizontal-dash","",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0),e.qZA(),e.TgZ(5,"tbody")(6,"tr"),e._UZ(7,"th",2),e.TgZ(8,"th",3)(9,"textarea",4),e.NdJ("ngModelChange",function(u){return o.soundChangesRaw=u})("ngModelChange",function(){return o.soundChangesRawChangeFn()}),e.qZA()(),e.TgZ(10,"th",2),e._uU(11,"|"),e.qZA()(),e.TgZ(12,"tr")(13,"th",5),e._uU(14,"+"),e.qZA(),e._UZ(15,"th",6),e.TgZ(16,"th",5),e._uU(17,"+"),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("rows",o.math.min(30,110))("ngModel",o.soundChangesRaw))},dependencies:[jn,tr,Nn,Jn,ku],styles:["textarea[_ngcontent-%COMP%]{margin-top:8px;width:calc(100% - 16px)}"]}),r})();function G1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-table",8),e.NdJ("soundChangesChanges",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.soundChangesChanges)}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChanges",t.soundChanges)}}function J1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-edit",9),e.NdJ("soundChangesRawChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.soundChangesRaw=i)})("soundChangesRawChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.soundChangesRawChange())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChangesRaw",t.soundChangesRaw)}}function W1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",7),e._uU(1,"[ "),e.TgZ(2,"a",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"E"),e.qZA(),e._uU(5,"dit"),e.qZA(),e._uU(6," ]-"),e.qZA()}}function z1(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",7),e._uU(1,"[ "),e.TgZ(2,"a",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"S"),e.qZA(),e._uU(5,"ave"),e.qZA(),e._uU(6," ]-["),e.TgZ(7,"a",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelSoundChanges())}),e._uU(8," x "),e.qZA(),e._uU(9,"]-"),e.qZA()}}let Q1=(()=>{class r extends q1{constructor(t){super(ql.WritingSystem),this.languagesEvolutionService=t}ngOnChanges(t){t.selectedLanguage&&this.refresh()}refresh(){this.selectedLanguage&&this.selectedLanguage.id&&this.languagesEvolutionService.getSoundChangesByLang({fromLangId:this.selectedLanguage.id,soundChangePurpose:this.soundChangePurpose}).subscribe(t=>{this.soundChanges=t})}editSoundChanges(){this.selectedLanguage&&this.selectedLanguage.id&&this.languagesEvolutionService.getSoundChangesRawLinesByLang({fromLangId:this.selectedLanguage.id,soundChangePurpose:this.soundChangePurpose}).subscribe(t=>{this.soundChangesRaw=t,console.log("editSoundChanges soundChangesRaw",this.soundChangesRaw),this.editMode=!0})}saveSoundChanges(){this.selectedLanguage&&this.selectedLanguage.id&&this.languagesEvolutionService.saveSoundChangesRawLinesByLang({fromLangId:this.selectedLanguage.id,body:this.soundChangesRaw,soundChangePurpose:this.soundChangePurpose}).subscribe(()=>{this.editMode=!1,this.refresh()})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($a))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-writing"]],inputs:{selectedLanguage:"selectedLanguage"},features:[e.qOj,e.TTD],decls:14,vars:4,consts:[[3,"soundChanges","soundChangesChanges",4,"ngIf"],[3,"soundChangesRaw","soundChangesRawChange",4,"ngIf"],["span","1",2,"width","auto"],["span","1",1,"border",2,"width","max-content"],["span","1",1,"border",2,"width","8px"],["app-horizontal-dash","",1,"border"],["class","border",4,"ngIf"],[1,"border"],[3,"soundChanges","soundChangesChanges"],[3,"soundChangesRaw","soundChangesRawChange"],[1,"text-yellow-dull",3,"click"],[1,"text-green-dull",3,"click"],[1,"text-red-dull",3,"click"]],template:function(t,o){1&t&&(e.YNc(0,G1,1,1,"app-sound-changes-table",0),e.YNc(1,J1,1,1,"app-sound-changes-edit",1),e.TgZ(2,"table")(3,"colgroup"),e._UZ(4,"col",2)(5,"col",3)(6,"col",4),e.qZA(),e.TgZ(7,"tbody")(8,"tr"),e._UZ(9,"th",5),e.YNc(10,W1,7,0,"th",6),e.YNc(11,z1,10,0,"th",6),e.TgZ(12,"th",7),e._uU(13,"+"),e.qZA()()()()),2&t&&(e.Q6J("ngIf",!o.editMode&&o.selectedLanguage&&o.selectedLanguage.id),e.xp6(1),e.Q6J("ngIf",o.editMode&&o.selectedLanguage&&o.selectedLanguage.id),e.xp6(9),e.Q6J("ngIf",!o.editMode),e.xp6(1),e.Q6J("ngIf",o.editMode))},dependencies:[Ut,Jn,ry,oy]}),r})();function R2(r,n){1&r&&e._UZ(0,"col",5)}function IA(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"col",13)(2,"col",5),e.BQk()),2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(1),e.uIk("style","width: "+(o==i.selectedIndex?8*(t.name.length+4)+1:65)+"px;",e.Ckj)}}function EA(r,n){if(1&r&&(e.TgZ(0,"th",7),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(0==t.selectedIndex?"+":"")}}function K1(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"th",14),e.TgZ(2,"th",7),e._uU(3),e.qZA(),e.BQk()),2&r){const t=n.index,o=e.oxw();e.xp6(1),e.Q6J("symbol",t==o.selectedIndex?"-":"_"),e.xp6(2),e.Oqu(t==o.selectedIndex||t+1==o.selectedIndex?"+":"")}}function DA(r,n){1&r&&(e.TgZ(0,"th",7),e._uU(1,"|"),e.qZA())}function Ur(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th")(2,"a",15),e.NdJ("click",function(){const u=e.CHM(t).index,d=e.oxw();return e.KtG(d.select(u))}),e._uU(3),e.qZA()(),e.TgZ(4,"th",7),e._uU(5,"|"),e.qZA(),e.BQk()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(2),e.Q6J("ngClass",o==i.selectedIndex?"":"text-grey-dull"),e.uIk("disabled",!!t.enabled||null),e.xp6(1),e.Oqu(o==i.selectedIndex?t.name:t.shortName?t.shortName:t.name.substr(0,3)+".")}}function Y1(r,n){if(1&r&&e._UZ(0,"th",9),2&r){const t=e.oxw();e.uIk("colspan",2*t.selectedIndex-(t.selectedIndex>0&&t.removeBorder?1:0))}}function SA(r,n){1&r&&(e.TgZ(0,"th",7),e._uU(1,"+"),e.qZA())}function xA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-language-description",16),e.NdJ("onDeleteLanguage",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.onDeleteLanguage.emit(i))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function X1(r,n){if(1&r&&e._UZ(0,"app-language-phonetics",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function kA(r,n){if(1&r&&e._UZ(0,"app-clusters",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function eC(r,n){if(1&r&&e._UZ(0,"app-language-pos",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}function tC(r,n){if(1&r&&e._UZ(0,"app-language-writing",17),2&r){const t=e.oxw();e.Q6J("selectedLanguage",t.selectedLanguage)}}let dd=(()=>{class r{constructor(t){this.keybind=t,this.tabs=[{name:"Description",enabled:!0,shortName:"Descr."},{name:"Phonetics",enabled:!0,shortName:"[p\u02b0]"},{name:"Phonotactics",enabled:!0,shortName:"CV(C)"},{name:"Parts of Speech",enabled:!1,shortName:"PoS"},{name:"Orthography",enabled:!1,shortName:"Aa..."}],this.removeBorder=!0,this.onDeleteLanguage=new e.vpe,this.selectedIndex=0}ngOnInit(){this.correctIndex(),this.tabs[2].enabled=!!this.selectedLanguage}correctIndex(){}select(t){this.selectedIndex=t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ta))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-tabs"]],inputs:{selectedLanguage:"selectedLanguage"},outputs:{onDeleteLanguage:"onDeleteLanguage"},decls:36,vars:15,consts:[[1,"tab-routes-wrapper"],[1,"tab-routes"],["class","border","span","1",4,"ngIf"],[4,"ngFor","ngForOf"],["span","1",2,"width","max-content"],["span","1",1,"border"],["class","border",4,"ngIf"],[1,"border"],["app-horizontal-dash","","class","border",4,"ngIf"],["app-horizontal-dash","",1,"border"],[1,"break-word","text-grey"],[3,"selectedLanguage","onDeleteLanguage",4,"ngIf"],[3,"selectedLanguage",4,"ngIf"],["span","1"],["app-horizontal-dash","",1,"border",3,"symbol"],[1,"link-btn",3,"ngClass","click"],[3,"selectedLanguage","onDeleteLanguage"],[3,"selectedLanguage"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table")(3,"colgroup"),e.YNc(4,R2,1,0,"col",2),e.YNc(5,IA,3,1,"ng-container",3),e._UZ(6,"col",4)(7,"col",5),e.qZA(),e.TgZ(8,"tbody")(9,"tr"),e.YNc(10,EA,2,1,"th",6),e.YNc(11,K1,4,2,"ng-container",3),e._UZ(12,"th",7)(13,"th",7),e.qZA(),e.TgZ(14,"tr"),e.YNc(15,DA,2,0,"th",6),e.YNc(16,Ur,6,3,"ng-container",3),e._UZ(17,"th",7)(18,"th",7),e.qZA(),e.TgZ(19,"tr"),e.YNc(20,Y1,1,1,"th",8),e.YNc(21,SA,2,0,"th",6),e._UZ(22,"th",7),e.TgZ(23,"th",7),e._uU(24,"+"),e.qZA(),e._UZ(25,"th",9),e.TgZ(26,"th",7),e._uU(27,"+"),e.qZA()()(),e.TgZ(28,"tbody")(29,"tr")(30,"td",10),e.YNc(31,xA,1,1,"app-language-description",11),e.YNc(32,X1,1,1,"app-language-phonetics",12),e.YNc(33,kA,1,1,"app-clusters",12),e.YNc(34,eC,1,1,"app-language-pos",12),e.YNc(35,tC,1,1,"app-language-writing",12),e.qZA()()()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(5),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(4),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(4),e.Q6J("ngIf",0<o.selectedIndex),e.xp6(1),e.Q6J("ngIf",!o.removeBorder||0!=o.selectedIndex),e.xp6(4),e.uIk("colspan",2*(o.tabs.length-o.selectedIndex-1)+1),e.xp6(5),e.uIk("colspan",2*(o.tabs.length+1)+(o.removeBorder?0:1)),e.xp6(1),e.Q6J("ngIf",0==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",1==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",2==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",3==o.selectedIndex),e.xp6(1),e.Q6J("ngIf",4==o.selectedIndex))},dependencies:[jr,gt,Ut,Jn,D1,K_,vA,ty,Q1]}),r})();function ZA(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"|"),e.qZA())}function NA(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr"),e._UZ(2,"th",4),e.TgZ(3,"th",4),e._uU(4),e.qZA(),e.TgZ(5,"th",4),e._uU(6),e.qZA(),e.TgZ(7,"th")(8,"a",13),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.selectLanguage(u))}),e._uU(9),e.qZA()(),e.TgZ(10,"th",4),e.YNc(11,ZA,2,0,"span",14),e.qZA()(),e.TgZ(12,"tr"),e._UZ(13,"th",4),e.TgZ(14,"th",4),e._uU(15),e.qZA(),e.TgZ(16,"th",4),e._uU(17),e.qZA(),e._UZ(18,"th",15),e.TgZ(19,"th",4),e._uU(20),e.qZA()(),e.BQk()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(4),e.Oqu(t.id==i.selectedLanguage.id?"|":""),e.xp6(2),e.Oqu(t.id==i.selectedLanguage.id?"":"|"),e.xp6(2),e.Q6J("ngClass",t.id==i.selectedLanguage.id?"text-main":"text-grey-dull"),e.xp6(1),e.Oqu(t.displayName),e.xp6(2),e.Q6J("ngIf",t.id!=i.selectedLanguage.id),e.xp6(4),e.Oqu(t.id==i.selectedLanguage.id||(i.allLanguages[o+1]&&i.allLanguages[o+1].id)==i.selectedLanguage.id&&i.selectedLanguage.id?"+":""),e.xp6(2),e.Oqu(t.id==i.selectedLanguage.id||(i.allLanguages[o+1]&&i.allLanguages[o+1].id)==i.selectedLanguage.id&&i.selectedLanguage.id?"-":""),e.xp6(3),e.Oqu(t.id==i.selectedLanguage.id||(i.allLanguages[o+1]&&i.allLanguages[o+1].id)==i.selectedLanguage.id&&i.selectedLanguage.id?"+":"|")}}let nC=(()=>{class r{constructor(t){this.languagesService=t,this.allLanguages=[],this.selectedLanguage={displayName:""},this.selectLanguage({displayName:""})}ngOnInit(){this.refreshLanguages()}refreshAll(){}changeLang(){}selectLanguage(t){this.selectedLanguage=t}addNewLanguage(){this.languagesService.saveLanguage({body:{displayName:"New Language"}}).subscribe(o=>{this.allLanguages.push(o),this.allLanguages=this.allLanguages.sort((i,u)=>i.displayName.localeCompare(u.displayName)),this.selectLanguage(o)})}deleteLanguage(t){this.languagesService.deleteLanguage({languageId:t}).subscribe(()=>{this.refreshLanguages()})}refreshLanguages(){this.selectLanguage({displayName:""}),this.languagesService.getAllLanguages().subscribe(t=>{this.allLanguages=t.sort((o,i)=>o.displayName.localeCompare(i.displayName))})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Co))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-languages"]],decls:36,vars:2,consts:[[1,"table-container"],["span","1",1,"border",2,"width","8px"],["span","1",2,"width","max-content"],["span","1",2,"width","auto"],[1,"border"],["app-horizontal-dash","","colspan","3"],["rowspan","0",2,"vertical-align","baseline","horiz-align","left"],[3,"selectedLanguage","onDeleteLanguage"],["colspan","3"],[1,"text-green-dull",3,"click"],[4,"ngFor","ngForOf"],["colspan","4",1,"border"],["app-vertical-dash","","rowspan","0",1,"border"],[1,"link-btn",3,"ngClass","click"],[4,"ngIf"],["app-horizontal-dash","",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"table")(2,"colgroup"),e._UZ(3,"col",1)(4,"col",1)(5,"col",1)(6,"col",2)(7,"col",1)(8,"col",3),e.qZA(),e.TgZ(9,"tbody")(10,"tr")(11,"th",4),e._uU(12,"+"),e.qZA(),e._UZ(13,"th",5),e.TgZ(14,"th",4),e._uU(15,"+"),e.qZA(),e.TgZ(16,"th",6)(17,"app-language-tabs",7),e.NdJ("onDeleteLanguage",function(u){return o.deleteLanguage(u)}),e.qZA()()(),e.TgZ(18,"tr")(19,"th",4),e._uU(20,"|"),e.qZA(),e.TgZ(21,"th",8)(22,"a",9),e.NdJ("click",function(){return o.addNewLanguage()}),e._uU(23,"[ + ]"),e.qZA()(),e.TgZ(24,"th",4),e._uU(25,"|"),e.qZA()(),e.TgZ(26,"tr")(27,"th",4),e._uU(28,"+"),e.qZA(),e._UZ(29,"th",5),e.TgZ(30,"th",4),e._uU(31,"+"),e.qZA()(),e.YNc(32,NA,21,8,"ng-container",10),e.TgZ(33,"tr"),e._UZ(34,"th",11)(35,"th",12),e.qZA()()()()),2&t&&(e.xp6(17),e.Q6J("selectedLanguage",o.selectedLanguage),e.xp6(15),e.Q6J("ngForOf",o.allLanguages))},dependencies:[jr,gt,Ut,Jn,ku,dd]}),r})();function MA(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" -> ",t.displayName,"")}}function rC(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,MA,2,1,"span",3),e.qZA()),2&r){const t=n.index;e.xp6(1),e.Q6J("ngIf",0!=t)}}function L2(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,rC,2,1,"span",4),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function oC(r,n){if(1&r&&(e.TgZ(0,"label",10),e._uU(1),e.qZA()),2&r){const t=e.oxw(2).index,o=e.oxw();e.xp6(1),e.Oqu(0==t?o.languages[0]?o.languages[0].displayName:"Language from:":"Language:")}}function iy(r,n){if(1&r&&(e.TgZ(0,"option",11),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.displayName)}}function na(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,L2,2,1,"div",4),e.TgZ(2,"span"),e.YNc(3,oC,2,1,"label",5),e.TgZ(4,"div",6)(5,"select",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const u=e.oxw().index,d=e.oxw();return e.KtG(d.changeLanguage(u,i))})("ngModelChange",function(i){e.CHM(t);const u=e.oxw().index,d=e.oxw();return e.KtG(d.languages[u]=i)}),e.TgZ(6,"option",8),e._uU(7,"-Select Language-"),e.qZA(),e.YNc(8,iy,2,2,"option",9),e.qZA()()()()}if(2&r){const t=e.oxw(),o=t.index,i=t.$implicit,u=e.oxw();e.xp6(1),e.Q6J("ngForOf",u.languagesRoutes[o]),e.xp6(2),e.Q6J("ngIf",!u.languages[o]||0==o),e.xp6(2),e.Q6J("ngModel",u.languages[o]),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",i)}}function PA(r,n){if(1&r&&(e.TgZ(0,"div",2),e.YNc(1,na,9,5,"div",3),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf",t.length)}}let UA=(()=>{class r{constructor(t,o){this.languagesService=t,this.languagesEvolutionService=o,this.languages=[],this.languagesRoutes=[],this.availableLanguagesTo=[],this.routeChanged=new e.vpe}ngOnInit(){this.availableLanguagesTo=[],this.languagesService.getAllLanguages().subscribe(t=>{this.availableLanguagesTo.push(t.sort((o,i)=>o.displayName.localeCompare(i.displayName)))})}changeLanguage(t,o){console.log("changeLanguage",t,o,this.availableLanguagesTo),this.availableLanguagesTo.splice(t+1,this.availableLanguagesTo.length-t-1),this.languages.splice(t+1,this.availableLanguagesTo.length-t-1),this.languagesRoutes.splice(t+1,this.availableLanguagesTo.length-t-1),console.log("changeLanguage",t,o,this.availableLanguagesTo),o.id&&this.languagesEvolutionService.getAllLanguagesFrom({fromId:o.id}).subscribe(u=>{this.availableLanguagesTo[t+1]=u});const i=this.languages[t-1].id;t>0&&o.id&&i&&this.languagesEvolutionService.getAllRoutes({fromId:i,toId:o.id}).subscribe(u=>{console.log("changeLanguage",u),this.languagesRoutes[t]=u;const d=this.languagesRoutes.reduce((g,v,w)=>w>t?g:g.concat(v[0].slice(1)),[this.languages[0]]);this.routeChanged.emit(d)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Co),e.Y36($a))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-trace-language-recursive"]],outputs:{routeChanged:"routeChanged"},decls:2,vars:1,consts:[[1,"row"],["class","selector",4,"ngFor","ngForOf"],[1,"selector"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","languageSelectorLabel","for","languageSelector",4,"ngIf"],[1,"input-group"],["id","languageSelector","name","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","languageSelector",1,"languageSelectorLabel"],[3,"ngValue"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,PA,2,1,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.availableLanguagesTo))},dependencies:[gt,Ut,Xo,_s,zr,tr,Nn],styles:[".row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.languageSelector[_ngcontent-%COMP%]{margin-top:4px}.languageSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})(),ra=(()=>{class r{constructor(){this.dataStore={selectedLanguage:void 0}}changeSelectedLanguage(t){this.dataStore.selectedLanguage=t}ngOnInit(){console.log("LangService onInit")}ngOnDestroy(){console.log("LangService onDestroy")}shortPOS(t){return"Adjective"==t?"adj.":"Adverb"==t?"adv.":"Conjunction"==t?"cnj.":"Determiner"==t?"det.":"Noun"==t?"n.":"Numeral"==t?"num.":"Preposition"==t?"prep.":"Pronoun"==t?"pn.":"Verb"==t?"v.":"Prefix"==t?"prefix":"Suffix"==t?"suffix":t}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ri=(()=>{class r{constructor(t){this.keybind=t,this._errors=new uo([]),this.dataStore={errors:[]},this.errors=this._errors.asObservable(),this.keybind.match(["ESCAPE"],[]).subscribe(()=>{this.clearErrors()})}addError(t){this.dataStore.errors.push(t),this._errors.next(Object.assign({},this.dataStore).errors)}clearErrors(){!this.dataStore.errors.length||(this.dataStore.errors=[],this._errors.next(Object.assign({},this.dataStore).errors))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ta))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Ts=["wordSelector"];function iC(r,n){if(1&r&&(e.TgZ(0,"div"),e._uU(1,'More info about word "'),e.TgZ(2,"span",15),e._uU(3),e.qZA(),e._uU(4),e.qZA()),2&r){const t=e.oxw();e.xp6(3),e.Oqu(t.wordsTraced[t.wordSelected]),e.xp6(1),e.hij('" from ',t.fullRoute[t.wordSelected].displayName," language. ")}}function sC(r,n){1&r&&(e.ynx(0),e._UZ(1,"br"),e._uU(2,"|"),e._UZ(3,"br"),e._uU(4,"|"),e.BQk())}function OA(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"|"),e.qZA())}function RA(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr"),e._UZ(2,"th",3),e.TgZ(3,"th",3),e._uU(4),e.qZA(),e.TgZ(5,"th",3),e._uU(6),e.qZA(),e.TgZ(7,"th")(8,"a",16),e.NdJ("click",function(){const u=e.CHM(t).index,d=e.oxw();return e.KtG(d.selectWord(u))}),e._uU(9),e.qZA()(),e.TgZ(10,"th",3),e.YNc(11,OA,2,0,"span",9),e.qZA()(),e.TgZ(12,"tr"),e._UZ(13,"th",3),e.TgZ(14,"th",3),e._uU(15),e.qZA(),e.TgZ(16,"th",3),e._uU(17),e.qZA(),e._UZ(18,"th",14),e.TgZ(19,"th",3),e._uU(20),e.qZA()(),e.BQk()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(4),e.Oqu(o==i.wordSelected?"|":""),e.xp6(2),e.Oqu(o==i.wordSelected?"":"|"),e.xp6(2),e.Q6J("ngClass",o==i.wordSelected?"text-main":"text-grey-dull"),e.xp6(1),e.Oqu(t),e.xp6(2),e.Q6J("ngIf",o!=i.wordSelected),e.xp6(4),e.Oqu(o==i.wordSelected||o==i.wordSelected-1?"+":""),e.xp6(2),e.Oqu(o==i.wordSelected||o==i.wordSelected-1?"-":""),e.xp6(3),e.Oqu(o==i.wordSelected||o==i.wordSelected-1?"+":"|")}}let LA=(()=>{class r{constructor(t,o,i,u,d){this.languagesEvolutionService=t,this.langService=o,this.errorService=i,this.keybind=u,this.router=d,this.fullRoute=[],this.word="",this.wordsTraced=[],this.wordSelected=0,this.keybind.match(["T"],["altKey"]).subscribe(()=>{var v;null===(v=this.wordSelector)||void 0===v||v.nativeElement.focus()})}routeChanged(){this.changeWord(this.word)}ngOnChanges(t){t.fullRoute&&this.routeChanged()}changeWord(t){console.log("changeWord",t),this.word=t,this.word.trim().length&&!(this.fullRoute.length<2)&&this.languagesEvolutionService.trace({word:this.word.trim(),body:this.fullRoute}).subscribe(o=>{this.wordsTraced=[],o.forEach(i=>{this.wordsTraced.push(null!=i&&i.word?null==i?void 0:i.word:"")}),this.wordSelected=this.wordsTraced.length>0?this.wordsTraced.length-1:0})}selectWord(t){console.log("selectWord",t),this.wordSelected=t}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($a),e.Y36(ra),e.Y36(ri),e.Y36(ta),e.Y36(Mn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-trace-result"]],viewQuery:function(t,o){if(1&t&&e.Gf(Ts,5),2&t){let i;e.iGM(i=e.CRH())&&(o.wordSelector=i.first)}},inputs:{fullRoute:"fullRoute"},features:[e.TTD],decls:66,vars:6,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","max-content"],[1,"border"],["colspan","3",2,"text-align","left"],[1,"selector"],["for","wordSelector",1,"wordSelectorLabel"],[1,"input-group"],["id","wordSelector","name","wordSelector","type","text",1,"wordSelector",3,"ngModel","ngModelChange"],[4,"ngIf"],["app-vertical-dash","",1,"border"],[4,"ngFor","ngForOf"],["app-horizontal-dash","","colspan","3",1,"border"],["colspan","4",1,"border"],["app-horizontal-dash","",1,"border"],[1,"text-white"],[1,"link-btn",3,"ngClass","click"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",0)(4,"col",0)(5,"col",1)(6,"col",0)(7,"col",2)(8,"col",0),e.qZA(),e.TgZ(9,"tbody")(10,"tr")(11,"th",3),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e._UZ(15,"br"),e._uU(16,"|"),e._UZ(17,"br"),e._uU(18,"|"),e.qZA(),e.TgZ(19,"th",4)(20,"div",5)(21,"label",6),e._uU(22,"Select Word:"),e.qZA(),e.TgZ(23,"div",7)(24,"input",8),e.NdJ("ngModelChange",function(u){return o.changeWord(u)})("ngModelChange",function(u){return o.word=u}),e.qZA()()()(),e.TgZ(25,"th",3),e._uU(26,"|"),e._UZ(27,"br"),e._uU(28,"|"),e._UZ(29,"br"),e._uU(30,"|"),e._UZ(31,"br"),e._uU(32,"|"),e.qZA(),e.TgZ(33,"th",3),e.YNc(34,iC,5,2,"div",9),e.qZA(),e.TgZ(35,"th",10),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e._UZ(39,"br"),e._uU(40,"|"),e._UZ(41,"br"),e._uU(42,"|"),e._UZ(43,"br"),e._uU(44,"|"),e._UZ(45,"br"),e._uU(46,"| "),e.YNc(47,sC,5,0,"ng-container",11),e.qZA()(),e.TgZ(48,"tr")(49,"th",3),e._uU(50,"+"),e.qZA(),e._UZ(51,"th",12),e.TgZ(52,"th",3),e._uU(53,"+"),e.qZA()(),e.YNc(54,RA,21,8,"ng-container",11),e.TgZ(55,"tr"),e._UZ(56,"th",13),e.TgZ(57,"th",3),e._uU(58,"|"),e.qZA()(),e.TgZ(59,"tr"),e._UZ(60,"th",13),e.TgZ(61,"th",3),e._uU(62,"+"),e.qZA(),e._UZ(63,"th",14),e.TgZ(64,"th",3),e._uU(65,"+"),e.qZA()()()()),2&t&&(e.xp6(24),e.Q6J("ngModel",o.word),e.xp6(9),e.uIk("rowspan",3+2*o.wordsTraced.length),e.xp6(1),e.Q6J("ngIf",o.wordsTraced[o.wordSelected]),e.xp6(1),e.uIk("rowspan",3+2*o.wordsTraced.length),e.xp6(12),e.Q6J("ngForOf",o.wordsTraced),e.xp6(7),e.Q6J("ngForOf",o.wordsTraced))},dependencies:[jr,gt,Ut,jn,tr,Nn,Jn,ku]}),r})();const FA=["wordInput"];function sy(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," -> "),e.qZA())}function zh(r,n){if(1&r&&(e.TgZ(0,"span",10),e.YNc(1,sy,2,0,"span",8),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Q6J("ngIf",o>0),e.xp6(2),e.Oqu(t.displayName)}}function qA(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," No Route "),e.qZA())}let aC=(()=>{class r{constructor(){this.fullRoute=[],this.wordText="",this.word="",this.wordsTraced=[]}routeChanged(t){this.fullRoute=t}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-trace"]],viewQuery:function(t,o){if(1&t&&e.Gf(FA,5),2&t){let i;e.iGM(i=e.CRH())&&(o.wordInput=i.first)}},decls:51,vars:3,consts:[[1,"table-container"],["span","1",1,"border"],["span","1",2,"width","auto"],[1,"border"],["app-horizontal-dash","",1,"border"],[3,"routeChanged"],[1,"full-route"],["class","text-yellow-dull",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"fullRoute"],[1,"text-yellow-dull"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"table")(2,"colgroup"),e._UZ(3,"col",1)(4,"col",2)(5,"col",1),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",3),e._uU(9,"+"),e.qZA(),e._UZ(10,"th",4),e.TgZ(11,"th",3),e._uU(12,"+"),e.qZA()(),e.TgZ(13,"tr")(14,"th",3),e._uU(15,"|"),e._UZ(16,"br"),e._uU(17,"|"),e._UZ(18,"br"),e._uU(19,"|"),e._UZ(20,"br"),e._uU(21,"|"),e._UZ(22,"br"),e._uU(23,"|"),e._UZ(24,"br"),e._uU(25,"|"),e.qZA(),e.TgZ(26,"th",3)(27,"div")(28,"app-trace-language-recursive",5),e.NdJ("routeChanged",function(u){return o.routeChanged(u)}),e.qZA(),e.TgZ(29,"div",6),e.YNc(30,zh,4,2,"span",7),e.YNc(31,qA,2,0,"span",8),e.qZA()()(),e.TgZ(32,"th",3),e._uU(33,"|"),e._UZ(34,"br"),e._uU(35,"|"),e._UZ(36,"br"),e._uU(37,"|"),e._UZ(38,"br"),e._uU(39,"|"),e._UZ(40,"br"),e._uU(41,"|"),e._UZ(42,"br"),e._uU(43,"|"),e.qZA()(),e.TgZ(44,"tr")(45,"th",3),e._uU(46,"+"),e.qZA(),e._UZ(47,"th",4),e.TgZ(48,"th",3),e._uU(49,"+"),e.qZA()()()(),e._UZ(50,"app-trace-result",9),e.qZA()),2&t&&(e.xp6(30),e.Q6J("ngForOf",o.fullRoute),e.xp6(1),e.Q6J("ngIf",!o.fullRoute.length),e.xp6(19),e.Q6J("fullRoute",o.fullRoute))},dependencies:[gt,Ut,Jn,UA,LA],styles:[".full-route[_ngcontent-%COMP%]{margin:8px}.half-width[_ngcontent-%COMP%]{width:50%}.wordSelector[_ngcontent-%COMP%]{margin-top:4px}.wordSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})();function VA(r,n){1&r&&e._UZ(0,"col",10)}function uC(r,n){1&r&&(e.ynx(0),e._UZ(1,"col",11)(2,"col",10),e.BQk())}function lC(r,n){1&r&&e._UZ(0,"col",10)}function ig(r,n){if(1&r&&(e.TgZ(0,"th",6),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(0==t.selectedIndex?"+":"")}}function BA(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"th",12),e.TgZ(2,"th",6),e._uU(3),e.qZA(),e.BQk()),2&r){const t=n.index,o=e.oxw();e.xp6(1),e.Q6J("symbol",t==o.selectedIndex?"-":"_"),e.xp6(2),e.Oqu(t==o.selectedIndex||t+1==o.selectedIndex?"+":"")}}function cC(r,n){1&r&&e._UZ(0,"th",6)}function dC(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"|"),e.qZA())}function ay(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"th")(2,"a",13),e.NdJ("click",function(){const u=e.CHM(t).index,d=e.oxw();return e.KtG(d.select(u))}),e._uU(3),e.qZA()(),e.TgZ(4,"th",6),e._uU(5,"|"),e.qZA(),e.BQk()}if(2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(2),e.Q6J("ngClass",o==i.selectedIndex?"":"text-grey-dull")("routerLink",t.route)("queryParams",i.queryParams),e.uIk("disabled",!!t.enabled||null),e.xp6(1),e.Oqu(t.name)}}function sg(r,n){1&r&&e._UZ(0,"th",6)}function uy(r,n){if(1&r&&e._UZ(0,"th",8),2&r){const t=e.oxw();e.uIk("colspan",2*t.selectedIndex-(t.selectedIndex>0&&t.removeBorder?1:0))}}function ly(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"+"),e.qZA())}function hC(r,n){1&r&&(e.TgZ(0,"th",6),e._uU(1,"+"),e.qZA())}let cy=(()=>{class r{constructor(t,o,i){this.activeRoute=t,this.router=o,this.keybind=i,this.removeBorder=!1,this.selectedIndex=0}ngOnInit(){this.correctIndex(),this.router.events.subscribe(o=>{o instanceof Su&&this.correctIndex()}),this.navigateIndex(this.selectedIndex),this.keybind.match(["TAB"],[]).subscribe(o=>{o.preventDefault(),this.selectedIndex=(this.selectedIndex+1)%this.tabs.length,this.navigateIndex(this.selectedIndex)})}correctIndex(){var t;const o=null===(t=this.activeRoute.snapshot.children[0].routeConfig)||void 0===t?void 0:t.path;this.selectedIndex=this.tabs.reduce((i,u,d)=>u.route==o?d:i,this.selectedIndex)}select(t){this.selectedIndex=t}navigateIndex(t){const o=this.activeRoute.snapshot.queryParamMap.get("lang");this.router.navigate([this.tabs[t].route],{relativeTo:this.activeRoute,queryParams:{lang:o}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Qs),e.Y36(Mn),e.Y36(ta))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-tab-routes"]],inputs:{tabs:"tabs",queryParams:"queryParams",removeBorder:"removeBorder"},decls:31,vars:14,consts:[[1,"tab-routes-wrapper"],[1,"tab-routes"],["span","1","class","border",4,"ngIf"],[4,"ngFor","ngForOf"],["span","1",2,"width","max-content"],["class","border",4,"ngIf"],[1,"border"],["app-horizontal-dash","","class","border",4,"ngIf"],["app-horizontal-dash","",1,"border"],[1,"break-word","text-grey"],["span","1",1,"border"],["span","1",2,"width","150px"],["app-horizontal-dash","",1,"border",3,"symbol"],[1,"link-btn",3,"ngClass","routerLink","queryParams","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table")(3,"colgroup"),e.YNc(4,VA,1,0,"col",2),e.YNc(5,uC,3,0,"ng-container",3),e._UZ(6,"col",4),e.YNc(7,lC,1,0,"col",2),e.qZA(),e.TgZ(8,"tbody")(9,"tr"),e.YNc(10,ig,2,1,"th",5),e.YNc(11,BA,4,2,"ng-container",3),e._UZ(12,"th",6),e.YNc(13,cC,1,0,"th",5),e.qZA(),e.TgZ(14,"tr"),e.YNc(15,dC,2,0,"th",5),e.YNc(16,ay,6,5,"ng-container",3),e._UZ(17,"th",6),e.YNc(18,sg,1,0,"th",5),e.qZA(),e.TgZ(19,"tr"),e.YNc(20,uy,1,1,"th",7),e.YNc(21,ly,2,0,"th",5),e._UZ(22,"th",6),e.TgZ(23,"th",6),e._uU(24,"+"),e.qZA(),e._UZ(25,"th",8),e.YNc(26,hC,2,0,"th",5),e.qZA()(),e.TgZ(27,"tbody")(28,"tr")(29,"td",9),e._UZ(30,"router-outlet"),e.qZA()()()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(2),e.Q6J("ngIf",!o.removeBorder),e.xp6(3),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(2),e.Q6J("ngIf",!o.removeBorder),e.xp6(2),e.Q6J("ngIf",!o.removeBorder),e.xp6(1),e.Q6J("ngForOf",o.tabs),e.xp6(2),e.Q6J("ngIf",!o.removeBorder),e.xp6(2),e.Q6J("ngIf",0<o.selectedIndex),e.xp6(1),e.Q6J("ngIf",!o.removeBorder||0!=o.selectedIndex),e.xp6(4),e.uIk("colspan",2*(o.tabs.length-o.selectedIndex-1)+1),e.xp6(1),e.Q6J("ngIf",!o.removeBorder),e.xp6(3),e.uIk("colspan",2*(o.tabs.length+1)+(o.removeBorder?0:1)))},dependencies:[jr,gt,Ut,ti,$i,Jn]}),r})(),pC=(()=>{class r extends Vh{constructor(){super(...arguments),this.tabs=[{name:"Add New",route:"new",enabled:!0},{name:"List",route:"list",enabled:!0},{name:"Translations",route:"translations",enabled:!0},{name:"Details",route:"word/:word",enabled:!1}]}ngOnInit(){super.ngOnInit()}refreshAll(){}changeLang(){}}return r.\u0275fac=function(){let n;return function(o){return(n||(n=e.n5z(r)))(o||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["app-words"]],features:[e.qOj],decls:2,vars:1,consts:[[1,"table-container"],[3,"tabs"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-tab-routes",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("tabs",o.tabs))},dependencies:[cy]}),r})(),Zu=(()=>{class r extends sd{constructor(t,o){super(t,o)}addWord$Response(t){const o=new Nt(this.rootUrl,r.AddWordPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}addWord(t){return this.addWord$Response(t).pipe((0,se.U)(o=>o.body))}getAllWords$Response(t){const o=new Nt(this.rootUrl,r.GetAllWordsPath,"get");return t&&o.query("filter",t.filter,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getAllWords(t){return this.getAllWords$Response(t).pipe((0,se.U)(o=>o.body))}getAllWordsFromLang$Response(t){const o=new Nt(this.rootUrl,r.GetAllWordsFromLangPath,"get");return t&&o.path("from",t.from,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getAllWordsFromLang(t){return this.getAllWordsFromLang$Response(t).pipe((0,se.U)(o=>o.body))}addDerivedWord$Response(t){const o=new Nt(this.rootUrl,r.AddDerivedWordPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}addDerivedWord(t){return this.addDerivedWord$Response(t).pipe((0,se.U)(o=>o.body))}getAllWordsWithTranslationsFromLang$Response(t){const o=new Nt(this.rootUrl,r.GetAllWordsWithTranslationsFromLangPath,"get");return t&&o.path("from",t.from,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getAllWordsWithTranslationsFromLang(t){return this.getAllWordsWithTranslationsFromLang$Response(t).pipe((0,se.U)(o=>o.body))}deleteWord$Response(t){const o=new Nt(this.rootUrl,r.DeleteWordPath,"delete");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i.clone({body:void 0})))}deleteWord(t){return this.deleteWord$Response(t).pipe((0,se.U)(o=>o.body))}canDeleteWord$Response(t){const o=new Nt(this.rootUrl,r.CanDeleteWordPath,"get");return t&&o.path("wordId",t.wordId,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i.clone({body:"true"===String(i.body)})))}canDeleteWord(t){return this.canDeleteWord$Response(t).pipe((0,se.U)(o=>o.body))}getDetailedWordsByPhonetics$Response(t){const o=new Nt(this.rootUrl,r.GetDetailedWordsByPhoneticsPath,"post");return t&&o.path("word",t.word,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getDetailedWordsByPhonetics(t){return this.getDetailedWordsByPhonetics$Response(t).pipe((0,se.U)(o=>o.body))}}return r.AddWordPath="/api/words/add",r.GetAllWordsPath="/api/words/all",r.GetAllWordsFromLangPath="/api/words/all/{from}",r.AddDerivedWordPath="/api/words/derive",r.GetAllWordsWithTranslationsFromLangPath="/api/words/page/{from}",r.DeleteWordPath="/api/words/{id}",r.CanDeleteWordPath="/api/words/{wordId}/candelete",r.GetDetailedWordsByPhoneticsPath="/api/words/{word}",r.\u0275fac=function(t){return new(t||r)(e.LFG(Ba),e.LFG(Va))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function fC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addNewWord())}),e._uU(1,"[ + ]"),e.qZA()}}function gC(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,"[ + ]"),e.qZA())}function jA(r,n){if(1&r&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.displayName)}}function $A(r,n){if(1&r&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}let HA=(()=>{class r{constructor(t,o,i){this.formBuilder=t,this.languageService=o,this.posService=i,this.languages=[],this.poses=[],this.newWord=new ut({sound:new so("",br.required),language:new so({},br.required),pos:new so({},br.required)}),this.onNewWord=new e.vpe}ngOnInit(){this.languageService.getAllLanguages().subscribe(t=>{this.languages=t.sort((o,i)=>o.displayName.localeCompare(i.displayName)),this.changeLanguage()})}addNewWord(){var t;console.log(this.newWord.value);const o={word:this.newWord.value.sound?this.newWord.value.sound:void 0,language:this.newWord.value.language?this.newWord.value.language:void 0,partOfSpeech:this.newWord.value.pos?this.newWord.value.pos:void 0,forgotten:!1};!o.language||!o.partOfSpeech||!o.word||(this.onNewWord.emit(o),null===(t=this.newWord.get("sound"))||void 0===t||t.reset())}changeLanguage(){var t,o,i,u;null===(t=this.newWord.get("pos"))||void 0===t||t.reset(),null!==(u=null===(i=null===(o=this.newWord)||void 0===o?void 0:o.value)||void 0===i?void 0:i.language)&&void 0!==u&&u.id&&this.posService.getAllPosByLanguage({languageId:this.newWord.value.language.id}).subscribe(d=>{this.poses=d.sort((g,v)=>g.name?g.name.localeCompare(v.name?v.name:""):-1)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(If),e.Y36(Co),e.Y36(ja))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-add-line"]],outputs:{onNewWord:"onNewWord"},decls:39,vars:7,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","70px"],["span","1",2,"width","9px"],["span","1",2,"width","auto"],[1,"border"],["class","text-green-dull",3,"click",4,"ngIf"],[4,"ngIf"],[1,"border",2,"text-align","left"],[3,"formGroup","ngSubmit"],["formControlName","sound","type","text",2,"height","16px","margin-left","16px"],[2,"margin-left","8px"],["formControlName","language","id","languageSelector",1,"languageSelector",3,"value","change"],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","pos","id","posSelector",1,"posSelector",3,"value"],["app-horizontal-dash","","colspan","3",1,"border"],[1,"text-green-dull",3,"click"],[3,"ngValue"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",0),e.qZA(),e.TgZ(7,"tbody")(8,"tr")(9,"th",4),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e.qZA(),e.TgZ(13,"th",4),e.YNc(14,fC,2,0,"a",5),e.YNc(15,gC,2,0,"span",6),e.qZA(),e.TgZ(16,"th",4),e._uU(17,"|"),e._UZ(18,"br"),e._uU(19,"|"),e.qZA(),e.TgZ(20,"th",7)(21,"form",8),e.NdJ("ngSubmit",function(){return o.addNewWord()}),e._UZ(22,"input",9),e.TgZ(23,"span",10)(24,"select",11),e.NdJ("change",function(){return o.changeLanguage()}),e.YNc(25,jA,2,2,"option",12),e.qZA()(),e.TgZ(26,"span",10)(27,"select",13),e.YNc(28,$A,2,2,"option",12),e.qZA()()()(),e.TgZ(29,"th",4),e._uU(30,"|"),e._UZ(31,"br"),e._uU(32,"|"),e.qZA()(),e.TgZ(33,"tr")(34,"th",4),e._uU(35,"+"),e.qZA(),e._UZ(36,"th",14),e.TgZ(37,"th",4),e._uU(38,"+"),e.qZA()()()()),2&t&&(e.xp6(14),e.Q6J("ngIf",o.newWord.valid),e.xp6(1),e.Q6J("ngIf",!o.newWord.valid),e.xp6(6),e.Q6J("formGroup",o.newWord),e.xp6(3),e.Q6J("value",void 0),e.xp6(1),e.Q6J("ngForOf",o.languages),e.xp6(2),e.Q6J("value",void 0),e.xp6(1),e.Q6J("ngForOf",o.poses))},dependencies:[gt,Ut,ms,Xo,_s,jn,zr,tr,qi,yi,Na,Jn],styles:["[_nghost-%COMP%]{display:contents}"]}),r})();function GA(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw();return e.KtG(u.changePage(i))}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t+1,"")}}function JA(r,n){if(1&r&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t+1,"")}}function WA(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1,","),e.qZA())}function zA(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," ... "),e.qZA())}function QA(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,GA,2,1,"a",8),e.YNc(2,JA,2,1,"span",9),e.YNc(3,WA,2,0,"span",10),e.YNc(4,zA,2,0,"span",10),e.qZA()),2&r){const t=n.$implicit,o=n.index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t!=i.page),e.xp6(1),e.Q6J("ngIf",t==i.page),e.xp6(1),e.Q6J("ngIf",o<i.pageBttns.length-1&&t+1==i.pageBttns[o+1]),e.xp6(1),e.Q6J("ngIf",t+1!=i.pageBttns[o+1]&&o<i.pageBttns.length-1)}}let dy=(()=>{class r{constructor(){this.pageBttns=[],this.totalPages=0,this.total=0,this.page=0,this.size=30,this.load=new e.vpe}ngOnInit(){this.load.emit({page:this.page,size:this.size})}ngOnChanges(t){this.redrawPageBttns()}redrawPageBttns(){if(this.totalPages){this.pageBttns=[];for(let t=0;t<3;t++)this.pageBttns.push(t),this.pageBttns.push(this.totalPages-1-t),this.pageBttns.push(this.page+t),this.pageBttns.push(this.page-t);this.pageBttns=this.pageBttns.filter((t,o,i)=>i.indexOf(t)===o&&t>=0&&this.totalPages&&t<this.totalPages).sort((t,o)=>t-o)}}changePage(t){if(this.totalPages&&void 0!==t){const o=Math.min(Math.max(0,t),this.totalPages-1);o!==this.page&&(this.page=o,this.load.emit({page:this.page,size:this.size}))}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-paginator"]],inputs:{totalPages:"totalPages",total:"total",page:"page",size:"size"},outputs:{load:"load"},features:[e.TTD],decls:59,vars:4,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","240px"],["span","1",2,"width","17px"],["span","1",2,"width","auto"],[1,"border"],["app-horizontal-dash","","colspan","11",1,"border"],[3,"click"],[4,"ngFor","ngForOf"],["class","text-grey-dull",3,"click",4,"ngIf"],["class","text-main",4,"ngIf"],[4,"ngIf"],[1,"text-grey-dull",3,"click"],[1,"text-main"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0)(5,"col",2)(6,"col",0)(7,"col",2)(8,"col",0)(9,"col",3)(10,"col",0)(11,"col",2)(12,"col",0)(13,"col",2)(14,"col",0),e.qZA(),e.TgZ(15,"tbody")(16,"tr")(17,"th",4),e._uU(18,"+"),e.qZA(),e._UZ(19,"th",5),e.TgZ(20,"th",4),e._uU(21,"+"),e.qZA()(),e.TgZ(22,"tr")(23,"th",4),e._uU(24,"|"),e.qZA(),e.TgZ(25,"th",4),e._uU(26),e.qZA(),e.TgZ(27,"th",4),e._uU(28,"|"),e.qZA(),e.TgZ(29,"th",4)(30,"a",6),e.NdJ("click",function(){return o.changePage(0)}),e._uU(31," \xab "),e.qZA()(),e.TgZ(32,"th",4),e._uU(33,"|"),e.qZA(),e.TgZ(34,"th",4)(35,"a",6),e.NdJ("click",function(){return o.changePage(o.page-1)}),e._uU(36," < "),e.qZA()(),e.TgZ(37,"th",4),e._uU(38,"|"),e.qZA(),e.TgZ(39,"th",4),e.YNc(40,QA,5,4,"span",7),e.qZA(),e.TgZ(41,"th",4),e._uU(42,"|"),e.qZA(),e.TgZ(43,"th",4)(44,"a",6),e.NdJ("click",function(){return o.changePage(o.page+1)}),e._uU(45," > "),e.qZA()(),e.TgZ(46,"th",4),e._uU(47,"|"),e.qZA(),e.TgZ(48,"th",4)(49,"a",6),e.NdJ("click",function(){return o.changePage(o.totalPages)}),e._uU(50," \xbb "),e.qZA()(),e.TgZ(51,"th",4),e._uU(52,"|"),e.qZA()(),e.TgZ(53,"tr")(54,"th",4),e._uU(55,"+"),e.qZA(),e._UZ(56,"th",5),e.TgZ(57,"th",4),e._uU(58,"+"),e.qZA()()()()),2&t&&(e.xp6(26),e.lnq(" Page ",o.page+1," of ",o.totalPages," (",o.total," words) "),e.xp6(14),e.Q6J("ngForOf",o.pageBttns))},dependencies:[gt,Ut,Jn]}),r})();function KA(r,n){if(1&r&&(e.TgZ(0,"option",9),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.displayName)}}function YA(r,n){if(1&r&&(e.TgZ(0,"option",9),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}const XA=function(r){return["/words/word",r]};function eI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr",14)(1,"th",4),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",21)(4,"span",22),e._uU(5),e.qZA()(),e.TgZ(6,"th",4),e._uU(7,"|"),e.qZA(),e.TgZ(8,"th",21)(9,"a",23),e._uU(10),e.qZA()(),e.TgZ(11,"th",4),e._uU(12,"|"),e.qZA(),e.TgZ(13,"th",4),e._uU(14),e.qZA(),e.TgZ(15,"th",4),e._uU(16,"|"),e.qZA(),e.TgZ(17,"th",5)(18,"span",24),e._uU(19),e.qZA()(),e.TgZ(20,"th",4),e._uU(21,"|"),e.qZA(),e.TgZ(22,"th",4)(23,"a",12),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.deleteWord(u))}),e._uU(24,"x"),e.qZA()(),e.TgZ(25,"th",4),e._uU(26,"|"),e.qZA()()}if(2&r){const t=n.$implicit;e.xp6(5),e.Oqu(t.writtenWord),e.xp6(4),e.Q6J("fragment",null==t.language?null:t.language.displayName)("routerLink",e.VKq(6,XA,t.word)),e.xp6(1),e.hij("/ ",t.word," / "),e.xp6(4),e.Oqu(null==t.partOfSpeech?null:t.partOfSpeech.abbreviation),e.xp6(5),e.Oqu(null==t.language?null:t.language.displayName)}}let tI=(()=>{class r{constructor(t,o,i){this.wordService=t,this.languageService=o,this.posService=i,this.words={},this.languages=[],this.poses=[],this.pageSize=30}ngOnInit(){this.languageService.getAllLanguages().subscribe(t=>{this.languages=t.sort((o,i)=>o.displayName?o.displayName.localeCompare(i.displayName?i.displayName:""):-1)}),this.posService.getAllPos().subscribe(t=>{this.poses=t.sort((o,i)=>o.name?o.name.localeCompare(i.name?i.name:""):-1)})}load(t){this.wordService.getAllWords({filter:t}).subscribe(o=>{o.data&&(this.words=o)})}loadDefault(t){var o,i;console.log("loadDefault",t,this.pos,this.language,this.wordSearch),t||(t={}),t={page:t.page?t.page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,languageId:t.languageId?t.languageId:null===t.languageId||null===(o=this.language)||void 0===o?void 0:o.id,posId:t.posId?t.posId:null===t.posId||null===(i=this.pos)||void 0===i?void 0:i.id},this.load(t)}deleteWord(t){t.id&&this.wordService.deleteWord({id:t.id}).subscribe(()=>{var o;this.words.data=null===(o=this.words.data)||void 0===o?void 0:o.filter(i=>i.id!==t.id)})}addNewWord(t){this.wordService.addWord({body:t}).subscribe(o=>{var i;null===(i=this.words.data)||void 0===i||i.push(o)})}resetFilter(){this.language=void 0,this.pos=void 0,this.wordSearch=void 0,this.loadDefault({})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Zu),e.Y36(Co),e.Y36(ja))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-words-list"]],decls:59,vars:12,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","9px"],["span","1",2,"width","70px"],[1,"border"],[1,"border",2,"text-align","left"],["type","text",2,"height","16px","margin-left","16px",3,"ngModel","ngModelChange"],[2,"margin-left","8px"],["id","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["id","posSelector",1,"posSelector",3,"ngModel","ngModelChange"],[1,"text-red-dull",3,"click"],["app-horizontal-dash","","colspan","3",1,"border"],[1,"table-content"],["span","1",2,"width","1%"],["span","1",2,"width","40px"],["span","1",2,"width","17px"],["class","table-content",4,"ngFor","ngForOf"],[3,"page","size","totalPages","total","load"],[3,"onNewWord"],[2,"padding-left","8px","padding-right","8px"],[2,"white-space","nowrap"],[1,"text-main","link-btn",3,"fragment","routerLink"],[2,"margin-left","16px"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",0),e.qZA(),e.TgZ(7,"tbody")(8,"tr")(9,"th",4),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e.qZA(),e.TgZ(13,"th",5)(14,"input",6),e.NdJ("ngModelChange",function(u){return o.loadDefault({word:u})})("ngModelChange",function(u){return o.wordSearch=u}),e.qZA(),e.TgZ(15,"span",7)(16,"select",8),e.NdJ("ngModelChange",function(u){return o.loadDefault({languageId:null==u?null:u.id})})("ngModelChange",function(u){return o.language=u}),e.TgZ(17,"option",9),e._uU(18,"All languages"),e.qZA(),e.YNc(19,KA,2,2,"option",10),e.qZA()(),e.TgZ(20,"span",7)(21,"select",11),e.NdJ("ngModelChange",function(u){return o.loadDefault({posId:null==u?null:u.id})})("ngModelChange",function(u){return o.pos=u}),e.TgZ(22,"option",9),e._uU(23,"Any part of speech"),e.qZA(),e.YNc(24,YA,2,2,"option",10),e.qZA()()(),e.TgZ(25,"th",4),e._uU(26,"|"),e._UZ(27,"br"),e._uU(28,"|"),e.qZA(),e.TgZ(29,"th")(30,"a",12),e.NdJ("click",function(){return o.resetFilter()}),e._uU(31,"[ x ]"),e.qZA()(),e.TgZ(32,"th",4),e._uU(33,"|"),e._UZ(34,"br"),e._uU(35,"|"),e.qZA()(),e.TgZ(36,"tr")(37,"th",4),e._uU(38,"+"),e.qZA(),e._UZ(39,"th",13),e.TgZ(40,"th",4),e._uU(41,"+"),e.qZA()()()(),e.TgZ(42,"table",14)(43,"colgroup"),e._UZ(44,"col",0)(45,"col",15)(46,"col",0)(47,"col",15)(48,"col",0)(49,"col",16)(50,"col",0)(51,"col",1)(52,"col",0)(53,"col",17)(54,"col",0),e.qZA(),e.TgZ(55,"tbody",14),e.YNc(56,eI,27,8,"tr",18),e.qZA()(),e.TgZ(57,"app-list-paginator",19),e.NdJ("load",function(u){return o.loadDefault(u)}),e.qZA(),e.TgZ(58,"app-word-add-line",20),e.NdJ("onNewWord",function(u){return o.addNewWord(u)}),e.qZA()),2&t&&(e.xp6(14),e.Q6J("ngModel",o.wordSearch),e.xp6(2),e.Q6J("ngModel",o.language),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.languages),e.xp6(2),e.Q6J("ngModel",o.pos),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.poses),e.xp6(32),e.Q6J("ngForOf",o.words.data),e.xp6(1),e.Q6J("page",o.words.page?o.words.page:0)("size",o.pageSize)("totalPages",o.words.totalPages?o.words.totalPages:0)("total",o.words.total?o.words.total:0))},dependencies:[gt,$i,Xo,_s,jn,zr,tr,Nn,Jn,HA,dy]}),r})();var Vl=(()=>((Vl||(Vl={})).General="GENERAL",Vl))();function nI(r,n){if(1&r&&(e.TgZ(0,"span")(1,"span",4),e._uU(2),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.hij(" /",t.translation.wordTo.word,"/")}}const rI=function(r){return["/words/word",r]};function oI(r,n){if(1&r&&(e.TgZ(0,"a",2),e._uU(1),e.YNc(2,nI,3,1,"span",3),e.qZA()),2&r){const t=e.oxw();e.Q6J("routerLink",e.VKq(3,rI,t.translation.wordTo.word)),e.xp6(1),e.Oqu(t.translation.wordTo.writtenWord),e.xp6(1),e.Q6J("ngIf",t.translation.wordTo.writtenWord!==t.translation.wordTo.word)}}function mC(r,n){if(1&r&&(e.TgZ(0,"a",5),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.translation.phraseTo)}}let ag=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-translation-word"]],inputs:{translation:"translation"},decls:2,vars:2,consts:[["class","text-blue-dull link-btn",3,"routerLink",4,"ngIf"],["class","text-blue-dull link-btn",4,"ngIf"],[1,"text-blue-dull","link-btn",3,"routerLink"],[4,"ngIf"],[1,"text-grey"],[1,"text-blue-dull","link-btn"]],template:function(t,o){1&t&&(e.YNc(0,oI,3,5,"a",0),e.YNc(1,mC,2,1,"a",1)),2&t&&(e.Q6J("ngIf",o.translation.wordTo),e.xp6(1),e.Q6J("ngIf",!o.translation.wordTo))},dependencies:[Ut,$i]}),r})(),hy=(()=>{class r{transform(t,...o){return t===Vl.General?"gen.":t}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275pipe=e.Yjl({name:"translationType",type:r,pure:!0}),r})();function _C(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"app-translation-word",1),e.qZA()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Oqu(0==o?"":"; "),e.xp6(1),e.Q6J("translation",t)}}function yC(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"dt"),e._uU(2),e.ALo(3,"translationType"),e.qZA(),e.TgZ(4,"dd"),e.YNc(5,_C,3,2,"span",0),e.qZA(),e.BQk()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.AsE("",o," ",e.lcZ(3,3,t),""),e.xp6(3),e.Q6J("ngForOf",i.getTranslationForWordAndType(t,!0,o))}}function vC(r,n){if(1&r&&(e.TgZ(0,"li"),e._UZ(1,"app-translation-word",1),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("translation",t)}}function CC(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"dt"),e._uU(2),e.ALo(3,"translationType"),e.qZA(),e.TgZ(4,"dd")(5,"ol"),e.YNc(6,vC,2,1,"li",0),e.qZA()(),e.BQk()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.AsE("",o," ",e.lcZ(3,3,t),""),e.xp6(4),e.Q6J("ngForOf",i.getTranslationForWordAndType(t,!1,o))}}function TC(r,n){if(1&r&&(e.ynx(0),e.YNc(1,yC,6,5,"ng-container",0),e.YNc(2,CC,7,5,"ng-container",0),e.BQk()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.getWordTranslationsTypes(t)),e.xp6(1),e.Q6J("ngForOf",o.getPhraseTranslationsTypes(t))}}let wC=(()=>{class r{constructor(){}get getTranslationLangs(){var t;const o=null===(t=this.translations)||void 0===t?void 0:t.map(u=>{var d,g,v;return null!==(d=u.wordTo)&&void 0!==d&&d.language?null===(g=u.wordTo)||void 0===g?void 0:g.language:null===(v=u.phraseTo)||void 0===v?void 0:v.language}).map(u=>u?u.displayName:"Unknown");return[...new Set(o)]||[]}getWordTranslationsTypes(t){return this.getTranslationTypes(!0,t)}getPhraseTranslationsTypes(t){return this.getTranslationTypes(!1,t)}getTranslationTypes(t,o){var i;const u=null===(i=this.translations)||void 0===i?void 0:i.filter(g=>{var v,w;return t?g.wordTo&&(null===(v=g.wordTo.language)||void 0===v?void 0:v.displayName)===o:g.phraseTo&&(null===(w=g.phraseTo.language)||void 0===w?void 0:w.displayName)===o}).map(g=>g.type).map(g=>g||Vl.General);return[...new Set(u)]||[]}getTranslationForWordAndType(t,o,i){var u;return(null===(u=this.translations)||void 0===u?void 0:u.filter(g=>{var v,w;return(o?g.wordTo&&(null===(v=g.wordTo.language)||void 0===v?void 0:v.displayName)===i:g.phraseTo&&(null===(w=g.phraseTo.language)||void 0===w?void 0:w.displayName)===i)&&g.type===t}))||[]}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-detail-translations"]],inputs:{translations:"translations"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"translation"]],template:function(t,o){1&t&&(e.TgZ(0,"dl"),e.YNc(1,TC,3,2,"ng-container",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.getTranslationLangs))},dependencies:[gt,ag,hy]}),r})();function bC(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" /",t.wordWithTranslations.word,"/")}}function AC(r,n){if(1&r&&(e.ynx(0),e._uU(1),e._UZ(2,"app-translation-word",3),e.BQk()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Oqu(o>0?", ":""),e.xp6(1),e.Q6J("translation",t)}}function Bl(r,n){if(1&r&&(e.TgZ(0,"span")(1,"span"),e._uU(2," ("),e.qZA(),e.YNc(3,AC,3,2,"ng-container",2),e._uU(4,")"),e.qZA()),2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.wordWithTranslations.translations)}}const iI=function(r){return["/words/word",r]};let sI=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-written-with-translations"]],inputs:{wordWithTranslations:"wordWithTranslations"},decls:4,vars:6,consts:[[1,"text-main","link-btn",3,"routerLink"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"translation"]],template:function(t,o){1&t&&(e.TgZ(0,"a",0),e._uU(1),e.qZA(),e.YNc(2,bC,2,1,"span",1),e.YNc(3,Bl,5,1,"span",1)),2&t&&(e.Q6J("routerLink",e.VKq(4,iI,o.wordWithTranslations.word)),e.xp6(1),e.Oqu(o.wordWithTranslations.writtenWord),e.xp6(1),e.Q6J("ngIf",o.wordWithTranslations.word!==o.wordWithTranslations.writtenWord),e.xp6(1),e.Q6J("ngIf",null==o.wordWithTranslations.translations?null:o.wordWithTranslations.translations.length))},dependencies:[gt,Ut,$i,ag]}),r})();function hd(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"a",1)(3,"i"),e._uU(4),e.qZA()(),e._uU(5," *"),e._UZ(6,"app-word-written-with-translations",2),e.qZA()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Oqu(0==o?"":", "),e.xp6(3),e.Oqu(null==t.language?null:t.language.displayName),e.xp6(2),e.Q6J("wordWithTranslations",t)}}let F2=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-detail-list"]],inputs:{wordsWithTranslations:"wordsWithTranslations"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"text-grey"],[3,"wordWithTranslations"]],template:function(t,o){1&t&&e.YNc(0,hd,7,3,"span",0),2&t&&e.Q6J("ngForOf",o.wordsWithTranslations)},dependencies:[gt,sI]}),r})();function py(r,n){1&r&&(e.TgZ(0,"span"),e._uU(1," - "),e.qZA())}function q2(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,py,2,0,"span",6),e.TgZ(2,"a",7),e._uU(3),e.qZA()()),2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Q6J("ngIf",o>0),e.xp6(1),e.Q6J("fragment",t.displayName)("routerLink","."),e.xp6(1),e.Oqu(t.displayName)}}const fy=function(r){return["/words",r]};function IC(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",2),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",11)(4,"a",12),e._uU(5),e.qZA(),e._uU(6),e.TgZ(7,"a",13),e._uU(8),e.qZA(),e.TgZ(9,"span",3),e._uU(10),e.qZA()(),e.TgZ(11,"th",2),e._uU(12,"|"),e.qZA()()),2&r){const t=n.$implicit;e.xp6(4),e.Q6J("routerLink",e.VKq(6,fy,null==t.word?null:t.word.word)),e.xp6(1),e.Oqu(null==t.word?null:t.word.writtenWord),e.xp6(1),e.hij(" ",null==t.word||null==t.word.partOfSpeech?null:t.word.partOfSpeech.abbreviation," "),e.xp6(1),e.Q6J("routerLink",e.VKq(8,fy,null==t.word?null:t.word.word)),e.xp6(1),e.hij("/ ",null==t.word?null:t.word.word," /"),e.xp6(2),e.hij(" ",null==t.word?null:t.word.comment,"")}}function V2(r,n){if(1&r&&(e.TgZ(0,"p"),e._uU(1," From "),e._UZ(2,"app-word-detail-list",18),e._uU(3,". "),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("wordsWithTranslations",null==t.etymology?null:t.etymology.from)}}function Et(r,n){1&r&&(e.TgZ(0,"p"),e._uU(1,"New word."),e.qZA())}function aI(r,n){if(1&r&&(e.TgZ(0,"p"),e._uU(1," Cognate with "),e._UZ(2,"app-word-detail-list",18),e._uU(3,". "),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("wordsWithTranslations",null==t.etymology?null:t.etymology.cognate)}}function uI(r,n){if(1&r&&(e.TgZ(0,"div",20),e._UZ(1,"app-word-detail-translations",21),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("translations",t.translations)}}function lI(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",14),e._uU(6,"Translations"),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr"),e._UZ(16,"th",15),e.TgZ(17,"th",16),e.YNc(18,uI,2,1,"div",19),e.qZA(),e._UZ(19,"th",15),e.qZA(),e.TgZ(20,"tr")(21,"th",2),e._uU(22,"+"),e.qZA(),e._UZ(23,"th",5),e.TgZ(24,"th",2),e._uU(25,"+"),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(18),e.Q6J("ngIf",t.translations)}}function pd(r,n){if(1&r&&(e.TgZ(0,"p"),e._uU(1," Derived to "),e._UZ(2,"app-word-detail-list",18),e._uU(3,". "),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("wordsWithTranslations",t.derived)}}function cI(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",14),e._uU(6,"Derived"),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr"),e._UZ(16,"th",15),e.TgZ(17,"th",16)(18,"div",17),e.YNc(19,pd,4,1,"p",6),e.qZA()(),e._UZ(20,"th",15),e.qZA(),e.TgZ(21,"tr")(22,"th",2),e._uU(23,"+"),e.qZA(),e._UZ(24,"th",5),e.TgZ(25,"th",2),e._uU(26,"+"),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(19),e.Q6J("ngIf",t.derived)}}function ug(r,n){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.TgZ(2,"a"),e._uU(3),e.TgZ(4,"span",3),e._uU(5),e.qZA()(),e._uU(6,". "),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij("",null==t.language?null:t.language.displayName,": "),e.xp6(2),e.hij("",t.word," "),e.xp6(2),e.hij("(",t.writtenWord,")")}}function lg(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",14),e._uU(6,"Descendants"),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr"),e._UZ(16,"th",15),e.TgZ(17,"th",16)(18,"div",20)(19,"ul"),e.YNc(20,ug,7,3,"li",4),e.qZA()()(),e._UZ(21,"th",15),e.qZA(),e.TgZ(22,"tr")(23,"th",2),e._uU(24,"+"),e.qZA(),e._UZ(25,"th",5),e.TgZ(26,"th",2),e._uU(27,"+"),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(20),e.Q6J("ngForOf",t.descendants)}}function lr(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",2)(5,"span",14),e._uU(6),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.TgZ(15,"tr")(16,"th",2),e._uU(17,"|"),e.qZA(),e.TgZ(18,"th",2)(19,"span",14),e._uU(20,"Etymology "),e.TgZ(21,"span"),e._uU(22),e.qZA()()(),e.TgZ(23,"th",2),e._uU(24,"|"),e.qZA()(),e.TgZ(25,"tr")(26,"th",2),e._uU(27,"+"),e.qZA(),e._UZ(28,"th",5),e.TgZ(29,"th",2),e._uU(30,"+"),e.qZA()(),e.TgZ(31,"tr"),e._UZ(32,"th",15),e.TgZ(33,"th",16)(34,"div",17),e.YNc(35,V2,4,1,"p",6),e.YNc(36,Et,2,0,"p",6),e.YNc(37,aI,4,1,"p",6),e.qZA()(),e._UZ(38,"th",15),e.qZA(),e.TgZ(39,"tr")(40,"th",2),e._uU(41,"+"),e.qZA(),e._UZ(42,"th",5),e.TgZ(43,"th",2),e._uU(44,"+"),e.qZA()(),e.YNc(45,lI,26,1,"ng-container",6),e.YNc(46,cI,27,1,"ng-container",6),e.YNc(47,lg,28,1,"ng-container",6),e.BQk()),2&r){const t=n.$implicit,o=n.index;e.xp6(6),e.Oqu(null==t.word||null==t.word.partOfSpeech?null:t.word.partOfSpeech.name),e.xp6(16),e.Oqu(o+1),e.xp6(13),e.Q6J("ngIf",null==t.etymology||null==t.etymology.from?null:t.etymology.from.length),e.xp6(1),e.Q6J("ngIf",!(null!=t.etymology&&null!=t.etymology.from&&t.etymology.from.length)),e.xp6(1),e.Q6J("ngIf",null==t.etymology||null==t.etymology.cognate?null:t.etymology.cognate.length),e.xp6(8),e.Q6J("ngIf",t.translations&&t.translations.length),e.xp6(1),e.Q6J("ngIf",t.derived&&t.derived.length),e.xp6(1),e.Q6J("ngIf",t.descendants&&t.descendants.length)}}function B2(r,n){if(1&r&&(e.TgZ(0,"tbody")(1,"tr")(2,"th",2),e._uU(3,"|"),e.qZA(),e.TgZ(4,"th",8)(5,"a",9),e._uU(6),e.qZA()(),e.TgZ(7,"th",2),e._uU(8,"|"),e.qZA()(),e.TgZ(9,"tr")(10,"th",2),e._uU(11,"+"),e.qZA(),e._UZ(12,"th",5),e.TgZ(13,"th",2),e._uU(14,"+"),e.qZA()(),e.YNc(15,IC,13,10,"tr",4),e.TgZ(16,"tr")(17,"th",2),e._uU(18,"+"),e.qZA(),e._UZ(19,"th",10),e.TgZ(20,"th",2),e._uU(21,"+"),e.qZA()(),e.YNc(22,lr,48,8,"ng-container",4),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(5),e.Q6J("fragment",t.displayName)("id",t.displayName)("routerLink","."),e.xp6(1),e.Oqu(t.displayName),e.xp6(9),e.Q6J("ngForOf",o.detailedWords.get(t)),e.xp6(7),e.Q6J("ngForOf",o.detailedWords.get(t))}}let EC=(()=>{class r{constructor(t){this.activatedRoute=t,this.detailedWords=new Map,this.languages=[]}get detailedWordsKeys(){return this.languages}ngOnInit(){this.activatedRoute.data.subscribe(t=>{if(t&&t.wordDetails){const o=t.wordDetails;console.log(o);const i={displayName:""};this.languages=o.filter(u=>{var d;return null===(d=u.word)||void 0===d?void 0:d.language}).map(u=>{var d;return null!==(d=u.word)&&void 0!==d&&d.language?u.word.language:i}),o.forEach(u=>{var d;if(null!==(d=u.word)&&void 0!==d&&d.language){const g=this.detailedWords.get(u.word.language);g?g.push(u):this.detailedWords.set(u.word.language,[u])}})}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Qs))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-words"]],decls:20,vars:2,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],[1,"border"],[1,"text-grey"],[4,"ngFor","ngForOf"],["app-horizontal-dash","",1,"border"],[4,"ngIf"],[1,"text-main","link-btn",3,"fragment","routerLink"],[1,"text-white"],[1,"text-white","link-btn",2,"text-transform","uppercase",3,"fragment","id","routerLink"],["app-horizontal-dash","",1,"border-dull"],[1,"border",2,"text-align","left"],[1,"text-green-dull","text-line","link-btn",3,"routerLink"],[1,"text-main","link-btn",3,"routerLink"],[2,"text-transform","capitalize"],["app-vertical-dash","",1,"border"],[2,"text-align","left"],[1,"cell-content","text-cell-content"],[3,"wordsWithTranslations"],["class","cell-content",4,"ngIf"],[1,"cell-content"],[3,"translations"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0),e.qZA(),e.TgZ(5,"tbody")(6,"tr")(7,"th",2),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",3),e.YNc(10,q2,4,4,"span",4),e.qZA(),e.TgZ(11,"th",2),e._uU(12,"|"),e.qZA()(),e.TgZ(13,"tr")(14,"th",2),e._uU(15,"+"),e.qZA(),e._UZ(16,"th",5),e.TgZ(17,"th",2),e._uU(18,"+"),e.qZA()()(),e.YNc(19,B2,23,6,"tbody",4),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngForOf",o.detailedWordsKeys),e.xp6(9),e.Q6J("ngForOf",o.detailedWordsKeys))},dependencies:[gt,Ut,$i,Jn,ku,wC,F2],styles:[".text-line[_ngcontent-%COMP%]{margin-left:32px;text-transform:capitalize}.cell-content[_ngcontent-%COMP%]{margin:16px}.text-cell-content[_ngcontent-%COMP%]{text-indent:16px}.word-description[_ngcontent-%COMP%]{margin-block-start:.5em;padding-inline-start:40px}.border-dull[_ngcontent-%COMP%]{color:#3d3d3d!important}"]}),r})(),DC=(()=>{class r{constructor(){this.tabs=[{name:"Connections",route:"connections",enabled:!0},{name:"List evolve",route:"list",enabled:!0}]}ngOnInit(){}refreshAll(){}changeLang(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-evolution"]],decls:2,vars:1,consts:[[1,"table-container"],[3,"tabs"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-tab-routes",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("tabs",o.tabs))},dependencies:[cy]}),r})(),gy=(()=>{class r extends sd{constructor(t,o){super(t,o)}addTranslation$Response(t){const o=new Nt(this.rootUrl,r.AddTranslationPath,"post");return t&&o.body(t.body,"application/json"),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i.clone({body:parseFloat(String(i.body))})))}addTranslation(t){return this.addTranslation$Response(t).pipe((0,se.U)(o=>o.body))}getAllWordsWithTranslationsFromLang1$Response(t){const o=new Nt(this.rootUrl,r.GetAllWordsWithTranslationsFromLang1Path,"get");return t&&o.query("filter",t.filter,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getAllWordsWithTranslationsFromLang1(t){return this.getAllWordsWithTranslationsFromLang1$Response(t).pipe((0,se.U)(o=>o.body))}getTranslationsForWord$Response(t){const o=new Nt(this.rootUrl,r.GetTranslationsForWordPath,"get");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}getTranslationsForWord(t){return this.getTranslationsForWord$Response(t).pipe((0,se.U)(o=>o.body))}deleteTranslation$Response(t){const o=new Nt(this.rootUrl,r.DeleteTranslationPath,"delete");return t&&o.path("id",t.id,{}),this.http.request(o.build({responseType:"text",accept:"*/*"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i.clone({body:void 0})))}deleteTranslation(t){return this.deleteTranslation$Response(t).pipe((0,se.U)(o=>o.body))}}return r.AddTranslationPath="/api/translation/",r.GetAllWordsWithTranslationsFromLang1Path="/api/translation/page",r.GetTranslationsForWordPath="/api/translation/tranlationsfor/{id}",r.DeleteTranslationPath="/api/translation/{id}",r.\u0275fac=function(t){return new(t||r)(e.LFG(Ba),e.LFG(Va))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function SC(r,n){if(1&r&&(e.TgZ(0,"option",4),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.displayName)}}let fd=(()=>{class r{constructor(t){this.languagesService=t,this.selectedLanguageChange=new e.vpe,this.allLanguages=[]}ngOnInit(){console.log("AllLanguagesComponent"),console.log(this.label),this.languagesService.getAllLanguages().subscribe(t=>{this.allLanguages=t.sort((o,i)=>o.displayName.localeCompare(i.displayName)),this.selectedLanguage&&this.allLanguages.forEach(o=>{var i;(null===(i=this.selectedLanguage)||void 0===i?void 0:i.id)===o.id&&(this.selectedLanguage=o,this.changeLanguage())})})}changeLanguage(){console.log("changeLanguage",this.selectedLanguage),this.selectedLanguageChange.emit(this.selectedLanguage)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Co))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-all-languages"]],inputs:{label:"label",selectedLanguage:"selectedLanguage"},outputs:{selectedLanguageChange:"selectedLanguageChange"},decls:8,vars:4,consts:[[1,"selector"],["for","languageSelector",1,"languageSelectorLabel"],[1,"input-group"],["id","languageSelector","name","languageSelector",1,"languageSelector",3,"ngModel","ngModelChange","change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"select",3),e.NdJ("ngModelChange",function(u){return o.selectedLanguage=u})("change",function(){return o.changeLanguage()}),e.TgZ(5,"option",4),e._uU(6," --- Select Language --- "),e.qZA(),e.YNc(7,SC,2,2,"option",5),e.qZA()()()),2&t&&(e.xp6(2),e.Oqu(o.label),e.xp6(2),e.Q6J("ngModel",o.selectedLanguage),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.allLanguages))},dependencies:[gt,Xo,_s,zr,tr,Nn],styles:[".languageSelector[_ngcontent-%COMP%]{margin-top:4px}.languageSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})();const xC=["app-translation-line",""];function kC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.startAddTranslation())}),e._uU(1,"[Edit]"),e.qZA()}}function dI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelTranslation())}),e._uU(1,"[Cancel]"),e.qZA()}}function hI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"["),e.TgZ(2,"a",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw(3);return e.KtG(u.deleteTranslation(i))}),e._uU(3,"x"),e.qZA(),e._uU(4,"]"),e.qZA()}}function pI(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"app-translation-word",13),e.YNc(3,hI,5,0,"span",8),e.qZA()),2&r){const t=n.$implicit,o=n.index,i=e.oxw(3);e.xp6(1),e.hij("",0==o?"":"; "," "),e.xp6(1),e.Q6J("translation",t),e.xp6(1),e.Q6J("ngIf",i.editMode)}}function Qh(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",10)(4,"span",3),e._uU(5),e.qZA()(),e.TgZ(6,"th",11)(7,"span",3),e._uU(8),e.ALo(9,"translationType"),e.qZA()(),e.TgZ(10,"th",12),e.YNc(11,pI,4,3,"span",7),e.qZA(),e._UZ(12,"th",0),e.TgZ(13,"th",0),e._uU(14,"|"),e.qZA()()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(3),e.Q6J("rowSpan",i.getLanguageRowspans(o)),e.xp6(2),e.Oqu(o),e.xp6(3),e.Oqu(e.lcZ(9,4,t)),e.xp6(3),e.Q6J("ngForOf",i.getTranslationForWordAndType(t,!0,o))}}function fI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span"),e._uU(1,"["),e.TgZ(2,"a",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw(3);return e.KtG(u.deleteTranslation(i))}),e._uU(3,"x"),e.qZA(),e._uU(4,"]"),e.qZA()}}function gI(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"span",15),e._UZ(3,"app-translation-word",13),e.YNc(4,fI,5,0,"span",8),e.qZA()()),2&r){const t=n.$implicit,o=n.index,i=e.oxw(3);e.xp6(1),e.hij("",0==o?"":"; "," "),e.xp6(2),e.Q6J("translation",t),e.xp6(1),e.Q6J("ngIf",i.editMode)}}function mI(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",11)(4,"span",3),e._uU(5),e.ALo(6,"translationType"),e.qZA()(),e.TgZ(7,"th",12),e.YNc(8,gI,5,3,"span",7),e.qZA(),e._UZ(9,"th",0),e.TgZ(10,"th",0),e._uU(11,"|"),e.qZA()()),2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,2,t)),e.xp6(3),e.Q6J("ngForOf",i.getTranslationForWordAndType(t,!1,o))}}function cg(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Qh,15,6,"tr",7),e.YNc(2,mI,12,4,"tr",7),e.BQk()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.getTranslationTypes(!0,t)),e.xp6(1),e.Q6J("ngForOf",o.getTranslationTypes(!1,t))}}function ZC(r,n){if(1&r&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function NC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr"),e._UZ(1,"th",16),e.TgZ(2,"th",17)(3,"div",18)(4,"app-all-languages",19),e.NdJ("selectedLanguageChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.changeLanguage(i))})("selectedLanguageChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.language=i)}),e.qZA(),e.TgZ(5,"input",20),e.NdJ("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.changedWordTranslation(i))})("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.wordTranslation=i)}),e.qZA(),e.TgZ(6,"span",21)(7,"select",22),e.NdJ("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.changePos(i))})("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.pos=i)}),e.TgZ(8,"option",23),e._uU(9,"--- Part of Speech ---"),e.qZA(),e.YNc(10,ZC,2,2,"option",24),e.qZA()(),e.TgZ(11,"a",25),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addAsPhrase=!i.addAsPhrase)}),e._uU(12,"[ Phrase ]"),e.qZA()()(),e.TgZ(13,"th",26)(14,"a",27),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addNewTranslation())}),e._uU(15,"[Add New]"),e.qZA()(),e._UZ(16,"th",16),e.qZA()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("selectedLanguage",t.language)("label","To"),e.xp6(1),e.Q6J("ngModel",t.wordTranslation),e.xp6(2),e.Q6J("ngModel",t.pos),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",t.poses),e.xp6(1),e.Q6J("ngClass",t.addAsPhrase?"text-blue-dull":"text-grey-dull")}}const my=function(r){return["/words/word",r]};function _I(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th")(4,"a",29),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.addTranslationWord(u))}),e._uU(5,"[+]"),e.qZA()(),e.TgZ(6,"th",2)(7,"a",30),e._uU(8),e.qZA(),e._uU(9),e.qZA(),e.TgZ(10,"th",0),e._uU(11,"|"),e.qZA()()}if(2&r){const t=n.$implicit;e.xp6(7),e.Q6J("fragment",null==t.language?null:t.language.displayName)("routerLink",e.VKq(6,my,t.word)),e.xp6(1),e.Oqu(t.writtenWord),e.xp6(1),e.lnq(" / ",t.word," / ",null==t.partOfSpeech?null:t.partOfSpeech.abbreviation," ",null==t.language?null:t.language.displayName," ")}}function Kh(r,n){if(1&r&&(e.ynx(0),e.YNc(1,_I,12,8,"tr",7),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.wordsForTranslation.data)}}let Yh=(()=>{class r{constructor(t,o,i){this.posService=t,this.wordsService=o,this.translationService=i,this.poses=[],this.wordsForTranslation={},this.editMode=!1,this.addAsPhrase=!1}ngOnInit(){}getTranslationTypes(t,o){var i;const u=null===(i=this.word.translations)||void 0===i?void 0:i.filter(g=>{var v,w;return t?g.wordTo&&(null===(v=g.wordTo.language)||void 0===v?void 0:v.displayName)===o:g.phraseTo&&(null===(w=g.phraseTo.language)||void 0===w?void 0:w.displayName)===o}).map(g=>g.type).map(g=>g||Vl.General);return[...new Set(u)]||[]}getLanguageRowspans(t){return this.getTranslationTypes(!0,t).length+this.getTranslationTypes(!1,t).length}getTranslationLangs(){var t;const o=null===(t=this.word.translations)||void 0===t?void 0:t.map(u=>{var d,g,v;return null!==(d=u.wordTo)&&void 0!==d&&d.language?null===(g=u.wordTo)||void 0===g?void 0:g.language:null===(v=u.phraseTo)||void 0===v?void 0:v.language}).map(u=>u?u.displayName:"Unknown");return[...new Set(o)]||[]}getTranslationForWordAndType(t,o,i){var u;return(null===(u=this.word.translations)||void 0===u?void 0:u.filter(g=>{var v,w;return(o?g.wordTo&&(null===(v=g.wordTo.language)||void 0===v?void 0:v.displayName)===i:g.phraseTo&&(null===(w=g.phraseTo.language)||void 0===w?void 0:w.displayName)===i)&&g.type===t}))||[]}changeLanguage(t){console.log(t),this.pos=void 0,null!=t&&t.id&&this.posService.getAllPosByLanguage({languageId:null==t?void 0:t.id}).subscribe(o=>{var i;this.poses=o.sort((u,d)=>u.name?u.name.localeCompare(d.name?d.name:""):-1),null!==(i=this.word.partOfSpeech)&&void 0!==i&&i.id&&o.forEach(u=>{var d;(null===(d=this.word.partOfSpeech)||void 0===d?void 0:d.id)===u.id&&(this.pos=u,this.changePos(u,t))})})}changePos(t,o=this.language){console.log("changePos",t,"lang",o),o&&this.loadWordsTranslations(t,o)}startAddTranslation(){this.editMode=!0,this.languageToFilter&&(this.language=this.languageToFilter,console.log("start add translation",this.language))}loadWordsTranslations(t=this.pos,o=this.language,i=this.wordTranslation){console.log("loadWordsTranslations",t,"lang",o,"wordTranslation",i),o&&i&&this.wordsService.getAllWords({filter:{word:i,languageId:null==o?void 0:o.id,posId:null==t?void 0:t.id}}).subscribe(u=>{this.wordsForTranslation=u})}changedWordTranslation(t){this.loadWordsTranslations(this.pos,this.language,t)}addTranslationWord(t){this.addTranslation({type:Vl.General,wordTo:t,wordFrom:this.word})}addNewTranslation(){this.refreshEdit()}deleteTranslation(t){t.id&&this.translationService.deleteTranslation({id:t.id}).subscribe(()=>{var o;this.word.translations=null===(o=this.word.translations)||void 0===o?void 0:o.filter(i=>i.id!==t.id),this.refreshEdit()})}cancelTranslation(){this.refreshEdit()}addTranslation(t){this.translationService.addTranslation({body:t}).subscribe(()=>{this.word.id?this.translationService.getTranslationsForWord({id:this.word.id}).subscribe(o=>{this.word.translations=o,this.refreshEdit()}):this.refreshEdit()})}refreshEdit(){this.language=void 0,this.pos=void 0,this.wordTranslation=void 0,this.editMode=!1,this.wordsForTranslation={}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ja),e.Y36(Zu),e.Y36(gy))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tbody","app-translation-line",""]],inputs:{word:"word",languageToFilter:"languageToFilter"},attrs:xC,decls:24,vars:13,consts:[[1,"border"],["app-horizontal-dash","","colspan","4",1,"border"],["colspan","3",2,"padding-left","8px","padding-right","8px","white-space","nowrap","text-align","left"],[2,"white-space","nowrap"],[1,"text-main","link-btn",2,"text-transform","capitalize",3,"fragment","routerLink"],[1,"text-grey"],["class","text-grey-dull",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-grey-dull",3,"click"],[1,"border",2,"padding-left","4px","padding-right","8px","text-align","left",3,"rowSpan"],[1,"border",2,"padding-left","4px","padding-right","8px","text-align","left"],[2,"padding-left","8px","padding-right","8px","white-space","nowrap","text-align","left"],[3,"translation"],[1,"text-red-dull",3,"click"],[1,"text-blue-dull","link-btn"],["app-vertical-dash","",1,"border"],["colspan","3"],[2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],["type","text",2,"height","16px","margin-left","8px","margin-top","30px","margin-right","0px",3,"ngModel","ngModelChange"],[2,"margin-left","8px","text-align","end"],["id","posSelector",1,"posSelector",2,"margin-top","28px",3,"ngModel","ngModelChange"],["disabled","",1,"text-grey-dull",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[2,"margin-left","16px","vertical-align","text-bottom","margin-top","32px",3,"ngClass","click"],[1,"border",2,"padding-top","22px"],[1,"text-green-dull",2,"vertical-align","text-bottom",3,"click"],[3,"ngValue"],[1,"text-green-dull","link-btn",3,"click"],[1,"text-blue-dull","link-btn",3,"fragment","routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"+"),e.qZA(),e._UZ(3,"th",1),e.TgZ(4,"th",0),e._uU(5,"+"),e.qZA()(),e.TgZ(6,"tr")(7,"th",0),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",2)(10,"span",3)(11,"a",4),e._uU(12),e.TgZ(13,"span",5),e._uU(14),e.qZA()()(),e._uU(15),e.qZA(),e.TgZ(16,"th",0),e.YNc(17,kC,2,0,"a",6),e.YNc(18,dI,2,0,"a",6),e.qZA(),e.TgZ(19,"th",0),e._uU(20,"|"),e.qZA()(),e.YNc(21,cg,3,2,"ng-container",7),e.YNc(22,NC,17,7,"tr",8),e.YNc(23,Kh,2,1,"ng-container",8)),2&t&&(e.xp6(11),e.Q6J("fragment",null==o.word.language?null:o.word.language.displayName)("routerLink",e.VKq(11,my,o.word.word)),e.xp6(1),e.hij("",o.word.writtenWord," "),e.xp6(2),e.hij("/",o.word.word,"/"),e.xp6(1),e.AsE(" ",null==o.word.partOfSpeech?null:o.word.partOfSpeech.abbreviation," ",null==o.word.language?null:o.word.language.displayName," "),e.xp6(2),e.Q6J("ngIf",!o.editMode),e.xp6(1),e.Q6J("ngIf",o.editMode),e.xp6(3),e.Q6J("ngForOf",o.getTranslationLangs()),e.xp6(1),e.Q6J("ngIf",o.editMode),e.xp6(1),e.Q6J("ngIf",o.editMode))},dependencies:[jr,gt,Ut,$i,Xo,_s,jn,zr,tr,Nn,Jn,ku,fd,ag,hy]}),r})();function yI(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"tbody",15),e.BQk()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.Q6J("word",t)("languageToFilter",o.languageTo)}}let vI=(()=>{class r{constructor(t,o){this.translationService=t,this.languageService=o,this.words={},this.pageSize=20}ngOnInit(){}load(t){this.translationService.getAllWordsWithTranslationsFromLang1({filter:t}).subscribe(o=>{o.data&&(this.words=o)})}loadDefault(t){var o,i;console.log("loadDefault",t,this.languageFrom,this.languageTo,this.wordSearch,this.translationSearch),t||(t={}),t={page:t.page?t.page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,translation:t.translation?t.translation:""===t.translation?void 0:this.translationSearch,languageFromId:t.languageFromId?t.languageFromId:null===t.languageFromId||null===(o=this.languageFrom)||void 0===o?void 0:o.id,languageToId:t.languageToId?t.languageToId:null===t.languageToId||null===(i=this.languageTo)||void 0===i?void 0:i.id},this.load(t)}resetFilter(){this.languageFrom=void 0,this.languageTo=void 0,this.wordSearch=void 0,this.translationSearch=void 0,this.loadDefault({})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(gy),e.Y36(Co))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-translations"]],decls:51,vars:11,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","9px"],["span","1",2,"width","70px"],[1,"border"],[1,"border",2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],["type","text",2,"height","16px","margin-left","8px","margin-top","30px","margin-right","0px",3,"ngModel","ngModelChange"],[1,"text-red-dull",3,"click"],[1,"table-content"],["span","1",2,"width","1%"],["span","1",2,"width","20px"],["span","1",2,"width","72px"],[4,"ngFor","ngForOf"],[3,"page","size","totalPages","total","load"],["app-translation-line","",3,"word","languageToFilter"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",0),e.qZA(),e.TgZ(7,"tbody")(8,"tr")(9,"th",4),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e._UZ(15,"br"),e._uU(16,"|"),e.qZA(),e.TgZ(17,"th",5)(18,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(u){return o.loadDefault({languageFromId:u.id})})("selectedLanguageChange",function(u){return o.languageFrom=u}),e.qZA(),e.TgZ(19,"input",7),e.NdJ("ngModelChange",function(u){return o.loadDefault({word:u})})("ngModelChange",function(u){return o.wordSearch=u}),e.qZA(),e.TgZ(20,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(u){return o.loadDefault({languageToId:u.id})})("selectedLanguageChange",function(u){return o.languageTo=u}),e.qZA(),e.TgZ(21,"input",7),e.NdJ("ngModelChange",function(u){return o.loadDefault({translation:u})})("ngModelChange",function(u){return o.translationSearch=u}),e.qZA()(),e.TgZ(22,"th",4),e._uU(23,"|"),e._UZ(24,"br"),e._uU(25,"|"),e._UZ(26,"br"),e._uU(27,"|"),e._UZ(28,"br"),e._uU(29,"|"),e.qZA(),e.TgZ(30,"th")(31,"a",8),e.NdJ("click",function(){return o.resetFilter()}),e._uU(32,"[ x ]"),e.qZA()(),e.TgZ(33,"th",4),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e._UZ(39,"br"),e._uU(40,"|"),e.qZA()()()(),e.TgZ(41,"table",9)(42,"colgroup"),e._UZ(43,"col",0)(44,"col",10)(45,"col",11)(46,"col",1)(47,"col",12)(48,"col",0),e.qZA(),e.YNc(49,yI,2,2,"ng-container",13),e.qZA(),e.TgZ(50,"app-list-paginator",14),e.NdJ("load",function(u){return o.loadDefault(u)}),e.qZA()),2&t&&(e.xp6(18),e.Q6J("selectedLanguage",o.languageFrom)("label","From"),e.xp6(1),e.Q6J("ngModel",o.wordSearch),e.xp6(1),e.Q6J("selectedLanguage",o.languageTo)("label","To"),e.xp6(1),e.Q6J("ngModel",o.translationSearch),e.xp6(28),e.Q6J("ngForOf",o.words.data),e.xp6(1),e.Q6J("page",o.words.page?o.words.page:0)("size",o.pageSize)("totalPages",o.words.totalPages?o.words.totalPages:0)("total",o.words.total?o.words.total:0))},dependencies:[gt,jn,tr,Nn,fd,dy,Yh]}),r})();var jl=(()=>{return(r=jl||(jl={})).Evolving="EVOLVING",r.Borrowing="BORROWING",r.Derivation="DERIVATION",jl;var r})();function MC(r,n){if(1&r&&(e.TgZ(0,"option",4),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t)}}let PC=(()=>{class r{constructor(){this.selectedLanguageConnectionChange=new e.vpe,this.allConnectionTypes=[jl.Evolving,jl.Borrowing]}ngOnInit(){}changeConnection(){console.log("changeLanguage",this.selectedLanguageConnection),this.selectedLanguageConnectionChange.emit(this.selectedLanguageConnection)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-connection"]],inputs:{label:"label",selectedLanguageConnection:"selectedLanguageConnection"},outputs:{selectedLanguageConnectionChange:"selectedLanguageConnectionChange"},decls:8,vars:4,consts:[[1,"selector"],["for","languageConnectionSelector",1,"languageConnectionSelectorLabel"],[1,"input-group"],["id","languageConnectionSelector","name","languageConnectionSelector",1,"languageConnectionSelector",3,"ngModel","ngModelChange","change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"select",3),e.NdJ("ngModelChange",function(u){return o.selectedLanguageConnection=u})("change",function(){return o.changeConnection()}),e.TgZ(5,"option",4),e._uU(6,"No connection"),e.qZA(),e.YNc(7,MC,2,2,"option",5),e.qZA()()()),2&t&&(e.xp6(2),e.Oqu(o.label),e.xp6(2),e.Q6J("ngModel",o.selectedLanguageConnection),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.allConnectionTypes))},dependencies:[gt,Xo,_s,zr,tr,Nn],styles:[".languageConnectionSelector[_ngcontent-%COMP%]{margin-top:4px}.languageConnectionSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]}),r})();function UC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"app-language-connection",12),e.NdJ("selectedLanguageConnectionChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.languagesConnectionTypeChanged(i))}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("label","Type")("selectedLanguageConnection",t.connectionType)}}function CI(r,n){1&r&&e._UZ(0,"th",7)}function OC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",3),e._uU(1,"[ "),e.TgZ(2,"a",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"E"),e.qZA(),e._uU(5,"dit"),e.qZA(),e._uU(6," ]-"),e.qZA()}}function TI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"th",3),e._uU(1,"[ "),e.TgZ(2,"a",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveSoundChanges())}),e.TgZ(3,"b"),e._uU(4,"S"),e.qZA(),e._uU(5,"ave"),e.qZA(),e._uU(6," ]-["),e.TgZ(7,"a",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelSoundChanges())}),e._uU(8," x "),e.qZA(),e._uU(9,"]-"),e.qZA()}}function wI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-table",16),e.NdJ("soundChangesChanges",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.soundChangesChanges)}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChanges",t.soundChanges)}}function j2(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-sound-changes-edit",17),e.NdJ("soundChangesRawChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.soundChangesRaw=i)})("soundChangesRawChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.soundChangesRawChange())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("soundChangesRaw",t.soundChangesRaw)}}let $2=(()=>{class r extends q1{constructor(t){super(ql.SoundChange),this.languagesEvolutionService=t}ngOnChanges(t){}editSoundChanges(){var t;console.log("hello",null===(t=this.languageFrom)||void 0===t?void 0:t.displayName),this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.getSoundChangesRawLinesByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,soundChangePurpose:this.soundChangePurpose}).subscribe(o=>{this.soundChangesRaw=o,console.log("editSoundChanges soundChangesRaw",this.soundChangesRaw),this.editMode=!0})}saveSoundChanges(){this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.saveSoundChangesRawLinesByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,body:this.soundChangesRaw,soundChangePurpose:this.soundChangePurpose}).subscribe(()=>{this.editMode=!1,this.refresh()})}refresh(){this.connectionType=void 0,this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.getSoundChangesByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,soundChangePurpose:this.soundChangePurpose}).subscribe(t=>{this.soundChanges=t,this.refreshConnectionType()})}languageChanged(){this.editMode=!1,this.refresh()}languageFromChanged(t){this.languageFrom=t,this.languageChanged()}languageToChanged(t){this.languageTo=t,this.languageChanged()}languagesConnectionTypeChanged(t){console.log("languagesConnectionTypeChanged",t),this.connectionType=t,this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&(this.connectionType?this.languagesEvolutionService.updateConnectionByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id,body:{languageConnectionType:this.connectionType}}).subscribe(()=>{this.refresh()}):this.languagesEvolutionService.deleteConnectionByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id}).subscribe(()=>{this.refresh()}))}refreshConnectionType(){this.connectionType=void 0,this.languageFrom&&this.languageTo&&this.languageFrom.id&&this.languageTo.id&&this.languagesEvolutionService.getConnectionByLangs({fromLangId:this.languageFrom.id,toLangId:this.languageTo.id}).subscribe(t=>{this.connectionType=t.connectionType})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($a))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-connections"]],features:[e.qOj,e.TTD],decls:42,vars:10,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",1,"border",2,"width","max-content"],[1,"border"],[2,"text-align","left","display","flex"],[3,"label","selectedLanguage","selectedLanguageChange"],[4,"ngIf"],["app-horizontal-dash","",1,"border"],["app-horizontal-dash","","class","border",4,"ngIf"],["class","border",4,"ngIf"],[3,"soundChanges","soundChangesChanges",4,"ngIf"],[3,"soundChangesRaw","soundChangesRawChange",4,"ngIf"],[3,"label","selectedLanguageConnection","selectedLanguageConnectionChange"],[1,"text-yellow-dull",3,"click"],[1,"text-green-dull",3,"click"],[1,"text-red-dull",3,"click"],[3,"soundChanges","soundChangesChanges"],[3,"soundChangesRaw","soundChangesRawChange"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",0),e.qZA(),e.TgZ(6,"tbody")(7,"tr")(8,"th",3),e._uU(9,"|"),e._UZ(10,"br"),e._uU(11,"|"),e._UZ(12,"br"),e._uU(13,"|"),e._UZ(14,"br"),e._uU(15,"|"),e.qZA(),e.TgZ(16,"th",4)(17,"span")(18,"app-all-languages",5),e.NdJ("selectedLanguageChange",function(u){return o.languageFromChanged(u)}),e.qZA()(),e.TgZ(19,"span")(20,"app-all-languages",5),e.NdJ("selectedLanguageChange",function(u){return o.languageToChanged(u)}),e.qZA()(),e.YNc(21,UC,2,2,"span",6),e.qZA(),e._UZ(22,"th",3),e.TgZ(23,"th",3),e._uU(24,"|"),e._UZ(25,"br"),e._uU(26,"|"),e._UZ(27,"br"),e._uU(28,"|"),e._UZ(29,"br"),e._uU(30,"|"),e.qZA()(),e.TgZ(31,"tr")(32,"th",3),e._uU(33,"+"),e.qZA(),e._UZ(34,"th",7),e.YNc(35,CI,1,0,"th",8),e.YNc(36,OC,7,0,"th",9),e.YNc(37,TI,10,0,"th",9),e.TgZ(38,"th",3),e._uU(39,"+"),e.qZA()()()(),e.YNc(40,wI,1,1,"app-sound-changes-table",10),e.YNc(41,j2,1,1,"app-sound-changes-edit",11)),2&t&&(e.xp6(18),e.Q6J("label","From")("selectedLanguage",o.languageFrom),e.xp6(2),e.Q6J("label","To")("selectedLanguage",o.languageTo),e.xp6(1),e.Q6J("ngIf",o.languageFrom&&o.languageTo&&!o.editMode),e.xp6(14),e.Q6J("ngIf",!o.connectionType),e.xp6(1),e.Q6J("ngIf",!o.editMode&&o.connectionType),e.xp6(1),e.Q6J("ngIf",o.editMode&&o.connectionType),e.xp6(3),e.Q6J("ngIf",!o.editMode&&o.connectionType),e.xp6(1),e.Q6J("ngIf",o.editMode&&o.connectionType))},dependencies:[Ut,Jn,fd,ry,oy,PC]}),r})();function H2(r,n){if(1&r&&(e.TgZ(0,"span",28),e._uU(1),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.calculatedEvolution)}}function G2(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"span",29),e._uU(2),e.qZA(),e._uU(3," ("),e.TgZ(4,"a",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,u=e.oxw();return e.KtG(u.evolveSingleWord(i))}),e._uU(5),e.qZA(),e._uU(6,")"),e.qZA()}if(2&r){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(null==t.wordEvolved?null:t.wordEvolved.word),e.xp6(3),e.Oqu(t.calculatedEvolution)}}function RC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"a",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,u=e.oxw();return e.KtG(u.evolveSingleWord(i))}),e._uU(2),e.qZA()()}if(2&r){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(t.calculatedEvolution)}}function dg(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"th"),e.YNc(2,H2,2,1,"span",26),e.YNc(3,G2,7,2,"span",23),e.YNc(4,RC,3,1,"span",23),e.qZA(),e.TgZ(5,"th",4),e._uU(6,"|"),e.qZA(),e.TgZ(7,"th",27),e._uU(8),e.TgZ(9,"i"),e._uU(10),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",!!t.calculatedEvolution&&t.calculatedEvolution===(null==t.wordEvolved?null:t.wordEvolved.word)),e.xp6(1),e.Q6J("ngIf",!(null==t.wordEvolved||!t.wordEvolved.word)&&t.calculatedEvolution!=(null==t.wordEvolved?null:t.wordEvolved.word)),e.xp6(1),e.Q6J("ngIf",!(null!=t.wordEvolved&&t.wordEvolved.word)),e.xp6(4),e.hij(" ",null==t.wordEvolved||null==t.wordEvolved.partOfSpeech?null:t.wordEvolved.partOfSpeech.abbreviation," "),e.xp6(2),e.Oqu(null==t.languageConnection||null==t.languageConnection.langTo?null:t.languageConnection.langTo.displayName)}}function bI(r,n){1&r&&(e.ynx(0),e._UZ(1,"th",31),e.BQk())}function AI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw();return e.KtG(u.forget(i.word))}),e._uU(1,"unforget"),e.qZA()}}function LC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw();return e.KtG(u.forget(i.word))}),e._uU(1,"forget"),e.qZA()}}const Xh=function(r){return["/words/word",r]};function II(r,n){if(1&r&&(e.TgZ(0,"tr",12)(1,"th",4),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",21),e._uU(4),e.TgZ(5,"i"),e._uU(6),e.qZA()(),e.TgZ(7,"th",4),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th")(10,"a",22),e._uU(11),e.qZA()(),e.TgZ(12,"th",4),e._uU(13,"|"),e.qZA(),e.YNc(14,dg,11,5,"ng-container",23),e.YNc(15,bI,2,0,"ng-container",23),e.TgZ(16,"th",4),e._uU(17,"|"),e.qZA(),e.TgZ(18,"th",4),e.YNc(19,AI,2,0,"a",24),e.YNc(20,LC,2,0,"a",25),e.qZA(),e.TgZ(21,"th",4),e._uU(22,"|"),e.qZA()()),2&r){const t=n.$implicit;e.xp6(3),e.Q6J("ngClass",null!=t&&null!=t.word&&t.word.forgotten?"text-grey-dull":"text-grey"),e.xp6(1),e.hij(" ",null==t.word||null==t.word.partOfSpeech?null:t.word.partOfSpeech.abbreviation," "),e.xp6(2),e.Oqu(null==t.word||null==t.word.language?null:t.word.language.displayName),e.xp6(4),e.Q6J("ngClass",null!=t&&null!=t.word&&t.word.forgotten?"text-grey":"text-main")("routerLink",e.VKq(10,Xh,null==t.word?null:t.word.word)),e.xp6(1),e.Oqu(null==t.word?null:t.word.word),e.xp6(3),e.Q6J("ngIf",!(null!=t&&null!=t.word&&t.word.forgotten)),e.xp6(1),e.Q6J("ngIf",null==t||null==t.word?null:t.word.forgotten),e.xp6(4),e.Q6J("ngIf",null==t||null==t.word?null:t.word.forgotten),e.xp6(1),e.Q6J("ngIf",!(null!=t&&null!=t.word&&t.word.forgotten))}}let EI=(()=>{class r{constructor(t,o){this.languagesEvolutionService=t,this.wordsService=o,this.words={},this.pageSize=250,this.withoutForgotten=!0,this.onlyUnevolved=!1}static wordWEtoWTE(t){return{languageConnection:t.languageConnection,word:t.word}}ngOnInit(){}load(t){this.languagesEvolutionService.getAllWordsWithEvolutions({filter:t}).subscribe(o=>{this.words=o})}loadDefault(t){var o,i;t||(t={}),t={page:t.page?t.page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,languageFromId:t.languageFromId?t.languageFromId:null===t.languageFromId||null===(o=this.languageFrom)||void 0===o?void 0:o.id,languageToId:t.languageToId?t.languageToId:null===t.languageToId||null===(i=this.languageTo)||void 0===i?void 0:i.id,canBeForgotten:!this.withoutForgotten},this.load(t)}resetFilter(){this.languageFrom=void 0,this.languageTo=void 0,this.wordSearch=void 0,this.loadDefault({})}forget(t){t&&(t.forgotten=!t.forgotten,this.wordsService.addWord({body:t}).subscribe(o=>{var i;this.withoutForgotten?this.loadDefault(void 0):null===(i=this.words.data)||void 0===i||i.forEach(u=>{const d=u.word;d&&d.id===o.id&&(d.forgotten=o.forgotten,d.id=o.id,d.word=o.word,d.language=o.language,d.partOfSpeech=o.partOfSpeech,d.version=o.version)})}),t.forgotten=!t.forgotten)}evolveSingleWord(t){const o=r.wordWEtoWTE(t);this.languagesEvolutionService.addEvolvedWord({body:o}).subscribe(i=>{t.word=i.word,t.wordEvolved=i.wordEvolved,t.calculatedEvolution=i.calculatedEvolution,t.wordEvolvedType=i.wordEvolvedType,t.languageConnection=i.languageConnection})}filterWithoutForgotten(){this.withoutForgotten=!this.withoutForgotten,this.loadDefault(void 0)}filterOnlyUnevolved(){this.onlyUnevolved=!this.onlyUnevolved}evolvePage(){if(this.words.data){const t=this.words.data.filter(o=>{var i;return!(null!==(i=o.word)&&void 0!==i&&i.forgotten||o.wordEvolved&&o.wordEvolved.word===o.calculatedEvolution)}).map(o=>r.wordWEtoWTE(o));console.log(t),this.languagesEvolutionService.addEvolvedWord1({body:t}).subscribe(()=>{this.loadDefault(void 0)})}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($a),e.Y36(Zu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-evolution"]],decls:98,vars:14,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","9px"],["span","1",2,"width","70px"],[1,"border"],[1,"border",2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],["type","text",2,"height","16px","margin-left","8px","margin-top","30px","margin-right","0px",3,"ngModel","ngModelChange"],[2,"height","16px","margin-left","16px","margin-top","34px",3,"ngClass","click"],[3,"ngClass"],[1,"text-red-dull",3,"click"],["app-horizontal-dash","","colspan","3",1,"border"],[1,"table-content"],["span","1",2,"width","15%"],["span","1",2,"width","max-content"],["span","1",2,"width","65px"],["class","table-content",4,"ngFor","ngForOf"],[3,"page","size","totalPages","total","load"],[1,"text-green-dull",3,"click"],[1,"text-green-dull",2,"margin-left","16px"],["app-horizontal-dash","",1,"border"],[2,"text-align","left",3,"ngClass"],[1,"link-btn",3,"ngClass","routerLink"],[4,"ngIf"],["class","text-green-dull",3,"click",4,"ngIf"],["class","text-yellow-dull",3,"click",4,"ngIf"],["class","text-green-dull",4,"ngIf"],[1,"border",2,"text-align","left"],[1,"text-green-dull"],[1,"text-red-dull"],[1,"text-yellow-dull",3,"click"],["colspan","3",1,"border"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",2)(5,"col",3)(6,"col",0),e.qZA(),e.TgZ(7,"tbody")(8,"tr")(9,"th",4),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e._UZ(15,"br"),e._uU(16,"|"),e.qZA(),e.TgZ(17,"th",5)(18,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(u){return o.loadDefault({languageFromId:u.id})})("selectedLanguageChange",function(u){return o.languageFrom=u}),e.qZA(),e.TgZ(19,"app-all-languages",6),e.NdJ("selectedLanguageChange",function(u){return o.loadDefault({languageToId:u.id})})("selectedLanguageChange",function(u){return o.languageTo=u}),e.qZA(),e.TgZ(20,"input",7),e.NdJ("ngModelChange",function(u){return o.loadDefault({word:u})})("ngModelChange",function(u){return o.wordSearch=u}),e.qZA(),e.TgZ(21,"a",8),e.NdJ("click",function(){return o.filterWithoutForgotten()}),e._uU(22,"[ "),e.TgZ(23,"span",9),e._uU(24,"W"),e.qZA(),e._uU(25,"ithout Forgotten ]"),e.qZA(),e.TgZ(26,"a",8),e.NdJ("click",function(){return o.filterOnlyUnevolved()}),e._uU(27,"[ "),e.TgZ(28,"span",9),e._uU(29,"O"),e.qZA(),e._uU(30,"nly Unevolved ]"),e.qZA()(),e.TgZ(31,"th",4),e._uU(32,"|"),e._UZ(33,"br"),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e.qZA(),e.TgZ(39,"th")(40,"a",10),e.NdJ("click",function(){return o.resetFilter()}),e._uU(41,"[ x ]"),e.qZA()(),e.TgZ(42,"th",4),e._uU(43,"|"),e._UZ(44,"br"),e._uU(45,"|"),e._UZ(46,"br"),e._uU(47,"|"),e._UZ(48,"br"),e._uU(49,"|"),e.qZA()(),e.TgZ(50,"tr")(51,"th",4),e._uU(52,"+"),e.qZA(),e._UZ(53,"th",11),e.TgZ(54,"th",4),e._uU(55,"+"),e.qZA()()()(),e.TgZ(56,"table",12)(57,"colgroup"),e._UZ(58,"col",0)(59,"col",13)(60,"col",0)(61,"col",14)(62,"col",0)(63,"col",14)(64,"col",0)(65,"col",1)(66,"col",0)(67,"col",15)(68,"col",0),e.qZA(),e.TgZ(69,"tbody",12),e.YNc(70,II,23,12,"tr",16),e.qZA()(),e.TgZ(71,"app-list-paginator",17),e.NdJ("load",function(u){return o.loadDefault(u)}),e.qZA(),e.TgZ(72,"table")(73,"colgroup"),e._UZ(74,"col",0)(75,"col",1)(76,"col",0),e.qZA(),e.TgZ(77,"tbody")(78,"tr")(79,"th",4),e._uU(80,"|"),e._UZ(81,"br"),e._uU(82,"|"),e.qZA(),e.TgZ(83,"th",4)(84,"a",18),e.NdJ("click",function(){return o.evolvePage()}),e._uU(85,"[ Evolve Page ]"),e.qZA(),e.TgZ(86,"a",19),e._uU(87,"[ Evolve All Words ]"),e.qZA()(),e.TgZ(88,"th",4),e._uU(89,"|"),e._UZ(90,"br"),e._uU(91,"|"),e.qZA()(),e.TgZ(92,"tr")(93,"th",4),e._uU(94,"+"),e.qZA(),e._UZ(95,"th",20),e.TgZ(96,"th",4),e._uU(97,"+"),e.qZA()()()()),2&t&&(e.xp6(18),e.Q6J("selectedLanguage",o.languageFrom)("label","From"),e.xp6(1),e.Q6J("selectedLanguage",o.languageTo)("label","To"),e.xp6(1),e.Q6J("ngModel",o.wordSearch),e.xp6(1),e.Q6J("ngClass",o.withoutForgotten?"text-green-dull":"text-grey-dull"),e.xp6(2),e.Q6J("ngClass",o.withoutForgotten?"text-green":"text-grey"),e.xp6(3),e.Q6J("ngClass",o.onlyUnevolved?"text-green-dull":"text-grey-dull"),e.xp6(2),e.Q6J("ngClass",o.onlyUnevolved?"text-green":"text-grey"),e.xp6(42),e.Q6J("ngForOf",o.words.data),e.xp6(1),e.Q6J("page",o.words.page?o.words.page:0)("size",o.pageSize)("totalPages",o.words.totalPages?o.words.totalPages:0)("total",o.words.total?o.words.total:0))},dependencies:[jr,gt,Ut,$i,jn,tr,Nn,Jn,fd,dy]}),r})();var $l=(()=>{return(r=$l||($l={})).New="NEW",r.Borrowed="BORROWED",r.Derived="DERIVED",r.Evolved="EVOLVED",$l;var r})();const DI=["app-new",""];function SI(r,n){if(1&r&&(e.TgZ(0,"option",14),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}let FC=(()=>{class r{constructor(t){this.wordService=t,this.newWord=new ut({word:new so("",br.required),comment:new so("",br.required),pos:new so({},br.required)})}ngOnInit(){}addNewWord(){this.wordService.addWord({body:{word:this.newWord.value.word?this.newWord.value.word:"",comment:this.newWord.value.comment?this.newWord.value.comment:"",language:this.language,partOfSpeech:this.newWord.value.pos?this.newWord.value.pos:void 0,forgotten:!1,wordOriginType:$l.New}}).subscribe(o=>{this.clear()})}clear(){var t,o;null===(t=this.newWord.get("word"))||void 0===t||t.reset(),null===(o=this.newWord.get("comment"))||void 0===o||o.reset()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Zu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tbody","app-new",""]],inputs:{poses:"poses",language:"language"},attrs:DI,decls:39,vars:3,consts:[[1,"border"],[3,"formGroup","ngSubmit"],[2,"text-align","left","display","flex"],[1,"selector"],["for","wordInput",1,"languageSelectorLabel"],[1,"input-group",2,"margin-top","4px"],["formControlName","word","id","wordInput","name","wordInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],["for","posSelector",1,"languageSelectorLabel"],["formControlName","pos","id","posSelector","name","posSelector",1,"posSelector",3,"value"],[3,"ngValue",4,"ngFor","ngForOf"],["for","commentInput",1,"languageSelectorLabel",2,"height","16px","margin-left","8px"],["formControlName","comment","id","commentInput","name","commentInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],[1,"selector",2,"padding-top","22px"],[1,"text-green-dull",3,"click"],[3,"ngValue"]],template:function(t,o){1&t&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e._UZ(3,"br"),e._uU(4,"|"),e._UZ(5,"br"),e._uU(6,"|"),e._UZ(7,"br"),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",0)(10,"form",1),e.NdJ("ngSubmit",function(){return o.addNewWord()}),e.TgZ(11,"div",2)(12,"div",3)(13,"label",4),e._uU(14,"Word"),e.qZA(),e.TgZ(15,"div",5)(16,"input",6),e.NdJ("submit",function(){return o.addNewWord()}),e.qZA()()(),e.TgZ(17,"div",3)(18,"label",7),e._uU(19,"Category"),e.qZA(),e.TgZ(20,"div",5)(21,"select",8),e.YNc(22,SI,2,2,"option",9),e.qZA()()(),e.TgZ(23,"div",3)(24,"label",10),e._uU(25,"Comment"),e.qZA(),e.TgZ(26,"div",5)(27,"input",11),e.NdJ("submit",function(){return o.addNewWord()}),e.qZA()()(),e.TgZ(28,"div",12)(29,"a",13),e.NdJ("click",function(){return o.addNewWord()}),e._uU(30,"[ Add new word ]"),e.qZA()()()()(),e.TgZ(31,"th",0),e._uU(32,"|"),e._UZ(33,"br"),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e.qZA()()),2&t&&(e.xp6(10),e.Q6J("formGroup",o.newWord),e.xp6(11),e.Q6J("value",void 0),e.xp6(1),e.Q6J("ngForOf",o.poses))},dependencies:[gt,ms,Xo,_s,jn,zr,tr,qi,yi,Na]}),r})();const xI=["app-derived",""];function kI(r,n){if(1&r&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function gd(r,n){1&r&&(e.TgZ(0,"span",27),e._uU(1," + "),e.qZA())}function ZI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span",24),e.YNc(1,gd,2,0,"span",25),e.TgZ(2,"a",26),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.removeWord(u))}),e._uU(3),e.qZA()()}if(2&r){const t=n.$implicit,o=n.index;e.xp6(1),e.Q6J("ngIf",o>0),e.xp6(2),e.hij("/ ",t.word," /")}}function qC(r,n){if(1&r&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.Oqu(t.name)}}function NI(r,n){1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e._UZ(3,"th",16),e.TgZ(4,"th",0),e._uU(5,"|"),e.qZA()())}function VC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw();return e.KtG(u.selectWord(i))}),e._uU(1,"[ ]"),e.qZA()}}function MI(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,u=e.oxw();return e.KtG(u.removeWord(i))}),e._uU(1,"[x]"),e.qZA()}}function BC(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e.qZA(),e.TgZ(3,"th",17)(4,"span",19),e.YNc(5,VC,2,0,"a",28),e.YNc(6,MI,2,0,"a",29),e.qZA(),e.TgZ(7,"span",30),e._uU(8),e.qZA(),e.TgZ(9,"span",31),e._uU(10),e.qZA(),e.TgZ(11,"span",30),e._uU(12),e.qZA(),e.TgZ(13,"span",19),e._uU(14),e.qZA()(),e.TgZ(15,"th",0),e._uU(16,"|"),e.qZA()()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(5),e.Q6J("ngIf",o.indexOfSelectedWord(t)<0),e.xp6(1),e.Q6J("ngIf",o.indexOfSelectedWord(t)>=0),e.xp6(2),e.Oqu(t.writtenWord),e.xp6(2),e.hij("/ ",t.word," /"),e.xp6(2),e.Oqu(null==t.partOfSpeech?null:t.partOfSpeech.abbreviation),e.xp6(2),e.Oqu(t.comment)}}let PI=(()=>{class r{constructor(t,o){this.wordService=t,this.posService=o,this.pageSize=10,this.wordsList={},this.selectedWords=[],this.newWord=new ut({word:new so("",br.required),comment:new so("",br.required),pos:new so({},br.required)})}ngOnInit(){this.reloadWordList(this.language.id),this.loadPos(this.language.id)}loadPos(t){t?this.posService.getAllPosByLanguage({languageId:t}).subscribe(o=>{this.poses=o.sort((i,u)=>i.name?i.name.localeCompare(u.name?u.name:""):-1)}):this.poses=[]}ngOnChanges(t){t.language&&t.language.currentValue&&(console.log("DerivedComponent",t,t.language.currentValue),this.reloadWordList(t.language.currentValue.id),this.loadPos(t.language.currentValue.id),this.selectedWords=[])}reloadWordList(t){t?this.loadDefault({languageId:t}):this.wordsList={}}loadDefault(t){var o,i;console.log("loadDefault",t,this.listPosSelector,this.language,this.wordSearch),t||(t={}),t={page:void 0,size:t.size?t.size:this.pageSize,word:t.word?t.word:""===t.word?void 0:this.wordSearch,languageId:t.languageId?t.languageId:null===t.languageId||null===(o=this.language)||void 0===o?void 0:o.id,posId:t.posId?t.posId:null===t.posId||null===(i=this.listPosSelector)||void 0===i?void 0:i.id},this.load(t)}load(t){this.wordService.getAllWords({filter:t}).subscribe(o=>{o.data&&(this.wordsList=o)})}selectWord(t){this.indexOfSelectedWord(t)<0&&this.selectedWords.push(t)}removeWord(t){const o=this.indexOfSelectedWord(t);o>=0&&this.selectedWords.splice(o,1)}indexOfSelectedWord(t){return this.selectedWords.findIndex((o,i,u)=>t.id===o.id)}addDerivedWord(){this.wordService.addDerivedWord({body:{word:this.newWord.value.word?this.newWord.value.word:void 0,comment:this.newWord.value.comment?this.newWord.value.comment:void 0,language:this.language,partOfSpeech:this.newWord.value.pos?this.newWord.value.pos:void 0,forgotten:!1,wordOriginType:$l.Derived,derivedFrom:this.selectedWords}}).subscribe(o=>{this.clear()})}clear(){var t,o;null===(t=this.newWord.get("word"))||void 0===t||t.reset(),null===(o=this.newWord.get("comment"))||void 0===o||o.reset(),this.wordSearch=void 0,this.listPosSelector=void 0,this.selectedWords=[],this.reloadWordList(this.language.id)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Zu),e.Y36(ja))},r.\u0275cmp=e.Xpm({type:r,selectors:[["tbody","app-derived",""]],inputs:{poses:"poses",language:"language"},features:[e.TTD],attrs:xI,decls:78,vars:10,consts:[[1,"border"],[3,"formGroup","ngSubmit"],[2,"text-align","left","display","flex"],[1,"selector"],["for","wordInput",1,"languageSelectorLabel"],[1,"input-group",2,"margin-top","4px"],["formControlName","word","id","wordInput","name","wordInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],["for","posSelector",1,"languageSelectorLabel"],["formControlName","pos","id","posSelector","name","posSelector",1,"posSelector",3,"value"],[3,"ngValue",4,"ngFor","ngForOf"],["for","commentInput",1,"languageSelectorLabel",2,"height","16px","margin-left","8px"],["formControlName","comment","id","commentInput","name","commentInput","type","text",2,"height","16px","margin-left","0px",3,"submit"],[1,"selector",2,"padding-top","22px"],[1,"text-green-dull",3,"click"],[1,"languageSelectorLabel",2,"margin-right","4px"],["class","text-main",4,"ngFor","ngForOf"],["app-horizontal-dash","",1,"border"],[1,"border",2,"text-align","left"],["type","text",2,"height","16px","margin-left","16px",3,"ngModel","ngModelChange"],[2,"margin-left","8px"],["id","listPosSelector",1,"listPosSelector",3,"ngModel","ngModelChange"],[3,"ngValue"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-main"],["class","text-grey",4,"ngIf"],[1,"text-main","link-selected-word",3,"click"],[1,"text-grey"],["class","text-grey-dull",3,"click",4,"ngIf"],["class","text-green-dull",3,"click",4,"ngIf"],[1,"text-grey",2,"margin-left","8px"],[1,"text-main",2,"margin-left","8px"],[1,"text-grey-dull",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"tr")(1,"th",0),e._uU(2,"|"),e._UZ(3,"br"),e._uU(4,"|"),e._UZ(5,"br"),e._uU(6,"|"),e._UZ(7,"br"),e._uU(8,"|"),e.qZA(),e.TgZ(9,"th",0)(10,"form",1),e.NdJ("ngSubmit",function(){return o.addDerivedWord()}),e.TgZ(11,"div",2)(12,"div",3)(13,"label",4),e._uU(14,"Word"),e.qZA(),e.TgZ(15,"div",5)(16,"input",6),e.NdJ("submit",function(){return o.addDerivedWord()}),e.qZA()()(),e.TgZ(17,"div",3)(18,"label",7),e._uU(19,"Category"),e.qZA(),e.TgZ(20,"div",5)(21,"select",8),e.YNc(22,kI,2,2,"option",9),e.qZA()()(),e.TgZ(23,"div",3)(24,"label",10),e._uU(25,"Comment"),e.qZA(),e.TgZ(26,"div",5)(27,"input",11),e.NdJ("submit",function(){return o.addDerivedWord()}),e.qZA()()(),e.TgZ(28,"div",12)(29,"a",13),e.NdJ("click",function(){return o.addDerivedWord()}),e._uU(30,"[ Add derived word ]"),e.qZA()()()()(),e.TgZ(31,"th",0),e._uU(32,"|"),e._UZ(33,"br"),e._uU(34,"|"),e._UZ(35,"br"),e._uU(36,"|"),e._UZ(37,"br"),e._uU(38,"|"),e.qZA()(),e.TgZ(39,"tr")(40,"th",0),e._uU(41,"|"),e._UZ(42,"br"),e._uU(43,"|"),e.qZA(),e.TgZ(44,"th",0)(45,"div",2)(46,"div",3)(47,"label",14),e._uU(48,"From words:"),e.qZA(),e.YNc(49,ZI,4,2,"span",15),e.qZA()()(),e.TgZ(50,"th",0),e._uU(51,"|"),e._UZ(52,"br"),e._uU(53,"|"),e.qZA()(),e.TgZ(54,"tr")(55,"th",0),e._uU(56,"|"),e.qZA(),e._UZ(57,"th",16),e.TgZ(58,"th",0),e._uU(59,"|"),e.qZA()(),e.TgZ(60,"tr")(61,"th",0),e._uU(62,"|"),e._UZ(63,"br"),e._uU(64,"|"),e.qZA(),e.TgZ(65,"th",17)(66,"input",18),e.NdJ("ngModelChange",function(u){return o.loadDefault({word:u})})("ngModelChange",function(u){return o.wordSearch=u}),e.qZA(),e.TgZ(67,"span",19)(68,"select",20),e.NdJ("ngModelChange",function(u){return o.loadDefault({posId:null==u?null:u.id})})("ngModelChange",function(u){return o.listPosSelector=u}),e.TgZ(69,"option",21),e._uU(70,"Any part of speech"),e.qZA(),e.YNc(71,qC,2,2,"option",9),e.qZA()()(),e.TgZ(72,"th",0),e._uU(73,"|"),e._UZ(74,"br"),e._uU(75,"|"),e.qZA()(),e.YNc(76,NI,6,0,"tr",22),e.YNc(77,BC,17,6,"tr",23)),2&t&&(e.xp6(10),e.Q6J("formGroup",o.newWord),e.xp6(11),e.Q6J("value",void 0),e.xp6(1),e.Q6J("ngForOf",o.poses),e.xp6(27),e.Q6J("ngForOf",o.selectedWords),e.xp6(17),e.Q6J("ngModel",o.wordSearch),e.xp6(2),e.Q6J("ngModel",o.listPosSelector),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.poses),e.xp6(5),e.Q6J("ngIf",o.wordsList.data&&o.wordsList.data.length),e.xp6(1),e.Q6J("ngForOf",o.wordsList.data))},dependencies:[gt,Ut,ms,Xo,_s,jn,zr,tr,qi,Nn,yi,Na,Jn],styles:[".link-selected-word[_ngcontent-%COMP%]:hover{color:#ee2d2d}"]}),r})();function _y(r,n){if(1&r&&(e.TgZ(0,"option",14),e._uU(1),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.Q6J("selected",t===o.type)("value",t),e.xp6(1),e.Oqu(t)}}function UI(r,n){if(1&r&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.displayName)}}function jC(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",5)(1,"label",6),e._uU(2,"From"),e.qZA(),e.TgZ(3,"div",7)(4,"select",15),e.NdJ("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.langToChanged({lang:i}))})("ngModelChange",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.languageTo=i)}),e.YNc(5,UI,2,2,"option",16),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.languageTo),e.xp6(1),e.Q6J("ngForOf",t.languagesTo)}}function $C(r,n){if(1&r&&e._UZ(0,"tbody",18),2&r){const t=e.oxw();e.Q6J("language",t.language)("poses",t.poses)}}function OI(r,n){if(1&r&&e._UZ(0,"tbody",19),2&r){const t=e.oxw();e.Q6J("language",t.language)("poses",t.poses)}}let RI=(()=>{class r{constructor(t,o){this.posService=t,this.languagesEvolutionService=o,this.languagesTo=[],this.wordOriginType=$l,this.typeKeys=Object.keys($l),this.type=this.typeKeys[0],this.poses=[]}ngOnInit(){console.log(this.type),console.log(this.wordOriginType),console.log(this.typeKeys)}changeLanguageTo(t,o){t&&this.languagesEvolutionService.getConnectionFromLang({fromLangId:t}).subscribe(i=>{this.languagesTo=i.filter(u=>u.connectionType===jl.Evolving&&"Evolved"===o||u.connectionType===jl.Borrowing&&"Borrowed"===o).map(u=>u.langTo).filter(u=>!!u).map(u=>u||{displayName:"empty"})})}changeLanguage(t){t.langId?(this.changeLanguageTo(t.langId,this.type),this.posService.getAllPosByLanguage({languageId:t.langId}).subscribe(o=>{this.poses=o.sort((i,u)=>i.name?i.name.localeCompare(u.name?u.name:""):-1)})):this.poses=[]}typeChanged(t){var o;console.log(t.type),this.changeLanguageTo(null===(o=this.language)||void 0===o?void 0:o.id,t.type)}langToChanged(t){console.log(t.lang)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ja),e.Y36($a))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-word-new"]],decls:41,vars:7,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],[1,"border"],[1,"border",2,"text-align","left","display","flex"],[3,"selectedLanguage","label","selectedLanguageChange"],[1,"selector"],["for","newWordTypeSelector",1,"languageSelectorLabel"],[1,"input-group",2,"margin-top","4px"],["id","newWordTypeSelector",1,"posSelector",3,"ngModel","ngModelChange"],[3,"selected","value",4,"ngFor","ngForOf"],["class","selector",4,"ngIf"],["app-new","",3,"language","poses",4,"ngIf"],["app-derived","",3,"language","poses",4,"ngIf"],["app-horizontal-dash","",1,"border"],[3,"selected","value"],["id","langToSelector",1,"langToSelector",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["app-new","",3,"language","poses"],["app-derived","",3,"language","poses"]],template:function(t,o){1&t&&(e.TgZ(0,"table")(1,"colgroup"),e._UZ(2,"col",0)(3,"col",1)(4,"col",0),e.qZA(),e.TgZ(5,"tbody")(6,"tr")(7,"th",2),e._uU(8,"|"),e._UZ(9,"br"),e._uU(10,"|"),e._UZ(11,"br"),e._uU(12,"|"),e._UZ(13,"br"),e._uU(14,"|"),e.qZA(),e.TgZ(15,"th",3)(16,"app-all-languages",4),e.NdJ("selectedLanguageChange",function(u){return o.changeLanguage({langId:u.id})})("selectedLanguageChange",function(u){return o.language=u}),e.qZA(),e.TgZ(17,"div",5)(18,"label",6),e._uU(19,"Type"),e.qZA(),e.TgZ(20,"div",7)(21,"select",8),e.NdJ("ngModelChange",function(u){return o.typeChanged({type:u})})("ngModelChange",function(u){return o.type=u}),e.YNc(22,_y,2,3,"option",9),e.qZA()()(),e.YNc(23,jC,6,2,"div",10),e.qZA(),e.TgZ(24,"th",2),e._uU(25,"|"),e._UZ(26,"br"),e._uU(27,"|"),e._UZ(28,"br"),e._uU(29,"|"),e._UZ(30,"br"),e._uU(31,"|"),e.qZA()()(),e.YNc(32,$C,1,2,"tbody",11),e.YNc(33,OI,1,2,"tbody",12),e.TgZ(34,"tbody")(35,"tr")(36,"th",2),e._uU(37,"+"),e.qZA(),e._UZ(38,"th",13),e.TgZ(39,"th",2),e._uU(40,"+"),e.qZA()()()()),2&t&&(e.xp6(16),e.Q6J("selectedLanguage",o.language)("label","Language"),e.xp6(5),e.Q6J("ngModel",o.type),e.xp6(1),e.Q6J("ngForOf",o.typeKeys),e.xp6(1),e.Q6J("ngIf","Borrowed"===o.type||"Evolved"===o.type),e.xp6(9),e.Q6J("ngIf",void 0!==o.language&&"New"===o.type),e.xp6(1),e.Q6J("ngIf",void 0!==o.language&&"Derived"===o.type))},dependencies:[gt,Ut,Xo,_s,zr,tr,Nn,Jn,fd,FC,PI]}),r})();function hg(r,n){return n.params[r]||(n.parent?hg(r,n.parent):null)}let FI=(()=>{class r{constructor(t){this.wordService=t}resolve(t,o){const i=hg("word",t);return i?this.wordService.getDetailedWordsByPhonetics({word:i}):Ws.E}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Zu))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const HC={scrollPositionRestoration:"enabled",anchorScrolling:"enabled"},qI=[{path:"trace",component:aC},{path:"words",component:pC,children:[{path:"new",component:RI},{path:"list",component:tI},{path:"translations",component:vI},{path:"word/:word",component:EC,pathMatch:"full",resolve:{wordDetails:FI}}]},{path:"evolutions",component:DC,children:[{path:"connections",component:$2},{path:"list",component:EI}]},{path:"language",component:nC,children:[{path:"description",component:K_},{path:"clusters",component:D1},{path:"laws",component:tA}]}];let VI=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[$b.forRoot(qI,HC),$b]}),r})();const BI=["col"];function jI(r,n){if(1&r&&(e.TgZ(0,"tr"),e._UZ(1,"td",16),e.TgZ(2,"td",15)(3,"span",17),e._uU(4),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e._UZ(7,"td",16),e.qZA()),2&r){const t=n.$implicit;e.xp6(4),e.hij("",t.message,". "),e.xp6(2),e.Oqu(t.details)}}function $I(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"table")(3,"colgroup"),e._UZ(4,"col",3)(5,"col",4)(6,"col",5)(7,"col",6)(8,"col",3)(9,"col",7)(10,"col",3),e.qZA(),e.TgZ(11,"tbody")(12,"tr")(13,"th",8),e._uU(14,"+"),e.qZA(),e.TgZ(15,"th",8),e._uU(16,"--"),e.qZA(),e.TgZ(17,"th",8),e._uU(18,"[ "),e.TgZ(19,"div",9),e._uU(20,"Esc"),e.qZA(),e._uU(21," ] Close "),e.qZA(),e._UZ(22,"th",10),e.TgZ(23,"th",8),e._uU(24,"+"),e.qZA(),e.TgZ(25,"th",8),e._uU(26,"--"),e.qZA(),e.TgZ(27,"th",8),e._uU(28,"+"),e.qZA()(),e.TgZ(29,"tr")(30,"th",8),e._uU(31,"|"),e.qZA(),e.TgZ(32,"th",11),e._uU(33," WARNING "),e.qZA(),e.TgZ(34,"th",8),e._uU(35,"|"),e.qZA(),e.TgZ(36,"th")(37,"a",12),e.NdJ("click",function(i){e.CHM(t);const u=e.oxw();return e.KtG(u.clear(i))}),e._uU(38,"x"),e.qZA()(),e.TgZ(39,"th",8),e._uU(40,"|"),e.qZA()(),e.TgZ(41,"tr")(42,"th",8),e._uU(43,"+"),e.qZA(),e._UZ(44,"th",13),e.TgZ(45,"th",8),e._uU(46,"+"),e.qZA(),e.TgZ(47,"th",8),e._uU(48,"--"),e.qZA(),e.TgZ(49,"th",8),e._uU(50,"+"),e.qZA()()(),e.TgZ(51,"tbody"),e.YNc(52,jI,8,2,"tr",14),e.TgZ(53,"tr")(54,"td",8),e._uU(55,"|"),e.qZA(),e._UZ(56,"td",15),e.TgZ(57,"td",8),e._uU(58,"|"),e.qZA()()()()()()}if(2&r){const t=e.oxw();e.xp6(52),e.Q6J("ngForOf",t.errors)}}let HI=(()=>{class r{constructor(t,o){this.cdRef=t,this.errorService=o,this.bcol="",this.errors=[]}ngOnInit(){this.errorService.errors.subscribe(t=>{this.errors=t})}onResize(){this.resizeTable()}ngAfterViewChecked(){this.resizeTable()}resizeTable(){var t;const i=Math.floor(((null===(t=this.col)||void 0===t?void 0:t.nativeElement.offsetWidth)-2)/8),u=this.bcol;this.bcol="--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------".substr(0,i),u!=this.bcol&&this.cdRef.detectChanges()}clear(t){t.stopPropagation(),this.errorService.clearErrors()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(ri))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-footer"]],viewQuery:function(t,o){if(1&t&&e.Gf(BI,5),2&t){let i;e.iGM(i=e.CRH())&&(o.col=i.first)}},hostBindings:function(t,o){1&t&&e.NdJ("resize",function(u){return o.onResize(u)},!1,e.Jf7)},decls:1,vars:1,consts:[["class","footer-wrapper",4,"ngIf"],[1,"footer-wrapper"],[1,"footer"],["span","1",1,"border"],["span","1",2,"width","16px"],["span","1",2,"width","112px"],["span","1",2,"width","auto"],["span","1",2,"width","18px"],[1,"border"],[1,"text-yellow-dull",2,"display","inline"],["app-horizontal-dash","",1,"border"],["colspan","3",1,"text-grey"],[1,"text-red-dull","link-btn",3,"click"],["app-horizontal-dash","","colspan","3",1,"border"],[4,"ngFor","ngForOf"],["colspan","5",1,"break-word","text-grey"],["app-vertical-dash","",1,"border"],[1,"text-red-dull"]],template:function(t,o){1&t&&e.YNc(0,$I,59,1,"div",0),2&t&&e.Q6J("ngIf",o.errors.length>0)},dependencies:[gt,Ut,Jn],styles:[".footer-wrapper[_ngcontent-%COMP%]{position:fixed;left:0px;bottom:0px;width:100%;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.footer[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;z-index:100;background-color:#252525}"]}),r})(),GI=(()=>{class r{transform(t,...o){switch(t){case"ZERO":return"0";case"ONE":return"1";case"TWO":return"2";case"THREE":return"3";case"FOUR":return"4";case"FIVE":return"5";default:return t}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275pipe=e.Yjl({name:"keySymbols",type:r,pure:!0}),r})();function JI(r,n){if(1&r&&(e.TgZ(0,"span",3),e._uU(1),e.ALo(2,"keySymbols"),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" [",e.lcZ(2,1,t.key)," ]")}}let GC=(()=>{class r{constructor(t,o,i){this.activeRoute=t,this.router=o,this.keybind=i}ngOnInit(){this.key&&this.keybind.match([this.key],["altKey"]).subscribe(o=>{o.preventDefault();const i=this.activeRoute.snapshot.queryParamMap.get("lang");this.router.navigate([this.route],{queryParams:{lang:i}})})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Qs),e.Y36(Mn),e.Y36(ta))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-header-nav-link"]],inputs:{route:"route",name:"name",key:"key"},decls:4,vars:3,consts:[[1,"nav-link"],[1,"link-btn",3,"routerLink"],["class","text-grey-dull",4,"ngIf"],[1,"text-grey-dull"]],template:function(t,o){1&t&&(e.TgZ(0,"span",0)(1,"a",1),e._uU(2),e.YNc(3,JI,3,3,"span",2),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("routerLink",o.route),e.xp6(1),e.Oqu(o.name),e.xp6(1),e.Q6J("ngIf",o.key))},dependencies:[Ut,$i,GI],styles:[".nav-link[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}"]}),r})();var JC=P(2227),Qt=P(2090),Hl=P(9681),Ha=P(1877),pg=P(4859),co=P(5813);function yy(){return(0,_o.e)((r,n)=>{let t,o=!1;r.subscribe((0,mr.x)(n,i=>{const u=t;t=i,o&&n.next([u,i]),o=!0}))})}function Cy(r,n){return r===n}var lt,Gi=P(2011),WI=(P(5881),P(3942)),Ae=P(5861),Ty="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ga={},Nu=Nu||{},Mt=Ty||self;function fg(){}function zC(r){var n=typeof r;return"array"==(n="object"!=n?n:r?Array.isArray(r)?"array":n:"null")||"object"==n&&"number"==typeof r.length}function md(r){var n=typeof r;return"object"==n&&null!=r||"function"==n}var by="closure_uid_"+(1e9*Math.random()>>>0),Ay=0;function zI(r,n,t){return r.call.apply(r.bind,arguments)}function QI(r,n,t){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,o),r.apply(n,i)}}return function(){return r.apply(n,arguments)}}function Or(r,n,t){return(Or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zI:QI).apply(null,arguments)}function ep(r,n){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function Yr(r,n){function t(){}t.prototype=n.prototype,r.Z=n.prototype,r.prototype=new t,r.prototype.constructor=r,r.Vb=function(o,i,u){for(var d=Array(arguments.length-2),g=2;g<arguments.length;g++)d[g-2]=arguments[g];return n.prototype[i].apply(o,d)}}function Ja(){this.s=this.s,this.o=this.o}var KI={};Ja.prototype.s=!1,Ja.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function wy(r){return Object.prototype.hasOwnProperty.call(r,by)&&r[by]||(r[by]=++Ay)}(this);delete KI[r]}},Ja.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const KC=Array.prototype.indexOf?function(r,n){return Array.prototype.indexOf.call(r,n,void 0)}:function(r,n){if("string"==typeof r)return"string"!=typeof n||1!=n.length?-1:r.indexOf(n,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===n)return t;return-1},YC=Array.prototype.forEach?function(r,n,t){Array.prototype.forEach.call(r,n,t)}:function(r,n,t){const o=r.length,i="string"==typeof r?r.split(""):r;for(let u=0;u<o;u++)u in i&&n.call(t,i[u],u,r)};function Iy(r){return Array.prototype.concat.apply([],arguments)}function XC(r){const n=r.length;if(0<n){const t=Array(n);for(let o=0;o<n;o++)t[o]=r[o];return t}return[]}function tp(r){return/^[\s\xa0]*$/.test(r)}var oi,eT=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function Uo(r,n){return-1!=r.indexOf(n)}function tT(r,n){return r<n?-1:r>n?1:0}e:{var nT=Mt.navigator;if(nT){var rT=nT.userAgent;if(rT){oi=rT;break e}}oi=""}function Ey(r,n,t){for(const o in r)n.call(t,r[o],o,r)}function Dy(r){const n={};for(const t in r)n[t]=r[t];return n}var oT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iT(r,n){let t,o;for(let i=1;i<arguments.length;i++){for(t in o=arguments[i],o)r[t]=o[t];for(let u=0;u<oT.length;u++)t=oT[u],Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}}function Sy(r){return Sy[" "](r),r}Sy[" "]=fg;var np,r,eE=Uo(oi,"Opera"),_d=Uo(oi,"Trident")||Uo(oi,"MSIE"),sT=Uo(oi,"Edge"),xy=sT||_d,yd=Uo(oi,"Gecko")&&!(Uo(oi.toLowerCase(),"webkit")&&!Uo(oi,"Edge"))&&!(Uo(oi,"Trident")||Uo(oi,"MSIE"))&&!Uo(oi,"Edge"),aT=Uo(oi.toLowerCase(),"webkit")&&!Uo(oi,"Edge");function ky(){var r=Mt.document;return r?r.documentMode:void 0}e:{var gg="",mg=(r=oi,yd?/rv:([^\);]+)(\)|;)/.exec(r):sT?/Edge\/([\d\.]+)/.exec(r):_d?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):aT?/WebKit\/(\S+)/.exec(r):eE?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(mg&&(gg=mg?mg[1]:""),_d){var _g=ky();if(null!=_g&&_g>parseFloat(gg)){np=String(_g);break e}}np=gg}var tE={};var nE=Mt.document&&_d&&(ky()||parseInt(np,10))||void 0,rE=function(){if(!Mt.addEventListener||!Object.defineProperty)return!1;var r=!1,n=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Mt.addEventListener("test",fg,n),Mt.removeEventListener("test",fg,n)}catch(t){}return r}();function wo(r,n){this.type=r,this.g=this.target=n,this.defaultPrevented=!1}function Wa(r,n){if(wo.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=n,n=r.relatedTarget){if(yd){e:{try{Sy(n.nodeName);var i=!0;break e}catch(u){}i=!1}i||(n=null)}}else"mouseover"==t?n=r.fromElement:"mouseout"==t&&(n=r.toElement);this.relatedTarget=n,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:oE[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Wa.Z.h.call(this)}}wo.prototype.h=function(){this.defaultPrevented=!0},Yr(Wa,wo);var oE={2:"touch",3:"pen",4:"mouse"};Wa.prototype.h=function(){Wa.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Gl="closure_listenable_"+(1e6*Math.random()|0),oa=0;function iE(r,n,t,o,i){this.listener=r,this.proxy=null,this.src=n,this.type=t,this.capture=!!o,this.ia=i,this.key=++oa,this.ca=this.fa=!1}function vd(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function Mu(r){this.src=r,this.g={},this.h=0}function Zy(r,n){var t=n.type;if(t in r.g){var u,o=r.g[t],i=KC(o,n);(u=0<=i)&&Array.prototype.splice.call(o,i,1),u&&(vd(n),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Ny(r,n,t,o){for(var i=0;i<r.length;++i){var u=r[i];if(!u.ca&&u.listener==n&&u.capture==!!t&&u.ia==o)return i}return-1}Mu.prototype.add=function(r,n,t,o,i){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var d=Ny(r,n,o,i);return-1<d?(n=r[d],t||(n.fa=!1)):((n=new iE(n,this.src,u,!!o,i)).fa=t,r.push(n)),n};var My="closure_lm_"+(1e6*Math.random()|0),Cd={};function rp(r,n,t,o,i){if(o&&o.once)return Py(r,n,t,o,i);if(Array.isArray(n)){for(var u=0;u<n.length;u++)rp(r,n[u],t,o,i);return null}return t=ip(t),r&&r[Gl]?r.N(n,t,md(o)?!!o.capture:!!o,i):lT(r,n,t,!1,o,i)}function lT(r,n,t,o,i,u){if(!n)throw Error("Invalid event type");var d=md(i)?!!i.capture:!!i,g=Ry(r);if(g||(r[My]=g=new Mu(r)),(t=g.add(n,t,o,d,u)).proxy)return t;if(o=function sE(){var n=aE;return function r(t){return n.call(r.src,r.listener,t)}}(),t.proxy=o,o.src=r,o.listener=t,r.addEventListener)rE||(i=d),void 0===i&&(i=!1),r.addEventListener(n.toString(),o,i);else if(r.attachEvent)r.attachEvent(Oy(n.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return t}function Py(r,n,t,o,i){if(Array.isArray(n)){for(var u=0;u<n.length;u++)Py(r,n[u],t,o,i);return null}return t=ip(t),r&&r[Gl]?r.O(n,t,md(o)?!!o.capture:!!o,i):lT(r,n,t,!0,o,i)}function Uy(r,n,t,o,i){if(Array.isArray(n))for(var u=0;u<n.length;u++)Uy(r,n[u],t,o,i);else o=md(o)?!!o.capture:!!o,t=ip(t),r&&r[Gl]?(r=r.i,(n=String(n).toString())in r.g&&-1<(t=Ny(u=r.g[n],t,o,i))&&(vd(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete r.g[n],r.h--))):r&&(r=Ry(r))&&(n=r.g[n.toString()],r=-1,n&&(r=Ny(n,t,o,i)),(t=-1<r?n[r]:null)&&op(t))}function op(r){if("number"!=typeof r&&r&&!r.ca){var n=r.src;if(n&&n[Gl])Zy(n.i,r);else{var t=r.type,o=r.proxy;n.removeEventListener?n.removeEventListener(t,o,r.capture):n.detachEvent?n.detachEvent(Oy(t),o):n.addListener&&n.removeListener&&n.removeListener(o),(t=Ry(n))?(Zy(t,r),0==t.h&&(t.src=null,n[My]=null)):vd(r)}}}function Oy(r){return r in Cd?Cd[r]:Cd[r]="on"+r}function aE(r,n){if(r.ca)r=!0;else{n=new Wa(n,this);var t=r.listener,o=r.ia||r.src;r.fa&&op(r),r=t.call(o,n)}return r}function Ry(r){return(r=r[My])instanceof Mu?r:null}var cT="__closure_events_fn_"+(1e9*Math.random()>>>0);function ip(r){return"function"==typeof r?r:(r[cT]||(r[cT]=function(n){return r.handleEvent(n)}),r[cT])}function Sr(){Ja.call(this),this.i=new Mu(this),this.P=this,this.I=null}function Xr(r,n){var t,o=r.I;if(o)for(t=[];o;o=o.I)t.push(o);if(r=r.P,o=n.type||n,"string"==typeof n)n=new wo(n,r);else if(n instanceof wo)n.target=n.target||r;else{var i=n;iT(n=new wo(o,r),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var d=n.g=t[u];i=Td(d,o,!0,n)&&i}if(i=Td(d=n.g=r,o,!0,n)&&i,i=Td(d,o,!1,n)&&i,t)for(u=0;u<t.length;u++)i=Td(d=n.g=t[u],o,!1,n)&&i}function Td(r,n,t,o){if(!(n=r.i.g[String(n)]))return!0;n=n.concat();for(var i=!0,u=0;u<n.length;++u){var d=n[u];if(d&&!d.ca&&d.capture==t){var g=d.listener,v=d.ia||d.src;d.fa&&Zy(r.i,d),i=!1!==g.call(v,o)&&i}}return i&&!o.defaultPrevented}Yr(Sr,Ja),Sr.prototype[Gl]=!0,Sr.prototype.removeEventListener=function(r,n,t,o){Uy(this,r,n,t,o)},Sr.prototype.M=function(){if(Sr.Z.M.call(this),this.i){var n,r=this.i;for(n in r.g){for(var t=r.g[n],o=0;o<t.length;o++)vd(t[o]);delete r.g[n],r.h--}}this.I=null},Sr.prototype.N=function(r,n,t,o){return this.i.add(String(r),n,!1,t,o)},Sr.prototype.O=function(r,n,t,o){return this.i.add(String(r),n,!0,t,o)};var sp=Mt.JSON.stringify;function uE(){var r=Ly;let n=null;return r.g&&(n=r.g,r.g=r.g.next,r.g||(r.h=null),n.next=null),n}var vg,dT=new class{constructor(r,n){this.i=r,this.j=n,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new cE,r=>r.reset());class cE{constructor(){this.next=this.g=this.h=null}set(n,t){this.h=n,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function hT(r){Mt.setTimeout(()=>{throw r},0)}function ap(r,n){vg||function pT(){var r=Mt.Promise.resolve(void 0);vg=function(){r.then(dE)}}(),Cg||(vg(),Cg=!0),Ly.add(r,n)}var Cg=!1,Ly=new class lE{constructor(){this.h=this.g=null}add(n,t){const o=dT.get();o.set(n,t),this.h?this.h.next=o:this.g=o,this.h=o}};function dE(){for(var r;r=uE();){try{r.h.call(r.g)}catch(t){hT(t)}var n=dT;n.j(r),100>n.h&&(n.h++,r.next=n.g,n.g=r)}Cg=!1}function up(r,n){Sr.call(this),this.h=r||1,this.g=n||Mt,this.j=Or(this.kb,this),this.l=Date.now()}function Tg(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function Fy(r,n,t){if("function"==typeof r)t&&(r=Or(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Or(r.handleEvent,r)}return 2147483647<Number(n)?-1:Mt.setTimeout(r,n||0)}function qy(r){r.g=Fy(()=>{r.g=null,r.i&&(r.i=!1,qy(r))},r.j);const n=r.h;r.h=null,r.m.apply(null,n)}Yr(up,Sr),(lt=up.prototype).da=!1,lt.S=null,lt.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xr(this,"tick"),this.da&&(Tg(this),this.start()))}},lt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.M=function(){up.Z.M.call(this),Tg(this),delete this.g};class hE extends Ja{constructor(n,t){super(),this.m=n,this.j=t,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:qy(this)}M(){super.M(),this.g&&(Mt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rr(r){Ja.call(this),this.h=r,this.g={}}Yr(Rr,Ja);var Jl=[];function fT(r,n,t,o){Array.isArray(t)||(t&&(Jl[0]=t.toString()),t=Jl);for(var i=0;i<t.length;i++){var u=rp(n,t[i],o||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function gT(r){Ey(r.g,function(n,t){this.g.hasOwnProperty(t)&&op(n)},r),r.g={}}function Vy(){this.g=!0}function Wl(r,n,t,o){r.info(function(){return"XMLHTTP TEXT ("+n+"): "+function pE(r,n){if(!r.g)return n;if(!n)return null;try{var t=JSON.parse(n);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var o=t[r];if(!(2>o.length)){var i=o[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<i.length;d++)i[d]=""}}}return sp(t)}catch(g){return n}}(r,t)+(o?" "+o:"")})}Rr.prototype.M=function(){Rr.Z.M.call(this),gT(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vy.prototype.Aa=function(){this.g=!1},Vy.prototype.info=function(){};var za={},_T=null;function cp(){return _T=_T||new Sr}function yT(r){wo.call(this,za.Ma,r)}function dp(r){const n=cp();Xr(n,new yT(n,r))}function zl(r,n){wo.call(this,za.STAT_EVENT,r),this.stat=n}function Oo(r){const n=cp();Xr(n,new zl(n,r))}function wg(r,n){wo.call(this,za.Na,r),this.size=n}function wd(r,n){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Mt.setTimeout(function(){r()},n)}za.Ma="serverreachability",Yr(yT,wo),za.STAT_EVENT="statevent",Yr(zl,wo),za.Na="timingevent",Yr(wg,wo);var hp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},pp={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function fp(){}function By(){}fp.prototype.h=null;var jy,gp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function bg(){wo.call(this,"d")}function Pu(){wo.call(this,"c")}function mp(){}function Ql(r,n,t,o){this.l=r,this.j=n,this.m=t,this.X=o||1,this.V=new Rr(this),this.P=mE,this.W=new up(r=xy?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gE}function gE(){this.i=null,this.g="",this.h=!1}Yr(bg,wo),Yr(Pu,wo),Yr(mp,fp),mp.prototype.g=function(){return new XMLHttpRequest},mp.prototype.i=function(){return{}},jy=new mp;var mE=45e3,vT={},Ag={};function $y(r,n,t){r.K=1,r.v=Yy(Ru(n)),r.s=t,r.U=!0,CT(r,null)}function CT(r,n){r.F=Date.now(),bd(r),r.A=Ru(r.v);var t=r.A,o=r.X;Array.isArray(o)||(o=[String(o)]),IT(t.h,"t",o),r.C=0,t=r.l.H,r.h=new gE,r.g=cv(r.l,t?n:null,!r.s),0<r.O&&(r.L=new hE(Or(r.Ia,r,r.g),r.O)),fT(r.V,r.g,"readystatechange",r.gb),n=r.H?Dy(r.H):{},r.s?(r.u||(r.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,n)):(r.u="GET",r.g.ea(r.A,r.u,null,n)),dp(1),function W2(r,n,t,o,i,u){r.info(function(){if(r.g)if(u)for(var d="",g=u.split("&"),v=0;v<g.length;v++){var w=g[v].split("=");if(1<w.length){var S=w[0];w=w[1];var Z=S.split("_");d=2<=Z.length&&"type"==Z[1]?d+(S+"=")+w+"&":d+(S+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+o+") [attempt "+i+"]: "+n+"\n"+t+"\n"+d})}(r.j,r.u,r.A,r.m,r.X,r.s)}function Hy(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function Gy(r,n,t){let i,o=!0;for(;!r.I&&r.C<t.length;){if(i=_E(r,t),i==Ag){4==n&&(r.o=4,Oo(14),o=!1),Wl(r.j,r.m,null,"[Incomplete Response]");break}if(i==vT){r.o=4,Oo(15),Wl(r.j,r.m,t,"[Invalid Chunk]"),o=!1;break}Wl(r.j,r.m,i,null),Wy(r,i)}Hy(r)&&i!=Ag&&i!=vT&&(r.h.g="",r.C=0),4!=n||0!=t.length||r.h.h||(r.o=1,Oo(16),o=!1),r.i=r.i&&o,o?0<t.length&&!r.aa&&(r.aa=!0,(n=r.l).g==r&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Vg(n),n.L=!0,Oo(11))):(Wl(r.j,r.m,t,"[Invalid Chunked Response]"),Uu(r),_p(r))}function _E(r,n){var t=r.C,o=n.indexOf("\n",t);return-1==o?Ag:(t=Number(n.substring(t,o)),isNaN(t)?vT:(o+=1)+t>n.length?Ag:(n=n.substr(o,t),r.C=o+t,n))}function bd(r){r.Y=Date.now()+r.P,Jy(r,r.P)}function Jy(r,n){if(null!=r.B)throw Error("WatchDog timer not null");r.B=wd(Or(r.eb,r),n)}function Ig(r){r.B&&(Mt.clearTimeout(r.B),r.B=null)}function _p(r){0==r.l.G||r.I||uv(r.l,r)}function Uu(r){Ig(r);var n=r.L;n&&"function"==typeof n.na&&n.na(),r.L=null,Tg(r.W),gT(r.V),r.g&&(n=r.g,r.g=null,n.abort(),n.na())}function Wy(r,n){try{var t=r.l;if(0!=t.G&&(t.g==r||tv(t.i,r)))if(t.I=r.N,!r.J&&tv(t.i,r)&&3==t.G){try{var o=t.Ca.g.parse(n)}catch(w){o=null}if(Array.isArray(o)&&3==o.length){var i=o;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<r.F))break e;Cp(t),Rg(t)}qg(t),Oo(18)}}else t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=wd(Or(t.ab,t),6e3));if(1>=ET(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else sa(t,11)}else if((r.J||t.g==r)&&Cp(t),!tp(n))for(i=t.Ca.g.parse(n),n=0;n<i.length;n++){let w=i[n];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const S=w[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const Z=w[4];null!=Z&&(t.za=Z,t.h.info("SVER="+t.za));const R=w[5];null!=R&&"number"==typeof R&&0<R&&(t.K=o=1.5*R,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const W=r.g;if(W){const ne=W.g?W.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ne){var u=o.i;!u.g&&(Uo(ne,"spdy")||Uo(ne,"quic")||Uo(ne,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(nv(u,u.h),u.h=null))}if(o.D){const Me=W.g?W.g.getResponseHeader("X-HTTP-Session-Id"):null;Me&&(o.sa=Me,nr(o.F,o.D,Me))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-r.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=r;if((o=t).oa=qT(o,o.H?o.la:null,o.W),d.J){AE(o.i,d);var g=d,v=o.K;v&&g.setTimeout(v),g.B&&(Ig(g),bd(g)),o.g=d}else Fg(o);0<t.l.length&&av(t)}else"stop"!=w[0]&&"close"!=w[0]||sa(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?sa(t,7):sv(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}dp(4)}catch(w){}}function Eg(r,n){if(r.forEach&&"function"==typeof r.forEach)r.forEach(n,void 0);else if(zC(r)||"string"==typeof r)YC(r,n,void 0);else{if(r.T&&"function"==typeof r.T)var t=r.T();else if(r.R&&"function"==typeof r.R)t=void 0;else if(zC(r)||"string"==typeof r){t=[];for(var o=r.length,i=0;i<o;i++)t.push(i)}else for(i in t=[],o=0,r)t[o++]=i;o=function TT(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(zC(r)){for(var n=[],t=r.length,o=0;o<t;o++)n.push(r[o]);return n}for(o in n=[],t=0,r)n[t++]=r[o];return n}(r),i=o.length;for(var u=0;u<i;u++)n.call(void 0,o[u],t&&t[u],r)}}function Kl(r,n){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(r)if(r instanceof Kl)for(t=r.T(),o=0;o<t.length;o++)this.set(t[o],r.get(t[o]));else for(o in r)this.set(o,r[o])}function Dg(r){if(r.i!=r.g.length){for(var n=0,t=0;n<r.g.length;){var o=r.g[n];Yl(r.h,o)&&(r.g[t++]=o),n++}r.g.length=t}if(r.i!=r.g.length){var i={};for(t=n=0;n<r.g.length;)Yl(i,o=r.g[n])||(r.g[t++]=o,i[o]=1),n++;r.g.length=t}}function Yl(r,n){return Object.prototype.hasOwnProperty.call(r,n)}(lt=Ql.prototype).setTimeout=function(r){this.P=r},lt.gb=function(r){r=r.target;const n=this.L;n&&3==ia(r)?n.l():this.Ia(r)},lt.Ia=function(r){try{if(r==this.g)e:{const S=ia(this.g);var n=this.g.Da();const Z=this.g.ba();if(!(3>S)&&(3!=S||xy||this.g&&(this.h.h||this.g.ga()||Ug(this.g)))){this.I||4!=S||7==n||dp(8==n||0>=Z?3:2),Ig(this);var t=this.g.ba();this.N=t;t:if(Hy(this)){var o=Ug(this.g);r="";var i=o.length,u=4==ia(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Uu(this),_p(this);var d="";break t}this.h.i=new Mt.TextDecoder}for(n=0;n<i;n++)this.h.h=!0,r+=this.h.i.decode(o[n],{stream:u&&n==i-1});o.splice(0,i),this.h.g+=r,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function mT(r,n,t,o,i,u,d){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+i+"]: "+n+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var g,v=this.g;if((g=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tp(g)){var w=g;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Oo(12),Uu(this),_p(this);break e}Wl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wy(this,t)}this.U?(Gy(this,S,d),xy&&this.i&&3==S&&(fT(this.V,this.W,"tick",this.fb),this.W.start())):(Wl(this.j,this.m,d,null),Wy(this,d)),4==S&&Uu(this),this.i&&!this.I&&(4==S?uv(this.l,this):(this.i=!1,bd(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Oo(12)):(this.o=0,Oo(13)),Uu(this),_p(this)}}}catch(S){}},lt.fb=function(){if(this.g){var r=ia(this.g),n=this.g.ga();this.C<n.length&&(Ig(this),Gy(this,r,n),this.i&&4!=r&&bd(this))}},lt.cancel=function(){this.I=!0,Uu(this)},lt.eb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function lp(r,n){r.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(dp(3),Oo(17)),Uu(this),this.o=2,_p(this)):Jy(this,this.Y-r)},(lt=Kl.prototype).R=function(){Dg(this);for(var r=[],n=0;n<this.g.length;n++)r.push(this.h[this.g[n]]);return r},lt.T=function(){return Dg(this),this.g.concat()},lt.get=function(r,n){return Yl(this.h,r)?this.h[r]:n},lt.set=function(r,n){Yl(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=n},lt.forEach=function(r,n){for(var t=this.T(),o=0;o<t.length;o++){var i=t[o],u=this.get(i);r.call(n,u,i,this)}};var wT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ou(r,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof Ou){this.g=void 0!==n?n:r.g,zy(this,r.j),this.s=r.s,Qy(this,r.i),Ky(this,r.m),this.l=r.l,n=r.h;var t=new yp;t.i=n.i,n.g&&(t.g=new Kl(n.g),t.h=n.h),yE(this,t),this.o=r.o}else r&&(t=String(r).match(wT))?(this.g=!!n,zy(this,t[1]||"",!0),this.s=xg(t[2]||""),Qy(this,t[3]||"",!0),Ky(this,t[4]),this.l=xg(t[5]||"",!0),yE(this,t[6]||"",!0),this.o=xg(t[7]||"")):(this.g=!!n,this.h=new yp(null,this.g))}function Ru(r){return new Ou(r)}function zy(r,n,t){r.j=t?xg(n,!0):n,r.j&&(r.j=r.j.replace(/:$/,""))}function Qy(r,n,t){r.i=t?xg(n,!0):n}function Ky(r,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);r.m=n}else r.m=null}function yE(r,n,t){n instanceof yp?(r.h=n,function Zg(r,n){n&&!r.j&&(Qa(r),r.i=null,r.g.forEach(function(t,o){var i=o.toLowerCase();o!=i&&(vE(this,o),IT(this,i,t))},r)),r.j=n}(r.h,r.g)):(t||(n=Ad(n,ev)),r.h=new yp(n,r.g))}function nr(r,n,t){r.h.set(n,t)}function Yy(r){return nr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function xg(r,n){return r?n?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Ad(r,n,t){return"string"==typeof r?(r=encodeURI(r).replace(n,kg),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function kg(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Ou.prototype.toString=function(){var r=[],n=this.j;n&&r.push(Ad(n,Xy,!0),":");var t=this.i;return(t||"file"==n)&&(r.push("//"),(n=this.s)&&r.push(Ad(n,Xy,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&r.push("/"),r.push(Ad(t,"/"==t.charAt(0)?K2:bT,!0))),(t=this.h.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Ad(t,AT)),r.join("")};var Xy=/[#\/\?@]/g,bT=/[#\?:]/g,K2=/[#\?]/g,ev=/[#\?@]/g,AT=/#/g;function yp(r,n){this.h=this.g=null,this.i=r||null,this.j=!!n}function Qa(r){r.g||(r.g=new Kl,r.h=0,r.i&&function z2(r,n){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var o=r[t].indexOf("="),i=null;if(0<=o){var u=r[t].substring(0,o);i=r[t].substring(o+1)}else u=r[t];n(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(r.i,function(n,t){r.add(decodeURIComponent(n.replace(/\+/g," ")),t)}))}function vE(r,n){Qa(r),n=Id(r,n),Yl(r.g.h,n)&&(r.i=null,r.h-=r.g.get(n).length,Yl((r=r.g).h,n)&&(delete r.h[n],r.i--,r.g.length>2*r.i&&Dg(r)))}function CE(r,n){return Qa(r),n=Id(r,n),Yl(r.g.h,n)}function IT(r,n,t){vE(r,n),0<t.length&&(r.i=null,r.g.set(Id(r,n),XC(t)),r.h+=t.length)}function Id(r,n){return n=String(n),r.j&&(n=n.toLowerCase()),n}function wE(r){this.l=r||Y2,r=Mt.PerformanceNavigationTiming?0<(r=Mt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Mt.g&&Mt.g.Ea&&Mt.g.Ea()&&Mt.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=yp.prototype).add=function(r,n){Qa(this),this.i=null,r=Id(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(n),this.h+=1,this},lt.forEach=function(r,n){Qa(this),this.g.forEach(function(t,o){YC(t,function(i){r.call(n,i,o,this)},this)},this)},lt.T=function(){Qa(this);for(var r=this.g.R(),n=this.g.T(),t=[],o=0;o<n.length;o++)for(var i=r[o],u=0;u<i.length;u++)t.push(n[o]);return t},lt.R=function(r){Qa(this);var n=[];if("string"==typeof r)CE(this,r)&&(n=Iy(n,this.g.get(Id(this,r))));else{r=this.g.R();for(var t=0;t<r.length;t++)n=Iy(n,r[t])}return n},lt.set=function(r,n){return Qa(this),this.i=null,CE(this,r=Id(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[n]),this.h+=1,this},lt.get=function(r,n){return r&&0<(r=this.R(r)).length?String(r[0]):n},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],n=this.g.T(),t=0;t<n.length;t++){var o=n[t],i=encodeURIComponent(String(o));o=this.R(o);for(var u=0;u<o.length;u++){var d=i;""!==o[u]&&(d+="="+encodeURIComponent(String(o[u]))),r.push(d)}}return this.i=r.join("&")};var Y2=10;function bE(r){return!!r.h||!!r.g&&r.g.size>=r.j}function ET(r){return r.h?1:r.g?r.g.size:0}function tv(r,n){return r.h?r.h==n:!!r.g&&r.g.has(n)}function nv(r,n){r.g?r.g.add(n):r.h=n}function AE(r,n){r.h&&r.h==n?r.h=null:r.g&&r.g.has(n)&&r.g.delete(n)}function DT(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let n=r.i;for(const t of r.g.values())n=n.concat(t.D);return n}return XC(r.i)}function Ng(){}function ST(){this.g=new Ng}function X2(r,n,t){const o=t||"";try{Eg(r,function(i,u){let d=i;md(i)&&(d=sp(i)),n.push(o+u+"="+encodeURIComponent(d))})}catch(i){throw n.push(o+"type="+encodeURIComponent("_badmap")),i}}function Mg(r,n,t,o,i){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,i(o)}catch(u){}}function Xl(r){this.l=r.$b||null,this.j=r.ib||!1}function Pg(r,n){Sr.call(this),this.D=r,this.u=n,this.m=void 0,this.readyState=Ro,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wE.prototype.cancel=function(){if(this.i=DT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},Ng.prototype.stringify=function(r){return Mt.JSON.stringify(r,void 0)},Ng.prototype.parse=function(r){return Mt.JSON.parse(r,void 0)},Yr(Xl,fp),Xl.prototype.g=function(){return new Pg(this.l,this.j)},Xl.prototype.i=function(r){return function(){return r}}({}),Yr(Pg,Sr);var Ro=0;function xT(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function ec(r){r.readyState=4,r.l=null,r.j=null,r.A=null,vp(r)}function vp(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(lt=Pg.prototype).open=function(r,n){if(this.readyState!=Ro)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=n,this.readyState=1,vp(this)},lt.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(n.body=r),(this.D||Mt).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ec(this)),this.readyState=Ro},lt.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,vp(this)),this.g&&(this.readyState=3,vp(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Mt.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xT(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},lt.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var n=r.value?r.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!r.done}))&&(this.response=this.responseText+=n)}r.done?ec(this):vp(this),3==this.readyState&&xT(this)}},lt.Ua=function(r){this.g&&(this.response=this.responseText=r,ec(this))},lt.Ta=function(r){this.g&&(this.response=r,ec(this))},lt.ha=function(){this.g&&ec(this)},lt.setRequestHeader=function(r,n){this.v.append(r,n)},lt.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],n=this.h.entries();for(var t=n.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=n.next();return r.join("\r\n")},Object.defineProperty(Pg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var IE=Mt.JSON.parse;function cr(r){Sr.call(this),this.headers=new Kl,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=rv,this.K=this.L=!1}Yr(cr,Sr);var rv="",kT=/^https?$/i,EE=["POST","PUT"];function NT(r){return"content-type"==r.toLowerCase()}function MT(r,n){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=n,r.m=5,ov(r),Lu(r)}function ov(r){r.D||(r.D=!0,Xr(r,"complete"),Xr(r,"error"))}function PT(r){if(r.h&&void 0!==Nu&&(!r.C[1]||4!=ia(r)||2!=r.ba()))if(r.v&&4==ia(r))Fy(r.Fa,0,r);else if(Xr(r,"readystatechange"),4==ia(r)){r.h=!1;try{const g=r.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var t;if(!(t=n)){var o;if(o=0===g){var i=String(r.H).match(wT)[1]||null;if(!i&&Mt.self&&Mt.self.location){var u=Mt.self.location.protocol;i=u.substr(0,u.length-1)}o=!kT.test(i?i.toLowerCase():"")}t=o}if(t)Xr(r,"complete"),Xr(r,"success");else{r.m=6;try{var d=2<ia(r)?r.g.statusText:""}catch(v){d=""}r.j=d+" ["+r.ba()+"]",ov(r)}}finally{Lu(r)}}}function Lu(r,n){if(r.g){bs(r);const t=r.g,o=r.C[0]?fg:null;r.g=null,r.C=null,n||Xr(r,"ready");try{t.onreadystatechange=o}catch(i){}}}function bs(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(Mt.clearTimeout(r.A),r.A=null)}function ia(r){return r.g?r.g.readyState:0}function Ug(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case rv:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(n){return null}}function iv(r,n,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function Ka(r){let n="";return Ey(r,function(t,o){n+=o,n+=":",n+=t,n+="\r\n"}),n}(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):nr(r,n,t))}function Og(r,n,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||n}function UT(r){this.za=0,this.l=[],this.h=new Vy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Og("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Og("baseRetryDelayMs",5e3,r),this.$a=Og("retryDelaySeedMs",1e4,r),this.Ya=Og("forwardChannelMaxRetries",2,r),this.ra=Og("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new wE(r&&r.concurrentRequestLimit),this.Ca=new ST,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function sv(r){if(OT(r),3==r.G){var n=r.V++,t=Ru(r.F);nr(t,"SID",r.J),nr(t,"RID",n),nr(t,"TYPE","terminate"),Ed(r,t),(n=new Ql(r,r.h,n,void 0)).K=2,n.v=Yy(Ru(t)),t=!1,Mt.navigator&&Mt.navigator.sendBeacon&&(t=Mt.navigator.sendBeacon(n.v.toString(),"")),!t&&Mt.Image&&((new Image).src=n.v,t=!0),t||(n.g=cv(n.l,null),n.g.ea(n.v)),n.F=Date.now(),bd(n)}lv(r)}function Rg(r){r.g&&(Vg(r),r.g.cancel(),r.g=null)}function OT(r){Rg(r),r.u&&(Mt.clearTimeout(r.u),r.u=null),Cp(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Mt.clearTimeout(r.m),r.m=null)}function Lg(r,n){r.l.push(new class{constructor(r,n){this.h=r,this.g=n}}(r.Za++,n)),3==r.G&&av(r)}function av(r){bE(r.i)||r.m||(r.m=!0,ap(r.Ha,r),r.C=0)}function LT(r,n){var t;t=n?n.m:r.V++;const o=Ru(r.F);nr(o,"SID",r.J),nr(o,"RID",t),nr(o,"AID",r.U),Ed(r,o),r.o&&r.s&&iv(o,r.o,r.s),t=new Ql(r,r.h,t,r.C+1),null===r.o&&(t.H=r.s),n&&(r.l=n.D.concat(r.l)),n=DE(r,t,1e3),t.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),nv(r.i,t),$y(t,o,n)}function Ed(r,n){r.j&&Eg({},function(t,o){nr(n,o,t)})}function DE(r,n,t){t=Math.min(r.l.length,t);var o=r.j?Or(r.j.Oa,r.j,r):null;e:{var i=r.l;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=i[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let g=!0;for(let v=0;v<t;v++){let w=i[v].h;const S=i[v].g;if(w-=u,0>w)u=Math.max(0,i[v].h-100),g=!1;else try{X2(S,d,"req"+w+"_")}catch(Z){o&&o(S)}}if(g){o=d.join("&");break e}}}return r=r.l.splice(0,t),n.D=r,o}function Fg(r){r.g||r.u||(r.Y=1,ap(r.Ga,r),r.A=0)}function qg(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=wd(Or(r.Ga,r),Tp(r,r.A)),r.A++,0))}function Vg(r){null!=r.B&&(Mt.clearTimeout(r.B),r.B=null)}function FT(r){r.g=new Ql(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var n=Ru(r.oa);nr(n,"RID","rpc"),nr(n,"SID",r.J),nr(n,"CI",r.N?"0":"1"),nr(n,"AID",r.U),Ed(r,n),nr(n,"TYPE","xmlhttp"),r.o&&r.s&&iv(n,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.la,t.K=1,t.v=Yy(Ru(n)),t.s=null,t.U=!0,CT(t,r)}function Cp(r){null!=r.v&&(Mt.clearTimeout(r.v),r.v=null)}function uv(r,n){var t=null;if(r.g==n){Cp(r),Vg(r),r.g=null;var o=2}else{if(!tv(r.i,n))return;t=n.D,AE(r.i,n),o=1}if(r.I=n.N,0!=r.G)if(n.i)if(1==o){t=n.s?n.s.length:0,n=Date.now()-n.F;var i=r.C;Xr(o=cp(),new wg(o,t,n,i)),av(r)}else Fg(r);else if(3==(i=n.o)||0==i&&0<r.I||!(1==o&&function RT(r,n){return!(ET(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=n.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=wd(Or(r.Ha,r,n),Tp(r,r.C)),r.C++,0)))}(r,n)||2==o&&qg(r)))switch(t&&0<t.length&&(n=r.i,n.i=n.i.concat(t)),i){case 1:sa(r,5);break;case 4:sa(r,10);break;case 3:sa(r,6);break;default:sa(r,2)}}function Tp(r,n){let t=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(t*=2),t*n}function sa(r,n){if(r.h.info("Error code "+n),2==n){var t=null;r.j&&(t=null);var o=Or(r.jb,r);t||(t=new Ou("//www.google.com/images/cleardot.gif"),Mt.location&&"http"==Mt.location.protocol||zy(t,"https"),Yy(t)),function ws(r,n){const t=new Vy;if(Mt.Image){const o=new Image;o.onload=ep(Mg,t,o,"TestLoadImage: loaded",!0,n),o.onerror=ep(Mg,t,o,"TestLoadImage: error",!1,n),o.onabort=ep(Mg,t,o,"TestLoadImage: abort",!1,n),o.ontimeout=ep(Mg,t,o,"TestLoadImage: timeout",!1,n),Mt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else n(!1)}(t.toString(),o)}else Oo(2);r.G=0,r.j&&r.j.va(n),lv(r),OT(r)}function lv(r){r.G=0,r.I=-1,r.j&&((0!=DT(r.i).length||0!=r.l.length)&&(r.i.i.length=0,XC(r.l),r.l.length=0),r.j.ua())}function qT(r,n,t){let o=function Q2(r){return r instanceof Ou?Ru(r):new Ou(r,void 0)}(t);if(""!=o.i)n&&Qy(o,n+"."+o.i),Ky(o,o.m);else{const i=Mt.location;o=function Sg(r,n,t,o){var i=new Ou(null,void 0);return r&&zy(i,r),n&&Qy(i,n),t&&Ky(i,t),o&&(i.l=o),i}(i.protocol,n?n+"."+i.hostname:i.hostname,+i.port,t)}return r.aa&&Ey(r.aa,function(i,u){nr(o,u,i)}),t=r.sa,(n=r.D)&&t&&nr(o,n,t),nr(o,"VER",r.ma),Ed(r,o),o}function cv(r,n,t){if(n&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new cr(t&&r.Ba&&!r.qa?new Xl({ib:!0}):r.qa)).L=r.H,n}function dv(){}function Bg(){if(_d&&!(10<=Number(nE)))throw Error("Environmental error: no available transport.")}function Ti(r,n){Sr.call(this),this.g=new UT(n),this.l=r,this.h=n&&n.messageUrlParams||null,r=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(r?r["X-WebChannel-Content-Type"]=n.messageContentType:r={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(r?r["X-WebChannel-Client-Profile"]=n.ya:r={"X-WebChannel-Client-Profile":n.ya}),this.g.P=r,(r=n&&n.httpHeadersOverwriteParam)&&!tp(r)&&(this.g.o=r),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!tp(n)&&(this.g.D=n,null!==(r=this.h)&&n in r&&n in(r=this.h)&&delete r[n]),this.j=new tc(this)}function SE(r){bg.call(this);var n=r.__sm__;if(n){e:{for(const t in n){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,n=null!==n&&r in n?n[r]:void 0),this.data=n}else this.data=r}function xE(){Pu.call(this),this.status=1}function tc(r){this.g=r}(lt=cr.prototype).ea=function(r,n,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);n=n?n.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():jy.g(),this.C=function fE(r){return r.h||(r.h=r.i())}(this.u?this.u:jy),this.g.onreadystatechange=Or(this.Fa,this);try{this.F=!0,this.g.open(n,String(r),!0),this.F=!1}catch(u){return void MT(this,u)}r=t||"";const i=new Kl(this.headers);o&&Eg(o,function(u,d){i.set(d,u)}),o=function YI(r){e:{var n=NT;const t=r.length,o="string"==typeof r?r.split(""):r;for(let i=0;i<t;i++)if(i in o&&n.call(void 0,o[i],i,r)){n=i;break e}n=-1}return 0>n?null:"string"==typeof r?r.charAt(n):r[n]}(i.T()),t=Mt.FormData&&r instanceof Mt.FormData,!(0<=KC(EE,n))||o||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(u,d){this.g.setRequestHeader(d,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{bs(this),0<this.B&&((this.K=function ZT(r){return _d&&function J2(){return function XI(r){var n=tE;return Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=r(9)}(function(){let r=0;const n=eT(String(np)).split("."),t=eT("9").split("."),o=Math.max(n.length,t.length);for(let d=0;0==r&&d<o;d++){var i=n[d]||"",u=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;r=tT(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||tT(0==i[2].length,0==u[2].length)||tT(i[2],u[2]),i=i[3],u=u[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Or(this.pa,this)):this.A=Fy(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){MT(this,u)}},lt.pa=function(){void 0!==Nu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xr(this,"timeout"),this.abort(8))},lt.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Xr(this,"complete"),Xr(this,"abort"),Lu(this))},lt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lu(this,!0)),cr.Z.M.call(this)},lt.Fa=function(){this.s||(this.F||this.v||this.l?PT(this):this.cb())},lt.cb=function(){PT(this)},lt.ba=function(){try{return 2<ia(this)?this.g.status:-1}catch(r){return-1}},lt.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},lt.Qa=function(r){if(this.g){var n=this.g.responseText;return r&&0==n.indexOf(r)&&(n=n.substring(r.length)),IE(n)}},lt.Da=function(){return this.m},lt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=UT.prototype).ma=8,lt.G=1,lt.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(n){}},lt.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;const i=new Ql(this,this.h,r,void 0);let u=this.s;if(this.P&&(u?(u=Dy(u),iT(u,this.P)):u=this.P),null===this.o&&(i.H=u),this.ja)e:{for(var n=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(n+=o)){n=t;break e}if(4096===n||t===this.l.length-1){n=t+1;break e}}n=1e3}else n=1e3;n=DE(this,i,n),nr(t=Ru(this.F),"RID",r),nr(t,"CVER",22),this.D&&nr(t,"X-HTTP-Session-Id",this.D),Ed(this,t),this.o&&u&&iv(t,this.o,u),nv(this.i,i),this.Ra&&nr(t,"TYPE","init"),this.ja?(nr(t,"$req",n),nr(t,"SID","null"),i.$=!0,$y(i,t,null)):$y(i,t,n),this.G=2}}else 3==this.G&&(r?LT(this,r):0==this.l.length||bE(this.i)||LT(this))},lt.Ga=function(){if(this.u=null,FT(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=wd(Or(this.bb,this),r)}},lt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Oo(10),Rg(this),FT(this))},lt.ab=function(){null!=this.v&&(this.v=null,Rg(this),qg(this),Oo(19))},lt.jb=function(r){r?(this.h.info("Successfully pinged google.com"),Oo(2)):(this.h.info("Failed to ping google.com"),Oo(1))},(lt=dv.prototype).xa=function(){},lt.wa=function(){},lt.va=function(){},lt.ua=function(){},lt.Oa=function(){},Bg.prototype.g=function(r,n){return new Ti(r,n)},Yr(Ti,Sr),Ti.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,n=this.l,t=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),ap(Or(r.hb,r,n))),Oo(0),r.W=n,r.aa=t||{},r.N=r.X,r.F=qT(r,null,r.W),av(r)},Ti.prototype.close=function(){sv(this.g)},Ti.prototype.u=function(r){if("string"==typeof r){var n={};n.__data__=r,Lg(this.g,n)}else this.v?((n={}).__data__=sp(r),Lg(this.g,n)):Lg(this.g,r)},Ti.prototype.M=function(){this.g.j=null,delete this.j,sv(this.g),delete this.g,Ti.Z.M.call(this)},Yr(SE,bg),Yr(xE,Pu),Yr(tc,dv),tc.prototype.xa=function(){Xr(this.g,"a")},tc.prototype.wa=function(r){Xr(this.g,new SE(r))},tc.prototype.va=function(r){Xr(this.g,new xE(r))},tc.prototype.ua=function(){Xr(this.g,"b")},Bg.prototype.createWebChannel=Bg.prototype.g,Ti.prototype.send=Ti.prototype.u,Ti.prototype.open=Ti.prototype.m,Ti.prototype.close=Ti.prototype.close,hp.NO_ERROR=0,hp.TIMEOUT=8,hp.HTTP_ERROR=6,pp.COMPLETE="complete",By.EventType=gp,gp.OPEN="a",gp.CLOSE="b",gp.ERROR="c",gp.MESSAGE="d",Sr.prototype.listen=Sr.prototype.N,cr.prototype.listenOnce=cr.prototype.O,cr.prototype.getLastError=cr.prototype.La,cr.prototype.getLastErrorCode=cr.prototype.Da,cr.prototype.getStatus=cr.prototype.ba,cr.prototype.getResponseJson=cr.prototype.Qa,cr.prototype.getResponseText=cr.prototype.ga,cr.prototype.send=cr.prototype.ea;var kE=Ga.createWebChannelTransport=function(){return new Bg},ZE=Ga.getStatEventTarget=function(){return cp()},hv=Ga.ErrorCode=hp,ex=Ga.EventType=pp,tx=Ga.Event=za,NE=Ga.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},nx=Ga.FetchXmlHttpFactory=Xl,pv=Ga.WebChannel=By,ME=Ga.XhrIo=cr;const wp="@firebase/firestore";class eo{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}eo.UNAUTHENTICATED=new eo(null),eo.GOOGLE_CREDENTIALS=new eo("google-credentials-uid"),eo.FIRST_PARTY=new eo("first-party-uid"),eo.MOCK_USER=new eo("mock-user");let Dd="9.9.1";const Ya=new Ha.Yd("@firebase/firestore");function Xa(){return Ya.logLevel}function Le(r,...n){if(Ya.logLevel<=Ha.in.DEBUG){const t=n.map(Ap);Ya.debug(`Firestore (${Dd}): ${r}`,...t)}}function dr(r,...n){if(Ya.logLevel<=Ha.in.ERROR){const t=n.map(Ap);Ya.error(`Firestore (${Dd}): ${r}`,...t)}}function bp(r,...n){if(Ya.logLevel<=Ha.in.WARN){const t=n.map(Ap);Ya.warn(`Firestore (${Dd}): ${r}`,...t)}}function Ap(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(t){return r}}function ct(r="Unexpected state"){const n=`FIRESTORE (${Dd}) INTERNAL ASSERTION FAILED: `+r;throw dr(n),new Error(n)}function Dt(r,n){r||ct()}function nt(r,n){return r}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Qt.ZR{constructor(n,t){super(n,t),this.code=n,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise((n,t)=>{this.resolve=n,this.reject=t})}}class BT{constructor(n,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class PE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,t){n.enqueueRetryable(()=>t(eo.UNAUTHENTICATED))}shutdown(){}}class UE{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,t){this.changeListener=t,n.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class OE{constructor(n){this.t=n,this.currentUser=eo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,t){var o=this;let i=this.i;const u=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Lr,n.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const w=d;n.enqueueRetryable((0,Ae.Z)(function*(){yield w.promise,yield u(o.currentUser)}))},v=w=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(w=>v(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?v(w):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Lr)}},0),g()}getToken(){const n=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==n?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Dt("string"==typeof o.accessToken),new BT(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return Dt(null===n||"string"==typeof n),new eo(n)}}class jT{constructor(n,t,o){this.type="FirstParty",this.user=eo.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=n.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class $T{constructor(n,t,o){this.h=n,this.l=t,this.m=o}getToken(){return Promise.resolve(new jT(this.h,this.l,this.m))}start(n,t){n.enqueueRetryable(()=>t(eo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fv{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RE{constructor(n){this.g=n,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(n,t){const o=u=>{null!=u.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.p;return this.p=u.token,Le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{n.enqueueRetryable(()=>o(u))};const i=u=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?i(u):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(t=>t?(Dt("string"==typeof t.token),this.p=t.token,new fv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function HT(r){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(t);else for(let o=0;o<r;o++)t[o]=Math.floor(256*Math.random());return t}class jg{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/n.length)*n.length;let o="";for(;o.length<20;){const i=HT(40);for(let u=0;u<i.length;++u)o.length<20&&i[u]<t&&(o+=n.charAt(i[u]%n.length))}return o}}function Vt(r,n){return r<n?-1:r>n?1:0}function nc(r,n,t){return r.length===n.length&&r.every((o,i)=>t(o,n[i]))}function $g(r){return r+"\0"}class Wn{constructor(n,t){if(this.seconds=n,this.nanoseconds=t,t<0)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(n<-62135596800)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Pe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return Wn.fromMillis(Date.now())}static fromDate(n){return Wn.fromMillis(n.getTime())}static fromMillis(n){const t=Math.floor(n/1e3),o=Math.floor(1e6*(n-1e3*t));return new Wn(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Vt(this.nanoseconds,n.nanoseconds):Vt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(n){this.timestamp=n}static fromTimestamp(n){return new xt(n)}static min(){return new xt(new Wn(0,0))}static max(){return new xt(new Wn(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Hg{constructor(n,t,o){void 0===t?t=0:t>n.length&&ct(),void 0===o?o=n.length-t:o>n.length-t&&ct(),this.segments=n,this.offset=t,this.len=o}get length(){return this.len}isEqual(n){return 0===Hg.comparator(this,n)}child(n){const t=this.segments.slice(this.offset,this.limit());return n instanceof Hg?n.forEach(o=>{t.push(o)}):t.push(n),this.construct(t)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==n.get(t))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==n.get(t))return!1;return!0}forEach(n){for(let t=this.offset,o=this.limit();t<o;t++)n(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,t){const o=Math.min(n.length,t.length);for(let i=0;i<o;i++){const u=n.get(i),d=t.get(i);if(u<d)return-1;if(u>d)return 1}return n.length<t.length?-1:n.length>t.length?1:0}}class pn extends Hg{construct(n,t,o){return new pn(n,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const t=[];for(const o of n){if(o.indexOf("//")>=0)throw new Pe(fe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(i=>i.length>0))}return new pn(t)}static emptyPath(){return new pn([])}}const LE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends Hg{construct(n,t,o){return new _r(n,t,o)}static isValidIdentifier(n){return LE.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _r(["__name__"])}static fromServerFormat(n){const t=[];let o="",i=0;const u=()=>{if(0===o.length)throw new Pe(fe.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let d=!1;for(;i<n.length;){const g=n[i];if("\\"===g){if(i+1===n.length)throw new Pe(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const v=n[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Pe(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=v,i+=2}else"`"===g?(d=!d,i++):"."!==g||d?(o+=g,i++):(u(),i++)}if(u(),d)throw new Pe(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new _r(t)}static emptyPath(){return new _r([])}}class et{constructor(n){this.path=n}static fromPath(n){return new et(pn.fromString(n))}static fromName(n){return new et(pn.fromString(n).popFirst(5))}static empty(){return new et(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===pn.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,t){return pn.comparator(n.path,t.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new et(new pn(n.slice()))}}class gv{constructor(n,t,o,i){this.indexId=n,this.collectionGroup=t,this.fields=o,this.indexState=i}}function GT(r){return r.fields.find(n=>2===n.kind)}function Sd(r){return r.fields.filter(n=>2!==n.kind)}gv.UNKNOWN_ID=-1;class mv{constructor(n,t){this.fieldPath=n,this.kind=t}}class Gg{constructor(n,t){this.sequenceNumber=n,this.offset=t}static empty(){return new Gg(0,Ji.min())}}function JT(r,n){const t=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,i=xt.fromTimestamp(1e9===o?new Wn(t+1,0):new Wn(t,o));return new Ji(i,et.empty(),n)}function FE(r){return new Ji(r.readTime,r.key,-1)}class Ji{constructor(n,t,o){this.readTime=n,this.documentKey=t,this.largestBatchId=o}static min(){return new Ji(xt.min(),et.empty(),-1)}static max(){return new Ji(xt.max(),et.empty(),-1)}}function WT(r,n){let t=r.readTime.compareTo(n.readTime);return 0!==t?t:(t=et.comparator(r.documentKey,n.documentKey),0!==t?t:Vt(r.largestBatchId,n.largestBatchId))}const qE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function rc(r){return s.apply(this,arguments)}function s(){return s=(0,Ae.Z)(function*(r){if(r.code!==fe.FAILED_PRECONDITION||r.message!==qE)throw r;Le("LocalStore","Unexpectedly lost primary lease")}),s.apply(this,arguments)}class a{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(n){return this.next(void 0,n)}next(n,t){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(n,this.result):new a((o,i)=>{this.nextCallback=u=>{this.wrapSuccess(n,u).next(o,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(o,i)}})}toPromise(){return new Promise((n,t)=>{this.next(n,t)})}wrapUserFunction(n){try{const t=n();return t instanceof a?t:a.resolve(t)}catch(t){return a.reject(t)}}wrapSuccess(n,t){return n?this.wrapUserFunction(()=>n(t)):a.resolve(t)}wrapFailure(n,t){return n?this.wrapUserFunction(()=>n(t)):a.reject(t)}static resolve(n){return new a((t,o)=>{t(n)})}static reject(n){return new a((t,o)=>{o(n)})}static waitFor(n){return new a((t,o)=>{let i=0,u=0,d=!1;n.forEach(g=>{++i,g.next(()=>{++u,d&&u===i&&t()},v=>o(v))}),d=!0,u===i&&t()})}static or(n){let t=a.resolve(!1);for(const o of n)t=t.next(i=>i?a.resolve(i):o());return t}static forEach(n,t){const o=[];return n.forEach((i,u)=>{o.push(t.call(this,i,u))}),this.waitFor(o)}static mapArray(n,t){return new a((o,i)=>{const u=n.length,d=new Array(u);let g=0;for(let v=0;v<u;v++){const w=v;t(n[w]).next(S=>{d[w]=S,++g,g===u&&o(d)},S=>i(S))}})}static doWhile(n,t){return new a((o,i)=>{const u=()=>{!0===n()?t().next(()=>{u()},i):o()};u()})}}class l{constructor(n,t){this.action=n,this.transaction=t,this.aborted=!1,this.T=new Lr,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new f(n,t.error)):this.T.resolve()},this.transaction.onerror=o=>{const i=N(o.target.error);this.T.reject(new f(n,i))}}static open(n,t,o,i){try{return new l(t,n.transaction(i,o))}catch(u){throw new f(t,u)}}get A(){return this.T.promise}abort(n){n&&this.T.reject(n),this.aborted||(Le("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const t=this.transaction.objectStore(n);return new T(t)}}class c{constructor(n,t,o){this.name=n,this.version=t,this.P=o,12.2===c.v((0,Qt.z$)())&&dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Le("SimpleDb","Removing database:",n),b(window.indexedDB.deleteDatabase(n)).toPromise()}static V(){if(!(0,Qt.hl)())return!1;if(c.S())return!0;const n=(0,Qt.z$)(),t=c.v(n),o=0<t&&t<10,i=c.D(n),u=0<i&&i<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||o||u)}static S(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.C)}static N(n,t){return n.store(t)}static v(n){const t=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static D(n){const t=n.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}k(n){var t=this;return(0,Ae.Z)(function*(){return t.db||(Le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{o(d.target.result)},u.onblocked=()=>{i(new f(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const g=d.target.error;i("VersionError"===g.name?new Pe(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Pe(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new f(n,g))},u.onupgradeneeded=d=>{Le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.P.O(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=o=>t.M(o)),t.db})()}F(n){this.M=n,this.db&&(this.db.onversionchange=t=>n(t))}runTransaction(n,t,o,i){var u=this;return(0,Ae.Z)(function*(){const d="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.k(n);const v=l.open(u.db,n,d?"readonly":"readwrite",o),w=i(v).next(S=>(v.R(),S)).catch(S=>(v.abort(S),a.reject(S))).toPromise();return w.catch(()=>{}),yield v.A,w}catch(v){const w=v,S="FirebaseError"!==w.name&&g<3;if(Le("SimpleDb","Transaction failed with error:",w.message,"Retrying:",S),u.close(),!S)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class h{constructor(n){this.$=n,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(n){this.$=n}done(){this.B=!0}q(n){this.L=n}delete(){return b(this.$.delete())}}class f extends Pe{constructor(n,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function _(r){return"IndexedDbTransactionError"===r.name}class T{constructor(n){this.store=n}put(n,t){let o;return void 0!==t?(Le("SimpleDb","PUT",this.store.name,n,t),o=this.store.put(t,n)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",n),o=this.store.put(n)),b(o)}add(n){return Le("SimpleDb","ADD",this.store.name,n,n),b(this.store.add(n))}get(n){return b(this.store.get(n)).next(t=>(void 0===t&&(t=null),Le("SimpleDb","GET",this.store.name,n,t),t))}delete(n){return Le("SimpleDb","DELETE",this.store.name,n),b(this.store.delete(n))}count(){return Le("SimpleDb","COUNT",this.store.name),b(this.store.count())}K(n,t){const o=this.options(n,t);if(o.index||"function"!=typeof this.store.getAll){const i=this.cursor(o),u=[];return this.G(i,(d,g)=>{u.push(g)}).next(()=>u)}{const i=this.store.getAll(o.range);return new a((u,d)=>{i.onerror=g=>{d(g.target.error)},i.onsuccess=g=>{u(g.target.result)}})}}j(n,t){const o=this.store.getAll(n,null===t?void 0:t);return new a((i,u)=>{o.onerror=d=>{u(d.target.error)},o.onsuccess=d=>{i(d.target.result)}})}W(n,t){Le("SimpleDb","DELETE ALL",this.store.name);const o=this.options(n,t);o.H=!1;const i=this.cursor(o);return this.G(i,(u,d,g)=>g.delete())}J(n,t){let o;t?o=n:(o={},t=n);const i=this.cursor(o);return this.G(i,t)}Y(n){const t=this.cursor({});return new a((o,i)=>{t.onerror=u=>{const d=N(u.target.error);i(d)},t.onsuccess=u=>{const d=u.target.result;d?n(d.primaryKey,d.value).next(g=>{g?d.continue():o()}):o()}})}G(n,t){const o=[];return new a((i,u)=>{n.onerror=d=>{u(d.target.error)},n.onsuccess=d=>{const g=d.target.result;if(!g)return void i();const v=new h(g),w=t(g.primaryKey,g.value,v);if(w instanceof a){const S=w.catch(Z=>(v.done(),a.reject(Z)));o.push(S)}v.isDone?i():null===v.U?g.continue():g.continue(v.U)}}).next(()=>a.waitFor(o))}options(n,t){let o;return void 0!==n&&("string"==typeof n?o=n:t=n),{index:o,range:t}}cursor(n){let t="next";if(n.reverse&&(t="prev"),n.index){const o=this.store.index(n.index);return n.H?o.openKeyCursor(n.range,t):o.openCursor(n.range,t)}return this.store.openCursor(n.range,t)}}function b(r){return new a((n,t)=>{r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{const i=N(o.target.error);t(i)}})}let E=!1;function N(r){const n=c.v((0,Qt.z$)());if(n>=12.2&&n<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const o=new Pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return E||(E=!0,setTimeout(()=>{throw o},0)),o}}return r}class U{constructor(n,t){this.asyncQueue=n,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(n){var t=this;Le("IndexBackiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,Ae.Z)(function*(){t.task=null;try{Le("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(o){_(o)?Le("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield rc(o)}yield t.Z(1)}))}}class Q{constructor(n,t){this.localStore=n,this.persistence=t}tt(n=50){var t=this;return(0,Ae.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.et(o,n))})()}et(n,t){const o=new Set;let i=t,u=!0;return a.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(d=>{if(null!==d&&!o.has(d))return Le("IndexBackiller",`Processing collection: ${d}`),this.nt(n,d,i).next(g=>{i-=g,o.add(d)});u=!1})).next(()=>t-i)}nt(n,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,t).next(i=>this.localStore.localDocuments.getNextDocuments(n,t,i,o).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(n,d).next(()=>this.st(i,u)).next(g=>(Le("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(n,t,g))).next(()=>d.size)}))}st(n,t){let o=n;return t.changes.forEach((i,u)=>{const d=FE(u);WT(d,o)>0&&(o=d)}),new Ji(o.readTime,o.documentKey,Math.max(t.batchId,n.largestBatchId))}}class ee{constructor(n,t){this.previousValue=n,t&&(t.sequenceNumberHandler=o=>this.it(o),this.rt=o=>t.writeSequenceNumber(o))}it(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.rt&&this.rt(n),n}}function be(r){let n=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&n++;return n}function Oe(r,n){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&n(t,r[t])}function tt(r){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n))return!1;return!0}ee.ot=-1;class je{constructor(n,t){this.comparator=n,this.root=t||Ie.EMPTY}insert(n,t){return new je(this.comparator,this.root.insert(n,t,this.comparator).copy(null,null,Ie.BLACK,null,null))}remove(n){return new je(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Ie.BLACK,null,null))}get(n){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(n,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(n){let t=0,o=this.root;for(;!o.isEmpty();){const i=this.comparator(n,o.key);if(0===i)return t+o.left.size;i<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((t,o)=>(n(t,o),!1))}toString(){const n=[];return this.inorderTraversal((t,o)=>(n.push(`${t}:${o}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new bt(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new bt(this.root,n,this.comparator,!1)}getReverseIterator(){return new bt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new bt(this.root,n,this.comparator,!0)}}class bt{constructor(n,t,o,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!n.isEmpty();)if(u=t?o(n.key,t):1,t&&i&&(u*=-1),u<0)n=this.isReverse?n.left:n.right;else{if(0===u){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const t={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Ie{constructor(n,t,o,i,u){this.key=n,this.value=t,this.color=null!=o?o:Ie.RED,this.left=null!=i?i:Ie.EMPTY,this.right=null!=u?u:Ie.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,t,o,i,u){return new Ie(null!=n?n:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=i?i:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,t,o){let i=this;const u=o(n,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(n,t,o),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(n,t,o)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ie.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,t){let o,i=this;if(t(n,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(n,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(n,i.key)){if(i.right.isEmpty())return Ie.EMPTY;o=i.right.min(),i=i.copy(o.key,o.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(n,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Ie.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Ie.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,t)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const n=this.left.check();if(n!==this.right.check())throw ct();return n+(this.isRed()?0:1)}}Ie.EMPTY=null,Ie.RED=!0,Ie.BLACK=!1,Ie.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(r,n,t,o,i){return this}insert(r,n,t){return new Ie(r,n)}remove(r,n){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(n){this.comparator=n,this.data=new je(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((t,o)=>(n(t),!1))}forEachInRange(n,t){const o=this.data.getIteratorFrom(n[0]);for(;o.hasNext();){const i=o.getNext();if(this.comparator(i.key,n[1])>=0)return;t(i.key)}}forEachWhile(n,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!n(o.getNext().key))return}firstAfterOrEqual(n){const t=this.data.getIteratorFrom(n);return t.hasNext()?t.getNext().key:null}getIterator(){return new $t(this.data.getIterator())}getIteratorFrom(n){return new $t(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let t=this;return t.size<n.size&&(t=n,n=this),n.forEach(o=>{t=t.add(o)}),t}isEqual(n){if(!(n instanceof ze)||this.size!==n.size)return!1;const t=this.data.getIterator(),o=n.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=o.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const n=[];return this.forEach(t=>{n.push(t)}),n}toString(){const n=[];return this.forEach(t=>n.push(t)),"SortedSet("+n.toString()+")"}copy(n){const t=new ze(this.comparator);return t.data=n,t}}class $t{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function An(r){return r.hasNext()?r.getNext():void 0}class Fr{constructor(n){this.fields=n,n.sort(_r.comparator)}static empty(){return new Fr([])}unionWith(n){let t=new ze(_r.comparator);for(const o of this.fields)t=t.add(o);for(const o of n)t=t.add(o);return new Fr(t.toArray())}covers(n){for(const t of this.fields)if(t.isPrefixOf(n))return!0;return!1}isEqual(n){return nc(this.fields,n.fields,(t,o)=>t.isEqual(o))}}class yr{constructor(n){this.binaryString=n}static fromBase64String(n){const t=atob(n);return new yr(t)}static fromUint8Array(n){const t=function(o){let i="";for(let u=0;u<o.length;++u)i+=String.fromCharCode(o[u]);return i}(n);return new yr(t)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const t=new Uint8Array(n.length);for(let o=0;o<n.length;o++)t[o]=n.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Vt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const yv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function aa(r){if(Dt(!!r),"string"==typeof r){let n=0;const t=yv.exec(r);if(Dt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),n=Number(i)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:n}}return{seconds:zn(r.seconds),nanos:zn(r.nanos)}}function zn(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function eu(r){return"string"==typeof r?yr.fromBase64String(r):yr.fromUint8Array(r)}function Ip(r){var n,t;return"server_timestamp"===(null===(t=((null===(n=null==r?void 0:r.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Jg(r){const n=r.mapValue.fields.__previous_value__;return Ip(n)?Jg(n):n}function oc(r){const n=aa(r.mapValue.fields.__local_write_time__.timestampValue);return new Wn(n.seconds,n.nanos)}class oM{constructor(n,t,o,i,u,d,g,v){this.databaseId=n,this.appId=t,this.persistenceKey=o,this.host=i,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.useFetchStreams=v}}class ic{constructor(n,t){this.projectId=n,this.database=t||"(default)"}static empty(){return new ic("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof ic&&n.projectId===this.projectId&&n.database===this.database}}function vv(r){return null==r}function Cv(r){return 0===r&&1/r==-1/0}function ix(r){return"number"==typeof r&&Number.isInteger(r)&&!Cv(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const xd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zT={nullValue:"NULL_VALUE"};function Ep(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ip(r)?4:lx(r)?9007199254740991:10:ct()}function Fu(r,n){if(r===n)return!0;const t=Ep(r);if(t!==Ep(n))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===n.booleanValue;case 4:return oc(r).isEqual(oc(n));case 3:return function(o,i){if("string"==typeof o.timestampValue&&"string"==typeof i.timestampValue&&o.timestampValue.length===i.timestampValue.length)return o.timestampValue===i.timestampValue;const u=aa(o.timestampValue),d=aa(i.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(r,n);case 5:return r.stringValue===n.stringValue;case 6:return i=n,eu(r.bytesValue).isEqual(eu(i.bytesValue));case 7:return r.referenceValue===n.referenceValue;case 8:return function(o,i){return zn(o.geoPointValue.latitude)===zn(i.geoPointValue.latitude)&&zn(o.geoPointValue.longitude)===zn(i.geoPointValue.longitude)}(r,n);case 2:return function(o,i){if("integerValue"in o&&"integerValue"in i)return zn(o.integerValue)===zn(i.integerValue);if("doubleValue"in o&&"doubleValue"in i){const u=zn(o.doubleValue),d=zn(i.doubleValue);return u===d?Cv(u)===Cv(d):isNaN(u)&&isNaN(d)}return!1}(r,n);case 9:return nc(r.arrayValue.values||[],n.arrayValue.values||[],Fu);case 10:return function(o,i){const u=o.mapValue.fields||{},d=i.mapValue.fields||{};if(be(u)!==be(d))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===d[g]||!Fu(u[g],d[g])))return!1;return!0}(r,n);default:return ct()}var i}function Tv(r,n){return void 0!==(r.values||[]).find(t=>Fu(t,n))}function kd(r,n){if(r===n)return 0;const t=Ep(r),o=Ep(n);if(t!==o)return Vt(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,n.booleanValue);case 2:return function(i,u){const d=zn(i.integerValue||i.doubleValue),g=zn(u.integerValue||u.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(r,n);case 3:return sx(r.timestampValue,n.timestampValue);case 4:return sx(oc(r),oc(n));case 5:return Vt(r.stringValue,n.stringValue);case 6:return function(i,u){const d=eu(i),g=eu(u);return d.compareTo(g)}(r.bytesValue,n.bytesValue);case 7:return function(i,u){const d=i.split("/"),g=u.split("/");for(let v=0;v<d.length&&v<g.length;v++){const w=Vt(d[v],g[v]);if(0!==w)return w}return Vt(d.length,g.length)}(r.referenceValue,n.referenceValue);case 8:return function(i,u){const d=Vt(zn(i.latitude),zn(u.latitude));return 0!==d?d:Vt(zn(i.longitude),zn(u.longitude))}(r.geoPointValue,n.geoPointValue);case 9:return function(i,u){const d=i.values||[],g=u.values||[];for(let v=0;v<d.length&&v<g.length;++v){const w=kd(d[v],g[v]);if(w)return w}return Vt(d.length,g.length)}(r.arrayValue,n.arrayValue);case 10:return function(i,u){if(i===xd.mapValue&&u===xd.mapValue)return 0;if(i===xd.mapValue)return 1;if(u===xd.mapValue)return-1;const d=i.fields||{},g=Object.keys(d),v=u.fields||{},w=Object.keys(v);g.sort(),w.sort();for(let S=0;S<g.length&&S<w.length;++S){const Z=Vt(g[S],w[S]);if(0!==Z)return Z;const R=kd(d[g[S]],v[w[S]]);if(0!==R)return R}return Vt(g.length,w.length)}(r.mapValue,n.mapValue);default:throw ct()}}function sx(r,n){if("string"==typeof r&&"string"==typeof n&&r.length===n.length)return Vt(r,n);const t=aa(r),o=aa(n),i=Vt(t.seconds,o.seconds);return 0!==i?i:Vt(t.nanos,o.nanos)}function Wg(r){return BE(r)}function BE(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const i=aa(o);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?eu(r.bytesValue).toBase64():"referenceValue"in r?et.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(n=r.geoPointValue).latitude},${n.longitude})`:"arrayValue"in r?function(o){let i="[",u=!0;for(const d of o.values||[])u?u=!1:i+=",",i+=BE(d);return i+"]"}(r.arrayValue):"mapValue"in r?function(o){const i=Object.keys(o.fields||{}).sort();let u="{",d=!0;for(const g of i)d?d=!1:u+=",",u+=`${g}:${BE(o.fields[g])}`;return u+"}"}(r.mapValue):ct();var n}function Dp(r,n){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${n.path.canonicalString()}`}}function jE(r){return!!r&&"integerValue"in r}function wv(r){return!!r&&"arrayValue"in r}function ax(r){return!!r&&"nullValue"in r}function ux(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function QT(r){return!!r&&"mapValue"in r}function bv(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const n={mapValue:{fields:{}}};return Oe(r.mapValue.fields,(t,o)=>n.mapValue.fields[t]=bv(o)),n}if(r.arrayValue){const n={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)n.arrayValue.values[t]=bv(r.arrayValue.values[t]);return n}return Object.assign({},r)}function lx(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function iM(r){return"nullValue"in r?zT:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Dp(ic.empty(),et.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:ct()}function sM(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Dp(ic.empty(),et.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?xd:ct()}function cx(r,n){const t=kd(r.value,n.value);return 0!==t?t:r.inclusive&&!n.inclusive?-1:!r.inclusive&&n.inclusive?1:0}function dx(r,n){const t=kd(r.value,n.value);return 0!==t?t:r.inclusive&&!n.inclusive?1:!r.inclusive&&n.inclusive?-1:0}class Lo{constructor(n){this.value=n}static empty(){return new Lo({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let t=this.value;for(let o=0;o<n.length-1;++o)if(t=(t.mapValue.fields||{})[n.get(o)],!QT(t))return null;return t=(t.mapValue.fields||{})[n.lastSegment()],t||null}}set(n,t){this.getFieldsMap(n.popLast())[n.lastSegment()]=bv(t)}setAll(n){let t=_r.emptyPath(),o={},i=[];n.forEach((d,g)=>{if(!t.isImmediateParentOf(g)){const v=this.getFieldsMap(t);this.applyChanges(v,o,i),o={},i=[],t=g.popLast()}d?o[g.lastSegment()]=bv(d):i.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,o,i)}delete(n){const t=this.field(n.popLast());QT(t)&&t.mapValue.fields&&delete t.mapValue.fields[n.lastSegment()]}isEqual(n){return Fu(this.value,n.value)}getFieldsMap(n){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<n.length;++o){let i=t.mapValue.fields[n.get(o)];QT(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[n.get(o)]=i),t=i}return t.mapValue.fields}applyChanges(n,t,o){Oe(t,(i,u)=>n[i]=u);for(const i of o)delete n[i]}clone(){return new Lo(bv(this.value))}}function hx(r){const n=[];return Oe(r.fields,(t,o)=>{const i=new _r([t]);if(QT(o)){const u=hx(o.mapValue).fields;if(0===u.length)n.push(i);else for(const d of u)n.push(i.child(d))}else n.push(i)}),new Fr(n)}class Qn{constructor(n,t,o,i,u,d){this.key=n,this.documentType=t,this.version=o,this.readTime=i,this.data=u,this.documentState=d}static newInvalidDocument(n){return new Qn(n,0,xt.min(),xt.min(),Lo.empty(),0)}static newFoundDocument(n,t,o){return new Qn(n,1,t,xt.min(),o,0)}static newNoDocument(n,t){return new Qn(n,2,t,xt.min(),Lo.empty(),0)}static newUnknownDocument(n,t){return new Qn(n,3,t,xt.min(),Lo.empty(),2)}convertToFoundDocument(n,t){return this.version=n,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Lo.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Lo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Qn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class aM{constructor(n,t=null,o=[],i=[],u=null,d=null,g=null){this.path=n,this.collectionGroup=t,this.orderBy=o,this.filters=i,this.limit=u,this.startAt=d,this.endAt=g,this.ut=null}}function px(r,n=null,t=[],o=[],i=null,u=null,d=null){return new aM(r,n,t,o,i,u,d)}function Sp(r){const n=nt(r);if(null===n.ut){let t=n.path.canonicalString();null!==n.collectionGroup&&(t+="|cg:"+n.collectionGroup),t+="|f:",t+=n.filters.map(o=>{return(i=o).field.canonicalString()+i.op.toString()+Wg(i.value);var i}).join(","),t+="|ob:",t+=n.orderBy.map(o=>{return(i=o).field.canonicalString()+i.dir;var i}).join(","),vv(n.limit)||(t+="|l:",t+=n.limit),n.startAt&&(t+="|lb:",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(o=>Wg(o)).join(",")),n.endAt&&(t+="|ub:",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(o=>Wg(o)).join(",")),n.ut=t}return n.ut}function Av(r,n){if(r.limit!==n.limit||r.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!mM(r.orderBy[i],n.orderBy[i]))return!1;if(r.filters.length!==n.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if((t=r.filters[i]).op!==(o=n.filters[i]).op||!t.field.isEqual(o.field)||!Fu(t.value,o.value))return!1;var t,o;return r.collectionGroup===n.collectionGroup&&!!r.path.isEqual(n.path)&&!!yx(r.startAt,n.startAt)&&yx(r.endAt,n.endAt)}function KT(r){return et.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function YT(r,n){return r.filters.filter(t=>t instanceof Fo&&t.field.isEqual(n))}function fx(r,n,t){let o=zT,i=!0;for(const u of YT(r,n)){let d=zT,g=!0;switch(u.op){case"<":case"<=":d=iM(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,g=!1;break;case"!=":case"not-in":d=zT}cx({value:o,inclusive:i},{value:d,inclusive:g})<0&&(o=d,i=g)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(n)){const d=t.position[u];cx({value:o,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(o=d,i=t.inclusive);break}return{value:o,inclusive:i}}function gx(r,n,t){let o=xd,i=!0;for(const u of YT(r,n)){let d=xd,g=!0;switch(u.op){case">=":case">":d=sM(u.value),g=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,g=!1;break;case"!=":case"not-in":d=xd}dx({value:o,inclusive:i},{value:d,inclusive:g})>0&&(o=d,i=g)}if(null!==t)for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(n)){const d=t.position[u];dx({value:o,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(o=d,i=t.inclusive);break}return{value:o,inclusive:i}}class Fo extends class{}{constructor(n,t,o){super(),this.field=n,this.op=t,this.value=o}static create(n,t,o){return n.isKeyField()?"in"===t||"not-in"===t?this.ct(n,t,o):new lM(n,t,o):"array-contains"===t?new hM(n,o):"in"===t?new pM(n,o):"not-in"===t?new fM(n,o):"array-contains-any"===t?new gM(n,o):new Fo(n,t,o)}static ct(n,t,o){return"in"===t?new cM(n,o):new dM(n,o)}matches(n){const t=n.data.field(this.field);return"!="===this.op?null!==t&&this.at(kd(t,this.value)):null!==t&&Ep(this.value)===Ep(t)&&this.at(kd(t,this.value))}at(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return ct()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class lM extends Fo{constructor(n,t,o){super(n,t,o),this.key=et.fromName(o.referenceValue)}matches(n){const t=et.comparator(n.key,this.key);return this.at(t)}}class cM extends Fo{constructor(n,t){super(n,"in",t),this.keys=mx(0,t)}matches(n){return this.keys.some(t=>t.isEqual(n.key))}}class dM extends Fo{constructor(n,t){super(n,"not-in",t),this.keys=mx(0,t)}matches(n){return!this.keys.some(t=>t.isEqual(n.key))}}function mx(r,n){var t;return((null===(t=n.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>et.fromName(o.referenceValue))}class hM extends Fo{constructor(n,t){super(n,"array-contains",t)}matches(n){const t=n.data.field(this.field);return wv(t)&&Tv(t.arrayValue,this.value)}}class pM extends Fo{constructor(n,t){super(n,"in",t)}matches(n){const t=n.data.field(this.field);return null!==t&&Tv(this.value.arrayValue,t)}}class fM extends Fo{constructor(n,t){super(n,"not-in",t)}matches(n){if(Tv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=n.data.field(this.field);return null!==t&&!Tv(this.value.arrayValue,t)}}class gM extends Fo{constructor(n,t){super(n,"array-contains-any",t)}matches(n){const t=n.data.field(this.field);return!(!wv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Tv(this.value.arrayValue,o))}}class Zd{constructor(n,t){this.position=n,this.inclusive=t}}class zg{constructor(n,t="asc"){this.field=n,this.dir=t}}function mM(r,n){return r.dir===n.dir&&r.field.isEqual(n.field)}function _x(r,n,t){let o=0;for(let i=0;i<r.position.length;i++){const u=n[i],d=r.position[i];if(o=u.field.isKeyField()?et.comparator(et.fromName(d.referenceValue),t.key):kd(d,t.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return o}function yx(r,n){if(null===r)return null===n;if(null===n||r.inclusive!==n.inclusive||r.position.length!==n.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Fu(r.position[t],n.position[t]))return!1;return!0}class sc{constructor(n,t=null,o=[],i=[],u=null,d="F",g=null,v=null){this.path=n,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=i,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=v,this.lt=null,this.ft=null}}function vx(r,n,t,o,i,u,d,g){return new sc(r,n,t,o,i,u,d,g)}function Qg(r){return new sc(r)}function $E(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function HE(r){for(const n of r.filters)if(n.ht())return n.field;return null}function GE(r){return null!==r.collectionGroup}function Kg(r){const n=nt(r);if(null===n.lt){n.lt=[];const t=HE(n),o=$E(n);if(null!==t&&null===o)t.isKeyField()||n.lt.push(new zg(t)),n.lt.push(new zg(_r.keyField(),"asc"));else{let i=!1;for(const u of n.explicitOrderBy)n.lt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.lt.push(new zg(_r.keyField(),u))}}}return n.lt}function ua(r){const n=nt(r);if(!n.ft)if("F"===n.limitType)n.ft=px(n.path,n.collectionGroup,Kg(n),n.filters,n.limit,n.startAt,n.endAt);else{const t=[];for(const u of Kg(n))t.push(new zg(u.field,"desc"===u.dir?"asc":"desc"));const o=n.endAt?new Zd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Zd(n.startAt.position,n.startAt.inclusive):null;n.ft=px(n.path,n.collectionGroup,t,n.filters,n.limit,o,i)}return n.ft}function Cx(r,n,t){return new sc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),n,t,r.startAt,r.endAt)}function Iv(r,n){return Av(ua(r),ua(n))&&r.limitType===n.limitType}function Tx(r){return`${Sp(ua(r))}|lt:${r.limitType}`}function JE(r){return`Query(target=${function uM(r){let n=r.path.canonicalString();return null!==r.collectionGroup&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Wg(o.value)}`;var o}).join(", ")}]`),vv(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(t=>Wg(t)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(t=>Wg(t)).join(",")),`Target(${n})`}(ua(r))}; limitType=${r.limitType})`}function WE(r,n){return n.isFoundDocument()&&function(t,o){const i=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):et.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(r,n)&&function(t,o){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===o.data.field(i.field))return!1;return!0}(r,n)&&function(t,o){for(const i of t.filters)if(!i.matches(o))return!1;return!0}(r,n)&&(o=n,!((t=r).startAt&&!function(i,u,d){const g=_x(i,u,d);return i.inclusive?g<=0:g<0}(t.startAt,Kg(t),o)||t.endAt&&!function(i,u,d){const g=_x(i,u,d);return i.inclusive?g>=0:g>0}(t.endAt,Kg(t),o)));var t,o}function wx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function bx(r){return(n,t)=>{let o=!1;for(const i of Kg(r)){const u=yM(i,n,t);if(0!==u)return u;o=o||i.field.isKeyField()}return 0}}function yM(r,n,t){const o=r.field.isKeyField()?et.comparator(n.key,t.key):function(i,u,d){const g=u.data.field(i),v=d.data.field(i);return null!==g&&null!==v?kd(g,v):ct()}(r.field,n,t);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return ct()}}function Ax(r,n){if(r.dt){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cv(n)?"-0":n}}function Ix(r){return{integerValue:""+r}}function Ex(r,n){return ix(n)?Ix(n):Ax(r,n)}class XT{constructor(){this._=void 0}}function vM(r,n,t){return r instanceof Yg?function(o,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,n):r instanceof xp?Sx(r,n):r instanceof kp?xx(r,n):function(o,i){const u=Dx(o,i),d=kx(u)+kx(o._t);return jE(u)&&jE(o._t)?Ix(d):Ax(o.wt,d)}(r,n)}function CM(r,n,t){return r instanceof xp?Sx(r,n):r instanceof kp?xx(r,n):t}function Dx(r,n){return r instanceof Xg?jE(t=n)||(o=t)&&"doubleValue"in o?n:{integerValue:0}:null;var o,t}class Yg extends XT{}class xp extends XT{constructor(n){super(),this.elements=n}}function Sx(r,n){const t=Zx(n);for(const o of r.elements)t.some(i=>Fu(i,o))||t.push(o);return{arrayValue:{values:t}}}class kp extends XT{constructor(n){super(),this.elements=n}}function xx(r,n){let t=Zx(n);for(const o of r.elements)t=t.filter(i=>!Fu(i,o));return{arrayValue:{values:t}}}class Xg extends XT{constructor(n,t){super(),this.wt=n,this._t=t}}function kx(r){return zn(r.integerValue||r.doubleValue)}function Zx(r){return wv(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Ev{constructor(n,t){this.field=n,this.transform=t}}class wM{constructor(n,t){this.version=n,this.transformResults=t}}class vr{constructor(n,t){this.updateTime=n,this.exists=t}static none(){return new vr}static exists(n){return new vr(void 0,n)}static updateTime(n){return new vr(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function ew(r,n){return void 0!==r.updateTime?n.isFoundDocument()&&n.version.isEqual(r.updateTime):void 0===r.exists||r.exists===n.isFoundDocument()}class tw{}function Nx(r,n){if(!r.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return r.isNoDocument()?new tm(r.key,vr.none()):new em(r.key,r.data,vr.none());{const t=r.data,o=Lo.empty();let i=new ze(_r.comparator);for(let u of n.fields)if(!i.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?o.delete(u):o.set(u,d),i=i.add(u)}return new ac(r.key,o,new Fr(i.toArray()),vr.none())}}function bM(r,n,t){r instanceof em?function(o,i,u){const d=o.value.clone(),g=Ux(o.fieldTransforms,i,u.transformResults);d.setAll(g),i.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(r,n,t):r instanceof ac?function(o,i,u){if(!ew(o.precondition,i))return void i.convertToUnknownDocument(u.version);const d=Ux(o.fieldTransforms,i,u.transformResults),g=i.data;g.setAll(Px(o)),g.setAll(d),i.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(r,n,t):n.convertToNoDocument(t.version).setHasCommittedMutations()}function Dv(r,n,t,o){return r instanceof em?function(i,u,d,g){if(!ew(i.precondition,u))return d;const v=i.value.clone(),w=Ox(i.fieldTransforms,g,u);return v.setAll(w),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null}(r,n,t,o):r instanceof ac?function(i,u,d,g){if(!ew(i.precondition,u))return d;const v=Ox(i.fieldTransforms,g,u),w=u.data;return w.setAll(Px(i)),w.setAll(v),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(S=>S.field))}(r,n,t,o):(d=t,ew(r.precondition,u=n)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function AM(r,n){let t=null;for(const o of r.fieldTransforms){const i=n.data.field(o.field),u=Dx(o.transform,i||null);null!=u&&(null===t&&(t=Lo.empty()),t.set(o.field,u))}return t||null}function Mx(r,n){return r.type===n.type&&!!r.key.isEqual(n.key)&&!!r.precondition.isEqual(n.precondition)&&(o=n.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===o||t&&o&&nc(t,o,(i,u)=>function TM(r,n){return r.field.isEqual(n.field)&&(o=n.transform,(t=r.transform)instanceof xp&&o instanceof xp||t instanceof kp&&o instanceof kp?nc(t.elements,o.elements,Fu):t instanceof Xg&&o instanceof Xg?Fu(t._t,o._t):t instanceof Yg&&o instanceof Yg);var t,o}(i,u))))&&(0===r.type?r.value.isEqual(n.value):1!==r.type||r.data.isEqual(n.data)&&r.fieldMask.isEqual(n.fieldMask));var t,o}class em extends tw{constructor(n,t,o,i=[]){super(),this.key=n,this.value=t,this.precondition=o,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ac extends tw{constructor(n,t,o,i,u=[]){super(),this.key=n,this.data=t,this.fieldMask=o,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Px(r){const n=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=r.data.field(t);n.set(t,o)}}),n}function Ux(r,n,t){const o=new Map;Dt(r.length===t.length);for(let i=0;i<t.length;i++){const u=r[i],d=u.transform,g=n.data.field(u.field);o.set(u.field,CM(d,g,t[i]))}return o}function Ox(r,n,t){const o=new Map;for(const i of r){const u=i.transform,d=t.data.field(i.field);o.set(i.field,vM(u,d,n))}return o}class tm extends tw{constructor(n,t){super(),this.key=n,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zE extends tw{constructor(n,t){super(),this.key=n,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IM{constructor(n){this.count=n}}var to,_n;function Rx(r){switch(r){default:return ct();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function Lx(r){if(void 0===r)return dr("GRPC error has no .code"),fe.UNKNOWN;switch(r){case to.OK:return fe.OK;case to.CANCELLED:return fe.CANCELLED;case to.UNKNOWN:return fe.UNKNOWN;case to.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case to.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case to.INTERNAL:return fe.INTERNAL;case to.UNAVAILABLE:return fe.UNAVAILABLE;case to.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case to.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case to.NOT_FOUND:return fe.NOT_FOUND;case to.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case to.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case to.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case to.ABORTED:return fe.ABORTED;case to.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case to.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case to.DATA_LOSS:return fe.DATA_LOSS;default:return ct()}}(_n=to||(to={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";class Nd{constructor(n,t){this.mapKeyFn=n,this.equalsFn=t,this.inner={},this.innerSize=0}get(n){const t=this.mapKeyFn(n),o=this.inner[t];if(void 0!==o)for(const[i,u]of o)if(this.equalsFn(i,n))return u}has(n){return void 0!==this.get(n)}set(n,t){const o=this.mapKeyFn(n),i=this.inner[o];if(void 0===i)return this.inner[o]=[[n,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],n))return void(i[u]=[n,t]);i.push([n,t]),this.innerSize++}delete(n){const t=this.mapKeyFn(n),o=this.inner[t];if(void 0===o)return!1;for(let i=0;i<o.length;i++)if(this.equalsFn(o[i][0],n))return 1===o.length?delete this.inner[t]:o.splice(i,1),this.innerSize--,!0;return!1}forEach(n){Oe(this.inner,(t,o)=>{for(const[i,u]of o)n(i,u)})}isEmpty(){return tt(this.inner)}size(){return this.innerSize}}const EM=new je(et.comparator);function Wi(){return EM}const Fx=new je(et.comparator);function Sv(...r){let n=Fx;for(const t of r)n=n.insert(t.key,t);return n}function qx(r){let n=Fx;return r.forEach((t,o)=>n=n.insert(t,o.overlayedDocument)),n}function qu(){return xv()}function Vx(){return xv()}function xv(){return new Nd(r=>r.toString(),(r,n)=>r.isEqual(n))}const DM=new je(et.comparator),SM=new ze(et.comparator);function Gt(...r){let n=SM;for(const t of r)n=n.add(t);return n}const xM=new ze(Vt);function nw(){return xM}class kv{constructor(n,t,o,i,u){this.snapshotVersion=n,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(n,t){const o=new Map;return o.set(n,Zv.createSynthesizedTargetChangeForCurrentChange(n,t)),new kv(xt.min(),o,nw(),Wi(),Gt())}}class Zv{constructor(n,t,o,i,u){this.resumeToken=n,this.current=t,this.addedDocuments=o,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(n,t){return new Zv(yr.EMPTY_BYTE_STRING,t,Gt(),Gt(),Gt())}}class rw{constructor(n,t,o,i){this.gt=n,this.removedTargetIds=t,this.key=o,this.yt=i}}class Bx{constructor(n,t){this.targetId=n,this.It=t}}class jx{constructor(n,t,o=yr.EMPTY_BYTE_STRING,i=null){this.state=n,this.targetIds=t,this.resumeToken=o,this.cause=i}}class $x{constructor(){this.Tt=0,this.Et=Gx(),this.At=yr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(n){n.approximateByteSize()>0&&(this.bt=!0,this.At=n)}St(){let n=Gt(),t=Gt(),o=Gt();return this.Et.forEach((i,u)=>{switch(u){case 0:n=n.add(i);break;case 2:t=t.add(i);break;case 1:o=o.add(i);break;default:ct()}}),new Zv(this.At,this.Rt,n,t,o)}Dt(){this.bt=!1,this.Et=Gx()}Ct(n,t){this.bt=!0,this.Et=this.Et.insert(n,t)}xt(n){this.bt=!0,this.Et=this.Et.remove(n)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class kM{constructor(n){this.Mt=n,this.Ft=new Map,this.$t=Wi(),this.Bt=Hx(),this.Lt=new ze(Vt)}Ut(n){for(const t of n.gt)n.yt&&n.yt.isFoundDocument()?this.qt(t,n.yt):this.Kt(t,n.key,n.yt);for(const t of n.removedTargetIds)this.Kt(t,n.key,n.yt)}Gt(n){this.forEachTarget(n,t=>{const o=this.Qt(t);switch(n.state){case 0:this.jt(t)&&o.Vt(n.resumeToken);break;case 1:o.kt(),o.Pt||o.Dt(),o.Vt(n.resumeToken);break;case 2:o.kt(),o.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(o.Ot(),o.Vt(n.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),o.Vt(n.resumeToken));break;default:ct()}})}forEachTarget(n,t){n.targetIds.length>0?n.targetIds.forEach(t):this.Ft.forEach((o,i)=>{this.jt(i)&&t(i)})}zt(n){const t=n.targetId,o=n.It.count,i=this.Ht(t);if(i){const u=i.target;if(KT(u))if(0===o){const d=new et(u.path);this.Kt(t,d,Qn.newNoDocument(d,xt.min()))}else Dt(1===o);else this.Jt(t)!==o&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(n){const t=new Map;this.Ft.forEach((u,d)=>{const g=this.Ht(d);if(g){if(u.current&&KT(g.target)){const v=new et(g.target.path);null!==this.$t.get(v)||this.Xt(d,v)||this.Kt(d,v,Qn.newNoDocument(v,n))}u.vt&&(t.set(d,u.St()),u.Dt())}});let o=Gt();this.Bt.forEach((u,d)=>{let g=!0;d.forEachWhile(v=>{const w=this.Ht(v);return!w||2===w.purpose||(g=!1,!1)}),g&&(o=o.add(u))}),this.$t.forEach((u,d)=>d.setReadTime(n));const i=new kv(n,t,this.Lt,this.$t,o);return this.$t=Wi(),this.Bt=Hx(),this.Lt=new ze(Vt),i}qt(n,t){if(!this.jt(n))return;const o=this.Xt(n,t.key)?2:0;this.Qt(n).Ct(t.key,o),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(n))}Kt(n,t,o){if(!this.jt(n))return;const i=this.Qt(n);this.Xt(n,t)?i.Ct(t,1):i.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(n)),o&&(this.$t=this.$t.insert(t,o))}removeTarget(n){this.Ft.delete(n)}Jt(n){const t=this.Qt(n).St();return this.Mt.getRemoteKeysForTarget(n).size+t.addedDocuments.size-t.removedDocuments.size}Nt(n){this.Qt(n).Nt()}Qt(n){let t=this.Ft.get(n);return t||(t=new $x,this.Ft.set(n,t)),t}Zt(n){let t=this.Bt.get(n);return t||(t=new ze(Vt),this.Bt=this.Bt.insert(n,t)),t}jt(n){const t=null!==this.Ht(n);return t||Le("WatchChangeAggregator","Detected inactive target",n),t}Ht(n){const t=this.Ft.get(n);return t&&t.Pt?null:this.Mt.te(n)}Wt(n){this.Ft.set(n,new $x),this.Mt.getRemoteKeysForTarget(n).forEach(t=>{this.Kt(n,t,null)})}Xt(n,t){return this.Mt.getRemoteKeysForTarget(n).has(t)}}function Hx(){return new je(et.comparator)}function Gx(){return new je(et.comparator)}const ZM={asc:"ASCENDING",desc:"DESCENDING"},NM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class MM{constructor(n,t){this.databaseId=n,this.dt=t}}function Nv(r,n){return r.dt?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Jx(r,n){return r.dt?n.toBase64():n.toUint8Array()}function PM(r,n){return Nv(r,n.toTimestamp())}function bo(r){return Dt(!!r),xt.fromTimestamp(function(n){const t=aa(n);return new Wn(t.seconds,t.nanos)}(r))}function QE(r,n){return(t=r,new pn(["projects",t.projectId,"databases",t.database])).child("documents").child(n).canonicalString();var t}function Wx(r){const n=pn.fromString(r);return Dt(rk(n)),n}function Mv(r,n){return QE(r.databaseId,n.path)}function Vu(r,n){const t=Wx(n);if(t.get(1)!==r.databaseId.projectId)throw new Pe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Pe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new et(Qx(t))}function KE(r,n){return QE(r.databaseId,n)}function zx(r){const n=Wx(r);return 4===n.length?pn.emptyPath():Qx(n)}function Pv(r){return new pn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Qx(r){return Dt(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Kx(r,n,t){return{name:Mv(r,n),fields:t.value.mapValue.fields}}function Yx(r,n,t){const o=Vu(r,n.name),i=bo(n.updateTime),u=new Lo({mapValue:{fields:n.fields}}),d=Qn.newFoundDocument(o,i,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Uv(r,n){let t;if(n instanceof em)t={update:Kx(r,n.key,n.value)};else if(n instanceof tm)t={delete:Mv(r,n.key)};else if(n instanceof ac)t={update:Kx(r,n.key,n.data),updateMask:jM(n.fieldMask)};else{if(!(n instanceof zE))return ct();t={verify:Mv(r,n.key)}}return n.fieldTransforms.length>0&&(t.updateTransforms=n.fieldTransforms.map(o=>function(i,u){const d=u.transform;if(d instanceof Yg)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof xp)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof kp)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Xg)return{fieldPath:u.field.canonicalString(),increment:d._t};throw ct()}(0,o))),n.precondition.isNone||(t.currentDocument=void 0!==(i=n.precondition).updateTime?{updateTime:PM(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ct()),t;var i}function YE(r,n){const t=n.currentDocument?void 0!==(i=n.currentDocument).updateTime?vr.updateTime(bo(i.updateTime)):void 0!==i.exists?vr.exists(i.exists):vr.none():vr.none(),o=n.updateTransforms?n.updateTransforms.map(i=>function(u,d){let g=null;"setToServerValue"in d?(Dt("REQUEST_TIME"===d.setToServerValue),g=new Yg):"appendMissingElements"in d?g=new xp(d.appendMissingElements.values||[]):"removeAllFromArray"in d?g=new kp(d.removeAllFromArray.values||[]):"increment"in d?g=new Xg(u,d.increment):ct();const v=_r.fromServerFormat(d.fieldPath);return new Ev(v,g)}(r,i)):[];var i;if(n.update){const i=Vu(r,n.update.name),u=new Lo({mapValue:{fields:n.update.fields}});if(n.updateMask){const d=new Fr((n.updateMask.fieldPaths||[]).map(w=>_r.fromServerFormat(w)));return new ac(i,u,d,t,o)}return new em(i,u,t,o)}if(n.delete){const i=Vu(r,n.delete);return new tm(i,t)}if(n.verify){const i=Vu(r,n.verify);return new zE(i,t)}return ct()}function Xx(r,n){return{documents:[KE(r,n.path)]}}function ek(r,n){const t={structuredQuery:{}},o=n.path;null!==n.collectionGroup?(t.parent=KE(r,o),t.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(t.parent=KE(r,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const i=function(v){if(0===v.length)return;const w=v.map(S=>function(Z){if("=="===Z.op){if(ux(Z.value))return{unaryFilter:{field:nm(Z.field),op:"IS_NAN"}};if(ax(Z.value))return{unaryFilter:{field:nm(Z.field),op:"IS_NULL"}}}else if("!="===Z.op){if(ux(Z.value))return{unaryFilter:{field:nm(Z.field),op:"IS_NOT_NAN"}};if(ax(Z.value))return{unaryFilter:{field:nm(Z.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nm(Z.field),op:qM(Z.op),value:Z.value}}}(S));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(n.filters);i&&(t.structuredQuery.where=i);const u=function(v){if(0!==v.length)return v.map(w=>{return{field:nm((S=w).field),direction:FM(S.dir)};var S})}(n.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(w=n.limit,r.dt||vv(w)?w:{value:w});var w,g,v;return null!==d&&(t.structuredQuery.limit=d),n.startAt&&(t.structuredQuery.startAt={before:(g=n.startAt).inclusive,values:g.position}),n.endAt&&(t.structuredQuery.endAt={before:!(v=n.endAt).inclusive,values:v.position}),t}function tk(r){let n=zx(r.parent);const t=r.structuredQuery,o=t.from?t.from.length:0;let i=null;if(o>0){Dt(1===o);const S=t.from[0];S.allDescendants?i=S.collectionId:n=n.child(S.collectionId)}let u=[];t.where&&(u=nk(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(S=>{return new zg(rm((Z=S).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction));var Z}));let g=null;t.limit&&(g=function(S){let Z;return Z="object"==typeof S?S.value:S,vv(Z)?null:Z}(t.limit));let v=null;var S;t.startAt&&(v=new Zd((S=t.startAt).values||[],!!S.before));let w=null;return t.endAt&&(w=function(S){return new Zd(S.values||[],!S.before)}(t.endAt)),vx(n,i,d,u,g,"F",v,w)}function nk(r){return r?void 0!==r.unaryFilter?[BM(r)]:void 0!==r.fieldFilter?[VM(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(n=>nk(n)).reduce((n,t)=>n.concat(t)):ct():[]}function FM(r){return ZM[r]}function qM(r){return NM[r]}function nm(r){return{fieldPath:r.canonicalString()}}function rm(r){return _r.fromServerFormat(r.fieldPath)}function VM(r){return Fo.create(rm(r.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(r.fieldFilter.op),r.fieldFilter.value)}function BM(r){switch(r.unaryFilter.op){case"IS_NAN":const n=rm(r.unaryFilter.field);return Fo.create(n,"==",{doubleValue:NaN});case"IS_NULL":const t=rm(r.unaryFilter.field);return Fo.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=rm(r.unaryFilter.field);return Fo.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=rm(r.unaryFilter.field);return Fo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}function jM(r){const n=[];return r.fields.forEach(t=>n.push(t.canonicalString())),{fieldPaths:n}}function rk(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function wi(r){let n="";for(let t=0;t<r.length;t++)n.length>0&&(n=ok(n)),n=$M(r.get(t),n);return ok(n)}function $M(r,n){let t=n;const o=r.length;for(let i=0;i<o;i++){const u=r.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function ok(r){return r+"\x01\x01"}function Bu(r){const n=r.length;if(Dt(n>=2),2===n)return Dt("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),pn.emptyPath();const t=n-2,o=[];let i="";for(let u=0;u<n;){const d=r.indexOf("\x01",u);switch((d<0||d>t)&&ct(),r.charAt(d+1)){case"\x01":const g=r.substring(u,d);let v;0===i.length?v=g:(i+=g,v=i,i=""),o.push(v);break;case"\x10":i+=r.substring(u,d),i+="\0";break;case"\x11":i+=r.substring(u,d+1);break;default:ct()}u=d+2}return new pn(o)}const ik=["userId","batchId"];function ow(r,n){return[r,wi(n)]}function sk(r,n,t){return[r,wi(n),t]}const HM={},GM=["prefixPath","collectionGroup","readTime","documentId"],JM=["prefixPath","collectionGroup","documentId"],WM=["collectionGroup","readTime","prefixPath","documentId"],zM=["canonicalId","targetId"],QM=["targetId","path"],KM=["path","targetId"],YM=["collectionId","parent"],XM=["indexId","uid"],eP=["uid","sequenceNumber"],tP=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nP=["indexId","uid","orderedDocumentKey"],rP=["userId","collectionPath","documentId"],oP=["userId","collectionPath","largestBatchId"],iP=["userId","collectionGroup","largestBatchId"],ak=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sP=[...ak,"documentOverlays"],uk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lk=uk,aP=[...lk,"indexConfiguration","indexState","indexEntries"];class XE extends VE{constructor(n,t){super(),this.ee=n,this.currentSequenceNumber=t}}function Ao(r,n){const t=nt(r);return c.N(t.ee,n)}class eD{constructor(n,t,o,i){this.batchId=n,this.localWriteTime=t,this.baseMutations=o,this.mutations=i}applyToRemoteDocument(n,t){const o=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(n.key)&&bM(u,n,o[i])}}applyToLocalView(n,t){for(const o of this.baseMutations)o.key.isEqual(n.key)&&(t=Dv(o,n,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(n.key)&&(t=Dv(o,n,t,this.localWriteTime));return t}applyToLocalDocumentSet(n,t){const o=Vx();return this.mutations.forEach(i=>{const u=n.get(i.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=t.has(i.key)?null:g;const v=Nx(d,g);null!==v&&o.set(i.key,v),d.isValidDocument()||d.convertToNoDocument(xt.min())}),o}keys(){return this.mutations.reduce((n,t)=>n.add(t.key),Gt())}isEqual(n){return this.batchId===n.batchId&&nc(this.mutations,n.mutations,(t,o)=>Mx(t,o))&&nc(this.baseMutations,n.baseMutations,(t,o)=>Mx(t,o))}}class tD{constructor(n,t,o,i){this.batch=n,this.commitVersion=t,this.mutationResults=o,this.docVersions=i}static from(n,t,o){Dt(n.mutations.length===o.length);let i=DM;const u=n.mutations;for(let d=0;d<u.length;d++)i=i.insert(u[d].key,o[d].version);return new tD(n,t,o,i)}}class nD{constructor(n,t){this.largestBatchId=n,this.mutation=t}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Md{constructor(n,t,o,i,u=xt.min(),d=xt.min(),g=yr.EMPTY_BYTE_STRING){this.target=n,this.targetId=t,this.purpose=o,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g}withSequenceNumber(n){return new Md(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,t){return new Md(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new Md(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class ck{constructor(n){this.ne=n}}function dk(r,n){const t=n.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:iw(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())o.document={name:Mv(i=r.ne,(u=n).key),fields:u.data.value.mapValue.fields,updateTime:Nv(i,u.version.toTimestamp())};else if(n.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Zp(n.version)};else{if(!n.isUnknownDocument())return ct();o.unknownDocument={path:t.path.toArray(),version:Zp(n.version)}}var i,u;return o}function iw(r){const n=r.toTimestamp();return[n.seconds,n.nanoseconds]}function Zp(r){const n=r.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function Np(r){const n=new Wn(r.seconds,r.nanoseconds);return xt.fromTimestamp(n)}function Mp(r,n){const t=(n.baseMutations||[]).map(u=>YE(r.ne,u));for(let u=0;u<n.mutations.length-1;++u){const d=n.mutations[u];u+1<n.mutations.length&&void 0!==n.mutations[u+1].transform&&(d.updateTransforms=n.mutations[u+1].transform.fieldTransforms,n.mutations.splice(u+1,1),++u)}const o=n.mutations.map(u=>YE(r.ne,u)),i=Wn.fromMillis(n.localWriteTimeMs);return new eD(n.batchId,i,t,o)}function Ov(r){const n=Np(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Np(r.lastLimboFreeSnapshotVersion):xt.min();let o;var i;return void 0!==r.query.documents?(Dt(1===(i=r.query).documents.length),o=ua(Qg(zx(i.documents[0])))):o=ua(tk(r.query)),new Md(o,r.targetId,0,r.lastListenSequenceNumber,n,t,yr.fromBase64String(r.resumeToken))}function hk(r,n){const t=Zp(n.snapshotVersion),o=Zp(n.lastLimboFreeSnapshotVersion);let i;i=KT(n.target)?Xx(r.ne,n.target):ek(r.ne,n.target);const u=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:Sp(n.target),readTime:t,resumeToken:u,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:i}}function rD(r){const n=tk({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Cx(n,n.limit,"L"):n}function oD(r,n){return new nD(n.largestBatchId,YE(r.ne,n.overlayMutation))}function pk(r,n){const t=n.path.lastSegment();return[r,wi(n.path.popLast()),t]}function fk(r,n,t,o){return{indexId:r,uid:n.uid||"",sequenceNumber:t,readTime:Zp(o.readTime),documentKey:wi(o.documentKey.path),largestBatchId:o.largestBatchId}}class lP{getBundleMetadata(n,t){return gk(n).get(t).next(o=>{if(o)return{id:(i=o).bundleId,createTime:Np(i.createTime),version:i.version};var i})}saveBundleMetadata(n,t){return gk(n).put({bundleId:(o=t).id,createTime:Zp(bo(o.createTime)),version:o.version});var o}getNamedQuery(n,t){return mk(n).get(t).next(o=>{if(o)return{name:(i=o).name,query:rD(i.bundledQuery),readTime:Np(i.readTime)};var i})}saveNamedQuery(n,t){return mk(n).put({name:(o=t).name,readTime:Zp(bo(o.readTime)),bundledQuery:o.bundledQuery});var o}}function gk(r){return Ao(r,"bundles")}function mk(r){return Ao(r,"namedQueries")}class sw{constructor(n,t){this.wt=n,this.userId=t}static se(n,t){return new sw(n,t.uid||"")}getOverlay(n,t){return Rv(n).get(pk(this.userId,t)).next(o=>o?oD(this.wt,o):null)}getOverlays(n,t){const o=qu();return a.forEach(t,i=>this.getOverlay(n,i).next(u=>{null!==u&&o.set(i,u)})).next(()=>o)}saveOverlays(n,t,o){const i=[];return o.forEach((u,d)=>{const g=new nD(t,d);i.push(this.ie(n,g))}),a.waitFor(i)}removeOverlaysForBatchId(n,t,o){const i=new Set;t.forEach(d=>i.add(wi(d.getCollectionPath())));const u=[];return i.forEach(d=>{const g=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,o+1],!1,!0);u.push(Rv(n).W("collectionPathOverlayIndex",g))}),a.waitFor(u)}getOverlaysForCollection(n,t,o){const i=qu(),u=wi(t),d=IDBKeyRange.bound([this.userId,u,o],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Rv(n).K("collectionPathOverlayIndex",d).next(g=>{for(const v of g){const w=oD(this.wt,v);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(n,t,o,i){const u=qu();let d;const g=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Rv(n).J({index:"collectionGroupOverlayIndex",range:g},(v,w,S)=>{const Z=oD(this.wt,w);u.size()<i||Z.largestBatchId===d?(u.set(Z.getKey(),Z),d=Z.largestBatchId):S.done()}).next(()=>u)}ie(n,t){return Rv(n).put(function(o,i,u){const[d,g,v]=pk(i,u.mutation.key);return{userId:i,collectionPath:g,documentId:v,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Uv(o.ne,u.mutation)}}(this.wt,this.userId,t))}}function Rv(r){return Ao(r,"documentOverlays")}class Pp{constructor(){}re(n,t){this.oe(n,t),t.ue()}oe(n,t){if("nullValue"in n)this.ce(t,5);else if("booleanValue"in n)this.ce(t,10),t.ae(n.booleanValue?1:0);else if("integerValue"in n)this.ce(t,15),t.ae(zn(n.integerValue));else if("doubleValue"in n){const o=zn(n.doubleValue);isNaN(o)?this.ce(t,13):(this.ce(t,15),Cv(o)?t.ae(0):t.ae(o))}else if("timestampValue"in n){const o=n.timestampValue;this.ce(t,20),"string"==typeof o?t.he(o):(t.he(`${o.seconds||""}`),t.ae(o.nanos||0))}else if("stringValue"in n)this.le(n.stringValue,t),this.fe(t);else if("bytesValue"in n)this.ce(t,30),t.de(eu(n.bytesValue)),this.fe(t);else if("referenceValue"in n)this._e(n.referenceValue,t);else if("geoPointValue"in n){const o=n.geoPointValue;this.ce(t,45),t.ae(o.latitude||0),t.ae(o.longitude||0)}else"mapValue"in n?lx(n)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(n.mapValue,t),this.fe(t)):"arrayValue"in n?(this.me(n.arrayValue,t),this.fe(t)):ct()}le(n,t){this.ce(t,25),this.ge(n,t)}ge(n,t){t.he(n)}we(n,t){const o=n.fields||{};this.ce(t,55);for(const i of Object.keys(o))this.le(i,t),this.oe(o[i],t)}me(n,t){const o=n.values||[];this.ce(t,50);for(const i of o)this.oe(i,t)}_e(n,t){this.ce(t,37),et.fromName(n).path.forEach(o=>{this.ce(t,60),this.ge(o,t)})}ce(n,t){n.ae(t)}fe(n){n.ae(2)}}function cP(r){if(0===r)return 8;let n=0;return r>>4==0&&(n+=4,r<<=4),r>>6==0&&(n+=2,r<<=2),r>>7==0&&(n+=1),n}function _k(r){const n=64-function(t){let o=0;for(let i=0;i<8;++i){const u=cP(255&t[i]);if(o+=u,8!==u)break}return o}(r);return Math.ceil(n/8)}Pp.ye=new Pp;class dP{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(n){const t=n[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ie(o.value),o=t.next();this.Te()}Ee(n){const t=n[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(n){for(const t of n){const o=t.charCodeAt(0);if(o<128)this.Ie(o);else if(o<2048)this.Ie(960|o>>>6),this.Ie(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o);else{const i=t.codePointAt(0);this.Ie(240|i>>>18),this.Ie(128|63&i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i)}}this.Te()}Pe(n){for(const t of n){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}ve(n){const t=this.Ve(n),o=_k(t);this.Se(1+o),this.buffer[this.position++]=255&o;for(let i=t.length-o;i<t.length;++i)this.buffer[this.position++]=255&t[i]}De(n){const t=this.Ve(n),o=_k(t);this.Se(1+o),this.buffer[this.position++]=~(255&o);for(let i=t.length-o;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(n){this.Se(n.length),this.buffer.set(n,this.position),this.position+=n.length}Oe(){return this.buffer.slice(0,this.position)}Ve(n){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(n),o=0!=(128&t[0]);t[0]^=o?255:128;for(let i=1;i<t.length;++i)t[i]^=o?255:0;return t}Ie(n){const t=255&n;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(n){const t=255&n;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(n)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(n){this.Se(1),this.buffer[this.position++]=n}ke(n){this.Se(1),this.buffer[this.position++]=~n}Se(n){const t=n+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const i=new Uint8Array(o);i.set(this.buffer),this.buffer=i}}class hP{constructor(n){this.Me=n}de(n){this.Me.pe(n)}he(n){this.Me.be(n)}ae(n){this.Me.ve(n)}ue(){this.Me.Ce()}}class pP{constructor(n){this.Me=n}de(n){this.Me.Ee(n)}he(n){this.Me.Pe(n)}ae(n){this.Me.De(n)}ue(){this.Me.Ne()}}class Lv{constructor(){this.Me=new dP,this.Fe=new hP(this.Me),this.$e=new pP(this.Me)}seed(n){this.Me.seed(n)}Be(n){return 0===n?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class Up{constructor(n,t,o,i){this.indexId=n,this.documentKey=t,this.arrayValue=o,this.directionalValue=i}Le(){const n=this.directionalValue.length,t=0===n||255===this.directionalValue[n-1]?n+1:n,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==n?o.set([0],this.directionalValue.length):++o[o.length-1],new Up(this.indexId,this.documentKey,this.arrayValue,o)}}function Op(r,n){let t=r.indexId-n.indexId;return 0!==t?t:(t=yk(r.arrayValue,n.arrayValue),0!==t?t:(t=yk(r.directionalValue,n.directionalValue),0!==t?t:et.comparator(r.documentKey,n.documentKey)))}function yk(r,n){for(let t=0;t<r.length&&t<n.length;++t){const o=r[t]-n[t];if(0!==o)return o}return r.length-n.length}class fP{constructor(n){this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.Ue=n.orderBy,this.qe=[];for(const t of n.filters){const o=t;o.ht()?this.Ke=o:this.qe.push(o)}}Ge(n){const t=GT(n);if(void 0!==t&&!this.Qe(t))return!1;const o=Sd(n);let i=0,u=0;for(;i<o.length&&this.Qe(o[i]);++i);if(i===o.length)return!0;if(void 0!==this.Ke){const d=o[i];if(!this.je(this.Ke,d)||!this.We(this.Ue[u++],d))return!1;++i}for(;i<o.length;++i){const d=o[i];if(u>=this.Ue.length||!this.We(this.Ue[u++],d))return!1}return!0}Qe(n){for(const t of this.qe)if(this.je(t,n))return!0;return!1}je(n,t){return!(void 0===n||!n.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===n.op||"array-contains-any"===n.op)}We(n,t){return!!n.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===n.dir||1===t.kind&&"desc"===n.dir)}}class gP{constructor(){this.ze=new iD}addToCollectionParentIndex(n,t){return this.ze.add(t),a.resolve()}getCollectionParents(n,t){return a.resolve(this.ze.getEntries(t))}addFieldIndex(n,t){return a.resolve()}deleteFieldIndex(n,t){return a.resolve()}getDocumentsMatchingTarget(n,t){return a.resolve(null)}getIndexType(n,t){return a.resolve(0)}getFieldIndexes(n,t){return a.resolve([])}getNextCollectionGroupToUpdate(n){return a.resolve(null)}getMinOffset(n,t){return a.resolve(Ji.min())}getMinOffsetFromCollectionGroup(n,t){return a.resolve(Ji.min())}updateCollectionGroup(n,t,o){return a.resolve()}updateIndexEntries(n,t){return a.resolve()}}class iD{constructor(){this.index={}}add(n){const t=n.lastSegment(),o=n.popLast(),i=this.index[t]||new ze(pn.comparator),u=!i.has(o);return this.index[t]=i.add(o),u}has(n){const t=n.lastSegment(),o=n.popLast(),i=this.index[t];return i&&i.has(o)}getEntries(n){return(this.index[n]||new ze(pn.comparator)).toArray()}}const aw=new Uint8Array(0);class mP{constructor(n,t){this.user=n,this.databaseId=t,this.He=new iD,this.Je=new Nd(o=>Sp(o),(o,i)=>Av(o,i)),this.uid=n.uid||""}addToCollectionParentIndex(n,t){if(!this.He.has(t)){const o=t.lastSegment(),i=t.popLast();n.addOnCommittedListener(()=>{this.He.add(t)});const u={collectionId:o,parent:wi(i)};return vk(n).put(u)}return a.resolve()}getCollectionParents(n,t){const o=[],i=IDBKeyRange.bound([t,""],[$g(t),""],!1,!0);return vk(n).K(i).next(u=>{for(const d of u){if(d.collectionId!==t)break;o.push(Bu(d.parent))}return o})}addFieldIndex(n,t){const o=uw(n),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var d;delete i.indexId;const u=o.add(i);if(t.indexState){const d=qv(n);return u.next(g=>{d.put(fk(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(n,t){const o=uw(n),i=qv(n),u=Fv(n);return o.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(n,t){const o=Fv(n);let i=!0;const u=new Map;return a.forEach(this.Ye(t),d=>this.Xe(n,d).next(g=>{i&&(i=!!g),u.set(d,g)})).next(()=>{if(i){let d=Gt();const g=[];return a.forEach(u,(v,w)=>{var S;Le("IndexedDbIndexManager",`Using index ${S=v,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(Kt=>`${Kt.fieldPath}:${Kt.kind}`).join(",")}`} to execute ${Sp(t)}`);const Z=function(Kt,wt){const Yt=GT(wt);if(void 0===Yt)return null;for(const Sn of YT(Kt,Yt.fieldPath))switch(Sn.op){case"array-contains-any":return Sn.value.arrayValue.values||[];case"array-contains":return[Sn.value]}return null}(w,v),R=function(Kt,wt){const Yt=new Map;for(const Sn of Sd(wt))for(const si of YT(Kt,Sn.fieldPath))switch(si.op){case"==":case"in":Yt.set(Sn.fieldPath.canonicalString(),si.value);break;case"not-in":case"!=":return Yt.set(Sn.fieldPath.canonicalString(),si.value),Array.from(Yt.values())}return null}(w,v),W=function(Kt,wt){const Yt=[];let Sn=!0;for(const si of Sd(wt)){const o0=0===si.kind?fx(Kt,si.fieldPath,Kt.startAt):gx(Kt,si.fieldPath,Kt.startAt);Yt.push(o0.value),Sn&&(Sn=o0.inclusive)}return new Zd(Yt,Sn)}(w,v),ne=function(Kt,wt){const Yt=[];let Sn=!0;for(const si of Sd(wt)){const o0=0===si.kind?gx(Kt,si.fieldPath,Kt.endAt):fx(Kt,si.fieldPath,Kt.endAt);Yt.push(o0.value),Sn&&(Sn=o0.inclusive)}return new Zd(Yt,Sn)}(w,v),Me=this.Ze(v,w,W),$e=this.Ze(v,w,ne),pt=this.tn(v,w,R),Pt=this.en(v.indexId,Z,Me,W.inclusive,$e,ne.inclusive,pt);return a.forEach(Pt,Kt=>o.j(Kt,t.limit).next(wt=>{wt.forEach(Yt=>{const Sn=et.fromSegments(Yt.documentKey);d.has(Sn)||(d=d.add(Sn),g.push(Sn))})}))}).next(()=>g)}return a.resolve(null)})}Ye(n){let t=this.Je.get(n);return t||(t=[n],this.Je.set(n,t),t)}en(n,t,o,i,u,d,g){const v=(null!=t?t.length:1)*Math.max(o.length,u.length),w=v/(null!=t?t.length:1),S=[];for(let Z=0;Z<v;++Z){const R=t?this.nn(t[Z/w]):aw,W=this.sn(n,R,o[Z%w],i),ne=this.rn(n,R,u[Z%w],d),Me=g.map($e=>this.sn(n,R,$e,!0));S.push(...this.createRange(W,ne,Me))}return S}sn(n,t,o,i){const u=new Up(n,et.empty(),t,o);return i?u:u.Le()}rn(n,t,o,i){const u=new Up(n,et.empty(),t,o);return i?u.Le():u}Xe(n,t){const o=new fP(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(n,i).next(u=>{let d=null;for(const g of u)o.Ge(g)&&(!d||g.fields.length>d.fields.length)&&(d=g);return d})}getIndexType(n,t){let o=2;return a.forEach(this.Ye(t),i=>this.Xe(n,i).next(u=>{u?0!==o&&u.fields.length<function(d){let g=new ze(_r.comparator),v=!1;for(const w of d.filters){const S=w;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?v=!0:g=g.add(S.field))}for(const w of d.orderBy)w.field.isKeyField()||(g=g.add(w.field));return g.size+(v?1:0)}(i)&&(o=1):o=0})).next(()=>o)}on(n,t){const o=new Lv;for(const i of Sd(n)){const u=t.data.field(i.fieldPath);if(null==u)return null;const d=o.Be(i.kind);Pp.ye.re(u,d)}return o.Oe()}nn(n){const t=new Lv;return Pp.ye.re(n,t.Be(0)),t.Oe()}un(n,t){const o=new Lv;return Pp.ye.re(Dp(this.databaseId,t),o.Be(function(i){const u=Sd(i);return 0===u.length?0:u[u.length-1].kind}(n))),o.Oe()}tn(n,t,o){if(null===o)return[];let i=[];i.push(new Lv);let u=0;for(const d of Sd(n)){const g=o[u++];for(const v of i)if(this.cn(t,d.fieldPath)&&wv(g))i=this.an(i,d,g);else{const w=v.Be(d.kind);Pp.ye.re(g,w)}}return this.hn(i)}Ze(n,t,o){return this.tn(n,t,o.position)}hn(n){const t=[];for(let o=0;o<n.length;++o)t[o]=n[o].Oe();return t}an(n,t,o){const i=[...n],u=[];for(const d of o.arrayValue.values||[])for(const g of i){const v=new Lv;v.seed(g.Oe()),Pp.ye.re(d,v.Be(t.kind)),u.push(v)}return u}cn(n,t){return!!n.filters.find(o=>o instanceof Fo&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(n,t){const o=uw(n),i=qv(n);return(t?o.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.K()).next(u=>{const d=[];return a.forEach(u,g=>i.get([g.indexId,this.uid]).next(v=>{d.push(function(w,S){const Z=S?new Gg(S.sequenceNumber,new Ji(Np(S.readTime),new et(Bu(S.documentKey)),S.largestBatchId)):Gg.empty(),R=w.fields.map(([W,ne])=>new mv(_r.fromServerFormat(W),ne));return new gv(w.indexId,w.collectionGroup,R,Z)}(g,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(t=>0===t.length?null:(t.sort((o,i)=>{const u=o.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:Vt(o.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(n,t,o){const i=uw(n),u=qv(n);return this.ln(n).next(d=>i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>a.forEach(g,v=>u.put(fk(v.indexId,this.user,d,o)))))}updateIndexEntries(n,t){const o=new Map;return a.forEach(t,(i,u)=>{const d=o.get(i.collectionGroup);return(d?a.resolve(d):this.getFieldIndexes(n,i.collectionGroup)).next(g=>(o.set(i.collectionGroup,g),a.forEach(g,v=>this.fn(n,i,v).next(w=>{const S=this.dn(u,v);return w.isEqual(S)?a.resolve():this._n(n,u,v,w,S)}))))})}wn(n,t,o,i){return Fv(n).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.un(o,t.key),documentKey:t.key.path.toArray()})}mn(n,t,o,i){return Fv(n).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.un(o,t.key),t.key.path.toArray()])}fn(n,t,o){const i=Fv(n);let u=new ze(Op);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.un(o,t)])},(d,g)=>{u=u.add(new Up(o.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>u)}dn(n,t){let o=new ze(Op);const i=this.on(t,n);if(null==i)return o;const u=GT(t);if(null!=u){const d=n.data.field(u.fieldPath);if(wv(d))for(const g of d.arrayValue.values||[])o=o.add(new Up(t.indexId,n.key,this.nn(g),i))}else o=o.add(new Up(t.indexId,n.key,aw,i));return o}_n(n,t,o,i,u){Le("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(g,v,w,S,Z){const R=g.getIterator(),W=v.getIterator();let ne=An(R),Me=An(W);for(;ne||Me;){let $e=!1,pt=!1;if(ne&&Me){const Pt=w(ne,Me);Pt<0?pt=!0:Pt>0&&($e=!0)}else null!=ne?pt=!0:$e=!0;$e?(S(Me),Me=An(W)):pt?(Z(ne),ne=An(R)):(ne=An(R),Me=An(W))}}(i,u,Op,g=>{d.push(this.wn(n,t,o,g))},g=>{d.push(this.mn(n,t,o,g))}),a.waitFor(d)}ln(n){let t=1;return qv(n).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(n,t,o){o=o.sort((d,g)=>Op(d,g)).filter((d,g,v)=>!g||0!==Op(d,v[g-1]));const i=[];i.push(n);for(const d of o){const g=Op(d,n),v=Op(d,t);if(0===g)i[0]=n.Le();else if(g>0&&v<0)i.push(d),i.push(d.Le());else if(v>0)break}i.push(t);const u=[];for(let d=0;d<i.length;d+=2)u.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,aw,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,aw,[]]));return u}getMinOffsetFromCollectionGroup(n,t){return this.getFieldIndexes(n,t).next(Ck)}getMinOffset(n,t){return a.mapArray(this.Ye(t),o=>this.Xe(n,o).next(i=>i||ct())).next(Ck)}}function vk(r){return Ao(r,"collectionParents")}function Fv(r){return Ao(r,"indexEntries")}function uw(r){return Ao(r,"indexConfiguration")}function qv(r){return Ao(r,"indexState")}function Ck(r){Dt(0!==r.length);let n=r[0].indexState.offset,t=n.largestBatchId;for(let o=1;o<r.length;o++){const i=r[o].indexState.offset;WT(i,n)<0&&(n=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ji(n.readTime,n.documentKey,t)}const Tk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zi{constructor(n,t,o){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(n){return new zi(n,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wk(r,n,t){const o=r.store("mutations"),i=r.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let g=0;const v=o.J({range:d},(S,Z,R)=>(g++,R.delete()));u.push(v.next(()=>{Dt(1===g)}));const w=[];for(const S of t.mutations){const Z=sk(n,S.key.path,t.batchId);u.push(i.delete(Z)),w.push(S.key)}return a.waitFor(u).next(()=>w)}function lw(r){if(!r)return 0;let n;if(r.document)n=r.document;else if(r.unknownDocument)n=r.unknownDocument;else{if(!r.noDocument)throw ct();n=r.noDocument}return JSON.stringify(n).length}zi.DEFAULT_COLLECTION_PERCENTILE=10,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zi.DEFAULT=new zi(41943040,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zi.DISABLED=new zi(-1,0,0);class cw{constructor(n,t,o,i){this.userId=n,this.wt=t,this.indexManager=o,this.referenceDelegate=i,this.gn={}}static se(n,t,o,i){Dt(""!==n.uid);const u=n.isAuthenticated()?n.uid:"";return new cw(u,t,o,i)}checkEmpty(n){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pd(n).J({index:"userMutationsIndex",range:o},(i,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(n,t,o,i){const u=om(n),d=Pd(n);return d.add({}).next(g=>{Dt("number"==typeof g);const v=new eD(g,t,o,i),w=function(R,W,ne){const Me=ne.baseMutations.map(pt=>Uv(R.ne,pt)),$e=ne.mutations.map(pt=>Uv(R.ne,pt));return{userId:W,batchId:ne.batchId,localWriteTimeMs:ne.localWriteTime.toMillis(),baseMutations:Me,mutations:$e}}(this.wt,this.userId,v),S=[];let Z=new ze((R,W)=>Vt(R.canonicalString(),W.canonicalString()));for(const R of i){const W=sk(this.userId,R.key.path,g);Z=Z.add(R.key.path.popLast()),S.push(d.put(w)),S.push(u.put(W,HM))}return Z.forEach(R=>{S.push(this.indexManager.addToCollectionParentIndex(n,R))}),n.addOnCommittedListener(()=>{this.gn[g]=v.keys()}),a.waitFor(S).next(()=>v)})}lookupMutationBatch(n,t){return Pd(n).get(t).next(o=>o?(Dt(o.userId===this.userId),Mp(this.wt,o)):null)}yn(n,t){return this.gn[t]?a.resolve(this.gn[t]):this.lookupMutationBatch(n,t).next(o=>{if(o){const i=o.keys();return this.gn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(n,t){const o=t+1,i=IDBKeyRange.lowerBound([this.userId,o]);let u=null;return Pd(n).J({index:"userMutationsIndex",range:i},(d,g,v)=>{g.userId===this.userId&&(Dt(g.batchId>=o),u=Mp(this.wt,g)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(n){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Pd(n).J({index:"userMutationsIndex",range:t,reverse:!0},(i,u,d)=>{o=u.batchId,d.done()}).next(()=>o)}getAllMutationBatches(n){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pd(n).K("userMutationsIndex",t).next(o=>o.map(i=>Mp(this.wt,i)))}getAllMutationBatchesAffectingDocumentKey(n,t){const o=ow(this.userId,t.path),i=IDBKeyRange.lowerBound(o),u=[];return om(n).J({range:i},(d,g,v)=>{const[w,S,Z]=d,R=Bu(S);if(w===this.userId&&t.path.isEqual(R))return Pd(n).get(Z).next(W=>{if(!W)throw ct();Dt(W.userId===this.userId),u.push(Mp(this.wt,W))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(n,t){let o=new ze(Vt);const i=[];return t.forEach(u=>{const d=ow(this.userId,u.path),g=IDBKeyRange.lowerBound(d),v=om(n).J({range:g},(w,S,Z)=>{const[R,W,ne]=w,Me=Bu(W);R===this.userId&&u.path.isEqual(Me)?o=o.add(ne):Z.done()});i.push(v)}),a.waitFor(i).next(()=>this.pn(n,o))}getAllMutationBatchesAffectingQuery(n,t){const o=t.path,i=o.length+1,u=ow(this.userId,o),d=IDBKeyRange.lowerBound(u);let g=new ze(Vt);return om(n).J({range:d},(v,w,S)=>{const[Z,R,W]=v,ne=Bu(R);Z===this.userId&&o.isPrefixOf(ne)?ne.length===i&&(g=g.add(W)):S.done()}).next(()=>this.pn(n,g))}pn(n,t){const o=[],i=[];return t.forEach(u=>{i.push(Pd(n).get(u).next(d=>{if(null===d)throw ct();Dt(d.userId===this.userId),o.push(Mp(this.wt,d))}))}),a.waitFor(i).next(()=>o)}removeMutationBatch(n,t){return wk(n.ee,this.userId,t).next(o=>(n.addOnCommittedListener(()=>{this.In(t.batchId)}),a.forEach(o,i=>this.referenceDelegate.markPotentiallyOrphaned(n,i))))}In(n){delete this.gn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(t=>{if(!t)return a.resolve();const o=IDBKeyRange.lowerBound([this.userId]),i=[];return om(n).J({range:o},(u,d,g)=>{if(u[0]===this.userId){const v=Bu(u[1]);i.push(v)}else g.done()}).next(()=>{Dt(0===i.length)})})}containsKey(n,t){return bk(n,this.userId,t)}Tn(n){return Ak(n).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function bk(r,n,t){const o=ow(n,t.path),i=o[1],u=IDBKeyRange.lowerBound(o);let d=!1;return om(r).J({range:u,H:!0},(g,v,w)=>{const[S,Z,R]=g;S===n&&Z===i&&(d=!0),w.done()}).next(()=>d)}function Pd(r){return Ao(r,"mutations")}function om(r){return Ao(r,"documentMutations")}function Ak(r){return Ao(r,"mutationQueues")}class Rp{constructor(n){this.En=n}next(){return this.En+=2,this.En}static An(){return new Rp(0)}static Rn(){return new Rp(-1)}}class _P{constructor(n,t){this.referenceDelegate=n,this.wt=t}allocateTargetId(n){return this.bn(n).next(t=>{const o=new Rp(t.highestTargetId);return t.highestTargetId=o.next(),this.Pn(n,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.bn(n).next(t=>xt.fromTimestamp(new Wn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.bn(n).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(n,t,o){return this.bn(n).next(i=>(i.highestListenSequenceNumber=t,o&&(i.lastRemoteSnapshotVersion=o.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Pn(n,i)))}addTargetData(n,t){return this.vn(n,t).next(()=>this.bn(n).next(o=>(o.targetCount+=1,this.Vn(t,o),this.Pn(n,o))))}updateTargetData(n,t){return this.vn(n,t)}removeTargetData(n,t){return this.removeMatchingKeysForTargetId(n,t.targetId).next(()=>im(n).delete(t.targetId)).next(()=>this.bn(n)).next(o=>(Dt(o.targetCount>0),o.targetCount-=1,this.Pn(n,o)))}removeTargets(n,t,o){let i=0;const u=[];return im(n).J((d,g)=>{const v=Ov(g);v.sequenceNumber<=t&&null===o.get(v.targetId)&&(i++,u.push(this.removeTargetData(n,v)))}).next(()=>a.waitFor(u)).next(()=>i)}forEachTarget(n,t){return im(n).J((o,i)=>{const u=Ov(i);t(u)})}bn(n){return Ik(n).get("targetGlobalKey").next(t=>(Dt(null!==t),t))}Pn(n,t){return Ik(n).put("targetGlobalKey",t)}vn(n,t){return im(n).put(hk(this.wt,t))}Vn(n,t){let o=!1;return n.targetId>t.highestTargetId&&(t.highestTargetId=n.targetId,o=!0),n.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=n.sequenceNumber,o=!0),o}getTargetCount(n){return this.bn(n).next(t=>t.targetCount)}getTargetData(n,t){const o=Sp(t),i=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let u=null;return im(n).J({range:i,index:"queryTargetsIndex"},(d,g,v)=>{const w=Ov(g);Av(t,w.target)&&(u=w,v.done())}).next(()=>u)}addMatchingKeys(n,t,o){const i=[],u=Ud(n);return t.forEach(d=>{const g=wi(d.path);i.push(u.put({targetId:o,path:g})),i.push(this.referenceDelegate.addReference(n,o,d))}),a.waitFor(i)}removeMatchingKeys(n,t,o){const i=Ud(n);return a.forEach(t,u=>{const d=wi(u.path);return a.waitFor([i.delete([o,d]),this.referenceDelegate.removeReference(n,o,u)])})}removeMatchingKeysForTargetId(n,t){const o=Ud(n),i=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(i)}getMatchingKeysForTargetId(n,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ud(n);let u=Gt();return i.J({range:o,H:!0},(d,g,v)=>{const w=Bu(d[1]),S=new et(w);u=u.add(S)}).next(()=>u)}containsKey(n,t){const o=wi(t.path),i=IDBKeyRange.bound([o],[$g(o)],!1,!0);let u=0;return Ud(n).J({index:"documentTargetsIndex",H:!0,range:i},([d,g],v,w)=>{0!==d&&(u++,w.done())}).next(()=>u>0)}te(n,t){return im(n).get(t).next(o=>o?Ov(o):null)}}function im(r){return Ao(r,"targets")}function Ik(r){return Ao(r,"targetGlobal")}function Ud(r){return Ao(r,"targetDocuments")}function Ek([r,n],[t,o]){const i=Vt(r,t);return 0===i?Vt(n,o):i}class yP{constructor(n){this.Sn=n,this.buffer=new ze(Ek),this.Dn=0}Cn(){return++this.Dn}xn(n){const t=[n,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Ek(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vP{constructor(n,t,o){this.garbageCollector=n,this.asyncQueue=t,this.localStore=o,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(n){var t=this;Le("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Ae.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){_(o)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield rc(o)}yield t.kn(3e5)}))}}class CP{constructor(n,t){this.On=n,this.params=t}calculateTargetCount(n,t){return this.On.Mn(n).next(o=>Math.floor(t/100*o))}nthSequenceNumber(n,t){if(0===t)return a.resolve(ee.ot);const o=new yP(t);return this.On.forEachTarget(n,i=>o.xn(i.sequenceNumber)).next(()=>this.On.Fn(n,i=>o.xn(i))).next(()=>o.maxValue)}removeTargets(n,t,o){return this.On.removeTargets(n,t,o)}removeOrphanedDocuments(n,t){return this.On.removeOrphanedDocuments(n,t)}collect(n,t){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),a.resolve(Tk)):this.getCacheSize(n).next(o=>o<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tk):this.$n(n,t))}getCacheSize(n){return this.On.getCacheSize(n)}$n(n,t){let o,i,u,d,g,v,w;const S=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(Z=>(Z>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Z}`),i=this.params.maximumSequenceNumbersToCollect):i=Z,d=Date.now(),this.nthSequenceNumber(n,i))).next(Z=>(o=Z,g=Date.now(),this.removeTargets(n,o,t))).next(Z=>(u=Z,v=Date.now(),this.removeOrphanedDocuments(n,o))).next(Z=>(w=Date.now(),Xa()<=Ha.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-S}ms\n\tDetermined least recently used ${i} in `+(g-d)+`ms\n\tRemoved ${u} targets in `+(v-g)+`ms\n\tRemoved ${Z} documents in `+(w-v)+`ms\nTotal Duration: ${w-S}ms`),a.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:Z})))}}class TP{constructor(n,t){this.db=n,this.garbageCollector=new CP(this,t)}Mn(n){const t=this.Bn(n);return this.db.getTargetCache().getTargetCount(n).next(o=>t.next(i=>o+i))}Bn(n){let t=0;return this.Fn(n,o=>{t++}).next(()=>t)}forEachTarget(n,t){return this.db.getTargetCache().forEachTarget(n,t)}Fn(n,t){return this.Ln(n,(o,i)=>t(i))}addReference(n,t,o){return dw(n,o)}removeReference(n,t,o){return dw(n,o)}removeTargets(n,t,o){return this.db.getTargetCache().removeTargets(n,t,o)}markPotentiallyOrphaned(n,t){return dw(n,t)}Un(n,t){return function(o,i){let u=!1;return Ak(o).Y(d=>bk(o,d,i).next(g=>(g&&(u=!0),a.resolve(!g)))).next(()=>u)}(n,t)}removeOrphanedDocuments(n,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Ln(n,(d,g)=>{if(g<=t){const v=this.Un(n,d).next(w=>{if(!w)return u++,o.getEntry(n,d).next(()=>(o.removeEntry(d,xt.min()),Ud(n).delete([0,wi(d.path)])))});i.push(v)}}).next(()=>a.waitFor(i)).next(()=>o.apply(n)).next(()=>u)}removeTarget(n,t){const o=t.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,o)}updateLimboDocument(n,t){return dw(n,t)}Ln(n,t){const o=Ud(n);let i,u=ee.ot;return o.J({index:"documentTargetsIndex"},([d,g],{path:v,sequenceNumber:w})=>{0===d?(u!==ee.ot&&t(new et(Bu(i)),u),u=w,i=v):u=ee.ot}).next(()=>{u!==ee.ot&&t(new et(Bu(i)),u)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function dw(r,n){return Ud(r).put((o=r.currentSequenceNumber,{targetId:0,path:wi(n.path),sequenceNumber:o}));var o}class Dk{constructor(){this.changes=new Nd(n=>n.toString(),(n,t)=>n.isEqual(t)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,t){this.assertNotApplied(),this.changes.set(n,Qn.newInvalidDocument(n).setReadTime(t))}getEntry(n,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?a.resolve(o):this.getFromCache(n,t)}getEntries(n,t){return this.getAllFromCache(n,t)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class wP{constructor(n){this.wt=n}setIndexManager(n){this.indexManager=n}addEntry(n,t,o){return Lp(n).put(o)}removeEntry(n,t,o){return Lp(n).delete(function(i,u){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],iw(u),d[d.length-1]]}(t,o))}updateMetadata(n,t){return this.getMetadata(n).next(o=>(o.byteSize+=t,this.qn(n,o)))}getEntry(n,t){let o=Qn.newInvalidDocument(t);return Lp(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Vv(t))},(i,u)=>{o=this.Kn(t,u)}).next(()=>o)}Gn(n,t){let o={size:0,document:Qn.newInvalidDocument(t)};return Lp(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Vv(t))},(i,u)=>{o={document:this.Kn(t,u),size:lw(u)}}).next(()=>o)}getEntries(n,t){let o=Wi();return this.Qn(n,t,(i,u)=>{const d=this.Kn(i,u);o=o.insert(i,d)}).next(()=>o)}jn(n,t){let o=Wi(),i=new je(et.comparator);return this.Qn(n,t,(u,d)=>{const g=this.Kn(u,d);o=o.insert(u,g),i=i.insert(u,lw(d))}).next(()=>({documents:o,Wn:i}))}Qn(n,t,o){if(t.isEmpty())return a.resolve();let i=new ze(Zk);t.forEach(v=>i=i.add(v));const u=IDBKeyRange.bound(Vv(i.first()),Vv(i.last())),d=i.getIterator();let g=d.getNext();return Lp(n).J({index:"documentKeyIndex",range:u},(v,w,S)=>{const Z=et.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;g&&Zk(g,Z)<0;)o(g,null),g=d.getNext();g&&g.isEqual(Z)&&(o(g,w),g=d.hasNext()?d.getNext():null),g?S.q(Vv(g)):S.done()}).next(()=>{for(;g;)o(g,null),g=d.hasNext()?d.getNext():null})}getAllFromCollection(n,t,o){const i=[t.popLast().toArray(),t.lastSegment(),iw(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lp(n).K(IDBKeyRange.bound(i,u,!0)).next(d=>{let g=Wi();for(const v of d){const w=this.Kn(et.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);g=g.insert(w.key,w)}return g})}getAllFromCollectionGroup(n,t,o,i){let u=Wi();const d=kk(t,o),g=kk(t,Ji.max());return Lp(n).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,g,!0)},(v,w,S)=>{const Z=this.Kn(et.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);u=u.insert(Z.key,Z),u.size===i&&S.done()}).next(()=>u)}newChangeBuffer(n){return new bP(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(t=>t.byteSize)}getMetadata(n){return xk(n).get("remoteDocumentGlobalKey").next(t=>(Dt(!!t),t))}qn(n,t){return xk(n).put("remoteDocumentGlobalKey",t)}Kn(n,t){if(t){const o=function uP(r,n){let t;if(n.document)t=Yx(r.ne,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const o=et.fromSegments(n.noDocument.path),i=Np(n.noDocument.readTime);t=Qn.newNoDocument(o,i),n.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!n.unknownDocument)return ct();{const o=et.fromSegments(n.unknownDocument.path),i=Np(n.unknownDocument.version);t=Qn.newUnknownDocument(o,i)}}return n.readTime&&t.setReadTime(function(o){const i=new Wn(o[0],o[1]);return xt.fromTimestamp(i)}(n.readTime)),t}(this.wt,t);if(!o.isNoDocument()||!o.version.isEqual(xt.min()))return o}return Qn.newInvalidDocument(n)}}function Sk(r){return new wP(r)}class bP extends Dk{constructor(n,t){super(),this.zn=n,this.trackRemovals=t,this.Hn=new Nd(o=>o.toString(),(o,i)=>o.isEqual(i))}applyChanges(n){const t=[];let o=0,i=new ze((u,d)=>Vt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const g=this.Hn.get(u);if(t.push(this.zn.removeEntry(n,u,g.readTime)),d.isValidDocument()){const v=dk(this.zn.wt,d);i=i.add(u.path.popLast()),o+=lw(v)-g.size,t.push(this.zn.addEntry(n,u,v))}else if(o-=g.size,this.trackRemovals){const v=dk(this.zn.wt,d.convertToNoDocument(xt.min()));t.push(this.zn.addEntry(n,u,v))}}),i.forEach(u=>{t.push(this.zn.indexManager.addToCollectionParentIndex(n,u))}),t.push(this.zn.updateMetadata(n,o)),a.waitFor(t)}getFromCache(n,t){return this.zn.Gn(n,t).next(o=>(this.Hn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(n,t){return this.zn.jn(n,t).next(({documents:o,Wn:i})=>(i.forEach((u,d)=>{this.Hn.set(u,{size:d,readTime:o.get(u).readTime})}),o))}}function xk(r){return Ao(r,"remoteDocumentGlobal")}function Lp(r){return Ao(r,"remoteDocumentsV14")}function Vv(r){const n=r.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function kk(r,n){const t=n.documentKey.path.toArray();return[r,iw(n.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Zk(r,n){const t=r.path.toArray(),o=n.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<o.length-2;++u)if(i=Vt(t[u],o[u]),i)return i;return i=Vt(t.length,o.length),i||(i=Vt(t[t.length-2],o[o.length-2]),i||Vt(t[t.length-1],o[o.length-1]))}class AP{constructor(n,t){this.overlayedDocument=n,this.mutatedFields=t}}class Nk{constructor(n,t,o,i){this.remoteDocumentCache=n,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=i}getDocument(n,t){let o=null;return this.documentOverlayCache.getOverlay(n,t).next(i=>(o=i,this.getBaseDocument(n,t,o))).next(i=>(null!==o&&Dv(o.mutation,i,Fr.empty(),Wn.now()),i))}getDocuments(n,t){return this.remoteDocumentCache.getEntries(n,t).next(o=>this.getLocalViewOfDocuments(n,o,Gt()).next(()=>o))}getLocalViewOfDocuments(n,t,o=Gt()){const i=qu();return this.populateOverlays(n,i,t).next(()=>this.computeViews(n,t,i,o).next(u=>{let d=Sv();return u.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(n,t){const o=qu();return this.populateOverlays(n,o,t).next(()=>this.computeViews(n,t,o,Gt()))}populateOverlays(n,t,o){const i=[];return o.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(n,i).next(u=>{u.forEach((d,g)=>{t.set(d,g)})})}computeViews(n,t,o,i){let u=Wi();const d=xv(),g=xv();return t.forEach((v,w)=>{const S=o.get(w.key);i.has(w.key)&&(void 0===S||S.mutation instanceof ac)?u=u.insert(w.key,w):void 0!==S&&(d.set(w.key,S.mutation.getFieldMask()),Dv(S.mutation,w,S.mutation.getFieldMask(),Wn.now()))}),this.recalculateAndSaveOverlays(n,u).next(v=>(v.forEach((w,S)=>d.set(w,S)),t.forEach((w,S)=>{var Z;return g.set(w,new AP(S,null!==(Z=d.get(w))&&void 0!==Z?Z:null))}),g))}recalculateAndSaveOverlays(n,t){const o=xv();let i=new je((d,g)=>d-g),u=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,t).next(d=>{for(const g of d)g.keys().forEach(v=>{const w=t.get(v);if(null===w)return;let S=o.get(v)||Fr.empty();S=g.applyToLocalView(w,S),o.set(v,S);const Z=(i.get(g.batchId)||Gt()).add(v);i=i.insert(g.batchId,Z)})}).next(()=>{const d=[],g=i.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),w=v.key,S=v.value,Z=Vx();S.forEach(R=>{if(!u.has(R)){const W=Nx(t.get(R),o.get(R));null!==W&&Z.set(R,W),u=u.add(R)}}),d.push(this.documentOverlayCache.saveOverlays(n,w,Z))}return a.waitFor(d)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(n,t){return this.remoteDocumentCache.getEntries(n,t).next(o=>this.recalculateAndSaveOverlays(n,o))}getDocumentsMatchingQuery(n,t,o){return et.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(n,t.path):GE(t)?this.getDocumentsMatchingCollectionGroupQuery(n,t,o):this.getDocumentsMatchingCollectionQuery(n,t,o);var i}getNextDocuments(n,t,o,i){return this.remoteDocumentCache.getAllFromCollectionGroup(n,t,o,i).next(u=>{const d=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,t,o.largestBatchId,i-u.size):a.resolve(qu());let g=-1,v=u;return d.next(w=>a.forEach(w,(S,Z)=>(g<Z.largestBatchId&&(g=Z.largestBatchId),u.get(S)?a.resolve():this.getBaseDocument(n,S,Z).next(R=>{v=v.insert(S,R)}))).next(()=>this.populateOverlays(n,w,u)).next(()=>this.computeViews(n,v,w,Gt())).next(S=>({batchId:g,changes:qx(S)})))})}getDocumentsMatchingDocumentQuery(n,t){return this.getDocument(n,new et(t)).next(o=>{let i=Sv();return o.isFoundDocument()&&(i=i.insert(o.key,o)),i})}getDocumentsMatchingCollectionGroupQuery(n,t,o){const i=t.collectionGroup;let u=Sv();return this.indexManager.getCollectionParents(n,i).next(d=>a.forEach(d,g=>{const v=(w=t,S=g.child(i),new sc(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,S;return this.getDocumentsMatchingCollectionQuery(n,v,o).next(w=>{w.forEach((S,Z)=>{u=u.insert(S,Z)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(n,t,o){let i;return this.remoteDocumentCache.getAllFromCollection(n,t.path,o).next(u=>(i=u,this.documentOverlayCache.getOverlaysForCollection(n,t.path,o.largestBatchId))).next(u=>{u.forEach((g,v)=>{const w=v.getKey();null===i.get(w)&&(i=i.insert(w,Qn.newInvalidDocument(w)))});let d=Sv();return i.forEach((g,v)=>{const w=u.get(g);void 0!==w&&Dv(w.mutation,v,Fr.empty(),Wn.now()),WE(t,v)&&(d=d.insert(g,v))}),d})}getBaseDocument(n,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(n,t):a.resolve(Qn.newInvalidDocument(t))}}class IP{constructor(n){this.wt=n,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(n,t){return a.resolve(this.Jn.get(t))}saveBundleMetadata(n,t){var o;return this.Jn.set(t.id,{id:(o=t).id,version:o.version,createTime:bo(o.createTime)}),a.resolve()}getNamedQuery(n,t){return a.resolve(this.Yn.get(t))}saveNamedQuery(n,t){return this.Yn.set(t.name,{name:(o=t).name,query:rD(o.bundledQuery),readTime:bo(o.readTime)}),a.resolve();var o}}class EP{constructor(){this.overlays=new je(et.comparator),this.Xn=new Map}getOverlay(n,t){return a.resolve(this.overlays.get(t))}getOverlays(n,t){const o=qu();return a.forEach(t,i=>this.getOverlay(n,i).next(u=>{null!==u&&o.set(i,u)})).next(()=>o)}saveOverlays(n,t,o){return o.forEach((i,u)=>{this.ie(n,t,u)}),a.resolve()}removeOverlaysForBatchId(n,t,o){const i=this.Xn.get(o);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.Xn.delete(o)),a.resolve()}getOverlaysForCollection(n,t,o){const i=qu(),u=t.length+1,d=new et(t.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,w=v.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===u&&v.largestBatchId>o&&i.set(v.getKey(),v)}return a.resolve(i)}getOverlaysForCollectionGroup(n,t,o,i){let u=new je((w,S)=>w-S);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>o){let S=u.get(w.largestBatchId);null===S&&(S=qu(),u=u.insert(w.largestBatchId,S)),S.set(w.getKey(),w)}}const g=qu(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((w,S)=>g.set(w,S)),!(g.size()>=i)););return a.resolve(g)}ie(n,t,o){const i=this.overlays.get(o.key);if(null!==i){const d=this.Xn.get(i.largestBatchId).delete(o.key);this.Xn.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(o.key,new nD(t,o));let u=this.Xn.get(t);void 0===u&&(u=Gt(),this.Xn.set(t,u)),this.Xn.set(t,u.add(o.key))}}class sD{constructor(){this.Zn=new ze(Io.ts),this.es=new ze(Io.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,t){const o=new Io(n,t);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(n,t){n.forEach(o=>this.addReference(o,t))}removeReference(n,t){this.rs(new Io(n,t))}os(n,t){n.forEach(o=>this.removeReference(o,t))}us(n){const t=new et(new pn([])),o=new Io(t,n),i=new Io(t,n+1),u=[];return this.es.forEachInRange([o,i],d=>{this.rs(d),u.push(d.key)}),u}cs(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const t=new et(new pn([])),o=new Io(t,n),i=new Io(t,n+1);let u=Gt();return this.es.forEachInRange([o,i],d=>{u=u.add(d.key)}),u}containsKey(n){const t=new Io(n,0),o=this.Zn.firstAfterOrEqual(t);return null!==o&&n.isEqual(o.key)}}class Io{constructor(n,t){this.key=n,this.ls=t}static ts(n,t){return et.comparator(n.key,t.key)||Vt(n.ls,t.ls)}static ns(n,t){return Vt(n.ls,t.ls)||et.comparator(n.key,t.key)}}class DP{constructor(n,t){this.indexManager=n,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new ze(Io.ts)}checkEmpty(n){return a.resolve(0===this.mutationQueue.length)}addMutationBatch(n,t,o,i){const u=this.fs;this.fs++;const d=new eD(u,t,o,i);this.mutationQueue.push(d);for(const g of i)this.ds=this.ds.add(new Io(g.key,u)),this.indexManager.addToCollectionParentIndex(n,g.key.path.popLast());return a.resolve(d)}lookupMutationBatch(n,t){return a.resolve(this._s(t))}getNextMutationBatchAfterBatchId(n,t){const i=this.ws(t+1),u=i<0?0:i;return a.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return a.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(n){return a.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,t){const o=new Io(t,0),i=new Io(t,Number.POSITIVE_INFINITY),u=[];return this.ds.forEachInRange([o,i],d=>{const g=this._s(d.ls);u.push(g)}),a.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(n,t){let o=new ze(Vt);return t.forEach(i=>{const u=new Io(i,0),d=new Io(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([u,d],g=>{o=o.add(g.ls)})}),a.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(n,t){const o=t.path,i=o.length+1;let u=o;et.isDocumentKey(u)||(u=u.child(""));const d=new Io(new et(u),0);let g=new ze(Vt);return this.ds.forEachWhile(v=>{const w=v.key.path;return!!o.isPrefixOf(w)&&(w.length===i&&(g=g.add(v.ls)),!0)},d),a.resolve(this.gs(g))}gs(n){const t=[];return n.forEach(o=>{const i=this._s(o);null!==i&&t.push(i)}),t}removeMutationBatch(n,t){Dt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let o=this.ds;return a.forEach(t.mutations,i=>{const u=new Io(i.key,t.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(n,i.key)}).next(()=>{this.ds=o})}In(n){}containsKey(n,t){const o=new Io(t,0),i=this.ds.firstAfterOrEqual(o);return a.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(n){return a.resolve()}ys(n,t){return this.ws(n)}ws(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}_s(n){const t=this.ws(n);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class SP{constructor(n){this.ps=n,this.docs=new je(et.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,t){const o=t.key,i=this.docs.get(o),u=i?i.size:0,d=this.ps(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(n,o.path.popLast())}removeEntry(n){const t=this.docs.get(n);t&&(this.docs=this.docs.remove(n),this.size-=t.size)}getEntry(n,t){const o=this.docs.get(t);return a.resolve(o?o.document.mutableCopy():Qn.newInvalidDocument(t))}getEntries(n,t){let o=Wi();return t.forEach(i=>{const u=this.docs.get(i);o=o.insert(i,u?u.document.mutableCopy():Qn.newInvalidDocument(i))}),a.resolve(o)}getAllFromCollection(n,t,o){let i=Wi();const u=new et(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:g,value:{document:v}}=d.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||WT(FE(v),o)<=0||(i=i.insert(v.key,v.mutableCopy()))}return a.resolve(i)}getAllFromCollectionGroup(n,t,o,i){ct()}Is(n,t){return a.forEach(this.docs,o=>t(o))}newChangeBuffer(n){return new xP(this)}getSize(n){return a.resolve(this.size)}}class xP extends Dk{constructor(n){super(),this.zn=n}applyChanges(n){const t=[];return this.changes.forEach((o,i)=>{i.isValidDocument()?t.push(this.zn.addEntry(n,i)):this.zn.removeEntry(o)}),a.waitFor(t)}getFromCache(n,t){return this.zn.getEntry(n,t)}getAllFromCache(n,t){return this.zn.getEntries(n,t)}}class kP{constructor(n){this.persistence=n,this.Ts=new Nd(t=>Sp(t),Av),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.Es=0,this.As=new sD,this.targetCount=0,this.Rs=Rp.An()}forEachTarget(n,t){return this.Ts.forEach((o,i)=>t(i)),a.resolve()}getLastRemoteSnapshotVersion(n){return a.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return a.resolve(this.Es)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),a.resolve(this.highestTargetId)}setTargetsMetadata(n,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Es&&(this.Es=t),a.resolve()}vn(n){this.Ts.set(n.target,n);const t=n.targetId;t>this.highestTargetId&&(this.Rs=new Rp(t),this.highestTargetId=t),n.sequenceNumber>this.Es&&(this.Es=n.sequenceNumber)}addTargetData(n,t){return this.vn(t),this.targetCount+=1,a.resolve()}updateTargetData(n,t){return this.vn(t),a.resolve()}removeTargetData(n,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,a.resolve()}removeTargets(n,t,o){let i=0;const u=[];return this.Ts.forEach((d,g)=>{g.sequenceNumber<=t&&null===o.get(g.targetId)&&(this.Ts.delete(d),u.push(this.removeMatchingKeysForTargetId(n,g.targetId)),i++)}),a.waitFor(u).next(()=>i)}getTargetCount(n){return a.resolve(this.targetCount)}getTargetData(n,t){const o=this.Ts.get(t)||null;return a.resolve(o)}addMatchingKeys(n,t,o){return this.As.ss(t,o),a.resolve()}removeMatchingKeys(n,t,o){this.As.os(t,o);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(d=>{u.push(i.markPotentiallyOrphaned(n,d))}),a.waitFor(u)}removeMatchingKeysForTargetId(n,t){return this.As.us(t),a.resolve()}getMatchingKeysForTargetId(n,t){const o=this.As.hs(t);return a.resolve(o)}containsKey(n,t){return a.resolve(this.As.containsKey(t))}}class Mk{constructor(n,t){this.bs={},this.overlays={},this.Ps=new ee(0),this.vs=!1,this.vs=!0,this.referenceDelegate=n(this),this.Vs=new kP(this),this.indexManager=new gP,this.remoteDocumentCache=new SP(o=>this.referenceDelegate.Ss(o)),this.wt=new ck(t),this.Ds=new IP(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let t=this.overlays[n.toKey()];return t||(t=new EP,this.overlays[n.toKey()]=t),t}getMutationQueue(n,t){let o=this.bs[n.toKey()];return o||(o=new DP(t,this.referenceDelegate),this.bs[n.toKey()]=o),o}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(n,t,o){Le("MemoryPersistence","Starting transaction:",n);const i=new ZP(this.Ps.next());return this.referenceDelegate.Cs(),o(i).next(u=>this.referenceDelegate.xs(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ns(n,t){return a.or(Object.values(this.bs).map(o=>()=>o.containsKey(n,t)))}}class ZP extends VE{constructor(n){super(),this.currentSequenceNumber=n}}class hw{constructor(n){this.persistence=n,this.ks=new sD,this.Os=null}static Ms(n){return new hw(n)}get Fs(){if(this.Os)return this.Os;throw ct()}addReference(n,t,o){return this.ks.addReference(o,t),this.Fs.delete(o.toString()),a.resolve()}removeReference(n,t,o){return this.ks.removeReference(o,t),this.Fs.add(o.toString()),a.resolve()}markPotentiallyOrphaned(n,t){return this.Fs.add(t.toString()),a.resolve()}removeTarget(n,t){this.ks.us(t.targetId).forEach(i=>this.Fs.add(i.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(n,t.targetId).next(i=>{i.forEach(u=>this.Fs.add(u.toString()))}).next(()=>o.removeTargetData(n,t))}Cs(){this.Os=new Set}xs(n){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return a.forEach(this.Fs,o=>{const i=et.fromPath(o);return this.$s(n,i).next(u=>{u||t.removeEntry(i,xt.min())})}).next(()=>(this.Os=null,t.apply(n)))}updateLimboDocument(n,t){return this.$s(n,t).next(o=>{o?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(n){return 0}$s(n,t){return a.or([()=>a.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(n,t),()=>this.persistence.Ns(n,t)])}}class NP{constructor(n){this.wt=n}O(n,t,o,i){const u=new l("createOrUpgrade",t);var g;o<1&&i>=1&&(n.createObjectStore("owner"),(g=n).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ik,{unique:!0}),g.createObjectStore("documentMutations"),Pk(n),function(g){g.createObjectStore("remoteDocuments")}(n));let d=a.resolve();return o<3&&i>=3&&(0!==o&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(n),Pk(n)),d=d.next(()=>function(g){const v=g.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",w)}(u))),o<4&&i>=4&&(0!==o&&(d=d.next(()=>function(g,v){return v.store("mutations").K().next(w=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ik,{unique:!0});const S=v.store("mutations"),Z=w.map(R=>S.put(R));return a.waitFor(Z)})}(n,u))),d=d.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),o<5&&i>=5&&(d=d.next(()=>this.Bs(u))),o<6&&i>=6&&(d=d.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(n),this.Ls(u)))),o<7&&i>=7&&(d=d.next(()=>this.Us(u))),o<8&&i>=8&&(d=d.next(()=>this.qs(n,u))),o<9&&i>=9&&(d=d.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(n)})),o<10&&i>=10&&(d=d.next(()=>this.Ks(u))),o<11&&i>=11&&(d=d.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),o<12&&i>=12&&(d=d.next(()=>{!function(g){const v=g.createObjectStore("documentOverlays",{keyPath:rP});v.createIndex("collectionPathOverlayIndex",oP,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",iP,{unique:!1})}(n)})),o<13&&i>=13&&(d=d.next(()=>function(g){const v=g.createObjectStore("remoteDocumentsV14",{keyPath:GM});v.createIndex("documentKeyIndex",JM),v.createIndex("collectionGroupIndex",WM)}(n)).next(()=>this.Gs(n,u)).next(()=>n.deleteObjectStore("remoteDocuments"))),o<14&&i>=14&&(d=d.next(()=>this.Qs(n,u))),o<15&&i>=15&&(d=d.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:XM}).createIndex("sequenceNumberIndex",eP,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:tP}).createIndex("documentKeyIndex",nP,{unique:!1})}(n))),d}Ls(n){let t=0;return n.store("remoteDocuments").J((o,i)=>{t+=lw(i)}).next(()=>{const o={byteSize:t};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Bs(n){const t=n.store("mutationQueues"),o=n.store("mutations");return t.K().next(i=>a.forEach(i,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.K("userMutationsIndex",d).next(g=>a.forEach(g,v=>{Dt(v.userId===u.userId);const w=Mp(this.wt,v);return wk(n,u.userId,w).next(()=>{})}))}))}Us(n){const t=n.store("targetDocuments"),o=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return o.J((d,g)=>{const v=new pn(d),w=[0,wi(v)];u.push(t.get(w).next(S=>S?a.resolve():t.put({targetId:0,path:wi(v),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>a.waitFor(u))})}qs(n,t){n.createObjectStore("collectionParents",{keyPath:YM});const o=t.store("collectionParents"),i=new iD,u=d=>{if(i.add(d)){const g=d.lastSegment(),v=d.popLast();return o.put({collectionId:g,parent:wi(v)})}};return t.store("remoteDocuments").J({H:!0},(d,g)=>{const v=new pn(d);return u(v.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([d,g,v],w)=>{const S=Bu(g);return u(S.popLast())}))}Ks(n){const t=n.store("targets");return t.J((o,i)=>{const u=Ov(i),d=hk(this.wt,u);return t.put(d)})}Gs(n,t){const o=t.store("remoteDocuments"),i=[];return o.J((u,d)=>{const g=t.store("remoteDocumentsV14"),v=(w=d,w.document?new et(pn.fromString(w.document.name).popFirst(5)):w.noDocument?et.fromSegments(w.noDocument.path):w.unknownDocument?et.fromSegments(w.unknownDocument.path):ct()).path.toArray();var w;const S={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(g.put(S))}).next(()=>a.waitFor(i))}Qs(n,t){const o=t.store("mutations"),i=Sk(this.wt),u=new Mk(hw.Ms,this.wt.ne);return o.K().next(d=>{const g=new Map;return d.forEach(v=>{var w;let S=null!==(w=g.get(v.userId))&&void 0!==w?w:Gt();Mp(this.wt,v).keys().forEach(Z=>S=S.add(Z)),g.set(v.userId,S)}),a.forEach(g,(v,w)=>{const S=new eo(w),Z=sw.se(this.wt,S),R=u.getIndexManager(S),W=cw.se(S,this.wt,R,u.referenceDelegate);return new Nk(i,W,Z,R).recalculateAndSaveOverlaysForDocumentKeys(new XE(t,ee.ot),v).next()})})}}function Pk(r){r.createObjectStore("targetDocuments",{keyPath:QM}).createIndex("documentTargetsIndex",KM,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zM,{unique:!0}),r.createObjectStore("targetGlobal")}const aD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class uD{constructor(n,t,o,i,u,d,g,v,w,S,Z=14){if(this.allowTabSynchronization=n,this.persistenceKey=t,this.clientId=o,this.js=u,this.window=d,this.document=g,this.Ws=w,this.zs=S,this.Hs=Z,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=R=>Promise.resolve(),!uD.V())throw new Pe(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new TP(this,i),this.ei=t+"main",this.wt=new ck(v),this.ni=new c(this.ei,this.Hs,new NP(this.wt)),this.Vs=new _P(this.referenceDelegate,this.wt),this.remoteDocumentCache=Sk(this.wt),this.Ds=new lP,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===S&&dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pe(fe.FAILED_PRECONDITION,aD);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Vs.getHighestSequenceNumber(n))}).then(n=>{this.Ps=new ee(n,this.Ws)}).then(()=>{this.vs=!0}).catch(n=>(this.ni&&this.ni.close(),Promise.reject(n)))}ci(n){var t=this;return this.ti=function(){var o=(0,Ae.Z)(function*(i){if(t.started)return n(i)});return function(i){return o.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.ni.F(function(){var t=(0,Ae.Z)(function*(o){null===o.newVersion&&(yield n())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(n){var t=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.js.enqueueAndForget((0,Ae.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>pw(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(n).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(n)).next(t=>this.isPrimary&&!t?this.li(n).next(()=>!1):!!t&&this.fi(n).next(()=>!0))).catch(n=>{if(_(n))return Le("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.js.enqueueRetryable(()=>this.ti(n)),this.isPrimary=n})}ai(n){return Bv(n).get("owner").next(t=>a.resolve(this.di(t)))}_i(n){return pw(n).delete(this.clientId)}wi(){var n=this;return(0,Ae.Z)(function*(){if(n.isPrimary&&!n.mi(n.Zs,18e5)){n.Zs=Date.now();const t=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const i=Ao(o,"clientMetadata");return i.K().next(u=>{const d=n.gi(u,18e5),g=u.filter(v=>-1===d.indexOf(v));return a.forEach(g,v=>i.delete(v.clientId)).next(()=>g)})}).catch(()=>[]);if(n.si)for(const o of t)n.si.removeItem(n.yi(o.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(n){return!!n&&n.ownerId===this.clientId}hi(n){return this.zs?a.resolve(!0):Bv(n).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Pe(fe.FAILED_PRECONDITION,aD);return!1}}return!(!this.networkEnabled||!this.inForeground)||pw(n).K().next(o=>void 0===this.gi(o,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,g=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var n=this;return(0,Ae.Z)(function*(){n.vs=!1,n.Ii(),n.Xs&&(n.Xs.cancel(),n.Xs=null),n.Ti(),n.Ei(),yield n.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new XE(t,ee.ot);return n.li(o).next(()=>n._i(o))}),n.ni.close(),n.Ai()})()}gi(n,t){return n.filter(o=>this.mi(o.updateTimeMs,t)&&!this.pi(o.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",n=>pw(n).K().next(t=>this.gi(t,18e5).map(o=>o.clientId)))}get started(){return this.vs}getMutationQueue(n,t){return cw.se(n,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new mP(n,this.wt.ne.databaseId)}getDocumentOverlayCache(n){return sw.se(this.wt,n)}getBundleCache(){return this.Ds}runTransaction(n,t,o){Le("IndexedDbPersistence","Starting transaction:",n);const i="readonly"===t?"readonly":"readwrite",u=15===(d=this.Hs)?aP:14===d?lk:13===d?uk:12===d?sP:11===d?ak:void ct();var d;let g;return this.ni.runTransaction(n,i,u,v=>(g=new XE(v,this.Ps?this.Ps.next():ee.ot),"readwrite-primary"===t?this.ai(g).next(w=>!!w||this.hi(g)).next(w=>{if(!w)throw dr(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Pe(fe.FAILED_PRECONDITION,qE);return o(g)}).next(w=>this.fi(g).next(()=>w)):this.bi(g).next(()=>o(g)))).then(v=>(g.raiseOnCommittedEvent(),v))}bi(n){return Bv(n).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Pe(fe.FAILED_PRECONDITION,aD)})}fi(n){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bv(n).put("owner",t)}static V(){return c.V()}li(n){const t=Bv(n);return t.get("owner").next(o=>this.di(o)?(Le("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):a.resolve())}mi(n,t){const o=Date.now();return!(n<o-t||n>o&&(dr(`Detected an update time that is in the future: ${n} > ${o}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Qt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(n){var t;try{const o=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(n)));return Le("IndexedDbPersistence",`Client '${n}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return dr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(n){dr("Failed to set zombie client id.",n)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(n){}}yi(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Bv(r){return Ao(r,"owner")}function pw(r){return Ao(r,"clientMetadata")}function lD(r,n){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+n+"/"+t+"/"}class cD{constructor(n,t,o,i){this.targetId=n,this.fromCache=t,this.Pi=o,this.vi=i}static Vi(n,t){let o=Gt(),i=Gt();for(const u of t.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new cD(n,t.fromCache,o,i)}}class Uk{constructor(){this.Si=!1}initialize(n,t){this.Di=n,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(n,t,o,i){return this.Ci(n,t).next(u=>u||this.xi(n,t,i,o)).next(u=>u||this.Ni(n,t))}Ci(n,t){return a.resolve(null)}xi(n,t,o,i){return function _M(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(xt.min())?this.Ni(n,t):this.Di.getDocuments(n,o).next(u=>{const d=this.ki(t,u);return this.Oi(t,d,o,i)?this.Ni(n,t):(Xa()<=Ha.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),JE(t)),this.Mi(n,d,t,JT(i,-1)))})}ki(n,t){let o=new ze(bx(n));return t.forEach((i,u)=>{WE(n,u)&&(o=o.add(u))}),o}Oi(n,t,o,i){if(null===n.limit)return!1;if(o.size!==t.size)return!0;const u="F"===n.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Ni(n,t){return Xa()<=Ha.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",JE(t)),this.Di.getDocumentsMatchingQuery(n,t,Ji.min())}Mi(n,t,o,i){return this.Di.getDocumentsMatchingQuery(n,o,i).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class MP{constructor(n,t,o,i){this.persistence=n,this.Fi=t,this.wt=i,this.$i=new je(Vt),this.Bi=new Nd(u=>Sp(u),Av),this.Li=new Map,this.Ui=n.getRemoteDocumentCache(),this.Vs=n.getTargetCache(),this.Ds=n.getBundleCache(),this.qi(o)}qi(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new Nk(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>n.collect(t,this.$i))}}function Ok(r,n,t,o){return new MP(r,n,t,o)}function Rk(r,n){return dD.apply(this,arguments)}function dD(){return dD=(0,Ae.Z)(function*(r,n){const t=nt(r);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let i;return t.mutationQueue.getAllMutationBatches(o).next(u=>(i=u,t.qi(n),t.mutationQueue.getAllMutationBatches(o))).next(u=>{const d=[],g=[];let v=Gt();for(const w of i){d.push(w.batchId);for(const S of w.mutations)v=v.add(S.key)}for(const w of u){g.push(w.batchId);for(const S of w.mutations)v=v.add(S.key)}return t.localDocuments.getDocuments(o,v).next(w=>({Ki:w,removedBatchIds:d,addedBatchIds:g}))})})}),dD.apply(this,arguments)}function PP(r,n){const t=nt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const i=n.batch.keys(),u=t.Ui.newChangeBuffer({trackRemovals:!0});return function(d,g,v,w){const S=v.batch,Z=S.keys();let R=a.resolve();return Z.forEach(W=>{R=R.next(()=>w.getEntry(g,W)).next(ne=>{const Me=v.docVersions.get(W);Dt(null!==Me),ne.version.compareTo(Me)<0&&(S.applyToRemoteDocument(ne,v),ne.isValidDocument()&&(ne.setReadTime(v.commitVersion),w.addEntry(ne)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(g,S))}(t,o,n,u).next(()=>u.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,i,n.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(d){let g=Gt();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(g=g.add(d.batch.mutations[v].key));return g}(n))).next(()=>t.localDocuments.getDocuments(o,i))})}function Lk(r){const n=nt(r);return n.persistence.runTransaction("Get last remote snapshot version","readonly",t=>n.Vs.getLastRemoteSnapshotVersion(t))}function UP(r,n){const t=nt(r),o=n.snapshotVersion;let i=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Ui.newChangeBuffer({trackRemovals:!0});i=t.$i;const g=[];n.targetChanges.forEach((S,Z)=>{const R=i.get(Z);if(!R)return;g.push(t.Vs.removeMatchingKeys(u,S.removedDocuments,Z).next(()=>t.Vs.addMatchingKeys(u,S.addedDocuments,Z)));let W=R.withSequenceNumber(u.currentSequenceNumber);var ne,Me,$e;n.targetMismatches.has(Z)?W=W.withResumeToken(yr.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):S.resumeToken.approximateByteSize()>0&&(W=W.withResumeToken(S.resumeToken,o)),i=i.insert(Z,W),Me=W,$e=S,(0===(ne=R).resumeToken.approximateByteSize()||Me.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=3e8||$e.addedDocuments.size+$e.modifiedDocuments.size+$e.removedDocuments.size>0)&&g.push(t.Vs.updateTargetData(u,W))});let v=Wi(),w=Gt();if(n.documentUpdates.forEach(S=>{n.resolvedLimboDocuments.has(S)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),g.push(Fk(u,d,n.documentUpdates).next(S=>{v=S.Gi,w=S.Qi})),!o.isEqual(xt.min())){const S=t.Vs.getLastRemoteSnapshotVersion(u).next(Z=>t.Vs.setTargetsMetadata(u,u.currentSequenceNumber,o));g.push(S)}return a.waitFor(g).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,v,w)).next(()=>v)}).then(u=>(t.$i=i,u))}function Fk(r,n,t){let o=Gt(),i=Gt();return t.forEach(u=>o=o.add(u)),n.getEntries(r,o).next(u=>{let d=Wi();return t.forEach((g,v)=>{const w=u.get(g);v.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(g)),v.isNoDocument()&&v.version.isEqual(xt.min())?(n.removeEntry(g,v.readTime),d=d.insert(g,v)):!w.isValidDocument()||v.version.compareTo(w.version)>0||0===v.version.compareTo(w.version)&&w.hasPendingWrites?(n.addEntry(v),d=d.insert(g,v)):Le("LocalStore","Ignoring outdated watch update for ",g,". Current version:",w.version," Watch version:",v.version)}),{Gi:d,Qi:i}})}function OP(r,n){const t=nt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===n&&(n=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,n)))}function sm(r,n){const t=nt(r);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let i;return t.Vs.getTargetData(o,n).next(u=>u?(i=u,a.resolve(i)):t.Vs.allocateTargetId(o).next(d=>(i=new Md(n,d,0,o.currentSequenceNumber),t.Vs.addTargetData(o,i).next(()=>i))))}).then(o=>{const i=t.$i.get(o.targetId);return(null===i||o.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.$i=t.$i.insert(o.targetId,o),t.Bi.set(n,o.targetId)),o})}function am(r,n,t){return hD.apply(this,arguments)}function hD(){return hD=(0,Ae.Z)(function*(r,n,t){const o=nt(r),i=o.$i.get(n),u=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",u,d=>o.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!_(d))throw d;Le("LocalStore",`Failed to update sequence numbers for target ${n}: ${d}`)}o.$i=o.$i.remove(n),o.Bi.delete(i.target)}),hD.apply(this,arguments)}function fw(r,n,t){const o=nt(r);let i=xt.min(),u=Gt();return o.persistence.runTransaction("Execute query","readonly",d=>function(g,v,w){const S=nt(g),Z=S.Bi.get(w);return void 0!==Z?a.resolve(S.$i.get(Z)):S.Vs.getTargetData(v,w)}(o,d,ua(n)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,o.Vs.getMatchingKeysForTargetId(d,g.targetId).next(v=>{u=v})}).next(()=>o.Fi.getDocumentsMatchingQuery(d,n,t?i:xt.min(),t?u:Gt())).next(g=>(Bk(o,wx(n),g),{documents:g,ji:u})))}function qk(r,n){const t=nt(r),o=nt(t.Vs),i=t.$i.get(n);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>o.te(u,n).next(d=>d?d.target:null))}function Vk(r,n){const t=nt(r),o=t.Li.get(n)||xt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Ui.getAllFromCollectionGroup(i,n,JT(o,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Bk(t,n,i),i))}function Bk(r,n,t){let o=xt.min();t.forEach((i,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),r.Li.set(n,o)}function pD(){return pD=(0,Ae.Z)(function*(r,n,t,o){const i=nt(r);let u=Gt(),d=Wi();for(const w of t){const S=n.Wi(w.metadata.name);w.document&&(u=u.add(S));const Z=n.zi(w);Z.setReadTime(n.Hi(w.metadata.readTime)),d=d.insert(S,Z)}const g=i.Ui.newChangeBuffer({trackRemovals:!0}),v=yield sm(i,(w=o,ua(Qg(pn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>Fk(w,g,d).next(S=>(g.apply(w),S)).next(S=>i.Vs.removeMatchingKeysForTargetId(w,v.targetId).next(()=>i.Vs.addMatchingKeys(w,u,v.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,S.Gi,S.Qi)).next(()=>S.Gi)))}),pD.apply(this,arguments)}function LP(r,n){return fD.apply(this,arguments)}function fD(){return fD=(0,Ae.Z)(function*(r,n,t=Gt()){const o=yield sm(r,ua(rD(n.bundledQuery))),i=nt(r);return i.persistence.runTransaction("Save named query","readwrite",u=>{const d=bo(n.readTime);if(o.snapshotVersion.compareTo(d)>=0)return i.Ds.saveNamedQuery(u,n);const g=o.withResumeToken(yr.EMPTY_BYTE_STRING,d);return i.$i=i.$i.insert(g.targetId,g),i.Vs.updateTargetData(u,g).next(()=>i.Vs.removeMatchingKeysForTargetId(u,o.targetId)).next(()=>i.Vs.addMatchingKeys(u,t,o.targetId)).next(()=>i.Ds.saveNamedQuery(u,n))})}),fD.apply(this,arguments)}function jk(r,n){return`firestore_clients_${r}_${n}`}function $k(r,n,t){let o=`firestore_mutations_${r}_${t}`;return n.isAuthenticated()&&(o+=`_${n.uid}`),o}function gD(r,n){return`firestore_targets_${r}_${n}`}class gw{constructor(n,t,o,i){this.user=n,this.batchId=t,this.state=o,this.error=i}static Ji(n,t,o){const i=JSON.parse(o);let u,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(u=new Pe(i.error.code,i.error.message))),d?new gw(n,t,i.state,u):(dr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Yi(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class jv{constructor(n,t,o){this.targetId=n,this.state=t,this.error=o}static Ji(n,t){const o=JSON.parse(t);let i,u="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(i=new Pe(o.error.code,o.error.message))),u?new jv(n,o.state,i):(dr("SharedClientState",`Failed to parse target state for ID '${n}': ${t}`),null)}Yi(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class mw{constructor(n,t){this.clientId=n,this.activeTargetIds=t}static Ji(n,t){const o=JSON.parse(t);let i="object"==typeof o&&o.activeTargetIds instanceof Array,u=nw();for(let d=0;i&&d<o.activeTargetIds.length;++d)i=ix(o.activeTargetIds[d]),u=u.add(o.activeTargetIds[d]);return i?new mw(n,u):(dr("SharedClientState",`Failed to parse client data for instance '${n}': ${t}`),null)}}class mD{constructor(n,t){this.clientId=n,this.onlineState=t}static Ji(n){const t=JSON.parse(n);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new mD(t.clientId,t.onlineState):(dr("SharedClientState",`Failed to parse online state: ${n}`),null)}}class _D{constructor(){this.activeTargetIds=nw()}Xi(n){this.activeTargetIds=this.activeTargetIds.add(n)}Zi(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Yi(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class yD{constructor(n,t,o,i,u){this.window=n,this.js=t,this.persistenceKey=o,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new je(Vt),this.started=!1,this.ir=[];const d=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.rr=jk(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new _D),this.cr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,Ae.Z)(function*(){const t=yield n.syncEngine.Ri();for(const i of t){if(i===n.tr)continue;const u=n.getItem(jk(n.persistenceKey,i));if(u){const d=mw.Ji(i,u);d&&(n.sr=n.sr.insert(d.clientId,d))}}n._r();const o=n.storage.getItem(n.lr);if(o){const i=n.wr(o);i&&n.mr(i)}for(const i of n.ir)n.nr(i);n.ir=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.ur,JSON.stringify(n))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(n){let t=!1;return this.sr.forEach((o,i)=>{i.activeTargetIds.has(n)&&(t=!0)}),t}addPendingMutation(n){this.yr(n,"pending")}updateMutationState(n,t,o){this.yr(n,t,o),this.pr(n)}addLocalQueryTarget(n){let t="not-current";if(this.isActiveQueryTarget(n)){const o=this.storage.getItem(gD(this.persistenceKey,n));if(o){const i=jv.Ji(n,o);i&&(t=i.state)}}return this.Ir.Xi(n),this._r(),t}removeLocalQueryTarget(n){this.Ir.Zi(n),this._r()}isLocalQueryTarget(n){return this.Ir.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(gD(this.persistenceKey,n))}updateQueryState(n,t,o){this.Tr(n,t,o)}handleUserChange(n,t,o){t.forEach(i=>{this.pr(i)}),this.currentUser=n,o.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(n){this.Er(n)}notifyBundleLoaded(n){this.Ar(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(n){const t=this.storage.getItem(n);return Le("SharedClientState","READ",n,t),t}setItem(n,t){Le("SharedClientState","SET",n,t),this.storage.setItem(n,t)}removeItem(n){Le("SharedClientState","REMOVE",n),this.storage.removeItem(n)}nr(n){var t=this;const o=n;if(o.storageArea===this.storage){if(Le("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Ae.Z)(function*(){if(t.started){if(null!==o.key)if(t.cr.test(o.key)){if(null==o.newValue){const i=t.Rr(o.key);return t.br(i,null)}{const i=t.Pr(o.key,o.newValue);if(i)return t.br(i.clientId,i)}}else if(t.ar.test(o.key)){if(null!==o.newValue){const i=t.vr(o.key,o.newValue);if(i)return t.Vr(i)}}else if(t.hr.test(o.key)){if(null!==o.newValue){const i=t.Sr(o.key,o.newValue);if(i)return t.Dr(i)}}else if(o.key===t.lr){if(null!==o.newValue){const i=t.wr(o.newValue);if(i)return t.mr(i)}}else if(o.key===t.ur){const i=function(u){let d=ee.ot;if(null!=u)try{const g=JSON.parse(u);Dt("number"==typeof g),d=g}catch(g){dr("SharedClientState","Failed to read sequence number from WebStorage",g)}return d}(o.newValue);i!==ee.ot&&t.sequenceNumberHandler(i)}else if(o.key===t.dr){const i=t.Cr(o.newValue);yield Promise.all(i.map(u=>t.syncEngine.Nr(u)))}}else t.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(n,t,o){const i=new gw(this.currentUser,n,t,o),u=$k(this.persistenceKey,this.currentUser,n);this.setItem(u,i.Yi())}pr(n){const t=$k(this.persistenceKey,this.currentUser,n);this.removeItem(t)}Er(n){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:n}))}Tr(n,t,o){const i=gD(this.persistenceKey,n),u=new jv(n,t,o);this.setItem(i,u.Yi())}Ar(n){const t=JSON.stringify(Array.from(n));this.setItem(this.dr,t)}Rr(n){const t=this.cr.exec(n);return t?t[1]:null}Pr(n,t){const o=this.Rr(n);return mw.Ji(o,t)}vr(n,t){const o=this.ar.exec(n),i=Number(o[1]);return gw.Ji(new eo(void 0!==o[2]?o[2]:null),i,t)}Sr(n,t){const o=this.hr.exec(n),i=Number(o[1]);return jv.Ji(i,t)}wr(n){return mD.Ji(n)}Cr(n){return JSON.parse(n)}Vr(n){var t=this;return(0,Ae.Z)(function*(){if(n.user.uid===t.currentUser.uid)return t.syncEngine.kr(n.batchId,n.state,n.error);Le("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Dr(n){return this.syncEngine.Or(n.targetId,n.state,n.error)}br(n,t){const o=t?this.sr.insert(n,t):this.sr.remove(n),i=this.gr(this.sr),u=this.gr(o),d=[],g=[];return u.forEach(v=>{i.has(v)||d.push(v)}),i.forEach(v=>{u.has(v)||g.push(v)}),this.syncEngine.Mr(d,g).then(()=>{this.sr=o})}mr(n){this.sr.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}gr(n){let t=nw();return n.forEach((o,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Hk{constructor(){this.Fr=new _D,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,t,o){}addLocalQueryTarget(n){return this.Fr.Xi(n),this.$r[n]||"not-current"}updateQueryState(n,t,o){this.$r[n]=t}removeLocalQueryTarget(n){this.Fr.Zi(n)}isLocalQueryTarget(n){return this.Fr.activeTargetIds.has(n)}clearQueryState(n){delete this.$r[n]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(n){return this.Fr.activeTargetIds.has(n)}start(){return this.Fr=new _D,Promise.resolve()}handleUserChange(n,t,o){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class FP{Br(n){}shutdown(){}}class Gk{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(n){this.Gr.push(n)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.Gr)n(0)}Kr(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.Gr)n(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const qP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class VP{constructor(n){this.jr=n.jr,this.Wr=n.Wr}zr(n){this.Hr=n}Jr(n){this.Yr=n}onMessage(n){this.Xr=n}close(){this.Wr()}send(n){this.jr(n)}Zr(){this.Hr()}eo(n){this.Yr(n)}no(n){this.Xr(n)}}class BP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.so=(n.ssl?"https":"http")+"://"+n.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(n,t,o,i,u){const d=this.oo(n,t);Le("RestConnection","Sending: ",d,o);const g={};return this.uo(g,i,u),this.co(n,d,g,o).then(v=>(Le("RestConnection","Received: ",v),v),v=>{throw bp("RestConnection",`${n} failed with error: `,v,"url: ",d,"request:",o),v})}ao(n,t,o,i,u,d){return this.ro(n,t,o,i,u)}uo(n,t,o){n["X-Goog-Api-Client"]="gl-js/ fire/"+Dd,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>n[u]=i),o&&o.headers.forEach((i,u)=>n[u]=i)}oo(n,t){return`${this.so}/v1/${t}:${qP[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}co(n,t,o,i){return new Promise((u,d)=>{const g=new ME;g.listenOnce(ex.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case hv.NO_ERROR:const w=g.getResponseJson();Le("Connection","XHR received:",JSON.stringify(w)),u(w);break;case hv.TIMEOUT:Le("Connection",'RPC "'+n+'" timed out'),d(new Pe(fe.DEADLINE_EXCEEDED,"Request time out"));break;case hv.HTTP_ERROR:const S=g.getStatus();if(Le("Connection",'RPC "'+n+'" failed with status:',S,"response text:",g.getResponseText()),S>0){const Z=g.getResponseJson().error;if(Z&&Z.status&&Z.message){const R=function(W){const ne=W.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(ne)>=0?ne:fe.UNKNOWN}(Z.status);d(new Pe(R,Z.message))}else d(new Pe(fe.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Pe(fe.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{Le("Connection",'RPC "'+n+'" completed.')}});const v=JSON.stringify(i);g.send(t,"POST",v,o,15)})}ho(n,t,o){const i=[this.so,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=kE(),d=ZE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new nx({})),this.uo(g.initMessageHeaders,t,o),(0,Qt.uI)()||(0,Qt.b$)()||(0,Qt.d)()||(0,Qt.w1)()||(0,Qt.Mn)()||(0,Qt.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const v=i.join("");Le("Connection","Creating WebChannel: "+v,g);const w=u.createWebChannel(v,g);let S=!1,Z=!1;const R=new VP({jr:ne=>{Z?Le("Connection","Not sending because WebChannel is closed:",ne):(S||(Le("Connection","Opening WebChannel transport."),w.open(),S=!0),Le("Connection","WebChannel sending:",ne),w.send(ne))},Wr:()=>w.close()}),W=(ne,Me,$e)=>{ne.listen(Me,pt=>{try{$e(pt)}catch(Pt){setTimeout(()=>{throw Pt},0)}})};return W(w,pv.EventType.OPEN,()=>{Z||Le("Connection","WebChannel transport opened.")}),W(w,pv.EventType.CLOSE,()=>{Z||(Z=!0,Le("Connection","WebChannel transport closed"),R.eo())}),W(w,pv.EventType.ERROR,ne=>{Z||(Z=!0,bp("Connection","WebChannel transport errored:",ne),R.eo(new Pe(fe.UNAVAILABLE,"The operation could not be completed")))}),W(w,pv.EventType.MESSAGE,ne=>{var Me;if(!Z){const $e=ne.data[0];Dt(!!$e);const pt=$e,Pt=pt.error||(null===(Me=pt[0])||void 0===Me?void 0:Me.error);if(Pt){Le("Connection","WebChannel received error:",Pt);const Kt=Pt.status;let wt=function(Sn){const si=to[Sn];if(void 0!==si)return Lx(si)}(Kt),Yt=Pt.message;void 0===wt&&(wt=fe.INTERNAL,Yt="Unknown error status: "+Kt+" with message "+Pt.message),Z=!0,R.eo(new Pe(wt,Yt)),w.close()}else Le("Connection","WebChannel received:",$e),R.no($e)}}),W(d,tx.STAT_EVENT,ne=>{ne.stat===NE.PROXY?Le("Connection","Detected buffering proxy"):ne.stat===NE.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{R.Zr()},0),R}}function Jk(){return"undefined"!=typeof window?window:null}function _w(){return"undefined"!=typeof document?document:null}function $v(r){return new MM(r,!0)}class vD{constructor(n,t,o=1e3,i=1.5,u=6e4){this.js=n,this.timerId=t,this.lo=o,this.fo=i,this._o=u,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(n){this.cancel();const t=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-o);i>0&&Le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),n())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Wk{constructor(n,t,o,i,u,d,g,v){this.js=n,this.Ao=o,this.Ro=i,this.bo=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new vD(n,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var n=this;return(0,Ae.Z)(function*(){n.Do()&&(yield n.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(n){this.Fo(),this.stream.send(n)}Oo(){var n=this;return(0,Ae.Z)(function*(){if(n.Co())return n.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(n,t){var o=this;return(0,Ae.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==n?o.So.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(dr(t.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):t&&t.code===fe.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=n,yield o.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const n=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,i])=>{this.Po===t&&this.Uo(o,i)},o=>{n(()=>{const i=new Pe(fe.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(i)})})}Uo(n,t){const o=this.Lo(this.Po);this.stream=this.Ko(n,t),this.stream.zr(()=>{o(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{o(()=>this.qo(i))}),this.stream.onMessage(i=>{o(()=>this.onMessage(i))})}xo(){var n=this;this.state=5,this.So.Io((0,Ae.Z)(function*(){n.state=0,n.start()}))}qo(n){return Le("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}Lo(n){return t=>{this.js.enqueueAndForget(()=>this.Po===n?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jP extends Wk{constructor(n,t,o,i,u,d){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,i,d),this.wt=u}Ko(n,t){return this.bo.ho("Listen",n,t)}onMessage(n){this.So.reset();const t=function OM(r,n){let t;if("targetChange"in n){const o="NO_CHANGE"===(v=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:ct(),i=n.targetChange.targetIds||[],u=function(v,w){return v.dt?(Dt(void 0===w||"string"==typeof w),yr.fromBase64String(w||"")):(Dt(void 0===w||w instanceof Uint8Array),yr.fromUint8Array(w||new Uint8Array))}(r,n.targetChange.resumeToken),d=n.targetChange.cause,g=d&&function(v){const w=void 0===v.code?fe.UNKNOWN:Lx(v.code);return new Pe(w,v.message||"")}(d);t=new jx(o,i,u,g||null)}else if("documentChange"in n){const o=n.documentChange,i=Vu(r,o.document.name),u=bo(o.document.updateTime),d=new Lo({mapValue:{fields:o.document.fields}}),g=Qn.newFoundDocument(i,u,d);t=new rw(o.targetIds||[],o.removedTargetIds||[],g.key,g)}else if("documentDelete"in n){const o=n.documentDelete,i=Vu(r,o.document),u=o.readTime?bo(o.readTime):xt.min(),d=Qn.newNoDocument(i,u);t=new rw([],o.removedTargetIds||[],d.key,d)}else if("documentRemove"in n){const o=n.documentRemove,i=Vu(r,o.document);t=new rw([],o.removedTargetIds||[],i,null)}else{if(!("filter"in n))return ct();{const o=n.filter,u=new IM(o.count||0);t=new Bx(o.targetId,u)}}var v;return t}(this.wt,n),o=function(i){if(!("targetChange"in i))return xt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?xt.min():u.readTime?bo(u.readTime):xt.min()}(n);return this.listener.Go(t,o)}Qo(n){const t={};t.database=Pv(this.wt),t.addTarget=function(i,u){let d;const g=u.target;return d=KT(g)?{documents:Xx(i,g)}:{query:ek(i,g)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=Jx(i,u.resumeToken):u.snapshotVersion.compareTo(xt.min())>0&&(d.readTime=Nv(i,u.snapshotVersion.toTimestamp())),d}(this.wt,n);const o=function LM(r,n){const t=function(o,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ct()}}(0,n.purpose);return null==t?null:{"goog-listen-tags":t}}(0,n);o&&(t.labels=o),this.Mo(t)}jo(n){const t={};t.database=Pv(this.wt),t.removeTarget=n,this.Mo(t)}}class $P extends Wk{constructor(n,t,o,i,u,d){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,i,d),this.wt=u,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(n,t){return this.bo.ho("Write",n,t)}onMessage(n){if(Dt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Wo){this.So.reset();const t=function RM(r,n){return r&&r.length>0?(Dt(void 0!==n),r.map(t=>function(o,i){let u=bo(o.updateTime?o.updateTime:i);return u.isEqual(xt.min())&&(u=bo(i)),new wM(u,o.transformResults||[])}(t,n))):[]}(n.writeResults,n.commitTime),o=bo(n.commitTime);return this.listener.Jo(o,t)}return Dt(!n.writeResults||0===n.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const n={};n.database=Pv(this.wt),this.Mo(n)}Ho(n){const t={streamToken:this.lastStreamToken,writes:n.map(o=>Uv(this.wt,o))};this.Mo(t)}}class HP extends class{}{constructor(n,t,o,i){super(),this.authCredentials=n,this.appCheckCredentials=t,this.bo=o,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new Pe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(n,t,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.bo.ro(n,t,o,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Pe(fe.UNKNOWN,i.toString())})}ao(n,t,o,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.bo.ao(n,t,o,u,d,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Pe(fe.UNKNOWN,u.toString())})}terminate(){this.Zo=!0}}class GP{constructor(n,t){this.asyncQueue=n,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(n){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.ru("Offline")))}set(n){this.cu(),this.eu=0,"Online"===n&&(this.su=!1),this.ru(n)}ru(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}ou(n){const t=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(dr(t),this.su=!1):Le("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class JP{constructor(n,t,o,i,u){var d=this;this.localStore=n,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=u,this.du.Br(g=>{o.enqueueAndForget((0,Ae.Z)(function*(){var v;Od(d)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Ae.Z)(function*(w){const S=nt(w);S.lu.add(4),yield um(S),S._u.set("Unknown"),S.lu.delete(4),yield Hv(S)}),function(w){return v.apply(this,arguments)})(d))}))}),this._u=new GP(o,i)}}function Hv(r){return CD.apply(this,arguments)}function CD(){return CD=(0,Ae.Z)(function*(r){if(Od(r))for(const n of r.fu)yield n(!0)}),CD.apply(this,arguments)}function um(r){return TD.apply(this,arguments)}function TD(){return TD=(0,Ae.Z)(function*(r){for(const n of r.fu)yield n(!1)}),TD.apply(this,arguments)}function yw(r,n){const t=nt(r);t.hu.has(n.targetId)||(t.hu.set(n.targetId,n),AD(t)?bD(t):cm(t).Co()&&wD(t,n))}function Gv(r,n){const t=nt(r),o=cm(t);t.hu.delete(n),o.Co()&&zk(t,n),0===t.hu.size&&(o.Co()?o.ko():Od(t)&&t._u.set("Unknown"))}function wD(r,n){r.wu.Nt(n.targetId),cm(r).Qo(n)}function zk(r,n){r.wu.Nt(n),cm(r).jo(n)}function bD(r){r.wu=new kM({getRemoteKeysForTarget:n=>r.remoteSyncer.getRemoteKeysForTarget(n),te:n=>r.hu.get(n)||null}),cm(r).start(),r._u.iu()}function AD(r){return Od(r)&&!cm(r).Do()&&r.hu.size>0}function Od(r){return 0===nt(r).lu.size}function Qk(r){r.wu=void 0}function WP(r){return ID.apply(this,arguments)}function ID(){return ID=(0,Ae.Z)(function*(r){r.hu.forEach((n,t)=>{wD(r,n)})}),ID.apply(this,arguments)}function zP(r,n){return ED.apply(this,arguments)}function ED(){return ED=(0,Ae.Z)(function*(r,n){Qk(r),AD(r)?(r._u.uu(n),bD(r)):r._u.set("Unknown")}),ED.apply(this,arguments)}function QP(r,n,t){return DD.apply(this,arguments)}function DD(){return DD=(0,Ae.Z)(function*(r,n,t){if(r._u.set("Online"),n instanceof jx&&2===n.state&&n.cause)try{yield(o=(0,Ae.Z)(function*(i,u){const d=u.cause;for(const g of u.targetIds)i.hu.has(g)&&(yield i.remoteSyncer.rejectListen(g,d),i.hu.delete(g),i.wu.removeTarget(g))}),function(i,u){return o.apply(this,arguments)})(r,n)}catch(o){Le("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),o),yield vw(r,o)}else if(n instanceof rw?r.wu.Ut(n):n instanceof Bx?r.wu.zt(n):r.wu.Gt(n),!t.isEqual(xt.min()))try{const o=yield Lk(r.localStore);t.compareTo(o)>=0&&(yield function(i,u){const d=i.wu.Yt(u);return d.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const w=i.hu.get(v);w&&i.hu.set(v,w.withResumeToken(g.resumeToken,u))}}),d.targetMismatches.forEach(g=>{const v=i.hu.get(g);if(!v)return;i.hu.set(g,v.withResumeToken(yr.EMPTY_BYTE_STRING,v.snapshotVersion)),zk(i,g);const w=new Md(v.target,g,1,v.sequenceNumber);wD(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(r,t))}catch(o){Le("RemoteStore","Failed to raise snapshot:",o),yield vw(r,o)}var o}),DD.apply(this,arguments)}function vw(r,n,t){return SD.apply(this,arguments)}function SD(){return SD=(0,Ae.Z)(function*(r,n,t){if(!_(n))throw n;r.lu.add(1),yield um(r),r._u.set("Offline"),t||(t=()=>Lk(r.localStore)),r.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),r.lu.delete(1),yield Hv(r)}))}),SD.apply(this,arguments)}function Kk(r,n){return n().catch(t=>vw(r,t,n))}function lm(r){return xD.apply(this,arguments)}function xD(){return xD=(0,Ae.Z)(function*(r){const n=nt(r),t=Rd(n);let o=n.au.length>0?n.au[n.au.length-1].batchId:-1;for(;KP(n);)try{const i=yield OP(n.localStore,o);if(null===i){0===n.au.length&&t.ko();break}o=i.batchId,YP(n,i)}catch(i){yield vw(n,i)}Yk(n)&&Xk(n)}),xD.apply(this,arguments)}function KP(r){return Od(r)&&r.au.length<10}function YP(r,n){r.au.push(n);const t=Rd(r);t.Co()&&t.zo&&t.Ho(n.mutations)}function Yk(r){return Od(r)&&!Rd(r).Do()&&r.au.length>0}function Xk(r){Rd(r).start()}function XP(r){return kD.apply(this,arguments)}function kD(){return kD=(0,Ae.Z)(function*(r){Rd(r).Xo()}),kD.apply(this,arguments)}function eU(r){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,Ae.Z)(function*(r){const n=Rd(r);for(const t of r.au)n.Ho(t.mutations)}),ZD.apply(this,arguments)}function tU(r,n,t){return ND.apply(this,arguments)}function ND(){return ND=(0,Ae.Z)(function*(r,n,t){const o=r.au.shift(),i=tD.from(o,n,t);yield Kk(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),yield lm(r)}),ND.apply(this,arguments)}function nU(r,n){return MD.apply(this,arguments)}function MD(){return MD=(0,Ae.Z)(function*(r,n){var t;n&&Rd(r).zo&&(yield(t=(0,Ae.Z)(function*(o,i){if(Rx(u=i.code)&&u!==fe.ABORTED){const d=o.au.shift();Rd(o).No(),yield Kk(o,()=>o.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield lm(o)}var u}),function(o,i){return t.apply(this,arguments)})(r,n)),Yk(r)&&Xk(r)}),MD.apply(this,arguments)}function eZ(r,n){return PD.apply(this,arguments)}function PD(){return PD=(0,Ae.Z)(function*(r,n){const t=nt(r);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const o=Od(t);t.lu.add(3),yield um(t),o&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(n),t.lu.delete(3),yield Hv(t)}),PD.apply(this,arguments)}function UD(r,n){return OD.apply(this,arguments)}function OD(){return OD=(0,Ae.Z)(function*(r,n){const t=nt(r);n?(t.lu.delete(2),yield Hv(t)):n||(t.lu.add(2),yield um(t),t._u.set("Unknown"))}),OD.apply(this,arguments)}function cm(r){return r.mu||(r.mu=function(n,t,o){const i=nt(n);return i.tu(),new jP(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,o)}(r.datastore,r.asyncQueue,{zr:WP.bind(null,r),Jr:zP.bind(null,r),Go:QP.bind(null,r)}),r.fu.push(function(){var n=(0,Ae.Z)(function*(t){t?(r.mu.No(),AD(r)?bD(r):r._u.set("Unknown")):(yield r.mu.stop(),Qk(r))});return function(t){return n.apply(this,arguments)}}())),r.mu}function Rd(r){return r.gu||(r.gu=function(n,t,o){const i=nt(n);return i.tu(),new $P(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,o)}(r.datastore,r.asyncQueue,{zr:XP.bind(null,r),Jr:nU.bind(null,r),Yo:eU.bind(null,r),Jo:tU.bind(null,r)}),r.fu.push(function(){var n=(0,Ae.Z)(function*(t){t?(r.gu.No(),yield lm(r)):(yield r.gu.stop(),r.au.length>0&&(Le("RemoteStore",`Stopping write stream with ${r.au.length} pending writes`),r.au=[]))});return function(t){return n.apply(this,arguments)}}())),r.gu}class RD{constructor(n,t,o,i,u){this.asyncQueue=n,this.timerId=t,this.targetTimeMs=o,this.op=i,this.removalCallback=u,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(n,t,o,i,u){const d=Date.now()+o,g=new RD(n,t,d,i,u);return g.start(o),g}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(fe.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dm(r,n){if(dr("AsyncQueue",`${n}: ${r}`),_(r))return new Pe(fe.UNAVAILABLE,`${n}: ${r}`);throw r}class hm{constructor(n){this.comparator=n?(t,o)=>n(t,o)||et.comparator(t.key,o.key):(t,o)=>et.comparator(t.key,o.key),this.keyedMap=Sv(),this.sortedSet=new je(this.comparator)}static emptySet(n){return new hm(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const t=this.keyedMap.get(n);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((t,o)=>(n(t),!1))}add(n){const t=this.delete(n.key);return t.copy(t.keyedMap.insert(n.key,n),t.sortedSet.insert(n,null))}delete(n){const t=this.get(n);return t?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(t)):this}isEqual(n){if(!(n instanceof hm)||this.size!==n.size)return!1;const t=this.sortedSet.getIterator(),o=n.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=o.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const n=[];return this.forEach(t=>{n.push(t.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,t){const o=new hm;return o.comparator=this.comparator,o.keyedMap=n,o.sortedSet=t,o}}class tZ{constructor(){this.yu=new je(et.comparator)}track(n){const t=n.doc.key,o=this.yu.get(t);o?0!==n.type&&3===o.type?this.yu=this.yu.insert(t,n):3===n.type&&1!==o.type?this.yu=this.yu.insert(t,{type:o.type,doc:n.doc}):2===n.type&&2===o.type?this.yu=this.yu.insert(t,{type:2,doc:n.doc}):2===n.type&&0===o.type?this.yu=this.yu.insert(t,{type:0,doc:n.doc}):1===n.type&&0===o.type?this.yu=this.yu.remove(t):1===n.type&&2===o.type?this.yu=this.yu.insert(t,{type:1,doc:o.doc}):0===n.type&&1===o.type?this.yu=this.yu.insert(t,{type:2,doc:n.doc}):ct():this.yu=this.yu.insert(t,n)}pu(){const n=[];return this.yu.inorderTraversal((t,o)=>{n.push(o)}),n}}class pm{constructor(n,t,o,i,u,d,g,v){this.query=n,this.docs=t,this.oldDocs=o,this.docChanges=i,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v}static fromInitialDocuments(n,t,o,i){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new pm(n,t,hm.emptySet(t),u,o,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Iv(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const t=this.docChanges,o=n.docChanges;if(t.length!==o.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==o[i].type||!t[i].doc.isEqual(o[i].doc))return!1;return!0}}class rU{constructor(){this.Iu=void 0,this.listeners=[]}}class oU{constructor(){this.queries=new Nd(n=>Tx(n),Iv),this.onlineState="Unknown",this.Tu=new Set}}function LD(r,n){return FD.apply(this,arguments)}function FD(){return FD=(0,Ae.Z)(function*(r,n){const t=nt(r),o=n.query;let i=!1,u=t.queries.get(o);if(u||(i=!0,u=new rU),i)try{u.Iu=yield t.onListen(o)}catch(d){const g=dm(d,`Initialization of query '${JE(n.query)}' failed`);return void n.onError(g)}t.queries.set(o,u),u.listeners.push(n),n.Eu(t.onlineState),u.Iu&&n.Au(u.Iu)&&BD(t)}),FD.apply(this,arguments)}function qD(r,n){return VD.apply(this,arguments)}function VD(){return VD=(0,Ae.Z)(function*(r,n){const t=nt(r),o=n.query;let i=!1;const u=t.queries.get(o);if(u){const d=u.listeners.indexOf(n);d>=0&&(u.listeners.splice(d,1),i=0===u.listeners.length)}if(i)return t.queries.delete(o),t.onUnlisten(o)}),VD.apply(this,arguments)}function iU(r,n){const t=nt(r);let o=!1;for(const i of n){const d=t.queries.get(i.query);if(d){for(const g of d.listeners)g.Au(i)&&(o=!0);d.Iu=i}}o&&BD(t)}function sU(r,n,t){const o=nt(r),i=o.queries.get(n);if(i)for(const u of i.listeners)u.onError(t);o.queries.delete(n)}function BD(r){r.Tu.forEach(n=>{n.next()})}class jD{constructor(n,t,o){this.query=n,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(n){if(!this.options.includeMetadataChanges){const o=[];for(const i of n.docChanges)3!==i.type&&o.push(i);n=new pm(n.query,n.docs,n.oldDocs,o,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(n)&&(this.Ru.next(n),t=!0):this.Vu(n,this.onlineState)&&(this.Su(n),t=!0),this.Pu=n,t}onError(n){this.Ru.error(n)}Eu(n){this.onlineState=n;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,n)&&(this.Su(this.Pu),t=!0),t}Vu(n,t){return!n.fromCache||!(this.options.Du&&"Offline"!==t||n.docs.isEmpty()&&"Offline"!==t)}vu(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(n){n=pm.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.bu=!0,this.Ru.next(n)}}class aU{constructor(n,t){this.payload=n,this.byteLength=t}Cu(){return"metadata"in this.payload}}class nZ{constructor(n){this.wt=n}Wi(n){return Vu(this.wt,n)}zi(n){return n.metadata.exists?Yx(this.wt,n.document,!1):Qn.newNoDocument(this.Wi(n.metadata.name),this.Hi(n.metadata.readTime))}Hi(n){return bo(n)}}class uU{constructor(n,t,o){this.xu=n,this.localStore=t,this.wt=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rZ(n)}Nu(n){this.progress.bytesLoaded+=n.byteLength;let t=this.progress.documentsLoaded;if(n.payload.namedQuery)this.queries.push(n.payload.namedQuery);else if(n.payload.documentMetadata){this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++t;const o=pn.fromString(n.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(n){const t=new Map,o=new nZ(this.wt);for(const i of n)if(i.metadata.queries){const u=o.Wi(i.metadata.name);for(const d of i.metadata.queries){const g=(t.get(d)||Gt()).add(u);t.set(d,g)}}return t}complete(){var n=this;return(0,Ae.Z)(function*(){const t=yield function RP(r,n,t,o){return pD.apply(this,arguments)}(n.localStore,new nZ(n.wt),n.documents,n.xu.id),o=n.ku(n.documents);for(const i of n.queries)yield LP(n.localStore,i,o.get(i.name));return n.progress.taskState="Success",{progress:n.progress,Ou:n.collectionGroups,Mu:t}})()}}function rZ(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class oZ{constructor(n){this.key=n}}class iZ{constructor(n){this.key=n}}class sZ{constructor(n,t){this.query=n,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Gt(),this.mutatedKeys=Gt(),this.Lu=bx(n),this.Uu=new hm(this.Lu)}get qu(){return this.Fu}Ku(n,t){const o=t?t.Gu:new tZ,i=t?t.Uu:this.Uu;let u=t?t.mutatedKeys:this.mutatedKeys,d=i,g=!1;const v="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(n.inorderTraversal((S,Z)=>{const R=i.get(S),W=WE(this.query,Z)?Z:null,ne=!!R&&this.mutatedKeys.has(R.key),Me=!!W&&(W.hasLocalMutations||this.mutatedKeys.has(W.key)&&W.hasCommittedMutations);let $e=!1;R&&W?R.data.isEqual(W.data)?ne!==Me&&(o.track({type:3,doc:W}),$e=!0):this.Qu(R,W)||(o.track({type:2,doc:W}),$e=!0,(v&&this.Lu(W,v)>0||w&&this.Lu(W,w)<0)&&(g=!0)):!R&&W?(o.track({type:0,doc:W}),$e=!0):R&&!W&&(o.track({type:1,doc:R}),$e=!0,(v||w)&&(g=!0)),$e&&(W?(d=d.add(W),u=Me?u.add(S):u.delete(S)):(d=d.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const S="F"===this.query.limitType?d.last():d.first();d=d.delete(S.key),u=u.delete(S.key),o.track({type:1,doc:S})}return{Uu:d,Gu:o,Oi:g,mutatedKeys:u}}Qu(n,t){return n.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(n,t,o){const i=this.Uu;this.Uu=n.Uu,this.mutatedKeys=n.mutatedKeys;const u=n.Gu.pu();u.sort((w,S)=>function(Z,R){const W=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return W(Z)-W(R)}(w.type,S.type)||this.Lu(w.doc,S.doc)),this.ju(o);const d=t?this.Wu():[],g=0===this.Bu.size&&this.current?1:0,v=g!==this.$u;return this.$u=g,0!==u.length||v?{snapshot:new pm(this.query,n.Uu,i,u,n.mutatedKeys,0===g,v,!1),zu:d}:{zu:d}}Eu(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new tZ,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(n){return!this.Fu.has(n)&&!!this.Uu.has(n)&&!this.Uu.get(n).hasLocalMutations}ju(n){n&&(n.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),n.modifiedDocuments.forEach(t=>{}),n.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=n.current)}Wu(){if(!this.current)return[];const n=this.Bu;this.Bu=Gt(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const t=[];return n.forEach(o=>{this.Bu.has(o)||t.push(new iZ(o))}),this.Bu.forEach(o=>{n.has(o)||t.push(new oZ(o))}),t}Ju(n){this.Fu=n.ji,this.Bu=Gt();const t=this.Ku(n.documents);return this.applyChanges(t,!0)}Yu(){return pm.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class lU{constructor(n,t,o){this.query=n,this.targetId=t,this.view=o}}class cU{constructor(n){this.key=n,this.Xu=!1}}class dU{constructor(n,t,o,i,u,d){this.localStore=n,this.remoteStore=t,this.eventManager=o,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Zu={},this.tc=new Nd(g=>Tx(g),Iv),this.ec=new Map,this.nc=new Set,this.sc=new je(et.comparator),this.ic=new Map,this.rc=new sD,this.oc={},this.uc=new Map,this.cc=Rp.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function hU(r,n){return $D.apply(this,arguments)}function $D(){return $D=(0,Ae.Z)(function*(r,n){const t=pS(r);let o,i;const u=t.tc.get(n);if(u)o=u.targetId,t.sharedClientState.addLocalQueryTarget(o),i=u.view.Yu();else{const d=yield sm(t.localStore,ua(n));t.isPrimaryClient&&yw(t.remoteStore,d);const g=t.sharedClientState.addLocalQueryTarget(d.targetId);o=d.targetId,i=yield HD(t,n,o,"current"===g)}return i}),$D.apply(this,arguments)}function HD(r,n,t,o){return GD.apply(this,arguments)}function GD(){return GD=(0,Ae.Z)(function*(r,n,t,o){r.hc=(S,Z,R)=>{return(W=(0,Ae.Z)(function*(ne,Me,$e,pt){let Pt=Me.view.Ku($e);Pt.Oi&&(Pt=yield fw(ne.localStore,Me.query,!1).then(({documents:Yt})=>Me.view.Ku(Yt,Pt)));const Kt=pt&&pt.targetChanges.get(Me.targetId),wt=Me.view.applyChanges(Pt,ne.isPrimaryClient,Kt);return nS(ne,Me.targetId,wt.zu),wt.snapshot}),function(ne,Me,$e,pt){return W.apply(this,arguments)})(r,S,Z,R);var W};const i=yield fw(r.localStore,n,!0),u=new sZ(n,i.ji),d=u.Ku(i.documents),g=Zv.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==r.onlineState),v=u.applyChanges(d,r.isPrimaryClient,g);nS(r,t,v.zu);const w=new lU(n,t,u);return r.tc.set(n,w),r.ec.has(t)?r.ec.get(t).push(n):r.ec.set(t,[n]),v.snapshot}),GD.apply(this,arguments)}function pU(r,n){return JD.apply(this,arguments)}function JD(){return JD=(0,Ae.Z)(function*(r,n){const t=nt(r),o=t.tc.get(n),i=t.ec.get(o.targetId);if(i.length>1)return t.ec.set(o.targetId,i.filter(u=>!Iv(u,n))),void t.tc.delete(n);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield am(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Gv(t.remoteStore,o.targetId),fm(t,o.targetId)}).catch(rc))):(fm(t,o.targetId),yield am(t.localStore,o.targetId,!0))}),JD.apply(this,arguments)}function WD(){return WD=(0,Ae.Z)(function*(r,n,t){const o=fS(r);try{const i=yield function(u,d){const g=nt(u),v=Wn.now(),w=d.reduce((R,W)=>R.add(W.key),Gt());let S,Z;return g.persistence.runTransaction("Locally write mutations","readwrite",R=>{let W=Wi(),ne=Gt();return g.Ui.getEntries(R,w).next(Me=>{W=Me,W.forEach(($e,pt)=>{pt.isValidDocument()||(ne=ne.add($e))})}).next(()=>g.localDocuments.getOverlayedDocuments(R,W)).next(Me=>{S=Me;const $e=[];for(const pt of d){const Pt=AM(pt,S.get(pt.key).overlayedDocument);null!=Pt&&$e.push(new ac(pt.key,Pt,hx(Pt.value.mapValue),vr.exists(!0)))}return g.mutationQueue.addMutationBatch(R,v,$e,d)}).next(Me=>{Z=Me;const $e=Me.applyToLocalDocumentSet(S,ne);return g.documentOverlayCache.saveOverlays(R,Me.batchId,$e)})}).then(()=>({batchId:Z.batchId,changes:qx(S)}))}(o.localStore,n);o.sharedClientState.addPendingMutation(i.batchId),function(u,d,g){let v=u.oc[u.currentUser.toKey()];v||(v=new je(Vt)),v=v.insert(d,g),u.oc[u.currentUser.toKey()]=v}(o,i.batchId,t),yield uc(o,i.changes),yield lm(o.remoteStore)}catch(i){const u=dm(i,"Failed to persist write");t.reject(u)}}),WD.apply(this,arguments)}function aZ(r,n){return zD.apply(this,arguments)}function zD(){return zD=(0,Ae.Z)(function*(r,n){const t=nt(r);try{const o=yield UP(t.localStore,n);n.targetChanges.forEach((i,u)=>{const d=t.ic.get(u);d&&(Dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.Xu=!0:i.modifiedDocuments.size>0?Dt(d.Xu):i.removedDocuments.size>0&&(Dt(d.Xu),d.Xu=!1))}),yield uc(t,o,n)}catch(o){yield rc(o)}}),zD.apply(this,arguments)}function uZ(r,n,t){const o=nt(r);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const i=[];o.tc.forEach((u,d)=>{const g=d.view.Eu(n);g.snapshot&&i.push(g.snapshot)}),function(u,d){const g=nt(u);g.onlineState=d;let v=!1;g.queries.forEach((w,S)=>{for(const Z of S.listeners)Z.Eu(d)&&(v=!0)}),v&&BD(g)}(o.eventManager,n),i.length&&o.Zu.Go(i),o.onlineState=n,o.isPrimaryClient&&o.sharedClientState.setOnlineState(n)}}function gU(r,n,t){return QD.apply(this,arguments)}function QD(){return QD=(0,Ae.Z)(function*(r,n,t){const o=nt(r);o.sharedClientState.updateQueryState(n,"rejected",t);const i=o.ic.get(n),u=i&&i.key;if(u){let d=new je(et.comparator);d=d.insert(u,Qn.newNoDocument(u,xt.min()));const g=Gt().add(u),v=new kv(xt.min(),new Map,new ze(Vt),d,g);yield aZ(o,v),o.sc=o.sc.remove(u),o.ic.delete(n),rS(o)}else yield am(o.localStore,n,!1).then(()=>fm(o,n,t)).catch(rc)}),QD.apply(this,arguments)}function mU(r,n){return KD.apply(this,arguments)}function KD(){return KD=(0,Ae.Z)(function*(r,n){const t=nt(r),o=n.batch.batchId;try{const i=yield PP(t.localStore,n);tS(t,o,null),eS(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield uc(t,i)}catch(i){yield rc(i)}}),KD.apply(this,arguments)}function _U(r,n,t){return YD.apply(this,arguments)}function YD(){return YD=(0,Ae.Z)(function*(r,n,t){const o=nt(r);try{const i=yield function(u,d){const g=nt(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return g.mutationQueue.lookupMutationBatch(v,d).next(S=>(Dt(null!==S),w=S.keys(),g.mutationQueue.removeMutationBatch(v,S))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,w,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>g.localDocuments.getDocuments(v,w))})}(o.localStore,n);tS(o,n,t),eS(o,n),o.sharedClientState.updateMutationState(n,"rejected",t),yield uc(o,i)}catch(i){yield rc(i)}}),YD.apply(this,arguments)}function XD(){return XD=(0,Ae.Z)(function*(r,n){const t=nt(r);Od(t.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(u){const d=nt(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>d.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===o)return void n.resolve();const i=t.uc.get(o)||[];i.push(n),t.uc.set(o,i)}catch(o){const i=dm(o,"Initialization of waitForPendingWrites() operation failed");n.reject(i)}}),XD.apply(this,arguments)}function eS(r,n){(r.uc.get(n)||[]).forEach(t=>{t.resolve()}),r.uc.delete(n)}function tS(r,n,t){const o=nt(r);let i=o.oc[o.currentUser.toKey()];if(i){const u=i.get(n);u&&(t?u.reject(t):u.resolve(),i=i.remove(n)),o.oc[o.currentUser.toKey()]=i}}function fm(r,n,t=null){r.sharedClientState.removeLocalQueryTarget(n);for(const o of r.ec.get(n))r.tc.delete(o),t&&r.Zu.lc(o,t);r.ec.delete(n),r.isPrimaryClient&&r.rc.us(n).forEach(o=>{r.rc.containsKey(o)||lZ(r,o)})}function lZ(r,n){r.nc.delete(n.path.canonicalString());const t=r.sc.get(n);null!==t&&(Gv(r.remoteStore,t),r.sc=r.sc.remove(n),r.ic.delete(t),rS(r))}function nS(r,n,t){for(const o of t)o instanceof oZ?(r.rc.addReference(o.key,n),vU(r,o)):o instanceof iZ?(Le("SyncEngine","Document no longer in limbo: "+o.key),r.rc.removeReference(o.key,n),r.rc.containsKey(o.key)||lZ(r,o.key)):ct()}function vU(r,n){const t=n.key,o=t.path.canonicalString();r.sc.get(t)||r.nc.has(o)||(Le("SyncEngine","New document in limbo: "+t),r.nc.add(o),rS(r))}function rS(r){for(;r.nc.size>0&&r.sc.size<r.maxConcurrentLimboResolutions;){const n=r.nc.values().next().value;r.nc.delete(n);const t=new et(pn.fromString(n)),o=r.cc.next();r.ic.set(o,new cU(t)),r.sc=r.sc.insert(t,o),yw(r.remoteStore,new Md(ua(Qg(t.path)),o,2,ee.ot))}}function uc(r,n,t){return oS.apply(this,arguments)}function oS(){return oS=(0,Ae.Z)(function*(r,n,t){const o=nt(r),i=[],u=[],d=[];var g;o.tc.isEmpty()||(o.tc.forEach((g,v)=>{d.push(o.hc(v,n,t).then(w=>{if(w){o.isPrimaryClient&&o.sharedClientState.updateQueryState(v.targetId,w.fromCache?"not-current":"current"),i.push(w);const S=cD.Vi(v.targetId,w);u.push(S)}}))}),yield Promise.all(d),o.Zu.Go(i),yield(g=(0,Ae.Z)(function*(v,w){const S=nt(v);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",Z=>a.forEach(w,R=>a.forEach(R.Pi,W=>S.persistence.referenceDelegate.addReference(Z,R.targetId,W)).next(()=>a.forEach(R.vi,W=>S.persistence.referenceDelegate.removeReference(Z,R.targetId,W)))))}catch(Z){if(!_(Z))throw Z;Le("LocalStore","Failed to update sequence numbers: "+Z)}for(const Z of w){const R=Z.targetId;if(!Z.fromCache){const W=S.$i.get(R),Me=W.withLastLimboFreeSnapshotVersion(W.snapshotVersion);S.$i=S.$i.insert(R,Me)}}}),function(v,w){return g.apply(this,arguments)})(o.localStore,u))}),oS.apply(this,arguments)}function CU(r,n){return iS.apply(this,arguments)}function iS(){return iS=(0,Ae.Z)(function*(r,n){const t=nt(r);if(!t.currentUser.isEqual(n)){Le("SyncEngine","User change. New user:",n.toKey());const o=yield Rk(t.localStore,n);t.currentUser=n,(i=t).uc.forEach(d=>{d.forEach(g=>{g.reject(new Pe(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),t.sharedClientState.handleUserChange(n,o.removedBatchIds,o.addedBatchIds),yield uc(t,o.Ki)}var i}),iS.apply(this,arguments)}function TU(r,n){const t=nt(r),o=t.ic.get(n);if(o&&o.Xu)return Gt().add(o.key);{let i=Gt();const u=t.ec.get(n);if(!u)return i;for(const d of u){const g=t.tc.get(d);i=i.unionWith(g.view.qu)}return i}}function wU(r,n){return sS.apply(this,arguments)}function sS(){return sS=(0,Ae.Z)(function*(r,n){const t=nt(r),o=yield fw(t.localStore,n.query,!0),i=n.view.Ju(o);return t.isPrimaryClient&&nS(t,n.targetId,i.zu),i}),sS.apply(this,arguments)}function bU(r,n){return aS.apply(this,arguments)}function aS(){return aS=(0,Ae.Z)(function*(r,n){const t=nt(r);return Vk(t.localStore,n).then(o=>uc(t,o))}),aS.apply(this,arguments)}function AU(r,n,t,o){return uS.apply(this,arguments)}function uS(){return uS=(0,Ae.Z)(function*(r,n,t,o){const i=nt(r),u=yield function(d,g){const v=nt(d),w=nt(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",S=>w.yn(S,g).next(Z=>Z?v.localDocuments.getDocuments(S,Z):a.resolve(null)))}(i.localStore,n);var g;null!==u?("pending"===t?yield lm(i.remoteStore):"acknowledged"===t||"rejected"===t?(tS(i,n,o||null),eS(i,n),g=n,nt(nt(i.localStore).mutationQueue).In(g)):ct(),yield uc(i,u)):Le("SyncEngine","Cannot apply mutation batch with id: "+n)}),uS.apply(this,arguments)}function lS(){return lS=(0,Ae.Z)(function*(r,n){const t=nt(r);if(pS(t),fS(t),!0===n&&!0!==t.ac){const o=t.sharedClientState.getAllActiveQueryTargets(),i=yield cZ(t,o.toArray());t.ac=!0,yield UD(t.remoteStore,!0);for(const u of i)yw(t.remoteStore,u)}else if(!1===n&&!1!==t.ac){const o=[];let i=Promise.resolve();t.ec.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?o.push(d):i=i.then(()=>(fm(t,d),am(t.localStore,d,!0))),Gv(t.remoteStore,d)}),yield i,yield cZ(t,o),function(u){const d=nt(u);d.ic.forEach((g,v)=>{Gv(d.remoteStore,v)}),d.rc.cs(),d.ic=new Map,d.sc=new je(et.comparator)}(t),t.ac=!1,yield UD(t.remoteStore,!1)}}),lS.apply(this,arguments)}function cZ(r,n,t){return cS.apply(this,arguments)}function cS(){return cS=(0,Ae.Z)(function*(r,n,t){const o=nt(r),i=[],u=[];for(const d of n){let g;const v=o.ec.get(d);if(v&&0!==v.length){g=yield sm(o.localStore,ua(v[0]));for(const w of v){const S=o.tc.get(w),Z=yield wU(o,S);Z.snapshot&&u.push(Z.snapshot)}}else{const w=yield qk(o.localStore,d);g=yield sm(o.localStore,w),yield HD(o,dZ(w),d,!1)}i.push(g)}return o.Zu.Go(u),i}),cS.apply(this,arguments)}function dZ(r){return vx(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function EU(r){const n=nt(r);return nt(nt(n.localStore).persistence).Ri()}function DU(r,n,t,o){return dS.apply(this,arguments)}function dS(){return dS=(0,Ae.Z)(function*(r,n,t,o){const i=nt(r);if(i.ac)return void Le("SyncEngine","Ignoring unexpected query state notification.");const u=i.ec.get(n);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield Vk(i.localStore,wx(u[0])),g=kv.createSynthesizedRemoteEventForCurrentChange(n,"current"===t);yield uc(i,d,g);break}case"rejected":yield am(i.localStore,n,!0),fm(i,n,o);break;default:ct()}}),dS.apply(this,arguments)}function SU(r,n,t){return hS.apply(this,arguments)}function hS(){return hS=(0,Ae.Z)(function*(r,n,t){const o=pS(r);if(o.ac){for(const i of n){if(o.ec.has(i)){Le("SyncEngine","Adding an already active target "+i);continue}const u=yield qk(o.localStore,i),d=yield sm(o.localStore,u);yield HD(o,dZ(u),d.targetId,!1),yw(o.remoteStore,d)}for(const i of t)o.ec.has(i)&&(yield am(o.localStore,i,!1).then(()=>{Gv(o.remoteStore,i),fm(o,i)}).catch(rc))}}),hS.apply(this,arguments)}function pS(r){const n=nt(r);return n.remoteStore.remoteSyncer.applyRemoteEvent=aZ.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=TU.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=gU.bind(null,n),n.Zu.Go=iU.bind(null,n.eventManager),n.Zu.lc=sU.bind(null,n.eventManager),n}function fS(r){const n=nt(r);return n.remoteStore.remoteSyncer.applySuccessfulWrite=mU.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=_U.bind(null,n),n}class hZ{constructor(){this.synchronizeTabs=!1}initialize(n){var t=this;return(0,Ae.Z)(function*(){t.wt=$v(n.databaseInfo.databaseId),t.sharedClientState=t.dc(n),t.persistence=t._c(n),yield t.persistence.start(),t.localStore=t.wc(n),t.gcScheduler=t.mc(n,t.localStore),t.indexBackfillerScheduler=t.gc(n,t.localStore)})()}mc(n,t){return null}gc(n,t){return null}wc(n){return Ok(this.persistence,new Uk,n.initialUser,this.wt)}_c(n){return new Mk(hw.Ms,this.wt)}dc(n){return new Hk}terminate(){var n=this;return(0,Ae.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class pZ extends hZ{constructor(n,t,o){super(),this.yc=n,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(n){var t=()=>super.initialize,o=this;return(0,Ae.Z)(function*(){yield t().call(o,n),yield o.yc.initialize(o,n),yield fS(o.yc.syncEngine),yield lm(o.yc.remoteStore),yield o.persistence.ci(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(n){return Ok(this.persistence,new Uk,n.initialUser,this.wt)}mc(n,t){return new vP(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,t)}gc(n,t){const o=new Q(t,this.persistence);return new U(n.asyncQueue,o)}_c(n){const t=lD(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?zi.withCacheSize(this.cacheSizeBytes):zi.DEFAULT;return new uD(this.synchronizeTabs,t,n.clientId,o,n.asyncQueue,Jk(),_w(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(n){return new Hk}}class kU extends pZ{constructor(n,t){super(n,t,!1),this.yc=n,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(n){var t=()=>super.initialize,o=this;return(0,Ae.Z)(function*(){yield t().call(o,n);const i=o.yc.syncEngine;o.sharedClientState instanceof yD&&(o.sharedClientState.syncEngine={kr:AU.bind(null,i),Or:DU.bind(null,i),Mr:SU.bind(null,i),Ri:EU.bind(null,i),Nr:bU.bind(null,i)},yield o.sharedClientState.start()),yield o.persistence.ci(function(){var u=(0,Ae.Z)(function*(d){yield function IU(r,n){return lS.apply(this,arguments)}(o.yc.syncEngine,d),o.gcScheduler&&(d&&!o.gcScheduler.started?o.gcScheduler.start():d||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(d&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():d||o.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}dc(n){const t=Jk();if(!yD.V(t))throw new Pe(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=lD(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new yD(t,n.asyncQueue,o,n.clientId,n.initialUser)}}class gS{initialize(n,t){var o=this;return(0,Ae.Z)(function*(){o.localStore||(o.localStore=n.localStore,o.sharedClientState=n.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!n.synchronizeTabs),o.sharedClientState.onlineStateHandler=i=>uZ(o.syncEngine,i,1),o.remoteStore.remoteSyncer.handleCredentialChange=CU.bind(null,o.syncEngine),yield UD(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(n){return new oU}createDatastore(n){const t=$v(n.databaseInfo.databaseId),o=new BP(n.databaseInfo);return new HP(n.authCredentials,n.appCheckCredentials,o,t)}createRemoteStore(n){return t=this.localStore,o=this.datastore,i=n.asyncQueue,u=g=>uZ(this.syncEngine,g,0),d=Gk.V()?new Gk:new FP,new JP(t,o,i,u,d);var t,o,i,u,d}createSyncEngine(n,t){return function(o,i,u,d,g,v,w){const S=new dU(o,i,u,d,g,v);return w&&(S.ac=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,t)}terminate(){return(n=(0,Ae.Z)(function*(t){const o=nt(t);Le("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield um(o),o.du.shutdown(),o._u.set("Unknown")}),function(t){return n.apply(this,arguments)})(this.remoteStore);var n}}function fZ(r,n=10240){let t=0;return{read:()=>(0,Ae.Z)(function*(){if(t<r.byteLength){const o={value:r.slice(t,t+n),done:!1};return t+=n,o}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Cw{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Ic(this.observer.next,n)}error(n){this.observer.error?this.Ic(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Tc(){this.muted=!0}Ic(n,t){this.muted||setTimeout(()=>{this.muted||n(t)},0)}}class ZU{constructor(n,t){this.Ec=n,this.wt=t,this.metadata=new Lr,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ec.cancel()}getMetadata(){var n=this;return(0,Ae.Z)(function*(){return n.metadata.promise})()}fc(){var n=this;return(0,Ae.Z)(function*(){return yield n.getMetadata(),n.Rc()})()}Rc(){var n=this;return(0,Ae.Z)(function*(){const t=yield n.bc();if(null===t)return null;const o=n.Ac.decode(t),i=Number(o);isNaN(i)&&n.Pc(`length string (${o}) is not valid number`);const u=yield n.vc(i);return new aU(JSON.parse(u),t.length+i)})()}Vc(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}bc(){var n=this;return(0,Ae.Z)(function*(){for(;n.Vc()<0&&!(yield n.Sc()););if(0===n.buffer.length)return null;const t=n.Vc();t<0&&n.Pc("Reached the end of bundle when a length string is expected.");const o=n.buffer.slice(0,t);return n.buffer=n.buffer.slice(t),o})()}vc(n){var t=this;return(0,Ae.Z)(function*(){for(;t.buffer.length<n;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const o=t.Ac.decode(t.buffer.slice(0,n));return t.buffer=t.buffer.slice(n),o})()}Pc(n){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${n}`)}Sc(){var n=this;return(0,Ae.Z)(function*(){const t=yield n.Ec.read();if(!t.done){const o=new Uint8Array(n.buffer.length+t.value.length);o.set(n.buffer),o.set(t.value,n.buffer.length),n.buffer=o}return t.done})()}}class NU{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var t=this;return(0,Ae.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Pe(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(i=(0,Ae.Z)(function*(u,d){const g=nt(u),v=Pv(g.wt)+"/documents",w={documents:d.map(W=>Mv(g.wt,W))},S=yield g.ao("BatchGetDocuments",v,w,d.length),Z=new Map;S.forEach(W=>{const ne=function UM(r,n){return"found"in n?function(t,o){Dt(!!o.found);const i=Vu(t,o.found.name),u=bo(o.found.updateTime),d=new Lo({mapValue:{fields:o.found.fields}});return Qn.newFoundDocument(i,u,d)}(r,n):"missing"in n?function(t,o){Dt(!!o.missing),Dt(!!o.readTime);const i=Vu(t,o.missing),u=bo(o.readTime);return Qn.newNoDocument(i,u)}(r,n):ct()}(g.wt,W);Z.set(ne.key.toString(),ne)});const R=[];return d.forEach(W=>{const ne=Z.get(W.toString());Dt(!!ne),R.push(ne)}),R}),function(u,d){return i.apply(this,arguments)})(t.datastore,n);var i;return o.forEach(i=>t.recordVersion(i)),o})()}set(n,t){this.write(t.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,t){try{this.write(t.toMutation(n,this.preconditionForUpdate(n)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(n.toString())}delete(n){this.write(new tm(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,Ae.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const t=n.readVersions;var o;n.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,i)=>{const u=et.fromPath(i);n.mutations.push(new zE(u,n.precondition(u)))}),yield(o=(0,Ae.Z)(function*(i,u){const d=nt(i),g=Pv(d.wt)+"/documents",v={writes:u.map(w=>Uv(d.wt,w))};yield d.ro("Commit",g,v)}),function(i,u){return o.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let t;if(n.isFoundDocument())t=n.version;else{if(!n.isNoDocument())throw ct();t=xt.min()}const o=this.readVersions.get(n.key.toString());if(o){if(!t.isEqual(o))throw new Pe(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),t)}precondition(n){const t=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&t?vr.updateTime(t):vr.none()}preconditionForUpdate(n){const t=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&t){if(t.isEqual(xt.min()))throw new Pe(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vr.updateTime(t)}return vr.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class MU{constructor(n,t,o,i,u){this.asyncQueue=n,this.datastore=t,this.options=o,this.updateFunction=i,this.deferred=u,this.Dc=o.maxAttempts,this.So=new vD(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var n=this;this.So.Io((0,Ae.Z)(function*(){const t=new NU(n.datastore),o=n.xc(t);o&&o.then(i=>{n.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{n.deferred.resolve(i)}).catch(u=>{n.Nc(u)}))}).catch(i=>{n.Nc(i)})}))}xc(n){try{const t=this.updateFunction(n);return!vv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(n){this.Dc>0&&this.kc(n)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(n)}kc(n){if("FirebaseError"===n.name){const t=n.code;return"aborted"===t||"failed-precondition"===t||!Rx(t)}return!1}}class PU{constructor(n,t,o,i){var u=this;this.authCredentials=n,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=i,this.user=eo.UNAUTHENTICATED,this.clientId=jg.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var d=(0,Ae.Z)(function*(g){Le("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(o,d=>(Le("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var n=this;return(0,Ae.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,authCredentials:n.authCredentials,appCheckCredentials:n.appCheckCredentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),t.resolve()}catch(o){const i=dm(o,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function gZ(r,n){return mS.apply(this,arguments)}function mS(){return mS=(0,Ae.Z)(function*(r,n){r.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield n.initialize(t);let o=t.initialUser;r.setCredentialChangeListener(function(){var i=(0,Ae.Z)(function*(u){o.isEqual(u)||(yield Rk(n.localStore,u),o=u)});return function(u){return i.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=n}),mS.apply(this,arguments)}function mZ(r,n){return _S.apply(this,arguments)}function _S(){return _S=(0,Ae.Z)(function*(r,n){r.asyncQueue.verifyOperationInProgress();const t=yield yS(r);Le("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield n.initialize(t,o),r.setCredentialChangeListener(i=>eZ(n.remoteStore,i)),r.setAppCheckTokenChangeListener((i,u)=>eZ(n.remoteStore,u)),r.onlineComponents=n}),_S.apply(this,arguments)}function yS(r){return vS.apply(this,arguments)}function vS(){return vS=(0,Ae.Z)(function*(r){return r.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield gZ(r,new hZ)),r.offlineComponents}),vS.apply(this,arguments)}function Tw(r){return CS.apply(this,arguments)}function CS(){return CS=(0,Ae.Z)(function*(r){return r.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield mZ(r,new gS)),r.onlineComponents}),CS.apply(this,arguments)}function _Z(r){return yS(r).then(n=>n.persistence)}function TS(r){return yS(r).then(n=>n.localStore)}function yZ(r){return Tw(r).then(n=>n.remoteStore)}function wS(r){return Tw(r).then(n=>n.syncEngine)}function gm(r){return bS.apply(this,arguments)}function bS(){return bS=(0,Ae.Z)(function*(r){const n=yield Tw(r),t=n.eventManager;return t.onListen=hU.bind(null,n.syncEngine),t.onUnlisten=pU.bind(null,n.syncEngine),t}),bS.apply(this,arguments)}function vZ(r,n,t={}){const o=new Lr;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(i,u,d,g,v){const w=new Cw({next:Z=>{u.enqueueAndForget(()=>qD(i,S));const R=Z.docs.has(d);!R&&Z.fromCache?v.reject(new Pe(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&Z.fromCache&&g&&"server"===g.source?v.reject(new Pe(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(Z)},error:Z=>v.reject(Z)}),S=new jD(Qg(d.path),w,{includeMetadataChanges:!0,Du:!0});return LD(i,S)}(yield gm(r),r.asyncQueue,n,t,o)})),o.promise}function CZ(r,n,t={}){const o=new Lr;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(i,u,d,g,v){const w=new Cw({next:Z=>{u.enqueueAndForget(()=>qD(i,S)),Z.fromCache&&"server"===g.source?v.reject(new Pe(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(Z)},error:Z=>v.reject(Z)}),S=new jD(d,w,{includeMetadataChanges:!0,Du:!0});return LD(i,S)}(yield gm(r),r.asyncQueue,n,t,o)})),o.promise}const TZ=new Map;function AS(r,n,t){if(!t)throw new Pe(fe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${n}.`)}function wZ(r,n,t,o){if(!0===n&&!0===o)throw new Pe(fe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function bZ(r){if(!et.isDocumentKey(r))throw new Pe(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function AZ(r){if(et.isDocumentKey(r))throw new Pe(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ww(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const n=(t=r).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof r?"a function":ct()}function fn(r,n){if("_delegate"in r&&(r=r._delegate),!(r instanceof n)){if(n.name===r.constructor.name)throw new Pe(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ww(r);throw new Pe(fe.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${t}`)}}return r}function IZ(r,n){if(n<=0)throw new Pe(fe.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${n}.`)}class EZ{constructor(n){var t;if(void 0===n.host){if(void 0!==n.ssl)throw new Pe(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(t=n.ssl)||void 0===t||t;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Pe(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,wZ("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Jv{constructor(n,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EZ({}),this._settingsFrozen=!1,n instanceof ic?this._databaseId=n:(this._app=n,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Pe(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ic(i.options.projectId)}(n))}get app(){if(!this._app)throw new Pe(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Pe(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EZ(n),void 0!==n.credentials&&(this._authCredentials=function(t){if(!t)return new PE;switch(t.type){case"gapi":const o=t.client;return Dt(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new $T(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Pe(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const t=TZ.get(n);t&&(Le("ComponentProvider","Removing Datastore"),TZ.delete(n),t.terminate())}(this),Promise.resolve()}}class rr{constructor(n,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ju(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new rr(this.firestore,n,this._key)}}class ii{constructor(n,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=n}withConverter(n){return new ii(this.firestore,n,this._query)}}class ju extends ii{constructor(n,t,o){super(n,t,Qg(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new rr(this.firestore,null,new et(n))}withConverter(n){return new ju(this.firestore,n,this._path)}}function DZ(r,n,...t){if(r=(0,Qt.m9)(r),AS("collection","path",n),r instanceof Jv){const o=pn.fromString(n,...t);return AZ(o),new ju(r,null,o)}{if(!(r instanceof rr||r instanceof ju))throw new Pe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(pn.fromString(n,...t));return AZ(o),new ju(r.firestore,null,o)}}function bw(r,n,...t){if(r=(0,Qt.m9)(r),1===arguments.length&&(n=jg.I()),AS("doc","path",n),r instanceof Jv){const o=pn.fromString(n,...t);return bZ(o),new rr(r,null,new et(o))}{if(!(r instanceof rr||r instanceof ju))throw new Pe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(pn.fromString(n,...t));return bZ(o),new rr(r.firestore,r instanceof ju?r.converter:null,new et(o))}}function SZ(r,n){return r=(0,Qt.m9)(r),n=(0,Qt.m9)(n),(r instanceof rr||r instanceof ju)&&(n instanceof rr||n instanceof ju)&&r.firestore===n.firestore&&r.path===n.path&&r.converter===n.converter}function xZ(r,n){return r=(0,Qt.m9)(r),n=(0,Qt.m9)(n),r instanceof ii&&n instanceof ii&&r.firestore===n.firestore&&Iv(r._query,n._query)&&r.converter===n.converter}class HU{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new vD(this,"async_queue_retry"),this.Kc=()=>{const t=_w();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const n=_w();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Gc(),this.Qc(n)}enterRestrictedMode(n){if(!this.Fc){this.Fc=!0,this.Uc=n||!1;const t=_w();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(n){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Lr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(n().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Mc.push(n),this.jc()))}jc(){var n=this;return(0,Ae.Z)(function*(){if(0!==n.Mc.length){try{yield n.Mc[0](),n.Mc.shift(),n.So.reset()}catch(t){if(!_(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}n.Mc.length>0&&n.So.Io(()=>n.jc())}})()}Qc(n){const t=this.Oc.then(()=>(this.Lc=!0,n().catch(o=>{throw this.Bc=o,this.Lc=!1,dr("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(o)),o}).then(o=>(this.Lc=!1,o))));return this.Oc=t,t}enqueueAfterDelay(n,t,o){this.Gc(),this.qc.indexOf(n)>-1&&(t=0);const i=RD.createAndSchedule(this,n,t,o,u=>this.Wc(u));return this.$c.push(i),i}Gc(){this.Bc&&ct()}verifyOperationInProgress(){}zc(){var n=this;return(0,Ae.Z)(function*(){let t;do{t=n.Oc,yield t}while(t!==n.Oc)})()}Hc(n){for(const t of this.$c)if(t.timerId===n)return!0;return!1}Jc(n){return this.zc().then(()=>{this.$c.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==n&&t.timerId===n)break;return this.zc()})}Yc(n){this.qc.push(n)}Wc(n){const t=this.$c.indexOf(n);this.$c.splice(t,1)}}function IS(r){return function(n,t){if("object"!=typeof n||null===n)return!1;const o=n;for(const i of["next","error","complete"])if(i in o&&"function"==typeof o[i])return!0;return!1}(r)}class GU{constructor(){this._progressObserver={},this._taskCompletionResolver=new Lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,t,o){this._progressObserver={next:n,error:t,complete:o}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,t){return this._taskCompletionResolver.promise.then(n,t)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class hr extends Jv{constructor(n,t,o){super(n,t,o),this.type="firestore",this._queue=new HU,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||kZ(this),this._firestoreClient.terminate()}}function no(r){return r._firestoreClient||kZ(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function kZ(r){var n;const t=r._freezeSettings(),o=(u=(null===(n=r._app)||void 0===n?void 0:n.options.appId)||"",new oM(r._databaseId,u,r._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var u,g;r._firestoreClient=new PU(r._authCredentials,r._appCheckCredentials,r._queue,o)}function ZZ(r,n,t){const o=new Lr;return r.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield gZ(r,t),yield mZ(r,n),o.resolve()}catch(i){const u=i;if(!("FirebaseError"===(d=u).name?d.code===fe.FAILED_PRECONDITION||d.code===fe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var d})).then(()=>o.promise)}function NZ(r){if(r._initialized||r._terminated)throw new Pe(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class lc{constructor(...n){for(let t=0;t<n.length;++t)if(0===n[t].length)throw new Pe(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class $u{constructor(n){this._byteString=n}static fromBase64String(n){try{return new $u(yr.fromBase64String(n))}catch(t){throw new Pe(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(n){return new $u(yr.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Fp{constructor(n){this._methodName=n}}class Aw{constructor(n,t){if(!isFinite(n)||n<-90||n>90)throw new Pe(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(t)||t<-180||t>180)throw new Pe(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=n,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Vt(this._lat,n._lat)||Vt(this._long,n._long)}}const nO=/^__.*__$/;class rO{constructor(n,t,o){this.data=n,this.fieldMask=t,this.fieldTransforms=o}toMutation(n,t){return null!==this.fieldMask?new ac(n,this.data,this.fieldMask,t,this.fieldTransforms):new em(n,this.data,t,this.fieldTransforms)}}class MZ{constructor(n,t,o){this.data=n,this.fieldMask=t,this.fieldTransforms=o}toMutation(n,t){return new ac(n,this.data,this.fieldMask,t,this.fieldTransforms)}}function PZ(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class Iw{constructor(n,t,o,i,u,d){this.settings=n,this.databaseId=t,this.wt=o,this.ignoreUndefinedProperties=i,void 0===u&&this.Xc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(n){return new Iw(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(n){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(n),i=this.ta({path:o,na:!1});return i.sa(n),i}ia(n){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(n),i=this.ta({path:o,na:!1});return i.Xc(),i}ra(n){return this.ta({path:void 0,na:!0})}oa(n){return Sw(n,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(n){return void 0!==this.fieldMask.find(t=>n.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>n.isPrefixOf(t.field))}Xc(){if(this.path)for(let n=0;n<this.path.length;n++)this.sa(this.path.get(n))}sa(n){if(0===n.length)throw this.oa("Document fields must not be empty");if(PZ(this.Zc)&&nO.test(n))throw this.oa('Document fields cannot begin and end with "__"')}}class oO{constructor(n,t,o){this.databaseId=n,this.ignoreUndefinedProperties=t,this.wt=o||$v(n)}aa(n,t,o,i=!1){return new Iw({Zc:n,methodName:t,ca:o,path:_r.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function qp(r){const n=r._freezeSettings(),t=$v(r._databaseId);return new oO(r._databaseId,!!n.ignoreUndefinedProperties,t)}function Ew(r,n,t,o,i,u={}){const d=r.aa(u.merge||u.mergeFields?2:0,n,t,i);xS("Data must be an object, but it was:",d,o);const g=RZ(o,d);let v,w;if(u.merge)v=new Fr(d.fieldMask),w=d.fieldTransforms;else if(u.mergeFields){const S=[];for(const Z of u.mergeFields){const R=kS(n,Z,t);if(!d.contains(R))throw new Pe(fe.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);FZ(S,R)||S.push(R)}v=new Fr(S),w=d.fieldTransforms.filter(Z=>v.covers(Z.field))}else v=null,w=d.fieldTransforms;return new rO(new Lo(g),v,w)}class Wv extends Fp{_toFieldTransform(n){if(2!==n.Zc)throw n.oa(1===n.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Wv}}function UZ(r,n,t){return new Iw({Zc:3,ca:n.settings.ca,methodName:r._methodName,na:t},n.databaseId,n.wt,n.ignoreUndefinedProperties)}class ES extends Fp{_toFieldTransform(n){return new Ev(n.path,new Yg)}isEqual(n){return n instanceof ES}}class iO extends Fp{constructor(n,t){super(n),this.ha=t}_toFieldTransform(n){const t=UZ(this,n,!0),o=this.ha.map(u=>Vp(u,t)),i=new xp(o);return new Ev(n.path,i)}isEqual(n){return this===n}}class sO extends Fp{constructor(n,t){super(n),this.ha=t}_toFieldTransform(n){const t=UZ(this,n,!0),o=this.ha.map(u=>Vp(u,t)),i=new kp(o);return new Ev(n.path,i)}isEqual(n){return this===n}}class aO extends Fp{constructor(n,t){super(n),this.la=t}_toFieldTransform(n){const t=new Xg(n.wt,Ex(n.wt,this.la));return new Ev(n.path,t)}isEqual(n){return this===n}}function DS(r,n,t,o){const i=r.aa(1,n,t);xS("Data must be an object, but it was:",i,o);const u=[],d=Lo.empty();Oe(o,(v,w)=>{const S=Dw(n,v,t);w=(0,Qt.m9)(w);const Z=i.ia(S);if(w instanceof Wv)u.push(S);else{const R=Vp(w,Z);null!=R&&(u.push(S),d.set(S,R))}});const g=new Fr(u);return new MZ(d,g,i.fieldTransforms)}function SS(r,n,t,o,i,u){const d=r.aa(1,n,t),g=[kS(n,o,t)],v=[i];if(u.length%2!=0)throw new Pe(fe.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)g.push(kS(n,u[R])),v.push(u[R+1]);const w=[],S=Lo.empty();for(let R=g.length-1;R>=0;--R)if(!FZ(w,g[R])){const W=g[R];let ne=v[R];ne=(0,Qt.m9)(ne);const Me=d.ia(W);if(ne instanceof Wv)w.push(W);else{const $e=Vp(ne,Me);null!=$e&&(w.push(W),S.set(W,$e))}}const Z=new Fr(w);return new MZ(S,Z,d.fieldTransforms)}function OZ(r,n,t,o=!1){return Vp(t,r.aa(o?4:3,n))}function Vp(r,n){if(LZ(r=(0,Qt.m9)(r)))return xS("Unsupported field value:",n,r),RZ(r,n);if(r instanceof Fp)return function(t,o){if(!PZ(o.Zc))throw o.oa(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.oa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(o);i&&o.fieldTransforms.push(i)}(r,n),null;if(void 0===r&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),r instanceof Array){if(n.settings.na&&4!==n.Zc)throw n.oa("Nested arrays are not supported");return function(t,o){const i=[];let u=0;for(const d of t){let g=Vp(d,o.ra(u));null==g&&(g={nullValue:"NULL_VALUE"}),i.push(g),u++}return{arrayValue:{values:i}}}(r,n)}return function(t,o){if(null===(t=(0,Qt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ex(o.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Wn.fromDate(t);return{timestampValue:Nv(o.wt,i)}}if(t instanceof Wn){const i=new Wn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Nv(o.wt,i)}}if(t instanceof Aw)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof $u)return{bytesValue:Jx(o.wt,t._byteString)};if(t instanceof rr){const i=o.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw o.oa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:QE(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.oa(`Unsupported field value: ${ww(t)}`)}(r,n)}function RZ(r,n){const t={};return tt(r)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Oe(r,(o,i)=>{const u=Vp(i,n.ea(o));null!=u&&(t[o]=u)}),{mapValue:{fields:t}}}function LZ(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Wn||r instanceof Aw||r instanceof $u||r instanceof rr||r instanceof Fp)}function xS(r,n,t){if(!LZ(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=ww(t);throw n.oa("an object"===o?r+" a custom object":r+" "+o)}var o}function kS(r,n,t){if((n=(0,Qt.m9)(n))instanceof lc)return n._internalPath;if("string"==typeof n)return Dw(r,n);throw Sw("Field path arguments must be of type string or ",r,!1,void 0,t)}const uO=new RegExp("[~\\*/\\[\\]]");function Dw(r,n,t){if(n.search(uO)>=0)throw Sw(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new lc(...n.split("."))._internalPath}catch(o){throw Sw(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Sw(r,n,t,o,i){const u=o&&!o.isEmpty(),d=void 0!==i;let g=`Function ${n}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(u||d)&&(v+=" (found",u&&(v+=` in field ${o}`),d&&(v+=` in document ${i}`),v+=")"),new Pe(fe.INVALID_ARGUMENT,g+r+v)}function FZ(r,n){return r.some(t=>t.isEqual(n))}class zv{constructor(n,t,o,i,u){this._firestore=n,this._userDataWriter=t,this._key=o,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new rr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new lO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const t=this._document.data.field(xw("DocumentSnapshot.get",n));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lO extends zv{data(){return super.data()}}function xw(r,n){return"string"==typeof n?Dw(r,n):n instanceof lc?n._internalPath:n._delegate._internalPath}class Bp{constructor(n,t){this.hasPendingWrites=n,this.fromCache=t}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class cc extends zv{constructor(n,t,o,i,u,d){super(n,t,o,i,d),this._firestore=n,this._firestoreImpl=n,this.metadata=u}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const t=new Qv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,t={}){if(this._document){const o=this._document.data.field(xw("DocumentSnapshot.get",n));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Qv extends cc{data(n={}){return super.data(n)}}class Ld{constructor(n,t,o,i){this._firestore=n,this._userDataWriter=t,this._snapshot=i,this.metadata=new Bp(i.hasPendingWrites,i.fromCache),this.query=o}get docs(){const n=[];return this.forEach(t=>n.push(t)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,t){this._snapshot.docs.forEach(o=>{n.call(t,new Qv(this._firestore,this._userDataWriter,o.key,o,new Bp(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const t=!!n.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,i){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>({type:"added",doc:new Qv(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Bp(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:u++}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const g=new Qv(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Bp(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return 0!==d.type&&(v=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),w=u.indexOf(d.doc.key)),{type:cO(d.type),doc:g,oldIndex:v,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}function qZ(r,n){return r instanceof cc&&n instanceof cc?r._firestore===n._firestore&&r._key.isEqual(n._key)&&(null===r._document?null===n._document:r._document.isEqual(n._document))&&r._converter===n._converter:r instanceof Ld&&n instanceof Ld&&r._firestore===n._firestore&&xZ(r.query,n.query)&&r.metadata.isEqual(n.metadata)&&r._snapshot.isEqual(n._snapshot)}function VZ(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Pe(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kv{}function Fd(r,...n){for(const t of n)r=t._apply(r);return r}class dO extends Kv{constructor(n,t,o){super(),this.fa=n,this.da=t,this._a=o,this.type="where"}_apply(n){const t=qp(n.firestore),o=function(i,u,d,g,v,w,S){let Z;if(v.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Pe(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){JZ(S,w);const W=[];for(const ne of S)W.push(GZ(g,i,ne));Z={arrayValue:{values:W}}}else Z=GZ(g,i,S)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||JZ(S,w),Z=OZ(d,"where",S,"in"===w||"not-in"===w);const R=Fo.create(v,w,Z);return function(W,ne){if(ne.ht()){const $e=HE(W);if(null!==$e&&!$e.isEqual(ne.field))throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${$e.toString()}' and '${ne.field.toString()}'`);const pt=$E(W);null!==pt&&WZ(0,ne.field,pt)}const Me=function($e,pt){for(const Pt of $e.filters)if(pt.indexOf(Pt.op)>=0)return Pt.op;return null}(W,function($e){switch($e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ne.op));if(null!==Me)throw new Pe(fe.INVALID_ARGUMENT,Me===ne.op?`Invalid query. You cannot use more than one '${ne.op.toString()}' filter.`:`Invalid query. You cannot use '${ne.op.toString()}' filters with '${Me.toString()}' filters.`)}(i,R),R}(n._query,0,t,n.firestore._databaseId,this.fa,this.da,this._a);return new ii(n.firestore,n.converter,function(i,u){const d=i.filters.concat([u]);return new sc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(n._query,o))}}class pO extends Kv{constructor(n,t){super(),this.fa=n,this.wa=t,this.type="orderBy"}_apply(n){const t=function(o,i,u){if(null!==o.startAt)throw new Pe(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Pe(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new zg(i,u);return function(g,v){if(null===$E(g)){const w=HE(g);null!==w&&WZ(0,w,v.field)}}(o,d),d}(n._query,this.fa,this.wa);return new ii(n.firestore,n.converter,function(o,i){const u=o.explicitOrderBy.concat([i]);return new sc(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,t))}}class BZ extends Kv{constructor(n,t,o){super(),this.type=n,this.ma=t,this.ga=o}_apply(n){return new ii(n.firestore,n.converter,Cx(n._query,this.ma,this.ga))}}class jZ extends Kv{constructor(n,t,o){super(),this.type=n,this.ya=t,this.pa=o}_apply(n){const t=HZ(n,this.type,this.ya,this.pa);return new ii(n.firestore,n.converter,(i=t,new sc((o=n._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,i,o.endAt)));var o,i}}class $Z extends Kv{constructor(n,t,o){super(),this.type=n,this.ya=t,this.pa=o}_apply(n){const t=HZ(n,this.type,this.ya,this.pa);return new ii(n.firestore,n.converter,(i=t,new sc((o=n._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,i)));var o,i}}function HZ(r,n,t,o){if(t[0]=(0,Qt.m9)(t[0]),t[0]instanceof zv)return function(i,u,d,g,v){if(!g)throw new Pe(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const S of Kg(i))if(S.field.isKeyField())w.push(Dp(u,g.key));else{const Z=g.data.field(S.field);if(Ip(Z))throw new Pe(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Z){const R=S.field.canonicalString();throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}w.push(Z)}return new Zd(w,v)}(r._query,r.firestore._databaseId,n,t[0]._document,o);{const i=qp(r.firestore);return function(u,d,g,v,w,S){const Z=u.explicitOrderBy;if(w.length>Z.length)throw new Pe(fe.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let W=0;W<w.length;W++){const ne=w[W];if(Z[W].field.isKeyField()){if("string"!=typeof ne)throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof ne}`);if(!GE(u)&&-1!==ne.indexOf("/"))throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${ne}' contains a slash.`);const Me=u.path.child(pn.fromString(ne));if(!et.isDocumentKey(Me))throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Me}' is not because it contains an odd number of segments.`);const $e=new et(Me);R.push(Dp(d,$e))}else{const Me=OZ(g,v,ne);R.push(Me)}}return new Zd(R,S)}(r._query,r.firestore._databaseId,i,n,t,o)}}function GZ(r,n,t){if("string"==typeof(t=(0,Qt.m9)(t))){if(""===t)throw new Pe(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GE(n)&&-1!==t.indexOf("/"))throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=n.path.child(pn.fromString(t));if(!et.isDocumentKey(o))throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Dp(r,new et(o))}if(t instanceof rr)return Dp(r,t._key);throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ww(t)}.`)}function JZ(r,n){if(!Array.isArray(r)||0===r.length)throw new Pe(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(r.length>10)throw new Pe(fe.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function WZ(r,n,t){if(!t.isEqual(n))throw new Pe(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const TO={maxAttempts:5};class ZS{convertValue(n,t="none"){switch(Ep(n)){case 0:return null;case 1:return n.booleanValue;case 2:return zn(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,t);case 5:return n.stringValue;case 6:return this.convertBytes(eu(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,t);case 10:return this.convertObject(n.mapValue,t);default:throw ct()}}convertObject(n,t){const o={};return Oe(n.fields,(i,u)=>{o[i]=this.convertValue(u,t)}),o}convertGeoPoint(n){return new Aw(zn(n.latitude),zn(n.longitude))}convertArray(n,t){return(n.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(n,t){switch(t){case"previous":const o=Jg(n);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(oc(n));default:return null}}convertTimestamp(n){const t=aa(n);return new Wn(t.seconds,t.nanos)}convertDocumentKey(n,t){const o=pn.fromString(n);Dt(rk(o));const i=new ic(o.get(1),o.get(3)),u=new et(o.popFirst(5));return i.isEqual(t)||dr(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function kw(r,n,t){let o;return o=r?t&&(t.merge||t.mergeFields)?r.toFirestore(n,t):r.toFirestore(n):n,o}class wO extends ZS{constructor(n){super(),this.firestore=n}convertBytes(n){return new $u(n)}convertReference(n){const t=this.convertDocumentKey(n,this.firestore._databaseId);return new rr(this.firestore,null,t)}}class zZ{constructor(n,t){this._firestore=n,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qp(n)}set(n,t,o){this._verifyNotCommitted();const i=qd(n,this._firestore),u=kw(i.converter,t,o),d=Ew(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,o);return this._mutations.push(d.toMutation(i._key,vr.none())),this}update(n,t,o,...i){this._verifyNotCommitted();const u=qd(n,this._firestore);let d;return d="string"==typeof(t=(0,Qt.m9)(t))||t instanceof lc?SS(this._dataReader,"WriteBatch.update",u._key,t,o,i):DS(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,vr.exists(!0))),this}delete(n){this._verifyNotCommitted();const t=qd(n,this._firestore);return this._mutations=this._mutations.concat(new tm(t._key,vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qd(r,n){if((r=(0,Qt.m9)(r)).firestore!==n)throw new Pe(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class jp extends ZS{constructor(n){super(),this.firestore=n}convertBytes(n){return new $u(n)}convertReference(n){const t=this.convertDocumentKey(n,this.firestore._databaseId);return new rr(this.firestore,null,t)}}function QZ(r,n,t){r=fn(r,rr);const o=fn(r.firestore,hr),i=kw(r.converter,n,t);return mm(o,[Ew(qp(o),"setDoc",r._key,i,null!==r.converter,t).toMutation(r._key,vr.none())])}function KZ(r,n,t,...o){r=fn(r,rr);const i=fn(r.firestore,hr),u=qp(i);let d;return d="string"==typeof(n=(0,Qt.m9)(n))||n instanceof lc?SS(u,"updateDoc",r._key,n,t,o):DS(u,"updateDoc",r._key,n),mm(i,[d.toMutation(r._key,vr.exists(!0))])}function YZ(r,...n){var t,o,i;r=(0,Qt.m9)(r);let u={includeMetadataChanges:!1},d=0;"object"!=typeof n[d]||IS(n[d])||(u=n[d],d++);const g={includeMetadataChanges:u.includeMetadataChanges};if(IS(n[d])){const Z=n[d];n[d]=null===(t=Z.next)||void 0===t?void 0:t.bind(Z),n[d+1]=null===(o=Z.error)||void 0===o?void 0:o.bind(Z),n[d+2]=null===(i=Z.complete)||void 0===i?void 0:i.bind(Z)}let v,w,S;if(r instanceof rr)w=fn(r.firestore,hr),S=Qg(r._key.path),v={next:Z=>{n[d]&&n[d](NS(w,r,Z))},error:n[d+1],complete:n[d+2]};else{const Z=fn(r,ii);w=fn(Z.firestore,hr),S=Z._query;const R=new jp(w);v={next:W=>{n[d]&&n[d](new Ld(w,R,Z,W))},error:n[d+1],complete:n[d+2]},VZ(r._query)}return function(Z,R,W,ne){const Me=new Cw(ne),$e=new jD(R,Me,W);return Z.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return LD(yield gm(Z),$e)})),()=>{Me.Tc(),Z.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return qD(yield gm(Z),$e)}))}}(no(w),S,g,v)}function mm(r,n){return function(t,o){const i=new Lr;return t.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function fU(r,n,t){return WD.apply(this,arguments)}(yield wS(t),o,i)})),i.promise}(no(r),n)}function NS(r,n,t){const o=t.docs.get(n._key),i=new jp(r);return new cc(r,i,n._key,o,new Bp(t.hasPendingWrites,t.fromCache),n.converter)}class NO extends class{constructor(n,t){this._firestore=n,this._transaction=t,this._dataReader=qp(n)}get(n){const t=qd(n,this._firestore),o=new wO(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ct();const u=i[0];if(u.isFoundDocument())return new zv(this._firestore,o,u.key,u,t.converter);if(u.isNoDocument())return new zv(this._firestore,o,t._key,null,t.converter);throw ct()})}set(n,t,o){const i=qd(n,this._firestore),u=kw(i.converter,t,o),d=Ew(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,o);return this._transaction.set(i._key,d),this}update(n,t,o,...i){const u=qd(n,this._firestore);let d;return d="string"==typeof(t=(0,Qt.m9)(t))||t instanceof lc?SS(this._dataReader,"Transaction.update",u._key,t,o,i):DS(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(n){const t=qd(n,this._firestore);return this._transaction.delete(t._key),this}}{constructor(n,t){super(n,t),this._firestore=n}get(n){const t=qd(n,this._firestore),o=new jp(this._firestore);return super.get(n).then(i=>new cc(this._firestore,o,t._key,i._document,new Bp(!1,!1),t.converter))}}function MS(r,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Pe("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return n}function eN(){if("undefined"==typeof Uint8Array)throw new Pe("unimplemented","Uint8Arrays are not available in this environment.")}function tN(){if(!function _v(){return"undefined"!=typeof atob}())throw new Pe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,n=!0){Dd=Hl.SDK_VERSION,(0,Hl._registerComponent)(new pg.wA("firestore",(t,{options:o})=>{const i=t.getProvider("app").getImmediate(),u=new hr(i,new OE(t.getProvider("auth-internal")),new RE(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC")),(0,Hl.registerVersion)(wp,"3.4.13",r),(0,Hl.registerVersion)(wp,"3.4.13","esm2017")}();class Yv{constructor(n){this._delegate=n}static fromBase64String(n){return tN(),new Yv($u.fromBase64String(n))}static fromUint8Array(n){return eN(),new Yv($u.fromUint8Array(n))}toBase64(){return tN(),this._delegate.toBase64()}toUint8Array(){return eN(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function PS(r){return function VO(r,n){if("object"!=typeof r||null===r)return!1;const t=r;for(const o of n)if(o in t&&"function"==typeof t[o])return!0;return!1}(r,["next","error","complete"])}class BO{enableIndexedDbPersistence(n,t){return function WU(r,n){NZ(r=fn(r,hr));const t=no(r),o=r._freezeSettings(),i=new gS;return ZZ(t,i,new pZ(i,o.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(n){return function zU(r){NZ(r=fn(r,hr));const n=no(r),t=r._freezeSettings(),o=new gS;return ZZ(n,o,new kU(o,t.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function QU(r){if(r._initialized&&!r._terminated)throw new Pe(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new Lr;return r._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(t=(0,Ae.Z)(function*(o){if(!c.V())return Promise.resolve();const i=o+"main";yield c.delete(i)}),function(o){return t.apply(this,arguments)})(lD(r._databaseId,r._persistenceKey)),n.resolve()}catch(t){n.reject(t)}var t})),n.promise}(n._delegate)}}class nN{constructor(n,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},n instanceof ic||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const t=this._delegate._getSettings();!n.merge&&t.host!==n.host&&bp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},t),n)).merge,this._delegate._setSettings(n)}useEmulator(n,t,o={}){!function jU(r,n,t,o={}){var i;const u=(r=fn(r,Jv))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==n&&bp("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},u),{host:`${n}:${t}`,ssl:!1})),o.mockUserToken){let d,g;if("string"==typeof o.mockUserToken)d=o.mockUserToken,g=eo.MOCK_USER;else{d=(0,Qt.Sg)(o.mockUserToken,null===(i=r._app)||void 0===i?void 0:i.options.projectId);const v=o.mockUserToken.sub||o.mockUserToken.user_id;if(!v)throw new Pe(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new eo(v)}r._authCredentials=new UE(new BT(d,g))}}(this._delegate,n,t,o)}enableNetwork(){return function YU(r){return function UU(r){return r.asyncQueue.enqueue((0,Ae.Z)(function*(){const n=yield _Z(r),t=yield yZ(r);return n.setNetworkEnabled(!0),function(o){const i=nt(o);return i.lu.delete(0),Hv(i)}(t)}))}(no(r=fn(r,hr)))}(this._delegate)}disableNetwork(){return function XU(r){return function OU(r){return r.asyncQueue.enqueue((0,Ae.Z)(function*(){const n=yield _Z(r),t=yield yZ(r);return n.setNetworkEnabled(!1),(o=(0,Ae.Z)(function*(i){const u=nt(i);u.lu.add(0),yield um(u),u._u.set("Offline")}),function(i){return o.apply(this,arguments)})(t);var o}))}(no(r=fn(r,hr)))}(this._delegate)}enablePersistence(n){let t=!1,o=!1;return n&&(t=!!n.synchronizeTabs,o=!!n.experimentalForceOwningTab,wZ("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function KU(r){return function(n){const t=new Lr;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function yU(r,n){return XD.apply(this,arguments)}(yield wS(n),t)})),t.promise}(no(r=fn(r,hr)))}(this._delegate)}onSnapshotsInSync(n){return function ZO(r,n){return function FU(r,n){const t=new Cw(n);return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return o=yield gm(r),i=t,nt(o).Tu.add(i),void i.next();var o,i})),()=>{t.Tc(),r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return o=yield gm(r),i=t,void nt(o).Tu.delete(i);var o,i}))}}(no(r=fn(r,hr)),IS(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Pe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new _m(this,DZ(this._delegate,n))}catch(t){throw bi(t,"collection()","Firestore.collection()")}}doc(n){try{return new la(this,bw(this._delegate,n))}catch(t){throw bi(t,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Ai(this,function $U(r,n){if(r=fn(r,Jv),AS("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Pe(fe.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ii(r,null,(t=n,new sc(pn.emptyPath(),t)));var t}(this._delegate,n))}catch(t){throw bi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function MO(r,n,t){r=fn(r,hr);const o=Object.assign(Object.assign({},TO),t);return function(i){if(i.maxAttempts<1)throw new Pe(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function qU(r,n,t){const o=new Lr;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const i=yield(u=r,Tw(u).then(d=>d.datastore));var u;new MU(r.asyncQueue,i,t,n,o).run()})),o.promise}(no(r),i=>n(new NO(r,i)),o)}(this._delegate,t=>n(new rN(this,t)))}batch(){return no(this._delegate),new oN(new zZ(this._delegate,n=>mm(this._delegate,n)))}loadBundle(n){return function eO(r,n){const t=no(r=fn(r,hr)),o=new GU;return function VU(r,n,t,o){const i=function(u,d){let g;return g="string"==typeof u?(new TextEncoder).encode(u):u,v=function(v,w){if(v instanceof Uint8Array)return fZ(v,w);if(v instanceof ArrayBuffer)return fZ(new Uint8Array(v),w);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new ZU(v,d);var v}(t,$v(n));r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function xU(r,n,t){const o=nt(r);var i;(i=(0,Ae.Z)(function*(u,d,g){try{const v=yield d.getMetadata();if(yield function(R,W){const ne=nt(R),Me=bo(W.createTime);return ne.persistence.runTransaction("hasNewerBundle","readonly",$e=>ne.Ds.getBundleMetadata($e,W.id)).then($e=>!!$e&&$e.createTime.compareTo(Me)>=0)}(u.localStore,v))return yield d.close(),g._completeWith({taskState:"Success",documentsLoaded:(R=v).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);g._updateProgress(rZ(v));const w=new uU(v,u.localStore,d.wt);let S=yield d.fc();for(;S;){const R=yield w.Nu(S);R&&g._updateProgress(R),S=yield d.fc()}const Z=yield w.complete();return yield uc(u,Z.Mu,void 0),yield function(R,W){const ne=nt(R);return ne.persistence.runTransaction("Save bundle","readwrite",Me=>ne.Ds.saveBundleMetadata(Me,W))}(u.localStore,v),g._completeWith(Z.progress),Promise.resolve(Z.Ou)}catch(v){return bp("SyncEngine",`Loading bundle failed with ${v}`),g._failWith(v),Promise.resolve(new Set)}var R}),function(u,d,g){return i.apply(this,arguments)})(o,n,t).then(i=>{o.sharedClientState.notifyBundleLoaded(i)})}(yield wS(r),i,o)}))}(t,r._databaseId,n,o),o}(this._delegate,n)}namedQuery(n){return function tO(r,n){return function BU(r,n){return r.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(t,o){const i=nt(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ds.getNamedQuery(u,o))}(yield TS(r),n)}))}(no(r=fn(r,hr)),n).then(t=>t?new ii(r,null,t.query):null)}(this._delegate,n).then(t=>t?new Ai(this,t):null)}}class Zw extends ZS{constructor(n){super(),this.firestore=n}convertBytes(n){return new Yv(new $u(n))}convertReference(n){const t=this.convertDocumentKey(n,this.firestore._databaseId);return la.forKey(t,this.firestore,null)}}class rN{constructor(n,t){this._firestore=n,this._delegate=t,this._userDataWriter=new Zw(n)}get(n){const t=Hp(n);return this._delegate.get(t).then(o=>new Xv(this._firestore,new cc(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(n,t,o){const i=Hp(n);return o?(MS("Transaction.set",o),this._delegate.set(i,t,o)):this._delegate.set(i,t),this}update(n,t,o,...i){const u=Hp(n);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...i),this}delete(n){const t=Hp(n);return this._delegate.delete(t),this}}class oN{constructor(n){this._delegate=n}set(n,t,o){const i=Hp(n);return o?(MS("WriteBatch.set",o),this._delegate.set(i,t,o)):this._delegate.set(i,t),this}update(n,t,o,...i){const u=Hp(n);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...i),this}delete(n){const t=Hp(n);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class $p{constructor(n,t,o){this._firestore=n,this._userDataWriter=t,this._delegate=o}fromFirestore(n,t){const o=new Qv(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new e0(this._firestore,o),null!=t?t:{})}toFirestore(n,t){return t?this._delegate.toFirestore(n,t):this._delegate.toFirestore(n)}static getInstance(n,t){const o=$p.INSTANCES;let i=o.get(n);i||(i=new WeakMap,o.set(n,i));let u=i.get(t);return u||(u=new $p(n,new Zw(n),t),i.set(t,u)),u}}$p.INSTANCES=new WeakMap;class la{constructor(n,t){this.firestore=n,this._delegate=t,this._userDataWriter=new Zw(n)}static forPath(n,t,o){if(n.length%2!=0)throw new Pe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new la(t,new rr(t._delegate,o,new et(n)))}static forKey(n,t,o){return new la(t,new rr(t._delegate,o,n))}get id(){return this._delegate.id}get parent(){return new _m(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new _m(this.firestore,DZ(this._delegate,n))}catch(t){throw bi(t,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,Qt.m9)(n))instanceof rr&&SZ(this._delegate,n)}set(n,t){t=MS("DocumentReference.set",t);try{return t?QZ(this._delegate,n,t):QZ(this._delegate,n)}catch(o){throw bi(o,"setDoc()","DocumentReference.set()")}}update(n,t,...o){try{return 1===arguments.length?KZ(this._delegate,n):KZ(this._delegate,n,t,...o)}catch(i){throw bi(i,"updateDoc()","DocumentReference.update()")}}delete(){return function xO(r){return mm(fn(r.firestore,hr),[new tm(r._key,vr.none())])}(this._delegate)}onSnapshot(...n){const t=iN(n),o=sN(n,i=>new Xv(this.firestore,new cc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return YZ(this._delegate,t,o)}get(n){let t;return t="cache"===(null==n?void 0:n.source)?function AO(r){r=fn(r,rr);const n=fn(r.firestore,hr),t=no(n),o=new jp(n);return function RU(r,n){const t=new Lr;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(o=(0,Ae.Z)(function*(i,u,d){try{const g=yield function(v,w){const S=nt(v);return S.persistence.runTransaction("read document","readonly",Z=>S.localDocuments.getDocument(Z,w))}(i,u);g.isFoundDocument()?d.resolve(g):g.isNoDocument()?d.resolve(null):d.reject(new Pe(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const v=dm(g,`Failed to get document '${u} from cache`);d.reject(v)}}),function(i,u,d){return o.apply(this,arguments)})(yield TS(r),n,t);var o})),t.promise}(t,r._key).then(i=>new cc(n,o,r._key,i,new Bp(null!==i&&i.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function IO(r){r=fn(r,rr);const n=fn(r.firestore,hr);return vZ(no(n),r._key,{source:"server"}).then(t=>NS(n,r,t))}(this._delegate):function bO(r){r=fn(r,rr);const n=fn(r.firestore,hr);return vZ(no(n),r._key).then(t=>NS(n,r,t))}(this._delegate),t.then(o=>new Xv(this.firestore,new cc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(n){return new la(this.firestore,this._delegate.withConverter(n?$p.getInstance(this.firestore,n):null))}}function bi(r,n,t){return r.message=r.message.replace(n,t),r}function iN(r){for(const n of r)if("object"==typeof n&&!PS(n))return n;return{}}function sN(r,n){var t,o;let i;return i=PS(r[0])?r[0]:PS(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:u=>{i.next&&i.next(n(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(o=i.complete)||void 0===o?void 0:o.bind(i)}}class Xv{constructor(n,t){this._firestore=n,this._delegate=t}get ref(){return new la(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,t){return this._delegate.get(n,t)}isEqual(n){return qZ(this._delegate,n._delegate)}}class e0 extends Xv{data(n){const t=this._delegate.data(n);return function rx(r,n){r||ct()}(void 0!==t),t}}class Ai{constructor(n,t){this.firestore=n,this._delegate=t,this._userDataWriter=new Zw(n)}where(n,t,o){try{return new Ai(this.firestore,Fd(this._delegate,function hO(r,n,t){const o=n,i=xw("where",r);return new dO(i,o,t)}(n,t,o)))}catch(i){throw bi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,t){try{return new Ai(this.firestore,Fd(this._delegate,function fO(r,n="asc"){const t=n,o=xw("orderBy",r);return new pO(o,t)}(n,t)))}catch(o){throw bi(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Ai(this.firestore,Fd(this._delegate,function gO(r){return IZ("limit",r),new BZ("limit",r,"F")}(n)))}catch(t){throw bi(t,"limit()","Query.limit()")}}limitToLast(n){try{return new Ai(this.firestore,Fd(this._delegate,function mO(r){return IZ("limitToLast",r),new BZ("limitToLast",r,"L")}(n)))}catch(t){throw bi(t,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Ai(this.firestore,Fd(this._delegate,function _O(...r){return new jZ("startAt",r,!0)}(...n)))}catch(t){throw bi(t,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Ai(this.firestore,Fd(this._delegate,function yO(...r){return new jZ("startAfter",r,!1)}(...n)))}catch(t){throw bi(t,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Ai(this.firestore,Fd(this._delegate,function vO(...r){return new $Z("endBefore",r,!1)}(...n)))}catch(t){throw bi(t,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Ai(this.firestore,Fd(this._delegate,function CO(...r){return new $Z("endAt",r,!0)}(...n)))}catch(t){throw bi(t,"endAt()","Query.endAt()")}}isEqual(n){return xZ(this._delegate,n._delegate)}get(n){let t;return t="cache"===(null==n?void 0:n.source)?function DO(r){r=fn(r,ii);const n=fn(r.firestore,hr),t=no(n),o=new jp(n);return function LU(r,n){const t=new Lr;return r.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(o=(0,Ae.Z)(function*(i,u,d){try{const g=yield fw(i,u,!0),v=new sZ(u,g.ji),w=v.Ku(g.documents),S=v.applyChanges(w,!1);d.resolve(S.snapshot)}catch(g){const v=dm(g,`Failed to execute query '${u} against cache`);d.reject(v)}}),function(i,u,d){return o.apply(this,arguments)})(yield TS(r),n,t);var o})),t.promise}(t,r._query).then(i=>new Ld(n,o,r,i))}(this._delegate):"server"===(null==n?void 0:n.source)?function SO(r){r=fn(r,ii);const n=fn(r.firestore,hr),t=no(n),o=new jp(n);return CZ(t,r._query,{source:"server"}).then(i=>new Ld(n,o,r,i))}(this._delegate):function EO(r){r=fn(r,ii);const n=fn(r.firestore,hr),t=no(n),o=new jp(n);return VZ(r._query),CZ(t,r._query).then(i=>new Ld(n,o,r,i))}(this._delegate),t.then(o=>new US(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...n){const t=iN(n),o=sN(n,i=>new US(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return YZ(this._delegate,t,o)}withConverter(n){return new Ai(this.firestore,this._delegate.withConverter(n?$p.getInstance(this.firestore,n):null))}}class $O{constructor(n,t){this._firestore=n,this._delegate=t}get type(){return this._delegate.type}get doc(){return new e0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class US{constructor(n,t){this._firestore=n,this._delegate=t}get query(){return new Ai(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new e0(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(t=>new $O(this._firestore,t))}forEach(n,t){this._delegate.forEach(o=>{n.call(t,new e0(this._firestore,o))})}isEqual(n){return qZ(this._delegate,n._delegate)}}class _m extends Ai{constructor(n,t){super(n,t),this.firestore=n,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new la(this.firestore,n):null}doc(n){try{return new la(this.firestore,void 0===n?bw(this._delegate):bw(this._delegate,n))}catch(t){throw bi(t,"doc()","CollectionReference.doc()")}}add(n){return function kO(r,n){const t=fn(r.firestore,hr),o=bw(r),i=kw(r.converter,n);return mm(t,[Ew(qp(r.firestore),"addDoc",o._key,i,null!==r.converter,{}).toMutation(o._key,vr.exists(!1))]).then(()=>o)}(this._delegate,n).then(t=>new la(this.firestore,t))}isEqual(n){return SZ(this._delegate,n._delegate)}withConverter(n){return new _m(this.firestore,this._delegate.withConverter(n?$p.getInstance(this.firestore,n):null))}}function Hp(r){return fn(r,rr)}class OS{constructor(...n){this._delegate=new lc(...n)}static documentId(){return new OS(_r.keyField().canonicalString())}isEqual(n){return(n=(0,Qt.m9)(n))instanceof lc&&this._delegate._internalPath.isEqual(n._internalPath)}}class Gp{constructor(n){this._delegate=n}static serverTimestamp(){const n=function UO(){return new ES("serverTimestamp")}();return n._methodName="FieldValue.serverTimestamp",new Gp(n)}static delete(){const n=function PO(){return new Wv("deleteField")}();return n._methodName="FieldValue.delete",new Gp(n)}static arrayUnion(...n){const t=function OO(...r){return new iO("arrayUnion",r)}(...n);return t._methodName="FieldValue.arrayUnion",new Gp(t)}static arrayRemove(...n){const t=function RO(...r){return new sO("arrayRemove",r)}(...n);return t._methodName="FieldValue.arrayRemove",new Gp(t)}static increment(n){const t=function LO(r){return new aO("increment",r)}(n);return t._methodName="FieldValue.increment",new Gp(t)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const HO={Firestore:nN,GeoPoint:Aw,Timestamp:Wn,Blob:Yv,Transaction:rN,WriteBatch:oN,DocumentReference:la,DocumentSnapshot:Xv,Query:Ai,QueryDocumentSnapshot:e0,QuerySnapshot:US,CollectionReference:_m,FieldPath:OS,FieldValue:Gp,setLogLevel:function jO(r){!function VT(r){Ya.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function JO(r){(function GO(r,n){r.INTERNAL.registerComponent(new pg.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return n(o,i)},"PUBLIC").setServiceProps(Object.assign({},HO)))})(r,(n,t)=>new nN(n,t,new BO)),r.registerVersion("@firebase/firestore-compat","0.1.22")}(WI.Z);var WO=P(6451),Nw=P(5363),zO=P(6063);class aN extends ji.x{constructor(n=1/0,t=1/0,o=zO.l){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){const{isStopped:t,_buffer:o,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:d}=this;t||(o.push(n),!i&&o.push(u.now()+d)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(n),{_infiniteTimeWindow:o,_buffer:i}=this,u=i.slice();for(let d=0;d<u.length&&!n.closed;d+=o?1:2)n.next(u[d]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){const{_bufferSize:n,_timestampProvider:t,_buffer:o,_infiniteTimeWindow:i}=this,u=(i?1:2)*n;if(n<1/0&&u<o.length&&o.splice(0,o.length-u),!i){const d=t.now();let g=0;for(let v=1;v<o.length&&o[v]<=d;v+=2)g=v;g&&o.splice(0,g+1)}}}var QO=P(3099);function uN(r,n,t){let o,i=!1;return r&&"object"==typeof r?({bufferSize:o=1/0,windowTime:n=1/0,refCount:i=!1,scheduler:t}=r):o=null!=r?r:1/0,(0,QO.B)({connector:()=>new aN(o,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function lN(r,n){return(0,Th.m)(n)?lo(()=>r,n):lo(()=>r)}var RS=P(9468);P(5867);const dN=new Map,tR={activated:!1,tokenObservers:[]},nR={initialized:!1,enabled:!1};function Eo(r){return dN.get(r)||tR}function tu(r,n){dN.set(r,n)}function Pw(){return nR}class aR{constructor(n,t,o,i,u){if(this.operation=n,this.retryPolicy=t,this.getWaitDuration=o,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var t=this;return(0,Ae.Z)(function*(){t.stop();try{t.pending=new Qt.BH,yield function uR(r){return new Promise(n=>{setTimeout(n,r)})}(t.getNextRun(n)),t.pending.resolve(),yield t.pending.promise,t.pending=new Qt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(o){t.retryPolicy(o)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ii=new Qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function pN(r){if(!Eo(r).activated)throw Ii.create("use-before-activation",{appName:r.name})}function VS(r,n){return BS.apply(this,arguments)}function BS(){return BS=(0,Ae.Z)(function*({url:r,body:n},t){var o,i;const u={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const W=yield d.getHeartbeatsHeader();W&&(u["X-Firebase-Client"]=W)}const g={method:"POST",body:JSON.stringify(n),headers:u};let v,w;try{v=yield fetch(r,g)}catch(W){throw Ii.create("fetch-network-error",{originalErrorMessage:null===(o=W)||void 0===o?void 0:o.message})}if(200!==v.status)throw Ii.create("fetch-status-error",{httpStatus:v.status});try{w=yield v.json()}catch(W){throw Ii.create("fetch-parse-error",{originalErrorMessage:null===(i=W)||void 0===i?void 0:i.message})}const S=w.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw Ii.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const Z=1e3*Number(S[1]),R=Date.now();return{token:w.token,expireTimeMillis:R+Z,issuedAtTimeMillis:R}}),BS.apply(this,arguments)}function hR(r,n){const{projectId:t,appId:o,apiKey:i}=r.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${o}:exchangeDebugToken?key=${i}`,body:{debug_token:n}}}const t0="firebase-app-check-store";let Rw=null;function gN(){return Rw||(Rw=new Promise((r,n)=>{var t;try{const o=indexedDB.open("firebase-app-check-database",1);o.onsuccess=i=>{r(i.target.result)},o.onerror=i=>{var u;n(Ii.create("storage-open",{originalErrorMessage:null===(u=i.target.error)||void 0===u?void 0:u.message}))},o.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(t0,{keyPath:"compositeKey"})}}catch(o){n(Ii.create("storage-open",{originalErrorMessage:null===(t=o)||void 0===t?void 0:t.message}))}}),Rw)}function jS(){return jS=(0,Ae.Z)(function*(r,n){const o=(yield gN()).transaction(t0,"readwrite"),u=o.objectStore(t0).put({compositeKey:r,value:n});return new Promise((d,g)=>{u.onsuccess=v=>{d()},o.onerror=v=>{var w;g(Ii.create("storage-set",{originalErrorMessage:null===(w=v.target.error)||void 0===w?void 0:w.message}))}})}),jS.apply(this,arguments)}const n0=new Ha.Yd("@firebase/app-check");function vN(r,n){return(0,Qt.hl)()?function mR(r,n){return function mN(r,n){return jS.apply(this,arguments)}(function yN(r){return`${r.options.appId}-${r.name}`}(r),n)}(r,n).catch(t=>{n0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function CN(){return Pw().enabled}function TN(){return JS.apply(this,arguments)}function JS(){return JS=(0,Ae.Z)(function*(){const r=Pw();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),JS.apply(this,arguments)}const wR={error:"UNKNOWN_ERROR"};function bR(r){return Qt.US.encodeString(JSON.stringify(r),!1)}function Lw(r){return WS.apply(this,arguments)}function WS(){return WS=(0,Ae.Z)(function*(r,n=!1){const t=r.app;pN(t);const o=Eo(t);let u,i=o.token;if(!i){const v=yield o.cachedTokenPromise;v&&Fw(v)&&(i=v)}if(!n&&i&&Fw(i))return{token:i.token};let g,d=!1;if(CN()){o.exchangeTokenPromise||(o.exchangeTokenPromise=VS(hR(t,yield TN()),r.heartbeatServiceProvider).then(w=>(o.exchangeTokenPromise=void 0,w)),d=!0);const v=yield o.exchangeTokenPromise;return yield vN(t,v),tu(t,Object.assign(Object.assign({},o),{token:v})),{token:v.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().then(v=>(o.exchangeTokenPromise=void 0,v)),d=!0),i=yield o.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?n0.warn(v.message):n0.error(v),u=v}return i?(g={token:i.token},tu(t,Object.assign(Object.assign({},o),{token:i})),yield vN(t,i)):g=IR(u),d&&bN(t,g),g}),WS.apply(this,arguments)}function QS(r,n){const t=Eo(r),o=t.tokenObservers.filter(i=>i.next!==n);0===o.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),tu(r,Object.assign(Object.assign({},t),{tokenObservers:o}))}function wN(r){const{app:n}=r,t=Eo(n);let o=t.tokenRefresher;o||(o=function AR(r){const{app:n}=r;return new aR((0,Ae.Z)(function*(){let o;if(o=Eo(n).token?yield Lw(r,!0):yield Lw(r),o.error)throw o.error}),()=>!0,()=>{const t=Eo(n);if(t.token){let o=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,t.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(r),tu(n,Object.assign(Object.assign({},t),{tokenRefresher:o}))),!o.isRunning()&&t.isTokenAutoRefreshEnabled&&o.start()}function bN(r,n){const t=Eo(r).tokenObservers;for(const o of t)try{"EXTERNAL"===o.type&&null!=n.error?o.error(n.error):o.next(n)}catch(i){}}function Fw(r){return r.expireTimeMillis-Date.now()>0}function IR(r){return{token:bR(wR),error:r}}class ER{constructor(n,t){this.app=n,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:n}=Eo(this.app);for(const t of n)QS(this.app,t.next);return Promise.resolve()}}const ZN="app-check-internal";!function qR(){(0,Hl._registerComponent)(new pg.wA("app-check",r=>function DR(r,n){return new ER(r,n)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,n,t)=>{r.getProvider(ZN).initialize()})),(0,Hl._registerComponent)(new pg.wA(ZN,r=>function SR(r){return{getToken:n=>Lw(r,n),addTokenListener:n=>function zS(r,n,t,o){const{app:i}=r,u=Eo(i),d={next:t,error:o,type:n};if(tu(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&Fw(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),wN(r)}).catch(()=>{})}u.cachedTokenPromise.then(()=>wN(r))}(r,"INTERNAL",n),removeTokenListener:n=>QS(r.app,n)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Hl.registerVersion)("@firebase/app-check","0.5.12")}();class e2{constructor(){return(0,co.vb)("app-check")}}"undefined"!=typeof window&&window;var HR=P(127);const MN=new e.OlP("angularfire2.auth.use-emulator"),PN=new e.OlP("angularfire2.auth.settings"),UN=new e.OlP("angularfire2.auth.tenant-id"),ON=new e.OlP("angularfire2.auth.langugage-code"),RN=new e.OlP("angularfire2.auth.use-device-language"),LN=new e.OlP("angularfire.auth.persistence"),FN=(r,n,t,o,i,u,d,g)=>(0,Gi.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const v=n.runOutsideAngular(()=>r.auth());if(t&&v.useEmulator(...t),o&&(v.tenantId=o),v.languageCode=i,u&&v.useDeviceLanguage(),d)for(const[w,S]of Object.entries(d))v.settings[w]=S;return g&&v.setPersistence(g),v},[t,o,i,u,d,g]);let Vw=(()=>{class r{constructor(t,o,i,u,d,g,v,w,S,Z,R,W){const ne=new ji.x,Me=Tt(void 0).pipe((0,Nw.Q)(d.outsideAngular),lo(()=>u.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5881)))),(0,se.U)(()=>(0,Gi.on)(t,u,o)),(0,se.U)($e=>FN($e,u,g,w,S,Z,v,R)),uN({bufferSize:1,refCount:!1}));if(Gd(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Tt(null);else{Me.pipe(zs()).subscribe();const pt=Me.pipe(lo(wt=>wt.getRedirectResult().then(Yt=>Yt,()=>null)),co.iC,uN({bufferSize:1,refCount:!1})),Pt=Me.pipe(lo(wt=>new Jr.y(Yt=>({unsubscribe:u.runOutsideAngular(()=>wt.onAuthStateChanged(Sn=>Yt.next(Sn),Sn=>Yt.error(Sn),()=>Yt.complete()))})))),Kt=Me.pipe(lo(wt=>new Jr.y(Yt=>({unsubscribe:u.runOutsideAngular(()=>wt.onIdTokenChanged(Sn=>Yt.next(Sn),Sn=>Yt.error(Sn),()=>Yt.complete()))}))));this.authState=pt.pipe(lN(Pt),(0,RS.R)(d.outsideAngular),(0,Nw.Q)(d.insideAngular)),this.user=pt.pipe(lN(Kt),(0,RS.R)(d.outsideAngular),(0,Nw.Q)(d.insideAngular)),this.idToken=this.user.pipe(lo(wt=>wt?(0,Dn.D)(wt.getIdToken()):Tt(null))),this.idTokenResult=this.user.pipe(lo(wt=>wt?(0,Dn.D)(wt.getIdTokenResult()):Tt(null))),this.credential=(0,WO.T)(pt,ne,this.authState.pipe(ft(wt=>!wt))).pipe((0,se.U)(wt=>null!=wt&&wt.user?wt:null),(0,RS.R)(d.outsideAngular),(0,Nw.Q)(d.insideAngular))}return(0,Gi.pX)(this,Me,u,{spy:{apply:($e,pt,Pt)=>{($e.startsWith("signIn")||$e.startsWith("createUser"))&&Pt.then(Kt=>ne.next(Kt))}}})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Gi.Dh),e.LFG(Gi.xv,8),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(co.HU),e.LFG(MN,8),e.LFG(PN,8),e.LFG(UN,8),e.LFG(ON,8),e.LFG(RN,8),e.LFG(LN,8),e.LFG(e2,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),JR=(()=>{class r{constructor(){HR.Z.registerVersion("angularfire",co.q4.full,"auth-compat")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[Vw]}),r})();function qN(r,n){return function WR(r,n=Cs.z){return new Jr.y(t=>{let o;return null!=n?n.schedule(()=>{o=r.onSnapshot({includeMetadataChanges:!0},t)}):o=r.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(r,n)}function n2(r,n){return qN(r,n).pipe((0,se.U)(t=>({payload:t,type:"query"})))}function Bw(r,n){return n2(r,n).pipe(bu(void 0),yy(),(0,se.U)(([t,o])=>{const i=o.payload.docChanges(),u=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((d,g)=>{const v=i.find(S=>S.doc.ref.isEqual(d.ref)),w=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(d.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:d}})}),u}))}function VN(r,n,t){return Bw(r,t).pipe(Gc((o,i)=>function QR(r,n,t){return n.forEach(o=>{t.indexOf(o.type)>-1&&(r=function KR(r,n){switch(n.type){case"added":if(!r[n.newIndex]||!r[n.newIndex].doc.ref.isEqual(n.doc.ref))return r2(r,n.newIndex,0,n);break;case"modified":if(null==r[n.oldIndex]||r[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const t=r.slice();return t.splice(n.oldIndex,1),t.splice(n.newIndex,0,n),t}return r2(r,n.newIndex,1,n)}break;case"removed":if(r[n.oldIndex]&&r[n.oldIndex].doc.ref.isEqual(n.doc.ref))return r2(r,n.oldIndex,1)}return r}(r,o))}),r}(o,i.map(u=>u.payload),n),[]),function vy(r,n=vh.y){return r=null!=r?r:Cy,(0,_o.e)((t,o)=>{let i,u=!0;t.subscribe((0,mr.x)(o,d=>{const g=n(d);(u||!r(i,g))&&(u=!1,i=g,o.next(d))}))})}(),(0,se.U)(o=>o.map(i=>({type:i.type,payload:i}))))}function r2(r,n,t,...o){const i=r.slice();return i.splice(n,t,...o),i}function BN(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class jN{constructor(n,t,o){this.ref=n,this.query=t,this.afs=o}stateChanges(n){let t=Bw(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(t=t.pipe((0,se.U)(o=>o.filter(i=>n.indexOf(i.type)>-1)))),t.pipe(bu(void 0),yy(),ft(([o,i])=>i.length>0||!o),(0,se.U)(([o,i])=>i),co.iC)}auditTrail(n){return this.stateChanges(n).pipe(Gc((t,o)=>[...t,...o],[]))}snapshotChanges(n){const t=BN(n);return VN(this.query,t,this.afs.schedulers.outsideAngular).pipe(co.iC)}valueChanges(n={}){return n2(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(t=>t.payload.docs.map(o=>n.idField?Object.assign(Object.assign({},o.data()),{[n.idField]:o.id}):o.data())),co.iC)}get(n){return(0,Dn.D)(this.query.get(n)).pipe(co.iC)}add(n){return this.ref.add(n)}doc(n){return new $N(this.ref.doc(n),this.afs)}}class $N{constructor(n,t){this.ref=n,this.afs=t}set(n,t){return this.ref.set(n,t)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,t){const o=this.ref.collection(n),{ref:i,query:u}=HN(o,t);return new jN(i,u,this.afs)}snapshotChanges(){return function zR(r,n){return qN(r,n).pipe(bu(void 0),yy(),(0,se.U)(([t,o])=>o.exists?null!=t&&t.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(co.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,se.U)(({payload:t})=>n.idField?Object.assign(Object.assign({},t.data()),{[n.idField]:t.id}):t.data()))}get(n){return(0,Dn.D)(this.ref.get(n)).pipe(co.iC)}}class YR{constructor(n,t){this.query=n,this.afs=t}stateChanges(n){return n&&0!==n.length?Bw(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(t=>t.filter(o=>n.indexOf(o.type)>-1)),ft(t=>t.length>0),co.iC):Bw(this.query,this.afs.schedulers.outsideAngular).pipe(co.iC)}auditTrail(n){return this.stateChanges(n).pipe(Gc((t,o)=>[...t,...o],[]))}snapshotChanges(n){const t=BN(n);return VN(this.query,t,this.afs.schedulers.outsideAngular).pipe(co.iC)}valueChanges(n={}){return n2(this.query,this.afs.schedulers.outsideAngular).pipe((0,se.U)(o=>o.payload.docs.map(i=>n.idField?Object.assign({[n.idField]:i.id},i.data()):i.data())),co.iC)}get(n){return(0,Dn.D)(this.query.get(n)).pipe(co.iC)}}const XR=new e.OlP("angularfire2.enableFirestorePersistence"),eL=new e.OlP("angularfire2.firestore.persistenceSettings"),tL=new e.OlP("angularfire2.firestore.settings"),nL=new e.OlP("angularfire2.firestore.use-emulator");function HN(r,n=(t=>t)){return{query:n(r),ref:r}}let rL=(()=>{class r{constructor(t,o,i,u,d,g,v,w,S,Z,R,W,ne,Me,$e,pt,Pt){this.schedulers=v;const Kt=(0,Gi.on)(t,g,o),wt=S;Z&&FN(Kt,g,R,ne,Me,$e,W,pt),[this.firestore,this.persistenceEnabled$]=(0,Gi.cc)(`${Kt.name}.firestore`,"AngularFirestore",Kt.name,()=>{const Yt=g.runOutsideAngular(()=>Kt.firestore());if(u&&Yt.settings(u),wt&&Yt.useEmulator(...wt),i&&!Gd(d)){const Sn=()=>{try{return(0,Dn.D)(Yt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(si){return"undefined"!=typeof console&&console.warn(si),Tt(!1)}};return[Yt,g.runOutsideAngular(Sn)]}return[Yt,Tt(!1)]},[u,wt,i])}collection(t,o){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=HN(i,o),g=this.schedulers.ngZone.run(()=>u);return new jN(g,d,this)}collectionGroup(t,o){const i=o||(d=>d),u=this.firestore.collectionGroup(t);return new YR(i(u),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>o);return new $N(i,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Gi.Dh),e.LFG(Gi.xv,8),e.LFG(XR,8),e.LFG(tL,8),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(co.HU),e.LFG(eL,8),e.LFG(nL,8),e.LFG(Vw,8),e.LFG(MN,8),e.LFG(PN,8),e.LFG(UN,8),e.LFG(ON,8),e.LFG(RN,8),e.LFG(LN,8),e.LFG(e2,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),o2=(()=>{class r{constructor(t,o){this.afs=t,this.afAuth=o,this.afAuth.authState.subscribe(i=>{i?(this.userData=i,localStorage.setItem("fire.user",JSON.stringify(this.userData))):localStorage.setItem("fire.user","null")})}get isLoggedIn(){const t=localStorage.getItem("fire.user"),o=JSON.parse(t||"null");return null!==o&&!1!==o.emailVerified}GoogleAuth(){return this.AuthLogin(new JC.Q).then(t=>{})}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(o=>{this.SetUserData(o.user)}).catch(o=>{window.alert(o)})}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("fire.user")})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(rL),e.LFG(Vw))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function oL(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",2),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.logOut())}),e._uU(1),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.hij("[",t.userName,"]")}}function iL(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"a",3),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.GoogleAuth())}),e._uU(1,"[LOGIN]"),e.qZA()}}let sL=(()=>{class r{constructor(t){this.fireAuthService=t}get loggedIn(){return this.fireAuthService.isLoggedIn}get userName(){return this.fireAuthService.userData.displayName||"Logged In"}ngOnInit(){}GoogleAuth(){this.fireAuthService.GoogleAuth()}logOut(){this.fireAuthService.SignOut()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(o2))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-login"]],decls:2,vars:2,consts:[["class","text-grey link-btn",3,"click",4,"ngIf"],["class","text-main link-btn",3,"click",4,"ngIf"],[1,"text-grey","link-btn",3,"click"],[1,"text-main","link-btn",3,"click"]],template:function(t,o){1&t&&(e.YNc(0,oL,2,1,"a",0),e.YNc(1,iL,2,0,"a",1)),2&t&&(e.Q6J("ngIf",o.loggedIn),e.xp6(1),e.Q6J("ngIf",!o.loggedIn))},dependencies:[Ut]}),r})(),aL=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-header"]],decls:11,vars:8,consts:[[1,"nav","text-grey-dull"],[3,"name","route"],[1,"nav-login"]],template:function(t,o){1&t&&(e.TgZ(0,"nav")(1,"div",0),e._UZ(2,"app-header-nav-link",1),e._uU(3," - "),e._UZ(4,"app-header-nav-link",1),e._uU(5," - "),e._UZ(6,"app-header-nav-link",1),e._uU(7," - "),e._UZ(8,"app-header-nav-link",1),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"app-login"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("name","[ Languages ]")("route","language"),e.xp6(2),e.Q6J("name","[ Evolutions ]")("route","evolutions/connections"),e.xp6(2),e.Q6J("name","[ Words ]")("route","words/list"),e.xp6(2),e.Q6J("name","[ Trace ]")("route","trace"))},dependencies:[GC,sL],styles:[".nav[_ngcontent-%COMP%]{width:100%;display:flex;margin-left:0;margin-right:auto}.nav-login[_ngcontent-%COMP%]{margin-left:auto;margin-right:0;padding-right:8px}nav[_ngcontent-%COMP%]{display:flex}"]}),r})(),uL=(()=>{class r{constructor(){this.title="language-parser-ui"}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-root"]],decls:5,vars:0,consts:[["align","center"],["align","left",2,"max-width","1320px"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-header"),e.TgZ(2,"div",1),e._UZ(3,"router-outlet")(4,"app-footer"),e.qZA()())},dependencies:[ti,HI,aL]}),r})(),lL=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[ki]}),r})(),cL=(()=>{class r{constructor(t){this.errorService=t}intercept(t,o){return o.handle(t).pipe(Pa(i=>(i.error instanceof ErrorEvent?this.errorService.addError({message:i.error.message}):this.errorService.addError({message:i.message,details:i.error}),jc(i))))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ri))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),dL=(()=>{class r extends sd{constructor(t,o){super(t,o)}ping$Response(t){const o=new Nt(this.rootUrl,r.PingPath,"get");return this.http.request(o.build({responseType:"json",accept:"application/json"})).pipe(ft(i=>i instanceof It),(0,se.U)(i=>i))}ping(t){return this.ping$Response(t).pipe((0,se.U)(o=>o.body))}}return r.PingPath="/api/ping",r.\u0275fac=function(t){return new(t||r)(e.LFG(Ba),e.LFG(Va))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),hL=(()=>{class r{constructor(t,o){if(t)throw new Error("ApiModule is already loaded. Import in your base AppModule only.");if(!o)throw new Error("You need to import the HttpClientModule in your AppModule! \nSee also https://github.com/angular/angular/issues/20575")}static forRoot(t){return{ngModule:r,providers:[{provide:Ba,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(r,12),e.LFG(Va,8))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[$a,Co,dL,ja,gy,Zu,Ba]}),r})();function JN(r,n,t,o){return new(t||(t=Promise))(function(u,d){function g(S){try{w(o.next(S))}catch(Z){d(Z)}}function v(S){try{w(o.throw(S))}catch(Z){d(Z)}}function w(S){S.done?u(S.value):function i(u){return u instanceof t?u:new t(function(d){d(u)})}(S.value).then(g,v)}w((o=o.apply(r,n||[])).next())})}function QN(r){return ft((n,t)=>r<=t)}class gL extends ji.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(n){const{hasError:t,_hasValue:o,_value:i,thrownError:u,isStopped:d,_isComplete:g}=this;t?n.error(u):(d||g)&&(o&&n.next(i),n.complete())}next(n){this.isStopped||(this._value=n,this._hasValue=!0)}complete(){const{_hasValue:n,_value:t,_isComplete:o}=this;o||(this._isComplete=!0,n&&super.next(t),super.complete())}}class yL{}const vL={oneTapEnabled:!0};let r0=(()=>{class r extends class _L{constructor(){}loadScript(n,t,o,i=null){if("undefined"!=typeof document&&!document.getElementById(n)){let u=document.createElement("script");u.async=!0,u.src=t,u.onload=o,i||(i=document.head),i.appendChild(u)}}}{constructor(t,o){super(),this.clientId=t,this.initOptions=o,this.changeUser=new e.vpe,this._socialUser=new uo(null),this._accessToken=new uo(null),this._receivedAccessToken=new e.vpe,this.initOptions=Object.assign(Object.assign({},vL),this.initOptions),this._socialUser.pipe(QN(1)).subscribe(this.changeUser),this._accessToken.pipe(QN(1)).subscribe(this._receivedAccessToken)}initialize(t){return new Promise((o,i)=>{try{this.loadScript(r.PROVIDER_ID,"https://accounts.google.com/gsi/client",()=>{var u;if(google.accounts.id.initialize({client_id:this.clientId,auto_select:t,callback:({credential:d})=>{const g=this.createSocialUser(d);this._socialUser.next(g)},prompt_parent_id:null===(u=this.initOptions)||void 0===u?void 0:u.prompt_parent_id}),this.initOptions.oneTapEnabled&&this._socialUser.pipe(ft(d=>null===d)).subscribe(()=>google.accounts.id.prompt(console.debug)),this.initOptions.scopes){const d=this.initOptions.scopes instanceof Array?this.initOptions.scopes.filter(g=>g).join(" "):this.initOptions.scopes;this._tokenClient=google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:d,callback:g=>{g.error?this._accessToken.error({code:g.error,description:g.error_description,uri:g.error_uri}):this._accessToken.next(g.access_token)}})}o()})}catch(u){i(u)}})}getLoginStatus(){return new Promise((t,o)=>{this._socialUser.value?t(this._socialUser.value):o(`No user is currently logged in with ${r.PROVIDER_ID}`)})}refreshToken(){return new Promise((t,o)=>{google.accounts.id.revoke(this._socialUser.value.id,i=>{i.error?o(i.error):t(this._socialUser.value)})})}getAccessToken(){return new Promise((t,o)=>{var i;this._tokenClient?(this._tokenClient.requestAccessToken({hint:null===(i=this._socialUser.value)||void 0===i?void 0:i.email}),this._receivedAccessToken.pipe(Hc(1)).subscribe(t)):o(this._socialUser.value?"No token client was instantiated, you should specify some scopes.":"You should be logged-in first.")})}revokeAccessToken(){return new Promise((t,o)=>{this._tokenClient?this._accessToken.value?google.accounts.oauth2.revoke(this._accessToken.value,()=>{this._accessToken.next(null),t()}):o("No access token to revoke"):o("No token client was instantiated, you should specify some scopes.")})}signIn(){return Promise.reject('You should not call this method directly for Google, use "<asl-google-signin-button>" wrapper or generate the button yourself with "google.accounts.id.renderButton()" (https://developers.google.com/identity/gsi/web/guides/display-button#javascript)')}signOut(){return JN(this,void 0,void 0,function*(){google.accounts.id.disableAutoSelect(),this._socialUser.next(null)})}createSocialUser(t){const o=new yL;o.idToken=t;const i=this.decodeJwt(t);return o.id=i.sub,o.name=i.name,o.email=i.email,o.photoUrl=i.picture,o.firstName=i.given_name,o.lastName=i.family_name,o}decodeJwt(t){return JSON.parse(window.atob(t.split(".")[1]))}}return r.PROVIDER_ID="GOOGLE",r})(),KN=(()=>{class r{constructor(t,o,i){this._ngZone=o,this._injector=i,this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new aN(1),this.initialized=!1,this._initState=new gL,t instanceof Promise?t.then(u=>{this.initialize(u)}):this.initialize(t)}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}initialize(t){this.autoLogin=void 0!==t.autoLogin&&t.autoLogin;const{onError:o=console.error}=t;t.providers.forEach(i=>{this.providers.set(i.id,"prototype"in i.provider?this._injector.get(i.provider):i.provider)}),Promise.all(Array.from(this.providers.values()).map(i=>i.initialize(this.autoLogin))).then(()=>{if(this.autoLogin){const i=[];let u=!1;this.providers.forEach((d,g)=>{const v=d.getLoginStatus();i.push(v),v.then(w=>{this.setUser(w,g),u=!0}).catch(console.debug)}),Promise.all(i).catch(()=>{u||(this._user=null,this._authState.next(null))})}this.providers.forEach((i,u)=>{(function mL(r){return!!r&&(r instanceof Jr.y||(0,Th.m)(r.lift)&&(0,Th.m)(r.subscribe))})(i.changeUser)&&i.changeUser.subscribe(d=>{this._ngZone.run(()=>{this.setUser(d,u)})})})}).catch(i=>{o(i)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}getAccessToken(t){return JN(this,void 0,void 0,function*(){const o=this.providers.get(t);if(!this.initialized)throw r.ERR_NOT_INITIALIZED;if(!o)throw r.ERR_LOGIN_PROVIDER_NOT_FOUND;if(!(o instanceof r0))throw r.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN;return yield o.getAccessToken()})}refreshAuthToken(t){return new Promise((o,i)=>{if(this.initialized){const u=this.providers.get(t);u?"function"!=typeof u.refreshToken?i(r.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN):u.refreshToken().then(d=>{this.setUser(d,t),o()}).catch(d=>{i(d)}):i(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(r.ERR_NOT_INITIALIZED)})}refreshAccessToken(t){return new Promise((o,i)=>{if(this.initialized)if(t!==r0.PROVIDER_ID)i(r.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const u=this.providers.get(t);u instanceof r0?u.revokeAccessToken().then(o).catch(i):i(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(r.ERR_NOT_INITIALIZED)})}signIn(t,o){return new Promise((i,u)=>{if(this.initialized){let d=this.providers.get(t);d?d.signIn(o).then(g=>{this.setUser(g,t),i(g)}).catch(g=>{u(g)}):u(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else u(r.ERR_NOT_INITIALIZED)})}signOut(t=!1){return new Promise((o,i)=>{if(this.initialized)if(this._user){let d=this.providers.get(this._user.provider);d?d.signOut(t).then(()=>{o(),this.setUser(null)}).catch(g=>{i(g)}):i(r.ERR_LOGIN_PROVIDER_NOT_FOUND)}else i(r.ERR_NOT_LOGGED_IN);else i(r.ERR_NOT_INITIALIZED)})}setUser(t,o){t&&o&&(t.provider=o),this._user=t,this._authState.next(t)}}return r.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",r.ERR_NOT_LOGGED_IN="Not logged in",r.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",r.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",r.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN="Chosen login provider is not supported for getting an access token",r.\u0275fac=function(t){return new(t||r)(e.LFG("SocialAuthServiceConfig"),e.LFG(e.R0b),e.LFG(e.zs3))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),CL=(()=>{class r{constructor(t){if(t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}static initialize(t){return{ngModule:r,providers:[KN,{provide:"SocialAuthServiceConfig",useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(r,12))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[KN],imports:[ki]}),r})(),TL=(()=>{class r{constructor(t){this.fireAuthService=t}intercept(t,o){var i;const u=localStorage.getItem("fire.user"),d=JSON.parse(u||"null"),g=null===(i=null==d?void 0:d.stsTokenManager)||void 0===i?void 0:i.accessToken;if(!g)return o.handle(t);const v=t.clone({headers:t.headers.set("Authorization",`Bearer ${g}`)});return o.handle(v)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(o2))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),wL=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r,bootstrap:[uL]}),r.\u0275inj=e.cJS({providers:[o2,{provide:jh,useClass:TL,multi:!0},{provide:jh,useClass:cL,multi:!0},{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:r0.PROVIDER_ID,provider:new r0("457941235931-ta7f430pcvim9inavtg97ngqav65394i.apps.googleusercontent.com")}],onError:n=>{console.error(n)}}},ri],imports:[Gi.hO.initializeApp(id_firebase),JR,qn,I1,VI,bf,yh,CL,lL,hL.forRoot({rootUrl:"http://localhost:8080"})]}),r})();(0,e.G48)(),uu().bootstrapModule(wL).catch(r=>console.error(r))},5867:(rt,Te,P)=>{P.d(Te,{C6:()=>e.getApps,Mq:()=>e.getApp});var e=P(9681);(0,e.registerVersion)("firebase","9.9.1","app")},127:(rt,Te,P)=>{P.d(Te,{Z:()=>e.Z});var e=P(3942);e.Z.registerVersion("firebase","9.9.1","app-compat")},5881:(rt,Te,P)=>{P.r(Te);var e=P(5861),L=P(3942),M=P(2227),re=P(2090),de=(P(9681),P(1877),P(4859));function ce(){return window}function H(){return(H=(0,e.Z)(function*(te,q,V){var ye;const{BuildInfo:qe}=ce();(0,M.aq)(q.sessionId,"AuthEvent did not contain a session ID");const St=yield ge(q.sessionId),At={};return(0,M.ar)()?At.ibi=qe.packageName:(0,M.as)()?At.apn=qe.packageName:(0,M.at)(te,"operation-not-supported-in-this-environment"),qe.displayName&&(At.appDisplayName=qe.displayName),At.sessionId=St,(0,M.au)(te,V,q.type,void 0,null!==(ye=q.eventId)&&void 0!==ye?ye:void 0,At)})).apply(this,arguments)}function Ve(){return(Ve=(0,e.Z)(function*(te){const{BuildInfo:q}=ce(),V={};(0,M.ar)()?V.iosBundleId=q.packageName:(0,M.as)()?V.androidPackageName=q.packageName:(0,M.at)(te,"operation-not-supported-in-this-environment"),yield(0,M.av)(te,V)})).apply(this,arguments)}function it(){return(it=(0,e.Z)(function*(te,q,V){const{cordova:ye}=ce();let qe=()=>{};try{yield new Promise((St,At)=>{let Ht=null;function wn(){var Ft;St();const xn=null===(Ft=ye.plugins.browsertab)||void 0===Ft?void 0:Ft.close;"function"==typeof xn&&xn(),"function"==typeof(null==V?void 0:V.close)&&V.close()}function On(){Ht||(Ht=window.setTimeout(()=>{At((0,M.aw)(te,"redirect-cancelled-by-user"))},2e3))}function Cn(){"visible"===(null==document?void 0:document.visibilityState)&&On()}q.addPassiveListener(wn),document.addEventListener("resume",On,!1),(0,M.as)()&&document.addEventListener("visibilitychange",Cn,!1),qe=()=>{q.removePassiveListener(wn),document.removeEventListener("resume",On,!1),document.removeEventListener("visibilitychange",Cn,!1),Ht&&window.clearTimeout(Ht)}})}finally{qe()}})).apply(this,arguments)}function ge(te){return ot.apply(this,arguments)}function ot(){return(ot=(0,e.Z)(function*(te){const q=dt(te),V=yield crypto.subtle.digest("SHA-256",q);return Array.from(new Uint8Array(V)).map(qe=>qe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function dt(te){if((0,M.aq)(/[0-9a-zA-Z]+/.test(te),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(te);const q=new ArrayBuffer(te.length),V=new Uint8Array(q);for(let ye=0;ye<te.length;ye++)V[ye]=te.charCodeAt(ye);return V}class ke extends M.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(q=>{this.resolveInialized=q})}addPassiveListener(q){this.passiveListeners.add(q)}removePassiveListener(q){this.passiveListeners.delete(q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(q){return this.resolveInialized(),this.passiveListeners.forEach(V=>V(q)),super.onEvent(q)}initialized(){var q=this;return(0,e.Z)(function*(){yield q.initPromise})()}}function He(te){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,e.Z)(function*(te){const q=yield ie()._get(oe(te));return q&&(yield ie()._remove(oe(te))),q})).apply(this,arguments)}function Y(){const te=[],q="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let V=0;V<20;V++){const ye=Math.floor(Math.random()*q.length);te.push(q.charAt(ye))}return te.join("")}function ie(){return(0,M.ay)(M.b)}function oe(te){return(0,M.az)("authEvent",te.config.apiKey,te.name)}function Fe(te){if(null==te||!te.includes("?"))return{};const[q,...V]=te.split("?");return(0,re.zd)(V.join("?"))}function Ke(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,M.aw)("no-auth-event")}}function Bn(){var te;return(null===(te=null==self?void 0:self.location)||void 0===te?void 0:te.protocol)||null}function Pn(te=(0,re.z$)()){return!("file:"!==Bn()&&"ionic:"!==Bn()&&"capacitor:"!==Bn()||!te.toLowerCase().match(/iphone|ipad|ipod|android/))}function Cr(){try{const te=self.localStorage,q=M.aI();if(te)return te.setItem(q,"1"),te.removeItem(q),!function Ei(te=(0,re.z$)()){return function vn(){return(0,re.w1)()&&11===(null==document?void 0:document.documentMode)}()||function gn(te=(0,re.z$)()){return/Edge\/\d+/.test(te)}(te)}()||(0,re.hl)()}catch(te){return ro()&&(0,re.hl)()}return!1}function ro(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ue(){return(function qr(){return"http:"===Bn()||"https:"===Bn()}()||(0,re.ru)()||Pn())&&!function ho(){return(0,re.b$)()||(0,re.UG)()}()&&Cr()&&!ro()}function or(){return Pn()&&"undefined"!=typeof document}function Tr(){return(Tr=(0,e.Z)(function*(){return!!or()&&new Promise(te=>{const q=setTimeout(()=>{te(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(q),te(!0)})})})).apply(this,arguments)}const Jt={LOCAL:"local",NONE:"none",SESSION:"session"},wr=M.ax,Vr="persistence";function In(te){return xr.apply(this,arguments)}function xr(){return(xr=(0,e.Z)(function*(te){yield te._initializationPromise;const q=qt(),V=M.az(Vr,te.config.apiKey,te.name);q&&q.setItem(V,te._getPersistence())})).apply(this,arguments)}function qt(){var te;try{return(null===(te=function nn(){return"undefined"!=typeof window?window:null}())||void 0===te?void 0:te.sessionStorage)||null}catch(q){return null}}const We=M.ax;class _t{constructor(){this.browserResolver=M.ay(M.k),this.cordovaResolver=M.ay(class en{constructor(){this._redirectPersistence=M.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=M.aB,this._overrideRedirectResult=M.aC}_initialize(q){var V=this;return(0,e.Z)(function*(){const ye=q._key();let qe=V.eventManagers.get(ye);return qe||(qe=new ke(q),V.eventManagers.set(ye,qe),V.attachCallbackListeners(q,qe)),qe})()}_openPopup(q){(0,M.at)(q,"operation-not-supported-in-this-environment")}_openRedirect(q,V,ye,qe){var St=this;return(0,e.Z)(function*(){!function ve(te){var q,V,ye,qe,St,At,Ht,wn,On,Cn;const Ft=ce();(0,M.ax)("function"==typeof(null===(q=null==Ft?void 0:Ft.universalLinks)||void 0===q?void 0:q.subscribe),te,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,M.ax)(void 0!==(null===(V=null==Ft?void 0:Ft.BuildInfo)||void 0===V?void 0:V.packageName),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,M.ax)("function"==typeof(null===(St=null===(qe=null===(ye=null==Ft?void 0:Ft.cordova)||void 0===ye?void 0:ye.plugins)||void 0===qe?void 0:qe.browsertab)||void 0===St?void 0:St.openUrl),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.ax)("function"==typeof(null===(wn=null===(Ht=null===(At=null==Ft?void 0:Ft.cordova)||void 0===At?void 0:At.plugins)||void 0===Ht?void 0:Ht.browsertab)||void 0===wn?void 0:wn.isAvailable),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.ax)("function"==typeof(null===(Cn=null===(On=null==Ft?void 0:Ft.cordova)||void 0===On?void 0:On.InAppBrowser)||void 0===Cn?void 0:Cn.open),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(q);const At=yield St._initialize(q);yield At.initialized(),At.resetRedirect(),(0,M.aD)(),yield St._originValidation(q);const Ht=function Ee(te,q,V=null){return{type:q,eventId:V,urlResponse:null,sessionId:Y(),postBody:null,tenantId:te.tenantId,error:(0,M.aw)(te,"no-auth-event")}}(q,ye,qe);yield function Qe(te,q){return ie()._set(oe(te),q)}(q,Ht);const wn=yield function G(te,q,V){return H.apply(this,arguments)}(q,Ht,V),On=yield function Ne(te){const{cordova:q}=ce();return new Promise(V=>{q.plugins.browsertab.isAvailable(ye=>{let qe=null;ye?q.plugins.browsertab.openUrl(te):qe=q.InAppBrowser.open(te,(0,M.ap)()?"_blank":"_system","location=yes"),V(qe)})})}(wn);return function we(te,q,V){return it.apply(this,arguments)}(q,At,On)})()}_isIframeWebStorageSupported(q,V){throw new Error("Method not implemented.")}_originValidation(q){const V=q._key();return this.originValidationPromises[V]||(this.originValidationPromises[V]=function X(te){return Ve.apply(this,arguments)}(q)),this.originValidationPromises[V]}attachCallbackListeners(q,V){const{universalLinks:ye,handleOpenURL:qe,BuildInfo:St}=ce(),At=setTimeout((0,e.Z)(function*(){yield He(q),V.onEvent(Ke())}),500),Ht=function(){var Cn=(0,e.Z)(function*(Ft){clearTimeout(At);const xn=yield He(q);let Xe=null;xn&&(null==Ft?void 0:Ft.url)&&(Xe=function De(te,q){var V,ye;const qe=function le(te){const q=Fe(te),V=q.link?decodeURIComponent(q.link):void 0,ye=Fe(V).link,qe=q.deep_link_id?decodeURIComponent(q.deep_link_id):void 0;return Fe(qe).link||qe||ye||V||te}(q);if(qe.includes("/__/auth/callback")){const St=Fe(qe),At=St.firebaseError?function me(te){try{return JSON.parse(te)}catch(q){return null}}(decodeURIComponent(St.firebaseError)):null,Ht=null===(ye=null===(V=null==At?void 0:At.code)||void 0===V?void 0:V.split("auth/"))||void 0===ye?void 0:ye[1],wn=Ht?(0,M.aw)(Ht):null;return wn?{type:te.type,eventId:te.eventId,tenantId:te.tenantId,error:wn,urlResponse:null,sessionId:null,postBody:null}:{type:te.type,eventId:te.eventId,tenantId:te.tenantId,sessionId:te.sessionId,urlResponse:qe,postBody:null}}return null}(xn,Ft.url)),V.onEvent(Xe||Ke())});return function(xn){return Cn.apply(this,arguments)}}();void 0!==ye&&"function"==typeof ye.subscribe&&ye.subscribe(null,Ht);const wn=qe,On=`${St.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var Cn=(0,e.Z)(function*(Ft){if(Ft.toLowerCase().startsWith(On)&&Ht({url:Ft}),"function"==typeof wn)try{wn(Ft)}catch(xn){console.error(xn)}});return function(Ft){return Cn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=M.a,this._completeRedirectFn=M.aB,this._overrideRedirectResult=M.aC}_initialize(q){var V=this;return(0,e.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._initialize(q)})()}_openPopup(q,V,ye,qe){var St=this;return(0,e.Z)(function*(){return yield St.selectUnderlyingResolver(),St.assertedUnderlyingResolver._openPopup(q,V,ye,qe)})()}_openRedirect(q,V,ye,qe){var St=this;return(0,e.Z)(function*(){return yield St.selectUnderlyingResolver(),St.assertedUnderlyingResolver._openRedirect(q,V,ye,qe)})()}_isIframeWebStorageSupported(q,V){this.assertedUnderlyingResolver._isIframeWebStorageSupported(q,V)}_originValidation(q){return this.assertedUnderlyingResolver._originValidation(q)}get _shouldInitProactively(){return or()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return We(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var q=this;return(0,e.Z)(function*(){if(q.underlyingResolver)return;const V=yield function st(){return Tr.apply(this,arguments)}();q.underlyingResolver=V?q.cordovaResolver:q.browserResolver})()}}function ai(te){return te.unwrap()}function at(te){return Fn(te)}function Fn(te){const{_tokenResponse:q}=te instanceof re.ZR?te.customData:te;if(!q)return null;if(!(te instanceof re.ZR)&&"temporaryProof"in q&&"phoneNumber"in q)return M.P.credentialFromResult(te);const V=q.providerId;if(!V||V===M.o.PASSWORD)return null;let ye;switch(V){case M.o.GOOGLE:ye=M.Q;break;case M.o.FACEBOOK:ye=M.N;break;case M.o.GITHUB:ye=M.T;break;case M.o.TWITTER:ye=M.W;break;default:const{oauthIdToken:qe,oauthAccessToken:St,oauthTokenSecret:At,pendingToken:Ht,nonce:wn}=q;return St||At||qe||Ht?Ht?V.startsWith("saml.")?M.aL._create(V,Ht):M.J._fromParams({providerId:V,signInMethod:V,pendingToken:Ht,idToken:qe,accessToken:St}):new M.U(V).credential({idToken:qe,accessToken:St,rawNonce:wn}):null}return te instanceof re.ZR?ye.credentialFromError(te):ye.credentialFromResult(te)}function Un(te,q){return q.catch(V=>{throw V instanceof re.ZR&&function rn(te,q){var V,ye;const qe=null===(V=q.customData)||void 0===V?void 0:V._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ye=q)||void 0===ye?void 0:ye.code))q.resolver=new B(te,M.an(te,q));else if(qe){const St=Fn(q),At=q;St&&(At.credential=St,At.tenantId=qe.tenantId||void 0,At.email=qe.email||void 0,At.phoneNumber=qe.phoneNumber||void 0)}}(te,V),V}).then(V=>{const qe=V.user;return{operationType:V.operationType,credential:at(V),additionalUserInfo:M.al(V),user:j.getOrCreate(qe)}})}function Xt(te,q){return En.apply(this,arguments)}function En(){return(En=(0,e.Z)(function*(te,q){const V=yield q;return{verificationId:V.verificationId,confirm:ye=>Un(te,V.confirm(ye))}})).apply(this,arguments)}class B{constructor(q,V){this.resolver=V,this.auth=function ir(te){return te.wrapped()}(q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(q){return Un(ai(this.auth),this.resolver.resolveSignIn(q))}}class j{constructor(q){this._delegate=q,this.multiFactor=M.ao(q)}static getOrCreate(q){return j.USER_MAP.has(q)||j.USER_MAP.set(q,new j(q)),j.USER_MAP.get(q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(q){return this._delegate.getIdTokenResult(q)}getIdToken(q){return this._delegate.getIdToken(q)}linkAndRetrieveDataWithCredential(q){return this.linkWithCredential(q)}linkWithCredential(q){var V=this;return(0,e.Z)(function*(){return Un(V.auth,M.Z(V._delegate,q))})()}linkWithPhoneNumber(q,V){var ye=this;return(0,e.Z)(function*(){return Xt(ye.auth,M.l(ye._delegate,q,V))})()}linkWithPopup(q){var V=this;return(0,e.Z)(function*(){return Un(V.auth,M.d(V._delegate,q,_t))})()}linkWithRedirect(q){var V=this;return(0,e.Z)(function*(){return yield In(M.aE(V.auth)),M.g(V._delegate,q,_t)})()}reauthenticateAndRetrieveDataWithCredential(q){return this.reauthenticateWithCredential(q)}reauthenticateWithCredential(q){var V=this;return(0,e.Z)(function*(){return Un(V.auth,M._(V._delegate,q))})()}reauthenticateWithPhoneNumber(q,V){return Xt(this.auth,M.r(this._delegate,q,V))}reauthenticateWithPopup(q){return Un(this.auth,M.e(this._delegate,q,_t))}reauthenticateWithRedirect(q){var V=this;return(0,e.Z)(function*(){return yield In(M.aE(V.auth)),M.h(V._delegate,q,_t)})()}sendEmailVerification(q){return M.ab(this._delegate,q)}unlink(q){var V=this;return(0,e.Z)(function*(){return yield M.ak(V._delegate,q),V})()}updateEmail(q){return M.ag(this._delegate,q)}updatePassword(q){return M.ah(this._delegate,q)}updatePhoneNumber(q){return M.u(this._delegate,q)}updateProfile(q){return M.af(this._delegate,q)}verifyBeforeUpdateEmail(q,V){return M.ac(this._delegate,q,V)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}j.USER_MAP=new WeakMap;const F=M.ax;let J=(()=>{class te{constructor(V,ye){if(this.app=V,ye.isInitialized())return this._delegate=ye.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:qe}=V.options;F(qe,"invalid-api-key",{appName:V.name}),F(qe,"invalid-api-key",{appName:V.name});const St="undefined"!=typeof window?_t:void 0;this._delegate=ye.initialize({options:{persistence:Ze(qe,V.name),popupRedirectResolver:St}}),this._delegate._updateErrorMap(M.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?j.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(V){this._delegate.languageCode=V}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(V){this._delegate.tenantId=V}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(V,ye){M.G(this._delegate,V,ye)}applyActionCode(V){return M.a2(this._delegate,V)}checkActionCode(V){return M.a3(this._delegate,V)}confirmPasswordReset(V,ye){return M.a1(this._delegate,V,ye)}createUserWithEmailAndPassword(V,ye){var qe=this;return(0,e.Z)(function*(){return Un(qe._delegate,M.a5(qe._delegate,V,ye))})()}fetchProvidersForEmail(V){return this.fetchSignInMethodsForEmail(V)}fetchSignInMethodsForEmail(V){return M.aa(this._delegate,V)}isSignInWithEmailLink(V){return M.a8(this._delegate,V)}getRedirectResult(){var V=this;return(0,e.Z)(function*(){F(Ue(),V._delegate,"operation-not-supported-in-this-environment");const ye=yield M.j(V._delegate,_t);return ye?Un(V._delegate,Promise.resolve(ye)):{credential:null,user:null}})()}addFrameworkForLogging(V){!function Tn(te,q){(0,M.aE)(te)._logFramework(q)}(this._delegate,V)}onAuthStateChanged(V,ye,qe){const{next:St,error:At,complete:Ht}=z(V,ye,qe);return this._delegate.onAuthStateChanged(St,At,Ht)}onIdTokenChanged(V,ye,qe){const{next:St,error:At,complete:Ht}=z(V,ye,qe);return this._delegate.onIdTokenChanged(St,At,Ht)}sendSignInLinkToEmail(V,ye){return M.a7(this._delegate,V,ye)}sendPasswordResetEmail(V,ye){return M.a0(this._delegate,V,ye||void 0)}setPersistence(V){var ye=this;return(0,e.Z)(function*(){let qe;switch(function Hn(te,q){wr(Object.values(Jt).includes(q),te,"invalid-persistence-type"),(0,re.b$)()?wr(q!==Jt.SESSION,te,"unsupported-persistence-type"):(0,re.UG)()?wr(q===Jt.NONE,te,"unsupported-persistence-type"):ro()?wr(q===Jt.NONE||q===Jt.LOCAL&&(0,re.hl)(),te,"unsupported-persistence-type"):wr(q===Jt.NONE||Cr(),te,"unsupported-persistence-type")}(ye._delegate,V),V){case Jt.SESSION:qe=M.a;break;case Jt.LOCAL:qe=(yield M.ay(M.i)._isAvailable())?M.i:M.b;break;case Jt.NONE:qe=M.L;break;default:return M.at("argument-error",{appName:ye._delegate.name})}return ye._delegate.setPersistence(qe)})()}signInAndRetrieveDataWithCredential(V){return this.signInWithCredential(V)}signInAnonymously(){return Un(this._delegate,M.X(this._delegate))}signInWithCredential(V){return Un(this._delegate,M.Y(this._delegate,V))}signInWithCustomToken(V){return Un(this._delegate,M.$(this._delegate,V))}signInWithEmailAndPassword(V,ye){return Un(this._delegate,M.a6(this._delegate,V,ye))}signInWithEmailLink(V,ye){return Un(this._delegate,M.a9(this._delegate,V,ye))}signInWithPhoneNumber(V,ye){return Xt(this._delegate,M.s(this._delegate,V,ye))}signInWithPopup(V){var ye=this;return(0,e.Z)(function*(){return F(Ue(),ye._delegate,"operation-not-supported-in-this-environment"),Un(ye._delegate,M.c(ye._delegate,V,_t))})()}signInWithRedirect(V){var ye=this;return(0,e.Z)(function*(){return F(Ue(),ye._delegate,"operation-not-supported-in-this-environment"),yield In(ye._delegate),M.f(ye._delegate,V,_t)})()}updateCurrentUser(V){return this._delegate.updateCurrentUser(V)}verifyPasswordResetCode(V){return M.a4(this._delegate,V)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return te.Persistence=Jt,te})();function z(te,q,V){let ye=te;"function"!=typeof te&&({next:ye,error:q,complete:V}=te);const qe=ye;return{next:At=>qe(At&&j.getOrCreate(At)),error:q,complete:V}}function Ze(te,q){const V=function As(te,q){const V=qt();if(!V)return[];const ye=M.az(Vr,te,q);switch(V.getItem(ye)){case Jt.NONE:return[M.L];case Jt.LOCAL:return[M.i,M.a];case Jt.SESSION:return[M.a];default:return[]}}(te,q);if("undefined"!=typeof self&&!V.includes(M.i)&&V.push(M.i),"undefined"!=typeof window)for(const ye of[M.b,M.a])V.includes(ye)||V.push(ye);return V.includes(M.L)||V.push(M.L),V}class Ye{constructor(){this.providerId="phone",this._delegate=new M.P(ai(L.Z.auth()))}static credential(q,V){return M.P.credential(q,V)}verifyPhoneNumber(q,V){return this._delegate.verifyPhoneNumber(q,V)}unwrap(){return this._delegate}}Ye.PHONE_SIGN_IN_METHOD=M.P.PHONE_SIGN_IN_METHOD,Ye.PROVIDER_ID=M.P.PROVIDER_ID;const yt=M.ax;class ln{constructor(q,V,ye=L.Z.app()){var qe;yt(null===(qe=ye.options)||void 0===qe?void 0:qe.apiKey,"invalid-api-key",{appName:ye.name}),this._delegate=new M.R(q,V,ye.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function pr(te){te.INTERNAL.registerComponent(new de.wA("auth-compat",q=>{const V=q.getProvider("app-compat").getImmediate(),ye=q.getProvider("auth");return new J(V,ye)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:M.A.EMAIL_SIGNIN,PASSWORD_RESET:M.A.PASSWORD_RESET,RECOVER_EMAIL:M.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:M.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:M.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:M.A.VERIFY_EMAIL}},EmailAuthProvider:M.M,FacebookAuthProvider:M.N,GithubAuthProvider:M.T,GoogleAuthProvider:M.Q,OAuthProvider:M.U,SAMLAuthProvider:M.V,PhoneAuthProvider:Ye,PhoneMultiFactorGenerator:M.m,RecaptchaVerifier:ln,TwitterAuthProvider:M.W,Auth:J,AuthCredential:M.H,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),te.registerVersion("@firebase/auth-compat","0.2.18")}(L.Z)},9751:(rt,Te,P)=>{P.d(Te,{y:()=>ce});var e=P(2961),L=P(727),M=P(8822),re=P(9635),ue=P(2416),he=P(576),de=P(2806);let ce=(()=>{class X{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const we=new X;return we.source=this,we.operator=Ne,we}subscribe(Ne,we,it){const ve=function H(X){return X&&X instanceof e.Lv||function G(X){return X&&(0,he.m)(X.next)&&(0,he.m)(X.error)&&(0,he.m)(X.complete)}(X)&&(0,L.Nn)(X)}(Ne)?Ne:new e.Hp(Ne,we,it);return(0,de.x)(()=>{const{operator:ge,source:ot}=this;ve.add(ge?ge.call(ve,ot):ot?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(we){Ne.error(we)}}forEach(Ne,we){return new(we=_e(we))((it,ve)=>{const ge=new e.Hp({next:ot=>{try{Ne(ot)}catch(dt){ve(dt),ge.unsubscribe()}},error:ve,complete:it});this.subscribe(ge)})}_subscribe(Ne){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(Ne)}[M.L](){return this}pipe(...Ne){return(0,re.U)(Ne)(this)}toPromise(Ne){return new(Ne=_e(Ne))((we,it)=>{let ve;this.subscribe(ge=>ve=ge,ge=>it(ge),()=>we(ve))})}}return X.create=Ve=>new X(Ve),X})();function _e(X){var Ve;return null!==(Ve=null!=X?X:ue.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(rt,Te,P)=>{P.d(Te,{x:()=>de});var e=P(9751),L=P(727);const re=(0,P(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=P(8737),he=P(2806);let de=(()=>{class _e extends e.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const X=new ce(this,this);return X.operator=H,X}_throwIfClosed(){if(this.closed)throw new re}next(H){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(H)}})}error(H){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:X}=this;for(;X.length;)X.shift().error(H)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:X,isStopped:Ve,observers:Ne}=this;return X||Ve?L.Lc:(this.currentObservers=null,Ne.push(H),new L.w0(()=>{this.currentObservers=null,(0,ue.P)(Ne,H)}))}_checkFinalizedStatuses(H){const{hasError:X,thrownError:Ve,isStopped:Ne}=this;X?H.error(Ve):Ne&&H.complete()}asObservable(){const H=new e.y;return H.source=this,H}}return _e.create=(G,H)=>new ce(G,H),_e})();class ce extends de{constructor(G,H){super(),this.destination=G,this.source=H}next(G){var H,X;null===(X=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===X||X.call(H,G)}error(G){var H,X;null===(X=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===X||X.call(H,G)}complete(){var G,H;null===(H=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===H||H.call(G)}_subscribe(G){var H,X;return null!==(X=null===(H=this.source)||void 0===H?void 0:H.subscribe(G))&&void 0!==X?X:L.Lc}}},2961:(rt,Te,P)=>{P.d(Te,{Hp:()=>it,Lv:()=>X});var e=P(576),L=P(727),M=P(2416),re=P(7849);function ue(){}const he=_e("C",void 0,void 0);function _e(Be,ke,Ee){return{kind:Be,value:ke,error:Ee}}var G=P(3410),H=P(2806);class X extends L.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,L.Nn)(ke)&&ke.add(this)):this.destination=dt}static create(ke,Ee,Qe){return new it(ke,Ee,Qe)}next(ke){this.isStopped?ot(function ce(Be){return _e("N",Be,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?ot(function de(Be){return _e("E",void 0,Be)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?ot(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Ne(Be,ke){return Ve.call(Be,ke)}class we{constructor(ke){this.partialObserver=ke}next(ke){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(ke)}catch(Qe){ve(Qe)}}error(ke){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(ke)}catch(Qe){ve(Qe)}else ve(ke)}complete(){const{partialObserver:ke}=this;if(ke.complete)try{ke.complete()}catch(Ee){ve(Ee)}}}class it extends X{constructor(ke,Ee,Qe){let He;if(super(),(0,e.m)(ke)||!ke)He={next:null!=ke?ke:void 0,error:null!=Ee?Ee:void 0,complete:null!=Qe?Qe:void 0};else{let Ce;this&&M.v.useDeprecatedNextContext?(Ce=Object.create(ke),Ce.unsubscribe=()=>this.unsubscribe(),He={next:ke.next&&Ne(ke.next,Ce),error:ke.error&&Ne(ke.error,Ce),complete:ke.complete&&Ne(ke.complete,Ce)}):He=ke}this.destination=new we(He)}}function ve(Be){M.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Be):(0,re.h)(Be)}function ot(Be,ke){const{onStoppedNotification:Ee}=M.v;Ee&&G.z.setTimeout(()=>Ee(Be,ke))}const dt={closed:!0,next:ue,error:function ge(Be){throw Be},complete:ue}},727:(rt,Te,P)=>{P.d(Te,{Lc:()=>he,w0:()=>ue,Nn:()=>de});var e=P(576);const M=(0,P(3888).d)(_e=>function(H){_e(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((X,Ve)=>`${Ve+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var re=P(8737);class ue{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Ne of H)Ne.remove(this);else H.remove(this);const{initialTeardown:X}=this;if((0,e.m)(X))try{X()}catch(Ne){G=Ne instanceof M?Ne.errors:[Ne]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Ne of Ve)try{ce(Ne)}catch(we){G=null!=G?G:[],we instanceof M?G=[...G,...we.errors]:G.push(we)}}if(G)throw new M(G)}}add(G){var H;if(G&&G!==this)if(this.closed)ce(G);else{if(G instanceof ue){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(G)}}_hasParent(G){const{_parentage:H}=this;return H===G||Array.isArray(H)&&H.includes(G)}_addParent(G){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(G),H):H?[H,G]:G}_removeParent(G){const{_parentage:H}=this;H===G?this._parentage=null:Array.isArray(H)&&(0,re.P)(H,G)}remove(G){const{_finalizers:H}=this;H&&(0,re.P)(H,G),G instanceof ue&&G._removeParent(this)}}ue.EMPTY=(()=>{const _e=new ue;return _e.closed=!0,_e})();const he=ue.EMPTY;function de(_e){return _e instanceof ue||_e&&"closed"in _e&&(0,e.m)(_e.remove)&&(0,e.m)(_e.add)&&(0,e.m)(_e.unsubscribe)}function ce(_e){(0,e.m)(_e)?_e():_e.unsubscribe()}},2416:(rt,Te,P)=>{P.d(Te,{v:()=>e});const e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(rt,Te,P)=>{P.d(Te,{E:()=>L});const L=new(P(9751).y)(ue=>ue.complete())},8996:(rt,Te,P)=>{P.d(Te,{D:()=>ke});var e=P(8421),L=P(5363),M=P(9468),he=P(9751),ce=P(2202),_e=P(576),G=P(9672);function X(Ee,Qe){if(!Ee)throw new Error("Iterable cannot be null");return new he.y(He=>{(0,G.f)(He,Qe,()=>{const Ce=Ee[Symbol.asyncIterator]();(0,G.f)(He,Qe,()=>{Ce.next().then(De=>{De.done?He.complete():He.next(De.value)})},0,!0)})})}var Ve=P(3670),Ne=P(8239),we=P(1144),it=P(6495),ve=P(2206),ge=P(4532),ot=P(3260);function ke(Ee,Qe){return Qe?function Be(Ee,Qe){if(null!=Ee){if((0,Ve.c)(Ee))return function re(Ee,Qe){return(0,e.Xf)(Ee).pipe((0,M.R)(Qe),(0,L.Q)(Qe))}(Ee,Qe);if((0,we.z)(Ee))return function de(Ee,Qe){return new he.y(He=>{let Ce=0;return Qe.schedule(function(){Ce===Ee.length?He.complete():(He.next(Ee[Ce++]),He.closed||this.schedule())})})}(Ee,Qe);if((0,Ne.t)(Ee))return function ue(Ee,Qe){return(0,e.Xf)(Ee).pipe((0,M.R)(Qe),(0,L.Q)(Qe))}(Ee,Qe);if((0,ve.D)(Ee))return X(Ee,Qe);if((0,it.T)(Ee))return function H(Ee,Qe){return new he.y(He=>{let Ce;return(0,G.f)(He,Qe,()=>{Ce=Ee[ce.h](),(0,G.f)(He,Qe,()=>{let De,Y;try{({value:De,done:Y}=Ce.next())}catch(ie){return void He.error(ie)}Y?He.complete():He.next(De)},0,!0)}),()=>(0,_e.m)(null==Ce?void 0:Ce.return)&&Ce.return()})}(Ee,Qe);if((0,ot.L)(Ee))return function dt(Ee,Qe){return X((0,ot.Q)(Ee),Qe)}(Ee,Qe)}throw(0,ge.z)(Ee)}(Ee,Qe):(0,e.Xf)(Ee)}},8421:(rt,Te,P)=>{P.d(Te,{Xf:()=>Ve});var e=P(5987),L=P(1144),M=P(8239),re=P(9751),ue=P(3670),he=P(2206),de=P(4532),ce=P(6495),_e=P(3260),G=P(576),H=P(7849),X=P(8822);function Ve(Be){if(Be instanceof re.y)return Be;if(null!=Be){if((0,ue.c)(Be))return function Ne(Be){return new re.y(ke=>{const Ee=Be[X.L]();if((0,G.m)(Ee.subscribe))return Ee.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,L.z)(Be))return function we(Be){return new re.y(ke=>{for(let Ee=0;Ee<Be.length&&!ke.closed;Ee++)ke.next(Be[Ee]);ke.complete()})}(Be);if((0,M.t)(Be))return function it(Be){return new re.y(ke=>{Be.then(Ee=>{ke.closed||(ke.next(Ee),ke.complete())},Ee=>ke.error(Ee)).then(null,H.h)})}(Be);if((0,he.D)(Be))return ge(Be);if((0,ce.T)(Be))return function ve(Be){return new re.y(ke=>{for(const Ee of Be)if(ke.next(Ee),ke.closed)return;ke.complete()})}(Be);if((0,_e.L)(Be))return function ot(Be){return ge((0,_e.Q)(Be))}(Be)}throw(0,de.z)(Be)}function ge(Be){return new re.y(ke=>{(function dt(Be,ke){var Ee,Qe,He,Ce;return(0,e.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,e.KL)(Be);!(Qe=yield Ee.next()).done;)if(ke.next(Qe.value),ke.closed)return}catch(De){He={error:De}}finally{try{Qe&&!Qe.done&&(Ce=Ee.return)&&(yield Ce.call(Ee))}finally{if(He)throw He.error}}ke.complete()})})(Be,ke).catch(Ee=>ke.error(Ee))})}},6451:(rt,Te,P)=>{P.d(Te,{T:()=>he});var e=P(8189),L=P(8421),M=P(515),re=P(3269),ue=P(8996);function he(...de){const ce=(0,re.yG)(de),_e=(0,re._6)(de,1/0),G=de;return G.length?1===G.length?(0,L.Xf)(G[0]):(0,e.J)(_e)((0,ue.D)(G,ce)):M.E}},5403:(rt,Te,P)=>{P.d(Te,{x:()=>L});var e=P(2961);function L(re,ue,he,de,ce){return new M(re,ue,he,de,ce)}class M extends e.Lv{constructor(ue,he,de,ce,_e,G){super(ue),this.onFinalize=_e,this.shouldUnsubscribe=G,this._next=he?function(H){try{he(H)}catch(X){ue.error(X)}}:super._next,this._error=ce?function(H){try{ce(H)}catch(X){ue.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(H){ue.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(rt,Te,P)=>{P.d(Te,{U:()=>M});var e=P(4482),L=P(5403);function M(re,ue){return(0,e.e)((he,de)=>{let ce=0;he.subscribe((0,L.x)(de,_e=>{de.next(re.call(ue,_e,ce++))}))})}},8189:(rt,Te,P)=>{P.d(Te,{J:()=>M});var e=P(5577),L=P(4671);function M(re=1/0){return(0,e.z)(L.y,re)}},5577:(rt,Te,P)=>{P.d(Te,{z:()=>ce});var e=P(4004),L=P(8421),M=P(4482),re=P(9672),ue=P(5403),de=P(576);function ce(_e,G,H=1/0){return(0,de.m)(G)?ce((X,Ve)=>(0,e.U)((Ne,we)=>G(X,Ne,Ve,we))((0,L.Xf)(_e(X,Ve))),H):("number"==typeof G&&(H=G),(0,M.e)((X,Ve)=>function he(_e,G,H,X,Ve,Ne,we,it){const ve=[];let ge=0,ot=0,dt=!1;const Be=()=>{dt&&!ve.length&&!ge&&G.complete()},ke=Qe=>ge<X?Ee(Qe):ve.push(Qe),Ee=Qe=>{Ne&&G.next(Qe),ge++;let He=!1;(0,L.Xf)(H(Qe,ot++)).subscribe((0,ue.x)(G,Ce=>{null==Ve||Ve(Ce),Ne?ke(Ce):G.next(Ce)},()=>{He=!0},void 0,()=>{if(He)try{for(ge--;ve.length&&ge<X;){const Ce=ve.shift();we?(0,re.f)(G,we,()=>Ee(Ce)):Ee(Ce)}Be()}catch(Ce){G.error(Ce)}}))};return _e.subscribe((0,ue.x)(G,ke,()=>{dt=!0,Be()})),()=>{null==it||it()}}(X,Ve,_e,H)))}},5363:(rt,Te,P)=>{P.d(Te,{Q:()=>re});var e=P(9672),L=P(4482),M=P(5403);function re(ue,he=0){return(0,L.e)((de,ce)=>{de.subscribe((0,M.x)(ce,_e=>(0,e.f)(ce,ue,()=>ce.next(_e),he),()=>(0,e.f)(ce,ue,()=>ce.complete(),he),_e=>(0,e.f)(ce,ue,()=>ce.error(_e),he)))})}},3099:(rt,Te,P)=>{P.d(Te,{B:()=>ue});var e=P(8421),L=P(7579),M=P(2961),re=P(4482);function ue(de={}){const{connector:ce=(()=>new L.x),resetOnError:_e=!0,resetOnComplete:G=!0,resetOnRefCountZero:H=!0}=de;return X=>{let Ve,Ne,we,it=0,ve=!1,ge=!1;const ot=()=>{null==Ne||Ne.unsubscribe(),Ne=void 0},dt=()=>{ot(),Ve=we=void 0,ve=ge=!1},Be=()=>{const ke=Ve;dt(),null==ke||ke.unsubscribe()};return(0,re.e)((ke,Ee)=>{it++,!ge&&!ve&&ot();const Qe=we=null!=we?we:ce();Ee.add(()=>{it--,0===it&&!ge&&!ve&&(Ne=he(Be,H))}),Qe.subscribe(Ee),!Ve&&it>0&&(Ve=new M.Hp({next:He=>Qe.next(He),error:He=>{ge=!0,ot(),Ne=he(dt,_e,He),Qe.error(He)},complete:()=>{ve=!0,ot(),Ne=he(dt,G),Qe.complete()}}),(0,e.Xf)(ke).subscribe(Ve))})(X)}}function he(de,ce,..._e){if(!0===ce)return void de();if(!1===ce)return;const G=new M.Hp({next:()=>{G.unsubscribe(),de()}});return ce(..._e).subscribe(G)}},9468:(rt,Te,P)=>{P.d(Te,{R:()=>L});var e=P(4482);function L(M,re=0){return(0,e.e)((ue,he)=>{he.add(M.schedule(()=>ue.subscribe(he),re))})}},8505:(rt,Te,P)=>{P.d(Te,{b:()=>ue});var e=P(576),L=P(4482),M=P(5403),re=P(4671);function ue(he,de,ce){const _e=(0,e.m)(he)||de||ce?{next:he,error:de,complete:ce}:he;return _e?(0,L.e)((G,H)=>{var X;null===(X=_e.subscribe)||void 0===X||X.call(_e);let Ve=!0;G.subscribe((0,M.x)(H,Ne=>{var we;null===(we=_e.next)||void 0===we||we.call(_e,Ne),H.next(Ne)},()=>{var Ne;Ve=!1,null===(Ne=_e.complete)||void 0===Ne||Ne.call(_e),H.complete()},Ne=>{var we;Ve=!1,null===(we=_e.error)||void 0===we||we.call(_e,Ne),H.error(Ne)},()=>{var Ne,we;Ve&&(null===(Ne=_e.unsubscribe)||void 0===Ne||Ne.call(_e)),null===(we=_e.finalize)||void 0===we||we.call(_e)}))}):re.y}},4408:(rt,Te,P)=>{P.d(Te,{o:()=>ue});var e=P(727);class L extends e.w0{constructor(de,ce){super()}schedule(de,ce=0){return this}}const M={setInterval(he,de,...ce){const{delegate:_e}=M;return null!=_e&&_e.setInterval?_e.setInterval(he,de,...ce):setInterval(he,de,...ce)},clearInterval(he){const{delegate:de}=M;return((null==de?void 0:de.clearInterval)||clearInterval)(he)},delegate:void 0};var re=P(8737);class ue extends L{constructor(de,ce){super(de,ce),this.scheduler=de,this.work=ce,this.pending=!1}schedule(de,ce=0){if(this.closed)return this;this.state=de;const _e=this.id,G=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(G,_e,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(G,this.id,ce),this}requestAsyncId(de,ce,_e=0){return M.setInterval(de.flush.bind(de,this),_e)}recycleAsyncId(de,ce,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return ce;M.clearInterval(ce)}execute(de,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(de,ce);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,ce){let G,_e=!1;try{this.work(de)}catch(H){_e=!0,G=H||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:de,scheduler:ce}=this,{actions:_e}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(_e,this),null!=de&&(this.id=this.recycleAsyncId(ce,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(rt,Te,P)=>{P.d(Te,{v:()=>M});var e=P(6063);class L{constructor(ue,he=L.now){this.schedulerActionCtor=ue,this.now=he}schedule(ue,he=0,de){return new this.schedulerActionCtor(this,ue).schedule(de,he)}}L.now=e.l.now;class M extends L{constructor(ue,he=L.now){super(ue,he),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ue){const{actions:he}=this;if(this._active)return void he.push(ue);let de;this._active=!0;do{if(de=ue.execute(ue.state,ue.delay))break}while(ue=he.shift());if(this._active=!1,de){for(;ue=he.shift();)ue.unsubscribe();throw de}}}},4986:(rt,Te,P)=>{P.d(Te,{P:()=>re,z:()=>M});var e=P(4408);const M=new(P(7565).v)(e.o),re=M},6063:(rt,Te,P)=>{P.d(Te,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},3410:(rt,Te,P)=>{P.d(Te,{z:()=>e});const e={setTimeout(L,M,...re){const{delegate:ue}=e;return null!=ue&&ue.setTimeout?ue.setTimeout(L,M,...re):setTimeout(L,M,...re)},clearTimeout(L){const{delegate:M}=e;return((null==M?void 0:M.clearTimeout)||clearTimeout)(L)},delegate:void 0}},2202:(rt,Te,P)=>{P.d(Te,{h:()=>L});const L=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rt,Te,P)=>{P.d(Te,{L:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(rt,Te,P)=>{P.d(Te,{_6:()=>he,jO:()=>re,yG:()=>ue});var e=P(576),L=P(3532);function M(de){return de[de.length-1]}function re(de){return(0,e.m)(M(de))?de.pop():void 0}function ue(de){return(0,L.K)(M(de))?de.pop():void 0}function he(de,ce){return"number"==typeof M(de)?de.pop():ce}},8737:(rt,Te,P)=>{function e(L,M){if(L){const re=L.indexOf(M);0<=re&&L.splice(re,1)}}P.d(Te,{P:()=>e})},3888:(rt,Te,P)=>{function e(L){const re=L(ue=>{Error.call(ue),ue.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}P.d(Te,{d:()=>e})},2806:(rt,Te,P)=>{P.d(Te,{O:()=>re,x:()=>M});var e=P(2416);let L=null;function M(ue){if(e.v.useDeprecatedSynchronousErrorHandling){const he=!L;if(he&&(L={errorThrown:!1,error:null}),ue(),he){const{errorThrown:de,error:ce}=L;if(L=null,de)throw ce}}else ue()}function re(ue){e.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=ue)}},9672:(rt,Te,P)=>{function e(L,M,re,ue=0,he=!1){const de=M.schedule(function(){re(),he?L.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(L.add(de),!he)return de}P.d(Te,{f:()=>e})},4671:(rt,Te,P)=>{function e(L){return L}P.d(Te,{y:()=>e})},1144:(rt,Te,P)=>{P.d(Te,{z:()=>e});const e=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(rt,Te,P)=>{P.d(Te,{D:()=>L});var e=P(576);function L(M){return Symbol.asyncIterator&&(0,e.m)(null==M?void 0:M[Symbol.asyncIterator])}},576:(rt,Te,P)=>{function e(L){return"function"==typeof L}P.d(Te,{m:()=>e})},3670:(rt,Te,P)=>{P.d(Te,{c:()=>M});var e=P(8822),L=P(576);function M(re){return(0,L.m)(re[e.L])}},6495:(rt,Te,P)=>{P.d(Te,{T:()=>M});var e=P(2202),L=P(576);function M(re){return(0,L.m)(null==re?void 0:re[e.h])}},8239:(rt,Te,P)=>{P.d(Te,{t:()=>L});var e=P(576);function L(M){return(0,e.m)(null==M?void 0:M.then)}},3260:(rt,Te,P)=>{P.d(Te,{L:()=>re,Q:()=>M});var e=P(5987),L=P(576);function M(ue){return(0,e.FC)(this,arguments,function*(){const de=ue.getReader();try{for(;;){const{value:ce,done:_e}=yield(0,e.qq)(de.read());if(_e)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(ce)}}finally{de.releaseLock()}})}function re(ue){return(0,L.m)(null==ue?void 0:ue.getReader)}},3532:(rt,Te,P)=>{P.d(Te,{K:()=>L});var e=P(576);function L(M){return M&&(0,e.m)(M.schedule)}},4482:(rt,Te,P)=>{P.d(Te,{A:()=>L,e:()=>M});var e=P(576);function L(re){return(0,e.m)(null==re?void 0:re.lift)}function M(re){return ue=>{if(L(ue))return ue.lift(function(he){try{return re(he,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(rt,Te,P)=>{P.d(Te,{U:()=>M,z:()=>L});var e=P(4671);function L(...re){return M(re)}function M(re){return 0===re.length?e.y:1===re.length?re[0]:function(he){return re.reduce((de,ce)=>ce(de),he)}}},7849:(rt,Te,P)=>{P.d(Te,{h:()=>M});var e=P(2416),L=P(3410);function M(re){L.z.setTimeout(()=>{const{onUnhandledError:ue}=e.v;if(!ue)throw re;ue(re)})}},4532:(rt,Te,P)=>{function e(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Te,{z:()=>e})},5987:(rt,Te,P)=>{function ce(Y,ie,oe,me){return new(oe||(oe=Promise))(function(Fe,vt){function en(Tn){try{Ke(me.next(Tn))}catch(Vn){vt(Vn)}}function Bt(Tn){try{Ke(me.throw(Tn))}catch(Vn){vt(Vn)}}function Ke(Tn){Tn.done?Fe(Tn.value):function le(Fe){return Fe instanceof oe?Fe:new oe(function(vt){vt(Fe)})}(Tn.value).then(en,Bt)}Ke((me=me.apply(Y,ie||[])).next())})}function ve(Y){return this instanceof ve?(this.v=Y,this):new ve(Y)}function ge(Y,ie,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,me=oe.apply(Y,ie||[]),Fe=[];return le={},vt("next"),vt("throw"),vt("return"),le[Symbol.asyncIterator]=function(){return this},le;function vt(yn){me[yn]&&(le[yn]=function(tn){return new Promise(function(Bn,qr){Fe.push([yn,tn,Bn,qr])>1||en(yn,tn)})})}function en(yn,tn){try{!function Bt(yn){yn.value instanceof ve?Promise.resolve(yn.value.v).then(Ke,Tn):Vn(Fe[0][2],yn)}(me[yn](tn))}catch(Bn){Vn(Fe[0][3],Bn)}}function Ke(yn){en("next",yn)}function Tn(yn){en("throw",yn)}function Vn(yn,tn){yn(tn),Fe.shift(),Fe.length&&en(Fe[0][0],Fe[0][1])}}function dt(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,ie=Y[Symbol.asyncIterator];return ie?ie.call(Y):(Y=function X(Y){var ie="function"==typeof Symbol&&Symbol.iterator,oe=ie&&Y[ie],me=0;if(oe)return oe.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&me>=Y.length&&(Y=void 0),{value:Y&&Y[me++],done:!Y}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),oe={},me("next"),me("throw"),me("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function me(Fe){oe[Fe]=Y[Fe]&&function(vt){return new Promise(function(en,Bt){!function le(Fe,vt,en,Bt){Promise.resolve(Bt).then(function(Ke){Fe({value:Ke,done:en})},vt)}(en,Bt,(vt=Y[Fe](vt)).done,vt.value)})}}}P.d(Te,{FC:()=>ge,KL:()=>dt,mG:()=>ce,qq:()=>ve})},5e3:(rt,Te,P)=>{P.d(Te,{$8M:()=>Aa,$Z:()=>Mh,AFp:()=>Xy,ALo:()=>_g,AaK:()=>ce,AsE:()=>uy,BQk:()=>og,CHM:()=>Ms,CRH:()=>Ly,CZH:()=>kg,Ckj:()=>Je,CqO:()=>F1,D6c:()=>et,EJc:()=>TE,EpF:()=>R1,F4k:()=>L1,FYo:()=>zs,FiY:()=>xe,G48:()=>Ti,Gf:()=>pT,GfV:()=>p0,Gpc:()=>H,JOm:()=>ei,Jf7:()=>E0,KtG:()=>es,LFG:()=>dn,LSH:()=>Re,Lbi:()=>yp,Lck:()=>fg,MMx:()=>Ay,NdJ:()=>ty,OlP:()=>un,Oqu:()=>ay,PXZ:()=>sv,Q6J:()=>Y_,QGY:()=>ey,QP$:()=>zl,Qsj:()=>Iu,R0b:()=>Ro,RDi:()=>ah,Rgc:()=>Mu,SBq:()=>Au,Sil:()=>tv,Suo:()=>Cg,TTD:()=>Ds,TgZ:()=>tg,VKq:()=>Dy,X6Q:()=>Bg,XFs:()=>st,Xpm:()=>F,Xts:()=>qc,Y36:()=>nd,YKP:()=>Mt,YNc:()=>U1,Yjl:()=>te,Yz7:()=>tn,ZZ4:()=>jg,_Bn:()=>lt,_UZ:()=>cd,_Vd:()=>bu,_c5:()=>LE,_uU:()=>dC,aQg:()=>$g,c2e:()=>IT,cJS:()=>qr,cg1:()=>py,dDg:()=>MT,deG:()=>yu,dqk:()=>We,eFA:()=>RT,ekj:()=>iy,eoX:()=>ov,f3M:()=>ka,g9A:()=>AT,h0i:()=>Nu,hGG:()=>_r,hij:()=>sg,iGM:()=>vg,ifc:()=>qt,ip1:()=>Ad,kL8:()=>fy,lG2:()=>pr,lcZ:()=>yg,lnq:()=>ly,lqb:()=>Tl,lri:()=>ZT,n5z:()=>ba,oAB:()=>yt,oxw:()=>j1,q4F:()=>Gc,qLn:()=>Jc,qOj:()=>E1,qZA:()=>ng,rWj:()=>NT,sBO:()=>kE,sIi:()=>Co,s_b:()=>rp,soG:()=>Zg,tb:()=>Qa,tp0:()=>ut,uIk:()=>ku,vHH:()=>we,vpe:()=>oa,wAp:()=>Et,xp6:()=>H0,ynx:()=>rg,z2F:()=>Tp,zSh:()=>ji,zs3:()=>Zl});var e=P(7579),L=P(727),M=P(9751),re=P(6451),ue=P(3099);function he(s){for(let a in s)if(s[a]===he)return a;throw Error("Could not find renamed property on target object.")}function de(s,a){for(const l in a)a.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=a[l])}function ce(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ce).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function _e(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const G=he({__forward_ref__:he});function H(s){return s.__forward_ref__=H,s.toString=function(){return ce(this())},s}function X(s){return Ve(s)?s():s}function Ve(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===H}class we extends Error{constructor(a,l){super(function it(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,l)),this.code=a}}function ve(s){return"string"==typeof s?s:null==s?"":String(s)}function ke(s,a){throw new we(-201,!1)}function Bt(s,a){null==s&&function Ke(s,a,l,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${l} ${c} ${a} <=Actual]`))}(a,s,null,"!=")}function tn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function qr(s){return{providers:s.providers||[],imports:s.imports||[]}}function Pn(s){return ho(s,Cr)||ho(s,Ue)}function ho(s,a){return s.hasOwnProperty(a)?s[a]:null}function Ei(s){return s&&(s.hasOwnProperty(ro)||s.hasOwnProperty(or))?s[ro]:null}const Cr=he({\u0275prov:he}),ro=he({\u0275inj:he}),Ue=he({ngInjectableDef:he}),or=he({ngInjectorDef:he});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let Tr;function Jt(s){const a=Tr;return Tr=s,a}function wr(s,a,l){const c=Pn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&st.Optional?null:void 0!==a?a:void ke(ce(s))}function Hn(s){return{toString:s}.toString()}var In=(()=>((In=In||{})[In.OnPush=0]="OnPush",In[In.Default=1]="Default",In))(),qt=(()=>{return(s=qt||(qt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",qt;var s})();const We=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),ir={},at=[],rn=he({\u0275cmp:he}),Fn=he({\u0275dir:he}),Un=he({\u0275pipe:he}),Xt=he({\u0275mod:he}),En=he({\u0275fac:he}),B=he({__NG_ELEMENT_ID__:he});let j=0;function F(s){return Hn(()=>{const l=!0===s.standalone,c={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===In.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||at,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||qt.Emulated,id:"c"+j++,styles:s.styles||at,_:null,setInput:null,schemas:s.schemas||null,tView:null},f=s.dependencies,_=s.features;return h.inputs=on(s.inputs,c),h.outputs=on(s.outputs),_&&_.forEach(T=>T(h)),h.directiveDefs=f?()=>("function"==typeof f?f():f).map(z).filter(Ze):null,h.pipeDefs=f?()=>("function"==typeof f?f():f).map(ye).filter(Ze):null,h})}function z(s){return q(s)||V(s)}function Ze(s){return null!==s}const Ye={};function yt(s){return Hn(()=>{const a={type:s.type,bootstrap:s.bootstrap||at,declarations:s.declarations||at,imports:s.imports||at,exports:s.exports||at,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Ye[s.id]=s.type),a})}function on(s,a){if(null==s)return ir;const l={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),l[h]=c,a&&(a[h]=f)}return l}const pr=F;function te(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function q(s){return s[rn]||null}function V(s){return s[Fn]||null}function ye(s){return s[Un]||null}function qe(s,a){const l=s[Xt]||null;if(!l&&!0===a)throw new Error(`Type ${ce(s)} does not have '\u0275mod' property.`);return l}function Ut(s){return Array.isArray(s)&&"object"==typeof s[1]}function Hr(s){return Array.isArray(s)&&!0===s[1]}function Hu(s){return 0!=(8&s.flags)}function Es(s){return 2==(2&s.flags)}function ca(s){return 1==(1&s.flags)}function Vo(s){return null!==s.template}function Yn(s){return 0!=(256&s[2])}function So(s,a){return s.hasOwnProperty(En)?s[En]:null}class Hd{constructor(a,l,c){this.previousValue=a,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ds(){return Wu}function Wu(s){return s.type.prototype.ngOnChanges&&(s.setInput=vc),zu}function zu(){const s=xi(this),a=null==s?void 0:s.current;if(a){const l=s.previous;if(l===ir)s.previous=a;else for(let c in a)l[c]=a[c];s.current=null,this.ngOnChanges(a)}}function vc(s,a,l,c){const h=xi(s)||function ui(s,a){return s[Ss]=a}(s,{previous:ir,current:null}),f=h.current||(h.current={}),_=h.previous,T=this.declaredInputs[l],b=_[T];f[T]=new Hd(b&&b.currentValue,a,_===ir),s[c]=a}Ds.ngInherit=!0;const Ss="__ngSimpleChanges__";function xi(s){return s[Ss]||null}function Rn(s){for(;Array.isArray(s);)s=s[0];return s}function xs(s,a){return Rn(a[s])}function kn(s,a){return Rn(a[s.index])}function pa(s,a){return s.data[a]}function Zr(s,a){const l=a[s];return Ut(l)?l:l[0]}function ks(s){return 4==(4&s[2])}function Nr(s){return 64==(64&s[2])}function Gr(s,a){return null==a?null:s[a]}function Yi(s){s[18]=0}function el(s,a){s[5]+=a;let l=s,c=s[3];for(;null!==c&&(1===a&&1===l[5]||-1===a&&0===l[5]);)c[5]+=a,l=c,c=c[3]}const ht={lFrame:wc(null),bindingsEnabled:!0};function Zi(){return ht.bindingsEnabled}function Se(){return ht.lFrame.lView}function jt(){return ht.lFrame.tView}function Ms(s){return ht.lFrame.contextLView=s,s[8]}function es(s){return ht.lFrame.contextLView=null,s}function Ln(){let s=ga();for(;null!==s&&64===s.type;)s=s.parent;return s}function ga(){return ht.lFrame.currentTNode}function fo(s,a){const l=ht.lFrame;l.currentTNode=s,l.isParent=a}function ns(){return ht.lFrame.isParent}function Ps(){ht.lFrame.isParent=!1}function Xn(){const s=ht.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function xo(){return ht.lFrame.bindingIndex}function li(){return ht.lFrame.bindingIndex++}function $o(s){const a=ht.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,l}function Os(s,a){const l=ht.lFrame;l.bindingIndex=l.bindingRootIndex=s,Rs(a)}function Rs(s){ht.lFrame.currentDirectiveIndex=s}function au(){return ht.lFrame.currentQueryIndex}function Pi(s){ht.lFrame.currentQueryIndex=s}function nl(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function ci(s,a,l){if(l&st.SkipSelf){let h=a,f=s;for(;!(h=h.parent,null!==h||l&st.Host||(h=nl(f),null===h||(f=f[15],10&h.type))););if(null===h)return!1;a=h,s=f}const c=ht.lFrame=ma();return c.currentTNode=a,c.lView=s,!0}function rl(s){const a=ma(),l=s[1];ht.lFrame=a,a.currentTNode=l.firstChild,a.lView=s,a.tView=l,a.contextLView=s,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function ma(){const s=ht.lFrame,a=null===s?null:s.child;return null===a?wc(s):a}function wc(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Fs(){const s=ht.lFrame;return ht.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const bc=Fs;function qs(){const s=Fs();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function gr(){return ht.lFrame.selectedIndex}function ko(s){ht.lFrame.selectedIndex=s}function qn(){const s=ht.lFrame;return pa(s.tView,s.selectedIndex)}function ya(s,a){for(let l=a.directiveStart,c=a.directiveEnd;l<c;l++){const f=s.data[l].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:T,ngAfterViewInit:b,ngAfterViewChecked:E,ngOnDestroy:N}=f;_&&(s.contentHooks||(s.contentHooks=[])).push(-l,_),T&&((s.contentHooks||(s.contentHooks=[])).push(l,T),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,T)),b&&(s.viewHooks||(s.viewHooks=[])).push(-l,b),E&&((s.viewHooks||(s.viewHooks=[])).push(l,E),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,E)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(l,N)}}function Dc(s,a,l){Ho(s,a,3,l)}function rs(s,a,l,c){(3&s[2])===l&&Ho(s,a,l,c)}function il(s,a){let l=s[2];(3&l)===a&&(l&=2047,l+=1,s[2]=l)}function Ho(s,a,l,c){const f=null!=c?c:-1,_=a.length-1;let T=0;for(let b=void 0!==c?65535&s[18]:0;b<_;b++)if("number"==typeof a[b+1]){if(T=a[b],null!=c&&T>=c)break}else a[b]<0&&(s[18]+=65536),(T<f||-1==f)&&(cu(s,l,a,b),s[18]=(4294901760&s[18])+b+2),b++}function cu(s,a,l,c){const h=l[c]<0,f=l[c+1],T=s[h?-l[c]:l[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{f.call(T)}finally{}}}else try{f.call(T)}finally{}}class os{constructor(a,l,c){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function ss(s,a,l){let c=0;for(;c<l.length;){const h=l[c];if("number"==typeof h){if(0!==h)break;c++;const f=l[c++],_=l[c++],T=l[c++];s.setAttribute(a,_,T,f)}else{const f=h,_=l[++c];di(f)?s.setProperty(a,f,_):s.setAttribute(a,f,_),c++}}return c}function Qd(s){return 3===s||4===s||6===s}function di(s){return 64===s.charCodeAt(0)}function pu(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let l=-1;for(let c=0;c<a.length;c++){const h=a[c];"number"==typeof h?l=h:0===l||Kd(s,l,h,null,-1===l||2===l?a[++c]:null)}}return s}function Kd(s,a,l,c,h){let f=0,_=s.length;if(-1===a)_=-1;else for(;f<s.length;){const T=s[f++];if("number"==typeof T){if(T===a){_=-1;break}if(T>a){_=f-1;break}}}for(;f<s.length;){const T=s[f];if("number"==typeof T)break;if(T===l){if(null===c)return void(null!==h&&(s[f+1]=h));if(c===s[f+1])return void(s[f+2]=h)}f++,null!==c&&f++,null!==h&&f++}-1!==_&&(s.splice(_,0,a),f=_+1),s.splice(f++,0,l),null!==c&&s.splice(f++,0,c),null!==h&&s.splice(f++,0,h)}function Yd(s){return-1!==s}function va(s){return 32767&s}function Ca(s,a){let l=function go(s){return s>>16}(s),c=a;for(;l>0;)c=c[15],l--;return c}let Xd=!0;function Sc(s){const a=Xd;return Xd=s,a}let Jr=0;const hi={};function Ui(s,a){const l=Vs(s,a);if(-1!==l)return l;const c=a[1];c.firstCreatePass&&(s.injectorIndex=a.length,Zo(c.data,s),Zo(a,null),Zo(c.blueprint,null));const h=fu(s,a),f=s.injectorIndex;if(Yd(h)){const _=va(h),T=Ca(h,a),b=T[1].data;for(let E=0;E<8;E++)a[f+E]=T[_+E]|b[_+E]}return a[f+8]=h,f}function Zo(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Vs(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function fu(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,c=null,h=a;for(;null!==h;){if(c=jn(h),null===c)return-1;if(l++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function as(s,a,l){!function xc(s,a,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(B)&&(c=l[B]),null==c&&(c=l[B]=Jr++);const h=255&c;a.data[s+(h>>5)]|=1<<h}(s,a,l)}function mr(s,a,l){if(l&st.Optional)return s;ke()}function se(s,a,l,c){if(l&st.Optional&&void 0===c&&(c=null),0==(l&(st.Self|st.Host))){const h=s[9],f=Jt(void 0);try{return h?h.get(a,c,l&st.Optional):wr(a,c,l&st.Optional)}finally{Jt(f)}}return mr(c,0,l)}function gu(s,a,l,c=st.Default,h){if(null!==s){if(1024&a[2]){const _=function al(s,a,l,c,h){let f=s,_=a;for(;null!==f&&null!==_&&1024&_[2]&&!(256&_[2]);){const T=mu(f,_,l,c|st.Self,hi);if(T!==hi)return T;let b=f.parent;if(!b){const E=_[21];if(E){const N=E.get(l,hi,c);if(N!==hi)return N}b=jn(_),_=_[15]}f=b}return h}(s,a,l,c,hi);if(_!==hi)return _}const f=mu(s,a,l,c,hi);if(f!==hi)return f}return se(a,l,c,h)}function mu(s,a,l,c,h){const f=function _u(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(B)?s[B]:void 0;return"number"==typeof a?a>=0?255&a:kc:a}(l);if("function"==typeof f){if(!ci(a,s,c))return c&st.Host?mr(h,0,c):se(a,l,c,h);try{const _=f(c);if(null!=_||c&st.Optional)return _;ke()}finally{bc()}}else if("number"==typeof f){let _=null,T=Vs(s,a),b=-1,E=c&st.Host?a[16][6]:null;for((-1===T||c&st.SkipSelf)&&(b=-1===T?fu(s,a):a[T+8],-1!==b&&mo(c,!1)?(_=a[1],T=va(b),a=Ca(b,a)):T=-1);-1!==T;){const N=a[1];if(Li(f,T,N.data)){const U=Ta(T,a,l,_,c,E);if(U!==hi)return U}b=a[T+8],-1!==b&&mo(c,a[1].data[T+8]===E)&&Li(f,T,a)?(_=N,T=va(b),a=Ca(b,a)):T=-1}}return h}function Ta(s,a,l,c,h,f){const _=a[1],T=_.data[s+8],N=Ri(T,_,l,null==c?Es(T)&&Xd:c!=_&&0!=(3&T.type),h&st.Host&&f===T);return null!==N?wa(a,_,N,T):hi}function Ri(s,a,l,c,h){const f=s.providerIndexes,_=a.data,T=1048575&f,b=s.directiveStart,N=f>>20,Q=h?T+N:s.directiveEnd;for(let ee=c?T:T+N;ee<Q;ee++){const be=_[ee];if(ee<b&&l===be||ee>=b&&be.type===l)return ee}if(h){const ee=_[b];if(ee&&Vo(ee)&&ee.type===l)return b}return null}function wa(s,a,l,c){let h=s[l];const f=a.data;if(function du(s){return s instanceof os}(h)){const _=h;_.resolving&&function ot(s,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new we(-200,`Circular dependency in DI detected for ${s}${l}`)}(function ge(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ve(s)}(f[l]));const T=Sc(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?Jt(_.injectImpl):null;ci(s,c,st.Default);try{h=s[l]=_.factory(void 0,f,s,c),a.firstCreatePass&&l>=c.directiveStart&&function zd(s,a,l){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:f}=a.type.prototype;if(c){const _=Wu(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,_)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),f&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,f),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,f))}(l,f[l],a)}finally{null!==b&&Jt(b),Sc(T),_.resolving=!1,bc()}}return h}function Li(s,a,l){return!!(l[a+(s>>5)]&1<<s)}function mo(s,a){return!(s&st.Self||s&st.Host&&a)}class pi{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,c){return gu(this._tNode,this._lView,a,c,l)}}function kc(){return new pi(Ln(),Se())}function ba(s){return Hn(()=>{const a=s.prototype.constructor,l=a[En]||sl(a),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const f=h[En]||sl(h);if(f&&f!==l)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function sl(s){return Ve(s)?()=>{const a=sl(X(s));return a&&a()}:So(s)}function jn(s){const a=s[1],l=a.type;return 2===l?a.declTNode:1===l?s[6]:null}function Aa(s){return function Oi(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const l=s.attrs;if(l){const c=l.length;let h=0;for(;h<c;){const f=l[h];if(Qd(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<c&&"string"==typeof l[h];)h++;else{if(f===a)return l[h+1];h+=2}}}return null}(Ln(),s)}const Pr="__parameters__";function br(s,a,l){return Hn(()=>{const c=function Fi(s){return function(...l){if(s){const c=s(...l);for(const h in c)this[h]=c[h]}}}(a);function h(...f){if(this instanceof h)return c.apply(this,f),this;const _=new h(...f);return T.annotation=_,T;function T(b,E,N){const U=b.hasOwnProperty(Pr)?b[Pr]:Object.defineProperty(b,Pr,{value:[]})[Pr];for(;U.length<=N;)U.push(null);return(U[N]=U[N]||[]).push(_),b}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class un{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=tn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const yu=new un("AnalyzeForEntryComponents");function Ar(s,a){void 0===a&&(a=s);for(let l=0;l<s.length;l++){let c=s[l];Array.isArray(c)?(a===s&&(a=s.slice(0,l)),Ar(c,a)):a!==s&&a.push(c)}return a}function Wo(s,a){s.forEach(l=>Array.isArray(l)?Wo(l,a):a(l))}function cl(s,a,l){a>=s.length?s.push(l):s.splice(a,0,l)}function ls(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function Wr(s,a,l){let c=fi(s,a);return c>=0?s[1|c]=l:(c=~c,function th(s,a,l,c){let h=s.length;if(h==a)s.push(l,c);else if(1===h)s.push(c,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=l,s[a+1]=c}}(s,c,a,l)),c}function Pc(s,a){const l=fi(s,a);if(l>=0)return s[1|l]}function fi(s,a){return function qi(s,a,l){let c=0,h=s.length>>l;for(;h!==c;){const f=c+(h-c>>1),_=s[f<<l];if(a===_)return f<<l;_>a?h=f:c=f+1}return~(h<<l)}(s,a,1)}const Mo={},pl="__NG_DI_FLAG__",xa="ngTempTokenPath",Qo=/\n/gm,Ko="__source";let wu;function gi(s){const a=wu;return wu=s,a}function Gs(s,a=st.Default){if(void 0===wu)throw new we(-203,!1);return null===wu?wr(s,void 0,a):wu.get(s,a&st.Optional?null:void 0,a)}function dn(s,a=st.Default){return(function nn(){return Tr}()||Gs)(X(s),a)}function ka(s,a=st.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),dn(s,a)}function A(s){const a=[];for(let l=0;l<s.length;l++){const c=X(s[l]);if(Array.isArray(c)){if(0===c.length)throw new we(900,!1);let h,f=st.Default;for(let _=0;_<c.length;_++){const T=c[_],b=k(T);"number"==typeof b?-1===b?h=T.token:f|=b:h=T}a.push(dn(h,f))}else a.push(dn(c))}return a}function I(s,a){return s[pl]=a,s.prototype[pl]=a,s}function k(s){return s[pl]}const xe=I(br("Optional"),8),ut=I(br("SkipSelf"),4);let Za;function ah(s){Za=s}class xm{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Nn(s){return s instanceof xm?s.changingThisBreaksApplicationSecurity:s}function ms(s,a){const l=function Zm(s){return s instanceof xm&&s.getTypeName()||null}(s);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}const Pm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Om=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var $=(()=>(($=$||{})[$.NONE=0]="NONE",$[$.HTML=1]="HTML",$[$.STYLE=2]="STYLE",$[$.SCRIPT=3]="SCRIPT",$[$.URL=4]="URL",$[$.RESOURCE_URL=5]="RESOURCE_URL",$))();function Je(s){const a=Ma();return a?a.sanitize($.STYLE,s)||"":ms(s,"Style")?Nn(s):ve(s)}function Re(s){const a=Ma();return a?a.sanitize($.URL,s)||"":ms(s,"URL")?Nn(s):function yi(s){return(s=String(s)).match(Pm)||s.match(Om)?s:"unsafe:"+s}(ve(s))}function Ma(){const s=Se();return s&&s[12]}const qc=new un("ENVIRONMENT_INITIALIZER"),Tf=new un("INJECTOR",-1),wf=new un("INJECTOR_DEF_TYPES");class vl{get(a,l=Mo){if(l===Mo){const c=new Error(`NullInjectorError: No provider for ${ce(a)}!`);throw c.name="NullInjectorError",c}return l}}function bf(...s){return{\u0275providers:yh(0,s)}}function yh(s,...a){const l=[],c=new Set;let h;return Wo(a,f=>{const _=f;Af(_,l,[],c)&&(h||(h=[]),h.push(_))}),void 0!==h&&Cl(h,l),l}function Cl(s,a){for(let l=0;l<s.length;l++){const{providers:h}=s[l];Wo(h,f=>{a.push(f)})}}function Af(s,a,l,c){if(!(s=X(s)))return!1;let h=null,f=Ei(s);const _=!f&&q(s);if(f||_){if(_&&!_.standalone)return!1;h=s}else{const b=s.ngModule;if(f=Ei(b),!f)return!1;h=b}const T=c.has(h);if(_){if(T)return!1;if(c.add(h),_.dependencies){const b="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const E of b)Af(E,a,l,c)}}else{if(!f)return!1;{if(null!=f.imports&&!T){let E;c.add(h);try{Wo(f.imports,N=>{Af(N,a,l,c)&&(E||(E=[]),E.push(N))})}finally{}void 0!==E&&Cl(E,a)}if(!T){const E=So(h)||(()=>new h);a.push({provide:h,useFactory:E,deps:at},{provide:wf,useValue:h,multi:!0},{provide:qc,useValue:()=>dn(h),multi:!0})}const b=f.providers;null==b||T||Wo(b,N=>{a.push(N)})}}return h!==s&&void 0!==s.providers}const c0=he({provide:String,useValue:he});function If(s){return null!==s&&"object"==typeof s&&c0 in s}function Vc(s){return"function"==typeof s}const ji=new un("Set Injector scope."),uo={},vh={};let Fm;function Ch(){return void 0===Fm&&(Fm=new vl),Fm}class Tl{}class qm extends Tl{constructor(a,l,c,h){super(),this.parent=l,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ws(a,_=>this.processProvider(_)),this.records.set(Tf,Bc(void 0,this)),h.has("environment")&&this.records.set(Tl,Bc(void 0,this));const f=this.records.get(ji);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(wf.multi,at,st.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const l=gi(this),c=Jt(void 0);try{return a()}finally{gi(l),Jt(c)}}get(a,l=Mo,c=st.Default){this.assertNotDestroyed();const h=gi(this),f=Jt(void 0);try{if(!(c&st.SkipSelf)){let T=this.records.get(a);if(void 0===T){const b=function Ww(s){return"function"==typeof s||"object"==typeof s&&s instanceof un}(a)&&Pn(a);T=b&&this.injectableDefInScope(b)?Bc(wl(a),uo):null,this.records.set(a,T)}if(null!=T)return this.hydrate(a,T)}return(c&st.Self?Ch():this.parent).get(a,l=c&st.Optional&&l===Mo?null:l)}catch(_){if("NullInjectorError"===_.name){if((_[xa]=_[xa]||[]).unshift(ce(a)),h)throw _;return function O(s,a,l,c){const h=s[xa];throw a[Ko]&&h.unshift(a[Ko]),s.message=function K(s,a,l,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=ce(a);if(Array.isArray(a))h=a.map(ce).join(" -> ");else if("object"==typeof a){let f=[];for(let _ in a)if(a.hasOwnProperty(_)){let T=a[_];f.push(_+":"+("string"==typeof T?JSON.stringify(T):ce(T)))}h=`{${f.join(", ")}}`}return`${l}${c?"("+c+")":""}[${h}]: ${s.replace(Qo,"\n  ")}`}("\n"+s.message,h,l,c),s.ngTokenPath=h,s[xa]=null,s}(_,a,"R3InjectorError",this.source)}throw _}finally{Jt(f),gi(h)}}resolveInjectorInitializers(){const a=gi(this),l=Jt(void 0);try{const c=this.get(qc.multi,at,st.Self);for(const h of c)h()}finally{gi(a),Jt(l)}}toString(){const a=[],l=this.records;for(const c of l.keys())a.push(ce(c));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(a){let l=Vc(a=X(a))?a:X(a&&a.provide);const c=function Vm(s){return If(s)?Bc(void 0,s.useValue):Bc(Bm(s),uo)}(a);if(Vc(a)||!0!==a.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Bc(void 0,uo,!0),h.factory=()=>A(h.multi),this.records.set(l,h)),l=a,h.multi.push(a)}this.records.set(l,c)}hydrate(a,l){return l.value===uo&&(l.value=vh,l.value=l.factory()),"object"==typeof l.value&&l.value&&function jc(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=X(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function wl(s){const a=Pn(s),l=null!==a?a.factory:So(s);if(null!==l)return l;if(s instanceof un)throw new we(204,!1);if(s instanceof Function)return function Jw(s){const a=s.length;if(a>0)throw function cs(s,a){const l=[];for(let c=0;c<s;c++)l.push(a);return l}(a,"?"),new we(204,!1);const l=function vn(s){const a=s&&(s[Cr]||s[Ue]);if(a){const l=function gn(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new we(204,!1)}function Bm(s,a,l){let c;if(Vc(s)){const h=X(s);return So(h)||wl(h)}if(If(s))c=()=>X(s.useValue);else if(function Gw(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...A(s.deps||[]));else if(function Hw(s){return!(!s||!s.useExisting)}(s))c=()=>dn(X(s.useExisting));else{const h=X(s&&(s.useClass||s.provide));if(!function Th(s){return!!s.deps}(s))return So(h)||wl(h);c=()=>new h(...A(s.deps))}return c}function Bc(s,a,l=!1){return{factory:s,value:a,multi:l?[]:void 0}}function $c(s){return!!s.\u0275providers}function Ws(s,a){for(const l of s)Array.isArray(l)?Ws(l,a):$c(l)?Ws(l.\u0275providers,a):a(l)}class _o{}class Hc{resolveComponentFactory(a){throw function jm(s){const a=Error(`No component factory found for ${ce(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let bu=(()=>{class s{}return s.NULL=new Hc,s})();function ft(){return Dr(Ln(),Se())}function Dr(s,a){return new Au(kn(s,a))}let Au=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=ft,s})();function h0(s){return s instanceof Au?s.nativeElement:s}class zs{}let Iu=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function yo(){const s=Se(),l=Zr(Ln().index,s);return(Ut(l)?l:s)[11]}(),s})(),Pa=(()=>{class s{}return s.\u0275prov=tn({token:s,providedIn:"root",factory:()=>null}),s})();class p0{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Gc=new p0("14.1.0"),wh={};function Df(s){return s.ngOriginalError}class Jc{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&Df(a);for(;l&&Df(l);)l=Df(l);return l||null}}const Al=new Map;let eb=0;const Wc="__ngContext__";function vo(s,a){Ut(a)?(s[Wc]=a[20],function tb(s){Al.set(s[20],s)}(a)):s[Wc]=a}function Dl(s){const a=s[Wc];return"number"==typeof a?function Qm(s){return Al.get(s)||null}(a):a||null}function zc(s){const a=Dl(s);return a?Ut(a)?a:a.lView:null}const sb=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(We))();function E0(s){return s.ownerDocument.defaultView}function Po(s){return s instanceof Function?s():s}var ei=(()=>((ei=ei||{})[ei.Important=1]="Important",ei[ei.DashCase=2]="DashCase",ei))();function Nf(s,a){return undefined(s,a)}function Ah(s){const a=s[3];return Hr(a)?a[3]:a}function n_(s){return Yc(s[13])}function Ih(s){return Yc(s[4])}function Yc(s){for(;null!==s&&!Hr(s);)s=s[4];return s}function Du(s,a,l,c,h){if(null!=c){let f,_=!1;Hr(c)?f=c:Ut(c)&&(_=!0,c=c[0]);const T=Rn(c);0===s&&null!==l?null==h?u_(a,l,T):Sl(a,l,T,h||null,!0):1===s&&null!==l?Sl(a,l,T,h||null,!0):2===s?function Of(s,a,l){const c=Xc(s,a);c&&function O0(s,a,l,c){s.removeChild(a,l,c)}(s,c,a,l)}(a,T,_):3===s&&a.destroyNode(T),null!=f&&function Sh(s,a,l,c,h){const f=l[7];f!==Rn(l)&&Du(a,s,c,f,h);for(let T=10;T<l.length;T++){const b=l[T];kl(b[1],b,s,a,c,f)}}(a,s,f,l,h)}}function vs(s,a,l){return s.createElement(a,l)}function Z0(s,a){const l=s[9],c=l.indexOf(a),h=a[3];512&a[2]&&(a[2]&=-513,el(h,-1)),l.splice(c,1)}function s_(s,a){if(s.length<=10)return;const l=10+a,c=s[l];if(c){const h=c[17];null!==h&&h!==s&&Z0(h,c),a>0&&(s[l-1][4]=c[4]);const f=ls(s,10+a);!function i_(s,a){kl(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(c[1],c);const _=f[19];null!==_&&_.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function N0(s,a){if(!(128&a[2])){const l=a[11];l.destroyNode&&kl(s,a,l,3,null,null),function k0(s){let a=s[13];if(!a)return a_(s[1],s);for(;a;){let l=null;if(Ut(a))l=a[13];else{const c=a[10];c&&(l=c)}if(!l){for(;a&&!a[4]&&a!==s;)Ut(a)&&a_(a[1],a),a=a[3];null===a&&(a=s),Ut(a)&&a_(a[1],a),l=a&&a[4]}a=l}}(a)}}function a_(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function db(s,a){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let c=0;c<l.length;c+=2){const h=a[l[c]];if(!(h instanceof os)){const f=l[c+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const T=h[f[_]],b=f[_+1];try{b.call(T)}finally{}}else try{f.call(h)}finally{}}}}(s,a),function cb(s,a){const l=s.cleanup,c=a[7];let h=-1;if(null!==l)for(let f=0;f<l.length-1;f+=2)if("string"==typeof l[f]){const _=l[f+1],T="function"==typeof _?_(a):Rn(a[_]),b=c[h=l[f+2]],E=l[f+3];"boolean"==typeof E?T.removeEventListener(l[f],b,E):E>=0?c[h=E]():c[h=-E].unsubscribe(),f+=2}else{const _=c[h=l[f+1]];l[f].call(_)}if(null!==c){for(let f=h+1;f<c.length;f++)(0,c[f])();a[7]=null}}(s,a),1===a[1].type&&a[11].destroy();const l=a[17];if(null!==l&&Hr(a[3])){l!==a[3]&&Z0(l,a);const c=a[19];null!==c&&c.detachView(s)}!function C0(s){Al.delete(s[20])}(a)}}function M0(s,a,l){return function P0(s,a,l){let c=a;for(;null!==c&&40&c.type;)c=(a=c).parent;if(null===c)return l[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===qt.None||h===qt.Emulated)return null}return kn(c,l)}(s,a.parent,l)}function Sl(s,a,l,c,h){s.insertBefore(a,l,c,h)}function u_(s,a,l){s.appendChild(a,l)}function U0(s,a,l,c,h){null!==c?Sl(s,a,l,c,h):u_(s,a,l)}function Xc(s,a){return s.parentNode(a)}let c_=function l_(s,a,l){return 40&s.type?kn(s,l):null};function Eh(s,a,l,c){const h=M0(s,c,a),f=a[11],T=function xl(s,a,l){return c_(s,a,l)}(c.parent||a[6],c,a);if(null!=h)if(Array.isArray(l))for(let b=0;b<l.length;b++)U0(f,h,l[b],T,!1);else U0(f,h,l,T,!1)}function Pf(s,a){if(null!==a){const l=a.type;if(3&l)return kn(a,s);if(4&l)return Uf(-1,s[a.index]);if(8&l){const c=a.child;if(null!==c)return Pf(s,c);{const h=s[a.index];return Hr(h)?Uf(-1,h):Rn(h)}}if(32&l)return Nf(a,s)()||Rn(s[a.index]);{const c=Dh(s,a);return null!==c?Array.isArray(c)?c[0]:Pf(Ah(s[16]),c):Pf(s,a.next)}}return null}function Dh(s,a){return null!==a?s[16][6].projection[a.projection]:null}function Uf(s,a){const l=10+s+1;if(l<a.length){const c=a[l],h=c[1].firstChild;if(null!==h)return Pf(c,h)}return a[7]}function Rf(s,a,l,c,h,f,_){for(;null!=l;){const T=c[l.index],b=l.type;if(_&&0===a&&(T&&vo(Rn(T),c),l.flags|=4),64!=(64&l.flags))if(8&b)Rf(s,a,l.child,c,h,f,!1),Du(a,s,h,T,f);else if(32&b){const E=Nf(l,c);let N;for(;N=E();)Du(a,s,h,N,f);Du(a,s,h,T,f)}else 16&b?L0(s,a,c,l,h,f):Du(a,s,h,T,f);l=_?l.projectionNext:l.next}}function kl(s,a,l,c,h,f){Rf(l,c,s.firstChild,a,h,f,!1)}function L0(s,a,l,c,h,f){const _=l[16],b=_[6].projection[c.projection];if(Array.isArray(b))for(let E=0;E<b.length;E++)Du(a,s,h,b[E],f);else Rf(s,a,b,_[3],h,f,!0)}function F0(s,a,l){s.setAttribute(a,"style",l)}function xh(s,a,l){""===l?s.removeAttribute(a,"class"):s.setAttribute(a,"class",l)}function p_(s,a,l){let c=s.length;for(;;){const h=s.indexOf(a,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const f=a.length;if(h+f===c||s.charCodeAt(h+f)<=32)return h}l=h+1}}const f_="ng-template";function q0(s,a,l){let c=0;for(;c<s.length;){let h=s[c++];if(l&&"class"===h){if(h=s[c],-1!==p_(h.toLowerCase(),a,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function V0(s){return 4===s.type&&s.value!==f_}function kh(s,a,l){return a===(4!==s.type||l?s.value:f_)}function Lf(s,a,l){let c=4;const h=s.attrs||[],f=function $0(s){for(let a=0;a<s.length;a++)if(Qd(s[a]))return a;return s.length}(h);let _=!1;for(let T=0;T<a.length;T++){const b=a[T];if("number"!=typeof b){if(!_)if(4&c){if(c=2|1&c,""!==b&&!kh(s,b,l)||""===b&&1===a.length){if(ti(c))return!1;_=!0}}else{const E=8&c?b:a[++T];if(8&c&&null!==s.attrs){if(!q0(s.attrs,E,l)){if(ti(c))return!1;_=!0}continue}const U=fb(8&c?"class":b,h,V0(s),l);if(-1===U){if(ti(c))return!1;_=!0;continue}if(""!==E){let Q;Q=U>f?"":h[U+1].toLowerCase();const ee=8&c?Q:null;if(ee&&-1!==p_(ee,E,0)||2&c&&E!==Q){if(ti(c))return!1;_=!0}}}}else{if(!_&&!ti(c)&&!ti(b))return!1;if(_&&ti(b))continue;_=!1,c=b|1&c}}return ti(c)||_}function ti(s){return 0==(1&s)}function fb(s,a,l,c){if(null===a)return-1;let h=0;if(c||!l){let f=!1;for(;h<a.length;){const _=a[h];if(_===s)return h;if(3===_||6===_)f=!0;else{if(1===_||2===_){let T=a[++h];for(;"string"==typeof T;)T=a[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=f?1:2}return-1}return function p2(s,a){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const c=s[l];if("number"==typeof c)return-1;if(c===a)return l;l++}return-1}(a,s)}function B0(s,a,l=!1){for(let c=0;c<a.length;c++)if(Lf(s,a[c],l))return!0;return!1}function gb(s,a){return s?":not("+a.trim()+")":a}function g2(s){let a=s[0],l=1,c=2,h="",f=!1;for(;l<s.length;){let _=s[l];if("string"==typeof _)if(2&c){const T=s[++l];h+="["+_+(T.length>0?'="'+T+'"':"")+"]"}else 8&c?h+="."+_:4&c&&(h+=" "+_);else""!==h&&!ti(_)&&(a+=gb(f,h),h=""),c=_,f=f||!ti(c);l++}return""!==h&&(a+=gb(f,h)),a}const Lt={};function H0(s){Ff(jt(),Se(),gr()+s,!1)}function Ff(s,a,l,c){if(!c)if(3==(3&a[2])){const f=s.preOrderCheckHooks;null!==f&&Dc(a,f,l)}else{const f=s.preOrderHooks;null!==f&&rs(a,f,0,l)}ko(l)}function Zh(s,a=null,l=null,c){const h=ed(s,a,l,c);return h.resolveInjectorInitializers(),h}function ed(s,a=null,l=null,c,h=new Set){const f=[l||at,bf(s)];return c=c||("object"==typeof s?void 0:ce(s)),new qm(f,a||Ch(),c||null,h)}let Zl=(()=>{class s{static create(l,c){var h;if(Array.isArray(l))return Zh({name:""},c,l,"");{const f=null!==(h=l.name)&&void 0!==h?h:"";return Zh({name:f},l.parent,l.providers,f)}}}return s.THROW_IF_NOT_FOUND=Mo,s.NULL=new vl,s.\u0275prov=tn({token:s,providedIn:"any",factory:()=>dn(Tf)}),s.__NG_ELEMENT_ID__=-1,s})();function nd(s,a=st.Default){const l=Se();return null===l?dn(s,a):gu(Ln(),l,X(s),a)}function Mh(){throw new Error("invalid")}function Ph(s,a){return s<<17|a<<2}function ni(s){return s>>17&32767}function Pl(s){return 2|s}function Ks(s){return(131068&s)>>2}function w_(s,a){return-131069&s|a<<2}function b_(s){return 1|s}function c1(s,a){const l=s.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const h=l[c],f=l[c+1];if(-1!==f){const _=s.data[f];Pi(h),_.contentQueries(2,a[f],f)}}}function Gf(s,a,l,c,h,f,_,T,b,E,N){const U=a.blueprint.slice();return U[0]=h,U[2]=76|c,(null!==N||s&&1024&s[2])&&(U[2]|=1024),Yi(U),U[3]=U[15]=s,U[8]=l,U[10]=_||s&&s[10],U[11]=T||s&&s[11],U[12]=b||s&&s[12]||null,U[9]=E||s&&s[9]||null,U[6]=f,U[20]=function Il(){return eb++}(),U[21]=N,U[16]=2==a.type?s[16]:U,U}function Ul(s,a,l,c,h){let f=s.data[a];if(null===f)f=function h1(s,a,l,c,h){const f=ga(),_=ns(),b=s.data[a]=function Gb(s,a,l,c,h,f){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,l,a,c,h);return null===s.firstChild&&(s.firstChild=b),null!==f&&(_?null==f.child&&null!==b.parent&&(f.child=b):null===f.next&&(f.next=b)),b}(s,a,l,c,h),function su(){return ht.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=l,f.value=c,f.attrs=h;const _=function ts(){const s=ht.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return fo(f,!0),f}function Lh(s,a,l,c){if(0===l)return-1;const h=a.length;for(let f=0;f<l;f++)a.push(c),s.blueprint.push(c),s.data.push(null);return h}function Fh(s,a,l){rl(a);try{const c=s.viewQuery;null!==c&&Kf(1,c,l);const h=s.template;null!==h&&Xs(s,a,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&c1(s,a),s.staticViewQueries&&Kf(2,s.viewQuery,l);const f=s.components;null!==f&&function d1(s,a){for(let l=0;l<a.length;l++)oA(s,a[l])}(a,f)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{a[2]&=-5,qs()}}function rd(s,a,l,c){const h=a[2];if(128!=(128&h)){rl(a);try{Yi(a),function Us(s){return ht.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Xs(s,a,l,2,c);const _=3==(3&h);if(_){const E=s.preOrderCheckHooks;null!==E&&Dc(a,E,null)}else{const E=s.preOrderHooks;null!==E&&rs(a,E,0,null),il(a,0)}if(function qa(s){for(let a=n_(s);null!==a;a=Ih(a)){if(!a[2])continue;const l=a[9];for(let c=0;c<l.length;c++){const h=l[c],f=h[3];0==(512&h[2])&&el(f,1),h[2]|=512}}}(a),function Wf(s){for(let a=n_(s);null!==a;a=Ih(a))for(let l=10;l<a.length;l++){const c=a[l],h=c[1];Nr(c)&&rd(h,c,h.template,c[8])}}(a),null!==s.contentQueries&&c1(s,a),_){const E=s.contentCheckHooks;null!==E&&Dc(a,E)}else{const E=s.contentHooks;null!==E&&rs(a,E,1),il(a,1)}!function $i(s,a){const l=s.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const h=l[c];if(h<0)ko(~h);else{const f=h,_=l[++c],T=l[++c];Os(_,f),T(2,a[f])}}}finally{ko(-1)}}(s,a);const T=s.components;null!==T&&function qb(s,a){for(let l=0;l<a.length;l++)k2(s,a[l])}(a,T);const b=s.viewQuery;if(null!==b&&Kf(2,b,c),_){const E=s.viewCheckHooks;null!==E&&Dc(a,E)}else{const E=s.viewHooks;null!==E&&rs(a,E,2),il(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,el(a[3],-1))}finally{qs()}}}function Vb(s,a,l,c){const h=a[10],_=ks(a);try{!_&&h.begin&&h.begin(),_&&Fh(s,a,c),rd(s,a,l,c)}finally{!_&&h.end&&h.end()}}function Xs(s,a,l,c,h){const f=gr(),_=2&c;try{ko(-1),_&&a.length>22&&Ff(s,a,22,!1),l(c,h)}finally{ko(f)}}function Bb(s,a,l){if(Hu(a)){const h=a.directiveEnd;for(let f=a.directiveStart;f<h;f++){const _=s.data[f];_.contentQueries&&_.contentQueries(1,l[f],f)}}}function qh(s,a,l){!Zi()||(function L_(s,a,l,c){const h=l.directiveStart,f=l.directiveEnd;s.firstCreatePass||Ui(l,a),vo(c,a);const _=l.initialInputs;for(let T=h;T<f;T++){const b=s.data[T],E=Vo(b);E&&ea(a,l,b);const N=wa(a,s,T,l);vo(N,a),null!==_&&nA(0,T-h,N,b,0,_),E&&(Zr(l.index,a)[8]=N)}}(s,a,l,kn(l,a)),128==(128&l.flags)&&function Yb(s,a,l){const c=l.directiveStart,h=l.directiveEnd,f=l.index,_=function Wd(){return ht.lFrame.currentDirectiveIndex}();try{ko(f);for(let T=c;T<h;T++){const b=s.data[T],E=a[T];Rs(T),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&m1(b,E)}}finally{ko(-1),Rs(_)}}(s,a,l))}function Jf(s,a,l=kn){const c=a.localNames;if(null!==c){let h=a.index+1;for(let f=0;f<c.length;f+=2){const _=c[f+1],T=-1===_?l(a,s):s[_];s[h++]=T}}}function M_(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=P_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function P_(s,a,l,c,h,f,_,T,b,E){const N=22+c,U=N+h,Q=function jb(s,a){const l=[];for(let c=0;c<a;c++)l.push(c<s?null:Lt);return l}(N,U),ee="function"==typeof E?E():E;return Q[1]={type:s,blueprint:Q,template:l,queries:null,viewQuery:T,declTNode:a,data:Q.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:ee,incompleteFirstPass:!1}}function p1(s,a,l,c){const h=$_(a);null===l?h.push(c):(h.push(l),s.firstCreatePass&&jh(s).push(c,h.length-1))}function f1(s,a,l){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(a,h):l[c]=[a,h]}return l}function U_(s,a){const c=a.directiveEnd,h=s.data,f=a.attrs,_=[];let T=null,b=null;for(let E=a.directiveStart;E<c;E++){const N=h[E],U=N.inputs,Q=null===f||V0(a)?null:rA(U,f);_.push(Q),T=f1(U,E,T),b=f1(N.outputs,E,b)}null!==T&&(T.hasOwnProperty("class")&&(a.flags|=16),T.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=_,a.inputs=T,a.outputs=b}function g1(s,a){const l=Zr(a,s);16&l[2]||(l[2]|=32)}function O_(s,a,l,c){let h=!1;if(Zi()){const f=function Xb(s,a,l){const c=s.directiveRegistry;let h=null;if(c)for(let f=0;f<c.length;f++){const _=c[f];B0(l,_.selectors,!1)&&(h||(h=[]),as(Ui(l,a),s,_.type),Vo(_)?(eA(s,l),h.unshift(_)):h.push(_))}return h}(s,a,l),_=null===c?null:{"":-1};if(null!==f){h=!0,F_(l,s.data.length,f.length);for(let N=0;N<f.length;N++){const U=f[N];U.providersResolver&&U.providersResolver(U)}let T=!1,b=!1,E=Lh(s,a,f.length,null);for(let N=0;N<f.length;N++){const U=f[N];l.mergedAttrs=pu(l.mergedAttrs,U.hostAttrs),q_(s,l,a,E,U),Vh(E,U,_),null!==U.contentQueries&&(l.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(l.flags|=128);const Q=U.type.prototype;!T&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),T=!0),!b&&(Q.ngOnChanges||Q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),b=!0),E++}U_(s,l)}_&&function tA(s,a,l){if(a){const c=s.localNames=[];for(let h=0;h<a.length;h+=2){const f=l[a[h+1]];if(null==f)throw new we(-301,!1);c.push(a[h],f)}}}(l,c,_)}return l.mergedAttrs=pu(l.mergedAttrs,l.attrs),h}function R_(s,a,l,c,h,f){const _=f.hostBindings;if(_){let T=s.hostBindingOpCodes;null===T&&(T=s.hostBindingOpCodes=[]);const b=~a.index;(function Kb(s){let a=s.length;for(;a>0;){const l=s[--a];if("number"==typeof l&&l<0)return l}return 0})(T)!=b&&T.push(b),T.push(c,h,_)}}function m1(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function eA(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function Vh(s,a,l){if(l){if(a.exportAs)for(let c=0;c<a.exportAs.length;c++)l[a.exportAs[c]]=s;Vo(a)&&(l[""]=s)}}function F_(s,a,l){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+l,s.providerIndexes=a}function q_(s,a,l,c,h){s.data[c]=h;const f=h.factory||(h.factory=So(h.type)),_=new os(f,Vo(h),nd);s.blueprint[c]=_,l[c]=_,R_(s,a,0,c,Lh(s,l,h.hostVars,Lt),h)}function ea(s,a,l){const c=kn(a,s),h=M_(l),f=s[10],_=Bh(s,Gf(s,h,null,l.onPush?32:16,c,a,f,f.createRenderer(c,l),null,null,null));s[a.index]=_}function Fa(s,a,l,c,h,f){const _=kn(s,a);!function V_(s,a,l,c,h,f,_){if(null==f)s.removeAttribute(a,h,l);else{const T=null==_?ve(f):_(f,c||"",h);s.setAttribute(a,h,T,l)}}(a[11],_,f,s.value,l,c,h)}function nA(s,a,l,c,h,f){const _=f[a];if(null!==_){const T=c.setInput;for(let b=0;b<_.length;){const E=_[b++],N=_[b++],U=_[b++];null!==T?c.setInput(l,U,E,N):l[N]=U}}}function rA(s,a){let l=null,c=0;for(;c<a.length;){const h=a[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],a[c+1])),c+=2}else c+=2;else c+=4}return l}function B_(s,a,l,c){return new Array(s,!0,!1,a,null,0,c,l,null,null)}function k2(s,a){const l=Zr(a,s);if(Nr(l)){const c=l[1];48&l[2]?rd(c,l,c.template,l[8]):l[5]>0&&j_(l)}}function j_(s){for(let c=n_(s);null!==c;c=Ih(c))for(let h=10;h<c.length;h++){const f=c[h];if(512&f[2]){const _=f[1];rd(_,f,_.template,f[8])}else f[5]>0&&j_(f)}const l=s[1].components;if(null!==l)for(let c=0;c<l.length;c++){const h=Zr(l[c],s);Nr(h)&&h[5]>0&&j_(h)}}function oA(s,a){const l=Zr(a,s),c=l[1];(function _1(s,a){for(let l=a.length;l<s.blueprint.length;l++)a.push(s.blueprint[l])})(c,l),Fh(c,l,l[8])}function Bh(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function zf(s){for(;s;){s[2]|=32;const a=Ah(s);if(Yn(s)&&!a)return s;s=a}return null}function Qf(s){!function Ol(s){for(let a=0;a<s.components.length;a++){const l=s.components[a],c=zc(l);if(null!==c){const h=c[1];Vb(h,c,h.template,l)}}}(s[8])}function Kf(s,a,l){Pi(0),a(s,l)}const Va=(()=>Promise.resolve(null))();function $_(s){return s[7]||(s[7]=[])}function jh(s){return s.cleanup||(s.cleanup=[])}function sA(s,a){const l=s[9],c=l?l.get(Jc,null):null;c&&c.handleError(a)}function T1(s,a,l,c,h){for(let f=0;f<l.length;){const _=l[f++],T=l[f++],b=a[_],E=s.data[_];null!==E.setInput?E.setInput(b,h,c,T):b[T]=h}}function xu(s,a,l){const c=xs(a,s);!function o_(s,a,l){s.setValue(a,l)}(s[11],c,l)}function H_(s,a,l){let c=l?s.styles:null,h=l?s.classes:null,f=0;if(null!==a)for(let _=0;_<a.length;_++){const T=a[_];"number"==typeof T?f=T:1==f?h=_e(h,T):2==f&&(c=_e(c,T+": "+a[++_]+";"))}l?s.styles=c:s.stylesWithoutHost=c,l?s.classes=h:s.classesWithoutHost=h}function G_(s,a,l,c,h=!1){for(;null!==l;){const f=a[l.index];if(null!==f&&c.push(Rn(f)),Hr(f))for(let T=10;T<f.length;T++){const b=f[T],E=b[1].firstChild;null!==E&&G_(b[1],b,E,c)}const _=l.type;if(8&_)G_(s,a,l.child,c);else if(32&_){const T=Nf(l,a);let b;for(;b=T();)c.push(b)}else if(16&_){const T=Dh(a,l);if(Array.isArray(T))c.push(...T);else{const b=Ah(a[16]);G_(b[1],b,T,c,!0)}}l=h?l.projectionNext:l.next}return c}class Yf{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return G_(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Hr(a)){const l=a[8],c=l?l.indexOf(this):-1;c>-1&&(s_(a,c),ls(l,c))}this._attachedToViewContainer=!1}N0(this._lView[1],this._lView)}onDestroy(a){p1(this._lView[1],this._lView,null,a)}markForCheck(){zf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function ur(s,a,l){const c=a[10];c.begin&&c.begin();try{rd(s,a,s.template,l)}catch(h){throw sA(a,h),h}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mf(s,a){kl(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=a}}class Z2 extends Yf{constructor(a){super(a),this._view=a}detectChanges(){Qf(this._view)}checkNoChanges(){}get context(){return null}}class w1 extends bu{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=q(a);return new od(l,this.ngModule)}}function aA(s){const a=[];for(let l in s)s.hasOwnProperty(l)&&a.push({propName:s[l],templateName:l});return a}class lA{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,c){const h=this.injector.get(a,wh,c);return h!==wh||l===wh?h:this.parentInjector.get(a,l,c)}}class od extends _o{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function g_(s){return s.map(g2).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return aA(this.componentDef.inputs)}get outputs(){return aA(this.componentDef.outputs)}create(a,l,c,h){let f=(h=h||this.ngModule)instanceof Tl?h:null==h?void 0:h.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const _=f?new lA(a,f):a,T=_.get(zs,null);if(null===T)throw new we(407,!1);const b=_.get(Pa,null),E=T.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",U=c?function Hb(s,a,l){return s.selectRootElement(a,l===qt.ShadowDom)}(E,c,this.componentDef.encapsulation):vs(T.createRenderer(null,this.componentDef),N,function uA(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(N)),Q=this.componentDef.onPush?288:272,ee=function M2(s,a){return{components:[],scheduler:s||sb,clean:Va,playerHandler:a||null,flags:0}}(),be=P_(0,null,null,1,0,null,null,null,null,null),Oe=Gf(null,be,ee,Q,null,null,T,E,b,_,null);let tt,je;rl(Oe);try{const bt=function W_(s,a,l,c,h,f){const _=l[1];l[22]=s;const b=Ul(_,22,2,"#host",null),E=b.mergedAttrs=a.hostAttrs;null!==E&&(H_(b,E,!0),null!==s&&(ss(h,s,E),null!==b.classes&&xh(h,s,b.classes),null!==b.styles&&F0(h,s,b.styles)));const N=c.createRenderer(s,a),U=Gf(l,M_(a),null,a.onPush?32:16,l[22],b,c,N,f||null,null,null);return _.firstCreatePass&&(as(Ui(b,l),_,a.type),eA(_,b),F_(b,l.length,1)),Bh(l,U),l[22]=U}(U,this.componentDef,Oe,T,E);if(U)if(c)ss(E,U,["ng-version",Gc.full]);else{const{attrs:Ie,classes:ze}=function mb(s){const a=[],l=[];let c=1,h=2;for(;c<s.length;){let f=s[c];if("string"==typeof f)2===h?""!==f&&a.push(f,s[++c]):8===h&&l.push(f);else{if(!ti(h))break;h=f}c++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);Ie&&ss(E,U,Ie),ze&&ze.length>0&&xh(E,U,ze.join(" "))}if(je=pa(be,22),void 0!==l){const Ie=je.projection=[];for(let ze=0;ze<this.ngContentSelectors.length;ze++){const $t=l[ze];Ie.push(null!=$t?Array.from($t):null)}}tt=function cA(s,a,l,c,h){const f=l[1],_=function Qb(s,a,l){const c=Ln();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),q_(s,c,a,Lh(s,a,1,null),l),U_(s,c));const h=wa(a,s,c.directiveStart,c);vo(h,a);const f=kn(c,a);return f&&vo(f,a),h}(f,l,a);if(c.components.push(_),s[8]=_,null!==h)for(const b of h)b(_,a);if(a.contentQueries){const b=Ln();a.contentQueries(1,_,b.directiveStart)}const T=Ln();return!f.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(ko(T.index),R_(l[1],T,0,T.directiveStart,T.directiveEnd,a),m1(a,_)),_}(bt,this.componentDef,Oe,ee,[P2]),Fh(be,Oe,null)}finally{qs()}return new A1(this.componentType,tt,Dr(je,Oe),Oe,je)}}class A1 extends class d0{}{constructor(a,l,c,h,f){super(),this.location=c,this._rootLView=h,this._tNode=f,this.instance=l,this.hostView=this.changeDetectorRef=new Z2(h),this.componentType=a}setInput(a,l){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[a])){const f=this._rootLView;T1(f[1],f,h,a,l),g1(f,this._tNode.index)}}get injector(){return new pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function P2(){const s=Ln();ya(Se()[1],s)}function E1(s){let a=function I1(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const c=[s];for(;a;){let h;if(Vo(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new we(903,!1);h=a.\u0275dir}if(h){if(l){c.push(h);const _=s;_.inputs=id(s.inputs),_.declaredInputs=id(s.declaredInputs),_.outputs=id(s.outputs);const T=h.hostBindings;T&&dA(s,T);const b=h.viewQuery,E=h.contentQueries;if(b&&Ba(s,b),E&&sd(s,E),de(s.inputs,h.inputs),de(s.declaredInputs,h.declaredInputs),de(s.outputs,h.outputs),Vo(h)&&h.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let _=0;_<f.length;_++){const T=f[_];T&&T.ngInherit&&T(s),T===E1&&(l=!1)}}a=Object.getPrototypeOf(a)}!function O2(s){let a=0,l=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=a+=h.hostVars,h.hostAttrs=pu(h.hostAttrs,l=pu(l,h.hostAttrs))}}(c)}function id(s){return s===ir?{}:s===at?[]:s}function Ba(s,a){const l=s.viewQuery;s.viewQuery=l?(c,h)=>{a(c,h),l(c,h)}:a}function sd(s,a){const l=s.contentQueries;s.contentQueries=l?(c,h,f)=>{a(c,h,f),l(c,h,f)}:a}function dA(s,a){const l=s.hostBindings;s.hostBindings=l?(c,h)=>{a(c,h),l(c,h)}:a}let Xf=null;function Rl(){if(!Xf){const s=We.Symbol;if(s&&s.iterator)Xf=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const c=a[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Xf=c)}}}return Xf}function Co(s){return!!Q_(s)&&(Array.isArray(s)||!(s instanceof Map)&&Rl()in s)}function Q_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function To(s,a,l){return!Object.is(s[a],l)&&(s[a]=l,!0)}function Ll(s,a,l,c){const h=To(s,a,l);return To(s,a+1,c)||h}function ku(s,a,l,c){const h=Se();return To(h,li(),a)&&(jt(),Fa(qn(),h,s,a,l,c)),ku}function Wh(s,a,l,c,h,f,_,T){const E=function eg(s,a,l,c,h){const f=Ll(s,a,l,c);return To(s,a+2,h)||f}(s,xo(),l,h,_);return $o(3),E?a+ve(l)+c+ve(h)+f+ve(_)+T:Lt}function U1(s,a,l,c,h,f,_,T){const b=Se(),E=jt(),N=s+22,U=E.firstCreatePass?function _A(s,a,l,c,h,f,_,T,b){const E=a.consts,N=Ul(a,s,4,_||null,Gr(E,T));O_(a,l,N,Gr(E,b)),ya(a,N);const U=N.tViews=P_(2,N,c,h,f,a.directiveRegistry,a.pipeRegistry,null,a.schemas,E);return null!==a.queries&&(a.queries.template(a,N),U.queries=a.queries.embeddedTView(N)),N}(N,E,b,a,l,c,h,f,_):E.data[N];fo(U,!1);const Q=b[11].createComment("");Eh(E,b,Q,U),vo(Q,b),Bh(b,b[N]=B_(Q,b,Q,U)),ca(U)&&qh(E,b,U),null!=_&&Jf(b,U,T)}function Y_(s,a,l){const c=Se();return To(c,li(),a)&&function Ci(s,a,l,c,h,f,_,T){const b=kn(a,l);let N,E=a.inputs;!T&&null!=E&&(N=E[c])?(T1(s,l,N,c,h),Es(a)&&g1(l,a.index)):3&a.type&&(c=function Jb(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=_?_(h,a.value||"",c):h,f.setProperty(b,c,h))}(jt(),qn(),c,s,a,c[11],l,!1),Y_}function X_(s,a,l,c,h){const _=h?"class":"style";T1(s,l,a.inputs[_],_,c)}function tg(s,a,l,c){const h=Se(),f=jt(),_=22+s,T=h[11],b=h[_]=vs(T,a,function lu(){return ht.lFrame.currentNamespace}()),E=f.firstCreatePass?function CA(s,a,l,c,h,f,_){const T=a.consts,E=Ul(a,s,2,h,Gr(T,f));return O_(a,l,E,Gr(T,_)),null!==E.attrs&&H_(E,E.attrs,!1),null!==E.mergedAttrs&&H_(E,E.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,E),E}(_,f,h,0,a,l,c):f.data[_];fo(E,!0);const N=E.mergedAttrs;null!==N&&ss(T,b,N);const U=E.classes;null!==U&&xh(T,b,U);const Q=E.styles;return null!==Q&&F0(T,b,Q),64!=(64&E.flags)&&Eh(f,h,b,E),0===function Jd(){return ht.lFrame.elementDepthCount}()&&vo(b,h),function Zs(){ht.lFrame.elementDepthCount++}(),ca(E)&&(qh(f,h,E),Bb(f,E,h)),null!==c&&Jf(h,E),tg}function ng(){let s=Ln();ns()?Ps():(s=s.parent,fo(s,!1));const a=s;!function fa(){ht.lFrame.elementDepthCount--}();const l=jt();return l.firstCreatePass&&(ya(l,s),Hu(s)&&l.queries.elementEnd(s)),null!=a.classesWithoutHost&&function hu(s){return 0!=(16&s.flags)}(a)&&X_(l,a,Se(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Yp(s){return 0!=(32&s.flags)}(a)&&X_(l,a,Se(),a.stylesWithoutHost,!1),ng}function cd(s,a,l,c){return tg(s,a,l,c),ng(),cd}function rg(s,a,l){const c=Se(),h=jt(),f=s+22,_=h.firstCreatePass?function TA(s,a,l,c,h){const f=a.consts,_=Gr(f,c),T=Ul(a,s,8,"ng-container",_);return null!==_&&H_(T,_,!0),O_(a,l,T,Gr(f,h)),null!==a.queries&&a.queries.elementStart(a,T),T}(f,h,c,a,l):h.data[f];fo(_,!0);const T=c[f]=c[11].createComment("");return Eh(h,c,T,_),vo(T,c),ca(_)&&(qh(h,c,_),Bb(h,_,c)),null!=l&&Jf(c,_),rg}function og(){let s=Ln();const a=jt();return ns()?Ps():(s=s.parent,fo(s,!1)),a.firstCreatePass&&(ya(a,s),Hu(s)&&a.queries.elementEnd(s)),og}function R1(){return Se()}function ey(s){return!!s&&"function"==typeof s.then}function L1(s){return!!s&&"function"==typeof s.subscribe}const F1=L1;function ty(s,a,l,c){const h=Se(),f=jt(),_=Ln();return function $a(s,a,l,c,h,f,_,T){const b=ca(c),N=s.firstCreatePass&&jh(s),U=a[8],Q=$_(a);let ee=!0;if(3&c.type||T){const tt=kn(c,a),je=T?T(tt):tt,bt=Q.length,Ie=T?$t=>T(Rn($t[c.index])):c.index;let ze=null;if(!T&&b&&(ze=function q1(s,a,l,c){const h=s.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const _=h[f];if(_===l&&h[f+1]===c){const T=a[7],b=h[f+2];return T.length>b?T[b]:null}"string"==typeof _&&(f+=2)}return null}(s,a,h,c.index)),null!==ze)(ze.__ngLastListenerFn__||ze).__ngNextListenerFn__=f,ze.__ngLastListenerFn__=f,ee=!1;else{f=B1(c,a,U,f,!1);const $t=l.listen(je,h,f);Q.push(f,$t),N&&N.push(h,Ie,bt,bt+1)}}else f=B1(c,a,U,f,!1);const be=c.outputs;let Oe;if(ee&&null!==be&&(Oe=be[h])){const tt=Oe.length;if(tt)for(let je=0;je<tt;je+=2){const An=a[Oe[je]][Oe[je+1]].subscribe(f),Fr=Q.length;Q.push(f,An),N&&N.push(h,c.index,Fr,-(Fr+1))}}}(f,h,h[11],_,s,a,0,c),ty}function V1(s,a,l,c){try{return!1!==l(c)}catch(h){return sA(s,h),!1}}function B1(s,a,l,c,h){return function f(_){if(_===Function)return c;zf(2&s.flags?Zr(s.index,a):a);let b=V1(a,0,c,_),E=f.__ngNextListenerFn__;for(;E;)b=V1(a,0,E,_)&&b,E=E.__ngNextListenerFn__;return h&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function j1(s=1){return function uu(s){return(ht.lFrame.contextLView=function _a(s,a){for(;s>0;)a=a[15],s--;return a}(s,ht.lFrame.contextLView))[8]}(s)}function K1(s,a,l,c,h){const f=s[l+1],_=null===a;let T=c?ni(f):Ks(f),b=!1;for(;0!==T&&(!1===b||_);){const N=s[T+1];DA(s[T],a)&&(b=!0,s[T+1]=c?b_(N):Pl(N)),T=c?ni(N):Ks(N)}b&&(s[l+1]=c?Pl(f):b_(f))}function DA(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&fi(s,a)>=0}function iy(s,a){return function ri(s,a,l,c){const h=Se(),f=jt(),_=$o(2);f.firstUpdatePass&&function sC(s,a,l,c){const h=s.data;if(null===h[l+1]){const f=h[gr()],_=function iC(s,a){return a>=s.expandoStartIndex}(s,l);(function cC(s,a){return 0!=(s.flags&(a?16:32))})(f,c)&&null===a&&!_&&(a=!1),a=function OA(s,a,l,c){const h=function Ls(s){const a=ht.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let f=c?a.residualClasses:a.residualStyles;if(null===h)0===(c?a.classBindings:a.styleBindings)&&(l=zh(l=sy(null,s,a,l,c),a.attrs,c),f=null);else{const _=a.directiveStylingLast;if(-1===_||s[_]!==h)if(l=sy(h,s,a,l,c),null===f){let b=function RA(s,a,l){const c=l?a.classBindings:a.styleBindings;if(0!==Ks(c))return s[ni(c)]}(s,a,c);void 0!==b&&Array.isArray(b)&&(b=sy(null,s,a,b[1],c),b=zh(b,a.attrs,c),function LA(s,a,l,c){s[ni(l?a.classBindings:a.styleBindings)]=c}(s,a,c,b))}else f=function FA(s,a,l){let c;const h=a.directiveEnd;for(let f=1+a.directiveStylingLast;f<h;f++)c=zh(c,s[f].hostAttrs,l);return zh(c,a.attrs,l)}(s,a,c)}return void 0!==f&&(c?a.residualClasses=f:a.residualStyles=f),l}(h,f,a,c),function IA(s,a,l,c,h,f){let _=f?a.classBindings:a.styleBindings,T=ni(_),b=Ks(_);s[c]=l;let N,E=!1;if(Array.isArray(l)){const U=l;N=U[1],(null===N||fi(U,N)>0)&&(E=!0)}else N=l;if(h)if(0!==b){const Q=ni(s[T+1]);s[c+1]=Ph(Q,T),0!==Q&&(s[Q+1]=w_(s[Q+1],c)),s[T+1]=function Y0(s,a){return 131071&s|a<<17}(s[T+1],c)}else s[c+1]=Ph(T,0),0!==T&&(s[T+1]=w_(s[T+1],c)),T=c;else s[c+1]=Ph(b,0),0===T?T=c:s[b+1]=w_(s[b+1],c),b=c;E&&(s[c+1]=Pl(s[c+1])),K1(s,N,c,!0),K1(s,N,c,!1),function EA(s,a,l,c,h){const f=h?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof a&&fi(f,a)>=0&&(l[c+1]=b_(l[c+1]))}(a,N,s,c,f),_=Ph(T,b),f?a.classBindings=_:a.styleBindings=_}(h,f,a,l,_,c)}}(f,s,_,c),a!==Lt&&To(h,_,a)&&function uC(s,a,l,c,h,f,_,T){if(!(3&a.type))return;const b=s.data,E=b[T+1];ig(function X0(s){return 1==(1&s)}(E)?lC(b,a,l,h,Ks(E),_):void 0)||(ig(f)||function Uh(s){return 2==(2&s)}(E)&&(f=lC(b,null,l,h,T,_)),function hb(s,a,l,c,h){if(a)h?s.addClass(l,c):s.removeClass(l,c);else{let f=-1===c.indexOf("-")?void 0:ei.DashCase;null==h?s.removeStyle(l,c,f):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),f|=ei.Important),s.setStyle(l,c,h,f))}}(c,_,xs(gr(),l),h,f))}(f,f.data[gr()],h,h[11],s,h[_+1]=function BA(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=ce(Nn(s)))),s}(a,l),c,_)}(s,a,null,!0),iy}function sy(s,a,l,c,h){let f=null;const _=l.directiveEnd;let T=l.directiveStylingLast;for(-1===T?T=l.directiveStart:T++;T<_&&(f=a[T],c=zh(c,f.hostAttrs,h),f!==s);)T++;return null!==s&&(l.directiveStylingLast=T),c}function zh(s,a,l){const c=l?1:2;let h=-1;if(null!==a)for(let f=0;f<a.length;f++){const _=a[f];"number"==typeof _?h=_:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Wr(s,_,!!l||a[++f]))}return void 0===s?null:s}function lC(s,a,l,c,h,f){const _=null===a;let T;for(;h>0;){const b=s[h],E=Array.isArray(b),N=E?b[1]:b,U=null===N;let Q=l[h+1];Q===Lt&&(Q=U?at:void 0);let ee=U?Pc(Q,c):N===c?Q:void 0;if(E&&!ig(ee)&&(ee=Pc(b,c)),ig(ee)&&(T=ee,_))return T;const be=s[h+1];h=_?ni(be):Ks(be)}if(null!==a){let b=f?a.residualClasses:a.residualStyles;null!=b&&(T=Pc(b,c))}return T}function ig(s){return void 0!==s}function dC(s,a=""){const l=Se(),c=jt(),h=s+22,f=c.firstCreatePass?Ul(c,h,1,a,null):c.data[h],_=l[h]=function r_(s,a){return s.createText(a)}(l[11],a);Eh(c,l,_,f),fo(f,!1)}function ay(s){return sg("",s,""),ay}function sg(s,a,l){const c=Se(),h=function Gh(s,a,l,c){return To(s,li(),l)?a+ve(l)+c:Lt}(c,s,a,l);return h!==Lt&&xu(c,gr(),h),sg}function uy(s,a,l,c,h){const f=Se(),_=function Jh(s,a,l,c,h,f){const T=Ll(s,xo(),l,h);return $o(2),T?a+ve(l)+c+ve(h)+f:Lt}(f,s,a,l,c,h);return _!==Lt&&xu(f,gr(),_),uy}function ly(s,a,l,c,h,f,_){const T=Se(),b=Wh(T,s,a,l,c,h,f,_);return b!==Lt&&xu(T,gr(),b),ly}const Bl=void 0;var sI=["en",[["a","p"],["AM","PM"],Bl],[["AM","PM"],Bl,Bl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bl,"{1} 'at' {0}",Bl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function iI(s){const l=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let hd={};function py(s){const a=function aI(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=IC(a);if(l)return l;const c=a.split("-")[0];if(l=IC(c),l)return l;if("en"===c)return sI;throw new we(701,!1)}function fy(s){return py(s)[Et.PluralCase]}function IC(s){return s in hd||(hd[s]=We.ng&&We.ng.common&&We.ng.common.locales&&We.ng.common.locales[s]),hd[s]}var Et=(()=>((Et=Et||{})[Et.LocaleId=0]="LocaleId",Et[Et.DayPeriodsFormat=1]="DayPeriodsFormat",Et[Et.DayPeriodsStandalone=2]="DayPeriodsStandalone",Et[Et.DaysFormat=3]="DaysFormat",Et[Et.DaysStandalone=4]="DaysStandalone",Et[Et.MonthsFormat=5]="MonthsFormat",Et[Et.MonthsStandalone=6]="MonthsStandalone",Et[Et.Eras=7]="Eras",Et[Et.FirstDayOfWeek=8]="FirstDayOfWeek",Et[Et.WeekendRange=9]="WeekendRange",Et[Et.DateFormat=10]="DateFormat",Et[Et.TimeFormat=11]="TimeFormat",Et[Et.DateTimeFormat=12]="DateTimeFormat",Et[Et.NumberSymbols=13]="NumberSymbols",Et[Et.NumberFormats=14]="NumberFormats",Et[Et.CurrencyCode=15]="CurrencyCode",Et[Et.CurrencySymbol=16]="CurrencySymbol",Et[Et.CurrencyName=17]="CurrencyName",Et[Et.Currencies=18]="Currencies",Et[Et.Directionality=19]="Directionality",Et[Et.PluralCase=20]="PluralCase",Et[Et.ExtraData=21]="ExtraData",Et))();const pd="en-US";let EC=pd;function vy(s,a,l,c,h){if(s=X(s),Array.isArray(s))for(let f=0;f<s.length;f++)vy(s[f],a,l,c,h);else{const f=jt(),_=Se();let T=Vc(s)?s:X(s.provide),b=Bm(s);const E=Ln(),N=1048575&E.providerIndexes,U=E.directiveStart,Q=E.providerIndexes>>20;if(Vc(s)||!s.multi){const ee=new os(b,h,nd),be=WC(T,a,h?N:N+Q,U);-1===be?(as(Ui(E,_),f,T),Cy(f,s,a.length),a.push(T),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),l.push(ee),_.push(ee)):(l[be]=ee,_[be]=ee)}else{const ee=WC(T,a,N+Q,U),be=WC(T,a,N,N+Q),Oe=ee>=0&&l[ee],tt=be>=0&&l[be];if(h&&!tt||!h&&!Oe){as(Ui(E,_),f,T);const je=function Ga(s,a,l,c,h){const f=new os(s,l,nd);return f.multi=[],f.index=a,f.componentProviders=0,Gi(f,h,c&&!l),f}(h?Ae:WI,l.length,h,c,b);!h&&tt&&(l[be].providerFactory=je),Cy(f,s,a.length,0),a.push(T),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),l.push(je),_.push(je)}else Cy(f,s,ee>-1?ee:be,Gi(l[h?be:ee],b,!h&&c));!h&&c&&tt&&l[be].componentProviders++}}}function Cy(s,a,l,c){const h=Vc(a),f=function Tt(s){return!!s.useClass}(a);if(h||f){const b=(f?X(a.useClass):a).prototype.ngOnDestroy;if(b){const E=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const N=E.indexOf(l);-1===N?E.push(l,[c,b]):E[N+1].push(c,b)}else E.push(l,b)}}}function Gi(s,a,l){return l&&s.componentProviders++,s.multi.push(a)-1}function WC(s,a,l,c){for(let h=l;h<c;h++)if(a[h]===s)return h;return-1}function WI(s,a,l,c){return Ty(this.multi,[])}function Ae(s,a,l,c){const h=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,T=wa(l,l[1],this.providerFactory.index,c);f=T.slice(0,_),Ty(h,f);for(let b=_;b<T.length;b++)f.push(T[b])}else f=[],Ty(h,f);return f}function Ty(s,a){for(let l=0;l<s.length;l++)a.push((0,s[l])());return a}function lt(s,a=[]){return l=>{l.providersResolver=(c,h)=>function yy(s,a,l){const c=jt();if(c.firstCreatePass){const h=Vo(s);vy(l,c.data,c.blueprint,h,!0),vy(a,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,a)}}class Nu{}class Mt{}function fg(s,a){return new md(s,null!=a?a:null)}class md extends Nu{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new w1(this);const c=qe(a);this._bootstrapComponents=Po(c.bootstrap),this._r3Injector=ed(a,l,[{provide:Nu,useValue:this},{provide:bu,useValue:this.componentFactoryResolver}],ce(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class wy extends Mt{constructor(a){super(),this.moduleType=a}create(a){return new md(this.moduleType,a)}}class by extends Nu{constructor(a,l,c){super(),this.componentFactoryResolver=new w1(this),this.instance=null;const h=new qm([...a,{provide:Nu,useValue:this},{provide:bu,useValue:this.componentFactoryResolver}],l||Ch(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Ay(s,a,l=null){return new by(s,a,l).injector}function Dy(s,a,l,c){return aT(Se(),Xn(),s,a,l,c)}function aT(s,a,l,c,h,f){const _=a+l;return To(s,_,h)?function Cs(s,a,l){return s[a]=l}(s,_+1,f?c.call(f,h):c(h)):function yd(s,a){const l=s[a];return l===Lt?void 0:l}(s,_+1)}function _g(s,a){const l=jt();let c;const h=s+22;l.firstCreatePass?(c=function tE(s,a){if(a)for(let l=a.length-1;l>=0;l--){const c=a[l];if(s===c.name)return c}}(a,l.pipeRegistry),l.data[h]=c,c.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,c.onDestroy)):c=l.data[h];const f=c.factory||(c.factory=So(c.type)),_=Jt(nd);try{const T=Sc(!1),b=f();return Sc(T),function yA(s,a,l,c){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),a[l]=c}(l,Se(),h,b),b}finally{Jt(_)}}function yg(s,a,l){const c=s+22,h=Se(),f=function Bo(s,a){return s[a]}(h,c);return function Wa(s,a){return s[1].data[a].pure}(h,c)?aT(h,Xn(),a,f.transform,l,f):f.transform(l)}function Gl(s){return a=>{setTimeout(s,void 0,a)}}const oa=class oE extends e.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,c){var h,f,_;let T=a,b=l||(()=>null),E=c;if(a&&"object"==typeof a){const U=a;T=null===(h=U.next)||void 0===h?void 0:h.bind(U),b=null===(f=U.error)||void 0===f?void 0:f.bind(U),E=null===(_=U.complete)||void 0===_?void 0:_.bind(U)}this.__isAsync&&(b=Gl(b),T&&(T=Gl(T)),E&&(E=Gl(E)));const N=super.subscribe({next:T,error:b,complete:E});return a instanceof L.w0&&a.add(N),N}};function iE(){return this._results[Rl()]()}class vd{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Rl(),c=vd.prototype;c[l]||(c[l]=iE)}get changes(){return this._changes||(this._changes=new oa)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const c=this;c.dirty=!1;const h=Ar(a);(this._changesDetected=!function Cu(s,a,l){if(s.length!==a.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],f=a[c];if(l&&(h=l(h),f=l(f)),f!==h)return!1}return!0}(c._results,h,l))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Mu=(()=>{class s{}return s.__NG_ELEMENT_ID__=My,s})();const Zy=Mu,Ny=class extends Zy{constructor(a,l,c){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(a,l){const c=this._declarationTContainer.tViews,h=Gf(this._declarationLView,c,a,16,null,c.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(c)),Fh(c,h,a),new Yf(h)}};function My(){return Cd(Ln(),Se())}function Cd(s,a){return 4&s.type?new Ny(a,s,Dr(s,a)):null}let rp=(()=>{class s{}return s.__NG_ELEMENT_ID__=lT,s})();function lT(){return Oy(Ln(),Se())}const sE=rp,Py=class extends sE{constructor(a,l,c){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=c}get element(){return Dr(this._hostTNode,this._hostLView)}get injector(){return new pi(this._hostTNode,this._hostLView)}get parentInjector(){const a=fu(this._hostTNode,this._hostLView);if(Yd(a)){const l=Ca(a,this._hostLView),c=va(a);return new pi(l[1].data[c+8],l)}return new pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=Uy(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,c){let h,f;"number"==typeof c?h=c:null!=c&&(h=c.index,f=c.injector);const _=a.createEmbeddedView(l||{},f);return this.insert(_,h),_}createComponent(a,l,c,h,f){const _=a&&!function Bs(s){return"function"==typeof s}(a);let T;if(_)T=l;else{const U=l||{};T=U.index,c=U.injector,h=U.projectableNodes,f=U.environmentInjector||U.ngModuleRef}const b=_?a:new od(q(a)),E=c||this.parentInjector;if(!f&&null==b.ngModule){const Q=(_?E:this.parentInjector).get(Tl,null);Q&&(f=Q)}const N=b.create(E,h,void 0,f);return this.insert(N.hostView,T),N}insert(a,l){const c=a._lView,h=c[1];if(function jo(s){return Hr(s[3])}(c)){const N=this.indexOf(a);if(-1!==N)this.detach(N);else{const U=c[3],Q=new Py(U,U[6],U[3]);Q.detach(Q.indexOf(a))}}const f=this._adjustIndex(l),_=this._lContainer;!function ub(s,a,l,c){const h=10+c,f=l.length;c>0&&(l[h-1][4]=a),c<f-10?(a[4]=l[h],cl(l,10+c,a)):(l.push(a),a[4]=null),a[3]=l;const _=a[17];null!==_&&l!==_&&function lb(s,a){const l=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===l?s[9]=[a]:l.push(a)}(_,a);const T=a[19];null!==T&&T.insertView(s),a[2]|=64}(h,c,_,f);const T=Uf(f,_),b=c[11],E=Xc(b,_[7]);return null!==E&&function Su(s,a,l,c,h,f){c[0]=h,c[6]=a,kl(s,c,l,1,h,f)}(h,_[6],b,c,E,T),a.attachToViewContainerRef(),cl(op(_),f,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=Uy(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),c=s_(this._lContainer,l);c&&(ls(op(this._lContainer),l),N0(c[1],c))}detach(a){const l=this._adjustIndex(a,-1),c=s_(this._lContainer,l);return c&&null!=ls(op(this._lContainer),l)?new Yf(c):null}_adjustIndex(a,l=0){return null==a?this.length+l:a}};function Uy(s){return s[8]}function op(s){return s[8]||(s[8]=[])}function Oy(s,a){let l;const c=a[s.index];if(Hr(c))l=c;else{let h;if(8&s.type)h=Rn(c);else{const f=a[11];h=f.createComment("");const _=kn(s,a);Sl(f,Xc(f,_),h,function Ra(s,a){return s.nextSibling(a)}(f,_),!1)}a[s.index]=l=B_(c,a,h,s),Bh(a,l)}return new Py(l,s,a)}class ip{constructor(a){this.queryList=a,this.matches=null}clone(){return new ip(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sr{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const c=null!==a.contentQueries?a.contentQueries[0]:l.length,h=[];for(let f=0;f<c;f++){const _=l.getByIndex(f);h.push(this.queries[_.indexInDeclarationView].clone())}return new Sr(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==qy(a,l).matches&&this.queries[l].setDirty()}}class Xr{constructor(a,l,c=null){this.predicate=a,this.flags=l,this.read=c}}class Td{constructor(a=[]){this.queries=a}elementStart(a,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let c=0;c<this.length;c++){const h=null!==l?l.length:0,f=this.getByIndex(c).embeddedTView(a,h);f&&(f.indexInDeclarationView=c,null!==l?l.push(f):l=[f])}return null!==l?new Td(l):null}template(a,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class sp{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new sp(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=a.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const f=c[h];this.matchTNodeWithReadOption(a,l,uE(l,f)),this.matchTNodeWithReadOption(a,l,Ri(l,a,f,!1,!1))}else c===Mu?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Ri(l,a,c,!1,!1))}matchTNodeWithReadOption(a,l,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Au||h===rp||h===Mu&&4&l.type)this.addMatch(l.index,-2);else{const f=Ri(l,a,h,!1,!1);null!==f&&this.addMatch(l.index,f)}else this.addMatch(l.index,c)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function uE(s,a){const l=s.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===a)return l[c+1];return null}function dT(s,a,l,c){return-1===l?function lE(s,a){return 11&s.type?Dr(s,a):4&s.type?Cd(s,a):null}(a,s):-2===l?function cE(s,a,l){return l===Au?Dr(a,s):l===Mu?Cd(a,s):l===rp?Oy(a,s):void 0}(s,a,c):wa(s,s[1],l,a)}function hT(s,a,l,c){const h=a[19].queries[c];if(null===h.matches){const f=s.data,_=l.matches,T=[];for(let b=0;b<_.length;b+=2){const E=_[b];T.push(E<0?null:dT(a,f[E],_[b+1],l.metadata.read))}h.matches=T}return h.matches}function ap(s,a,l,c){const h=s.queries.getByIndex(l),f=h.matches;if(null!==f){const _=hT(s,a,h,l);for(let T=0;T<f.length;T+=2){const b=f[T];if(b>0)c.push(_[T/2]);else{const E=f[T+1],N=a[-b];for(let U=10;U<N.length;U++){const Q=N[U];Q[17]===Q[3]&&ap(Q[1],Q,E,c)}if(null!==N[9]){const U=N[9];for(let Q=0;Q<U.length;Q++){const ee=U[Q];ap(ee[1],ee,E,c)}}}}}return c}function vg(s){const a=Se(),l=jt(),c=au();Pi(c+1);const h=qy(l,c);if(s.dirty&&ks(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const f=h.crossesNgTemplate?ap(l,a,c,[]):hT(l,a,h,c);s.reset(f,h0),s.notifyOnChanges()}return!0}return!1}function pT(s,a,l){const c=jt();c.firstCreatePass&&(Tg(c,new Xr(s,a,l),-1),2==(2&a)&&(c.staticViewQueries=!0)),up(c,Se(),a)}function Cg(s,a,l,c){const h=jt();if(h.firstCreatePass){const f=Ln();Tg(h,new Xr(a,l,c),f.index),function Fy(s,a){const l=s.contentQueries||(s.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,a)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}up(h,Se(),l)}function Ly(){return function dE(s,a){return s[19].queries[a].queryList}(Se(),au())}function up(s,a,l){const c=new vd(4==(4&l));p1(s,a,c,c.destroy),null===a[19]&&(a[19]=new Sr),a[19].queries.push(new ip(c))}function Tg(s,a,l){null===s.queries&&(s.queries=new Td),s.queries.track(new sp(a,l))}function qy(s,a){return s.queries.getByIndex(a)}function zl(s){const a=q(s)||V(s)||ye(s);return null!==a&&a.standalone}function Sg(...s){}const Ad=new un("Application Initializer");let kg=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Sg,this.reject=Sg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const f=this.appInits[h]();if(ey(f))l.push(f);else if(F1(f)){const _=new Promise((T,b)=>{f.subscribe({complete:T,error:b})});l.push(_)}}Promise.all(l).then(()=>{c()}).catch(h=>{this.reject(h)}),0===l.length&&c(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(dn(Ad,8))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Xy=new un("AppId",{providedIn:"root",factory:function bT(){return`${ev()}${ev()}${ev()}`}});function ev(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const AT=new un("Platform Initializer"),yp=new un("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qa=new un("appBootstrapListener");let IT=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Zg=new un("LocaleId",{providedIn:"root",factory:()=>ka(Zg,st.Optional|st.SkipSelf)||function Id(){return"undefined"!=typeof $localize&&$localize.locale||pd}()}),TE=new un("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ET{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let tv=(()=>{class s{compileModuleSync(l){return new wy(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const c=this.compileModuleSync(l),f=Po(qe(l).declarations).reduce((_,T)=>{const b=q(T);return b&&_.push(new od(b)),_},[]);return new ET(c,f)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Mg=(()=>Promise.resolve(0))();function Xl(s){"undefined"==typeof Zone?Mg.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ro{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oa(!1),this.onMicrotaskEmpty=new oa(!1),this.onStable=new oa(!1),this.onError=new oa(!1),"undefined"==typeof Zone)throw new we(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const f=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new f("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&l,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Pg(){let s=We.requestAnimationFrame,a=We.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&a){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function IE(s){const a=()=>{!function vp(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(We,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,cr(s),s.isCheckStableRunning=!0,ec(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),cr(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,h,f,_,T)=>{try{return rv(s),l.invokeTask(h,f,_,T)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&a(),kT(s)}},onInvoke:(l,c,h,f,_,T,b)=>{try{return rv(s),l.invoke(h,f,_,T,b)}finally{s.shouldCoalesceRunChangeDetection&&a(),kT(s)}},onHasTask:(l,c,h,f)=>{l.hasTask(h,f),c===h&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,cr(s),ec(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(l,c,h,f)=>(l.handleError(h,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ro.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(Ro.isInAngularZone())throw new we(909,!1)}run(a,l,c){return this._inner.run(a,l,c)}runTask(a,l,c,h){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+h,a,xT,Sg,Sg);try{return f.runTask(_,l,c)}finally{f.cancelTask(_)}}runGuarded(a,l,c){return this._inner.runGuarded(a,l,c)}runOutsideAngular(a){return this._outer.run(a)}}const xT={};function ec(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function cr(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function rv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function kT(s){s._nesting--,ec(s)}class EE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oa,this.onMicrotaskEmpty=new oa,this.onStable=new oa,this.onError=new oa}run(a,l,c){return a.apply(l,c)}runGuarded(a,l,c){return a.apply(l,c)}runOutsideAngular(a){return a()}runTask(a,l,c,h){return a.apply(l,c)}}const ZT=new un(""),NT=new un("");let Lu,MT=(()=>{class s{constructor(l,c,h){this._ngZone=l,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Lu||(function PT(s){Lu=s}(h),h.addToWindow(c)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ro.assertNotInAngularZone(),Xl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xl(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,h){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:f,updateCb:h})}whenStable(l,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,c,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(dn(Ro),dn(ov),dn(NT))},s.\u0275prov=tn({token:s,factory:s.\u0275fac}),s})(),ov=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){var h;return null!==(h=null==Lu?void 0:Lu.findTestabilityInTree(this,l,c))&&void 0!==h?h:null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),bs=null;const ia=new un("AllowMultipleToken"),Ug=new un("PlatformDestroyListeners");class sv{constructor(a,l){this.name=a,this.token=l}}function RT(s,a,l=[]){const c=`Platform: ${a}`,h=new un(c);return(f=[])=>{let _=Fg();if(!_||_.injector.get(ia,!1)){const T=[...l,...f,{provide:h,useValue:!0}];s?s(T):function Rg(s){if(bs&&!bs.get(ia,!1))throw new we(400,!1);bs=s;const a=s.get(qg);(function Lg(s){const a=s.get(AT,null);a&&a.forEach(l=>l())})(s)}(function Ed(s=[],a){return Zl.create({name:a,providers:[{provide:ji,useValue:"platform"},{provide:Ug,useValue:new Set([()=>bs=null])},...s]})}(T,c))}return function LT(s){const a=Fg();if(!a)throw new we(401,!1);return a}()}}function Fg(){var s;return null!==(s=null==bs?void 0:bs.get(qg))&&void 0!==s?s:null}let qg=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const h=function FT(s,a){let l;return l="noop"===s?new EE:("zone.js"===s?void 0:s)||new Ro(a),l}(null==c?void 0:c.ngZone,function Vg(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),f=[{provide:Ro,useValue:h}];return h.run(()=>{const _=Zl.create({providers:f,parent:this.injector,name:l.moduleType.name}),T=l.create(_),b=T.injector.get(Jc,null);if(!b)throw new we(402,!1);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:N=>{b.handleError(N)}});T.onDestroy(()=>{sa(this._modules,T),E.unsubscribe()})}),function Cp(s,a,l){try{const c=l();return ey(c)?c.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw a.runOutsideAngular(()=>s.handleError(c)),c}}(b,h,()=>{const E=T.injector.get(kg);return E.runInitializers(),E.donePromise.then(()=>(function DC(s){Bt(s,"Expected localeId to be defined"),"string"==typeof s&&(EC=s.toLowerCase().replace(/_/g,"-"))}(T.injector.get(Zg,pd)||pd),this._moduleDoBootstrap(T),T))})})}bootstrapModule(l,c=[]){const h=uv({},c);return function iv(s,a,l){const c=new wy(l);return Promise.resolve(c)}(0,0,l).then(f=>this.bootstrapModuleFactory(f,h))}_moduleDoBootstrap(l){const c=l.injector.get(Tp);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new we(403,!1);l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const l=this._injector.get(Ug,null);l&&(l.forEach(c=>c()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(dn(Zl))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function uv(s,a){return Array.isArray(a)?a.reduce(uv,s):Object.assign(Object.assign({},s),a)}let Tp=(()=>{class s{constructor(l,c,h){this._zone=l,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new M.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),_=new M.y(T=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{Ro.assertNotInAngularZone(),Xl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const E=this._zone.onUnstable.subscribe(()=>{Ro.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{b.unsubscribe(),E.unsubscribe()}});this.isStable=(0,re.T)(f,_.pipe((0,ue.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,c){const h=l instanceof _o;if(!this._injector.get(kg).done)throw!h&&zl(l),new we(405,false);let _;_=h?l:this._injector.get(bu).resolveComponentFactory(l),this.componentTypes.push(_.componentType);const T=function UT(s){return s.isBoundToModule}(_)?void 0:this._injector.get(Nu),E=_.create(Zl.NULL,[],c||_.selector,T),N=E.location.nativeElement,U=E.injector.get(ZT,null);return null==U||U.registerApplication(N),E.onDestroy(()=>{this.detachView(E.hostView),sa(this.components,E),null==U||U.unregisterApplication(N)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;sa(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Qa,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>sa(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new we(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(dn(Ro),dn(Tl),dn(Jc))},s.\u0275prov=tn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function sa(s,a){const l=s.indexOf(a);l>-1&&s.splice(l,1)}let cv=!0,dv=!1;function Bg(){return dv=!0,cv}function Ti(){if(dv)throw new Error("Cannot enable prod mode after platform setup.");cv=!1}let kE=(()=>{class s{}return s.__NG_ELEMENT_ID__=ZE,s})();function ZE(s){return function hv(s,a,l){if(Es(s)&&!l){const c=Zr(s.index,a);return new Yf(c,c)}return 47&s.type?new Yf(a[16],a):null}(Ln(),Se(),16==(16&s))}class Lr{constructor(){}supports(a){return Co(a)}create(a){return new PE(a)}}const BT=(s,a)=>a;class PE{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||BT}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,c=this._removalsHead,h=0,f=null;for(;l||c;){const _=!c||l&&l.currentIndex<$T(c,h,f)?l:c,T=$T(_,h,f),b=_.currentIndex;if(_===c)h--,c=c._nextRemoved;else if(l=l._next,null==_.previousIndex)h++;else{f||(f=[]);const E=T-h,N=b-h;if(E!=N){for(let Q=0;Q<E;Q++){const ee=Q<f.length?f[Q]:f[Q]=0,be=ee+Q;N<=be&&be<E&&(f[Q]=ee+1)}f[_.previousIndex]=N-E}}T!==b&&a(_,T,b)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!Co(a))throw new we(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,f,_,l=this._itHead,c=!1;if(Array.isArray(a)){this.length=a.length;for(let T=0;T<this.length;T++)f=a[T],_=this._trackByFn(T,f),null!==l&&Object.is(l.trackById,_)?(c&&(l=this._verifyReinsertion(l,f,_,T)),Object.is(l.item,f)||this._addIdentityChange(l,f)):(l=this._mismatch(l,f,_,T),c=!0),l=l._next}else h=0,function fA(s,a){if(Array.isArray(s))for(let l=0;l<s.length;l++)a(s[l]);else{const l=s[Rl()]();let c;for(;!(c=l.next()).done;)a(c.value)}}(a,T=>{_=this._trackByFn(h,T),null!==l&&Object.is(l.trackById,_)?(c&&(l=this._verifyReinsertion(l,T,_,h)),Object.is(l.item,T)||this._addIdentityChange(l,T)):(l=this._mismatch(l,T,_,h),c=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,c,h){let f;return null===a?f=this._itTail:(f=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,f,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,f,h)):a=this._addAfter(new UE(l,c),f,h),a}_verifyReinsertion(a,l,c,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?a=this._reinsertAfter(f,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,f=a._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(a,l,c),this._addToMoves(a,c),a}_moveAfter(a,l,c){return this._unlink(a),this._insertAfter(a,l,c),this._addToMoves(a,c),a}_addAfter(a,l,c){return this._insertAfter(a,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,c){const h=null===l?this._itHead:l._next;return a._next=h,a._prev=l,null===h?this._itTail=a:h._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new jT),this._linkedRecords.put(a),a.currentIndex=c,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,c=a._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jT),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class UE{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class OE{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,a))return c;return null}remove(a){const l=a._prevDup,c=a._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class jT{constructor(){this.map=new Map}put(a){const l=a.trackById;let c=this.map.get(l);c||(c=new OE,this.map.set(l,c)),c.add(a)}get(a,l){const h=this.map.get(a);return h?h.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $T(s,a,l){const c=s.previousIndex;if(null===c)return c;let h=0;return l&&c<l.length&&(h=l[c]),c+a+h}class fv{constructor(){}supports(a){return a instanceof Map||Q_(a)}create(){return new RE}}class RE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||Q_(a)))throw new we(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(c,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const f=this._getOrCreateRecordForKey(h,c);l=this._insertBeforeOrAppend(l,f)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const c=a._prev;return l._next=a,l._prev=c,a._prev=l,c&&(c._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,l);const f=h._prev,_=h._next;return f&&(f._next=_),_&&(_._prev=f),h._next=null,h._prev=null,h}const c=new ox(a);return this._records.set(a,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(c=>l(a[c],c))}}class ox{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function HT(){return new jg([new Lr])}let jg=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(null!=c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||HT()),deps:[[s,new ut,new xe]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(null!=c)return c;throw new we(901,!1)}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:HT}),s})();function nc(){return new $g([new fv])}let $g=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||nc()),deps:[[s,new ut,new xe]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(c)return c;throw new we(901,!1)}}return s.\u0275prov=tn({token:s,providedIn:"root",factory:nc}),s})();const LE=RT(null,"core",[]);let _r=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(dn(Tp))},s.\u0275mod=yt({type:s}),s.\u0275inj=qr({}),s})();function et(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(rt,Te,P)=>{P.d(Te,{Z:()=>we});var e=P(2090),L=P(4859),M=P(9681),re=P(1877);class ue{constructor(ve,ge){this._delegate=ve,this.firebase=ge,(0,M._addComponent)(ve,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,M.deleteApp)(this._delegate)))}_getService(ve,ge=M._DEFAULT_ENTRY_NAME){var ot;this._delegate.checkDestroyed();const dt=this._delegate.container.getProvider(ve);return!dt.isInitialized()&&"EXPLICIT"===(null===(ot=dt.getComponent())||void 0===ot?void 0:ot.instantiationMode)&&dt.initialize(),dt.getImmediate({identifier:ge})}_removeServiceInstance(ve,ge=M._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(ge)}_addComponent(ve){(0,M._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,M._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new e.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function _e(){const it=function ce(it){const ve={},ge={__esModule:!0,initializeApp:function Be(He,Ce={}){const De=M.initializeApp(He,Ce);if((0,e.r3)(ve,De.name))return ve[De.name];const Y=new it(De,ge);return ve[De.name]=Y,Y},app:dt,registerVersion:M.registerVersion,setLogLevel:M.setLogLevel,onLog:M.onLog,apps:null,SDK_VERSION:M.SDK_VERSION,INTERNAL:{registerComponent:function Ee(He){const Ce=He.name,De=Ce.replace("-compat","");if(M._registerComponent(He)&&"PUBLIC"===He.type){const Y=(ie=dt())=>{if("function"!=typeof ie[De])throw de.create("invalid-app-argument",{appName:Ce});return ie[De]()};void 0!==He.serviceProps&&(0,e.ZB)(Y,He.serviceProps),ge[De]=Y,it.prototype[De]=function(...ie){return this._getService.bind(this,Ce).apply(this,He.multipleInstances?ie:[])}}return"PUBLIC"===He.type?ge[De]:null},removeApp:function ot(He){delete ve[He]},useAsService:function Qe(He,Ce){return"serverAuth"===Ce?null:Ce},modularAPIs:M}};function dt(He){if(!(0,e.r3)(ve,He=He||M._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:He});return ve[He]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function ke(){return Object.keys(ve).map(He=>ve[He])}}),dt.App=it,ge}(ue);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function ve(ge){(0,e.ZB)(it,ge)},createSubscribe:e.ne,ErrorFactory:e.LL,deepExtend:e.ZB}),it}(),H=new re.Yd("@firebase/app-compat");if((0,e.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const we=G;!function Ne(it){(0,M.registerVersion)("@firebase/app-compat","0.1.30",it)}()},9681:(rt,Te,P)=>{P.r(Te),P.d(Te,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Cr,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>yn,_addOrOverwriteComponent:()=>tn,_apps:()=>Tn,_clearComponents:()=>ho,_components:()=>Vn,_getProvider:()=>qr,_registerComponent:()=>Bn,_removeServiceInstance:()=>Pn,deleteApp:()=>st,getApp:()=>Ue,getApps:()=>or,initializeApp:()=>ro,onLog:()=>Jt,registerVersion:()=>nn,setLogLevel:()=>wr});var e=P(5861),L=P(4859),M=P(1877),re=P(2090),ue=P(8766);class he{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(z=>{if(function de(F){const J=F.getComponent();return"VERSION"===(null==J?void 0:J.type)}(z)){const Ze=z.getImmediate();return`${Ze.library}/${Ze.version}`}return null}).filter(z=>z).join(" ")}}const ce="@firebase/app",G=new M.Yd("@firebase/app"),Bt="[DEFAULT]",Ke={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Tn=new Map,Vn=new Map;function yn(F,J){try{F.container.addComponent(J)}catch(z){G.debug(`Component ${J.name} failed to register with FirebaseApp ${F.name}`,z)}}function tn(F,J){F.container.addOrOverwriteComponent(J)}function Bn(F){const J=F.name;if(Vn.has(J))return G.debug(`There were multiple attempts to register component ${J}.`),!1;Vn.set(J,F);for(const z of Tn.values())yn(z,F);return!0}function qr(F,J){const z=F.container.getProvider("heartbeat").getImmediate({optional:!0});return z&&z.triggerHeartbeat(),F.container.getProvider(J)}function Pn(F,J,z=Bt){qr(F,J).clearInstance(z)}function ho(){Vn.clear()}const gn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ei{constructor(J,z,Ze){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},z),this._name=z.name,this._automaticDataCollectionEnabled=z.automaticDataCollectionEnabled,this._container=Ze,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw gn.create("app-deleted",{appName:this._name})}}const Cr="9.9.1";function ro(F,J={}){"object"!=typeof J&&(J={name:J});const z=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},J),Ze=z.name;if("string"!=typeof Ze||!Ze)throw gn.create("bad-app-name",{appName:String(Ze)});const Ye=Tn.get(Ze);if(Ye){if((0,re.vZ)(F,Ye.options)&&(0,re.vZ)(z,Ye.config))return Ye;throw gn.create("duplicate-app",{appName:Ze})}const yt=new L.H0(Ze);for(const on of Vn.values())yt.addComponent(on);const ln=new Ei(F,z,yt);return Tn.set(Ze,ln),ln}function Ue(F=Bt){const J=Tn.get(F);if(!J)throw gn.create("no-app",{appName:F});return J}function or(){return Array.from(Tn.values())}function st(F){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,e.Z)(function*(F){const J=F.name;Tn.has(J)&&(Tn.delete(J),yield Promise.all(F.container.getProviders().map(z=>z.delete())),F.isDeleted=!0)})).apply(this,arguments)}function nn(F,J,z){var Ze;let Ye=null!==(Ze=Ke[F])&&void 0!==Ze?Ze:F;z&&(Ye+=`-${z}`);const yt=Ye.match(/\s|\//),ln=J.match(/\s|\//);if(yt||ln){const on=[`Unable to register library "${Ye}" with version "${J}":`];return yt&&on.push(`library name "${Ye}" contains illegal characters (whitespace or "/")`),yt&&ln&&on.push("and"),ln&&on.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void G.warn(on.join(" "))}Bn(new L.wA(`${Ye}-version`,()=>({library:Ye,version:J}),"VERSION"))}function Jt(F,J){if(null!==F&&"function"!=typeof F)throw gn.create("invalid-log-argument");(0,M.Am)(F,J)}function wr(F){(0,M.Ub)(F)}const In="firebase-heartbeat-store";let xr=null;function As(){return xr||(xr=(0,ue.X3)("firebase-heartbeat-database",1,{upgrade:(F,J)=>{0===J&&F.createObjectStore(In)}}).catch(F=>{throw gn.create("storage-open",{originalErrorMessage:F.message})})),xr}function We(){return(We=(0,e.Z)(function*(F){var J;try{return(yield As()).transaction(In).objectStore(In).get(ir(F))}catch(z){throw gn.create("storage-get",{originalErrorMessage:null===(J=z)||void 0===J?void 0:J.message})}})).apply(this,arguments)}function _t(F,J){return ai.apply(this,arguments)}function ai(){return(ai=(0,e.Z)(function*(F,J){var z;try{const Ye=(yield As()).transaction(In,"readwrite");return yield Ye.objectStore(In).put(J,ir(F)),Ye.done}catch(Ze){throw gn.create("storage-set",{originalErrorMessage:null===(z=Ze)||void 0===z?void 0:z.message})}})).apply(this,arguments)}function ir(F){return`${F.name}!${F.options.appId}`}class Fn{constructor(J){this.container=J,this._heartbeatsCache=null;const z=this.container.getProvider("app").getImmediate();this._storage=new En(z),this._heartbeatsCachePromise=this._storage.read().then(Ze=>(this._heartbeatsCache=Ze,Ze))}triggerHeartbeat(){var J=this;return(0,e.Z)(function*(){const Ze=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ye=Un();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==Ye&&!J._heartbeatsCache.heartbeats.some(yt=>yt.date===Ye))return J._heartbeatsCache.heartbeats.push({date:Ye,agent:Ze}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(yt=>{const ln=new Date(yt.date).valueOf();return Date.now()-ln<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,e.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const z=Un(),{heartbeatsToSend:Ze,unsentEntries:Ye}=function Xt(F,J=1024){const z=[];let Ze=F.slice();for(const Ye of F){const yt=z.find(ln=>ln.agent===Ye.agent);if(yt){if(yt.dates.push(Ye.date),B(z)>J){yt.dates.pop();break}}else if(z.push({agent:Ye.agent,dates:[Ye.date]}),B(z)>J){z.pop();break}Ze=Ze.slice(1)}return{heartbeatsToSend:z,unsentEntries:Ze}}(J._heartbeatsCache.heartbeats),yt=(0,re.L)(JSON.stringify({version:2,heartbeats:Ze}));return J._heartbeatsCache.lastSentHeartbeatDate=z,Ye.length>0?(J._heartbeatsCache.heartbeats=Ye,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),yt})()}}function Un(){return(new Date).toISOString().substring(0,10)}class En{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,e.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,e.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function qt(F){return We.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var z=this;return(0,e.Z)(function*(){var Ze;if(yield z._canUseIndexedDBPromise){const yt=yield z.read();return _t(z.app,{lastSentHeartbeatDate:null!==(Ze=J.lastSentHeartbeatDate)&&void 0!==Ze?Ze:yt.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var z=this;return(0,e.Z)(function*(){var Ze;if(yield z._canUseIndexedDBPromise){const yt=yield z.read();return _t(z.app,{lastSentHeartbeatDate:null!==(Ze=J.lastSentHeartbeatDate)&&void 0!==Ze?Ze:yt.lastSentHeartbeatDate,heartbeats:[...yt.heartbeats,...J.heartbeats]})}})()}}function B(F){return(0,re.L)(JSON.stringify({version:2,heartbeats:F})).length}!function j(F){Bn(new L.wA("platform-logger",J=>new he(J),"PRIVATE")),Bn(new L.wA("heartbeat",J=>new Fn(J),"PRIVATE")),nn(ce,"0.7.29",F),nn(ce,"0.7.29","esm2017"),nn("fire-js","")}("")},4859:(rt,Te,P)=>{P.d(Te,{H0:()=>ce,wA:()=>M});var e=P(5861),L=P(2090);class M{constructor(G,H,X){this.name=G,this.instanceFactory=H,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const re="[DEFAULT]";class ue{constructor(G,H){this.name=G,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const H=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(H)){const X=new L.BH;if(this.instancesDeferred.set(H,X),this.isInitialized(H)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:H});Ve&&X.resolve(Ve)}catch(Ve){}}return this.instancesDeferred.get(H).promise}getImmediate(G){var H;const X=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),Ve=null!==(H=null==G?void 0:G.optional)&&void 0!==H&&H;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Ne){if(Ve)return null;throw Ne}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function de(_e){return"EAGER"===_e.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:re})}catch(H){}for(const[H,X]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(H);try{const Ne=this.getOrInitializeService({instanceIdentifier:Ve});X.resolve(Ne)}catch(Ne){}}}}clearInstance(G=re){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,e.Z)(function*(){const H=Array.from(G.instances.values());yield Promise.all([...H.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...H.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=re){return this.instances.has(G)}getOptions(G=re){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:H={}}=G,X=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:X,options:H});for(const[Ne,we]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Ne)&&we.resolve(Ve);return Ve}onInit(G,H){var X;const Ve=this.normalizeInstanceIdentifier(H),Ne=null!==(X=this.onInitCallbacks.get(Ve))&&void 0!==X?X:new Set;Ne.add(G),this.onInitCallbacks.set(Ve,Ne);const we=this.instances.get(Ve);return we&&G(we,Ve),()=>{Ne.delete(G)}}invokeOnInitCallbacks(G,H){const X=this.onInitCallbacks.get(H);if(X)for(const Ve of X)try{Ve(G,H)}catch(Ne){}}getOrInitializeService({instanceIdentifier:G,options:H={}}){let X=this.instances.get(G);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=G,_e===re?void 0:_e),options:H}),this.instances.set(G,X),this.instancesOptions.set(G,H),this.invokeOnInitCallbacks(X,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,X)}catch(Ve){}var _e;return X||null}normalizeInstanceIdentifier(G=re){return this.component?this.component.multipleInstances?G:re:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const H=this.getProvider(G.name);if(H.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);H.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const H=new ue(G,this);return this.providers.set(G,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(rt,Te,P)=>{P.d(Te,{Am:()=>_e,Ub:()=>ce,Yd:()=>de,in:()=>L});const e=[];var L=(()=>{return(G=L||(L={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",L;var G})();const M={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},re=L.INFO,ue={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},he=(G,H,...X)=>{if(H<G.logLevel)return;const Ve=(new Date).toISOString(),Ne=ue[H];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Ne](`[${Ve}]  ${G.name}:`,...X)};class de{constructor(H){this.name=H,this._logLevel=re,this._logHandler=he,this._userLogHandler=null,e.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in L))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?M[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...H),this._logHandler(this,L.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...H),this._logHandler(this,L.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,L.INFO,...H),this._logHandler(this,L.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,L.WARN,...H),this._logHandler(this,L.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...H),this._logHandler(this,L.ERROR,...H)}}function ce(G){e.forEach(H=>{H.setLogLevel(G)})}function _e(G,H){for(const X of e){let Ve=null;H&&H.level&&(Ve=M[H.level]),X.userLogHandler=null===G?null:(Ne,we,...it)=>{const ve=it.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch(ot){return null}}).filter(ge=>ge).join(" ");we>=(null!=Ve?Ve:Ne.logLevel)&&G({level:L[we].toLowerCase(),message:ve,args:it,type:Ne.name})}}}},8766:(rt,Te,P)=>{P.d(Te,{Lj:()=>Be,X3:()=>dt});var e=P(5861);let M,re;const de=new WeakMap,ce=new WeakMap,_e=new WeakMap,G=new WeakMap,H=new WeakMap;let Ne={get(Ce,De,Y){if(Ce instanceof IDBTransaction){if("done"===De)return ce.get(Ce);if("objectStoreNames"===De)return Ce.objectStoreNames||_e.get(Ce);if("store"===De)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return ge(Ce[De])},set:(Ce,De,Y)=>(Ce[De]=Y,!0),has:(Ce,De)=>Ce instanceof IDBTransaction&&("done"===De||"store"===De)||De in Ce};function ve(Ce){return"function"==typeof Ce?function it(Ce){return Ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ce)?function(...De){return Ce.apply(ot(this),De),ge(de.get(this))}:function(...De){return ge(Ce.apply(ot(this),De))}:function(De,...Y){const ie=Ce.call(ot(this),De,...Y);return _e.set(ie,De.sort?De.sort():[De]),ge(ie)}}(Ce):(Ce instanceof IDBTransaction&&function Ve(Ce){if(ce.has(Ce))return;const De=new Promise((Y,ie)=>{const oe=()=>{Ce.removeEventListener("complete",me),Ce.removeEventListener("error",le),Ce.removeEventListener("abort",le)},me=()=>{Y(),oe()},le=()=>{ie(Ce.error||new DOMException("AbortError","AbortError")),oe()};Ce.addEventListener("complete",me),Ce.addEventListener("error",le),Ce.addEventListener("abort",le)});ce.set(Ce,De)}(Ce),((Ce,De)=>De.some(Y=>Ce instanceof Y))(Ce,function ue(){return M||(M=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ce,Ne):Ce)}function ge(Ce){if(Ce instanceof IDBRequest)return function X(Ce){const De=new Promise((Y,ie)=>{const oe=()=>{Ce.removeEventListener("success",me),Ce.removeEventListener("error",le)},me=()=>{Y(ge(Ce.result)),oe()},le=()=>{ie(Ce.error),oe()};Ce.addEventListener("success",me),Ce.addEventListener("error",le)});return De.then(Y=>{Y instanceof IDBCursor&&de.set(Y,Ce)}).catch(()=>{}),H.set(De,Ce),De}(Ce);if(G.has(Ce))return G.get(Ce);const De=ve(Ce);return De!==Ce&&(G.set(Ce,De),H.set(De,Ce)),De}const ot=Ce=>H.get(Ce);function dt(Ce,De,{blocked:Y,upgrade:ie,blocking:oe,terminated:me}={}){const le=indexedDB.open(Ce,De),Fe=ge(le);return ie&&le.addEventListener("upgradeneeded",vt=>{ie(ge(le.result),vt.oldVersion,vt.newVersion,ge(le.transaction))}),Y&&le.addEventListener("blocked",()=>Y()),Fe.then(vt=>{me&&vt.addEventListener("close",()=>me()),oe&&vt.addEventListener("versionchange",()=>oe())}).catch(()=>{}),Fe}function Be(Ce,{blocked:De}={}){const Y=indexedDB.deleteDatabase(Ce);return De&&Y.addEventListener("blocked",()=>De()),ge(Y).then(()=>{})}const ke=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],Qe=new Map;function He(Ce,De){if(!(Ce instanceof IDBDatabase)||De in Ce||"string"!=typeof De)return;if(Qe.get(De))return Qe.get(De);const Y=De.replace(/FromIndex$/,""),ie=De!==Y,oe=Ee.includes(Y);if(!(Y in(ie?IDBIndex:IDBObjectStore).prototype)||!oe&&!ke.includes(Y))return;const me=function(){var le=(0,e.Z)(function*(Fe,...vt){const en=this.transaction(Fe,oe?"readwrite":"readonly");let Bt=en.store;return ie&&(Bt=Bt.index(vt.shift())),(yield Promise.all([Bt[Y](...vt),oe&&en.done]))[0]});return function(vt){return le.apply(this,arguments)}}();return Qe.set(De,me),me}!function we(Ce){Ne=Ce(Ne)}(Ce=>tM(eM({},Ce),{get:(De,Y,ie)=>He(De,Y)||Ce.get(De,Y,ie),has:(De,Y)=>!!He(De,Y)||Ce.has(De,Y)}))},5861:(rt,Te,P)=>{function e(M,re,ue,he,de,ce,_e){try{var G=M[ce](_e),H=G.value}catch(X){return void ue(X)}G.done?re(H):Promise.resolve(H).then(he,de)}function L(M){return function(){var re=this,ue=arguments;return new Promise(function(he,de){var ce=M.apply(re,ue);function _e(H){e(ce,he,de,_e,G,"next",H)}function G(H){e(ce,he,de,_e,G,"throw",H)}_e(void 0)})}}P.d(Te,{Z:()=>L})}},rt=>{rt(rt.s=5647)}]);