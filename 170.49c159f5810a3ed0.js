"use strict";(self.webpackChunklanguage_parser_ui=self.webpackChunklanguage_parser_ui||[]).push([[170],{9594:(b,f,i)=>{i.d(f,{K:()=>e});var s=i(3953),u=i(6814);const _=["row"],F=["app-vertical-dash",""];let e=(()=>{class p{cdRef;router;row;brow="";symbol;deleted=!1;constructor(d,g){this.cdRef=d,this.router=g}ngAfterContentInit(){this.resizeDash()}ngAfterContentChecked(){}ngOnInit(){}onResize(){}resizeDash(){const d=Math.max(0,Math.floor(this.row?.nativeElement.parentNode.offsetHeight/16)),g=this.brow;this.brow=d?"|\n".repeat(d):"",g!==this.brow&&this.cdRef.detectChanges()}static \u0275fac=function(g){return new(g||p)(s.rXU(s.gRc),s.rXU(u.Ix))};static \u0275cmp=s.VBU({type:p,selectors:[["th","app-vertical-dash",""]],viewQuery:function(g,h){if(1&g&&s.GBs(_,5),2&g){let m;s.mGM(m=s.lsd())&&(h.row=m.first)}},hostBindings:function(g,h){1&g&&s.bIt("resize",function(v){return h.onResize(v)},!1,s.tSv)},inputs:{symbol:"symbol"},standalone:!0,features:[s.aNF],attrs:F,decls:3,vars:1,consts:[["row",""],[1,"border","td-span"]],template:function(g,h){1&g&&(s.j41(0,"div",1,0),s.EFF(2),s.k0s()),2&g&&(s.R7$(2),s.JRh(h.brow))},styles:[".td-span[_ngcontent-%COMP%]{width:100%;height:100%;min-height:10px}"]})}return p})()},2170:(b,f,i)=>{i.r(f),i.d(f,{TraceComponent:()=>X});var s=i(177),u=i(4341),_=i(9594),F=i(4378),e=i(3953),p=i(5680),E=i(974),d=i(5424),g=i(8368),h=i(6814);const m=["wordSelector"];function v(r,l){if(1&r&&(e.j41(0,"div"),e.EFF(1,'More info about word "'),e.j41(2,"span",15),e.EFF(3),e.k0s(),e.EFF(4),e.k0s()),2&r){const t=e.XpG();e.R7$(3),e.JRh(t.wordsTraced[t.wordSelected]),e.R7$(),e.SpI('" from ',t.fullRoute[t.wordSelected].displayName," language. ")}}function T(r,l){1&r&&(e.qex(0),e.nrm(1,"br"),e.EFF(2,"|"),e.nrm(3,"br"),e.EFF(4,"|"),e.bVm())}function w(r,l){1&r&&(e.j41(0,"span"),e.EFF(1,"|"),e.k0s())}function C(r,l){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"tr"),e.nrm(2,"th",3),e.j41(3,"th",3),e.EFF(4),e.k0s(),e.j41(5,"th",3),e.EFF(6),e.k0s(),e.j41(7,"th")(8,"a",16),e.bIt("click",function(){const o=e.eBV(t).index,a=e.XpG();return e.Njj(a.selectWord(o))}),e.EFF(9),e.k0s()(),e.j41(10,"th",3),e.DNE(11,w,2,0,"span",9),e.k0s()(),e.j41(12,"tr"),e.nrm(13,"th",3),e.j41(14,"th",3),e.EFF(15),e.k0s(),e.j41(16,"th",3),e.EFF(17),e.k0s(),e.nrm(18,"th",14),e.j41(19,"th",3),e.EFF(20),e.k0s()(),e.bVm()}if(2&r){const t=l.$implicit,n=l.index,o=e.XpG();e.R7$(4),e.JRh(n==o.wordSelected?"|":""),e.R7$(2),e.JRh(n==o.wordSelected?"":"|"),e.R7$(2),e.Y8G("ngClass",n==o.wordSelected?"text-main":"text-grey-dull"),e.R7$(),e.JRh(t),e.R7$(2),e.Y8G("ngIf",n!=o.wordSelected),e.R7$(4),e.JRh(n==o.wordSelected||n==o.wordSelected-1?"+":""),e.R7$(2),e.JRh(n==o.wordSelected||n==o.wordSelected-1?"-":""),e.R7$(3),e.JRh(n==o.wordSelected||n==o.wordSelected-1?"+":"|")}}let S=(()=>{class r{languagesEvolutionService;langService;errorService;keybind;router;wordSelector;fullRoute=[];word="";wordsTraced=[];wordSelected=0;constructor(t,n,o,a,c){this.languagesEvolutionService=t,this.langService=n,this.errorService=o,this.keybind=a,this.router=c,this.keybind.match(["T"],["altKey"]).subscribe(()=>{this.wordSelector?.nativeElement.focus()})}routeChanged(){this.changeWord(this.word)}ngOnChanges(t){t.fullRoute&&this.routeChanged()}changeWord(t){console.log("changeWord",t),this.word=t,this.word.trim().length&&!(this.fullRoute.length<2)&&this.languagesEvolutionService.trace({word:this.word.trim(),body:this.fullRoute}).subscribe(n=>{this.wordsTraced=[],n.forEach(o=>{this.wordsTraced.push(o?.word?o?.word:"")}),this.wordSelected=this.wordsTraced.length>0?this.wordsTraced.length-1:0})}selectWord(t){console.log("selectWord",t),this.wordSelected=t}ngOnInit(){}static \u0275fac=function(n){return new(n||r)(e.rXU(p.e),e.rXU(E.m),e.rXU(d.I),e.rXU(g.S),e.rXU(h.Ix))};static \u0275cmp=e.VBU({type:r,selectors:[["app-trace-result"]],viewQuery:function(n,o){if(1&n&&e.GBs(m,5),2&n){let a;e.mGM(a=e.lsd())&&(o.wordSelector=a.first)}},inputs:{fullRoute:"fullRoute"},standalone:!0,features:[e.OA$,e.aNF],decls:66,vars:6,consts:[["span","1",1,"border",2,"width","8px"],["span","1",2,"width","auto"],["span","1",2,"width","max-content"],[1,"border"],["colspan","3",2,"text-align","left"],[1,"selector"],["for","wordSelector",1,"wordSelectorLabel"],[1,"input-group"],["id","wordSelector","name","wordSelector","type","text",1,"wordSelector",3,"ngModelChange","ngModel"],[4,"ngIf"],["app-vertical-dash","",1,"border"],[4,"ngFor","ngForOf"],["app-horizontal-dash","","colspan","3",1,"border"],["colspan","4",1,"border"],["app-horizontal-dash","",1,"border"],[1,"text-white"],[1,"link-btn",3,"click","ngClass"]],template:function(n,o){1&n&&(e.j41(0,"table")(1,"colgroup"),e.nrm(2,"col",0)(3,"col",0)(4,"col",0)(5,"col",1)(6,"col",0)(7,"col",2)(8,"col",0),e.k0s(),e.j41(9,"tbody")(10,"tr")(11,"th",3),e.EFF(12,"|"),e.nrm(13,"br"),e.EFF(14,"|"),e.nrm(15,"br"),e.EFF(16,"|"),e.nrm(17,"br"),e.EFF(18,"|"),e.k0s(),e.j41(19,"th",4)(20,"div",5)(21,"label",6),e.EFF(22,"Select Word:"),e.k0s(),e.j41(23,"div",7)(24,"input",8),e.bIt("ngModelChange",function(c){return o.changeWord(c)}),e.mxI("ngModelChange",function(c){return e.DH7(o.word,c)||(o.word=c),c}),e.k0s()()()(),e.j41(25,"th",3),e.EFF(26,"|"),e.nrm(27,"br"),e.EFF(28,"|"),e.nrm(29,"br"),e.EFF(30,"|"),e.nrm(31,"br"),e.EFF(32,"|"),e.k0s(),e.j41(33,"th",3),e.DNE(34,v,5,2,"div",9),e.k0s(),e.j41(35,"th",10),e.EFF(36,"|"),e.nrm(37,"br"),e.EFF(38,"|"),e.nrm(39,"br"),e.EFF(40,"|"),e.nrm(41,"br"),e.EFF(42,"|"),e.nrm(43,"br"),e.EFF(44,"|"),e.nrm(45,"br"),e.EFF(46,"| "),e.DNE(47,T,5,0,"ng-container",11),e.k0s()(),e.j41(48,"tr")(49,"th",3),e.EFF(50,"+"),e.k0s(),e.nrm(51,"th",12),e.j41(52,"th",3),e.EFF(53,"+"),e.k0s()(),e.DNE(54,C,21,8,"ng-container",11),e.j41(55,"tr"),e.nrm(56,"th",13),e.j41(57,"th",3),e.EFF(58,"|"),e.k0s()(),e.j41(59,"tr"),e.nrm(60,"th",13),e.j41(61,"th",3),e.EFF(62,"+"),e.k0s(),e.nrm(63,"th",14),e.j41(64,"th",3),e.EFF(65,"+"),e.k0s()()()()),2&n&&(e.R7$(24),e.R50("ngModel",o.word),e.R7$(9),e.BMQ("rowspan",3+2*o.wordsTraced.length),e.R7$(),e.Y8G("ngIf",o.wordsTraced[o.wordSelected]),e.R7$(),e.BMQ("rowspan",3+2*o.wordsTraced.length),e.R7$(12),e.Y8G("ngForOf",o.wordsTraced),e.R7$(7),e.Y8G("ngForOf",o.wordsTraced))},dependencies:[s.MD,s.YU,s.Sq,s.bT,u.YN,u.me,u.BC,u.vS,_.K,F.g]})}return r})();var j=i(3050);function k(r,l){if(1&r&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&r){const t=e.XpG().$implicit;e.R7$(),e.SpI(" -> ",t.displayName,"")}}function y(r,l){if(1&r&&(e.j41(0,"span"),e.DNE(1,k,2,1,"span",3),e.k0s()),2&r){const t=l.index;e.R7$(),e.Y8G("ngIf",0!=t)}}function $(r,l){if(1&r&&(e.j41(0,"div"),e.DNE(1,y,2,1,"span",4),e.k0s()),2&r){const t=l.$implicit;e.R7$(),e.Y8G("ngForOf",t)}}function M(r,l){if(1&r&&(e.j41(0,"label",10),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).index,n=e.XpG();e.R7$(),e.JRh(0==t?n.languages[0]?n.languages[0].displayName:"Language from:":"Language:")}}function G(r,l){if(1&r&&(e.j41(0,"option",11),e.EFF(1),e.k0s()),2&r){const t=l.$implicit;e.Y8G("ngValue",t),e.R7$(),e.JRh(t.displayName)}}function x(r,l){if(1&r){const t=e.RV6();e.j41(0,"div"),e.DNE(1,$,2,1,"div",4),e.j41(2,"span"),e.DNE(3,M,2,1,"label",5),e.j41(4,"div",6)(5,"select",7),e.bIt("ngModelChange",function(o){e.eBV(t);const a=e.XpG().index,c=e.XpG();return e.Njj(c.changeLanguage(a,o))}),e.mxI("ngModelChange",function(o){e.eBV(t);const a=e.XpG().index,c=e.XpG();return e.DH7(c.languages[a],o)||(c.languages[a]=o),e.Njj(o)}),e.j41(6,"option",8),e.EFF(7,"-Select Language-"),e.k0s(),e.DNE(8,G,2,2,"option",9),e.k0s()()()()}if(2&r){const t=e.XpG(),n=t.$implicit,o=t.index,a=e.XpG();e.R7$(),e.Y8G("ngForOf",a.languagesRoutes[o]),e.R7$(2),e.Y8G("ngIf",!a.languages[o]||0==o),e.R7$(2),e.R50("ngModel",a.languages[o]),e.R7$(),e.Y8G("ngValue",void 0),e.R7$(2),e.Y8G("ngForOf",n)}}function L(r,l){if(1&r&&(e.j41(0,"div",2),e.DNE(1,x,9,5,"div",3),e.k0s()),2&r){const t=l.$implicit;e.R7$(),e.Y8G("ngIf",t.length)}}let N=(()=>{class r{languagesService;languagesEvolutionService;languages=[];languagesRoutes=[];availableLanguagesTo=[];routeChanged=new e.bkB;constructor(t,n){this.languagesService=t,this.languagesEvolutionService=n}ngOnInit(){this.availableLanguagesTo=[],this.languagesService.getAllLanguages().subscribe(t=>{this.availableLanguagesTo.push(t.sort((n,o)=>n.displayName.localeCompare(o.displayName)))})}changeLanguage(t,n){console.log("changeLanguage",t,n,this.availableLanguagesTo),this.availableLanguagesTo.splice(t+1,this.availableLanguagesTo.length-t-1),this.languages.splice(t+1,this.availableLanguagesTo.length-t-1),this.languagesRoutes.splice(t+1,this.availableLanguagesTo.length-t-1),console.log("changeLanguage",t,n,this.availableLanguagesTo),n.id&&this.languagesEvolutionService.getAllLanguagesFrom({fromId:n.id}).subscribe(a=>{this.availableLanguagesTo[t+1]=a});const o=this.languages[t-1].id;t>0&&n.id&&o&&this.languagesEvolutionService.getAllRoutes({fromId:o,toId:n.id}).subscribe(a=>{console.log("changeLanguage",a),this.languagesRoutes[t]=a;const c=this.languagesRoutes.reduce((R,Y,B)=>B>t?R:R.concat(Y[0].slice(1)),[this.languages[0]]);this.routeChanged.emit(c)})}static \u0275fac=function(n){return new(n||r)(e.rXU(j.D),e.rXU(p.e))};static \u0275cmp=e.VBU({type:r,selectors:[["app-trace-language-recursive"]],outputs:{routeChanged:"routeChanged"},standalone:!0,features:[e.aNF],decls:2,vars:1,consts:[[1,"row"],["class","selector",4,"ngFor","ngForOf"],[1,"selector"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","languageSelectorLabel","for","languageSelector",4,"ngIf"],[1,"input-group"],["id","languageSelector","name","languageSelector",1,"languageSelector",3,"ngModelChange","ngModel"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","languageSelector",1,"languageSelectorLabel"],[3,"ngValue"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.DNE(1,L,2,1,"div",1),e.k0s()),2&n&&(e.R7$(),e.Y8G("ngForOf",o.availableLanguagesTo))},dependencies:[u.YN,u.xH,u.y7,u.wz,u.BC,u.vS,s.pM,s.bT],styles:[".row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.languageSelector[_ngcontent-%COMP%]{margin-top:4px}.languageSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]})}return r})();const O=["wordInput"];function D(r,l){1&r&&(e.j41(0,"span"),e.EFF(1," -> "),e.k0s())}function I(r,l){if(1&r&&(e.j41(0,"span",10),e.DNE(1,D,2,0,"span",8),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&r){const t=l.$implicit,n=l.index;e.R7$(),e.Y8G("ngIf",n>0),e.R7$(2),e.JRh(t.displayName)}}function V(r,l){1&r&&(e.j41(0,"span"),e.EFF(1," No Route "),e.k0s())}let X=(()=>{class r{wordInput;fullRoute=[];wordText="";word="";wordsTraced=[];constructor(){}routeChanged(t){this.fullRoute=t}ngOnInit(){}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=e.VBU({type:r,selectors:[["app-trace"]],viewQuery:function(n,o){if(1&n&&e.GBs(O,5),2&n){let a;e.mGM(a=e.lsd())&&(o.wordInput=a.first)}},standalone:!0,features:[e.aNF],decls:51,vars:3,consts:[[1,"table-container"],["span","1",1,"border"],["span","1",2,"width","auto"],[1,"border"],["app-horizontal-dash","",1,"border"],[3,"routeChanged"],[1,"full-route"],["class","text-yellow-dull",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"fullRoute"],[1,"text-yellow-dull"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"table")(2,"colgroup"),e.nrm(3,"col",1)(4,"col",2)(5,"col",1),e.k0s(),e.j41(6,"tbody")(7,"tr")(8,"th",3),e.EFF(9,"+"),e.k0s(),e.nrm(10,"th",4),e.j41(11,"th",3),e.EFF(12,"+"),e.k0s()(),e.j41(13,"tr")(14,"th",3),e.EFF(15,"|"),e.nrm(16,"br"),e.EFF(17,"|"),e.nrm(18,"br"),e.EFF(19,"|"),e.nrm(20,"br"),e.EFF(21,"|"),e.nrm(22,"br"),e.EFF(23,"|"),e.nrm(24,"br"),e.EFF(25,"|"),e.k0s(),e.j41(26,"th",3)(27,"div")(28,"app-trace-language-recursive",5),e.bIt("routeChanged",function(c){return o.routeChanged(c)}),e.k0s(),e.j41(29,"div",6),e.DNE(30,I,4,2,"span",7)(31,V,2,0,"span",8),e.k0s()()(),e.j41(32,"th",3),e.EFF(33,"|"),e.nrm(34,"br"),e.EFF(35,"|"),e.nrm(36,"br"),e.EFF(37,"|"),e.nrm(38,"br"),e.EFF(39,"|"),e.nrm(40,"br"),e.EFF(41,"|"),e.nrm(42,"br"),e.EFF(43,"|"),e.k0s()(),e.j41(44,"tr")(45,"th",3),e.EFF(46,"+"),e.k0s(),e.nrm(47,"th",4),e.j41(48,"th",3),e.EFF(49,"+"),e.k0s()()()(),e.nrm(50,"app-trace-result",9),e.k0s()),2&n&&(e.R7$(30),e.Y8G("ngForOf",o.fullRoute),e.R7$(),e.Y8G("ngIf",!o.fullRoute.length),e.R7$(19),e.Y8G("fullRoute",o.fullRoute))},dependencies:[S,N,s.pM,s.bT,F.g],styles:[".full-route[_ngcontent-%COMP%]{margin:8px}.half-width[_ngcontent-%COMP%]{width:50%}.wordSelector[_ngcontent-%COMP%]{margin-top:4px}.wordSelectorLabel[_ngcontent-%COMP%]{margin-left:4px}"]})}return r})()}}]);